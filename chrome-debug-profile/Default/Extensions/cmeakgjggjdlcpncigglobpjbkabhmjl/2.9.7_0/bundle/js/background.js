try{let t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},e=(new t.Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="51134527-c0db-4dff-8b1d-0ab440b77244",t._sentryDebugIdIdentifier="sentry-dbid-51134527-c0db-4dff-8b1d-0ab440b77244")}catch(t){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"2.9.7"};(()=>{var t,e={8532:(t,e,r)=>{"use strict";var n={};r.r(n),r.d(n,{DocumentPosition:()=>me,append:()=>Qt,appendChild:()=>Jt,compareDocumentPosition:()=>ge,existsOne:()=>ie,filter:()=>ee,find:()=>re,findAll:()=>ae,findOne:()=>oe,findOneChild:()=>ne,getAttributeValue:()=>Vt,getChildren:()=>Ut,getElementById:()=>pe,getElements:()=>he,getElementsByTagName:()=>de,getElementsByTagType:()=>ye,getFeed:()=>we,getInnerHTML:()=>Ft,getName:()=>Yt,getOuterHTML:()=>jt,getParent:()=>Ht,getSiblings:()=>qt,getText:()=>Bt,hasAttrib:()=>Kt,hasChildren:()=>X,innerText:()=>Mt,isCDATA:()=>K,isComment:()=>W,isDocument:()=>$,isTag:()=>V,isText:()=>Y,nextElementSibling:()=>Wt,prepend:()=>te,prependChild:()=>Zt,prevElementSibling:()=>zt,removeElement:()=>$t,removeSubsets:()=>ve,replaceElement:()=>Xt,testElement:()=>fe,textContent:()=>Gt,uniqueSort:()=>be});var o={};r.r(o),r.d(o,{contains:()=>je,extract:()=>Fe,html:()=>Ne,merge:()=>Be,parseHTML:()=>De,root:()=>Re,text:()=>Ce,xml:()=>Pe});var i={};r.r(i),r.d(i,{addClass:()=>ur,attr:()=>Je,data:()=>nr,hasClass:()=>cr,prop:()=>tr,removeAttr:()=>sr,removeClass:()=>lr,toggleClass:()=>fr,val:()=>or});var a={};r.r(a),r.d(a,{_findBySelector:()=>gn,add:()=>Zn,addBack:()=>to,children:()=>Rn,closest:()=>Ln,contents:()=>jn,each:()=>Fn,end:()=>Qn,eq:()=>Wn,filter:()=>Mn,filterArray:()=>Un,find:()=>mn,first:()=>Kn,get:()=>zn,has:()=>Vn,index:()=>Xn,is:()=>Hn,last:()=>Yn,map:()=>Bn,next:()=>kn,nextAll:()=>On,nextUntil:()=>In,not:()=>qn,parent:()=>_n,parents:()=>An,parentsUntil:()=>Tn,prev:()=>Nn,prevAll:()=>Pn,prevUntil:()=>Cn,siblings:()=>Dn,slice:()=>Jn,toArray:()=>$n});var s={};r.r(s),r.d(s,{_makeDomArray:()=>ro,after:()=>yo,append:()=>so,appendTo:()=>io,before:()=>mo,clone:()=>Ao,empty:()=>Eo,html:()=>xo,insertAfter:()=>vo,insertBefore:()=>go,prepend:()=>co,prependTo:()=>ao,remove:()=>bo,replaceWith:()=>wo,text:()=>_o,toString:()=>So,unwrap:()=>ho,wrap:()=>lo,wrapAll:()=>po,wrapInner:()=>fo});var c={};r.r(c),r.d(c,{css:()=>To});var u={};r.r(u),r.d(u,{serialize:()=>Po,serializeArray:()=>Co});var l={};r.r(l),r.d(l,{extract:()=>Ro});var f={};r.r(f),r.d(f,{WSProvider:()=>Ry});var h={};r.r(h),r.d(h,{BasicStorage:()=>Gy});var p=r(4337),d=r(237),y=r(3716);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */m=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:k(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",g={};function b(){}function w(){}function E(){}var x={};u(x,a,(function(){return this}));var S=Object.getPrototypeOf,_=S&&S(S(C([])));_&&_!==r&&n.call(_,a)&&(x=_);var A=E.prototype=b.prototype=Object.create(x);function T(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==v(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=O(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(v(e)+" is not iterable")}return w.prototype=E,o(A,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=u(E,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},T(L.prototype),u(L.prototype,s,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new L(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(A),u(A,c,"Generator"),u(A,a,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function g(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var E=["bg","cs","de","en","es","fa","fr","he","it","ka","lv","no","pl","pt_BR","ro","ru","sv","tr","vi","uk","zh_CN","zh_TW"],x=function(){var t;navigator.languages&&navigator.languages.length>0&&(t=b(navigator.languages,1)[0]);return t||(t=navigator.language||navigator.userLanguage||""),E.includes(t)?t:"en"};function S(){return _.apply(this,arguments)}function _(){var t;return t=m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y.w.getAll());case 1:case"end":return t.stop()}}),t)})),_=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){g(i,n,o,a,s,"next",t)}function s(t){g(i,n,o,a,s,"throw",t)}a(void 0)}))},_.apply(this,arguments)}y.w.getAll().then((function(t){return p.Ay.use(d.A).init({fallbackLng:"en",load:"currentOnly",lng:""!==t.lang?t.lang:x(),ns:["translation","controls"],defaultNS:["translation"],debug:!1,backend:{loadPath:function(t,e){return chrome.runtime.getURL("/_locales/".concat(t,"/").concat(e,".json"))}},interpolation:{escapeValue:!1,formatSeparator:",",format:function(t,e,r){return"uppercase"===e?t.toUpperCase():t}}})}));var A;!function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"}(A||(A={}));const T=A.Root,L=A.Text,k=A.Directive,O=A.Comment,I=A.Script,N=A.Style,P=A.Tag,C=A.CDATA,D=A.Doctype;class R{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return J(this,t)}}class j extends R{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class F extends j{constructor(){super(...arguments),this.type=A.Text}get nodeType(){return 3}}class B extends j{constructor(){super(...arguments),this.type=A.Comment}get nodeType(){return 8}}class G extends j{constructor(t,e){super(e),this.name=t,this.type=A.Directive}get nodeType(){return 1}}class M extends R{constructor(t){super(),this.children=t}get firstChild(){var t;return null!==(t=this.children[0])&&void 0!==t?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class U extends M{constructor(){super(...arguments),this.type=A.CDATA}get nodeType(){return 4}}class H extends M{constructor(){super(...arguments),this.type=A.Root}get nodeType(){return 9}}class q extends M{constructor(t,e,r=[],n=("script"===t?A.Script:"style"===t?A.Style:A.Tag)){super(r),this.name=t,this.attribs=e,this.type=n}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map((t=>{var e,r;return{name:t,value:this.attribs[t],namespace:null===(e=this["x-attribsNamespace"])||void 0===e?void 0:e[t],prefix:null===(r=this["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))}}function V(t){return(e=t).type===A.Tag||e.type===A.Script||e.type===A.Style;var e}function K(t){return t.type===A.CDATA}function Y(t){return t.type===A.Text}function W(t){return t.type===A.Comment}function z(t){return t.type===A.Directive}function $(t){return t.type===A.Root}function X(t){return Object.prototype.hasOwnProperty.call(t,"children")}function J(t,e=!1){let r;if(Y(t))r=new F(t.data);else if(W(t))r=new B(t.data);else if(V(t)){const n=e?Q(t.children):[],o=new q(t.name,{...t.attribs},n);n.forEach((t=>t.parent=o)),null!=t.namespace&&(o.namespace=t.namespace),t["x-attribsNamespace"]&&(o["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(o["x-attribsPrefix"]={...t["x-attribsPrefix"]}),r=o}else if(K(t)){const n=e?Q(t.children):[],o=new U(n);n.forEach((t=>t.parent=o)),r=o}else if($(t)){const n=e?Q(t.children):[],o=new H(n);n.forEach((t=>t.parent=o)),t["x-mode"]&&(o["x-mode"]=t["x-mode"]),r=o}else{if(!z(t))throw Error("Not implemented yet: "+t.type);{const e=new G(t.name,t.data);null!=t["x-name"]&&(e["x-name"]=t["x-name"],e["x-publicId"]=t["x-publicId"],e["x-systemId"]=t["x-systemId"]),r=e}}return r.startIndex=t.startIndex,r.endIndex=t.endIndex,null!=t.sourceCodeLocation&&(r.sourceCodeLocation=t.sourceCodeLocation),r}function Q(t){const e=t.map((t=>J(t,!0)));for(let t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}const Z={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class tt{constructor(t,e,r){this.dom=[],this.root=new H(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof e&&(r=e,e=Z),"object"==typeof t&&(e=t,t=void 0),this.callback=null!=t?t:null,this.options=null!=e?e:Z,this.elementCB=null!=r?r:null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new H(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,e){const r=this.options.xmlMode?A.Tag:void 0,n=new q(t,e,void 0,r);this.addNode(n),this.tagStack.push(n)}ontext(t){const{lastNode:e}=this;if(e&&e.type===A.Text)e.data+=t,this.options.withEndIndices&&(e.endIndex=this.parser.endIndex);else{const e=new F(t);this.addNode(e),this.lastNode=e}}oncomment(t){if(this.lastNode&&this.lastNode.type===A.Comment)return void(this.lastNode.data+=t);const e=new B(t);this.addNode(e),this.lastNode=e}oncommentend(){this.lastNode=null}oncdatastart(){const t=new F(""),e=new U([t]);this.addNode(e),t.parent=e,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,e){const r=new G(t,e);this.addNode(r)}handleCallback(t){if("function"==typeof this.callback)this.callback(t,this.dom);else if(t)throw t}addNode(t){const e=this.tagStack[this.tagStack.length-1],r=e.children[e.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),e.children.push(t),r&&(t.prev=r,r.next=t),t.parent=e,this.lastNode=null}}const et=new Uint16Array('áµ<Ã•Ä±ÊŠÒÕ»×ÙµÛŞ¢ß–à à©Šàª‘à¶¡à¹­à¼‰à¼¦áƒŠáˆ¨á‹¡á•á’á“ƒá“Ÿá”¥\0\0\0\0\0\0á•«á›á¦á°’á·á½¾â â†°âŠâ€â»â‘‚â ¤â¤’â´ˆâ¹ˆâ¿ã€–ãŠºã˜¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à €EMabcfglmnoprstu\\bfmsÂ„Â‹ÂÂ•Â˜Â¦Â³Â¹ÃˆÃligè€»Ã†äƒ†Pè€»&ä€¦cuteè€»Ãäƒreve;ä„‚Ä€iyx}rcè€»Ã‚äƒ‚;är;ì€€ğ”„raveè€»Ã€äƒ€pha;ä‘acr;ä„€d;æ©“Ä€gpÂÂ¡on;ä„„f;ì€€ğ”¸plyFunction;æ¡ingè€»Ã…äƒ…Ä€csÂ¾Ãƒr;ì€€ğ’œign;æ‰”ildeè€»Ãƒäƒƒmlè€»Ã„äƒ„Ğ€aceforsuÃ¥Ã»Ã¾Ä—ÄœÄ¢Ä§ÄªÄ€crÃªÃ²kslash;æˆ–Å¶Ã¶Ã¸;æ«§ed;æŒ†y;ä‘Æ€crtÄ…Ä‹Ä”ause;æˆµnoullis;æ„¬a;ä’r;ì€€ğ”…pf;ì€€ğ”¹eve;ä‹˜cÃ²Ä“mpeq;æ‰Ü€HOacdefhilorsuÅÅ‘Å–Æ€ÆÆ¢ÆµÆ·ÆºÇœÈ•É³É¸É¾cy;ä§PYè€»Â©ä‚©Æ€cpyÅÅ¢Åºute;ä„†Ä€;iÅ§Å¨æ‹’talDifferentialD;æ……leys;æ„­È€aeioÆ‰ÆÆ”Æ˜ron;ä„Œdilè€»Ã‡äƒ‡rc;ä„ˆnint;æˆ°ot;ä„ŠÄ€dnÆ§Æ­illa;ä‚¸terDot;ä‚·Ã²Å¿i;ä§rcleÈ€DMPTÇ‡Ç‹Ç‘Ç–ot;æŠ™inus;æŠ–lus;æŠ•imes;æŠ—oÄ€csÇ¢Ç¸kwiseContourIntegral;æˆ²eCurlyÄ€DQÈƒÈoubleQuote;æ€uote;æ€™È€lnpuÈÈ¨É‡É•onÄ€;eÈ¥È¦æˆ·;æ©´Æ€gitÈ¯È¶Èºruent;æ‰¡nt;æˆ¯ourIntegral;æˆ®Ä€frÉŒÉ;æ„‚oduct;æˆnterClockwiseContourIntegral;æˆ³oss;æ¨¯cr;ì€€ğ’pÄ€;CÊ„Ê…æ‹“ap;æ‰Ö€DJSZacefiosÊ Ê¬Ê°Ê´Ê¸Ë‹Ë—Ë¡Ë¦Ì³ÒÄ€;oÅ¹Ê¥trahd;æ¤‘cy;ä‚cy;ä…cy;äÆ€grsÊ¿Ë„Ë‡ger;æ€¡r;æ†¡hv;æ«¤Ä€ayËË•ron;ä„;ä”lÄ€;tËËæˆ‡a;ä”r;ì€€ğ”‡Ä€afË«Ì§Ä€cmË°Ì¢riticalÈ€ADGTÌ€Ì†Ì–Ìœcute;ä‚´oÅ´Ì‹Ì;ä‹™bleAcute;ä‹rave;ä ilde;ä‹œond;æ‹„ferentialD;æ…†Ñ°Ì½\0\0\0Í‚Í”\0Ğ…f;ì€€ğ”»Æ€;DEÍˆÍ‰Íä‚¨ot;æƒœqual;æ‰bleÌ€CDLRUVÍ£Í²Î‚ÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»Í‰nArrow;æ‡“Ä€eoÎ‡Î¤ftÆ€ARTÎÎ–Î¡rrow;æ‡ightArrow;æ‡”eÃ¥ËŠngÄ€LRÎ«Ï„eftÄ€ARÎ³Î¹rrow;æŸ¸ightArrow;æŸºightArrow;æŸ¹ightÄ€ATÏ˜Ïrrow;æ‡’ee;æŠ¨pÉÏ©\0\0Ï¯rrow;æ‡‘ownArrow;æ‡•erticalBar;æˆ¥nÌ€ABLRTaĞ’ĞªĞ°ÑÑ¿Í¼rrowÆ€;BUĞĞĞ¢æ†“ar;æ¤“pArrow;æ‡µreve;äŒ‘eftË’Ğº\0Ñ†\0ÑightVector;æ¥eeVector;æ¥ectorÄ€;BÑ™Ñšæ†½ar;æ¥–ightÇ”Ñ§\0Ñ±eeVector;æ¥ŸectorÄ€;BÑºÑ»æ‡ar;æ¥—eeÄ€;AÒ†Ò‡æŠ¤rrow;æ†§Ä€ctÒ’Ò—r;ì€€ğ’Ÿrok;ä„à €NTacdfglmopqstuxÒ½Ó€Ó„Ó‹ÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶Õ’ÕÕ Õ¥G;ä…ŠHè€»Ãäƒcuteè€»Ã‰äƒ‰Æ€aiyÓ’Ó—Óœron;ä„šrcè€»ÃŠäƒŠ;ä­ot;ä„–r;ì€€ğ”ˆraveè€»Ãˆäƒˆement;æˆˆÄ€apÓºÓ¾cr;ä„’tyÉ“Ô†\0\0Ô’mallSquare;æ—»erySmallSquare;æ–«Ä€gpÔ¦Ôªon;ä„˜f;ì€€ğ”¼silon;ä•uÄ€aiÔ¼Õ‰lÄ€;TÕ‚Õƒæ©µilde;æ‰‚librium;æ‡ŒÄ€ciÕ—Õšr;æ„°m;æ©³a;ä—mlè€»Ã‹äƒ‹Ä€ipÕªÕ¯sts;æˆƒonentialE;æ…‡Ê€cfiosÖ…ÖˆÖÖ²×Œy;ä¤r;ì€€ğ”‰lledÉ“Ö—\0\0Ö£mallSquare;æ—¼erySmallSquare;æ–ªÍ°Öº\0Ö¿\0\0×„f;ì€€ğ”½All;æˆ€riertrf;æ„±cÃ²×‹Ø€JTabcdfgorst×¨×¬×¯×ºØ€Ø’Ø–Ø›ØØ£Ù¬Ù²cy;äƒè€»>ä€¾mmaÄ€;d×·×¸ä“;äœreve;ä„Æ€eiyØ‡ØŒØdil;ä„¢rc;ä„œ;ä“ot;ä„ r;ì€€ğ”Š;æ‹™pf;ì€€ğ”¾eaterÌ€EFGLSTØµÙ„ÙÙ–Ù›Ù¦qualÄ€;LØ¾Ø¿æ‰¥ess;æ‹›ullEqual;æ‰§reater;æª¢ess;æ‰·lantEqual;æ©¾ilde;æ‰³cr;ì€€ğ’¢;æ‰«Ğ€AacfiosuÚ…Ú‹Ú–Ú›ÚÚªÚ¾ÛŠRDcy;äªÄ€ctÚÚ”ek;ä‹‡;äirc;ä„¤r;æ„ŒlbertSpace;æ„‹Ç°Ú¯\0Ú²f;æ„izontalLine;æ”€Ä€ctÛƒÛ…Ã²Ú©rok;ä„¦mpÅ„ÛÛ˜ownHumÃ°Ä¯qual;æ‰Ü€EJOacdfgmnostuÛºÛ¾ÜƒÜ‡ÜÜšÜÜ¡Ü¨İ„İ¸Ş‹ŞŞ•cy;ä•lig;ä„²cy;äcuteè€»ÃäƒÄ€iyÜ“Ü˜rcè€»Ãäƒ;ä˜ot;ä„°r;æ„‘raveè€»ÃŒäƒŒÆ€;apÜ Ü¯Ü¿Ä€cgÜ´Ü·r;ä„ªinaryI;æ…ˆlieÃ³ÏÇ´İ‰\0İ¢Ä€;eİİæˆ¬Ä€grİ“İ˜ral;æˆ«section;æ‹‚isibleÄ€CTİ¬İ²omma;æ£imes;æ¢Æ€gptİ¿ŞƒŞˆon;ä„®f;ì€€ğ•€a;ä™cr;æ„ilde;ä„¨Ç«Şš\0Şcy;ä†lè€»ÃäƒÊ€cfosuŞ¬Ş·Ş¼ß‚ßÄ€iyŞ±Şµrc;ä„´;ä™r;ì€€ğ”pf;ì€€ğ•Ç£ß‡\0ßŒr;ì€€ğ’¥rcy;äˆkcy;ä„Î€HJacfosß¤ß¨ß¬ß±ß½à ‚à ˆcy;ä¥cy;äŒppa;äšÄ€eyß¶ß»dil;ä„¶;äšr;ì€€ğ”pf;ì€€ğ•‚cr;ì€€ğ’¦Ö€JTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§‡à§à¨·à©‡cy;ä‰è€»<ä€¼Ê€cmnprà ·à ¼à¡à¡„à¡ute;ä„¹bda;ä›g;æŸªlacetrf;æ„’r;æ†Æ€aeyà¡—à¡œà¡¡ron;ä„½dil;ä„»;ä›Ä€fsà¡¨à¥°tÔ€ACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥›Îà¥ªÄ€nrà¢ƒà¢gleBracket;æŸ¨rowÆ€;BRà¢™à¢šà¢æ†ar;æ‡¤ightArrow;æ‡†eiling;æŒˆoÇµà¢·\0à£ƒbleBracket;æŸ¦nÇ”à£ˆ\0à£’eeVector;æ¥¡ectorÄ€;Bà£›à£œæ‡ƒar;æ¥™loor;æŒŠightÄ€AVà£¯à£µrrow;æ†”ector;æ¥Ä€erà¤à¤—eÆ€;AVà¤‰à¤Šà¤æŠ£rrow;æ†¤ector;æ¥šiangleÆ€;BEà¤¤à¤¥à¤©æŠ²ar;æ§qual;æŠ´pÆ€DTVà¤·à¥‚à¥ŒownVector;æ¥‘eeVector;æ¥ ectorÄ€;Bà¥–à¥—æ†¿ar;æ¥˜ectorÄ€;Bà¥¥à¥¦æ†¼ar;æ¥’ightÃ¡ÎœsÌ€EFGLSTà¥¾à¦‹à¦•à¦à¦¢à¦­qualGreater;æ‹šullEqual;æ‰¦reater;æ‰¶ess;æª¡lantEqual;æ©½ilde;æ‰²r;ì€€ğ”Ä€;eà¦½à¦¾æ‹˜ftarrow;æ‡šidot;ä„¿Æ€npwà§”à¨–à¨›gÈ€LRlrà§à§·à¨‚à¨eftÄ€ARà§¦à§¬rrow;æŸµightArrow;æŸ·ightArrow;æŸ¶eftÄ€arÎ³à¨ŠightÃ¡Î¿ightÃ¡ÏŠf;ì€€ğ•ƒerÄ€LRà¨¢à¨¬eftArrow;æ†™ightArrow;æ†˜Æ€chtà¨¾à©€à©‚Ã²à¡Œ;æ†°rok;ä…;æ‰ªĞ€acefiosuà©šà©à© à©·à©¼àª…àª‹àªp;æ¤…y;äœÄ€dlà©¥à©¯iumSpace;æŸlintrf;æ„³r;ì€€ğ”nusPlus;æˆ“pf;ì€€ğ•„cÃ²à©¶;äœÒ€Jacefostuàª£àª§àª­à«€à¬”à¬™à¶‘à¶—à¶cy;äŠcute;ä…ƒÆ€aeyàª´àª¹àª¾ron;ä…‡dil;ä……;äÆ€gswà«‡à«°à¬ativeÆ€MTVà«“à«Ÿà«¨ediumSpace;æ€‹hiÄ€cnà«¦à«˜Ã«à«™eryThiÃ®à«™tedÄ€GLà«¸à¬†reaterGreateÃ²Ù³essLesÃ³à©ˆLine;ä€Šr;ì€€ğ”‘È€Bnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä‚ f;æ„•Ú€;CDEGHLNPRSTVà­•à­–à­ªà­¼à®¡à¯«à°„à±à²„à²¦à³˜àµ¡à¶…æ«¬Ä€ouà­›à­¤ngruent;æ‰¢pCap;æ‰­oubleVerticalBar;æˆ¦Æ€lqxà®ƒà®Šà®›ement;æˆ‰ualÄ€;Tà®’à®“æ‰ ilde;ì€€â‰‚Ì¸ists;æˆ„reaterÎ€;EFGLSTà®¶à®·à®½à¯‰à¯“à¯˜à¯¥æ‰¯qual;æ‰±ullEqual;ì€€â‰§Ì¸reater;ì€€â‰«Ì¸ess;æ‰¹lantEqual;ì€€â©¾Ì¸ilde;æ‰µumpÅ„à¯²à¯½ownHump;ì€€â‰Ì¸qual;ì€€â‰Ì¸eÄ€fsà°Šà°§tTriangleÆ€;BEà°šà°›à°¡æ‹ªar;ì€€â§Ì¸qual;æ‹¬sÌ€;EGLSTà°µà°¶à°¼à±„à±‹à±˜æ‰®qual;æ‰°reater;æ‰¸ess;ì€€â‰ªÌ¸lantEqual;ì€€â©½Ì¸ilde;æ‰´estedÄ€GLà±¨à±¹reaterGreater;ì€€âª¢Ì¸essLess;ì€€âª¡Ì¸recedesÆ€;ESà²’à²“à²›æŠ€qual;ì€€âª¯Ì¸lantEqual;æ‹ Ä€eià²«à²¹verseElement;æˆŒghtTriangleÆ€;BEà³‹à³Œà³’æ‹«ar;ì€€â§Ì¸qual;æ‹­Ä€quà³à´ŒuareSuÄ€bpà³¨à³¹setÄ€;Eà³°à³³ì€€âŠÌ¸qual;æ‹¢ersetÄ€;Eà´ƒà´†ì€€âŠÌ¸qual;æ‹£Æ€bcpà´“à´¤àµsetÄ€;Eà´›à´ì€€âŠ‚âƒ’qual;æŠˆceedsÈ€;ESTà´²à´³à´»àµ†æŠqual;ì€€âª°Ì¸lantEqual;æ‹¡ilde;ì€€â‰¿Ì¸ersetÄ€;Eàµ˜àµ›ì€€âŠƒâƒ’qual;æŠ‰ildeÈ€;EFTàµ®àµ¯àµµàµ¿æ‰qual;æ‰„ullEqual;æ‰‡ilde;æ‰‰erticalBar;æˆ¤cr;ì€€ğ’©ildeè€»Ã‘äƒ‘;äÜ€Eacdfgmoprstuvà¶½à·‚à·‰à·•à·›à· à·§à·¼à¸‚à¸ à¸¢à¸²à¸¿à¹„lig;ä…’cuteè€»Ã“äƒ“Ä€iyà·à·“rcè€»Ã”äƒ”;äblac;ä…r;ì€€ğ”’raveè€»Ã’äƒ’Æ€aeià·®à·²à·¶cr;ä…Œga;ä©cron;äŸpf;ì€€ğ•†enCurlyÄ€DQà¸à¸šoubleQuote;æ€œuote;æ€˜;æ©”Ä€clà¸§à¸¬r;ì€€ğ’ªashè€»Ã˜äƒ˜iÅ¬à¸·à¸¼deè€»Ã•äƒ•es;æ¨·mlè€»Ã–äƒ–erÄ€BPà¹‹à¹ Ä€arà¹à¹“r;æ€¾acÄ€ekà¹šà¹œ;æet;æ´arenthesis;æœÒ€acfhilorsà¹¿àº‡àºŠàºàº’àº”àºàº°à»¼rtialD;æˆ‚y;äŸr;ì€€ğ”“i;ä¦;ä usMinus;ä‚±Ä€ipàº¢àº­ncareplanÃ¥Úf;æ„™È€;eioàº¹àººà» à»¤æª»cedesÈ€;ESTà»ˆà»‰à»à»šæ‰ºqual;æª¯lantEqual;æ‰¼ilde;æ‰¾me;æ€³Ä€dpà»©à»®uct;æˆortionÄ€;aÈ¥à»¹l;æˆÄ€cià¼à¼†r;ì€€ğ’«;ä¨È€Ufosà¼‘à¼–à¼›à¼ŸOTè€»"ä€¢r;ì€€ğ””pf;æ„šcr;ì€€ğ’¬Ø€BEacefhiorsuà¼¾à½ƒà½‡à½ à½³à¾§à¾ªà¾­á‚–á‚©á‚´á‚¾arr;æ¤Gè€»Â®ä‚®Æ€cnrà½à½“à½–ute;ä…”g;æŸ«rÄ€;tà½œà½æ† l;æ¤–Æ€aeyà½§à½¬à½±ron;ä…˜dil;ä…–;ä Ä€;và½¸à½¹æ„œerseÄ€EUà¾‚à¾™Ä€lqà¾‡à¾ement;æˆ‹uilibrium;æ‡‹pEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtĞ€ACDFTUVaà¿à¿«à¿³á€¢á€¨á›á‚‡Ï˜Ä€nrà¿†à¿’gleBracket;æŸ©rowÆ€;BLà¿œà¿à¿¡æ†’ar;æ‡¥eftArrow;æ‡„eiling;æŒ‰oÇµà¿¹\0á€…bleBracket;æŸ§nÇ”á€Š\0á€”eeVector;æ¥ectorÄ€;Bá€á€æ‡‚ar;æ¥•loor;æŒ‹Ä€erá€­áƒeÆ€;AVá€µá€¶á€¼æŠ¢rrow;æ†¦ector;æ¥›iangleÆ€;BEáá‘á•æŠ³ar;æ§qual;æŠµpÆ€DTVá£á®á¸ownVector;æ¥eeVector;æ¥œectorÄ€;Bá‚‚á‚ƒæ†¾ar;æ¥”ectorÄ€;Bá‚‘á‚’æ‡€ar;æ¥“Ä€puá‚›á‚f;æ„ndImplies;æ¥°ightarrow;æ‡›Ä€chá‚¹á‚¼r;æ„›;æ†±leDelayed;æ§´Ú€HOacfhimoqstuáƒ¤áƒ±áƒ·áƒ½á„™á„á…‘á…–á…¡á…§á†µá†»á†¿Ä€Ccáƒ©áƒ®Hcy;ä©y;ä¨FTcy;ä¬cute;ä…šÊ€;aeiyá„ˆá„‰á„á„“á„—æª¼ron;ä… dil;ä…rc;ä…œ;ä¡r;ì€€ğ”–ortÈ€DLRUá„ªá„´á„¾á…‰ownArrowÂ»ĞeftArrowÂ»à¢šightArrowÂ»à¿pArrow;æ†‘gma;ä£allCircle;æˆ˜pf;ì€€ğ•ŠÉ²á…­\0\0á…°t;æˆšareÈ€;ISUá…»á…¼á†‰á†¯æ–¡ntersection;æŠ“uÄ€bpá†á†setÄ€;Eá†—á†˜æŠqual;æŠ‘ersetÄ€;Eá†¨á†©æŠqual;æŠ’nion;æŠ”cr;ì€€ğ’®ar;æ‹†È€bcmpá‡ˆá‡›áˆ‰áˆ‹Ä€;sá‡á‡æ‹etÄ€;Eá‡á‡•qual;æŠ†Ä€chá‡ áˆ…eedsÈ€;ESTá‡­á‡®á‡´á‡¿æ‰»qual;æª°lantEqual;æ‰½ilde;æ‰¿ThÃ¡à¾Œ;æˆ‘Æ€;esáˆ’áˆ“áˆ£æ‹‘rsetÄ€;EáˆœáˆæŠƒqual;æŠ‡etÂ»áˆ“Ö€HRSacfhiorsáˆ¾á‰„á‰‰á‰•á‰á‰±á‰¶áŠŸá‹‚á‹ˆá‹‘ORNè€»ÃäƒADE;æ„¢Ä€Hcá‰á‰’cy;ä‹y;ä¦Ä€buá‰šá‰œ;ä€‰;ä¤Æ€aeyá‰¥á‰ªá‰¯ron;ä…¤dil;ä…¢;ä¢r;ì€€ğ”—Ä€eiá‰»áŠ‰Ç²áŠ€\0áŠ‡efore;æˆ´a;ä˜Ä€cnáŠáŠ˜kSpace;ì€€âŸâ€ŠSpace;æ€‰ldeÈ€;EFTáŠ«áŠ¬áŠ²áŠ¼æˆ¼qual;æ‰ƒullEqual;æ‰…ilde;æ‰ˆpf;ì€€ğ•‹ipleDot;æƒ›Ä€ctá‹–á‹›r;ì€€ğ’¯rok;ä…¦à«¡á‹·áŒáŒšáŒ¦\0áŒ¬áŒ±\0\0\0\0\0áŒ¸áŒ½á·á…\0á¿á„áŠáÄ€crá‹»áŒuteè€»ÃšäƒšrÄ€;oáŒ‡áŒˆæ†Ÿcir;æ¥‰rÇ£áŒ“\0áŒ–y;äve;ä…¬Ä€iyáŒáŒ£rcè€»Ã›äƒ›;ä£blac;ä…°r;ì€€ğ”˜raveè€»Ã™äƒ™acr;ä…ªÄ€diáá©erÄ€BPáˆáÄ€aráár;äŸacÄ€eká—á™;æŸet;æµarenthesis;æonÄ€;Pá°á±æ‹ƒlus;æŠÄ€gpá»á¿on;ä…²f;ì€€ğ•ŒĞ€ADETadpsá•á®á¸á„Ï¨á’á—á³rrowÆ€;BDá…á á¤ar;æ¤’ownArrow;æ‡…ownArrow;æ†•quilibrium;æ¥®eeÄ€;Aá‹áŒæŠ¥rrow;æ†¥ownÃ¡Ï³erÄ€LRáá¨eftArrow;æ†–ightArrow;æ†—iÄ€;lá¹áºä’on;ä¥ing;ä…®cr;ì€€ğ’°ilde;ä…¨mlè€»ÃœäƒœÒ€Dbcdefosvá§á¬á°á³á¾á’…á’Šá’á’–ash;æŠ«ar;æ««y;ä’ashÄ€;lá»á¼æŠ©;æ«¦Ä€erá‘ƒá‘…;æ‹Æ€btyá‘Œá‘á‘ºar;æ€–Ä€;iá‘á‘•calÈ€BLSTá‘¡á‘¥á‘ªá‘´ar;æˆ£ine;ä¼eparator;æ˜ilde;æ‰€ThinSpace;æ€Šr;ì€€ğ”™pf;ì€€ğ•cr;ì€€ğ’±dash;æŠªÊ€cefosá’§á’¬á’±á’¶á’¼irc;ä…´dge;æ‹€r;ì€€ğ”špf;ì€€ğ•cr;ì€€ğ’²È€fiosá“‹á“á“’á“˜r;ì€€ğ”›;äpf;ì€€ğ•cr;ì€€ğ’³Ò€AIUacfosuá“±á“µá“¹á“½á”„á”á””á”šá” cy;ä¯cy;ä‡cy;ä®cuteè€»ÃäƒÄ€iyá”‰á”rc;ä…¶;ä«r;ì€€ğ”œpf;ì€€ğ•cr;ì€€ğ’´ml;ä…¸Ğ€Hacdefosá”µá”¹á”¿á•‹á•á•á• á•¤cy;ä–cute;ä…¹Ä€ayá•„á•‰ron;ä…½;ä—ot;ä…»Ç²á•”\0á•›oWidtÃ¨à«™a;ä–r;æ„¨pf;æ„¤cr;ì€€ğ’µà¯¡á–ƒá–Šá–\0á–°á–¶á–¿\0\0\0\0á—†á—›á—«á™Ÿá™­\0áš•áš›áš²áš¹\0áš¾cuteè€»Ã¡äƒ¡reve;ä„ƒÌ€;Ediuyá–œá–á–¡á–£á–¨á–­æˆ¾;ì€€âˆ¾Ì³;æˆ¿rcè€»Ã¢äƒ¢teè‚»Â´Ì†;ä°ligè€»Ã¦äƒ¦Ä€;rÂ²á–º;ì€€ğ”raveè€»Ã äƒ Ä€epá—Šá—–Ä€fpá—á—”sym;æ„µÃ¨á—“ha;ä±Ä€apá—ŸcÄ€clá—¤á—§r;ä„g;æ¨¿É¤á—°\0\0á˜ŠÊ€;adsvá—ºá—»á—¿á˜á˜‡æˆ§nd;æ©•;æ©œlope;æ©˜;æ©šÎ€;elmrszá˜˜á˜™á˜›á˜á˜¿á™á™™æˆ ;æ¦¤eÂ»á˜™sdÄ€;aá˜¥á˜¦æˆ¡Ñ¡á˜°á˜²á˜´á˜¶á˜¸á˜ºá˜¼á˜¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ€;vá™…á™†æˆŸbÄ€;dá™Œá™æŠ¾;æ¦Ä€ptá™”á™—h;æˆ¢Â»Â¹arr;æ¼Ä€gpá™£á™§on;ä„…f;ì€€ğ•’Î€;Eaeiopá‹á™»á™½áš‚áš„áš‡ášŠ;æ©°cir;æ©¯;æ‰Šd;æ‰‹s;ä€§roxÄ€;eá‹áš’Ã±ášƒingè€»Ã¥äƒ¥Æ€ctyáš¡áš¦áš¨r;ì€€ğ’¶;ä€ªmpÄ€;eá‹áš¯Ã±Êˆildeè€»Ã£äƒ£mlè€»Ã¤äƒ¤Ä€ciá›‚á›ˆoninÃ´É²nt;æ¨‘à €Nabcdefiklnoprsuá›­á›±áœ°áœ¼áƒáˆá¸á½áŸ áŸ¦á ¹á¡áœá¤½á¥ˆá¥°ot;æ«­Ä€crá›¶áœkÈ€cepsáœ€áœ…áœáœ“ong;æ‰Œpsilon;ä¶rime;æ€µimÄ€;eáœšáœ›æˆ½q;æ‹Å¶áœ¢áœ¦ee;æŠ½edÄ€;gáœ¬áœ­æŒ…eÂ»áœ­rkÄ€;táœáœ·brk;æ¶Ä€oyáœá;ä±quo;æ€Ê€cmprtá“á›á¡á¤á¨ausÄ€;eÄŠÄ‰ptyv;æ¦°sÃ©áœŒnoÃµÄ“Æ€ahwá¯á±á³;ä²;æ„¶een;æ‰¬r;ì€€ğ”ŸgÎ€costuvwááá³áŸáŸ•áŸ›áŸÆ€aiuá”á–ášÃ°İ rc;æ—¯pÂ»á±Æ€dptá¤á¨á­ot;æ¨€lus;æ¨imes;æ¨‚É±á¹\0\0á¾cup;æ¨†ar;æ˜…riangleÄ€duáŸáŸ’own;æ–½p;æ–³plus;æ¨„eÃ¥á‘„Ã¥á’­arow;æ¤Æ€akoáŸ­á ¦á µÄ€cnáŸ²á £kÆ€lstáŸºÖ«á ‚ozenge;æ§«riangleÈ€;dlrá ’á “á ˜á æ–´own;æ–¾eft;æ—‚ight;æ–¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ–’;æ–‘4;æ–“ck;æ–ˆÄ€eoá ¾á¡Ä€;qá¡ƒá¡†ì€€=âƒ¥uiv;ì€€â‰¡âƒ¥t;æŒÈ€ptwxá¡™á¡á¡§á¡¬f;ì€€ğ•“Ä€;tá‹á¡£omÂ»áŒtie;æ‹ˆØ€DHUVbdhmptuvá¢…á¢–á¢ªá¢»á£—á£›á£¬á£¿á¤…á¤Šá¤á¤¡È€LRlrá¢á¢á¢’á¢”;æ•—;æ•”;æ•–;æ•“Ê€;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ•;æ•¦;æ•©;æ•¤;æ•§È€LRlrá¢³á¢µá¢·á¢¹;æ•;æ•š;æ•œ;æ•™Î€;HLRhlrá£Šá£‹á£á£á£‘á£“á£•æ•‘;æ•¬;æ•£;æ• ;æ•«;æ•¢;æ•Ÿox;æ§‰È€LRlrá£¤á£¦á£¨á£ª;æ••;æ•’;æ”;æ”ŒÊ€;DUduÚ½á£·á£¹á£»á£½;æ•¥;æ•¨;æ”¬;æ”´inus;æŠŸlus;æŠimes;æŠ È€LRlrá¤™á¤›á¤á¤Ÿ;æ•›;æ•˜;æ”˜;æ””Î€;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ”‚;æ•ª;æ•¡;æ•;æ”¼;æ”¤;æ”œÄ€evÄ£á¥‚barè€»Â¦ä‚¦È€ceioá¥‘á¥–á¥šá¥ r;ì€€ğ’·mi;æmÄ€;eáœšáœœlÆ€;bhá¥¨á¥©á¥«äœ;æ§…sub;æŸˆÅ¬á¥´á¥¾lÄ€;eá¥¹á¥ºæ€¢tÂ»á¥ºpÆ€;EeÄ¯á¦…á¦‡;æª®Ä€;qÛœÛ›à³¡á¦§\0á§¨á¨‘á¨•á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­’\0á¯½\0á°ŒÆ€cprá¦­á¦²á§ute;ä„‡Ì€;abcdsá¦¿á§€á§„á§Šá§•á§™æˆ©nd;æ©„rcup;æ©‰Ä€auá§á§’p;æ©‹p;æ©‡ot;æ©€;ì€€âˆ©ï¸€Ä€eoá§¢á§¥t;æÃ®Ú“È€aeiuá§°á§»á¨á¨…Ç°á§µ\0á§¸s;æ©on;ä„dilè€»Ã§äƒ§rc;ä„‰psÄ€;sá¨Œá¨æ©Œm;æ©ot;ä„‹Æ€dmná¨›á¨ á¨¦ilè‚»Â¸Æ­ptyv;æ¦²tè„€Â¢;eá¨­á¨®ä‚¢rÃ¤Æ²r;ì€€ğ” Æ€ceiá¨½á©€á©y;ä‘‡ckÄ€;má©‡á©ˆæœ“arkÂ»á©ˆ;ä‡rÎ€;Ecefmsá©Ÿá© á©¢á©«áª¤áªªáª®æ—‹;æ§ƒÆ€;elá©©á©ªá©­ä‹†q;æ‰—eÉ¡á©´\0\0áªˆrrowÄ€lrá©¼áªeft;æ†ºight;æ†»Ê€RSacdáª’áª”áª–áªšáªŸÂ»à½‡;æ“ˆst;æŠ›irc;æŠšash;æŠnint;æ¨id;æ«¯cir;æ§‚ubsÄ€;uáª»áª¼æ™£itÂ»áª¼Ë¬á«‡á«”á«º\0á¬ŠonÄ€;eá«á«ä€ºÄ€;qÃ‡Ã†É­á«™\0\0á«¢aÄ€;tá«á«Ÿä€¬;ä€Æ€;flá«¨á«©á««æˆÃ®á… eÄ€mxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬‡Ä€;dáŠ»á¬‚ot;æ©­nÃ´É†Æ€fryá¬á¬”á¬—;ì€€ğ•”oÃ¤É”è„€Â©;sÅ•á¬r;æ„—Ä€aoá¬¥á¬©rr;æ†µss;æœ—Ä€cuá¬²á¬·r;ì€€ğ’¸Ä€bpá¬¼á­„Ä€;eá­á­‚æ«;æ«‘Ä€;eá­‰á­Šæ«;æ«’dot;æ‹¯Î€delprvwá­ á­¬á­·á®‚á®¬á¯”á¯¹arrÄ€lrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æ‹c;æ‹ŸarrÄ€;pá­¿á®€æ†¶;æ¤½Ì€;bcdosá®á®á®–á®¡á®¥á®¨æˆªrcap;æ©ˆÄ€auá®›á®p;æ©†p;æ©Šot;æŠr;æ©…;ì€€âˆªï¸€È€alrvá®µá®¿á¯á¯£rrÄ€;má®¼á®½æ†·;æ¤¼yÆ€evwá¯‡á¯”á¯˜qÉ°á¯\0\0á¯’reÃ£á­³uÃ£á­µee;æ‹edge;æ‹enè€»Â¤ä‚¤earrowÄ€lrá¯®á¯³eftÂ»á®€ightÂ»á®½eÃ¤á¯Ä€ciá°á°‡oninÃ´Ç·nt;æˆ±lcty;æŒ­à¦€AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²Šá²á²¬á²·á³»á³¿á´áµ»á¶‘á¶«á¶»á·†á·rÃ²Îar;æ¥¥È€glrsá±ˆá±á±’á±”ger;æ€ eth;æ„¸Ã²á„³hÄ€;vá±šá±›æ€Â»à¤ŠÅ«á±¡á±§arow;æ¤aÃ£Ì•Ä€ayá±®á±³ron;ä„;ä´Æ€;aoÌ²á±¼á²„Ä€grÊ¿á²r;æ‡Štseq;æ©·Æ€glmá²‘á²”á²˜è€»Â°ä‚°ta;ä´ptyv;æ¦±Ä€irá²£á²¨sht;æ¥¿;ì€€ğ”¡arÄ€lrá²³á²µÂ»à£œÂ»á€Ê€aegsvá³‚Í¸á³–á³œá³ mÆ€;osÌ¦á³Šá³”ndÄ€;sÌ¦á³‘uit;æ™¦amma;äin;æ‹²Æ€;ioá³§á³¨á³¸äƒ·deè„€Ã·;oá³§á³°ntimes;æ‹‡nÃ¸á³·cy;ä‘’cÉ¯á´†\0\0á´Šrn;æŒop;æŒÊ€lptuwá´˜á´á´¢áµ‰áµ•lar;ä€¤f;ì€€ğ••Ê€;empsÌ‹á´­á´·á´½áµ‚qÄ€;dÍ’á´³ot;æ‰‘inus;æˆ¸lus;æˆ”quare;æŠ¡blebarwedgÃ¥ÃºnÆ€adhá„®áµáµ§ownarrowÃ³á²ƒarpoonÄ€lráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶…karoÃ·à½‚É¯á¶Š\0\0á¶rn;æŒŸop;æŒŒÆ€cotá¶˜á¶£á¶¦Ä€ryá¶á¶¡;ì€€ğ’¹;ä‘•l;æ§¶rok;ä„‘Ä€drá¶°á¶´ot;æ‹±iÄ€;fá¶ºá –æ–¿Ä€ahá·€á·ƒrÃ²Ğ©aÃ²à¾¦angle;æ¦¦Ä€ciá·’á·•y;ä‘Ÿgrarr;æŸ¿à¤€Dacdefglmnopqrstuxá¸á¸‰á¸™á¸¸Õ¸á¸¼á¹‰á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½„á½á½šÄ€Doá¸†á´´oÃ´á²‰Ä€csá¸á¸”uteè€»Ã©äƒ©ter;æ©®È€aioyá¸¢á¸§á¸±á¸¶ron;ä„›rÄ€;cá¸­á¸®æ‰–è€»Ãªäƒªlon;æ‰•;ä‘ot;ä„—Ä€Drá¹á¹…ot;æ‰’;ì€€ğ”¢Æ€;rsá¹á¹‘á¹—æªšaveè€»Ã¨äƒ¨Ä€;dá¹œá¹æª–ot;æª˜È€;ilsá¹ªá¹«á¹²á¹´æª™nters;æ§;æ„“Ä€;dá¹¹á¹ºæª•ot;æª—Æ€apsáº…áº‰áº—cr;ä„“tyÆ€;sváº’áº“áº•æˆ…etÂ»áº“pÄ€1;áºáº¤Ä³áº¡áº£;æ€„;æ€…æ€ƒÄ€gsáºªáº¬;ä…‹p;æ€‚Ä€gpáº´áº¸on;ä„™f;ì€€ğ•–Æ€alsá»„á»á»’rÄ€;sá»Šá»‹æ‹•l;æ§£us;æ©±iÆ€;lvá»šá»›á»ŸäµonÂ»á»›;äµÈ€csuvá»ªá»³á¼‹á¼£Ä€ioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕˆantÄ€glá¼‚á¼†trÂ»á¹essÂ»á¹ºÆ€aeiá¼’á¼–á¼šls;ä€½st;æ‰ŸvÄ€;DÈµá¼ D;æ©¸parsl;æ§¥Ä€Daá¼¯á¼³ot;æ‰“rr;æ¥±Æ€cdiá¼¾á½á»¸r;æ„¯oÃ´Í’Ä€ahá½‰á½‹;ä·è€»Ã°äƒ°Ä€mrá½“á½—lè€»Ã«äƒ«o;æ‚¬Æ€cipá½¡á½¤á½§l;ä€¡sÃ´Õ®Ä€eoá½¬á½´ctatioÃ®Õ™nentialÃ¥Õ¹à§¡á¾’\0á¾\0á¾¡á¾§\0\0á¿†á¿Œ\0á¿“\0á¿¦á¿ªâ€€\0â€ˆâšllingdotseÃ±á¹„y;ä‘„male;æ™€Æ€ilrá¾­á¾³á¿lig;è€€ï¬ƒÉ©á¾¹\0\0á¾½g;è€€ï¬€ig;è€€ï¬„;ì€€ğ”£lig;è€€ï¬lig;ì€€fjÆ€altá¿™á¿œá¿¡t;æ™­ig;è€€ï¬‚ns;æ–±of;ä†’Ç°á¿®\0á¿³f;ì€€ğ•—Ä€akÖ¿á¿·Ä€;vá¿¼á¿½æ‹”;æ«™artint;æ¨Ä€aoâ€Œâ•Ä€csâ€‘â’Î±â€šâ€°â€¸â…âˆ\0âÎ²â€¢â€¥â€§â€ªâ€¬\0â€®è€»Â½ä‚½;æ…“è€»Â¼ä‚¼;æ…•;æ…™;æ…›Æ³â€´\0â€¶;æ…”;æ…–Ê´â€¾â\0\0âƒè€»Â¾ä‚¾;æ…—;æ…œ5;æ…˜Æ¶âŒ\0â;æ…š;æ…8;æ…l;æ„wn;æŒ¢cr;ì€€ğ’»à¢€Eabcdefgijlnorstvâ‚‚â‚‰â‚Ÿâ‚¥â‚°â‚´âƒ°âƒµâƒºâƒ¿â„ƒâ„’â„¸Ì—â„¾â…’â†Ä€;lÙâ‚‡;æªŒÆ€cmpâ‚â‚•â‚ute;ä‡µmaÄ€;dâ‚œá³šä³;æª†reve;ä„ŸÄ€iyâ‚ªâ‚®rc;ä„;ä³ot;ä„¡È€;lqsØ¾Ù‚â‚½âƒ‰Æ€;qsØ¾ÙŒâƒ„lanÃ´Ù¥È€;cdlÙ¥âƒ’âƒ•âƒ¥c;æª©otÄ€;oâƒœâƒæª€Ä€;lâƒ¢âƒ£æª‚;æª„Ä€;eâƒªâƒ­ì€€â‹›ï¸€s;æª”r;ì€€ğ”¤Ä€;gÙ³Ø›mel;æ„·cy;ä‘“È€;EajÙšâ„Œâ„â„;æª’;æª¥;æª¤È€Eaesâ„›â„â„©â„´;æ‰©pÄ€;pâ„£â„¤æªŠroxÂ»â„¤Ä€;qâ„®â„¯æªˆÄ€;qâ„®â„›im;æ‹§pf;ì€€ğ•˜Ä€ciâ…ƒâ…†r;æ„ŠmÆ€;elÙ«â…â…;æª;æªèŒ€>;cdlqr×®â… â…ªâ…®â…³â…¹Ä€ciâ…¥â…§;æª§r;æ©ºot;æ‹—Par;æ¦•uest;æ©¼Ê€adelsâ†„â…ªâ†Ù–â†›Ç°â†‰\0â†proÃ¸â‚r;æ¥¸qÄ€lqØ¿â†–lesÃ³â‚ˆiÃ­Ù«Ä€enâ†£â†­rtneqq;ì€€â‰©ï¸€Ã…â†ªÔ€Aabcefkosyâ‡„â‡‡â‡±â‡µâ‡ºâˆ˜âˆâˆ¯â‰¨â‰½rÃ²Î È€ilmrâ‡â‡”â‡—â‡›rsÃ°á’„fÂ»â€¤ilÃ´Ú©Ä€drâ‡ â‡¤cy;ä‘ŠÆ€;cwà£´â‡«â‡¯ir;æ¥ˆ;æ†­ar;æ„irc;ä„¥Æ€alrâˆâˆâˆ“rtsÄ€;uâˆ‰âˆŠæ™¥itÂ»âˆŠlip;æ€¦con;æŠ¹r;ì€€ğ”¥sÄ€ewâˆ£âˆ©arow;æ¤¥arow;æ¤¦Ê€amoprâˆºâˆ¾â‰ƒâ‰â‰£rr;æ‡¿tht;æˆ»kÄ€lrâ‰‰â‰“eftarrow;æ†©ightarrow;æ†ªf;ì€€ğ•™bar;æ€•Æ€cltâ‰¯â‰´â‰¸r;ì€€ğ’½asÃ¨â‡´rok;ä„§Ä€bpâŠ‚âŠ‡ull;æƒhenÂ»á±›à«¡âŠ£\0âŠª\0âŠ¸â‹…â‹\0â‹•â‹³\0\0â‹¸âŒ¢â§â¢â¿\0â†âªâ´cuteè€»Ã­äƒ­Æ€;iyİ±âŠ°âŠµrcè€»Ã®äƒ®;ä¸Ä€cxâŠ¼âŠ¿y;äµclè€»Â¡ä‚¡Ä€frÎŸâ‹‰;ì€€ğ”¦raveè€»Ã¬äƒ¬È€;inoÜ¾â‹â‹©â‹®Ä€inâ‹¢â‹¦nt;æ¨Œt;æˆ­fin;æ§œta;æ„©lig;ä„³Æ€aopâ‹¾âŒšâŒÆ€cgtâŒ…âŒˆâŒ—r;ä„«Æ€elpÜŸâŒâŒ“inÃ¥ŞarÃ´Ü h;ä„±f;æŠ·ed;ä†µÊ€;cfotÓ´âŒ¬âŒ±âŒ½âare;æ„…inÄ€;tâŒ¸âŒ¹æˆie;æ§doÃ´âŒ™Ê€;celpİ—âŒââ›â¡al;æŠºÄ€grâ•â™erÃ³á•£Ã£âarhk;æ¨—rod;æ¨¼È€cgptâ¯â²â¶â»y;ä‘‘on;ä„¯f;ì€€ğ•ša;ä¹uestè€»Â¿ä‚¿Ä€ciâŠâr;ì€€ğ’¾nÊ€;EdsvÓ´â›ââ¡Ó³;æ‹¹ot;æ‹µÄ€;vâ¦â§æ‹´;æ‹³Ä€;iİ·â®lde;ä„©Ç«â¸\0â¼cy;ä‘–lè€»Ã¯äƒ¯Ì€cfmosuâŒâ—âœâ¡â§âµÄ€iyâ‘â•rc;ä„µ;ä¹r;ì€€ğ”§ath;äˆ·pf;ì€€ğ•›Ç£â¬\0â±r;ì€€ğ’¿rcy;ä‘˜kcy;ä‘”Ğ€acfghjosâ‹â–â¢â§â­â±âµâ»ppaÄ€;vâ“â”äº;ä°Ä€eyâ›â dil;ä„·;äºr;ì€€ğ”¨reen;ä„¸cy;ä‘…cy;ä‘œpf;ì€€ğ•œcr;ì€€ğ“€à®€ABEHabcdefghjlmnoprstuvâ‘°â’â’†â’â’‘â”â”½â•šâ–€â™â™â™¥â™¹â™½âššâš²â›˜ââ¨â‹âŸ€â â ’Æ€artâ‘·â‘ºâ‘¼rÃ²à§†Ã²Î•ail;æ¤›arr;æ¤Ä€;gà¦”â’‹;æª‹ar;æ¥¢à¥£â’¥\0â’ª\0â’±\0\0\0\0\0â’µâ’º\0â“†â“ˆâ“\0â“¹ute;ä„ºmptyv;æ¦´raÃ®à¡Œbda;ä»gÆ€;dlà¢â“â“ƒ;æ¦‘Ã¥à¢;æª…uoè€»Â«ä‚«rĞ€;bfhlpstà¢™â“â“¦â“©â“«â“®â“±â“µÄ€;fà¢â“£s;æ¤Ÿs;æ¤Ã«â‰’p;æ†«l;æ¤¹im;æ¥³l;æ†¢Æ€;aeâ“¿â”€â”„æª«il;æ¤™Ä€;sâ”‰â”Šæª­;ì€€âª­ï¸€Æ€abrâ”•â”™â”rr;æ¤Œrk;æ²Ä€akâ”¢â”¬cÄ€ekâ”¨â”ª;ä»;ä›Ä€esâ”±â”³;æ¦‹lÄ€duâ”¹â”»;æ¦;æ¦È€aeuyâ•†â•‹â•–â•˜ron;ä„¾Ä€diâ•â•”il;ä„¼Ã¬à¢°Ã¢â”©;ä»È€cqrsâ•£â•¦â•­â•½a;æ¤¶uoÄ€;rà¸™á†Ä€duâ•²â•·har;æ¥§shar;æ¥‹h;æ†²Ê€;fgqsâ–‹â–Œà¦‰â—³â—¿æ‰¤tÊ€ahlrtâ–˜â–¤â–·â—‚â—¨rrowÄ€;tà¢™â–¡aÃ©â“¶arpoonÄ€duâ–¯â–´ownÂ»ÑšpÂ»à¥¦eftarrows;æ‡‡ightÆ€ahsâ—â—–â—rrowÄ€;sà£´à¢§arpoonÃ³à¾˜quigarroÃ·â‡°hreetimes;æ‹‹Æ€;qsâ–‹à¦“â—ºlanÃ´à¦¬Ê€;cdgsà¦¬â˜Šâ˜â˜â˜¨c;æª¨otÄ€;oâ˜”â˜•æ©¿Ä€;râ˜šâ˜›æª;æªƒÄ€;eâ˜¢â˜¥ì€€â‹šï¸€s;æª“Ê€adegsâ˜³â˜¹â˜½â™‰â™‹pproÃ¸â“†ot;æ‹–qÄ€gqâ™ƒâ™…Ã´à¦‰gtÃ²â’ŒÃ´à¦›iÃ­à¦²Æ€ilrâ™•à£¡â™šsht;æ¥¼;ì€€ğ”©Ä€;Eà¦œâ™£;æª‘Å¡â™©â™¶rÄ€duâ–²â™®Ä€;là¥¥â™³;æ¥ªlk;æ–„cy;ä‘™Ê€;achtà©ˆâšˆâš‹âš‘âš–rÃ²â—orneÃ²á´ˆard;æ¥«ri;æ—ºÄ€ioâšŸâš¤dot;ä…€ustÄ€;aâš¬âš­æ°cheÂ»âš­È€Eaesâš»âš½â›‰â›”;æ‰¨pÄ€;pâ›ƒâ›„æª‰roxÂ»â›„Ä€;qâ›â›æª‡Ä€;qâ›âš»im;æ‹¦Ğ€abnoptwzâ›©â›´â›·âœšâœ¯ââ‡âÄ€nrâ›®â›±g;æŸ¬r;æ‡½rÃ«à£gÆ€lmrâ›¿âœâœ”eftÄ€arà§¦âœ‡ightÃ¡à§²apsto;æŸ¼ightÃ¡à§½parrowÄ€lrâœ¥âœ©efÃ´â“­ight;æ†¬Æ€aflâœ¶âœ¹âœ½r;æ¦…;ì€€ğ•us;æ¨­imes;æ¨´Å¡â‹âst;æˆ—Ã¡áÆ€;efâ—â˜á €æ—ŠngeÂ»â˜arÄ€;lâ¤â¥ä€¨t;æ¦“Ê€achmtâ³â¶â¼â…â‡rÃ²à¢¨orneÃ²á¶ŒarÄ€;dà¾˜âƒ;æ¥­;æ€ri;æŠ¿Ì€achiqtâ˜âà©€â¢â®â»quo;æ€¹r;ì€€ğ“mÆ€;egà¦²âªâ¬;æª;æªÄ€buâ”ªâ³oÄ€;rà¸Ÿâ¹;æ€šrok;ä…‚è€<;cdhilqrà «âŸ’â˜¹âŸœâŸ âŸ¥âŸªâŸ°Ä€ciâŸ—âŸ™;æª¦r;æ©¹reÃ¥â—²mes;æ‹‰arr;æ¥¶uest;æ©»Ä€PiâŸµâŸ¹ar;æ¦–Æ€;efâ €à¤­á ›æ—ƒrÄ€duâ ‡â shar;æ¥Šhar;æ¥¦Ä€enâ —â ¡rtneqq;ì€€â‰¨ï¸€Ã…â Ü€Dacdefhilnopsuâ¡€â¡…â¢‚â¢â¢“â¢ â¢¥â¢¨â£šâ£¢â£¤àªƒâ£³â¤‚Dot;æˆºÈ€clprâ¡â¡’â¡£â¡½rè€»Â¯ä‚¯Ä€etâ¡—â¡™;æ™‚Ä€;eâ¡â¡Ÿæœ seÂ»â¡ŸÄ€;sá€»â¡¨toÈ€;dluá€»â¡³â¡·â¡»owÃ®ÒŒefÃ´à¤Ã°á‘ker;æ–®Ä€oyâ¢‡â¢Œmma;æ¨©;ä¼ash;æ€”asuredangleÂ»á˜¦r;ì€€ğ”ªo;æ„§Æ€cdnâ¢¯â¢´â£‰roè€»Âµä‚µÈ€;acdá‘¤â¢½â£€â£„sÃ´áš§ir;æ«°otè‚»Â·ÆµusÆ€;bdâ£’á¤ƒâ£“æˆ’Ä€;uá´¼â£˜;æ¨ªÅ£â£â£¡p;æ«›Ã²âˆ’Ã°àªÄ€dpâ£©â£®els;æŠ§f;ì€€ğ•Ä€ctâ£¸â£½r;ì€€ğ“‚posÂ»á–Æ€;lmâ¤‰â¤Šâ¤ä¼timap;æŠ¸à°€GLRVabcdefghijlmoprstuvwâ¥‚â¥“â¥¾â¦‰â¦˜â§šâ§©â¨•â¨šâ©˜â©âªƒâª•âª¤âª¨â¬„â¬‡â­„â­¿â®®â°´â±§â±¼â³©Ä€gtâ¥‡â¥‹;ì€€â‹™Ì¸Ä€;vâ¥à¯ì€€â‰«âƒ’Æ€eltâ¥šâ¥²â¥¶ftÄ€arâ¥¡â¥§rrow;æ‡ightarrow;æ‡;ì€€â‹˜Ì¸Ä€;vâ¥»à±‡ì€€â‰ªâƒ’ightarrow;æ‡Ä€Ddâ¦â¦“ash;æŠ¯ash;æŠ®Ê€bcnptâ¦£â¦§â¦¬â¦±â§ŒlaÂ»Ëute;ä…„g;ì€€âˆ âƒ’Ê€;Eiopà¶„â¦¼â§€â§…â§ˆ;ì€€â©°Ì¸d;ì€€â‰‹Ì¸s;ä…‰roÃ¸à¶„urÄ€;aâ§“â§”æ™®lÄ€;sâ§“à¬¸Ç³â§Ÿ\0â§£pè‚»Â à¬·mpÄ€;eà¯¹à°€Ê€aeouyâ§´â§¾â¨ƒâ¨â¨“Ç°â§¹\0â§»;æ©ƒon;ä…ˆdil;ä…†ngÄ€;dàµ¾â¨Šot;ì€€â©­Ì¸p;æ©‚;ä½ash;æ€“Î€;Aadqsxà®’â¨©â¨­â¨»â©â©…â©rr;æ‡—rÄ€hrâ¨³â¨¶k;æ¤¤Ä€;oá²á°ot;ì€€â‰Ì¸uiÃ¶à­£Ä€eiâ©Šâ©ar;æ¤¨Ã­à®˜istÄ€;sà® à®Ÿr;ì€€ğ”«È€Eestà¯…â©¦â©¹â©¼Æ€;qsà®¼â©­à¯¡Æ€;qsà®¼à¯…â©´lanÃ´à¯¢iÃ­à¯ªÄ€;rà®¶âªÂ»à®·Æ€AapâªŠâªâª‘rÃ²â¥±rr;æ†®ar;æ«²Æ€;svà¾âªœà¾ŒÄ€;dâª¡âª¢æ‹¼;æ‹ºcy;ä‘šÎ€AEadestâª·âªºâª¾â«‚â«…â«¶â«¹rÃ²â¥¦;ì€€â‰¦Ì¸rr;æ†šr;æ€¥È€;fqsà°»â«â«£â«¯tÄ€arâ«”â«™rroÃ·â«ightarroÃ·âªÆ€;qsà°»âªºâ«ªlanÃ´à±•Ä€;sà±•â«´Â»à°¶iÃ­à±Ä€;rà°µâ«¾iÄ€;eà°šà°¥iÃ¤à¶Ä€ptâ¬Œâ¬‘f;ì€€ğ•Ÿè†€Â¬;inâ¬™â¬šâ¬¶ä‚¬nÈ€;Edvà®‰â¬¤â¬¨â¬®;ì€€â‹¹Ì¸ot;ì€€â‹µÌ¸Ç¡à®‰â¬³â¬µ;æ‹·;æ‹¶iÄ€;và²¸â¬¼Ç¡à²¸â­â­ƒ;æ‹¾;æ‹½Æ€aorâ­‹â­£â­©rÈ€;astà­»â­•â­šâ­ŸlleÃ¬à­»l;ì€€â«½âƒ¥;ì€€âˆ‚Ì¸lint;æ¨”Æ€;ceà²’â­°â­³uÃ¥à²¥Ä€;cà²˜â­¸Ä€;eà²’â­½Ã±à²˜È€Aaitâ®ˆâ®‹â®â®§rÃ²â¦ˆrrÆ€;cwâ®”â®•â®™æ†›;ì€€â¤³Ì¸;ì€€â†Ì¸ghtarrowÂ»â®•riÄ€;eà³‹à³–Î€chimpquâ®½â¯â¯™â¬„à­¸â¯¤â¯¯È€;cerà´²â¯†à´·â¯‰uÃ¥àµ…;ì€€ğ“ƒortÉ­â¬…\0\0â¯–arÃ¡â­–mÄ€;eàµ®â¯ŸÄ€;qàµ´àµ³suÄ€bpâ¯«â¯­Ã¥à³¸Ã¥à´‹Æ€bcpâ¯¶â°‘â°™È€;Eesâ¯¿â°€à´¢â°„æŠ„;ì€€â«…Ì¸etÄ€;eà´›â°‹qÄ€;qà´£â°€cÄ€;eà´²â°—Ã±à´¸È€;Eesâ°¢â°£àµŸâ°§æŠ…;ì€€â«†Ì¸etÄ€;eàµ˜â°®qÄ€;qàµ â°£È€gilrâ°½â°¿â±…â±‡Ã¬à¯—ldeè€»Ã±äƒ±Ã§à±ƒiangleÄ€lrâ±’â±œeftÄ€;eà°šâ±šÃ±à°¦ightÄ€;eà³‹â±¥Ã±à³—Ä€;mâ±¬â±­ä½Æ€;esâ±´â±µâ±¹ä€£ro;æ„–p;æ€‡Ò€DHadgilrsâ²â²”â²™â²â²£â²°â²¶â³“â³£ash;æŠ­arr;æ¤„p;ì€€â‰âƒ’ash;æŠ¬Ä€etâ²¨â²¬;ì€€â‰¥âƒ’;ì€€>âƒ’nfin;æ§Æ€Aetâ²½â³â³…rr;æ¤‚;ì€€â‰¤âƒ’Ä€;râ³Šâ³ì€€<âƒ’ie;ì€€âŠ´âƒ’Ä€Atâ³˜â³œrr;æ¤ƒrie;ì€€âŠµâƒ’im;ì€€âˆ¼âƒ’Æ€Aanâ³°â³´â´‚rr;æ‡–rÄ€hrâ³ºâ³½k;æ¤£Ä€;oá§á¥ear;æ¤§á‰“áª•\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµˆâµ âµ¥âµ²â¶„á¬‡\0\0â¶â¶«\0â·ˆâ·\0â·œâ¸™â¸«â¸¾â¹ƒÄ€csâ´±áª—uteè€»Ã³äƒ³Ä€iyâ´¼âµ…rÄ€;cáªâµ‚è€»Ã´äƒ´;ä¾Ê€abiosáª âµ’âµ—Çˆâµšlac;ä…‘v;æ¨¸old;æ¦¼lig;ä…“Ä€crâµ©âµ­ir;æ¦¿;ì€€ğ”¬Í¯âµ¹\0\0âµ¼\0â¶‚n;ä‹›aveè€»Ã²äƒ²;æ§Ä€bmâ¶ˆà·´ar;æ¦µÈ€acitâ¶•â¶˜â¶¥â¶¨rÃ²áª€Ä€irâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹’;æ§€Æ€aeiâ¶±â¶µâ¶¹cr;ä…ga;ä‰Æ€cdnâ·€â·…Çron;ä¿;æ¦¶pf;ì€€ğ• Æ€aelâ·”â·—Ç’r;æ¦·rp;æ¦¹Î€;adiosvâ·ªâ·«â·®â¸ˆâ¸â¸â¸–æˆ¨rÃ²áª†È€;efmâ··â·¸â¸‚â¸…æ©rÄ€;oâ·¾â·¿æ„´fÂ»â·¿è€»Âªä‚ªè€»Âºä‚ºgof;æŠ¶r;æ©–lope;æ©—;æ©›Æ€cloâ¸Ÿâ¸¡â¸§Ã²â¸ashè€»Ã¸äƒ¸l;æŠ˜iÅ¬â¸¯â¸´deè€»ÃµäƒµesÄ€;aÇ›â¸ºs;æ¨¶mlè€»Ã¶äƒ¶bar;æŒ½à«¡â¹\0â¹½\0âº€âº\0âº¢âº¹\0\0â»‹àºœ\0â¼“\0\0â¼«â¾¼\0â¿ˆrÈ€;astĞƒâ¹§â¹²àº…è„€Â¶;lâ¹­â¹®ä‚¶leÃ¬ĞƒÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊ€cimptâº‹âºâº“á¡¥âº—nt;ä€¥od;ä€®il;æ€°enk;æ€±r;ì€€ğ”­Æ€imoâº¨âº°âº´Ä€;vâº­âº®ä†;ä•maÃ´à©¶ne;æ˜Æ€;tvâº¿â»€â»ˆä€chforkÂ»á¿½;ä–Ä€auâ»â»ŸnÄ€ckâ»•â»kÄ€;hâ‡´â»›;æ„Ã¶â‡´sÒ€;abcdemstâ»³â»´á¤ˆâ»¹â»½â¼„â¼†â¼Šâ¼ä€«cir;æ¨£ir;æ¨¢Ä€ouáµ€â¼‚;æ¨¥;æ©²nè‚»Â±àºim;æ¨¦wo;æ¨§Æ€ipuâ¼™â¼ â¼¥ntint;æ¨•f;ì€€ğ•¡ndè€»Â£ä‚£Ô€;Eaceinosuà»ˆâ¼¿â½â½„â½‡â¾â¾‰â¾’â½¾â¾¶;æª³p;æª·uÃ¥à»™Ä€;cà»â½ŒÌ€;acensà»ˆâ½™â½Ÿâ½¦â½¨â½¾pproÃ¸â½ƒurlyeÃ±à»™Ã±à»Æ€aesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ‹¨iÃ­à»ŸmeÄ€;sâ¾ˆàº®æ€²Æ€Easâ½¸â¾â½ºÃ°â½µÆ€dfpà»¬â¾™â¾¯Æ€alsâ¾ â¾¥â¾ªlar;æŒ®ine;æŒ’urf;æŒ“Ä€;tà»»â¾´Ã¯à»»rel;æŠ°Ä€ciâ¿€â¿…r;ì€€ğ“…;äˆncsp;æ€ˆÌ€fiopsuâ¿šâ‹¢â¿Ÿâ¿¥â¿«â¿±r;ì€€ğ”®pf;ì€€ğ•¢rime;æ—cr;ì€€ğ“†Æ€aeoâ¿¸ã€‰ã€“tÄ€eiâ¿¾ã€…rnionÃ³Ú°nt;æ¨–stÄ€;eã€ã€‘ä€¿Ã±á¼™Ã´à¼”àª€ABHabcdefhilmnoprstuxã€ã‘ã•ã™ãƒ ã„ã„«ã…‡ã…¢ã…²ã†ãˆ†ãˆ•ãˆ¤ãˆ©ã‰˜ã‰®ã‰²ãŠãŠ°ãŠ·Æ€artã‡ãŠãŒrÃ²á‚³Ã²Ïail;æ¤œarÃ²á±¥ar;æ¥¤Î€cdenqrtã¨ãµã¸ã¿ã‚ã‚”ãƒŒÄ€euã­ã±;ì€€âˆ½Ì±te;ä…•iÃ£á…®mptyv;æ¦³gÈ€;delà¿‘ã‚‰ã‚‹ã‚;æ¦’;æ¦¥Ã¥à¿‘uoè€»Â»ä‚»rÖ€;abcfhlpstwà¿œã‚¬ã‚¯ã‚·ã‚¹ã‚¼ã‚¾ãƒ€ãƒƒãƒ‡ãƒŠp;æ¥µÄ€;fà¿ ã‚´s;æ¤ ;æ¤³s;æ¤Ã«â‰Ã°âœ®l;æ¥…im;æ¥´l;æ†£;æ†Ä€aiãƒ‘ãƒ•il;æ¤šoÄ€;nãƒ›ãƒœæˆ¶alÃ³à¼Æ€abrãƒ§ãƒªãƒ®rÃ²áŸ¥rk;æ³Ä€akãƒ³ãƒ½cÄ€ekãƒ¹ãƒ»;ä½;äÄ€esã„‚ã„„;æ¦ŒlÄ€duã„Šã„Œ;æ¦;æ¦È€aeuyã„—ã„œã„§ã„©ron;ä…™Ä€diã„¡ã„¥il;ä…—Ã¬à¿²Ã¢ãƒº;ä‘€È€clqsã„´ã„·ã„½ã…„a;æ¤·dhar;æ¥©uoÄ€;rÈÈh;æ†³Æ€acgã…ã…Ÿà½„lÈ€;ipsà½¸ã…˜ã…›á‚œnÃ¥á‚»arÃ´à¾©t;æ–­Æ€ilrã…©á€£ã…®sht;æ¥½;ì€€ğ”¯Ä€aoã…·ã††rÄ€duã…½ã…¿Â»Ñ»Ä€;lá‚‘ã†„;æ¥¬Ä€;vã†‹ã†Œä;ä±Æ€gnsã†•ã‡¹ã‡¼htÌ€ahlrstã†¤ã†°ã‡‚ã‡˜ã‡¤ã‡®rrowÄ€;tà¿œã†­aÃ©ãƒˆarpoonÄ€duã†»ã†¿owÃ®ã…¾pÂ»á‚’eftÄ€ahã‡Šã‡rrowÃ³à¿ªarpoonÃ³Õ‘ightarrows;æ‡‰quigarroÃ·ãƒ‹hreetimes;æ‹Œg;ä‹šingdotseÃ±á¼²Æ€ahmãˆãˆãˆ“rÃ²à¿ªaÃ²Õ‘;æ€oustÄ€;aãˆãˆŸæ±cheÂ»ãˆŸmid;æ«®È€abptãˆ²ãˆ½ã‰€ã‰’Ä€nrãˆ·ãˆºg;æŸ­r;æ‡¾rÃ«á€ƒÆ€aflã‰‡ã‰Šã‰r;æ¦†;ì€€ğ•£us;æ¨®imes;æ¨µÄ€apã‰ã‰§rÄ€;gã‰£ã‰¤ä€©t;æ¦”olint;æ¨’arÃ²ã‡£È€achqã‰»ãŠ€á‚¼ãŠ…quo;æ€ºr;ì€€ğ“‡Ä€buãƒ»ãŠŠoÄ€;rÈ”È“Æ€hirãŠ—ãŠ›ãŠ reÃ¥ã‡¸mes;æ‹ŠiÈ€;eflãŠªá™á ¡ãŠ«æ–¹tri;æ§luhar;æ¥¨;æ„àµ¡ã‹•ã‹›ã‹ŸãŒ¬ãŒ¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ã‘ˆã‘šã’­ã’±ã“Šã“±\0ã˜–\0\0ã˜³cute;ä…›quÃ¯âºÔ€;Eaceinpsyá‡­ã‹³ã‹µã‹¿ãŒ‚ãŒ‹ãŒãŒŸãŒ¦ãŒ©;æª´Ç°ã‹º\0ã‹¼;æª¸on;ä…¡uÃ¥á‡¾Ä€;dá‡³ãŒ‡il;ä…Ÿrc;ä…Æ€EasãŒ–ãŒ˜ãŒ›;æª¶p;æªºim;æ‹©olint;æ¨“iÃ­áˆ„;ä‘otÆ€;beãŒ´áµ‡ãŒµæ‹…;æ©¦Î€Aacmstxã†ãŠã—ã›ãã£ã­rr;æ‡˜rÄ€hrãã’Ã«âˆ¨Ä€;oà¨¶à¨´tè€»Â§ä‚§i;ä€»war;æ¤©mÄ€inã©Ã°nuÃ³Ã±t;æœ¶rÄ€;oã¶â•ì€€ğ”°È€acoyã‚ã†ã‘ã rp;æ™¯Ä€hyã‹ãcy;ä‘‰;ä‘ˆrtÉ­ã™\0\0ãœiÃ¤á‘¤araÃ¬â¹¯è€»Â­ä‚­Ä€gmã¨ã´maÆ€;fvã±ã²ã²äƒ;ä‚Ğ€;deglnpráŠ«ã…ã‰ãã–ãã¡ã¦ot;æ©ªÄ€;qáŠ±áŠ°Ä€;Eã“ã”æª;æª Ä€;Eã›ãœæª;æªŸe;æ‰†lus;æ¨¤arr;æ¥²arÃ²á„½È€aeitã¸ãˆãã—Ä€lsã½ã„lsetmÃ©ãªhp;æ¨³parsl;æ§¤Ä€dlá‘£ã”e;æŒ£Ä€;eãœãæªªÄ€;sã¢ã£æª¬;ì€€âª¬ï¸€Æ€flpã®ã³ã‘‚tcy;ä‘ŒÄ€;bã¸ã¹ä€¯Ä€;aã¾ã¿æ§„r;æŒ¿f;ì€€ğ•¤aÄ€drã‘Ğ‚esÄ€;uã‘”ã‘•æ™ itÂ»ã‘•Æ€csuã‘ ã‘¹ã’ŸÄ€auã‘¥ã‘¯pÄ€;sá†ˆã‘«;ì€€âŠ“ï¸€pÄ€;sá†´ã‘µ;ì€€âŠ”ï¸€uÄ€bpã‘¿ã’Æ€;esá†—á†œã’†etÄ€;eá†—ã’Ã±á†Æ€;esá†¨á†­ã’–etÄ€;eá†¨ã’Ã±á†®Æ€;afá…»ã’¦Ö°rÅ¥ã’«Ö±Â»á…¼arÃ²á…ˆÈ€cemtã’¹ã’¾ã“‚ã“…r;ì€€ğ“ˆtmÃ®Ã±iÃ¬ã•arÃ¦á†¾Ä€arã“ã“•rÄ€;fã“”á¿æ˜†Ä€anã“šã“­ightÄ€epã“£ã“ªpsiloÃ®á» hÃ©âº¯sÂ»â¡’Ê€bcmnpã“»ã•áˆ‰ã–‹ã–Ò€;Edemnprsã”ã”ã”‘ã”•ã”ã”£ã”¬ã”±ã”¶æŠ‚;æ«…ot;æª½Ä€;dá‡šã”šot;æ«ƒult;æ«Ä€Eeã”¨ã”ª;æ«‹;æŠŠlus;æª¿arr;æ¥¹Æ€eiuã”½ã•’ã••tÆ€;enã”ã•…ã•‹qÄ€;qá‡šã”eqÄ€;qã”«ã”¨m;æ«‡Ä€bpã•šã•œ;æ«•;æ«“cÌ€;acensá‡­ã•¬ã•²ã•¹ã•»ãŒ¦pproÃ¸ã‹ºurlyeÃ±á‡¾Ã±á‡³Æ€aesã–‚ã–ˆãŒ›pproÃ¸ãŒšqÃ±ãŒ—g;æ™ªÚ€123;Edehlmnpsã–©ã–¬ã–¯áˆœã–²ã–´ã—€ã—‰ã—•ã—šã—Ÿã—¨ã—­è€»Â¹ä‚¹è€»Â²ä‚²è€»Â³ä‚³;æ«†Ä€osã–¹ã–¼t;æª¾ub;æ«˜Ä€;dáˆ¢ã—…ot;æ«„sÄ€ouã—ã—’l;æŸ‰b;æ«—arr;æ¥»ult;æ«‚Ä€Eeã—¤ã—¦;æ«Œ;æŠ‹lus;æ«€Æ€eiuã—´ã˜‰ã˜ŒtÆ€;enáˆœã—¼ã˜‚qÄ€;qáˆ¢ã–²eqÄ€;qã—§ã—¤m;æ«ˆÄ€bpã˜‘ã˜“;æ«”;æ«–Æ€Aanã˜œã˜ ã˜­rr;æ‡™rÄ€hrã˜¦ã˜¨Ã«âˆ®Ä€;oà¨«à¨©war;æ¤ªligè€»ÃŸäƒŸà¯¡ã™‘ã™ã™ á‹ã™³ã™¹\0ã™¾ã›‚\0\0\0\0\0ã››ãœƒ\0ãœ‰ã¬\0\0\0ã‡É²ã™–\0\0ã™›get;æŒ–;ä„rÃ«à¹ŸÆ€aeyã™¦ã™«ã™°ron;ä…¥dil;ä…£;ä‘‚lrec;æŒ•r;ì€€ğ”±È€eikoãš†ãšãšµãš¼Ç²ãš‹\0ãš‘eÄ€4fáŠ„áŠaÆ€;svãš˜ãš™ãš›ä¸ym;ä‘Ä€cnãš¢ãš²kÄ€asãš¨ãš®pproÃ¸á‹imÂ»áŠ¬sÃ°áŠÄ€asãšºãš®Ã°á‹rnè€»Ã¾äƒ¾Ç¬ÌŸã›†â‹§esè†€Ã—;bdã›ã›ã›˜äƒ—Ä€;aá¤ã›•r;æ¨±;æ¨°Æ€epsã›¡ã›£ãœ€Ã¡â©È€;bcfÒ†ã›¬ã›°ã›´ot;æŒ¶ir;æ«±Ä€;oã›¹ã›¼ì€€ğ•¥rk;æ«šÃ¡ã¢rime;æ€´Æ€aipãœãœ’ã¤dÃ¥á‰ˆÎ€adempstãœ¡ãã€ã‘ã—ãœãŸngleÊ€;dlqrãœ°ãœ±ãœ¶ã€ã‚æ–µownÂ»á¶»eftÄ€;eâ €ãœ¾Ã±à¤®;æ‰œightÄ€;eãŠªã‹Ã±ášot;æ—¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æ€chtã²ã½ãÄ€ryã·ã»;ì€€ğ“‰;ä‘†cy;ä‘›rok;ä…§Ä€ioã‹ãxÃ´á·headÄ€lrã—ã eftarroÃ·à¡ightarrowÂ»à½à¤€AHabcdfghlmoprstuwãŸãŸ“ãŸ—ãŸ¤ãŸ°ãŸ¼ã ã œã £ã ´ã¡‘ã¡ã¡«ã¢©ã£Œã£’ã£ªã£¶rÃ²Ï­ar;æ¥£Ä€crãŸœãŸ¢uteè€»ÃºäƒºÃ²á…rÇ£ãŸª\0ãŸ­y;ä‘ve;ä…­Ä€iyãŸµãŸºrcè€»Ã»äƒ»;ä‘ƒÆ€abhã ƒã †ã ‹rÃ²á­lac;ä…±aÃ²áƒÄ€irã “ã ˜sht;æ¥¾;ì€€ğ”²raveè€»Ã¹äƒ¹Å¡ã §ã ±rÄ€lrã ¬ã ®Â»à¥—Â»á‚ƒlk;æ–€Ä€ctã ¹ã¡É¯ã ¿\0\0ã¡ŠrnÄ€;eã¡…ã¡†æŒœrÂ»ã¡†op;æŒri;æ—¸Ä€alã¡–ã¡šcr;ä…«è‚»Â¨Í‰Ä€gpã¡¢ã¡¦on;ä…³f;ì€€ğ•¦Ì€adhlsuá…‹ã¡¸ã¡½á²ã¢‘ã¢ ownÃ¡á³arpoonÄ€lrã¢ˆã¢ŒefÃ´ã ­ighÃ´ã ¯iÆ€;hlã¢™ã¢šã¢œä…Â»áºonÂ»ã¢šparrows;æ‡ˆÆ€citã¢°ã£„ã£ˆÉ¯ã¢¶\0\0ã£rnÄ€;eã¢¼ã¢½æŒrÂ»ã¢½op;æŒng;ä…¯ri;æ—¹cr;ì€€ğ“ŠÆ€dirã£™ã£ã£¢ot;æ‹°lde;ä…©iÄ€;fãœ°ã£¨Â»á “Ä€amã£¯ã£²rÃ²ã¢¨lè€»Ã¼äƒ¼angle;æ¦§Ş€ABDacdeflnoprszã¤œã¤Ÿã¤©ã¤­ã¦µã¦¸ã¦½ã§Ÿã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ€;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Ä€nrã¤²ã¤·grt;æ¦œÎ€eknprstã“£ã¥†ã¥‹ã¥’ã¥ã¥¤ã¦–appÃ¡â•othinÃ§áº–Æ€hirã“«â»ˆã¥™opÃ´â¾µÄ€;há·ã¥¢Ã¯ã†Ä€iuã¥©ã¥­gmÃ¡ã³Ä€bpã¥²ã¦„setneqÄ€;qã¥½ã¦€ì€€âŠŠï¸€;ì€€â«‹ï¸€setneqÄ€;qã¦ã¦’ì€€âŠ‹ï¸€;ì€€â«Œï¸€Ä€hrã¦›ã¦ŸetÃ¡ãšœiangleÄ€lrã¦ªã¦¯eftÂ»à¤¥ightÂ»á‘y;ä²ashÂ»á€¶Æ€elrã§„ã§’ã§—Æ€;beâ·ªã§‹ã§ar;æŠ»q;æ‰šlip;æ‹®Ä€btã§œá‘¨aÃ²á‘©r;ì€€ğ”³trÃ©ã¦®suÄ€bpã§¯ã§±Â»à´œÂ»àµ™pf;ì€€ğ•§roÃ°à»»trÃ©ã¦´Ä€cuã¨†ã¨‹r;ì€€ğ“‹Ä€bpã¨ã¨˜nÄ€Eeã¦€ã¨–Â»ã¥¾nÄ€Eeã¦’ã¨Â»ã¦igzag;æ¦šÎ€cefoprsã¨¶ã¨»ã©–ã©›ã©”ã©¡ã©ªirc;ä…µÄ€diã©€ã©‘Ä€bgã©…ã©‰ar;æ©ŸeÄ€;qá—ºã©;æ‰™erp;æ„˜r;ì€€ğ”´pf;ì€€ğ•¨Ä€;eá‘¹ã©¦atÃ¨á‘¹cr;ì€€ğ“Œà«£áãª‡\0ãª‹\0ãªãª›\0\0ãªãª¨ãª«ãª¯\0\0ã«ƒã«\0ã«˜áŸœáŸŸtrÃ©áŸ‘r;ì€€ğ”µÄ€Aaãª”ãª—rÃ²ÏƒrÃ²à§¶;ä¾Ä€Aaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âœ“is;æ‹»Æ€dptá¤ãªµãª¾Ä€flãªºá©;ì€€ğ•©imÃ¥á²Ä€Aaã«‡ã«ŠrÃ²ÏrÃ²à¨Ä€cqã«’á¸r;ì€€ğ“Ä€ptáŸ–ã«œrÃ©áŸ”Ğ€acefiosuã«°ã«½ã¬ˆã¬Œã¬‘ã¬•ã¬›ã¬¡cÄ€uyã«¶ã«»teè€»Ã½äƒ½;ä‘Ä€iyã¬‚ã¬†rc;ä…·;ä‘‹nè€»Â¥ä‚¥r;ì€€ğ”¶cy;ä‘—pf;ì€€ğ•ªcr;ì€€ğ“Ä€cmã¬¦ã¬©y;ä‘lè€»Ã¿äƒ¿Ô€acdefhioswã­‚ã­ˆã­”ã­˜ã­¤ã­©ã­­ã­´ã­ºã®€cute;ä…ºÄ€ayã­ã­’ron;ä…¾;ä·ot;ä…¼Ä€etã­ã­¡trÃ¦á•Ÿa;ä¶r;ì€€ğ”·cy;ä¶grarr;æ‡pf;ì€€ğ•«cr;ì€€ğ“Ä€jnã®…ã®‡;æ€j;æ€Œ'.split("").map((t=>t.charCodeAt(0)))),rt=new Uint16Array("È€aglq\tÉ­\0\0p;ä€¦os;ä€§t;ä€¾t;ä€¼uot;ä€¢".split("").map((t=>t.charCodeAt(0))));var nt;const ot=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),it=null!==(nt=String.fromCodePoint)&&void 0!==nt?nt:function(t){let e="";return t>65535&&(e+=String.fromCharCode((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};function at(t){var e;return t>=55296&&t<=57343||t>1114111?65533:null!==(e=ot.get(t))&&void 0!==e?e:t}var st;!function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"}(st||(st={}));var ct,ut,lt;function ft(t){return t>=st.ZERO&&t<=st.NINE}function ht(t){return t===st.EQUALS||function(t){return t>=st.UPPER_A&&t<=st.UPPER_Z||t>=st.LOWER_A&&t<=st.LOWER_Z||ft(t)}(t)}!function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"}(ct||(ct={})),function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"}(ut||(ut={})),function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"}(lt||(lt={}));class pt{constructor(t,e,r){this.decodeTree=t,this.emitCodePoint=e,this.errors=r,this.state=ut.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=lt.Strict}startEntity(t){this.decodeMode=t,this.state=ut.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case ut.EntityStart:return t.charCodeAt(e)===st.NUM?(this.state=ut.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=ut.NamedEntity,this.stateNamedEntity(t,e));case ut.NumericStart:return this.stateNumericStart(t,e);case ut.NumericDecimal:return this.stateNumericDecimal(t,e);case ut.NumericHex:return this.stateNumericHex(t,e);case ut.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(32|t.charCodeAt(e))===st.LOWER_X?(this.state=ut.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=ut.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,r,n){if(e!==r){const o=r-e;this.result=this.result*Math.pow(n,o)+parseInt(t.substr(e,o),n),this.consumed+=o}}stateNumericHex(t,e){const r=e;for(;e<t.length;){const o=t.charCodeAt(e);if(!(ft(o)||(n=o,n>=st.UPPER_A&&n<=st.UPPER_F||n>=st.LOWER_A&&n<=st.LOWER_F)))return this.addToNumericResult(t,r,e,16),this.emitNumericEntity(o,3);e+=1}var n;return this.addToNumericResult(t,r,e,16),-1}stateNumericDecimal(t,e){const r=e;for(;e<t.length;){const n=t.charCodeAt(e);if(!ft(n))return this.addToNumericResult(t,r,e,10),this.emitNumericEntity(n,2);e+=1}return this.addToNumericResult(t,r,e,10),-1}emitNumericEntity(t,e){var r;if(this.consumed<=e)return null===(r=this.errors)||void 0===r||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===st.SEMI)this.consumed+=1;else if(this.decodeMode===lt.Strict)return 0;return this.emitCodePoint(at(this.result),this.consumed),this.errors&&(t!==st.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:r}=this;let n=r[this.treeIndex],o=(n&ct.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const i=t.charCodeAt(e);if(this.treeIndex=yt(r,n,this.treeIndex+Math.max(1,o),i),this.treeIndex<0)return 0===this.result||this.decodeMode===lt.Attribute&&(0===o||ht(i))?0:this.emitNotTerminatedNamedEntity();if(n=r[this.treeIndex],o=(n&ct.VALUE_LENGTH)>>14,0!==o){if(i===st.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==lt.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:r}=this,n=(r[e]&ct.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,n,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,r){const{decodeTree:n}=this;return this.emitCodePoint(1===e?n[t]&~ct.VALUE_LENGTH:n[t+1],r),3===e&&this.emitCodePoint(n[t+2],r),r}end(){var t;switch(this.state){case ut.NamedEntity:return 0===this.result||this.decodeMode===lt.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case ut.NumericDecimal:return this.emitNumericEntity(0,2);case ut.NumericHex:return this.emitNumericEntity(0,3);case ut.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ut.EntityStart:return 0}}}function dt(t){let e="";const r=new pt(t,(t=>e+=it(t)));return function(t,n){let o=0,i=0;for(;(i=t.indexOf("&",i))>=0;){e+=t.slice(o,i),r.startEntity(n);const a=r.write(t,i+1);if(a<0){o=i+r.end();break}o=i+a,i=0===a?o+1:o}const a=e+t.slice(o);return e="",a}}function yt(t,e,r,n){const o=(e&ct.BRANCH_LENGTH)>>7,i=e&ct.JUMP_TABLE;if(0===o)return 0!==i&&n===i?r:-1;if(i){const e=n-i;return e<0||e>=o?-1:t[r+e]-1}let a=r,s=a+o-1;for(;a<=s;){const e=a+s>>>1,r=t[e];if(r<n)a=e+1;else{if(!(r>n))return t[e+o];s=e-1}}return-1}dt(et),dt(rt);function vt(t){for(let e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}new Map(vt([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(vt([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(vt([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(vt([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const mt=/["&'<>$\x80-\uFFFF]/g,gt=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),bt=null!=String.prototype.codePointAt?(t,e)=>t.codePointAt(e):(t,e)=>55296==(64512&t.charCodeAt(e))?1024*(t.charCodeAt(e)-55296)+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function wt(t){let e,r="",n=0;for(;null!==(e=mt.exec(t));){const o=e.index,i=t.charCodeAt(o),a=gt.get(i);void 0!==a?(r+=t.substring(n,o)+a,n=o+1):(r+=`${t.substring(n,o)}&#x${bt(t,o).toString(16)};`,n=mt.lastIndex+=Number(55296==(64512&i)))}return r+t.substr(n)}function Et(t,e){return function(r){let n,o=0,i="";for(;n=t.exec(r);)o!==n.index&&(i+=r.substring(o,n.index)),i+=e.get(n[0].charCodeAt(0)),o=n.index+1;return i+r.substring(o)}}Et(/[&<>'"]/g,gt);const xt=Et(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),St=Et(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var _t,At;!function(t){t[t.XML=0]="XML",t[t.HTML=1]="HTML"}(_t||(_t={})),function(t){t[t.UTF8=0]="UTF8",t[t.ASCII=1]="ASCII",t[t.Extensive=2]="Extensive",t[t.Attribute=3]="Attribute",t[t.Text=4]="Text"}(At||(At={}));const Tt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((t=>[t.toLowerCase(),t]))),Lt=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((t=>[t.toLowerCase(),t]))),kt=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Ot(t){return t.replace(/"/g,"&quot;")}const It=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Nt(t,e={}){const r="length"in t?t:[t];let n="";for(let t=0;t<r.length;t++)n+=Ct(r[t],e);return n}const Pt=Nt;function Ct(t,e){switch(t.type){case T:return Nt(t.children,e);case D:case k:return`<${t.data}>`;case O:return function(t){return`\x3c!--${t.data}--\x3e`}(t);case C:return function(t){return`<![CDATA[${t.children[0].data}]]>`}(t);case I:case N:case P:return function(t,e){var r;"foreign"===e.xmlMode&&(t.name=null!==(r=Tt.get(t.name))&&void 0!==r?r:t.name,t.parent&&Dt.has(t.parent.name)&&(e={...e,xmlMode:!1}));!e.xmlMode&&Rt.has(t.name)&&(e={...e,xmlMode:"foreign"});let n="<"+t.name;const o=function(t,e){var r;if(!t)return;const n=!1===(null!==(r=e.encodeEntities)&&void 0!==r?r:e.decodeEntities)?Ot:e.xmlMode||"utf8"!==e.encodeEntities?wt:xt;return Object.keys(t).map((r=>{var o,i;const a=null!==(o=t[r])&&void 0!==o?o:"";return"foreign"===e.xmlMode&&(r=null!==(i=Lt.get(r))&&void 0!==i?i:r),e.emptyAttrs||e.xmlMode||""!==a?`${r}="${n(a)}"`:r})).join(" ")}(t.attribs,e);o&&(n+=" "+o);0===t.children.length&&(e.xmlMode?!1!==e.selfClosingTags:e.selfClosingTags&&It.has(t.name))?(e.xmlMode||(n+=" "),n+="/>"):(n+=">",t.children.length>0&&(n+=Nt(t.children,e)),!e.xmlMode&&It.has(t.name)||(n+=`</${t.name}>`));return n}(t,e);case L:return function(t,e){var r;let n=t.data||"";!1===(null!==(r=e.encodeEntities)&&void 0!==r?r:e.decodeEntities)||!e.xmlMode&&t.parent&&kt.has(t.parent.name)||(n=e.xmlMode||"utf8"!==e.encodeEntities?wt(n):St(n));return n}(t,e)}}const Dt=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Rt=new Set(["svg","math"]);function jt(t,e){return Pt(t,e)}function Ft(t,e){return X(t)?t.children.map((t=>jt(t,e))).join(""):""}function Bt(t){return Array.isArray(t)?t.map(Bt).join(""):V(t)?"br"===t.name?"\n":Bt(t.children):K(t)?Bt(t.children):Y(t)?t.data:""}function Gt(t){return Array.isArray(t)?t.map(Gt).join(""):X(t)&&!W(t)?Gt(t.children):Y(t)?t.data:""}function Mt(t){return Array.isArray(t)?t.map(Mt).join(""):X(t)&&(t.type===A.Tag||K(t))?Mt(t.children):Y(t)?t.data:""}function Ut(t){return X(t)?t.children:[]}function Ht(t){return t.parent||null}function qt(t){const e=Ht(t);if(null!=e)return Ut(e);const r=[t];let{prev:n,next:o}=t;for(;null!=n;)r.unshift(n),({prev:n}=n);for(;null!=o;)r.push(o),({next:o}=o);return r}function Vt(t,e){var r;return null===(r=t.attribs)||void 0===r?void 0:r[e]}function Kt(t,e){return null!=t.attribs&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&null!=t.attribs[e]}function Yt(t){return t.name}function Wt(t){let{next:e}=t;for(;null!==e&&!V(e);)({next:e}=e);return e}function zt(t){let{prev:e}=t;for(;null!==e&&!V(e);)({prev:e}=e);return e}function $t(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){const e=t.parent.children,r=e.lastIndexOf(t);r>=0&&e.splice(r,1)}t.next=null,t.prev=null,t.parent=null}function Xt(t,e){const r=e.prev=t.prev;r&&(r.next=e);const n=e.next=t.next;n&&(n.prev=e);const o=e.parent=t.parent;if(o){const r=o.children;r[r.lastIndexOf(t)]=e,t.parent=null}}function Jt(t,e){if($t(e),e.next=null,e.parent=t,t.children.push(e)>1){const r=t.children[t.children.length-2];r.next=e,e.prev=r}else e.prev=null}function Qt(t,e){$t(e);const{parent:r}=t,n=t.next;if(e.next=n,e.prev=t,t.next=e,e.parent=r,n){if(n.prev=e,r){const t=r.children;t.splice(t.lastIndexOf(n),0,e)}}else r&&r.children.push(e)}function Zt(t,e){if($t(e),e.parent=t,e.prev=null,1!==t.children.unshift(e)){const r=t.children[1];r.prev=e,e.next=r}else e.next=null}function te(t,e){$t(e);const{parent:r}=t;if(r){const n=r.children;n.splice(n.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,e.next=t,t.prev=e}function ee(t,e,r=!0,n=1/0){return re(t,Array.isArray(e)?e:[e],r,n)}function re(t,e,r,n){const o=[],i=[e],a=[0];for(;;){if(a[0]>=i[0].length){if(1===a.length)return o;i.shift(),a.shift();continue}const e=i[0][a[0]++];if(t(e)&&(o.push(e),--n<=0))return o;r&&X(e)&&e.children.length>0&&(a.unshift(0),i.unshift(e.children))}}function ne(t,e){return e.find(t)}function oe(t,e,r=!0){let n=null;for(let o=0;o<e.length&&!n;o++){const i=e[o];V(i)&&(t(i)?n=i:r&&i.children.length>0&&(n=oe(t,i.children,!0)))}return n}function ie(t,e){return e.some((e=>V(e)&&(t(e)||ie(t,e.children))))}function ae(t,e){const r=[],n=[e],o=[0];for(;;){if(o[0]>=n[0].length){if(1===n.length)return r;n.shift(),o.shift();continue}const e=n[0][o[0]++];V(e)&&(t(e)&&r.push(e),e.children.length>0&&(o.unshift(0),n.unshift(e.children)))}}const se={tag_name:t=>"function"==typeof t?e=>V(e)&&t(e.name):"*"===t?V:e=>V(e)&&e.name===t,tag_type:t=>"function"==typeof t?e=>t(e.type):e=>e.type===t,tag_contains:t=>"function"==typeof t?e=>Y(e)&&t(e.data):e=>Y(e)&&e.data===t};function ce(t,e){return"function"==typeof e?r=>V(r)&&e(r.attribs[t]):r=>V(r)&&r.attribs[t]===e}function ue(t,e){return r=>t(r)||e(r)}function le(t){const e=Object.keys(t).map((e=>{const r=t[e];return Object.prototype.hasOwnProperty.call(se,e)?se[e](r):ce(e,r)}));return 0===e.length?null:e.reduce(ue)}function fe(t,e){const r=le(t);return!r||r(e)}function he(t,e,r,n=1/0){const o=le(t);return o?ee(o,e,r,n):[]}function pe(t,e,r=!0){return Array.isArray(e)||(e=[e]),oe(ce("id",t),e,r)}function de(t,e,r=!0,n=1/0){return ee(se.tag_name(t),e,r,n)}function ye(t,e,r=!0,n=1/0){return ee(se.tag_type(t),e,r,n)}function ve(t){let e=t.length;for(;--e>=0;){const r=t[e];if(e>0&&t.lastIndexOf(r,e-1)>=0)t.splice(e,1);else for(let n=r.parent;n;n=n.parent)if(t.includes(n)){t.splice(e,1);break}}return t}var me;function ge(t,e){const r=[],n=[];if(t===e)return 0;let o=X(t)?t:t.parent;for(;o;)r.unshift(o),o=o.parent;for(o=X(e)?e:e.parent;o;)n.unshift(o),o=o.parent;const i=Math.min(r.length,n.length);let a=0;for(;a<i&&r[a]===n[a];)a++;if(0===a)return me.DISCONNECTED;const s=r[a-1],c=s.children,u=r[a],l=n[a];return c.indexOf(u)>c.indexOf(l)?s===e?me.FOLLOWING|me.CONTAINED_BY:me.FOLLOWING:s===t?me.PRECEDING|me.CONTAINS:me.PRECEDING}function be(t){return(t=t.filter(((t,e,r)=>!r.includes(t,e+1)))).sort(((t,e)=>{const r=ge(t,e);return r&me.PRECEDING?-1:r&me.FOLLOWING?1:0})),t}function we(t){const e=_e(Le,t);return e?"feed"===e.name?function(t){var e;const r=t.children,n={type:"atom",items:de("entry",r).map((t=>{var e;const{children:r}=t,n={media:Se(r)};Te(n,"id","id",r),Te(n,"title","title",r);const o=null===(e=_e("link",r))||void 0===e?void 0:e.attribs.href;o&&(n.link=o);const i=Ae("summary",r)||Ae("content",r);i&&(n.description=i);const a=Ae("updated",r);return a&&(n.pubDate=new Date(a)),n}))};Te(n,"id","id",r),Te(n,"title","title",r);const o=null===(e=_e("link",r))||void 0===e?void 0:e.attribs.href;o&&(n.link=o);Te(n,"description","subtitle",r);const i=Ae("updated",r);i&&(n.updated=new Date(i));return Te(n,"author","email",r,!0),n}(e):function(t){var e,r;const n=null!==(r=null===(e=_e("channel",t.children))||void 0===e?void 0:e.children)&&void 0!==r?r:[],o={type:t.name.substr(0,3),id:"",items:de("item",t.children).map((t=>{const{children:e}=t,r={media:Se(e)};Te(r,"id","guid",e),Te(r,"title","title",e),Te(r,"link","link",e),Te(r,"description","description",e);const n=Ae("pubDate",e)||Ae("dc:date",e);return n&&(r.pubDate=new Date(n)),r}))};Te(o,"title","title",n),Te(o,"link","link",n),Te(o,"description","description",n);const i=Ae("lastBuildDate",n);i&&(o.updated=new Date(i));return Te(o,"author","managingEditor",n,!0),o}(e):null}!function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"}(me||(me={}));const Ee=["url","type","lang"],xe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function Se(t){return de("media:content",t).map((t=>{const{attribs:e}=t,r={medium:e.medium,isDefault:!!e.isDefault};for(const t of Ee)e[t]&&(r[t]=e[t]);for(const t of xe)e[t]&&(r[t]=parseInt(e[t],10));return e.expression&&(r.expression=e.expression),r}))}function _e(t,e){return de(t,e,!0,1)[0]}function Ae(t,e,r=!1){return Gt(de(t,e,r,1)).trim()}function Te(t,e,r,n,o=!1){const i=Ae(r,n,o);i&&(t[e]=i)}function Le(t){return"rss"===t||"feed"===t||"rdf:RDF"===t}const ke={_useHtmlParser2:!1};function Oe(t,e){if(!t)return null!=e?e:ke;const r={_useHtmlParser2:!!t.xmlMode,...e,...t};return t.xml?(r._useHtmlParser2=!0,r.xmlMode=!0,!0!==t.xml&&Object.assign(r,t.xml)):t.xmlMode&&(r._useHtmlParser2=!0),r}function Ie(t,e,r){return t?t(null!=e?e:t._root.children,null,void 0,r).toString():""}function Ne(t,e){return Ie(this,function(t,e){return!e&&"object"==typeof t&&null!=t&&!("length"in t)&&!("type"in t)}(t)?void(e=t):t,{...null==this?void 0:this._options,...Oe(e)})}function Pe(t){return Ie(this,t,{...this._options,xmlMode:!0})}function Ce(t){const e=null!=t?t:this?this.root():[];let r="";for(let t=0;t<e.length;t++)r+=Gt(e[t]);return r}function De(t,e,r="boolean"==typeof e&&e){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(r=e);const n=this.load(t,this._options,!1);return r||n("script").remove(),[...n.root()[0].children]}function Re(){return this(this._root)}function je(t,e){if(e===t)return!1;let r=e;for(;r&&r!==r.parent;)if(r=r.parent,r===t)return!0;return!1}function Fe(t){return this.root().extract(t)}function Be(t,e){if(!Ge(t)||!Ge(e))return;let r=t.length;const n=+e.length;for(let o=0;o<n;o++)t[r++]=e[o];return t.length=r,t}function Ge(t){if(Array.isArray(t))return!0;if("object"!=typeof t||null===t||!("length"in t)||"number"!=typeof t.length||t.length<0)return!1;for(let e=0;e<t.length;e++)if(!(e in t))return!1;return!0}function Me(t){return null!=t.cheerio}function Ue(t,e){const r=t.length;for(let n=0;n<r;n++)e(t[n],n);return t}var He;function qe(t){const e=t.indexOf("<");if(e<0||e>t.length-3)return!1;const r=t.charCodeAt(e+1);return(r>=He.LowerA&&r<=He.LowerZ||r>=He.UpperA&&r<=He.UpperZ||r===He.Exclamation)&&t.includes(">",e+2)}!function(t){t[t.LowerA=97]="LowerA",t[t.LowerZ=122]="LowerZ",t[t.UpperA=65]="UpperA",t[t.UpperZ=90]="UpperZ",t[t.Exclamation=33]="Exclamation"}(He||(He={}));const Ve=Object.prototype.hasOwnProperty,Ke=/\s+/,Ye="data-",We=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ze=/^{[^]*}$|^\[[^]*]$/;function $e(t,e,r){var n;if(t&&V(t))return null!==(n=t.attribs)&&void 0!==n||(t.attribs={}),e?Ve.call(t.attribs,e)?!r&&We.test(e)?e:t.attribs[e]:"option"===t.name&&"value"===e?Ce(t.children):"input"!==t.name||"radio"!==t.attribs.type&&"checkbox"!==t.attribs.type||"value"!==e?void 0:"on":t.attribs}function Xe(t,e,r){null===r?ir(t,e):t.attribs[e]=""+r}function Je(t,e){if("object"==typeof t||void 0!==e){if("function"==typeof e){if("string"!=typeof t)throw Error("Bad combination of arguments.");return Ue(this,((r,n)=>{V(r)&&Xe(r,t,e.call(r,n,r.attribs[t]))}))}return Ue(this,(r=>{if(V(r))if("object"==typeof t)for(const e of Object.keys(t)){Xe(r,e,t[e])}else Xe(r,t,e)}))}return arguments.length>1?this:$e(this[0],t,this.options.xmlMode)}function Qe(t,e,r){return e in t?t[e]:!r&&We.test(e)?void 0!==$e(t,e,!1):$e(t,e,r)}function Ze(t,e,r,n){e in t?t[e]=r:Xe(t,e,!n&&We.test(e)?r?"":null:""+r)}function tr(t,e){var r;if("string"==typeof t&&void 0===e){const e=this[0];if(!e||!V(e))return;switch(t){case"style":{const t=this.css(),e=Object.keys(t);for(let r=0;r<e.length;r++)t[r]=e[r];return t.length=e.length,t}case"tagName":case"nodeName":return e.name.toUpperCase();case"href":case"src":{const n=null===(r=e.attribs)||void 0===r?void 0:r[t];return"undefined"==typeof URL||("href"!==t||"a"!==e.tagName&&"link"!==e.tagName)&&("src"!==t||"img"!==e.tagName&&"iframe"!==e.tagName&&"audio"!==e.tagName&&"video"!==e.tagName&&"source"!==e.tagName)||void 0===n||!this.options.baseURI?n:new URL(n,this.options.baseURI).href}case"innerText":return Mt(e);case"textContent":return Gt(e);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Qe(e,t,this.options.xmlMode)}}if("object"==typeof t||void 0!==e){if("function"==typeof e){if("object"==typeof t)throw new TypeError("Bad combination of arguments.");return Ue(this,((r,n)=>{V(r)&&Ze(r,t,e.call(r,n,Qe(r,t,this.options.xmlMode)),this.options.xmlMode)}))}return Ue(this,(r=>{if(V(r))if("object"==typeof t)for(const e of Object.keys(t)){Ze(r,e,t[e],this.options.xmlMode)}else Ze(r,t,e,this.options.xmlMode)}))}}function er(t,e,r){var n;null!==(n=t.data)&&void 0!==n||(t.data={}),"object"==typeof e?Object.assign(t.data,e):"string"==typeof e&&void 0!==r&&(t.data[e]=r)}function rr(t){if("null"===t)return null;if("true"===t)return!0;if("false"===t)return!1;const e=Number(t);if(t===e+"")return e;if(ze.test(t))try{return JSON.parse(t)}catch{}return t}function nr(t,e){var r;const n=this[0];if(!n||!V(n))return;const o=n;return null!==(r=o.data)&&void 0!==r||(o.data={}),null==t?function(t){for(const e of Object.keys(t.attribs)){if(!e.startsWith(Ye))continue;const r=e.slice(Ye.length).replace(/[._-](\w|$)/g,((t,e)=>e.toUpperCase()));Ve.call(t.data,r)||(t.data[r]=rr(t.attribs[e]))}return t.data}(o):"object"==typeof t||void 0!==e?(Ue(this,(r=>{V(r)&&("object"==typeof t?er(r,t):er(r,t,e))})),this):function(t,e){const r=Ye+e.replace(/[A-Z]/g,"-$&").toLowerCase(),n=t.data;return Ve.call(n,e)?n[e]:Ve.call(t.attribs,r)?n[e]=rr(t.attribs[r]):void 0}(o,t)}function or(t){const e=0===arguments.length,r=this[0];if(!r||!V(r))return e?void 0:this;switch(r.name){case"textarea":return this.text(t);case"select":{const r=this.find("option:selected");if(!e){if(null==this.attr("multiple")&&"object"==typeof t)return this;this.find("option").removeAttr("selected");const e="object"==typeof t?t:[t];for(const t of e)this.find(`option[value="${t}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map((t=>Ce(t.children))):r.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",t)}}function ir(t,e){t.attribs&&Ve.call(t.attribs,e)&&delete t.attribs[e]}function ar(t){return t?t.trim().split(Ke):[]}function sr(t){const e=ar(t);for(const t of e)Ue(this,(e=>{V(e)&&ir(e,t)}));return this}function cr(t){return this.toArray().some((e=>{const r=V(e)&&e.attribs.class;let n=-1;if(r&&t.length>0)for(;(n=r.indexOf(t,n+1))>-1;){const e=n+t.length;if((0===n||Ke.test(r[n-1]))&&(e===r.length||Ke.test(r[e])))return!0}return!1}))}function ur(t){if("function"==typeof t)return Ue(this,((e,r)=>{if(V(e)){const n=e.attribs.class||"";ur.call([e],t.call(e,r,n))}}));if(!t||"string"!=typeof t)return this;const e=t.split(Ke),r=this.length;for(let t=0;t<r;t++){const r=this[t];if(!V(r))continue;const n=$e(r,"class",!1);if(n){let t=` ${n} `;for(const r of e){const e=r+" ";t.includes(" "+e)||(t+=e)}Xe(r,"class",t.trim())}else Xe(r,"class",e.join(" ").trim())}return this}function lr(t){if("function"==typeof t)return Ue(this,((e,r)=>{V(e)&&lr.call([e],t.call(e,r,e.attribs.class||""))}));const e=ar(t),r=e.length,n=0===arguments.length;return Ue(this,(t=>{if(V(t))if(n)t.attribs.class="";else{const n=ar(t.attribs.class);let o=!1;for(let t=0;t<r;t++){const r=n.indexOf(e[t]);r>=0&&(n.splice(r,1),o=!0,t--)}o&&(t.attribs.class=n.join(" "))}}))}function fr(t,e){if("function"==typeof t)return Ue(this,((r,n)=>{V(r)&&fr.call([r],t.call(r,n,r.attribs.class||"",e),e)}));if(!t||"string"!=typeof t)return this;const r=t.split(Ke),n=r.length,o="boolean"==typeof e?e?1:-1:0,i=this.length;for(let t=0;t<i;t++){const e=this[t];if(!V(e))continue;const i=ar(e.attribs.class);for(let t=0;t<n;t++){const e=i.indexOf(r[t]);o>=0&&e<0?i.push(r[t]):o<=0&&e>=0&&i.splice(e,1)}e.attribs.class=i.join(" ")}return this}var hr=r(4355),pr=r(6813),dr=r(5740);const yr=new Map([[hr.cV.Universal,50],[hr.cV.Tag,30],[hr.cV.Attribute,1],[hr.cV.Pseudo,0]]);function vr(t){return!yr.has(t.type)}const mr=new Map([[hr.V4.Exists,10],[hr.V4.Equals,8],[hr.V4.Not,7],[hr.V4.Start,6],[hr.V4.End,6],[hr.V4.Any,5]]);function gr(t){const e=t.map(br);for(let r=1;r<t.length;r++){const n=e[r];if(!(n<0))for(let o=r-1;o>=0&&n<e[o];o--){const r=t[o+1];t[o+1]=t[o],t[o]=r,e[o+1]=e[o],e[o]=n}}}function br(t){var e,r;let n=null!==(e=yr.get(t.type))&&void 0!==e?e:-1;return t.type===hr.cV.Attribute?(n=null!==(r=mr.get(t.action))&&void 0!==r?r:4,t.action===hr.V4.Equals&&"id"===t.name&&(n=9),t.ignoreCase&&(n>>=1)):t.type===hr.cV.Pseudo&&(t.data?"has"===t.name||"contains"===t.name?n=0:Array.isArray(t.data)?(n=Math.min(...t.data.map((t=>Math.min(...t.map(br))))),n<0&&(n=0)):n=2:n=3),n}const wr=/[-[\]{}()*+?.,\\^$|#\s]/g;function Er(t){return t.replace(wr,"\\$&")}const xr=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Sr(t,e){return"boolean"==typeof t.ignoreCase?t.ignoreCase:"quirks"===t.ignoreCase?!!e.quirksMode:!e.xmlMode&&xr.has(t.name)}const _r={equals(t,e,r){const{adapter:n}=r,{name:o}=e;let{value:i}=e;return Sr(e,r)?(i=i.toLowerCase(),e=>{const r=n.getAttributeValue(e,o);return null!=r&&r.length===i.length&&r.toLowerCase()===i&&t(e)}):e=>n.getAttributeValue(e,o)===i&&t(e)},hyphen(t,e,r){const{adapter:n}=r,{name:o}=e;let{value:i}=e;const a=i.length;return Sr(e,r)?(i=i.toLowerCase(),function(e){const r=n.getAttributeValue(e,o);return null!=r&&(r.length===a||"-"===r.charAt(a))&&r.substr(0,a).toLowerCase()===i&&t(e)}):function(e){const r=n.getAttributeValue(e,o);return null!=r&&(r.length===a||"-"===r.charAt(a))&&r.substr(0,a)===i&&t(e)}},element(t,e,r){const{adapter:n}=r,{name:o,value:i}=e;if(/\s/.test(i))return dr.falseFunc;const a=RegExp(`(?:^|\\s)${Er(i)}(?:$|\\s)`,Sr(e,r)?"i":"");return function(e){const r=n.getAttributeValue(e,o);return null!=r&&r.length>=i.length&&a.test(r)&&t(e)}},exists:(t,{name:e},{adapter:r})=>n=>r.hasAttrib(n,e)&&t(n),start(t,e,r){const{adapter:n}=r,{name:o}=e;let{value:i}=e;const a=i.length;return 0===a?dr.falseFunc:Sr(e,r)?(i=i.toLowerCase(),e=>{const r=n.getAttributeValue(e,o);return null!=r&&r.length>=a&&r.substr(0,a).toLowerCase()===i&&t(e)}):e=>{var r;return!!(null===(r=n.getAttributeValue(e,o))||void 0===r?void 0:r.startsWith(i))&&t(e)}},end(t,e,r){const{adapter:n}=r,{name:o}=e;let{value:i}=e;const a=-i.length;return 0===a?dr.falseFunc:Sr(e,r)?(i=i.toLowerCase(),e=>{var r;return(null===(r=n.getAttributeValue(e,o))||void 0===r?void 0:r.substr(a).toLowerCase())===i&&t(e)}):e=>{var r;return!!(null===(r=n.getAttributeValue(e,o))||void 0===r?void 0:r.endsWith(i))&&t(e)}},any(t,e,r){const{adapter:n}=r,{name:o,value:i}=e;if(""===i)return dr.falseFunc;if(Sr(e,r)){const e=RegExp(Er(i),"i");return function(r){const a=n.getAttributeValue(r,o);return null!=a&&a.length>=i.length&&e.test(a)&&t(r)}}return e=>{var r;return!!(null===(r=n.getAttributeValue(e,o))||void 0===r?void 0:r.includes(i))&&t(e)}},not(t,e,r){const{adapter:n}=r,{name:o}=e;let{value:i}=e;return""===i?e=>!!n.getAttributeValue(e,o)&&t(e):Sr(e,r)?(i=i.toLowerCase(),e=>{const r=n.getAttributeValue(e,o);return(null==r||r.length!==i.length||r.toLowerCase()!==i)&&t(e)}):e=>n.getAttributeValue(e,o)!==i&&t(e)}},Ar=new Set([9,10,12,13,32]);function Tr(t){return function(t){const e=t[0],r=t[1]-1;if(r<0&&e<=0)return dr.falseFunc;if(-1===e)return t=>t<=r;if(0===e)return t=>t===r;if(1===e)return r<0?dr.trueFunc:t=>t>=r;const n=Math.abs(e),o=(r%n+n)%n;return e>1?t=>t>=r&&t%n===o:t=>t<=r&&t%n===o}(function(t){if("even"===(t=t.trim().toLowerCase()))return[2,0];if("odd"===t)return[2,1];let e=0,r=0,n=i(),o=a();if(e<t.length&&"n"===t.charAt(e)&&(e++,r=n*(null!=o?o:1),s(),e<t.length?(n=i(),s(),o=a()):n=o=0),null===o||e<t.length)throw Error(`n-th rule couldn't be parsed ('${t}')`);return[r,n*o];function i(){return"-"===t.charAt(e)?(e++,-1):("+"===t.charAt(e)&&e++,1)}function a(){const r=e;let n=0;for(;e<t.length&&t.charCodeAt(e)>=48&&t.charCodeAt(e)<=57;)n=10*n+(t.charCodeAt(e)-48),e++;return e===r?null:n}function s(){for(;e<t.length&&Ar.has(t.charCodeAt(e));)e++}}(t))}function Lr(t,e){return r=>{const n=e.getParent(r);return null!=n&&e.isTag(n)&&t(r)}}const kr={contains:(t,e,{adapter:r})=>function(n){return t(n)&&r.getText(n).includes(e)},icontains(t,e,{adapter:r}){const n=e.toLowerCase();return function(e){return t(e)&&r.getText(e).toLowerCase().includes(n)}},"nth-child"(t,e,{adapter:r,equals:n}){const o=Tr(e);return o===dr.falseFunc?dr.falseFunc:o===dr.trueFunc?Lr(t,r):function(e){const i=r.getSiblings(e);let a=0;for(let t=0;t<i.length&&!n(e,i[t]);t++)r.isTag(i[t])&&a++;return o(a)&&t(e)}},"nth-last-child"(t,e,{adapter:r,equals:n}){const o=Tr(e);return o===dr.falseFunc?dr.falseFunc:o===dr.trueFunc?Lr(t,r):function(e){const i=r.getSiblings(e);let a=0;for(let t=i.length-1;t>=0&&!n(e,i[t]);t--)r.isTag(i[t])&&a++;return o(a)&&t(e)}},"nth-of-type"(t,e,{adapter:r,equals:n}){const o=Tr(e);return o===dr.falseFunc?dr.falseFunc:o===dr.trueFunc?Lr(t,r):function(e){const i=r.getSiblings(e);let a=0;for(let t=0;t<i.length;t++){const o=i[t];if(n(e,o))break;r.isTag(o)&&r.getName(o)===r.getName(e)&&a++}return o(a)&&t(e)}},"nth-last-of-type"(t,e,{adapter:r,equals:n}){const o=Tr(e);return o===dr.falseFunc?dr.falseFunc:o===dr.trueFunc?Lr(t,r):function(e){const i=r.getSiblings(e);let a=0;for(let t=i.length-1;t>=0;t--){const o=i[t];if(n(e,o))break;r.isTag(o)&&r.getName(o)===r.getName(e)&&a++}return o(a)&&t(e)}},root:(t,e,{adapter:r})=>e=>{const n=r.getParent(e);return(null==n||!r.isTag(n))&&t(e)},scope(t,e,r,n){const{equals:o}=r;return n&&0!==n.length?1===n.length?e=>o(n[0],e)&&t(e):e=>n.includes(e)&&t(e):kr.root(t,e,r)},hover:Or("isHovered"),visited:Or("isVisited"),active:Or("isActive")};function Or(t){return function(e,r,{adapter:n}){const o=n[t];return"function"!=typeof o?dr.falseFunc:function(t){return o(t)&&e(t)}}}const Ir={empty:(t,{adapter:e})=>!e.getChildren(t).some((t=>e.isTag(t)||""!==e.getText(t))),"first-child"(t,{adapter:e,equals:r}){if(e.prevElementSibling)return null==e.prevElementSibling(t);const n=e.getSiblings(t).find((t=>e.isTag(t)));return null!=n&&r(t,n)},"last-child"(t,{adapter:e,equals:r}){const n=e.getSiblings(t);for(let o=n.length-1;o>=0;o--){if(r(t,n[o]))return!0;if(e.isTag(n[o]))break}return!1},"first-of-type"(t,{adapter:e,equals:r}){const n=e.getSiblings(t),o=e.getName(t);for(let i=0;i<n.length;i++){const a=n[i];if(r(t,a))return!0;if(e.isTag(a)&&e.getName(a)===o)break}return!1},"last-of-type"(t,{adapter:e,equals:r}){const n=e.getSiblings(t),o=e.getName(t);for(let i=n.length-1;i>=0;i--){const a=n[i];if(r(t,a))return!0;if(e.isTag(a)&&e.getName(a)===o)break}return!1},"only-of-type"(t,{adapter:e,equals:r}){const n=e.getName(t);return e.getSiblings(t).every((o=>r(t,o)||!e.isTag(o)||e.getName(o)!==n))},"only-child":(t,{adapter:e,equals:r})=>e.getSiblings(t).every((n=>r(t,n)||!e.isTag(n)))};function Nr(t,e,r,n){if(null===r){if(t.length>n)throw Error(`Pseudo-class :${e} requires an argument`)}else if(t.length===n)throw Error(`Pseudo-class :${e} doesn't have any arguments`)}const Pr={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] > option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},Cr={};function Dr(t,e){return t===dr.falseFunc?dr.falseFunc:r=>e.isTag(r)&&t(r)}function Rr(t,e){const r=e.getSiblings(t);if(r.length<=1)return[];const n=r.indexOf(t);return n<0||n===r.length-1?[]:r.slice(n+1).filter(e.isTag)}function jr(t){return{xmlMode:!!t.xmlMode,lowerCaseAttributeNames:!!t.lowerCaseAttributeNames,lowerCaseTags:!!t.lowerCaseTags,quirksMode:!!t.quirksMode,cacheResults:!!t.cacheResults,pseudos:t.pseudos,adapter:t.adapter,equals:t.equals}}const Fr=(t,e,r,n,o)=>{const i=o(e,jr(r),n);return i===dr.trueFunc?t:i===dr.falseFunc?dr.falseFunc:e=>i(e)&&t(e)},Br={is:Fr,matches:Fr,where:Fr,not(t,e,r,n,o){const i=o(e,jr(r),n);return i===dr.falseFunc?t:i===dr.trueFunc?dr.falseFunc:e=>!i(e)&&t(e)},has(t,e,r,n,o){const{adapter:i}=r,a=jr(r);a.relativeSelector=!0;const s=e.some((t=>t.some(vr)))?[Cr]:void 0,c=o(e,a,s);if(c===dr.falseFunc)return dr.falseFunc;const u=Dr(c,i);if(s&&c!==dr.trueFunc){const{shouldTestNextSiblings:e=!1}=c;return r=>{if(!t(r))return!1;s[0]=r;const n=i.getChildren(r),o=e?[...n,...Rr(r,i)]:n;return i.existsOne(u,o)}}return e=>t(e)&&i.existsOne(u,i.getChildren(e))}};function Gr(t,e){const r=e.getParent(t);return r&&e.isTag(r)?r:null}function Mr(t,e,r,n,o){const{adapter:i,equals:a}=r;switch(e.type){case hr.cV.PseudoElement:throw Error("Pseudo-elements are not supported by css-select");case hr.cV.ColumnCombinator:throw Error("Column combinators are not yet supported by css-select");case hr.cV.Attribute:if(null!=e.namespace)throw Error("Namespaced attributes are not yet supported by css-select");return r.xmlMode&&!r.lowerCaseAttributeNames||(e.name=e.name.toLowerCase()),_r[e.action](t,e,r);case hr.cV.Pseudo:return function(t,e,r,n,o){var i;const{name:a,data:s}=e;if(Array.isArray(s)){if(!(a in Br))throw Error(`Unknown pseudo-class :${a}(${s})`);return Br[a](t,s,r,n,o)}const c=null===(i=r.pseudos)||void 0===i?void 0:i[a],u="string"==typeof c?c:Pr[a];if("string"==typeof u){if(null!=s)throw Error(`Pseudo ${a} doesn't have any arguments`);const e=(0,pr.q)(u);return Br.is(t,e,r,n,o)}if("function"==typeof c)return Nr(c,a,s,1),e=>c(e,s)&&t(e);if(a in kr)return kr[a](t,s,r,n);if(a in Ir){const e=Ir[a];return Nr(e,a,s,2),n=>e(n,r,s)&&t(n)}throw Error("Unknown pseudo-class :"+a)}(t,e,r,n,o);case hr.cV.Tag:{if(null!=e.namespace)throw Error("Namespaced tag names are not yet supported by css-select");let{name:n}=e;return r.xmlMode&&!r.lowerCaseTags||(n=n.toLowerCase()),function(e){return i.getName(e)===n&&t(e)}}case hr.cV.Descendant:{if(!1===r.cacheResults||"undefined"==typeof WeakSet)return function(e){let r=e;for(;r=Gr(r,i);)if(t(r))return!0;return!1};const e=new WeakSet;return function(r){let n=r;for(;n=Gr(n,i);)if(!e.has(n)){if(i.isTag(n)&&t(n))return!0;e.add(n)}return!1}}case"_flexibleDescendant":return function(e){let r=e;do{if(t(r))return!0}while(r=Gr(r,i));return!1};case hr.cV.Parent:return function(e){return i.getChildren(e).some((e=>i.isTag(e)&&t(e)))};case hr.cV.Child:return function(e){const r=i.getParent(e);return null!=r&&i.isTag(r)&&t(r)};case hr.cV.Sibling:return function(e){const r=i.getSiblings(e);for(let n=0;n<r.length;n++){const o=r[n];if(a(e,o))break;if(i.isTag(o)&&t(o))return!0}return!1};case hr.cV.Adjacent:return i.prevElementSibling?function(e){const r=i.prevElementSibling(e);return null!=r&&t(r)}:function(e){const r=i.getSiblings(e);let n;for(let t=0;t<r.length;t++){const o=r[t];if(a(e,o))break;i.isTag(o)&&(n=o)}return!!n&&t(n)};case hr.cV.Universal:if(null!=e.namespace&&"*"!==e.namespace)throw Error("Namespaced universal selectors are not yet supported by css-select");return t}}function Ur(t,e,r){return Yr("string"==typeof t?(0,pr.q)(t):t,e,r)}function Hr(t){return t.type===hr.cV.Pseudo&&("scope"===t.name||Array.isArray(t.data)&&t.data.some((t=>t.some(Hr))))}const qr={type:hr.cV.Descendant},Vr={type:"_flexibleDescendant"},Kr={type:hr.cV.Pseudo,name:"scope",data:null};function Yr(t,e,r){var n;t.forEach(gr),r=null!==(n=e.context)&&void 0!==n?n:r;const o=Array.isArray(r),i=r&&(Array.isArray(r)?r:[r]);if(!1!==e.relativeSelector)!function(t,{adapter:e},r){const n=!!(null==r?void 0:r.every((t=>{const r=e.isTag(t)&&e.getParent(t);return t===Cr||r&&e.isTag(r)})));for(const e of t){if(e.length>0&&vr(e[0])&&e[0].type!==hr.cV.Descendant);else{if(!n||e.some(Hr))continue;e.unshift(qr)}e.unshift(Kr)}}(t,e,i);else if(t.some((t=>t.length>0&&vr(t[0]))))throw Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let a=!1;const s=t.map((t=>{if(t.length>=2){const[e,r]=t;e.type!==hr.cV.Pseudo||"scope"!==e.name||(o&&r.type===hr.cV.Descendant?t[1]=Vr:r.type!==hr.cV.Adjacent&&r.type!==hr.cV.Sibling||(a=!0))}return function(t,e,r){var n;return t.reduce(((t,n)=>t===dr.falseFunc?dr.falseFunc:Mr(t,n,e,r,Yr)),null!==(n=e.rootFunc)&&void 0!==n?n:dr.trueFunc)}(t,e,i)})).reduce(Wr,dr.falseFunc);return s.shouldTestNextSiblings=a,s}function Wr(t,e){return e===dr.falseFunc||t===dr.trueFunc?t:t===dr.falseFunc||e===dr.trueFunc?e:function(r){return t(r)||e(r)}}const zr=(t,e)=>t===e,$r={adapter:n,equals:zr};function Xr(t){var e,r,o,i;const a=null!=t?t:$r;return null!==(e=a.adapter)&&void 0!==e||(a.adapter=n),null!==(r=a.equals)&&void 0!==r||(a.equals=null!==(i=null===(o=a.adapter)||void 0===o?void 0:o.equals)&&void 0!==i?i:zr),a}function Jr(t){return function(e,r,n){const o=Xr(r);return t(e,o,n)}}Jr((function(t,e,r){return Dr(Ur(t,e,r),e.adapter)})),Jr(Ur);const Qr=Jr(Yr);function Zr(t){return function(e,r,n){const o=Xr(n);"function"!=typeof e&&(e=Ur(e,o,r));const i=tn(r,o.adapter,e.shouldTestNextSiblings);return t(e,i,o)}}function tn(t,e,r=!1){return r&&(t=function(t,e){const r=Array.isArray(t)?t.slice(0):[t],n=r.length;for(let t=0;t<n;t++){const n=Rr(r[t],e);r.push(...n)}return r}(t,e)),Array.isArray(t)?e.removeSubsets(t):e.getChildren(t)}Zr(((t,e,r)=>t!==dr.falseFunc&&e&&0!==e.length?r.adapter.findAll(t,e):[])),Zr(((t,e,r)=>t!==dr.falseFunc&&e&&0!==e.length?r.adapter.findOne(t,e):null));const en=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function rn(t){return"pseudo"===t.type&&(!!en.has(t.name)||!("not"!==t.name||!Array.isArray(t.data))&&t.data.some((t=>t.some(rn))))}function nn(t){const e=[],r=[];for(const n of t)n.some(rn)?e.push(n):r.push(n);return[r,e]}const on={type:hr.cV.Universal,namespace:null},an={type:hr.cV.Pseudo,name:"scope",data:null};function sn(t,e,r={}){return cn([t],e,r)}function cn(t,e,r={}){if("function"==typeof e)return t.some(e);const[n,o]=nn((0,pr.q)(e));return n.length>0&&t.some(Qr(n,r))||o.some((e=>fn(e,t,r).length>0))}function un(t,e,r={}){return ln((0,pr.q)(t),e,r)}function ln(t,e,r){if(0===e.length)return[];const[n,o]=nn(t);let i;if(n.length){const t=yn(e,n,r);if(0===o.length)return t;t.length&&(i=new Set(t))}for(let t=0;t<o.length&&(null==i?void 0:i.size)!==e.length;t++){const n=o[t];if(0===(i?e.filter((t=>V(t)&&!i.has(t))):e).length)break;const a=fn(n,e,r);if(a.length)if(i)a.forEach((t=>i.add(t)));else{if(t===o.length-1)return a;i=new Set(a)}}return void 0!==i?i.size===e.length?e:e.filter((t=>i.has(t))):[]}function fn(t,e,r){var n;if(t.some(pr.$)){const o=null!==(n=r.root)&&void 0!==n?n:function(t){for(;t.parent;)t=t.parent;return t}(e[0]),i={...r,context:e,relativeSelector:!1};return t.push(an),hn(o,t,i,!0,e.length)}return hn(e,t,r,!1,e.length)}function hn(t,e,r,o,i){const a=e.findIndex(rn),s=e.slice(0,a),c=e[a],u=e.length-1===a?i:1/0,l=function(t,e,r){const n=null!=e?parseInt(e,10):NaN;switch(t){case"first":return 1;case"nth":case"eq":return isFinite(n)?n>=0?n+1:1/0:0;case"lt":return isFinite(n)?n>=0?Math.min(n,r):1/0:0;case"gt":return isFinite(n)?1/0:0;case"odd":return 2*r;case"even":return 2*r-1;case"last":case"not":return 1/0}}(c.name,c.data,u);if(0===l)return[];const f=(0!==s.length||Array.isArray(t)?0===s.length?(Array.isArray(t)?t:[t]).filter(V):o||s.some(pr.$)?pn(t,[s],r,l):yn(t,[s],r):Ut(t).filter(V)).slice(0,l);let h=function(t,e,r,n){const o="string"==typeof r?parseInt(r,10):NaN;switch(t){case"first":case"lt":return e;case"last":return e.length>0?[e[e.length-1]]:e;case"nth":case"eq":return isFinite(o)&&Math.abs(o)<e.length?[o<0?e[e.length+o]:e[o]]:[];case"gt":return isFinite(o)?e.slice(o+1):[];case"even":return e.filter(((t,e)=>e%2==0));case"odd":return e.filter(((t,e)=>e%2==1));case"not":{const t=new Set(ln(r,e,n));return e.filter((e=>!t.has(e)))}}}(c.name,f,c.data,r);if(0===h.length||e.length===a+1)return h;const p=e.slice(a+1),d=p.some(pr.$);if(d){if((0,pr.$)(p[0])){const{type:t}=p[0];t!==hr.cV.Sibling&&t!==hr.cV.Adjacent||(h=tn(h,n,!0)),p.unshift(on)}r={...r,relativeSelector:!1,rootFunc:t=>h.includes(t)}}else r.rootFunc&&r.rootFunc!==dr.trueFunc&&(r={...r,rootFunc:dr.trueFunc});return p.some(rn)?hn(h,p,r,!1,i):d?pn(h,[p],r,i):yn(h,[p],r)}function pn(t,e,r,n){return dn(t,Qr(e,r,t),n)}function dn(t,e,r=1/0){return re((t=>V(t)&&e(t)),tn(t,n,e.shouldTestNextSiblings),!0,r)}function yn(t,e,r){const n=(Array.isArray(t)?t:[t]).filter(V);if(0===n.length)return n;const o=Qr(e,r);return o===dr.trueFunc?n:n.filter(o)}const vn=/^\s*[+~]/;function mn(t){if(!t)return this._make([]);if("string"!=typeof t){const e=Me(t)?t.toArray():[t],r=this.toArray();return this._make(e.filter((t=>r.some((e=>je(e,t))))))}return this._findBySelector(t,1/0)}function gn(t,e){var r;const n=this.toArray(),o=vn.test(t)?n:this.children().toArray(),i={context:n,root:null===(r=this._root)||void 0===r?void 0:r[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(function(t,e,r={},n=1/0){if("function"==typeof t)return dn(e,t);const[o,i]=nn((0,pr.q)(t)),a=i.map((t=>hn(e,t,r,!0,n)));return o.length&&a.push(pn(e,o,r,n)),0===a.length?[]:1===a.length?a[0]:be(a.reduce(((t,e)=>[...t,...e])))}(t,o,i,e))}function bn(t){return function(e,...r){return function(n){var o;let i=t(e,this);return n&&(i=Un(i,n,this.options.xmlMode,null===(o=this._root)||void 0===o?void 0:o[0])),this._make(this.length>1&&i.length>1?r.reduce(((t,e)=>e(t)),i):i)}}}const wn=bn(((t,e)=>{let r=[];for(let n=0;n<e.length;n++){const o=t(e[n]);o.length>0&&(r=r.concat(o))}return r})),En=bn(((t,e)=>{const r=[];for(let n=0;n<e.length;n++){const o=t(e[n]);null!==o&&r.push(o)}return r}));function xn(t,...e){let r=null;const n=bn(((t,e)=>{const n=[];return Ue(e,(e=>{for(let o;(o=t(e))&&!(null==r?void 0:r(o,n.length));e=o)n.push(o)})),n}))(t,...e);return function(t,e){r="string"==typeof t?e=>sn(e,t,this.options):t?Gn(t):null;const o=n.call(this,e);return r=null,o}}function Sn(t){return t.length>1?Array.from(new Set(t)):t}const _n=En((({parent:t})=>t&&!$(t)?t:null),Sn),An=wn((t=>{const e=[];for(;t.parent&&!$(t.parent);)e.push(t.parent),t=t.parent;return e}),be,(t=>t.reverse())),Tn=xn((({parent:t})=>t&&!$(t)?t:null),be,(t=>t.reverse()));function Ln(t){var e;const r=[];if(!t)return this._make(r);const n={xmlMode:this.options.xmlMode,root:null===(e=this._root)||void 0===e?void 0:e[0]},o="string"==typeof t?e=>sn(e,t,n):Gn(t);return Ue(this,(t=>{for(!t||$(t)||V(t)||(t=t.parent);t&&V(t);){if(o(t,0)){r.includes(t)||r.push(t);break}t=t.parent}})),this._make(r)}const kn=En((t=>Wt(t))),On=wn((t=>{const e=[];for(;t.next;)V(t=t.next)&&e.push(t);return e}),Sn),In=xn((t=>Wt(t)),Sn),Nn=En((t=>zt(t))),Pn=wn((t=>{const e=[];for(;t.prev;)V(t=t.prev)&&e.push(t);return e}),Sn),Cn=xn((t=>zt(t)),Sn),Dn=wn((t=>qt(t).filter((e=>V(e)&&e!==t))),be),Rn=wn((t=>Ut(t).filter(V)),Sn);function jn(){const t=this.toArray().reduce(((t,e)=>X(e)?t.concat(e.children):t),[]);return this._make(t)}function Fn(t){let e=0;const r=this.length;for(;e<r&&!1!==t.call(this[e],e,this[e]);)++e;return this}function Bn(t){let e=[];for(let r=0;r<this.length;r++){const n=this[r],o=t.call(n,r,n);null!=o&&(e=e.concat(o))}return this._make(e)}function Gn(t){return"function"==typeof t?(e,r)=>t.call(e,r,e):Me(t)?e=>Array.prototype.includes.call(t,e):function(e){return t===e}}function Mn(t){var e;return this._make(Un(this.toArray(),t,this.options.xmlMode,null===(e=this._root)||void 0===e?void 0:e[0]))}function Un(t,e,r,n){return"string"==typeof e?un(e,t,{xmlMode:r,root:n}):t.filter(Gn(e))}function Hn(t){const e=this.toArray();return"string"==typeof t?cn(e.filter(V),t,this.options):!!t&&e.some(Gn(t))}function qn(t){let e=this.toArray();if("string"==typeof t){const r=new Set(un(t,e,this.options));e=e.filter((t=>!r.has(t)))}else{const r=Gn(t);e=e.filter(((t,e)=>!r(t,e)))}return this._make(e)}function Vn(t){return this.filter("string"==typeof t?`:has(${t})`:(e,r)=>this._make(r).find(t).length>0)}function Kn(){return this.length>1?this._make(this[0]):this}function Yn(){return this.length>0?this._make(this[this.length-1]):this}function Wn(t){var e;return 0===(t=+t)&&this.length<=1?this:(t<0&&(t=this.length+t),this._make(null!==(e=this[t])&&void 0!==e?e:[]))}function zn(t){return null==t?this.toArray():this[t<0?this.length+t:t]}function $n(){return Array.prototype.slice.call(this)}function Xn(t){let e,r;return null==t?(e=this.parent().children(),r=this[0]):"string"==typeof t?(e=this._make(t),r=this[0]):(e=this,r=Me(t)?t[0]:t),Array.prototype.indexOf.call(e,r)}function Jn(t,e){return this._make(Array.prototype.slice.call(this,t,e))}function Qn(){var t;return null!==(t=this.prevObject)&&void 0!==t?t:this._make([])}function Zn(t,e){const r=this._make(t,e),n=be([...this.get(),...r.get()]);return this._make(n)}function to(t){return this.prevObject?this.add(t?this.prevObject.filter(t):this.prevObject):this}function eo(t,e){const r=Array.isArray(t)?t:[t];e?e.children=r:e=null;for(let t=0;t<r.length;t++){const n=r[t];n.parent&&n.parent.children!==r&&$t(n),e?(n.prev=r[t-1]||null,n.next=r[t+1]||null):n.prev=n.next=null,n.parent=e}return e}function ro(t,e){if(null==t)return[];if("string"==typeof t)return this._parse(t,this.options,!1,null).children.slice(0);if("length"in t){if(1===t.length)return this._makeDomArray(t[0],e);const r=[];for(let n=0;n<t.length;n++){const o=t[n];if("object"==typeof o){if(null==o)continue;if(!("length"in o)){r.push(e?J(o,!0):o);continue}}r.push(...this._makeDomArray(o,e))}return r}return[e?J(t,!0):t]}function no(t){return function(...e){const r=this.length-1;return Ue(this,((n,o)=>{if(!X(n))return;const i="function"==typeof e[0]?e[0].call(n,o,this._render(n.children)):e,a=this._makeDomArray(i,o<r);t(a,n.children,n)}))}}function oo(t,e,r,n,o){var i,a;const s=[e,r,...n],c=0===e?null:t[e-1],u=e+r>=t.length?null:t[e+r];for(let t=0;t<n.length;++t){const r=n[t],l=r.parent;if(l){const t=l.children.indexOf(r);t>-1&&(l.children.splice(t,1),o===l&&e>t&&s[0]--)}r.parent=o,r.prev&&(r.prev.next=null!==(i=r.next)&&void 0!==i?i:null),r.next&&(r.next.prev=null!==(a=r.prev)&&void 0!==a?a:null),r.prev=0===t?c:n[t-1],r.next=t===n.length-1?u:n[t+1]}return c&&(c.next=n[0]),u&&(u.prev=n[n.length-1]),t.splice(...s)}function io(t){return(Me(t)?t:this._make(t)).append(this),this}function ao(t){return(Me(t)?t:this._make(t)).prepend(this),this}const so=no(((t,e,r)=>{oo(e,e.length,0,t,r)})),co=no(((t,e,r)=>{oo(e,0,0,t,r)}));function uo(t){return function(e){const r=this.length-1,n=this.parents().last();for(let o=0;o<this.length;o++){const i=this[o],a="function"==typeof e?e.call(i,o,i):"string"!=typeof e||qe(e)?e:n.find(e).clone(),[s]=this._makeDomArray(a,o<r);if(!s||!X(s))continue;let c=s,u=0;for(;u<c.children.length;){const t=c.children[u];V(t)?(c=t,u=0):u++}t(i,c,[s])}return this}}const lo=uo(((t,e,r)=>{const{parent:n}=t;if(!n)return;const o=n.children,i=o.indexOf(t);eo([t],e),oo(o,i,0,r,n)})),fo=uo(((t,e,r)=>{X(t)&&(eo(t.children,e),eo(r,t))}));function ho(t){return this.parent(t).not("body").each(((t,e)=>{this._make(e).replaceWith(e.children)})),this}function po(t){const e=this[0];if(e){const r=this._make("function"==typeof t?t.call(e,0,e):t).insertBefore(e);let n;for(let t=0;t<r.length;t++)"tag"===r[t].type&&(n=r[t]);let o=0;for(;n&&o<n.children.length;){const t=n.children[o];"tag"===t.type?(n=t,o=0):o++}n&&this._make(n).append(this)}return this}function yo(...t){const e=this.length-1;return Ue(this,((r,n)=>{if(!X(r)||!r.parent)return;const o=r.parent.children,i=o.indexOf(r);if(i<0)return;const a="function"==typeof t[0]?t[0].call(r,n,this._render(r.children)):t;oo(o,i+1,0,this._makeDomArray(a,n<e),r.parent)}))}function vo(t){"string"==typeof t&&(t=this._make(t)),this.remove();const e=[];for(const r of this._makeDomArray(t)){const t=this.clone().toArray(),{parent:n}=r;if(!n)continue;const o=n.children,i=o.indexOf(r);i<0||(oo(o,i+1,0,t,n),e.push(...t))}return this._make(e)}function mo(...t){const e=this.length-1;return Ue(this,((r,n)=>{if(!X(r)||!r.parent)return;const o=r.parent.children,i=o.indexOf(r);if(i<0)return;const a="function"==typeof t[0]?t[0].call(r,n,this._render(r.children)):t;oo(o,i,0,this._makeDomArray(a,n<e),r.parent)}))}function go(t){const e=this._make(t);this.remove();const r=[];return Ue(e,(t=>{const e=this.clone().toArray(),{parent:n}=t;if(!n)return;const o=n.children,i=o.indexOf(t);i<0||(oo(o,i,0,e,n),r.push(...e))})),this._make(r)}function bo(t){return Ue(t?this.filter(t):this,(t=>{$t(t),t.prev=t.next=t.parent=null})),this}function wo(t){return Ue(this,((e,r)=>{const{parent:n}=e;if(!n)return;const o=n.children,i="function"==typeof t?t.call(e,r,e):t,a=this._makeDomArray(i);eo(a,null);const s=o.indexOf(e);oo(o,s,1,a,n),a.includes(e)||(e.parent=e.prev=e.next=null)}))}function Eo(){return Ue(this,(t=>{if(X(t)){for(const e of t.children)e.next=e.prev=e.parent=null;t.children.length=0}}))}function xo(t){if(void 0===t){const t=this[0];return t&&X(t)?this._render(t.children):null}return Ue(this,(e=>{if(!X(e))return;for(const t of e.children)t.next=t.prev=t.parent=null;eo(Me(t)?t.toArray():this._parse(""+t,this.options,!1,e).children,e)}))}function So(){return this._render(this)}function _o(t){return void 0===t?Ce(this):Ue(this,"function"==typeof t?(e,r)=>this._make(e).text(t.call(e,r,Ce([e]))):e=>{if(!X(e))return;for(const t of e.children)t.next=t.prev=t.parent=null;eo(new F(""+t),e)})}function Ao(){const t=Array.prototype.map.call(this.get(),(t=>J(t,!0))),e=new H(t);for(const r of t)r.parent=e;return this._make(t)}function To(t,e){return null!=t&&null!=e||"object"==typeof t&&!Array.isArray(t)?Ue(this,((r,n)=>{V(r)&&Lo(r,t,e,n)})):0!==this.length?ko(this[0],t):void 0}function Lo(t,e,r,n){if("string"==typeof e){const i=ko(t),a="function"==typeof r?r.call(t,n,i[e]):r;""===a?delete i[e]:null!=a&&(i[e]=a),t.attribs.style=Object.keys(o=i).reduce(((t,e)=>`${t}${t?" ":""}${e}: ${o[e]};`),"")}else if("object"==typeof e){const r=Object.keys(e);for(let n=0;n<r.length;n++){const o=r[n];Lo(t,o,e[o],n)}}var o}function ko(t,e){if(!t||!V(t))return;const r=function(t){if(t=(t||"").trim(),!t)return{};const e={};let r;for(const n of t.split(";")){const t=n.indexOf(":");if(t<1||t===n.length-1){const t=n.trimEnd();t.length>0&&void 0!==r&&(e[r]+=";"+t)}else r=n.slice(0,t).trim(),e[r]=n.slice(t+1).trim()}return e}(t.attribs.style);if("string"==typeof e)return r[e];if(Array.isArray(e)){const t={};for(const n of e)null!=r[n]&&(t[n]=r[n]);return t}return r}const Oo="input,select,textarea,keygen",Io=/%20/g,No=/\r?\n/g;function Po(){const t=this.serializeArray().map((t=>`${encodeURIComponent(t.name)}=${encodeURIComponent(t.value)}`));return t.join("&").replace(Io,"+")}function Co(){return this.map(((t,e)=>{const r=this._make(e);return V(e)&&"form"===e.name?r.find(Oo).toArray():r.filter(Oo).toArray()})).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(((t,e)=>{var r;const n=this._make(e),o=n.attr("name"),i=null!==(r=n.val())&&void 0!==r?r:"";return Array.isArray(i)?i.map((t=>({name:o,value:t.replace(No,"\r\n")}))):{name:o,value:i.replace(No,"\r\n")}})).toArray()}function Do(t){var e;return"string"==typeof t?{selector:t,value:"textContent"}:{selector:t.selector,value:null!==(e=t.value)&&void 0!==e?e:"textContent"}}function Ro(t){const e={};for(const r in t){const n=t[r],o=Array.isArray(n),{selector:i,value:a}=Do(o?n[0]:n),s="function"==typeof a?a:"string"==typeof a?t=>this._make(t).prop(a):t=>this._make(t).extract(a);if(o)e[r]=this._findBySelector(i,1/0).map(((t,n)=>s(n,r,e))).get();else{const t=this._findBySelector(i,1);e[r]=t.length>0?s(t[0],r,e):void 0}}return e}class jo{constructor(t,e,r){if(this.length=0,this.options=r,this._root=e,t){for(let e=0;e<t.length;e++)this[e]=t[e];this.length=t.length}}}jo.prototype.cheerio="[cheerio object]",jo.prototype.splice=Array.prototype.splice,jo.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(jo.prototype,i,a,s,c,u,l);const Fo=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Bo="ï¿½";var Go;!function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"}(Go||(Go={}));const Mo="--",Uo="[CDATA[",Ho="doctype",qo="script",Vo="public",Ko="system";function Yo(t){return t>=55296&&t<=57343}function Wo(t){return 32!==t&&10!==t&&13!==t&&9!==t&&12!==t&&t>=1&&t<=31||t>=127&&t<=159}function zo(t){return t>=64976&&t<=65007||Fo.has(t)}var $o;!function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}($o||($o={}));class Xo{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,e){const{line:r,col:n,offset:o}=this,i=n+e,a=o+e;return{code:t,startLine:r,endLine:r,startCol:i,endCol:i,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const e=this.html.charCodeAt(this.pos+1);if(function(t){return t>=56320&&t<=57343}(e))return this.pos++,this._addGap(),1024*(t-55296)+9216+e}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Go.EOF;return this._err($o.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,e){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=e}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,e){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(e)return this.html.startsWith(t,this.pos);for(let e=0;e<t.length;e++){if((32|this.html.charCodeAt(this.pos+e))!==t.charCodeAt(e))return!1}return!0}peek(t){const e=this.pos+t;if(e>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Go.EOF;const r=this.html.charCodeAt(e);return r===Go.CARRIAGE_RETURN?Go.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Go.EOF;let t=this.html.charCodeAt(this.pos);if(t===Go.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,Go.LINE_FEED;if(t===Go.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,Yo(t)&&(t=this._processSurrogate(t));return null===this.handler.onParseError||t>31&&t<127||t===Go.LINE_FEED||t===Go.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t}_checkForProblematicCharacters(t){Wo(t)?this._err($o.controlCharacterInInputStream):zo(t)&&this._err($o.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Jo,Qo,Zo,ti,ei,ri;function ni(t,e){for(let r=t.attrs.length-1;r>=0;r--)if(t.attrs[r].name===e)return t.attrs[r].value;return null}!function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"}(Jo||(Jo={})),function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"}(Qo||(Qo={})),function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"}(Zo||(Zo={})),function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"}(ti||(ti={})),function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"}(ei||(ei={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"}(ri||(ri={}));const oi=new Map([[ei.A,ri.A],[ei.ADDRESS,ri.ADDRESS],[ei.ANNOTATION_XML,ri.ANNOTATION_XML],[ei.APPLET,ri.APPLET],[ei.AREA,ri.AREA],[ei.ARTICLE,ri.ARTICLE],[ei.ASIDE,ri.ASIDE],[ei.B,ri.B],[ei.BASE,ri.BASE],[ei.BASEFONT,ri.BASEFONT],[ei.BGSOUND,ri.BGSOUND],[ei.BIG,ri.BIG],[ei.BLOCKQUOTE,ri.BLOCKQUOTE],[ei.BODY,ri.BODY],[ei.BR,ri.BR],[ei.BUTTON,ri.BUTTON],[ei.CAPTION,ri.CAPTION],[ei.CENTER,ri.CENTER],[ei.CODE,ri.CODE],[ei.COL,ri.COL],[ei.COLGROUP,ri.COLGROUP],[ei.DD,ri.DD],[ei.DESC,ri.DESC],[ei.DETAILS,ri.DETAILS],[ei.DIALOG,ri.DIALOG],[ei.DIR,ri.DIR],[ei.DIV,ri.DIV],[ei.DL,ri.DL],[ei.DT,ri.DT],[ei.EM,ri.EM],[ei.EMBED,ri.EMBED],[ei.FIELDSET,ri.FIELDSET],[ei.FIGCAPTION,ri.FIGCAPTION],[ei.FIGURE,ri.FIGURE],[ei.FONT,ri.FONT],[ei.FOOTER,ri.FOOTER],[ei.FOREIGN_OBJECT,ri.FOREIGN_OBJECT],[ei.FORM,ri.FORM],[ei.FRAME,ri.FRAME],[ei.FRAMESET,ri.FRAMESET],[ei.H1,ri.H1],[ei.H2,ri.H2],[ei.H3,ri.H3],[ei.H4,ri.H4],[ei.H5,ri.H5],[ei.H6,ri.H6],[ei.HEAD,ri.HEAD],[ei.HEADER,ri.HEADER],[ei.HGROUP,ri.HGROUP],[ei.HR,ri.HR],[ei.HTML,ri.HTML],[ei.I,ri.I],[ei.IMG,ri.IMG],[ei.IMAGE,ri.IMAGE],[ei.INPUT,ri.INPUT],[ei.IFRAME,ri.IFRAME],[ei.KEYGEN,ri.KEYGEN],[ei.LABEL,ri.LABEL],[ei.LI,ri.LI],[ei.LINK,ri.LINK],[ei.LISTING,ri.LISTING],[ei.MAIN,ri.MAIN],[ei.MALIGNMARK,ri.MALIGNMARK],[ei.MARQUEE,ri.MARQUEE],[ei.MATH,ri.MATH],[ei.MENU,ri.MENU],[ei.META,ri.META],[ei.MGLYPH,ri.MGLYPH],[ei.MI,ri.MI],[ei.MO,ri.MO],[ei.MN,ri.MN],[ei.MS,ri.MS],[ei.MTEXT,ri.MTEXT],[ei.NAV,ri.NAV],[ei.NOBR,ri.NOBR],[ei.NOFRAMES,ri.NOFRAMES],[ei.NOEMBED,ri.NOEMBED],[ei.NOSCRIPT,ri.NOSCRIPT],[ei.OBJECT,ri.OBJECT],[ei.OL,ri.OL],[ei.OPTGROUP,ri.OPTGROUP],[ei.OPTION,ri.OPTION],[ei.P,ri.P],[ei.PARAM,ri.PARAM],[ei.PLAINTEXT,ri.PLAINTEXT],[ei.PRE,ri.PRE],[ei.RB,ri.RB],[ei.RP,ri.RP],[ei.RT,ri.RT],[ei.RTC,ri.RTC],[ei.RUBY,ri.RUBY],[ei.S,ri.S],[ei.SCRIPT,ri.SCRIPT],[ei.SEARCH,ri.SEARCH],[ei.SECTION,ri.SECTION],[ei.SELECT,ri.SELECT],[ei.SOURCE,ri.SOURCE],[ei.SMALL,ri.SMALL],[ei.SPAN,ri.SPAN],[ei.STRIKE,ri.STRIKE],[ei.STRONG,ri.STRONG],[ei.STYLE,ri.STYLE],[ei.SUB,ri.SUB],[ei.SUMMARY,ri.SUMMARY],[ei.SUP,ri.SUP],[ei.TABLE,ri.TABLE],[ei.TBODY,ri.TBODY],[ei.TEMPLATE,ri.TEMPLATE],[ei.TEXTAREA,ri.TEXTAREA],[ei.TFOOT,ri.TFOOT],[ei.TD,ri.TD],[ei.TH,ri.TH],[ei.THEAD,ri.THEAD],[ei.TITLE,ri.TITLE],[ei.TR,ri.TR],[ei.TRACK,ri.TRACK],[ei.TT,ri.TT],[ei.U,ri.U],[ei.UL,ri.UL],[ei.SVG,ri.SVG],[ei.VAR,ri.VAR],[ei.WBR,ri.WBR],[ei.XMP,ri.XMP]]);function ii(t){var e;return null!==(e=oi.get(t))&&void 0!==e?e:ri.UNKNOWN}const ai=ri,si={[Qo.HTML]:new Set([ai.ADDRESS,ai.APPLET,ai.AREA,ai.ARTICLE,ai.ASIDE,ai.BASE,ai.BASEFONT,ai.BGSOUND,ai.BLOCKQUOTE,ai.BODY,ai.BR,ai.BUTTON,ai.CAPTION,ai.CENTER,ai.COL,ai.COLGROUP,ai.DD,ai.DETAILS,ai.DIR,ai.DIV,ai.DL,ai.DT,ai.EMBED,ai.FIELDSET,ai.FIGCAPTION,ai.FIGURE,ai.FOOTER,ai.FORM,ai.FRAME,ai.FRAMESET,ai.H1,ai.H2,ai.H3,ai.H4,ai.H5,ai.H6,ai.HEAD,ai.HEADER,ai.HGROUP,ai.HR,ai.HTML,ai.IFRAME,ai.IMG,ai.INPUT,ai.LI,ai.LINK,ai.LISTING,ai.MAIN,ai.MARQUEE,ai.MENU,ai.META,ai.NAV,ai.NOEMBED,ai.NOFRAMES,ai.NOSCRIPT,ai.OBJECT,ai.OL,ai.P,ai.PARAM,ai.PLAINTEXT,ai.PRE,ai.SCRIPT,ai.SECTION,ai.SELECT,ai.SOURCE,ai.STYLE,ai.SUMMARY,ai.TABLE,ai.TBODY,ai.TD,ai.TEMPLATE,ai.TEXTAREA,ai.TFOOT,ai.TH,ai.THEAD,ai.TITLE,ai.TR,ai.TRACK,ai.UL,ai.WBR,ai.XMP]),[Qo.MATHML]:new Set([ai.MI,ai.MO,ai.MN,ai.MS,ai.MTEXT,ai.ANNOTATION_XML]),[Qo.SVG]:new Set([ai.TITLE,ai.FOREIGN_OBJECT,ai.DESC]),[Qo.XLINK]:new Set,[Qo.XML]:new Set,[Qo.XMLNS]:new Set},ci=new Set([ai.H1,ai.H2,ai.H3,ai.H4,ai.H5,ai.H6]),ui=new Set([ei.STYLE,ei.SCRIPT,ei.XMP,ei.IFRAME,ei.NOEMBED,ei.NOFRAMES,ei.PLAINTEXT]);var li;!function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"}(li||(li={}));const fi={DATA:li.DATA,RCDATA:li.RCDATA,RAWTEXT:li.RAWTEXT,SCRIPT_DATA:li.SCRIPT_DATA,PLAINTEXT:li.PLAINTEXT,CDATA_SECTION:li.CDATA_SECTION};function hi(t){return t>=Go.LATIN_CAPITAL_A&&t<=Go.LATIN_CAPITAL_Z}function pi(t){return function(t){return t>=Go.LATIN_SMALL_A&&t<=Go.LATIN_SMALL_Z}(t)||hi(t)}function di(t){return pi(t)||function(t){return t>=Go.DIGIT_0&&t<=Go.DIGIT_9}(t)}function yi(t){return t+32}function vi(t){return t===Go.SPACE||t===Go.LINE_FEED||t===Go.TABULATION||t===Go.FORM_FEED}function mi(t){return vi(t)||t===Go.SOLIDUS||t===Go.GREATER_THAN_SIGN}class gi{constructor(t,e){this.options=t,this.handler=e,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=li.DATA,this.returnState=li.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Xo(e),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new pt(et,((t,e)=>{this.preprocessor.pos=this.entityStartPos+e-1,this._flushCodePointConsumedAsCharacterReference(t)}),e.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err($o.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:t=>{this._err($o.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+t)},validateNumericCharacterReference:t=>{const e=function(t){return t===Go.NULL?$o.nullCharacterReference:t>1114111?$o.characterReferenceOutsideUnicodeRange:Yo(t)?$o.surrogateCharacterReference:zo(t)?$o.noncharacterCharacterReference:Wo(t)||t===Go.CARRIAGE_RETURN?$o.controlCharacterReference:null}(t);e&&this._err(e,1)}}:void 0)}_err(t,e=0){var r,n;null===(n=(r=this.handler).onParseError)||void 0===n||n.call(r,this.preprocessor.getError(t,e))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==t||t())}write(t,e,r){this.active=!0,this.preprocessor.write(t,e),this._runParsingLoop(),this.paused||null==r||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let e=0;e<t;e++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,e){return!!this.preprocessor.startsWith(t,e)&&(this._advanceBy(t.length-1),!0)}_createStartTagToken(){this.currentToken={type:Jo.START_TAG,tagName:"",tagID:ri.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Jo.END_TAG,tagName:"",tagID:ri.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Jo.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Jo.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,e){this.currentCharacterToken={type:t,chars:e,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,e;const r=this.currentToken;if(null===ni(r,this.currentAttr.name)){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){(null!==(t=(e=r.location).attrs)&&void 0!==t?t:e.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err($o.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ii(t.tagName),t.type===Jo.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err($o.endTagWithAttributes),t.selfClosing&&this._err($o.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Jo.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case Jo.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case Jo.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Jo.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,e){if(this.currentCharacterToken){if(this.currentCharacterToken.type===t)return void(this.currentCharacterToken.chars+=e);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(t,e)}_emitCodePoint(t){const e=vi(t)?Jo.WHITESPACE_CHARACTER:t===Go.NULL?Jo.NULL_CHARACTER:Jo.CHARACTER;this._appendCharToCurrentCharacterToken(e,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Jo.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=li.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?lt.Attribute:lt.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===li.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===li.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===li.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case li.DATA:this._stateData(t);break;case li.RCDATA:this._stateRcdata(t);break;case li.RAWTEXT:this._stateRawtext(t);break;case li.SCRIPT_DATA:this._stateScriptData(t);break;case li.PLAINTEXT:this._statePlaintext(t);break;case li.TAG_OPEN:this._stateTagOpen(t);break;case li.END_TAG_OPEN:this._stateEndTagOpen(t);break;case li.TAG_NAME:this._stateTagName(t);break;case li.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(t);break;case li.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(t);break;case li.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(t);break;case li.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(t);break;case li.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(t);break;case li.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(t);break;case li.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(t);break;case li.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(t);break;case li.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(t);break;case li.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(t);break;case li.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(t);break;case li.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(t);break;case li.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(t);break;case li.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(t);break;case li.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(t);break;case li.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(t);break;case li.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(t);break;case li.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(t);break;case li.ATTRIBUTE_NAME:this._stateAttributeName(t);break;case li.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(t);break;case li.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(t);break;case li.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(t);break;case li.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(t);break;case li.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(t);break;case li.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(t);break;case li.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(t);break;case li.BOGUS_COMMENT:this._stateBogusComment(t);break;case li.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(t);break;case li.COMMENT_START:this._stateCommentStart(t);break;case li.COMMENT_START_DASH:this._stateCommentStartDash(t);break;case li.COMMENT:this._stateComment(t);break;case li.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(t);break;case li.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(t);break;case li.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(t);break;case li.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(t);break;case li.COMMENT_END_DASH:this._stateCommentEndDash(t);break;case li.COMMENT_END:this._stateCommentEnd(t);break;case li.COMMENT_END_BANG:this._stateCommentEndBang(t);break;case li.DOCTYPE:this._stateDoctype(t);break;case li.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(t);break;case li.DOCTYPE_NAME:this._stateDoctypeName(t);break;case li.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(t);break;case li.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(t);break;case li.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(t);break;case li.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(t);break;case li.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(t);break;case li.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(t);break;case li.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break;case li.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(t);break;case li.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(t);break;case li.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(t);break;case li.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(t);break;case li.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(t);break;case li.BOGUS_DOCTYPE:this._stateBogusDoctype(t);break;case li.CDATA_SECTION:this._stateCdataSection(t);break;case li.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(t);break;case li.CDATA_SECTION_END:this._stateCdataSectionEnd(t);break;case li.CHARACTER_REFERENCE:this._stateCharacterReference();break;case li.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(t);break;default:throw Error("Unknown state")}}_stateData(t){switch(t){case Go.LESS_THAN_SIGN:this.state=li.TAG_OPEN;break;case Go.AMPERSAND:this._startCharacterReference();break;case Go.NULL:this._err($o.unexpectedNullCharacter),this._emitCodePoint(t);break;case Go.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case Go.AMPERSAND:this._startCharacterReference();break;case Go.LESS_THAN_SIGN:this.state=li.RCDATA_LESS_THAN_SIGN;break;case Go.NULL:this._err($o.unexpectedNullCharacter),this._emitChars(Bo);break;case Go.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case Go.LESS_THAN_SIGN:this.state=li.RAWTEXT_LESS_THAN_SIGN;break;case Go.NULL:this._err($o.unexpectedNullCharacter),this._emitChars(Bo);break;case Go.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case Go.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_LESS_THAN_SIGN;break;case Go.NULL:this._err($o.unexpectedNullCharacter),this._emitChars(Bo);break;case Go.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case Go.NULL:this._err($o.unexpectedNullCharacter),this._emitChars(Bo);break;case Go.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateTagOpen(t){if(pi(t))this._createStartTagToken(),this.state=li.TAG_NAME,this._stateTagName(t);else switch(t){case Go.EXCLAMATION_MARK:this.state=li.MARKUP_DECLARATION_OPEN;break;case Go.SOLIDUS:this.state=li.END_TAG_OPEN;break;case Go.QUESTION_MARK:this._err($o.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=li.BOGUS_COMMENT,this._stateBogusComment(t);break;case Go.EOF:this._err($o.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err($o.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=li.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(pi(t))this._createEndTagToken(),this.state=li.TAG_NAME,this._stateTagName(t);else switch(t){case Go.GREATER_THAN_SIGN:this._err($o.missingEndTagName),this.state=li.DATA;break;case Go.EOF:this._err($o.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err($o.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=li.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const e=this.currentToken;switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:this.state=li.BEFORE_ATTRIBUTE_NAME;break;case Go.SOLIDUS:this.state=li.SELF_CLOSING_START_TAG;break;case Go.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentTagToken();break;case Go.NULL:this._err($o.unexpectedNullCharacter),e.tagName+=Bo;break;case Go.EOF:this._err($o.eofInTag),this._emitEOFToken();break;default:e.tagName+=String.fromCodePoint(hi(t)?yi(t):t)}}_stateRcdataLessThanSign(t){t===Go.SOLIDUS?this.state=li.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=li.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){pi(t)?(this.state=li.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=li.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();this.currentToken.tagName=this.lastStartTagName;switch(this.preprocessor.peek(this.lastStartTagName.length)){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=li.BEFORE_ATTRIBUTE_NAME,!1;case Go.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=li.SELF_CLOSING_START_TAG,!1;case Go.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=li.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=li.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===Go.SOLIDUS?this.state=li.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=li.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){pi(t)?(this.state=li.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=li.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=li.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case Go.SOLIDUS:this.state=li.SCRIPT_DATA_END_TAG_OPEN;break;case Go.EXCLAMATION_MARK:this.state=li.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=li.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){pi(t)?(this.state=li.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=li.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=li.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===Go.HYPHEN_MINUS?(this.state=li.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=li.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===Go.HYPHEN_MINUS?(this.state=li.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=li.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case Go.HYPHEN_MINUS:this.state=li.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case Go.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Go.NULL:this._err($o.unexpectedNullCharacter),this._emitChars(Bo);break;case Go.EOF:this._err($o.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case Go.HYPHEN_MINUS:this.state=li.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case Go.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Go.NULL:this._err($o.unexpectedNullCharacter),this.state=li.SCRIPT_DATA_ESCAPED,this._emitChars(Bo);break;case Go.EOF:this._err($o.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=li.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case Go.HYPHEN_MINUS:this._emitChars("-");break;case Go.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Go.GREATER_THAN_SIGN:this.state=li.SCRIPT_DATA,this._emitChars(">");break;case Go.NULL:this._err($o.unexpectedNullCharacter),this.state=li.SCRIPT_DATA_ESCAPED,this._emitChars(Bo);break;case Go.EOF:this._err($o.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=li.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===Go.SOLIDUS?this.state=li.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:pi(t)?(this._emitChars("<"),this.state=li.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=li.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){pi(t)?(this.state=li.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=li.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=li.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(qo,!1)&&mi(this.preprocessor.peek(qo.length))){this._emitCodePoint(t);for(let t=0;t<qo.length;t++)this._emitCodePoint(this._consume());this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=li.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case Go.HYPHEN_MINUS:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case Go.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Go.NULL:this._err($o.unexpectedNullCharacter),this._emitChars(Bo);break;case Go.EOF:this._err($o.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case Go.HYPHEN_MINUS:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case Go.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Go.NULL:this._err($o.unexpectedNullCharacter),this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Bo);break;case Go.EOF:this._err($o.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case Go.HYPHEN_MINUS:this._emitChars("-");break;case Go.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Go.GREATER_THAN_SIGN:this.state=li.SCRIPT_DATA,this._emitChars(">");break;case Go.NULL:this._err($o.unexpectedNullCharacter),this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Bo);break;case Go.EOF:this._err($o.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===Go.SOLIDUS?(this.state=li.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(qo,!1)&&mi(this.preprocessor.peek(qo.length))){this._emitCodePoint(t);for(let t=0;t<qo.length;t++)this._emitCodePoint(this._consume());this.state=li.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:break;case Go.SOLIDUS:case Go.GREATER_THAN_SIGN:case Go.EOF:this.state=li.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break;case Go.EQUALS_SIGN:this._err($o.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=li.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=li.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:case Go.SOLIDUS:case Go.GREATER_THAN_SIGN:case Go.EOF:this._leaveAttrName(),this.state=li.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break;case Go.EQUALS_SIGN:this._leaveAttrName(),this.state=li.BEFORE_ATTRIBUTE_VALUE;break;case Go.QUOTATION_MARK:case Go.APOSTROPHE:case Go.LESS_THAN_SIGN:this._err($o.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break;case Go.NULL:this._err($o.unexpectedNullCharacter),this.currentAttr.name+=Bo;break;default:this.currentAttr.name+=String.fromCodePoint(hi(t)?yi(t):t)}}_stateAfterAttributeName(t){switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:break;case Go.SOLIDUS:this.state=li.SELF_CLOSING_START_TAG;break;case Go.EQUALS_SIGN:this.state=li.BEFORE_ATTRIBUTE_VALUE;break;case Go.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentTagToken();break;case Go.EOF:this._err($o.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=li.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:break;case Go.QUOTATION_MARK:this.state=li.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case Go.APOSTROPHE:this.state=li.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case Go.GREATER_THAN_SIGN:this._err($o.missingAttributeValue),this.state=li.DATA,this.emitCurrentTagToken();break;default:this.state=li.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case Go.QUOTATION_MARK:this.state=li.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Go.AMPERSAND:this._startCharacterReference();break;case Go.NULL:this._err($o.unexpectedNullCharacter),this.currentAttr.value+=Bo;break;case Go.EOF:this._err($o.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case Go.APOSTROPHE:this.state=li.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Go.AMPERSAND:this._startCharacterReference();break;case Go.NULL:this._err($o.unexpectedNullCharacter),this.currentAttr.value+=Bo;break;case Go.EOF:this._err($o.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:this._leaveAttrValue(),this.state=li.BEFORE_ATTRIBUTE_NAME;break;case Go.AMPERSAND:this._startCharacterReference();break;case Go.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=li.DATA,this.emitCurrentTagToken();break;case Go.NULL:this._err($o.unexpectedNullCharacter),this.currentAttr.value+=Bo;break;case Go.QUOTATION_MARK:case Go.APOSTROPHE:case Go.LESS_THAN_SIGN:case Go.EQUALS_SIGN:case Go.GRAVE_ACCENT:this._err($o.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break;case Go.EOF:this._err($o.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:this._leaveAttrValue(),this.state=li.BEFORE_ATTRIBUTE_NAME;break;case Go.SOLIDUS:this._leaveAttrValue(),this.state=li.SELF_CLOSING_START_TAG;break;case Go.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=li.DATA,this.emitCurrentTagToken();break;case Go.EOF:this._err($o.eofInTag),this._emitEOFToken();break;default:this._err($o.missingWhitespaceBetweenAttributes),this.state=li.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case Go.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=li.DATA,this.emitCurrentTagToken();break;case Go.EOF:this._err($o.eofInTag),this._emitEOFToken();break;default:this._err($o.unexpectedSolidusInTag),this.state=li.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const e=this.currentToken;switch(t){case Go.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentComment(e);break;case Go.EOF:this.emitCurrentComment(e),this._emitEOFToken();break;case Go.NULL:this._err($o.unexpectedNullCharacter),e.data+=Bo;break;default:e.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Mo,!0)?(this._createCommentToken(Mo.length+1),this.state=li.COMMENT_START):this._consumeSequenceIfMatch(Ho,!1)?(this.currentLocation=this.getCurrentLocation(Ho.length+1),this.state=li.DOCTYPE):this._consumeSequenceIfMatch(Uo,!0)?this.inForeignNode?this.state=li.CDATA_SECTION:(this._err($o.cdataInHtmlContent),this._createCommentToken(Uo.length+1),this.currentToken.data="[CDATA[",this.state=li.BOGUS_COMMENT):this._ensureHibernation()||(this._err($o.incorrectlyOpenedComment),this._createCommentToken(2),this.state=li.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case Go.HYPHEN_MINUS:this.state=li.COMMENT_START_DASH;break;case Go.GREATER_THAN_SIGN:{this._err($o.abruptClosingOfEmptyComment),this.state=li.DATA;const t=this.currentToken;this.emitCurrentComment(t);break}default:this.state=li.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const e=this.currentToken;switch(t){case Go.HYPHEN_MINUS:this.state=li.COMMENT_END;break;case Go.GREATER_THAN_SIGN:this._err($o.abruptClosingOfEmptyComment),this.state=li.DATA,this.emitCurrentComment(e);break;case Go.EOF:this._err($o.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="-",this.state=li.COMMENT,this._stateComment(t)}}_stateComment(t){const e=this.currentToken;switch(t){case Go.HYPHEN_MINUS:this.state=li.COMMENT_END_DASH;break;case Go.LESS_THAN_SIGN:e.data+="<",this.state=li.COMMENT_LESS_THAN_SIGN;break;case Go.NULL:this._err($o.unexpectedNullCharacter),e.data+=Bo;break;case Go.EOF:this._err($o.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const e=this.currentToken;switch(t){case Go.EXCLAMATION_MARK:e.data+="!",this.state=li.COMMENT_LESS_THAN_SIGN_BANG;break;case Go.LESS_THAN_SIGN:e.data+="<";break;default:this.state=li.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===Go.HYPHEN_MINUS?this.state=li.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=li.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===Go.HYPHEN_MINUS?this.state=li.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=li.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==Go.GREATER_THAN_SIGN&&t!==Go.EOF&&this._err($o.nestedComment),this.state=li.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const e=this.currentToken;switch(t){case Go.HYPHEN_MINUS:this.state=li.COMMENT_END;break;case Go.EOF:this._err($o.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="-",this.state=li.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const e=this.currentToken;switch(t){case Go.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentComment(e);break;case Go.EXCLAMATION_MARK:this.state=li.COMMENT_END_BANG;break;case Go.HYPHEN_MINUS:e.data+="-";break;case Go.EOF:this._err($o.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="--",this.state=li.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const e=this.currentToken;switch(t){case Go.HYPHEN_MINUS:e.data+="--!",this.state=li.COMMENT_END_DASH;break;case Go.GREATER_THAN_SIGN:this._err($o.incorrectlyClosedComment),this.state=li.DATA,this.emitCurrentComment(e);break;case Go.EOF:this._err($o.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="--!",this.state=li.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:this.state=li.BEFORE_DOCTYPE_NAME;break;case Go.GREATER_THAN_SIGN:this.state=li.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break;case Go.EOF:{this._err($o.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err($o.missingWhitespaceBeforeDoctypeName),this.state=li.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(hi(t))this._createDoctypeToken(String.fromCharCode(yi(t))),this.state=li.DOCTYPE_NAME;else switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:break;case Go.NULL:this._err($o.unexpectedNullCharacter),this._createDoctypeToken(Bo),this.state=li.DOCTYPE_NAME;break;case Go.GREATER_THAN_SIGN:{this._err($o.missingDoctypeName),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=li.DATA;break}case Go.EOF:{this._err($o.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=li.DOCTYPE_NAME}}_stateDoctypeName(t){const e=this.currentToken;switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:this.state=li.AFTER_DOCTYPE_NAME;break;case Go.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentDoctype(e);break;case Go.NULL:this._err($o.unexpectedNullCharacter),e.name+=Bo;break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.name+=String.fromCodePoint(hi(t)?yi(t):t)}}_stateAfterDoctypeName(t){const e=this.currentToken;switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:break;case Go.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentDoctype(e);break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(Vo,!1)?this.state=li.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ko,!1)?this.state=li.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err($o.invalidCharacterSequenceAfterDoctypeName),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const e=this.currentToken;switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:this.state=li.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case Go.QUOTATION_MARK:this._err($o.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=li.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Go.APOSTROPHE:this._err($o.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=li.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Go.GREATER_THAN_SIGN:this._err($o.missingDoctypePublicIdentifier),e.forceQuirks=!0,this.state=li.DATA,this.emitCurrentDoctype(e);break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err($o.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const e=this.currentToken;switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:break;case Go.QUOTATION_MARK:e.publicId="",this.state=li.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Go.APOSTROPHE:e.publicId="",this.state=li.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Go.GREATER_THAN_SIGN:this._err($o.missingDoctypePublicIdentifier),e.forceQuirks=!0,this.state=li.DATA,this.emitCurrentDoctype(e);break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err($o.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const e=this.currentToken;switch(t){case Go.QUOTATION_MARK:this.state=li.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Go.NULL:this._err($o.unexpectedNullCharacter),e.publicId+=Bo;break;case Go.GREATER_THAN_SIGN:this._err($o.abruptDoctypePublicIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=li.DATA;break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const e=this.currentToken;switch(t){case Go.APOSTROPHE:this.state=li.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Go.NULL:this._err($o.unexpectedNullCharacter),e.publicId+=Bo;break;case Go.GREATER_THAN_SIGN:this._err($o.abruptDoctypePublicIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=li.DATA;break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const e=this.currentToken;switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:this.state=li.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case Go.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentDoctype(e);break;case Go.QUOTATION_MARK:this._err($o.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Go.APOSTROPHE:this._err($o.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err($o.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const e=this.currentToken;switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:break;case Go.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=li.DATA;break;case Go.QUOTATION_MARK:e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Go.APOSTROPHE:e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err($o.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const e=this.currentToken;switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:this.state=li.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case Go.QUOTATION_MARK:this._err($o.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Go.APOSTROPHE:this._err($o.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Go.GREATER_THAN_SIGN:this._err($o.missingDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.DATA,this.emitCurrentDoctype(e);break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err($o.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const e=this.currentToken;switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:break;case Go.QUOTATION_MARK:e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Go.APOSTROPHE:e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Go.GREATER_THAN_SIGN:this._err($o.missingDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.DATA,this.emitCurrentDoctype(e);break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err($o.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const e=this.currentToken;switch(t){case Go.QUOTATION_MARK:this.state=li.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Go.NULL:this._err($o.unexpectedNullCharacter),e.systemId+=Bo;break;case Go.GREATER_THAN_SIGN:this._err($o.abruptDoctypeSystemIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=li.DATA;break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const e=this.currentToken;switch(t){case Go.APOSTROPHE:this.state=li.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Go.NULL:this._err($o.unexpectedNullCharacter),e.systemId+=Bo;break;case Go.GREATER_THAN_SIGN:this._err($o.abruptDoctypeSystemIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=li.DATA;break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const e=this.currentToken;switch(t){case Go.SPACE:case Go.LINE_FEED:case Go.TABULATION:case Go.FORM_FEED:break;case Go.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=li.DATA;break;case Go.EOF:this._err($o.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err($o.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const e=this.currentToken;switch(t){case Go.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=li.DATA;break;case Go.NULL:this._err($o.unexpectedNullCharacter);break;case Go.EOF:this.emitCurrentDoctype(e),this._emitEOFToken()}}_stateCdataSection(t){switch(t){case Go.RIGHT_SQUARE_BRACKET:this.state=li.CDATA_SECTION_BRACKET;break;case Go.EOF:this._err($o.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===Go.RIGHT_SQUARE_BRACKET?this.state=li.CDATA_SECTION_END:(this._emitChars("]"),this.state=li.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case Go.GREATER_THAN_SIGN:this.state=li.DATA;break;case Go.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=li.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0){if(!this.preprocessor.lastChunkWritten)return this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,void(this.preprocessor.endOfChunkHit=!0);t=this.entityDecoder.end()}0===t?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(Go.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&di(this.preprocessor.peek(1))?li.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){di(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===Go.SEMICOLON&&this._err($o.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const bi=new Set([ri.DD,ri.DT,ri.LI,ri.OPTGROUP,ri.OPTION,ri.P,ri.RB,ri.RP,ri.RT,ri.RTC]),wi=new Set([...bi,ri.CAPTION,ri.COLGROUP,ri.TBODY,ri.TD,ri.TFOOT,ri.TH,ri.THEAD,ri.TR]),Ei=new Set([ri.APPLET,ri.CAPTION,ri.HTML,ri.MARQUEE,ri.OBJECT,ri.TABLE,ri.TD,ri.TEMPLATE,ri.TH]),xi=new Set([...Ei,ri.OL,ri.UL]),Si=new Set([...Ei,ri.BUTTON]),_i=new Set([ri.ANNOTATION_XML,ri.MI,ri.MN,ri.MO,ri.MS,ri.MTEXT]),Ai=new Set([ri.DESC,ri.FOREIGN_OBJECT,ri.TITLE]),Ti=new Set([ri.TR,ri.TEMPLATE,ri.HTML]),Li=new Set([ri.TBODY,ri.TFOOT,ri.THEAD,ri.TEMPLATE,ri.HTML]),ki=new Set([ri.TABLE,ri.TEMPLATE,ri.HTML]),Oi=new Set([ri.TD,ri.TH]);class Ii{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,e,r){this.treeAdapter=e,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=ri.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===ri.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Qo.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,e){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=e,this.currentTagId=e,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,e,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,e){const r=this._indexOf(t);this.items[r]=e,r===this.stackTop&&(this.current=e)}insertAfter(t,e,r){const n=this._indexOf(t)+1;this.items.splice(n,0,e),this.tagIDs.splice(n,0,r),this.stackTop++,n===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,n===this.stackTop)}popUntilTagNamePopped(t){let e=this.stackTop+1;do{e=this.tagIDs.lastIndexOf(t,e-1)}while(e>0&&this.treeAdapter.getNamespaceURI(this.items[e])!==Qo.HTML);this.shortenToLength(e<0?0:e)}shortenToLength(t){for(;this.stackTop>=t;){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,this.stackTop<t)}}popUntilElementPopped(t){const e=this._indexOf(t);this.shortenToLength(e<0?0:e)}popUntilPopped(t,e){const r=this._indexOfTagNames(t,e);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(ci,Qo.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Oi,Qo.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,e){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===e)return r;return-1}clearBackTo(t,e){const r=this._indexOfTagNames(t,e);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(ki,Qo.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Li,Qo.HTML)}clearBackToTableRowContext(){this.clearBackTo(Ti,Qo.HTML)}remove(t){const e=this._indexOf(t);e>=0&&(e===this.stackTop?this.pop():(this.items.splice(e,1),this.tagIDs.splice(e,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===ri.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const e=this._indexOf(t)-1;return e>=0?this.items[e]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===ri.HTML}hasInDynamicScope(t,e){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Qo.HTML:if(n===t)return!0;if(e.has(n))return!1;break;case Qo.SVG:if(Ai.has(n))return!1;break;case Qo.MATHML:if(_i.has(n))return!1}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Ei)}hasInListItemScope(t){return this.hasInDynamicScope(t,xi)}hasInButtonScope(t){return this.hasInDynamicScope(t,Si)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const e=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Qo.HTML:if(ci.has(e))return!0;if(Ei.has(e))return!1;break;case Qo.SVG:if(Ai.has(e))return!1;break;case Qo.MATHML:if(_i.has(e))return!1}}return!0}hasInTableScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Qo.HTML)switch(this.tagIDs[e]){case t:return!0;case ri.TABLE:case ri.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Qo.HTML)switch(this.tagIDs[t]){case ri.TBODY:case ri.THEAD:case ri.TFOOT:return!0;case ri.TABLE:case ri.HTML:return!1}return!0}hasInSelectScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Qo.HTML)switch(this.tagIDs[e]){case t:return!0;case ri.OPTION:case ri.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;bi.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;wi.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&wi.has(this.currentTagId);)this.pop()}}var Ni;!function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"}(Ni||(Ni={}));const Pi={type:Ni.Marker};class Ci{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,e){const r=[],n=e.length,o=this.treeAdapter.getTagName(t),i=this.treeAdapter.getNamespaceURI(t);for(let t=0;t<this.entries.length;t++){const e=this.entries[t];if(e.type===Ni.Marker)break;const{element:a}=e;if(this.treeAdapter.getTagName(a)===o&&this.treeAdapter.getNamespaceURI(a)===i){const e=this.treeAdapter.getAttrList(a);e.length===n&&r.push({idx:t,attrs:e})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<3)return;const e=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,e);if(r.length<3)return;const n=new Map(e.map((t=>[t.name,t.value])));let o=0;for(let t=0;t<r.length;t++){const e=r[t];e.attrs.every((t=>n.get(t.name)===t.value))&&(o+=1,o>=3&&this.entries.splice(e.idx,1))}}insertMarker(){this.entries.unshift(Pi)}pushElement(t,e){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ni.Element,element:t,token:e})}insertElementAfterBookmark(t,e){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ni.Element,element:t,token:e})}removeEntry(t){const e=this.entries.indexOf(t);e>=0&&this.entries.splice(e,1)}clearToLastMarker(){const t=this.entries.indexOf(Pi);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const e=this.entries.find((e=>e.type===Ni.Marker||this.treeAdapter.getTagName(e.element)===t));return e&&e.type===Ni.Element?e:null}getElementEntry(t){return this.entries.find((e=>e.type===Ni.Element&&e.element===t))}}const Di={createDocument:()=>({nodeName:"#document",mode:ti.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(t,e,r)=>({nodeName:t,tagName:t,attrs:r,namespaceURI:e,childNodes:[],parentNode:null}),createCommentNode:t=>({nodeName:"#comment",data:t,parentNode:null}),createTextNode:t=>({nodeName:"#text",value:t,parentNode:null}),appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,r){const n=t.childNodes.indexOf(r);t.childNodes.splice(n,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent:t=>t.content,setDocumentType(t,e,r,n){const o=t.childNodes.find((t=>"#documentType"===t.nodeName));if(o)o.name=e,o.publicId=r,o.systemId=n;else{const o={nodeName:"#documentType",name:e,publicId:r,systemId:n,parentNode:null};Di.appendChild(t,o)}},setDocumentMode(t,e){t.mode=e},getDocumentMode:t=>t.mode,detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const r=t.childNodes[t.childNodes.length-1];if(Di.isTextNode(r))return void(r.value+=e)}Di.appendChild(t,Di.createTextNode(e))},insertTextBefore(t,e,r){const n=t.childNodes[t.childNodes.indexOf(r)-1];n&&Di.isTextNode(n)?n.value+=e:Di.insertBefore(t,Di.createTextNode(e),r)},adoptAttributes(t,e){const r=new Set(t.attrs.map((t=>t.name)));for(let n=0;n<e.length;n++)r.has(e[n].name)||t.attrs.push(e[n])},getFirstChild:t=>t.childNodes[0],getChildNodes:t=>t.childNodes,getParentNode:t=>t.parentNode,getAttrList:t=>t.attrs,getTagName:t=>t.tagName,getNamespaceURI:t=>t.namespaceURI,getTextNodeContent:t=>t.value,getCommentNodeContent:t=>t.data,getDocumentTypeNodeName:t=>t.name,getDocumentTypeNodePublicId:t=>t.publicId,getDocumentTypeNodeSystemId:t=>t.systemId,isTextNode:t=>"#text"===t.nodeName,isCommentNode:t=>"#comment"===t.nodeName,isDocumentTypeNode:t=>"#documentType"===t.nodeName,isElementNode:t=>Object.prototype.hasOwnProperty.call(t,"tagName"),setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation:t=>t.sourceCodeLocation,updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},Ri="html",ji=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Fi=[...ji,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Bi=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Gi=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Mi=[...Gi,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Ui(t,e){return e.some((e=>t.startsWith(e)))}const Hi="text/html",qi="application/xhtml+xml",Vi=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((t=>[t.toLowerCase(),t]))),Ki=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Qo.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Qo.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Qo.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Qo.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Qo.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Qo.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Qo.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Qo.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Qo.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Qo.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Qo.XMLNS}]]),Yi=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((t=>[t.toLowerCase(),t]))),Wi=new Set([ri.B,ri.BIG,ri.BLOCKQUOTE,ri.BODY,ri.BR,ri.CENTER,ri.CODE,ri.DD,ri.DIV,ri.DL,ri.DT,ri.EM,ri.EMBED,ri.H1,ri.H2,ri.H3,ri.H4,ri.H5,ri.H6,ri.HEAD,ri.HR,ri.I,ri.IMG,ri.LI,ri.LISTING,ri.MENU,ri.META,ri.NOBR,ri.OL,ri.P,ri.PRE,ri.RUBY,ri.S,ri.SMALL,ri.SPAN,ri.STRONG,ri.STRIKE,ri.SUB,ri.SUP,ri.TABLE,ri.TT,ri.U,ri.UL,ri.VAR]);function zi(t){for(let e=0;e<t.attrs.length;e++)if("definitionurl"===t.attrs[e].name){t.attrs[e].name="definitionURL";break}}function $i(t){for(let e=0;e<t.attrs.length;e++){const r=Vi.get(t.attrs[e].name);null!=r&&(t.attrs[e].name=r)}}function Xi(t){for(let e=0;e<t.attrs.length;e++){const r=Ki.get(t.attrs[e].name);r&&(t.attrs[e].prefix=r.prefix,t.attrs[e].name=r.name,t.attrs[e].namespace=r.namespace)}}function Ji(t,e,r,n){return(!n||n===Qo.HTML)&&function(t,e,r){if(e===Qo.MATHML&&t===ri.ANNOTATION_XML)for(let t=0;t<r.length;t++)if(r[t].name===Zo.ENCODING){const e=r[t].value.toLowerCase();return e===Hi||e===qi}return e===Qo.SVG&&(t===ri.FOREIGN_OBJECT||t===ri.DESC||t===ri.TITLE)}(t,e,r)||(!n||n===Qo.MATHML)&&function(t,e){return e===Qo.MATHML&&(t===ri.MI||t===ri.MO||t===ri.MN||t===ri.MS||t===ri.MTEXT)}(t,e)}var Qi;!function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(Qi||(Qi={}));const Zi={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},ta=new Set([ri.TABLE,ri.TBODY,ri.TFOOT,ri.THEAD,ri.TR]),ea={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Di,onParseError:null};class ra{constructor(t,e,r=null,n=null){this.fragmentContext=r,this.scriptHandler=n,this.currentToken=null,this.stopped=!1,this.insertionMode=Qi.INITIAL,this.originalInsertionMode=Qi.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...ea,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=e?e:this.treeAdapter.createDocument(),this.tokenizer=new gi(this.options,this),this.activeFormattingElements=new Ci(this.treeAdapter),this.fragmentContextID=r?ii(this.treeAdapter.getTagName(r)):ri.UNKNOWN,this._setContextModes(null!=r?r:this.document,this.fragmentContextID),this.openElements=new Ii(this.document,this.treeAdapter,this)}static parse(t,e){const r=new this(e);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,e){const r={...ea,...e};null!=t||(t=r.treeAdapter.createElement(ei.TEMPLATE,Qo.HTML,[]));const n=r.treeAdapter.createElement("documentmock",Qo.HTML,[]),o=new this(r,n,t);return o.fragmentContextID===ri.TEMPLATE&&o.tmplInsertionModeStack.unshift(Qi.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),e=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,e),e}_err(t,e,r){var n;if(!this.onParseError)return;const o=null!==(n=t.location)&&void 0!==n?n:Zi,i={code:e,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(i)}onItemPush(t,e,r){var n,o;null===(o=(n=this.treeAdapter).onItemPush)||void 0===o||o.call(n,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,e)}onItemPop(t,e){var r,n;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),null===(n=(r=this.treeAdapter).onItemPop)||void 0===n||n.call(r,t,this.openElements.current),e){let t,e;0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,e=this.fragmentContextID):({current:t,currentTagId:e}=this.openElements),this._setContextModes(t,e)}}_setContextModes(t,e){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Qo.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(e,t)}_switchToTextParsing(t,e){this._insertElement(t,Qo.HTML),this.tokenizer.state=e,this.originalInsertionMode=this.insertionMode,this.insertionMode=Qi.TEXT}switchToPlaintextParsing(){this.insertionMode=Qi.TEXT,this.originalInsertionMode=Qi.IN_BODY,this.tokenizer.state=fi.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ei.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===Qo.HTML)switch(this.fragmentContextID){case ri.TITLE:case ri.TEXTAREA:this.tokenizer.state=fi.RCDATA;break;case ri.STYLE:case ri.XMP:case ri.IFRAME:case ri.NOEMBED:case ri.NOFRAMES:case ri.NOSCRIPT:this.tokenizer.state=fi.RAWTEXT;break;case ri.SCRIPT:this.tokenizer.state=fi.SCRIPT_DATA;break;case ri.PLAINTEXT:this.tokenizer.state=fi.PLAINTEXT}}_setDocumentType(t){const e=t.name||"",r=t.publicId||"",n=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,e,r,n),t.location){const e=this.treeAdapter.getChildNodes(this.document).find((t=>this.treeAdapter.isDocumentTypeNode(t)));e&&this.treeAdapter.setNodeSourceCodeLocation(e,t.location)}}_attachElementToTree(t,e){if(this.options.sourceCodeLocationInfo){const r=e&&{...e,startTag:e};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const e=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(e,t)}}_appendElement(t,e){const r=this.treeAdapter.createElement(t.tagName,e,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,e){const r=this.treeAdapter.createElement(t.tagName,e,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,e){const r=this.treeAdapter.createElement(t,Qo.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,e)}_insertTemplate(t){const e=this.treeAdapter.createElement(t.tagName,Qo.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(e,r),this._attachElementToTree(e,t.location),this.openElements.push(e,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(ei.HTML,Qo.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,ri.HTML)}_appendCommentNode(t,e){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(e,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let e,r;if(this._shouldFosterParentOnInsertion()?(({parent:e,beforeElement:r}=this._findFosterParentingLocation()),r?this.treeAdapter.insertTextBefore(e,t.chars,r):this.treeAdapter.insertText(e,t.chars)):(e=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(e,t.chars)),!t.location)return;const n=this.treeAdapter.getChildNodes(e),o=r?n.lastIndexOf(r):n.length,i=n[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(i)){const{endLine:e,endCol:r,endOffset:n}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(i,{endLine:e,endCol:r,endOffset:n})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,t.location)}_adoptNodes(t,e){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(e,r)}_setEndLocation(t,e){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&e.location){const r=e.location,n=this.treeAdapter.getTagName(t),o=e.type===Jo.END_TAG&&n===e.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let e,r;return 0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,r=this.fragmentContextID):({current:e,currentTagId:r}=this.openElements),(t.tagID!==ri.SVG||this.treeAdapter.getTagName(e)!==ei.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(e)!==Qo.MATHML)&&(this.tokenizer.inForeignNode||(t.tagID===ri.MGLYPH||t.tagID===ri.MALIGNMARK)&&!this._isIntegrationPoint(r,e,Qo.HTML))}_processToken(t){switch(t.type){case Jo.CHARACTER:this.onCharacter(t);break;case Jo.NULL_CHARACTER:this.onNullCharacter(t);break;case Jo.COMMENT:this.onComment(t);break;case Jo.DOCTYPE:this.onDoctype(t);break;case Jo.START_TAG:this._processStartTag(t);break;case Jo.END_TAG:this.onEndTag(t);break;case Jo.EOF:this.onEof(t);break;case Jo.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(t)}}_isIntegrationPoint(t,e,r){return Ji(t,this.treeAdapter.getNamespaceURI(e),this.treeAdapter.getAttrList(e),r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const e=this.activeFormattingElements.entries.findIndex((t=>t.type===Ni.Marker||this.openElements.contains(t.element)));for(let r=e<0?t-1:e-1;r>=0;r--){const t=this.activeFormattingElements.entries[r];this._insertElement(t.token,this.treeAdapter.getNamespaceURI(t.element)),t.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Qi.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(ri.P),this.openElements.popUntilTagNamePopped(ri.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(0===t&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case ri.TR:return void(this.insertionMode=Qi.IN_ROW);case ri.TBODY:case ri.THEAD:case ri.TFOOT:return void(this.insertionMode=Qi.IN_TABLE_BODY);case ri.CAPTION:return void(this.insertionMode=Qi.IN_CAPTION);case ri.COLGROUP:return void(this.insertionMode=Qi.IN_COLUMN_GROUP);case ri.TABLE:return void(this.insertionMode=Qi.IN_TABLE);case ri.BODY:return void(this.insertionMode=Qi.IN_BODY);case ri.FRAMESET:return void(this.insertionMode=Qi.IN_FRAMESET);case ri.SELECT:return void this._resetInsertionModeForSelect(t);case ri.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case ri.HTML:return void(this.insertionMode=this.headElement?Qi.AFTER_HEAD:Qi.BEFORE_HEAD);case ri.TD:case ri.TH:if(t>0)return void(this.insertionMode=Qi.IN_CELL);break;case ri.HEAD:if(t>0)return void(this.insertionMode=Qi.IN_HEAD)}this.insertionMode=Qi.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let e=t-1;e>0;e--){const t=this.openElements.tagIDs[e];if(t===ri.TEMPLATE)break;if(t===ri.TABLE)return void(this.insertionMode=Qi.IN_SELECT_IN_TABLE)}this.insertionMode=Qi.IN_SELECT}_isElementCausesFosterParenting(t){return ta.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const e=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case ri.TEMPLATE:if(this.treeAdapter.getNamespaceURI(e)===Qo.HTML)return{parent:this.treeAdapter.getTemplateContent(e),beforeElement:null};break;case ri.TABLE:{const r=this.treeAdapter.getParentNode(e);return r?{parent:r,beforeElement:e}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const e=this._findFosterParentingLocation();e.beforeElement?this.treeAdapter.insertBefore(e.parent,t,e.beforeElement):this.treeAdapter.appendChild(e.parent,t)}_isSpecialElement(t,e){const r=this.treeAdapter.getNamespaceURI(t);return si[r].has(e)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(t,e){t._insertCharacters(e),t.framesetOk=!1}(this,t);else switch(this.insertionMode){case Qi.INITIAL:ha(this,t);break;case Qi.BEFORE_HTML:pa(this,t);break;case Qi.BEFORE_HEAD:da(this,t);break;case Qi.IN_HEAD:ma(this,t);break;case Qi.IN_HEAD_NO_SCRIPT:ga(this,t);break;case Qi.AFTER_HEAD:ba(this,t);break;case Qi.IN_BODY:case Qi.IN_CAPTION:case Qi.IN_CELL:case Qi.IN_TEMPLATE:xa(this,t);break;case Qi.TEXT:case Qi.IN_SELECT:case Qi.IN_SELECT_IN_TABLE:this._insertCharacters(t);break;case Qi.IN_TABLE:case Qi.IN_TABLE_BODY:case Qi.IN_ROW:Na(this,t);break;case Qi.IN_TABLE_TEXT:ja(this,t);break;case Qi.IN_COLUMN_GROUP:Ma(this,t);break;case Qi.AFTER_BODY:$a(this,t);break;case Qi.AFTER_AFTER_BODY:Xa(this,t)}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(t,e){e.chars=Bo,t._insertCharacters(e)}(this,t);else switch(this.insertionMode){case Qi.INITIAL:ha(this,t);break;case Qi.BEFORE_HTML:pa(this,t);break;case Qi.BEFORE_HEAD:da(this,t);break;case Qi.IN_HEAD:ma(this,t);break;case Qi.IN_HEAD_NO_SCRIPT:ga(this,t);break;case Qi.AFTER_HEAD:ba(this,t);break;case Qi.TEXT:this._insertCharacters(t);break;case Qi.IN_TABLE:case Qi.IN_TABLE_BODY:case Qi.IN_ROW:Na(this,t);break;case Qi.IN_COLUMN_GROUP:Ma(this,t);break;case Qi.AFTER_BODY:$a(this,t);break;case Qi.AFTER_AFTER_BODY:Xa(this,t)}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML)la(this,t);else switch(this.insertionMode){case Qi.INITIAL:case Qi.BEFORE_HTML:case Qi.BEFORE_HEAD:case Qi.IN_HEAD:case Qi.IN_HEAD_NO_SCRIPT:case Qi.AFTER_HEAD:case Qi.IN_BODY:case Qi.IN_TABLE:case Qi.IN_CAPTION:case Qi.IN_COLUMN_GROUP:case Qi.IN_TABLE_BODY:case Qi.IN_ROW:case Qi.IN_CELL:case Qi.IN_SELECT:case Qi.IN_SELECT_IN_TABLE:case Qi.IN_TEMPLATE:case Qi.IN_FRAMESET:case Qi.AFTER_FRAMESET:la(this,t);break;case Qi.IN_TABLE_TEXT:Fa(this,t);break;case Qi.AFTER_BODY:!function(t,e){t._appendCommentNode(e,t.openElements.items[0])}(this,t);break;case Qi.AFTER_AFTER_BODY:case Qi.AFTER_AFTER_FRAMESET:!function(t,e){t._appendCommentNode(e,t.document)}(this,t)}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Qi.INITIAL:!function(t,e){t._setDocumentType(e);const r=e.forceQuirks?ti.QUIRKS:function(t){if(t.name!==Ri)return ti.QUIRKS;const{systemId:e}=t;if(e&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===e.toLowerCase())return ti.QUIRKS;let{publicId:r}=t;if(null!==r){if(r=r.toLowerCase(),Bi.has(r))return ti.QUIRKS;let t=null===e?Fi:ji;if(Ui(r,t))return ti.QUIRKS;if(t=null===e?Gi:Mi,Ui(r,t))return ti.LIMITED_QUIRKS}return ti.NO_QUIRKS}(e);(function(t){return t.name===Ri&&null===t.publicId&&(null===t.systemId||"about:legacy-compat"===t.systemId)})(e)||t._err(e,$o.nonConformingDoctype);t.treeAdapter.setDocumentMode(t.document,r),t.insertionMode=Qi.BEFORE_HTML}(this,t);break;case Qi.BEFORE_HEAD:case Qi.IN_HEAD:case Qi.IN_HEAD_NO_SCRIPT:case Qi.AFTER_HEAD:this._err(t,$o.misplacedDoctype);break;case Qi.IN_TABLE_TEXT:Fa(this,t)}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,$o.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?function(t,e){if(function(t){const e=t.tagID;return e===ri.FONT&&t.attrs.some((({name:t})=>t===Zo.COLOR||t===Zo.SIZE||t===Zo.FACE))||Wi.has(e)}(e))Ja(t),t._startTagOutsideForeignContent(e);else{const r=t._getAdjustedCurrentElement(),n=t.treeAdapter.getNamespaceURI(r);n===Qo.MATHML?zi(e):n===Qo.SVG&&(!function(t){const e=Yi.get(t.tagName);null!=e&&(t.tagName=e,t.tagID=ii(t.tagName))}(e),$i(e)),Xi(e),e.selfClosing?t._appendElement(e,n):t._insertElement(e,n),e.ackSelfClosing=!0}}(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Qi.INITIAL:ha(this,t);break;case Qi.BEFORE_HTML:!function(t,e){e.tagID===ri.HTML?(t._insertElement(e,Qo.HTML),t.insertionMode=Qi.BEFORE_HEAD):pa(t,e)}(this,t);break;case Qi.BEFORE_HEAD:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.HEAD:t._insertElement(e,Qo.HTML),t.headElement=t.openElements.current,t.insertionMode=Qi.IN_HEAD;break;default:da(t,e)}}(this,t);break;case Qi.IN_HEAD:ya(this,t);break;case Qi.IN_HEAD_NO_SCRIPT:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.BASEFONT:case ri.BGSOUND:case ri.HEAD:case ri.LINK:case ri.META:case ri.NOFRAMES:case ri.STYLE:ya(t,e);break;case ri.NOSCRIPT:t._err(e,$o.nestedNoscriptInHead);break;default:ga(t,e)}}(this,t);break;case Qi.AFTER_HEAD:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.BODY:t._insertElement(e,Qo.HTML),t.framesetOk=!1,t.insertionMode=Qi.IN_BODY;break;case ri.FRAMESET:t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_FRAMESET;break;case ri.BASE:case ri.BASEFONT:case ri.BGSOUND:case ri.LINK:case ri.META:case ri.NOFRAMES:case ri.SCRIPT:case ri.STYLE:case ri.TEMPLATE:case ri.TITLE:t._err(e,$o.abandonedHeadElementChild),t.openElements.push(t.headElement,ri.HEAD),ya(t,e),t.openElements.remove(t.headElement);break;case ri.HEAD:t._err(e,$o.misplacedStartTagForHeadElement);break;default:ba(t,e)}}(this,t);break;case Qi.IN_BODY:La(this,t);break;case Qi.IN_TABLE:Pa(this,t);break;case Qi.IN_TABLE_TEXT:Fa(this,t);break;case Qi.IN_CAPTION:!function(t,e){const r=e.tagID;Ba.has(r)?t.openElements.hasInTableScope(ri.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(ri.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Qi.IN_TABLE,Pa(t,e)):La(t,e)}(this,t);break;case Qi.IN_COLUMN_GROUP:Ga(this,t);break;case Qi.IN_TABLE_BODY:Ua(this,t);break;case Qi.IN_ROW:qa(this,t);break;case Qi.IN_CELL:!function(t,e){const r=e.tagID;Ba.has(r)?(t.openElements.hasInTableScope(ri.TD)||t.openElements.hasInTableScope(ri.TH))&&(t._closeTableCell(),qa(t,e)):La(t,e)}(this,t);break;case Qi.IN_SELECT:Ka(this,t);break;case Qi.IN_SELECT_IN_TABLE:!function(t,e){const r=e.tagID;r===ri.CAPTION||r===ri.TABLE||r===ri.TBODY||r===ri.TFOOT||r===ri.THEAD||r===ri.TR||r===ri.TD||r===ri.TH?(t.openElements.popUntilTagNamePopped(ri.SELECT),t._resetInsertionMode(),t._processStartTag(e)):Ka(t,e)}(this,t);break;case Qi.IN_TEMPLATE:!function(t,e){switch(e.tagID){case ri.BASE:case ri.BASEFONT:case ri.BGSOUND:case ri.LINK:case ri.META:case ri.NOFRAMES:case ri.SCRIPT:case ri.STYLE:case ri.TEMPLATE:case ri.TITLE:ya(t,e);break;case ri.CAPTION:case ri.COLGROUP:case ri.TBODY:case ri.TFOOT:case ri.THEAD:t.tmplInsertionModeStack[0]=Qi.IN_TABLE,t.insertionMode=Qi.IN_TABLE,Pa(t,e);break;case ri.COL:t.tmplInsertionModeStack[0]=Qi.IN_COLUMN_GROUP,t.insertionMode=Qi.IN_COLUMN_GROUP,Ga(t,e);break;case ri.TR:t.tmplInsertionModeStack[0]=Qi.IN_TABLE_BODY,t.insertionMode=Qi.IN_TABLE_BODY,Ua(t,e);break;case ri.TD:case ri.TH:t.tmplInsertionModeStack[0]=Qi.IN_ROW,t.insertionMode=Qi.IN_ROW,qa(t,e);break;default:t.tmplInsertionModeStack[0]=Qi.IN_BODY,t.insertionMode=Qi.IN_BODY,La(t,e)}}(this,t);break;case Qi.AFTER_BODY:!function(t,e){e.tagID===ri.HTML?La(t,e):$a(t,e)}(this,t);break;case Qi.IN_FRAMESET:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.FRAMESET:t._insertElement(e,Qo.HTML);break;case ri.FRAME:t._appendElement(e,Qo.HTML),e.ackSelfClosing=!0;break;case ri.NOFRAMES:ya(t,e)}}(this,t);break;case Qi.AFTER_FRAMESET:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.NOFRAMES:ya(t,e)}}(this,t);break;case Qi.AFTER_AFTER_BODY:!function(t,e){e.tagID===ri.HTML?La(t,e):Xa(t,e)}(this,t);break;case Qi.AFTER_AFTER_FRAMESET:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.NOFRAMES:ya(t,e)}}(this,t)}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?function(t,e){if(e.tagID===ri.P||e.tagID===ri.BR)return Ja(t),void t._endTagOutsideForeignContent(e);for(let r=t.openElements.stackTop;r>0;r--){const n=t.openElements.items[r];if(t.treeAdapter.getNamespaceURI(n)===Qo.HTML){t._endTagOutsideForeignContent(e);break}const o=t.treeAdapter.getTagName(n);if(o.toLowerCase()===e.tagName){e.tagName=o,t.openElements.shortenToLength(r);break}}}(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Qi.INITIAL:ha(this,t);break;case Qi.BEFORE_HTML:!function(t,e){const r=e.tagID;r!==ri.HTML&&r!==ri.HEAD&&r!==ri.BODY&&r!==ri.BR||pa(t,e)}(this,t);break;case Qi.BEFORE_HEAD:!function(t,e){const r=e.tagID;r===ri.HEAD||r===ri.BODY||r===ri.HTML||r===ri.BR?da(t,e):t._err(e,$o.endTagWithoutMatchingOpenElement)}(this,t);break;case Qi.IN_HEAD:!function(t,e){switch(e.tagID){case ri.HEAD:t.openElements.pop(),t.insertionMode=Qi.AFTER_HEAD;break;case ri.BODY:case ri.BR:case ri.HTML:ma(t,e);break;case ri.TEMPLATE:va(t,e);break;default:t._err(e,$o.endTagWithoutMatchingOpenElement)}}(this,t);break;case Qi.IN_HEAD_NO_SCRIPT:!function(t,e){switch(e.tagID){case ri.NOSCRIPT:t.openElements.pop(),t.insertionMode=Qi.IN_HEAD;break;case ri.BR:ga(t,e);break;default:t._err(e,$o.endTagWithoutMatchingOpenElement)}}(this,t);break;case Qi.AFTER_HEAD:!function(t,e){switch(e.tagID){case ri.BODY:case ri.HTML:case ri.BR:ba(t,e);break;case ri.TEMPLATE:va(t,e);break;default:t._err(e,$o.endTagWithoutMatchingOpenElement)}}(this,t);break;case Qi.IN_BODY:Oa(this,t);break;case Qi.TEXT:!function(t,e){var r;e.tagID===ri.SCRIPT&&(null===(r=t.scriptHandler)||void 0===r||r.call(t,t.openElements.current));t.openElements.pop(),t.insertionMode=t.originalInsertionMode}(this,t);break;case Qi.IN_TABLE:Ca(this,t);break;case Qi.IN_TABLE_TEXT:Fa(this,t);break;case Qi.IN_CAPTION:!function(t,e){const r=e.tagID;switch(r){case ri.CAPTION:case ri.TABLE:t.openElements.hasInTableScope(ri.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(ri.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Qi.IN_TABLE,r===ri.TABLE&&Ca(t,e));break;case ri.BODY:case ri.COL:case ri.COLGROUP:case ri.HTML:case ri.TBODY:case ri.TD:case ri.TFOOT:case ri.TH:case ri.THEAD:case ri.TR:break;default:Oa(t,e)}}(this,t);break;case Qi.IN_COLUMN_GROUP:!function(t,e){switch(e.tagID){case ri.COLGROUP:t.openElements.currentTagId===ri.COLGROUP&&(t.openElements.pop(),t.insertionMode=Qi.IN_TABLE);break;case ri.TEMPLATE:va(t,e);break;case ri.COL:break;default:Ma(t,e)}}(this,t);break;case Qi.IN_TABLE_BODY:Ha(this,t);break;case Qi.IN_ROW:Va(this,t);break;case Qi.IN_CELL:!function(t,e){const r=e.tagID;switch(r){case ri.TD:case ri.TH:t.openElements.hasInTableScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Qi.IN_ROW);break;case ri.TABLE:case ri.TBODY:case ri.TFOOT:case ri.THEAD:case ri.TR:t.openElements.hasInTableScope(r)&&(t._closeTableCell(),Va(t,e));break;case ri.BODY:case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.HTML:break;default:Oa(t,e)}}(this,t);break;case Qi.IN_SELECT:Ya(this,t);break;case Qi.IN_SELECT_IN_TABLE:!function(t,e){const r=e.tagID;r===ri.CAPTION||r===ri.TABLE||r===ri.TBODY||r===ri.TFOOT||r===ri.THEAD||r===ri.TR||r===ri.TD||r===ri.TH?t.openElements.hasInTableScope(r)&&(t.openElements.popUntilTagNamePopped(ri.SELECT),t._resetInsertionMode(),t.onEndTag(e)):Ya(t,e)}(this,t);break;case Qi.IN_TEMPLATE:!function(t,e){e.tagID===ri.TEMPLATE&&va(t,e)}(this,t);break;case Qi.AFTER_BODY:za(this,t);break;case Qi.IN_FRAMESET:!function(t,e){e.tagID!==ri.FRAMESET||t.openElements.isRootHtmlElementCurrent()||(t.openElements.pop(),t.fragmentContext||t.openElements.currentTagId===ri.FRAMESET||(t.insertionMode=Qi.AFTER_FRAMESET))}(this,t);break;case Qi.AFTER_FRAMESET:!function(t,e){e.tagID===ri.HTML&&(t.insertionMode=Qi.AFTER_AFTER_FRAMESET)}(this,t);break;case Qi.AFTER_AFTER_BODY:Xa(this,t)}}onEof(t){switch(this.insertionMode){case Qi.INITIAL:ha(this,t);break;case Qi.BEFORE_HTML:pa(this,t);break;case Qi.BEFORE_HEAD:da(this,t);break;case Qi.IN_HEAD:ma(this,t);break;case Qi.IN_HEAD_NO_SCRIPT:ga(this,t);break;case Qi.AFTER_HEAD:ba(this,t);break;case Qi.IN_BODY:case Qi.IN_TABLE:case Qi.IN_CAPTION:case Qi.IN_COLUMN_GROUP:case Qi.IN_TABLE_BODY:case Qi.IN_ROW:case Qi.IN_CELL:case Qi.IN_SELECT:case Qi.IN_SELECT_IN_TABLE:Ia(this,t);break;case Qi.TEXT:!function(t,e){t._err(e,$o.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}(this,t);break;case Qi.IN_TABLE_TEXT:Fa(this,t);break;case Qi.IN_TEMPLATE:Wa(this,t);break;case Qi.AFTER_BODY:case Qi.IN_FRAMESET:case Qi.AFTER_FRAMESET:case Qi.AFTER_AFTER_BODY:case Qi.AFTER_AFTER_FRAMESET:fa(this,t)}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===Go.LINE_FEED)){if(1===t.chars.length)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(t);else switch(this.insertionMode){case Qi.IN_HEAD:case Qi.IN_HEAD_NO_SCRIPT:case Qi.AFTER_HEAD:case Qi.TEXT:case Qi.IN_COLUMN_GROUP:case Qi.IN_SELECT:case Qi.IN_SELECT_IN_TABLE:case Qi.IN_FRAMESET:case Qi.AFTER_FRAMESET:this._insertCharacters(t);break;case Qi.IN_BODY:case Qi.IN_CAPTION:case Qi.IN_CELL:case Qi.IN_TEMPLATE:case Qi.AFTER_BODY:case Qi.AFTER_AFTER_BODY:case Qi.AFTER_AFTER_FRAMESET:Ea(this,t);break;case Qi.IN_TABLE:case Qi.IN_TABLE_BODY:case Qi.IN_ROW:Na(this,t);break;case Qi.IN_TABLE_TEXT:Ra(this,t)}}}function na(t,e){let r=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return r?t.openElements.contains(r.element)?t.openElements.hasInScope(e.tagID)||(r=null):(t.activeFormattingElements.removeEntry(r),r=null):ka(t,e),r}function oa(t,e){let r=null,n=t.openElements.stackTop;for(;n>=0;n--){const o=t.openElements.items[n];if(o===e.element)break;t._isSpecialElement(o,t.openElements.tagIDs[n])&&(r=o)}return r||(t.openElements.shortenToLength(n<0?0:n),t.activeFormattingElements.removeEntry(e)),r}function ia(t,e,r){let n=e,o=t.openElements.getCommonAncestor(e);for(let i=0,a=o;a!==r;i++,a=o){o=t.openElements.getCommonAncestor(a);const r=t.activeFormattingElements.getElementEntry(a),s=r&&i>=3;!r||s?(s&&t.activeFormattingElements.removeEntry(r),t.openElements.remove(a)):(a=aa(t,r),n===e&&(t.activeFormattingElements.bookmark=r),t.treeAdapter.detachNode(n),t.treeAdapter.appendChild(a,n),n=a)}return n}function aa(t,e){const r=t.treeAdapter.getNamespaceURI(e.element),n=t.treeAdapter.createElement(e.token.tagName,r,e.token.attrs);return t.openElements.replace(e.element,n),e.element=n,n}function sa(t,e,r){const n=ii(t.treeAdapter.getTagName(e));if(t._isElementCausesFosterParenting(n))t._fosterParentElement(r);else{const o=t.treeAdapter.getNamespaceURI(e);n===ri.TEMPLATE&&o===Qo.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,r)}}function ca(t,e,r){const n=t.treeAdapter.getNamespaceURI(r.element),{token:o}=r,i=t.treeAdapter.createElement(o.tagName,n,o.attrs);t._adoptNodes(e,i),t.treeAdapter.appendChild(e,i),t.activeFormattingElements.insertElementAfterBookmark(i,o),t.activeFormattingElements.removeEntry(r),t.openElements.remove(r.element),t.openElements.insertAfter(e,i,o.tagID)}function ua(t,e){for(let r=0;r<8;r++){const r=na(t,e);if(!r)break;const n=oa(t,r);if(!n)break;t.activeFormattingElements.bookmark=r;const o=ia(t,n,r.element),i=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(o),i&&sa(t,i,o),ca(t,n,r)}}function la(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function fa(t,e){if(t.stopped=!0,e.location){const r=t.fragmentContext?0:2;for(let n=t.openElements.stackTop;n>=r;n--)t._setEndLocation(t.openElements.items[n],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],n=t.treeAdapter.getNodeSourceCodeLocation(r);if(n&&!n.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const r=t.openElements.items[1],n=t.treeAdapter.getNodeSourceCodeLocation(r);n&&!n.endTag&&t._setEndLocation(r,e)}}}}function ha(t,e){t._err(e,$o.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,ti.QUIRKS),t.insertionMode=Qi.BEFORE_HTML,t._processToken(e)}function pa(t,e){t._insertFakeRootElement(),t.insertionMode=Qi.BEFORE_HEAD,t._processToken(e)}function da(t,e){t._insertFakeElement(ei.HEAD,ri.HEAD),t.headElement=t.openElements.current,t.insertionMode=Qi.IN_HEAD,t._processToken(e)}function ya(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.BASE:case ri.BASEFONT:case ri.BGSOUND:case ri.LINK:case ri.META:t._appendElement(e,Qo.HTML),e.ackSelfClosing=!0;break;case ri.TITLE:t._switchToTextParsing(e,fi.RCDATA);break;case ri.NOSCRIPT:t.options.scriptingEnabled?t._switchToTextParsing(e,fi.RAWTEXT):(t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_HEAD_NO_SCRIPT);break;case ri.NOFRAMES:case ri.STYLE:t._switchToTextParsing(e,fi.RAWTEXT);break;case ri.SCRIPT:t._switchToTextParsing(e,fi.SCRIPT_DATA);break;case ri.TEMPLATE:t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=Qi.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(Qi.IN_TEMPLATE);break;case ri.HEAD:t._err(e,$o.misplacedStartTagForHeadElement);break;default:ma(t,e)}}function va(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==ri.TEMPLATE&&t._err(e,$o.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(ri.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,$o.endTagWithoutMatchingOpenElement)}function ma(t,e){t.openElements.pop(),t.insertionMode=Qi.AFTER_HEAD,t._processToken(e)}function ga(t,e){const r=e.type===Jo.EOF?$o.openElementsLeftAfterEof:$o.disallowedContentInNoscriptInHead;t._err(e,r),t.openElements.pop(),t.insertionMode=Qi.IN_HEAD,t._processToken(e)}function ba(t,e){t._insertFakeElement(ei.BODY,ri.BODY),t.insertionMode=Qi.IN_BODY,wa(t,e)}function wa(t,e){switch(e.type){case Jo.CHARACTER:xa(t,e);break;case Jo.WHITESPACE_CHARACTER:Ea(t,e);break;case Jo.COMMENT:la(t,e);break;case Jo.START_TAG:La(t,e);break;case Jo.END_TAG:Oa(t,e);break;case Jo.EOF:Ia(t,e)}}function Ea(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function xa(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function Sa(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Qo.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function _a(t){const e=ni(t,Zo.TYPE);return null!=e&&"hidden"===e.toLowerCase()}function Aa(t,e){t._switchToTextParsing(e,fi.RAWTEXT)}function Ta(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML)}function La(t,e){switch(e.tagID){case ri.I:case ri.S:case ri.B:case ri.U:case ri.EM:case ri.TT:case ri.BIG:case ri.CODE:case ri.FONT:case ri.SMALL:case ri.STRIKE:case ri.STRONG:!function(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}(t,e);break;case ri.A:!function(t,e){const r=t.activeFormattingElements.getElementEntryInScopeWithTagName(ei.A);r&&(ua(t,e),t.openElements.remove(r.element),t.activeFormattingElements.removeEntry(r)),t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}(t,e);break;case ri.H1:case ri.H2:case ri.H3:case ri.H4:case ri.H5:case ri.H6:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),ci.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.P:case ri.DL:case ri.OL:case ri.UL:case ri.DIV:case ri.DIR:case ri.NAV:case ri.MAIN:case ri.MENU:case ri.ASIDE:case ri.CENTER:case ri.FIGURE:case ri.FOOTER:case ri.HEADER:case ri.HGROUP:case ri.DIALOG:case ri.DETAILS:case ri.ADDRESS:case ri.ARTICLE:case ri.SEARCH:case ri.SECTION:case ri.SUMMARY:case ri.FIELDSET:case ri.BLOCKQUOTE:case ri.FIGCAPTION:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.LI:case ri.DD:case ri.DT:!function(t,e){t.framesetOk=!1;const r=e.tagID;for(let e=t.openElements.stackTop;e>=0;e--){const n=t.openElements.tagIDs[e];if(r===ri.LI&&n===ri.LI||(r===ri.DD||r===ri.DT)&&(n===ri.DD||n===ri.DT)){t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n);break}if(n!==ri.ADDRESS&&n!==ri.DIV&&n!==ri.P&&t._isSpecialElement(t.openElements.items[e],n))break}t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.BR:case ri.IMG:case ri.WBR:case ri.AREA:case ri.EMBED:case ri.KEYGEN:Sa(t,e);break;case ri.HR:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._appendElement(e,Qo.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}(t,e);break;case ri.RB:case ri.RTC:!function(t,e){t.openElements.hasInScope(ri.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.RT:case ri.RP:!function(t,e){t.openElements.hasInScope(ri.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(ri.RTC),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.PRE:case ri.LISTING:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}(t,e);break;case ri.XMP:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,fi.RAWTEXT)}(t,e);break;case ri.SVG:!function(t,e){t._reconstructActiveFormattingElements(),$i(e),Xi(e),e.selfClosing?t._appendElement(e,Qo.SVG):t._insertElement(e,Qo.SVG),e.ackSelfClosing=!0}(t,e);break;case ri.HTML:!function(t,e){0===t.openElements.tmplCount&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}(t,e);break;case ri.BASE:case ri.LINK:case ri.META:case ri.STYLE:case ri.TITLE:case ri.SCRIPT:case ri.BGSOUND:case ri.BASEFONT:case ri.TEMPLATE:ya(t,e);break;case ri.BODY:!function(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&0===t.openElements.tmplCount&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(r,e.attrs))}(t,e);break;case ri.FORM:!function(t,e){const r=t.openElements.tmplCount>0;t.formElement&&!r||(t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML),r||(t.formElement=t.openElements.current))}(t,e);break;case ri.NOBR:!function(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(ri.NOBR)&&(ua(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Qo.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}(t,e);break;case ri.MATH:!function(t,e){t._reconstructActiveFormattingElements(),zi(e),Xi(e),e.selfClosing?t._appendElement(e,Qo.MATHML):t._insertElement(e,Qo.MATHML),e.ackSelfClosing=!0}(t,e);break;case ri.TABLE:!function(t,e){t.treeAdapter.getDocumentMode(t.document)!==ti.QUIRKS&&t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML),t.framesetOk=!1,t.insertionMode=Qi.IN_TABLE}(t,e);break;case ri.INPUT:!function(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Qo.HTML),_a(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}(t,e);break;case ri.PARAM:case ri.TRACK:case ri.SOURCE:!function(t,e){t._appendElement(e,Qo.HTML),e.ackSelfClosing=!0}(t,e);break;case ri.IMAGE:!function(t,e){e.tagName=ei.IMG,e.tagID=ri.IMG,Sa(t,e)}(t,e);break;case ri.BUTTON:!function(t,e){t.openElements.hasInScope(ri.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(ri.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML),t.framesetOk=!1}(t,e);break;case ri.APPLET:case ri.OBJECT:case ri.MARQUEE:!function(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}(t,e);break;case ri.IFRAME:!function(t,e){t.framesetOk=!1,t._switchToTextParsing(e,fi.RAWTEXT)}(t,e);break;case ri.SELECT:!function(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===Qi.IN_TABLE||t.insertionMode===Qi.IN_CAPTION||t.insertionMode===Qi.IN_TABLE_BODY||t.insertionMode===Qi.IN_ROW||t.insertionMode===Qi.IN_CELL?Qi.IN_SELECT_IN_TABLE:Qi.IN_SELECT}(t,e);break;case ri.OPTION:case ri.OPTGROUP:!function(t,e){t.openElements.currentTagId===ri.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.NOEMBED:case ri.NOFRAMES:Aa(t,e);break;case ri.FRAMESET:!function(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&r&&(t.treeAdapter.detachNode(r),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_FRAMESET)}(t,e);break;case ri.TEXTAREA:!function(t,e){t._insertElement(e,Qo.HTML),t.skipNextNewLine=!0,t.tokenizer.state=fi.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=Qi.TEXT}(t,e);break;case ri.NOSCRIPT:t.options.scriptingEnabled?Aa(t,e):Ta(t,e);break;case ri.PLAINTEXT:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML),t.tokenizer.state=fi.PLAINTEXT}(t,e);break;case ri.COL:case ri.TH:case ri.TD:case ri.TR:case ri.HEAD:case ri.FRAME:case ri.TBODY:case ri.TFOOT:case ri.THEAD:case ri.CAPTION:case ri.COLGROUP:break;default:Ta(t,e)}}function ka(t,e){const r=e.tagName,n=e.tagID;for(let e=t.openElements.stackTop;e>0;e--){const o=t.openElements.items[e],i=t.openElements.tagIDs[e];if(n===i&&(n!==ri.UNKNOWN||t.treeAdapter.getTagName(o)===r)){t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.stackTop>=e&&t.openElements.shortenToLength(e);break}if(t._isSpecialElement(o,i))break}}function Oa(t,e){switch(e.tagID){case ri.A:case ri.B:case ri.I:case ri.S:case ri.U:case ri.EM:case ri.TT:case ri.BIG:case ri.CODE:case ri.FONT:case ri.NOBR:case ri.SMALL:case ri.STRIKE:case ri.STRONG:ua(t,e);break;case ri.P:!function(t){t.openElements.hasInButtonScope(ri.P)||t._insertFakeElement(ei.P,ri.P),t._closePElement()}(t);break;case ri.DL:case ri.UL:case ri.OL:case ri.DIR:case ri.DIV:case ri.NAV:case ri.PRE:case ri.MAIN:case ri.MENU:case ri.ASIDE:case ri.BUTTON:case ri.CENTER:case ri.FIGURE:case ri.FOOTER:case ri.HEADER:case ri.HGROUP:case ri.DIALOG:case ri.ADDRESS:case ri.ARTICLE:case ri.DETAILS:case ri.SEARCH:case ri.SECTION:case ri.SUMMARY:case ri.LISTING:case ri.FIELDSET:case ri.BLOCKQUOTE:case ri.FIGCAPTION:!function(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r))}(t,e);break;case ri.LI:!function(t){t.openElements.hasInListItemScope(ri.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(ri.LI),t.openElements.popUntilTagNamePopped(ri.LI))}(t);break;case ri.DD:case ri.DT:!function(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.popUntilTagNamePopped(r))}(t,e);break;case ri.H1:case ri.H2:case ri.H3:case ri.H4:case ri.H5:case ri.H6:!function(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}(t);break;case ri.BR:!function(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(ei.BR,ri.BR),t.openElements.pop(),t.framesetOk=!1}(t);break;case ri.BODY:!function(t,e){if(t.openElements.hasInScope(ri.BODY)&&(t.insertionMode=Qi.AFTER_BODY,t.options.sourceCodeLocationInfo)){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&t._setEndLocation(r,e)}}(t,e);break;case ri.HTML:!function(t,e){t.openElements.hasInScope(ri.BODY)&&(t.insertionMode=Qi.AFTER_BODY,za(t,e))}(t,e);break;case ri.FORM:!function(t){const e=t.openElements.tmplCount>0,{formElement:r}=t;e||(t.formElement=null),(r||e)&&t.openElements.hasInScope(ri.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(ri.FORM):r&&t.openElements.remove(r))}(t);break;case ri.APPLET:case ri.OBJECT:case ri.MARQUEE:!function(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker())}(t,e);break;case ri.TEMPLATE:va(t,e);break;default:ka(t,e)}}function Ia(t,e){t.tmplInsertionModeStack.length>0?Wa(t,e):fa(t,e)}function Na(t,e){if(ta.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=Qi.IN_TABLE_TEXT,e.type){case Jo.CHARACTER:ja(t,e);break;case Jo.WHITESPACE_CHARACTER:Ra(t,e)}else Da(t,e)}function Pa(t,e){switch(e.tagID){case ri.TD:case ri.TH:case ri.TR:!function(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ei.TBODY,ri.TBODY),t.insertionMode=Qi.IN_TABLE_BODY,Ua(t,e)}(t,e);break;case ri.STYLE:case ri.SCRIPT:case ri.TEMPLATE:ya(t,e);break;case ri.COL:!function(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ei.COLGROUP,ri.COLGROUP),t.insertionMode=Qi.IN_COLUMN_GROUP,Ga(t,e)}(t,e);break;case ri.FORM:!function(t,e){t.formElement||0!==t.openElements.tmplCount||(t._insertElement(e,Qo.HTML),t.formElement=t.openElements.current,t.openElements.pop())}(t,e);break;case ri.TABLE:!function(t,e){t.openElements.hasInTableScope(ri.TABLE)&&(t.openElements.popUntilTagNamePopped(ri.TABLE),t._resetInsertionMode(),t._processStartTag(e))}(t,e);break;case ri.TBODY:case ri.TFOOT:case ri.THEAD:!function(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_TABLE_BODY}(t,e);break;case ri.INPUT:!function(t,e){_a(e)?t._appendElement(e,Qo.HTML):Da(t,e),e.ackSelfClosing=!0}(t,e);break;case ri.CAPTION:!function(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_CAPTION}(t,e);break;case ri.COLGROUP:!function(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_COLUMN_GROUP}(t,e);break;default:Da(t,e)}}function Ca(t,e){switch(e.tagID){case ri.TABLE:t.openElements.hasInTableScope(ri.TABLE)&&(t.openElements.popUntilTagNamePopped(ri.TABLE),t._resetInsertionMode());break;case ri.TEMPLATE:va(t,e);break;case ri.BODY:case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.HTML:case ri.TBODY:case ri.TD:case ri.TFOOT:case ri.TH:case ri.THEAD:case ri.TR:break;default:Da(t,e)}}function Da(t,e){const r=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,wa(t,e),t.fosterParentingEnabled=r}function Ra(t,e){t.pendingCharacterTokens.push(e)}function ja(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Fa(t,e){let r=0;if(t.hasNonWhitespacePendingCharacterToken)for(;r<t.pendingCharacterTokens.length;r++)Da(t,t.pendingCharacterTokens[r]);else for(;r<t.pendingCharacterTokens.length;r++)t._insertCharacters(t.pendingCharacterTokens[r]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const Ba=new Set([ri.CAPTION,ri.COL,ri.COLGROUP,ri.TBODY,ri.TD,ri.TFOOT,ri.TH,ri.THEAD,ri.TR]);function Ga(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.COL:t._appendElement(e,Qo.HTML),e.ackSelfClosing=!0;break;case ri.TEMPLATE:ya(t,e);break;default:Ma(t,e)}}function Ma(t,e){t.openElements.currentTagId===ri.COLGROUP&&(t.openElements.pop(),t.insertionMode=Qi.IN_TABLE,t._processToken(e))}function Ua(t,e){switch(e.tagID){case ri.TR:t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_ROW;break;case ri.TH:case ri.TD:t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(ei.TR,ri.TR),t.insertionMode=Qi.IN_ROW,qa(t,e);break;case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.TBODY:case ri.TFOOT:case ri.THEAD:t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE,Pa(t,e));break;default:Pa(t,e)}}function Ha(t,e){const r=e.tagID;switch(e.tagID){case ri.TBODY:case ri.TFOOT:case ri.THEAD:t.openElements.hasInTableScope(r)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE);break;case ri.TABLE:t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE,Ca(t,e));break;case ri.BODY:case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.HTML:case ri.TD:case ri.TH:case ri.TR:break;default:Ca(t,e)}}function qa(t,e){switch(e.tagID){case ri.TH:case ri.TD:t.openElements.clearBackToTableRowContext(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_CELL,t.activeFormattingElements.insertMarker();break;case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.TBODY:case ri.TFOOT:case ri.THEAD:case ri.TR:t.openElements.hasInTableScope(ri.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE_BODY,Ua(t,e));break;default:Pa(t,e)}}function Va(t,e){switch(e.tagID){case ri.TR:t.openElements.hasInTableScope(ri.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE_BODY);break;case ri.TABLE:t.openElements.hasInTableScope(ri.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE_BODY,Ha(t,e));break;case ri.TBODY:case ri.TFOOT:case ri.THEAD:(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(ri.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE_BODY,Ha(t,e));break;case ri.BODY:case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.HTML:case ri.TD:case ri.TH:break;default:Ca(t,e)}}function Ka(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.OPTION:t.openElements.currentTagId===ri.OPTION&&t.openElements.pop(),t._insertElement(e,Qo.HTML);break;case ri.OPTGROUP:t.openElements.currentTagId===ri.OPTION&&t.openElements.pop(),t.openElements.currentTagId===ri.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Qo.HTML);break;case ri.HR:t.openElements.currentTagId===ri.OPTION&&t.openElements.pop(),t.openElements.currentTagId===ri.OPTGROUP&&t.openElements.pop(),t._appendElement(e,Qo.HTML),e.ackSelfClosing=!0;break;case ri.INPUT:case ri.KEYGEN:case ri.TEXTAREA:case ri.SELECT:t.openElements.hasInSelectScope(ri.SELECT)&&(t.openElements.popUntilTagNamePopped(ri.SELECT),t._resetInsertionMode(),e.tagID!==ri.SELECT&&t._processStartTag(e));break;case ri.SCRIPT:case ri.TEMPLATE:ya(t,e)}}function Ya(t,e){switch(e.tagID){case ri.OPTGROUP:t.openElements.stackTop>0&&t.openElements.currentTagId===ri.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===ri.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===ri.OPTGROUP&&t.openElements.pop();break;case ri.OPTION:t.openElements.currentTagId===ri.OPTION&&t.openElements.pop();break;case ri.SELECT:t.openElements.hasInSelectScope(ri.SELECT)&&(t.openElements.popUntilTagNamePopped(ri.SELECT),t._resetInsertionMode());break;case ri.TEMPLATE:va(t,e)}}function Wa(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(ri.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):fa(t,e)}function za(t,e){var r;if(e.tagID===ri.HTML){if(t.fragmentContext||(t.insertionMode=Qi.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===ri.HTML){t._setEndLocation(t.openElements.items[0],e);const n=t.openElements.items[1];n&&!(null===(r=t.treeAdapter.getNodeSourceCodeLocation(n))||void 0===r?void 0:r.endTag)&&t._setEndLocation(n,e)}}else $a(t,e)}function $a(t,e){t.insertionMode=Qi.IN_BODY,wa(t,e)}function Xa(t,e){t.insertionMode=Qi.IN_BODY,wa(t,e)}function Ja(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Qo.HTML&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}const Qa=new Set([ei.AREA,ei.BASE,ei.BASEFONT,ei.BGSOUND,ei.BR,ei.COL,ei.EMBED,ei.FRAME,ei.HR,ei.IMG,ei.INPUT,ei.KEYGEN,ei.LINK,ei.META,ei.PARAM,ei.SOURCE,ei.TRACK,ei.WBR]);function Za(t,e){return e.treeAdapter.isElementNode(t)&&e.treeAdapter.getNamespaceURI(t)===Qo.HTML&&Qa.has(e.treeAdapter.getTagName(t))}const ts={treeAdapter:Di,scriptingEnabled:!0};function es(t,e){return ns(t,{...ts,...e})}function rs(t,e){let r="";const n=e.treeAdapter.isElementNode(t)&&e.treeAdapter.getTagName(t)===ei.TEMPLATE&&e.treeAdapter.getNamespaceURI(t)===Qo.HTML?e.treeAdapter.getTemplateContent(t):t,o=e.treeAdapter.getChildNodes(n);if(o)for(const t of o)r+=ns(t,e);return r}function ns(t,e){return e.treeAdapter.isElementNode(t)?function(t,e){const r=e.treeAdapter.getTagName(t);return`<${r}${function(t,{treeAdapter:e}){let r="";for(const n of e.getAttrList(t)){if(r+=" ",n.namespace)switch(n.namespace){case Qo.XML:r+="xml:"+n.name;break;case Qo.XMLNS:"xmlns"!==n.name&&(r+="xmlns:"),r+=n.name;break;case Qo.XLINK:r+="xlink:"+n.name;break;default:r+=`${n.prefix}:${n.name}`}else r+=n.name;r+=`="${xt(n.value)}"`}return r}(t,e)}>${Za(t,e)?"":`${rs(t,e)}</${r}>`}`}(t,e):e.treeAdapter.isTextNode(t)?function(t,e){const{treeAdapter:r}=e,n=r.getTextNodeContent(t),o=r.getParentNode(t),i=o&&r.isElementNode(o)&&r.getTagName(o);return i&&r.getNamespaceURI(o)===Qo.HTML&&(a=i,s=e.scriptingEnabled,ui.has(a)||s&&a===ei.NOSCRIPT)?n:St(n);var a,s}(t,e):e.treeAdapter.isCommentNode(t)?function(t,{treeAdapter:e}){return`\x3c!--${e.getCommentNodeContent(t)}--\x3e`}(t,e):e.treeAdapter.isDocumentTypeNode(t)?function(t,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(t)}>`}(t,e):""}function os(t){const e=t.includes('"')?"'":'"';return e+t+e}const is={isCommentNode:W,isElementNode:V,isTextNode:Y,createDocument(){const t=new H([]);return t["x-mode"]=ti.NO_QUIRKS,t},createDocumentFragment:()=>new H([]),createElement(t,e,r){const n=Object.create(null),o=Object.create(null),i=Object.create(null);for(let t=0;t<r.length;t++){const e=r[t].name;n[e]=r[t].value,o[e]=r[t].namespace,i[e]=r[t].prefix}const a=new q(t,n,[]);return a.namespace=e,a["x-attribsNamespace"]=o,a["x-attribsPrefix"]=i,a},createCommentNode:t=>new B(t),createTextNode:t=>new F(t),appendChild(t,e){const r=t.children[t.children.length-1];r&&(r.next=e,e.prev=r),t.children.push(e),e.parent=t},insertBefore(t,e,r){const n=t.children.indexOf(r),{prev:o}=r;o&&(o.next=e,e.prev=o),r.prev=e,e.next=r,t.children.splice(n,0,e),e.parent=t},setTemplateContent(t,e){is.appendChild(t,e)},getTemplateContent:t=>t.children[0],setDocumentType(t,e,r,n){const o=function(t,e,r){let n="!DOCTYPE ";return t&&(n+=t),e?n+=" PUBLIC "+os(e):r&&(n+=" SYSTEM"),r&&(n+=" "+os(r)),n}(e,r,n);let i=t.children.find((t=>z(t)&&"!doctype"===t.name));i?i.data=null!=o?o:null:(i=new G("!doctype",o),is.appendChild(t,i)),i["x-name"]=e,i["x-publicId"]=r,i["x-systemId"]=n},setDocumentMode(t,e){t["x-mode"]=e},getDocumentMode:t=>t["x-mode"],detachNode(t){if(t.parent){const e=t.parent.children.indexOf(t),{prev:r,next:n}=t;t.prev=null,t.next=null,r&&(r.next=n),n&&(n.prev=r),t.parent.children.splice(e,1),t.parent=null}},insertText(t,e){const r=t.children[t.children.length-1];r&&Y(r)?r.data+=e:is.appendChild(t,is.createTextNode(e))},insertTextBefore(t,e,r){const n=t.children[t.children.indexOf(r)-1];n&&Y(n)?n.data+=e:is.insertBefore(t,is.createTextNode(e),r)},adoptAttributes(t,e){for(let r=0;r<e.length;r++){const n=e[r].name;void 0===t.attribs[n]&&(t.attribs[n]=e[r].value,t["x-attribsNamespace"][n]=e[r].namespace,t["x-attribsPrefix"][n]=e[r].prefix)}},getFirstChild:t=>t.children[0],getChildNodes:t=>t.children,getParentNode:t=>t.parent,getAttrList:t=>t.attributes,getTagName:t=>t.name,getNamespaceURI:t=>t.namespace,getTextNodeContent:t=>t.data,getCommentNodeContent:t=>t.data,getDocumentTypeNodeName(t){var e;return null!==(e=t["x-name"])&&void 0!==e?e:""},getDocumentTypeNodePublicId(t){var e;return null!==(e=t["x-publicId"])&&void 0!==e?e:""},getDocumentTypeNodeSystemId(t){var e;return null!==(e=t["x-systemId"])&&void 0!==e?e:""},isDocumentTypeNode:t=>z(t)&&"!doctype"===t.name,setNodeSourceCodeLocation(t,e){e&&(t.startIndex=e.startOffset,t.endIndex=e.endOffset),t.sourceCodeLocation=e},getNodeSourceCodeLocation:t=>t.sourceCodeLocation,updateNodeSourceCodeLocation(t,e){null!=e.endOffset&&(t.endIndex=e.endOffset),t.sourceCodeLocation={...t.sourceCodeLocation,...e}}};function as(t,e,r,n){var o;return null!==(o=e.treeAdapter)&&void 0!==o||(e.treeAdapter=is),!1!==e.scriptingEnabled&&(e.scriptingEnabled=!0),r?function(t,e){return ra.parse(t,e)}(t,e):function(t,e,r){"string"==typeof t&&(r=e,e=t,t=null);const n=ra.getFragmentParser(t,r);return n.tokenizer.write(e,!0),n.getFragment()}(n,t,e)}const ss={treeAdapter:is};var cs,us,ls;function fs(t){return t===cs.Space||t===cs.NewLine||t===cs.Tab||t===cs.FormFeed||t===cs.CarriageReturn}function hs(t){return t===cs.Slash||t===cs.Gt||fs(t)}!function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"}(cs||(cs={})),function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"}(us||(us={})),function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"}(ls||(ls={}));const ps={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class ds{constructor({xmlMode:t=!1,decodeEntities:e=!0},r){this.cbs=r,this.state=us.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=us.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=e,this.entityDecoder=new pt(t?rt:et,((t,e)=>this.emitCodePoint(t,e)))}reset(){this.state=us.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=us.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===cs.Lt||!this.decodeEntities&&this.fastForwardTo(cs.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=us.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===cs.Amp&&this.startEntity()}stateSpecialStartSequence(t){const e=this.sequenceIndex===this.currentSequence.length;if(e?hs(t):(32|t)===this.currentSequence[this.sequenceIndex]){if(!e)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=us.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===cs.Gt||fs(t)){const e=this.index-this.currentSequence.length;if(this.sectionStart<e){const t=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=t}return this.isSpecial=!1,this.sectionStart=e+2,void this.stateInClosingTagName(t)}this.sequenceIndex=0}(32|t)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===ps.TitleEnd?this.decodeEntities&&t===cs.Amp&&this.startEntity():this.fastForwardTo(cs.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(t===cs.Lt)}stateCDATASequence(t){t===ps.Cdata[this.sequenceIndex]?++this.sequenceIndex===ps.Cdata.length&&(this.state=us.InCommentLike,this.currentSequence=ps.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=us.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ps.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=us.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!hs(t):function(t){return t>=cs.LowerA&&t<=cs.LowerZ||t>=cs.UpperA&&t<=cs.UpperZ}(t)}startSpecial(t,e){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=e,this.state=us.SpecialStartSequence}stateBeforeTagName(t){if(t===cs.ExclamationMark)this.state=us.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===cs.Questionmark)this.state=us.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const e=32|t;this.sectionStart=this.index,this.xmlMode?this.state=us.InTagName:e===ps.ScriptEnd[2]?this.state=us.BeforeSpecialS:e===ps.TitleEnd[2]?this.state=us.BeforeSpecialT:this.state=us.InTagName}else t===cs.Slash?this.state=us.BeforeClosingTagName:(this.state=us.Text,this.stateText(t))}stateInTagName(t){hs(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=us.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){fs(t)||(t===cs.Gt?this.state=us.Text:(this.state=this.isTagStartChar(t)?us.InClosingTagName:us.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===cs.Gt||fs(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=us.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===cs.Gt||this.fastForwardTo(cs.Gt))&&(this.state=us.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===cs.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=us.InSpecialTag,this.sequenceIndex=0):this.state=us.Text,this.sectionStart=this.index+1):t===cs.Slash?this.state=us.InSelfClosingTag:fs(t)||(this.state=us.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===cs.Gt?(this.cbs.onselfclosingtag(this.index),this.state=us.Text,this.sectionStart=this.index+1,this.isSpecial=!1):fs(t)||(this.state=us.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===cs.Eq||hs(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=us.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===cs.Eq?this.state=us.BeforeAttributeValue:t===cs.Slash||t===cs.Gt?(this.cbs.onattribend(ls.NoValue,this.sectionStart),this.sectionStart=-1,this.state=us.BeforeAttributeName,this.stateBeforeAttributeName(t)):fs(t)||(this.cbs.onattribend(ls.NoValue,this.sectionStart),this.state=us.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===cs.DoubleQuote?(this.state=us.InAttributeValueDq,this.sectionStart=this.index+1):t===cs.SingleQuote?(this.state=us.InAttributeValueSq,this.sectionStart=this.index+1):fs(t)||(this.sectionStart=this.index,this.state=us.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,e){t===e||!this.decodeEntities&&this.fastForwardTo(e)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===cs.DoubleQuote?ls.Double:ls.Single,this.index+1),this.state=us.BeforeAttributeName):this.decodeEntities&&t===cs.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,cs.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,cs.SingleQuote)}stateInAttributeValueNoQuotes(t){fs(t)||t===cs.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(ls.Unquoted,this.index),this.state=us.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===cs.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===cs.OpeningSquareBracket?(this.state=us.CDATASequence,this.sequenceIndex=0):this.state=t===cs.Dash?us.BeforeComment:us.InDeclaration}stateInDeclaration(t){(t===cs.Gt||this.fastForwardTo(cs.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=us.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===cs.Gt||this.fastForwardTo(cs.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=us.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===cs.Dash?(this.state=us.InCommentLike,this.currentSequence=ps.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=us.InDeclaration}stateInSpecialComment(t){(t===cs.Gt||this.fastForwardTo(cs.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=us.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const e=32|t;e===ps.ScriptEnd[3]?this.startSpecial(ps.ScriptEnd,4):e===ps.StyleEnd[3]?this.startSpecial(ps.StyleEnd,4):(this.state=us.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){const e=32|t;e===ps.TitleEnd[3]?this.startSpecial(ps.TitleEnd,4):e===ps.TextareaEnd[3]?this.startSpecial(ps.TextareaEnd,4):(this.state=us.InTagName,this.stateInTagName(t))}startEntity(){this.baseState=this.state,this.state=us.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?lt.Strict:this.baseState===us.Text||this.baseState===us.InSpecialTag?lt.Legacy:lt.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,0===t&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===us.Text||this.state===us.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==us.InAttributeValueDq&&this.state!==us.InAttributeValueSq&&this.state!==us.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case us.Text:this.stateText(t);break;case us.SpecialStartSequence:this.stateSpecialStartSequence(t);break;case us.InSpecialTag:this.stateInSpecialTag(t);break;case us.CDATASequence:this.stateCDATASequence(t);break;case us.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(t);break;case us.InAttributeName:this.stateInAttributeName(t);break;case us.InCommentLike:this.stateInCommentLike(t);break;case us.InSpecialComment:this.stateInSpecialComment(t);break;case us.BeforeAttributeName:this.stateBeforeAttributeName(t);break;case us.InTagName:this.stateInTagName(t);break;case us.InClosingTagName:this.stateInClosingTagName(t);break;case us.BeforeTagName:this.stateBeforeTagName(t);break;case us.AfterAttributeName:this.stateAfterAttributeName(t);break;case us.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(t);break;case us.BeforeAttributeValue:this.stateBeforeAttributeValue(t);break;case us.BeforeClosingTagName:this.stateBeforeClosingTagName(t);break;case us.AfterClosingTagName:this.stateAfterClosingTagName(t);break;case us.BeforeSpecialS:this.stateBeforeSpecialS(t);break;case us.BeforeSpecialT:this.stateBeforeSpecialT(t);break;case us.InAttributeValueNq:this.stateInAttributeValueNoQuotes(t);break;case us.InSelfClosingTag:this.stateInSelfClosingTag(t);break;case us.InDeclaration:this.stateInDeclaration(t);break;case us.BeforeDeclaration:this.stateBeforeDeclaration(t);break;case us.BeforeComment:this.stateBeforeComment(t);break;case us.InProcessingInstruction:this.stateInProcessingInstruction(t);break;case us.InEntity:this.stateInEntity()}this.index++}this.cleanup()}finish(){this.state===us.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===us.InCommentLike?this.currentSequence===ps.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===us.InTagName||this.state===us.BeforeAttributeName||this.state===us.BeforeAttributeValue||this.state===us.AfterAttributeName||this.state===us.InAttributeName||this.state===us.InAttributeValueSq||this.state===us.InAttributeValueDq||this.state===us.InAttributeValueNq||this.state===us.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,e){this.baseState!==us.Text&&this.baseState!==us.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+e,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+e,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const ys=new Set(["input","option","optgroup","select","button","datalist","textarea"]),vs=new Set(["p"]),ms=new Set(["thead","tbody"]),gs=new Set(["dd","dt"]),bs=new Set(["rt","rp"]),ws=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",vs],["h1",vs],["h2",vs],["h3",vs],["h4",vs],["h5",vs],["h6",vs],["select",ys],["input",ys],["output",ys],["button",ys],["datalist",ys],["textarea",ys],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",gs],["dt",gs],["address",vs],["article",vs],["aside",vs],["blockquote",vs],["details",vs],["div",vs],["dl",vs],["fieldset",vs],["figcaption",vs],["figure",vs],["footer",vs],["form",vs],["header",vs],["hr",vs],["main",vs],["nav",vs],["ol",vs],["pre",vs],["section",vs],["table",vs],["ul",vs],["rt",bs],["rp",bs],["tbody",ms],["tfoot",ms]]),Es=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),xs=new Set(["math","svg"]),Ss=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),_s=/\s|\//;class As{constructor(t,e={}){var r,n,o,i,a,s;this.options=e,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=t?t:{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=null!==(r=e.lowerCaseTags)&&void 0!==r?r:this.htmlMode,this.lowerCaseAttributeNames=null!==(n=e.lowerCaseAttributeNames)&&void 0!==n?n:this.htmlMode,this.recognizeSelfClosing=null!==(o=e.recognizeSelfClosing)&&void 0!==o?o:!this.htmlMode,this.tokenizer=new(null!==(i=e.Tokenizer)&&void 0!==i?i:ds)(this.options,this),this.foreignContext=[!this.htmlMode],null===(s=(a=this.cbs).onparserinit)||void 0===s||s.call(a,this)}ontext(t,e){var r,n;const o=this.getSlice(t,e);this.endIndex=e-1,null===(n=(r=this.cbs).ontext)||void 0===n||n.call(r,o),this.startIndex=e}ontextentity(t,e){var r,n;this.endIndex=e-1,null===(n=(r=this.cbs).ontext)||void 0===n||n.call(r,it(t)),this.startIndex=e}isVoidElement(t){return this.htmlMode&&Es.has(t)}onopentagname(t,e){this.endIndex=e;let r=this.getSlice(t,e);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var e,r,n,o;this.openTagStart=this.startIndex,this.tagname=t;const i=this.htmlMode&&ws.get(t);if(i)for(;this.stack.length>0&&i.has(this.stack[0]);){const t=this.stack.shift();null===(r=(e=this.cbs).onclosetag)||void 0===r||r.call(e,t,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(xs.has(t)?this.foreignContext.unshift(!0):Ss.has(t)&&this.foreignContext.unshift(!1))),null===(o=(n=this.cbs).onopentagname)||void 0===o||o.call(n,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var e,r;this.startIndex=this.openTagStart,this.attribs&&(null===(r=(e=this.cbs).onopentag)||void 0===r||r.call(e,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,e){var r,n,o,i,a,s,c,u;this.endIndex=e;let l=this.getSlice(t,e);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),this.htmlMode&&(xs.has(l)||Ss.has(l))&&this.foreignContext.shift(),this.isVoidElement(l))this.htmlMode&&"br"===l&&(null===(i=(o=this.cbs).onopentagname)||void 0===i||i.call(o,"br"),null===(s=(a=this.cbs).onopentag)||void 0===s||s.call(a,"br",{},!0),null===(u=(c=this.cbs).onclosetag)||void 0===u||u.call(c,"br",!1));else{const t=this.stack.indexOf(l);if(-1!==t)for(let e=0;e<=t;e++){const o=this.stack.shift();null===(n=(r=this.cbs).onclosetag)||void 0===n||n.call(r,o,e!==t)}else this.htmlMode&&"p"===l&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=e+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var e,r;const n=this.tagname;this.endOpenTag(t),this.stack[0]===n&&(null===(r=(e=this.cbs).onclosetag)||void 0===r||r.call(e,n,!t),this.stack.shift())}onattribname(t,e){this.startIndex=t;const r=this.getSlice(t,e);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,e){this.attribvalue+=this.getSlice(t,e)}onattribentity(t){this.attribvalue+=it(t)}onattribend(t,e){var r,n;this.endIndex=e,null===(n=(r=this.cbs).onattribute)||void 0===n||n.call(r,this.attribname,this.attribvalue,t===ls.Double?'"':t===ls.Single?"'":t===ls.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const e=t.search(_s);let r=e<0?t:t.substr(0,e);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,e){this.endIndex=e;const r=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){const t=this.getInstructionName(r);this.cbs.onprocessinginstruction("!"+t,"!"+r)}this.startIndex=e+1}onprocessinginstruction(t,e){this.endIndex=e;const r=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){const t=this.getInstructionName(r);this.cbs.onprocessinginstruction("?"+t,"?"+r)}this.startIndex=e+1}oncomment(t,e,r){var n,o,i,a;this.endIndex=e,null===(o=(n=this.cbs).oncomment)||void 0===o||o.call(n,this.getSlice(t,e-r)),null===(a=(i=this.cbs).oncommentend)||void 0===a||a.call(i),this.startIndex=e+1}oncdata(t,e,r){var n,o,i,a,s,c,u,l,f,h;this.endIndex=e;const p=this.getSlice(t,e-r);!this.htmlMode||this.options.recognizeCDATA?(null===(o=(n=this.cbs).oncdatastart)||void 0===o||o.call(n),null===(a=(i=this.cbs).ontext)||void 0===a||a.call(i,p),null===(c=(s=this.cbs).oncdataend)||void 0===c||c.call(s)):(null===(l=(u=this.cbs).oncomment)||void 0===l||l.call(u,`[CDATA[${p}]]`),null===(h=(f=this.cbs).oncommentend)||void 0===h||h.call(f)),this.startIndex=e+1}onend(){var t,e;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let t=0;t<this.stack.length;t++)this.cbs.onclosetag(this.stack[t],!0)}null===(e=(t=this.cbs).onend)||void 0===e||e.call(t)}reset(){var t,e,r,n;null===(e=(t=this.cbs).onreset)||void 0===e||e.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(n=(r=this.cbs).onparserinit)||void 0===n||n.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,e){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,e-this.bufferOffset);for(;e-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,e-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var e,r;this.ended?null===(r=(e=this.cbs).onerror)||void 0===r||r.call(e,Error(".write() after done!")):(this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++))}end(t){var e,r;this.ended?null===(r=(e=this.cbs).onerror)||void 0===r||r.call(e,Error(".end() after done!")):(t&&this.write(t),this.ended=!0,this.tokenizer.end())}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}}function Ts(t,e){const r=new tt(void 0,e);return new As(r,e).end(t),r.root}const Ls=(ks=(t,e,r,n)=>e._useHtmlParser2?Ts(t,e):as(t,e,r,n),function(t,e,r,n){if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&(t=t.toString()),"string"==typeof t)return ks(t,e,r,n);const o=t;if(!Array.isArray(o)&&$(o))return o;const i=new H([]);return eo(o,i),i});var ks;const Os=function(t,e){return function r(n,i,a=!0){if(null==n)throw Error("cheerio.load() expects a string");const s=Oe(i),c=t(n,s,a,null);class u extends jo{_make(t,e){const r=l(t,e);return r.prevObject=this,r}_parse(e,r,n,o){return t(e,r,n,o)}_render(t){return e(t,this.options)}}function l(e,r,n=c,o){if(e&&Me(e))return e;const i=Oe(o,s),a="string"==typeof n?[t(n,i,!1,null)]:"length"in n?n:[n],l=Me(a)?a:new u(a,null,i);if(l._root=l,!e)return new u(void 0,l,i);const f="string"==typeof e&&qe(e)?t(e,i,!1,null).children:(h=e).name||"root"===h.type||"text"===h.type||"comment"===h.type?[e]:Array.isArray(e)?e:void 0;var h;const p=new u(f,l,i);if(f)return p;if("string"!=typeof e)throw new TypeError("Unexpected type of selector");let d=e;const y=r?"string"==typeof r?qe(r)?new u([t(r,i,!1,null)],l,i):(d=`${r} ${d}`,l):Me(r)?r:new u(Array.isArray(r)?r:[r],l,i):l;return y?y.find(d):p}return Object.assign(l,o,{load:r,_root:c,_options:s,fn:u.prototype,prototype:u.prototype}),l}}(Ls,((t,e)=>e._useHtmlParser2?Pt(t,e):function(t){const e="length"in t?t:[t];for(let t=0;t<e.length;t+=1){const r=e[t];$(r)&&Array.prototype.splice.call(e,t,1,...r.children)}let r="";for(let t=0;t<e.length;t+=1)r+=es(e[t],ss);return r}(t)));var Is=r(9392),Ns=r(4200),Ps=r(895);function Cs(t){return Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(t)}function Ds(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rs(n.key),n)}}function Rs(t){var e=function(t,e){if("object"!=Cs(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Cs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cs(e)?e:e+""}var js=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&Ds(t.prototype,e),r&&Ds(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"playSound",value:function(){y.w.get({sound:Ns.Ay.sound,customsound:Ns.Ay.customsound,soundvolumn:Ns.Ay.soundvolumn,soundnotification:Ns.Ay.soundnotification}).then((function(t){var e=t.sound,r=t.customsound,n=t.soundvolumn/100;if(t.soundnotification)if(""!==e&&"custom"!==e){var o=new Audio(chrome.runtime.getURL("/assets/sounds/".concat(e)));o.volume=n,o.play()}else if("custom"===e){var i=new Audio(r);i.volume=n,i.play()}}))}},{key:"playSoundSafely",value:function(e){var r=e||Ns.Ay.delaybetweensoundnotifications;Date.now()-t.lastSoundNotificationTime>r&&(t.playSound(),t.lastSoundNotificationTime=new Date)}},{key:"nofMsg",value:function(e,r){var n={type:"basic",title:"Steam community",message:r,expandedMessage:"Check out the offers",iconUrl:chrome.runtime.getURL("assets/icon128.png")};chrome.notifications.clear(e,(function(){})),chrome.notifications.create(e,n),t.playSoundSafely()}},{key:"nofSteam",value:function(e,r,n){var o=n.trim().replace(/<span.+?>/g,"").replace(/<\/span>/g,""),i=r.endsWith("_full.jpg")?r:r.replace(".jpg","_full.jpg"),a={type:"basic",title:"Steam community",message:"".concat(o," (").concat(e,")"),iconUrl:i,expandedMessage:"Check out the offers"};chrome.notifications.clear("ido".concat(e),(function(){})),chrome.notifications.create("ido".concat(e),a),t.playSoundSafely()}}])}();!function(t,e,r){(e=Rs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(js,"lastSoundNotificationTime",0);var Fs=r(8100),Bs=r(2688),Gs=r.n(Bs);function Ms(t){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(t)}function Us(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hs(n.key),n)}}function Hs(t){var e=function(t,e){if("object"!=Ms(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ms(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ms(e)?e:e+""}var qs,Vs={USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"Â£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"â‚¬",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"â‚½",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"Â¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"à¸¿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"â‚«",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"â‚©",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"â‚´",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zÅ‚",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"Â¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"â‚¹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"â‚ª",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"â‚¸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"â‚¡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""}},Ks=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&Us(t.prototype,e),r&&Us(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"getPriceFromCurrency",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=[];return new Promise((function(i,a){chrome.storage.sync.get((function(a){o=a.currency_rates;var s=a.currency_rates.base,c=t.getCurrency(+r),u=t.getCurrency(+n),l=o.rates[c.strCode],f=o.rates[u.strCode];u.strCode===s?c.strCode!=s&&(e*=l):u.strCode!=c.strCode&&(e=e/f*l),i({price:e||0,code:c.strCode,symbol:c.strSymbol,text:"".concat(c.bSymbolIsPrefix?"".concat(c.strSymbol).concat(c.strSymbolAndNumberSeparator):"").concat(e?e.toFixed(2):0).concat(c.bSymbolIsPrefix?"":"".concat(c.strSymbolAndNumberSeparator).concat(c.strSymbol)),template:"".concat(c.bSymbolIsPrefix?"".concat(c.strSymbol).concat(c.strSymbolAndNumberSeparator):"","$price").concat(c.bSymbolIsPrefix?"":"".concat(c.strSymbolAndNumberSeparator).concat(c.strSymbol)),symbolPosition:c.bSymbolIsPrefix?"before":"after"})}))}))}},{key:"getCurrency",value:function(t){var e=null;for(var r in t=t||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1,Vs)if(Vs[r].eCurrencyCode===+t){e=Vs[r];break}return e}},{key:"getCurrencyCodeSteam",value:function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1}},{key:"isCurrencySymbolBeforeValue",value:function(t){return Vs[t]&&Vs[t].bSymbolIsPrefix}},{key:"isCurrencyWholeUnits",value:function(t){return Vs[t]&&Vs[t].bWholeUnitsOnly&&"RUB"!==t}},{key:"getCurrencySymbolByCode",value:function(t){return Vs[t]?Vs[t].strSymbol:t}},{key:"getCurrencyIdByCode",value:function(t){return Vs[t]?Vs[t].eCurrencyCode:t}},{key:"getCurrencySymbolFromString",value:function(t){var e=t.match(/(?:AED|ARS\$|A\$|R\$|Br|CDN\$|CHF|CLP\$|Â¥|COL\$|â‚¡|â‚¬|Â£|HK\$|Rp|â‚ª|â‚¹|Â¥|â‚©|KD|â‚¸|Mex\$|RM|kr|ì›|NZ\$|S\/\.|P|zÅ‚|QR|åˆ€å¸|Ñ€ÑƒĞ±\.|SR|S\$|à¸¿|TL|NT\$|â‚´|\$|\$U|â‚«|R)/);return e?e[0].replace(/Ñ€ÑƒĞ±./,"â‚½"):""}},{key:"getCurrencyCodeFromDOM",value:function(){var t="undefined"!=typeof document?document.querySelector('meta[itemprop="priceCurrency"]'):null;return t&&t.hasAttribute("content")?t.getAttribute("content"):null}},{key:"getCurrencyCodeBySymbol",value:function(t){return Object.keys(Vs).find((function(e){return Vs[e].strSymbol===t}))||""}},{key:"getCurrencyCodeById",value:function(t){return Object.keys(Vs).find((function(e){return Vs[e].eCurrencyCode===t}))||"Unknown"}},{key:"parsePrice",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getCurrencySymbolFromString(e),o=t.getCurrencyCodeFromDOM()||t.getCurrencyCodeBySymbol(n),i=Vs[o],a=i.eCurrencyCode,s=r?i.strThousandsSeparator:1111..toLocaleString().replace(/1/g,""),c=r?i.strDecimalSymbol:1.1.toLocaleString().replace(/1/g,""),u=(s?e.replace(RegExp("\\"+s,"g"),""):e).replace(RegExp("\\"+c),".").match(RegExp(/\d+[0-9,.]?\d*/g)),l=u&&u[0]&&(parseFloat(u[0])||0===parseFloat(u[0]))||NaN;return isNaN(l)?null:{value:100*l,currencyCode:o,currencySign:n,currencyNumber:a}}},{key:"vCurrencyFormat",value:function(e,r,n){var o=(e/100).toFixed(2);switch(r){case"EUR":return"".concat(o).concat(t.getCurrencySymbolByCode(r)).replace(".",",").replace(",00",",--");case"GBP":case"MYR":case"PHP":case"SGD":case"THB":case"CNY":case"INR":case"ZAR":case"ILS":case"BYN":return"".concat(t.getCurrencySymbolByCode(r)).concat(o);case"USD":return void 0!==n&&"US"!==n?"".concat(t.getCurrencySymbolByCode(r)).concat(o," USD"):"".concat(t.getCurrencySymbolByCode(r)).concat(o);case"RUB":case"UAH":return"".concat(o.replace(".",",").replace(",00","")," ").concat(t.getCurrencySymbolByCode(r));case"JPY":return"".concat(t.getCurrencySymbolByCode(r)," ").concat(o.replace(".00",""));case"BRL":case"COP":case"ARS":return"".concat(t.getCurrencySymbolByCode(r)," ").concat(o.replace(".",","));case"CLP":return"".concat(t.getCurrencySymbolByCode(r)," ").concat(o.replace(".00","").replace(".",","));case"CRC":case"UYU":return"".concat(t.getCurrencySymbolByCode(r)).concat(o.replace(".00","").replace(".",","));case"NOK":case"PLN":return"".concat(o.replace(".",",")," ").concat(t.getCurrencySymbolByCode(r));case"SAR":case"AED":case"CHF":case"KWD":case"QAR":return"".concat(o," ").concat(t.getCurrencySymbolByCode(r));case"IDR":case"MXN":case"CAD":case"AUD":case"NZD":case"PEN":case"HKD":case"TWD":return"".concat(t.getCurrencySymbolByCode(r)," ").concat(o);case"KRW":case"KZT":return"".concat(t.getCurrencySymbolByCode(r)).concat(o.replace(".00",""));case"VND":return"".concat(o.replace(".00","")).concat(t.getCurrencySymbolByCode(r));default:return"".concat(o," ").concat(r)}}},{key:"getPriceValueAsInt",value:function(e){if(!e)return 0;var r=t.getCurrencySymbolFromString(e),n=t.getCurrencyCodeBySymbol(r),o=e.replace(/,/g,".").replace(r,"").replace(n,"").replace(".--",".00").replace(/ /g,"");if(-1!==o.indexOf(".")){var i=o.split("."),a=i[i.length-1];o=isNaN(a)||3!==a.length||"0"===i[i.length-2]?"".concat(i.slice(0,-1).join(""),".").concat(a):i.join("")}var s=100*parseFloat(o),c=Math.floor(isNaN(s)?0:s+1e-6);return{value:c=Math.max(c,0),currencyCode:n,currencySign:r,currencyNumber:Vs[n].eCurrencyCode}}},{key:"formatPrice",value:function(t,e,r){var n=Math.abs(+t/100||0).toFixed(2),o="".concat(parseInt(n,10));if(Vs[e]){var i=Vs[e],a=o.length>3?o.length%3:0,s="".concat(a?o.substr(0,a)+i.strThousandsSeparator:"").concat(o.substr(a).replace(/(\d{3})(?=\d)/g,"$1".concat(i.strThousandsSeparator))),c="".concat(i.strDecimalSymbol).concat(Math.abs(n-o).toFixed(2).slice(2)),u="".concat(s).concat(i.bWholeUnitsOnly?c.replace("".concat(i.strDecimalSymbol,"00"),""):c),l=i.bSymbolIsPrefix?"".concat(i.strSymbol).concat(i.strSymbolAndNumberSeparator).concat(u):"".concat(u).concat(i.strSymbolAndNumberSeparator).concat(i.strSymbol);return"USD"===e&&void 0!==r&&"US"!==r?"".concat(l," USD"):"EUR"===e?l.replace(",00",",--"):l}return"".concat(o," ").concat(e)}}])}();function Ys(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ys=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==$s(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError($s(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ws(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function zs(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ws(i,n,o,a,s,"next",t)}function s(t){Ws(i,n,o,a,s,"throw",t)}a(void 0)}))}}function $s(t){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(t)}function Xs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zs(n.key),n)}}function Js(t,e,r){return e&&Xs(t.prototype,e),r&&Xs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qs(t,e,r){return(e=Zs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zs(t){var e=function(t,e){if("object"!=$s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$s(e)?e:e+""}var tc=new Map,ec=Js((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));qs=ec,Qs(ec,"generateDynamicRuleId",function(){var t=zs(Ys().mark((function t(e){var r,n,o,i=arguments;return Ys().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:1,e&&!tc.has(e)){t.next=3;break}return t.abrupt("return",null);case 3:return n=Array.from(tc.values()).some((function(t){return r===t.id})),o=n?tc.size+1:r,tc.set(e,{id:o,ruleFilter:e}),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Qs(ec,"setRule",function(){var t=zs(Ys().mark((function t(e){return Ys().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.id){t.next=2;break}return t.abrupt("return");case 2:return t.abrupt("return",new Promise((function(t){chrome.declarativeNetRequest.updateDynamicRules({addRules:[e]},function(){var r=zs(Ys().mark((function r(n){var o,i,a;return Ys().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null===(o=chrome)||void 0===o||null===(i=o.runtime)||void 0===i||null===(a=i.lastError)||void 0===a||!a.message.includes("Rule with id ".concat(e.id," does not have a unique ID"))){r.next=8;break}return r.next=3,qs.removeRuleById(e.id);case 3:return r.next=5,qs.setRule(e);case 5:t(n),r.next=9;break;case 8:t(n);case 9:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Qs(ec,"removeRule",function(){var t=zs(Ys().mark((function t(e){var r,n;return Ys().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.declarativeNetRequest.getDynamicRules();case 2:return r=t.sent,n=r.filter((function(t){var r=t.condition,n=r.urlFilter,o=void 0===n?null:n,i=r.regexFilter;return o===e||(void 0===i?null:i)===e})).map((function(t){return t.id})).filter((function(t){return!tc.has(e)||t})),t.next=6,chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:n});case 6:tc.delete(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Qs(ec,"removeRuleById",function(){var t=zs(Ys().mark((function t(e){var r,n;return Ys().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,chrome.declarativeNetRequest.getDynamicRules();case 4:r=t.sent,n=r.map((function(t){return t.id})).filter((function(t){return t===e})),chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:n});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Qs(ec,"removeAllRules",zs(Ys().mark((function t(){var e,r;return Ys().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.declarativeNetRequest.getDynamicRules();case 2:e=t.sent,r=e.map((function(t){return t.id})),chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:r});case 5:case"end":return t.stop()}}),t)}))));const rc=ec;function nc(t){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(t)}function oc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ic(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?oc(Object(r),!0).forEach((function(e){fc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ac(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ac=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==nc(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(nc(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function sc(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function cc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){sc(i,n,o,a,s,"next",t)}function s(t){sc(i,n,o,a,s,"throw",t)}a(void 0)}))}}function uc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hc(n.key),n)}}function lc(t,e,r){return e&&uc(t.prototype,e),r&&uc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fc(t,e,r){return(e=hc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hc(t){var e=function(t,e){if("object"!=nc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=nc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nc(e)?e:e+""}function pc(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function dc(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var yc=new WeakMap,vc=new WeakMap,mc=new WeakMap,gc=new WeakMap,bc=lc((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pc(this,yc,{height:670,width:900,state:"normal"}),pc(this,vc,{height:330,width:300,state:"normal"}),pc(this,mc,cc(ac().mark((function t(){var r,n,o;return ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal({popupWindowParams:dc(yc,e)});case 2:return r=t.sent,n=r.popupWindowParams,o="maximized"===n.state?{state:"maximized"}:"normal"!==n.state?dc(yc,e):n.width<dc(vc,e).width||n.height<dc(vc,e).height?dc(vc,e):n,t.prev=5,t.next=8,dc(gc,e).call(e,o);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(5),t.next=14,dc(gc,e).call(e,dc(yc,e));case 14:case"end":return t.stop()}}),t,null,[[5,10]])})))),pc(this,gc,function(){var t=cc(ac().mark((function t(e){var r;return ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.windows.create(ic({url:"html/tradeoffers.html",type:"popup",focused:!0},e));case 2:r=t.sent,y.w.setLocal({popupWindowId:r.id});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),fc(this,"open",cc(ac().mark((function t(){var r,n,o;return ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("popupWindowId");case 3:if(r=t.sent,!(n=r.popupWindowId)){t.next=13;break}return t.next=8,chrome.windows.get(n);case 8:return o=t.sent,t.next=11,chrome.windows.update(o.id,{focused:!0});case 11:t.next=15;break;case 13:return t.next=15,dc(mc,e).call(e);case 15:t.next=21;break;case 17:return t.prev=17,t.t0=t.catch(0),t.next=21,dc(mc,e).call(e);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))),fc(this,"onChangeWindowParams",function(){var t=cc(ac().mark((function t(e){var r,n,o;return ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("popupWindowId");case 2:r=t.sent,n=r.popupWindowId,e.id===n&&(o={height:e.height,left:e.left,state:e.state,top:e.top,width:e.width},y.w.setLocal({popupWindowParams:o}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),y.w.getLocal({popupWindowId:""}).then(function(){var t=cc(ac().mark((function t(e){var r;return ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.popupWindowId,t.prev=1,t.next=4,chrome.windows.remove(r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1);case 9:return t.prev=9,y.w.setLocal({popupWindowId:""}),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[1,6,9,12]])})));return function(e){return t.apply(this,arguments)}}())}));const wc=new bc;var Ec=r(8891);function xc(t){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(t)}function Sc(t){return function(t){if(Array.isArray(t))return _c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return _c(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ac(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ac=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==xc(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(xc(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Tc(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Lc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Tc(i,n,o,a,s,"next",t)}function s(t){Tc(i,n,o,a,s,"throw",t)}a(void 0)}))}}function kc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ic(n.key),n)}}function Oc(t,e,r){return(e=Ic(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ic(t){var e=function(t,e){if("object"!=xc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xc(e)?e:e+""}var Nc=function(){return function(t,e,r){return e&&kc(t.prototype,e),r&&kc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Oc(this,"time",(function(t){return Math.floor(Date.now()/1e3)+(t||0)})),Oc(this,"hmacSha1",(function(t,e){return self.crypto.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-1"}},!1,["sign"]).then((function(t){return self.crypto.subtle.sign("HMAC",t,e)}))})),Oc(this,"generateAuthCode",function(){var t=Lc(Ac().mark((function t(r,n){var o;return Ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.bufferizeSecret(r),!n){t.next=5;break}t.t0=n,t.next=8;break;case 5:return t.next=7,e.getTimeOffset();case 7:t.t0=t.sent.offset;case 8:return n=t.t0,(o=Ec.hp.allocUnsafe(8)).writeUInt32BE(0,0),o.writeUInt32BE(Math.floor(e.time(n)/30),4),t.abrupt("return",e.hmacSha1(r,o).then((function(t){for(var e=15&(t=new Uint8Array(t))[19],r=t.slice(e,e+4),n=2147483647&new DataView(r.buffer).getUint32(0),o="23456789BCDFGHJKMNPQRTVWXY",i="",a=0;a<5;a++)i+=o.charAt(n%26),n/=26;return i})));case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),Oc(this,"generateConfirmationKey",function(){var t=Lc(Ac().mark((function t(e,r,n){var o,i,a,s,c,u,l,f,h,p;return Ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o=atob(e),i=Uint8Array.from(o,(function(t){return t.charCodeAt(0)})),a=8,n&&(a+=Math.min(n.length,32)),s=new Uint8Array(a),c=7;c>=0;c--)s[c]=255&r,r>>=8;return n&&(u=(new TextEncoder).encode(n),s.set(u,8)),t.next=9,crypto.subtle.importKey("raw",i,{name:"HMAC",hash:"SHA-1"},!1,["sign"]);case 9:return l=t.sent,t.next=12,crypto.subtle.sign("HMAC",l,s);case 12:return f=t.sent,h=new Uint8Array(f),p=btoa(String.fromCharCode.apply(String,Sc(h))),t.abrupt("return",p);case 16:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),Oc(this,"getTimeOffset",Lc(Ac().mark((function t(){var r,n,o,i,a;return Ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=Date.now(),t.next=4,Fs.Ay.apiRequest({url:"https://api.steampowered.com/ITwoFactorService/QueryTime/v1/",method:"POST"});case 4:return n=t.sent,o=n.response,i=Date.now(),a=o.server_time-e.time(),t.abrupt("return",{offset:a,diff:i-r});case 11:return t.prev=11,t.t0=t.catch(0),t.t0,t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))),Oc(this,"getDeviceID",(function(t){return"android:"+Crypto.createHash("sha1").update(t.toString()+"").digest("hex").replace(/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12}).*$/,"$1-$2-$3-$4-$5")}))}),[{key:"bufferizeSecret",value:function(t){return"string"==typeof t?t.match(/[0-9a-f]{40}/i)?Ec.hp.from(t,"hex"):Ec.hp.from(t,"base64"):t}}])}();const Pc=new Nc;function Cc(t){return Cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(t)}function Dc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Dc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Cc(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Cc(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Rc(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function jc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Rc(i,n,o,a,s,"next",t)}function s(t){Rc(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Fc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bc(n.key),n)}}function Bc(t){var e=function(t,e){if("object"!=Cc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Cc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cc(e)?e:e+""}var Gc,Mc=function(){return function(t,e,r){return e&&Fc(t.prototype,e),r&&Fc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),null,[{key:"refreshSteamPowered",value:(e=jc(Dc().mark((function t(){return Dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.sendRequest({method:"GET",url:"https://login.steampowered.com/jwt/refresh?redir=https%3A%2F%2Fstore.steampowered.com%2F"});case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(){return e.apply(this,arguments)})},{key:"refreshSteamCommunity",value:(t=jc(Dc().mark((function t(e){return Dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.sendRequest({method:"GET",url:"https://login.steampowered.com/jwt/refresh?redir=https%3A%2F%2Fsteamcommunity.com%2Fprofiles%2F".concat(e,"%2F")});case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(e){return t.apply(this,arguments)})}]);var t,e}();function Uc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Uc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Vc(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Vc(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Hc(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function qc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Hc(i,n,o,a,s,"next",t)}function s(t){Hc(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Vc(t){return Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(t)}function Kc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zc(n.key),n)}}function Yc(t,e,r){return e&&Kc(t.prototype,e),r&&Kc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wc(t,e,r){return(e=zc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zc(t){var e=function(t,e){if("object"!=Vc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Vc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vc(e)?e:e+""}var $c={data:null,ts:Date.now()},Xc=Yc((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));Gc=Xc,Wc(Xc,"isFetchingProfile",!1),Wc(Xc,"profileFetchPromise",null),Wc(Xc,"TRADES_NOTIFICATION",{trades:null,ts:{tradeoffers:Date.now(),"tradeoffers/sent":Date.now(),"tradeoffers/?history=1":Date.now(),"tradeoffers/sent/?history=1":Date.now()}}),Wc(Xc,"getProfile",qc(Uc().mark((function t(){var e,r,n=arguments;return Uc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]&&n[0],r=n.length>1&&void 0!==n[1]?n[1]:null,t.prev=2,r&&($c.data=r,$c.ts=Date.now()),!(!$c.data||e||Date.now()-$c.ts>=6e4)){t.next=30;break}if(!Gc.isFetchingProfile){t.next=17;break}return t.next=8,Gc.profileFetchPromise;case 8:return t.next=10,Gc.checkSteamAuth();case 10:if(t.sent){t.next=14;break}return t.next=14,Gc.refreshSteamLoginSecure();case 14:return t.next=16,Gc.profileFetchPromise;case 16:case 29:return t.abrupt("return",t.sent);case 17:return Gc.isFetchingProfile=!0,Gc.profileFetchPromise=Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/my/"}).then((function(t){return $c.data=t,$c.ts=Date.now(),Gc.isFetchingProfile=!1,$c})).catch((function(t){throw Gc.isFetchingProfile=!1,t})),t.next=21,Gc.profileFetchPromise;case 21:return t.next=23,Gc.checkSteamAuth();case 23:if(t.sent){t.next=27;break}return t.next=27,Gc.refreshSteamLoginSecure();case 27:return t.next=29,Gc.profileFetchPromise;case 30:return t.abrupt("return",$c);case 33:return t.prev=33,t.t0=t.catch(2),t.t0,t.abrupt("return",{data:null,ts:Date.now()});case 37:case"end":return t.stop()}}),t,null,[[2,33]])})))),Wc(Xc,"checkSteamAuth",qc(Uc().mark((function t(){var e,r,n;return Uc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=Ps.A.Profile.parse($c.data,["steamId","isLoginPage"]),r=e.steamId,n=e.isLoginPage,!$c.data||n){t.next=4;break}return t.abrupt("return",!!r);case 4:return t.abrupt("return",!1);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),Wc(Xc,"refreshSteamLoginSecure",qc(Uc().mark((function t(){var e,r,n,o;return Uc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:return e=t.sent,r=e.userInfo,t.next=7,y.w.get({projects_permissions:{}});case 7:if(n=t.sent,o=n.projects_permissions,!r.steamId||!Object.keys(o).length){t.next=15;break}if(!Object.values(o).some((function(t){return Object.keys(t).length}))){t.next=15;break}return t.next=14,Mc.refreshSteamCommunity(r.steamId);case 14:t.sent;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),t.t0;case 20:case"end":return t.stop()}}),t,null,[[0,17]])}))));const Jc=Xc;function Qc(t){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(t)}function Zc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Zc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Qc(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Qc(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function tu(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function eu(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){tu(i,n,o,a,s,"next",t)}function s(t){tu(i,n,o,a,s,"throw",t)}a(void 0)}))}}function ru(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iu(n.key),n)}}function nu(t,e,r){return e&&ru(t.prototype,e),r&&ru(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ou(t,e,r){return(e=iu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iu(t){var e=function(t,e){if("object"!=Qc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Qc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qc(e)?e:e+""}function au(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function su(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var cu=new WeakMap,uu=new WeakMap,lu=new WeakMap,fu=new WeakMap,hu=nu((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),au(this,cu,(function(){var t=chrome.runtime.getManifest().version;return Fs.Ay.apiRequest({url:"https://api.steaminventoryhelper.com/steam-free-rewards",method:"GET",headers:{"x-sih-version":t}})})),au(this,uu,function(){var t=eu(Zc().mark((function t(e,r){var n;return Zc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams({access_token:e,defid:r}),t.next=3,Fs.Ay.apiRequest({url:"https://api.steampowered.com/ILoyaltyRewardsService/RedeemPoints/v1/?".concat(n.toString()),method:"POST"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),au(this,lu,function(){var t=eu(Zc().mark((function t(e){var r,n,o,i,a,s,c;return Zc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.stringify({requests:[{count:e.length,definitionids:e}]}),t.next=3,Fs.Ay.apiRequest({url:"https://api.steampowered.com/ILoyaltyRewardsService/BatchedQueryRewardItems/v1/?input_json=".concat(encodeURIComponent(a)),method:"GET"});case 3:if(s=t.sent,c=null==s||null===(r=s.response)||void 0===r||null===(n=r.responses)||void 0===n||null===(o=n[0])||void 0===o||null===(i=o.response)||void 0===i?void 0:i.definitions){t.next=7;break}throw Error("Error when receiving a response from steam");case 7:return t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),au(this,fu,function(){var t=eu(Zc().mark((function t(r){var n,o,i;return Zc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.length){t.next=9;break}return n=r.map((function(t){return t.defid})),t.next=4,su(lu,e).call(e,n);case 4:return o=t.sent,i=o.filter((function(t){return"0"===t.point_cost||0===t.point_cost})),t.abrupt("return",i);case 9:return t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),ou(this,"scanFreeRewardItems",eu(Zc().mark((function t(){var r,n,o,i,a,s,c;return Zc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,su(cu,e).call(e);case 3:if(!(r=t.sent).success){t.next=10;break}return t.next=7,su(fu,e).call(e,r.data);case 7:r.data=t.sent,t.next=11;break;case 10:throw Error("SIH API Error");case 11:return t.next=13,y.w.get({receivedSteamRewardItems:[],free_reward_items_notification:!1});case 13:if(n=t.sent,o=n.receivedSteamRewardItems,i=n.free_reward_items_notification,a=new Set(o),!r.data.filter((function(t){return!a.has(t.defid)})).length||!i){t.next=25;break}return s={type:"basic",title:"Steam inventory helper",message:"".concat(i18next.t("controls:rewards.notification_text")),iconUrl:"assets/icon128.png",buttons:[{title:"".concat(i18next.t("controls:rewards.btn_accept"))},{title:"".concat(i18next.t("controls:rewards.btn_disable"))}]},c=Is.A.notification.AVAILABLE_FREE_REWARDS,t.next=23,chrome.notifications.clear(c);case 23:return t.next=25,chrome.notifications.create(c,s);case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(0),console.error(t.t0);case 30:case"end":return t.stop()}}),t,null,[[0,27]])})))),ou(this,"getRewardsForSiteExt",function(){var t=eu(Zc().mark((function t(r){var n;return Zc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,su(cu,e).call(e);case 3:if(!(n=t.sent).success){t.next=11;break}return t.next=7,su(fu,e).call(e,n.data);case 7:n.data=t.sent,r(n),t.next=12;break;case 11:throw Error("SIH API Error");case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0),r({success:!1});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()),ou(this,"redeemPointsForSiteExt",function(){var t=eu(Zc().mark((function t(r,n){var o,i,a,s,c;return Zc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.access_token,i=r.defid,t.next=3,y.w.get({receivedSteamRewardItems:[]});case 3:return a=t.sent,s=a.receivedSteamRewardItems,(c=new Set(s)).add(i),t.next=9,y.w.set({receivedSteamRewardItems:Array.from(c)});case 9:return t.t0=n,t.next=12,su(uu,e).call(e,o,i);case 12:t.t1=t.sent,(0,t.t0)(t.t1);case 14:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}));const pu=new hu;function du(t){return du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(t)}function yu(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */yu=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==du(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(du(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function vu(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function mu(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){vu(i,n,o,a,s,"next",t)}function s(t){vu(i,n,o,a,s,"throw",t)}a(void 0)}))}}function gu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wu(n.key),n)}}function bu(t,e,r){return(e=wu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wu(t){var e=function(t,e){if("object"!=du(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=du(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==du(e)?e:e+""}function Eu(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function xu(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Su=new WeakMap,_u=function(){return function(t,e,r){return e&&gu(t.prototype,e),r&&gu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Eu(this,Su,{}),bu(this,"setSihAppUserToken",function(){var t=mu(yu().mark((function t(e){return yu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.set({sih_app_token:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),bu(this,"getSihAppUserToken",mu(yu().mark((function t(){var e,r,n;return yu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get("sih_app_token");case 2:return e=t.sent,r=e.sih_app_token,n=void 0===r?"":r,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))),bu(this,"setSihAppUserJWTToken",function(){var t=mu(yu().mark((function t(e){return yu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.set({sih_app_jwt:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),bu(this,"getSihAppUserJWTToken",mu(yu().mark((function t(){var e,r,n;return yu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get("sih_app_jwt");case 2:return e=t.sent,r=e.sih_app_jwt,n=void 0===r?{}:r,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))))}),[{key:"sihAppUserProfile",get:function(){return Object.assign({},(e=this,(t=Su).get(xu(t,e))));var t,e},set:function(t){var e,r,n;r=this,n=t,(e=Su).set(xu(e,r),n)}}])}();const Au=new _u;var Tu=r(6516);const Lu="9.14.0",ku=globalThis;function Ou(){return Iu(ku),ku}function Iu(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Lu,e[Lu]=e[Lu]||{}}function Nu(t,e,r=ku){const n=r.__SENTRY__=r.__SENTRY__||{},o=n[Lu]=n[Lu]||{};return o[t]||(o[t]=e())}const Pu=Object.prototype.toString;function Cu(t){switch(Pu.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return qu(t,Error)}}function Du(t,e){return Pu.call(t)===`[object ${e}]`}function Ru(t){return Du(t,"ErrorEvent")}function ju(t){return Du(t,"DOMError")}function Fu(t){return Du(t,"String")}function Bu(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Gu(t){return null===t||Bu(t)||"object"!=typeof t&&"function"!=typeof t}function Mu(t){return Du(t,"Object")}function Uu(t){return"undefined"!=typeof Event&&qu(t,Event)}function Hu(t){return!(!t?.then||"function"!=typeof t.then)}function qu(t,e){try{return t instanceof e}catch(t){return!1}}function Vu(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}const Ku=ku;function Yu(t,e={}){if(!t)return"<unknown>";try{let r=t;const n=5,o=[];let i=0,a=0;const s=" > ",c=s.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||80;for(;r&&i++<n&&(u=Wu(r,l),!("html"===u||i>1&&a+o.length*c+u.length>=f));)o.push(u),a+=u.length,r=r.parentNode;return o.reverse().join(s)}catch(t){return"<unknown>"}}function Wu(t,e){const r=t,n=[];if(!r?.tagName)return"";if(Ku.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const o=e?.length?e.filter((t=>r.getAttribute(t))).map((t=>[t,r.getAttribute(t)])):null;if(o?.length)o.forEach((t=>{n.push(`[${t[0]}="${t[1]}"]`)}));else{r.id&&n.push("#"+r.id);const t=r.className;if(t&&Fu(t)){const e=t.split(/\s+/);for(const t of e)n.push("."+t)}}const i=["aria-label","type","name","title","alt"];for(const t of i){const e=r.getAttribute(t);e&&n.push(`[${t}="${e}"]`)}return n.join("")}function zu(){try{return Ku.document.location.href}catch(t){return""}}const $u="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Xu=["debug","info","warn","error","log","assert","trace"],Ju={};function Qu(t){if(!("console"in ku))return t();const e=ku.console,r={},n=Object.keys(Ju);n.forEach((t=>{const n=Ju[t];r[t]=e[t],e[t]=n}));try{return t()}finally{n.forEach((t=>{e[t]=r[t]}))}}const Zu=Nu("logger",(function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return $u?Xu.forEach((r=>{e[r]=(...e)=>{t&&Qu((()=>{ku.console[r](`Sentry Logger [${r}]:`,...e)}))}})):Xu.forEach((t=>{e[t]=()=>{}})),e}));function tl(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:t.slice(0,e)+"..."}function el(t,e){if(!Array.isArray(t))return"";const r=[];for(let e=0;e<t.length;e++){const n=t[e];try{Vu(n)?r.push("[VueViewModel]"):r.push(n+"")}catch(t){r.push("[value cannot be serialized]")}}return r.join(e)}function rl(t,e,r=!1){return!!Fu(t)&&(Du(e,"RegExp")?e.test(t):!!Fu(e)&&(r?t===e:t.includes(e)))}function nl(t,e=[],r=!1){return e.some((e=>rl(t,e,r)))}function ol(t,e,r){if(!(e in t))return;const n=t[e];if("function"!=typeof n)return;const o=r(n);"function"==typeof o&&al(o,n);try{t[e]=o}catch{$u&&Zu.log(`Failed to replace method "${e}" in object`,t)}}function il(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch(r){$u&&Zu.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function al(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,il(t,"__sentry_original__",e)}catch(t){}}function sl(t){return t.__sentry_original__}function cl(t){if(Cu(t))return{message:t.message,name:t.name,stack:t.stack,...ll(t)};if(Uu(t)){const e={type:t.type,target:ul(t.target),currentTarget:ul(t.currentTarget),...ll(t)};return"undefined"!=typeof CustomEvent&&qu(t,CustomEvent)&&(e.detail=t.detail),e}return t}function ul(t){try{return e=t,"undefined"!=typeof Element&&qu(e,Element)?Yu(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}var e}function ll(t){if("object"==typeof t&&null!==t){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}return{}}function fl(t=function(){const t=ku;return t.crypto||t.msCrypto}()){let e=()=>16*Math.random();try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"");t?.getRandomValues&&(e=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(t){}return"10000000100040008000100000000000".replace(/[018]/g,(t=>(t^(15&e())>>t/4).toString(16)))}function hl(t){return t.exception?.values?.[0]}function pl(t){const{message:e,event_id:r}=t;if(e)return e;const n=hl(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function dl(t,e,r){const n=t.exception=t.exception||{},o=n.values=n.values||[],i=o[0]=o[0]||{};i.value||(i.value=e||""),i.type||(i.type=r||"Error")}function yl(t,e){const r=hl(t);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...e},e&&"data"in e){const t={...n?.data,...e.data};r.mechanism.data=t}}function vl(t){if(function(t){try{return t.__sentry_captured__}catch{}}(t))return!0;try{il(t,"__sentry_captured__",!0)}catch(t){}return!1}function ml(){return Date.now()/1e3}const gl=function(){const{performance:t}=ku;if(!t?.now)return ml;const e=Date.now()-t.now(),r=null==t.timeOrigin?e:t.timeOrigin;return()=>(r+t.now())/1e3}();function bl(t){const e=gl(),r={sid:fl(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return{sid:""+t.sid,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?""+t.did:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}(r)};return t&&wl(r,t),r}function wl(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||gl(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:fl()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=""+e.did),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function El(){return fl()}function xl(){return fl().substring(16)}function Sl(t,e,r=2){if(!e||"object"!=typeof e||r<=0)return e;if(t&&0===Object.keys(e).length)return t;const n={...t};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=Sl(n[t],e[t],r-1));return n}const _l="_sentrySpan";function Al(t,e){e?il(t,_l,e):delete t[_l]}function Tl(t){return t[_l]}class Ll{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:El(),sampleRand:Math.random()}}clone(){const t=new Ll;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Al(t,Tl(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&wl(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t,r=e instanceof Ll?e.getScopeData():Mu(e)?t:void 0,{tags:n,extra:o,user:i,contexts:a,level:s,fingerprint:c=[],propagationContext:u}=r||{};return this._tags={...this._tags,...n},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},i&&Object.keys(i).length&&(this._user=i),s&&(this._level=s),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Al(this,void 0),this._attachments=[],this.setPropagationContext({traceId:El(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,e){const r="number"==typeof e?e:100;if(r<=0)return this;const n={timestamp:ml(),...t,message:t.message?tl(t.message,2048):t.message};return this._breadcrumbs.push(n),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Tl(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Sl(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){const r=e?.event_id||fl();if(!this._client)return Zu.warn("No client configured on scope - will not capture exception!"),r;const n=Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:n,...e,event_id:r},this),r}captureMessage(t,e,r){const n=r?.event_id||fl();if(!this._client)return Zu.warn("No client configured on scope - will not capture message!"),n;const o=Error(t);return this._client.captureMessage(t,e,{originalException:t,syntheticException:o,...r,event_id:n},this),n}captureEvent(t,e){const r=e?.event_id||fl();return this._client?(this._client.captureEvent(t,{...e,event_id:r},this),r):(Zu.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}}class kl{constructor(t,e){let r,n;r=t||new Ll,n=e||new Ll,this._stack=[{scope:r}],this._isolationScope=n}withScope(t){const e=this._pushScope();let r;try{r=t(e)}catch(t){throw this._popScope(),t}return Hu(r)?r.then((t=>(this._popScope(),t)),(t=>{throw this._popScope(),t})):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Ol(){const t=Iu(Ou());return t.stack=t.stack||new kl(Nu("defaultCurrentScope",(()=>new Ll)),Nu("defaultIsolationScope",(()=>new Ll)))}function Il(t){return Ol().withScope(t)}function Nl(t,e){const r=Ol();return r.withScope((()=>(r.getStackTop().scope=t,e(t))))}function Pl(t){return Ol().withScope((()=>t(Ol().getIsolationScope())))}function Cl(t){const e=Iu(t);return e.acs?e.acs:{withIsolationScope:Pl,withScope:Il,withSetScope:Nl,withSetIsolationScope:(t,e)=>Pl(e),getCurrentScope:()=>Ol().getScope(),getIsolationScope:()=>Ol().getIsolationScope()}}function Dl(){return Cl(Ou()).getCurrentScope()}function Rl(){return Cl(Ou()).getIsolationScope()}function jl(...t){const e=Cl(Ou());if(2===t.length){const[r,n]=t;return r?e.withSetScope(r,n):e.withScope(n)}return e.withScope(t[0])}function Fl(){return Dl().getClient()}function Bl(t){const e=t.getPropagationContext(),{traceId:r,parentSpanId:n,propagationSpanId:o}=e,i={trace_id:r,span_id:o||xl()};return n&&(i.parent_span_id=n),i}const Gl="production",Ml="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var Ul;function Hl(t){return new Vl((e=>{e(t)}))}function ql(t){return new Vl(((e,r)=>{r(t)}))}!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(Ul||(Ul={}));class Vl{constructor(t){this._state=Ul.PENDING,this._handlers=[],this._runExecutor(t)}then(t,e){return new Vl(((r,n)=>{this._handlers.push([!1,e=>{if(t)try{r(t(e))}catch(t){n(t)}else r(e)},t=>{if(e)try{r(e(t))}catch(t){n(t)}else n(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new Vl(((e,r)=>{let n,o;return this.then((e=>{o=!1,n=e,t&&t()}),(e=>{o=!0,n=e,t&&t()})).then((()=>{o?r(n):e(n)}))}))}_executeHandlers(){if(this._state===Ul.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===Ul.RESOLVED&&t[1](this._value),this._state===Ul.REJECTED&&t[2](this._value),t[0]=!0)}))}_runExecutor(t){const e=(t,e)=>{this._state===Ul.PENDING&&(Hu(e)?e.then(r,n):(this._state=t,this._value=e,this._executeHandlers()))},r=t=>{e(Ul.RESOLVED,t)},n=t=>{e(Ul.REJECTED,t)};try{t(r,n)}catch(t){n(t)}}}function Kl(t,e,r,n=0){return new Vl(((o,i)=>{const a=t[n];if(null===e||"function"!=typeof a)o(e);else{const s=a({...e},r);Ml&&a.id&&null===s&&Zu.log(`Event processor "${a.id}" dropped event`),Hu(s)?s.then((e=>Kl(t,e,r,n+1).then(o))).then(null,i):Kl(t,s,r,n+1).then(o).then(null,i)}}))}let Yl,Wl,zl;function $l(t){const e=ku._sentryDebugIds;if(!e)return{};const r=Object.keys(e);return zl&&r.length===Wl||(Wl=r.length,zl=r.reduce(((r,n)=>{Yl||(Yl={});const o=Yl[n];if(o)r[o[0]]=o[1];else{const o=t(n);for(let t=o.length-1;t>=0;t--){const i=o[t],a=i?.filename,s=e[n];if(a&&s){r[a]=s,Yl[n]=[a,s];break}}}return r}),{})),zl}const Xl="?",Jl=/\(error: (.*)\)/,Ql=/captureMessage|captureException/;function Zl(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,r=0,n=0)=>{const o=[],i=t.split("\n");for(let t=r;t<i.length;t++){const r=i[t];if(r.length>1024)continue;const a=Jl.test(r)?r.replace(Jl,"$1"):r;if(!a.match(/\S*Error: /)){for(const t of e){const e=t(a);if(e){o.push(e);break}}if(o.length>=50+n)break}}return function(t){if(!t.length)return[];const e=Array.from(t);/sentryWrapped/.test(tf(e).function||"")&&e.pop();e.reverse(),Ql.test(tf(e).function||"")&&(e.pop(),Ql.test(tf(e).function||"")&&e.pop());return e.slice(0,50).map((t=>({...t,filename:t.filename||tf(e).filename,function:t.function||Xl})))}(o.slice(n))}}function tf(t){return t[t.length-1]||{}}const ef="<anonymous>";function rf(t){try{return t&&"function"==typeof t&&t.name||ef}catch(t){return ef}}function nf(t){const e=t.exception;if(e){const t=[];try{return e.values.forEach((e=>{e.stacktrace.frames&&t.push(...e.stacktrace.frames)})),t}catch(t){return}}}function of(t,e=100,r=1/0){try{return sf("",t,e,r)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function af(t,e=3,r=102400){const n=of(t,e);return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(n))>r?af(t,e-1,r):n}function sf(t,e,r=1/0,n=1/0,o=function(){const t=new WeakSet;function e(e){return!!t.has(e)||(t.add(e),!1)}function r(e){t.delete(e)}return[e,r]}()){const[i,a]=o;if(null==e||["boolean","string"].includes(typeof e)||"number"==typeof e&&Number.isFinite(e))return e;const s=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(Vu(e))return"[VueViewModel]";if(Mu(r=e)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"==typeof e&&!Number.isFinite(e))return`[${e}]`;if("function"==typeof e)return`[Function: ${rf(e)}]`;if("symbol"==typeof e)return`[${e+""}]`;if("bigint"==typeof e)return`[BigInt: ${e+""}]`;const n=function(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(t){return`**non-serializable** (${t})`}var r}(t,e);if(!s.startsWith("[object "))return s;if(e.__sentry_skip_normalization__)return e;const c="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:r;if(0===c)return s.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&"function"==typeof u.toJSON)try{return sf("",u.toJSON(),c-1,n,o)}catch(t){}const l=Array.isArray(e)?[]:{};let f=0;const h=cl(e);for(const t in h){if(!Object.prototype.hasOwnProperty.call(h,t))continue;if(f>=n){l[t]="[MaxProperties ~]";break}const e=h[t];l[t]=sf(t,e,c-1,n,o),f++}return a(e),l}const cf="sentry.profile_id",uf="sentry.exclusive_time",lf=/^sentry-/;function ff(t){const e=function(t){if(!t||!Fu(t)&&!Array.isArray(t))return;if(Array.isArray(t))return t.reduce(((t,e)=>{const r=hf(e);return Object.entries(r).forEach((([e,r])=>{t[e]=r})),t}),{});return hf(t)}(t);if(!e)return;const r=Object.entries(e).reduce(((t,[e,r])=>{if(e.match(lf)){t[e.slice(7)]=r}return t}),{});return Object.keys(r).length>0?r:void 0}function hf(t){return t.split(",").map((t=>t.split("=").map((t=>decodeURIComponent(t.trim()))))).reduce(((t,[e,r])=>(e&&r&&(t[e]=r),t)),{})}function pf(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=t||Fl()?.getOptions();return!(!e||null==e.tracesSampleRate&&!e.tracesSampler)}const df="_sentryScope",yf="_sentryIsolationScope";function vf(t){return{scope:t[df],isolationScope:t[yf]}}let mf=!1;function gf(t){const{spanId:e,traceId:r,isRemote:n}=t.spanContext(),o=n?e:xf(t).parent_span_id,i=vf(t).scope;return{parent_span_id:o,span_id:n?i?.getPropagationContext().propagationSpanId||xl():e,trace_id:r}}function bf(t){return t&&t.length>0?t.map((({context:{spanId:t,traceId:e,traceFlags:r,...n},attributes:o})=>({span_id:t,trace_id:e,sampled:1===r,attributes:o,...n}))):void 0}function wf(t){return"number"==typeof t?Ef(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Ef(t.getTime()):gl()}function Ef(t){return t>9999999999?t/1e3:t}function xf(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();const{spanId:e,traceId:r}=t.spanContext();if(function(t){const e=t;return!!(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status)}(t)){const{attributes:n,startTime:o,name:i,endTime:a,parentSpanId:s,status:c,links:u}=t;return{span_id:e,trace_id:r,data:n,description:i,parent_span_id:s,start_timestamp:wf(o),timestamp:wf(a)||void 0,status:_f(c),op:n["sentry.op"],origin:n["sentry.origin"],links:bf(u)}}return{span_id:e,trace_id:r,start_timestamp:0,data:{}}}function Sf(t){const{traceFlags:e}=t.spanContext();return 1===e}function _f(t){if(t&&0!==t.code)return 1===t.code?"ok":t.message||"unknown_error"}const Af="_sentryRootSpan";function Tf(t){return t[Af]||t}function Lf(){mf||(Qu((()=>{})),mf=!0)}const kf="_frozenDsc";function Of(t,e){const r=e.getOptions(),{publicKey:n}=e.getDsn()||{},o={environment:r.environment||Gl,release:r.release,public_key:n,trace_id:t};return e.emit("createDsc",o),o}function If(t){const e=Fl();if(!e)return{};const r=Tf(t),n=xf(r),o=n.data,i=r.spanContext().traceState,a=i?.get("sentry.sample_rate")??o["sentry.sample_rate"];function s(t){return"number"!=typeof a&&"string"!=typeof a||(t.sample_rate=""+a),t}const c=r[kf];if(c)return s(c);const u=i?.get("sentry.dsc"),l=u&&ff(u);if(l)return s(l);const f=Of(t.spanContext().traceId,e),h=o["sentry.source"],p=n.description;return"url"!==h&&p&&(f.transaction=p),pf()&&(f.sampled=Sf(r)+"",f.sample_rand=i?.get("sentry.sample_rand")??vf(r).scope?.getPropagationContext().sampleRand.toString()),s(f),e.emit("createDsc",f,r),f}function Nf(t,e){const{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:i}=e;!function(t,e){const{extra:r,tags:n,user:o,contexts:i,level:a,transactionName:s}=e;Object.keys(r).length&&(t.extra={...r,...t.extra});Object.keys(n).length&&(t.tags={...n,...t.tags});Object.keys(o).length&&(t.user={...o,...t.user});Object.keys(i).length&&(t.contexts={...i,...t.contexts});a&&(t.level=a);s&&"transaction"!==t.type&&(t.transaction=s)}(t,e),n&&function(t,e){t.contexts={trace:gf(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:If(e),...t.sdkProcessingMetadata};const r=Tf(e),n=xf(r).description;n&&!t.transaction&&"transaction"===t.type&&(t.transaction=n)}(t,n),function(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint.length||delete t.fingerprint}(t,r),function(t,e){const r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}(t,o),function(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}(t,i)}function Pf(t,e){const{extra:r,tags:n,user:o,contexts:i,level:a,sdkProcessingMetadata:s,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:h,transactionName:p,span:d}=e;Cf(t,"extra",r),Cf(t,"tags",n),Cf(t,"user",o),Cf(t,"contexts",i),t.sdkProcessingMetadata=Sl(t.sdkProcessingMetadata,s,2),a&&(t.level=a),p&&(t.transactionName=p),d&&(t.span=d),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),f.length&&(t.attachments=[...t.attachments,...f]),t.propagationContext={...t.propagationContext,...h}}function Cf(t,e,r){t[e]=Sl(t[e],r,1)}function Df(t,e,r,n,o,i){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=t,c={...e,event_id:e.event_id||r.event_id||fl(),timestamp:e.timestamp||ml()},u=r.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:r,release:n,dist:o,maxValueLength:i=250}=e;t.environment=t.environment||r||Gl,!t.release&&n&&(t.release=n);!t.dist&&o&&(t.dist=o);const a=t.request;a?.url&&(a.url=tl(a.url,i))}(c,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(c,u),o&&o.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){const r=$l(e);t.exception?.values?.forEach((t=>{t.stacktrace?.frames?.forEach((t=>{t.filename&&(t.debug_id=r[t.filename])}))}))}(c,t.stackParser);const l=function(t,e){if(!e)return t;const r=t?t.clone():new Ll;return r.update(e),r}(n,r.captureContext);r.mechanism&&yl(c,r.mechanism);const f=o?o.getEventProcessors():[],h=Nu("globalScope",(()=>new Ll)).getScopeData();if(i){Pf(h,i.getScopeData())}if(l){Pf(h,l.getScopeData())}const p=[...r.attachments||[],...h.attachments];p.length&&(r.attachments=p),Nf(c,h);return Kl([...f,...h.eventProcessors],c,r).then((t=>(t&&function(t){const e={};if(t.exception?.values?.forEach((t=>{t.stacktrace?.frames?.forEach((t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)}))})),0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.entries(e).forEach((([t,e])=>{r.push({type:"sourcemap",code_file:t,debug_id:e})}))}(t),"number"==typeof a&&a>0?function(t,e,r){if(!t)return null;const n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:of(t.data,e,r)}})))},...t.user&&{user:of(t.user,e,r)},...t.contexts&&{contexts:of(t.contexts,e,r)},...t.extra&&{extra:of(t.extra,e,r)}};t.contexts?.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=of(t.contexts.trace.data,e,r)));t.spans&&(n.spans=t.spans.map((t=>({...t,...t.data&&{data:of(t.data,e,r)}}))));t.contexts?.flags&&n.contexts&&(n.contexts.flags=of(t.contexts.flags,3,r));return n}(t,a,s):t)))}function Rf(t){if(t)return function(t){return t instanceof Ll||"function"==typeof t}(t)||function(t){return Object.keys(t).some((t=>jf.includes(t)))}(t)?{captureContext:t}:t}const jf=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Ff(t,e){return Dl().captureException(t,Rf(e))}function Bf(t,e){return Dl().captureEvent(t,e)}function Gf(t,e){Rl().setExtra(t,e)}function Mf(t){const e=Rl(),r=Dl(),{userAgent:n}=ku.navigator||{},o=bl({user:r.getUser()||e.getUser(),...n&&{userAgent:n},...t}),i=e.getSession();return"ok"===i?.status&&wl(i,{status:"exited"}),Uf(),e.setSession(o),o}function Uf(){const t=Rl(),e=Dl().getSession()||t.getSession();e&&function(t,e){let r={};e?r={status:e}:"ok"===t.status&&(r={status:"exited"}),wl(t,r)}(e),Hf(),t.setSession()}function Hf(){const t=Rl(),e=Fl(),r=t.getSession();r&&e&&e.captureSession(r)}function qf(t=!1){t?Uf():Hf()}const Vf=[];function Kf(t){const e=t.defaultIntegrations||[],r=t.integrations;let n;if(e.forEach((t=>{t.isDefaultInstance=!0})),Array.isArray(r))n=[...e,...r];else if("function"==typeof r){const t=r(e);n=Array.isArray(t)?t:[t]}else n=e;return function(t){const e={};return t.forEach((t=>{const{name:r}=t,n=e[r];n&&!n.isDefaultInstance&&t.isDefaultInstance||(e[r]=t)})),Object.values(e)}(n)}function Yf(t,e){for(const r of e)r?.afterAllSetup&&r.afterAllSetup(t)}function Wf(t,e,r){if(r[e.name])Ml&&Zu.log("Integration skipped because it was already installed: "+e.name);else{if(r[e.name]=e,-1===Vf.indexOf(e.name)&&"function"==typeof e.setupOnce&&(e.setupOnce(),Vf.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),"function"==typeof e.preprocessEvent){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",((e,n)=>r(e,n,t)))}if("function"==typeof e.processEvent){const r=e.processEvent.bind(e),n=Object.assign(((e,n)=>r(e,n,t)),{id:e.name});t.addEventProcessor(n)}Ml&&Zu.log("Integration installed: "+e.name)}}function zf(t){const e=[];t.message&&e.push(t.message);try{const r=t.exception.values[t.exception.values.length-1];r?.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`))}catch(t){}return e}const $f=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Xf=(t={})=>{let e;return{name:"EventFilters",setup(r){const n=r.getOptions();e=Qf(t,n)},processEvent(r,n,o){if(!e){const r=o.getOptions();e=Qf(t,r)}return function(t,e){if(t.type){if("transaction"===t.type&&function(t,e){if(!e?.length)return!1;const r=t.transaction;return!!r&&nl(r,e)}(t,e.ignoreTransactions))return Ml&&Zu.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: "+pl(t)),!0}else{if(function(t,e){if(!e?.length)return!1;return zf(t).some((t=>nl(t,e)))}(t,e.ignoreErrors))return Ml&&Zu.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+pl(t)),!0;if(function(t){if(!t.exception?.values?.length)return!1;return!t.message&&!t.exception.values.some((t=>t.stacktrace||t.type&&"Error"!==t.type||t.value))}(t))return Ml&&Zu.warn("Event dropped due to not having an error message, error type or stacktrace.\nEvent: "+pl(t)),!0;if(function(t,e){if(!e?.length)return!1;const r=Zf(t);return!!r&&nl(r,e)}(t,e.denyUrls))return Ml&&Zu.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${pl(t)}.\nUrl: ${Zf(t)}`),!0;if(!function(t,e){if(!e?.length)return!0;const r=Zf(t);return!r||nl(r,e)}(t,e.allowUrls))return Ml&&Zu.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${pl(t)}.\nUrl: ${Zf(t)}`),!0}return!1}(r,e)?null:r}}},Jf=(t={})=>({...Xf(t),name:"InboundFilters"});function Qf(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:$f],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function Zf(t){try{const e=[...t.exception?.values??[]].reverse().find((t=>void 0===t.mechanism?.parent_id&&t.stacktrace?.frames?.length)),r=e?.stacktrace?.frames;return r?function(t=[]){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(r):null}catch(e){return Ml&&Zu.error("Cannot extract url for event "+pl(t)),null}}let th;const eh=new WeakMap,rh=()=>({name:"FunctionToString",setupOnce(){th=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=sl(this),r=eh.has(Fl())&&void 0!==e?e:this;return th.apply(r,t)}}catch{}},setup(t){eh.set(t,!0)}}),nh=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(t,e){if(!e)return!1;if(function(t,e){const r=t.message,n=e.message;if(!r&&!n)return!1;if(r&&!n||!r&&n)return!1;if(r!==n)return!1;if(!ih(t,e))return!1;if(!oh(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const r=ah(e),n=ah(t);if(!r||!n)return!1;if(r.type!==n.type||r.value!==n.value)return!1;if(!ih(t,e))return!1;if(!oh(t,e))return!1;return!0}(t,e))return!0;return!1}(e,t))return Ml&&Zu.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return t=e}}};function oh(t,e){let r=nf(t),n=nf(e);if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;if(n.length!==r.length)return!1;for(let t=0;t<n.length;t++){const e=n[t],o=r[t];if(e.filename!==o.filename||e.lineno!==o.lineno||e.colno!==o.colno||e.function!==o.function)return!1}return!0}function ih(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(t){return!1}}function ah(t){return t.exception?.values&&t.exception.values[0]}const sh=ku;function ch(){if(!("fetch"in sh))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function uh(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function lh(t,e){!0===e.debug&&(Ml?Zu.enable():Qu((()=>{})));Dl().update(e.initialScope);const r=new t(e);return function(t){Dl().setClient(t)}(r),r.init(),r}function fh(t){const e=t.protocol?t.protocol+":":"",r=t.port?":"+t.port:"";return`${e}//${t.host}${r}${t.path?"/"+t.path:""}/api/`}function hh(t,e,r){return e||`${function(t){return`${fh(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){const r={sentry_version:"7"};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}(t,r)}`}const ph=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function dh(t,e=!1){const{host:r,path:n,pass:o,port:i,projectId:a,protocol:s,publicKey:c}=t;return`${s}://${c}${e&&o?":"+o:""}@${r}${i?":"+i:""}/${n?n+"/":n}${a}`}function yh(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function vh(t){const e="string"==typeof t?function(t){const e=ph.exec(t);if(!e)return void Qu((()=>{console.error("Invalid Sentry Dsn: "+t)}));const[r,n,o="",i="",a="",s=""]=e.slice(1);let c="",u=s;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return yh({host:i,pass:o,path:c,projectId:u,port:a,protocol:r,publicKey:n})}(t):yh(t);if(e&&function(t){if(!$u)return!0;const{port:e,projectId:r,protocol:n}=t;return!(["protocol","publicKey","host","projectId"].find((e=>!t[e]&&(Zu.error(`Invalid Sentry Dsn: ${e} missing`),!0)))||(r.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(n)?e&&isNaN(parseInt(e,10))&&(Zu.error("Invalid Sentry Dsn: Invalid port "+e),1):(Zu.error("Invalid Sentry Dsn: Invalid protocol "+n),1):(Zu.error("Invalid Sentry Dsn: Invalid projectId "+r),1)))}(e))return e}function mh(t,e=[]){return[t,e]}function gh(t,e){const[r,n]=t;return[r,[...n,e]]}function bh(t,e){const r=t[1];for(const t of r){if(e(t,t[0].type))return!0}return!1}function wh(t){const e=Iu(ku);return e.encodePolyfill?e.encodePolyfill(t):(new TextEncoder).encode(t)}function Eh(t){const[e,r]=t;let n=JSON.stringify(e);function o(t){"string"==typeof n?n="string"==typeof t?n+t:[wh(n),t]:n.push("string"==typeof t?wh(t):t)}for(const t of r){const[e,r]=t;if(o(`\n${JSON.stringify(e)}\n`),"string"==typeof r||r instanceof Uint8Array)o(r);else{let t;try{t=JSON.stringify(r)}catch(e){t=JSON.stringify(of(r))}o(t)}}return"string"==typeof n?n:function(t){const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);let n=0;for(const e of t)r.set(e,n),n+=e.length;return r}(n)}function xh(t){const e="string"==typeof t.data?wh(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const Sh={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",otel_log:"log_item"};function _h(t){return Sh[t]}function Ah(t){if(!t?.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function Th(t,e,r,n){const o=Ah(r),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,r?.sdk);const a=function(t,e,r,n){const o=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:dh(n)},...o&&{trace:o}}}(t,o,n,e);delete t.sdkProcessingMetadata;return mh(a,[[{type:i},t]])}const Lh="Not capturing exception because it's already been captured.",kh="Discarded session because of missing or non-string release",Oh=Symbol.for("SentryInternalError"),Ih=Symbol.for("SentryDoNotSendEventError");function Nh(t){return{message:t,[Oh]:!0}}function Ph(t){return{message:t,[Ih]:!0}}function Ch(t){return!!t&&"object"==typeof t&&Oh in t}function Dh(t){return!!t&&"object"==typeof t&&Ih in t}class Rh{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=vh(t.dsn):Ml&&Zu.warn("No DSN provided, client will not send events."),this._dsn){const e=hh(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}}captureException(t,e,r){const n=fl();if(vl(t))return Ml&&Zu.log(Lh),n;const o={event_id:n,...e};return this._process(this.eventFromException(t,o).then((t=>this._captureEvent(t,o,r)))),o.event_id}captureMessage(t,e,r,n){const o={event_id:fl(),...r},i=Bu(t)?t:t+"",a=Gu(t)?this.eventFromMessage(i,e,o):this.eventFromException(t,o);return this._process(a.then((t=>this._captureEvent(t,o,n)))),o.event_id}captureEvent(t,e,r){const n=fl();if(e?.originalException&&vl(e.originalException))return Ml&&Zu.log(Lh),n;const o={event_id:n,...e},i=t.sdkProcessingMetadata||{},a=i.capturedSpanScope,s=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,a||r,s)),o.event_id}captureSession(t){this.sendSession(t),wl(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then((r=>e.flush(t).then((t=>r&&t))))):Hl(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,this.emit("close"),t)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some((({name:t})=>t.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];Wf(this,t,this._integrations),e||Yf(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let r=Th(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])r=gh(r,xh(t));const n=this.sendEnvelope(r);n&&n.then((e=>this.emit("afterSendEvent",t,e)),null)}sendSession(t){const{release:e,environment:r=Gl}=this._options;if("aggregates"in t){const n=t.attrs||{};if(!n.release&&!e)return void(Ml&&Zu.warn(kh));n.release=n.release||e,n.environment=n.environment||r,t.attrs=n}else{if(!t.release&&!e)return void(Ml&&Zu.warn(kh));t.release=t.release||e,t.environment=t.environment||r}this.emit("beforeSendSession",t);const n=function(t,e,r,n){const o=Ah(r);return mh({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!n&&e&&{dsn:dh(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,e,r=1){if(this._options.sendClientReports){const n=`${t}:${e}`;Ml&&Zu.log(`Recording outcome: "${n}"${r>1?` (${r} times)`:""}`),this._outcomes[n]=(this._outcomes[n]||0)+r}}on(t,e){const r=this._hooks[t]=this._hooks[t]||[];return r.push(e),()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)}}emit(t,...e){const r=this._hooks[t];r&&r.forEach((t=>t(...e)))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,(t=>(Ml&&Zu.error("Error while sending envelope:",t),t))):(Ml&&Zu.error("Transport disabled"),Hl({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(t,e){const r={};return e.forEach((e=>{e&&Wf(t,e,r)})),r}(this,t),Yf(this,t)}_updateSessionFromEvent(t,e){let r="fatal"===e.level,n=!1;const o=e.exception?.values;if(o){n=!0;for(const t of o){const e=t.mechanism;if(!1===e?.handled){r=!0;break}}}const i="ok"===t.status;(i&&0===t.errors||i&&r)&&(wl(t,{...r&&{status:"crashed"},errors:t.errors||Number(n||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Vl((e=>{let r=0;const n=setInterval((()=>{0==this._numProcessing?(clearInterval(n),e(!0)):(r+=1,t&&r>=t&&(clearInterval(n),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,r,n){const o=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i?.length&&(e.integrations=i),this.emit("preprocessEvent",t,e),t.type||n.setLastEventId(t.event_id||e.event_id),Df(o,t,e,r,this,n).then((t=>{if(null===t)return t;this.emit("postprocessEvent",t,e),t.contexts={trace:Bl(r),...t.contexts};const n=function(t,e){const r=e.getPropagationContext();return r.dsc||Of(r.traceId,t)}(this,r);return t.sdkProcessingMetadata={dynamicSamplingContext:n,...t.sdkProcessingMetadata},t}))}_captureEvent(t,e={},r=Dl(),n=Rl()){return Ml&&jh(t)&&Zu.log(`Captured error event \`${zf(t)[0]||"<unknown>"}\``),this._processEvent(t,e,r,n).then((t=>t.event_id),(t=>{Ml&&(Dh(t)?Zu.log(t.message):Ch(t)?Zu.warn(t.message):Zu.warn(t))}))}_processEvent(t,e,r,n){const o=this.getOptions(),{sampleRate:i}=o,a=Fh(t),s=jh(t),c=t.type||"error",u=`before send for type \`${c}\``,l=void 0===i?void 0:function(t){if("boolean"==typeof t)return Number(t);const e="string"==typeof t?parseFloat(t):t;return"number"!=typeof e||isNaN(e)||e<0||e>1?void 0:e}(i);if(s&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),ql(Ph(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const f="replay_event"===c?"replay":c;return this._prepareEvent(t,e,r,n).then((t=>{if(null===t)throw this.recordDroppedEvent("event_processor",f),Ph("An event processor returned `null`, will not send event.");if(e.data&&!0===e.data.__sentry__)return t;const r=function(t,e,r,n){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:a}=e;let s=r;if(jh(s)&&o)return o(s,n);if(Fh(s)){if(a){const t=a(function(t){const{trace_id:e,parent_span_id:r,span_id:n,status:o,origin:i,data:a,op:s}=t.contexts?.trace??{};return{data:a??{},description:t.transaction,op:s,parent_span_id:r,span_id:n??"",start_timestamp:t.start_timestamp??0,status:o,timestamp:t.timestamp,trace_id:e??"",origin:i,profile_id:a?.[cf],exclusive_time:a?.[uf],measurements:t.measurements,is_segment:!0}}(s));if(t?s=Sl(r,{type:"transaction",timestamp:(c=t).timestamp,start_timestamp:c.start_timestamp,transaction:c.description,contexts:{trace:{trace_id:c.trace_id,span_id:c.span_id,parent_span_id:c.parent_span_id,op:c.op,status:c.status,origin:c.origin,data:{...c.data,...c.profile_id&&{[cf]:c.profile_id},...c.exclusive_time&&{[uf]:c.exclusive_time}}}},measurements:c.measurements}):Lf(),s.spans){const t=[];for(const e of s.spans){const r=a(e);r?t.push(r):(Lf(),t.push(e))}s.spans=t}}if(i){if(s.spans){const t=s.spans.length;s.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:t}}return i(s,n)}}var c;return s}(0,o,t,e);return function(t,e){const r=e+" must return `null` or a valid event.";if(Hu(t))return t.then((t=>{if(!Mu(t)&&null!==t)throw Nh(r);return t}),(t=>{throw Nh(`${e} rejected with ${t}`)}));if(!Mu(t)&&null!==t)throw Nh(r);return t}(r,u)})).then((o=>{if(null===o){if(this.recordDroppedEvent("before_send",f),a){const e=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",e)}throw Ph(u+" returned `null`, will not send event.")}const i=r.getSession()||n.getSession();if(s&&i&&this._updateSessionFromEvent(i,o),a){const t=(o.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}const c=o.transaction_info;if(a&&c&&o.transaction!==t.transaction){const t="custom";o.transaction_info={...c,source:t}}return this.sendEvent(o,e),o})).then(null,(t=>{if(Dh(t)||Ch(t))throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),Nh("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map((([t,e])=>{const[r,n]=t.split(":");return{reason:r,category:n,quantity:e}}))}_flushOutcomes(){Ml&&Zu.log("Flushing outcomes...");const t=this._clearOutcomes();if(0===t.length)return void(Ml&&Zu.log("No outcomes to send"));if(!this._dsn)return void(Ml&&Zu.log("No dsn provided, will not send outcomes"));Ml&&Zu.log("Sending outcomes:",t);const e=(r=t,mh((n=this._options.tunnel&&dh(this._dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:o||ml(),discarded_events:r}]]));var r,n,o;this.sendEnvelope(e)}}function jh(t){return void 0===t.type}function Fh(t){return"transaction"===t.type}function Bh(t){return[{type:"otel_log"},t]}const Gh=new WeakMap;function Mh(t,e){const r=e??Gh.get(t)??[];if(0===r.length)return;const n=t.getOptions(),o=function(t,e,r,n){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&n&&(o.dsn=dh(n)),mh(o,t.map(Bh))}(r,n._metadata,n.tunnel,t.getDsn());r.length=0,t.emit("flushLogs"),t.sendEnvelope(o)}function Uh(t){void 0===t.user?.ip_address&&(t.user={...t.user,ip_address:"{{auto}}"})}function Hh(t){"aggregates"in t?void 0===t.attrs?.ip_address&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):void 0===t.ipAddress&&(t.ipAddress="{{auto}}")}function qh(t,e){const r=Yh(t,e),n={type:$h(e),value:Xh(e)};return r.length&&(n.stacktrace={frames:r}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Vh(t,e,r,n){const o=Fl(),i=o?.getOptions().normalizeDepth,a=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];if(r instanceof Error)return r}return}(e),s={__serialized__:af(e,i)};if(a)return{exception:{values:[qh(t,a)]},extra:s};const c={exception:{values:[{type:Uu(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:Zh(e,{isUnhandledRejection:n})}]},extra:s};if(r){const e=Yh(t,r);e.length&&(c.exception.values[0].stacktrace={frames:e})}return c}function Kh(t,e){return{exception:{values:[qh(t,e)]}}}function Yh(t,e){const r=e.stacktrace||e.stack||"",n=function(t){if(t&&Wh.test(t.message))return 1;return 0}(e),o=function(t){if("number"==typeof t.framesToPop)return t.framesToPop;return 0}(e);try{return t(r,n,o)}catch(t){}return[]}const Wh=/Minified React error #\d+;/i;function zh(t){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&t instanceof WebAssembly.Exception}function $h(t){const e=t?.name;if(!e&&zh(t)){return t.message&&Array.isArray(t.message)&&2==t.message.length?t.message[0]:"WebAssembly.Exception"}return e}function Xh(t){const e=t?.message;return zh(t)?Array.isArray(t.message)&&2==t.message.length?t.message[1]:"wasm exception":e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Jh(t,e,r,n,o){let i;if(Ru(e)&&e.error){return Kh(t,e.error)}if(ju(e)||Du(e,"DOMException")){const o=e;if("stack"in e)i=Kh(t,e);else{const e=o.name||(ju(o)?"DOMError":"DOMException"),a=o.message?`${e}: ${o.message}`:e;i=Qh(t,a,r,n),dl(i,a)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":""+o.code}),i}if(Cu(e))return Kh(t,e);if(Mu(e)||Uu(e)){return i=Vh(t,e,r,o),yl(i,{synthetic:!0}),i}return i=Qh(t,e,r,n),dl(i,""+e,void 0),yl(i,{synthetic:!0}),i}function Qh(t,e,r,n){const o={};if(n&&r){const n=Yh(t,r);n.length&&(o.exception={values:[{value:e,stacktrace:{frames:n}}]}),yl(o,{synthetic:!0})}if(Bu(e)){const{__sentry_template_string__:t,__sentry_template_values__:r}=e;return o.logentry={message:t,params:r},o}return o.message=e,o}function Zh(t,{isUnhandledRejection:e}){const r=function(t,e=40){const r=Object.keys(cl(t));r.sort();const n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return tl(n,e);for(let t=r.length;t>0;t--){const n=r.slice(0,t).join(", ");if(!(n.length>e))return t===r.length?n:tl(n,e)}return""}(t),n=e?"promise rejection":"exception";if(Ru(t))return`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``;if(Uu(t)){return`Event \`${function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(t){}}(t)}\` (type=${t.type}) captured as ${n}`}return`Object captured as ${n} with keys: ${r}`}const tp=ku;let ep=0;function rp(){return ep>0}function np(t,e={}){if(!function(t){return"function"==typeof t}(t))return t;try{const e=t.__sentry_wrapped__;if(e)return"function"==typeof e?e:t;if(sl(t))return t}catch(e){return t}const r=function(...r){try{const n=r.map((t=>np(t,e)));return t.apply(this,n)}catch(t){throw ep++,setTimeout((()=>{ep--})),jl((n=>{n.addEventProcessor((t=>(e.mechanism&&(dl(t,void 0,void 0),yl(t,e.mechanism)),t.extra={...t.extra,arguments:r},t))),Ff(t)})),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}catch{}al(r,t),il(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>t.name})}catch{}return r}class op extends Rh{constructor(t){const e={parentSpanIsAlwaysRootSpan:!0,...t};!function(t,e,r=[e],n="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:"sentry.javascript."+e,packages:r.map((t=>({name:`${n}:@sentry/${t}`,version:Lu}))),version:Lu}),t._metadata=o}(e,"browser",["browser"],tp.SENTRY_SDK_SOURCE||"npm"),super(e);const r=this,{sendDefaultPii:n,_experiments:o}=r._options,i=o?.enableLogs;e.sendClientReports&&tp.document&&tp.document.addEventListener("visibilitychange",(()=>{"hidden"===tp.document.visibilityState&&(this._flushOutcomes(),i&&Mh(r))})),i&&(r.on("flush",(()=>{Mh(r)})),r.on("afterCaptureLog",(()=>{r._logFlushIdleTimeout&&clearTimeout(r._logFlushIdleTimeout),r._logFlushIdleTimeout=setTimeout((()=>{Mh(r)}),5e3)}))),n&&(r.on("postprocessEvent",Uh),r.on("beforeSendSession",Hh))}eventFromException(t,e){return function(t,e,r,n){const o=Jh(t,e,r?.syntheticException||void 0,n);return yl(o),o.level="error",r?.event_id&&(o.event_id=r.event_id),Hl(o)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",r){return function(t,e,r="info",n,o){const i=Qh(t,e,n?.syntheticException||void 0,o);return i.level=r,n?.event_id&&(i.event_id=n.event_id),Hl(i)}(this._options.stackParser,t,e,r,this._options.attachStacktrace)}_prepareEvent(t,e,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,r,n)}}const ip="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ap={},sp={};function cp(t,e){ap[t]=ap[t]||[],ap[t].push(e)}function up(t,e){if(!sp[t]){sp[t]=!0;try{e()}catch(e){$u&&Zu.error("Error while instrumenting "+t,e)}}}function lp(t,e){const r=t&&ap[t];if(r)for(const n of r)try{n(e)}catch(e){$u&&Zu.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${rf(n)}\nError:`,e)}}const fp=ku;let hp,pp,dp;function yp(){if(!fp.document)return;const t=lp.bind(null,"dom"),e=vp(t,!0);fp.document.addEventListener("click",e,!1),fp.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const r=fp,n=r[e]?.prototype;n?.hasOwnProperty?.("addEventListener")&&(ol(n,"addEventListener",(function(e){return function(r,n,o){if("click"===r||"keypress"==r)try{const n=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},i=n[r]=n[r]||{refCount:0};if(!i.handler){const n=vp(t);i.handler=n,e.call(this,r,n,o)}i.refCount++}catch(t){}return e.call(this,r,n,o)}})),ol(n,"removeEventListener",(function(t){return function(e,r,n){if("click"===e||"keypress"==e)try{const r=this.__sentry_instrumentation_handlers__||{},o=r[e];o&&(o.refCount--,o.refCount<=0&&(t.call(this,e,o.handler,n),o.handler=void 0,delete r[e]),0===Object.keys(r).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,r,n)}})))}))}function vp(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(t){try{return t.target}catch(t){return null}}(r);if(function(t,e){return"keypress"===t&&(!e?.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(r.type,n))return;il(r,"_sentryCaptured",!0),n&&!n._sentryId&&il(n,"_sentryId",fl());const o="keypress"===r.type?"input":r.type;if(!function(t){if(t.type!==pp)return!1;try{if(!t.target||t.target._sentryId!==dp)return!1}catch(t){}return!0}(r)){t({event:r,name:o,global:e}),pp=r.type,dp=n?n._sentryId:void 0}clearTimeout(hp),hp=fp.setTimeout((()=>{dp=void 0,pp=void 0}),1e3)}}const mp="__sentry_xhr_v3__";function gp(){if(!fp.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(t,e,r){const n=Error(),o=1e3*gl(),i=Fu(r[0])?r[0].toUpperCase():void 0,a=function(t){if(Fu(t))return t;try{return t.toString()}catch{}return}(r[1]);if(!i||!a)return t.apply(e,r);e[mp]={method:i,url:a,request_headers:{}},"POST"===i&&a.match(/sentry_key/)&&(e.__sentry_own_request__=!0);const s=()=>{const t=e[mp];if(t&&4===e.readyState){try{t.status_code=e.status}catch(t){}lp("xhr",{endTimestamp:1e3*gl(),startTimestamp:o,xhr:e,virtualError:n})}};return"onreadystatechange"in e&&"function"==typeof e.onreadystatechange?e.onreadystatechange=new Proxy(e.onreadystatechange,{apply:(t,e,r)=>(s(),t.apply(e,r))}):e.addEventListener("readystatechange",s),e.setRequestHeader=new Proxy(e.setRequestHeader,{apply(t,e,r){const[n,o]=r,i=e[mp];return i&&Fu(n)&&Fu(o)&&(i.request_headers[n.toLowerCase()]=o),t.apply(e,r)}}),t.apply(e,r)}}),t.send=new Proxy(t.send,{apply(t,e,r){const n=e[mp];if(!n)return t.apply(e,r);void 0!==r[0]&&(n.body=r[0]);return lp("xhr",{startTimestamp:1e3*gl(),xhr:e}),t.apply(e,r)}})}let bp;function wp(t){const e="history";cp(e,t),up(e,Ep)}function Ep(){function t(t){return function(...e){const r=e.length>2?e[2]:void 0;if(r){const n=bp,o=r+"";if(bp=o,n===o)return t.apply(this,e);lp("history",{from:n,to:o})}return t.apply(this,e)}}fp.addEventListener("popstate",(()=>{const t=fp.location.href,e=bp;if(bp=t,e===t)return;lp("history",{from:e,to:t})})),"history"in sh&&sh.history&&(ol(fp.history,"pushState",t),ol(fp.history,"replaceState",t))}function xp(){"console"in ku&&Xu.forEach((function(t){t in ku.console&&ol(ku.console,t,(function(e){return Ju[t]=e,function(...e){lp("console",{args:e,level:t});const r=Ju[t];r?.apply(ku.console,e)}}))}))}function Sp(t,e=!1){e&&!function(){if("string"==typeof EdgeRuntime)return!0;if(!ch())return!1;if(uh(sh.fetch))return!0;let t=!1;const e=sh.document;if(e&&"function"==typeof e.createElement)try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow?.fetch&&(t=uh(r.contentWindow.fetch)),e.head.removeChild(r)}catch(t){$u&&Zu.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t}()||ol(ku,"fetch",(function(e){return function(...r){const n=Error(),{method:o,url:i}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,r]=t;return{url:Ap(e),method:_p(r,"method")?(r.method+"").toUpperCase():"GET"}}const e=t[0];return{url:Ap(e),method:_p(e,"method")?(e.method+"").toUpperCase():"GET"}}(r),a={args:r,fetchData:{method:o,url:i},startTimestamp:1e3*gl(),virtualError:n,headers:Tp(r)};return t||lp("fetch",{...a}),e.apply(ku,r).then((async e=>(t?t(e):lp("fetch",{...a,endTimestamp:1e3*gl(),response:e}),e)),(t=>{if(lp("fetch",{...a,endTimestamp:1e3*gl(),error:t}),Cu(t)&&void 0===t.stack&&(t.stack=n.stack,il(t,"framesToPop",1)),t instanceof TypeError&&("Failed to fetch"===t.message||"Load failed"===t.message||"NetworkError when attempting to fetch resource."===t.message))try{const e=new URL(a.fetchData.url);t.message=`${t.message} (${e.host})`}catch{}throw t}))}}))}function _p(t,e){return!!t&&"object"==typeof t&&!!t[e]}function Ap(t){return"string"==typeof t?t:t?_p(t,"url")?t.url:t.toString?t.toString():"":""}function Tp(t){const[e,r]=t;try{if("object"==typeof r&&null!==r&&"headers"in r&&r.headers)return new Headers(r.headers);if(n=e,"undefined"!=typeof Request&&qu(n,Request))return new Headers(e.headers)}catch{}var n}const Lp=100;function kp(t,e){const r=Fl(),n=Rl();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=Lp}=r.getOptions();if(i<=0)return;const a={timestamp:ml(),...t},s=o?Qu((()=>o(a,e))):a;null!==s&&(r.emit&&r.emit("beforeAddBreadcrumb",s,e),n.addBreadcrumb(s,i))}function Op(t){return"warn"===t?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}function Ip(t){return void 0===t?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}function Np(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}const Pp=1024,Cp=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(t){e.console&&function(t){const e="console";cp(e,t),up(e,xp)}(function(t){return function(e){if(Fl()!==t)return;const r={category:"console",data:{arguments:e.args,logger:"console"},level:Op(e.level),message:el(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;r.message="Assertion failed: "+(el(e.args.slice(1)," ")||"console.assert"),r.data.arguments=e.args.slice(1)}kp(r,{input:e.args,level:e.level})}}(t)),e.dom&&function(t){cp("dom",t),up("dom",yp)}(function(t,e){return function(r){if(Fl()!==t)return;let n,o,i="object"==typeof e?e.serializeAttribute:void 0,a="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;a&&a>Pp&&(ip&&Zu.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=Pp),"string"==typeof i&&(i=[i]);try{const t=r.event,e=function(t){return!!t&&!!t.target}(t)?t.target:t;n=Yu(e,{keyAttrs:i,maxStringLength:a}),o=function(t){if(!Ku.HTMLElement)return null;let e=t;for(let t=0;t<5;t++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}(e)}catch(t){n="<unknown>"}if(0===n.length)return;const s={category:"ui."+r.name,message:n};o&&(s.data={"ui.component_name":o}),kp(s,{event:r.event,name:r.name,global:r.global})}}(t,e.dom)),e.xhr&&function(t){cp("xhr",t),up("xhr",gp)}(function(t){return function(e){if(Fl()!==t)return;const{startTimestamp:r,endTimestamp:n}=e,o=e.xhr[mp];if(!r||!n||!o)return;const{method:i,url:a,status_code:s,body:c}=o,u={method:i,url:a,status_code:s},l={xhr:e.xhr,input:c,startTimestamp:r,endTimestamp:n},f={category:"xhr",data:u,type:"http",level:Ip(s)};t.emit("beforeOutgoingRequestBreadcrumb",f,l),kp(f,l)}}(t)),e.fetch&&function(t,e){const r="fetch";cp(r,t),up(r,(()=>Sp(void 0,e)))}(function(t){return function(e){if(Fl()!==t)return;const{startTimestamp:r,endTimestamp:n}=e;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.fetchData.method,e.fetchData.url,e.error){const o=e.fetchData,i={data:e.error,input:e.args,startTimestamp:r,endTimestamp:n},a={category:"fetch",data:o,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",a,i),kp(a,i)}else{const o=e.response,i={...e.fetchData,status_code:o?.status};e.fetchData.request_body_size,e.fetchData.response_body_size;const a={input:e.args,response:o,startTimestamp:r,endTimestamp:n},s={category:"fetch",data:i,type:"http",level:Ip(i.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",s,a),kp(s,a)}}}(t)),e.history&&wp(function(t){return function(e){if(Fl()!==t)return;let r=e.from,n=e.to;const o=Np(tp.location.href);let i=r?Np(r):void 0;const a=Np(n);i?.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(n=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),kp({category:"navigation",data:{from:r,to:n}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(t){return function(e){Fl()===t&&kp({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:pl(e)},{event:e})}}(t))}}};const Dp=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Rp=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&ol(tp,"setTimeout",jp),e.setInterval&&ol(tp,"setInterval",jp),e.requestAnimationFrame&&ol(tp,"requestAnimationFrame",Fp),e.XMLHttpRequest&&"XMLHttpRequest"in tp&&ol(XMLHttpRequest.prototype,"send",Bp);const t=e.eventTarget;if(t){(Array.isArray(t)?t:Dp).forEach(Gp)}}}};function jp(t){return function(...e){const r=e[0];return e[0]=np(r,{mechanism:{data:{function:rf(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Fp(t){return function(e){return t.call(this,np(e,{mechanism:{data:{function:"requestAnimationFrame",handler:rf(t)},handled:!1,type:"instrument"}}))}}function Bp(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in r&&"function"==typeof r[t]&&ol(r,t,(function(e){const r={mechanism:{data:{function:t,handler:rf(e)},handled:!1,type:"instrument"}},n=sl(e);return n&&(r.mechanism.data.handler=rf(n)),np(e,r)}))})),t.apply(this,e)}}function Gp(t){const e=tp,r=e[t]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(ol(r,"addEventListener",(function(e){return function(r,n,o){try{"function"==typeof n.handleEvent&&(n.handleEvent=np(n.handleEvent,{mechanism:{data:{function:"handleEvent",handler:rf(n),target:t},handled:!1,type:"instrument"}}))}catch{}return e.call(this,r,np(n,{mechanism:{data:{function:"addEventListener",handler:rf(n),target:t},handled:!1,type:"instrument"}}),o)}})),ol(r,"removeEventListener",(function(t){return function(e,r,n){try{const o=r.__sentry_wrapped__;o&&t.call(this,e,o,n)}catch(t){}return t.call(this,e,r,n)}})))}const Mp=()=>({name:"BrowserSession",setupOnce(){void 0!==tp.document?(Mf({ignoreDuration:!0}),qf(),wp((({from:t,to:e})=>{void 0!==t&&t!==e&&(Mf({ignoreDuration:!0}),qf())}))):ip&&Zu.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}});let Up=null;function Hp(){Up=ku.onerror,ku.onerror=function(t,e,r,n,o){return lp("error",{column:n,error:o,line:r,msg:t,url:e}),!!Up&&Up.apply(this,arguments)},ku.onerror.__SENTRY_INSTRUMENTED__=!0}let qp=null;function Vp(){qp=ku.onunhandledrejection,ku.onunhandledrejection=function(t){return lp("unhandledrejection",t),!qp||qp.apply(this,arguments)},ku.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Kp=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(t){!function(t){const e="error";cp(e,t),up(e,Hp)}((e=>{const{stackParser:r,attachStacktrace:n}=Wp();if(Fl()!==t||rp())return;const{msg:o,url:i,line:a,column:s,error:c}=e,u=function(t,e,r,n){const o=t.exception=t.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],u=n,l=r,f=Fu(e)&&e.length>0?e:zu();0===c.length&&c.push({colno:u,filename:f,function:Xl,in_app:!0,lineno:l});return t}(Jh(r,c||o,void 0,n,!1),i,a,s);u.level="error",Bf(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}))}(t),Yp("onerror")),e.onunhandledrejection&&(!function(t){!function(t){const e="unhandledrejection";cp(e,t),up(e,Vp)}((e=>{const{stackParser:r,attachStacktrace:n}=Wp();if(Fl()!==t||rp())return;const o=function(t){if(Gu(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}(e),i=Gu(o)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+o}]}}:Jh(r,o,void 0,n,!0);i.level="error",Bf(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(t),Yp("onunhandledrejection"))}}};function Yp(t){ip&&Zu.log("Global Handler attached: "+t)}function Wp(){const t=Fl();return t?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const zp=()=>({name:"HttpContext",preprocessEvent(t){if(!tp.navigator&&!tp.location&&!tp.document)return;const e=t.request?.url||zu(),{referrer:r}=tp.document||{},{userAgent:n}=tp.navigator||{},o={...t.request?.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},i={...t.request,...e&&{url:e},headers:o};t.request=i}});function $p(t,e,r,n,o,i){if(!o.exception?.values||!i||!qu(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=Xp(t,e,n,i.originalException,r,o.exception.values,a,0))}function Xp(t,e,r,n,o,i,a,s){if(i.length>=r+1)return i;let c=[...i];if(qu(n[o],Error)){Jp(a,s);const i=t(e,n[o]),u=c.length;Qp(i,o,u,s),c=Xp(t,e,r,n[o],o,[i,...c],i,u)}return Array.isArray(n.errors)&&n.errors.forEach(((n,i)=>{if(qu(n,Error)){Jp(a,s);const u=t(e,n),l=c.length;Qp(u,`errors[${i}]`,l,s),c=Xp(t,e,r,n,o,[u,...c],u,l)}})),c}function Jp(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:!0},exception_id:e}}function Qp(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}const Zp=(t={})=>{const e=t.limit||5,r=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(t,n,o){$p(qh,o.getOptions().stackParser,r,e,t,n)}}};function td(t,e,r,n){const o={filename:t,function:"<anonymous>"===e?Xl:e,in_app:!0};return void 0!==r&&(o.lineno=r),void 0!==n&&(o.colno=n),o}const ed=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,rd=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,nd=/\((\S*)(?::(\d+))(?::(\d+))\)/,od=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,id=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ad=Zl(...[[30,t=>{const e=ed.exec(t);if(e){const[,t,r,n]=e;return td(t,Xl,+r,+n)}const r=rd.exec(t);if(r){if(r[2]&&0===r[2].indexOf("eval")){const t=nd.exec(r[2]);t&&(r[2]=t[1],r[3]=t[2],r[4]=t[3])}const[t,e]=sd(r[1]||Xl,r[2]);return td(e,t,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,t=>{const e=od.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=id.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],r=e[1]||Xl;return[r,t]=sd(r,t),td(t,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]]),sd=(t,e)=>{const r=-1!==t.indexOf("safari-extension"),n=-1!==t.indexOf("safari-web-extension");return r||n?[-1!==t.indexOf("@")?t.split("@")[0]:Xl,r?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]},cd="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ud={};function ld(t){const e=ud[t];if(e)return e;let r=fp[t];if(uh(r))return ud[t]=r.bind(fp);const n=fp.document;if(n&&"function"==typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const o=e.contentWindow;o?.[t]&&(r=o[t]),n.head.removeChild(e)}catch(e){cd&&Zu.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,e)}return r?ud[t]=r.bind(fp):r}function fd(t){ud[t]=void 0}const hd=Symbol.for("SentryBufferFullError");function pd(t){const e=[];function r(t){return e.splice(e.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(n){if(!(void 0===t||e.length<t))return ql(hd);const o=n();return-1===e.indexOf(o)&&e.push(o),o.then((()=>r(o))).then(null,(()=>r(o).then(null,(()=>{})))),o},drain:function(t){return new Vl(((r,n)=>{let o=e.length;if(!o)return r(!0);const i=setTimeout((()=>{t&&t>0&&r(!1)}),t);e.forEach((t=>{Hl(t).then((()=>{--o||(clearTimeout(i),r(!0))}),n)}))}))}}}function dd(t,{statusCode:e,headers:r},n=Date.now()){const o={...t},i=r?.["x-sentry-rate-limits"],a=r?.["retry-after"];if(i)for(const t of i.trim().split(",")){const[e,r,,,i]=t.split(":",5),a=parseInt(e,10),s=1e3*(isNaN(a)?60:a);if(r)for(const t of r.split(";"))"metric_bucket"===t&&i&&!i.split(";").includes("custom")||(o[t]=n+s);else o.all=n+s}else a?o.all=n+function(t,e=Date.now()){const r=parseInt(""+t,10);if(!isNaN(r))return 1e3*r;const n=Date.parse(""+t);return isNaN(n)?6e4:n-e}(a,n):429===e&&(o.all=n+6e4);return o}function yd(t,e,r=pd(t.bufferSize||64)){let n={};return{send:function(o){const i=[];if(bh(o,((e,r)=>{const o=_h(r);!function(t,e,r=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>r}(n,o)?i.push(e):t.recordDroppedEvent("ratelimit_backoff",o)})),0===i.length)return Hl({});const a=mh(o[0],i),s=e=>{bh(a,((r,n)=>{t.recordDroppedEvent(e,_h(n))}))};return r.add((()=>e({body:Eh(a)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&Ml&&Zu.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),n=dd(n,t),t)),(t=>{throw s("network_error"),Ml&&Zu.error("Encountered error running transport request:",t),t})))).then((t=>t),(t=>{if(t===hd)return Ml&&Zu.error("Skipped sending event because buffer is full."),s("queue_overflow"),Hl({});throw t}))},flush:t=>r.drain(t)}}function vd(t,e=ld("fetch")){let r=0,n=0;return yd(t,(function(o){const i=o.body.length;r+=i,n++;const a={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return fd("fetch"),ql("No fetch implementation available");try{return e(t.url,a).then((t=>(r-=i,n--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return fd("fetch"),r-=i,n--,ql(t)}}))}function md(t){return[Jf(),rh(),Rp(),Cp(),Kp(),Zp(),nh(),zp(),Mp()]}function gd(t){const e={};for(const r of Object.getOwnPropertyNames(t)){const n=r;void 0!==t[n]&&(e[n]=t[n])}return e}function bd(t={}){const e=function(t={}){return{defaultIntegrations:md(),release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:tp.SENTRY_RELEASE?.id,sendClientReports:!0,...gd(t)}}(t);if(!e.skipBrowserExtensionCheck&&function(){const t=void 0!==tp.window&&tp;if(!t)return!1;const e=t[t.chrome?"chrome":"browser"],r=e?.runtime?.id,n=zu()||"",o=!!r&&tp===tp.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((t=>n.startsWith(t+"//"))),i=void 0!==t.nw;return!!r&&!o&&!i}())return void(ip&&Qu((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")})));ip&&!ch()&&Zu.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");const r={...e,stackParser:(n=e.stackParser||ad,Array.isArray(n)?Zl(...n):n),integrations:Kf(e),transport:e.transport||vd};var n;return lh(op,r)}const wd="2.9.7";function Ed(t){return Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(t)}function xd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Sd(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sd(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function _d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_d=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Ed(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ed(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ad(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Td(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ad(i,n,o,a,s,"next",t)}function s(t){Ad(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Ld(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Id(n.key),n)}}function kd(t,e,r){return e&&Ld(t.prototype,e),r&&Ld(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Od(t,e,r){return(e=Id(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Id(t){var e=function(t,e){if("object"!=Ed(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ed(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ed(e)?e:e+""}var Nd=kd((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Od(this,"setExtraSihUser",Td(_d().mark((function t(){var e,r;return _d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return t.next=4,y.w.getLocal("userInfo");case 4:e=t.sent,r=e.userInfo,Gf("sihAppUserProfile",Au.sihAppUserProfile),Gf("userInfo",r);case 9:case"end":return t.stop()}}),t)})))),Od(this,"captureException",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};jl((function(r){Object.entries(e).forEach((function(t){var e=xd(t,2),n=e[0],o=e[1];r.setExtra(n,o)})),Ff(t)}))}));var e=md().filter((function(t){return!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(t.name)}));bd({dsn:"https://3f2c5883e4126dccaf4c6e9645bf4230@sentry.steaminventoryhelper.com/12",transport:vd,stackParser:ad,defaultIntegrations:!1,integrations:e,release:wd})}));const Pd=new Nd;var Cd;function Dd(t){return Dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(t)}function Rd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rd(Object(r),!0).forEach((function(e){Yd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||Gd(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bd(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Gd(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Gd(t,e){if(t){if("string"==typeof t)return Md(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Md(t,e):void 0}}function Md(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ud(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ud=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Dd(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Dd(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Hd(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function qd(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Hd(i,n,o,a,s,"next",t)}function s(t){Hd(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Vd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wd(n.key),n)}}function Kd(t,e,r){return e&&Vd(t.prototype,e),r&&Vd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yd(t,e,r){return(e=Wd(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wd(t){var e=function(t,e){if("object"!=Dd(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Dd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Dd(e)?e:e+""}var zd=Os(""),$d={data:null,ts:Date.now()},Xd=Kd((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Yd(this,"setSihAppTokenHook",qd(Ud().mark((function e(){var r;return Ud().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=self.fetch,self.fetch=function(){var e=qd(Ud().mark((function e(n,o){var i,a,s,c;return Ud().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n,o);case 2:if(i=e.sent,e.prev=3,!(a=i.clone()).url.includes(t.sihAppUrlReturn)){e.next=18;break}return e.next=8,a.json();case 8:if(!(s=e.sent).success){e.next=18;break}return e.next=12,Au.getSihAppUserToken();case 12:if((c=e.sent)&&c===s.token){e.next=18;break}return e.next=16,Au.setSihAppUserToken(s.token);case 16:return e.next=18,t.setJWTToken();case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),e.t0;case 23:return e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t,r){return e.apply(this,arguments)}}()}catch(t){}case 1:case"end":return e.stop()}}),e)})))),Yd(this,"generateProfileLink",qd(Ud().mark((function t(){var r,n;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Au.getSihAppUserToken();case 2:r=t.sent,n=Au.sihAppUserProfile,r&&n.success&&(n.profileLink="".concat(e.sihAppUrl,"/login-via-token?token=").concat(r),Au.sihAppUserProfile=n);case 5:case"end":return t.stop()}}),t)})))),Yd(this,"checkSocialsOnCurrentSteam",(function(t,e){try{return new Promise((function(r,n){t.socials.forEach((function(t,n){"steam"===t[0]&&t[1]===e.steamId&&r({success:!0})})),r({success:!1})}))}catch(t){}})),Yd(this,"checkSocialsOnTradeLink",function(){var t=qd(Ud().mark((function t(e){var r,n;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:return r=t.sent,n=r.userInfo,t.abrupt("return",new Promise((function(t,r){e.socials.forEach((function(e,r){"steam"===e[0]&&(e[3]&&!e[3].hasOwnProperty("success")||e[1]!==n.steamId?t({success:!0}):t({success:!1}))}))})));case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),Yd(this,"send2FAToAuth",function(){var t=qd(Ud().mark((function t(r,n){var o;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({headers:{"x-sih-token":n},method:"POST",url:"".concat(e.sihAppUrl,"/sih/2fa"),data:{password:r},crossDomain:!0,xhrFields:{withCredentials:!0}});case 3:if(!t.sent.success){t.next=8;break}return t.abrupt("return",{success:!0});case 8:return t.abrupt("return",{success:!1});case 9:t.next=18;break;case 11:return t.prev=11,t.t0=t.catch(0),t.t0,o=Error(),t.next=17,e.errorHandler(t.t0.message||t.t0.responseText,o.stack,"send2FAToAuth");case 17:return t.abrupt("return",t.t0.response.body);case 18:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()),Yd(this,"getUserAuth",qd(Ud().mark((function t(){var r,n,o,i,a,s,c=arguments;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:null,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(n=t.sent){t.next=7;break}throw Error("Empty token");case 7:return t.next=9,Fs.Ay.sendRequest({headers:{"x-sih-token":n},method:"GET",url:"".concat(e.sihAppUrl,"/sih/user"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 9:if(!(o=t.sent).success||!o.tfaNeed){t.next=27;break}return t.next=14,e.errorHandler(o.message,null,"getUserAuth");case 14:if(Au.sihAppUserProfile=o,!r){t.next=26;break}return t.next=18,e.send2FAToAuth(r,n);case 18:if(!(i=t.sent).success){t.next=24;break}return t.next=22,e.getUserAuth();case 22:t.next=26;break;case 24:return Au.sihAppUserProfile=o,t.abrupt("return",i);case 26:return t.abrupt("return",{success:!0});case 27:if(!o.success){t.next=43;break}if(!(o.subscribes&&o.subscribes.length>0)){t.next=33;break}return t.next=31,e.setPlanInfoToProfile(o);case 31:t.next=34;break;case 33:Au.sihAppUserProfile=o;case 34:return t.next=36,e.generateProfileLink();case 36:return t.next=38,e.checkSocialsOnTradeLink(o);case 38:if(t.sent.success){t.next=42;break}return t.next=42,e.setTradeLinkToProfile();case 42:return t.abrupt("return",{success:!0});case 43:t.next=57;break;case 45:return t.prev=45,t.t0=t.catch(1),t.t0,a=t.t0.status,s=Error(),t.next=52,e.errorHandler(t.t0.message||t.t0.responseText,s.stack,"getUserAuth");case 52:if(!(429===a||a>=500)){t.next=54;break}return t.abrupt("return",{success:!1,errorStatus:a});case 54:if(!t.t0.responseText||t.t0.responseText.toLowerCase().includes("invalid token or session is over")){t.next=56;break}return t.abrupt("return",{success:!1});case 56:return t.abrupt("return",{success:!1});case 57:case"end":return t.stop()}}),t,null,[[1,45]])})))),Yd(this,"setTradeLinkToProfile",qd(Ud().mark((function t(){var r,n,o,i,a,s,c,u,l=arguments;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:null,t.prev=1,t.next=4,y.w.getLocal("userInfo");case 4:if(n=t.sent,o=n.userInfo,i=Au.sihAppUserProfile,a=i&&i.socials&&i.socials.length&&!i.tfaNeed?i.socials.findIndex((function(t){return"steam"===t[0]})):-1,o&&o.authorization){t.next=10;break}return t.abrupt("return");case 10:if(r){t.next=31;break}if($d.data&&!(Date.now()-$d.ts>6e4)){t.next=16;break}return t.next=14,Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(o.steamId,"/tradeoffers/privacy"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 14:$d.data=t.sent,$d.ts=Date.now();case 16:if(!$d.data){t.next=29;break}return r=zd($d.data).find("#trade_offer_access_url").val(),s=r.match(/token=(.*)/)[1],o.tradeLink=r,t.next=22,y.w.setLocal({userInfo:o});case 22:if(-1!==a){t.next=24;break}return t.abrupt("return");case 24:if(i.socials[a][3]&&i.socials[a][3]===s){t.next=29;break}return t.next=27,e.setTradeLinkToSihApp(o.steamId,r);case 27:(c=t.sent).success||(i.socials[a][3]=c,Au.sihAppUserProfile=i);case 29:t.next=40;break;case 31:return o.tradeLink=r,t.next=34,y.w.setLocal({userInfo:o});case 34:if(-1!==a){t.next=36;break}return t.abrupt("return");case 36:return t.next=38,e.setTradeLinkToSihApp(o.steamId,r);case 38:(u=t.sent).success||(i.socials[a][3]=u,Au.sihAppUserProfile=i);case 40:t.next=45;break;case 42:t.prev=42,t.t0=t.catch(1),t.t0;case 45:case"end":return t.stop()}}),t,null,[[1,42]])})))),Yd(this,"setPlanInfoToProfile",function(){var t=qd(Ud().mark((function t(e){var r,n,o,i,a,s,c;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tu.G4.onLoad();case 3:r=Bd(e.subscribes.entries()),t.prev=4,r.s();case 6:if((n=r.n()).done){t.next=35;break}if(o=Fd(n.value,2),i=o[0],"adfree"!==(a=o[1]).for_what){t.next=33;break}s=void 0,c=void 0,t.t0=a.title.toLowerCase(),t.next="for one year"===t.t0?13:"every 6 months"===t.t0?16:"every 3 month"===t.t0?19:"every month"===t.t0?22:"every week"===t.t0?25:28;break;case 13:return s="&#128526;",c="".concat(p.Ay.t("controls:subscribeAds.modal.plan_for_one_year_name")),t.abrupt("break",31);case 16:return s="&#128527;",c="".concat(p.Ay.t("controls:subscribeAds.modal.plan_every_6_month_name")),t.abrupt("break",31);case 19:return s="&#128521;",c="".concat(p.Ay.t("controls:subscribeAds.modal.plan_every_3_month_name")),t.abrupt("break",31);case 22:return s="&#128522;",c="".concat(p.Ay.t("controls:subscribeAds.modal.plan_every_month_name")),t.abrupt("break",31);case 25:return s="&#129488;",c="".concat(p.Ay.t("controls:subscribeAds.modal.plan_every_week_name")),t.abrupt("break",31);case 28:return s=null,c=null,t.abrupt("break",31);case 31:e.subscribes[i]=jd(jd({},e.subscribes[i]),{},{icon:s,plan_txt:c}),Au.sihAppUserProfile=e;case 33:t.next=6;break;case 35:t.next=40;break;case 37:t.prev=37,t.t1=t.catch(4),r.e(t.t1);case 40:return t.prev=40,r.f(),t.finish(40);case 43:t.next=48;break;case 45:t.prev=45,t.t2=t.catch(0),t.t2;case 48:case"end":return t.stop()}}),t,null,[[0,45],[4,37,40,43]])})));return function(e){return t.apply(this,arguments)}}()),Yd(this,"setTradeLinkToSihApp",function(){var t=qd(Ud().mark((function t(r,n){var o,i;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:if(!(o=t.sent)){t.next=10;break}return t.next=7,Fs.Ay.apiRequest({headers:{"x-sih-token":o},method:"POST",url:"".concat(e.sihAppUrl,"/sih/trade"),data:{social_id:r,trade_link:n},crossDomain:!0,xhrFields:{withCredentials:!0}});case 7:if(!(i=t.sent)){t.next=10;break}return t.abrupt("return",i);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(0),t.t0,t.abrupt("return",JSON.parse(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()),Yd(this,"setEmailToSihApp",function(){var t=qd(Ud().mark((function t(r){var n,o,i;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:if(n=t.sent,!(o=Au.sihAppUserProfile).user.email||o.user.email!==r){t.next=7;break}return t.abrupt("return",{success:!0});case 7:return t.next=9,Fs.Ay.apiRequest({headers:{"x-sih-token":n},method:"POST",url:"".concat(e.sihAppUrl,"/sih/settings/email"),data:{email:r},crossDomain:!0,xhrFields:{withCredentials:!0}});case 9:if(!t.sent.success){t.next=14;break}return t.abrupt("return",{success:!0});case 14:return t.abrupt("return",{success:!1});case 15:t.next=28;break;case 17:return t.prev=17,t.t0=t.catch(0),t.t0,i=Error(),t.next=23,e.errorHandler(t.t0.message||t.t0.responseText,i.stack,"setEmailToSihApp");case 23:if(!t.t0.message){t.next=27;break}return t.abrupt("return",JSON.parse(t.t0.message));case 27:return t.abrupt("return",t.t0.responseJSON);case 28:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()),Yd(this,"deleteEmailFromSihApp",qd(Ud().mark((function t(){var r,n,o;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:return r=t.sent,t.next=6,Fs.Ay.apiRequest({headers:{"x-sih-token":r},method:"DELETE",url:"".concat(e.sihAppUrl,"/sih/settings/email"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 6:return n=t.sent,t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(0),t.t0,o=Error(),t.next=16,e.errorHandler(t.t0.message||t.t0.responseText,o.stack,"deleteEmailFromSihApp");case 16:return t.abrupt("return",JSON.parse(t.t0.message));case 17:case"end":return t.stop()}}),t,null,[[0,10]])})))),Yd(this,"logout",qd(Ud().mark((function t(){var r;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:if(!(r=t.sent)){t.next=14;break}return t.next=7,Fs.Ay.sendRequest({headers:{"x-sih-token":r},method:"DELETE",url:"".concat(e.sihAppUrl,"/sih/sessions"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 7:if(!t.sent.success){t.next=14;break}return t.next=11,Au.setSihAppUserToken("");case 11:return t.next=13,Au.setSihAppUserJWTToken({});case 13:Au.sihAppUserProfile={};case 14:t.next=24;break;case 16:return t.prev=16,t.t0=t.catch(0),t.t0,t.next=21,Au.setSihAppUserToken("");case 21:return t.next=23,Au.setSihAppUserJWTToken({});case 23:Au.sihAppUserProfile={};case 24:case"end":return t.stop()}}),t,null,[[0,16]])})))),Yd(this,"toFormData",(function(t){var e=[];for(var r in t)e.push(r+"="+encodeURIComponent(t[r]));return e.join("&")})),Yd(this,"sihAppAuthViaSteam",function(){var r=qd(Ud().mark((function r(n){var o,i,a,s,c,u,l,f,h,p;return Ud().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,y.w.getLocal("userInfo");case 3:if(o=r.sent,o.userInfo.authorization){r.next=7;break}throw Error("The user is not logged into Steam");case 7:if(n){r.next=33;break}return r.next=10,Au.getSihAppUserToken();case 10:return i=r.sent,r.next=14,t.updateReturnUrl();case 14:return r.next=16,Fs.Ay.sendRequest({headers:{"x-sih-token":i},method:"GET",url:"".concat(e.sihAppUrl,"/sih/auth"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 16:if((a=r.sent).success&&a.url){r.next=19;break}throw Error("Invalid SIH auth response");case 19:return r.next=21,Fs.Ay.sendRequest({method:"GET",url:a.url,crossDomain:!0,xhrFields:{withCredentials:!0}});case 21:if(s=r.sent,c={},zd(s).find("#openidForm input").each((function(t,e){var r=zd(e).attr("name"),n=zd(e).attr("value");r&&(c[r]=n)})),0!==Object.keys(c).length){r.next=26;break}throw Error("Blocked authentication. Not found params");case 26:return u="----WebKitFormBoundary"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),(l=Object.keys(c).map((function(t){return"--".concat(u,'\r\nContent-Disposition: form-data; name="').concat(t,'"\r\n\r\n').concat(c[t],"\r\n")}))).push("--".concat(u,"--")),f=l.join(""),h=Fs.Ay.apiRequest({url:a.url,method:"POST",headers:{"Content-Type":"multipart/form-data; boundary=".concat(u)},data:f}),r.next=33,new Promise((function(r,n){var o=!1,i=function(t){o||(o=!0,chrome.webRequest.onCompleted.removeListener(a),chrome.webRequest.onErrorOccurred.removeListener(s),null!=t&&t.success?r(t):n(Error((null==t?void 0:t.error)||"Unhandled Error")))},a=function(){var t=qd(Ud().mark((function t(r){var n,o,a,s,c;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.statusCode,s=r.url,c=null,t.prev=2,t.next=5,h;case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),c=t.t0;case 10:if(200!==a||!s.includes("sih/return")){t.next=12;break}return t.abrupt("return");case 12:if(200!==a||!s.includes("sih/jwt")){t.next=20;break}return t.next=15,e.getUserAuth();case 15:return t.next=17,e.pingUser();case 17:return t.next=19,yy.getOrders();case 19:return t.abrupt("return",i(Au.sihAppUserProfile));case 20:return t.abrupt("return",i({success:!1,error:(null===(n=c)||void 0===n?void 0:n.message)||(null===(o=c)||void 0===o?void 0:o.responseText)||"Network error during POST to Steam OpenID"}));case 21:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=qd(Ud().mark((function t(e){var r,n,o;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=null,t.prev=1,t.next=4,h;case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),o=t.t0;case 9:return t.abrupt("return",i({success:!1,error:"".concat(e.error," Network error during POST to Steam OpenID (").concat((null===(r=o)||void 0===r?void 0:r.message)||(null===(n=o)||void 0===n?void 0:n.responseText),")")}));case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),c={urls:["https://steamcommunity.com/openid/login*","".concat(t.sihAppUrlReturn,"*"),"".concat(t.sihAppUrl,"/sih/jwt")]};chrome.webRequest.onCompleted.addListener(a,c),chrome.webRequest.onErrorOccurred.addListener(s,c)}));case 33:return r.abrupt("return",{success:!0});case 36:return r.prev=36,r.t0=r.catch(0),403===(null===r.t0||void 0===r.t0?void 0:r.t0.status)&&(r.t0.message="".concat((null===r.t0||void 0===r.t0?void 0:r.t0.status)||403," ").concat((null===r.t0||void 0===r.t0?void 0:r.t0.statusText)||"Forbidden"," - Family viewing or other")),p=r.t0 instanceof Error?r.t0:Error(r.t0.message||r.t0.responseText||"Unhandled Error"),r.next=42,Pd.setExtraSihUser();case 42:return Pd.captureException(p),r.next=45,e.errorHandler(r.t0.message||r.t0.responseText,p.stack,"sihAppAuthViaSteam");case 45:throw r.t0;case 46:case"end":return r.stop()}}),r,null,[[0,36]])})));return function(t){return r.apply(this,arguments)}}()),Yd(this,"pingUser",qd(Ud().mark((function t(){var r,n,o,i,a,s,c,u,l,f,h,p;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:return r=t.sent,n=chrome.runtime.getManifest(),o=n.version,t.next=7,y.w.getLocal({USER_PARSING_INVENTORY_LIST:[]});case 7:return i=t.sent,a=i.USER_PARSING_INVENTORY_LIST,t.next=11,y.w.getLocal({INVENTORY_PARSING_INFO:{}});case 11:return s=t.sent,c=s.INVENTORY_PARSING_INFO,t.next=15,y.w.getLocal({userGemsCount:0});case 15:return u=t.sent,l=u.userGemsCount,f={},(c.isHold||a.length)&&(f=jd(jd({},f),{},{disabled:c.isHold?"2":"1"})),l&&(f=jd(jd({},f),{},{userGemsCount:l})),t.next=22,Fs.Ay.apiRequest({headers:{"x-sih-token":r,"x-sih-version":o},method:"GET",url:"".concat(e.sihAppUrl,"/sih/ping"),data:jd({},f),crossDomain:!0,xhrFields:{withCredentials:!0}});case 22:if(!(h=t.sent)||!h.success){t.next=41;break}if(!h.timer){t.next=28;break}return c.timer=h.timer,t.next=28,y.w.setLocal({INVENTORY_PARSING_INFO:c});case 28:if(!h.controllerIds){t.next=31;break}return t.next=31,y.w.setLocal({AVAILABLE_CONTROLLER_LAST_NUMBER_IDS:h.controllerIds});case 31:if(!h.itemPayIds){t.next=34;break}return t.next=34,y.w.setLocal({AVAILABLE_ITEM_PAY_IDS:h.itemPayIds});case 34:return t.next=36,y.w.set({server_switch_controller:h.controller||!1});case 36:if(!h.ids||a.length){t.next=39;break}return t.next=39,y.w.setLocal({USER_PARSING_INVENTORY_LIST:h.ids});case 39:return t.next=41,y.w.set({is_available_trade_web_api:h.isAvailableWebApi||!0});case 41:t.next=49;break;case 43:return t.prev=43,t.t0=t.catch(0),t.t0,p=Error(),t.next=49,e.errorHandler(t.t0.message||t.t0.responseText,p.stack,"pingUser");case 49:case"end":return t.stop()}}),t,null,[[0,43]])})))),Yd(this,"sendParsingId",function(){var t=qd(Ud().mark((function t(r){var n,o;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:return n=t.sent,t.next=6,Fs.Ay.apiRequest({headers:{"x-sih-token":n},method:"POST",url:"".concat(e.sihAppUrl,"/sih/ping"),data:{ids:[r]},crossDomain:!0,xhrFields:{withCredentials:!0}});case 6:return o=t.sent,t.abrupt("return",o);case 10:return t.prev=10,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()),Yd(this,"getAutoLoadFloats",qd(Ud().mark((function t(){return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.sendRequest({method:"GET",url:"".concat(e.sihAppUrl,"/sih/autoload"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.t0,t.abrupt("return",{status:!1});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))),Yd(this,"updateDataStorageLog",function(){var t=qd(Ud().mark((function t(e){var r,n,o,i,a,s,c,u,l,f,h,p,d,v=arguments;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=v.length>1&&void 0!==v[1]?v[1]:"market",t.prev=1,(n=Au.sihAppUserProfile)&&0!==Object.keys(n).length){t.next=5;break}return t.abrupt("return",{success:!1,error:"Not found profile sih app"});case 5:return t.next=7,y.w.getLocal({sihAppLog:[]});case 7:if(o=t.sent,i=o.sihAppLog,!Array.isArray(e)){t.next=29;break}if(!e.length){t.next=27;break}a=Bd(e),t.prev=12,c=Ud().mark((function t(){var e,r,n,o,a,c,u,l;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.value,r=new Date(e.createdAt).toDateString(),n=e,i.length){o=!0,a=Bd(i);try{for(a.s();!(c=a.n()).done;)(u=c.value).date===r&&(o=!1,l=u.items.findIndex((function(t){return t.createdAt===n.createdAt})),-1===l&&u.items.push(n))}catch(t){a.e(t)}finally{a.f()}o&&i.push({date:r,items:[n]})}else i.push({date:r,items:[n]});case 4:case"end":return t.stop()}}),t)})),a.s();case 15:if((s=a.n()).done){t.next=19;break}return t.delegateYield(c(),"t0",17);case 17:t.next=15;break;case 19:t.next=24;break;case 21:t.prev=21,t.t1=t.catch(12),a.e(t.t1);case 24:return t.prev=24,a.f(),t.finish(24);case 27:t.next=43;break;case 29:u=new Date,t.t2=r,t.next="market"===t.t2?33:"cases"===t.t2?35:"keys"===t.t2?37:39;break;case 33:return e.title="market_local",t.abrupt("break",41);case 35:return e.title="cases_local",t.abrupt("break",41);case 37:return e.title="keys_local",t.abrupt("break",41);case 39:return e.title="not_processed",t.abrupt("break",41);case 41:if(l={data:e,createdAt:u.getTime()},i.length){f=!0,h=Bd(i);try{for(h.s();!(p=h.n()).done;)(d=p.value).date===u.toDateString()&&(f=!1,d.items.push(l))}catch(t){h.e(t)}finally{h.f()}f&&i.push({date:u.toDateString(),items:[l]})}else i.push({date:u.toDateString(),items:[l]});case 43:return t.next=45,y.w.setLocal({sihAppLog:i});case 45:t.next=50;break;case 47:t.prev=47,t.t3=t.catch(1),t.t3;case 50:case"end":return t.stop()}}),t,null,[[1,47],[12,21,24,27]])})));return function(e){return t.apply(this,arguments)}}()),Yd(this,"readDataStorageLog",qd(Ud().mark((function t(){var e,r,n,o,i,a,s,c;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({sihAppLog:[]});case 3:if(e=t.sent,!(r=e.sihAppLog).length){t.next=11;break}n=Bd(r);try{for(n.s();!(o=n.n()).done;){i=o.value,a=Bd(i.items);try{for(a.s();!(s=a.n()).done;)(c=s.value).isRead||(c.isRead=!0)}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}return t.next=10,y.w.setLocal({sihAppLog:r});case 10:case 11:return t.abrupt("return",r);case 14:return t.prev=14,t.t0=t.catch(0),t.t0,t.abrupt("return",[]);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))),Yd(this,"errorHandler",function(){var t=qd(Ud().mark((function t(e,r,n){return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),Yd(this,"sendMircoStats",qd(Ud().mark((function t(){var r,n,o,i,a,s,c;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:return r=t.sent,t.next=6,y.w.getLocal("userMicroStats");case 6:return n=t.sent,o=n.userMicroStats,i=chrome.runtime.getManifest(),a=i.version,o&&o.length>50&&(o.length=50),s=JSON.stringify(o),c=btoa(s),t.next=14,Fs.Ay.apiRequest({headers:{"x-sih-token":r,"x-sih-version":a},method:"POST",url:"".concat(e.sihAppUrl,"/microstats"),data:{data:c},crossDomain:!0,xhrFields:{withCredentials:!0}});case 14:return t.sent,t.next=17,y.w.setLocal({userMicroStats:[]});case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),t.t0;case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))),Yd(this,"sendMarketHistoryStats",qd(Ud().mark((function t(){var r,n,o,i,a,s,c=arguments;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:{},t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:return n=t.sent,o=chrome.runtime.getManifest(),i=o.version,a=JSON.stringify(r),s=btoa(unescape(encodeURIComponent(a))),t.next=10,Fs.Ay.apiRequest({headers:{"x-sih-token":n,"x-sih-version":i},method:"POST",url:"".concat(e.sihAppUrl,"/historystatsoverprices"),data:{data:s},crossDomain:!0,xhrFields:{withCredentials:!0}});case 10:t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))),this.sihAppUrl=t.sihAppUrl,this.setJWTToken=t.setJWTToken,this.setSihAppTokenHook()}));Cd=Xd,Yd(Xd,"sihAppUrlReturn","https://core.inventorymaker.com/sih/return"),Yd(Xd,"sihAppUrl","https://core.steaminventoryhelper.com"),Yd(Xd,"setJWTToken",qd(Ud().mark((function t(){var e,r;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:return e=t.sent,t.next=6,Fs.Ay.sendRequest({headers:{"x-sih-token":e},method:"GET",url:"".concat(Cd.sihAppUrl,"/sih/jwt"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 6:if(!(r=t.sent)||!r.jwt){t.next=10;break}return t.next=10,Au.setSihAppUserJWTToken({token:r.jwt,expires_ts:Date.now()+2592e6});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))),Yd(Xd,"updateReturnUrl",qd(Ud().mark((function t(){var e;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fs.Ay.sendRequest({method:"GET",url:"".concat(Cd.sihAppUrl,"/sih/domain")});case 2:(e=t.sent).success&&e.domain1&&(Cd.sihAppUrlReturn="".concat(e.domain1,"/sih/return"));case 4:case"end":return t.stop()}}),t)}))));const Jd=new Xd;function Qd(t){return function(t){if(Array.isArray(t))return oy(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ny(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zd(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ny(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function ty(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ey(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ty(Object(r),!0).forEach((function(e){fy(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ty(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ry(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||ny(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ny(t,e){if(t){if("string"==typeof t)return oy(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oy(t,e):void 0}}function oy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function iy(t){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(t)}function ay(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ay=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==iy(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(iy(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function sy(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function cy(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){sy(i,n,o,a,s,"next",t)}function s(t){sy(i,n,o,a,s,"throw",t)}a(void 0)}))}}function uy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hy(n.key),n)}}function ly(t,e,r){return e&&uy(t.prototype,e),r&&uy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fy(t,e,r){return(e=hy(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hy(t){var e=function(t,e){if("object"!=iy(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=iy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==iy(e)?e:e+""}var py=["finished","failed","penalized"],dy=ly((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),fy(this,"createInvoice",function(){var t=cy(ay().mark((function t(r){var n,o,i,a,s=arguments;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:10,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(!(o=t.sent)){t.next=11;break}return t.next=8,Fs.Ay.apiRequest({headers:{"x-sih-token":o},method:"POST",url:"".concat(e.sihAppUrl,"/sih/invoice"),data:{amount:r,method:n},crossDomain:!0,xhrFields:{withCredentials:!0}});case 8:if(!(i=t.sent).success){t.next=11;break}return t.abrupt("return",i);case 11:t.next=24;break;case 13:return t.prev=13,t.t0=t.catch(1),t.t0,a=Error(),t.next=19,e.errorHandler(t.t0.message||t.t0.responseText,a.stack,"createInvoice");case 19:if(!t.t0.message){t.next=23;break}return t.abrupt("return",JSON.parse(t.t0.message));case 23:return t.abrupt("return",t.t0.responseJSON);case 24:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"buyItem",function(){var t=cy(ay().mark((function t(r){var n,o,i,a,s,c,u,l,f,h;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.market_hash_name,o=r.price,i=r.steam_id,a=r.custom_trade_link,s=r.appid,c=r.itemId,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(!(u=t.sent)){t.next=13;break}return l={item:n,price:o,steam_id:i,custom_trade_link:a,app_id:+s},c&&(l.item_id=c),t.next=10,Fs.Ay.apiRequest({headers:{"x-sih-token":u},method:"POST",url:"".concat(e.sihAppUrl,"/sih/buy"),data:l,crossDomain:!0,xhrFields:{withCredentials:!0}});case 10:if(!(f=t.sent).success){t.next=13;break}return t.abrupt("return",f);case 13:t.next=26;break;case 15:return t.prev=15,t.t0=t.catch(1),t.t0,h=Error(),t.next=21,e.errorHandler(t.t0.message||t.t0.responseText,h.stack,"buyItem");case 21:if(!t.t0.message){t.next=25;break}return t.abrupt("return",JSON.parse(t.t0.message));case 25:return t.abrupt("return",t.t0.responseJSON);case 26:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"cancelOrder",function(){var t=cy(ay().mark((function t(r){var n,o,i;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:if(!(n=t.sent)){t.next=9;break}return t.next=7,Fs.Ay.apiRequest({headers:{"x-sih-token":n},method:"POST",url:"".concat(e.sihAppUrl,"/sih/buy/cancel"),data:{orderId:r},crossDomain:!0,xhrFields:{withCredentials:!0}});case 7:return o=t.sent,t.abrupt("return",o);case 9:t.next=18;break;case 11:return t.prev=11,t.t0=t.catch(0),t.t0,i=Error(),t.next=17,e.errorHandler(t.t0.message||t.t0.responseText,i.stack,"cancelOrder");case 17:return t.abrupt("return",t.t0.message?JSON.parse(t.t0.message):JSON.parse(t.t0.responseText)||{success:!1});case 18:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"updateItemOrderLocal",function(){var t=cy(ay().mark((function t(e){var r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="object"===iy(e)?e.id:e,o="inventory"===(null==e?void 0:e.source)?"sihAppWithdrawalHistory":"sihAppOrdersHistory",t.next=5,y.w.getLocal(fy({},o,{}));case 5:if(i=t.sent,!(null!=(a=i[o])&&a.success||null!=a&&null!==(r=a[1])&&void 0!==r&&r.success&&!a.tfaNeed)){t.next=31;break}if("inventory"!==(null==e?void 0:e.source)||null==a||null===(s=a[1])||void 0===s||null===(c=s.orders)||void 0===c||null===(u=c.data)||void 0===u||!u.length){t.next=23;break}h=0,p=Object.entries(a);case 10:if(!(h<p.length)){t.next=21;break}if(d=ry(p[h],2),v=d[0],m=d[1],-1===(g=m.orders.data.findIndex((function(t){return t.id===n})))){t.next=18;break}return a[v].orders.data[g]=e,t.next=17,y.w.setLocal(fy({},o,a));case 17:return t.abrupt("return",{success:!0,result:a[v].orders.data[g]});case 18:h++,t.next=10;break;case 21:t.next=30;break;case 23:if(null==a||null===(l=a.orders)||void 0===l||null===(f=l.data)||void 0===f||!f.length){t.next=30;break}if(b=a.orders.data.findIndex((function(t){return t.id===n})),"object"!==iy(e)?(a.orders.data[b].status="failed",a.orders.data[b].error="User canceled order"):a.orders.data[b]=e,-1===b){t.next=30;break}return t.next=29,y.w.setLocal(fy({},o,a));case 29:return t.abrupt("return",{success:!0,result:a.orders.data[b]});case 30:case 31:return t.abrupt("return",{success:!1});case 34:return t.prev=34,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1});case 38:case"end":return t.stop()}}),t,null,[[0,34]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"getOrders",cy(ay().mark((function t(){var r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,x,S,_=arguments;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=_.length>0&&void 0!==_[0]&&_[0],n=_.length>1&&void 0!==_[1]?_[1]:1,o=_.length>2&&void 0!==_[2]?_[2]:100,i=_.length>3&&void 0!==_[3]?_[3]:"shop",a=_.length>4&&void 0!==_[4]&&_[4],s=_.length>5&&void 0!==_[5]&&_[5],t.prev=6,"inventory"!==i){t.next=22;break}return t.next=10,y.w.getLocal("sihAppWithdrawalHistory");case 10:if(t.t2=c=t.sent,t.t1=null===t.t2,t.t1){t.next=14;break}t.t1=void 0===c;case 14:if(!t.t1){t.next=18;break}t.t3=void 0,t.next=19;break;case 18:t.t3=null===(u=c.sihAppWithdrawalHistory)||void 0===u?void 0:u[n];case 19:t.t0=t.t3,t.next=23;break;case 22:t.t0=null;case 23:if(l=t.t0,r&&("inventory"!==i||l)){t.next=72;break}return t.next=27,Au.getSihAppUserToken();case 27:if(!(f=t.sent)){t.next=70;break}return t.next=31,Fs.Ay.apiRequest({headers:{"x-sih-token":f},method:"GET",url:"".concat(e.sihAppUrl,"/sih/orders"),data:{page:n,perPage:o,source:i,onlyInProgress:a,onlyFinished:s},crossDomain:!0,xhrFields:{withCredentials:!0}});case 31:if(!(h=t.sent).success){t.next=70;break}if(1!==n){t.next=61;break}if(p="shop"===i?"sihAppOrdersHistory":"sihAppWithdrawalHistory","inventory"!==i){t.next=40;break}return t.next=38,y.w.setLocal(fy({},p,fy({},n,h)));case 38:t.next=42;break;case 40:return t.next=42,y.w.setLocal(fy({},p,h));case 42:if("shop"!==i){t.next=59;break}if(!h.success||h.tfaNeed){t.next=59;break}if(!h.orders.data.length){t.next=52;break}return t.next=47,e.getTransformToLogInterface(h.orders.data);case 47:return d=t.sent,t.next=50,Jd.updateDataStorageLog(d,"orders");case 50:t.next=59;break;case 52:return t.next=54,y.w.getLocal("sihAppLog");case 54:if(v=t.sent,v.sihAppLog){t.next=59;break}return t.next=59,y.w.setLocal({sihAppLog:[]});case 59:t.next=69;break;case 61:if("inventory"!==i){t.next=69;break}return t.next=64,y.w.getLocal({sihAppWithdrawalHistory:{}});case 64:return m=t.sent,(g=m.sihAppWithdrawalHistory)[n]=h,t.next=69,y.w.setLocal({sihAppWithdrawalHistory:g});case 69:return t.abrupt("return",h);case 70:t.next=86;break;case 72:return b="shop"===i?"sihAppOrdersHistory":"sihAppWithdrawalHistory",t.next=75,y.w.getLocal(fy({},b,{}));case 75:if(w=t.sent,E=w[b],"shop"!==i||!E.success||E.tfaNeed||!E.orders.data.length){t.next=83;break}return t.next=80,e.getTransformToLogInterface(E.orders.data);case 80:return x=t.sent,t.next=83,Jd.updateDataStorageLog(x,"orders");case 83:if("inventory"!==i){t.next=85;break}return t.abrupt("return",E[n]);case 85:return t.abrupt("return",E);case 86:t.next=103;break;case 88:return t.prev=88,t.t4=t.catch(6),t.t4,S=Error(),t.next=94,e.errorHandler(t.t4.message||t.t4.responseText,S.stack,"getOrders");case 94:if(!t.t4.message){t.next=98;break}return t.abrupt("return",JSON.parse(t.t4.message));case 98:if(!t.t4.responseJSON){t.next=102;break}return t.abrupt("return",t.t4.responseJSON);case 102:return t.abrupt("return",{success:!1,error:"Web server is down"});case 103:case"end":return t.stop()}}),t,null,[[6,88]])})))),fy(this,"getTopSales",function(){var t=cy(ay().mark((function t(e){var r;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({method:"GET",url:"".concat(Fs.zg,"/items"),data:ey({},e),crossDomain:!0,xhrFields:{withCredentials:!0}});case 3:return r=t.sent,t.abrupt("return",r);case 7:return t.prev=7,t.t0=t.catch(0),t.t0,t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"getTransformToLogInterface",function(){var t=cy(ay().mark((function t(e){var r,n,o,i,a,s,c,u;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=[],n=e.filter((function(t){return py.includes(t.status)})),!n.length){t.next=7;break}o=Zd(n);try{for(o.s();!(i=o.n()).done;)a=i.value,s=new Date(a.finished_at).getTime(),c={title:"market_server",groupType:"orders-history",success:"finished"===a.status,error:a.error,orderId:a.id||null,itemData:{market_hash_name:a.item_name||null,price:a.item_amount/1e3||0}},u={data:c,createdAt:s},r.push(u)}catch(t){o.e(t)}finally{o.f()}return t.abrupt("return",r);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"getItemArrayFromStackByName",function(){var t=cy(ay().mark((function t(e){var r,n;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({sihAppBuyStack:{}});case 3:if(r=t.sent,n=r.sihAppBuyStack,0!==Object.keys(n).length){t.next=9;break}return t.abrupt("return",[]);case 9:if(!n[e]){t.next=13;break}return t.abrupt("return",n[e]);case 13:return t.abrupt("return",[]);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"setItemToStackBuy",function(){var t=cy(ay().mark((function t(e){var r,n;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({sihAppBuyStack:{}});case 3:if(r=t.sent,n=r.sihAppBuyStack,!e){t.next=12;break}return Object.assign(n,e),t.next=9,y.w.setLocal({sihAppBuyStack:n});case 9:return t.abrupt("return",{success:!0,message:"Stack updated"});case 12:return t.abrupt("return",{success:!1,error:"Stack failed update"});case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:"Stack failed update"});case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"updatePriceItemsInStackBuyByName",function(){var t=cy(ay().mark((function t(r){var n,o,i,a,s,c;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItemArrayFromStackByName(r);case 3:n=t.sent,o=n.map((function(t){return t.createdAt})),i=n.find((function(t){return t.createdAt===Math.max.apply(Math,Qd(o))})),a=Zd(n);try{for(a.s();!(s=a.n()).done;)(c=s.value).price=i.price,c.providerName=i.providerName}catch(t){a.e(t)}finally{a.f()}return t.next=10,e.setItemToStackBuy(fy({},r,Qd(n)));case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"updateAllPriceItemsInStackBuyByName",function(){var t=cy(ay().mark((function t(r,n,o){var i,a,s,c;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItemArrayFromStackByName(r);case 3:i=t.sent,a=Zd(i);try{for(a.s();!(s=a.n()).done;)(c=s.value).price=n,c.providerName=o}catch(t){a.e(t)}finally{a.f()}return t.next=8,e.setItemToStackBuy(fy({},r,Qd(i)));case 8:return t.abrupt("return",t.sent);case 11:t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r,n){return t.apply(this,arguments)}}()),fy(this,"changeStatusItemInStackBuy",function(){var t=cy(ay().mark((function t(r){var n,o,i,a;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=[],o=ay().mark((function t(){var r,o,s,c,u,l;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ry(a[i],2),o=r[0],s=r[1],t.next=3,e.getItemArrayFromStackByName(o);case 3:return c=t.sent,s.forEach((function(t,e){var r=c.findIndex((function(e){return e.createdAt===t.createdAt}));if(-1===r)return{success:!1,error:"Invalid item data"};if(t.statusCode)c[r].status=t.statusCode,"pending"===t.statusCode&&(c[r].orderAt=Date.now()+e+1);else{if(!c[r].status)return{success:!1,error:"Invalid change status"};delete c[r].status,delete c[r].orderAt,delete c[r].finishOrderAt}})),u=fy({},o,c),t.next=8,e.setItemToStackBuy(u);case 8:l=t.sent,n.push(l);case 10:case"end":return t.stop()}}),t)})),i=0,a=Object.entries(r);case 4:if(!(i<a.length)){t.next=9;break}return t.delegateYield(o(),"t0",6);case 6:i++,t.next=4;break;case 9:return t.abrupt("return",n);case 12:t.prev=12,t.t1=t.catch(0),t.t1;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"updateItemsCheckbox",function(){var t=cy(ay().mark((function t(r){var n,o,i,a,s,c,u,l,f,h,p,d,v,m;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=[],!r||!Object.keys(r).length){t.next=13;break}o=ay().mark((function t(){var r,o,s,c,u,l;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ry(a[i],2),o=r[0],s=r[1],t.next=3,e.getItemArrayFromStackByName(o);case 3:return c=t.sent,s.forEach((function(t){var e=c.findIndex((function(e){return e.createdAt===t.createdAt}));if(-1===e)return{success:!1,error:"Invalid item data"};c[e].isChecked=t.isChecked})),u=fy({},o,c),t.next=8,e.setItemToStackBuy(u);case 8:l=t.sent,n.push(l);case 10:case"end":return t.stop()}}),t)})),i=0,a=Object.entries(r);case 5:if(!(i<a.length)){t.next=10;break}return t.delegateYield(o(),"t0",7);case 7:i++,t.next=5;break;case 10:return t.abrupt("return",n);case 13:return t.next=15,y.w.getLocal({sihAppBuyStack:{}});case 15:if(s=t.sent,!(c=s.sihAppBuyStack)||!Object.keys(c).length){t.next=31;break}u=0,l=Object.entries(c);case 19:if(!(u<l.length)){t.next=30;break}for(f=ry(l[u],2),h=f[0],p=f[1],d=0;d<p.length;d++)p[d].isChecked=!0;return v=fy({},h,p),t.next=25,e.setItemToStackBuy(v);case 25:m=t.sent,n.push(m);case 27:u++,t.next=19;break;case 30:return t.abrupt("return",n);case 31:t.next=36;break;case 33:t.prev=33,t.t1=t.catch(0),t.t1;case 36:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"deleteItemFromStackBuy",function(){var t=cy(ay().mark((function t(r,n){var o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w=arguments;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=w.length>2&&void 0!==w[2]?w[2]:1,i=w.length>3&&void 0!==w[3]?w[3]:null,t.prev=2,t.next=5,e.getItemArrayFromStackByName(r);case 5:if(a=t.sent,s=i?[]:a.filter((function(t){return t.itemId})),c=i?a:a.filter((function(t){return!t.itemId})),u=a.findIndex((function(t){return t.createdAt===n})),l=a.find((function(t){return t.createdAt===n})),!l.status||"pending"!==l.status){t.next=16;break}return t.next=13,e.findLastItemByDateOrderInStackBuy();case 13:t.t0=t.sent,t.next=17;break;case 16:t.t0={key:r,itemIndex:u};case 17:if(f=t.t0,h=f.key,p=f.itemIndex,h){t.next=22;break}return t.abrupt("return",{success:!1,error:"Empty stack"});case 22:if(!(c.length>o&&u>=0)){t.next=37;break}return c.splice(u,o),d=[].concat(Qd(c),Qd(s)),v=fy({},r,d),t.next=28,e.setItemToStackBuy(v);case 28:if(!(m=t.sent).success){t.next=36;break}if(h!==r||p!==u||!l.status||"pending"!==l.status){t.next=33;break}return t.next=33,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 33:return t.abrupt("return",{success:!0,message:"Item removed from stack"});case 36:return t.abrupt("return",m);case 37:if(a.length!==o||0!==u){t.next=53;break}return t.next=40,y.w.getLocal("sihAppBuyStack");case 40:if(g=t.sent,b=g.sihAppBuyStack,0!==Object.keys(b).length){t.next=46;break}return t.abrupt("return",{success:!1,error:"Empty stack"});case 46:if(h!==r||p!==u||!l.status||"pending"!==l.status){t.next=49;break}return t.next=49,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 49:return delete b[r],t.next=52,y.w.setLocal({sihAppBuyStack:b});case 52:return t.abrupt("return",{success:!0,message:"Item removed from stack"});case 53:return t.abrupt("return",{success:!1,error:"Invalid data"});case 56:t.prev=56,t.t1=t.catch(2),t.t1;case 59:case"end":return t.stop()}}),t,null,[[2,56]])})));return function(e,r){return t.apply(this,arguments)}}()),fy(this,"deleteItemsFromBuyStackByCreatedAt",function(){var t=cy(ay().mark((function t(r){var n,o,i,a,s,c,u,l,f=arguments;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:null,o=f.length>2&&void 0!==f[2]?f[2]:null,i=f.length>3&&void 0!==f[3]?f[3]:null,t.prev=3,r&&"string"==typeof r){t.next=6;break}return t.abrupt("return",{success:!1,error:"Invalid market hash name"});case 6:return t.next=8,e.getItemArrayFromStackByName(r);case 8:if(!(a=t.sent).length){t.next=18;break}return s=a.filter((function(t){return n?t.status===n:!t.status})),i?c=s.find((function(t){return+t.itemId==+i})):(u=s.filter((function(t){return!t.itemId})),c=u[o>0?u.length-o:0]),t.next=14,e.deleteItemFromStackBuy(r,c.createdAt,o,i);case 14:return l=t.sent,t.abrupt("return",l);case 18:return t.abrupt("return",{success:!1,error:"Empty stack"});case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(3),t.t0;case 24:case"end":return t.stop()}}),t,null,[[3,21]])})));return function(e){return t.apply(this,arguments)}}()),fy(this,"findLastItemByDateOrderInStackBuy",cy(ay().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({sihAppBuyStack:{}});case 3:if(e=t.sent,r=e.sihAppBuyStack,0!==Object.keys(r).length){t.next=9;break}return t.abrupt("return",{itemData:null,key:null,itemIndex:null});case 9:for(n={},o="",i=0,a=Object.entries(r);i<a.length;i++){s=ry(a[i],2),c=s[0],u=s[1],l=Zd(u);try{for(l.s();!(f=l.n()).done;)(h=f.value).status&&"pending"===h.status&&(0===Object.keys(n).length&&(o=c,Object.assign(n,h)),(h.finishOrderAt||!n.finishOrderAt&&h.orderAt>n.orderAt)&&(o=c,Object.assign(n,h)))}catch(t){l.e(t)}finally{l.f()}}if(o){t.next=14;break}return t.abrupt("return",{itemData:null,key:null,itemIndex:null});case 14:return p=r[o].findIndex((function(t){return t.orderAt===n.orderAt&&"pending"===t.status})),t.abrupt("return",{itemData:n,key:o,itemIndex:-1!==p?p:null});case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),t.t0;case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))),fy(this,"getAllStackBuy",cy(ay().mark((function t(){var e,r;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({sihAppBuyStack:{}});case 3:if(e=t.sent,r=e.sihAppBuyStack,0!==Object.keys(r).length){t.next=9;break}return t.abrupt("return",[]);case 9:return t.abrupt("return",Object.values(r).reduce((function(t,e){return[].concat(Qd(t),Qd(e))})));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))),fy(this,"startCreatingPurchaseRequest",function(){var t=cy(ay().mark((function t(r,n){var o,i,a;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItemArrayFromStackByName(n);case 3:if(o=t.sent,-1!==(i=o.findIndex((function(t){return t.createdAt===r.createdAt})))){t.next=9;break}return t.abrupt("return",{success:!1,error:"Item not found"});case 9:return o[i].finishOrderAt||(o[i].finishOrderAt=Date.now()+6e5),a=fy({},n,o),t.next=13,e.setItemToStackBuy(a);case 13:return t.abrupt("return",t.sent);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,r){return t.apply(this,arguments)}}()),fy(this,"updateAllPricesInAllStackBuy",function(){var t=cy(ay().mark((function t(r){var n,o;return ay().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getAllStackBuy();case 3:return(n=t.sent).forEach((function(t){var e;e=t.itemId?r.find((function(e){return+e.id==+t.itemId})):r.find((function(e){return e.item===t.market_hash_name&&!e.id})),t.price=e?e.price:null})),o=n.reduce((function(t,e){var r=encodeURIComponent(e.market_hash_name);return t[r]||(t[r]=[]),t[r].push(e),t}),{}),t.next=8,y.w.setLocal({sihAppBuyStack:o});case 8:return t.abrupt("return",o);case 11:t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),this.sihAppUrl=Jd.sihAppUrl,this.errorHandler=Jd.errorHandler}));const yy=new dy;function vy(t){return vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(t)}function my(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */my=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==vy(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(vy(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function gy(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function by(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){gy(i,n,o,a,s,"next",t)}function s(t){gy(i,n,o,a,s,"throw",t)}a(void 0)}))}}function wy(t,e,r){return(e=xy(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ey(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xy(n.key),n)}}function xy(t){var e=function(t,e){if("object"!=vy(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vy(e)?e:e+""}var Sy=function(){return function(t,e,r){return e&&Ey(t.prototype,e),r&&Ey(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return new Promise(!0)},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.agent=e,this.settingName=r,this.checkInterval=o,this.interval=null,this.condition=n,y.w.set(wy({},"".concat(r,"_restarts"),!0)),y.w.set(wy({},"".concat(r,"_connected"),!1))}),[{key:"run",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===this.interval){var r=0;this.interval=setInterval(by(my().mark((function n(){var o;return my().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.check();case 2:if(o=n.sent,n.t0=o,!n.t0){n.next=8;break}return n.next=7,t.condition(t);case 7:n.t0=n.sent;case 8:if(!n.t0){n.next=11;break}return t.agent.init(e)&&(r=0,y.w.set(wy({},"".concat(t.settingName,"_restarts"),!0))),n.abrupt("return");case 11:if(!t.agent.stop()){n.next=16;break}return r=0,y.w.set(wy({},"".concat(t.settingName,"_restarts"),!1)),n.abrupt("return");case 16:r%100==0&&y.w.set(wy({},"".concat(t.settingName,"_restarts"),!1)),r+=1;case 18:case"end":return n.stop()}}),n)}))),this.checkInterval)}}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearInterval(this.interval),this.interval=null,this.agent.stop(t),y.w.set(wy({},"".concat(this.settingName,"_connected"),!1))}},{key:"check",value:(t=by(my().mark((function t(){var e,r;return my().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get(Ns.Ay);case 2:return e=t.sent,t.next=5,y.w.getLocal({userInfo:{authorization:!1}});case 5:return r=t.sent.userInfo.authorization,t.abrupt("return",e[this.settingName]&&r);case 7:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}]);var t}();function _y(t){return _y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(t)}function Ay(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ty(n.key),n)}}function Ty(t){var e=function(t,e){if("object"!=_y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_y(e)?e:e+""}var Ly=function(){return function(t,e,r){return e&&Ay(t.prototype,e),r&&Ay(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prefix=e}),[{key:"log",value:function(){}},{key:"error",value:function(){for(var t,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).error.apply(t,[this.prefix].concat(r))}}])}(),ky=r(4526),Oy=r.n(ky);const Iy={heartbeat:!1,incomeMessageMapper:function(t){return t},outcomeMessageMapper:function(t){return t},EVENTS:{CONNECT:"connect",CLOSE:"close",ERROR:"error"},CLOSE_REASONS:{HEARTBEAT:{code:4001,message:"heart beat problem"},NORMAL_CLOSE:{code:1e3,message:"Normal Closure"}},ping:!1,pingMessage:"",pingTime:3e4};function Ny(t){return Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ny(t)}function Py(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cy(n.key),n)}}function Cy(t){var e=function(t,e){if("object"!=Ny(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ny(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ny(e)?e:e+""}var Dy=function(){return function(t,e,r){return e&&Py(t.prototype,e),r&&Py(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e,this.logger=r,this.options=Oy()(n,Iy),this.listeners={},this.socket=null,this.preventReconnection=!1,this.pingInterval=null}),[{key:"connect",value:function(){var t=this;return this.isActive()||(this.preventReconnection=!1,this.socket=new WebSocket(this.url),this.socket.onopen=function(){t.logger.log("connection opened"),t.emit({type:t.options.EVENTS.CONNECT}),t.options.ping&&(t.clearPingInterval(),t.setupPingInterval())},this.socket.onclose=function(){t.logger.log("connection closed"),t.emit({type:t.options.EVENTS.CLOSE}),t.options.ping&&t.clearPingInterval()},this.socket.onerror=function(e){t.logger.log("connection error",e),t.emit({type:t.options.EVENTS.ERROR,payload:e}),t.options.ping&&t.clearPingInterval()},this.socket.onmessage=function(e){try{var r=t.options.eventMapper(e),n=r.type,o=r.payload;n?Jc.getProfile(!0).then((function(){t.emit({type:n,payload:o})})):t.logger.log('Unknown message type "'.concat(n,'"'))}catch(e){t.logger.error("Receive message error",e)}}),!0}},{key:"close",value:function(t,e){this.preventReconnection="boolean"!=typeof t||t,this.socket&&this.socket.readyState!==this.socket.CLOSED&&this.socket.close("string"==typeof t?t:this.options.CLOSE_REASONS.NORMAL_CLOSE.code,e||this.options.CLOSE_REASONS.NORMAL_CLOSE.message)}},{key:"restart",value:function(t,e){this.socket&&this.socket.readyState!==this.socket.CLOSED&&this.close(t,e)}},{key:"send",value:function(t){try{var e=this.options.outcomeMessageMapper(t);this.socket.send(JSON.stringify(e))}catch(t){this.logger.error("Send message error",t)}}},{key:"onmessage",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"isActive",value:function(){return this.socket&&(this.socket.readyState===this.socket.OPEN||this.socket.readyState===this.socket.CONNECTING)}},{key:"isConnected",value:function(){return this.socket&&this.socket.readyState===this.socket.OPEN}},{key:"emit",value:function(t){var e=t.type,r=t.payload,n=void 0===r?null:r;this.listeners[e]&&this.listeners[e].length&&this.listeners[e].forEach((function(t){return t(n)}))}},{key:"setupPingInterval",value:function(){var t=this;this.pingInterval=setInterval((function(){t.socket.send(t.options.pingMessage)}),this.options.pingTime)}},{key:"clearPingInterval",value:function(){clearInterval(this.pingInterval)}}])}(),Ry=Dy;function jy(t){return jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(t)}function Fy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,By(n.key),n)}}function By(t){var e=function(t,e){if("object"!=jy(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jy(e)?e:e+""}var Gy=function(){return function(t,e,r){return e&&Fy(t.prototype,e),r&&Fy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state=e}),[{key:"get",value:function(t){return this.state[t]}},{key:"set",value:function(t,e){return this.state[t]=e,this}},{key:"delete",value:function(t){delete this.state[t]}},{key:"clear",value:function(){this.state={}}}])}();function My(t){return My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(t)}function Uy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hy(n.key),n)}}function Hy(t){var e=function(t,e){if("object"!=My(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=My(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==My(e)?e:e+""}var qy=function(){return function(t,e,r){return e&&Uy(t.prototype,e),r&&Uy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.DEFAULT_DELAY=5e3;var r=e.delay,n=e.delays,o=e.once,i=void 0!==o&&o;this.delays=void 0!==r?[r]:n||[this.DEFAULT_DELAY],this.once=i,this.index=0}),[{key:"wrap",value:function(t){var e=this,r=t.options.EVENTS,n=r.CLOSE,o=r.CONNECT;t.onmessage(n,(function(){t.preventReconnection||(e.timeout=setTimeout((function(){t.connect(),e.index+=1}),e.delay))})),t.onmessage(o,(function(){clearTimeout(e.timeout),e.timeout=null,e.index=0}))}},{key:"delay",get:function(){var t=this.once?this.index:this.index%this.delays.length;return this.delays[t]||!1}}])}();function Vy(t){return Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vy(t)}function Ky(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yy(n.key),n)}}function Yy(t){var e=function(t,e){if("object"!=Vy(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Vy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vy(e)?e:e+""}var Wy=function(){return function(t,e,r){return e&&Ky(t.prototype,e),r&&Ky(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r,n,o){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.handlers=e,this.provider=r,this.storage=n,this.logger=o,this.initialized=!1,this.stopped=!1,Object.keys(this.handlers).forEach((function(t){i.provider.onmessage(t,(function(e){return i.handlers[t](e,i)}))}))}),[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(this.initialized||this.stopped&&!t)&&(this.stopped=!1,this.logger.log("init"),this.provider.connect(),this.initialized=!0,!0)}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!this.initialized&&(this.stopped=!!t||this.stopped,this.logger.log("stop"),this.provider.close(),this.storage.clear(),this.initialized=!1,!0)}}])}(),zy=Ly,$y=Sy,Xy=qy,Jy=f,Qy=h;function Zy(t){return Zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zy(t)}function tv(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */tv=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Zy(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Zy(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ev(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function rv(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ev(i,n,o,a,s,"next",t)}function s(t){ev(i,n,o,a,s,"throw",t)}a(void 0)}))}}Os("");var nv=function(t){return"https://steamcommunity.com/profiles/".concat(t,"/tradeoffers/privacy#trade_offer_access_url")},ov=function(){var t=rv(tv().mark((function t(){var e,r,n,o,i,a,s,c,u;return tv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jc.getProfile();case 3:if(e=t.sent.data,r=Ps.A.Profile.parse(e,["steamId","avatarSrc","nickname","sessionId","originalProfileUrl"]),n=r.steamId,o=r.avatarSrc,i=r.nickname,a=r.sessionId,s=r.originalProfileUrl,n){t.next=7;break}return t.abrupt("return",!1);case 7:return t.next=9,Fs.Ay.sendRequest({method:"GET",url:"".concat(s?"".concat(s,"tradeoffers/privacy"):nv(n))});case 9:return c=t.sent,t.next=12,Ps.A.Tradeoffer.tradeLink(c);case 12:return u=t.sent,t.abrupt("return",{avatar:o,name:i,steamId:n,tradeLink:u,sessionId:a});case 16:return t.prev=16,t.t0=t.catch(0),t.t0,t.abrupt("return",!1);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}(),iv="connect",av="jsonsend",sv="tradesend",cv="tradeaccept",uv="tradedecline",lv="tradecancel",fv="permissionsget",hv="permissionsrequest",pv="permissionsedit",dv="vYPRqkhY88H9iuTxrcm",yv="vYPRgkhY88H91uTxrcm",vv="vYPRgkhY88H9iuTxrcm",mv="vYPRqkhY88H91uTxrcm",gv="syncuserinfo",bv="vYPRqjhY88H91uTxrcm";function wv(t){return wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(t)}function Ev(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ev=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==wv(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(wv(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function xv(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=wv(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=wv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sv(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const _v=function(){var t,e=(t=Ev().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h;return Ev().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("ConnectionHandler: called"),t.next=4,y.w.get(xv({},mv,{}));case 4:return t.t0=mv,n=t.sent[t.t0],t.next=8,y.w.getLocal({userInfo:{}});case 8:if(o=t.sent,(i=o.userInfo)&&i.authorization){t.next=15;break}return y.w.set({sih_app_market_toggle_connected:!1}),y.w.set({sih_app_market_toggle_restarts:!1}),t.abrupt("return");case 15:return t.next=17,ov();case 17:if(a=t.sent,r.logger.log("ConnectionHandler: steamData =",a),a){t.next=23;break}return y.w.set({sih_app_market_toggle_connected:!1}),y.w.set({sih_app_market_toggle_restarts:!1}),t.abrupt("return");case 23:s=a.avatar,c=a.name,u=a.steamId,l=a.tradeLink,f=a.sessionId,h=l.match(/token=(.*)/)[1],r.storage.set("avatar",s),r.storage.set("name",c),r.storage.set("steamId",u),r.storage.set("tradeLink",l),r.storage.set("sessionId",f),r.logger.log("NEW SIH CONNECT"),r.provider.send({event:iv,payload:{event:iv,data:{steamId:u,name:c,avatar:s,token:h}}}),!i.steamId||n&&n[i.steamId]||r.provider.send({event:mv,payload:{event:mv,data:{}}}),r.provider.send({event:fv,payload:{event:fv,data:{}}}),r.provider.onmessage(r.provider.options.EVENTS.CLOSE,(function(){return r.logger.log("ConnectionHandler: connection closed")})),y.w.set({sih_app_market_toggle_connected:!0}),y.w.set({sih_app_market_toggle_restarts:!1}),r.logger.log("ConnectionHandler: done"),t.next=44;break;case 40:t.prev=40,t.t1=t.catch(0),y.w.set({sih_app_market_toggle_restarts:!1}),r.logger.error("ConnectionHandler: error",t.t1);case 44:case"end":return t.stop()}}),t,null,[[0,40]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Sv(i,n,o,a,s,"next",t)}function s(t){Sv(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Av(t){return Av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(t)}function Tv(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Tv=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Av(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Av(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Lv(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Av(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Av(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Av(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kv(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Ov=function(){var t,e=(t=Tv().mark((function t(e,r){var n,o,i;return Tv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get(Lv({},mv,{}));case 3:return t.t0=mv,n=t.sent[t.t0],t.next=7,y.w.getLocal("userInfo");case 7:return o=t.sent,i=o.userInfo,n[i.steamId]={key:e.data},t.next=12,y.w.set(Lv({},mv,n));case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(0),r.logger.error("Get crypt key: error",t.t1);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){kv(i,n,o,a,s,"next",t)}function s(t){kv(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();var Iv=r(7047),Nv=r.n(Iv),Pv=r(7333),Cv=r.n(Pv),Dv=r(8367),Rv=r.n(Dv);function jv(t){return jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(t)}function Fv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mv(n.key),n)}}function Bv(t,e,r){return e&&Fv(t.prototype,e),r&&Fv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gv(t,e,r){return(e=Mv(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mv(t){var e=function(t,e){if("object"!=jv(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jv(e)?e:e+""}function Uv(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function Hv(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var qv=new WeakMap,Vv=new WeakMap;const Kv=new(Bv((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Uv(this,qv,{tradeoffers:"tradeoffers","tradeoffers/?history=1":"tradeoffers","tradeoffers/sent":"tradeoffers/sent","tradeoffers/sent/?history=1":"tradeoffers/sent"}),Uv(this,Vv,{tradeoffers:!1,"tradeoffers/sent":!1}),Gv(this,"setParsingWebApiLoadingState",(function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var n=Hv(qv,e)[t];Hv(Vv,e)[n]=r}})),Gv(this,"getParsingWebApiLoadingState",(function(t){if(t){var r=Hv(qv,e)[t];return Hv(Vv,e)[r]}}))})));function Yv(t){return Yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(t)}function Wv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wv(Object(r),!0).forEach((function(e){Qv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $v(t){return function(t){if(Array.isArray(t))return rm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||em(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||em(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zv(n.key),n)}}function Qv(t,e,r){return(e=Zv(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zv(t){var e=function(t,e){if("object"!=Yv(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Yv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yv(e)?e:e+""}function tm(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=em(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function em(t,e){if(t){if("string"==typeof t)return rm(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rm(t,e):void 0}}function rm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function nm(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */nm=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Yv(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Yv(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function om(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function im(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){om(i,n,o,a,s,"next",t)}function s(t){om(i,n,o,a,s,"throw",t)}a(void 0)}))}}var am=Os(""),sm=["https://steamcommunity.com/profiles/*","https://steamcommunity.com/id/*","https://steamcommunity.com/tradeoffer/new/*"],cm=["tradeoffers","tradeoffers/sent","tradeoffers/?history=1","tradeoffers/sent/?history=1"],um=function(){var t=im(nm().mark((function t(e){var r,n,o,i;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(sm.map(function(){var t=im(nm().mark((function t(r){return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rc.generateDynamicRuleId(r);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Cookie",operation:"set",value:e}]},t.t2={urlFilter:r},t.abrupt("return",{id:t.t0,priority:1,action:t.t1,condition:t.t2});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:r=t.sent,n=tm(r),t.prev=4,n.s();case 6:if((o=n.n()).done){t.next=12;break}return i=o.value,t.next=10,rc.setRule(i);case 10:t.next=6;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),n.e(t.t0);case 17:return t.prev=17,n.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[4,14,17,20]])})));return function(e){return t.apply(this,arguments)}}(),lm=function(){var t=im(nm().mark((function t(){var e,r,n;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=sm;case 1:if(!(e<r.length)){t.next=8;break}return n=r[e],t.next=5,rc.removeRule(n);case 5:e++,t.next=1;break;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),fm=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Qv(this,"removeAcceptIds",(function(e){t._acceptIdsSet.delete(e)})),Qv(this,"parseTrades",im(nm().mark((function t(){var r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,x,S,_=arguments;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=_.length>0&&void 0!==_[0]?_[0]:"tradeoffers",n=_.length>1&&void 0!==_[1]&&_[1],t.prev=2,t.next=5,y.w.get(Ns.Ay);case 5:return o=t.sent,i=o.userUrl,a=o.originalProfileUrl,t.next=10,y.w.get({webApiToken:""});case 10:return s=t.sent,c=s.webApiToken,u=void 0===c?"":c,t.next=15,mg.getCacheTradesPage(r);case 15:return l=t.sent,t.next=18,mg.isAvailableWebApi();case 18:if(!t.sent||!n){t.next=47;break}if(!Kv.getParsingWebApiLoadingState(r)){t.next=22;break}return t.abrupt("return");case 22:Kv.setParsingWebApiLoadingState(r,!0),f=0,h={};case 25:return t.next=27,Fs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/IEconService/GetTradeOffers/v1/",data:{active_only:0,get_received_offers:r.includes("sent")?0:1,get_sent_offers:r.includes("sent")?1:0,get_descriptions:1,access_token:u,cursor:f}});case 27:for(p=t.sent,d=p.response,f=null==d?void 0:d.next_cursor,v=0,m=Object.entries(d);v<m.length;v++)g=Xv(m[v],2),b=g[0],w=g[1],h[b]&&Array.isArray(w)?(h[b]=[].concat($v(h[b]),$v(w)),"trade_offers_sent"!==b&&"trade_offers_received"!==b||(h[b]=h[b].sort((function(t,e){return(null==e?void 0:e.time_updated)-(null==t?void 0:t.time_updated)})))):h[b]=w;case 31:if(f){t.next=25;break}case 32:if("tradeoffers"!==r){t.next=39;break}return t.next=35,mg.updateTradesApiCache(h,"tradeoffers");case 35:return t.next=37,mg.updateTradesApiCache(h,"tradeoffers/?history=1");case 37:t.next=44;break;case 39:if("tradeoffers/sent"!==r){t.next=44;break}return t.next=42,mg.updateTradesApiCache(h,"tradeoffers/sent");case 42:return t.next=44,mg.updateTradesApiCache(h,"tradeoffers/sent/?history=1");case 44:Kv.setParsingWebApiLoadingState(r,!1),t.next=60;break;case 47:if(l&&!n){t.next=60;break}return t.next=50,(0,Fs.yy)(5e3);case 50:return t.next=52,y.w.getLocal({TRADE_REQUEST_LIMIT_COUNT:0});case 52:if(E=t.sent,x=E.TRADE_REQUEST_LIMIT_COUNT,!((void 0===x?0:x)>19)){t.next=57;break}return t.abrupt("return");case 57:S=["sessionid","steamCountry","timezoneOffset","steamLoginSecure","Steam_Language","webTradeEligibility","tsTradeOffersLastRead"],chrome.cookies.getAll({domain:"steamcommunity.com"},function(){var t=im(nm().mark((function t(n){var o,s,c;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=n.filter((function(t){return S.includes(t.name)})),s=o.map((function(t){return"".concat(t.name,"=").concat("Steam_Language"!==t.name?t.value:"english")})).join("; "),t.next=5,um(s);case 5:return t.next=7,Fs.Ay.apiRequest({method:"GET",url:"".concat(a?"".concat(a).concat(r):"https:".concat(i).concat(r))});case 7:return c=t.sent,Jc.TRADES_NOTIFICATION.ts[r]=Date.now(),t.next=11,lm();case 11:if(!am(c).find(".login_bottom_row_item").length){t.next=14;break}throw Error("User is not authorized");case 14:return t.next=16,e.actualizeTradesCache(c,r);case 16:t.next=24;break;case 18:return t.prev=18,t.t0=t.catch(0),console.error(t.t0),Jc.TRADES_NOTIFICATION.ts[r]=Date.now(),t.next=24,lm();case 24:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}());case 60:t.next=66;break;case 62:t.prev=62,t.t0=t.catch(2),console.error(t.t0),Kv.setParsingWebApiLoadingState(r,!1);case 66:case"end":return t.stop()}}),t,null,[[2,62]])})))),Qv(this,"actualizeTradesCache",function(){var t=im(nm().mark((function t(e){var r,n,o,i,a,s,c=arguments;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"tradeoffers",t.prev=1,t.next=4,mg.getCacheTradesPage(r);case 4:if(n=t.sent){t.next=9;break}return t.next=8,mg.setNewTradesPageInfo(e,r);case 8:return t.abrupt("return");case 9:(o=am(e).find('.tradeoffer[id^="tradeofferid_"]')).each((function(t,e){var r=am(e),o=r.attr("id"),i=mg.getTradeStatus(r),a=n.data.findIndex((function(t){return Object.keys(t)[0]===o}));if(-1===a){var s=Qv({},o,{html:r.prop("outerHTML"),trade_offer_state:i,ts:Date.now()});n.data.push(s)}else{var c,u=tm(n.data);try{for(u.s();!(c=u.n()).done;)for(var l=c.value,f=0,h=Object.keys(l);f<h.length;f++){var p=h[f];p===o&&l[p].trade_offer_state!==i&&(l[p]={html:r.prop("outerHTML"),trade_offer_state:i,ts:Date.now()})}}catch(t){u.e(t)}finally{u.f()}}n.data.length>50&&(n.data=n.data.sort((function(t,e){return Object.values(e)[0].ts-Object.values(t)[0].ts})),n.data.length=50)})),i=tm(n.data),t.prev=12,s=nm().mark((function t(){var e,r,n,i;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=a.value,r=Object.keys(e)[0],n=Object.values(e)[0].trade_offer_state,i=!1,2===n&&(o.each((function(t,e){var n=am(e).attr("id");r===n&&(i=!0)})),i||(e[r].trade_offer_state=void 0));case 5:case"end":return t.stop()}}),t)})),i.s();case 15:if((a=i.n()).done){t.next=19;break}return t.delegateYield(s(),"t0",17);case 17:t.next=15;break;case 19:t.next=24;break;case 21:t.prev=21,t.t1=t.catch(12),i.e(t.t1);case 24:return t.prev=24,i.f(),t.finish(24);case 27:return t.next=29,mg.updateCacheTradesPage(n.data,r);case 29:t.next=34;break;case 31:t.prev=31,t.t2=t.catch(1),t.t2;case 34:case"end":return t.stop()}}),t,null,[[1,31],[12,21,24,27]])})));return function(e){return t.apply(this,arguments)}}()),Qv(this,"buildTradesInfoForController",im(nm().mark((function t(){var e,r,n,o=arguments;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"tradeoffers",t.next=3,mg.getTradesFromSteamPage(e,!0);case 3:return r=t.sent,n=r.tradeOffersInfo,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))),Qv(this,"buildTradesInfoForWindow",im(nm().mark((function t(){var r,n,o,i,a,s,c,u=arguments;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.length>0&&void 0!==u[0]?u[0]:"tradeoffers",t.prev=1,r){t.next=4;break}throw Error("Not found required arguments");case 4:if(cm.includes(r)){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,y.w.get(Ns.Ay);case 8:return n=t.sent,t.next=11,mg.isAvailableWebApi();case 11:if(o=t.sent,i=mg.getStorageKey(r),!o||!Kv.getParsingWebApiLoadingState(r)){t.next=16;break}return t.abrupt("return");case 16:if(!o){t.next=22;break}return t.next=19,mg.getTradesFromWebApiToken(r);case 19:t.t0=t.sent,t.next=25;break;case 22:return t.next=24,mg.getTradesFromSteamPage(r);case 24:t.t0=t.sent;case 25:if(a=t.t0,s=a.tradeOffersInfo,c=a.incomingTradesLength,y.w.getLocal({skipversion:null}).then((function(t){(0,Fs.eL)(t.skipversion)&&"tradeoffers"===r&&(chrome.action.setBadgeText({text:c?"".concat(c):""}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"}))})),s&&s.length){t.next=34;break}if(!i){t.next=33;break}return t.next=33,y.w.setLocal(Qv({},i,[]));case 33:return t.abrupt("return");case 34:if(s.sort((function(t,e){return e.tradeOfferId-t.tradeOfferId})),!i){t.next=38;break}return t.next=38,y.w.setLocal(Qv({},i,s));case 38:if("tradeoffers"!==r){t.next=44;break}return n.autoaccept&&Promise.all(s.filter((function(t){return t.autoAccept})).map((function(t,r){var n=t.partnerIdProfile,o=t.tradeOfferId,i=t.sessionId;return new Promise((function(t){e.acceptIds.has(o)?t():(e.acceptIds=o,setTimeout(im(nm().mark((function e(){return nm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sm.msg.tradeAccept.handler({steamId:n,tradeOfferId:o,sessionId:i},(function(e){t(o)}));case 2:case"end":return e.stop()}}),e)}))),3e3*(r+1)))}))}))).then((function(t){t.forEach((function(t){e.removeAcceptIds(t)}))})),n.shownotify,n.autodecline,t.next=44,mg.autoAcceptSihAppOrders(s);case 44:t.next=49;break;case 46:t.prev=46,t.t1=t.catch(1),console.error(t.t1);case 49:case"end":return t.stop()}}),t,null,[[1,46]])})))),Qv(this,"checkTradesBackgroundAlarm",im(nm().mark((function t(){var r,n,o,i,a,s,c,u;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jc.getProfile();case 3:if(r=t.sent.data,!(n=Fs.Ay.getSteamNotification(r))||!Object.keys(n).length){t.next=26;break}if(o=n.notifications,i=(void 0===o?[]:o).filter((function(t){return t.notification_type===constants.STEAM_NOTIFICATIONS_TYPES.TRADE})),null!==Jc.TRADES_NOTIFICATION.trades){t.next=21;break}Jc.TRADES_NOTIFICATION.trades=[],a=0,s=["tradeoffers","tradeoffers/sent","tradeoffers/?history=1","tradeoffers/sent/?history=1"];case 12:if(!(a<s.length)){t.next=21;break}return c=s[a],t.next=16,e.parseTrades(c,!0);case 16:return t.next=18,e.buildTradesInfoForWindow(c);case 18:a++,t.next=12;break;case 21:return u=zv({},Jc.TRADES_NOTIFICATION),t.next=24,mg.checkLastParsingTrades(i,u);case 24:return t.next=26,mg.checkLastParsingTrades(i,u,!0);case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(0),Jc.TRADES_NOTIFICATION.trades=null,t.t0;case 32:case"end":return t.stop()}}),t,null,[[0,28]])})))),Qv(this,"forceCheckTradesInfo",function(){var t=im(nm().mark((function t(r){var n,o,i,a;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jc.getProfile();case 3:if(n=t.sent.data,o=Fs.Ay.getSteamNotification(n),!mg.isAvailableWebApi()){t.next=22;break}return t.next=9,e.parseTrades(r,!0);case 9:if(r.includes("sent")){t.next=16;break}return t.next=12,e.buildTradesInfoForWindow("tradeoffers");case 12:return t.next=14,e.buildTradesInfoForWindow("tradeoffers/?history=1");case 14:t.next=20;break;case 16:return t.next=18,e.buildTradesInfoForWindow("tradeoffers/sent");case 18:return t.next=20,e.buildTradesInfoForWindow("tradeoffers/sent/?history=1");case 20:t.next=31;break;case 22:if(!o||!Object.keys(o).length){t.next=31;break}if(i=o.notifications,a=(void 0===i?[]:i).filter((function(t){return t.notification_type===constants.STEAM_NOTIFICATIONS_TYPES.TRADE})),Jc.TRADES_NOTIFICATION.trades&&Jc.TRADES_NOTIFICATION.trades.length===a.length&&!(Date.now()-Jc.TRADES_NOTIFICATION.ts[r]>6e4)){t.next=31;break}return"tradeoffers"===r&&(Jc.TRADES_NOTIFICATION.trades=a||[]),t.next=29,e.parseTrades(r,!0);case 29:return t.next=31,e.buildTradesInfoForWindow(r);case 31:t.next=37;break;case 33:t.prev=33,t.t0=t.catch(0),Jc.TRADES_NOTIFICATION.trades=null,t.t0;case 37:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(e){return t.apply(this,arguments)}}()),Qv(this,"getTradeInfoByOfferId",function(){var t=im(nm().mark((function t(e,r){var n,o;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/IEconService/GetTradeOffer/v1/",data:{access_token:e,tradeofferid:r}});case 3:return n=t.sent,o=n.response,t.abrupt("return",o);case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()),Qv(this,"getLastTrades",im(nm().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g=arguments;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m=function(t){var e=t.endPoint,r=t.tradesArr;if(null==r||!r.length)return[];var n=function(t){return t===Is.A.tradeOfferState.Active},o=function(t){return t===Is.A.tradeOfferState.CreatedNeedsConfirmation},i=e.includes("sent"),a=e.includes("history");return r.filter((function(t){var e=t.trade_offer_state;return a?i?!n(e)&&!o(e):!n(e):i?n(e)||o(e):n(e)}))},u=g.length>0&&void 0!==g[0]&&g[0],t.next=4,y.w.get({webApiToken:""});case 4:return l=t.sent,f=l.webApiToken,t.next=8,mg.isAvailableWebApi();case 8:if(h=t.sent,f){t.next=11;break}throw Error("Not found apikey");case 11:if(h){t.next=13;break}throw Error("Api is not available");case 13:return t.next=15,mg.getCacheTradesApi("tradeoffers");case 15:return p=t.sent,t.next=18,mg.getCacheTradesApi("tradeoffers/sent");case 18:return d=t.sent,v={response:{descriptions:[].concat($v((null==p||null===(e=p.data)||void 0===e?void 0:e.descriptions)||[]),$v((null==d||null===(r=d.data)||void 0===r?void 0:r.descriptions)||[])),next_cursor:(null==p||null===(n=p.data)||void 0===n?void 0:n.next_cursor)+(null==d||null===(o=d.data)||void 0===o?void 0:o.next_cursor),trade_offers_received:u?m({endPoint:"tradeoffers",tradesArr:null==p||null===(i=p.data)||void 0===i?void 0:i.trade_offers_received}):null==p||null===(a=p.data)||void 0===a?void 0:a.trade_offers_received,trade_offers_sent:u?m({endPoint:"tradeoffers/sent",tradesArr:null==d||null===(s=d.data)||void 0===s?void 0:s.trade_offers_sent}):null==d||null===(c=d.data)||void 0===c?void 0:c.trade_offers_sent}},t.abrupt("return",v);case 21:case"end":return t.stop()}}),t)})))),Qv(this,"getTradesSummary",function(){var t=im(nm().mark((function t(r){var n,o,i,a,s,c,u,l,f;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.accountId,t.next=3,e.getLastTrades();case 3:return o=t.sent,i=o.response,a=i.trade_offers_received,s=void 0===a?[]:a,c=i.trade_offers_sent,u=void 0===c?[]:c,l=s.filter((function(t){return t.accountid_other.toString()===n})).sort((function(t,e){return e.time_created-t.time_created})),f=u.filter((function(t){return t.accountid_other.toString()===n})).sort((function(t,e){return e.time_created-t.time_created})),t.abrupt("return",{receivedCount:l.length||0,receivedLast:l.length?l[0]:null,sentCount:f.length||0,sentLast:f.length?f[0]:null});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Qv(this,"getManyTradesSummary",function(){var t=im(nm().mark((function t(r){var n,o,i,a,s,c,u,l,f,h;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.accountIds,t.next=3,e.getLastTrades();case 3:return o=t.sent,i=o.response,a=i.trade_offers_received,s=void 0===a?[]:a,c=i.trade_offers_sent,u=void 0===c?[]:c,l=new Map,s.forEach((function(t){var e=t.accountid_other.toString();l.set(e,(l.get(e)||0)+1)})),f=new Map,u.forEach((function(t){var e=t.accountid_other.toString();f.set(e,(f.get(e)||0)+1)})),h={},n.forEach((function(t){h[t]={receivedCount:l.get(t)||0,sentCount:f.get(t)||0}})),t.abrupt("return",h);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Qv(this,"getTradesPage",function(){var t=im(nm().mark((function t(e){var r;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.accountId,t.abrupt("return",new Promise((function(t,e){chrome.cookies.getAll({domain:"steamcommunity.com"},function(){var n=im(nm().mark((function n(o){var i,a,s;return nm().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=o.map((function(t){return"".concat(t.name,"=").concat("Steam_Language"!==t.name?t.value:"english")})).join("; "),n.next=4,um(i);case 4:return n.next=6,Fs.Ay.apiRequest({method:"GET",url:"https://steamcommunity.com/tradeoffer/new/?partner=".concat(r)});case 6:return a=n.sent,n.next=9,lm();case 9:return n.next=11,Fs.Ay.apiRequest({method:"GET",url:"https://steamcommunity.com/tradeoffer/new/?partner=".concat(r)});case 11:s=n.sent,t({tradesPageEnglish:a,tradesPageLocalLang:s}),n.next=21;break;case 15:return n.prev=15,n.t0=n.catch(0),console.error(n.t0),n.next=20,lm();case 20:e();case 21:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(t){return n.apply(this,arguments)}}())})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Qv(this,"forceUpdatePrices",function(){var t=im(nm().mark((function t(e){var r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,x,S,_,A,T,L,k,O,I,N,P;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P=function(){return(P=im(nm().mark((function t(e){var r;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=mg.getSumPriceElement(e),t.next=3,Ks.getPriceFromCurrency(r,d);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)},N=function(t){return P.apply(this,arguments)},I=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){var e,r,n,o,i;return null!==(e=T.items[t.classid])&&void 0!==e&&e.name&&null!==(r=Object.keys(null===(n=T.items[t.classid])||void 0===n?void 0:n.markets))&&void 0!==r&&r.length?zv(zv(zv({},t),mg.getMarketDataPrice(T,t.classid)),{},{name:null===(i=T.items[t.classid])||void 0===i?void 0:i.name}):zv(zv({},t),{},{price:0,name:null===(o=T.items[t.classid])||void 0===o?void 0:o.name})}))},s=e.endPoint,c=e.isAllUpdate,u=void 0!==c&&c,t.next=6,mg.getCacheTradesApi(s);case 6:if(l=t.sent,f=l.data){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,y.w.get("steamCurrency");case 12:if(t.t1=r=t.sent,t.t0=null===t.t1,t.t0){t.next=16;break}t.t0=void 0===r;case 16:if(!t.t0){t.next=20;break}t.t2=void 0,t.next=21;break;case 20:t.t2=r.steamCurrency;case 21:return h=t.t2,t.next=24,y.w.get("currency");case 24:if(t.t4=n=t.sent,t.t3=null===t.t4,t.t3){t.next=28;break}t.t3=void 0===n;case 28:if(!t.t3){t.next=32;break}t.t5=void 0,t.next=33;break;case 32:t.t5=n.currency;case 33:if(p=t.t5,d=p||(null==h?void 0:h.eCurrencyCode)||1,v=s.includes("sent"),m=s.includes("history"),(g=v?null!==(o=f.trade_offers_sent)&&void 0!==o?o:[]:null!==(i=f.trade_offers_received)&&void 0!==i?i:[]).length){t.next=40;break}return t.abrupt("return");case 40:return b=function(t){return t===Is.A.tradeOfferState.Active},w=function(t){return t===Is.A.tradeOfferState.CreatedNeedsConfirmation},E=g.filter((function(t){var e=t.trade_offer_state;return m?v?!b(e)&&!w(e):!b(e):v?b(e)||w(e):b(e)})),m&&E.length>10&&(E.length=10),x=mg.getStorageKey(s),t.next=47,y.w.getLocal(x);case 47:if(t.t7=x,t.t8=a=t.sent[t.t7],t.t6=null!==t.t8,!t.t6){t.next=52;break}t.t6=void 0!==a;case 52:if(!t.t6){t.next=56;break}t.t9=a,t.next=57;break;case 56:t.t9=[];case 57:if((S=t.t9).length){t.next=60;break}return t.abrupt("return");case 60:if((_=E.filter((function(t){var e=t.tradeofferid;return S.some((function(t){return t.tradeOfferId===e&&(!!u||mg.findTradeItemsNullPrices(t))}))}))).length){t.next=63;break}return t.abrupt("return");case 63:if(A=mg.getClassIdArray({tradeObjArr:_}),!(mg.getArraySizeInKB(A)>250)){t.next=71;break}return t.next=68,mg.getChunkedIdPrices(A);case 68:t.t10=t.sent,t.next=74;break;case 71:return t.next=73,mg.getClassIdPrices(A);case 73:t.t10=t.sent;case 74:if(null!=(T=t.t10)&&T.success&&(!Array.isArray(T.items)||T.items.length)){t.next=77;break}return t.abrupt("return");case 77:return t.next=79,Promise.all(S.map(function(){var t=im(nm().mark((function t(e){var r,n,o,i;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(mg.findTradeItemsNullPrices(e)){t.next=2;break}return t.abrupt("return",e);case 2:return o=I(null==e||null===(r=e.primary)||void 0===r?void 0:r.items),i=I(null==e||null===(n=e.secondary)||void 0===n?void 0:n.items),t.t0=zv,t.t1=zv({},e),t.t2={},t.t3=o,t.next=10,N(o);case 10:return t.t4=t.sent,t.t5={items:t.t3,totalPrice:t.t4},t.t6=i,t.next=15,N(i);case 15:return t.t7=t.sent,t.t8={items:t.t6,totalPrice:t.t7},t.t9={primary:t.t5,secondary:t.t8},t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t9));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 79:if(L=t.sent,!(k=mg.getStorageKey(s))){t.next=88;break}return t.next=84,y.w.setLocal(Qv({},k,L));case 84:if(!u){t.next=88;break}return O=mg.getStorageUpdatePricesKey(s),t.next=88,y.w.setLocal(Qv({},O,Date.now()));case 88:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}return function(t,e,r){return e&&Jv(t.prototype,e),r&&Jv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"acceptIds",get:function(){return t._acceptIdsSet},set:function(e){t._acceptIdsSet.add(e)}}])}();Qv(fm,"_acceptIdsSet",new Set);const hm=new fm;function pm(t){return pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(t)}function dm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ym(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dm(Object(r),!0).forEach((function(e){mm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function vm(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vm=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==pm(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(pm(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function mm(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=pm(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pm(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gm(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return bm(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bm(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function bm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function wm(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Em(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){wm(i,n,o,a,s,"next",t)}function s(t){wm(i,n,o,a,s,"throw",t)}a(void 0)}))}}var xm=function(){var t=Em(vm().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h,p,d,v;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.tradeOfferId,o=e.tradeState,i=e.endPoint,a=void 0===i?"tradeoffers":i,t.next=3,y.w.getLocal("".concat("tradeoffers"===a?"tradesInfo":"tradesInfoSent"));case 3:return t.t0="".concat("tradeoffers"===a?"tradesInfo":"tradesInfoSent"),s=t.sent[t.t0],t.next=7,mg.isAvailableWebApi();case 7:c=t.sent,l=gm(s),t.prev=9,l.s();case 11:if((f=l.n()).done){t.next=23;break}if((h=f.value).tradeOfferId!==n){t.next=21;break}if(u=Object.assign({},h),-1===(p=s.indexOf(h))){t.next=21;break}if(s.splice(p,1),c){t.next=21;break}return t.next=21,mg.updateTradeOfferStateInCache(n,o,a);case 21:t.next=11;break;case 23:t.next=28;break;case 25:t.prev=25,t.t1=t.catch(9),l.e(t.t1);case 28:return t.prev=28,l.f(),t.finish(28);case 31:return t.next=33,y.w.setLocal(mm({},"".concat("tradeoffers"===a?"tradesInfo":"tradesInfoSent"),s));case 33:if(!c){t.next=36;break}return t.next=36,hm.parseTrades(a,!0);case 36:if("tradeoffers"!==a){t.next=48;break}return chrome.action.setBadgeText({text:"".concat(s.length>0?s.length:"")}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"}),t.next=41,y.w.getLocal("tradesInfoHistory");case 41:return d=t.sent,v=d.tradesInfoHistory,u.tradeStatus="accepted"===o,u.tradeBannerText="accepted"===o?"Trade Accepted":"Trade Declined",v.unshift(u),t.next=48,y.w.setLocal({tradesInfoHistory:v});case 48:r({success:!0});case 49:case"end":return t.stop()}}),t,null,[[9,25,28,31]])})));return function(e,r){return t.apply(this,arguments)}}();const Sm={msg:{parseTrades:{code:Is.A.msg.BACKGROUND_TRADEOFFER_THROUGH_PARSING,handler:(Rm=Em(vm().mark((function t(e){var r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.txtResponse,n=void 0===r?null:r,o=e.endPoint,t.next=3,mg.isAvailableWebApi();case 3:return i=t.sent,t.next=6,Au.getSihAppUserJWTToken();case 6:if(a=t.sent,null===n){t.next=16;break}if(i){t.next=14;break}return Jc.TRADES_NOTIFICATION.ts[o]=Date.now(),t.next=12,hm.actualizeTradesCache(n,o);case 12:return t.next=14,hm.buildTradesInfoForWindow(o);case 14:t.next=46;break;case 16:return t.next=18,y.w.getLocal("userInfo");case 18:if(s=t.sent,!(c=s.userInfo)||!c.authorization){t.next=46;break}u=0,l=["tradeoffers","tradeoffers/sent"];case 23:if(!(u<l.length)){t.next=30;break}return f=l[u],t.next=27,hm.forceCheckTradesInfo(f);case 27:u++,t.next=23;break;case 30:if(o||!i||null==a||!a.token){t.next=46;break}h=0,p=["tradeoffers","tradeoffers/?history=1","tradeoffers/sent","tradeoffers/sent/?history=1"];case 33:if(!(h<p.length)){t.next=46;break}return d=p[h],v=mg.getStorageUpdatePricesKey(d),t.next=38,y.w.getLocal([v]);case 38:return t.t0=v,m=t.sent[t.t0],g=!m||Date.now()-m>36e5,t.next=43,hm.forceUpdatePrices({endPoint:d,isAllUpdate:g});case 43:h++,t.next=33;break;case 46:case"end":return t.stop()}}),t)}))),function(t){return Rm.apply(this,arguments)})},getLastTrades:{code:Is.A.msg.BACKGROUND_GET_LAST_TRADES,handler:(Dm=Em(vm().mark((function t(e,r){var n,o,i;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.activeOnly,o=void 0!==n&&n,t.prev=1,t.next=4,hm.getLastTrades(o);case 4:i=t.sent,r(ym(ym({},i),{},{success:!0})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0,r({success:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])}))),function(t,e){return Dm.apply(this,arguments)})},tradeAccept:{code:Is.A.msg.BACKGROUND_TRADE_ACCEPT,handler:(Cm=Em(vm().mark((function t(e,r){var n,o,i,a;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.steamId,o=e.tradeOfferId,i=e.sessionId,t.prev=1,t.next=4,mg.acceptTradeOffer(n,o,i);case 4:if(!(a=t.sent).status||"error"!==a.status){t.next=8;break}return r(a),t.abrupt("return");case 8:if(!a.needs_mobile_confirmation&&!a.needs_email_confirmation){t.next=12;break}r({success:!0,status:"await"}),t.next=14;break;case 12:return t.next=14,xm({tradeOfferId:o,tradeState:"accepted"},r);case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),t.t0,r({success:!1,status:"error"});case 20:case"end":return t.stop()}}),t,null,[[1,16]])}))),function(t,e){return Cm.apply(this,arguments)})},tradeDecline:{code:Is.A.msg.BACKGROUND_TRADE_DECLINE,handler:(Pm=Em(vm().mark((function t(e,r){var n,o;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.tradeOfferId,t.prev=1,t.next=4,mg.declineTradeOffer(n);case 4:if(!(o=t.sent).status||"error"!==o.status){t.next=8;break}return r(o),t.abrupt("return");case 8:return t.next=10,xm({tradeOfferId:n,tradeState:"declined"},r);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),t.t0,r({success:!1,status:"error"});case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),function(t,e){return Pm.apply(this,arguments)})},tradeCancel:{code:Is.A.msg.BACKGROUND_TRADE_CANCEL,handler:(Nm=Em(vm().mark((function t(e,r){var n,o;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.tradeOfferId,t.prev=1,t.next=4,mg.cancelTradeOffer(n);case 4:if(!(o=t.sent).status||"error"!==o.status){t.next=8;break}return r(o),t.abrupt("return");case 8:return t.next=10,xm({tradeOfferId:n,tradeState:"canceled",endPoint:"tradeoffers/sent"},r);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),t.t0,r({success:!1,status:"error"});case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),function(t,e){return Nm.apply(this,arguments)})},updateTradeStatus:{code:Is.A.msg.BACKGROUND_UPDATE_TRADE_STATUS,handler:(Im=Em(vm().mark((function t(e,r){var n,o;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.tradeOfferId,o=e.tradeState,t.prev=1,t.next=4,xm({tradeOfferId:n,tradeState:o},r);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),t.t0,r(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,6]])}))),function(t,e){return Im.apply(this,arguments)})},getTradesSummary:{code:"BACKGROUND_GET_TRADES_SUMMARY",handler:(Om=Em(vm().mark((function t(e,r){var n;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,hm.getTradesSummary(e);case 3:n=t.sent,r(ym({success:!0},n)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,e:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t,e){return Om.apply(this,arguments)})},getManyTradesSummary:{code:"BACKGROUND_GET_MANY_TRADES_SUMMARY",handler:(km=Em(vm().mark((function t(e,r){var n;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,hm.getManyTradesSummary(e);case 3:n=t.sent,r(ym({success:!0},n)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,e:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t,e){return km.apply(this,arguments)})},getTradesPage:{code:"BACKGROUND_GET_TRADES_PAGE",handler:(Lm=Em(vm().mark((function t(e,r){var n;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,hm.getTradesPage(e);case 3:n=t.sent,r(ym({success:!0},n)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,e:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t,e){return Lm.apply(this,arguments)})}},alarm:{parseTradesFromPage:{code:Is.A.alarm.CHECK_TRADEOFFER_THROUGH_PARSING,handler:(Tm=Em(vm().mark((function t(){var e,r,n;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("userInfo");case 2:return e=t.sent,r=e.userInfo,t.next=6,mg.isAvailableWebApi();case 6:if(n=t.sent,!r||!r.authorization||n){t.next=10;break}return t.next=10,hm.checkTradesBackgroundAlarm();case 10:case"end":return t.stop()}}),t)}))),function(){return Tm.apply(this,arguments)})},parseTradesFromApi:{code:Is.A.alarm.CHECK_TRADEOFFER_THROUGH_API,handler:(Am=Em(vm().mark((function t(){var e,r,n,o,i,a,s,c,u;return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("userInfo");case 2:return e=t.sent,r=e.userInfo,t.next=6,mg.isAvailableWebApi();case 6:if(n=t.sent,!(r&&r.authorization&&n)){t.next=26;break}o=0,i=["tradeoffers","tradeoffers/sent"];case 10:if(!(o<i.length)){t.next=17;break}return a=i[o],t.next=14,hm.parseTrades(a,!0);case 14:o++,t.next=10;break;case 17:s=0,c=["tradeoffers","tradeoffers/?history=1","tradeoffers/sent","tradeoffers/sent/?history=1"];case 19:if(!(s<c.length)){t.next=26;break}return u=c[s],t.next=23,hm.buildTradesInfoForWindow(u);case 23:s++,t.next=19;break;case 26:case"end":return t.stop()}}),t)}))),function(){return Am.apply(this,arguments)})},clearRequestLimit:{code:Is.A.alarm.CLEAR_TRADEOFFER_REQUEST_LIMIT,handler:(_m=Em(vm().mark((function t(){return vm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.setLocal({TRADE_REQUEST_LIMIT_COUNT:0});case 2:case"end":return t.stop()}}),t)}))),function(){return _m.apply(this,arguments)})}}};var _m,Am,Tm,Lm,km,Om,Im,Nm,Pm,Cm,Dm,Rm;function jm(t){return jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(t)}function Fm(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Fm=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==jm(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(jm(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Bm(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Gm(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Bm(i,n,o,a,s,"next",t)}function s(t){Bm(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Mm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qm(n.key),n)}}function Um(t,e,r){return e&&Mm(t.prototype,e),r&&Mm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hm(t,e,r){return(e=qm(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qm(t){var e=function(t,e){if("object"!=jm(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jm(e)?e:e+""}var Vm=Um((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));Hm(Vm,"updateSendHeaders",function(){var t=Gm(Fm().mark((function t(e){var r;return Fm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rc.generateDynamicRuleId(e);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:"https://steamcommunity.com/tradeoffer/new"},{header:"Origin",operation:"set",value:"https://steamcommunity.com"}]},t.t2={regexFilter:e},r={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,rc.setRule(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Hm(Vm,"updateAcceptHeaders",function(){var t=Gm(Fm().mark((function t(e,r){var n;return Fm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rc.generateDynamicRuleId(r);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:e},{header:"Origin",operation:"set",value:"https://steamcommunity.com"}]},t.t2={regexFilter:r},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,rc.setRule(n);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());const Km=Vm;var Ym,Wm=function(){var t=Gm(Fm().mark((function t(e){var r,n,o,i,a,s,c,u;return Fm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.statusCode,n=e.url,e.initiator,n.includes("tradeoffers")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,y.w.get({tradeoffers_rate_limit:!1});case 5:return o=t.sent,i=o.tradeoffers_rate_limit,t.next=9,y.w.get(Ns.Ay);case 9:if(a=t.sent,s=a.userUrl,c=a.originalProfileUrl,["tradeoffers","tradeoffers/sent","tradeoffers/?history=1"].map((function(t){return"".concat(c?"".concat(c).concat(t):"https:".concat(s).concat(t))})),(u=429===r||200!==r&&i)===i){t.next=18;break}return t.next=18,y.w.set({tradeoffers_rate_limit:u});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function zm(t){return function(t){if(Array.isArray(t))return Zm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Qm(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Xm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$m(Object(r),!0).forEach((function(e){ag(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Jm(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Qm(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Qm(t,e){if(t){if("string"==typeof t)return Zm(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zm(t,e):void 0}}function Zm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tg(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */tg=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ng(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ng(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function eg(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function rg(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){eg(i,n,o,a,s,"next",t)}function s(t){eg(i,n,o,a,s,"throw",t)}a(void 0)}))}}function ng(t){return ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(t)}function og(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sg(n.key),n)}}function ig(t,e,r){return e&&og(t.prototype,e),r&&og(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ag(t,e,r){return(e=sg(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sg(t){var e=function(t,e){if("object"!=ng(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ng(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ng(e)?e:e+""}chrome.webRequest.onCompleted.addListener(Wm,{urls:["https://steamcommunity.com/profiles/*","https://steamcommunity.com/id/*"]});var cg=Os(""),ug=["steamLiveSell","buff163","dmarket","lisskins","bitskins","skinport","mannco","steamlvlup"],lg={ACTIVE:2,ACCEPTED:3,COUNTERED:4,EXPIRED:5,CANCELED:6,DECLINED:7,INVALID_ITEMS:8,CREATED_NEEDS_CONFIRMATION:9},fg={},hg=new Map,pg=new Map,dg=new Map,yg=new Map,vg=ig((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));Ym=vg,ag(vg,"isAvailableWebApi",rg(tg().mark((function t(){var e,r,n,o,i,a;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get({webApiToken:""});case 3:return e=t.sent,r=e.webApiToken,n=void 0===r?"":r,t.next=8,y.w.get({is_available_trade_web_api:!1});case 8:return o=t.sent,i=o.is_available_trade_web_api,a=void 0!==i&&i,t.abrupt("return",!!n&&a);case 14:return t.prev=14,t.t0=t.catch(0),t.t0,t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))),ag(vg,"getTradesFromSteamPage",rg(tg().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w=arguments;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=w.length>0&&void 0!==w[0]?w[0]:"tradeoffers",r=w.length>1&&void 0!==w[1]&&w[1],t.prev=2,t.next=5,y.w.getLocal("userInfo");case 5:return n=t.sent,o=n.userInfo,t.next=9,Ym.getCacheTradesPage(e);case 9:return i=t.sent,t.next=12,Jc.getProfile();case 12:if(a=t.sent.data,s=Fs.Ay.getSessionID(a),c=[],i&&i.data&&i.data.length){t.next=17;break}return t.abrupt("return",{});case 17:return u=i.data.filter((function(t){var r=Object.values(t)[0].trade_offer_state;return e.includes("history")?e.includes("sent")?r!==Is.A.tradeOfferState.Active&&r===Is.A.tradeOfferState.CreatedNeedsConfirmation:r!==Is.A.tradeOfferState.Active:e.includes("sent")?r===Is.A.tradeOfferState.Active||r===Is.A.tradeOfferState.CreatedNeedsConfirmation:r===Is.A.tradeOfferState.Active})),e.includes("history")&&u.length>10&&(u.length=10),l=Ym.getStorageKey(e),t.next=22,y.w.getLocal(l);case 22:if(t.t0=l,f=t.sent[t.t0],h=u.filter((function(t){var e=cg(Object.values(t)[0].html).attr("id").substring(13);return!(f&&f.find((function(t){return t.tradeOfferId===e}))||null)})),p=h.map((function(t){var e=cg(Object.values(t)[0].html);return e?e.find(".trade_item"):null})).flat().filter((function(t){return t})),d=Ym.getClassIdArray({tradesItemsHtmlArr:p}),!(Ym.getArraySizeInKB(d)>250)){t.next=34;break}return t.next=31,Ym.getChunkedIdPrices(d);case 31:t.t1=t.sent,t.next=37;break;case 34:return t.next=36,Ym.getClassIdPrices(d);case 36:t.t1=t.sent;case 37:v=t.t1,m=Jm(u),t.prev=39,b=tg().mark((function t(){var n,i,a,u,l,f,h,p,d,y,m,b,w,E,x,S,_,A,T;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=g.value,i=cg(Object.values(n)[0].html),a=Object.values(n)[0].trade_offer_state,u=i.attr("id").substring(13),l=i.find(".tradeoffer_partner .playerAvatar").data("miniprofile"),f=i.find(".tradeoffer_items.primary .playerAvatar img").attr("src"),h=0===i.find(".tradeoffer_items.secondary .trade_item").length,p=i.find(".tradeoffer_message .quote").text().trim(),d=i.find(".tradeoffer_footer"),cg(d).each((function(t,e){y=cg(e).contents().filter((function(){return 3===this.nodeType}))})),y=y[1]&&y[1].nodeValue?y[1].nodeValue:"",m=i.find(".tradeoffer_items_banner").text().trim(),b=i.find(".btn_report"),w=b&&b.length?b.attr("onclick").match(/'(\d*)',\s"(.+)"/):void 0,E=w?w[1]:void 0,x=i.find(".btn_report").attr("onclick").match(/'(\d*)',\s"(.+)"/),S=x[1],_=x[2],A=_.match(/\\u[\w\d]{4}/g),r){t.next=28;break}return t.t1=Xm,t.t2={sessionId:s,tradeOfferId:u,partnerName:A?Ym.getHexFromUnicode(_,A):_,partnerIdProfile:S,partnerMiniProfileId:l,partnerAvatarUrl:f,message:p,autoAccept:h,dateOfferExpires:y.trim(),tradeOfferState:a,tradeStatus:"tradeoffers"!==e?3===a:null,tradeBannerText:"tradeoffers"!==e?m:null},t.next=24,Ym.getTradeFullItemsInfo({endPoint:e,tradeOfferId:u,$tradeBlock:i,classIdPrices:v});case 24:t.t3=t.sent,t.t0=(0,t.t1)(t.t2,t.t3),t.next=29;break;case 28:t.t0={tradeOfferId:u,senderId:e.includes("sent")?o.steamId:E,recipientId:e.includes("sent")?S:o.steamId,message:p,dateOfferExpires:Ym.getDateStringToTimestamp(y.trim())||void 0,trade_offer_state:Ym.getTradeStatus(i)};case 29:T=t.t0,c.push(T);case 31:case"end":return t.stop()}}),t)})),m.s();case 42:if((g=m.n()).done){t.next=46;break}return t.delegateYield(b(),"t2",44);case 44:t.next=42;break;case 46:t.next=51;break;case 48:t.prev=48,t.t3=t.catch(39),m.e(t.t3);case 51:return t.prev=51,m.f(),t.finish(51);case 54:return t.abrupt("return",{tradeOffersInfo:c,incomingTradesLength:"tradeoffers"===e?u.length:0});case 57:return t.prev=57,t.t4=t.catch(2),t.t4,t.abrupt("return",{});case 61:case"end":return t.stop()}}),t,null,[[2,57],[39,48,51,54]])})))),ag(vg,"getTradesFromWebApiToken",rg(tg().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,x,S,_,A,T,L,k,O,I,N,P,C,D,R,j,F,B=arguments;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=B.length>0&&void 0!==B[0]?B[0]:"tradeoffers",t.prev=1,t.next=4,Ym.getCacheTradesApi(e);case 4:if(n=t.sent,o=n.data){t.next=8;break}return t.abrupt("return",{});case 8:if(i=e.includes("sent")?null!=o&&o.trade_offers_sent?o.trade_offers_sent:null:null!=o&&o.trade_offers_received?o.trade_offers_received:null,a=[],i&&i.length){t.next=12;break}return t.abrupt("return",{});case 12:return s=i.filter((function(t){return e.includes("history")?e.includes("sent")?t.trade_offer_state!==Is.A.tradeOfferState.Active&&t.trade_offer_state!==Is.A.tradeOfferState.CreatedNeedsConfirmation:t.trade_offer_state!==Is.A.tradeOfferState.Active:e.includes("sent")?t.trade_offer_state===Is.A.tradeOfferState.Active||t.trade_offer_state===Is.A.tradeOfferState.CreatedNeedsConfirmation:t.trade_offer_state===Is.A.tradeOfferState.Active})),t.next=15,Jc.getProfile();case 15:return c=t.sent.data,u=Fs.Ay.getSessionID(c),e.includes("history")&&s.length>10&&(s.length=10),l=Ym.getStorageKey(e),t.next=21,y.w.getLocal(l);case 21:if(t.t0=l,f=t.sent[t.t0],h=s.filter((function(t){var e=t.tradeofferid;return!(f&&f.find((function(t){return t.tradeOfferId===e}))||null)})),p=Ym.getClassIdArray({tradeObjArr:h}),!(Ym.getArraySizeInKB(p)>250)){t.next=32;break}return t.next=29,Ym.getChunkedIdPrices(p);case 29:t.t1=t.sent,t.next=35;break;case 32:return t.next=34,Ym.getClassIdPrices(p);case 34:t.t1=t.sent;case 35:return d=t.t1,t.next=38,Ym.getCacheTradesApi(e);case 38:if(v=t.sent,m=v.data,g=new Map,null!=m&&null!==(r=m.descriptions)&&void 0!==r&&r.length){b=Jm(m.descriptions);try{for(b.s();!(w=b.n()).done;)null!=(E=w.value)&&E.appid&&null!=E&&E.classid&&g.set("".concat(E.appid,"-").concat(E.classid),E)}catch(t){b.e(t)}finally{b.f()}}x=Jm(s),t.prev=43,x.s();case 45:if((S=x.n()).done){t.next=63;break}return _=S.value,A=_.accountid_other,T=_.tradeofferid,L=_.message,k=void 0===L?"":L,O=_.items_to_give,I=_.expiration_time,N=_.trade_offer_state,P=_.time_updated,C=!O||!O.length,t.next=51,Ym.getPartnerInfoByMiniProfileId(A);case 51:return D=t.sent,R=D.avatar_url,j=D.persona_name,t.t2=Xm,t.t3={timeUpdated:P,sessionId:u,tradeOfferId:T,partnerName:j,partnerIdProfile:Gs().to64(A),partnerMiniProfileId:A,partnerAvatarUrl:R,message:k,autoAccept:C,dateOfferExpires:new Date(1e3*I).toDateString(),tradeOfferState:N,tradeStatus:"tradeoffers"!==e?3===N:null,tradeBannerText:null},t.next=58,Ym.getTradeFullItemsInfo({endPoint:e,tradeOfferId:T,tradeObj:_,classIdPrices:d,descriptionsMap:g});case 58:t.t4=t.sent,F=(0,t.t2)(t.t3,t.t4),a.push(F);case 61:t.next=45;break;case 63:t.next=68;break;case 65:t.prev=65,t.t5=t.catch(43),x.e(t.t5);case 68:return t.prev=68,x.f(),t.finish(68);case 71:return t.abrupt("return",{tradeOffersInfo:a,incomingTradesLength:"tradeoffers"===e?s.length:0});case 74:return t.prev=74,t.t6=t.catch(1),t.t6,t.abrupt("return",{});case 78:case"end":return t.stop()}}),t,null,[[1,74],[43,65,68,71]])})))),ag(vg,"setNewTradesPageInfo",function(){var t=rg(tg().mark((function t(e,r){var n,o,i,a,s,c;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({CACHED_TRADES_PAGE_INFO:{}});case 3:return n=t.sent,o=n.CACHED_TRADES_PAGE_INFO,t.next=7,y.w.getLocal({userInfo:{steamId:null}});case 7:if(i=t.sent,a=i.userInfo.steamId,s=cg(e).find(".profile_leftcol"),c=s.find(".tradeoffer").not(".tradeoffer_rule"),a){t.next=13;break}return t.abrupt("return");case 13:return o[a]=Xm(ag({},r,{data:[],ts:Date.now()}),o[a]),cg(c).each((function(t,e){var n=cg(e),i=n.attr("id"),s=ag({},i,{html:n.prop("outerHTML"),trade_offer_state:Ym.getTradeStatus(n),ts:Date.now()}),c=o[a][r].data,u=c.findIndex((function(t){return Object.keys(t)[0]===i}));c.length&&-1!==u||c.push(s)})),t.next=17,y.w.setLocal({CACHED_TRADES_PAGE_INFO:o});case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),t.t0;case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,r){return t.apply(this,arguments)}}()),ag(vg,"getCacheTradesPage",function(){var t=rg(tg().mark((function t(e){var r,n,o,i;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({CACHED_TRADES_PAGE_INFO:{}});case 3:return r=t.sent,n=r.CACHED_TRADES_PAGE_INFO,t.next=7,y.w.getLocal({userInfo:{steamId:null}});case 7:if(o=t.sent,i=o.userInfo.steamId){t.next=11;break}throw Error("Not found steamId");case 11:if(n&&n[i]&&n[i][e]){t.next=13;break}return t.abrupt("return",null);case 13:return t.abrupt("return",n[i][e]);case 16:return t.prev=16,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"getCacheTradesApi",function(){var t=rg(tg().mark((function t(e){var r,n,o,i;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({CACHED_TRADES_API_INFO:{}});case 3:return r=t.sent,n=r.CACHED_TRADES_API_INFO,t.next=7,y.w.getLocal({userInfo:{steamId:null}});case 7:if(o=t.sent,i=o.userInfo.steamId){t.next=11;break}throw Error("Not found steamId");case 11:if(n&&n[i]&&n[i][e]){t.next=13;break}return t.abrupt("return",{});case 13:return t.abrupt("return",n[i][e]);case 16:return t.prev=16,t.t0=t.catch(0),t.t0,t.abrupt("return",{});case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"updateCacheTradesPage",function(){var t=rg(tg().mark((function t(e,r){var n,o,i,a;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({CACHED_TRADES_PAGE_INFO:{}});case 3:return n=t.sent,o=n.CACHED_TRADES_PAGE_INFO,t.next=7,y.w.getLocal({userInfo:{steamId:null}});case 7:if(i=t.sent,a=i.userInfo.steamId){t.next=11;break}throw Error("Not found steamId");case 11:return o[a][r].data=zm(e),t.next=14,y.w.setLocal({CACHED_TRADES_PAGE_INFO:o});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,r){return t.apply(this,arguments)}}()),ag(vg,"updateTradesApiCache",function(){var t=rg(tg().mark((function t(e,r){var n,o,i,a;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({CACHED_TRADES_API_INFO:{}});case 3:return n=t.sent,o=n.CACHED_TRADES_API_INFO,t.next=7,y.w.getLocal({userInfo:{steamId:null}});case 7:if(i=t.sent,a=i.userInfo.steamId){t.next=11;break}throw Error("Not found steamId");case 11:return o&&o[a]&&o[a][r]?(o[a][r].data=e,o[a][r].ts=Date.now()):o[a]=Xm(ag({},r,{data:e,ts:Date.now()}),o[a]),t.next=14,y.w.setLocal({CACHED_TRADES_API_INFO:o});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,r){return t.apply(this,arguments)}}()),ag(vg,"updateTradeOfferStateInCache",function(){var t=rg(tg().mark((function t(e,r){var n,o,i,a,s,c=arguments;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:"tradeoffers",e){t.next=3;break}throw Error("Not found tradeId");case 3:if(r){t.next=5;break}throw Error("Not found tradeState");case 5:return t.next=7,Ym.getCacheTradesPage(n);case 7:if(o=t.sent,i="tradeofferid_".concat(e),o&&!o.error&&o.data){t.next=11;break}throw Error((null==o?void 0:o.error)||"Not found trades in cache");case 11:if(a=o.data.findIndex((function(t){return Object.keys(t)[0]===i})),"tradeoffers/?history=1"===n){t.next=27;break}if(-1===a){t.next=27;break}return o.data[a][i].trade_offer_state=lg[r.toUpperCase()],o.data[a][i].ts=Date.now(),t.next=18,Ym.updateCacheTradesPage(o.data,n);case 18:if("tradeoffers"!==n){t.next=27;break}return t.next=21,Ym.getCacheTradesPage("tradeoffers/?history=1");case 21:if(s=t.sent,o&&!s.error&&s.data){t.next=24;break}throw Error(s.error||"Not found history trades in cache");case 24:return s.data.unshift(o.data[a]),t.next=27,Ym.updateCacheTradesPage(s.data,"tradeoffers/?history=1");case 27:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),ag(vg,"getTradeStatus",(function(t){if(!t.find(".tradeoffer_items_banner").length)return lg.ACTIVE;if(t.find(".tradeoffer_items_banner").hasClass("accepted"))return lg.ACCEPTED;var e=t.find(".tradeoffer_items_banner").text().trim();return e.toLowerCase().includes("counter")?lg.COUNTERED:e.toLowerCase().includes("expired")?lg.EXPIRED:e.toLowerCase().includes("cancel")?lg.CANCELED:e.toLowerCase().includes("declined")?lg.DECLINED:e.toLowerCase().includes("unavailable")?lg.INVALID_ITEMS:e.toLowerCase().includes("confirmation")?lg.CREATED_NEEDS_CONFIRMATION:void 0})),ag(vg,"getTradeFullItemsInfo",function(){var t=rg(tg().mark((function t(e){var r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,x,S,_,A,T,L;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.endPoint,n=e.tradeOfferId,o=e.$tradeBlock,i=void 0===o?null:o,a=e.tradeObj,s=void 0===a?null:a,c=e.classIdPrices,u=void 0===c?null:c,l=e.descriptionsMap,t.next=3,y.w.get("steamCurrency");case 3:return f=t.sent,h=f.steamCurrency,t.next=7,y.w.get("currency");case 7:return p=t.sent,d=p.currency,v=d||h.eCurrencyCode||1,m=Ym.getStorageKey(r),t.next=13,y.w.getLocal(m);case 13:if(t.t0=m,g=t.sent[t.t0],!(b=g&&g.find((function(t){return t.tradeOfferId===n}))||null)){t.next=18;break}return t.abrupt("return",{primary:b.primary,secondary:b.secondary});case 18:return w=i?i.find(".tradeoffer_items.primary").find(".trade_item"):null,E=i?i.find(".tradeoffer_items.secondary").find(".trade_item"):null,t.next=22,Ym.getTradeInfo(r,u,w,null==s?void 0:s.items_to_receive,l);case 22:return x=t.sent,t.next=25,Ym.getTradeInfo(r,u,E,null==s?void 0:s.items_to_give,l);case 25:return S=t.sent,_=Ym.getSumPriceElement(x),A=Ym.getSumPriceElement(S),t.next=30,Ks.getPriceFromCurrency(_,v);case 30:return T=t.sent,t.next=33,Ks.getPriceFromCurrency(A,v);case 33:return L=t.sent,t.abrupt("return",{primary:{items:x,totalPrice:T},secondary:{items:S,totalPrice:L}});case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"getClassIdArray",(function(t){var e=t.tradesItemsHtmlArr,r=void 0===e?null:e,n=t.tradeObjArr,o=void 0===n?null:n,i=[];if(null!=r&&r.length)r.forEach((function(t){t.each(function(){var t=rg(tg().mark((function t(e,r){var n,o,a;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:5===(n=cg(r).attr("data-economy-item").split("/")).length&&n.pop(),3!==n.length&&4!==n.length||(o=n[1],a=n[2],i.push({appid:Number(o),classid:Number(a)}));case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}));else if(null!=o&&o.length){var a,s=Jm(o);try{for(s.s();!(a=s.n()).done;)for(var c=a.value,u=c.items_to_give,l=void 0===u?[]:u,f=c.items_to_receive,h=void 0===f?[]:f,p=0,d=[].concat(zm(l),zm(h));p<d.length;p++){var y=d[p];null!=y&&y.appid&&null!=y&&y.classid&&i.push({appid:+y.appid,classid:+y.classid})}}catch(t){s.e(t)}finally{s.f()}}return i})),ag(vg,"getClassIdPrices",function(){var t=rg(tg().mark((function t(e){var r,n,o,i;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.length){t.next=3;break}return t.abrupt("return",{success:!0,items:[]});case 3:return t.next=5,Au.getSihAppUserJWTToken();case 5:if(r=t.sent,n=chrome.runtime.getManifest(),o=n.version,null!=r&&r.token){t.next=9;break}return t.abrupt("return",{success:!1});case 9:return t.next=11,Fs.Ay.apiRequest({headers:{"x-sih-token":r.token,"x-sih-version":o},method:"POST",url:"https://api.steaminventoryhelper.com/v1/classIdPrices",data:{items:e,markets:[].concat(ug)}});case 11:return i=t.sent,t.abrupt("return",i);case 15:return t.prev=15,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1});case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"getChunkedIdPrices",function(){var t=rg(tg().mark((function t(e){var r,n,o,i,a,s,c,u;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],n={success:!0,items:{}},o=0;o<e.length;o+=7e3)r.push(e.slice(o,o+7e3));return t.next=6,Promise.allSettled(r.map((function(t){return Ym.getClassIdPrices(t)})));case 6:i=t.sent,a=Jm(i);try{for(a.s();!(s=a.n()).done;)"fulfilled"===(u=s.value).status&&null!==(c=u.value)&&void 0!==c&&c.items&&!Array.isArray(u.value.items)&&Object.assign(n.items,u.value.items)}catch(t){a.e(t)}finally{a.f()}return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"findTradeItemsNullPrices",(function(t){var e,r,n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null==t?void 0:t.some((function(t){return null===t.price}))};return n(null==t||null===(e=t.primary)||void 0===e?void 0:e.items)||n(null==t||null===(r=t.secondary)||void 0===r?void 0:r.items)})),ag(vg,"getItemImageFromApiCacheDescription",(function(t,e){var r=e.appId,n=e.classId,o=(e.instanceId,e.descriptionsMap);if(!o)return null;var i="".concat(r,"-").concat(n),a=o.get(i)||null;return a&&a.icon_url?"https://community.akamai.steamstatic.com/economy/image/".concat(a.icon_url):"https://steamcommunity-a.akamaihd.net/economy/image/class/".concat(r,"/").concat(n)})),ag(vg,"getItemImageFromItemClassHover",function(){var t=rg(tg().mark((function t(e){var r,n,o,i,a,s;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=function(){return s=rg(tg().mark((function t(e){var r,n,o,i;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dg.get(e);case 2:r=t.sent,n=/BuildHover\( '(.*)', (.*)\);/i.exec(r),o=n&&null!=n&&n[2]?JSON.parse(n[2]):null,i=o?"https://community.akamai.steamstatic.com/economy/image/".concat(null==o?void 0:o.icon_url):null,pg.set(e,i),dg.delete(e);case 8:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)},a=function(t){return s.apply(this,arguments)},r=e.appId,n=e.classId,o=e.instanceId,t.prev=3,i="".concat(r,"_").concat(n,"_").concat(o),pg.has(i)||dg.has(i)){t.next=9;break}return dg.set(i,Fs.Ay.apiRequest({method:"GET",url:"https://steamcommunity.com/economy/itemclasshover/".concat(r,"/").concat(n,"/").concat(o),data:{content_only:1,l:"english"}})),t.next=9,a(i);case 9:if(!pg.has(i)){t.next=13;break}return t.abrupt("return",pg.get(i));case 13:if(!dg.has(i)){t.next=17;break}return t.next=16,a(i);case 16:return t.abrupt("return",pg.get(i)||null);case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(3),t.t0,t.abrupt("return",null);case 23:case"end":return t.stop()}}),t,null,[[3,19]])})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"getSingleTradePage",function(){var t=rg(tg().mark((function t(e){var r;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(fg[e]&&!(Date.now()-fg[e].ts>6e4)){t.next=7;break}return t.next=3,Fs.Ay.sendRequest({url:"https://steamcommunity.com/tradeoffer/".concat(e,"/"),method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 3:r=t.sent,fg[e]={data:r,ts:Date.now()},t.next=8;break;case 7:r=fg[e].data;case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"getTradeAssetIds",function(){var t=rg(tg().mark((function t(e){var r,n,o;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ym.getSingleTradePage(e);case 2:return r=t.sent,n=Ps.A.Profile.parse(r,["activeTradeInfo"]),o=n.activeTradeInfo,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"getFloatDataList",function(){var t=rg(tg().mark((function t(e){var r,n,o,i,a,s,c,u;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ym.getSingleTradePage(e);case 3:r=t.sent,n=Ps.A.Profile.parse(r,["currentTradeAssetIds"]),o=n.currentTradeAssetIds,i=[],a=Jm(o),t.prev=7,a.s();case 9:if((s=a.n()).done){t.next=17;break}return c=s.value,t.next=13,Ym.getWearFloatValueByAssetid(c[1]);case 13:(u=t.sent).success&&i.push(u.iteminfo);case 15:t.next=9;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(7),a.e(t.t0);case 22:return t.prev=22,a.f(),t.finish(22);case 25:return t.abrupt("return",i);case 28:t.prev=28,t.t1=t.catch(0),t.t1;case 31:case"end":return t.stop()}}),t,null,[[0,28],[7,19,22,25]])})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"getWearFloatValueByAssetid",function(){var t=rg(tg().mark((function t(e){var r,n,o,i;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=chrome.runtime.getManifest(),n=r.version,t.next=4,Au.getSihAppUserJWTToken();case 4:return o=t.sent,t.next=7,Fs.Ay.apiRequest({headers:{"x-sih-token":Object.keys(o).length?o.token:"","x-sih-version":n},method:"GET",url:"".concat(Fs.Gp,"/get_by_asset_id"),data:{assetId:e}});case 7:return i=t.sent,t.abrupt("return",i);case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{success:!1});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"setFloatToArray",(function(t,e){return cg(t).each((function(r,n){cg(e).each((function(e,o){n.name===o.full_item_name&&(t[r].floatData=o)}))})),t})),ag(vg,"getTradeInfo",function(){var t=rg(tg().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h,p,d,y=arguments;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=function(t){var e,n,o,i,s,c,u=t.classId,l=t.image;null!=r&&r.success?null!==(e=r.items)&&void 0!==e&&null!==(n=e[u])&&void 0!==n&&n.name&&null!==(o=Object.keys(null===(i=r.items[u])||void 0===i?void 0:i.markets))&&void 0!==o&&o.length?a.push(Xm({name:r.items[u].name,image:l,classid:u},Ym.getMarketDataPrice(r,u))):a.push({name:null===(s=r.items)||void 0===s||null===(c=s[u])||void 0===c?void 0:c.name,image:l,classid:u,price:0}):a.push({image:l,classid:u,price:null})},o=y.length>3&&void 0!==y[3]?y[3]:null,i=y.length>4&&void 0!==y[4]?y[4]:null,a=[],!(n=y.length>2&&void 0!==y[2]?y[2]:null)){t.next=9;break}n.each(function(){var t=rg(tg().mark((function t(e,r){var n,o,i;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=cg(r).children("img").attr("src"),5===(o=cg(r).attr("data-economy-item").split("/")).length&&o.pop(),3!==o.length&&4!==o.length||(i=o[2],d({classId:i,image:n}));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),t.next=30;break;case 9:if(!o){t.next=30;break}s=Jm(o),t.prev=11,s.s();case 13:if((c=s.n()).done){t.next=22;break}return u=c.value,l=u.appid,f=u.classid,h=u.instanceid,t.next=18,Ym.getItemImageFromApiCacheDescription(e,{appId:l,classId:f,instanceId:h,descriptionsMap:i});case 18:p=t.sent,d({classId:f,image:p});case 20:t.next=13;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(11),s.e(t.t0);case 27:return t.prev=27,s.f(),t.finish(27);case 30:return t.abrupt("return",a);case 31:case"end":return t.stop()}}),t,null,[[11,24,27,30]])})));return function(e,r){return t.apply(this,arguments)}}()),ag(vg,"getMarketDataPrice",(function(t,e){for(var r={price:null},n=0,o=ug;n<o.length;n++){var i,a,s,c,u=o[n];if(null!=t&&null!==(i=t.items)&&void 0!==i&&null!==(a=i[e])&&void 0!==a&&null!==(s=a.markets)&&void 0!==s&&null!==(c=s[u])&&void 0!==c&&c.price){Object.assign(r,{price:t.items[e].markets[u].price,market:u});break}}return r})),ag(vg,"getSumPriceElement",(function(t){return t.length?t.reduce((function(t,e){return t+e.price}),0):0})),ag(vg,"acceptTradeOffer",function(){var t=rg(tg().mark((function t(e,r){var n,o,i,a,s,c,u=arguments;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u.length>2&&void 0!==u[2]?u[2]:null,o="https:\\/\\/steamcommunity.com\\/tradeoffer\\/(\\d+)\\/accept",t.prev=2,n){t.next=8;break}return t.next=6,Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com"});case 6:i=t.sent,n=Fs.Ay.getSessionID(i);case 8:return a={sessionid:n,serverid:1,tradeofferid:r,partner:e,captcha:""},s="https://steamcommunity.com/tradeoffer/".concat(r),t.next=12,Km.updateAcceptHeaders(s,o);case 12:return t.next=14,Fs.Ay.apiRequest({url:"".concat(s,"/accept"),data:a,method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},crossDomain:!0,xhrFields:{withCredentials:!0}});case 14:return c=t.sent,t.next=17,rc.removeRule(o);case 17:return t.abrupt("return",c);case 20:return t.prev=20,t.t0=t.catch(2),console.error(t.t0),t.next=25,rc.removeRule(o);case 25:return t.abrupt("return",{success:!1,status:"error"});case 26:case"end":return t.stop()}}),t,null,[[2,20]])})));return function(e,r){return t.apply(this,arguments)}}()),ag(vg,"declineTradeOffer",function(){var t=rg(tg().mark((function t(e){var r,n;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({userInfo:{}});case 3:return r=t.sent,n=r.userInfo,t.next=7,Fs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",url:"https://steamcommunity.com/tradeoffer/".concat(e,"/decline"),data:{sessionid:n.sessionId},crossDomain:!0,xhrFields:{withCredentials:!0}});case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,status:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"cancelTradeOffer",function(){var t=rg(tg().mark((function t(e){var r,n;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({userInfo:{}});case 3:return r=t.sent,n=r.userInfo,t.next=7,Fs.Ay.apiRequest({method:"POST",url:"https://steamcommunity.com/tradeoffer/".concat(e,"/cancel"),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{sessionid:n.sessionId}});case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,status:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"autoAcceptSihAppOrders",function(){var t=rg(tg().mark((function t(e){var r,n,o;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppOrdersHistory");case 3:r=t.sent,(n=r.sihAppOrdersHistory)&&n.success&&!n.tfaNeed&&n.orders.data.length&&(o=n.orders.data.filter((function(t){return"sent"===t.status})))&&o.length&&Promise.all(e.filter((function(t){return t.autoAccept})).map((function(t,e){var r=t.partnerIdProfile,n=t.tradeOfferId,i=t.sessionId;return new Promise((function(t){var a=o.find((function(t){return+t.sender.offerId==+n}));!hm.acceptIds.has(n)&&a?(hm.acceptIds=n,setTimeout(rg(tg().mark((function e(){return tg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sm.msg.tradeAccept.handler({steamId:r,tradeOfferId:n,sessionId:i},(function(e){t(n)}));case 2:case"end":return e.stop()}}),e)}))),3e3*(e+1))):t()}))}))).then((function(t){t.forEach((function(t){hm.removeAcceptIds(t)}))})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"checkLastParsingTrades",function(){var t=rg(tg().mark((function t(e,r){var n,o,i=arguments;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>2&&void 0!==i[2]&&i[2],e.length?o=r.trades.length&&r.trades.length===e.length?e.map((function(t){if(-1===r.trades.findIndex((function(e){return t.body_data===e.body_data})))return t})).filter((function(t){return t})):zm(e):r.trades.length&&(o=[null]),!(o&&o.length&&Date.now()-(n?Jc.TRADES_NOTIFICATION.ts["tradeoffers/?history=1"]:Jc.TRADES_NOTIFICATION.ts.tradeoffers)>3e5)){t.next=19;break}if(Jc.TRADES_NOTIFICATION.trades=zm(e)||[],!n){t.next=11;break}return t.next=7,hm.parseTrades("tradeoffers/?history=1",!0);case 7:return t.next=9,hm.buildTradesInfoForWindow("tradeoffers/?history=1");case 9:t.next=19;break;case 11:return t.next=13,hm.parseTrades("tradeoffers",!0);case 13:return t.next=15,hm.parseTrades("tradeoffers/sent",!0);case 15:return t.next=17,hm.buildTradesInfoForWindow("tradeoffers");case 17:return t.next=19,hm.buildTradesInfoForWindow("tradeoffers/sent");case 19:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),ag(vg,"getPartnerInfoByMiniProfileId",function(){var t=rg(tg().mark((function t(e){var r;return tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return",{});case 3:if(yg.has(e)||hg.has(e)){t.next=10;break}return hg.set(e,Fs.Ay.apiRequest({method:"GET",url:"https://steamcommunity.com/miniprofile/".concat(e,"/json")})),t.next=7,hg.get(e);case 7:r=t.sent,yg.set(e,r),hg.delete(e);case 10:return t.abrupt("return",yg.get(e));case 13:return t.prev=13,t.t0=t.catch(0),t.t0,t.abrupt("return",{});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()),ag(vg,"getHexFromUnicode",(function(t,e){for(var r=0;r<e.length;r++)if(t.includes(e[r])){var n=e[r].replace(/\\u/,"").trim(),o=String.fromCharCode(parseInt(n,16));t=t.replace(e[r],o)}return t})),ag(vg,"getDateStringToTimestamp",(function(t){if(t){var e=t.split(" "),r=parseInt(e[3]),n=e[4],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(n),i=(new Date).getFullYear();return new Date(i,o,r).getTime()}})),ag(vg,"getStorageKey",(function(t){return{tradeoffers:"tradesInfo","tradeoffers/?history=1":"tradesInfoHistory","tradeoffers/sent":"tradesInfoSent","tradeoffers/sent/?history=1":"tradesInfoSentHistory"}[t]})),ag(vg,"getStorageUpdatePricesKey",(function(t){return{tradeoffers:"tradesInfoUpdatePricesTs","tradeoffers/?history=1":"tradesInfoHistoryUpdatePricesTs","tradeoffers/sent":"tradesInfoSentUpdatePricesTs","tradeoffers/sent/?history=1":"tradesInfoSentHistoryUpdatePricesTs"}[t]})),ag(vg,"getArraySizeInKB",(function(t){var e=JSON.stringify(t);return+((new TextEncoder).encode(e).length/1024).toFixed(2)}));const mg=vg;function gg(t){return gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(t)}function bg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bg(Object(r),!0).forEach((function(e){Eg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Eg(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=gg(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=gg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gg(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xg(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xg=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==gg(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(gg(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Sg(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function _g(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Sg(i,n,o,a,s,"next",t)}function s(t){Sg(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Ag=function(){var t=_g(xg().mark((function t(e){var r,n,o,i,a,s;return xg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ov();case 2:r=t.sent,n=r.avatar,o=r.name,i=r.steamId,a=r.tradeLink,s=a.match(/token=(.*)/)[1],e.provider.send({event:iv,payload:{event:iv,data:{steamId:i,name:o,avatar:n,token:s}}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Tg=function(){var t=_g(xg().mark((function t(e,r){var n,o,i,a,s,c,u;return xg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get({webApiToken:""});case 3:return n=t.sent,o=n.webApiToken,i=void 0===o?"":o,t.next=8,mg.isAvailableWebApi();case 8:if(t.sent){t.next=11;break}return t.abrupt("return",{success:!1,error:"Not available web api"});case 11:return a=r||{get_received_offers:1,get_descriptions:1,get_sent_offers:1},t.next=14,Fs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/IEconService/GetTradeOffers/v1/",data:wg(wg({},a),{},{access_token:i})});case 14:case 30:return t.abrupt("return",t.sent);case 17:if(t.prev=17,t.t0=t.catch(0),t.t0,403!==t.t0.status){t.next=34;break}return t.next=23,Jc.getProfile();case 23:if(s=t.sent.data,c=Ps.A.Profile.parse(s,["webApiToken"]),!(u=c.webApiToken)){t.next=33;break}return t.next=28,y.w.set({webApiToken:u});case 28:return t.next=30,Tg(e);case 33:return t.abrupt("return",{success:!1,error:"webApiToken not found"});case 34:return t.abrupt("return",{success:!1,error:t.t0.responseJSON?t.t0.responseJSON:t.t0.message});case 35:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,r){return t.apply(this,arguments)}}(),Lg=function(t,e){return Nv().encrypt(JSON.stringify(t),e,{mode:Cv(),padding:Rv()}).toString()};function kg(t){return kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(t)}function Og(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ig(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ig(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Ig(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ng(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=kg(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=kg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kg(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pg(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Pg=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==kg(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(kg(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Cg(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Dg(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Cg(i,n,o,a,s,"next",t)}function s(t){Cg(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Rg={data:null,ts:Date.now()},jg=[],Fg=null,Bg=0,Gg=null,Mg=function(){var t=Dg(Pg().mark((function t(){var e,r,n,o,i,a;return Pg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("userInfo");case 2:if(e=t.sent,r=e.userInfo,n=730,Rg.data&&!(Date.now()-Rg.ts>6e4)){t.next=20;break}return t.next=8,Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(r.steamId,"/")});case 8:return o=t.sent,i=Ps.A.Profile.originalProfileUrl(o,["originalProfileUrl"]),t.next=12,y.w.setLocal({CURRENT_PARSING_USER_URL:i});case 12:return t.next=14,Fs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest"},method:"GET",url:"https://steamcommunity.com/inventory/".concat(r.steamId,"/").concat(n,"/").concat(753==+n?"6":"2","?l=english&count=1000"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 14:return a=t.sent,Rg.data=a,Rg.ts=Date.now(),t.abrupt("return",a);case 20:return t.abrupt("return",Rg.data);case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ug=function(t){var e=[],r=t.descriptions.filter((function(t){return"html"===t.type&&t.value.startsWith('<br><div id="sticker_info" name="sticker_info"')}))[0]||null;if(r)for(var n=r.value.includes("Patch")?r.value.substr(r.value.indexOf("Patch: ")+7).replace("</center></div>","").split(",").map((function(t){return t.trimStart()})):function(t){for(var e=[],r="",n=0,o=0;o<t.length;o++)","===t[o]&&0===n?(e.push(r.trim()),r=""):(r+=t[o],"("===t[o]?n++:")"===t[o]&&n--);return e.push(r.trim()),e}(r.value.substr(r.value.indexOf("Sticker: ")+9).replace("</center></div>","")),o=r.value.match(/<img [^>]*src="[^"]*"[^>]*>/gm),i=o?o.map((function(t){return t.replace(/.*src="([^"]*)".*/,"$1")})):[],a=0;a<i.length;a++)e.push({name:"Sticker | ".concat(n[a])||0,image:i[a]?i[a].split("/econ/")[1]:void 0});return e},Hg=function(t){var e=t.descriptions.filter((function(t){return"html"===t.type&&t.value.startsWith("Name Tag: ")}))[0]||null,r=e&&e.value.match(/Name Tag:\s*['"]+(.+)''/)?e.value.match(/Name Tag:\s*['"]+(.+)''/)[1]:void 0;return r?[r]:void 0},qg=function(t){var e=t.owner_descriptions&&t.owner_descriptions.filter((function(t){return"html"===t.type&&t.value.startsWith("Tradable After")}))[0]||void 0;return e?e.value.match(/Tradable After (.+)/)[1]:void 0},Vg=function(){var t=Dg(Pg().mark((function t(e){var r,n,o,i;return Pg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("userInfo");case 2:if(r=t.sent,n=r.userInfo,o=[],e.assets&&e.descriptions){t.next=7;break}return t.abrupt("return",o);case 7:return i=0,e.assets.forEach((function(t){e.descriptions.forEach((function(e){if(t.classid===e.classid&&t.instanceid===e.instanceid){e.tradable&&i++;var r=e.actions&&e.actions[0]&&e.actions[0].link?e.actions[0].link.replace("%assetid%",t.assetid).replace("%owner_steamid%",n.steamId):void 0,a={id:Number(t.assetid),name:e.market_hash_name,amount:Number(t.amount),tradable:1===e.tradable,image:e.icon_url,inspectLink:r,isSouvenir:e.market_hash_name.includes("Souvenir"),isStattrak:e.market_hash_name.includes("StatTrakâ„¢"),wearId:(s=e.market_hash_name,c=void 0,s.includes("(Factory New)")?c=1:s.includes("(Minimal Wear)")?c=2:s.includes("(Field-Tested)")?c=3:s.includes(" (Well-Worn)")?c=4:s.includes("(Battle-Scarred)")&&(c=5),c),rarity:e.tags.find((function(t){return"rarity"===t.category.toLowerCase()}))?e.tags.find((function(t){return"rarity"===t.category.toLowerCase()})).localized_tag_name:void 0,quality:e.tags.find((function(t){return"quality"===t.category.toLowerCase()}))?e.tags.find((function(t){return"quality"===t.category.toLowerCase()})).internal_name:void 0,tradableTS:qg(e),stickers:Ug(e),fraudWarnings:Hg(e),pos:e.tradable?i:void 0};o.push(a)}var s,c}))})),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const Kg={getInventory:{handler:function(){var t=Dg(Pg().mark((function t(e){var r,n,o;return Pg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Fg=!0,t.next=4,y.w.get(Ng({},mv,{}));case 4:return t.t0=mv,r=t.sent[t.t0],t.next=8,y.w.getLocal("userInfo");case 8:n=t.sent,o=n.userInfo,Gg=setInterval(Dg(Pg().mark((function t(){var n,i,a,s,c,u,l,f;return Pg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[].concat(jg),jg.length=0,n.length){t.next=6;break}return++Bg>5&&(clearInterval(Gg),Fg=!1,Bg=0),t.abrupt("return");case 6:Bg=0,i=Og(n),t.prev=8,i.s();case 10:if((a=i.n()).done){t.next=34;break}if(s=a.value,t.prev=12,o&&o.steamId){t.next=15;break}throw Error("Not found steamId");case 15:if(r&&r[o.steamId]){t.next=17;break}throw Error("Not found key");case 17:return c=r[o.steamId].key,t.next=20,Mg();case 20:return u=t.sent,t.next=23,Vg(u);case 23:l=t.sent,f=Lg(l,c),e.provider.send({event:dv,payload:{event:dv,data:{hash:f},messageId:s.messageId}}),t.next=32;break;case 28:t.prev=28,t.t0=t.catch(12),t.t0,e.provider.send({event:dv,payload:{event:dv,data:{error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"},messageId:s.messageId}});case 32:t.next=10;break;case 34:t.next=39;break;case 36:t.prev=36,t.t1=t.catch(8),i.e(t.t1);case 39:return t.prev=39,i.f(),t.finish(39);case 42:n.length=0;case 43:case"end":return t.stop()}}),t,null,[[8,36,39,42],[12,28]])}))),3e3),t.next=16;break;case 13:t.prev=13,t.t1=t.catch(0),t.t1;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(t){return jg.push(t),Fg}}};function Yg(t){return Yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(t)}function Wg(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wg=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Yg(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Yg(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function zg(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const $g=function(){var t,e=(t=Wg().mark((function t(e,r){return Wg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.logger.log("Get user inventory: called"),Kg.savePayloadList.handler(e)){t.next=6;break}return t.next=6,Kg.getInventory.handler(r);case 6:r.logger.log("Get user inventory: done"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r.logger.error("Get user inventory: error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zg(i,n,o,a,s,"next",t)}function s(t){zg(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Xg(t){return Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(t)}function Jg(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Jg=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Xg(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Xg(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Qg(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Xg(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xg(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zg(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const tb=function(){var t,e=(t=Jg().mark((function t(e,r){var n,o,i,a,s,c,u;return Jg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Get trades api key: called"),n={get_received_offers:1,get_sent_offers:1,get_descriptions:1},t.next=5,Tg(r,n);case 5:if(!(o=t.sent).error){t.next=8;break}throw Error(o.error);case 8:return t.next=10,y.w.get(Qg({},mv,{}));case 10:return t.t0=mv,i=t.sent[t.t0],t.next=14,y.w.getLocal("userInfo");case 14:if(a=t.sent,(s=a.userInfo)&&s.steamId){t.next=18;break}throw Error("Not found steamId");case 18:if(i&&i[s.steamId]){t.next=20;break}throw Error("Not found key");case 20:c=i[s.steamId].key,u=Lg(o,c),r.provider.send({event:vv,payload:{event:vv,data:{hash:u},messageId:e.messageId}}),r.logger.log("Get trades api key: done"),t.next=30;break;case 26:t.prev=26,t.t1=t.catch(0),r.logger.error("Get trades api key: error",t.t1),r.provider.send({event:vv,payload:{event:vv,data:{error:t.t1.message||t.t1.responseJSON||"Error, something went wrong"},messageId:e.messageId}});case 30:case"end":return t.stop()}}),t,null,[[0,26]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Zg(i,n,o,a,s,"next",t)}function s(t){Zg(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function eb(t){return eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eb(t)}function rb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */rb=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==eb(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(eb(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function nb(t){return function(t){if(Array.isArray(t))return ab(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ib(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ob(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ib(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function ib(t,e){if(t){if("string"==typeof t)return ab(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ab(t,e):void 0}}function ab(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function sb(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=eb(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=eb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eb(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cb(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ub(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){cb(i,n,o,a,s,"next",t)}function s(t){cb(i,n,o,a,s,"throw",t)}a(void 0)}))}}var lb=[],fb=null,hb=null,pb=0;const db={getTrades:{handler:function(){var t=ub(rb().mark((function t(e){var r,n,o;return rb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,fb=!0,t.next=4,y.w.get(sb({},mv,{}));case 4:return t.t0=mv,r=t.sent[t.t0],t.next=8,y.w.getLocal("userInfo");case 8:n=t.sent,o=n.userInfo,hb=setInterval(ub(rb().mark((function t(){var n,i,a,s,c,u,l,f,h,p,d,y,v,m,g,b,w;return rb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[].concat(lb),lb.length=0,n.length){t.next=6;break}return++pb>5&&(clearInterval(hb),fb=!1,pb=0),t.abrupt("return");case 6:pb=0,i=ob(n),t.prev=8,i.s();case 10:if((a=i.n()).done){t.next=66;break}if(s=a.value,t.prev=12,o&&o.steamId){t.next=15;break}throw Error("Not found steamId");case 15:if(r&&r[o.steamId]){t.next=17;break}throw Error("Not found key");case 17:c=r[o.steamId].key,u=0,l=["tradeoffers","tradeoffers/sent"];case 20:if(!(u<l.length)){t.next=27;break}return f=l[u],t.next=24,hm.parseTrades(f,Date.now()-Jc.TRADES_NOTIFICATION.ts[f]>12e4);case 24:u++,t.next=20;break;case 27:return t.next=29,hm.buildTradesInfoForController("tradeoffers");case 29:return h=t.sent,t.next=32,hm.buildTradesInfoForController("tradeoffers/sent");case 32:p=t.sent,d=h.filter((function(t){return t.trade_offer_state&&2===t.trade_offer_state})),y=ob(d),t.prev=35,y.s();case 37:if((v=y.n()).done){t.next=45;break}return m=v.value,t.next=41,mg.getTradeAssetIds(m.tradeOfferId);case 41:g=t.sent,m.assetIds=g;case 43:t.next=37;break;case 45:t.next=50;break;case 47:t.prev=47,t.t0=t.catch(35),y.e(t.t0);case 50:return t.prev=50,y.f(),t.finish(50);case 53:return b={trade_offers_received:nb(h),trade_offers_sent:nb(p)},w=Lg(b,c),e.provider.send({event:yv,payload:{event:yv,data:{hash:w},messageId:s.messageId}}),t.next=58,(0,Fs.yy)(2e3);case 58:t.next=64;break;case 60:t.prev=60,t.t1=t.catch(12),t.t1,e.provider.send({event:yv,payload:{event:yv,data:{error:t.t1.message||t.t1.responseJSON||"Error when trying to parsing a page"},messageId:s.messageId}});case 64:t.next=10;break;case 66:t.next=71;break;case 68:t.prev=68,t.t2=t.catch(8),i.e(t.t2);case 71:return t.prev=71,i.f(),t.finish(71);case 74:n.length=0;case 75:case"end":return t.stop()}}),t,null,[[8,68,71,74],[12,60],[35,47,50,53]])}))),3e3),t.next=16;break;case 13:t.prev=13,t.t1=t.catch(0),t.t1;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return lb.push(t),fb}}};function yb(t){return yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yb(t)}function vb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vb=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==yb(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(yb(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function mb(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const gb=function(){var t,e=(t=vb().mark((function t(e,r){return vb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.logger.log("Get trades: called"),db.savePayloadList.handler(e)){t.next=6;break}return t.next=6,db.getTrades.handler(r);case 6:r.logger.log("Get trades: done"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r.logger.error("Get trades: error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){mb(i,n,o,a,s,"next",t)}function s(t){mb(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function bb(t){return bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bb(t)}function wb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wb=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==bb(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(bb(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Eb(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const xb=function(){var t,e=(t=wb().mark((function t(e,r){var n,o;return wb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Webapi token get: called"),t.next=4,Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/id/me/edit/info"});case 4:n=t.sent,o=n.match('data-loyalty_webapi_token="&quot;(.*?)&quot;"')[1],r.provider.send({event:bv,payload:{event:bv,data:{webApiToken:o},messageId:e.messageId}}),r.logger.log("Webapi token get: done"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r.logger.error("Webapi token get: error",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Eb(i,n,o,a,s,"next",t)}function s(t){Eb(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Sb(t){return Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sb(t)}function _b(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_b=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Sb(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Sb(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ab(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Tb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ab(Object(r),!0).forEach((function(e){Lb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Lb(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Sb(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Sb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sb(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kb(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Ob=function(){var t,e=(t=_b().mark((function t(e,r){return _b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r.logger.log("Balance updated: called"),r.provider.send({event:av,payload:Tb({event:av},e)}),r.logger.log("Balance updated: done")}catch(t){r.logger.error("Refresh trade list: error",t)}case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){kb(i,n,o,a,s,"next",t)}function s(t){kb(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Ib(t){return Ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ib(t)}function Nb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Nb=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Ib(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ib(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Pb(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Cb(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Pb(i,n,o,a,s,"next",t)}function s(t){Pb(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Db=["1_direct-navigation__","1_store-navigation__"],Rb=["Steam_Language","ak_bmsc","app_impressions","bm_sv","browserid","deep_dive_carousel_focused_app","deep_dive_carousel_method","recentapps","sessionid","snr","steamCountry","steamLoginSecure","timezoneOffset"],jb=function(){var t=Cb(Nb().mark((function t(e,r,n){return Nb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,o){chrome.cookies.getAll({domain:".steampowered.com"},function(){var i=Cb(Nb().mark((function i(a){var s,c;return Nb().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:try{s=Object.values(a.filter((function(t){return Rb.includes(t.name)})).reduce((function(t,e){return t[e.name]=e,t}),{})),c=s.map((function(t){switch(t.name){case"snr":return"".concat(t.name,"=").concat(e,"|").concat(encodeURIComponent(r));case"recentapps":var o=JSON.parse(decodeURIComponent(t.value));return o[n]=Math.floor((new Date).getTime()/1e3),"".concat(t.name,"=").concat(encodeURIComponent(JSON.stringify(o)));case"app_impressions":if(Db.includes(e))return"".concat(t.name,"=").concat(t.value);var i=decodeURIComponent(t.value);return i+="|".concat(n,"@").concat(e),"".concat(t.name,"=").concat(encodeURIComponent(i));default:return"".concat(t.name,"=").concat(t.value)}})).join("; "),t(c)}catch(t){o(t)}case 1:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}())})));case 1:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Fb=function(){var t=Cb(Nb().mark((function t(e,r,n){var o;return Nb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rc.generateDynamicRuleId(n);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:r},{header:"Origin",operation:"set",value:"https://store.steampowered.com"},{header:"Sec-fetch-site",operation:"set",value:"same-origin"},{header:"Cookie",operation:"set",value:e}]},t.t2={urlFilter:n},o={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,rc.setRule(o);case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();function Bb(t){return Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(t)}function Gb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Gb=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Bb(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Bb(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Mb(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ub(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Mb(i,n,o,a,s,"next",t)}function s(t){Mb(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Hb=Os(""),qb="https://store.steampowered.com/api/addtowishlist",Vb="https://store.steampowered.com",Kb="https://store.steampowered.com/api/addtowishlist*",Yb="",Wb=function(){var t=Ub(Gb().mark((function t(e,r){var n,o,i,a,s;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fs.Ay.sendRequest({method:"GET",url:"https://store.steampowered.com/app/".concat(e,"/").concat(r,"/")});case 2:return n=t.sent,o=Ps.A.Profile.parse(n,["sessionId","accountId"]),i=o.sessionId,a=o.accountId,s="none"!==Hb(n).find("#add_to_wishlist_area_success").css("display"),t.abrupt("return",{sessionId:i,accountId:a,isAddedWishList:s});case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),zb=function(){var t=Ub(Gb().mark((function t(e){var r,n;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.appId,n=e.sessionId,t.next=3,Fs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},method:"POST",url:qb,data:{sessionid:n,appid:r}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const $b=function(){var t=Ub(Gb().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h,p,d;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Add to wish list: called"),n=e.data.json.payload,o=n.appId,i=n.appName,Yb=e.data.json.payload.snr||"1_direct-navigation__",t.next=6,y.w.get({consent_tos:!0});case 6:if(a=t.sent,a.consent_tos){t.next=10;break}throw Error("User disabled option");case 10:return t.next=12,Wb(o,i);case 12:return s=t.sent,c=s.sessionId,u=s.accountId,l=s.isAddedWishList,t.next=18,y.w.getLocal({userInfo:{steamId:null}});case 18:if(f=t.sent,h=f.userInfo.steamId,u||!c){t.next=28;break}if(!h){t.next=27;break}return t.next=24,Mc.refreshSteamPowered();case 24:throw Error("Missing steampowered authorization");case 27:throw Error("Not found user steamId");case 28:if(!l){t.next=30;break}throw Error("App already listed");case 30:if(!(c&&o&&i)){t.next=45;break}return t.next=33,jb(Yb,qb,o);case 33:return p=t.sent,Vb="https://store.steampowered.com/app/".concat(o,"/").concat(i,"/"),t.next=37,Fb(p,Vb,Kb);case 37:return t.next=39,zb({appId:o,sessionId:c});case 39:return d=t.sent,t.next=42,rc.removeRule(Kb);case 42:if(d.success){t.next=44;break}throw Error("Could not add the game or it is already in the list");case 44:r.provider.send({event:av,payload:{event:av,data:{},messageId:e.messageId}});case 45:r.logger.log("Add to wish list: done"),t.next=54;break;case 48:return t.prev=48,t.t0=t.catch(0),r.logger.error("Add to wish list: error",t.t0),t.next=53,rc.removeRule(Kb);case 53:r.provider.send({event:av,payload:{event:av,data:{error:t.t0.message||t.t0.responseJSON||"Error adding to wishlist"},messageId:e.messageId}});case 54:case"end":return t.stop()}}),t,null,[[0,48]])})));return function(e,r){return t.apply(this,arguments)}}();function Xb(t){return Xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(t)}function Jb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Jb=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Xb(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Xb(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Qb(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Zb(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Qb(i,n,o,a,s,"next",t)}function s(t){Qb(i,n,o,a,s,"throw",t)}a(void 0)}))}}var tw=Os(""),ew="https://store.steampowered.com/explore/followgame/",rw="https://store.steampowered.com/",nw="https://store.steampowered.com/explore/followgame*",ow="",iw=function(){var t=Zb(Jb().mark((function t(e,r){var n,o,i,a,s;return Jb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fs.Ay.sendRequest({method:"GET",url:"https://store.steampowered.com/app/".concat(e,"/").concat(r,"/")});case 2:return n=t.sent,o=Ps.A.Profile.parse(n,["sessionId","accountId"]),i=o.sessionId,a=o.accountId,s="none"!==tw(n).find("#queueBtnFollow .queue_btn_active").css("display"),t.abrupt("return",{sessionId:i,accountId:a,isFollowingGame:s});case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),aw=function(){var t=Zb(Jb().mark((function t(e){var r,n;return Jb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.appId,n=e.sessionId,t.next=3,Fs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},method:"POST",url:ew,data:{sessionid:n,appid:r}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const sw=function(){var t=Zb(Jb().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h,p,d;return Jb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Follow game: called"),n=e.data.json.payload,o=n.appId,i=n.appName,ow=e.data.json.payload.snr||"1_direct-navigation__",t.next=6,y.w.get({consent_tos:!0});case 6:if(a=t.sent,a.consent_tos){t.next=10;break}throw Error("User disabled option");case 10:return t.next=12,iw(o,i);case 12:return s=t.sent,c=s.sessionId,u=s.accountId,l=s.isFollowingGame,t.next=18,y.w.getLocal({userInfo:{steamId:null}});case 18:if(f=t.sent,h=f.userInfo.steamId,u||!c){t.next=28;break}if(!h){t.next=27;break}return t.next=24,Mc.refreshSteamPowered();case 24:throw Error("Missing steampowered authorization");case 27:throw Error("Not found user steamId");case 28:if(!l){t.next=30;break}throw Error("App already following");case 30:if(!(c&&o&&i)){t.next=45;break}return t.next=33,jb(ow,ew,o);case 33:return p=t.sent,rw="https://store.steampowered.com/app/".concat(o,"/").concat(i,"/"),t.next=37,Fb(p,rw,nw);case 37:return t.next=39,aw({appId:o,sessionId:c});case 39:return d=t.sent,t.next=42,rc.removeRule(nw);case 42:if(d){t.next=44;break}throw Error("Failed to following");case 44:r.provider.send({event:av,payload:{event:av,data:{},messageId:e.messageId}});case 45:r.logger.log("Follow game: done"),t.next=54;break;case 48:return t.prev=48,t.t0=t.catch(0),r.logger.error("Follow game: error",t.t0),t.next=53,rc.removeRule(nw);case 53:r.provider.send({event:av,payload:{event:av,data:{error:t.t0.message||t.t0.responseJSON||"Error following game"},messageId:e.messageId}});case 54:case"end":return t.stop()}}),t,null,[[0,48]])})));return function(e,r){return t.apply(this,arguments)}}();function cw(t){return cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cw(t)}function uw(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */uw=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==cw(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(cw(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function lw(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return fw(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fw(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function fw(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function hw(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function pw(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hw(i,n,o,a,s,"next",t)}function s(t){hw(i,n,o,a,s,"throw",t)}a(void 0)}))}}var dw=[],yw=null,vw=0,mw=null;const gw={updateLocalItemOrder:{handler:function(){var t=pw(uw().mark((function t(){var e;return uw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,yw=!0,(e=Au.sihAppUserProfile)&&0!==Object.keys(e).length){t.next=6;break}return yw=!1,t.abrupt("return",{success:!1,authorization:!1});case 6:mw=setInterval(pw(uw().mark((function t(){var e,r,n,o;return uw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[].concat(dw),dw.length=0,e.length){t.next=6;break}return++vw>5&&(clearInterval(mw),yw=!1,vw=0),t.abrupt("return");case 6:vw=0,r=lw(e),t.prev=8,r.s();case 10:if((n=r.n()).done){t.next=19;break}return o=n.value,t.next=14,new Promise((function(t){return setTimeout(t,1e3)}));case 14:return t.next=16,yy.updateItemOrderLocal(o);case 16:t.sent;case 17:t.next=10;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(8),r.e(t.t0);case 24:return t.prev=24,r.f(),t.finish(24);case 27:e.length=0;case 28:case"end":return t.stop()}}),t,null,[[8,21,24,27]])}))),3e3),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(t){return dw.push(t),yw}}};function bw(t){return bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bw(t)}function ww(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ww=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==bw(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(bw(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ew(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const xw=function(){var t,e=(t=ww().mark((function t(e,r){var n,o,i,a;return ww().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.logger.log("Refresh trade list: called"),r.provider.send({event:av,payload:{event:av,data:{},messageId:e.messageId}}),n=e.data.json.payload.order){t.next=10;break}return t.next=7,Tg(r);case 7:return(o=t.sent)&&o.response&&o.response.trade_offers_received&&(i=o.response.trade_offers_received)&&i.length&&(a=i.length,y.w.getLocal({skipversion:null}).then((function(t){(0,Fs.eL)(t.skipversion)&&(chrome.action.setBadgeText({text:a?"".concat(a):""}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"}))}))),t.abrupt("return");case 10:if(gw.savePayloadList.handler(n)){t.next=14;break}return t.next=14,gw.updateLocalItemOrder.handler();case 14:r.logger.log("Refresh trade list: done"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),r.logger.error("Refresh trade list: error",t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ew(i,n,o,a,s,"next",t)}function s(t){Ew(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Sw(t){return Sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sw(t)}function _w(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Aw(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Aw(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Aw(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Tw(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Tw=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Sw(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Sw(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Lw(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function kw(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Lw(i,n,o,a,s,"next",t)}function s(t){Lw(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Ow=[],Iw=null,Nw=0,Pw=null,Cw=function(){var t=kw(Tw().mark((function t(e){var r,n,o,i;return Tw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("sihAppWithdrawalHistory");case 2:if(n=t.sent,o=n.sihAppWithdrawalHistory,i=void 0===o?{}:o,e.id&&Object.keys(i).length&&null!=i&&null!==(r=i.data)&&void 0!==r&&r.length){t.next=7;break}return t.abrupt("return");case 7:return i.data=i.data.map((function(t){var r;return(null==t?void 0:t.id)===(null==e?void 0:e.id)&&null!=t&&null!==(r=t.state)&&void 0!==r&&r.action&&(t.state.action=e.status),t})),t.next=10,y.w.setLocal({sihAppWithdrawalHistory:i});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const Dw={updateLocalItemOrder:{handler:function(){var t=kw(Tw().mark((function t(){var e;return Tw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Iw=!0,(e=Au.sihAppUserProfile)&&0!==Object.keys(e).length){t.next=6;break}return Iw=!1,t.abrupt("return",{success:!1,authorization:!1});case 6:Pw=setInterval(kw(Tw().mark((function t(){var e,r,n,o;return Tw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[].concat(Ow),Ow.length=0,e.length){t.next=6;break}return++Nw>5&&(clearInterval(Pw),Iw=!1,Nw=0),t.abrupt("return");case 6:Nw=0,r=_w(e),t.prev=8,r.s();case 10:if((n=r.n()).done){t.next=19;break}return o=n.value,t.next=14,new Promise((function(t){return setTimeout(t,1e3)}));case 14:return t.next=16,Cw(o);case 16:t.sent;case 17:t.next=10;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(8),r.e(t.t0);case 24:return t.prev=24,r.f(),t.finish(24);case 27:e.length=0;case 28:case"end":return t.stop()}}),t,null,[[8,21,24,27]])}))),3e3),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(t){return Ow.push(t),Iw}}};function Rw(t){return Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rw(t)}function jw(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jw=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Rw(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Rw(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Fw(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Bw=function(){var t,e=(t=jw().mark((function t(e,r){var n;return jw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.logger.log("Refresh trade list: called"),r.provider.send({event:av,payload:{event:av,data:{},messageId:e.messageId}}),n=e.data.json.payload.order,Dw.savePayloadList.handler(n)){t.next=8;break}return t.next=8,Dw.updateLocalItemOrder.handler();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r.logger.error("Refresh withdraw order: error",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Fw(i,n,o,a,s,"next",t)}function s(t){Fw(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Gw(t){return Gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gw(t)}function Mw(t){return function(t){if(Array.isArray(t))return Uw(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Uw(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uw(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uw(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Hw(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Hw=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Gw(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Gw(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function qw(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Vw(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){qw(i,n,o,a,s,"next",t)}function s(t){qw(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Kw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$w(n.key),n)}}function Yw(t,e,r){return e&&Kw(t.prototype,e),r&&Kw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ww(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function zw(t,e,r){return(e=$w(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $w(t){var e=function(t,e){if("object"!=Gw(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Gw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gw(e)?e:e+""}function Xw(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var Jw=new WeakMap,Qw=Yw((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ww(this,Jw,"https://core.steaminventoryhelper.com"),zw(this,"checkSteamLogin",function(){var t=Vw(Hw().mark((function t(r){var n,o,i;return Hw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.steamUsername,t.prev=1,n){t.next=4;break}throw Error("Not found Steam login");case 4:return t.next=6,Fs.Ay.apiRequest({url:"".concat(e.serviceURL,"/steam/check"),method:"POST",data:{steamUsername:n},crossDomain:!0,xhrFields:{withCredentials:!0}});case 6:if("success"!==(null==(o=t.sent)?void 0:o.status)||null==o||!o.transactionId){t.next=11;break}return t.abrupt("return",{success:!0,transactionId:o.transactionId});case 11:return t.abrupt("return",{success:!1,error:o.message||"Something went wrong. Try again later."});case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(1),t.abrupt("return",{success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(i=t.t0.responseJSON)||void 0===i?void 0:i.message)||"Something went wrong. Try again later."});case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()),zw(this,"checkSteamLoginBySih",function(){var t=Vw(Hw().mark((function t(r){var n,o,i,a;return Hw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.steamUsername,t.prev=1,n){t.next=4;break}throw Error("Not found Steam login");case 4:return t.next=6,Au.getSihAppUserToken();case 6:return o=t.sent,t.next=9,Fs.Ay.apiRequest({url:"".concat(Xw(Jw,e),"/sih/steam/check"),method:"POST",data:{steamUsername:n},headers:{"x-sih-token":o}});case 9:if(null==(i=t.sent)||!i.success||null==i||!i.transactionId){t.next=14;break}return t.abrupt("return",{success:!0,transactionId:i.transactionId});case 14:return console.error(i),t.abrupt("return",{success:!1,error:"ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºÑƒ"});case 16:t.next=23;break;case 18:return t.prev=18,t.t0=t.catch(1),console.error(t.t0),a=400===(null===t.t0||void 0===t.t0?void 0:t.t0.status)?"Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ ÑƒÑÑ‚Ğ°Ñ€ĞµĞ»Ğ¸, Ğ¿Ğ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ° Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºÑƒ":"ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºÑƒ",t.abrupt("return",{success:!1,error:a});case 23:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}()),zw(this,"initSteamRefill",function(){var t=Vw(Hw().mark((function t(r){var n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b;return Hw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.steamUsername,o=r.amount,i=r.netAmount,a=r.currency,s=void 0===a?"RUB":a,c=r.transactionId,u=r.paymentMethod,l=void 0===u?"sbp":u,t.prev=1,h="sbp"===l?"be5b209d-5bad-4f9a-8f1c-656732498054":"9384f89f-9f39-4279-bb24-321ead1b47d4",t.next=5,y.w.getLocal("userInfo");case 5:return p=t.sent,d=p.userInfo,v=Au.sihAppUserProfile,m=JSON.stringify({steamId:null==d?void 0:d.steamId,sihUserId:null==v||null===(f=v.user)||void 0===f?void 0:f.id,ts:Date.now()}),t.next=11,Fs.Ay.apiRequest({headers:{"x-partner-id":h},url:"".concat(e.serviceURL,"/steam/pay"),method:"POST",data:{steamUsername:n,amount:o,netAmount:i,currency:s,transactionId:c,orderId:m},crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:return g=t.sent,t.abrupt("return",{success:!0,response:g});case 15:return t.prev=15,t.t0=t.catch(1),t.abrupt("return",{success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(b=t.t0.responseJSON)||void 0===b?void 0:b.message)||"Something went wrong. Try again later."});case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()),zw(this,"initSteamRefillBySih",function(){var t=Vw(Hw().mark((function t(r){var n,o,i,a,s,c,u,l;return Hw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.steamUsername,o=r.amount,i=r.currency,a=void 0===i?"RUB":i,s=r.transactionId,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:return c=t.sent,t.next=7,Fs.Ay.apiRequest({headers:{"x-sih-token":c},url:"".concat(Xw(Jw,e),"/sih/steam/pay"),method:"POST",data:{steamUsername:n,amount:o,currency:a,transactionId:s}});case 7:return u=t.sent,t.abrupt("return",{success:!0,response:u});case 11:return t.prev=11,t.t0=t.catch(1),console.error(t.t0),l=400===(null===t.t0||void 0===t.t0?void 0:t.t0.status)?"Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ ÑƒÑÑ‚Ğ°Ñ€ĞµĞ»Ğ¸, Ğ¿Ğ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ° Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºÑƒ":"ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºÑƒ",t.abrupt("return",{success:!1,error:l});case 16:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()),zw(this,"isAvailableSihSteamRefill",function(){var t=Vw(Hw().mark((function t(e){var r,n,o,i,a,s,c,u;return Hw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.countryCode,t.prev=1,"ua"===r.toLowerCase()){t.next=4;break}return t.abrupt("return",{success:!0});case 4:n=[],o=0,i=[".steampowered.com",".steamcommunity.com"];case 7:if(!(o<i.length)){t.next=16;break}return a=i[o],t.next=11,chrome.cookies.getAll({domain:a});case 11:s=t.sent,n.push.apply(n,Mw(s));case 13:o++,t.next=7;break;case 16:return c=n.filter((function(t){return"steamCountry"===t.name})).map((function(t){return t.value?t.value.slice(0,2).toLowerCase():""})),u=c.includes("ua"),t.abrupt("return",{success:!u});case 21:return t.prev=21,t.t0=t.catch(1),t.abrupt("return",{success:!1});case 24:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}()),this.serviceURL=t.serviceURL}));zw(Qw,"serviceURL","https://foreign.foreignpay.ru");const Zw=new Qw;function tE(t){return tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tE(t)}function eE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */eE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==tE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(tE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function rE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function nE(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){rE(i,n,o,a,s,"next",t)}function s(t){rE(i,n,o,a,s,"throw",t)}a(void 0)}))}}var oE;const iE={msg:{checkSteamLogin:{code:"BACKGROUND_STEAM_REFILL_CHECK",handler:function(){var t=nE(eE().mark((function t(e,r){var n;return eE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"sih"!==e.method){t.next=7;break}return t.next=4,Zw.checkSteamLoginBySih(e);case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,Zw.checkSteamLogin(e);case 9:n=t.sent;case 10:r(n),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()},initSteamRefill:{code:"BACKGROUND_STEAM_REFILL_PAY",handler:function(){var t=nE(eE().mark((function t(e,r){var n;return eE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Zw.initSteamRefill(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},initSteamRefillBySihBalance:{code:"BACKGROUND_STEAM_REFILL_PAY_BY_SIH_BALANCE",handler:function(){var t=nE(eE().mark((function t(e,r){var n;return eE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Zw.initSteamRefillBySih(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},isAvailableSihSteamRefill:{code:"BACKGROUND_STEAM_REFILL_IS_AVAILABLE",handler:function(){var t=nE(eE().mark((function t(e,r){var n;return eE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Zw.isAvailableSihSteamRefill(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()}},connect:{sendMessage:{handler:function(t){oE.postMessage(t)}},init:{handler:function(){var t=nE(eE().mark((function t(e){var r,n,o;return eE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return oE=e,t.next=3,y.w.getLocal("AVAILABLE_CONTROLLER_LAST_NUMBER_IDS");case 3:if(r=t.sent,null!=(n=r.AVAILABLE_CONTROLLER_LAST_NUMBER_IDS)&&n.length){t.next=13;break}if((o=Au.sihAppUserProfile)&&0!==Object.keys(o).length){t.next=9;break}throw Error("Not found profile sih app");case 9:return t.next=11,Jd.pingUser();case 11:return t.next=13,QS.updateState(!0);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},alarm:{}};function aE(t){return aE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aE(t)}function sE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==aE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(aE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function cE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const uE=function(){var t,e=(t=sE().mark((function t(e,r){var n;return sE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r.logger.log("Steam refill: called"),r.provider.send({event:av,payload:{event:av,data:{},messageId:e.messageId}}),n=e.data.json.payload.bonusAmount,iE.connect.sendMessage.handler(n)}catch(t){r.logger.error("Steam refill: error",t)}case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){cE(i,n,o,a,s,"next",t)}function s(t){cE(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function lE(t){return lE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lE(t)}function fE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==lE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(lE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function hE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const pE=function(){var t,e=(t=fE().mark((function t(e,r){return fE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r.logger.log("User updated: called"),Au.sihAppUserProfile=e.data.json.payload,r.logger.log("User updated: done")}catch(t){r.logger.error("User updated: error",t)}case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hE(i,n,o,a,s,"next",t)}function s(t){hE(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function dE(t){return dE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dE(t)}function yE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */yE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==dE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(dE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function vE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const mE=function(){var t,e=(t=yE().mark((function t(e,r){return yE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,r.logger.log("Jsonsend handler: called"),t.t0=e.data.json.package,t.next="refreshTradeList"===t.t0?5:"balanceUpdated"===t.t0?8:"wishList"===t.t0?11:"followgame"===t.t0?14:"refreshWithdrawOrder"===t.t0?17:"steamRefill"===t.t0?20:"updateUser"===t.t0?23:26;break;case 5:return t.next=7,xw(e,r);case 7:return t.abrupt("break",27);case 8:return t.next=10,Ob(e,r);case 10:return t.abrupt("break",27);case 11:return t.next=13,$b(e,r);case 13:return t.abrupt("break",27);case 14:return t.next=16,sw(e,r);case 16:return t.abrupt("break",27);case 17:return t.next=19,Bw(e,r);case 19:return t.abrupt("break",27);case 20:return t.next=22,uE(e,r);case 22:return t.abrupt("break",27);case 23:return t.next=25,pE(e,r);case 25:case 26:return t.abrupt("break",27);case 27:r.logger.log("Jsonsend handler: done"),t.next=33;break;case 30:t.prev=30,t.t1=t.catch(0),r.logger.error("Jsonsend handler: error",t.t1);case 33:case"end":return t.stop()}}),t,null,[[0,30]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){vE(i,n,o,a,s,"next",t)}function s(t){vE(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function gE(t){return gE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gE(t)}function bE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==gE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(gE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function wE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const EE=function(){var t,e=(t=bE().mark((function t(e,r){return bE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r.logger.log("Permissions edit: called"),r.provider.send({event:pv,payload:{event:pv,data:{},messageId:e.messageId}}),r.logger.log("Permissions edit: done")}catch(t){r.logger.error("Permissions edit: error",t)}case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){wE(i,n,o,a,s,"next",t)}function s(t){wE(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function xE(t){return xE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xE(t)}function SE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */SE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==xE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(xE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function AE(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_E(Object(r),!0).forEach((function(e){TE(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function TE(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=xE(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xE(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return kE(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kE(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kE(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function OE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function IE(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){OE(i,n,o,a,s,"next",t)}function s(t){OE(i,n,o,a,s,"throw",t)}a(void 0)}))}}var NE=function(){var t=IE(SE().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E=arguments;return SE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=E.length>0&&void 0!==E[0]?E[0]:{},t.next=3,y.w.get({projects_permissions:{}});case 3:for(r=t.sent,n=r.projects_permissions,o=JSON.parse(JSON.stringify(e)),i=0,a=Object.entries(n);i<a.length;i++)if(s=LE(a[i],2),c=s[0],u=s[1],o[c])for(v=0,m=Object.entries(n[c]);v<m.length;v++)g=LE(m[v],2),b=g[0],w=g[1],o[c][b]||w.isAccepted||w.isBanned||(o[c][b]=AE({},w));else for(l=0,f=Object.entries(u);l<f.length;l++)h=LE(f[l],2),p=h[0],(d=h[1]).isAccepted||d.isBanned||(o[c]=AE(TE({},p,AE({},d)),o[c]));return t.next=9,y.w.set({projects_permissions:o});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const PE={msg:{getPermissions:{code:Is.A.msg.BACKGROUND_GET_PROJECTS_PERMISSION,handler:function(){var t=IE(SE().mark((function t(){var e,r=arguments;return SE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=r.length>0&&void 0!==r[0]?r[0]:function(){};try{FS.agent.provider.send({event:fv,payload:{event:fv,data:{}}}),e({success:!0})}catch(t){}case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}};function CE(t){return CE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CE(t)}function DE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */DE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==CE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(CE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function RE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const jE=function(){var t,e=(t=DE().mark((function t(e,r){return DE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.logger.log("Permissions get: called"),!Object.keys(e.data).length){t.next=5;break}return t.next=5,NE(e.data);case 5:r.logger.log("Permissions get: done"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r.logger.error("Permissions get: error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){RE(i,n,o,a,s,"next",t)}function s(t){RE(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function FE(t){return FE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FE(t)}function BE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */BE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==FE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(FE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function GE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ME(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){GE(i,n,o,a,s,"next",t)}function s(t){GE(i,n,o,a,s,"throw",t)}a(void 0)}))}}function UE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VE(n.key),n)}}function HE(t,e,r){return e&&UE(t.prototype,e),r&&UE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qE(t,e,r){return(e=VE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VE(t){var e=function(t,e){if("object"!=FE(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=FE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==FE(e)?e:e+""}const KE=new(HE((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),qE(this,"togglePopupToDefaultFormat",ME(BE().mark((function t(){var e,r;return BE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.set({enable_default_popup:!0});case 3:return t.next=5,y.w.getLocal({popupWindowId:""});case 5:return e=t.sent,r=e.popupWindowId,t.next=9,chrome.windows.remove(r);case 9:return t.next=11,chrome.action.setPopup({popup:"html/tradeoffers.html"});case 11:return t.next=13,chrome.action.openPopup();case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))),qE(this,"openPopup",ME(BE().mark((function t(){var e;return BE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get({enable_default_popup:!1});case 2:if(e=t.sent,!e.enable_default_popup){t.next=11;break}return t.next=7,chrome.action.setPopup({popup:"html/tradeoffers.html"});case 7:return t.next=9,chrome.action.openPopup();case 9:t.next=13;break;case 11:return t.next=13,wc.open();case 13:case"end":return t.stop()}}),t)})))),qE(this,"addReferrerToYoutubeEmbed",ME(BE().mark((function t(){var e,r;return BE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="^https:\\/\\/www\\.youtube\\.com\\/embed\\/(508sh3a9P14|QwMkR4WYPVE)(?:\\?.*)?$",t.next=3,rc.generateDynamicRuleId(e);case 3:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:"https://steamcommunity.com/"}]},t.t2={regexFilter:e},r={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=9,rc.setRule(r);case 9:case"end":return t.stop()}}),t)}))))})));function YE(t){return YE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YE(t)}function WE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */WE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==YE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(YE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function zE(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=YE(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=YE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==YE(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $E(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const XE={setPermission:{handler:function(){var t,e=(t=WE().mark((function t(e,r){var n,o,i,a,s,c;return WE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get({projects_permissions:{}});case 3:if(n=t.sent,o=n.projects_permissions,i=e.data.permission,a=e.data.project.name,Object.keys(o).length){t.next=11;break}o[i]=zE({},a,{icon:e.data.project.icon,isBanned:!1,isAccepted:!1}),t.next=24;break;case 11:if(s=o[i]){t.next=16;break}o[i]=zE({},a,{icon:e.data.project.icon,isBanned:!1,isAccepted:!1}),t.next=24;break;case 16:if(!(c=s[a])||c.isBanned||c.isAccepted){t.next=21;break}throw Error("Awaiting a response from a user");case 21:if(!c||!c.isBanned&&!c.isAccepted){t.next=23;break}throw Error("Permission for this project have already been processed");case 23:s[a]={icon:e.data.project.icon,isBanned:!1,isAccepted:!1};case 24:return t.next=26,y.w.set({projects_permissions:o});case 26:return r.provider.send({event:hv,payload:{event:hv,data:{},messageId:e.messageId}}),t.next=29,KE.openPopup();case 29:t.next=35;break;case 31:t.prev=31,t.t0=t.catch(0),t.t0,r.provider.send({event:hv,payload:{event:hv,data:{error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"},messageId:e.messageId}});case 35:case"end":return t.stop()}}),t,null,[[0,31]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){$E(i,n,o,a,s,"next",t)}function s(t){$E(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}};function JE(t){return JE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JE(t)}function QE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */QE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==JE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(JE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ZE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const tx=function(){var t,e=(t=QE().mark((function t(e,r){return QE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Permissions request: called"),t.next=4,XE.setPermission.handler(e,r);case 4:r.logger.log("Permissions request: done"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r.logger.error("Permissions request: error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ZE(i,n,o,a,s,"next",t)}function s(t){ZE(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function ex(t){return ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ex(t)}function rx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */rx=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ex(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ex(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function nx(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ox(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){nx(i,n,o,a,s,"next",t)}function s(t){nx(i,n,o,a,s,"throw",t)}a(void 0)}))}}const ix={msg:{getUserSihApp:{code:Is.A.msg.BACKGROUND_GET_USER_AUTH_SIH_APP,handler:function(){var t=ox(rx().mark((function t(e){var r;return rx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jd.getUserAuth();case 3:r=t.sent,e(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getUserProfileInfo:{code:Is.A.msg.BACKGROUND_GET_SIH_APP_USER_INFO,handler:function(){var t=ox(rx().mark((function t(e){var r;return rx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r=Au.sihAppUserProfile,e(r||{success:!1})}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setEmail:{code:Is.A.msg.BACKGROUND_SET_EMAIL_SIH_APP,handler:function(){var t=ox(rx().mark((function t(e,r){var n;return rx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Au.sihAppUserProfile||r({success:!1,authorization:!1}),t.next=5,Jd.setEmailToSihApp(e.email);case 5:n=t.sent,r(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()},deleteEmail:{code:Is.A.msg.BACKGROUND_DELETE_EMAIL_SIH_APP,handler:function(){var t=ox(rx().mark((function t(e){var r,n;return rx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(r=Au.sihAppUserProfile)&&0!==Object.keys(r).length||e({success:!1,authorization:!1}),t.next=5,Jd.deleteEmailFromSihApp();case 5:n=t.sent,e(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},enterPassword:{code:Is.A.msg.BACKGROUND_ENTER_PASSWORD_SIH_APP,handler:function(){var t=ox(rx().mark((function t(e,r){var n;return rx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jd.getUserAuth(e.password);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},updateTradeLink:{code:Is.A.msg.BACKGROUND_UPDATE_TRADELINK_SIH_APP,handler:function(){var t=ox(rx().mark((function t(e,r){var n,o,i;return rx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.link,o=void 0===n?null:n,t.prev=1,(i=Au.sihAppUserProfile)&&0!==Object.keys(i).length){t.next=7;break}throw Error("Error set trade link, invalid sih app account");case 7:return t.next=9,Jd.setTradeLinkToProfile(o);case 9:if(!o){t.next=12;break}return t.next=12,QS.restartAgent();case 12:r&&r({success:!0}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),t.t0,r&&r({success:!1,error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"});case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}()},getSihAppLog:{code:Is.A.msg.BACKGROUND_GET_SIH_APP_LOG,handler:function(){var t=ox(rx().mark((function t(e){var r,n,o;return rx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(r=Au.sihAppUserProfile)&&0!==Object.keys(r).length||e(null),t.next=5,y.w.getLocal({sihAppLog:{}});case 5:n=t.sent,o=n.sihAppLog,e(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},readSihAppLog:{code:Is.A.msg.BACKGROUND_READ_SIH_APP_LOG,handler:function(){var t=ox(rx().mark((function t(e){var r,n;return rx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(r=Au.sihAppUserProfile)&&0!==Object.keys(r).length||e({success:!1,authorization:!1}),t.next=5,Jd.readDataStorageLog();case 5:n=t.sent,e(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},getAutoLoadFloats:{code:Is.A.msg.BACKGROUND_GET_AUTO_LOAD_FLOATS,handler:function(){var t=ox(rx().mark((function t(e){var r;return rx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jd.getAutoLoadFloats();case 3:r=t.sent,e(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},pingSihApp:{code:Is.A.msg.BACKGROUND_PING_SIH_APP_SESSION,handler:function(){var t=ox(rx().mark((function t(e){var r;return rx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(r=Au.sihAppUserProfile)&&0!==Object.keys(r).length){t.next=4;break}throw Error("Not found profile sih app");case 4:return t.next=6,Jd.pingUser();case 6:return t.next=8,QS.updateState(!0);case 8:e({success:!0}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),t.t0,e({success:!1,error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}}};function ax(t){return ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ax(t)}function sx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sx=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ax(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ax(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function cx(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const ux={syncUser:{handler:function(){var t,e=(t=sx().mark((function t(e){var r,n;return sx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({userInfo:{tradeLink:null}});case 3:return r=t.sent.userInfo.tradeLink,t.next=6,ix.msg.updateTradeLink.handler({link:null});case 6:return t.next=8,y.w.getLocal({userInfo:{tradeLink:null}});case 8:if(n=t.sent.userInfo.tradeLink,r===n){t.next=12;break}return t.next=12,Ag(e);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){cx(i,n,o,a,s,"next",t)}function s(t){cx(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()}};function lx(t){return lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(t)}function fx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fx=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==lx(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(lx(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function hx(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const px=function(){var t,e=(t=fx().mark((function t(e,r){return fx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Sync user info: called"),r.provider.send({event:mv,payload:{event:mv,data:{}}}),r.provider.send({event:fv,payload:{event:fv,data:{}}}),t.next=6,ux.syncUser.handler(r);case 6:r.provider.send({event:gv,payload:{event:gv,data:{},messageId:e.messageId}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r.logger.error("Sync user info: error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hx(i,n,o,a,s,"next",t)}function s(t){hx(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function dx(t){return dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dx(t)}function yx(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return vx(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vx(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function vx(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function mx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */mx=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==dx(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(dx(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function gx(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function bx(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){gx(i,n,o,a,s,"next",t)}function s(t){gx(i,n,o,a,s,"throw",t)}a(void 0)}))}}var wx=[],Ex=null,xx=0,Sx=null,_x=function(){var t=bx(mx().mark((function t(e){var r,n,o,i,a,s;return mx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hm.buildTradesInfoForController("tradeoffers");case 2:if(r=t.sent,n=r.find((function(t){return+t.tradeOfferId==+e}))){t.next=15;break}return t.next=7,hm.parseTrades("tradeoffers",!0);case 7:return t.next=9,hm.parseTrades("tradeoffers/sent",!0);case 9:return t.next=11,hm.buildTradesInfoForController("tradeoffers");case 11:for(o=t.sent,i=0,a=["tradeoffers","tradeoffers/?history=1","tradeoffers/sent","tradeoffers/sent/?history=1"];i<a.length;i++)s=a[i],hm.buildTradesInfoForWindow(s);return t.abrupt("return",o.find((function(t){return+t.tradeOfferId==+e})));case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ax=function(){var t=bx(mx().mark((function t(e,r,n){var o,i,a,s,c,u,l,f,h,p,d;return mx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.tradeid,i=e.partner,a="https:\\/\\/steamcommunity.com\\/tradeoffer\\/(\\d+)\\/accept",t.prev=2,t.next=5,y.w.getLocal("userInfo");case 5:return s=t.sent,c=s.userInfo,u="https://steamcommunity.com/tradeoffer/".concat(o),t.next=10,Km.updateAcceptHeaders(u,a);case 10:return t.next=12,Fs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",url:"".concat(u,"/accept"),data:{sessionid:c.sessionId,serverid:1,tradeofferid:o,partner:i}});case 12:return l=t.sent,t.next=15,rc.removeRule(a);case 15:if(l){t.next=17;break}throw Error("Steam response error");case 17:return n.provider.send({event:cv,payload:{event:cv,data:{},messageId:r.messageId}}),t.next=20,mg.isAvailableWebApi();case 20:if(!t.sent){t.next=35;break}return t.next=24,hm.parseTrades("tradeoffers",!0);case 24:f=0,h=["tradeoffers","tradeoffers/?history=1"];case 26:if(!(f<h.length)){t.next=33;break}return p=h[f],t.next=30,hm.buildTradesInfoForWindow(p);case 30:f++,t.next=26;break;case 33:t.next=37;break;case 35:return t.next=37,mg.updateTradeOfferStateInCache(o,"accepted");case 37:t.next=46;break;case 39:return t.prev=39,t.t0=t.catch(2),t.t0,t.next=44,rc.removeRule(a);case 44:d=t.t0.responseJSON?t.t0.responseJSON:t.t0.message,n.provider.send({event:cv,payload:{event:cv,data:{error:d||"Steam response error - ".concat(t.t0.status," ").concat(t.t0.statusText)},messageId:r.messageId}});case 46:case"end":return t.stop()}}),t,null,[[2,39]])})));return function(e,r,n){return t.apply(this,arguments)}}();const Tx={acceptTradeOffer:{handler:function(){var t=bx(mx().mark((function t(e){return mx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{Ex=!0,Sx=setInterval(bx(mx().mark((function t(){var r,n,o,i,a;return mx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[].concat(wx),wx.length=0,r.length){t.next=6;break}return++xx>5&&(clearInterval(Sx),Ex=!1,xx=0),t.abrupt("return");case 6:return xx=0,t.next=9,Tg(e);case 9:n=t.sent,o=yx(r),t.prev=11,a=mx().mark((function t(){var r,o,a,s,c,u,l,f,h,p,d;return mx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.value,o=r.data||{senderSteamId:s,tradeId:u},a=o.senderSteamId,s=void 0===a?null:a,c=o.tradeId,(u=void 0===c?"":c)||e.provider.send({event:cv,payload:{event:cv,data:{error:"Not fount trade ".concat(u," in payload")},messageId:r.messageId}}),!s||!u){t.next=8;break}return t.next=6,(0,Fs.yy)(1e3);case 6:return t.next=8,Ax({tradeid:u,partner:s},r,e);case 8:if(s||!u){t.next=45;break}if(!(n&&n.response&&n.response.trade_offers_received)){t.next=34;break}if(!(l=n.response.trade_offers_received)||!l.length){t.next=32;break}if(!(f=l.find((function(t){return+t.tradeofferid==+u})))){t.next=21;break}return h=Gs().to64(f.accountid_other),t.next=17,(0,Fs.yy)(1e3);case 17:return t.next=19,Ax({tradeid:u,partner:h},r,e);case 19:t.next=32;break;case 21:return t.next=23,_x(u);case 23:if(!(p=t.sent)){t.next=31;break}return t.next=27,(0,Fs.yy)(1e3);case 27:return t.next=29,Ax({tradeid:u,partner:p.senderId},r,e);case 29:t.next=32;break;case 31:e.provider.send({event:cv,payload:{event:cv,data:{error:"Not found trade ".concat(u)},messageId:r.messageId}});case 32:t.next=45;break;case 34:return t.next=36,_x(u);case 36:if(!(d=t.sent)){t.next=44;break}return t.next=40,(0,Fs.yy)(1e3);case 40:return t.next=42,Ax({tradeid:u,partner:d.senderId},r,e);case 42:t.next=45;break;case 44:e.provider.send({event:cv,payload:{event:cv,data:{error:"Not found trade ".concat(u)},messageId:r.messageId}});case 45:case"end":return t.stop()}}),t)})),o.s();case 14:if((i=o.n()).done){t.next=18;break}return t.delegateYield(a(),"t0",16);case 16:t.next=14;break;case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(11),o.e(t.t1);case 23:return t.prev=23,o.f(),t.finish(23);case 26:r.length=0;case 27:case"end":return t.stop()}}),t,null,[[11,20,23,26]])}))),3e3)}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(){var t=bx(mx().mark((function t(){var e,r=arguments;return mx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:null,wx.push(e),t.abrupt("return",Ex);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}};function Lx(t){return Lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lx(t)}function kx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */kx=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Lx(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Lx(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ox(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Ix=function(){var t,e=(t=kx().mark((function t(e,r){return kx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Trade accept: called"),t.next=4,Tx.savePayloadList.handler(e);case 4:if(t.sent){t.next=8;break}return t.next=8,Tx.acceptTradeOffer.handler(r);case 8:r.logger.log("Trade accept: done"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r.logger.error("Trade accept: error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ox(i,n,o,a,s,"next",t)}function s(t){Ox(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Nx(t){return Nx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nx(t)}function Px(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Cx(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cx(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Cx(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Dx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Dx=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Nx(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Nx(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Rx(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function jx(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Rx(i,n,o,a,s,"next",t)}function s(t){Rx(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Fx=[],Bx=null,Gx=0,Mx=null,Ux=function(){var t=jx(Dx().mark((function t(e,r){var n,o,i,a,s,c,u;return Dx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e&&e.data||{tradeId:i},o=n.tradeId,i=void 0===o?1:o,t.next=4,y.w.getLocal("userInfo");case 4:return a=t.sent,s=a.userInfo,t.next=8,Fs.Ay.apiRequest({method:"POST",url:"https://steamcommunity.com/tradeoffer/".concat(i,"/cancel"),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{sessionid:s.sessionId},xhrFields:{withCredentials:!0}});case 8:if(c=t.sent){t.next=11;break}throw Error("Steam response error");case 11:c&&r.provider.send({event:lv,payload:{event:lv,data:{},messageId:e.messageId}}),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(0),t.t0,u=t.t0.responseJSON?t.t0.responseJSON:t.t0.message,r.provider.send({event:lv,payload:{event:lv,data:{error:u||"Steam response error - ".concat(t.t0.status," ").concat(t.t0.statusText)},messageId:e.messageId}});case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}();const Hx={cancelTradeOffer:{handler:function(){var t=jx(Dx().mark((function t(e){return Dx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{Bx=!0,Mx=setInterval(jx(Dx().mark((function t(){var r,n,o,i;return Dx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[].concat(Fx),Fx.length=0,r.length){t.next=6;break}return++Gx>5&&(clearInterval(Mx),Bx=!1,Gx=0),t.abrupt("return");case 6:Gx=0,n=Px(r),t.prev=8,n.s();case 10:if((o=n.n()).done){t.next=18;break}return i=o.value,t.next=14,(0,Fs.yy)(1e3);case 14:return t.next=16,Ux(i,e);case 16:t.next=10;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(8),n.e(t.t0);case 23:return t.prev=23,n.f(),t.finish(23);case 26:r.length=0;case 27:case"end":return t.stop()}}),t,null,[[8,20,23,26]])}))),3e3)}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(){var t=jx(Dx().mark((function t(e){return Dx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Fx.push(e),t.abrupt("return",Bx);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function qx(t){return qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(t)}function Vx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Vx=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==qx(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(qx(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Kx(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Yx=function(){var t,e=(t=Vx().mark((function t(e,r){return Vx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Trade cancel: called"),t.next=4,Hx.savePayloadList.handler(e);case 4:if(t.sent){t.next=8;break}return t.next=8,Hx.cancelTradeOffer.handler(r);case 8:r.logger.log("Trade cancel: done"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r.logger.error("Trade cancel: error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Kx(i,n,o,a,s,"next",t)}function s(t){Kx(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Wx(t){return Wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wx(t)}function zx(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return $x(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$x(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function $x(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Xx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Xx=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Wx(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Wx(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Jx(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Qx(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Jx(i,n,o,a,s,"next",t)}function s(t){Jx(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Zx=[],tS=null,eS=0,rS=null,nS=function(){var t=Qx(Xx().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h;return Xx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e&&e.data||{tradeId:i},o=n.tradeId,i=void 0===o?1:o,t.next=4,y.w.getLocal("userInfo");case 4:return a=t.sent,s=a.userInfo,t.next=8,Fs.Ay.apiRequest({method:"POST",url:"https://steamcommunity.com/tradeoffer/".concat(i,"/decline"),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{sessionid:s.sessionId},xhrFields:{withCredentials:!0}});case 8:if(c=t.sent){t.next=11;break}throw Error("Steam response error");case 11:return c&&r.provider.send({event:uv,payload:{event:uv,data:{},messageId:e.messageId}}),t.next=14,mg.isAvailableWebApi();case 14:if(!t.sent){t.next=29;break}return t.next=18,hm.parseTrades("tradeoffers",!0);case 18:u=0,l=["tradeoffers","tradeoffers/?history=1"];case 20:if(!(u<l.length)){t.next=27;break}return f=l[u],t.next=24,hm.buildTradesInfoForWindow(f);case 24:u++,t.next=20;break;case 27:t.next=31;break;case 29:return t.next=31,mg.updateTradeOfferStateInCache(i,"declined");case 31:t.next=38;break;case 33:t.prev=33,t.t0=t.catch(0),t.t0,h=t.t0.responseJSON?t.t0.responseJSON:t.t0.message,r.provider.send({event:uv,payload:{event:uv,data:{error:h||"Steam response error - ".concat(t.t0.status," ").concat(t.t0.statusText)},messageId:e.messageId}});case 38:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(e,r){return t.apply(this,arguments)}}();const oS={declineTradeOffer:{handler:function(){var t=Qx(Xx().mark((function t(e){return Xx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{tS=!0,rS=setInterval(Qx(Xx().mark((function t(){var r,n,o,i;return Xx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[].concat(Zx),Zx.length=0,r.length){t.next=6;break}return++eS>5&&(clearInterval(rS),tS=!1,eS=0),t.abrupt("return");case 6:eS=0,n=zx(r),t.prev=8,n.s();case 10:if((o=n.n()).done){t.next=18;break}return i=o.value,t.next=14,(0,Fs.yy)(1e3);case 14:return t.next=16,nS(i,e);case 16:t.next=10;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(8),n.e(t.t0);case 23:return t.prev=23,n.f(),t.finish(23);case 26:r.length=0;case 27:case"end":return t.stop()}}),t,null,[[8,20,23,26]])}))),3e3)}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(){var t=Qx(Xx().mark((function t(e){return Xx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Zx.push(e),t.abrupt("return",tS);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function iS(t){return iS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iS(t)}function aS(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */aS=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==iS(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(iS(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function sS(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const cS=function(){var t,e=(t=aS().mark((function t(e,r){return aS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Trade decline: called"),t.next=4,oS.savePayloadList.handler(e);case 4:if(t.sent){t.next=8;break}return t.next=8,oS.declineTradeOffer.handler(r);case 8:r.logger.log("Trade decline: done"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r.logger.error("Trade decline: error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){sS(i,n,o,a,s,"next",t)}function s(t){sS(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function uS(t){return uS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uS(t)}function lS(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=yS(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function fS(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fS=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==uS(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(uS(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function hS(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function pS(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hS(i,n,o,a,s,"next",t)}function s(t){hS(i,n,o,a,s,"throw",t)}a(void 0)}))}}function dS(t){return function(t){if(Array.isArray(t))return vS(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||yS(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yS(t,e){if(t){if("string"==typeof t)return vS(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vS(t,e):void 0}}function vS(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var mS=[],gS=null,bS=0,wS=null,ES=function(t){return t.length?t.map((function(t){return 2!=+t.contextId?null:{appid:t.appId.toString(),contextid:t.contextId.toString(),amount:t.amount?t.amount.toString():"1",assetid:t.itemId.toString()}})).filter((function(t){return t})):[]},xS=function(){var t=pS(fS().mark((function t(e,r,n){var o,i;return fS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="https://steamcommunity.com/tradeoffer/new/send",t.prev=1,t.next=4,Km.updateSendHeaders(o);case 4:return t.next=6,Fs.Ay.apiRequest({method:"POST",url:"https://steamcommunity.com/tradeoffer/new/send",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e,xhrFields:{withCredentials:!0}});case 6:return i=t.sent,t.next=9,rc.removeRule(o);case 9:i&&r.provider.send({event:sv,payload:{event:sv,data:{tradeId:i.tradeofferid,customId:n.data.customId||""},messageId:n.messageId}}),t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(1),t.t0,t.next=17,rc.removeRule(o);case 17:r.provider.send({event:sv,payload:{event:sv,data:{error:t.t0.responseJSON&&t.t0.responseJSON.strError?t.t0.responseJSON.strError:"Oops... There was an error sending your trade offer.",customId:n.data.customId||""},messageId:n.messageId}});case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,r,n){return t.apply(this,arguments)}}();const SS={tradeSend:{handler:function(){var t=pS(fS().mark((function t(e){return fS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{gS=!0,wS=setInterval(pS(fS().mark((function t(){var r,n,o,i,a,s,c,u;return fS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[].concat(mS),mS.length=0,r.length){t.next=6;break}return++bS>5&&(clearInterval(wS),gS=!1,bS=0),t.abrupt("return");case 6:return bS=0,t.next=9,y.w.getLocal("userInfo");case 9:n=t.sent,o=n.userInfo,i=lS(r),t.prev=12,i.s();case 14:if((a=i.n()).done){t.next=25;break}return s=a.value,l=s.data,f=void 0,h=void 0,p=void 0,d=void 0,f=l.sender.items||[],h=l.recipient.items||[],p=ES(f),d=ES(h),c=JSON.stringify({newversion:!0,version:p.length+d.length+1,me:{assets:dS(p),currency:[],ready:!1},them:{assets:dS(d),currency:[],ready:!1}}),u={sessionid:o.sessionId,serverid:"1",partner:s.data.recipient.steamId,json_tradeoffer:c,captcha:"",trade_offer_create_params:JSON.stringify({trade_offer_access_token:s.data.recipient.tradeToken})},s.data.tradeMessage&&(u.tradeoffermessage=s.data.tradeMessage),t.next=21,(0,Fs.yy)(1e3);case 21:return t.next=23,xS(u,e,s);case 23:t.next=14;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(12),i.e(t.t0);case 30:return t.prev=30,i.f(),t.finish(30);case 33:r.length=0;case 34:case"end":return t.stop()}var l,f,h,p,d}),t,null,[[12,27,30,33]])}))),3e3)}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(){var t=pS(fS().mark((function t(e){return fS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&Object.keys(e).length){t.next=2;break}return t.abrupt("return");case 2:return mS.push(e),t.abrupt("return",gS);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function _S(t){return _S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_S(t)}function AS(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */AS=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==_S(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(_S(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function TS(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const LS=function(){var t,e=(t=AS().mark((function t(e,r){return AS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Trade send: called"),t.next=4,SS.savePayloadList.handler(e);case 4:if(t.sent){t.next=8;break}return t.next=8,SS.tradeSend.handler(r);case 8:r.logger.log("Trade send: done"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r.logger.error("Trade send: error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){TS(i,n,o,a,s,"next",t)}function s(t){TS(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();var kS;function OS(t){return OS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OS(t)}function IS(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=OS(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=OS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==OS(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const NS=(IS(IS(IS(IS(IS(IS(IS(IS(IS(IS(kS={},iv,_v),av,mE),cv,Ix),uv,cS),sv,LS),lv,Yx),fv,jE),hv,tx),pv,EE),lv,Yx),IS(IS(IS(IS(IS(IS(kS,dv,$g),yv,gb),vv,tb),mv,Ov),gv,px),bv,xb));function PS(t){return PS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PS(t)}function CS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function DS(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=PS(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=PS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==PS(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var RS={delays:[1e4,1e4,2e4,3e4,5e4,8e4,13e4]},jS=function(){try{var t="NEW SIH",e={eventMapper:function(t){var e=t.data,r=JSON.parse(e);return{type:r.event,payload:{data:r.data,messageId:r.messageId}}},outcomeMessageMapper:function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?CS(Object(r),!0).forEach((function(e){DS(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({name:t.type},t.payload)},ping:!0,pingMessage:JSON.stringify({name:"ping"}),pingTime:25e3},r=new Qy.BasicStorage,n=new Xy(RS),o=new zy("".concat(t,":AgentWSSProvider:")),i=new Jy.WSProvider("wss://wss-new.steaminventoryhelper.com",o,e);n.wrap(i);var a=new zy("".concat(t,":Agent:")),s=new Wy(NS,i,r,a),c=new $y(s,"sih_app_market_toggle",(function(){return Promise.resolve(!0)}),2e3);return c.run(),c}catch(t){return console.error("SIHAgentBackgroundScript: agent initialization error",t),null}}();const FS=jS;function BS(t){return BS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BS(t)}function GS(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */GS=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==BS(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(BS(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function MS(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function US(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){MS(i,n,o,a,s,"next",t)}function s(t){MS(i,n,o,a,s,"throw",t)}a(void 0)}))}}function HS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KS(n.key),n)}}function qS(t,e,r){return e&&HS(t.prototype,e),r&&HS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VS(t,e,r){return(e=KS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KS(t){var e=function(t,e){if("object"!=BS(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=BS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==BS(e)?e:e+""}function YS(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function WS(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var zS={ts:Date.now()},$S=new WeakMap,XS=new WeakMap,JS=qS((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),YS(this,$S,US(GS().mark((function t(){var e,r,n,o,i;return GS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get({sih_app_market_toggle:!1});case 2:return e=t.sent,e.sih_app_market_toggle,t.next=6,y.w.getLocal({sihAppOrdersHistory:{}});case 6:return r=t.sent,r.sihAppOrdersHistory,t.next=10,yy.getAllStackBuy();case 10:if(t.t0=t.sent.filter((function(t){return t&&"pending"===t.status})),t.t0){t.next=13;break}t.t0=[];case 13:return t.t0,t.next=16,y.w.get({server_switch_controller:!1});case 16:return n=t.sent,n.server_switch_controller,t.next=20,yy.getAllStackBuy();case 20:return t.sent,t.next=23,y.w.getLocal({userInfo:{}});case 23:return o=t.sent,o.userInfo,t.next=27,y.w.getLocal({AVAILABLE_CONTROLLER_LAST_NUMBER_IDS:[]});case 27:i=t.sent,i.AVAILABLE_CONTROLLER_LAST_NUMBER_IDS;case 36:case"end":return t.stop()}}),t)})))),VS(this,"updateState",function(){var t=US(GS().mark((function t(r){var n,o;return GS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r){t.next=4;break}return t.next=4,y.w.set({sih_app_market_toggle:r});case 4:return t.next=6,e.isEnabled();case 6:return n=t.sent,t.next=9,WS(XS,e).call(e);case 9:if(o=t.sent,n||WS($S,e).call(e),!o){t.next=18;break}return t.next=14,y.w.set({sih_app_market_toggle_restarts:!0});case 14:FS.stop(!0),FS.run(!0),t.next=29;break;case 18:if(!n){t.next=24;break}return t.next=21,y.w.set({sih_app_market_toggle_restarts:!0});case 21:FS.run(!0),t.next=29;break;case 24:return FS.stop(!0),t.next=27,y.w.set({sih_app_market_toggle:!1});case 27:return t.next=29,y.w.set({sih_app_market_toggle_restarts:!1});case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(0),t.t0;case 34:case"end":return t.stop()}}),t,null,[[0,31]])})));return function(e){return t.apply(this,arguments)}}()),VS(this,"restartAgent",US(GS().mark((function t(){var e;return GS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_market_toggle");case 3:e=t.sent,e.sih_app_market_toggle&&(y.w.set({sih_app_market_toggle_restarts:!0}),FS.stop(!0),FS.run(!0),zS.ts=Date.now()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))),VS(this,"isEnabled",US(GS().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p,d,v,m;return GS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get({sih_app_market_toggle:!1});case 2:return e=t.sent,r=e.sih_app_market_toggle,t.next=6,y.w.getLocal({sihAppOrdersHistory:{}});case 6:return n=t.sent,o=n.sihAppOrdersHistory,t.next=10,yy.getAllStackBuy();case 10:if(t.t0=t.sent.filter((function(t){return t&&"pending"===t.status})),t.t0){t.next=13;break}t.t0=[];case 13:return i=t.t0,t.next=16,y.w.get({server_switch_controller:!1});case 16:return a=t.sent,s=a.server_switch_controller,t.next=20,yy.getAllStackBuy();case 20:return c=t.sent,t.next=23,y.w.getLocal({userInfo:{}});case 23:return u=t.sent,l=u.userInfo,t.next=27,y.w.getLocal({AVAILABLE_CONTROLLER_LAST_NUMBER_IDS:[]});case 27:if(f=t.sent,h=f.AVAILABLE_CONTROLLER_LAST_NUMBER_IDS,p=l&&l.steamId?+l.steamId[l.steamId.length-1]:null,!((d=l&&l.authorization)&&r&&s&&h.includes(p))){t.next=33;break}return t.abrupt("return",!0);case 33:if(!(d&&r&&s&&c.length)){t.next=35;break}return t.abrupt("return",!!c.length);case 35:if(!(d&&r&&o.success)||o.tfaNeed){t.next=41;break}return v=["new","created","processing","sent"],m=o.orders.data.filter((function(t){return v.includes(t.status)}))||[],t.abrupt("return",!!i.length||!!m.length);case 41:return t.abrupt("return",!1);case 42:case"end":return t.stop()}}),t)})))),YS(this,XS,US(GS().mark((function t(){return GS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.isEnabled();case 2:if(!t.sent){t.next=7;break}if(!(Date.now()-zS.ts>=9e5)){t.next=7;break}return zS.ts=Date.now(),t.abrupt("return",!0);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)}))))}));const QS=new JS;function ZS(t){return ZS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZS(t)}function t_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ZS(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ZS(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function e_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||n_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r_(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=n_(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function n_(t,e){if(t){if("string"==typeof t)return o_(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o_(t,e):void 0}}function o_(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function i_(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function a_(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){i_(i,n,o,a,s,"next",t)}function s(t){i_(i,n,o,a,s,"throw",t)}a(void 0)}))}}const s_={msg:{deletePermission:{code:Is.A.msg.BACKGROUND_DELETE_PROJECTS_PERMISSION,handler:function(){var t=a_(t_().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p,d,v,m=arguments;return t_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=m.length>0&&void 0!==m[0]?m[0]:[],r=m.length>1?m[1]:void 0,t.prev=2,e.length){t.next=5;break}throw Error("Empty delete list");case 5:return t.next=7,y.w.get({projects_permissions:{}});case 7:n=t.sent,o=n.projects_permissions,i=r_(e);try{for(i.s();!(a=i.n()).done;)for(s=a.value,c=0,u=Object.entries(o);c<u.length;c++)for(l=e_(u[c],2),f=l[0],h=l[1],p=0,d=Object.keys(h);p<d.length;p++)(v=d[p])===s&&delete o[f][v]}catch(t){i.e(t)}finally{i.f()}return t.next=13,y.w.set({projects_permissions:o});case 13:FS.agent.provider.send({event:pv,payload:{event:pv,data:{projects:e,action:"delete"}}}),r({success:!0}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),t.t0,r({success:!1,error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"});case 21:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(){return t.apply(this,arguments)}}()},editPermission:{code:Is.A.msg.BACKGROUND_EDIT_PROJECTS_PERMISSION,handler:function(){var t=a_(t_().mark((function t(e,r){var n,o,i,a,s;return t_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.permission,o=e.project,i=e.action,t.prev=1,n&&o&&i){t.next=4;break}throw Error("The required parameters are missing");case 4:return t.next=6,y.w.get({projects_permissions:{}});case 6:return a=t.sent,s=a.projects_permissions,"accept"===i?s[n][o].isAccepted=!0:s[n][o].isBanned=!0,t.next=11,y.w.set({projects_permissions:s});case 11:FS.agent.provider.send({event:pv,payload:{event:pv,data:{project:o,action:i}}}),r({success:!0}),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(1),t.t0,FS.agent.provider.send({event:pv,payload:{event:pv,data:{error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"}}}),r({success:!1,error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"});case 20:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}()}}};function c_(t){return c_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c_(t)}function u_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==c_(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(c_(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function l_(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function f_(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){l_(i,n,o,a,s,"next",t)}function s(t){l_(i,n,o,a,s,"throw",t)}a(void 0)}))}}var h_=function(){var t=f_(u_().mark((function t(e,r,n){return u_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===s_.msg.editPermission.code?3:t.t0===s_.msg.deletePermission.code?6:9;break;case 3:return t.next=5,s_.msg.editPermission.handler(e.data,n);case 5:case 8:case 9:return t.abrupt("break",10);case 6:return t.next=8,s_.msg.deletePermission.handler(e.data,n);case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),p_=function(){var t=f_(u_().mark((function t(){return u_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.runtime.onMessage.addListener(h_),chrome.runtime.onMessageExternal.addListener(h_);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const d_={msgListener:{listener:{handler:h_},init:{handler:p_}}};function y_(t){return y_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y_(t)}function v_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */v_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==y_(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(y_(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function m_(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function g_(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){m_(i,n,o,a,s,"next",t)}function s(t){m_(i,n,o,a,s,"throw",t)}a(void 0)}))}}var b_=function(){var t=g_(v_().mark((function t(e,r,n){return v_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===PE.msg.getPermissions.code?3:6;break;case 3:return t.next=5,PE.msg.getPermissions.handler(n);case 5:case 6:return t.abrupt("break",7);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),w_=function(){var t=g_(v_().mark((function t(){return v_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.runtime.onMessage.addListener(b_),chrome.runtime.onMessageExternal.addListener(b_);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const E_={msgListener:{listener:{handler:b_},init:{handler:w_}}};const x_={handler:function(){try{d_.msgListener.init.handler(),E_.msgListener.init.handler()}catch(t){}}};function S_(t){return S_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S_(t)}function __(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */__=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==S_(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(S_(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function A_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return T_(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T_(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T_(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function L_(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function k_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I_(n.key),n)}}function O_(t,e,r){return e&&k_(t.prototype,e),r&&k_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function I_(t){var e=function(t,e){if("object"!=S_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=S_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S_(e)?e:e+""}function N_(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function P_(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var C_=function(t){var e={};return e.banner=null==t?void 0:t.b,e.companyName=null==t?void 0:t.cmp,e.adToken=null==t?void 0:t.i,e.link=null==t?void 0:t.l,e.title=null==t?void 0:t.t,e.priority=null==t?void 0:t.p,e},D_=new WeakMap,R_=O_((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),N_(this,D_,"https://ads.steaminventoryhelper.com/api/v1"),function(t,e,r){(e=I_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"getAllBanners",function(){var t,r=(t=__().mark((function t(r){var n,o,i,a;return __().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.adSpaceToken,o=r.targeting,t.prev=1,n&&o){t.next=4;break}throw Error("Not found params");case 4:return i=null!=o&&o.f?Object.fromEntries(Object.entries(o.f).filter((function(t){var e=A_(t,2);return e[0],void 0!==e[1]}))):{},t.next=7,Fs.Ay.apiRequest({method:"POST",url:"".concat(P_(D_,e),"/adapi/").concat(n,"/find-all"),data:{f:i}});case 7:if(a=t.sent,!Array.isArray(a)){t.next=12;break}return t.abrupt("return",a.map((function(t){return C_(t)})));case 12:return t.abrupt("return",[]);case 13:t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(1),console.error(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[1,15]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){L_(i,n,o,a,s,"next",t)}function s(t){L_(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}())}));const j_=new R_;function F_(t){return F_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F_(t)}function B_(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return G_(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G_(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function G_(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function M_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */M_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==F_(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(F_(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function U_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function H_(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U_(Object(r),!0).forEach((function(e){q_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function q_(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=F_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=F_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==F_(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V_(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function K_(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){V_(i,n,o,a,s,"next",t)}function s(t){V_(i,n,o,a,s,"throw",t)}a(void 0)}))}}const Y_={msg:{getAllBanners:{code:"BACKGROUND_MSG_AD_BANNERS_GET_ALL_BANNERS",handler:function(){var t=K_(M_().mark((function t(e,r){var n,o,i,a,s,c;return M_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.adSpaceToken,o=e.targeting,t.prev=1,n&&o){t.next=5;break}return r({success:!1,error:"Not found arguments"}),t.abrupt("return");case 5:return t.next=7,y.w.getLocal("SIH_SPONSOR_BANNERS_V2");case 7:if(i=t.sent,a=i.SIH_SPONSOR_BANNERS_V2,s=null==a?void 0:a[n]){t.next=18;break}return t.next=13,j_.getAllBanners({adSpaceToken:n,targeting:o});case 13:return c=t.sent,t.next=16,y.w.setLocal({SIH_SPONSOR_BANNERS_V2:H_(H_({},a),{},q_({},n,c||[]))});case 16:return r({success:!0,response:c||[]}),t.abrupt("return");case 18:r({success:!0,response:s}),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(1),console.error(t.t0),r({success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||"Unknown error"});case 25:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e,r){return t.apply(this,arguments)}}()}},connect:{},alarm:{getAllSponsorBanners:{code:"BACKGROUND_ALARM_GET_ALL_SPONSOR_BANNERS_V2",handler:function(){var t=K_(M_().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f;return M_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jc.getProfile();case 2:e=t.sent.data,r=Ps.A.Profile.parse(e,["country","steamLang"]),n=r.country,o=r.steamLang,i={f:{country:null==n?void 0:n.toUpperCase(),language:null==o?void 0:o.toUpperCase()}},a=B_(Is.A.AD_SPACE_TOKENS),t.prev=6,a.s();case 8:if((s=a.n()).done){t.next=21;break}return c=s.value,t.next=12,j_.getAllBanners({adSpaceToken:c,targeting:i});case 12:return u=t.sent,t.next=15,y.w.getLocal("SIH_SPONSOR_BANNERS_V2");case 15:return l=t.sent,f=l.SIH_SPONSOR_BANNERS_V2,t.next=19,y.w.setLocal({SIH_SPONSOR_BANNERS_V2:H_(H_({},f),{},q_({},c,u||[]))});case 19:t.next=8;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(6),a.e(t.t0);case 26:return t.prev=26,a.f(),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[6,23,26,29]])})));return function(){return t.apply(this,arguments)}}()}}};function W_(t){return W_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W_(t)}function z_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */z_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==W_(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(W_(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function $_(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function X_(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){$_(i,n,o,a,s,"next",t)}function s(t){$_(i,n,o,a,s,"throw",t)}a(void 0)}))}}var J_=function(t,e,r){if(t.type===Y_.msg.getAllBanners.code)Y_.msg.getAllBanners.handler(t.data||{},r);return!0},Q_=function(t){t.name},Z_=function(){chrome.alarms.create("BACKGROUND_ALARM_GET_ALL_SPONSOR_BANNERS_V2",{delayInMinutes:1,periodInMinutes:180})},tA=function(){var t=X_(z_().mark((function t(e){return z_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.name,t.next=t.t0===Y_.alarm.getAllSponsorBanners.code?3:5;break;case 3:return Y_.alarm.getAllSponsorBanners.handler(),t.abrupt("break",6);case 5:return t.abrupt("break",6);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),eA=function(){var t=X_(z_().mark((function t(){return z_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Z_(),chrome.alarms.onAlarm.addListener(tA);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const rA={msgListener:{listener:{handler:J_},init:{handler:function(){chrome.runtime.onMessage.addListener(J_),chrome.runtime.onMessageExternal.addListener(J_)}}},connectionListener:{init:{handler:function(){chrome.runtime.onConnect.addListener(Q_),chrome.runtime.onConnectExternal.addListener(Q_)}}},alarmListener:{createAlarms:{handler:Z_},listener:{handler:tA},init:{handler:eA}}};const nA={handler:function(){try{rA.alarmListener.init.handler(),rA.msgListener.init.handler()}catch(t){}}};function oA(t){return oA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oA(t)}function iA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */iA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==oA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(oA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function aA(t){return function(t){if(Array.isArray(t))return sA(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return sA(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sA(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sA(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function cA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function uA(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){cA(i,n,o,a,s,"next",t)}function s(t){cA(i,n,o,a,s,"throw",t)}a(void 0)}))}}function lA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hA(n.key),n)}}function fA(t,e,r){return(e=hA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hA(t){var e=function(t,e){if("object"!=oA(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=oA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oA(e)?e:e+""}var pA=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&lA(t.prototype,e),r&&lA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"set",value:(o=uA(iA().mark((function e(){var r,n,o=arguments;return iA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>0&&void 0!==o[0]?o[0]:[],o.length>1&&void 0!==o[1]&&!o[1]){e.next=6;break}e.t0=[],e.next=9;break;case 6:return e.next=8,t.get();case 8:e.t0=e.sent;case 9:return n=e.t0,e.next=12,y.w.setLocal(fA({},"".concat(t.key),[].concat(aA(r),aA(n))));case 12:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"add",value:(n=uA(iA().mark((function e(r){var n;return iA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pull();case 2:return(n=e.sent).push(r),e.abrupt("return",t.set(n));case 5:case"end":return e.stop()}}),e)}))),function(t){return n.apply(this,arguments)})},{key:"pull",value:(r=uA(iA().mark((function e(){var r;return iA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get();case 3:return r=e.sent,e.next=6,t.set();case 6:return e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(){return r.apply(this,arguments)})},{key:"get",value:(e=uA(iA().mark((function e(){return iA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.w.getLocal(fA({},"".concat(t.key),[]));case 3:return e.t0="".concat(t.key),e.abrupt("return",e.sent[e.t0].filter((function(t){return!t.ignore})));case 7:return e.prev=7,e.t1=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})}]);var e,r,n,o}();function dA(){try{return chrome.runtime.getManifest().version}catch(t){return"n/a"}}function yA(t){return yA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yA(t)}function vA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==yA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(yA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function mA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gA(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mA(Object(r),!0).forEach((function(e){bA(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function bA(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=yA(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yA(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function EA(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){wA(i,n,o,a,s,"next",t)}function s(t){wA(i,n,o,a,s,"throw",t)}a(void 0)}))}}fA(pA,"key","sihAdStat");const xA={set:{code:Is.A.msg.BACKGROUND_AD_HIT_STORE,handler:function(){var t=EA(vA().mark((function t(e){var r,n=arguments;return vA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:function(){},t.prev=1,t.next=4,pA.add(gA(gA({},e),{},{sihVersion:dA(),createdAt:Date.now()}));case 4:r({success:!0}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0,r({success:!1});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},send:{code:Is.A.alarm.BACKGROUND_AD_HIT_SEND,handler:function(){var t=EA(vA().mark((function t(){var e,r,n,o,i=arguments;return vA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:function(){},t.next=3,pA.pull();case 3:if((r=t.sent).length){t.next=6;break}return t.abrupt("return",e({success:1}));case 6:return t.prev=6,n="".concat(Fs.go,"/sih-stat/stat"),t.next=10,Fs.Ay.apiRequest({method:"POST",url:n,data:{hits:r}});case 10:return o=t.sent,t.abrupt("return",e({success:o.success}));case 14:return t.prev=14,t.t0=t.catch(6),t.t0,t.abrupt("return",e({success:!1}));case 18:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(){return t.apply(this,arguments)}}()}};function SA(t){return SA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SA(t)}function _A(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_A=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==SA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(SA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function AA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var TA=function(t){return-1===t.indexOf("<title>Steam Community :: Steam Badges</title>")};const LA={get:{code:Is.A.msg.BACKGROUND_BADGE_PROGRESS_GET_BADGES,handler:function(){var t,e=(t=_A().mark((function t(e){var r,n,o,i,a,s,c=arguments;return _A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.appid,n=e.border,o=c.length>1&&void 0!==c[1]?c[1]:function(){},t.prev=2,i=n?"?border=".concat(n):"",a="".concat(Fs.sT,"/").concat(r).concat(i),t.next=7,Fs.Ay.sendRequest({method:"GET",url:a,headers:{"cache-control":"no-cache",Accept:"text/html","Content-Type":"text/html"},xhrFields:{withCredentials:!0}});case 7:return s=t.sent,t.abrupt("return",o({success:!0,data:!!TA(s)&&s}));case 11:return t.prev=11,t.t0=t.catch(2),t.t0,t.abrupt("return",o({success:!1}));case 15:case"end":return t.stop()}}),t,null,[[2,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){AA(i,n,o,a,s,"next",t)}function s(t){AA(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()}};function kA(t){return kA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kA(t)}function OA(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=kA(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=kA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kA(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */IA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==kA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(kA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function NA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function PA(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){NA(i,n,o,a,s,"next",t)}function s(t){NA(i,n,o,a,s,"throw",t)}a(void 0)}))}}const CA={msg:{getSync:{code:"BACKGROUND_GET_SYNC_STORAGE",handler:function(){var t=PA(IA().mark((function t(e,r){var n;return IA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},setSync:{code:"BACKGROUND_SET_SYNC_STORAGE",handler:function(){var t=PA(IA().mark((function t(e,r){var n,o;return IA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.key,o=e.value,t.prev=1,t.next=4,y.w.set(OA({},n,o));case 4:r({success:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getLocal:{code:"BACKGROUND_GET_LOCAL_STORAGE",handler:function(){var t=PA(IA().mark((function t(e,r){var n;return IA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},setLocal:{code:"BACKGROUND_SET_LOCAL_STORAGE",handler:function(){var t=PA(IA().mark((function t(e,r){var n,o;return IA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.key,o=e.value,t.prev=1,t.next=4,y.w.setLocal(OA({},n,o));case 4:r({success:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,r){return t.apply(this,arguments)}}()}}};function DA(t){return DA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DA(t)}function RA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */RA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==DA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(DA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function jA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var FA=function(){var t,e=(t=RA().mark((function t(e,r,n){return RA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===CA.msg.getSync.code?3:t.t0===CA.msg.setSync.code?6:t.t0===CA.msg.getLocal.code?9:t.t0===CA.msg.setLocal.code?12:15;break;case 3:return t.next=5,CA.msg.getSync.handler(e.data,n);case 5:case 8:case 11:case 14:case 15:return t.abrupt("break",16);case 6:return t.next=8,CA.msg.setSync.handler(e.data,n);case 9:return t.next=11,CA.msg.getLocal.handler(e.data,n);case 12:return t.next=14,CA.msg.setLocal.handler(e.data,n);case 16:return t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){jA(i,n,o,a,s,"next",t)}function s(t){jA(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const BA={listener:{handler:FA},init:{handler:function(){chrome.runtime.onMessage.addListener(FA),chrome.runtime.onMessageExternal.addListener(FA)}}};var GA=function(){BA.init.handler()};const MA={handler:function(){try{GA()}catch(t){}}};function UA(t){return UA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UA(t)}function HA(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return qA(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qA(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function qA(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function VA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */VA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==UA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(UA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function KA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function YA(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){KA(i,n,o,a,s,"next",t)}function s(t){KA(i,n,o,a,s,"throw",t)}a(void 0)}))}}function WA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XA(n.key),n)}}function zA(t,e,r){return e&&WA(t.prototype,e),r&&WA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $A(t,e,r){return(e=XA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XA(t){var e=function(t,e){if("object"!=UA(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=UA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==UA(e)?e:e+""}var JA=zA((function t(e,r,n,o){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$A(this,"openDB",YA(VA().mark((function t(){var e,r,n,o,a,s;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((function(t,e){var r=indexedDB.open(i.dbName);r.onsuccess=function(e){var r=e.target.result,n=Array.from(r.objectStoreNames),o=r.version;r.close(),t({version:o,existingStores:n})},r.onerror=function(){return e(Error("Failed to check DB version: ".concat(i.dbName)))}}));case 3:return e=t.sent,r=e.version,n=e.existingStores,o=i.availableStoreNames.every((function(t){return n.includes(t)})),a=o?r:r+1,s=indexedDB.open(i.dbName,a),t.abrupt("return",new Promise((function(t,e){s.onupgradeneeded=function(t){i.db=t.target.result,i.availableStoreNames.forEach((function(t){i.db.objectStoreNames.contains(t)||(i.db.createObjectStore(t,{keyPath:i.keyPath,autoIncrement:!0}).transaction.oncomplete=function(){})}))},s.onsuccess=function(e){i.db=e.target.result,t({success:!0,message:"Database ".concat(i.dbName," is opened")})},s.onerror=function(t){e(Error("Problem opening ".concat(i.dbName)))}})));case 12:throw t.prev=12,t.t0=t.catch(0),console.error("Error opening DB:",t.t0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))),$A(this,"insert",function(){var t=YA(VA().mark((function t(e){var r,n;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return r=i.db.transaction([i.storeName],"readwrite"),n=r.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,o){r.oncomplete=function(){t({success:!0,message:"All add transactions complete"})},r.onerror=function(t){o(Error("Problem with add record"))},e.forEach((function(t){n.add(t.value,t.key)}))})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error inserting data:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.insert(e);case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),$A(this,"update",function(){var t=YA(VA().mark((function t(e){var r,n;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return r=i.db.transaction([i.storeName],"readwrite"),n=r.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,o){r.oncomplete=function(){t({success:!0,message:"All put transactions complete"})},r.onerror=function(){o(Error("Problem with update record"))},e.forEach((function(t){n.put(t.value,t.key)}))})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error update data:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.update(e);case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),$A(this,"updateBatch",function(){var t=YA(VA().mark((function t(e){var r,n,o,a,s=arguments;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(s.length>1&&void 0!==s[1]?s[1]:{}).smart,n=void 0!==r&&r,t.prev=1,i.db){t.next=4;break}throw Error("Database is not open");case 4:if(Array.isArray(e)&&e.length){t.next=6;break}return t.abrupt("return",{success:!1,message:"No records provided"});case 6:return o=i.db.transaction([i.storeName],"readwrite"),a=o.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,r){o.oncomplete=function(){return t({success:!0,message:"".concat(e.length," items processed")})},o.onerror=function(t){return r(Error("Problem with updateBatch transaction: "+t.target.error))};var i,s=HA(e);try{var c=function(){var t=i.value,e=t.key,r=t.value;if(!n)return a.put(r,e),1;var o=a.get(e);o.onsuccess=function(t){var n=t.target.result;(!n||JSON.stringify(n)!==JSON.stringify(r))&&a.put(r,e)},o.onerror=function(){return a.put(r,e)}};for(s.s();!(i=s.n()).done;)c()}catch(t){s.e(t)}finally{s.f()}})));case 11:if(t.prev=11,t.t0=t.catch(1),console.error("Error updateBatch:",t.t0),"Database is not open"!==t.t0.message){t.next=20;break}return t.next=17,i.openDB();case 17:return t.next=19,i.updateBatch(e,{smart:n});case 19:return t.abrupt("return",t.sent);case 20:throw t.t0;case 21:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()),$A(this,"get",function(){var t=YA(VA().mark((function t(e){var r,n,o,a=arguments;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!(a.length>1&&void 0!==a[1])||a[1],t.prev=1,i.db){t.next=4;break}throw Error("Database is not open");case 4:return n=i.db.transaction([i.storeName],"readonly"),o=n.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,n){var i=o.get(e);i.onsuccess=function(e){var o=e.target.result;r&&!o?n(Error("Not found key")):t(o)},i.onerror=function(t){n(Error("Error getting data from IndexedDB"))}})));case 9:if(t.prev=9,t.t0=t.catch(1),console.error("Error get data:",t.t0),"Database is not open"!==t.t0.message){t.next=18;break}return t.next=15,i.openDB();case 15:return t.next=17,i.get(e);case 17:return t.abrupt("return",t.sent);case 18:throw t.t0;case 19:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()),$A(this,"getAll",YA(VA().mark((function t(){var e,r;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return e=i.db.transaction([i.storeName],"readonly"),r=e.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,e){var n=r.getAll();n.onsuccess=function(r){r.target.result?t(r.target.result):e(Error("Some error"))},n.onerror=function(t){e(Error("Error getting data from IndexedDB"))}})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error get data:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.getAll();case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})))),$A(this,"getMany",YA(VA().mark((function t(){var e,r=arguments;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:[],t.abrupt("return",new Promise((function(t,r){var n=i.db.transaction([i.storeName],"readonly").objectStore(i.storeName),o={},a=e.length;0!==a?e.forEach((function(e){var r=n.get(e);r.onsuccess=function(r){o[e]=r.target.result||null,0==--a&&t(o)},r.onerror=function(r){console.error("Error getting key ".concat(e),r),o[e]=null,0==--a&&t(o)}})):t(o)})));case 2:case"end":return t.stop()}}),t)})))),$A(this,"getPageByCursor",function(){var t=YA(VA().mark((function t(e){var r,n,o;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.limit,n=void 0===r?5e3:r,o=e.cursor,i.db){t.next=3;break}throw Error("Database is not open");case 3:return t.abrupt("return",new Promise((function(t,e){var r=i.db.transaction([i.storeName],"readonly").objectStore(i.storeName),a=o?r.openCursor(IDBKeyRange.lowerBound(o,!0)):r.openCursor(),s=[],c=0,u=0;a.onsuccess=function(e){var r=e.target.result;r&&c<n?(s.push(r.value),u=r.key,c++,r.continue()):t({items:s,nextCursor:r?u:0})},a.onerror=function(){e(Error("Error while paginating with cursor"))}})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),$A(this,"getAllWithKeys",YA(VA().mark((function t(){var e,r;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return e=i.db.transaction([i.storeName],"readonly"),r=e.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,e){var n=[],o=r.openCursor();o.onsuccess=function(e){var r=e.target.result;r?(n.push({key:r.key,value:r.value}),r.continue()):t(n)},o.onerror=function(t){e(Error("Error getting data from IndexedDB"))}})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error get data:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.getAll();case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})))),$A(this,"delete",function(){var t=YA(VA().mark((function t(e){var r,n;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return r=i.db.transaction([i.storeName],"readwrite"),n=r.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,o){r.oncomplete=function(){t({success:!0,message:"All delete transactions complete"})},r.onerror=function(){o(Error("Problem with delete record"))},n.delete(e)})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error delete data:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.delete(e);case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),$A(this,"deleteBatch",function(){var t=YA(VA().mark((function t(e){var r,n;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:if(Array.isArray(e)&&0!==e.length){t.next=5;break}return t.abrupt("return",{success:!1,message:"No keys provided"});case 5:return r=i.db.transaction([i.storeName],"readwrite"),n=r.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,o){r.oncomplete=function(){t({success:!0,message:"".concat(e.length," items deleted")})},r.onerror=function(){o(Error("Problem with deleteBatch transaction"))};var i,a=HA(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;n.delete(s)}}catch(t){a.e(t)}finally{a.f()}})));case 10:if(t.prev=10,t.t0=t.catch(0),console.error("Error deleteBatch:",t.t0),"Database is not open"!==t.t0.message){t.next=19;break}return t.next=16,i.openDB();case 16:return t.next=18,i.deleteBatch(e);case 18:return t.abrupt("return",t.sent);case 19:throw t.t0;case 20:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()),$A(this,"clear",YA(VA().mark((function t(){var e,r;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return e=i.db.transaction([i.storeName],"readwrite"),r=e.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,e){var n=r.clear();n.onsuccess=function(){t({success:!0,message:"Store cleared successfully"})},n.onerror=function(){e(Error("Error clearing the store"))}})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error clear store:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.clear();case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})))),this.dbName=e,this.storeName=r,this.availableStoreNames=n,this.keyPath=o,this.db=null}));function QA(t){return QA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QA(t)}function ZA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ZA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==QA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(QA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function tT(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var eT=function(){var t=["iPhone 13 Pro","Samsung Galaxy S21","Google Pixel 6","OnePlus 9 Pro","Xiaomi Mi 11","Huawei P40 Pro","Sony Xperia 1 III","LG Wing","Motorola Moto G Power (2021)","Nokia 8.3 5G","Asus ROG Phone 5","Oppo Find X3 Pro","Realme GT","Vivo X60 Pro","Lenovo Legion Phone Duel 2","ZTE Axon 30 Ultra","BlackBerry Key2","Sony Xperia 10 III","Google Pixel 5a","OnePlus Nord N200 5G","Samsung Galaxy A32","Xiaomi Redmi Note 10 Pro","LG Velvet","Motorola Edge+","Huawei Mate 40 Pro","Apple iPhone 12","Samsung Galaxy Z Fold 3","Google Pixel 5","OnePlus 8T","Xiaomi Mi 10T Pro","Huawei P30 Pro","Sony Xperia 5 III","LG V60 ThinQ","Motorola Razr (2020)","Nokia 9 PureView","Asus Zenfone 8","Oppo Reno 6 Pro","Realme 8 Pro","Vivo V21 5G","Lenovo K13","ZTE Blade X1 5G"];return t[Math.floor(Math.random()*t.length)]},rT=function(){var t,e=(t=ZA().mark((function t(e,r){var n;return ZA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.reduce((function(t,e){return t+(e.price||0)}),0),t.next=3,Ks.getPriceFromCurrency(n,r,1);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){tT(i,n,o,a,s,"next",t)}function s(t){tT(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),nT=function(t,e){var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var o=0,i=r;o<i.length;o++){var a=i[o];if(!iT(t[a],e[a]))return!1}return!0},oT=function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!iT(t[r],e[r]))return!1;return!0},iT=function(t,e){return Array.isArray(t)&&Array.isArray(e)?oT(t,e):aT(t)&&aT(e)?nT(t,e):t===e},aT=function(t){return null!==t&&"object"===QA(t)};function sT(t){return sT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sT(t)}function cT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function uT(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cT(Object(r),!0).forEach((function(e){vT(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lT(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return fT(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fT(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function fT(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function hT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */hT=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==sT(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(sT(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function pT(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function dT(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){pT(i,n,o,a,s,"next",t)}function s(t){pT(i,n,o,a,s,"throw",t)}a(void 0)}))}}function yT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mT(n.key),n)}}function vT(t,e,r){return(e=mT(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mT(t){var e=function(t,e){if("object"!=sT(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=sT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sT(e)?e:e+""}function gT(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function bT(t,e){return t.get(ET(t,e))}function wT(t,e,r){return t.set(ET(t,e),r),r}function ET(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var xT=Os(""),ST=null,_T=new WeakMap,AT=new WeakMap,TT=new WeakMap,LT=new WeakMap,kT=new WeakMap,OT=function(){return function(t,e,r){return e&&yT(t.prototype,e),r&&yT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gT(this,_T,{}),gT(this,AT,!1),gT(this,TT,function(){var t=dT(hT().mark((function t(e){var r,n,o,i,a,s,c,u;return hT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("userInfo");case 2:return n=t.sent,o=n.userInfo.steamId,t.next=6,y.w.getLocal("CS_OPENING_CASE_STATS");case 6:if(i=t.sent,a=i.CS_OPENING_CASE_STATS,c=null==(s=void 0===a?{}:a)||null===(r=s[o])||void 0===r?void 0:r.freshCursor,u=null==e?void 0:e.cursor,!aT(c)||!aT(u)){t.next=13;break}return t.abrupt("return",nT(c,u));case 13:return t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),gT(this,LT,(function(t,e){return t.includes("unlocked a container")?e?"unlocked a capsule":"unlocked a container":t.includes("crafted")?"crafted":t.includes("earned a new rank and got a drop")||t.includes("got an item drop")?"drops":t.includes("used")?"used armory pass":t.includes("mission reward")?"mission reward":t})),gT(this,kT,function(){var t=dT(hT().mark((function t(r){var n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w;return hT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("userInfo");case 2:return a=t.sent,s=a.userInfo.steamId,t.next=6,y.w.getLocal("CS_OPENING_CASE_STATS");case 6:return c=t.sent,u=c.CS_OPENING_CASE_STATS,l=void 0===u?{}:u,f=new JA("SIH_CS_OPENING_CASE_STATS",s,[s]),t.next=12,f.openDB();case 12:h=xT(r.html.replace(/[\t\n]/g,"").trim()),p=r.cursor,d=void 0===p?null:p,v=h.find(".tradehistory_content").get(),m=[],g=lT(v),t.prev=17,w=hT().mark((function t(){var n,o,i,a,s,c,u,l,h,p,d,y,v,g,w,E,x;return hT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=b.value,o=xT(n),i=o.closest(".tradehistoryrow").find(".tradehistory_date"),a=o.find(".tradehistory_event_description"),!((s=a.text().toLowerCase()).includes("unlocked a container")||s.includes("crafted")||s.includes("earned a new rank and got a drop")||s.includes("got an item drop")||s.includes("used")||s.includes("mission reward"))){t.next=34;break}return c=o.find(".tradehistory_items.tradehistory_items_withimages"),u="+"===c.eq(0).find(".tradehistory_items_plusminus").text()?c.eq(0):c.eq(1),l="-"===c.eq(0).find(".tradehistory_items_plusminus").text()?c.eq(0):c.eq(1),h=u.find(".history_item"),p=l.find(".history_item"),d=c.eq(0).find(".history_item").attr("id"),t.next=14,f.get(d,!1);case 14:if(!(t.sent||s.includes("crafted")&&10!==l.length&&1!==u.length)){t.next=17;break}return t.abrupt("return",0);case 17:if(y=[],v=[],h.each((function(t,e){var n=xT(e),o=+n.attr("data-classid"),i=+n.attr("data-instanceid"),a=uT({},r.descriptions[730]["".concat(o,"_").concat(i)]);y.push(a)})),p.each((function(t,e){var n=xT(e),o=+n.attr("data-classid"),i=+n.attr("data-instanceid"),a=uT({},r.descriptions[730]["".concat(o,"_").concat(i)]);v.push(a)})),!s.includes("used")){t.next=25;break}if(v.find((function(t){return t.market_hash_name.toLowerCase().includes("armory pass")}))){t.next=25;break}return t.abrupt("return",0);case 25:if(g=s.includes("unlocked a container")?v.find((function(t){return t.tags.find((function(t){return"stickercapsule"===t.category.toLowerCase()}))})):null,w=i.contents().filter((function(){return 3===this.nodeType})).text().trim(),E=Date.parse(w),!(s.includes("mission reward")&&E<17279136e5)){t.next=30;break}return t.abrupt("return",0);case 30:return x={id:d,receivedItems:y,usedItems:v,date:E,titleText:bT(LT,e).call(e,s,g)},t.next=33,f.insert([{key:d,value:x}]);case 33:m.push(x);case 34:case"end":return t.stop()}}),t)})),g.s();case 20:if((b=g.n()).done){t.next=27;break}return t.delegateYield(w(),"t0",22);case 22:if(0!==t.t0){t.next=25;break}return t.abrupt("continue",25);case 25:t.next=20;break;case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(17),g.e(t.t1);case 32:return t.prev=32,g.f(),t.finish(32);case 35:return l[s]=uT(uT({},bT(_T,e)[s]),{},{lastParsingDate:Date.now(),cursor:d}),t.next=38,y.w.setLocal({CS_OPENING_CASE_STATS:l});case 38:null===(n=ST)||void 0===n||null===(o=n.connect)||void 0===o||null===(i=o.sendMessage)||void 0===i||i.handler({success:!0,data:{items:m}});case 39:case"end":return t.stop()}}),t,null,[[17,29,32,35]])})));return function(e){return t.apply(this,arguments)}}()),vT(this,"parseInventoryHistory",function(){var t=dT(hT().mark((function t(r){var n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,x,S,_,A,T,L,k,O,I,N,P,C,D,R,j,F,B,G;return hT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.time,o=void 0===n?Date.now()/1e3:n,i=r.time_frac,a=void 0===i?0:i,s=r.s,c=void 0===s?"":s,u=r.sessionId,l=void 0===u?"":u,f=r.isUpdateStats,h=void 0!==f&&f,!bT(AT,e)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,y.w.get("originalProfileUrl");case 5:if(p=t.sent,d=p.originalProfileUrl){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,y.w.getLocal("userInfo");case 11:return v=t.sent,m=v.userInfo.steamId,t.next=15,y.w.getLocal("CS_OPENING_CASE_STATS");case 15:return g=t.sent,b=g.CS_OPENING_CASE_STATS,w=void 0===b?{}:b,E="".concat(d,"inventoryhistory*"),t.prev=19,t.next=22,rc.generateDynamicRuleId(E);case 22:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:"".concat(d,"inventoryhistory/")}]},t.t2={urlFilter:E},A={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=28,rc.setRule(A);case 28:return null===(x=ST)||void 0===x||null===(S=x.connect)||void 0===S||null===(_=S.sendMessage)||void 0===_||_.handler({success:!0,data:{time:o}}),t.next=31,Fs.Ay.apiRequest({url:"".concat(d,"inventoryhistory"),method:"GET",data:{ajax:1,"cursor[time]":o,"cursor[time_frac]":a,"cursor[s]":c,l:"english","app[]":730,sessionid:l},crossDomain:!0,xhrFields:{withCredentials:!0}});case 31:return T=t.sent,t.next=34,bT(TT,e).call(e,T);case 34:if(!t.sent){t.next=42;break}return null===(L=ST)||void 0===L||null===(k=L.connect)||void 0===k||null===(O=k.sendMessage)||void 0===O||O.handler({success:!0,data:{message:"end"}}),e.stopParsing=!0,w[m]=uT(uT({},w[m]),{},{lastParsingDate:Date.now()}),t.next=41,y.w.setLocal({CS_OPENING_CASE_STATS:w});case 41:return t.abrupt("return");case 42:if(h||c||null==T||!T.cursor){t.next=47;break}return null!==(I=bT(_T,e))&&void 0!==I&&null!==(N=I[m])&&void 0!==N&&N.freshCursor||(bT(_T,e)[m]=uT(uT({},bT(_T,e)[m]),{},{freshCursor:T.cursor||null})),w[m]=uT(uT({},bT(_T,e)[m]),{},{lastParsingDate:Date.now()}),t.next=47,y.w.setLocal({CS_OPENING_CASE_STATS:w});case 47:if(T.success){t.next=49;break}throw Error((null==T?void 0:T.error)||"Failed to load history of inventory.");case 49:return t.next=51,bT(kT,e).call(e,T);case 51:null!=T&&T.cursor?setTimeout((function(){e.parseInventoryHistory({time:T.cursor.time,time_frac:T.cursor.time_frac,s:T.cursor.s,sessionId:l,isUpdateStats:h})}),2e3):(null===(P=ST)||void 0===P||null===(C=P.connect)||void 0===C||null===(D=C.sendMessage)||void 0===D||D.handler({success:!0,data:{message:"end"}}),e.stopParsing=!0),t.next=60;break;case 54:t.prev=54,t.t3=t.catch(19),console.error(t.t3),B=t.t3.status,G=t.t3.statusText,e.stopParsing=!0,null===(R=ST)||void 0===R||null===(j=R.connect)||void 0===j||null===(F=j.sendMessage)||void 0===F||F.handler({success:!1,error:429===B?G:t.t3.message||t.t3.responseJSON||"Error, something went wrong"});case 60:return t.prev=60,t.next=63,rc.removeRule(E);case 63:return t.finish(60);case 64:case"end":return t.stop()}}),t,null,[[19,54,60,64]])})));return function(e){return t.apply(this,arguments)}}())}),[{key:"setController",value:function(t){ST=t}},{key:"userCachedOpeningInfo",set:function(t){wT(_T,this,t)}},{key:"stopParsing",set:function(t){wT(AT,this,t)}}])}();const IT=new OT;function NT(t){return NT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NT(t)}function PT(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return CT(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?CT(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function CT(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function DT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */DT=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==NT(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(NT(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function RT(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function jT(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){RT(i,n,o,a,s,"next",t)}function s(t){RT(i,n,o,a,s,"throw",t)}a(void 0)}))}}var FT,BT={msg:{parseCsOpeningCaseStats:{code:"BACKGROUND_PARSE_CS_OPENING_CASE_STATS",handler:function(){var t=jT(DT().mark((function t(e){var r,n,o,i,a,s,c,u;return DT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.time,n=e.time_frac,o=e.s,i=e.sessionId,a=e.isUpdateStats,t.prev=1,t.next=4,y.w.getLocal("CS_OPENING_CASE_STATS");case 4:return s=t.sent,c=s.CS_OPENING_CASE_STATS,u=void 0===c?{}:c,IT.stopParsing=!1,IT.userCachedOpeningInfo=o||a?u:{},t.next=11,IT.parseInventoryHistory({time:r,time_frac:n,s:o,sessionId:i,isUpdateStats:a});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},stopParseCsOpeningCaseStats:{code:"BACKGROUND_STOP_PARSE_CS_OPENING_CASE_STATS",handler:function(){var t=jT(DT().mark((function t(){return DT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{IT.stopParsing=!0}catch(t){console.error(t)}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},dataTransferFromStorageToDB:{code:"BACKGROUND_TRANSFER_CS_OPENING_CASE_STATS_EVENTS",handler:function(){var t=jT(DT().mark((function t(e){var r,n,o,i,a,s,c,u,l,f,h,p;return DT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:return n=t.sent,o=n.userInfo.steamId,t.next=7,y.w.getLocal("CS_OPENING_CASE_STATS");case 7:if(i=t.sent,a=i.CS_OPENING_CASE_STATS,!(c=null==(s=void 0===a?{}:a)||null===(r=s[o])||void 0===r?void 0:r.data)){t.next=41;break}return u=new JA("SIH_CS_OPENING_CASE_STATS",o,[o]),t.next=15,u.openDB();case 15:l=PT(c),t.prev=16,l.s();case 18:if((f=l.n()).done){t.next=30;break}return h=f.value,p=h.id,t.next=23,u.get(p,!1);case 23:if(!t.sent){t.next=26;break}return t.abrupt("continue",28);case 26:return t.next=28,u.insert([{key:p,value:h}]);case 28:t.next=18;break;case 30:t.next=35;break;case 32:t.prev=32,t.t0=t.catch(16),l.e(t.t0);case 35:return t.prev=35,l.f(),t.finish(35);case 38:return null==s||delete s[o].data,t.next=41,y.w.setLocal({CS_OPENING_CASE_STATS:s});case 41:e({success:!0}),t.next=48;break;case 44:t.prev=44,t.t1=t.catch(0),console.error(t.t1),e({success:!1});case 48:case"end":return t.stop()}}),t,null,[[0,44],[16,32,35,38]])})));return function(e){return t.apply(this,arguments)}}()},getEventsByCursor:{code:"BACKGROUND_CS_OPENING_CASE_STATS_GET_EVENTS_BY_CURSOR",handler:function(){var t=jT(DT().mark((function t(e,r){var n,o,i,a,s;return DT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.cursor,t.prev=1,t.next=4,y.w.getLocal("userInfo");case 4:return o=t.sent,i=o.userInfo.steamId,a=new JA("SIH_CS_OPENING_CASE_STATS",i,[i]),t.next=9,a.openDB();case 9:return t.next=11,a.getPageByCursor({limit:5e3,cursor:n});case 11:s=t.sent,r({success:!0,response:s}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),console.error(t.t0),r({success:!1});case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}()},clearAllEventsBySteamId:{code:"BACKGROUND_CS_OPENING_CASE_STATS_CLEAR_ALL_EVENTS_BY_STEAM_ID",handler:function(){var t=jT(DT().mark((function t(e){var r,n,o,i;return DT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:return r=t.sent,n=r.userInfo.steamId,o=new JA("SIH_CS_OPENING_CASE_STATS",n,[n]),t.next=8,o.openDB();case 8:return t.next=10,o.clear();case 10:i=t.sent,e({success:!0,response:i}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0),e({success:!1});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}},connect:{sendMessage:{handler:function(t){var e,r;null===(e=FT)||void 0===e||null===(r=e.postMessage)||void 0===r||r.call(e,t)}},init:{handler:function(){var t=jT(DT().mark((function t(e){return DT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:FT=e;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}};IT.setController(BT);const GT=BT;var MT=function(t,e,r){switch(t.type){case GT.msg.parseCsOpeningCaseStats.code:GT.msg.parseCsOpeningCaseStats.handler(t.data);break;case GT.msg.stopParseCsOpeningCaseStats.code:GT.msg.stopParseCsOpeningCaseStats.handler();break;case GT.msg.dataTransferFromStorageToDB.code:GT.msg.dataTransferFromStorageToDB.handler(r);break;case GT.msg.getEventsByCursor.code:GT.msg.getEventsByCursor.handler(t.data,r);break;case GT.msg.clearAllEventsBySteamId.code:GT.msg.clearAllEventsBySteamId.handler(r)}return!0},UT=function(t){if("CS_OPENING_CASE_STATS_CONNECTION"===t.name)GT.connect.init.handler(t)};const HT={listener:{handler:MT},init:{handler:function(){chrome.runtime.onMessage.addListener(MT),chrome.runtime.onMessageExternal.addListener(MT)}}},qT={init:{handler:function(){chrome.runtime.onConnect.addListener(UT),chrome.runtime.onConnectExternal.addListener(UT)}}};const VT={handler:function(){try{HT.init.handler(),qT.init.handler()}catch(t){}}};function KT(t){return KT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KT(t)}function YT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */YT=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==KT(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(KT(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function WT(t,e,r){return(e=ZT(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zT(t){return function(t){if(Array.isArray(t))return $T(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $T(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$T(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function XT(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function JT(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){XT(i,n,o,a,s,"next",t)}function s(t){XT(i,n,o,a,s,"throw",t)}a(void 0)}))}}function QT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZT(n.key),n)}}function ZT(t){var e=function(t,e){if("object"!=KT(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=KT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==KT(e)?e:e+""}var tL=function(){return function(t,e,r){return e&&QT(t.prototype,e),r&&QT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e}),[{key:"set",value:(n=JT(YT().mark((function t(){var e,r,n=arguments;return YT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:[],r=n.length>1&&void 0!==n[1]&&!n[1]?this.get():[],t.next=5,y.w.setLocal(WT({},"".concat(this.name),[].concat(zT(e),zT(r))));case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"add",value:(r=JT(YT().mark((function t(e){var r;return YT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pull();case 2:return(r=t.sent).push(e),t.next=6,this.set(r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"pull",value:(e=JT(YT().mark((function t(){var e;return YT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.get();case 3:return e=t.sent,t.next=6,this.set();case 6:return t.abrupt("return",e);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(){return e.apply(this,arguments)})},{key:"get",value:(t=JT(YT().mark((function t(){return YT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal(WT({},"".concat(this.name),[]));case 3:return t.t0="".concat(this.name),t.abrupt("return",t.sent[t.t0].filter((function(t){return!t.ignore})));case 7:return t.prev=7,t.t1=t.catch(0),t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return t.apply(this,arguments)})}]);var t,e,r,n}();function eL(t){return eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eL(t)}function rL(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nL(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nL(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nL(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function oL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */oL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==eL(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(eL(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function iL(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function aL(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){iL(i,n,o,a,s,"next",t)}function s(t){iL(i,n,o,a,s,"throw",t)}a(void 0)}))}}function sL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cL(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sL(Object(r),!0).forEach((function(e){uL(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function uL(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=eL(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=eL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eL(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var lL=new tL("sihEventReg"),fL={"view-item":Is.A.stats.SIH_EVENT_REGISTER_VIEW_ITEM_EVENT_REGISTER_ENABLED,events:Is.A.stats.SIH_EVENTS_REGISTER_ENABLED},hL=Object.values(fL).reduce((function(t,e){return cL(cL({},t),{},uL({},e,!1))}),{}),pL={set:{code:Is.A.msg.BACKGROUND_EVENT_STORE,handler:function(){var t=aL(oL().mark((function t(e,r){var n,o;return oL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="function"==typeof r?r:function(){},t.next=3,y.w.get(hL);case 3:if(o=t.sent,t.prev=4,!o[fL[e.type]]){t.next=8;break}return t.next=8,lL.add({type:e.type,payload:cL(cL({},e.payload),{},{sihVersion:(0,Fs.lV)()})});case 8:n({success:!0}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),t.t0,n({success:!1});case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,r){return t.apply(this,arguments)}}()},send:{code:Is.A.msg.BACKGROUND_EVENT_REGISTRATION,handler:function(){var t=aL(oL().mark((function t(e,r){var n,o,i;return oL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="function"==typeof r?r:function(){},t.next=3,lL.pull();case 3:if(o=t.sent,(i=Object.entries(o.reduce((function(t,e){var r=e.type,n=e.payload;return t[r]=t[r]||[],t[r].push(n),t}),{}))).length){t.next=7;break}return t.abrupt("return",n({success:1}));case 7:return t.prev=7,t.next=10,Promise.all(i.map((function(t){var e=rL(t,2),r=e[0],n=e[1];return Fs.Ay.apiRequest({method:"POST",url:"".concat(Fs.f5,"/event-register/").concat(r),data:{events:n}})})));case 10:return t.abrupt("return",n({success:!0}));case 13:return t.prev=13,t.t0=t.catch(7),t.t0,t.abrupt("return",n({success:!1}));case 17:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(e,r){return t.apply(this,arguments)}}()}};const dL=pL;function yL(t){return yL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yL(t)}function vL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==yL(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(yL(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function mL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gL(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mL(Object(r),!0).forEach((function(e){bL(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function bL(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=yL(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yL(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wL(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function EL(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){wL(i,n,o,a,s,"next",t)}function s(t){wL(i,n,o,a,s,"throw",t)}a(void 0)}))}}var xL=new tL("sihEventRegV2");const SL={msg:{setEvent:{code:Is.A.msg.BACKGROUND_SET_EVENT_REGISTRATION_V2,handler:function(){var t=EL(vL().mark((function t(e,r){var n;return vL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="function"==typeof r?r:function(){},t.prev=1,t.next=4,xL.add(gL(gL({},e),{},{sihVersion:(0,Fs.lV)()}));case 4:n({success:!0}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("EventRegistrationV2.set error:",t.t0),n({success:!1});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,r){return t.apply(this,arguments)}}()}},alarm:{sendEventData:{code:Is.A.alarm.BACKGROUND_SEND_EVENT_REGISTRATION_V2,handler:function(){var t=EL(vL().mark((function t(){var e;return vL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xL.pull();case 2:if(e=t.sent,t.prev=3,!e.length){t.next=7;break}return t.next=7,Fs.Ay.apiRequest({method:"POST",url:"".concat(Fs.f5,"/event-register"),data:e});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.error("EventRegistrationV2.send error:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}()}}};function _L(t){return _L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_L(t)}function AL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */AL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==_L(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(_L(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function TL(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function LL(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){TL(i,n,o,a,s,"next",t)}function s(t){TL(i,n,o,a,s,"throw",t)}a(void 0)}))}}var kL=function(t,e,r){if(t.type===SL.msg.setEvent.code)SL.msg.setEvent.handler(t.data,r);return!0},OL=function(){chrome.alarms.create(SL.alarm.sendEventData.code,{delayInMinutes:1,periodInMinutes:1})},IL=function(){var t=LL(AL().mark((function t(e){return AL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.name,t.next=t.t0===SL.alarm.sendEventData.code?3:5;break;case 3:return SL.alarm.sendEventData.handler(),t.abrupt("break",6);case 5:return t.abrupt("break",6);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),NL=function(){var t=LL(AL().mark((function t(){return AL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:OL(),chrome.alarms.onAlarm.addListener(IL);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const PL={msgListener:{listener:{handler:kL},init:{handler:function(){chrome.runtime.onMessage.addListener(kL),chrome.runtime.onMessageExternal.addListener(kL)}}},alarmListener:{createAlarms:{handler:OL},listener:{handler:IL},init:{handler:NL}}};const CL={handler:function(){try{PL.alarmListener.init.handler(),PL.msgListener.init.handler()}catch(t){}}};function DL(t){return DL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DL(t)}function RL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */RL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==DL(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(DL(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function jL(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const FL={msg:{togglePopupToDefaultFormat:{code:"BACKGROUND_TOGGLE_POPUP_TO_DEFAULT",handler:function(){var t,e=(t=RL().mark((function t(){return RL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,KE.togglePopupToDefaultFormat();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){jL(i,n,o,a,s,"next",t)}function s(t){jL(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}()}},connect:{},alarm:{}};function BL(t){return BL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BL(t)}function GL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */GL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==BL(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(BL(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ML(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function UL(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ML(i,n,o,a,s,"next",t)}function s(t){ML(i,n,o,a,s,"throw",t)}a(void 0)}))}}var HL=function(t,e,r){if(t.type===FL.msg.togglePopupToDefaultFormat.code)FL.msg.togglePopupToDefaultFormat.handler();return!0},qL=function(t){t.name},VL=function(){},KL=function(){var t=UL(GL().mark((function t(e){return GL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.name,t.next=3;break;case 3:return t.abrupt("break",4);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),YL=function(){var t=UL(GL().mark((function t(){return GL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.alarms.onAlarm.addListener(KL);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const WL={msgListener:{listener:{handler:HL},init:{handler:function(){chrome.runtime.onMessage.addListener(HL),chrome.runtime.onMessageExternal.addListener(HL)}}},connectionListener:{init:{handler:function(){chrome.runtime.onConnect.addListener(qL),chrome.runtime.onConnectExternal.addListener(qL)}}},alarmListener:{createAlarms:{handler:VL},listener:{handler:KL},init:{handler:YL}},actionListener:{init:{handler:function(){var t=UL(GL().mark((function t(){return GL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.action.onClicked.addListener(KE.openPopup);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}};const zL={handler:function(){try{WL.msgListener.init.handler(),WL.actionListener.init.handler()}catch(t){console.error(t)}}},$L={handler:function(){try{KE.addReferrerToYoutubeEmbed()}catch(t){console.error(t)}}};function XL(t){return XL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XL(t)}function JL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */JL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==XL(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(XL(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function QL(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ZL(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){QL(i,n,o,a,s,"next",t)}function s(t){QL(i,n,o,a,s,"throw",t)}a(void 0)}))}}function tk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rk(n.key),n)}}function ek(t,e,r){return e&&tk(t.prototype,e),r&&tk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rk(t){var e=function(t,e){if("object"!=XL(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=XL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==XL(e)?e:e+""}function nk(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function ok(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var ik=new WeakMap,ak=new WeakMap,sk=new WeakMap,ck=new WeakMap,uk=new WeakMap,lk=new WeakMap,fk=new WeakMap,hk=new WeakMap,pk=ek((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),nk(this,ik,"https://www.faceit.com/api"),nk(this,ak,"https://www.faceit.com/api/*"),nk(this,sk,function(){var t=ZL(JL().mark((function t(r){var n,o;return JL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ok(hk,e).call(e,ok(ak,e),"https://www.faceit.com/en");case 3:return t.next=5,Fs.Ay.apiRequest({url:"".concat(ok(ik,e),"/searcher/v1/players?limit=20&offset=0&game_id=").concat(r),method:"GET"});case 5:if(o=t.sent,null===(n=o.payload)||void 0===n||!n.length){t.next=10;break}return t.abrupt("return",{success:!0,result:o.payload[0]});case 10:return t.abrupt("return",{success:!1});case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",{success:!1});case 17:return t.prev=17,t.next=20,rc.removeRule(ok(ak,e));case 20:return t.finish(17);case 21:case"end":return t.stop()}}),t,null,[[0,13,17,21]])})));return function(e){return t.apply(this,arguments)}}()),nk(this,ck,function(){var t=ZL(JL().mark((function t(r){var n;return JL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ok(hk,e).call(e,ok(ak,e),"https://www.faceit.com/ru/players/".concat(r));case 3:return t.next=5,Fs.Ay.apiRequest({url:"".concat(ok(ik,e),"/users/v1/nicknames/").concat(r),method:"GET"});case 5:if("OK"!==(n=t.sent).result){t.next=10;break}return t.abrupt("return",{success:!0,result:n.payload});case 10:return t.abrupt("return",{success:!1});case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",{success:!1});case 17:return t.prev=17,t.next=20,rc.removeRule(ok(ak,e));case 20:return t.finish(17);case 21:case"end":return t.stop()}}),t,null,[[0,13,17,21]])})));return function(e){return t.apply(this,arguments)}}()),nk(this,uk,function(){var t=ZL(JL().mark((function t(r,n){var o,i,a,s,c,u,l,f,h;return JL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ok(hk,e).call(e,ok(ak,e),"https://www.faceit.com/ru/players/".concat(n));case 3:return t.next=5,Fs.Ay.apiRequest({url:"".concat(ok(ik,e),"/stats/v1/stats/users/").concat(r,"/games/cs2"),method:"GET"});case 5:if(!(o=t.sent).lifetime){t.next=12;break}return i=o.lifetime,a=i.k5,s=i.k6,c=i.k8,u=i.m1,l=i.s0,f=i.s2,h={averageKDRatio:a,winRate:s,averageHeadShot:c,totalMatches:u,recentResults:l,longestWinStreak:f},t.abrupt("return",{success:!0,result:h});case 12:return t.abrupt("return",{success:!1});case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",{success:!1});case 19:return t.prev=19,t.next=22,rc.removeRule(ok(ak,e));case 22:return t.finish(19);case 23:case"end":return t.stop()}}),t,null,[[0,15,19,23]])})));return function(e,r){return t.apply(this,arguments)}}()),nk(this,lk,function(){var t=ZL(JL().mark((function t(r,n){var o,i;return JL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ok(hk,e).call(e,ok(ak,e),"https://www.faceit.com/ru/players/".concat(n));case 3:return t.next=5,Fs.Ay.apiRequest({url:"".concat(ok(ik,e),"/sheriff/v1/bans/").concat(r),method:"GET"});case 5:if(i=t.sent,null===(o=i.payload)||void 0===o||!o.length){t.next=10;break}return t.abrupt("return",{success:!0,result:i.payload[0]});case 10:return t.abrupt("return",{success:!1});case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",{success:!1});case 17:return t.prev=17,t.next=20,rc.removeRule(ok(ak,e));case 20:return t.finish(17);case 21:case"end":return t.stop()}}),t,null,[[0,13,17,21]])})));return function(e,r){return t.apply(this,arguments)}}()),nk(this,fk,function(){var t=ZL(JL().mark((function t(r,n){var o;return JL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ok(hk,e).call(e,ok(ak,e),"https://www.faceit.com/ru/players/".concat(n));case 3:return t.next=5,Fs.Ay.apiRequest({url:"".concat(ok(ik,e),"/ranking/v1/globalranking/cs2/EU/").concat(r),method:"GET"});case 5:if(!(o=t.sent).payload){t.next=10;break}return t.abrupt("return",{success:!0,result:o.payload});case 10:return t.abrupt("return",{success:!1});case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",{success:!1});case 17:return t.prev=17,t.next=20,rc.removeRule(ok(ak,e));case 20:return t.finish(17);case 21:case"end":return t.stop()}}),t,null,[[0,13,17,21]])})));return function(e,r){return t.apply(this,arguments)}}()),nk(this,hk,function(){var t=ZL(JL().mark((function t(e,r){var n;return JL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rc.generateDynamicRuleId(e);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:r}]},t.t2={urlFilter:e},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,rc.setRule(n);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),function(t,e,r){(e=rk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"collectUserSummaryBySteamId",function(){var t=ZL(JL().mark((function t(r){var n,o,i,a,s,c,u;return JL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ok(sk,e).call(e,r);case 3:if(!(n=t.sent).success){t.next=21;break}return o=n.result.nickname,t.next=8,ok(ck,e).call(e,o);case 8:if(!(i=t.sent).success){t.next=21;break}return a=i.result.id,t.next=13,ok(uk,e).call(e,a,o);case 13:return s=t.sent,t.next=16,ok(lk,e).call(e,a,o);case 16:return c=t.sent,t.next=19,ok(fk,e).call(e,a,o);case 19:return u=t.sent,t.abrupt("return",{success:!0,userInfo:i.result,userStats:s.result||null,bansInfo:c.result||null,globalRanking:u.result||null});case 21:return t.abrupt("return",{success:!1});case 24:return t.prev=24,t.t0=t.catch(0),t.abrupt("return",{success:!1});case 27:case"end":return t.stop()}}),t,null,[[0,24]])})));return function(e){return t.apply(this,arguments)}}())}));const dk=new pk;function yk(t){return yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yk(t)}function vk(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vk=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==yk(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(yk(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function mk(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const gk={msg:{getUserSummaryBySteamId:{code:"BACKGROUND_GET_FACEIT_SUMMARY_BY_STEAMID",handler:function(){var t,e=(t=vk().mark((function t(e,r){var n;return vk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.steamId,t.prev=1,t.t0=r,t.next=5,dk.collectUserSummaryBySteamId(n);case 5:t.t1=t.sent,(0,t.t0)(t.t1),t.next=13;break;case 9:t.prev=9,t.t2=t.catch(1),console.error(t.t2),r({success:!1});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){mk(i,n,o,a,s,"next",t)}function s(t){mk(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}},alarm:{}};var bk=function(t,e,r){if(t.type===gk.msg.getUserSummaryBySteamId.code)gk.msg.getUserSummaryBySteamId.handler(t.data,r);return!0};const wk={listener:{handler:bk},init:{handler:function(){chrome.runtime.onMessage.addListener(bk),chrome.runtime.onMessageExternal.addListener(bk)}}};const Ek={handler:function(){try{wk.init.handler()}catch(t){}}};function xk(t){return xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xk(t)}function Sk(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Sk=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==xk(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(xk(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function _k(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ak(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tk(n.key),n)}}function Tk(t){var e=function(t,e){if("object"!=xk(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xk(e)?e:e+""}var Lk=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&Ak(t.prototype,e),r&&Ak(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"getItemFloat",value:(e=Sk().mark((function e(r){var n,o,i,a,s,c,u,l,f,h,p,d;return Sk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.link,o=r.isForce,i=void 0!==o&&o,!(a=t._FLOATS_MAP.get(n))){e.next=5;break}return a.abort(),e.abrupt("return");case 5:return s=new AbortController,t._FLOATS_MAP.set(n,s),e.prev=7,c=s.signal,u={url:decodeURIComponent(n)},i&&(u.force=Math.random()),l=chrome.runtime.getManifest(),f=l.version,e.next=14,Au.getSihAppUserJWTToken();case 14:return h=e.sent,p=(null==h?void 0:h.token)||"",e.next=18,Fs.Ay.apiRequest({headers:{"x-sih-token":p,"x-sih-version":f},method:"GET",url:Fs.Gp,data:u,signal:c});case 18:return d=e.sent,e.abrupt("return",d);case 22:return e.prev=22,e.t0=e.catch(7),e.t0,e.abrupt("return",{success:!1,error:e.t0});case 26:return e.prev=26,t._FLOATS_MAP.delete(n),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[7,22,26,29]])})),r=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(t){_k(i,n,o,a,s,"next",t)}function s(t){_k(i,n,o,a,s,"throw",t)}a(void 0)}))},function(t){return r.apply(this,arguments)})}]);var e,r}();!function(t,e,r){(e=Tk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Lk,"_FLOATS_MAP",new Map);const kk=new Lk;function Ok(t){return Ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ok(t)}function Ik(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ik=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Ok(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ok(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Nk(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Pk={msg:{getItemFloat:{code:"BACKGROUND_GET_WEAR_VALUE",handler:function(){var t,e=(t=Ik().mark((function t(e,r){var n,o,i,a;return Ik().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.link,o=e.isForce,i=void 0!==o&&o,t.prev=1,t.next=4,kk.getItemFloat({link:n,isForce:i});case 4:a=t.sent,r(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Nk(i,n,o,a,s,"next",t)}function s(t){Nk(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}}};var Ck=function(t,e,r){if(t.type===Pk.msg.getItemFloat.code)Pk.msg.getItemFloat.handler(t.data,r);return!0};const Dk={listener:{handler:Ck},init:{handler:function(){chrome.runtime.onMessage.addListener(Ck),chrome.runtime.onMessageExternal.addListener(Ck)}}};const Rk={handler:function(){try{Dk.init.handler()}catch(t){}}};function jk(t){return jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jk(t)}function Fk(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Fk=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==jk(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(jk(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Bk(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Gk(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Bk(i,n,o,a,s,"next",t)}function s(t){Bk(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Mk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qk(n.key),n)}}function Uk(t,e,r){return e&&Mk(t.prototype,e),r&&Mk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hk(t,e,r){return(e=qk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qk(t){var e=function(t,e){if("object"!=jk(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jk(e)?e:e+""}var Vk=Uk((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Hk(this,"getGameBanner",function(){var t=Gk(Fk().mark((function t(e){var r,n,o,i,a;return Fk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.appId,n=e.countryId,o=e.tags,i=e.time,t.prev=1,t.next=4,Fs.Ay.apiRequest({url:"".concat(Fs.j7,"/steam/banner"),data:{appId:r,countryId:n,tags:o,time:i}});case 4:return a=t.sent,t.abrupt("return",{success:!0,data:a});case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",{success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()),Hk(this,"getGameBannerV2",Gk(Fk().mark((function t(){var e;return Fk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({url:"https://gainskins.steaminventoryhelper.com/api/v2/sih/steam/banner"});case 3:return e=t.sent,t.abrupt("return",{success:!0,data:e});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))))}));const Kk=new Vk;function Yk(t){return Yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yk(t)}function Wk(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wk=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Yk(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Yk(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function zk(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function $k(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zk(i,n,o,a,s,"next",t)}function s(t){zk(i,n,o,a,s,"throw",t)}a(void 0)}))}}const Xk={msg:{getGameBanner:{code:"BACKGROUND_GET_BANNER_LIVE",handler:function(){var t=$k(Wk().mark((function t(e,r){var n,o,i,a,s;return Wk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.appId,o=e.countryId,i=e.tags,a=e.time,t.prev=1,t.next=4,Kk.getGameBanner({appId:n,countryId:o,tags:i,time:a});case 4:s=t.sent,r(s),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({success:!1});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getGameBannerV2:{code:"BACKGROUND_GET_BANNER_LIVE_V2",handler:function(){var t=$k(Wk().mark((function t(e){var r;return Wk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kk.getGameBannerV2();case 3:r=t.sent,e(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}};var Jk=function(t,e,r){switch(t.type){case Xk.msg.getGameBanner.code:Xk.msg.getGameBanner.handler(r);break;case Xk.msg.getGameBannerV2.code:Xk.msg.getGameBannerV2.handler(r)}return!0};const Qk={listener:{handler:Jk},init:{handler:function(){chrome.runtime.onMessage.addListener(Jk),chrome.runtime.onMessageExternal.addListener(Jk)}}};const Zk={handler:function(){try{Qk.init.handler()}catch(t){}}},tO=JSON.parse('{"Q":{"waxpeer":"1","csgocom":"2","csgocomBuy":"3","csmoneyStore":"4","csmoneyTrade":"5","skinport":"6","bitskins":"7","shadowpay":"8","skinbaron":"9","dmarket":"10","mannco":"11","steamanalyst":"12","csgobackpack":"13","lootfarm":"14","tradeit":"15","tradeitDeposit":"16","steamlvlup":"17","cstrade":"18","sihanalyst":"20","buff163":"21","lisskins":"22","igxe":"23","gamerpay":"24","skinsmonkey":"25","skinsmonkeycash":"26","steamprices":"27","sihmarket":"28","sihDeposit":"29","skinout":"30","whitemarket":"31","haloskins":"32","rustskins":"33","csdeal":"34","csfloat":"35","globalTradingPrice":"36","steamLiveSell":"38","avanmarket":"39","skinplace":"40","gameboost":"41"}}');function eO(t){return eO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eO(t)}function rO(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=lO(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function nO(t){return function(t){if(Array.isArray(t))return fO(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||lO(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oO(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */oO=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==eO(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(eO(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function iO(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function aO(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){iO(i,n,o,a,s,"next",t)}function s(t){iO(i,n,o,a,s,"throw",t)}a(void 0)}))}}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sO(Object(r),!0).forEach((function(e){dO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function uO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||lO(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lO(t,e){if(t){if("string"==typeof t)return fO(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fO(t,e):void 0}}function fO(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function hO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yO(n.key),n)}}function pO(t,e,r){return e&&hO(t.prototype,e),r&&hO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dO(t,e,r){return(e=yO(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yO(t){var e=function(t,e){if("object"!=eO(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=eO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eO(e)?e:e+""}function vO(t,e,r){mO(t,e),e.set(t,r)}function mO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gO(t,e,r){return r(wO(t,e))}function bO(t,e){return t.get(wO(t,e))}function wO(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var EO=new WeakMap,xO=new WeakMap,SO=new WeakMap,_O=new WeakMap,AO=new WeakSet,TO=new WeakMap,LO=new WeakMap,kO=new WeakMap,OO=new WeakMap,IO=new WeakMap,NO=new WeakMap,PO=pO((function t(){var e,r,n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),mO(e=this,r=AO),r.add(e),vO(this,EO,new Map),dO(this,"CACHED_TIME",6e4),vO(this,xO,["p","pr","c","lp","lc"]),vO(this,SO,void 0),vO(this,_O,new Map(Object.entries(tO.Q))),vO(this,TO,(function(t){return t?gO(AO,n,CO).filter((function(e){return e.appIds.includes(t)})):gO(AO,n,CO)})),vO(this,LO,(function(t){var e=new Map(Array.from(bO(_O,n).entries()).map((function(t){var e=uO(t,2),r=e[0];return[e[1],r]})));return Object.entries(t).reduce((function(t,r){var o=uO(r,2),i=o[0],a=o[1],s=e.get(i)||i,c=cO(cO(cO({},a),{},{price:a.p,count:a.c},a.pr&&{priceRub:a.pr}),a.lp&&{locked:{price:a.lp,count:a.lc}});return bO(xO,n).forEach((function(t){return delete c[t]})),t[s]=c,t}),{})})),vO(this,kO,(function(t,e){if(!e.s)return{success:!1};var r=new Map(Array.from(bO(SO,n).entries()).map((function(t){var e=uO(t,2),r=e[0];return[e[1],r]})));return{success:!0,items:Object.entries(e.i).reduce((function(t,e){var o=uO(e,2),i=o[0],a=o[1];return t[r.get(i)||i]=bO(LO,n).call(n,a),t}),{})}})),vO(this,OO,(function(t){var e=t.items.map((function(t){return bO(SO,n).get(t)||t})),r=bO(TO,n).call(n,t.appId.toString()).map((function(t){return t.name}));return{appId:t.appId,items:e,markets:r.length!==t.markets.length?t.markets:["all"]}})),vO(this,IO,function(){var t=aO(oO().mark((function t(e){var r,o,i,a,s,c,u,l,f,h,p;return oO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=cO({},e),o={},i=new JA("SIH_CACHED_PRICES","PRICES_V3",["PRICES_V3"]),t.next=5,i.openDB();case 5:a=Date.now(),s=n.CACHED_TIME,c=100,u=r.items,l=[],f=0;case 11:if(!(f<u.length)){t.next=22;break}return h=u.slice(f,f+c),t.next=15,Promise.all(h.map(function(){var t=aO(oO().mark((function t(r){var n,c,u,l,f,h,p,d,y,v,m,g,b,w;return oO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.markets.map((function(t){return"".concat(e.appId,"_").concat(r,"_").concat(t)})),t.next=3,i.getMany(n);case 3:c=t.sent,u=!0,l=0,f=Object.entries(c);case 6:if(!(l<f.length)){t.next=15;break}if(h=uO(f[l],2),p=h[0],(d=h[1])&&!(a-d.requestDate>s)){t.next=12;break}return u=!1,t.next=12,i.update([{key:p,value:{id:p,requestDate:a}}]);case 12:l++,t.next=6;break;case 15:if(u)for(y=0,v=Object.entries(c);y<v.length;y++)m=uO(v[y],2),g=m[0],null!=(b=m[1])&&b.responseDate&&a-b.responseDate<s&&b.marketPriceInfo&&(w=g.split("_").pop(),o[r]||(o[r]={}),o[r][w]=b.marketPriceInfo);return t.abrupt("return",{marketHashName:r,keep:!u});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 15:return p=t.sent,l.push.apply(l,nO(p)),t.next=19,new Promise((function(t){return setTimeout(t,100)}));case 19:f+=c,t.next=11;break;case 22:return r.items=l.filter((function(t){return t.keep})).map((function(t){return t.marketHashName})),t.abrupt("return",{newPayloadData:r,cachedResponseItems:o});case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),vO(this,NO,function(){var t=aO(oO().mark((function t(e){var r,o,i;return oO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=JSON.stringify(e),!bO(EO,n).has(r)){t.next=5;break}return t.next=4,bO(EO,n).get(r);case 4:case 12:return t.abrupt("return",t.sent);case 5:return o=new JA("SIH_CACHED_PRICES","PRICES_V3",["PRICES_V3"]),t.next=8,o.openDB();case 8:return i=aO(oO().mark((function t(){var i,a,s,c,u,l,f,h,p,d,y,v,m,g,b,w,E,x,S,_,A,T,L,k,O,I,N,P,C,D,R,j,F;return oO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserJWTToken();case 3:if(a=t.sent,s=chrome.runtime.getManifest(),c=s.version,null!=a&&a.token){t.next=7;break}return t.abrupt("return",{success:!1});case 7:if(bO(SO,n)){t.next=10;break}return t.next=10,wO(AO,n,DO).call(n);case 10:return t.next=12,bO(IO,n).call(n,e);case 12:if(u=t.sent,l=u.newPayloadData,f=u.cachedResponseItems,h=bO(OO,n).call(n,l),null!=l&&null!==(i=l.items)&&void 0!==i&&i.length){t.next=18;break}return t.abrupt("return",{success:!0,items:f});case 18:return t.next=20,Fs.Ay.apiRequest({headers:{"x-sih-token":a.token,"x-sih-version":c,source:(null==e?void 0:e.source)||"other"},method:"POST",url:"".concat(Fs.C$,"/v3/live-prices/getPrices"),data:h});case 20:for(p=t.sent,d=bO(kO,n).call(n,l,p),Object.assign(d.items,f),y=Date.now(),v=[],m=0,g=Object.entries(d.items);m<g.length;m++)for(b=uO(g[m],2),w=b[0],E=b[1],x=0,S=Object.entries(E);x<S.length;x++)_=uO(S[x],2),A=_[0],T=_[1],L="".concat(e.appId,"_").concat(w,"_").concat(A),v.push({key:L,value:{id:L,requestDate:y,responseDate:y,marketPriceInfo:T}});k=500,O=0;case 28:if(!(O<v.length)){t.next=34;break}return t.next=31,o.updateBatch(v.slice(O,O+k),{smart:!0});case 31:O+=k,t.next=28;break;case 34:return t.abrupt("return",d);case 37:t.prev=37,t.t0=t.catch(0),console.error("Error fetching getPrices:",t.t0),t.prev=40,I=[],N=rO((null==e?void 0:e.items)||[]);try{for(N.s();!(P=N.n()).done;){C=P.value,D=rO(e.markets);try{for(D.s();!(R=D.n()).done;)j=R.value,I.push("".concat(e.appId,"_").concat(C,"_").concat(j))}catch(t){D.e(t)}finally{D.f()}}}catch(t){N.e(t)}finally{N.f()}F=0;case 45:if(!(F<I.length)){t.next=51;break}return t.next=48,o.deleteBatch(I.slice(F,F+500));case 48:F+=500,t.next=45;break;case 51:t.next=56;break;case 53:t.prev=53,t.t1=t.catch(40),console.error("Error clearing outdated cache after getPrices fail:",t.t1);case 56:return t.abrupt("return",{success:!1});case 57:return t.prev=57,bO(EO,n).delete(r),t.finish(57);case 60:case"end":return t.stop()}}),t,null,[[0,37,57,60],[40,53]])})))(),bO(EO,n).set(r,i),t.next=12,i;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.getPrices=bO(NO,this)}));function CO(t){return JSON.parse(JSON.stringify(Is.A.markets))}function DO(){return RO.apply(this,arguments)}function RO(){return(RO=aO(oO().mark((function t(){var e,r,n;return oO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=chrome.runtime.getURL("/assets/data/cached-key-items.json"),t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.json();case 6:n=t.sent,o=SO,i=this,a=new Map(Object.entries(n.items)),o.set(wO(o,i),a);case 8:case"end":return t.stop()}var o,i,a}),t,this)})))).apply(this,arguments)}const jO=new PO;function FO(t){return FO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FO(t)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function GO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?BO(Object(r),!0).forEach((function(e){KO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function MO(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */MO=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==FO(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(FO(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function UO(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function HO(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){UO(i,n,o,a,s,"next",t)}function s(t){UO(i,n,o,a,s,"throw",t)}a(void 0)}))}}function qO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YO(n.key),n)}}function VO(t,e,r){return e&&qO(t.prototype,e),r&&qO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KO(t,e,r){return(e=YO(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YO(t){var e=function(t,e){if("object"!=FO(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=FO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==FO(e)?e:e+""}var WO=VO((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));KO(WO,"updateMarketHistoryHeaders",function(){var t=HO(MO().mark((function t(e,r){var n;return MO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rc.generateDynamicRuleId(r);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Cookie",operation:"set",value:e}]},t.t2={urlFilter:r},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,rc.setRule(n);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());const zO=WO;var $O=function(){var t=HO(MO().mark((function t(e){var r,n,o,i,a,s,c,u,l;return MO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.url,n=e.requestHeaders,o=r.split("/"),i=o[o.length-1],t.next=5,y.w.getLocal("BUY_LISTING_HISTORY_STATS");case 5:if(a=t.sent,s=a.BUY_LISTING_HISTORY_STATS,c=void 0===s?[]:s,!(u=n.find((function(t){return"referer"===t.name.toLowerCase()})))){t.next=14;break}return l=KO({},i,{refererHeader:u}),c.unshift(l),t.next=14,y.w.setLocal({BUY_LISTING_HISTORY_STATS:c});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),XO=function(){var t=HO(MO().mark((function t(e){var r,n,o,i,a,s,c,u,l,f;return MO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.statusCode,n=e.url,o=e.initiator,i=n.split("/"),a=i[i.length-1],t.next=5,y.w.getLocal("BUY_LISTING_HISTORY_STATS");case 5:return s=t.sent,c=s.BUY_LISTING_HISTORY_STATS,-1!==(l=(u=void 0===c?[]:c).findIndex((function(t){return t[a]})))?u[l][a]=GO({initiator:o,ip:e.ip,method:e.method,statusCode:r,timeStamp:e.timeStamp,date:new Date(e.timeStamp).toUTCString(),url:n},u[l][a]):(f=KO({},a,{initiator:o,ip:e.ip,method:e.method,statusCode:r,timeStamp:e.timeStamp,date:new Date(e.timeStamp).toUTCString(),url:n}),u.unshift(f)),t.next=12,y.w.setLocal({BUY_LISTING_HISTORY_STATS:u});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function JO(t){return JO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JO(t)}function QO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ZO(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ZO(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZO(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */tI=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==JO(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(JO(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function eI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rI(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?eI(Object(r),!0).forEach((function(e){sI(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nI(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function oI(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){nI(i,n,o,a,s,"next",t)}function s(t){nI(i,n,o,a,s,"throw",t)}a(void 0)}))}}function iI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cI(n.key),n)}}function aI(t,e,r){return e&&iI(t.prototype,e),r&&iI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sI(t,e,r){return(e=cI(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cI(t){var e=function(t,e){if("object"!=JO(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=JO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==JO(e)?e:e+""}chrome.webRequest.onBeforeSendHeaders.addListener($O,{urls:["https://steamcommunity.com/market/buylisting*"]},["requestHeaders","extraHeaders"]),chrome.webRequest.onCompleted.addListener(XO,{urls:["https://steamcommunity.com/market/buylisting*"]});var uI=Os(""),lI=aI((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),sI(this,"prebuildData",function(){var t=oI(tI().mark((function t(r,n){var o,i;return tI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get("steamCurrency");case 2:return o=t.sent,i=o.steamCurrency,t.abrupt("return",new Promise(function(){var t=oI(tI().mark((function t(o){var a,s;return tI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=uI(r.results_html).find(".market_listing_row"),t.next=3,Promise.all(a.map(function(){var t=oI(tI().mark((function t(o,a){var s,c,u,l,f,h,p,d,y,v,m,g;return tI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s={},u=uI(a),!(l=u.find(".market_listing_item_name").attr("id")).includes("_event_")){t.next=5;break}return t.abrupt("return");case 5:return f=u.find(".market_listing_game_name").text(),s={gameName:f,listingId:l.split("_")[2]},h=u.find(".market_listing_price").text(),(p=h)&&(p=p.match(/([\d+?., ]+\d)/g))&&p[0].includes(",")&&(p=p[0].replace(/,/,".").replace(/ /,"").trim()),d=null,y=n.find((function(t){return t.includes(l)})),y&&(c=y.split(",")[2].replace(/['\s]/g,""),v=y.split(",")[3].replace(/['\s]/g,""),m=y.split(",")[4].replace(/['\s]/g,""),d=r.assets[c][v][m]?r.assets[c][v][m].market_hash_name:null,s=rI({market_hash_name:d},s)),t.next=15,Ks.getPriceFromCurrency(+p,i.eCurrencyCode,i.eCurrencyCode);case 15:if(g=t.sent,u.find(".market_listing_listed_date").each((function(t,e){var r=uI(e).text();r&&(r=r.replace(/[\t\n]/g,""),0===t&&(s=rI({datePurchase:r},s)))})),g.price>0&&(s=rI({originalPriceStr:h.trim(),buyerPrice:g.price,buyerPriceTxt:g.text},s)),!(c&&570==+c&&s.buyerPrice&&e.isToday(s.datePurchase))){t.next=22;break}if(!(uI(a).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("+")>-1)){t.next=22;break}return t.abrupt("return",s);case 22:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 3:s=t.sent.filter((function(t){return t})),o(s);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),sI(this,"getMarketHistory",oI(tI().mark((function t(){var e,r,n,o=arguments;return tI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:0,r=["Steam_Language","browserid","sessionid","steamCountry","steamLoginSecure","timezoneOffset","webTradeEligibility"],n="https://steamcommunity.com/market/myhistory*",t.abrupt("return",new Promise((function(t,o){chrome.cookies.getAll({domain:"steamcommunity.com"},function(){var i=oI(tI().mark((function i(a){var s,c,u;return tI().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s=a.filter((function(t){return r.includes(t.name)})),c=s.map((function(t){return"".concat(t.name,"=").concat("Steam_Language"!==t.name?t.value:"english")})).join("; "),i.next=5,zO.updateMarketHistoryHeaders(c,n);case 5:return i.next=7,Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/market/myhistory?count=500&start=".concat(e)});case 7:return u=i.sent,i.next=10,rc.removeRule(n);case 10:t(u),i.next=17;break;case 13:i.prev=13,i.t0=i.catch(0),i.t0,o(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,13]])})));return function(t){return i.apply(this,arguments)}}())})));case 4:case"end":return t.stop()}}),t)})))),sI(this,"buildSendData",function(){var t=oI(tI().mark((function t(r,n){var o,i,a,s,c;return tI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get("steamCurrency");case 2:return o=t.sent,i=o.steamCurrency,t.next=6,e.prebuildData(r,n);case 6:if((a=t.sent).length){t.next=9;break}return t.abrupt("return",[]);case 9:return s={appId:"570",items:a.map((function(t){return t.market_hash_name})),markets:["steamLiveSell"]},t.next=12,jO.getPrices(s);case 12:if((c=t.sent).success){t.next=15;break}return t.abrupt("return",[]);case 15:return t.next=17,Promise.all(a.map(function(){var t=oI(tI().mark((function t(e){var r,n,o,a,s;return tI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(null==c||null===(r=c.items)||void 0===r||null===(n=r[e.market_hash_name])||void 0===n||null===(o=n.steamLiveSell)||void 0===o?void 0:o.price)||0,t.next=3,Ks.getPriceFromCurrency(a,i.eCurrencyCode,1);case 3:return s=t.sent,e=rI({marketPrice:a,marketPriceByCurrency:Math.round(100*s.price)/100,marketPriceByCurrencyTxt:s.text},e),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),sI(this,"getFilteredSendData",(function(t){return t&&t.length?t.filter((function(t){if(t.marketPrice&&10*t.marketPriceByCurrency-t.buyerPrice<0)return t})):[]})),sI(this,"isToday",(function(t){var e=QO(t.split(" "),2),r=e[0],n=e[1],o=new Date,i=new Date(o.getFullYear(),{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11}[n],parseInt(r));return i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()})),sI(this,"getUniqHistoryItemsFromStorage",function(){var t=oI(tI().mark((function t(e){var r,n,o,i;return tI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("CACHED_OVERPRICED_MARKET_HISTORY");case 2:if(r=t.sent,n=r.CACHED_OVERPRICED_MARKET_HISTORY,o=(new Date).toDateString(),n){t.next=9;break}return t.next=8,y.w.setLocal({CACHED_OVERPRICED_MARKET_HISTORY:sI({},o,e)});case 8:case 12:return t.abrupt("return",e);case 9:if(n[o]){t.next=13;break}return t.next=12,y.w.setLocal({CACHED_OVERPRICED_MARKET_HISTORY:sI({},o,e)});case 13:return i=e.filter((function(t){if(!n[o].find((function(e){return e.listingId===t.listingId})))return n[o].push(t),t})),t.next=16,y.w.setLocal({CACHED_OVERPRICED_MARKET_HISTORY:n});case 16:return t.abrupt("return",i);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),sI(this,"getBuyListingDetails",function(){var t=oI(tI().mark((function t(e){var r,n,o;return tI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.length){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,y.w.getLocal("BUY_LISTING_HISTORY_STATS");case 4:return r=t.sent,n=r.BUY_LISTING_HISTORY_STATS,o=void 0===n?[]:n,t.abrupt("return",e.map((function(t){var e=o.find((function(e){return e[t.listingId]}));return e&&(t=rI(rI({},e[t.listingId]),t)),t})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));new lI;function fI(t){return fI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fI(t)}function hI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */hI=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==fI(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(fI(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function pI(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function dI(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){pI(i,n,o,a,s,"next",t)}function s(t){pI(i,n,o,a,s,"throw",t)}a(void 0)}))}}Os("");const yI={msg:{},alarm:{sendUserHistoryInfo:{code:Is.A.alarm.BACKGROUND_SEND_USER_MARKET_HISTORY,handler:function(){var t=dI(hI().mark((function t(){return hI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}};var vI=function(){chrome.alarms.create(yI.alarm.sendUserHistoryInfo.code,{delayInMinutes:0,periodInMinutes:60})},mI=function(t){if(t.name===yI.alarm.sendUserHistoryInfo.code)yI.alarm.sendUserHistoryInfo.handler()};const gI={createAlarms:{handler:vI},listener:{handler:mI},init:{handler:function(){vI(),chrome.alarms.onAlarm.addListener(mI)}}};const bI={handler:function(){try{gI.init.handler()}catch(t){}}};function wI(t){return wI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wI(t)}function EI(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=TI(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function xI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function SI(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xI(Object(r),!0).forEach((function(e){_I(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _I(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=wI(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=wI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wI(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AI(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||TI(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TI(t,e){if(t){if("string"==typeof t)return LI(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?LI(t,e):void 0}}function LI(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function kI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */kI=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==wI(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(wI(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function OI(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function II(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){OI(i,n,o,a,s,"next",t)}function s(t){OI(i,n,o,a,s,"throw",t)}a(void 0)}))}}var NI,PI={},CI=!1,DI=!1,RI=function(){var t=II(kI().mark((function t(e,r){var n;return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!r){t.next=11;break}return t.next=3,rc.generateDynamicRuleId(r);case 3:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:e}]},t.t2={urlFilter:r},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=9,rc.setRule(n);case 9:t.next=12;break;case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),jI=function(){var t=II(kI().mark((function t(e,r){var n,o,i,a,s,c,u,l,f;return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.params,o=e.requestHeaders,i=void 0===o?{}:o,t.prev=1,Object.keys(i).length>0)for(a=0,s=Object.entries(i);a<s.length;a++)c=AI(s[a],2),u=c[0],l=c[1],PI[u]=l;return t.next=5,RI(PI.referer,r);case 5:return t.next=7,Fs.Ay.apiRequest(SI({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"}},n));case 7:return f=t.sent,t.next=10,rc.removeRule(r);case 10:return t.abrupt("return",f);case 13:return t.prev=13,t.t0=t.catch(1),t.next=17,rc.removeRule(r);case 17:throw console.error(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}(),FI=function(){var t=II(kI().mark((function t(e){var r,n,o;return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.payload,n=e.requestHeaders,t.prev=1,o={params:{method:"POST",url:"https://steamcommunity.com/market/createbuyorder/",data:r},requestHeaders:{referer:n.referer}},t.next=5,BI({data:o});case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t.catch(1),t.t0,t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),BI=function(){var t=II(kI().mark((function t(e){var r,n;return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.data,t.prev=1,t.next=5,jI(r,"https://steamcommunity.com/market/createbuyorder/");case 5:return t.abrupt("return",t.sent);case 8:if(t.prev=8,t.t0=t.catch(1),n=(null===t.t0||void 0===t.t0?void 0:t.t0.responseJSON)||JSON.parse(null===t.t0||void 0===t.t0?void 0:t.t0.responseText)||null){t.next=13;break}return t.abrupt("return",{success:!1,error:"Not found response data"});case 13:if(null==n||!n.message){t.next=15;break}return t.abrupt("return",{success:!1,error:n.message});case 15:if(!n.need_confirmation){t.next=21;break}return DI||(UI.connect.sendMessage.handler({success:!1,error:"need confirmation"}),DI=!0),r.params.data.confirmation=n.confirmation.confirmation_id,t.abrupt("return",new Promise((function(t){setTimeout(II(kI().mark((function e(){return kI().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(CI){e.next=6;break}return e.t0=t,e.next=4,BI({data:r});case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)}))),1500)})));case 21:return t.abrupt("return",{success:!1,error:"Failed to create buy order"});case 22:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),GI=function(){var t=II(kI().mark((function t(e,r){var n,o,i,a;return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,o=e.requestHeaders,t.prev=1,i={params:{method:"POST",url:"https://steamcommunity.com/market/cancelbuyorder/",data:n},requestHeaders:{referer:o.referer}},t.next=6,jI(i,"https://steamcommunity.com/market/cancelbuyorder/");case 6:a=t.sent,r(a),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0,r(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}(),MI=function(t){return new Promise((function(e){return setTimeout(e,t)}))};const UI={msg:{createOrder:{code:Is.A.msg.BACKGROUND_CREATE_BUY_ORDER,handler:function(){var t=II(kI().mark((function t(e,r){var n,o,i;return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,o=e.requestHeaders,t.prev=1,CI=!1,DI=!1,t.next=6,FI({payload:n,requestHeaders:o});case 6:i=t.sent,r(i),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),r({success:!1,error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()},getOrderStatus:{code:Is.A.msg.BACKGROUND_GET_BUY_ORDER_STATUS,handler:function(){var t=II(kI().mark((function t(e,r){var n,o,i,a;return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,o=e.requestHeaders,t.prev=1,i={params:{method:"GET",url:"https://steamcommunity.com/market/getbuyorderstatus/",data:n},requestHeaders:{referer:o.referer}},t.next=6,jI(i,"https://steamcommunity.com/market/getbuyorderstatus/*");case 6:a=t.sent,r(a),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0,r(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()},cancelOrder:{code:Is.A.msg.BACKGROUND_CANCEL_BUY_ORDER,handler:function(){var t=II(kI().mark((function t(e,r){var n,o;return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,o=e.requestHeaders,t.next=3,GI({payload:n,requestHeaders:o},r);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},resubmitOrders:{code:Is.A.msg.BACKGROUND_RESUBMIT_BUY_ORDER,handler:function(){var t=II(kI().mark((function t(e,r){var n,o,i;return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,CI=!1,DI=!1,n=EI(e),t.prev=4,i=kI().mark((function t(){var e,r,n,i,a,s,c,u,l;return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.value,r=e.payload,n=e.requestHeaders,i=!1,t.next=4,MI(500);case 4:if(CI){t.next=7;break}return t.next=7,GI({payload:r,requestHeaders:n},(function(t){1===t.success&&(i=!0)}));case 7:return t.next=9,MI(2e3);case 9:if(!i||CI){t.next=34;break}return t.next=12,FI({payload:r,requestHeaders:n});case 12:if(null!=(a=t.sent)&&a.message&&null!=a&&a.error){t.next=25;break}return t.next=16,y.w.getLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:[]});case 16:return s=t.sent,c=s.COMPLETED_BUY_ORDERS_MARKET_ITEMS,r.isRemove=i,r.isSell=!0,c.push(r),t.next=23,y.w.setLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:c});case 23:t.next=34;break;case 25:return t.next=27,y.w.getLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:[]});case 27:return u=t.sent,l=u.COMPLETED_BUY_ORDERS_MARKET_ITEMS,r.isRemove=i,r.isSell=!1,l.push(r),t.next=34,y.w.setLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:l});case 34:case"end":return t.stop()}}),t)})),n.s();case 7:if((o=n.n()).done){t.next=11;break}return t.delegateYield(i(),"t0",9);case 9:t.next=7;break;case 11:t.next=16;break;case 13:t.prev=13,t.t1=t.catch(4),n.e(t.t1);case 16:return t.prev=16,n.f(),t.finish(16);case 19:r(),t.next=25;break;case 22:t.prev=22,t.t2=t.catch(0),t.t2;case 25:case"end":return t.stop()}}),t,null,[[0,22],[4,13,16,19]])})));return function(e,r){return t.apply(this,arguments)}}()},getSuccessBuyOrdersCount:{code:Is.A.msg.BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS,handler:function(){var t=II(kI().mark((function t(e){var r,n;return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:[]});case 3:r=t.sent,n=r.COMPLETED_BUY_ORDERS_MARKET_ITEMS,e({COMPLETED_MARKET_ITEMS:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},stopRelisting:{code:Is.A.msg.BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS,handler:function(){var t=II(kI().mark((function t(e){return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,CI=!0,t.next=4,y.w.setLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:[]});case 4:e({success:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},alarm:{},connect:{sendMessage:{handler:function(t){NI.postMessage(t)}},init:{handler:function(){var t=II(kI().mark((function t(e){return kI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:NI=e;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}};function HI(t){return HI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HI(t)}function qI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */qI=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==HI(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(HI(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function VI(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var KI=function(){var t,e=(t=qI().mark((function t(e,r,n){return qI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===UI.msg.createOrder.code?3:t.t0===UI.msg.getOrderStatus.code?6:t.t0===UI.msg.cancelOrder.code?9:t.t0===UI.msg.resubmitOrders.code?12:t.t0===UI.msg.getSuccessBuyOrdersCount.code?15:t.t0===UI.msg.stopRelisting.code?18:21;break;case 3:return t.next=5,UI.msg.createOrder.handler(e.data,n);case 5:case 8:case 11:case 14:case 17:case 20:case 21:return t.abrupt("break",22);case 6:return t.next=8,UI.msg.getOrderStatus.handler(e.data,n);case 9:return t.next=11,UI.msg.cancelOrder.handler(e.data,n);case 12:return t.next=14,UI.msg.resubmitOrders.handler(e.data,n);case 15:return t.next=17,UI.msg.getSuccessBuyOrdersCount.handler(n);case 18:return t.next=20,UI.msg.stopRelisting.handler(n);case 22:return t.abrupt("return",!0);case 23:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){VI(i,n,o,a,s,"next",t)}function s(t){VI(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}(),YI=function(t){if("STEAM_BUY_ORDERS_CONNECTION"===t.name)UI.connect.init.handler(t).then((function(){}))};const WI={listener:{handler:KI},init:{handler:function(){chrome.runtime.onMessage.addListener(KI),chrome.runtime.onMessageExternal.addListener(KI)}}},zI={init:{handler:function(){chrome.runtime.onConnect.addListener(YI),chrome.runtime.onConnectExternal.addListener(YI)}}};function $I(t){return $I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$I(t)}function XI(t){return function(t){if(Array.isArray(t))return nN(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rN(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function QI(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?JI(Object(r),!0).forEach((function(e){ZI(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ZI(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=$I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$I(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tN(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||rN(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eN(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=rN(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function rN(t,e){if(t){if("string"==typeof t)return nN(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nN(t,e):void 0}}function nN(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function oN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */oN=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==$I(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError($I(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function iN(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function aN(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){iN(i,n,o,a,s,"next",t)}function s(t){iN(i,n,o,a,s,"throw",t)}a(void 0)}))}}var sN,cN=!1,uN=[],lN=[],fN=function(){var t=aN(oN().mark((function t(e){var r;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rc.generateDynamicRuleId(e);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:"https://steamcommunity.com/market/"},{header:"Origin",operation:"set",value:"https://steamcommunity.com"}]},t.t2={urlFilter:e},r={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,rc.setRule(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),hN=function(){var t=aN(oN().mark((function t(e){var r,n;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal({USER_INVENTORY_URL:null});case 2:if(!(r=t.sent.USER_INVENTORY_URL)){t.next=14;break}return t.next=6,rc.generateDynamicRuleId(e);case 6:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:r},{header:"Origin",operation:"set",value:"https://steamcommunity.com"}]},t.t2={urlFilter:e},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=12,rc.setRule(n);case 12:t.next=15;break;case 14:return t.abrupt("return",null);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pN=function(t){return new Promise((function(e){return setTimeout(e,t)}))},dN=function(){var t=aN(oN().mark((function t(e){var r,n,o,i,a,s,c,u,l,f,h,p,d;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.sessionid,n=e.foundInventoryItem,o=e.gameItem,i="https://steamcommunity.com/market/sellitem/",t.prev=2,t.next=5,y.w.getLocal({SELL_LISTING:[]});case 5:return s=t.sent,c=s.SELL_LISTING,u=c.findIndex((function(t){return t.assetid===o.assetid})),t.next=10,hN(i);case 10:return t.next=12,Fs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-requested-with":"XMLHttpRequest"},method:"POST",url:"https://steamcommunity.com/market/sellitem/",data:{sessionid:r,appid:n.appid,contextid:n.contextid,assetid:n.assetid,amount:+(null==c||null===(a=c[u])||void 0===a?void 0:a.amount)||o.amount,price:o.price}});case 12:if(l=t.sent,!(u>=0)){t.next=25;break}return c[u].assetid=n.assetid,t.next=17,y.w.setLocal({SELL_LISTING:c});case 17:return t.next=19,y.w.getLocal({COMPLETED_SELL_MARKET_ITEMS:[]});case 19:return f=t.sent,h=f.COMPLETED_SELL_MARKET_ITEMS,o.isSell=l.success,h.push(o),t.next=25,y.w.setLocal({COMPLETED_SELL_MARKET_ITEMS:h});case 25:t.next=38;break;case 27:return t.prev=27,t.t0=t.catch(2),t.t0,t.next=32,y.w.getLocal({COMPLETED_SELL_MARKET_ITEMS:[]});case 32:return p=t.sent,d=p.COMPLETED_SELL_MARKET_ITEMS,o.isSell=!1,d.push(o),t.next=38,y.w.setLocal({COMPLETED_SELL_MARKET_ITEMS:d});case 38:return t.prev=38,t.next=41,rc.removeRule(i);case 41:return t.finish(38);case 42:case"end":return t.stop()}}),t,null,[[2,27,38,42]])})));return function(e){return t.apply(this,arguments)}}(),yN=function(){var t=aN(oN().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,x,S,_,A,T;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal({SELL_LISTING:[]});case 2:if(e=t.sent,(r=e.SELL_LISTING).length&&uN.length){t.next=6;break}return t.abrupt("return");case 6:n=eN(uN.entries()),t.prev=7,n.s();case 9:if((o=n.n()).done){t.next=56;break}i=tN(o.value,2),a=i[0],s=i[1],c=0,u=Object.entries(s);case 12:if(!(c<u.length)){t.next=54;break}l=tN(u[c],2),f=l[0],h=l[1],p=eN(h.entries()),t.prev=15,p.s();case 17:if((d=p.n()).done){t.next=43;break}v=tN(d.value,2),m=v[0],g=v[1],b=0,w=Object.entries(g);case 20:if(!(b<w.length)){t.next=41;break}E=tN(w[b],2),x=E[0],S=E[1],_=eN(S.entries()),t.prev=23,T=oN().mark((function t(){var e,n,o,i;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=tN(A.value,2),n=e[0],o=e[1],(i=r.find((function(t){return t.assetid&&t.assetid===o.assetid})))&&!cN&&(uN[a][f][m][x][n]=QI(QI({},o),i));case 3:case"end":return t.stop()}}),t)})),_.s();case 26:if((A=_.n()).done){t.next=30;break}return t.delegateYield(T(),"t0",28);case 28:t.next=26;break;case 30:t.next=35;break;case 32:t.prev=32,t.t1=t.catch(23),_.e(t.t1);case 35:return t.prev=35,_.f(),t.finish(35);case 38:b++,t.next=20;break;case 41:t.next=17;break;case 43:t.next=48;break;case 45:t.prev=45,t.t2=t.catch(15),p.e(t.t2);case 48:return t.prev=48,p.f(),t.finish(48);case 51:c++,t.next=12;break;case 54:t.next=9;break;case 56:t.next=61;break;case 58:t.prev=58,t.t3=t.catch(7),n.e(t.t3);case 61:return t.prev=61,n.f(),t.finish(61);case 64:case"end":return t.stop()}}),t,null,[[7,58,61,64],[15,45,48,51],[23,32,35,38]])})));return function(){return t.apply(this,arguments)}}(),vN=function(){var t=aN(oN().mark((function t(e){var r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,x,S,_,A,T,L,k,O,I,N,P;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.sessionid,n="https://steamcommunity.com/market/removelisting/*",o=eN(uN.entries()),t.prev=3,o.s();case 5:if((i=o.n()).done){t.next=81;break}a=tN(i.value,2),s=a[0],c=a[1],u=0,l=Object.entries(c);case 8:if(!(u<l.length)){t.next=79;break}f=tN(l[u],2),h=f[0],p=f[1],d=eN(p.entries()),t.prev=11,d.s();case 13:if((v=d.n()).done){t.next=68;break}m=tN(v.value,2),g=m[0],b=m[1],w=0,E=Object.entries(b);case 16:if(!(w<E.length)){t.next=66;break}x=tN(E[w],2),S=x[0],_=x[1],A=eN(_.entries()),t.prev=19,A.s();case 21:if((T=A.n()).done){t.next=55;break}if(L=tN(T.value,2),k=L[0],O=L[1],uN.length||!cN){t.next=25;break}return t.abrupt("return");case 25:return t.prev=25,I=O.listingid,t.next=29,pN(500);case 29:return t.next=31,fN(n);case 31:return t.next=33,Fs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-requested-with":"XMLHttpRequest"},method:"POST",url:"https://steamcommunity.com/market/removelisting/".concat(I),data:{sessionid:r}});case 33:return t.sent,t.next=36,rc.removeRule(n);case 36:O.isRemove=!0,t.next=53;break;case 39:return t.prev=39,t.t0=t.catch(25),t.next=43,rc.removeRule(n);case 43:return uN[s][h][g][S].splice(k,1),uN[s][h][g][S].length||uN[s][h].splice(g,1),t.next=47,y.w.getLocal({COMPLETED_SELL_MARKET_ITEMS:[]});case 47:return N=t.sent,P=N.COMPLETED_SELL_MARKET_ITEMS,O.isRemove=!1,P.push(O),t.next=53,y.w.setLocal({COMPLETED_SELL_MARKET_ITEMS:P});case 53:t.next=21;break;case 55:t.next=60;break;case 57:t.prev=57,t.t1=t.catch(19),A.e(t.t1);case 60:return t.prev=60,A.f(),t.finish(60);case 63:w++,t.next=16;break;case 66:t.next=13;break;case 68:t.next=73;break;case 70:t.prev=70,t.t2=t.catch(11),d.e(t.t2);case 73:return t.prev=73,d.f(),t.finish(73);case 76:u++,t.next=8;break;case 79:t.next=5;break;case 81:t.next=86;break;case 83:t.prev=83,t.t3=t.catch(3),o.e(t.t3);case 86:return t.prev=86,o.f(),t.finish(86);case 89:case"end":return t.stop()}}),t,null,[[3,83,86,89],[11,70,73,76],[19,57,60,63],[25,39]])})));return function(e){return t.apply(this,arguments)}}(),mN=function(){var t=aN(oN().mark((function t(e,r,n){var o,i,a,s,c,u,l;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=r.split("/"),i=tN(o,2),a=i[0],s=i[1],t.next=4,pN(3e3);case 4:return t.next=6,y.w.setLocal({CURRENT_PARSING_USER_URL:"https://steamcommunity.com/profiles/".concat(e,"/")});case 6:return t.next=8,Fs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest"},method:"GET",url:"https://steamcommunity.com/inventory/".concat(e,"/").concat(a,"/").concat(s,"?l=").concat(n,"&count=1000"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 8:return c=t.sent,u=c.assets,l=c.descriptions,t.abrupt("return",{assets:u,descriptions:l});case 14:return t.prev=14,t.t0=t.catch(0),t.t0,t.abrupt("return",[]);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r,n){return t.apply(this,arguments)}}(),gN=function(){var t=aN(oN().mark((function t(e){var r,n,o,i,a,s,c,u,l,f,h,p,d;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.sessionid,n=e.steamid,o=e.steamLang,i=void 0===o?"english":o,uN.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,y.w.setLocal({USER_INVENTORY_URL:"https://steamcommunity.com/profiles/".concat(n,"/inventory")});case 5:s=eN(uN.entries()),t.prev=6,s.s();case 8:if((c=s.n()).done){t.next=22;break}u=tN(c.value,2),u[0],l=u[1],f=oN().mark((function t(){var e,o,s,c,u,l,f,h,v,m,g,b,w,E,x,S,_,A,T,L;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=tN(d[p],2),o=e[0],(s=e[1]).length){t.next=3;break}return t.abrupt("return",{v:void 0});case 3:return c=o.split("/"),u=tN(c,2),l=u[0],u[1],t.next=6,mN(n,o,i);case 6:if(f=t.sent,h=f.assets,v=f.descriptions,h.length){t.next=11;break}return t.abrupt("return",{v:void 0});case 11:m=eN(s.entries()),t.prev=12,m.s();case 14:if((g=m.n()).done){t.next=40;break}b=tN(g.value,2),b[0],w=b[1],E=0,x=Object.entries(w);case 17:if(!(E<x.length)){t.next=38;break}S=tN(x[E],2),S[0],_=S[1],A=eN(_.entries()),t.prev=20,L=oN().mark((function t(){var e,n,o,i,s,c,u,f,p,d;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=tN(T.value,2),e[0],n=e[1],t.next=3,pN(2e3);case 3:if((o=h.findIndex((function(t){return t.instanceid===n.instanceid&&t.classid===n.classid&&+t.amount==+n.amount})))>=0&&(i=h[o]),i){t.next=35;break}if(!(s=v.filter((function(t){return t.market_hash_name===n.market_hash_name}))).length){t.next=35;break}if(730==+l&&!lN.includes(n.market_hash_name)){t.next=13;break}o=h.findIndex((function(t){return t.instanceid===s[0].instanceid&&t.classid===s[0].classid&&+t.amount==+n.amount})),i=h[o],t.next=35;break;case 13:if(!(c=s.find((function(t){return t.descriptions.every((function(t){return n.descriptions.some((function(e){return e.name===t.name&&e.value===t.value}))}))})))){t.next=27;break}if(1!==(u=h.filter((function(t){return t.instanceid===c.instanceid&&t.classid===c.classid&&+t.amount==+n.amount}))).length){t.next=21;break}i=u[0],o=h.findIndex((function(t){return t.instanceid===i.instanceid&&t.classid===i.classid&&+t.amount==+n.amount})),t.next=25;break;case 21:return f=u.map((function(t){return QI(QI(QI({},t),c),{priceWithCommission:n.price,priceWithoutCommission:n.inputPrice})})),bN.connect.sendMessage.handler(f),t.next=25,new Promise((function(t){a=function(){var e=aN(oN().mark((function e(o){var i,s,c;return oN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o.data,null!=(s=i)&&s.isSkipItemDescriptions&&lN.push(s.market_hash_name),!((c=h.findIndex((function(t){return t.instanceid===s.instanceid&&t.classid===s.classid&&+t.amount==+n.amount})))>=0)){e.next=17;break}if(h.splice(c,1),!s||cN){e.next=13;break}return e.next=9,dN({sessionid:r,foundInventoryItem:s,gameItem:n});case 9:t(),sN.onMessage.removeListener(a),e.next=15;break;case 13:t(),sN.onMessage.removeListener(a);case 15:e.next=19;break;case 17:t(),sN.onMessage.removeListener(a);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sN.onMessage.addListener(a)}));case 25:t.next=35;break;case 27:return t.next=29,y.w.getLocal({COMPLETED_SELL_MARKET_ITEMS:[]});case 29:return p=t.sent,d=p.COMPLETED_SELL_MARKET_ITEMS,n.isSell=!1,d.push(n),t.next=35,y.w.setLocal({COMPLETED_SELL_MARKET_ITEMS:d});case 35:if(!(o>=0)){t.next=40;break}if(h.splice(o,1),!i||cN){t.next=40;break}return t.next=40,dN({sessionid:r,foundInventoryItem:i,gameItem:n});case 40:case"end":return t.stop()}}),t)})),A.s();case 23:if((T=A.n()).done){t.next=27;break}return t.delegateYield(L(),"t0",25);case 25:t.next=23;break;case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(20),A.e(t.t1);case 32:return t.prev=32,A.f(),t.finish(32);case 35:E++,t.next=17;break;case 38:t.next=14;break;case 40:t.next=45;break;case 42:t.prev=42,t.t2=t.catch(12),m.e(t.t2);case 45:return t.prev=45,m.f(),t.finish(45);case 48:case"end":return t.stop()}}),t,null,[[12,42,45,48],[20,29,32,35]])})),p=0,d=Object.entries(l);case 12:if(!(p<d.length)){t.next=20;break}return t.delegateYield(f(),"t0",14);case 14:if(!(h=t.t0)){t.next=17;break}return t.abrupt("return",h.v);case 17:p++,t.next=12;break;case 20:t.next=8;break;case 22:t.next=27;break;case 24:t.prev=24,t.t1=t.catch(6),s.e(t.t1);case 27:return t.prev=27,s.f(),t.finish(27);case 30:case"end":return t.stop()}}),t,null,[[6,24,27,30]])})));return function(e){return t.apply(this,arguments)}}();const bN={msg:{getEnabledResubmitOrders:{code:Is.A.msg.BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS,handler:function(){var t=aN(oN().mark((function t(e,r){return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.steamId;try{chrome.management.getSelf((function(t){"normal"===t.installType?r({success:!0}):r({success:!1})}))}catch(t){}case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},saveItem:{code:Is.A.msg.BACKGROUND_SAVE_ITEM_FOR_SALE,handler:function(){var t=aN(oN().mark((function t(e){var r,n,o,i,a;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({SELL_LISTING:[]});case 3:if(r=t.sent,(n=r.SELL_LISTING).length){t.next=9;break}n.push.apply(n,XI(e)),t.next=25;break;case 9:o=eN(e),t.prev=10,a=oN().mark((function t(){var e;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=i.value,n.findIndex((function(t){return t.assetid===e.assetid}))<0&&n.push(e);case 3:case"end":return t.stop()}}),t)})),o.s();case 13:if((i=o.n()).done){t.next=17;break}return t.delegateYield(a(),"t0",15);case 15:t.next=13;break;case 17:t.next=22;break;case 19:t.prev=19,t.t1=t.catch(10),o.e(t.t1);case 22:return t.prev=22,o.f(),t.finish(22);case 25:return t.next=27,y.w.setLocal({SELL_LISTING:n});case 27:t.next=32;break;case 29:t.prev=29,t.t2=t.catch(0),t.t2;case 32:case"end":return t.stop()}}),t,null,[[0,29],[10,19,22,25]])})));return function(e){return t.apply(this,arguments)}}()},removeItem:{code:Is.A.msg.BACKGROUND_REMOVE_ITEM_FOR_SALE,handler:function(){var t=aN(oN().mark((function t(e){var r,n,o,i,a,s;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.assetids,t.prev=1,t.next=4,y.w.getLocal({SELL_LISTING:[]});case 4:if(n=t.sent,!(o=n.SELL_LISTING).length){t.next=25;break}i=eN(r),t.prev=8,s=oN().mark((function t(){var e,r;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=a.value,(r=o.findIndex((function(t){return t.assetid===e})))>=0&&o.splice(r,1);case 3:case"end":return t.stop()}}),t)})),i.s();case 11:if((a=i.n()).done){t.next=15;break}return t.delegateYield(s(),"t0",13);case 13:t.next=11;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(8),i.e(t.t1);case 20:return t.prev=20,i.f(),t.finish(20);case 23:return t.next=25,y.w.setLocal({SELL_LISTING:o});case 25:t.next=30;break;case 27:t.prev=27,t.t2=t.catch(1),t.t2;case 30:case"end":return t.stop()}}),t,null,[[1,27],[8,17,20,23]])})));return function(e){return t.apply(this,arguments)}}()},getSavedItems:{code:Is.A.msg.BACKGROUND_GET_SAVED_ITEMS_FOR_SALE,handler:function(){var t=aN(oN().mark((function t(e){var r,n;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({SELL_LISTING:[]});case 3:r=t.sent,n=r.SELL_LISTING,e(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},sellItem:{code:Is.A.msg.BACKGROUND_RESELL_ITEMS,handler:function(){var t=aN(oN().mark((function t(e,r){var n,o;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,cN=!1,n=e.userInfo,o=e.data,uN.push.apply(uN,XI(o)),t.next=6,yN();case 6:return t.next=8,vN(n);case 8:return t.next=10,gN(n);case 10:lN.length=0,r(),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),t.t0,r(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}()},stopReselling:{code:Is.A.msg.BACKGROUND_STOP_RESELL_ITEMS,handler:function(){var t=aN(oN().mark((function t(e){return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,cN=!0,uN.length=0,lN.length=0,t.next=6,y.w.setLocal({COMPLETED_SELL_MARKET_ITEMS:[]});case 6:e({success:!0}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},getSuccessSellCount:{code:Is.A.msg.BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS,handler:function(){var t=aN(oN().mark((function t(e){var r,n;return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({COMPLETED_SELL_MARKET_ITEMS:[]});case 3:r=t.sent,n=r.COMPLETED_SELL_MARKET_ITEMS,e({COMPLETED_MARKET_ITEMS:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}},connect:{sendMessage:{handler:function(t){sN.postMessage(t)}},init:{handler:function(){var t=aN(oN().mark((function t(e){return oN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:sN=e;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},alarm:{}};function wN(t){return wN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wN(t)}function EN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */EN=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==wN(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(wN(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function xN(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var SN=function(){var t,e=(t=EN().mark((function t(e,r,n){return EN().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===bN.msg.getEnabledResubmitOrders.code?3:t.t0===bN.msg.saveItem.code?6:t.t0===bN.msg.removeItem.code?9:t.t0===bN.msg.getSavedItems.code?12:t.t0===bN.msg.sellItem.code?15:t.t0===bN.msg.stopReselling.code?18:t.t0===bN.msg.getSuccessSellCount.code?21:24;break;case 3:return t.next=5,bN.msg.getEnabledResubmitOrders.handler(e.data,n);case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 24:return t.abrupt("break",25);case 6:return t.next=8,bN.msg.saveItem.handler(e.data);case 9:return t.next=11,bN.msg.removeItem.handler(e.data);case 12:return t.next=14,bN.msg.getSavedItems.handler(n);case 15:return t.next=17,bN.msg.sellItem.handler(e.data,n);case 18:return t.next=20,bN.msg.stopReselling.handler(n);case 21:return t.next=23,bN.msg.getSuccessSellCount.handler(n);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){xN(i,n,o,a,s,"next",t)}function s(t){xN(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}(),_N=function(t){if("STEAM_RESUBMIT_ITEMS_CONNECTION"===t.name)bN.connect.init.handler(t).then((function(){}))};const AN={listener:{handler:SN},init:{handler:function(){chrome.runtime.onMessage.addListener(SN),chrome.runtime.onMessageExternal.addListener(SN)}}},TN={init:{handler:function(){chrome.runtime.onConnect.addListener(_N),chrome.runtime.onConnectExternal.addListener(_N)}}};const LN={handler:function(){try{WI.init.handler(),AN.init.handler(),zI.init.handler(),TN.init.handler()}catch(t){}}};function kN(t){return kN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kN(t)}function ON(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ON=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==kN(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(kN(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function IN(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const NN={get:{code:Is.A.msg.BACKGROUND_GET_ONLINE_USERS_BY_APPID,handler:function(){var t,e=(t=ON().mark((function t(e,r){var n;return ON().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.appid,t.prev=1,t.t0=r,t.next=5,Fs.Ay.sendRequest({method:"GET",url:"".concat(Fs.IP,"/app/").concat(n,"/chart-data.json")});case 5:t.t1=t.sent,(0,t.t0)(t.t1),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(1),t.t2;case 12:case"end":return t.stop()}}),t,null,[[1,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){IN(i,n,o,a,s,"next",t)}function s(t){IN(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}};var PN=2,CN=3,DN=12,RN=3,jN=4,FN=["mafiles","manifest","history"],BN={passKey:{},confirmations:{},pausedAccounts:{},authorization:{},notifications:{},clearAll:function(){BN.passKey={},BN.confirmations={},BN.pausedAccounts={},BN.authorization={},BN.notifications={}}},GN={};function MN(t){return MN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MN(t)}function UN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */UN=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==MN(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(MN(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function HN(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function qN(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){HN(i,n,o,a,s,"next",t)}function s(t){HN(i,n,o,a,s,"throw",t)}a(void 0)}))}}function VN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WN(n.key),n)}}function KN(t,e,r){return e&&VN(t.prototype,e),r&&VN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YN(t,e,r){return(e=WN(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WN(t){var e=function(t,e){if("object"!=MN(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=MN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==MN(e)?e:e+""}var zN=KN((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),YN(this,"getBackUpList",qN(UN().mark((function e(){var r,n,o;return UN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.w.getLocal("sihAppCoreToken");case 2:return r=e.sent,n=r.sihAppCoreToken,e.next=6,Fs.Ay.apiRequest({method:"GET",url:t.apiUrl,headers:{"X-Sih-Token":n}});case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))),YN(this,"getBackUp",function(){var e=qN(UN().mark((function e(r){var n,o,i;return UN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.w.getLocal("sihAppCoreToken");case 2:return n=e.sent,o=n.sihAppCoreToken,e.next=6,Fs.Ay.apiRequest({method:"GET",url:"".concat(t.apiUrl,"/").concat(r),headers:{"X-Sih-Token":o}});case 6:return(i=e.sent)&&i.content&&(i.content=JSON.parse(decodeURIComponent(atob(i.content)))),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),YN(this,"makeBackUp",qN(UN().mark((function r(){var n,o,i,a,s,c,u,l,f;return UN().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new JA("SIH_SDA","mafiles",FN),o=new JA("SIH_SDA","manifest",FN),r.next=4,n.openDB();case 4:return r.next=6,o.openDB();case 6:return r.next=8,n.getAllWithKeys();case 8:return i=r.sent,r.prev=9,r.next=12,o.get("v1");case 12:a=r.sent,r.next=19;break;case 15:if(r.prev=15,r.t0=r.catch(9),"Not found key"!==r.t0.message||i.length){r.next=19;break}return r.abrupt("return");case 19:return s={fileName:"maFiles",content:btoa(encodeURIComponent(JSON.stringify(i)))},c={fileName:"manifest",content:btoa(encodeURIComponent(JSON.stringify(a)))},r.next=23,y.w.getLocal("sihAppCoreToken");case 23:return u=r.sent,l=u.sihAppCoreToken,r.next=27,Promise.all([e.removeBackUp("maFiles"),e.removeBackUp("manifest")]);case 27:if(i.length||a.entries.length){r.next=29;break}return r.abrupt("return");case 29:return(f=[]).push(Fs.Ay.apiRequest({method:"POST",url:t.apiUrl,data:s,headers:{"X-Sih-Token":l}})),f.push(Fs.Ay.apiRequest({method:"POST",url:t.apiUrl,data:c,headers:{"X-Sih-Token":l}})),r.abrupt("return",new Promise((function(t,e){Promise.all(f).then((function(r){r.filter((function(t){return t.success})).length===r.length?t():e()})).catch((function(){return e()}))})));case 33:case"end":return r.stop()}}),r,null,[[9,15]])})))),YN(this,"removeBackUp",function(){var e=qN(UN().mark((function e(r){var n,o;return UN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.w.getLocal("sihAppCoreToken");case 2:return n=e.sent,o=n.sihAppCoreToken,e.next=6,Fs.Ay.sendRequest({method:"DELETE",url:t.apiUrl,headers:{"X-Sih-Token":o,"Content-Type":"application/json"},body:JSON.stringify({fileName:r})});case 6:if(!e.sent.success){e.next=11;break}return e.abrupt("return",{success:!0});case 11:return e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));YN(zN,"apiUrl","https://core.sih.app/sih/backups");const $N=new zN;var XN=r(1888),JN=r.n(XN);function QN(t){return QN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QN(t)}function ZN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eP(n.key),n)}}function tP(t,e,r){return(e=eP(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eP(t){var e=function(t,e){if("object"!=QN(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=QN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==QN(e)?e:e+""}var rP=function(){return function(t,e,r){return e&&ZN(t.prototype,e),r&&ZN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),null,[{key:"getRandomSalt",value:function(){var t=JN().lib.WordArray.random(this.SALT_LENGTH);return JN().enc.Base64.stringify(t)}},{key:"getInitializationVector",value:function(){var t=JN().lib.WordArray.random(this.IV_LENGTH);return JN().enc.Base64.stringify(t)}},{key:"getEncryptionKey",value:function(t,e){if(!t)throw Error("Password is empty");if(!e)throw Error("Salt is empty");var r=JN().enc.Base64.parse(e);return JN().PBKDF2(t,r,{keySize:this.KEY_SIZE_BYTES/4,iterations:this.PBKDF2_ITERATIONS})}},{key:"decryptData",value:function(t,e,r,n){if(!t)throw Error("Password is empty");if(!e)throw Error("Salt is empty");if(!r)throw Error("Initialization Vector is empty");if(!n)throw Error("Encrypted data is empty");var o=this.getEncryptionKey(t,e),i=JN().enc.Base64.parse(r),a=JN().enc.Base64.parse(n);return JN().AES.decrypt({ciphertext:a},o,{iv:i,padding:JN().pad.Pkcs7,mode:JN().mode.CBC}).toString(JN().enc.Utf8)||null}},{key:"encryptData",value:function(t,e,r,n){if(!t)throw Error("Password is empty");if(!e)throw Error("Salt is empty");if(!r)throw Error("Initialization Vector is empty");if(!n)throw Error("Plaintext data is empty");var o=this.getEncryptionKey(t,e),i=JN().enc.Base64.parse(r),a=JN().AES.encrypt(n,o,{iv:i,padding:JN().pad.Pkcs7,mode:JN().mode.CBC});return JN().enc.Base64.stringify(a.ciphertext)}}])}();tP(rP,"PBKDF2_ITERATIONS",5e4),tP(rP,"SALT_LENGTH",8),tP(rP,"KEY_SIZE_BYTES",32),tP(rP,"IV_LENGTH",16);const nP=rP;function oP(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function iP(t,e){return t&e}function aP(t,e){return t|e}function sP(t,e){return t^e}function cP(t,e){return t&~e}function uP(t){if(0==t)return-1;var e=0;return 65535&t||(t>>=16,e+=16),255&t||(t>>=8,e+=8),15&t||(t>>=4,e+=4),3&t||(t>>=2,e+=2),1&t||++e,e}function lP(t){for(var e=0;0!=t;)t&=t-1,++e;return e}var fP,hP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function pP(t){var e,r,n="";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=hP.charAt(r>>6)+hP.charAt(63&r);for(e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=hP.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=hP.charAt(r>>2)+hP.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function dP(t){var e,r="",n=0,o=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e){var i=hP.indexOf(t.charAt(e));i<0||(0==n?(r+=oP(i>>2),o=3&i,n=1):1==n?(r+=oP(o<<2|i>>4),o=15&i,n=2):2==n?(r+=oP(o),r+=oP(i>>2),o=3&i,n=3):(r+=oP(o<<2|i>>4),r+=oP(15&i),n=0))}return 1==n&&(r+=oP(o<<2)),r}var yP,vP=function(t){var e;if(void 0===fP){var r="0123456789ABCDEF",n=" \f\n\r\tÂ \u2028\u2029";for(fP={},e=0;e<16;++e)fP[r.charAt(e)]=e;for(r=r.toLowerCase(),e=10;e<16;++e)fP[r.charAt(e)]=e;for(e=0;e<8;++e)fP[n.charAt(e)]=-1}var o=[],i=0,a=0;for(e=0;e<t.length;++e){var s=t.charAt(e);if("="==s)break;if(-1!=(s=fP[s])){if(void 0===s)throw Error("Illegal character at offset "+e);i|=s,++a>=2?(o[o.length]=i,i=0,a=0):i<<=4}}if(a)throw Error("Hex encoding incomplete: 4 bits missing");return o},mP={decode:function(t){var e;if(void 0===yP){var r="= \f\n\r\tÂ \u2028\u2029";for(yP=Object.create(null),e=0;e<64;++e)yP["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)]=e;for(yP["-"]=62,yP._=63,e=0;e<9;++e)yP[r.charAt(e)]=-1}var n=[],o=0,i=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(-1!=(a=yP[a])){if(void 0===a)throw Error("Illegal character at offset "+e);o|=a,++i>=4?(n[n.length]=o>>16,n[n.length]=o>>8&255,n[n.length]=255&o,o=0,i=0):o<<=6}}switch(i){case 1:throw Error("Base64 encoding incomplete: at least 2 bits missing");case 2:n[n.length]=o>>10;break;case 3:n[n.length]=o>>16,n[n.length]=o>>8&255}return n},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=mP.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw Error("RegExp out of sync");t=e[2]}return mP.decode(t)}},gP=1e13,bP=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var r,n,o=this.buf,i=o.length;for(r=0;r<i;++r)(n=o[r]*t+e)<gP?e=0:n-=(e=0|n/gP)*gP,o[r]=n;e>0&&(o[r]=e)},t.prototype.sub=function(t){var e,r,n=this.buf,o=n.length;for(e=0;e<o;++e)(r=n[e]-t)<0?(r+=gP,t=1):t=0,n[e]=r;for(;0===n[n.length-1];)n.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw Error("only base 10 is supported");for(var e=this.buf,r=e[e.length-1].toString(),n=e.length-2;n>=0;--n)r+=(""+(gP+e[n])).substring(1);return r},t.prototype.valueOf=function(){for(var t=this.buf,e=0,r=t.length-1;r>=0;--r)e=e*gP+t[r];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),wP=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,EP=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function xP(t,e){return t.length>e&&(t=t.substring(0,e)+"â€¦"),t}var SP,_P=function(){function t(e,r){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=r)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw Error("Requesting byte offset ".concat(t," on a stream of length ").concat(this.enc.length));return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,r){for(var n="",o=t;o<e;++o)if(n+=this.hexByte(this.get(o)),!0!==r)switch(15&o){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},t.prototype.isASCII=function(t,e){for(var r=t;r<e;++r){var n=this.get(r);if(n<32||n>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var r="",n=t;n<e;++n)r+=String.fromCharCode(this.get(n));return r},t.prototype.parseStringUTF=function(t,e){for(var r="",n=t;n<e;){var o=this.get(n++);r+=String.fromCharCode(o<128?o:o>191&&o<224?(31&o)<<6|63&this.get(n++):(15&o)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return r},t.prototype.parseStringBMP=function(t,e){for(var r,n,o="",i=t;i<e;)r=this.get(i++),n=this.get(i++),o+=String.fromCharCode(r<<8|n);return o},t.prototype.parseTime=function(t,e,r){var n=this.parseStringISO(t,e),o=(r?wP:EP).exec(n);return o?(r&&(o[1]=+o[1],o[1]+=+o[1]<70?2e3:1900),n=o[1]+"-"+o[2]+"-"+o[3]+" "+o[4],o[5]&&(n+=":"+o[5],o[6]&&(n+=":"+o[6],o[7]&&(n+="."+o[7]))),o[8]&&(n+=" UTC","Z"!=o[8]&&(n+=o[8],o[9]&&(n+=":"+o[9]))),n):"Unrecognized time: "+n},t.prototype.parseInteger=function(t,e){for(var r,n=this.get(t),o=n>127,i=o?255:0,a="";n==i&&++t<e;)n=this.get(t);if(0===(r=e-t))return o?-1:0;if(r>4){for(a=n,r<<=3;!(128&(+a^i));)a=+a<<1,--r;a="("+r+" bit)\n"}o&&(n-=256);for(var s=new bP(n),c=t+1;c<e;++c)s.mulAdd(256,this.get(c));return a+s.toString()},t.prototype.parseBitString=function(t,e,r){for(var n=this.get(t),o="("+((e-t-1<<3)-n)+" bit)\n",i="",a=t+1;a<e;++a){for(var s=this.get(a),c=a==e-1?n:0,u=7;u>=c;--u)i+=s>>u&1?"1":"0";if(i.length>r)return o+xP(i,r)}return o+i},t.prototype.parseOctetString=function(t,e,r){if(this.isASCII(t,e))return xP(this.parseStringISO(t,e),r);var n=e-t,o="("+n+" byte)\n";n>(r/=2)&&(e=t+r);for(var i=t;i<e;++i)o+=this.hexByte(this.get(i));return n>r&&(o+="â€¦"),o},t.prototype.parseOID=function(t,e,r){for(var n="",o=new bP,i=0,a=t;a<e;++a){var s=this.get(a);if(o.mulAdd(128,127&s),i+=7,!(128&s)){if(""===n)if((o=o.simplify())instanceof bP)o.sub(80),n="2."+o.toString();else{var c=o<80?o<40?0:1:2;n=c+"."+(o-40*c)}else n+="."+o.toString();if(n.length>r)return xP(n,r);o=new bP,i=0}}return i>0&&(n+=".incomplete"),n},t}(),AP=function(){function t(t,e,r,n,o){if(!(n instanceof TP))throw Error("Invalid tag value.");this.stream=t,this.header=e,this.length=r,this.tag=n,this.sub=o}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),r=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+r,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+r);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+r,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+r,t);case 6:return this.stream.parseOID(e,e+r,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return xP(this.stream.parseStringUTF(e,e+r),t);case 18:case 19:case 20:case 21:case 22:case 26:return xP(this.stream.parseStringISO(e,e+r),t);case 30:return xP(this.stream.parseStringBMP(e,e+r),t);case 23:case 24:return this.stream.parseTime(e,e+r,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var r=0,n=this.sub.length;r<n;++r)e+=this.sub[r].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),r=127&e;if(r==e)return r;if(r>6)throw Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===r)return null;e=0;for(var n=0;n<r;++n)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,r=2*this.length;return t.substr(e,r)},t.decode=function(e){var r;r=e instanceof _P?e:new _P(e,0);var n=new _P(r),o=new TP(r),i=t.decodeLength(r),a=r.pos,s=a-n.pos,c=null,u=function(){var e=[];if(null!==i){for(var n=a+i;r.pos<n;)e[e.length]=t.decode(r);if(r.pos!=n)throw Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var o=t.decode(r);if(o.tag.isEOC())break;e[e.length]=o}i=a-r.pos}catch(t){throw Error("Exception while decoding undefined length content: "+t)}return e};if(o.tagConstructed)c=u();else if(o.isUniversal()&&(3==o.tagNumber||4==o.tagNumber))try{if(3==o.tagNumber&&0!=r.get())throw Error("BIT STRINGs with unused bits cannot encapsulate.");c=u();for(var l=0;l<c.length;++l)if(c[l].tag.isEOC())throw Error("EOC is not supposed to be actual content.")}catch(t){c=null}if(null===c){if(null===i)throw Error("We can't skip over an invalid tag with undefined length at offset "+a);r.pos=a+Math.abs(i)}return new t(n,s,i,o,c)},t}(),TP=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=!!(32&e),this.tagNumber=31&e,31==this.tagNumber){var r=new bP;do{e=t.get(),r.mulAdd(128,127&e)}while(128&e);this.tagNumber=r.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),LP=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],kP=(1<<26)/LP[LP.length-1],OP=function(){function t(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(o=!0,i=oP(r));a>=0;)s<e?(r=(this[a]&(1<<s)-1)<<e-s,r|=this[--a]>>(s+=this.DB-e)):(r=this[a]>>(s-=e)&n,s<=0&&(s+=this.DB,--a)),r>0&&(o=!0),o&&(i+=oP(r));return o?i:"0"},t.prototype.negate=function(){var e=DP();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+HP(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var r=DP();return this.abs().divRemTo(e,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&e.subTo(r,r),r},t.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new NP(e):new PP(e),this.exp(t,r)},t.prototype.clone=function(){var t=DP();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var r,n=this.DB-t*this.DB%8,o=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[o++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),128&r&&(r|=-256),0==o&&(128&this.s)!=(128&r)&&++o,(o>0||r!=this.s)&&(e[o++]=r);return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=DP();return this.bitwiseTo(t,iP,e),e},t.prototype.or=function(t){var e=DP();return this.bitwiseTo(t,aP,e),e},t.prototype.xor=function(t){var e=DP();return this.bitwiseTo(t,sP,e),e},t.prototype.andNot=function(t){var e=DP();return this.bitwiseTo(t,cP,e),e},t.prototype.not=function(){for(var t=DP(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=DP();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=DP();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+uP(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=lP(this[r]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:!!(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,aP)},t.prototype.clearBit=function(t){return this.changeBit(t,cP)},t.prototype.flipBit=function(t){return this.changeBit(t,sP)},t.prototype.add=function(t){var e=DP();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=DP();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=DP();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=DP();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=DP();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=DP(),r=DP();return this.divRemTo(t,e,r),[e,r]},t.prototype.modPow=function(t,e){var r,n,o=t.bitLength(),i=UP(1);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6,n=o<8?new NP(e):e.isEven()?new CP(e):new PP(e);var a=[],s=3,c=r-1,u=(1<<r)-1;if(a[1]=n.convert(this),r>1){var l=DP();for(n.sqrTo(a[1],l);s<=u;)a[s]=DP(),n.mulTo(l,a[s-2],a[s]),s+=2}var f,h,p=t.t-1,d=!0,y=DP();for(o=HP(t[p])-1;p>=0;){for(o>=c?f=t[p]>>o-c&u:(f=(t[p]&(1<<o+1)-1)<<c-o,p>0&&(f|=t[p-1]>>this.DB+o-c)),s=r;!(1&f);)f>>=1,--s;if((o-=s)<0&&(o+=this.DB,--p),d)a[f].copyTo(i),d=!1;else{for(;s>1;)n.sqrTo(i,y),n.sqrTo(y,i),s-=2;s>0?n.sqrTo(i,y):(h=i,i=y,y=h),n.mulTo(y,a[f],i)}for(;p>=0&&!(t[p]&1<<o);)n.sqrTo(i,y),h=i,i=y,y=h,--o<0&&(o=this.DB-1,--p)}return n.revert(i)},t.prototype.modInverse=function(e){var r=e.isEven();if(this.isEven()&&r||0==e.signum())return t.ZERO;for(var n=e.clone(),o=this.clone(),i=UP(1),a=UP(0),s=UP(0),c=UP(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),r?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;o.isEven();)o.rShiftTo(1,o),r?(s.isEven()&&c.isEven()||(s.addTo(this,s),c.subTo(e,c)),s.rShiftTo(1,s)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(o)>=0?(n.subTo(o,n),r&&i.subTo(s,i),a.subTo(c,a)):(o.subTo(n,o),r&&s.subTo(i,s),c.subTo(a,c))}return 0!=o.compareTo(t.ONE)?t.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},t.prototype.pow=function(t){return this.exp(t,new IP)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var o=e.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return e;for(o<i&&(i=o),i>0&&(e.rShiftTo(i,e),r.rShiftTo(i,r));e.signum()>0;)(o=e.getLowestSetBit())>0&&e.rShiftTo(o,e),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},t.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=LP[LP.length-1]){for(e=0;e<LP.length;++e)if(r[0]==LP[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<LP.length;){for(var n=LP[e],o=e+1;o<LP.length&&n<kP;)n*=LP[o++];for(n=r.modInt(n);e<o;)if(n%LP[e++]==0)return!1}return r.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,r){var n;if(16==r)n=4;else if(8==r)n=3;else if(256==r)n=8;else if(2==r)n=1;else if(32==r)n=5;else{if(4!=r)return void this.fromRadix(e,r);n=2}this.t=0,this.s=0;for(var o=e.length,i=!1,a=0;--o>=0;){var s=8==n?255&+e[o]:MP(e,o);s<0?"-"==e.charAt(o)&&(i=!0):(i=!1,0==a?this[this.t++]=s:a+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&128&+e[0]&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var r=t%this.DB,n=this.DB-r,o=(1<<n)-1,i=Math.floor(t/this.DB),a=this.s<<r&this.DM,s=this.t-1;s>=0;--s)e[s+i+1]=this[s]>>n|a,a=(this[s]&o)<<r;for(s=i-1;s>=0;--s)e[s]=0;e[i]=a,e.t=this.t+i+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,o=this.DB-n,i=(1<<n)-1;e[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)e[a-r-1]|=(this[a]&i)<<o,e[a-r]=this[a]>>n;n>0&&(e[this.t-r-1]|=(this.s&i)<<o),e.t=this.t-r,e.clamp()}},t.prototype.subTo=function(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},t.prototype.multiplyTo=function(e,r){var n=this.abs(),o=e.abs(),i=n.t;for(r.t=i+o.t;--i>=0;)r[i]=0;for(i=0;i<o.t;++i)r[i+n.t]=n.am(0,o[i],r,i,0,n.t);r.s=0,r.clamp(),this.s!=e.s&&t.ZERO.subTo(r,r)},t.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,r,n){var o=e.abs();if(!(o.t<=0)){var i=this.abs();if(i.t<o.t)return null!=r&&r.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=DP());var a=DP(),s=this.s,c=e.s,u=this.DB-HP(o[o.t-1]);u>0?(o.lShiftTo(u,a),i.lShiftTo(u,n)):(o.copyTo(a),i.copyTo(n));var l=a.t,f=a[l-1];if(0!=f){var h=f*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),p=this.FV/h,d=(1<<this.F1)/h,y=1<<this.F2,v=n.t,m=v-l,g=null==r?DP():r;for(a.dlShiftTo(m,g),n.compareTo(g)>=0&&(n[n.t++]=1,n.subTo(g,n)),t.ONE.dlShiftTo(l,g),g.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--m>=0;){var b=n[--v]==f?this.DM:Math.floor(n[v]*p+(n[v-1]+y)*d);if((n[v]+=a.am(0,b,n,m,0,l))<b)for(a.dlShiftTo(m,g),n.subTo(g,n);n[v]<--b;)n.subTo(g,n)}null!=r&&(n.drShiftTo(l,r),s!=c&&t.ZERO.subTo(r,r)),n.t=l,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&t.ZERO.subTo(n,n)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(!(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,r){if(e>4294967295||e<1)return t.ONE;var n=DP(),o=DP(),i=r.convert(this),a=HP(e)-1;for(i.copyTo(n);--a>=0;)if(r.sqrTo(n,o),(e&1<<a)>0)r.mulTo(o,i,n);else{var s=n;n=o,o=s}return r.revert(n)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=UP(r),o=DP(),i=DP(),a="";for(this.divRemTo(n,o,i);o.signum()>0;)a=(r+i.intValue()).toString(t).substr(1)+a,o.divRemTo(n,o,i);return i.intValue().toString(t)+a},t.prototype.fromRadix=function(e,r){this.fromInt(0),null==r&&(r=10);for(var n=this.chunkSize(r),o=Math.pow(r,n),i=!1,a=0,s=0,c=0;c<e.length;++c){var u=MP(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(s=r*s+u,++a>=n&&(this.dMultiply(o),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(r,a)),this.dAddOffset(s,0)),i&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,r,n){if("number"==typeof r)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),aP,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var o=[],i=7&e;o.length=1+(e>>3),r.nextBytes(o),i>0?o[0]&=(1<<i)-1:o[0]=0,this.fromString(o,256)}},t.prototype.bitwiseTo=function(t,e,r){var n,o,i=Math.min(t.t,this.t);for(n=0;n<i;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(o=t.s&this.DM,n=i;n<this.t;++n)r[n]=e(this[n],o);r.t=this.t}else{for(o=this.s&this.DM,n=i;n<t.t;++n)r[n]=e(o,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},t.prototype.changeBit=function(e,r){var n=t.ONE.shiftLeft(e);return this.bitwiseTo(n,r,n),n},t.prototype.addTo=function(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;for(var o=r.t-this.t;n<o;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(o=Math.min(t.t,e);n<o;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()},t.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},t.prototype.millerRabin=function(e){var r=this.subtract(t.ONE),n=r.getLowestSetBit();if(n<=0)return!1;var o=r.shiftRight(n);(e=e+1>>1)>LP.length&&(e=LP.length);for(var i=DP(),a=0;a<e;++a){i.fromInt(LP[Math.floor(Math.random()*LP.length)]);var s=i.modPow(o,this);if(0!=s.compareTo(t.ONE)&&0!=s.compareTo(r)){for(var c=1;c++<n&&0!=s.compareTo(r);)if(0==(s=s.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=s.compareTo(r))return!1}}return!0},t.prototype.square=function(){var t=DP();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var r=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(r.compareTo(n)<0){var o=r;r=n,n=o}var i=r.getLowestSetBit(),a=n.getLowestSetBit();if(a<0)e(r);else{i<a&&(a=i),a>0&&(r.rShiftTo(a,r),n.rShiftTo(a,n));var s=function(){(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),r.compareTo(n)>=0?(r.subTo(n,r),r.rShiftTo(1,r)):(n.subTo(r,n),n.rShiftTo(1,n)),r.signum()>0?setTimeout(s,0):(a>0&&n.lShiftTo(a,n),setTimeout((function(){e(n)}),0))};setTimeout(s,10)}},t.prototype.fromNumberAsync=function(e,r,n,o){if("number"==typeof r)if(e<2)this.fromInt(1);else{this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),aP,this),this.isEven()&&this.dAddOffset(1,0);var i=this,a=function(){i.dAddOffset(2,0),i.bitLength()>e&&i.subTo(t.ONE.shiftLeft(e-1),i),i.isProbablePrime(r)?setTimeout((function(){o()}),0):setTimeout(a,0)};setTimeout(a,0)}else{var s=[],c=7&e;s.length=1+(e>>3),r.nextBytes(s),c>0?s[0]&=(1<<c)-1:s[0]=0,this.fromString(s,256)}},t}(),IP=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),NP=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),PP=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=DP();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(OP.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=DP();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),CP=function(){function t(t){this.m=t,this.r2=DP(),this.q3=DP(),OP.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=DP();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function DP(){return new OP(null)}function RP(t,e){return new OP(t,e)}var jP="undefined"!=typeof navigator;jP&&"Microsoft Internet Explorer"==navigator.appName?(OP.prototype.am=function(t,e,r,n,o,i){for(var a=32767&e,s=e>>15;--i>=0;){var c=32767&this[t],u=this[t++]>>15,l=s*c+u*a;o=((c=a*c+((32767&l)<<15)+r[n]+(1073741823&o))>>>30)+(l>>>15)+s*u+(o>>>30),r[n++]=1073741823&c}return o},SP=30):jP&&"Netscape"!=navigator.appName?(OP.prototype.am=function(t,e,r,n,o,i){for(;--i>=0;){var a=e*this[t++]+r[n]+o;o=Math.floor(a/67108864),r[n++]=67108863&a}return o},SP=26):(OP.prototype.am=function(t,e,r,n,o,i){for(var a=16383&e,s=e>>14;--i>=0;){var c=16383&this[t],u=this[t++]>>14,l=s*c+u*a;o=((c=a*c+((16383&l)<<14)+r[n]+o)>>28)+(l>>14)+s*u,r[n++]=268435455&c}return o},SP=28),OP.prototype.DB=SP,OP.prototype.DM=(1<<SP)-1,OP.prototype.DV=1<<SP;OP.prototype.FV=Math.pow(2,52),OP.prototype.F1=52-SP,OP.prototype.F2=2*SP-52;var FP,BP,GP=[];for(FP=48,BP=0;BP<=9;++BP)GP[FP++]=BP;for(FP=97,BP=10;BP<36;++BP)GP[FP++]=BP;for(FP=65,BP=10;BP<36;++BP)GP[FP++]=BP;function MP(t,e){var r=GP[t.charCodeAt(e)];return null==r?-1:r}function UP(t){var e=DP();return e.fromInt(t),e}function HP(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}OP.ZERO=UP(0),OP.ONE=UP(1);var qP=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}();var VP,KP,YP=null;if(null==YP){YP=[],KP=0;var WP=void 0;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var zP=new Uint32Array(256);for(window.crypto.getRandomValues(zP),WP=0;WP<zP.length;++WP)YP[KP++]=255&zP[WP]}var $P=0,XP=function(t){if(($P=$P||0)>=256||KP>=256)window.removeEventListener?window.removeEventListener("mousemove",XP,!1):window.detachEvent&&window.detachEvent("onmousemove",XP);else try{var e=t.x+t.y;YP[KP++]=255&e,$P+=1}catch(t){}};"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("mousemove",XP,!1):window.attachEvent&&window.attachEvent("onmousemove",XP))}function JP(){if(null==VP){for(VP=new qP;KP<256;){var t=Math.floor(65536*Math.random());YP[KP++]=255&t}for(VP.init(YP),KP=0;KP<YP.length;++KP)YP[KP]=0;KP=0}return VP.next()}var QP=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=JP()},t}();var ZP=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),r=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(r)<0;)e=e.add(this.p);return e.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=RP(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=this.n.bitLength()+7>>3,r=function(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var r=[],n=t.length-1;n>=0&&e>0;){var o=t.charCodeAt(n--);o<128?r[--e]=o:o>127&&o<2048?(r[--e]=63&o|128,r[--e]=o>>6|192):(r[--e]=63&o|128,r[--e]=o>>6&63|128,r[--e]=o>>12|224)}r[--e]=0;for(var i=new QP,a=[];e>2;){for(a[0]=0;0==a[0];)i.nextBytes(a);r[--e]=a[0]}return r[--e]=2,r[--e]=0,new OP(r)}(t,e);if(null==r)return null;var n=this.doPublic(r);if(null==n)return null;for(var o=n.toString(16),i=o.length,a=0;a<2*e-i;a++)o="0"+o;return o},t.prototype.setPrivate=function(t,e,r){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=RP(t,16),this.e=parseInt(e,16),this.d=RP(r,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,r,n,o,i,a,s){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=RP(t,16),this.e=parseInt(e,16),this.d=RP(r,16),this.p=RP(n,16),this.q=RP(o,16),this.dmp1=RP(i,16),this.dmq1=RP(a,16),this.coeff=RP(s,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var r=new QP,n=t>>1;this.e=parseInt(e,16);for(var o=new OP(e,16);;){for(;this.p=new OP(t-n,1,r),0!=this.p.subtract(OP.ONE).gcd(o).compareTo(OP.ONE)||!this.p.isProbablePrime(10););for(;this.q=new OP(n,1,r),0!=this.q.subtract(OP.ONE).gcd(o).compareTo(OP.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var i=this.p;this.p=this.q,this.q=i}var a=this.p.subtract(OP.ONE),s=this.q.subtract(OP.ONE),c=a.multiply(s);if(0==c.gcd(o).compareTo(OP.ONE)){this.n=this.p.multiply(this.q),this.d=o.modInverse(c),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=RP(t,16),r=this.doPrivate(e);return null==r?null:function(t,e){var r=t.toByteArray(),n=0;for(;n<r.length&&0==r[n];)++n;if(r.length-n!=e-1||2!=r[n])return null;++n;for(;0!=r[n];)if(++n>=r.length)return null;var o="";for(;++n<r.length;){var i=255&r[n];i<128?o+=String.fromCharCode(i):i>191&&i<224?(o+=String.fromCharCode((31&i)<<6|63&r[n+1]),++n):(o+=String.fromCharCode((15&i)<<12|(63&r[n+1])<<6|63&r[n+2]),n+=2)}return o}(r,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,r){var n=new QP,o=t>>1;this.e=parseInt(e,16);var i=new OP(e,16),a=this,s=function(){var e=function(){if(a.p.compareTo(a.q)<=0){var t=a.p;a.p=a.q,a.q=t}var e=a.p.subtract(OP.ONE),n=a.q.subtract(OP.ONE),o=e.multiply(n);0==o.gcd(i).compareTo(OP.ONE)?(a.n=a.p.multiply(a.q),a.d=i.modInverse(o),a.dmp1=a.d.mod(e),a.dmq1=a.d.mod(n),a.coeff=a.q.modInverse(a.p),setTimeout((function(){r()}),0)):setTimeout(s,0)},c=function(){a.q=DP(),a.q.fromNumberAsync(o,1,n,(function(){a.q.subtract(OP.ONE).gcda(i,(function(t){0==t.compareTo(OP.ONE)&&a.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(c,0)}))}))},u=function(){a.p=DP(),a.p.fromNumberAsync(t-o,1,n,(function(){a.p.subtract(OP.ONE).gcda(i,(function(t){0==t.compareTo(OP.ONE)&&a.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(u,0)}))}))};setTimeout(u,0)};setTimeout(s,0)},t.prototype.sign=function(t,e,r){var n=function(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var r=e-t.length-6,n="",o=0;o<r;o+=2)n+="ff";return RP("0001"+n+"00"+t,16)}((tC[r]||"")+e(t).toString(),this.n.bitLength()/4);if(null==n)return null;var o=this.doPrivate(n);if(null==o)return null;var i=o.toString(16);return 1&i.length?"0"+i:i},t.prototype.verify=function(t,e,r){var n=RP(e,16),o=this.doPublic(n);return null==o?null:function(t){for(var e in tC)if(tC.hasOwnProperty(e)){var r=tC[e],n=r.length;if(t.substr(0,n)==r)return t.substr(n)}return t}(o.toString(16).replace(/^1f+00/,""))==r(t).toString()},t}();var tC={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
var eC={};eC.lang={extend:function(t,e,r){if(!e||!t)throw Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var n=function(){};if(n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),r){var o;for(o in r)t.prototype[o]=r[o];var i=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(i=function(t,e){for(o=0;o<a.length;o+=1){var r=a[o],n=e[r];"function"==typeof n&&n!=Object.prototype[r]&&(t[r]=n)}})}catch(t){}i(t.prototype,r)}}};
/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */
var rC={};void 0!==rC.asn1&&rC.asn1||(rC.asn1={}),rC.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var r=e.substr(1).length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var n="",o=0;o<r;o++)n+="f";e=new OP(n,16).xor(t).add(OP.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=rC.asn1,r=e.DERBoolean,n=e.DERInteger,o=e.DERBitString,i=e.DEROctetString,a=e.DERNull,s=e.DERObjectIdentifier,c=e.DEREnumerated,u=e.DERUTF8String,l=e.DERNumericString,f=e.DERPrintableString,h=e.DERTeletexString,p=e.DERIA5String,d=e.DERUTCTime,y=e.DERGeneralizedTime,v=e.DERSequence,m=e.DERSet,g=e.DERTaggedObject,b=e.ASN1Util.newObject,w=Object.keys(t);if(1!=w.length)throw"key of param shall be only one.";var E=w[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+E+":"))throw"undefined key: "+E;if("bool"==E)return new r(t[E]);if("int"==E)return new n(t[E]);if("bitstr"==E)return new o(t[E]);if("octstr"==E)return new i(t[E]);if("null"==E)return new a(t[E]);if("oid"==E)return new s(t[E]);if("enum"==E)return new c(t[E]);if("utf8str"==E)return new u(t[E]);if("numstr"==E)return new l(t[E]);if("prnstr"==E)return new f(t[E]);if("telstr"==E)return new h(t[E]);if("ia5str"==E)return new p(t[E]);if("utctime"==E)return new d(t[E]);if("gentime"==E)return new y(t[E]);if("seq"==E){for(var x=t[E],S=[],_=0;_<x.length;_++){var A=b(x[_]);S.push(A)}return new v({array:S})}if("set"==E){for(x=t[E],S=[],_=0;_<x.length;_++){A=b(x[_]);S.push(A)}return new m({array:S})}if("tag"==E){var T=t[E];if("[object Array]"===Object.prototype.toString.call(T)&&3==T.length){var L=b(T[2]);return new g({tag:T[0],explicit:T[1],obj:L})}var k={};if(void 0!==T.explicit&&(k.explicit=T.explicit),void 0!==T.tag&&(k.tag=T.tag),void 0===T.obj)throw"obj shall be specified for 'tag'.";return k.obj=b(T.obj),new g(k)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},rC.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=(e=Math.floor(r/40)+"."+r%40,""),o=2;o<t.length;o+=2){var i=("00000000"+parseInt(t.substr(o,2),16).toString(2)).slice(-8);if(n+=i.substr(1,7),"0"==i.substr(0,1))e=e+"."+new OP(n,2).toString(10),n=""}return e},rC.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new OP(t,10).toString(2),o=7-n.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";n=i+n;for(a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=e(parseInt(s,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",o=t.split("."),i=40*parseInt(o[0])+parseInt(o[1]);n+=e(i),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);return n},rC.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n=0,v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var r=e.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+r).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},rC.asn1.DERAbstractString=function(t){rC.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},eC.lang.extend(rC.asn1.DERAbstractString,rC.asn1.ASN1Object),rC.asn1.DERAbstractTime=function(t){rC.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,r){var n=this.zeroPadding,o=this.localDateToUTC(t),i=o.getFullYear()+"";"utc"==e&&(i=i.substr(2,2));var a=i+n(o.getMonth()+1+"",2)+n(o.getDate()+"",2)+n(o.getHours()+"",2)+n(o.getMinutes()+"",2)+n(o.getSeconds()+"",2);if(!0===r){var s=o.getMilliseconds();if(0!=s){var c=n(s+"",3);a=a+"."+(c=c.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,r,n,o,i){var a=new Date(Date.UTC(t,e-1,r,n,o,i,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},eC.lang.extend(rC.asn1.DERAbstractTime,rC.asn1.ASN1Object),rC.asn1.DERAbstractStructured=function(t){rC.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=[],void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},eC.lang.extend(rC.asn1.DERAbstractStructured,rC.asn1.ASN1Object),rC.asn1.DERBoolean=function(){rC.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},eC.lang.extend(rC.asn1.DERBoolean,rC.asn1.ASN1Object),rC.asn1.DERInteger=function(t){rC.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=rC.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new OP(t+"",10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},eC.lang.extend(rC.asn1.DERInteger,rC.asn1.ASN1Object),rC.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=rC.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}rC.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var r="0"+t;this.hTLV=null,this.isModified=!0,this.hV=r+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var r=0;r<=e;r++)t+="0";var n="";for(r=0;r<t.length-1;r+=8){var o=t.substr(r,8),i=parseInt(o,2).toString(16);1==i.length&&(i="0"+i),n+=i}this.hTLV=null,this.isModified=!0,this.hV="0"+e+n},this.setByBooleanArray=function(t){for(var e="",r=0;r<t.length;r++)1==t[r]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=Array(t),r=0;r<t;r++)e[r]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},eC.lang.extend(rC.asn1.DERBitString,rC.asn1.ASN1Object),rC.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=rC.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}rC.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},eC.lang.extend(rC.asn1.DEROctetString,rC.asn1.DERAbstractString),rC.asn1.DERNull=function(){rC.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},eC.lang.extend(rC.asn1.DERNull,rC.asn1.ASN1Object),rC.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new OP(t,10).toString(2),o=7-n.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";n=i+n;for(a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=e(parseInt(s,2))}return r};rC.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",o=t.split("."),i=40*parseInt(o[0])+parseInt(o[1]);n+=e(i),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(t){var e=rC.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},eC.lang.extend(rC.asn1.DERObjectIdentifier,rC.asn1.ASN1Object),rC.asn1.DEREnumerated=function(t){rC.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=rC.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new OP(t+"",10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},eC.lang.extend(rC.asn1.DEREnumerated,rC.asn1.ASN1Object),rC.asn1.DERUTF8String=function(t){rC.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},eC.lang.extend(rC.asn1.DERUTF8String,rC.asn1.DERAbstractString),rC.asn1.DERNumericString=function(t){rC.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},eC.lang.extend(rC.asn1.DERNumericString,rC.asn1.DERAbstractString),rC.asn1.DERPrintableString=function(t){rC.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},eC.lang.extend(rC.asn1.DERPrintableString,rC.asn1.DERAbstractString),rC.asn1.DERTeletexString=function(t){rC.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},eC.lang.extend(rC.asn1.DERTeletexString,rC.asn1.DERAbstractString),rC.asn1.DERIA5String=function(t){rC.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},eC.lang.extend(rC.asn1.DERIA5String,rC.asn1.DERAbstractString),rC.asn1.DERUTCTime=function(t){rC.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},eC.lang.extend(rC.asn1.DERUTCTime,rC.asn1.DERAbstractTime),rC.asn1.DERGeneralizedTime=function(t){rC.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},eC.lang.extend(rC.asn1.DERGeneralizedTime,rC.asn1.DERAbstractTime),rC.asn1.DERSequence=function(t){rC.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].getEncodedHex()}return this.hV=t,this.hV}},eC.lang.extend(rC.asn1.DERSequence,rC.asn1.DERAbstractStructured),rC.asn1.DERSet=function(t){rC.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=[],e=0;e<this.asn1Array.length;e++){var r=this.asn1Array[e];t.push(r.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},eC.lang.extend(rC.asn1.DERSet,rC.asn1.DERAbstractStructured),rC.asn1.DERTaggedObject=function(t){rC.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,r){this.hT=e,this.isExplicit=t,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},eC.lang.extend(rC.asn1.DERTaggedObject,rC.asn1.ASN1Object);var nC,oC,iC=(nC=function(t,e){return nC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},nC(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+e+" is not a constructor or null");function r(){this.constructor=t}nC(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),aC=function(t){function e(r){var n=t.call(this)||this;return r&&("string"==typeof r?n.parseKey(r):(e.hasPrivateKeyProperty(r)||e.hasPublicKeyProperty(r))&&n.parsePropertiesFrom(r)),n}return iC(e,t),e.prototype.parseKey=function(t){try{var e=0,r=0,n=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?vP(t):mP.unarmor(t),o=AP.decode(n);if(3===o.sub.length&&(o=o.sub[2].sub[0]),9===o.sub.length){e=o.sub[1].getHexStringValue(),this.n=RP(e,16),r=o.sub[2].getHexStringValue(),this.e=parseInt(r,16);var i=o.sub[3].getHexStringValue();this.d=RP(i,16);var a=o.sub[4].getHexStringValue();this.p=RP(a,16);var s=o.sub[5].getHexStringValue();this.q=RP(s,16);var c=o.sub[6].getHexStringValue();this.dmp1=RP(c,16);var u=o.sub[7].getHexStringValue();this.dmq1=RP(u,16);var l=o.sub[8].getHexStringValue();this.coeff=RP(l,16)}else{if(2!==o.sub.length)return!1;if(o.sub[0].sub){var f=o.sub[1].sub[0];e=f.sub[0].getHexStringValue(),this.n=RP(e,16),r=f.sub[1].getHexStringValue(),this.e=parseInt(r,16)}else e=o.sub[0].getHexStringValue(),this.n=RP(e,16),r=o.sub[1].getHexStringValue(),this.e=parseInt(r,16)}return!0}catch(t){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new rC.asn1.DERInteger({int:0}),new rC.asn1.DERInteger({bigint:this.n}),new rC.asn1.DERInteger({int:this.e}),new rC.asn1.DERInteger({bigint:this.d}),new rC.asn1.DERInteger({bigint:this.p}),new rC.asn1.DERInteger({bigint:this.q}),new rC.asn1.DERInteger({bigint:this.dmp1}),new rC.asn1.DERInteger({bigint:this.dmq1}),new rC.asn1.DERInteger({bigint:this.coeff})]};return new rC.asn1.DERSequence(t).getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return pP(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new rC.asn1.DERSequence({array:[new rC.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new rC.asn1.DERNull]}),e=new rC.asn1.DERSequence({array:[new rC.asn1.DERInteger({bigint:this.n}),new rC.asn1.DERInteger({int:this.e})]}),r=new rC.asn1.DERBitString({hex:"00"+e.getEncodedHex()});return new rC.asn1.DERSequence({array:[t,r]}).getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return pP(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(!t)return t;var r="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(r,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},e.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(ZP),sC="undefined"!=typeof process?null===(oC=process.env)||void 0===oC?void 0:oC.npm_package_version:void 0,cC=function(){function t(t){void 0===t&&(t={}),t=t||{},this.default_key_size=t.default_key_size?parseInt(t.default_key_size,10):1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key,this.key=new aC(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(dP(t))}catch(t){return!1}},t.prototype.encrypt=function(t){try{return pP(this.getKey().encrypt(t))}catch(t){return!1}},t.prototype.sign=function(t,e,r){try{return pP(this.getKey().sign(t,e,r))}catch(t){return!1}},t.prototype.verify=function(t,e,r){try{return this.getKey().verify(t,dP(e),r)}catch(t){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new aC,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version=sC,t}();const uC=cC;var lC=r(2169),fC=r.n(lC),hC=r(4759);function pC(t){return pC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pC(t)}function dC(t){return function(t){if(Array.isArray(t))return yC(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return yC(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yC(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yC(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function vC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vC=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==pC(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(pC(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function mC(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function gC(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){mC(i,n,o,a,s,"next",t)}function s(t){mC(i,n,o,a,s,"throw",t)}a(void 0)}))}}function bC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xC(n.key),n)}}function wC(t,e,r){return e&&bC(t.prototype,e),r&&bC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function EC(t,e,r){return(e=xC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xC(t){var e=function(t,e){if("object"!=pC(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pC(e)?e:e+""}var SC=wC((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),EC(this,"registerMobileDevice",function(){var t=gC(vC().mark((function t(e){var r,n,o;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.AccessToken,n=e.deviceId,o=e.deviceModel,t.abrupt("return",Fs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/IMobileDeviceService/RegisterMobileDevice/v1/?access_token=".concat(r,"&deviceid=").concat(n,"&language=english&push_enabled=1&app_version=3.6.3&os_version=25&device_model=").concat(o,"&twofactor_device_identifier=0")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),EC(this,"addAuthenticator",function(){var t=gC(vC().mark((function t(e){var r,n,o;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.AccessToken,n=e.SteamID,o=e.deviceId,t.abrupt("return",Fs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/ITwoFactorService/AddAuthenticator/v1/?access_token=".concat(r,"&steamid=").concat(n,"&authenticator_type=1&device_identifier=").concat(o,"&sms_phone_id=2")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),EC(this,"finalizeAddAuthenticator",function(){var t=gC(vC().mark((function t(e){var r,n,o,i,a,s;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.accessToken,n=e.activationCode,o=e.secret,i=e.steamId,t.next=3,Pc.generateAuthCode(o);case 3:return a=t.sent,s=(new Date).getTime(),t.abrupt("return",Fs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/ITwoFactorService/FinalizeAddAuthenticator/v1/?access_token=".concat(r,"&steamid=").concat(i,"&authenticator_code=").concat(a,"&authenticator_time=").concat(s,"&activation_code=").concat(n)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),EC(this,"getRSAKey",function(){var t=gC(vC().mark((function t(e){var r;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/IAuthenticationService/GetPasswordRSAPublicKey/v1/?account_name=".concat(e)});case 2:return r=t.sent,t.abrupt("return",r.response);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),EC(this,"generatePemFromModExp",(function(t,e){var r=new hC.sD;return r.setPublic(t,e),hC.ym.getPEM(r)})),EC(this,"encryptPassword",(function(t,r,n){var o=e.generatePemFromModExp(r,n),i=new uC;return i.setPublicKey(o),i.encrypt(t)})),EC(this,"startSessionWithCredentials",function(){var t=gC(vC().mark((function t(r){var n,o,i,a,s,c,u,l,f,h;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.username,o=r.password,t.next=3,e.getRSAKey(n);case 3:return i=t.sent,a=e.encryptPassword(o,i.publickey_mod,i.publickey_exp),s="https://api.steampowered.com/IAuthenticationService/*",t.next=8,rc.generateDynamicRuleId(s);case 8:for(f in t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"user-agent",operation:"set",value:"okhttp/3.12.12"},{header:"Cookie",operation:"set",value:"mobileClient=android; mobileClientVersion=777777 3.0.0"}]},t.t2={urlFilter:s},c={id:t.t0,priority:1,action:t.t1,condition:t.t2},u=new URLSearchParams({account_name:n,encrypted_password:a,encryption_timestamp:i.timestamp,remember_login:!0,persistence:1,website_id:"Mobile"}),l={device_friendly_name:eT(),platform_type:3,os_type:-500,gaming_device_type:528})u.append(f,l[f]);return t.prev=15,t.next=18,rc.setRule(c);case 18:return t.next=20,Fs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/IAuthenticationService/BeginAuthSessionViaCredentials/v1/?".concat(u.toString())});case 20:return h=t.sent,t.next=23,rc.removeRule(s);case 23:return t.abrupt("return",h.response);case 26:return t.prev=26,t.t3=t.catch(15),t.next=30,rc.removeRule(s);case 30:throw Error(t.t3);case 31:case"end":return t.stop()}}),t,null,[[15,26]])})));return function(e){return t.apply(this,arguments)}}()),EC(this,"updateAuthSessionWithSteamGuardCode",function(){var t=gC(vC().mark((function t(e){var r,n,o,i,a;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.client_id,n=e.steam_id,o=e.code,i=e.code_type,a=new URLSearchParams({client_id:r,steamid:n,code:o,code_type:void 0===i?2:i}),t.next=4,Fs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/IAuthenticationService/UpdateAuthSessionWithSteamGuardCode/v1/?".concat(a.toString())});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),EC(this,"pollLoginStatus",function(){var t=gC(vC().mark((function t(e){var r,n,o,i;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.client_id,n=e.request_id,o=new URLSearchParams({client_id:r,request_id:n}),t.next=4,Fs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/IAuthenticationService/PollAuthSessionStatus/v1/?".concat(o.toString())});case 4:return i=t.sent,t.abrupt("return",i.response);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),EC(this,"importAccount",function(){var t=gC(vC().mark((function t(r){var n,o,i,a,s,c,u,l;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.steamId,!r.passkey||!r.manifest){t.next=12;break}if((a=fC().parse(r.manifest)).entries.forEach((function(t){t.steamid=t.steamid.toString()})),o=a.entries.find((function(t){return t.steamid.toString()===i})),s=nP.decryptData(r.passkey,o.encryption_salt,o.encryption_iv,r.mafile)){t.next=8;break}throw Error("Failed decryption");case 8:(n=fC().parse(s)).Session.SteamID=n.Session.SteamID.toString(),t.next=21;break;case 12:t.prev=12,(n=fC().parse(r.mafile)).Session.SteamID=n.Session.SteamID.toString(),t.next=20;break;case 17:throw t.prev=17,t.t0=t.catch(12),Error("Incorrect maFile");case 20:o={encryption_iv:null,encryption_salt:null,filename:"".concat(n.Session.SteamID,".maFile"),steamid:n.Session.SteamID};case 21:return t.next=23,e.insertMafileInDB(n,r.currentPassKey);case 23:return c=t.sent,u=c.iv,l=c.salt,o.encryption_iv=u,o.encryption_salt=l,t.next=30,e.updateManifestInDB(o);case 30:case"end":return t.stop()}}),t,null,[[12,17]])})));return function(e){return t.apply(this,arguments)}}()),EC(this,"removeAccount",function(){var t=gC(vC().mark((function t(e){var r,n,o,i;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new JA("SIH_SDA","mafiles",FN),n=new JA("SIH_SDA","manifest",FN),t.next=4,n.openDB();case 4:return t.next=6,n.get("v1");case 6:return(o=t.sent).entries=o.entries.filter((function(t){return t.steamid!==e})),t.next=10,n.update([{key:"v1",value:o}]);case 10:return t.next=12,r.openDB();case 12:return t.next=14,r.delete(e);case 14:if(!o.encrypted){t.next=22;break}return t.next=17,y.w.get("enabledBackupSDA");case 17:if(i=t.sent,!i.enabledBackupSDA){t.next=22;break}return t.next=22,$N.makeBackUp();case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),EC(this,"deactivateAuthenticator",function(){var t=gC(vC().mark((function t(e){var r,n,o,i,a,s;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.revocation_code,n=e.accessToken,o=e.refreshToken,i=e.steamId,!DC.isTokenExpired(n)){t.next=5;break}return t.next=4,DC.refreshAccessToken(o,i);case 4:n=t.sent;case 5:return a=new URLSearchParams({access_token:n,revocation_code:r,revocation_reason:1,steamguard_scheme:1}),t.next=8,Fs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/ITwoFactorService/RemoveAuthenticator/v1/?".concat(a.toString())});case 8:return s=t.sent,t.abrupt("return",s.response);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),EC(this,"insertMafileInDB",function(){var e=gC(vC().mark((function e(r,n){var o,i,a,s,c=arguments;return vC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>2&&void 0!==c[2]&&c[2],i=r.Session.SteamID,a=new JA("SIH_SDA","mafiles",FN),e.next=5,a.openDB();case 5:return e.prev=5,e.next=8,a.get(i);case 8:if(!(s=e.sent)||!o){e.next=17;break}return e.next=12,a.delete(i);case 12:return e.next=14,t.checkEncryptionAndInsertMaFileInDB(r,n,i,a);case 14:case 26:return e.abrupt("return",e.sent);case 17:if(!s){e.next=19;break}throw Error("This account already imported");case 19:e.next=30;break;case 21:if(e.prev=21,e.t0=e.catch(5),"Not found key"!==e.t0.message){e.next=29;break}return e.next=26,t.checkEncryptionAndInsertMaFileInDB(r,n,i,a);case 29:throw Error(e.t0);case 30:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(t,r){return e.apply(this,arguments)}}()),EC(this,"updateManifestInDB",function(){var t=gC(vC().mark((function t(e){var r,n,o,i,a,s,c,u=arguments;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]&&u[1],n=new JA("SIH_SDA","manifest",FN),t.next=4,n.openDB();case 4:return t.prev=4,t.next=7,n.get("v1");case 7:if(!(o=t.sent)){t.next=29;break}if(-1===(i=o.entries.findIndex((function(t){return t.steamid===e.steamid})))){t.next=18;break}if(!r){t.next=15;break}o.entries[i]=e,t.next=16;break;case 15:throw Error("This account already imported");case 16:t.next=19;break;case 18:o.entries.push(e);case 19:return t.next=21,n.update([{key:"v1",value:o}]);case 21:if(!o.encrypted){t.next=29;break}return t.next=24,y.w.get("enabledBackupSDA");case 24:if(a=t.sent,!a.enabledBackupSDA){t.next=29;break}return t.next=29,$N.makeBackUp();case 29:t.next=48;break;case 31:if(t.prev=31,t.t0=t.catch(4),"Not found key"!==t.t0.message){t.next=47;break}return s={encrypted:!1,first_run:!1,entries:[e],periodic_checking:!1,periodic_checking_interval:60,periodic_checking_checkall:!1,auto_confirm_market_transactions:!1,auto_confirm_trades:!1,auto_confirm_market_purchase:!1},t.next=37,n.insert([{key:"v1",value:s}]);case 37:if(!s.encrypted){t.next=45;break}return t.next=40,y.w.get("enabledBackupSDA");case 40:if(c=t.sent,!c.enabledBackupSDA){t.next=45;break}return t.next=45,$N.makeBackUp();case 45:t.next=48;break;case 47:throw Error(t.t0);case 48:case"end":return t.stop()}}),t,null,[[4,31]])})));return function(e){return t.apply(this,arguments)}}()),EC(this,"getSDASettings",gC(vC().mark((function t(){var e,r;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new JA("SIH_SDA","manifest",FN),t.next=3,e.openDB();case 3:return t.prev=3,t.next=6,e.get("v1");case 6:if(!(r=t.sent)){t.next=9;break}return t.abrupt("return",{enable_notification:r.periodic_checking,wait_delay_sec:r.periodic_checking_interval,wait_all_accounts:r.periodic_checking_checkall,market_autoconfirm:r.auto_confirm_market_transactions,trades_autoconfirm:r.auto_confirm_trades,market_purchase_autoconfirm:r.auto_confirm_market_purchase});case 9:t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(3),Error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))),EC(this,"updateSDASettings",function(){var t=gC(vC().mark((function t(e){var r,n,o;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new JA("SIH_SDA","manifest",FN),t.next=3,r.openDB();case 3:return t.prev=3,t.next=6,r.get("v1");case 6:if(!(n=t.sent)){t.next=24;break}return n.periodic_checking=e.enable_notification,n.periodic_checking_interval=e.wait_delay_sec,n.periodic_checking_checkall=e.wait_all_accounts,n.auto_confirm_market_transactions=e.market_autoconfirm,n.auto_confirm_trades=e.trades_autoconfirm,n.auto_confirm_market_purchase=e.market_purchase_autoconfirm,t.next=16,r.update([{key:"v1",value:n}]);case 16:if(!n.encrypted){t.next=24;break}return t.next=19,y.w.get("enabledBackupSDA");case 19:if(o=t.sent,!o.enabledBackupSDA){t.next=24;break}return t.next=24,$N.makeBackUp();case 24:t.next=29;break;case 26:throw t.prev=26,t.t0=t.catch(3),Error(t.t0);case 29:case"end":return t.stop()}}),t,null,[[3,26]])})));return function(e){return t.apply(this,arguments)}}()),EC(this,"setupEncryption",function(){var e=gC(vC().mark((function e(r){var n,o,i,a,s,c,u,l,f,h;return vC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new JA("SIH_SDA","manifest",FN),o=new JA("SIH_SDA","mafiles",FN),e.next=4,n.openDB();case 4:return e.next=6,o.openDB();case 6:return e.prev=6,e.next=9,n.get("v1");case 9:return i=e.sent,e.next=12,o.getAll();case 12:a=e.sent,s=0;case 14:if(!(s<a.length)){e.next=26;break}return c=a[s],e.next=18,t.updateMaFileEncryption(r,c,i.entries);case 18:u=e.sent,l=u.entries,f=u.encrypted,i.entries=l,i.encrypted=f;case 23:s++,e.next=14;break;case 26:return e.next=28,n.update([{key:"v1",value:i}]);case 28:if(BN.passKey={value:r,time:Date.now()},!i.encrypted){e.next=37;break}return e.next=32,y.w.get("enabledBackupSDA");case 32:if(h=e.sent,!h.enabledBackupSDA){e.next=37;break}return e.next=37,$N.makeBackUp();case 37:e.next=42;break;case 39:throw e.prev=39,e.t0=e.catch(6),Error(e.t0);case 42:case"end":return e.stop()}}),e,null,[[6,39]])})));return function(t){return e.apply(this,arguments)}}()),EC(this,"updateEncryption",function(){var r=gC(vC().mark((function r(n){var o,i,a,s,c,u,l,f,h,p,d,v;return vC().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=n.currentPass,i=n.newPass,r.prev=1,r.next=4,e.getSDAAccounts(o);case 4:return a=r.sent,s=new JA("SIH_SDA","manifest",FN),c=new JA("SIH_SDA","mafiles",FN),r.next=9,s.openDB();case 9:return r.next=11,c.openDB();case 11:return r.next=13,s.get("v1");case 13:u=r.sent,l=0;case 15:if(!(l<a.length)){r.next=27;break}return f=a[l],r.next=19,t.updateMaFileEncryption(i,f,u.entries);case 19:h=r.sent,p=h.entries,d=h.encrypted,u.entries=p,u.encrypted=d;case 24:l++,r.next=15;break;case 27:return r.next=29,s.update([{key:"v1",value:u}]);case 29:if(BN.passKey={value:i,time:Date.now()},!u.encrypted){r.next=38;break}return r.next=33,y.w.get("enabledBackupSDA");case 33:if(v=r.sent,!v.enabledBackupSDA){r.next=38;break}return r.next=38,$N.makeBackUp();case 38:r.next=43;break;case 40:throw r.prev=40,r.t0=r.catch(1),Error(r.t0);case 43:case"end":return r.stop()}}),r,null,[[1,40]])})));return function(t){return r.apply(this,arguments)}}()),EC(this,"isEncryptedMaFiles",gC(vC().mark((function t(){var e,r,n;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new JA("SIH_SDA","manifest",FN),t.next=3,e.openDB();case 3:return t.prev=3,t.next=6,e.get("v1");case 6:if(!(r=t.sent)){t.next=26;break}if(!r.encrypted){t.next=25;break}return n=new JA("SIH_SDA","mafiles",FN),t.next=12,n.openDB();case 12:return t.next=14,n.getAllWithKeys();case 14:if(!t.sent.length){t.next=19;break}return t.abrupt("return",r.encrypted);case 19:return r.encrypted=!1,t.next=22,e.update([{key:"v1",value:r}]);case 22:case 25:return t.abrupt("return",r.encrypted);case 23:t.next=26;break;case 26:t.next=31;break;case 28:throw t.prev=28,t.t0=t.catch(3),Error(t.t0);case 31:case"end":return t.stop()}}),t,null,[[3,28]])})))),EC(this,"getSDAAccounts",function(){var t=gC(vC().mark((function t(e){var r,n,o,i,a;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new JA("SIH_SDA","mafiles",FN),n=new JA("SIH_SDA","manifest",FN),t.next=4,r.openDB();case 4:return t.next=6,n.openDB();case 6:if(o=[],!e){t.next=17;break}return t.next=10,r.getAllWithKeys();case 10:return i=t.sent,t.next=13,n.get("v1");case 13:a=t.sent,i.forEach((function(t){var r=t.key,n=t.value,i=a.entries.find((function(t){return t.steamid.toString()===r})),s=nP.decryptData(e,i.encryption_salt,i.encryption_iv,n);if(!s)throw Error("Failed decryption");o.push(JSON.parse(s))})),t.next=25;break;case 17:return t.t0=o.push,t.t1=o,t.t2=dC,t.next=22,r.getAll();case 22:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t0.apply.call(t.t0,t.t1,t.t4);case 25:return t.abrupt("return",o);case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),EC(this,"getEncryptionParams",function(){var t=gC(vC().mark((function t(e){var r,n,o;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new JA("SIH_SDA","manifest",FN),t.next=3,r.openDB();case 3:return t.next=5,r.get("v1");case 5:return n=t.sent,o=n.entries.find((function(t){return t.steamid.toString()===e})),t.abrupt("return",{salt:o.encryption_salt,iv:o.encryption_iv});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),EC(this,"reLoginAccount",function(){var t=gC(vC().mark((function t(r){var n,o,i,a,s,c,u,l;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.shared_secret,o=r.client_id,i=r.steam_id,a=r.request_id,s=r.passKey,t.prev=1,t.next=4,Pc.generateAuthCode(n);case 4:return c=t.sent,t.next=7,e.updateAuthSessionWithSteamGuardCode({client_id:o,steam_id:i,code:c,code_type:3});case 7:return t.next=9,e.pollLoginStatus({client_id:o,request_id:a});case 9:if(!(u=t.sent).refresh_token||!u.access_token){t.next=16;break}return l={AccessToken:u.access_token,RefreshToken:u.refresh_token,SessionID:DC.generateSessionID(),SteamID:i},t.next=14,DC.updateSessionInDB(s,l);case 14:t.next=17;break;case 16:throw Error("Auth error");case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(1),Error(t.t0);case 22:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(e){return t.apply(this,arguments)}}()),EC(this,"getManifestFromDB",gC(vC().mark((function t(){var e;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new JA("SIH_SDA","manifest",FN),t.next=4,e.openDB();case 4:return t.next=6,e.get("v1");case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),EC(this,"getMaFileFromDB",function(){var t=gC(vC().mark((function t(e){var r;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new JA("SIH_SDA","mafiles",FN),t.next=4,r.openDB();case 4:return t.next=6,r.get(e);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),EC(this,"getAllMaFiles",gC(vC().mark((function t(){var e;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new JA("SIH_SDA","mafiles",FN),t.next=4,e.openDB();case 4:return t.next=6,e.getAllWithKeys();case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),EC(this,"clearLocalDataFromDB",gC(vC().mark((function t(){var e,r;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new JA("SIH_SDA","mafiles",FN),r=new JA("SIH_SDA","manifest",FN),t.next=5,e.openDB();case 5:return t.next=7,r.openDB();case 7:return t.next=9,e.clear();case 9:return t.next=11,r.clear();case 11:t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(0),Error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))),EC(this,"addNewPropInCurrentManifest",function(){var t=gC(vC().mark((function t(e,r){var n,o,i;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new JA("SIH_SDA","manifest",FN),t.next=3,n.openDB();case 3:return t.prev=3,t.next=6,n.get("v1");case 6:if(o=t.sent,Object.hasOwn(o,e)){t.next=19;break}return o[e]=r,t.next=11,n.update([{key:"v1",value:o}]);case 11:if(!o.encrypted){t.next=19;break}return t.next=14,y.w.get("enabledBackupSDA");case 14:if(i=t.sent,!i.enabledBackupSDA){t.next=19;break}return t.next=19,$N.makeBackUp();case 19:t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(3),Error(t.t0);case 24:case"end":return t.stop()}}),t,null,[[3,21]])})));return function(e,r){return t.apply(this,arguments)}}())}));EC(SC,"updateMaFileEncryption",function(){var t=gC(vC().mark((function t(e,r,n){var o,i,a,s,c,u;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new JA("SIH_SDA","mafiles",FN),i=!!e,t.next=4,o.openDB();case 4:return a=i?nP.getRandomSalt():null,s=i?nP.getInitializationVector():null,c=i?nP.encryptData(e,a,s,JSON.stringify(r)):r,n.forEach((function(t){t.steamid===r.Session.SteamID&&(t.encryption_iv=s,t.encryption_salt=a)})),t.next=10,o.update([{key:r.Session.SteamID,value:c}]);case 10:if(!i){t.next=18;break}return t.next=13,y.w.get("enabledBackupSDA");case 13:if(u=t.sent,!u.enabledBackupSDA){t.next=18;break}return t.next=18,$N.makeBackUp();case 18:return t.abrupt("return",{entries:n,encrypted:i});case 19:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),EC(SC,"checkEncryptionAndInsertMaFileInDB",function(){var t=gC(vC().mark((function t(e,r,n,o){var i,a,s,c;return vC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r){t.next=17;break}return i=nP.getRandomSalt(),a=nP.getInitializationVector(),s=nP.encryptData(r,i,a,JSON.stringify(e)),t.next=7,o.insert([{key:n,value:s}]);case 7:return t.next=9,y.w.get("enabledBackupSDA");case 9:if(c=t.sent,!c.enabledBackupSDA){t.next=14;break}return t.next=14,$N.makeBackUp();case 14:return t.abrupt("return",{salt:i,iv:a});case 17:return t.next=19,o.insert([{key:n,value:e}]);case 19:return t.abrupt("return",{salt:null,iv:null});case 20:t.next=25;break;case 22:throw t.prev=22,t.t0=t.catch(0),Error(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e,r,n,o){return t.apply(this,arguments)}}());const _C=new SC;function AC(t){return AC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AC(t)}function TC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */TC=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==AC(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(AC(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function LC(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function kC(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){LC(i,n,o,a,s,"next",t)}function s(t){LC(i,n,o,a,s,"throw",t)}a(void 0)}))}}function OC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PC(n.key),n)}}function IC(t,e,r){return e&&OC(t.prototype,e),r&&OC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NC(t,e,r){return(e=PC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PC(t){var e=function(t,e){if("object"!=AC(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=AC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==AC(e)?e:e+""}var CC=IC((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),NC(this,"isTokenExpired",(function(t){if(!t)return!0;var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");e.length%4!=0&&(e+="=".repeat(4-e.length%4));var r=atob(e),n=JSON.parse(r);return Math.floor(Date.now()/1e3)>n.exp})),NC(this,"refreshAccessToken",function(){var t=kC(TC().mark((function t(e,r){var n,o,i;return TC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new URLSearchParams({refresh_token:e,steamid:r}),t.next=4,Fs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/IAuthenticationService/GenerateAccessTokenForApp/v1/?".concat(n.toString())});case 4:return o=t.sent,i=o.response,t.abrupt("return",i.access_token);case 9:throw t.prev=9,t.t0=t.catch(0),Error("Failed to refresh token: "+t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()),NC(this,"getSteamLoginSecure",(function(t,e){return t+"%7C%7C"+e})),NC(this,"generateSessionID",(function(){return t.getRandomHexNumber(32)})),NC(this,"forceRefreshSession",function(){var t=kC(TC().mark((function t(r,n,o){var i,a;return TC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.refreshAccessToken(r,n);case 3:if(i=t.sent){t.next=6;break}throw Error("Wrong refreshToken");case 6:return a={AccessToken:i,RefreshToken:r,SessionID:e.generateSessionID(),SteamID:n},t.next=9,e.updateSessionInDB(o,a);case 9:return t.abrupt("return",a);case 12:if(t.prev=12,t.t0=t.catch(0),"Wrong refreshToken"!==t.t0.message){t.next=18;break}throw Error("Wrong refreshToken");case 18:throw Error("Failed to refresh session: "+t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r,n){return t.apply(this,arguments)}}()),NC(this,"updateSessionInDB",function(){var t=kC(TC().mark((function t(e,r){var n,o,i,a,s,c,u,l;return TC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_C.getSDAAccounts(e);case 2:return n=t.sent,(o=n.find((function(t){return t.Session.SteamID===r.SteamID}))).Session=r,i=new JA("SIH_SDA","mafiles",FN),t.next=8,i.openDB();case 8:if(!e){t.next=26;break}return t.next=11,_C.getEncryptionParams(r.SteamID);case 11:return a=t.sent,s=a.salt,c=a.iv,u=nP.encryptData(e,s,c,JSON.stringify(o)),t.next=17,i.update([{key:r.SteamID,value:u}]);case 17:return t.next=19,y.w.get("enabledBackupSDA");case 19:if(l=t.sent,!l.enabledBackupSDA){t.next=24;break}return t.next=24,$N.makeBackUp();case 24:t.next=28;break;case 26:return t.next=28,i.update([{key:r.SteamID,value:o}]);case 28:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}));NC(CC,"getRandomHexNumber",(function(t){var e=new Uint8Array(Math.ceil(t/2));self.crypto.getRandomValues(e);var r=Array.from(e).map((function(t){return t.toString(16).padStart(2,"0")})).join("").toUpperCase();return t%2==0?r:r.slice(0,-1)+Math.floor(16*Math.random()).toString(16).toUpperCase()}));const DC=new CC;var RC;function jC(t){return jC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jC(t)}function FC(t){return function(t){if(Array.isArray(t))return MC(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||GC(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BC(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=GC(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function GC(t,e){if(t){if("string"==typeof t)return MC(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?MC(t,e):void 0}}function MC(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function UC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */UC=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==jC(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(jC(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function HC(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function qC(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){HC(i,n,o,a,s,"next",t)}function s(t){HC(i,n,o,a,s,"throw",t)}a(void 0)}))}}function VC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WC(n.key),n)}}function KC(t,e,r){return e&&VC(t.prototype,e),r&&VC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YC(t,e,r){return(e=WC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WC(t){var e=function(t,e){if("object"!=jC(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jC(e)?e:e+""}var zC=KC((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),YC(this,"getConfirmationList",function(){var e=qC(UC().mark((function e(r,n){var o,i,a;return UC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={tag:"conf",deviceID:r.device_id,steamID:r.Session.SteamID,identitySecret:r.identity_secret,time:n},e.t0="https://steamcommunity.com/mobileconf/getlist?",e.next=5,t.generateConfirmationURL(o);case 5:return e.t1=e.sent,i=e.t0+e.t1,e.prev=7,e.next=10,t.updateHeadersMobileConf(r.Session.SteamID,r.Session.AccessToken,i);case 10:return e.next=12,Fs.Ay.apiRequest({url:i,method:"POST"});case 12:if(!(a=e.sent).needauth){e.next=15;break}throw Error("Wrong refreshToken");case 15:return e.abrupt("return",a);case 18:throw e.prev=18,e.t2=e.catch(7),Error(e.t2);case 21:return e.prev=21,e.next=24,rc.removeRule(i);case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[7,18,21,25]])})));return function(t,r){return e.apply(this,arguments)}}()),YC(this,"sendConfirmation",function(){var e=qC(UC().mark((function e(r,n,o,i){var a,s,c;return UC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={tag:"allow"===n?"accept":"reject",deviceID:o.device_id,steamID:o.Session.SteamID,identitySecret:o.identity_secret,time:i},e.next=4,t.generateConfirmationURL(a);case 4:return s=e.sent,c="https://steamcommunity.com/mobileconf/ajaxop?op=".concat(n,"&").concat(s,"&cid=").concat(r.id,"&ck=").concat(r.nonce),e.prev=6,e.next=9,t.updateHeadersMobileConf(o.Session.SteamID,o.Session.AccessToken,c);case 9:return e.next=11,Fs.Ay.apiRequest({url:c,method:"GET"});case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(6),Error(e.t0);case 17:return e.prev=17,e.next=20,rc.removeRule(c);case 20:return e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[6,14,17,21]])})));return function(t,r,n,o){return e.apply(this,arguments)}}()),YC(this,"sendMultiConfirmation",function(){var e=qC(UC().mark((function e(r,n,o,i){var a,s,c;return UC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="allow"===n?"accept":"reject",e.t0=o.device_id,e.t1=o.Session.SteamID,e.next=5,Pc.generateConfirmationKey(o.identity_secret,i,a);case 5:return e.t2=e.sent,e.t3=i,e.t4=a,e.t5=n,e.t6=[],e.t7=[],s={p:e.t0,a:e.t1,k:e.t2,t:e.t3,m:"react",tag:e.t4,op:e.t5,cid:e.t6,ck:e.t7},r.forEach((function(t){s.cid.push(t.id),s.ck.push(t.nonce)})),c="https://steamcommunity.com/mobileconf/multiajaxop",e.prev=14,e.next=17,t.updateHeadersMobileConf(o.Session.SteamID,o.Session.AccessToken,c);case 17:return e.next=19,Fs.Ay.apiRequest({url:c,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:s});case 19:return e.abrupt("return",e.sent);case 22:throw e.prev=22,e.t8=e.catch(14),Error(e.t8);case 25:return e.prev=25,e.next=28,rc.removeRule(c);case 28:return e.finish(25);case 29:case"end":return e.stop()}}),e,null,[[14,22,25,29]])})));return function(t,r,n,o){return e.apply(this,arguments)}}()),YC(this,"alarmConfChecker",qC(UC().mark((function t(){var r,n,o,i,a,s,c;return UC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.getManifestFromDB();case 3:if((r=t.sent).entries.length){t.next=6;break}return t.abrupt("return");case 6:if(!r.encrypted||BN.passKey.value){t.next=8;break}return t.abrupt("return");case 8:if(!r.periodic_checking_checkall){t.next=37;break}return t.next=11,_C.getSDAAccounts(r.encrypted?BN.passKey.value:"");case 11:if((n=t.sent).length){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,Pc.getTimeOffset();case 16:o=t.sent,i=o.offset,a=BC(n),t.prev=19,c=UC().mark((function t(){var n,o,a,c,u,l,f,h,p,d,y,v;return UC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.value,o=n.Session.SteamID,a=n.Session.AccessToken,c=n.Session.RefreshToken,!BN.pausedAccounts[o]){t.next=6;break}return t.abrupt("return",0);case 6:if(!DC.isTokenExpired(c)){t.next=10;break}return t.abrupt("return",0);case 10:if(!DC.isTokenExpired(a)){t.next=21;break}return t.prev=11,t.next=14,DC.forceRefreshSession(c,o,BN.passKey.value);case 14:n.Session=t.sent,GN.port.postMessage({message:"NEED_UPDATE_ACCOUNTS"}),t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(11),t.abrupt("return",0);case 21:return u=Pc.time(i),t.next=24,e.getConfirmationList(n,u);case 24:if(l=t.sent,f=l.conf,(h=l.success)&&(f.length&&r.periodic_checking&&f.forEach((function(t){var e={type:"basic",title:"Steam inventory helper",message:t.headline,iconUrl:t.icon,buttons:[{title:"".concat(i18next.t("controls:accept"))},{title:"".concat(i18next.t("controls:reject"))}]};switch(t.type){case PN:e.message="".concat(i18next.t("controls:tradeConfirmationFrom")," ").concat(t.headline);break;case CN:var r=t.headline.replace("Selling for","");e.message="".concat(i18next.t("controls:marketConfirmation")," ").concat(r)}var o="SDA_NOTIFICATION_".concat(t.id);BN.notifications[o]={conf:t,account:n},chrome.notifications.create(o,e)})),BN.confirmations[o]=f),h&&f.length){t.next=30;break}return t.abrupt("return",0);case 30:if(p=[],d=r.auto_confirm_trades,y=r.auto_confirm_market_transactions,v=r.auto_confirm_market_purchase,f.forEach((function(t){switch(t.type){case PN:d&&p.push(t);break;case CN:y&&p.push(t);break;case DN:v&&p.push(t)}})),!p.length){t.next=38;break}return t.next=36,e.sendMultiConfirmation(p,"allow",n,u);case 36:return t.next=38,e.setInHistory(o,u,"allow",p);case 38:case"end":return t.stop()}}),t,null,[[11,18]])})),a.s();case 22:if((s=a.n()).done){t.next=29;break}return t.delegateYield(c(),"t0",24);case 24:if(0!==t.t0){t.next=27;break}return t.abrupt("continue",27);case 27:t.next=22;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(19),a.e(t.t1);case 34:return t.prev=34,a.f(),t.finish(34);case 37:chrome.alarms.get("SDA_CHECK_CONFIRMATION",(function(t){var e=r.periodic_checking_interval/60;t.periodInMinutes!==e&&chrome.alarms.clear("SDA_CHECK_CONFIRMATION",(function(t){t&&chrome.alarms.create("SDA_CHECK_CONFIRMATION",{periodInMinutes:e,delayInMinutes:e})}))})),t.next=43;break;case 40:t.prev=40,t.t2=t.catch(0),"Error: Not found key"!==t.t2.message&&console.error(t.t2);case 43:case"end":return t.stop()}}),t,null,[[0,40],[19,31,34,37]])})))),YC(this,"getHistory",function(){var t=qC(UC().mark((function t(e){var r;return UC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new JA("SIH_SDA","history",FN),t.next=4,r.openDB();case 4:return t.next=6,r.get(e);case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(0),"Not found key"!==t.t0.message){t.next=15;break}return t.abrupt("return",[]);case 15:throw Error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),YC(this,"setInHistory",function(){var t=qC(UC().mark((function t(e,r,n,o){var i,a,s,c;return UC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new JA("SIH_SDA","history",FN),t.next=3,i.openDB();case 3:return a=50,s=o.map((function(t){return{headline:t.headline,creation_time:t.creation_time,icon:t.icon,complete_time:r,type:t.type,status:n}})),t.prev=5,t.next=8,i.get(e);case 8:return(c=t.sent).unshift.apply(c,FC(s)),c.length>a&&c.splice(a),t.next=13,i.update([{key:e,value:c}]);case 13:case 21:t.next=24;break;case 15:if(t.prev=15,t.t0=t.catch(5),"Not found key"!==t.t0.message){t.next=23;break}return s.length>a&&s.splice(a),t.next=21,i.update([{key:e,value:s}]);case 23:throw Error(t.t0);case 24:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e,r,n,o){return t.apply(this,arguments)}}())}));RC=zC,YC(zC,"urlFilter","https://steamcommunity.com/mobileconf/*"),YC(zC,"generateConfirmationURL",function(){var t=qC(UC().mark((function t(e){var r,n,o,i,a,s,c;return UC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tag,n=void 0===r?"conf":r,o=e.deviceID,i=e.steamID,a=e.time,s=e.identitySecret,t.t0=URLSearchParams,t.t1=o,t.t2=i,t.next=6,Pc.generateConfirmationKey(s,a,n);case 6:return t.t3=t.sent,t.t4=a,t.t5=n,t.t6={p:t.t1,a:t.t2,k:t.t3,t:t.t4,m:"react",tag:t.t5},c=new t.t0(t.t6),t.abrupt("return",c.toString());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),YC(zC,"updateHeadersMobileConf",function(){var t=qC(UC().mark((function t(e,r){var n,o,i=arguments;return UC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:RC.urlFilter,t.next=3,rc.generateDynamicRuleId(n);case 3:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Cookie",operation:"set",value:"sessionid=".concat(DC.generateSessionID(),"; steamLoginSecure=").concat(DC.getSteamLoginSecure(e,r),"; mobileClient=android; mobileClientVersion=777777 3.6.1;")},{header:"Origin",operation:"set",value:"https://steamcommunity.com"},{header:"Referer",operation:"set",value:"https://steamcommunity.com"},{header:"user-agent",operation:"set",value:"okhttp/3.12.12"},{header:"accept-language",operation:"set",value:"en-US"}]},t.t2={urlFilter:n},o={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=9,rc.setRule(o);case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());const $C=new zC;function XC(t){return XC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XC(t)}function JC(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ZC(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function QC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||ZC(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZC(t,e){if(t){if("string"==typeof t)return tD(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tD(t,e):void 0}}function tD(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function eD(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */eD=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==XC(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(XC(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function rD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nD(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rD(Object(r),!0).forEach((function(e){oD(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function oD(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=XC(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=XC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==XC(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iD(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function aD(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){iD(i,n,o,a,s,"next",t)}function s(t){iD(i,n,o,a,s,"throw",t)}a(void 0)}))}}var sD="core.sih.app";const cD={msg:{addAuthenticator:{code:"BACKGROUND_ADD_AUTHENTICATOR",handler:function(){var t=aD(eD().mark((function t(e,r){var n,o,i,a,s,c,u;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.SteamID,o=e.AccessToken,t.prev=1,i="android:"+crypto.randomUUID(),a=eT(),t.next=6,_C.registerMobileDevice({AccessToken:o,deviceId:i,deviceModel:a});case 6:return t.next=8,_C.addAuthenticator({AccessToken:o,SteamID:n,deviceId:i});case 8:s=t.sent,c=s.response,u={response:c,deviceId:i},BN.authorization=nD(nD({},BN.authorization),{},{time:Date.now(),step_3:u}),r(u),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),console.error(t.t0),r(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}()},finalizeTwoFactor:{code:"BACKGROUND_FINALIZE_TWO_FACTOR",handler:function(){var t=aD(eD().mark((function t(e,r){var n,o,i,a,s,c,u,l,f;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.activationCode,o=e.mafile,i=e.passKey,t.prev=1,a={accessToken:o.Session.AccessToken,secret:o.shared_secret,steamId:o.Session.SteamID,activationCode:n},t.next=5,_C.finalizeAddAuthenticator(a);case 5:if(!(s=t.sent).response.success){t.next=16;break}return t.next=9,_C.insertMafileInDB(o,i,!0);case 9:return c=t.sent,u=c.salt,l=c.iv,f={encryption_iv:l,encryption_salt:u,filename:"".concat(o.Session.SteamID,".maFile"),steamid:o.Session.SteamID},t.next=15,_C.updateManifestInDB(f,!0);case 15:BN.authorization={};case 16:r(s.response),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),console.error(t.t0);case 22:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(e,r){return t.apply(this,arguments)}}()},getSteamDetailAccount:{code:"BACKGROUND_GET_STEAM_DETAILS",handler:function(){var t=aD(eD().mark((function t(e){var r,n,o;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/ITwoFactorService/QueryStatus/v1"});case 3:r=t.sent,(n={}).canTrade=!0,o=r.is_twofactor_enabled&&r.timestamp_twofactor_enabled&&Math.floor(Date.now()/1e3)-r.timestamp_twofactor_enabled>=604800,r.is_steamguard_enabled?!r.timestamp_steamguard_enabled||Math.floor(Date.now()/1e3)-r.timestamp_steamguard_enabled<1296e3?n.canTrade=!1:o||r.session_data&&r.session_data[0]&&r.session_data[0].timestamp_machine_steamguard_enabled&&!(Math.floor(Date.now()/1e3)-r.session_data[0].timestamp_machine_steamguard_enabled<604800)||(n.canTrade=!1):n.canTrade=!1,n.isSteamGuardEnabled=!!r.is_steamguard_enabled,n.timestampSteamGuardEnabled=r.timestamp_steamguard_enabled?new Date(1e3*r.timestamp_steamguard_enabled):null,n.timestampMachineSteamGuardEnabled=r.session_data&&r.session_data[0]&&r.session_data[0].timestamp_machine_steamguard_enabled?new Date(1e3*r.session_data[0].timestamp_machine_steamguard_enabled):null,n.isTwoFactorEnabled=!!r.is_twofactor_enabled,n.timestampTwoFactorEnabled=r.timestamp_twofactor_enabled?new Date(1e3*r.timestamp_twofactor_enabled):null,n.isPhoneVerified=!!r.is_phone_verified,e(n),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),console.error(t.t0),e(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},importAccount:{code:"BACKGROUND_SDA_IMPORT_ACCOUNT",handler:function(){var t=aD(eD().mark((function t(e,r){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.importAccount(e);case 3:r({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0),r({success:!1,message:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r){return t.apply(this,arguments)}}()},startSessionWithCredentials:{code:"BACKGROUND_START_SESSION_WITH_CREDENTIALS",handler:function(){var t=aD(eD().mark((function t(e,r){var n,o;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.startSessionWithCredentials(e);case 3:n=t.sent,(o=n.allowed_confirmations)&&o.length&&(o.find((function(t){return t.confirmation_type===RN||t.confirmation_type===jN}))||(BN.authorization={time:Date.now(),step_1:n})),r(n),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0),r(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()},submitSteamGuardCode:{code:"BACKGROUND_SUBMIT_STEAM_GUARD_CODE",handler:function(){var t=aD(eD().mark((function t(e,r){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.updateAuthSessionWithSteamGuardCode(e);case 3:r(),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0),r(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r){return t.apply(this,arguments)}}()},pollLoginStatus:{code:"BACKGROUND_POLL_LOGIN_STATUS",handler:function(){var t=aD(eD().mark((function t(e,r){var n;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.pollLoginStatus(e);case 3:(n=t.sent).refresh_token&&n.access_token&&(BN.authorization=nD(nD({},BN.authorization),{},{time:Date.now(),step_2:n})),r(n),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),r(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getSDAAccounts:{code:"BACKGROUND_GET_SDA_ACCOUNTS",handler:function(){var t=aD(eD().mark((function t(e,r){var n;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.getSDAAccounts(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getSteamTotp:{code:"BACKGROUND_GET_STEAM_TOTP",handler:function(){var t=aD(eD().mark((function t(e,r){var n,o,i;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.secret,o=e.offset,t.prev=1,t.next=4,Pc.generateAuthCode(n,o);case 4:i=t.sent,r(i),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),r(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getSteamTimeOffset:{code:"BACKGROUND_GET_STEAM_TIME_OFFSET",handler:function(){var t=aD(eD().mark((function t(e){var r,n;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pc.getTimeOffset();case 3:r=t.sent,n=r.offset,e(n),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),e(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},removeFromManifest:{code:"BACKGROUND_REMOVE_FROM_MANIFEST",handler:function(){var t=aD(eD().mark((function t(e,r){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.removeAccount(e.steamId);case 3:r({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r){return t.apply(this,arguments)}}()},deactivateAuthenticator:{code:"BACKGROUND_DEACTIVATE_AUTHENTICATOR",handler:function(){var t=aD(eD().mark((function t(e,r){var n;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.deactivateAuthenticator(e);case 3:if(!(n=t.sent).success){t.next=8;break}return t.next=7,_C.removeAccount(e.steamId);case 7:r({success:!0});case 8:r(n),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},getSDASettings:{code:"BACKGROUND_GET_SDA_SETTINGS",handler:(RD=aD(eD().mark((function t(e){var r;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.getSDASettings();case 3:r=t.sent,e({success:!0,settings:r}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),e({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t){return RD.apply(this,arguments)})},updateSDASettings:{code:"BACKGROUND_UPDATE_SDA_SETTINGS",handler:(DD=aD(eD().mark((function t(e,r){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.updateSDASettings(e);case 3:r({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(t,e){return DD.apply(this,arguments)})},setupEncryption:{code:"BACKGROUND_SETUP_ENCRYPTION",handler:(CD=aD(eD().mark((function t(e,r){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.setupEncryption(e);case 3:r({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(t,e){return CD.apply(this,arguments)})},updateEncryption:{code:"BACKGROUND_UPDATE_ENCRYPTION",handler:(PD=aD(eD().mark((function t(e,r){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.updateEncryption(e);case 3:r({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(t,e){return PD.apply(this,arguments)})},isEncryptedMaFiles:{code:"BACKGROUND_IS_ENCRYPTED_MAFILES",handler:(ND=aD(eD().mark((function t(e){var r,n;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={},n=6e5,t.next=5,_C.isEncryptedMaFiles();case 5:r.isEncrypted=t.sent,0!==Object.keys(BN.passKey).length&&Date.now()-BN.passKey.time<=n&&(r.passKey=BN.passKey.value),e(r),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e({isEncrypted:!1}),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),function(t){return ND.apply(this,arguments)})},getConfirmations:{code:"BACKGROUND_GET_CONFIRMATIONS",handler:(ID=aD(eD().mark((function t(e,r){var n,o,i,a,s,c,u,l;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=(n=e).Session.AccessToken,i=n.Session.RefreshToken,a=n.Session.SteamID,!DC.isTokenExpired(i)){t.next=9;break}throw Error("Expired refreshToken");case 9:if(!DC.isTokenExpired(o)){t.next=20;break}return t.prev=10,t.next=13,DC.forceRefreshSession(i,a,BN.passKey.value);case 13:n.Session=t.sent,GN.port.postMessage({message:"NEED_UPDATE_ACCOUNTS"}),t.next=20;break;case 17:throw t.prev=17,t.t0=t.catch(10),Error(t.t0);case 20:return t.next=22,Pc.getTimeOffset();case 22:return s=t.sent,c=s.offset,u=Pc.time(c),t.next=27,$C.getConfirmationList(n,u);case 27:l=t.sent,r(l),t.next=35;break;case 31:t.prev=31,t.t1=t.catch(0),console.error(t.t1),r({success:!1,error:t.t1.message});case 35:case"end":return t.stop()}}),t,null,[[0,31],[10,17]])}))),function(t,e){return ID.apply(this,arguments)})},sendConfirmation:{code:"BACKGROUND_SEND_CONFIRMATIONS",handler:(OD=aD(eD().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.account,o=e.conf,i=e.type,t.prev=1,a=n.Session.AccessToken,s=n.Session.RefreshToken,c=n.Session.SteamID,!DC.isTokenExpired(s)){t.next=9;break}throw Error("Expired refreshToken");case 9:if(!DC.isTokenExpired(a)){t.next=20;break}return t.prev=10,t.next=13,DC.forceRefreshSession(s,c,BN.passKey.value);case 13:n.Session=t.sent,GN.port.postMessage({message:"NEED_UPDATE_ACCOUNTS"}),t.next=20;break;case 17:throw t.prev=17,t.t0=t.catch(10),Error(t.t0);case 20:return t.next=22,Pc.getTimeOffset();case 22:return u=t.sent,l=u.offset,f=Pc.time(l),t.next=27,$C.sendConfirmation(o,i,n,f);case 27:h=t.sent,$C.setInHistory(c,f,i,[o]),r(h),t.next=36;break;case 32:t.prev=32,t.t1=t.catch(1),console.error(t.t1),r({success:!1,error:t.t1.message});case 36:case"end":return t.stop()}}),t,null,[[1,32],[10,17]])}))),function(t,e){return OD.apply(this,arguments)})},sendMultiConfirmation:{code:"BACKGROUND_SEND_MULTI_CONFIRMATIONS",handler:(kD=aD(eD().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.account,o=e.confs,i=e.type,t.prev=1,a=n.Session.AccessToken,s=n.Session.RefreshToken,c=n.Session.SteamID,!DC.isTokenExpired(s)){t.next=9;break}throw Error("Expired refreshToken");case 9:if(!DC.isTokenExpired(a)){t.next=20;break}return t.prev=10,t.next=13,DC.forceRefreshSession(s,c,BN.passKey.value);case 13:n.Session=t.sent,GN.port.postMessage({message:"NEED_UPDATE_ACCOUNTS"}),t.next=20;break;case 17:throw t.prev=17,t.t0=t.catch(10),Error(t.t0);case 20:return t.next=22,Pc.getTimeOffset();case 22:return u=t.sent,l=u.offset,f=Pc.time(l),t.next=27,$C.sendMultiConfirmation(o,i,n,f);case 27:h=t.sent,$C.setInHistory(c,f,i,o),r(h),t.next=36;break;case 32:t.prev=32,t.t1=t.catch(1),console.error(t.t1),r({success:!1,error:t.t1.message});case 36:case"end":return t.stop()}}),t,null,[[1,32],[10,17]])}))),function(t,e){return kD.apply(this,arguments)})},forceSessionUpdate:{code:"BACKGROUND_SDA_FORCE_SESSION_UPDATE",handler:(LD=aD(eD().mark((function t(e,r){var n,o,i,a;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.refreshToken,o=e.SteamID,i=e.passkey,t.prev=1,t.next=4,DC.forceRefreshSession(n,o,i);case 4:return t.next=6,_C.getSDAAccounts(i);case 6:a=t.sent,r({success:!0,accounts:a}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),r({success:!1}),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),function(t,e){return LD.apply(this,arguments)})},reLoginAccount:{code:"BACKGROUND_RELOGIN_ACCOUNT",handler:(TD=aD(eD().mark((function t(e,r){var n;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.reLoginAccount(e);case 3:return t.next=5,_C.getSDAAccounts(e.passKey);case 5:n=t.sent,r({success:!0,accounts:n}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r({success:!1}),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(t,e){return TD.apply(this,arguments)})},getTradeInfo:{code:"BACKGROUND_SDA_GET_TRADE_INFO",handler:(AD=aD(eD().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h,p;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accessToken,o=e.offerId,t.prev=1,t.next=4,hm.getTradeInfoByOfferId(n,o);case 4:return i=t.sent,a=i.offer,s=i.descriptions,t.next=8,y.w.get({currency:1});case 8:c=t.sent,u=c.currency,l=[],f=s.reduce((function(t,e){var r=e.appid,n=e.market_hash_name;return t[r]||(t[r]=new Set),t[r].add(n),t}),{}),h=eD().mark((function t(e){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.push(new Promise(function(){var t=aD(eD().mark((function t(r,n){var o,i;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={appId:e,currency:1,items:Array.from(f[e]),markets:["steamLiveSell"],source:"sda"},t.prev=1,t.next=4,jO.getPrices(o);case 4:i=t.sent,r(i),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n();case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})),t.t0=eD().keys(f);case 14:if((t.t1=t.t0()).done){t.next=19;break}return p=t.t1.value,t.delegateYield(h(p),"t2",17);case 17:t.next=14;break;case 19:Promise.allSettled(l).then(function(){var t=aD(eD().mark((function t(e){var n,o,c,l,f,h,p,d;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={},o=!1,e.forEach((function(t){var e=t.value,r=t.status;if(e&&e.success&&e.items)for(var i=0,a=Object.entries(e.items);i<a.length;i++){var s=QC(a[i],2),c=s[0],u=s[1];u.steamLiveSell&&"number"==typeof u.steamLiveSell.price&&(n[c]=u.steamLiveSell.price)}else"rejected"===r&&(o=!0)})),s.forEach((function(t){n[t.market_hash_name]&&(t.price=n[t.market_hash_name])})),c=a.items_to_give?a.items_to_give.map((function(t){return s.find((function(e){return t.classid===e.classid&&t.instanceid===e.instanceid}))})):[],l=a.items_to_receive?a.items_to_receive.map((function(t){return s.find((function(e){return t.classid===e.classid&&t.instanceid===e.instanceid}))})):[],i.itemsToGive=c,i.itemsToReceive=l,i.needAuth=o,o){t.next=20;break}return t.next=12,rT(c,u);case 12:return f=t.sent,h=f.text,t.next=16,rT(l,u);case 16:p=t.sent,d=p.text,i.priceToGive=h,i.priceToReceive=d;case 20:r(nD({success:!0},i));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){r({success:!1})})),t.next=26;break;case 22:t.prev=22,t.t3=t.catch(1),r({success:!1}),console.error(t.t3);case 26:case"end":return t.stop()}}),t,null,[[1,22]])}))),function(t,e){return AD.apply(this,arguments)})},verifyEncryptionKey:{code:"BACKGROUND_VERIFY_ENCRYPTION",handler:(_D=aD(eD().mark((function t(e,r){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.getSDAAccounts(e);case 3:t.sent.length?(BN.passKey={value:e,time:Date.now()},r({success:!0})):r({success:!1}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1}),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t,e){return _D.apply(this,arguments)})},getSDAStorage:{code:"BACKGROUND_SDA_STORAGE_GET",handler:(SD=aD(eD().mark((function t(e,r){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r(BN[e])}catch(t){console.error(t)}case 1:case"end":return t.stop()}}),t)}))),function(t,e){return SD.apply(this,arguments)})},setSDAStorage:{code:"BACKGROUND_SDA_STORAGE_SET",handler:(xD=aD(eD().mark((function t(e,r){var n,o;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.key,o=e.value;try{BN[n]=o,r()}catch(t){console.error(t)}case 2:case"end":return t.stop()}}),t)}))),function(t,e){return xD.apply(this,arguments)})},getConfirmationHistory:{code:"BACKGROUND_SDA_GET_HISTORY",handler:(ED=aD(eD().mark((function t(e,r){var n;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$C.getHistory(e);case 3:n=t.sent,r({success:!0,history:n}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t,e){return ED.apply(this,arguments)})},sdaExportData:{code:"BACKGROUND_SDA_EXPORT_DATA",handler:(wD=aD(eD().mark((function t(e,r){var n,o,i;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.steamId,t.prev=1,t.next=4,_C.getMaFileFromDB(n);case 4:return o=t.sent,t.next=7,_C.getManifestFromDB();case 7:(i=t.sent).encrypted?r({success:!0,maFile:o,manifest:JSON.stringify(i)}):r({success:!0,maFile:JSON.stringify(o)}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0),r({success:!1});case 15:case"end":return t.stop()}}),t,null,[[1,11]])}))),function(t,e){return wD.apply(this,arguments)})},sdaCheckAuth:{code:"BACKGROUND_SDA_CHECK_AUTH",handler:(bD=aD(eD().mark((function t(e){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{chrome.cookies.getAll({domain:sD},function(){var t=aD(eD().mark((function t(r){var n,o,i,a,s,c,u,l;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",r.forEach((function(t){"sih.login"===t.name&&(n=t.value)})),!n){t.next=44;break}return o="https://core.sih.app/get/token",t.next=6,rc.generateDynamicRuleId(o);case 6:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Cookie",operation:"set",value:"sih.login=".concat(n)}]},t.t2={urlFilter:o},i={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=12,rc.setRule(i);case 12:return a="",t.prev=13,t.next=16,Fs.Ay.apiRequest({method:"GET",url:"https://core.sih.app/get/token"});case 16:return s=t.sent,c=s.token,u=s.success,t.next=21,rc.removeRule(o);case 21:u||e({success:!1}),a=c,t.next=30;break;case 25:return t.prev=25,t.t3=t.catch(13),t.next=29,rc.removeRule(o);case 29:e({success:!1});case 30:return t.prev=30,t.next=33,Fs.Ay.sendRequest({headers:{"x-sih-token":a},method:"GET",url:"https://core.sih.app/sih/user"});case 33:return l=t.sent,t.next=36,y.w.setLocal({sihAppCoreToken:a});case 36:e(nD(nD({},l),{},{token:a})),t.next=42;break;case 39:t.prev=39,t.t4=t.catch(30),e({success:!1});case 42:t.next=45;break;case 44:e({success:!1});case 45:case"end":return t.stop()}}),t,null,[[13,25],[30,39]])})));return function(e){return t.apply(this,arguments)}}())}catch(t){console.error(t),e({success:!1})}case 1:case"end":return t.stop()}}),t)}))),function(t){return bD.apply(this,arguments)})},sdaCheckBackUp:{code:"BACKGROUND_SDA_CHECK_BACKUP",handler:(gD=aD(eD().mark((function t(e){var r,n,o,i,a,s,c,u,l;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$N.getBackUpList();case 3:if(!(r=t.sent).success){t.next=35;break}if(n=r.backups.find((function(t){return"maFiles"===t.fileName})),o=r.backups.find((function(t){return"manifest"===t.fileName})),n&&o){t.next=10;break}return e({success:!0,message:"No backup"}),t.abrupt("return");case 10:return t.next=12,$N.getBackUp(n.id);case 12:return i=t.sent,t.next=15,$N.getBackUp(o.id);case 15:return a=t.sent,s=[],c={},t.prev=18,t.next=21,_C.getAllMaFiles();case 21:return s=t.sent,t.next=24,_C.getManifestFromDB();case 24:c=t.sent,t.next=30;break;case 27:t.prev=27,t.t0=t.catch(18),console.error(t.t0);case 30:u=oT(s,i.content),l=nT(c,a.content),e({success:!0,isEqualMaFiles:u,isEqualManifest:l,createdTime:n.createdAt,maFiles:i.content,manifest:a.content}),t.next=36;break;case 35:e({success:!1});case 36:t.next=42;break;case 38:t.prev=38,t.t1=t.catch(0),console.error(t.t1),e({success:!1});case 42:case"end":return t.stop()}}),t,null,[[0,38],[18,27]])}))),function(t){return gD.apply(this,arguments)})},makeBackUp:{code:"BACKGROUND_SDA_MAKE_BACKUP",handler:(mD=aD(eD().mark((function t(e){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$N.makeBackUp();case 3:e({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0),e({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(t){return mD.apply(this,arguments)})},updateLocalByCloud:{code:"BACKGROUND_UPDATE_LOCAL_DB_BY_CLOUD",handler:(vD=aD(eD().mark((function t(e){var r,n,o,i,a,s,c,u,l,f,h,p;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$N.getBackUpList();case 3:if(!(r=t.sent).success){t.next=46;break}return n=r.backups.find((function(t){return"maFiles"===t.fileName})),o=r.backups.find((function(t){return"manifest"===t.fileName})),t.next=9,$N.getBackUp(n.id);case 9:return i=t.sent,t.next=12,$N.getBackUp(o.id);case 12:return a=t.sent,s=new JA("SIH_SDA","manifest",FN),c=new JA("SIH_SDA","mafiles",FN),t.next=17,s.openDB();case 17:return t.next=19,c.openDB();case 19:return t.next=21,s.clear();case 21:return t.next=23,c.clear();case 23:return t.next=25,s.insert([{key:"v1",value:a.content}]);case 25:u=JC(i.content),t.prev=26,u.s();case 28:if((l=u.n()).done){t.next=34;break}return f=l.value,h=f.key,p=f.value,t.next=32,c.insert([{key:h,value:p}]);case 32:t.next=28;break;case 34:t.next=39;break;case 36:t.prev=36,t.t0=t.catch(26),u.e(t.t0);case 39:return t.prev=39,u.f(),t.finish(39);case 42:BN.clearAll(),e({success:!0}),t.next=47;break;case 46:e({success:!1});case 47:t.next=53;break;case 49:t.prev=49,t.t1=t.catch(0),console.error(t.t1),e({success:!1});case 53:case"end":return t.stop()}}),t,null,[[0,49],[26,36,39,42]])}))),function(t){return vD.apply(this,arguments)})},sdaExportAllDB:{code:"BACKGROUND_SDA_EXPORT_ALL_DB",handler:(yD=aD(eD().mark((function t(e){var r,n;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.getAllMaFiles();case 3:return r=t.sent,t.next=6,_C.getManifestFromDB();case 6:n=t.sent,e({success:!0,maFilesLocal:r,manifestLocal:n}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),"Error: Not found key"===t.t0.message?e({success:!1,sdaIsNotExist:!0}):e({success:!1});case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),function(t){return yD.apply(this,arguments)})},clearCloudData:{code:"BACKGROUND_SDA_CLEAR_CLOUD_DATA",handler:(dD=aD(eD().mark((function t(e){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$N.removeBackUp("maFiles");case 3:return t.next=5,$N.removeBackUp("manifest");case 5:e({success:!0}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),e({success:!1});case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))),function(t){return dD.apply(this,arguments)})},clearLocalData:{code:"BACKGROUND_SDA_CLEAR_LOCAL_DATA",handler:(pD=aD(eD().mark((function t(e){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_C.clearLocalDataFromDB();case 3:e({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0),e({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(t){return pD.apply(this,arguments)})},openSDAWindow:{code:"BACKGROUND_OPEN_SDA_WINDOW",handler:(hD=aD(eD().mark((function t(e){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.setLocal({need_open_sda_tab:!0});case 3:return t.next=5,KE.openPopup();case 5:e({success:!0}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),e({success:!1});case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))),function(t){return hD.apply(this,arguments)})},getAvailableSDABySteamId:{code:"BACKGROUND_GET_AVAILABLE_SDA_BY_STEAM_ID",handler:(fD=aD(eD().mark((function t(e){var r,n,o,i;return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:return r=t.sent,n=r.userInfo,t.next=7,_C.getManifestFromDB();case 7:o=t.sent,i=null==o?void 0:o.entries.some((function(t){return t.steamid===n.steamId})),e({success:i}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),e({success:!1});case 16:case"end":return t.stop()}}),t,null,[[0,12]])}))),function(t){return fD.apply(this,arguments)})}},alarm:{confirmationChecker:{code:"SDA_CHECK_CONFIRMATION",handler:(lD=aD(eD().mark((function t(){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tu.G4.onLoad();case 3:$C.alarmConfChecker(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(){return lD.apply(this,arguments)})}},connect:{init:{handler:(uD=aD(eD().mark((function t(e){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:GN.port=e,e.onDisconnect.addListener((function(){GN.port=null,BN.passKey.value&&(BN.passKey.time=Date.now())}));case 2:case"end":return t.stop()}}),t)}))),function(t){return uD.apply(this,arguments)})}}};var uD,lD,fD,hD,pD,dD,yD,vD,mD,gD,bD,wD,ED,xD,SD,_D,AD,TD,LD,kD,OD,ID,ND,PD,CD,DD,RD;function jD(t){return jD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jD(t)}function FD(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */FD=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==jD(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(jD(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function BD(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function GD(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){BD(i,n,o,a,s,"next",t)}function s(t){BD(i,n,o,a,s,"throw",t)}a(void 0)}))}}var MD=function(){var t=GD(FD().mark((function t(e,r,n){return FD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===cD.msg.addAuthenticator.code?3:t.t0===cD.msg.finalizeTwoFactor.code?6:t.t0===cD.msg.importAccount.code?9:t.t0===cD.msg.startSessionWithCredentials.code?12:t.t0===cD.msg.submitSteamGuardCode.code?15:t.t0===cD.msg.pollLoginStatus.code?18:t.t0===cD.msg.getSDAAccounts.code?21:t.t0===cD.msg.getSteamTotp.code?24:t.t0===cD.msg.getSteamTimeOffset.code?27:t.t0===cD.msg.removeFromManifest.code?30:t.t0===cD.msg.deactivateAuthenticator.code?33:t.t0===cD.msg.getSDASettings.code?36:t.t0===cD.msg.updateSDASettings.code?39:t.t0===cD.msg.setupEncryption.code?42:t.t0===cD.msg.updateEncryption.code?45:t.t0===cD.msg.isEncryptedMaFiles.code?48:t.t0===cD.msg.getConfirmations.code?51:t.t0===cD.msg.sendConfirmation.code?54:t.t0===cD.msg.sendMultiConfirmation.code?57:t.t0===cD.msg.forceSessionUpdate.code?60:t.t0===cD.msg.reLoginAccount.code?63:t.t0===cD.msg.getTradeInfo.code?66:t.t0===cD.msg.verifyEncryptionKey.code?69:t.t0===cD.msg.getSDAStorage.code?72:t.t0===cD.msg.setSDAStorage.code?75:t.t0===cD.msg.getConfirmationHistory.code?78:t.t0===cD.msg.sdaExportData.code?81:t.t0===cD.msg.sdaCheckAuth.code?84:t.t0===cD.msg.sdaCheckBackUp.code?87:t.t0===cD.msg.makeBackUp.code?90:t.t0===cD.msg.updateLocalByCloud.code?93:t.t0===cD.msg.sdaExportAllDB.code?96:t.t0===cD.msg.clearCloudData.code?99:t.t0===cD.msg.clearLocalData.code?102:t.t0===cD.msg.openSDAWindow.code?105:t.t0===cD.msg.getAvailableSDABySteamId.code?108:111;break;case 3:return t.next=5,cD.msg.addAuthenticator.handler(e.data,n);case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 35:case 38:case 41:case 44:case 47:case 50:case 53:case 56:case 59:case 62:case 65:case 68:case 71:case 74:case 77:case 80:case 83:case 86:case 89:case 92:case 95:case 98:case 101:case 104:case 107:case 110:return t.abrupt("break",111);case 6:return t.next=8,cD.msg.finalizeTwoFactor.handler(e.data,n);case 9:return t.next=11,cD.msg.importAccount.handler(e.data,n);case 12:return t.next=14,cD.msg.startSessionWithCredentials.handler(e.data,n);case 15:return t.next=17,cD.msg.submitSteamGuardCode.handler(e.data,n);case 18:return t.next=20,cD.msg.pollLoginStatus.handler(e.data,n);case 21:return t.next=23,cD.msg.getSDAAccounts.handler(e.data,n);case 24:return t.next=26,cD.msg.getSteamTotp.handler(e.data,n);case 27:return t.next=29,cD.msg.getSteamTimeOffset.handler(n);case 30:return t.next=32,cD.msg.removeFromManifest.handler(e.data,n);case 33:return t.next=35,cD.msg.deactivateAuthenticator.handler(e.data,n);case 36:return t.next=38,cD.msg.getSDASettings.handler(n);case 39:return t.next=41,cD.msg.updateSDASettings.handler(e.data,n);case 42:return t.next=44,cD.msg.setupEncryption.handler(e.data,n);case 45:return t.next=47,cD.msg.updateEncryption.handler(e.data,n);case 48:return t.next=50,cD.msg.isEncryptedMaFiles.handler(n);case 51:return t.next=53,cD.msg.getConfirmations.handler(e.data,n);case 54:return t.next=56,cD.msg.sendConfirmation.handler(e.data,n);case 57:return t.next=59,cD.msg.sendMultiConfirmation.handler(e.data,n);case 60:return t.next=62,cD.msg.forceSessionUpdate.handler(e.data,n);case 63:return t.next=65,cD.msg.reLoginAccount.handler(e.data,n);case 66:return t.next=68,cD.msg.getTradeInfo.handler(e.data,n);case 69:return t.next=71,cD.msg.verifyEncryptionKey.handler(e.data,n);case 72:return t.next=74,cD.msg.getSDAStorage.handler(e.data,n);case 75:return t.next=77,cD.msg.setSDAStorage.handler(e.data,n);case 78:return t.next=80,cD.msg.getConfirmationHistory.handler(e.data,n);case 81:return t.next=83,cD.msg.sdaExportData.handler(e.data,n);case 84:return t.next=86,cD.msg.sdaCheckAuth.handler(n);case 87:return t.next=89,cD.msg.sdaCheckBackUp.handler(n);case 90:return t.next=92,cD.msg.makeBackUp.handler(n);case 93:return t.next=95,cD.msg.updateLocalByCloud.handler(n);case 96:return t.next=98,cD.msg.sdaExportAllDB.handler(n);case 99:return t.next=101,cD.msg.clearCloudData.handler(n);case 102:return t.next=104,cD.msg.clearLocalData.handler(n);case 105:return t.next=107,cD.msg.openSDAWindow.handler(n);case 108:return t.next=110,cD.msg.getAvailableSDABySteamId.handler(n);case 111:return t.abrupt("return",!0);case 112:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),UD=function(){var t=GD(FD().mark((function t(){return FD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.runtime.onMessage.addListener(MD),chrome.runtime.onMessageExternal.addListener(MD);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),HD=function(t){if(t.name===cD.alarm.confirmationChecker.code)cD.alarm.confirmationChecker.handler()},qD=function(){chrome.alarms.create(cD.alarm.confirmationChecker.code,{delayInMinutes:1,periodInMinutes:1})},VD=function(t){if("SDA_POPUP_CONNECTION"===t.name)cD.connect.init.handler(t)};const KD={msgListener:{listener:{handler:MD},init:{handler:UD}},alarmListener:{createAlarms:{handler:qD},listener:{handler:HD},init:{handler:function(){qD(),chrome.alarms.onAlarm.addListener(HD)}}},connectionListener:{init:{handler:function(){chrome.runtime.onConnect.addListener(VD),chrome.runtime.onConnectExternal.addListener(VD)}}}};const YD={handler:function(){try{KD.msgListener.init.handler(),KD.alarmListener.init.handler(),KD.connectionListener.init.handler()}catch(t){console.error(t)}}};function WD(t){return WD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WD(t)}function zD(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */zD=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==WD(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(WD(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function $D(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const XD={msg:{GetSihAppSteamInventory:{code:"GET_SIH_APP_STEAM_INVENTORY",handler:function(){var t,e=(t=zD().mark((function t(e,r){var n,o,i;return zD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.steamId,o=e.appId,t.prev=1,t.next=4,Fs.Ay.apiRequest({method:"GET",url:"https://skinpay.sih.app/steam-inventory/".concat(n,"/").concat(o)});case 4:i=t.sent,r(i),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),r({success:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){$D(i,n,o,a,s,"next",t)}function s(t){$D(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}},alarm:{}};function JD(t){return JD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JD(t)}function QD(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */QD=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==JD(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(JD(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ZD(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var tR=function(){var t,e=(t=QD().mark((function t(e,r,n){return QD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===XD.msg.GetSihAppSteamInventory.code?3:6;break;case 3:return t.next=5,XD.msg.GetSihAppSteamInventory.handler(e.data,n);case 5:case 6:return t.abrupt("break",7);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ZD(i,n,o,a,s,"next",t)}function s(t){ZD(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const eR={listener:{handler:tR},init:{handler:function(){chrome.runtime.onMessage.addListener(tR),chrome.runtime.onMessageExternal.addListener(tR)}}};const rR={handler:function(){try{eR.init.handler()}catch(t){}}};function nR(t){return nR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nR(t)}function oR(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */oR=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==nR(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(nR(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function iR(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var aR=function(){var t,e=(t=oR().mark((function t(e,r,n){return oR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===ix.msg.getUserSihApp.code?3:t.t0===ix.msg.getUserProfileInfo.code?6:t.t0===ix.msg.setEmail.code?9:t.t0===ix.msg.deleteEmail.code?12:t.t0===ix.msg.enterPassword.code?15:t.t0===ix.msg.updateTradeLink.code?18:t.t0===ix.msg.getSihAppLog.code?21:t.t0===ix.msg.readSihAppLog.code?24:t.t0===ix.msg.getAutoLoadFloats.code?27:t.t0===ix.msg.pingSihApp.code?30:33;break;case 3:return t.next=5,ix.msg.getUserSihApp.handler(n);case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 33:return t.abrupt("break",34);case 6:return t.next=8,ix.msg.getUserProfileInfo.handler(n);case 9:return t.next=11,ix.msg.setEmail.handler(e.data,n);case 12:return t.next=14,ix.msg.deleteEmail.handler(n);case 15:return t.next=17,ix.msg.enterPassword.handler(e.data,n);case 18:return t.next=20,ix.msg.updateTradeLink.handler(e.data,n);case 21:return t.next=23,ix.msg.getSihAppLog.handler(n);case 24:return t.next=26,ix.msg.readSihAppLog.handler(n);case 27:return t.next=29,ix.msg.getAutoLoadFloats.handler(n);case 30:return t.next=32,ix.msg.pingSihApp.handler(n);case 34:return t.abrupt("return",!0);case 35:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){iR(i,n,o,a,s,"next",t)}function s(t){iR(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const sR={listener:{handler:aR},init:{handler:function(){chrome.runtime.onMessage.addListener(aR),chrome.runtime.onMessageExternal.addListener(aR)}}};function cR(t){return cR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cR(t)}function uR(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */uR=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==cR(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(cR(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function lR(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=cR(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=cR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cR(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fR(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function hR(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){fR(i,n,o,a,s,"next",t)}function s(t){fR(i,n,o,a,s,"throw",t)}a(void 0)}))}}var pR,dR=function(){var t=hR(uR().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:if(e=t.sent,e.userInfo.authorization){t.next=8;break}return t.next=8,Jd.updateDataStorageLog({success:!1,error:"Not found steam account"});case 8:return t.next=10,y.w.get({sih_app_market_toggle:!1});case 10:if(r=t.sent,r.sih_app_market_toggle){t.next=15;break}return t.next=15,QS.updateState(!0);case 15:return t.next=17,yy.findLastItemByDateOrderInStackBuy();case 17:if(n=t.sent,o=n.itemData,i=n.key,!o||!i){t.next=77;break}return a=lR({},i,[{createdAt:o.createdAt,statusCode:o.statusCode}]),t.next=24,Jd.getUserAuth();case 24:if(!(s=Au.sihAppUserProfile).success||s.tfaNeed){t.next=75;break}return t.next=28,yy.startCreatingPurchaseRequest(o,i);case 28:return t.next=30,y.w.getLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 30:if(c=t.sent,!((u=c.CURRENT_COUNT_BUY_ITERATION_ITEM)<10)){t.next=67;break}return u++,t.next=36,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:u});case 36:if(!(s.user.balance/1e3>=o.price&&o.createdAt!==pR)){t.next=61;break}return pR=o.createdAt,t.next=40,yy.buyItem(o);case 40:if(!(l=t.sent).success){t.next=50;break}return t.next=44,yy.deleteItemFromStackBuy(i,o.createdAt);case 44:return t.sent,t.next=47,yy.getOrders();case 47:setTimeout(hR(uR().mark((function t(){return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dR();case 2:case"end":return t.stop()}}),t)}))),5500),t.next=59;break;case 50:return t.next=52,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 52:return t.next=54,yy.changeStatusItemInStackBuy(a);case 54:return t.sent,l.freshPrice&&setTimeout(hR(uR().mark((function t(){return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dR();case 2:case"end":return t.stop()}}),t)}))),5500),Object.assign(l,{itemData:o}),t.next=59,Jd.updateDataStorageLog(l);case 59:t.next=65;break;case 61:if(f=+Math.abs(s.user.balance/1e3-o.price).toFixed(2),1!==u){t.next=65;break}return t.next=65,Jd.updateDataStorageLog({success:!1,error:"Not enough balance",needToAdd:f,itemData:o});case 65:t.next=73;break;case 67:return t.next=69,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 69:return t.next=71,yy.changeStatusItemInStackBuy(a);case 71:return t.next=73,Jd.updateDataStorageLog({success:!1,error:"Time for refills is up",itemData:o});case 73:t.next=77;break;case 75:return t.next=77,Jd.updateDataStorageLog({success:!1,error:"2FA is enabled for this account"});case 77:t.next=82;break;case 79:t.prev=79,t.t0=t.catch(0),t.t0;case 82:case"end":return t.stop()}}),t,null,[[0,79]])})));return function(){return t.apply(this,arguments)}}();const yR={msg:{getLinkForInvoice:{code:Is.A.msg.BACKGROUND_CREATE_INVOICE,handler:function(){var t=hR(uR().mark((function t(e,r){var n,o;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(n=Au.sihAppUserProfile)&&0!==Object.keys(n).length||r({success:!1,authorization:!1}),t.next=5,yy.createInvoice(e.amount,e.method);case 5:o=t.sent,r(o),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()},buyItem:{code:Is.A.msg.BACKGROUND_BUY_ITEM_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e,r){var n,o;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(n=Au.sihAppUserProfile)&&0!==Object.keys(n).length||r({success:!1,authorization:!1}),t.next=5,yy.buyItem(e);case 5:o=t.sent,r(o),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()},cancelOrder:{code:Is.A.msg.BACKGROUND_CANCEL_ORDER_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e,r){var n,o,i;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.orderId,t.prev=1,(o=Au.sihAppUserProfile)&&0!==Object.keys(o).length||r({success:!1,authorization:!1}),t.next=6,yy.cancelOrder(n);case 6:i=t.sent,r(i),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()},updateItemOrderLocal:{code:Is.A.msg.BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e,r){var n,o,i;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.orderId,t.prev=1,(o=Au.sihAppUserProfile)&&0!==Object.keys(o).length||r({success:!1,authorization:!1}),t.next=6,yy.updateItemOrderLocal(n);case 6:i=t.sent,r(i),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()},setToStack:{code:Is.A.msg.BACKGROUND_SET_BUY_STACK_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e,r){var n;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,yy.setItemToStackBuy(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},deleteFromStack:{code:Is.A.msg.BACKGROUND_DELETE_BUY_STACK_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e,r){var n,o,i;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.hashName,o=e.createdAt,t.prev=1,t.next=4,yy.deleteItemFromStackBuy(n,o);case 4:i=t.sent,r(i),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},deleteLastFromStack:{code:Is.A.msg.BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e,r){var n,o,i,a,s;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.hashName,o=e.statusCode,i=e.countDelete,a=e.itemId,t.prev=1,t.next=4,yy.deleteItemsFromBuyStackByCreatedAt(n,o,i,a);case 4:s=t.sent,r(s),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getItemArrayByHashName:{code:Is.A.msg.BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e,r){var n,o;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.hashName,t.prev=1,!n){t.next=9;break}return t.next=5,yy.getItemArrayFromStackByName(n);case 5:o=t.sent,r(o),t.next=10;break;case 9:r({success:!1,error:"Invalid name"});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),t.t0;case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,r){return t.apply(this,arguments)}}()},getAllItemArray:{code:Is.A.msg.BACKGROUND_GET_ALL_BUY_STACK_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e){var r;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,yy.getAllStackBuy();case 3:r=t.sent,e(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},changeItemStatus:{code:Is.A.msg.BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e,r){var n,o;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(n=Au.sihAppUserProfile)&&0!==Object.keys(n).length||r({success:!1,error:"Not found profile sih app"}),e&&Object.keys(e).length||r({success:!1,error:"Invalid data"}),t.next=6,yy.changeStatusItemInStackBuy(e);case 6:o=t.sent,r(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()},updateItemsPriceInBuyStack:{code:Is.A.msg.BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e,r){var n;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.items){t.next=6;break}return t.next=4,yy.updateAllPricesInAllStackBuy(e.items);case 4:n=t.sent,r(n);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getOrdersHistory:{code:Is.A.msg.BACKGROUND_GET_ORDERS_HISTORY_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e,r){var n,o,i,a,s;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.isLocal,o=e.page,i=e.number,t.prev=1,(a=Au.sihAppUserProfile)&&0!==Object.keys(a).length||r({success:!1,authorization:!1}),t.next=6,yy.getOrders(n,o,i);case 6:s=t.sent,r(s),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()},updateItemCheckbox:{code:Is.A.msg.BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e,r){var n,o;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(n=Au.sihAppUserProfile)&&0!==Object.keys(n).length||r({success:!1,authorization:!1}),t.next=5,yy.updateItemsCheckbox(e);case 5:o=t.sent,r(o),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()},setDefaultCountBuyIteration:{code:Is.A.msg.BACKGROUND_SET_DEFAULT_BUY_COUNT,handler:function(){var t=hR(uR().mark((function t(e){var r;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(r=Au.sihAppUserProfile)&&0!==Object.keys(r).length||e({success:!1,authorization:!1}),!r.success||r.tfaNeed){t.next=7;break}return t.next=6,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 6:e({success:!0});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},getTopSales:{code:Is.A.msg.BACKGROUND_GET_TOP_SALES,handler:function(){var t=hR(uR().mark((function t(e,r){var n;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,yy.getTopSales(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},createBuyOrder:{code:Is.A.msg.BACKGROUND_CREATE_BUY_ORDER_SIH_APP,handler:function(){var t=hR(uR().mark((function t(e){var r;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(r=Au.sihAppUserProfile)&&0!==Object.keys(r).length||e({success:!1,authorization:!1}),t.next=5,dR();case 5:e({success:!0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}},alarm:{createBuyOrder:{code:Is.A.alarm.BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP,handler:function(){var t=hR(uR().mark((function t(){return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dR();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},updateOrdersHistory:{code:Is.A.alarm.BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP,handler:function(){var t=hR(uR().mark((function t(){var e,r,n,o,i,a,s;return uR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:return e=t.sent,r=e.userInfo,n=Au.sihAppUserProfile,t.next=8,y.w.getLocal({sihAppOrdersHistory:{}});case 8:if(o=t.sent,i=o.sihAppOrdersHistory,r.authorization){t.next=12;break}return t.abrupt("return",{success:!1,error:"Not found steam account"});case 12:if(n&&0!==Object.keys(n).length){t.next=14;break}return t.abrupt("return",{success:!1,error:"Not found profile sih app"});case 14:if(Object.keys(i).length){t.next=16;break}return t.abrupt("return",{success:!1,error:"Empty history list"});case 16:if(!i.success||i.tfaNeed){t.next=27;break}if(!i.orders.data.length){t.next=25;break}if(a=["new","created","processing","sent"],s=!1,i.orders.data.forEach((function(t){a.includes(t.status)&&(s=!0)})),!s){t.next=25;break}return t.next=24,yy.getOrders();case 24:return t.abrupt("return",t.sent);case 25:t.next=28;break;case 27:return t.abrupt("return",{success:!1,error:"2FA is enabled for this account"});case 28:t.next=33;break;case 30:t.prev=30,t.t0=t.catch(0),t.t0;case 33:case"end":return t.stop()}}),t,null,[[0,30]])})));return function(){return t.apply(this,arguments)}}()}}};function vR(t){return vR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vR(t)}function mR(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */mR=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==vR(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(vR(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function gR(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var bR=function(){var t,e=(t=mR().mark((function t(e,r,n){return mR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===yR.msg.getLinkForInvoice.code?3:t.t0===yR.msg.buyItem.code?6:t.t0===yR.msg.cancelOrder.code?9:t.t0===yR.msg.updateItemOrderLocal.code?12:t.t0===yR.msg.setToStack.code?15:t.t0===yR.msg.getItemArrayByHashName.code?18:t.t0===yR.msg.getAllItemArray.code?21:t.t0===yR.msg.deleteFromStack.code?24:t.t0===yR.msg.deleteLastFromStack.code?27:t.t0===yR.msg.changeItemStatus.code?30:t.t0===yR.msg.updateItemsPriceInBuyStack.code?33:t.t0===yR.msg.getOrdersHistory.code?36:t.t0===yR.msg.getTopSales.code?39:t.t0===yR.msg.updateItemCheckbox.code?42:t.t0===yR.msg.setDefaultCountBuyIteration.code?45:t.t0===yR.msg.createBuyOrder.code?48:51;break;case 3:return t.next=5,yR.msg.getLinkForInvoice.handler(e.data,n);case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 35:case 38:case 41:case 44:case 47:case 50:case 51:return t.abrupt("break",52);case 6:return t.next=8,yR.msg.buyItem.handler(e.data,n);case 9:return t.next=11,yR.msg.cancelOrder.handler(e.data,n);case 12:return t.next=14,yR.msg.updateItemOrderLocal.handler(e.data,n);case 15:return t.next=17,yR.msg.setToStack.handler(e.data,n);case 18:return t.next=20,yR.msg.getItemArrayByHashName.handler(e.data,n);case 21:return t.next=23,yR.msg.getAllItemArray.handler(n);case 24:return t.next=26,yR.msg.deleteFromStack.handler(e.data,n);case 27:return t.next=29,yR.msg.deleteLastFromStack.handler(e.data,n);case 30:return t.next=32,yR.msg.changeItemStatus.handler(e.data,n);case 33:return t.next=35,yR.msg.updateItemsPriceInBuyStack.handler(e.data,n);case 36:return t.next=38,yR.msg.getOrdersHistory.handler(e.data,n);case 39:return t.next=41,yR.msg.getTopSales.handler(e.data,n);case 42:return t.next=44,yR.msg.updateItemCheckbox.handler(e.data,n);case 45:return t.next=47,yR.msg.setDefaultCountBuyIteration.handler(n);case 48:return t.next=50,yR.msg.createBuyOrder.handler(n);case 52:return t.abrupt("return",!0);case 53:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){gR(i,n,o,a,s,"next",t)}function s(t){gR(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const wR={listener:{handler:bR},init:{handler:function(){chrome.runtime.onMessage.addListener(bR),chrome.runtime.onMessageExternal.addListener(bR)}}};function ER(t){return ER="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ER(t)}function xR(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xR=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ER(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ER(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function SR(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function _R(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){SR(i,n,o,a,s,"next",t)}function s(t){SR(i,n,o,a,s,"throw",t)}a(void 0)}))}}function AR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kR(n.key),n)}}function TR(t,e,r){return e&&AR(t.prototype,e),r&&AR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LR(t,e,r){return(e=kR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kR(t){var e=function(t,e){if("object"!=ER(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ER(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ER(e)?e:e+""}var OR=TR((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),LR(this,"getLinkForSubscribe",function(){var t=_R(xR().mark((function t(r){var n,o,i,a;return xR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:return n=t.sent,o=Au.sihAppUserProfile,t.next=7,Fs.Ay.apiRequest({headers:{"x-sih-token":n},method:"POST",url:"".concat(e.sihAppUrl,"/sih/balance/subscribe/").concat(r),data:{plan_id:r},crossDomain:!0,xhrFields:{withCredentials:!0}});case 7:if(!(i=t.sent).success){t.next=12;break}return t.abrupt("return",{success:!0,url:i.url,email:null!==o.user.email?o.user.email:null});case 12:return t.abrupt("return",{success:!1});case 13:t.next=22;break;case 15:return t.prev=15,t.t0=t.catch(0),t.t0,a=Error(),t.next=21,e.errorHandler(t.t0.message||t.t0.responseText,a.stack,"getLinkForSubscribe");case 21:return t.abrupt("return",JSON.parse(t.t0.message));case 22:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()),LR(this,"getPaymentMethodsAndPlans",_R(xR().mark((function t(){var r,n;return xR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:return r=t.sent,t.next=6,Fs.Ay.sendRequest({headers:{"x-sih-token":r},method:"GET",url:"".concat(e.sihAppUrl,"/sih/invoice"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 6:return t.abrupt("return",t.sent);case 9:return t.prev=9,t.t0=t.catch(0),t.t0,n=Error(),t.next=15,e.errorHandler(t.t0.message||t.t0.responseText,n.stack,"getPaymentMethodsAndPlans");case 15:return t.abrupt("return",JSON.parse(t.t0.message)||JSON.parse(t.t0.responseText));case 16:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.sihAppUrl=Jd.sihAppUrl,this.errorHandler=Jd.errorHandler}));const IR=new OR;function NR(t){return NR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NR(t)}function PR(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return CR(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?CR(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function CR(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function DR(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */DR=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==NR(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(NR(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function RR(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function jR(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){RR(i,n,o,a,s,"next",t)}function s(t){RR(i,n,o,a,s,"throw",t)}a(void 0)}))}}var FR=function(){var t=jR(DR().mark((function t(){var e,r;return DR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e=Au.sihAppUserProfile)||e.tfaNeed){t.next=15;break}return t.next=5,IR.getPaymentMethodsAndPlans();case 5:if(r=t.sent){t.next=8;break}return t.abrupt("return",[]);case 8:if(!r.plans){t.next=11;break}return t.next=11,y.w.setLocal({subscribeAdsPlans:r.plans["SIH without ads"].plans||[]});case 11:if(!r.methods){t.next=14;break}return t.next=14,y.w.setLocal({subscribeAdsMethods:r.methods||[]});case 14:return t.abrupt("return",{subscribeAdsPlans:r.plans["SIH without ads"].plans||[],subscribeAdsMethods:r.methods});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),t.t0;case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(){return t.apply(this,arguments)}}(),BR=function(t){if(!Array.isArray(t.socials))return null;var e,r=PR(t.socials);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(Array.isArray(n)&&"steam"===n[0])return n[1]}}catch(t){r.e(t)}finally{r.f()}return null};const GR={msg:{getLinkForSubscribe:{code:Is.A.msg.BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE,handler:function(){var t=jR(DR().mark((function t(e,r){var n,o;return DR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(n=Au.sihAppUserProfile)||r({success:!1,authorization:!1}),!n.success||!n.tfaNeed){t.next=7;break}r({success:!1,error:"Enter password"}),t.next=11;break;case 7:return t.next=9,IR.getLinkForSubscribe(e.id);case 9:o=t.sent,r(o);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()},checkSubscribeForBlockAds:{code:Is.A.msg.BACKGROUND_CHECK_SUBSCRIBE_ADS,handler:function(){var t=jR(DR().mark((function t(e){return DR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{chrome.management.getSelf(function(){var t=jR(DR().mark((function t(r){var n,o,i,a,s,c,u;return DR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("normal"===r.installType){t.next=3;break}return e({success:!1}),t.abrupt("return");case 3:return n=Au.sihAppUserProfile,t.next=6,Jc.getProfile();case 6:if(o=t.sent.data,i=Ps.A.Profile.parse(o,["steamId"]),a=i.steamId,n)if(n.subscribes&&n.subscribes.length>0){s=PR(n.subscribes);try{for(s.s();!(c=s.n()).done;)"adfree"===c.value.for_what?(u=BR(n),e(u===a?{success:!0}:{success:!1})):e({success:!1})}catch(t){s.e(t)}finally{s.f()}}else e({success:!1});else e({success:!1});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getSubscribeAdsPlans:{code:Is.A.msg.BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP,handler:function(){var t=jR(DR().mark((function t(e){var r,n,o,i;return DR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("subscribeAdsPlans");case 3:if(r=t.sent,n=r.subscribeAdsPlans){t.next=13;break}return t.next=8,FR();case 8:o=t.sent,i=o.subscribeAdsPlans,e(i),t.next=14;break;case 13:e(n);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},getSubscribeAdsMethods:{code:Is.A.msg.BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP,handler:function(){var t=jR(DR().mark((function t(e){var r,n,o,i;return DR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("subscribeAdsMethods");case 3:if(r=t.sent,n=r.subscribeAdsMethods){t.next=13;break}return t.next=8,FR();case 8:o=t.sent,i=o.subscribeAdsMethods,e(i),t.next=14;break;case 13:e(n);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()}},alarm:{updateSubscribeAdsPlansAndMethods:{code:Is.A.alarm.UPDATE_SUBSCRIBE_ADS_PLANS_AND_METHODS,handler:function(){var t=jR(DR().mark((function t(){return DR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,FR();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}};function MR(t){return MR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MR(t)}function UR(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */UR=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==MR(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(MR(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function HR(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var qR=function(){var t,e=(t=UR().mark((function t(e,r,n){return UR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===GR.msg.getLinkForSubscribe.code?3:t.t0===GR.msg.checkSubscribeForBlockAds.code?6:t.t0===GR.msg.getSubscribeAdsPlans.code?9:t.t0===GR.msg.getSubscribeAdsMethods.code?12:15;break;case 3:return t.next=5,GR.msg.getLinkForSubscribe.handler(e.data,n);case 5:case 8:case 11:case 14:case 15:return t.abrupt("break",16);case 6:return t.next=8,GR.msg.checkSubscribeForBlockAds.handler(n);case 9:return t.next=11,GR.msg.getSubscribeAdsPlans.handler(n);case 12:return t.next=14,GR.msg.getSubscribeAdsMethods.handler(n);case 16:return t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){HR(i,n,o,a,s,"next",t)}function s(t){HR(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const VR={listener:{handler:qR},init:{handler:function(){chrome.runtime.onMessage.addListener(qR),chrome.runtime.onMessageExternal.addListener(qR)}}};const KR={handler:function(){try{sR.init.handler(),VR.init.handler(),wR.init.handler()}catch(t){}}};function YR(t){return YR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YR(t)}function WR(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return zR(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zR(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zR(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function $R(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$R=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==YR(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(YR(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function XR(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function JR(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){XR(i,n,o,a,s,"next",t)}function s(t){XR(i,n,o,a,s,"throw",t)}a(void 0)}))}}function QR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ej(n.key),n)}}function ZR(t,e,r){return e&&QR(t.prototype,e),r&&QR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tj(t,e,r){return(e=ej(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ej(t){var e=function(t,e){if("object"!=YR(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=YR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==YR(e)?e:e+""}var rj=ZR((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),tj(this,"checkCase",function(){var t=JR($R().mark((function t(r){var n;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:if(n=t.sent){t.next=6;break}throw Error("Not found sih.app token");case 6:if(r){t.next=8;break}throw Error("Not found marketHashName");case 8:return t.next=10,Fs.Ay.apiRequest({headers:{"x-sih-token":n},url:"".concat(e.casesApiUrl,"/api/v1/find/").concat(r),method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 10:return t.abrupt("return",t.sent);case 13:return t.prev=13,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"getCases",function(){var t=JR($R().mark((function t(r){var n,o,i,a,s,c,u,l,f,h;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.limit,o=r.offset,i=r.sortBy,a=r.search,s=r.caseType,c=r.source,u=r.lang,l=r.isReal,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(f=t.sent){t.next=7;break}throw Error("Not found sih.app token");case 7:return h=Object.fromEntries(Object.entries({limit:n,offset:o,sortBy:i,search:a,caseType:s,source:c,lang:u,isReal:l}).filter((function(t){var e=WR(t,2);e[0];return void 0!==e[1]}))),t.next=11,Fs.Ay.apiRequest({headers:{"x-sih-token":f},url:"".concat(e.casesApiUrl,"/api/v1/list"),data:h,method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:return t.abrupt("return",t.sent);case 14:return t.prev=14,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"getCaseInfo",function(){var t=JR($R().mark((function t(r){var n,o,i,a,s,c,u,l;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.caseId,o=r.page,i=void 0===o?1:o,a=r.limit,s=void 0===a?1e3:a,c=r.marketName,u=void 0===c?"steamLiveSell":c,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(l=t.sent){t.next=7;break}throw Error("Not found sih.app token");case 7:return t.next=9,Fs.Ay.apiRequest({headers:{"x-sih-token":l},url:"".concat(e.casesApiUrl,"/api/v1/items/").concat(n),data:{page:i,limit:s,marketName:u},method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"openCase",function(){var t=JR($R().mark((function t(r){var n,o,i,a,s,c,u,l,f,h,p,d,y,v,m;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.caseId,o=r.number,i=void 0===o?1:o,a=r.saveToDB,s=void 0===a||a,c=r.marketName,u=void 0===c?"steamLiveSell":c,l=r.casesPrices,f=r.isReal,h=void 0!==f&&f,t.prev=1,n){t.next=4;break}throw Error("Not found case id");case 4:return t.next=6,Au.getSihAppUserToken();case 6:if(p=t.sent){t.next=9;break}throw Error("Not found sih.app token");case 9:if(d=Object.fromEntries(Object.entries(h?{number:i}:{number:i,saveToDB:s,marketName:u,casesPrices:l}).filter((function(t){var e=WR(t,2);e[0];return void 0!==e[1]}))),e.abortController&&e.abortController.abort(),e.abortController){t.next=21;break}return e.abortController=new AbortController,y=e.abortController.signal,t.next=17,Fs.Ay.apiRequest({headers:{"x-sih-token":p},url:h?"".concat(e.casesApiUrl,"/api/v1/buy/").concat(n):"".concat(e.casesApiUrl,"/api/v1/roll/").concat(n),data:d,method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0},signal:y});case 17:return v=t.sent,t.abrupt("return",v);case 21:return t.abrupt("return",{success:!1,error:"Request was aborted"});case 22:t.next=31;break;case 24:if(t.prev=24,t.t0=t.catch(1),"AbortError"!==t.t0.name){t.next=29;break}return t.abrupt("return",{success:!1,error:"Request was aborted"});case 29:return t.t0,t.abrupt("return",{success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(m=t.t0.responseJSON)||void 0===m?void 0:m.error)||"Something went wrong. Try again later."});case 31:return t.prev=31,e.abortController=null,t.finish(31);case 34:case"end":return t.stop()}}),t,null,[[1,24,31,34]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"getCaseHistory",function(){var t=JR($R().mark((function t(r){var n,o,i,a,s,c,u,l,f,h,p;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.caseId,o=r.marketName,i=r.offset,a=void 0===i?0:i,s=r.state,c=r.limit,u=void 0===c?1e3:c,l=r.isReal,f=void 0!==l&&l,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(h=t.sent){t.next=7;break}throw Error("Not found sih.app token");case 7:return p=Object.fromEntries(Object.entries({caseId:n,marketName:o,offset:a,limit:u,state:s,isReal:f}).filter((function(t){var e=WR(t,2);e[0];return void 0!==e[1]}))),t.next=11,Fs.Ay.apiRequest({headers:{"x-sih-token":h},url:"".concat(e.casesApiUrl,"/api/v1/history"),data:p,method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:return t.abrupt("return",t.sent);case 14:return t.prev=14,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"deleteCaseStatistics",function(){var t=JR($R().mark((function t(r){var n;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:if(n=t.sent){t.next=6;break}throw Error("Not found sih.app token");case 6:return t.next=8,Fs.Ay.apiRequest({headers:{"x-sih-token":n},url:"".concat(e.casesApiUrl,"/api/v1/history/").concat(r),method:"DELETE",crossDomain:!0,xhrFields:{withCredentials:!0}});case 8:return t.abrupt("return",t.sent);case 11:return t.prev=11,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"getUserInventory",function(){var t=JR($R().mark((function t(r){var n,o,i,a,s,c,u,l,f;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.sortBy,o=r.minPrice,i=r.maxPrice,a=r.offset,s=void 0===a?0:a,c=r.limit,u=void 0===c?100:c,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(l=t.sent){t.next=7;break}throw Error("Not found sih.app token");case 7:return f=Object.fromEntries(Object.entries({sortBy:n,minPrice:o,maxPrice:i,offset:s,limit:u}).filter((function(t){var e=WR(t,2);e[0];return void 0!==e[1]}))),t.next=11,Fs.Ay.apiRequest({headers:{"x-sih-token":l},url:"".concat(e.casesApiUrl,"/api/v1/inventory"),data:f,method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:return t.abrupt("return",t.sent);case 14:return t.prev=14,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"sellInventoryAll",JR($R().mark((function t(){var r;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:if(r=t.sent){t.next=6;break}throw Error("Not found sih.app token");case 6:return t.next=8,Fs.Ay.apiRequest({headers:{"x-sih-token":r},url:"".concat(e.casesApiUrl,"/api/v1/inventory/sell/all"),data:{},method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0}});case 8:return t.abrupt("return",t.sent);case 11:return t.prev=11,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))),tj(this,"withdrawalInventoryAll",JR($R().mark((function t(){var r;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:if(r=t.sent){t.next=6;break}throw Error("Not found sih.app token");case 6:return t.next=8,Fs.Ay.apiRequest({headers:{"x-sih-token":r},url:"".concat(e.casesApiUrl,"/api/v1/withdraw/all"),data:{},method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0}});case 8:return t.abrupt("return",t.sent);case 11:return t.prev=11,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))),tj(this,"sellInventoryItem",function(){var t=JR($R().mark((function t(r){var n,o;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.itemIds,t.prev=1,n&&n.length){t.next=4;break}throw Error("Not found itemId");case 4:return t.next=6,Au.getSihAppUserToken();case 6:if(o=t.sent){t.next=9;break}throw Error("Not found sih.app token");case 9:return t.next=11,Fs.Ay.apiRequest({headers:{"x-sih-token":o},url:"".concat(e.casesApiUrl,"/api/v1/inventory/sell"),data:{userInventoryItemIds:n},method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:return t.abrupt("return",t.sent);case 14:return t.prev=14,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"withdrawalInventoryItem",function(){var t=JR($R().mark((function t(r){var n,o;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.itemIds,t.prev=1,n&&n.length){t.next=4;break}throw Error("Not found itemId");case 4:return t.next=6,Au.getSihAppUserToken();case 6:if(o=t.sent){t.next=9;break}throw Error("Not found sih.app token");case 9:return t.next=11,Fs.Ay.apiRequest({headers:{"x-sih-token":o},url:"".concat(e.casesApiUrl,"/api/v1/withdraw"),data:{userInventoryItemIds:n},method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:return t.abrupt("return",t.sent);case 14:return t.prev=14,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"getWithdrawalHistory",function(){var t=JR($R().mark((function t(r){var n,o,i,a,s,c,u;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.isLocal,o=void 0!==n&&n,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(i=t.sent){t.next=7;break}throw Error("Not found sih.app token");case 7:if(o){t.next=16;break}return t.next=10,Fs.Ay.apiRequest({headers:{"x-sih-token":i},url:"".concat(e.casesApiUrl,"/api/v1/withdraw"),method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 10:return a=t.sent,t.next=13,y.w.setLocal({sihAppWithdrawalHistory:a});case 13:return t.abrupt("return",a);case 16:return t.next=18,y.w.getLocal("sihAppWithdrawalHistory");case 18:return s=t.sent,c=s.sihAppWithdrawalHistory,u=void 0===c?{}:c,t.abrupt("return",u);case 22:t.next=28;break;case 24:return t.prev=24,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 28:case"end":return t.stop()}}),t,null,[[1,24]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"getTopProfit",function(){var t=JR($R().mark((function t(r){var n,o,i,a,s;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.interval,o=void 0===n?"1 month":n,i=r.limit,a=void 0===i?16:i,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(s=t.sent){t.next=7;break}throw Error("Not found sih.app token");case 7:return t.next=9,Fs.Ay.apiRequest({headers:{"x-sih-token":s},url:"".concat(e.casesApiUrl,"/api/v1/top-profit"),data:{interval:o,limit:a},method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"getHotDrops",function(){var t=JR($R().mark((function t(r){var n,o,i,a,s;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.interval,o=void 0===n?"1 month":n,i=r.limit,a=void 0===i?16:i,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(s=t.sent){t.next=7;break}throw Error("Not found sih.app token");case 7:return t.next=9,Fs.Ay.apiRequest({headers:{"x-sih-token":s},url:"".concat(e.casesApiUrl,"/api/v1/hot-drops"),data:{interval:o,limit:a},method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()),tj(this,"getCaseNameId",function(){var t=JR($R().mark((function t(e){var r,n,o;return $R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://steamcommunity.com/market/listings/*",t.prev=1,t.next=4,rc.generateDynamicRuleId(r);case 4:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:e}]},t.t2={urlFilter:r},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=10,rc.setRule(n);case 10:return t.next=12,Fs.Ay.apiRequest({url:e,method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 12:return o=t.sent,t.next=15,rc.removeRule(r);case 15:return t.abrupt("return",o);case 18:return t.prev=18,t.t3=t.catch(1),t.t3,t.abrupt("return",{success:!1,error:t.t3});case 22:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}()),this.casesApiUrl=t.casesApiUrl,this.errorHandler=Jd.errorHandler,this.abortController=null}));tj(rj,"casesApiUrl","https://cases.steaminventoryhelper.com");const nj=new rj;function oj(t){return oj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oj(t)}function ij(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ij=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==oj(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(oj(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function aj(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function sj(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){aj(i,n,o,a,s,"next",t)}function s(t){aj(i,n,o,a,s,"throw",t)}a(void 0)}))}}const cj={msg:{checkCase:{code:Is.A.msg.BACKGROUND_CHECK_SIH_CASE,handler:function(){var t=sj(ij().mark((function t(e,r){var n,o;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.marketHashName,t.prev=1,t.next=4,nj.checkCase(n);case 4:o=t.sent,r(o),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getCases:{code:Is.A.msg.BACKGROUND_GET_SIH_CASES,handler:function(){var t=sj(ij().mark((function t(e,r){var n;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nj.getCases(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getCaseInfo:{code:Is.A.msg.BACKGROUND_GET_SIH_CASE_INFO,handler:function(){var t=sj(ij().mark((function t(e,r){var n,o,i,a,s;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.caseId,o=e.page,i=e.limit,a=e.marketName,t.prev=1,t.next=4,nj.getCaseInfo({caseId:n,page:o,limit:i,marketName:a});case 4:s=t.sent,r(s),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0,r({success:!1,error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},openCase:{code:Is.A.msg.BACKGROUND_SIH_OPEN_CASE,handler:function(){var t=sj(ij().mark((function t(e,r){var n;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nj.openCase(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getCaseHistory:{code:Is.A.msg.BACKGROUND_GET_SIH_CASE_HISTORY,handler:function(){var t=sj(ij().mark((function t(e,r){var n,o,i,a,s,c,u;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.caseId,o=e.marketName,i=e.offset,a=e.limit,s=e.state,c=e.isReal,t.prev=1,t.next=4,nj.getCaseHistory({caseId:n,marketName:o,offset:i,limit:a,state:s,isReal:c});case 4:u=t.sent,r(u),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},deleteCaseHistory:{code:Is.A.msg.BACKGROUND_DELETE_SIH_CASE_HISTORY,handler:function(){var t=sj(ij().mark((function t(e,r){var n,o;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.caseId,t.prev=1,t.next=4,nj.deleteCaseStatistics(n);case 4:o=t.sent,r(o),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getUserInventory:{code:"BACKGROUND_SIH_CASE_GET_INVENTORY",handler:function(){var t=sj(ij().mark((function t(e,r){var n;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nj.getUserInventory(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},sellInventoryAll:{code:"BACKGROUND_SIH_CASE_SELL_ALL",handler:function(){var t=sj(ij().mark((function t(e){var r;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nj.sellInventoryAll();case 3:r=t.sent,e(r),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,e({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},withdrawalInventoryAll:{code:"BACKGROUND_SIH_CASE_WITHDRAWAL_ALL",handler:function(){var t=sj(ij().mark((function t(e){var r;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nj.withdrawalInventoryAll();case 3:r=t.sent,e(r),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,e({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},sellInventoryItem:{code:"BACKGROUND_SIH_CASE_SELL_ITEM",handler:function(){var t=sj(ij().mark((function t(e,r){var n;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nj.sellInventoryItem(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},withdrawalInventoryItem:{code:"BACKGROUND_SIH_CASE_WITHDRAWAL_ITEM",handler:function(){var t=sj(ij().mark((function t(e,r){var n;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nj.withdrawalInventoryItem(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getWithdrawalHistory:{code:"BACKGROUND_SIH_CASE_GET_WITHDRAWAL_HISTORY",handler:function(){var t=sj(ij().mark((function t(e,r){var n;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nj.getWithdrawalHistory(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getTopProfit:{code:"BACKGROUND_SIH_CASE_GET_TOP_PROFIT",handler:function(){var t=sj(ij().mark((function t(e,r){var n;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nj.getTopProfit(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getHotDrops:{code:"BACKGROUND_SIH_CASE_GET_HOT_DROPS",handler:function(){var t=sj(ij().mark((function t(e,r){var n;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nj.getHotDrops(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},setNotificationLog:{code:"BACKGROUND_SIH_CASE_SET_NOTIFICATION_LOG",handler:function(){var t=sj(ij().mark((function t(e,r){var n;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.errorMessage,t.prev=1,t.next=4,Jd.updateDataStorageLog({success:!1,error:n},"cases");case 4:r({success:!0}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getCaseNameId:{code:"BACKGROUND_SIH_CASE_GET_CASE_NAME",handler:function(){var t=sj(ij().mark((function t(e,r){var n,o;return ij().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,t.prev=1,t.next=4,nj.getCaseNameId(n);case 4:o=t.sent,r({success:!0,data:o}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()}},alarm:{}};var uj=function(t,e,r){switch(t.type){case cj.msg.checkCase.code:cj.msg.checkCase.handler(t.data,r);break;case cj.msg.getCases.code:cj.msg.getCases.handler(t.data,r);break;case cj.msg.getCaseInfo.code:cj.msg.getCaseInfo.handler(t.data,r);break;case cj.msg.openCase.code:cj.msg.openCase.handler(t.data,r);break;case cj.msg.getCaseHistory.code:cj.msg.getCaseHistory.handler(t.data,r);break;case cj.msg.deleteCaseHistory.code:cj.msg.deleteCaseHistory.handler(t.data,r);break;case cj.msg.getUserInventory.code:cj.msg.getUserInventory.handler(t.data,r);break;case cj.msg.sellInventoryItem.code:cj.msg.sellInventoryItem.handler(t.data,r);break;case cj.msg.withdrawalInventoryItem.code:cj.msg.withdrawalInventoryItem.handler(t.data,r);break;case cj.msg.sellInventoryAll.code:cj.msg.sellInventoryAll.handler(r);break;case cj.msg.withdrawalInventoryAll.code:cj.msg.withdrawalInventoryAll.handler(r);break;case cj.msg.getWithdrawalHistory.code:cj.msg.getWithdrawalHistory.handler(t.data,r);break;case cj.msg.getTopProfit.code:cj.msg.getTopProfit.handler(t.data,r);break;case cj.msg.getHotDrops.code:cj.msg.getHotDrops.handler(t.data,r);break;case cj.msg.setNotificationLog.code:cj.msg.setNotificationLog.handler(t.data,r);break;case cj.msg.getCaseNameId.code:cj.msg.getCaseNameId.handler(t.data,r)}return!0};const lj={listener:{handler:uj},init:{handler:function(){chrome.runtime.onMessage.addListener(uj),chrome.runtime.onMessageExternal.addListener(uj)}}};const fj={handler:function(){try{lj.init.handler()}catch(t){}}};function hj(t){return hj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hj(t)}function pj(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pj=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==hj(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(hj(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function dj(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const yj={get:{code:Is.A.msg.BACKGROUND_GET_SIH_PRICES,handler:function(){var t,e=(t=pj().mark((function t(e,r){return pj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=r,t.next=4,Fs.Ay.apiRequest({method:"GET",url:"".concat(Fs.j7,"/prices"),data:e});case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),t.t2;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){dj(i,n,o,a,s,"next",t)}function s(t){dj(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}};function vj(t){return vj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vj(t)}function mj(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */mj=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==vj(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(vj(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function gj(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const bj={msg:{},connect:{},alarm:{clearOutdatedPrices:{code:"BACKGROUND_CLEAR_OUTDATED_PRICES",handler:function(){var t,e=(t=mj().mark((function t(){var e,r,n,o;return mj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new JA("SIH_CACHED_PRICES","PRICES_V3",["PRICES_V3"]),t.next=4,e.openDB();case 4:r=jO.CACHED_TIME,n=0,o=mj().mark((function t(){var o,i,a,s,c;return mj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPageByCursor({limit:5e3,cursor:n});case 2:if(o=t.sent,i=o.items,a=o.nextCursor,s=Date.now(),!(c=i.filter((function(t){return(null==t?void 0:t.responseDate)&&s-t.responseDate>r||!(null!=t&&t.responseDate)&&s-t.requestDate>r}))).length){t.next=10;break}return t.next=10,e.deleteBatch(c.map((function(t){return t.id})));case 10:if(a){t.next=12;break}return t.abrupt("return",1);case 12:return t.next=14,new Promise((function(t){return setTimeout(t,1e3)}));case 14:n=a;case 15:case"end":return t.stop()}}),t)}));case 7:return t.delegateYield(o(),"t0",9);case 9:if(!t.t0){t.next=11;break}return t.abrupt("break",13);case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(0),console.error("Error clear outdated prices",t.t1);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){gj(i,n,o,a,s,"next",t)}function s(t){gj(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}()}}};function wj(t){return wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wj(t)}function Ej(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ej=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==wj(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(wj(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function xj(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Sj(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){xj(i,n,o,a,s,"next",t)}function s(t){xj(i,n,o,a,s,"throw",t)}a(void 0)}))}}var _j=function(t,e,r){return t.type,!0},Aj=function(t){t.name},Tj=function(){chrome.alarms.create(bj.alarm.clearOutdatedPrices.code,{delayInMinutes:10,periodInMinutes:10})},Lj=function(){var t=Sj(Ej().mark((function t(e){return Ej().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.name,t.next=t.t0===bj.alarm.clearOutdatedPrices.code?3:5;break;case 3:return bj.alarm.clearOutdatedPrices.handler(),t.abrupt("break",5);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),kj=function(){var t=Sj(Ej().mark((function t(){return Ej().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Tj(),chrome.alarms.onAlarm.addListener(Lj);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const Oj={msgListener:{listener:{handler:_j},init:{handler:function(){chrome.runtime.onMessage.addListener(_j),chrome.runtime.onMessageExternal.addListener(_j)}}},connectionListener:{init:{handler:function(){chrome.runtime.onConnect.addListener(Aj),chrome.runtime.onConnectExternal.addListener(Aj)}}},alarmListener:{createAlarms:{handler:Tj},listener:{handler:Lj},init:{handler:kj}}};const Ij={handler:function(){try{Oj.alarmListener.init.handler()}catch(t){console.error(t)}}};function Nj(t){return Nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nj(t)}function Pj(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Pj=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Nj(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Nj(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Cj(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Dj(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Cj(i,n,o,a,s,"next",t)}function s(t){Cj(i,n,o,a,s,"throw",t)}a(void 0)}))}}const Rj={set:{code:Is.A.msg.BACKGROUND_SET_USER_STEAM_PRICE,handler:function(){var t=Dj(Pj().mark((function t(e){var r,n,o,i,a,s,c,u,l,f;return Pj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal({userSteamPrice:{}});case 2:if(r=t.sent.userSteamPrice,n=e.app_id,o=e.hash_name,i=e.prices,a=e.buy_price,s=e.steamSoldData,c=e.orders,u={app_id:n,updatedAt:Date.now(),hash_name:o,prices:i,buy_price:a,sold:s,orders:c},0!==Object.keys(r).length){t.next=13;break}return r.items=[],r.items.push(u),r.steamId=e.steamid,t.next=11,y.w.setLocal({userSteamPrice:r});case 11:t.next=19;break;case 13:for(l=!0,f=0;f<r.items.length;f++)r.items[f].hash_name===e.hash_name&&(l=!1,e.prices.length>1?r.items[f]=u:(r.items[f].updatedAt=Date.now(),r.items[f].prices[0].price=e.prices[0].price));return l&&r.items.push(u),r.steamId=e.steamid,t.next=19,y.w.setLocal({userSteamPrice:r});case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},send:{code:Is.A.msg.BACKGROUND_SEND_USER_STEAM_PRICE,handler:function(){var t=Dj(Pj().mark((function t(){var e,r,n,o,i,a,s;return Pj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=1e3,t.next=4,y.w.getLocal({userSteamPrice:{}});case 4:return r=t.sent.userSteamPrice,t.next=7,y.w.getLocal({userSteamPriceDelay:{}});case 7:if(n=t.sent,o=n.userSteamPriceDelay,r&&r.items&&0!==r.items.length&&r.items.length>e&&(r.items=r.items.sort((function(t,e){return e.updatedAt-t.updatedAt})),r.items.length=e),i=0!==Object.keys(o).length?60*+o.delay*1e3:0,!(0!==Object.keys(r).length&&Date.now()-(o.date?o.date:0)>=i)){t.next=23;break}return t.next=14,Fs.Ay.apiRequest({method:"POST",url:"https://items.steaminventoryhelper.com/prices/v2/update",data:r});case 14:return a=t.sent,t.next=17,y.w.setLocal({userSteamPrice:{}});case 17:if(!a.data.delay){t.next=20;break}return t.next=20,y.w.setLocal({userSteamPriceDelay:{date:Date.now(),delay:a.data.delay}});case 20:if(!a.success||a.data.delay){t.next=23;break}return t.next=23,y.w.setLocal({userSteamPriceDelay:{}});case 23:t.next=38;break;case 25:return t.prev=25,t.t0=t.catch(0),t.next=29,y.w.setLocal({userSteamPrice:{}});case 29:if(!t.t0.data||!t.t0.data.delay){t.next=35;break}return s=JSON.parse(t.t0.data.delay),t.next=33,y.w.setLocal({userSteamPriceDelay:{date:Date.now(),delay:s}});case 33:t.next=37;break;case 35:return t.next=37,y.w.setLocal({userSteamPriceDelay:{date:Date.now(),delay:60}});case 37:t.t0;case 38:case"end":return t.stop()}}),t,null,[[0,25]])})));return function(){return t.apply(this,arguments)}}()}};function jj(t){return jj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jj(t)}function Fj(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Fj=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==jj(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(jj(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Bj(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Gj(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Bj(i,n,o,a,s,"next",t)}function s(t){Bj(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Mj=function(){var t=Gj(Fj().mark((function t(e){var r;return Fj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get([e]);case 2:return r=t.sent,t.abrupt("return",r[e]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Uj={sendInstall:{code:Is.A.msg.BACKGROUND_REGISTER_SIH_REFERRER,handler:function(){var t=Gj(Fj().mark((function t(e,r){var n,o;return Fj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="function"==typeof r?r:function(){},t.prev=1,o=(Array.isArray(e)?e:[e]).filter((function(t){return!!t})),y.w.setByName({name:Is.A.stats.SIH_REFERRER,value:o}),t.next=6,Fs.Ay.apiRequest({method:"POST",url:"".concat(Fs.f5,"/referrer-register/install"),data:{referrers:o}});case 6:n({success:!0}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),t.t0,n({success:!1});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()},sendDelete:{code:Is.A.msg.BACKGROUND_REGISTER_SIH_REFERRER_DELETE,handler:function(){var t=Gj(Fj().mark((function t(e){var r,n;return Fj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="function"==typeof e?e:function(){},t.prev=1,t.next=4,Mj(Is.A.stats.SIH_REFERRER);case 4:return n=t.sent,t.next=7,Fs.Ay.apiRequest({method:"POST",url:"".concat(Fs.f5,"/referrer-register/delete"),data:{referrers:n}});case 7:r({success:!0}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0,r({success:!1});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}};const Hj=Uj;function qj(t){return qj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qj(t)}function Vj(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Vj=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==qj(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(qj(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Kj(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Yj(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Kj(i,n,o,a,s,"next",t)}function s(t){Kj(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Wj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xj(n.key),n)}}function zj(t,e,r){return e&&Wj(t.prototype,e),r&&Wj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $j(t,e,r){return(e=Xj(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xj(t){var e=function(t,e){if("object"!=qj(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=qj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qj(e)?e:e+""}function Jj(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function Qj(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}function Zj(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tF(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tF(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tF(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var eF=function(t){for(var e={},r=0,n=Object.entries(t);r<n.length;r++){var o=Zj(n[r],2),i=o[0],a=o[1];"a"===i?e.profile={steamId:a.a,sihId:a.b,username:a.c,avatarUrl:a.d,isBanned:a.e,createdAt:a.f}:"b"===i?e.reputation={trust:a.a,scam:a.b,suspicious:a.c}:"c"===i?e.tradeInfo={offerCount:a.a,weekOffers:a.b,successAllTrades:a.c,successWeekTrades:a.d}:"d"===i&&(e.feedback={positive:a.a,negative:a.b,neutral:a.c,tradesBack:a.d})}return e},rF=new WeakMap,nF=zj((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Jj(this,rF,"https://sihrep.steaminventoryhelper.com/api"),$j(this,"getSendingReviews",function(){var t=Yj(Vj().mark((function t(r){var n,o;return Vj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.tradeOfferIds,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(o=t.sent){t.next=7;break}throw Error("Not found Sih.app login");case 7:return t.next=9,Fs.Ay.apiRequest({headers:{"x-sih-token":o},method:"POST",url:"".concat(Qj(rF,e),"/extension/reviews"),data:{tradeOfferIds:n}});case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(1),t.t0;case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()),$j(this,"getUserTrades",function(){var t=Yj(Vj().mark((function t(r){var n,o,i,a,s,c,u,l,f,h,p,d;return Vj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.lang,o=void 0===n?"en":n,i=r.direct,a=void 0===i?"all":i,s=r.reviewed,c=void 0!==s&&s,t.prev=1,t.next=4,y.w.get({projects_permissions:{}});case 4:if(f=t.sent,h=f.projects_permissions,"all"!==a||null!=h&&null!==(u=h.trading)&&void 0!==u&&null!==(l=u.SIH)&&void 0!==l&&l.isAccepted){t.next=8;break}throw Error("Not found permission");case 8:return t.next=10,Au.getSihAppUserToken();case 10:if(p=t.sent){t.next=13;break}throw Error("Not found Sih.app login");case 13:return d=Object.fromEntries(Object.entries({language:o,direct:a,reviewed:c}).filter((function(t){var e=Zj(t,2);e[0];return void 0!==e[1]}))),t.next=17,Fs.Ay.apiRequest({headers:{"x-sih-token":p},method:"GET",url:"".concat(Qj(rF,e),"/v1/users/trades"),data:d});case 17:return t.abrupt("return",t.sent);case 20:throw t.prev=20,t.t0=t.catch(1),t.t0;case 23:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}()),$j(this,"getSihRepUsersInfo",function(){var t=Yj(Vj().mark((function t(r){var n,o,i,a;return Vj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.steamIds,t.prev=1,n&&n.length){t.next=4;break}throw Error("No steamIds");case 4:return t.next=6,Au.getSihAppUserToken();case 6:if(o=t.sent){t.next=9;break}throw Error("Not found Sih.app login");case 9:return i=Object.fromEntries(Object.entries({m:"1"}).filter((function(t){var e=Zj(t,2);e[0];return void 0!==e[1]}))),t.next=13,Fs.Ay.apiRequest({headers:{"x-sih-token":o},method:"GET",url:"".concat(Qj(rF,e),"/v1/users/").concat(n.join(",")),data:i});case 13:if(a=t.sent,!Array.isArray(a)){t.next=18;break}return t.abrupt("return",a.map((function(t){return eF(t)})));case 18:return t.abrupt("return",eF(a));case 19:t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(1),t.t0;case 24:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}()),$j(this,"sendReaction",function(){var t=Yj(Vj().mark((function t(r){var n,o,i;return Vj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.reviewId,o=r.reactionType,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(i=t.sent){t.next=7;break}throw Error("Not found Sih.app login");case 7:return t.next=9,Fs.Ay.apiRequest({headers:{"x-sih-token":i},method:"POST",url:"".concat(Qj(rF,e),"/v1/reviews/reaction"),data:{reviewId:n,reactionType:o}});case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(1),t.t0;case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()),$j(this,"sendReview",function(){var t=Yj(Vj().mark((function t(r){var n,o,i,a,s,c,u,l,f,h,p;return Vj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.sentiment,o=r.steamId,i=r.text,a=r.game,s=r.tradeId,t.prev=1,t.next=4,y.w.get({projects_permissions:{}});case 4:return l=t.sent,f=l.projects_permissions,h=!(null==f||null===(c=f.trading)||void 0===c||null===(u=c.SIH)||void 0===u||!u.isAccepted),t.next=9,Au.getSihAppUserToken();case 9:if(p=t.sent){t.next=12;break}throw Error("Not found Sih.app login");case 12:return t.next=14,Fs.Ay.apiRequest({headers:{"x-sih-token":p},method:"POST",url:"".concat(Qj(rF,e),"/v1/reviews"),data:{sentiment:n,steamId:o,body:i,game:a,tradeId:+s,verification:h}});case 14:return t.abrupt("return",t.sent);case 17:throw t.prev=17,t.t0=t.catch(1),t.t0;case 20:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(e){return t.apply(this,arguments)}}()),$j(this,"sendScam",function(){var t=Yj(Vj().mark((function t(r){var n,o,i,a,s,c,u,l,f,h,p;return Vj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.steamId,o=r.text,i=r.game,a=void 0===i?730:i,s=r.tradeId,t.prev=1,t.next=4,y.w.get({projects_permissions:{}});case 4:return l=t.sent,f=l.projects_permissions,h=!(null==f||null===(c=f.trading)||void 0===c||null===(u=c.SIH)||void 0===u||!u.isAccepted),t.next=9,Au.getSihAppUserToken();case 9:if(p=t.sent){t.next=12;break}throw Error("Not found Sih.app login");case 12:return t.next=14,Fs.Ay.apiRequest({headers:{"x-sih-token":p},method:"POST",url:"".concat(Qj(rF,e),"/v1/reviews/scam"),data:{steamId:n,body:o,game:a,tradeId:+s,verification:h}});case 14:return t.abrupt("return",t.sent);case 17:throw t.prev=17,t.t0=t.catch(1),t.t0;case 20:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(e){return t.apply(this,arguments)}}()),$j(this,"editReview",function(){var t=Yj(Vj().mark((function t(r){var n,o,i,a,s,c;return Vj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.reviewId,o=r.reviewType,i=r.sentiment,a=r.text,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(s=t.sent){t.next=7;break}throw Error("Not found Sih.app login");case 7:return c=Object.fromEntries(Object.entries({reviewType:o,sentiment:i,content:a}).filter((function(t){var e=Zj(t,2);e[0];return void 0!==e[1]}))),t.next=11,Fs.Ay.apiRequest({headers:{"x-sih-token":s},method:"PATCH",url:"".concat(Qj(rF,e),"/v1/reviews/").concat(n),data:c});case 11:return t.abrupt("return",t.sent);case 14:throw t.prev=14,t.t0=t.catch(1),t.t0;case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()),$j(this,"deleteReview",function(){var t=Yj(Vj().mark((function t(r){var n,o;return Vj().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.reviewId,t.prev=1,t.next=4,Au.getSihAppUserToken();case 4:if(o=t.sent){t.next=7;break}throw Error("Not found Sih.app login");case 7:return t.next=9,Fs.Ay.apiRequest({headers:{"x-sih-token":o},method:"DELETE",url:"".concat(Qj(rF,e),"/v1/reviews/").concat(n)});case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(1),t.t0;case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}())}));const oF=new nF;function iF(t){return iF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iF(t)}function aF(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */aF=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==iF(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(iF(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function sF(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function cF(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){sF(i,n,o,a,s,"next",t)}function s(t){sF(i,n,o,a,s,"throw",t)}a(void 0)}))}}const uF={msg:{checkPermission:{code:"BACKGROUND_SIH_REP_CHECK_PERMISSION",handler:function(){var t=cF(aF().mark((function t(e){var r,n,o,i;return aF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get({projects_permissions:{}});case 2:o=t.sent,i=o.projects_permissions,e({success:!(null==i||null===(r=i.trading)||void 0===r||null===(n=r.SIH)||void 0===n||!n.isAccepted)});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},acceptPermission:{code:"BACKGROUND_SIH_REP_ACCEPT_PERMISSION",handler:function(){var t=cF(aF().mark((function t(e){var r,n,o,i;return aF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get({projects_permissions:{}});case 3:if(o=t.sent,null!=(i=o.projects_permissions)&&null!==(r=i.trading)&&void 0!==r&&null!==(n=r.SIH)&&void 0!==n&&n.isAccepted){t.next=13;break}return i.trading.SIH={icon:"https://www.google.com/s2/favicons?domain=https://sih.app&sz=64",isAccepted:!1,isBanned:!1},t.next=9,y.w.set({projects_permissions:i});case 9:return t.next=11,s_.msg.editPermission.handler({permission:"trading",project:"SIH",action:"accept"},(function(t){}));case 11:return e({success:!0,message:"Permission accept"}),t.abrupt("return");case 13:e({success:!0,message:"The permission has already been confirmed"}),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),console.error(t.t0),e({success:!1});case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},getUserTrades:{code:"BACKGROUND_SIH_REP_GET_USER_TRADES",handler:function(){var t=cF(aF().mark((function t(e,r){var n,o;return aF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oF.getUserTrades(e);case 3:n=t.sent,r({success:!0,response:n}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(o=t.t0.responseJSON)||void 0===o?void 0:o.message)||"Error getting trades"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getSihRepUsersInfo:{code:"BACKGROUND_SIH_REP_GET_USERS_INFO",handler:function(){var t=cF(aF().mark((function t(e,r){var n,o;return aF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oF.getSihRepUsersInfo(e);case 3:n=t.sent,r({success:!0,response:n}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(o=t.t0.responseJSON)||void 0===o?void 0:o.message)||"Error getting trades"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getSendingReviews:{code:"BACKGROUND_SIH_REP_GET_SENDING_REVIEWS",handler:function(){var t=cF(aF().mark((function t(e,r){var n,o;return aF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oF.getSendingReviews(e);case 3:n=t.sent,r({success:!0,response:n}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(o=t.t0.responseJSON)||void 0===o?void 0:o.message)||"Error getting sending reviews"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},sendReaction:{code:"BACKGROUND_SIH_REP_SEND_REACTION",handler:function(){var t=cF(aF().mark((function t(e,r){var n,o;return aF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oF.sendReaction(e);case 3:n=t.sent,r(n?{success:!0}:{success:!1}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(o=t.t0.responseJSON)||void 0===o?void 0:o.message)||"Error send reaction"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},sendReview:{code:"BACKGROUND_SIH_REP_SEND_REVIEW",handler:function(){var t=cF(aF().mark((function t(e,r){var n,o;return aF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oF.sendReview(e);case 3:n=t.sent,r(n?{success:!0,response:n}:{success:!1}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(o=t.t0.responseJSON)||void 0===o?void 0:o.message)||"Error send review"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},sendScam:{code:"BACKGROUND_SIH_REP_SEND_SCAM",handler:function(){var t=cF(aF().mark((function t(e,r){var n,o;return aF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oF.sendScam(e);case 3:n=t.sent,r(n?{success:!0,response:n}:{success:!1}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(o=t.t0.responseJSON)||void 0===o?void 0:o.message)||"Error send scam"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},editReview:{code:"BACKGROUND_SIH_REP_EDIT_REVIEW",handler:function(){var t=cF(aF().mark((function t(e,r){var n,o;return aF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oF.editReview(e);case 3:n=t.sent,r(n?{success:!0,response:n}:{success:!1}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(o=t.t0.responseJSON)||void 0===o?void 0:o.message)||"Error edit review"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},deleteReview:{code:"BACKGROUND_SIH_REP_DELETE_REVIEW",handler:function(){var t=cF(aF().mark((function t(e,r){var n,o;return aF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oF.deleteReview(e);case 3:n=t.sent,r(n?{success:!0,response:n}:{success:!1}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(o=t.t0.responseJSON)||void 0===o?void 0:o.message)||"Error delete review"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()}},connect:{},alarm:{}};var lF=function(t,e,r){switch(t.type){case uF.msg.checkPermission.code:uF.msg.checkPermission.handler(r);break;case uF.msg.acceptPermission.code:uF.msg.acceptPermission.handler(r);break;case uF.msg.getUserTrades.code:uF.msg.getUserTrades.handler(t.data,r);break;case uF.msg.getSihRepUsersInfo.code:uF.msg.getSihRepUsersInfo.handler(t.data,r);break;case uF.msg.getSendingReviews.code:uF.msg.getSendingReviews.handler(t.data,r);break;case uF.msg.sendReaction.code:uF.msg.sendReaction.handler(t.data,r);break;case uF.msg.sendReview.code:uF.msg.sendReview.handler(t.data,r);break;case uF.msg.sendScam.code:uF.msg.sendScam.handler(t.data,r);break;case uF.msg.editReview.code:uF.msg.editReview.handler(t.data,r);break;case uF.msg.deleteReview.code:uF.msg.deleteReview.handler(t.data,r)}return!0};const fF={listener:{handler:lF},init:{handler:function(){chrome.runtime.onMessage.addListener(lF),chrome.runtime.onMessageExternal.addListener(lF)}}};const hF={handler:function(){try{fF.init.handler()}catch(t){}}};function pF(t){return pF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pF(t)}function dF(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */dF=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==pF(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(pF(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function vF(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?yF(Object(r),!0).forEach((function(e){mF(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mF(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=pF(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pF(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gF(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var bF={get:{code:Is.A.msg.BACKGROUND_SIH_SETTINGS,handler:function(){var t,e=(t=dF().mark((function t(){var e,r;return dF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({method:"GET",url:"".concat(Fs.f5,"/sih-settings/all")});case 3:if((e=t.sent)&&e.success&&e.data&&e.data.length){t.next=6;break}return t.abrupt("return");case 6:r=e.data.reduce((function(t,e){var r=e.name,n=e.value;return vF(vF({},t),{},mF({},r,n))}),{}),y.w.set(r),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){gF(i,n,o,a,s,"next",t)}function s(t){gF(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}()}};const wF=bF;function EF(t){return EF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EF(t)}function xF(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xF=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==EF(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(EF(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function SF(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const _F={msg:{getAvailableItemPayIds:{code:Is.A.msg.BACKGROUND_GET_AVAILABLE_ITEM_PAY_IDS,handler:function(){var t,e=(t=xF().mark((function t(e){var r,n;return xF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({AVAILABLE_ITEM_PAY_IDS:[]});case 3:r=t.sent,n=r.AVAILABLE_ITEM_PAY_IDS,e(Array.isArray(n)?n:[]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){SF(i,n,o,a,s,"next",t)}function s(t){SF(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()}},alarm:{}};function AF(t){return AF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AF(t)}function TF(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */TF=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==AF(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(AF(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function LF(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var kF=function(){var t,e=(t=TF().mark((function t(e,r,n){return TF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===_F.msg.getAvailableItemPayIds.code?3:6;break;case 3:return t.next=5,_F.msg.getAvailableItemPayIds.handler(n);case 5:case 6:return t.abrupt("break",7);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){LF(i,n,o,a,s,"next",t)}function s(t){LF(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const OF={listener:{handler:kF},init:{handler:function(){chrome.runtime.onMessage.addListener(kF),chrome.runtime.onMessageExternal.addListener(kF)}}};const IF={handler:function(){try{OF.init.handler()}catch(t){}}};function NF(t){return NF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NF(t)}function PF(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */PF=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==NF(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(NF(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function CF(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function DF(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){CF(i,n,o,a,s,"next",t)}function s(t){CF(i,n,o,a,s,"throw",t)}a(void 0)}))}}function RF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FF(n.key),n)}}function jF(t,e,r){return e&&RF(t.prototype,e),r&&RF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FF(t){var e=function(t,e){if("object"!=NF(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=NF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==NF(e)?e:e+""}var BF=jF((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r){(e=FF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"getSponsorBanners",DF(PF().mark((function t(){return PF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({method:"GET",url:"https://gainskins.steaminventoryhelper.com/api/v2/sih/steam/banner-list",crossDomain:!0,xhrFields:{withCredentials:!0}});case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0,t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))))}));const GF=new BF;function MF(t){return MF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MF(t)}function UF(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */UF=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==MF(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(MF(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function HF(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function qF(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){HF(i,n,o,a,s,"next",t)}function s(t){HF(i,n,o,a,s,"throw",t)}a(void 0)}))}}const VF={msg:{getSponsorBanners:{code:"BACKGROUND_MSG_GET_SPONSOR_BANNERS",handler:function(){var t=qF(UF().mark((function t(e){var r,n,o;return UF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("SIH_SPONSOR_BANNERS");case 3:if(r=t.sent,n=r.SIH_SPONSOR_BANNERS){t.next=13;break}return t.next=8,GF.getSponsorBanners();case 8:return o=t.sent,t.next=11,y.w.setLocal({SIH_SPONSOR_BANNERS:o});case 11:return e({success:!0,data:o}),t.abrupt("return");case 13:e({success:!0,data:n}),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0,e({success:!1,error:t.t0});case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()}},alarm:{getSponsorBanners:{code:"BACKGROUND_ALARM_GET_SPONSOR_BANNERS",handler:function(){var t=qF(UF().mark((function t(){var e;return UF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,GF.getSponsorBanners();case 3:return e=t.sent,t.next=6,y.w.setLocal({SIH_SPONSOR_BANNERS:e});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()}}};var KF=function(t,e,r){if(t.type===VF.msg.getSponsorBanners.code)VF.msg.getSponsorBanners.handler(r);return!0},YF=function(t){if(t.name===VF.alarm.getSponsorBanners.code)VF.alarm.getSponsorBanners.handler()};const WF={listener:{handler:KF},init:{handler:function(){chrome.runtime.onMessage.addListener(KF),chrome.runtime.onMessageExternal.addListener(KF)}}},zF={listener:{handler:YF},init:{handler:function(){chrome.alarms.create("BACKGROUND_ALARM_GET_SPONSOR_BANNERS",{delayInMinutes:1,periodInMinutes:30}),chrome.alarms.onAlarm.addListener(YF)}}};const $F={handler:function(){try{WF.init.handler(),zF.init.handler()}catch(t){}}};function XF(t){return XF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XF(t)}function JF(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */JF=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==XF(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(XF(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function QF(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const ZF={msg:{GetNumberOfCurrentPlayers:{code:"BACKGROUND_GET_NUMBER_OF_CURRENT_PLAYERS",handler:function(){var t,e=(t=JF().mark((function t(e,r){var n,o;return JF().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/ISteamUserStats/GetNumberOfCurrentPlayers/v1?appid=".concat(e)});case 3:n=t.sent,o=n.response,r({success:!0,response:o}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),r({success:!1});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){QF(i,n,o,a,s,"next",t)}function s(t){QF(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}},alarm:{}};var tB=function(t,e,r){if(t.type===ZF.msg.GetNumberOfCurrentPlayers.code)ZF.msg.GetNumberOfCurrentPlayers.handler(t.data,r);return!0};const eB={listener:{handler:tB},init:{handler:function(){chrome.runtime.onMessage.addListener(tB),chrome.runtime.onMessageExternal.addListener(tB)}}};const rB={handler:function(){try{eB.init.handler()}catch(t){}}};function nB(t){return nB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nB(t)}function oB(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */oB=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==nB(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(nB(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function iB(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const aB={get:{code:Is.A.msg.BACKGROUND_GET_STEAM_BY_SIH_CURRENCY,handler:function(){var t,e=(t=oB().mark((function t(e,r){return oB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=r,t.next=4,Fs.Ay.apiRequest({method:"GET",url:"".concat(Fs.go,"/sih/steam/extprices/currency-list/?appid=").concat(e.appid,"&market=steam")});case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),t.t2;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){iB(i,n,o,a,s,"next",t)}function s(t){iB(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}};var sB=r(9708);function cB(t){return cB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cB(t)}function uB(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */uB=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==cB(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(cB(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function lB(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function fB(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){lB(i,n,o,a,s,"next",t)}function s(t){lB(i,n,o,a,s,"throw",t)}a(void 0)}))}}var hB=250,pB=new sB.JobsScheduler(hB),dB=new sB.JobsScheduler(hB);pB.start(hB),dB.start(hB);const yB={get:{code:Is.A.msg.BACKGROUND_GET_STEAM_BY_SIH_PRICES,handler:function(){var t=fB(uB().mark((function t(e,r){return uB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r({success:!1})}catch(t){r({success:!1})}case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},set:{code:Is.A.msg.BACKGROUND_SET_STEAM_PRICE,handler:function(){var t=fB(uB().mark((function t(e,r){var n,o;return uB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.body;try{o=new sB.Job(n,(function(t){var e=t.appid,r=t.currency,n=t.name,o=t.price,i="".concat(Fs.go,"/sih/steam/extprices/?market=steam&appid=").concat(e,"&currency=").concat(r,"&name=").concat(n,"&price=").concat(o);return Fs.Ay.apiRequest({method:"POST",url:i,data:{appid:e,currency:r,name:n,price:o}})}),(function(t){var e=t.success,n=t.suppress;return e?r(t):(n&&dB.pause(n),r({success:!1}))}),(function(t){r({success:!1})})),dB.add(o)}catch(t){r({success:!1})}case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}};function vB(t){return vB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vB(t)}function mB(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */mB=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==vB(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(vB(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function gB(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function bB(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){gB(i,n,o,a,s,"next",t)}function s(t){gB(i,n,o,a,s,"throw",t)}a(void 0)}))}}var wB=null,EB=function(){var t=bB(mB().mark((function t(){var e,r,n;return mB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mc.refreshSteamPowered();case 3:return e=t.sent,r=Ps.A.Profile.parse(e,["sessionId"]),n=r.sessionId,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),t.t0,t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),xB=function(){var t=bB(mB().mark((function t(e){var r,n,o,i;return mB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.sendRequest({method:"GET",url:"https://store.steampowered.com/",crossDomain:!0,xhrFields:{withCredentials:!0}});case 3:if(r=t.sent,n=Ps.A.Profile.parse(r,["sessionId"]),o=n.sessionId,wB=o){t.next=13;break}return t.next=9,EB();case 9:if(wB=t.sent){t.next=13;break}throw e({success:!1,error:"session is over"}),Error("Session is over");case 13:return t.next=15,Fs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",url:"https://store.steampowered.com/explore/generatenewdiscoveryqueue",data:{sessionid:wB,queuetype:0}});case 15:i=t.sent,e(i),t.next=31;break;case 19:if(t.prev=19,t.t0=t.catch(0),401!==t.t0.status){t.next=29;break}return t.next=24,EB();case 24:return wB=t.sent,t.next=27,xB(e);case 27:t.next=30;break;case 29:e(t.t0);case 30:t.t0;case 31:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}();const SB={msg:{isAvailableEvents:{code:"BACKGROUND_GET_IS_AVAILABLE_STEAM_CARDS_EVENT",handler:function(t){t(Date.now()>=17509608e5&&Date.now()<=175977e7)}},generateNewDiscoveryQueue:{code:Is.A.msg.BACKGROUND_GET_EVENT_CARDS,handler:function(){var t=bB(mB().mark((function t(e){return mB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xB(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},checkEventGame:{code:Is.A.msg.BACKGROUND_CHECK_EVENT_GAME,handler:function(){var t=bB(mB().mark((function t(e,r){var n,o;return mB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.appid_to_clear_from_queue,t.prev=1,wB){t.next=5;break}throw r({success:!1,error:"session is over"}),Error("Session is over");case 5:return t.next=7,Fs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",url:"https://store.steampowered.com/app/10",data:{sessionid:wB,appid_to_clear_from_queue:n}});case 7:o=t.sent,r(o),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),r(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()}},connect:{},alarm:{}};var _B=function(t,e,r){switch(t.type){case SB.msg.isAvailableEvents.code:SB.msg.isAvailableEvents.handler(r);break;case SB.msg.generateNewDiscoveryQueue.code:SB.msg.generateNewDiscoveryQueue.handler(r);break;case SB.msg.checkEventGame.code:SB.msg.checkEventGame.handler(t.data,r)}return!0};const AB={listener:{handler:_B},init:{handler:function(){chrome.runtime.onMessage.addListener(_B),chrome.runtime.onMessageExternal.addListener(_B)}}};const TB={handler:function(){try{AB.init.handler()}catch(t){}}};var LB=function(t,e,r){switch(t.type){case iE.msg.checkSteamLogin.code:iE.msg.checkSteamLogin.handler(t.data,r);break;case iE.msg.initSteamRefill.code:iE.msg.initSteamRefill.handler(t.data,r);break;case iE.msg.initSteamRefillBySihBalance.code:iE.msg.initSteamRefillBySihBalance.handler(t.data,r);break;case iE.msg.isAvailableSihSteamRefill.code:iE.msg.isAvailableSihSteamRefill.handler(t.data,r)}return!0},kB=function(t){if("STEAM_REFILL_CONNECTION"===t.name)iE.connect.init.handler(t)};const OB={listener:{handler:LB},init:{handler:function(){chrome.runtime.onMessage.addListener(LB),chrome.runtime.onMessageExternal.addListener(LB)}}},IB={init:{handler:function(){chrome.runtime.onConnect.addListener(kB),chrome.runtime.onConnectExternal.addListener(kB)}}};const NB={handler:function(){try{OB.init.handler(),IB.init.handler()}catch(t){}}};function PB(t){return PB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PB(t)}function CB(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */CB=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==PB(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(PB(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function DB(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function RB(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){DB(i,n,o,a,s,"next",t)}function s(t){DB(i,n,o,a,s,"throw",t)}a(void 0)}))}}function jB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FB(n.key),n)}}function FB(t){var e=function(t,e){if("object"!=PB(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=PB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==PB(e)?e:e+""}var BB=function(){return function(t,e,r){return e&&jB(t.prototype,e),r&&jB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),[{key:"update",value:(a=RB(CB().mark((function t(e){var r,n,o,i,a;return CB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=Au.sihAppUserProfile)&&0!==Object.keys(r).length){t.next=3;break}return t.abrupt("return");case 3:return n=r.socials.findIndex((function(t){return"steam"===t[0]})),o=r.socials[n][1],t.next=7,y.w.getLocal({sihKeysOrders:{}});case 7:return i=t.sent,(a=i.sihKeysOrders)[o]=e,t.next=12,y.w.setLocal({sihKeysOrders:a});case 12:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:"append",value:(i=RB(CB().mark((function t(e){var r,n,o,i,a;return CB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=Au.sihAppUserProfile)&&0!==Object.keys(r).length){t.next=3;break}return t.abrupt("return");case 3:return n=r.socials.findIndex((function(t){return"steam"===t[0]})),o=r.socials[n][1],t.next=7,y.w.getLocal({sihKeysOrders:{}});case 7:return i=t.sent,(a=i.sihKeysOrders)[o]?a[o].push(e):a[o]=[e],t.next=12,y.w.setLocal({sihKeysOrders:a});case 12:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)})},{key:"getAll",value:(o=RB(CB().mark((function t(){var e,r,n,o,i;return CB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=Au.sihAppUserProfile)&&0!==Object.keys(e).length){t.next=5;break}return t.abrupt("return",[]);case 5:return r=e.socials.findIndex((function(t){return"steam"===t[0]})),n=e.socials[r][1],t.next=9,y.w.getLocal({sihKeysOrders:{}});case 9:return o=t.sent,i=o.sihKeysOrders,t.abrupt("return",i[n]||[]);case 12:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"removeByOfferId",value:(n=RB(CB().mark((function t(e,r){var n,o,i,a,s,c,u;return CB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=Au.sihAppUserProfile)||0===Object.keys(n).length){t.next=12;break}return o=n.socials.findIndex((function(t){return"steam"===t[0]})),i=n.socials[o][1],t.next=6,y.w.getLocal({sihKeysOrders:{}});case 6:return a=t.sent,s=a.sihKeysOrders,c=s[i]||[],u=c.filter((function(t){return!(t.offerId===e&&t.timestamp===r)})),t.next=12,this.update(u);case 12:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"autoActivateAppend",value:(r=RB(CB().mark((function t(e){var r,n,o,i,a;return CB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=Au.sihAppUserProfile)&&0!==Object.keys(r).length){t.next=3;break}return t.abrupt("return");case 3:return n=r.socials.findIndex((function(t){return"steam"===t[0]})),o=r.socials[n][1],t.next=7,y.w.getLocal({needAutoActivateOrders:{}});case 7:return i=t.sent,(a=i.needAutoActivateOrders)[o]?a[o].push(e):a[o]=[e],t.next=12,y.w.setLocal({needAutoActivateOrders:a});case 12:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"autoActivateGet",value:(e=RB(CB().mark((function t(){var e,r,n,o,i;return CB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=Au.sihAppUserProfile)&&0!==Object.keys(e).length){t.next=3;break}return t.abrupt("return");case 3:return r=e.socials.findIndex((function(t){return"steam"===t[0]})),n=e.socials[r][1],t.next=7,y.w.getLocal({needAutoActivateOrders:{}});case 7:return o=t.sent,i=o.needAutoActivateOrders,t.abrupt("return",{userSteamId:n,orderIds:i[n]});case 10:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})},{key:"autoActivateRemove",value:(t=RB(CB().mark((function t(e){var r,n,o,i,a;return CB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=Au.sihAppUserProfile)&&0!==Object.keys(r).length){t.next=3;break}return t.abrupt("return");case 3:return n=r.socials.findIndex((function(t){return"steam"===t[0]})),o=r.socials[n][1],t.next=7,y.w.getLocal({needAutoActivateOrders:{}});case 7:return i=t.sent,(a=i.needAutoActivateOrders)[o]=a[o].filter((function(t){return t!==e})),t.next=12,y.w.setLocal({needAutoActivateOrders:a});case 12:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}]);var t,e,r,n,o,i,a}();const GB=new BB;function MB(t){return MB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MB(t)}function UB(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return HB(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?HB(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function HB(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function qB(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */qB=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==MB(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(MB(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function VB(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function KB(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){VB(i,n,o,a,s,"next",t)}function s(t){VB(i,n,o,a,s,"throw",t)}a(void 0)}))}}var YB=function(t,e,r){var n=t.filter((function(t){return["created","processing"].includes(t.status)})),o=[];return n.forEach((function(t){var n=e.find((function(e){return e.id===t.id&&e.status===r}));n&&o.push(n)})),o},WB=function(){var t=KB(qB().mark((function t(){var e,r,n,o;return qB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return chrome.cookies.getAll({domain:"store.steampowered.com"},t)}));case 2:if(e=t.sent,r=e.find((function(t){return"sessionid"===t.name})),n=e.find((function(t){return"steamLoginSecure"===t.name})),o=n.value.slice(0,17),r&&o){t.next=10;break}return t.abrupt("return",{});case 10:return t.abrupt("return",{sessionId:r.value,steamId:o});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),zB=function(){var t=KB(qB().mark((function t(e){var r;return qB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[9,13,14,15,24,36,53].includes(e)?i18next.t("controls:sih_keys.activation_status.steam_error.".concat(e)):i18next.t("controls:sih_keys.activation_status.steam_error.default"),t.next=4,Jd.updateDataStorageLog({success:!1,groupType:"keys_activation",error:r},"keys");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$B=function(){var t=KB(qB().mark((function t(e,r){var n;return qB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({url:"https://store.steampowered.com/account/ajaxregisterkey/",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:{sessionid:r,product_key:e},method:"POST"});case 3:if(1!==(n=t.sent).success){t.next=10;break}return t.next=7,Jd.updateDataStorageLog({success:!0,groupType:"keys_activation"},"keys");case 7:return t.abrupt("return",{success:!0});case 10:if(void 0===n.purchase_result_details||!n.purchase_receipt_info){t.next=16;break}return t.next=13,zB(n.purchase_result_details);case 13:case 18:case 25:return t.abrupt("return",{success:!1});case 16:return t.next=18,zB(n.success);case 19:t.next=26;break;case 21:return t.prev=21,t.t0=t.catch(0),t.next=25,zB(0);case 26:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e,r){return t.apply(this,arguments)}}(),XB=function(){var t=KB(qB().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f;return qB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,GB.autoActivateGet();case 3:if(r=t.sent,n=r.orderIds,o=r.userSteamId,null==n||!n.length){t.next=32;break}return t.next=9,WB();case 9:if(i=t.sent,a=i.sessionId,s=i.steamId,!a||!s||s!==o){t.next=32;break}return t.next=15,GB.getAll();case 15:c=t.sent,u=UB(n),t.prev=17,f=qB().mark((function t(){var r,n;return qB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=l.value,(n=c.find((function(t){return t.id===r&&"finished"===t.status})))&&e.push(n);case 3:case"end":return t.stop()}}),t)})),u.s();case 20:if((l=u.n()).done){t.next=24;break}return t.delegateYield(f(),"t0",22);case 22:t.next=20;break;case 24:t.next=29;break;case 26:t.prev=26,t.t1=t.catch(17),u.e(t.t1);case 29:return t.prev=29,u.f(),t.finish(29);case 32:return t.abrupt("return",e);case 33:case"end":return t.stop()}}),t,null,[[17,26,29,32]])})));return function(){return t.apply(this,arguments)}}();function JB(t){return JB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JB(t)}function QB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ZB(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?QB(Object(r),!0).forEach((function(e){uG(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QB(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function tG(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=rG(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function eG(t){return function(t){if(Array.isArray(t))return nG(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rG(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rG(t,e){if(t){if("string"==typeof t)return nG(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nG(t,e):void 0}}function nG(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function oG(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */oG=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==JB(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(JB(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function iG(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function aG(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){iG(i,n,o,a,s,"next",t)}function s(t){iG(i,n,o,a,s,"throw",t)}a(void 0)}))}}function sG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lG(n.key),n)}}function cG(t,e,r){return e&&sG(t.prototype,e),r&&sG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uG(t,e,r){return(e=lG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lG(t){var e=function(t,e){if("object"!=JB(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=JB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==JB(e)?e:e+""}function fG(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function hG(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var pG=6e4,dG=6e5,yG=new WeakMap,vG=new WeakMap,mG=cG((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),fG(this,yG,"https://gamestats.steaminventoryhelper.com/api/v1/key-offers"),fG(this,vG,"https://gamestats.steaminventoryhelper.com/api/v1/orders"),uG(this,"isWorkingProcessingFunc",!1),uG(this,"lastRequestPort",void 0),uG(this,"postMessageOnLastPage",(function(t){e.lastRequestPort&&e.lastRequestPort.postMessage(t)})),uG(this,"getKeyOffers",function(){var t=aG(oG().mark((function t(r){var n,o,i;return oG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.appId,o=r.countryCode,t.prev=1,i=new URLSearchParams({appId:n,countryCode:o}),t.next=5,Fs.Ay.apiRequest({url:"".concat(hG(yG,e),"?").concat(i.toString()),method:"GET"});case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t.catch(1),console.error(t.t0),t.abrupt("return",{success:!1,error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()),uG(this,"makeOrder",function(){var t=aG(oG().mark((function t(r){var n,o,i,a,s,c,u,l,f,h,p,d,y=arguments;return oG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=y.length>1&&void 0!==y[1]&&y[1],o=y.length>2&&void 0!==y[2]?y[2]:"",t.prev=2,t.next=5,Au.getSihAppUserToken();case 5:return i=t.sent,a=r.needAutoActivate,s=r.requestData,t.next=9,Fs.Ay.apiRequest({method:"POST",url:"".concat(hG(vG,e)),headers:{"x-sih-token":i},data:s});case 9:if(!(c=t.sent).success){t.next=30;break}if(u=c.data.orderId,!a){t.next=15;break}return t.next=15,GB.autoActivateAppend(u);case 15:if(!n){t.next=24;break}return t.next=18,GB.getAll();case 18:return(l=t.sent).forEach((function(t){s.orders.forEach((function(e){t.offerId===e.offerId&&t.timestamp===o&&(t.id=u,t.status="created")}))})),t.next=22,GB.update(l);case 22:t.next=30;break;case 24:return t.next=26,e.getOrderByOrderId(u);case 26:if(!(f=t.sent).success){t.next=30;break}return t.next=30,GB.append(f.data);case 30:return t.next=32,e.updateAllOrders();case 32:return t.abrupt("return",c);case 35:return t.prev=35,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return",{success:!1,error:(null===t.t0||void 0===t.t0||null===(h=t.t0.responseJSON)||void 0===h||null===(p=h.message)||void 0===p?void 0:p.title)||(null===t.t0||void 0===t.t0||null===(d=t.t0.responseJSON)||void 0===d?void 0:d.message)||i18next.t("controls:sih_keys.notification.unexpected_error")});case 39:case"end":return t.stop()}}),t,null,[[2,35]])})));return function(e){return t.apply(this,arguments)}}()),uG(this,"getOrderByOrderId",function(){var t=aG(oG().mark((function t(r){var n;return oG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:return n=t.sent,t.abrupt("return",Fs.Ay.apiRequest({url:"".concat(hG(vG,e),"/").concat(r,"/content"),headers:{"x-sih-token":n},method:"GET"}));case 7:return t.prev=7,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",{success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),uG(this,"getAllOrders",aG(oG().mark((function t(){var r;return oG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserToken();case 3:return r=t.sent,t.abrupt("return",Fs.Ay.apiRequest({url:"".concat(hG(vG,e)),headers:{"x-sih-token":r},method:"GET"}));case 7:return t.prev=7,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",{success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))),uG(this,"processPendingOrders",aG(oG().mark((function t(){var r,n,o,i,a,s;return oG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.isWorkingProcessingFunc){t.next=3;break}return t.abrupt("return");case 3:return e.isWorkingProcessingFunc=!0,t.next=6,GB.getAll();case 6:if(r=t.sent,0!==(n=r.filter((function(t){return"pending"===t.status}))).length){t.next=11;break}return e.isWorkingProcessingFunc=!1,t.abrupt("return");case 11:if(o=n.reduce((function(t,e){return new Date(e.timestamp)<new Date(t.timestamp)?e:t})),!(new Date-new Date(o.timestamp)<dG)){t.next=42;break}return t.next=15,QS.isEnabled();case 15:if(t.sent&&!(new Date-new Date(o.timestamp)<pG)){t.next=19;break}return t.next=19,Jd.getUserAuth();case 19:if(!(Au.sihAppUserProfile.user.balance>=o.finalPrice)){t.next=38;break}return t.next=23,e.makeOrder({requestData:{orders:[{offerId:o.offerId,quantity:1,finalPrice:o.finalPrice}],orderHash:"".concat(o.offerId,"-").concat(Date.now()),email:o.email},needAutoActivate:o.needAutoActivate},!0,o.timestamp);case 23:if(!(i=t.sent).success){t.next=28;break}e.isWorkingProcessingFunc=!1,t.next=34;break;case 28:return e.isWorkingProcessingFunc=!1,t.next=31,GB.removeByOfferId(o.offerId,o.timestamp);case 31:return t.next=33,Jd.updateDataStorageLog({success:!1,groupType:"keys_error",error:i.error},"keys");case 33:e.postMessageOnLastPage({success:!1,error:i.error});case 34:return t.next=36,e.processPendingOrders();case 36:t.next=40;break;case 38:a=new Date-new Date(o.timestamp)>54e4?dG-(new Date-new Date(o.timestamp)):pG,setTimeout(aG(oG().mark((function t(){return oG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isWorkingProcessingFunc=!1,t.next=3,e.processPendingOrders();case 3:case"end":return t.stop()}}),t)}))),a);case 40:t.next=52;break;case 42:return t.next=44,GB.removeByOfferId(o.offerId,o.timestamp);case 44:if(e.isWorkingProcessingFunc=!1,!(n.length>1)){t.next=48;break}return t.next=48,e.processPendingOrders();case 48:return s=i18next.t("controls:sih_keys.notification.refill_timeout"),t.next=51,Jd.updateDataStorageLog({success:!1,groupType:"keys_error",error:s},"keys");case 51:e.postMessageOnLastPage({success:!1,error:s});case 52:t.next=57;break;case 54:t.prev=54,t.t0=t.catch(0),e.isWorkingProcessingFunc=!1;case 57:case"end":return t.stop()}}),t,null,[[0,54]])})))),uG(this,"updateAllOrders",aG(oG().mark((function t(){var r,n,o,i,a,s,c,u,l,f,h,p,d,y,v,m,g,b,w;return oG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=Au.sihAppUserProfile)&&0!==Object.keys(r).length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,GB.getAll();case 5:return n=t.sent,t.next=8,e.getAllOrders();case 8:if(o=t.sent,i=[],!o.success){t.next=85;break}if(n.length){t.next=19;break}return t.next=14,GB.update(o.data);case 14:return t.next=16,XB();case 16:i=t.sent,t.next=62;break;case 19:return a=n.filter((function(t){return"pending"===t.status})),t.next=22,GB.update([].concat(eG(a),eG(o.data)));case 22:return t.next=24,XB();case 24:i=t.sent,s=YB(n,o.data,"finished"),c=tG(s),t.prev=27,l=oG().mark((function t(){var r;return oG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.value,t.next=3,Jd.updateDataStorageLog(ZB({success:!0,groupType:"keys_success"},r),"keys");case 3:i.every((function(t){return t.id!==r.id}))&&e.postMessageOnLastPage({success:!0,item:r});case 4:case"end":return t.stop()}}),t)})),c.s();case 30:if((u=c.n()).done){t.next=34;break}return t.delegateYield(l(),"t0",32);case 32:t.next=30;break;case 34:t.next=39;break;case 36:t.prev=36,t.t1=t.catch(27),c.e(t.t1);case 39:return t.prev=39,c.f(),t.finish(39);case 42:f=YB(n,o.data,"failed"),h=tG(f),t.prev=44,h.s();case 46:if((p=h.n()).done){t.next=54;break}return d=p.value,y="".concat(i18next.t("controls:sih_keys.notification.creating_error")," #").concat(d.id),t.next=51,Jd.updateDataStorageLog({success:!1,groupType:"keys_error",error:y},"keys");case 51:e.postMessageOnLastPage({success:!1,error:y});case 52:t.next=46;break;case 54:t.next=59;break;case 56:t.prev=56,t.t2=t.catch(44),h.e(t.t2);case 59:return t.prev=59,h.f(),t.finish(59);case 62:v=tG(i),t.prev=63,v.s();case 65:if((m=v.n()).done){t.next=77;break}return g=m.value,t.next=69,WB();case 69:return b=t.sent,w=b.sessionId,t.next=73,$B(g.content,w);case 73:return t.next=75,GB.autoActivateRemove(g.id);case 75:t.next=65;break;case 77:t.next=82;break;case 79:t.prev=79,t.t3=t.catch(63),v.e(t.t3);case 82:return t.prev=82,v.f(),t.finish(82);case 85:case"end":return t.stop()}}),t,null,[[27,36,39,42],[44,56,59,62],[63,79,82,85]])}))))}));const gG=new mG;function bG(t){return bG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bG(t)}function wG(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wG=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==bG(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(bG(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function EG(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function xG(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){EG(i,n,o,a,s,"next",t)}function s(t){EG(i,n,o,a,s,"throw",t)}a(void 0)}))}}function SG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TG(n.key),n)}}function _G(t,e,r){return e&&SG(t.prototype,e),r&&SG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function AG(t,e,r){return(e=TG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TG(t){var e=function(t,e){if("object"!=bG(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=bG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bG(e)?e:e+""}function LG(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function kG(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var OG=new WeakMap,IG=_G((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),LG(this,OG,"https://gamestats.steaminventoryhelper.com/api/v1"),AG(this,"getStreamEmbed",function(){var t=xG(wG().mark((function t(r){var n,o,i,a,s,c;return wG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.isCisRegion,o=void 0!==n&&n,t.prev=1,t.next=4,y.w.getLocal("CACHED_STREAM_EMBED");case 4:if(i=t.sent,a=i.CACHED_STREAM_EMBED,!((s=void 0===a?{}:a).lastUpdate&&Date.now()-s.lastUpdate<9e5)){t.next=11;break}return t.abrupt("return",s.value);case 11:return t.next=13,Fs.Ay.apiRequest({url:"".concat(kG(OG,e),"/twitch/event?cis=").concat(o),method:"GET"});case 13:return c=t.sent,s.value=c,s.lastUpdate=Date.now(),t.next=18,y.w.setLocal({CACHED_STREAM_EMBED:s});case 18:return t.abrupt("return",c);case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(1),console.error(t.t0);case 24:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}()),AG(this,"getAppDetailsByAppId",function(){var t=xG(wG().mark((function t(r){var n;return wG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({url:"".concat(kG(OG,e),"/extension/appDetails?m=1&search=").concat(r),method:"GET"});case 3:if(!1!==(n=t.sent).success){t.next=6;break}throw Error(n.message);case 6:return t.abrupt("return",{success:!0,data:{lastUpdate:1e3*n.b,hotRank:n.c,totalCost:n.d,twitch:{online:n.a.a,followers:n.a.b,list:n.a.c.map((function(t){return{media:{tags:t.b.c,thumbnail:t.b.b,viewers:t.b.a},userInfo:{userLogin:t.a.a,userName:t.a.b}}}))}}});case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",{success:!1,error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),AG(this,"getAppOnlineByAppId",function(){var t=xG(wG().mark((function t(r){var n,o,i,a,s;return wG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.appId,o=r.interval,i=void 0===o?"All time":o,t.prev=1,a=new URLSearchParams({appId:n,interval:i}),t.next=5,Fs.Ay.apiRequest({url:"".concat(kG(OG,e),"/stats/online?m=1&").concat(a.toString()),method:"GET"});case 5:return s=t.sent,t.abrupt("return",{success:s.e,timestamp:s.g,data:{highest:s.f.b,list:s.f.f.map((function(t){return{players:t.a,timestamp:t.b}})),monthly:s.f.c,monthlyGrowthPercent:s.f.e,peakDay:s.f.a,previousMonthly:s.f.d}});case 9:return t.prev=9,t.t0=t.catch(1),console.error(t.t0),t.abrupt("return",{success:!1,error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()),AG(this,"getMinAppPrice",function(){var t=xG(wG().mark((function t(r){var n,o,i;return wG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.appId,o=r.currency,t.prev=1,i=new URLSearchParams({appId:n,currency:o}),t.next=5,Fs.Ay.apiRequest({url:"".concat(kG(OG,e),"/stats/min-price?").concat(i.toString()),method:"GET"});case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t.catch(1),console.error(t.t0),t.abrupt("return",{success:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}));const NG=new IG;function PG(t){return PG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PG(t)}function CG(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */CG=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==PG(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(PG(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function DG(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function RG(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){DG(i,n,o,a,s,"next",t)}function s(t){DG(i,n,o,a,s,"throw",t)}a(void 0)}))}}var jG=0;const FG={msg:{getStreamEmbed:{code:"STEAM_STATS_GET_STREAM_EMBED",handler:function(){var t=RG(CG().mark((function t(e,r){var n,o,i;return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,NG.getStreamEmbed(e);case 3:null!=(i=t.sent)&&null!==(n=i.kick)&&void 0!==n&&n.length||null!=i&&null!==(o=i.twitch)&&void 0!==o&&o.length?r({success:!0,result:i}):r({success:!1}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getKeyOffers:{code:"STEAM_STATS_GET_KEY_OFFERS",handler:function(){var t=RG(CG().mark((function t(e,r){var n;return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gG.getKeyOffers(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},makeOrder:{code:"STEAM_STATS_MAKE_KEY_ORDER",handler:function(){var t=RG(CG().mark((function t(e,r){var n;return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gG.makeOrder(e);case 3:if((n=t.sent).success){t.next=8;break}return t.next=7,Jd.updateDataStorageLog({success:!1,groupType:"keys_error",error:n.error},"keys");case 7:gG.postMessageOnLastPage({success:!1,error:n.error});case 8:r(n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},getOrderByOrderId:{code:"STEAM_STATS_GET_KEY_ORDER_BY_ORDER_ID",handler:function(){var t=RG(CG().mark((function t(e,r){var n;return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gG.getOrderByOrderId(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getAllOrders:{code:"STEAM_STATS_GET_ALL_KEY_ORDERS",handler:function(){var t=RG(CG().mark((function t(e,r){var n,o,i,a;return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.isForce,o=void 0!==n&&n,t.prev=1,o){t.next=9;break}return t.next=5,GB.getAll();case 5:i=t.sent,r({success:!0,orders:i}),t.next=13;break;case 9:return t.next=11,gG.getAllOrders();case 11:(a=t.sent).success?r({success:!0,orders:a.data}):r({success:!1});case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),console.error(t.t0),r({success:!1});case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}()},refillAndBuy:{code:"STEAM_STATS_REFILL_AND_BUY_ORDER",handler:function(){var t=RG(CG().mark((function t(e,r){return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,GB.append(e);case 3:return t.next=5,gG.processPendingOrders();case 5:r(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()},steamStatsGetAppsDetails:{code:"STEAM_STATS_GET_APPS_DETAILS",handler:function(){var t=RG(CG().mark((function t(e,r){var n;return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,NG.getAppDetailsByAppId(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1,error:t.t0}),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},steamStatsGetOnline:{code:"STEAM_STATS_GET_ONLINE",handler:function(){var t=RG(CG().mark((function t(e,r){var n;return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,NG.getAppOnlineByAppId(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1,error:t.t0}),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},steamStatsGetMinAppPrice:{code:"STEAM_STATS_GET_MIN_APP_PRICE",handler:function(){var t=RG(CG().mark((function t(e,r){var n;return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,NG.getMinAppPrice(e);case 3:n=t.sent,r({success:!0,result:n}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()}},connect:{needAuth:{code:"SIH_KEYS_NEED_STEAM_AUTH",handler:function(){var t=RG(CG().mark((function t(e){var r,n,o,i;return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,chrome.tabs.create({url:"https://steamcommunity.com/login/home"});case 3:r=t.sent,o=function(t){n=!0},i=function(){var t=RG(CG().mark((function t(o,i,a){var s,c,u;return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o!==r.id||!n||"complete"!==i.status){t.next=9;break}return s=e.sender.tab.id,t.next=4,chrome.tabs.update(s,{active:!0});case 4:return c=t.sent,t.next=7,chrome.tabs.reload(c.id);case 7:u=function(t,e){t===c.id&&"complete"===e.status&&(chrome.tabs.sendMessage(c.id,{type:"OPEN_KEYS_MAIN_MODAL_AFTER_LOGIN"}),chrome.tabs.onUpdated.removeListener(u))},chrome.tabs.onUpdated.addListener(u);case 9:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),chrome.tabs.onUpdated.addListener(i),chrome.webRequest.onCompleted.addListener(o,{urls:["https://login.steampowered.com/jwt/finalizelogin"]}),e.onDisconnect.addListener((function(){chrome.tabs.onUpdated.removeListener(i),chrome.webRequest.onCompleted.removeListener(o)})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},startOrdering:{code:"SIH_KEYS_START_ORDERING",handler:function(){var t=RG(CG().mark((function t(e){return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{gG.lastRequestPort=e}catch(t){console.error(t)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},alarm:{updateAllOrders:{code:"ALARM_STEAM_STATS_UPDATE_ALL_KEY_ORDERS",handler:function(){var t=RG(CG().mark((function t(){var e;return CG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,GB.getAll();case 3:if(e=t.sent,!(jG>=60)){t.next=10;break}return jG=0,t.next=8,gG.updateAllOrders();case 8:t.next=18;break;case 10:if(!e.filter((function(t){return["created","processing"].includes(t.status)})).length){t.next=17;break}return jG=0,t.next=15,gG.updateAllOrders();case 15:t.next=18;break;case 17:jG++;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.error(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(){return t.apply(this,arguments)}}()}}};function BG(t){return BG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BG(t)}function GG(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */GG=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==BG(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(BG(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function MG(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function UG(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){MG(i,n,o,a,s,"next",t)}function s(t){MG(i,n,o,a,s,"throw",t)}a(void 0)}))}}var HG=function(t,e,r){switch(t.type){case FG.msg.getStreamEmbed.code:FG.msg.getStreamEmbed.handler(t.data,r);break;case FG.msg.getKeyOffers.code:FG.msg.getKeyOffers.handler(t.data,r);break;case FG.msg.makeOrder.code:FG.msg.makeOrder.handler(t.data,r);break;case FG.msg.getOrderByOrderId.code:FG.msg.getOrderByOrderId.handler(t.data,r);break;case FG.msg.getAllOrders.code:FG.msg.getAllOrders.handler(t.data,r);break;case FG.msg.refillAndBuy.code:FG.msg.refillAndBuy.handler(t.data,r);break;case FG.msg.steamStatsGetAppsDetails.code:FG.msg.steamStatsGetAppsDetails.handler(t.data,r);break;case FG.msg.steamStatsGetOnline.code:FG.msg.steamStatsGetOnline.handler(t.data,r);break;case FG.msg.steamStatsGetMinAppPrice.code:FG.msg.steamStatsGetMinAppPrice.handler(t.data,r)}return!0},qG=function(t){switch(t.name){case FG.connect.needAuth.code:FG.connect.needAuth.handler(t);break;case FG.connect.startOrdering.code:FG.connect.startOrdering.handler(t)}},VG=function(){chrome.alarms.create(FG.alarm.updateAllOrders.code,{delayInMinutes:1,periodInMinutes:1})},KG=function(){var t=UG(GG().mark((function t(e){return GG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.name,t.next=t.t0===FG.alarm.updateAllOrders.code?3:5;break;case 3:return FG.alarm.updateAllOrders.handler(),t.abrupt("break",6);case 5:return t.abrupt("break",6);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),YG=function(){var t=UG(GG().mark((function t(){return GG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:VG(),chrome.alarms.onAlarm.addListener(KG);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const WG={msgListener:{listener:{handler:HG},init:{handler:function(){chrome.runtime.onMessage.addListener(HG),chrome.runtime.onMessageExternal.addListener(HG)}}},connectionListener:{init:{handler:function(){chrome.runtime.onConnect.addListener(qG),chrome.runtime.onConnectExternal.addListener(qG)}}},alarmListener:{createAlarms:{handler:VG},listener:{handler:KG},init:{handler:YG}}};const zG={handler:function(){try{WG.alarmListener.init.handler(),WG.msgListener.init.handler(),WG.connectionListener.init.handler()}catch(t){}}};var $G=function(t){var e=new Uint8Array(t);crypto.getRandomValues(e);for(var r="",n=0;n<e.length;n+=1)r+=e[n].toString(16);return r};function XG(t){return XG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XG(t)}function JG(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */JG=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==XG(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(XG(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function QG(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var ZG=function(){var t,e=(t=JG().mark((function t(e,r,n){return JG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===Sm.msg.parseTrades.code?3:t.t0===Sm.msg.getLastTrades.code?6:t.t0===Sm.msg.tradeAccept.code?9:t.t0===Sm.msg.tradeDecline.code?12:t.t0===Sm.msg.tradeCancel.code?15:t.t0===Sm.msg.updateTradeStatus.code?18:t.t0===Sm.msg.getTradesSummary.code?21:t.t0===Sm.msg.getManyTradesSummary.code?24:t.t0===Sm.msg.getTradesPage.code?27:30;break;case 3:return t.next=5,Sm.msg.parseTrades.handler(e.data);case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 26:case 29:case 30:return t.abrupt("break",31);case 6:return t.next=8,Sm.msg.getLastTrades.handler(e.data||{},n);case 9:return t.next=11,Sm.msg.tradeAccept.handler(e.data,n);case 12:return t.next=14,Sm.msg.tradeDecline.handler(e.data,n);case 15:return t.next=17,Sm.msg.tradeCancel.handler(e.data,n);case 18:return t.next=20,Sm.msg.updateTradeStatus.handler(e.data,n);case 21:return t.next=23,Sm.msg.getTradesSummary.handler(e.data,n);case 24:return t.next=26,Sm.msg.getManyTradesSummary.handler(e.data,n);case 27:return t.next=29,Sm.msg.getTradesPage.handler(e.data,n);case 31:return t.abrupt("return",!0);case 32:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){QG(i,n,o,a,s,"next",t)}function s(t){QG(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}(),tM=function(){chrome.alarms.create(Sm.alarm.parseTradesFromPage.code,{delayInMinutes:2,periodInMinutes:2}),chrome.alarms.create(Sm.alarm.parseTradesFromApi.code,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Sm.alarm.clearRequestLimit.code,{delayInMinutes:0,periodInMinutes:10})},eM=function(t){switch(t.name){case Sm.alarm.parseTradesFromPage.code:Sm.alarm.parseTradesFromPage.handler();break;case Sm.alarm.parseTradesFromApi.code:Sm.alarm.parseTradesFromApi.handler();break;case Sm.alarm.clearRequestLimit.code:Sm.alarm.clearRequestLimit.handler()}};const rM={listener:{handler:ZG},init:{handler:function(){chrome.runtime.onMessage.addListener(ZG),chrome.runtime.onMessageExternal.addListener(ZG)}}},nM={createAlarms:{handler:tM},listener:{handler:eM},init:{handler:function(){tM(),chrome.alarms.onAlarm.addListener(eM)}}};const oM={handler:function(){try{nM.init.handler(),rM.init.handler()}catch(t){}}};var iM=r(7388),aM=r.n(iM);function sM(t){return sM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sM(t)}function cM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lM(n.key),n)}}function uM(t,e,r){return e&&cM(t.prototype,e),r&&cM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lM(t){var e=function(t,e){if("object"!=sM(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=sM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sM(e)?e:e+""}var fM=uM((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r){(e=lM(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"changeSteamLang",(function(t,e){return Fs.Ay.apiRequest({method:"POST",url:"https://store.steampowered.com/account/setlanguage/",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{language:t,sessionid:e}})}))}));const hM=new fM;var pM=r(5488);function dM(t){return dM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dM(t)}function yM(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=mM(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function vM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||mM(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mM(t,e){if(t){if("string"==typeof t)return gM(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gM(t,e):void 0}}function gM(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function bM(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bM=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==dM(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(dM(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function wM(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function EM(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){wM(i,n,o,a,s,"next",t)}function s(t){wM(i,n,o,a,s,"throw",t)}a(void 0)}))}}function xM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_M(n.key),n)}}function SM(t,e,r){return(e=_M(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _M(t){var e=function(t,e){if("object"!=dM(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=dM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dM(e)?e:e+""}var AM=Os(""),TM=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),SM(this,"accBalanceHistoryProcessFn",function(){var t=EM(bM().mark((function t(e,r,n){var o,i;return bM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=aM().parse(e.html),i=o.querySelectorAll(".wallet_table_row"),t.next=4,Promise.all(i.map(function(){var t=EM(bM().mark((function t(e){var o,i,a,s,c;return bM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null===(o=e.querySelector(".wht_date"))||void 0===o?void 0:o.text.trim(),s=null===(i=e.querySelector(".wht_wallet_balance"))||void 0===i?void 0:i.text.trim(),a&&s){t.next=4;break}return t.abrupt("return",null);case 4:if(null==(c=Ks.parsePrice(s,!0))||!c.value||null==c||!c.currencyNumber){t.next=13;break}return t.t0=r,t.t1=new Date(a),t.next=10,Ks.getPriceFromCurrency(c.value/100,n||1,c.currencyNumber);case 10:t.t2=t.sent,t.t3={date:t.t1,balance:t.t2},t.t0.push.call(t.t0,t.t3);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:return t.abrupt("return",e.cursor);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),SM(this,"spentMoneySummaryProcessFn",(function(t,e,r){return aM().parse(t.html).querySelectorAll(".wallet_table_row").forEach((function(t){var n,o,i,a=(null===(n=t.querySelector(".wht_type div"))||void 0===n?void 0:n.text.trim())||"",s=(null===(o=t.querySelector(".wht_total"))||void 0===o?void 0:o.text.trim())||"",c=(null===(i=t.querySelector(".wht_items"))||void 0===i?void 0:i.text.trim())||"";if(s&&!s.match("Credit")&&a&&!c.match("Wallet Credit")){var u=Ks.parsePrice(s,!0);if(!u)return;var l=u.currencyCode===r?u.value:pM.A.convert(u.value,u.currencyCode,r);a.match(/^Purchase/)&&(e.gameTotal+=l),a.match("Market Transaction")&&(e.marketTotal+=l),a.match("Gift Purchase")&&(e.giftTotal+=l),a.match("In-Game Purchase")&&(e.ingameTotal+=l)}})),t.cursor})),this.apiUrl="https://store.steampowered.com/account/AjaxLoadMoreHistory/",this.historyPageUrl="https://store.steampowered.com/account/history/"}return function(t,e,r){return e&&xM(t.prototype,e),r&&xM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"getAccHistoryPage",value:function(){try{return Fs.Ay.apiRequest({method:"GET",url:this.historyPageUrl})}catch(t){throw console.error(t),t}}},{key:"getInitialDataToParse",value:(s=EM(bM().mark((function e(r,n,o){var i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,x,S,_,A,T,L;return bM().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="english",e.prev=1,e.next=4,y.w.getLocal(t.CACHE_STORAGE_KEY);case 4:if(e.t1=t.CACHE_STORAGE_KEY,e.t0=e.sent[e.t1],e.t0){e.next=8;break}e.t0={};case 8:for(a=e.t0,s=0,c=Object.entries(a);s<c.length;s++)u=vM(c[s],2),l=u[0],f=u[1],Date.now()-f.timestamp>t.CACHE_EXPIRATION&&delete a[l];if(o){e.next=16;break}if(!((h=null==a?void 0:a[n])&&h.initPage&&Date.now()-h.timestamp<t.CACHE_EXPIRATION)){e.next=16;break}return e.next=15,r({html:h.initPage.html});case 15:return e.abrupt("return",h.initPage.initCursor);case 16:return e.next=18,new Promise((function(t){return chrome.cookies.getAll({domain:"store.steampowered.com"},t)}));case 18:if(p=e.sent,d=p.find((function(t){return"sessionid"===t.name})),v=p.find((function(t){return"Steam_Language"===t.name})),e.t2=null==d?void 0:d.value,e.t2){e.next=26;break}return e.next=25,t.getSessionCookie();case 25:e.t2=e.sent;case 26:if(m=e.t2,v===i){e.next=30;break}return e.next=30,hM.changeSteamLang(i,m);case 30:return e.next=32,this.getAccHistoryPage();case 32:if(g=e.sent,v===i){e.next=36;break}return e.next=36,hM.changeSteamLang(v.value,m);case 36:return b=aM().parse(g),w=b.querySelectorAll(".wallet_history_table"),E=b.querySelectorAll("script"),e.next=41,r({html:w});case 41:S=yM(E);try{for(S.s();!(_=S.n()).done;)A=_.value,T=A.innerText||A.text,(L=T.match(/var\s+g_historyCursor\s*=\s*(null|\{[^]*?\});/))&&L[1]&&(x=JSON.parse(L[1]))}catch(t){S.e(t)}finally{S.f()}return a[n]||(a[n]={}),a[n].initPage={html:w.toString(),initCursor:x},a[n].timestamp=Date.now(),e.next=48,y.w.setLocal(SM({},t.CACHE_STORAGE_KEY,a));case 48:if(void 0===x){e.next=52;break}return e.abrupt("return",x);case 52:throw Error("initCursorData not found");case 53:e.next=58;break;case 55:e.prev=55,e.t3=e.catch(1),console.error(e.t3);case 58:case"end":return e.stop()}}),e,this,[[1,55]])}))),function(t,e,r){return s.apply(this,arguments)})},{key:"fetchData",value:(a=EM(bM().mark((function e(r,n,o){var i,a,s,c,u,l,f,h,p,d,v,m=arguments;return bM().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.length>3&&void 0!==m[3]&&m[3],e.next=3,y.w.getLocal(t.CACHE_STORAGE_KEY);case 3:if(e.t1=t.CACHE_STORAGE_KEY,e.t0=e.sent[e.t1],e.t0){e.next=7;break}e.t0={};case 7:if(a=e.t0,i){e.next=29;break}if(!((s=null==a?void 0:a[o])&&s.data&&Date.now()-s.timestamp<t.CACHE_EXPIRATION)){e.next=29;break}c=yM(s.data),e.prev=12,c.s();case 14:if((u=c.n()).done){e.next=20;break}return l=u.value,e.next=18,r(l);case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t2=e.catch(12),c.e(e.t2);case 25:return e.prev=25,c.f(),e.finish(25);case 28:return e.abrupt("return");case 29:return f=null,e.next=32,t.getSessionCookie();case 32:h=e.sent,p={l:"en",sessionid:h},d=[];case 35:return f?p.cursor=f:n&&(p.cursor=n),e.prev=36,e.next=39,Fs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",url:this.apiUrl,data:p});case 39:if(null!=(v=e.sent)&&v.html){e.next=42;break}throw Error("No data from Steam API");case 42:return d.push(v),e.next=45,r(v);case 45:f=e.sent,e.next=52;break;case 48:throw e.prev=48,e.t3=e.catch(36),console.error(e.t3),e.t3;case 52:if(f){e.next=35;break}case 53:if(!d.length){e.next=58;break}return a[o].data=d,a[o].timestamp=Date.now(),e.next=58,y.w.setLocal(SM({},t.CACHE_STORAGE_KEY,a));case 58:case"end":return e.stop()}}),e,this,[[12,22,25,28],[36,48]])}))),function(t,e,r){return a.apply(this,arguments)})},{key:"getAccBalanceHistory",value:(i=EM(bM().mark((function t(e,r){var n,o,i,a,s,c=this;return bM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,y.w.get("currency");case 3:return o=t.sent,i=o.currency,a=function(){var t=EM(bM().mark((function t(e){return bM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.accBalanceHistoryProcessFn(e,n,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=8,this.getInitialDataToParse(a,r,e);case 8:if(!(s=t.sent)){t.next=12;break}return t.next=12,this.fetchData(a,s,r,e);case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"calculateSpentMoneySummary",value:(o=EM(bM().mark((function t(e,r,n){var o,i,a,s=this;return bM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={gameTotal:0,marketTotal:0,giftTotal:0,ingameTotal:0},t.next=3,pM.A.load(e);case 3:return i=function(){var t=EM(bM().mark((function t(r){return bM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.spentMoneySummaryProcessFn(r,o,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=6,this.getInitialDataToParse(i,n,r);case 6:if(!(a=t.sent)){t.next=10;break}return t.next=10,this.fetchData(i,a,n,r);case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return o.apply(this,arguments)})},{key:"calculateSpentMoneyInStore",value:(n=EM(bM().mark((function t(){var e,r,n,o;return bM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,t.next=3,y.w.get("steamCurrency");case 3:return r=t.sent,n=r.steamCurrency,o=function(t){var r=AM.parseHTML(t.html),o=n.strCode;return r.forEach((function(t){var r=AM(t).find(".wht_type div:first").text().trim(),n=AM(t).find(".wht_total").text().trim(),i=AM(t).find(".wht_items").text().trim();if(n&&!n.match("Credit")&&r&&!i.match("Wallet Credit")){var a,s=Ks.parsePrice(n,!0);if(!s)return;a=s.currencyCode!==o?pM.A.convert(s.value,s.currencyCode,o):s.value,r.match(/^Purchase/)&&(e+=a)}})),t.cursor},t.next=8,this.fetchData(o);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],[{key:"getSessionCookie",value:(r=EM(bM().mark((function e(){var r,n,o;return bM().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(t){return chrome.cookies.getAll({domain:"store.steampowered.com"},t)}));case 2:return r=e.sent,n=r.find((function(t){return"sessionid"===t.name})),e.next=6,this.checkSessionOnExpired();case 6:if(o=e.sent,n&&!o){e.next=11;break}return e.next=10,Mc.refreshSteamPowered();case 10:return e.abrupt("return",t.getSessionCookie());case 11:return e.abrupt("return",n.value);case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"checkSessionOnExpired",value:(e=EM(bM().mark((function t(){var e,r,n,o;return bM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fs.Ay.sendRequest({method:"GET",url:"https://store.steampowered.com"});case 2:return e=t.sent,r=Ps.A.Profile.parse(e,["sessionId","accountId"]),n=r.sessionId,o=r.accountId,t.abrupt("return",!o&&n);case 5:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})}]);var e,r,n,o,i,a,s}();SM(TM,"CACHE_STORAGE_KEY","cachedSteamTransactionHistory"),SM(TM,"CACHE_EXPIRATION",864e5);const LM=new TM;function kM(t){return kM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kM(t)}function OM(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */OM=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==kM(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(kM(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function IM(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function NM(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){IM(i,n,o,a,s,"next",t)}function s(t){IM(i,n,o,a,s,"throw",t)}a(void 0)}))}}const PM={msg:{getAccBalanceHistory:{code:"BACKGROUND_GET_ACC_BALANCE_HISTORY",handler:function(){var t=NM(OM().mark((function t(e,r){var n;return OM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,LM.getAccBalanceHistory(e.force,e.steamId);case 3:n=t.sent,r({success:!0,balanceByDate:n}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getSpentMoneySummary:{code:"BACKGROUND_GET_SPENT_MONEY_SUMMARY",handler:function(){var t=NM(OM().mark((function t(e,r){var n;return OM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,LM.calculateSpentMoneySummary(e.userCurrency,e.force,e.steamId);case 3:n=t.sent,r({success:!0,spentMoneySummary:n}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),r({success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()}},alarm:{}};var CM=function(t,e,r){switch(t.type){case PM.msg.getAccBalanceHistory.code:PM.msg.getAccBalanceHistory.handler(t.data,r);break;case PM.msg.getSpentMoneySummary.code:PM.msg.getSpentMoneySummary.handler(t.data,r)}return!0};const DM={listener:{handler:CM},init:{handler:function(){chrome.runtime.onMessage.addListener(CM),chrome.runtime.onMessageExternal.addListener(CM)}}};const RM={handler:function(){try{DM.init.handler()}catch(t){}}};function jM(t){return jM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jM(t)}function FM(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */FM=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==jM(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(jM(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function BM(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function GM(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){BM(i,n,o,a,s,"next",t)}function s(t){BM(i,n,o,a,s,"throw",t)}a(void 0)}))}}var MM=Os(""),UM=Is.A.ALLOW_LAST_STEAM_NUMBERS,HM=function(){var t=GM(FM().mark((function t(e){var r,n,o,i;return FM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=chrome.runtime.getManifest(),n=r.version,t.next=4,Au.getSihAppUserJWTToken();case 4:return o=t.sent,t.next=7,Fs.Ay.apiRequest({headers:{"x-sih-token":Object.keys(o).length?o.token:"","x-sih-version":n},method:"GET",url:Fs.Gp,data:{p:"1",url:decodeURIComponent(e)}});case 7:return i=t.sent,t.abrupt("return",i);case 11:return t.prev=11,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}();const qM={msg:{updateUserState:{code:Is.A.msg.BACKGROUND_UPDATE_USER_STATE,handler:function(){var t=GM(FM().mark((function t(){var e,r;return FM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({INVENTORY_PARSING_INFO:{}});case 3:return e=t.sent,(r=e.INVENTORY_PARSING_INFO).isAFK=!1,t.next=8,y.w.setLocal({INVENTORY_PARSING_INFO:r});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()}},alarm:{parseOtherInventory:{code:Is.A.alarm.BACKGROUND_PARSE_OTHER_INVENTORY,handler:function(){var t=GM(FM().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,x,S,_;return FM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="https://steamcommunity.com/inventory/*",t.prev=1,t.next=4,y.w.get({user_inventory_parsing:!0});case 4:return r=t.sent,n=r.user_inventory_parsing,t.next=8,y.w.getLocal({userInfo:{}});case 8:if(o=t.sent,i=o.userInfo,a=i&&i.steamId?+i.steamId[i.steamId.length-1]:0,!(i.authorization&&n&&a&&UM.includes(a))){t.next=88;break}return t.next=14,y.w.getLocal({INVENTORY_PARSING_INFO:{}});case 14:if(s=t.sent,c=s.INVENTORY_PARSING_INFO,u=c.timer,l=void 0===u?{min:30,max:60}:u,f=Math.round(Math.random()*(l.min-l.max)+l.max),!(Date.now()-c.lastParsingRequest>=6e4*f)){t.next=88;break}return t.next=21,y.w.getLocal({USER_PARSING_INVENTORY_LIST:[]});case 21:if(h=t.sent,!(p=h.USER_PARSING_INVENTORY_LIST).length){t.next=88;break}return c.isAFK=!0,t.next=27,y.w.setLocal({INVENTORY_PARSING_INFO:c});case 27:return t.next=29,Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(p[0],"/")});case 29:if(d=t.sent,v=Ps.A.Profile.originalProfileUrl(d,["originalProfileUrl"])){t.next=36;break}return p.splice(0,1),t.next=35,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 35:return t.abrupt("return");case 36:if(MM(d).find(".no_header.profile_page").hasClass("private_profile")){t.next=82;break}return t.next=40,Fs.Ay.sendRequest({method:"GET",url:"".concat(v,"inventory/")});case 40:if(m=t.sent,Ps.A.Profile.isAvailableInventory(m,["isAvailableInventory"])){t.next=74;break}return t.next=45,y.w.setLocal({CURRENT_PARSING_USER_URL:v});case 45:return t.next=47,$M(e);case 47:return t.next=49,Fs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest"},method:"GET",url:"https://steamcommunity.com/inventory/".concat(p[0],"/730/2?l=english&count=1000"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 49:return g=t.sent,t.next=52,rc.removeRule(e);case 52:if(!(g.assets&&g.assets.length&&g.descriptions&&g.descriptions.length)){t.next=66;break}if(!(b=g.assets.reduce((function(t,e){var r=g.descriptions.find((function(t){return e.classid===t.classid&&t.actions&&Fs.Ay.isWeapon(t.tags)}));if(r){var n=r.actions[0].link.replace(/%owner_steamid%/,p[0]).replace(/%assetid%/,e.assetid);t.push(n)}return t}),[]))||!b.length){t.next=58;break}Promise.all(b.map((function(t,e){return new Promise((function(r){setTimeout(GM(FM().mark((function e(){var n;return FM().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HM(t);case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)}))),Math.floor(25*Math.random()+10)*(e+1))}))}))).then(function(){var t=GM(FM().mark((function t(e){return FM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jd.sendParsingId(p[0]);case 2:return t.sent,p.splice(0,1),t.next=6,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=64;break;case 58:return t.next=60,Jd.sendParsingId(p[0]);case 60:return t.sent,p.splice(0,1),t.next=64,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 64:t.next=72;break;case 66:return t.next=68,Jd.sendParsingId(p[0]);case 68:return t.sent,p.splice(0,1),t.next=72,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 72:t.next=80;break;case 74:return t.next=76,Jd.sendParsingId(p[0]);case 76:return t.sent,p.splice(0,1),t.next=80,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 80:t.next=88;break;case 82:return t.next=84,Jd.sendParsingId(p[0]);case 84:return t.sent,p.splice(0,1),t.next=88,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 88:t.next=118;break;case 90:return t.prev=90,t.t0=t.catch(1),w=t.t0.status,t.next=95,rc.removeRule(e);case 95:if(!w){t.next=117;break}if(!(429===w||w>=500)){t.next=105;break}return t.next=99,y.w.getLocal({INVENTORY_PARSING_INFO:{}});case 99:return E=t.sent,(x=E.INVENTORY_PARSING_INFO).lastParsingRequest=Date.now()+288e5,x.isHold=!0,t.next=105,y.w.setLocal({INVENTORY_PARSING_INFO:x});case 105:if(403!==w){t.next=117;break}return t.next=108,y.w.getLocal({USER_PARSING_INVENTORY_LIST:[]});case 108:if(S=t.sent,!(_=S.USER_PARSING_INVENTORY_LIST).length){t.next=117;break}return t.next=113,Jd.sendParsingId(_[0]);case 113:return t.sent,_.splice(0,1),t.next=117,y.w.setLocal({USER_PARSING_INVENTORY_LIST:_});case 117:t.t0;case 118:case"end":return t.stop()}}),t,null,[[1,90]])})));return function(){return t.apply(this,arguments)}}()}}};function VM(t){return VM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VM(t)}function KM(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */KM=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==VM(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(VM(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function YM(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function WM(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){YM(i,n,o,a,s,"next",t)}function s(t){YM(i,n,o,a,s,"throw",t)}a(void 0)}))}}var zM={lastParsingRequest:Date.now(),isHold:null},$M=function(){var t=WM(KM().mark((function t(e){var r,n;return KM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.w.getLocal({userInfo:{}}).then(function(){var t=WM(KM().mark((function t(e){var r,n;return KM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal({INVENTORY_PARSING_INFO:{}});case 2:return r=t.sent,(n=r.INVENTORY_PARSING_INFO).lastParsingRequest=Date.now(),n.isHold=!1,t.next=8,y.w.setLocal({INVENTORY_PARSING_INFO:n});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=3,y.w.getLocal({CURRENT_PARSING_USER_URL:null});case 3:if(!(r=t.sent.CURRENT_PARSING_USER_URL)){t.next=15;break}return t.next=7,rc.generateDynamicRuleId(e);case 7:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:"".concat(r,"inventory/")},{header:"sec-fetch-site",operation:"set",value:"same-origin"}]},t.t2={urlFilter:e},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=13,rc.setRule(n);case 13:t.next=16;break;case 15:return t.abrupt("return",null);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),XM=function(){var t=WM(KM().mark((function t(e,r,n){return KM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===qM.msg.updateUserState.code?3:6;break;case 3:return t.next=5,qM.msg.updateUserState.handler();case 5:case 6:return t.abrupt("break",7);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),JM=function(){var t=WM(KM().mark((function t(e){return KM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.name,t.next=t.t0===qM.alarm.parseOtherInventory.code?3:6;break;case 3:return t.next=5,qM.alarm.parseOtherInventory.handler();case 5:return t.abrupt("break",6);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),QM=function(){var t=WM(KM().mark((function t(){return KM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.setLocal({INVENTORY_PARSING_INFO:zM});case 2:chrome.alarms.create(qM.alarm.parseOtherInventory.code,{delayInMinutes:1.5,periodInMinutes:1.5}),chrome.alarms.onAlarm.addListener(JM);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const ZM={msgListener:{listener:{handler:XM},init:{handler:function(){chrome.runtime.onMessage.addListener(XM),chrome.runtime.onMessageExternal.addListener(XM)}}},alarmListener:{listener:{handler:JM},init:{handler:QM}}};const tU={handler:function(){try{ZM.alarmListener.init.handler(),ZM.msgListener.init.handler()}catch(t){}}};function eU(t){return eU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eU(t)}function rU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lU(n.key),n)}}function nU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||iU(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oU(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=iU(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function iU(t,e){if(t){if("string"==typeof t)return aU(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aU(t,e):void 0}}function aU(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function sU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cU(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sU(Object(r),!0).forEach((function(e){uU(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function uU(t,e,r){return(e=lU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lU(t){var e=function(t,e){if("object"!=eU(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=eU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eU(e)?e:e+""}function fU(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fU=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==eU(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(eU(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function hU(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function pU(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hU(i,n,o,a,s,"next",t)}function s(t){hU(i,n,o,a,s,"throw",t)}a(void 0)}))}}var dU=/var processURL = '(.+)';/,yU=(new Map,{tf2:null,exchangerate:null}),vU=null,mU={lastParsing:null,holdTs:null},gU=null,bU=18e5,wU=6e4,EU=[{wearFull:"Factory New",wearShort:"FN"},{wearFull:"Minimal Wea",wearShort:"MW"},{wearFull:"Field-Tested",wearShort:"FT"},{wearFull:"Well-Worn",wearShort:"WW"},{wearFull:"Battle-Scarred",wearShort:"BS"}],xU="",SU=null,_U=null,AU=Os(""),TU=function(){var t=pU(fU().mark((function t(e,r){var n,o,i;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,o=e.data,t.prev=1,t.next=4,Fs.Ay.apiRequest({url:n,data:o});case 4:i=t.sent,r({success:!0,data:i}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0,r({success:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}(),LU=function(){var t=pU(fU().mark((function t(e,r){var n,o,i;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,o=e.data,t.prev=1,t.next=4,Fs.Ay.apiRequest({url:n,data:o});case 4:i=t.sent,r({success:!0,data:i}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0,r({success:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}(),kU=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({url:"".concat(Fs.j7,"/steam/priceoverview/"),data:e});case 3:return n=t.sent,t.abrupt("return",r(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),OU=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=chrome.runtime.getManifest(),t.abrupt("return",r({success:!0,data:{version:n.version}}));case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,r){return t.apply(this,arguments)}}(),IU=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({url:"https://steamcommunity.com/market/search/render/",data:e});case 3:return n=t.sent,t.abrupt("return",r(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),NU=function(){var t=pU(fU().mark((function t(e,r){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",r({success:!1}));case 4:return t.prev=4,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 7:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e,r){return t.apply(this,arguments)}}(),PU=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({method:"POST",url:"".concat(Fs.j7,"/steam/marketplace/banners/feedback"),data:e});case 3:return n=t.sent,t.abrupt("return",r(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),CU=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({url:"".concat(Fs.j7,"/steam/marketplace/banner/list"),data:e});case 3:return n=t.sent,t.abrupt("return",r(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),DU=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({url:"".concat(Fs.dY,"/badges"),method:"GET",data:e});case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),RU=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({url:"".concat(Fs.dY,"/cards/calculate"),method:"POST",data:e});case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),jU=function(){var t=pU(fU().mark((function t(e,r){var n,o,i,a,s,c,u,l;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.steamUserId,e.appId,o=e.count,i=e.startAssetId,s=(a=void 0===i?null:i)?"&start_assetid="+a:"",t.prev=2,t.next=5,Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(n,"/")});case 5:return c=t.sent,u=Ps.A.Profile.originalProfileUrl(c,["originalProfileUrl"]),t.next=9,y.w.setLocal({CURRENT_PARSING_USER_URL:u});case 9:return t.next=11,Fs.Ay.apiRequest({url:"https://steamcommunity.com/inventory/".concat(n,"/753/6?l=english").concat(s,"&count=").concat(o),method:"GET",xhrFields:{withCredentials:!0}});case 11:l=t.sent,r(l),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),r(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,r){return t.apply(this,arguments)}}(),FU=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({url:"".concat(Fs.j7,"/skinsGiveaway"),data:e});case 3:n=t.sent,r({success:!0,data:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),BU=function(){var t=pU(fU().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h,p,d,y,v,m,g,b,w;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,o=void 0!==n&&n,i=e.itemUrl,a=void 0!==i&&i,s=e.appId,c=e.itemName,u=e.start,l=void 0===u?0:u,f=e.count,h=void 0===f?1:f,p=e.lang,d=void 0===p?"english":p,y=e.currency,v=void 0===y?3:y,m=e.format,g=void 0===m?"json":m,t.prev=1,b=a?"".concat(a,"/render?start=0&count=1&currency=3&language=english&format=json"):o||"https://steamcommunity.com/market/listings/".concat(s,"/").concat(c,"/render?start=").concat(l,"&count=").concat(h,"&currency=").concat(v,"&language=").concat(d,"&format=").concat(g),t.next=5,Fs.Ay.apiRequest({url:b,method:"GET"});case 5:w=t.sent,r(w),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({success:!1});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}(),GU=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({url:"".concat(Fs.j7,"/steam/extprices/"),data:e});case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),MU=function(){var t=pU(fU().mark((function t(e){var r;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,yU.tf2&&!(Date.now()-yU.tf2.ts>bU)){t.next=8;break}return t.next=4,Fs.Ay.apiRequest({url:"".concat(Fs.j7,"/steam/extprices/tf2")});case 4:(r=t.sent)&&r.success?(yU.tf2={data:r.data,ts:Date.now()},e&&e({success:!0,prices:yU.tf2.data})):e({success:!1}),t.next=9;break;case 8:e&&e({success:!0,prices:yU.tf2.data});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e({success:!1});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),UU=function(){var t=pU(fU().mark((function t(e,r){var n,o,i,a,s,c,u;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"string"!=typeof e){t.next=8;break}return t.next=4,Fs.Ay.apiRequest({url:"".concat(Fs.j7,"/steam/extprices/csgobackpack/").concat(e)});case 4:n=t.sent,r(n),t.next=12;break;case 8:o=e.providerCode,i=e.appid,a=e.ccode,s=e.items,c=yU.exchangerate.data.rates[a],u=0,GU({market:o,appid:i},(function(t){s.forEach((function(e){var r=0;if("steamlvlup"===o){var n=e.isFoil?t.prices[e.marketFeeApp].pf:t.prices[e.marketFeeApp].p;r=n?Math.round(n*c)/1e3:0}else if("steamlvlupgems"===o){r=1*(e.isFoil?t.prices[e.marketFeeApp].pf:t.prices[e.marketFeeApp].p)}else{var i=t.prices[e];r=i?Math.round(i*c*100)/100:0}u+=r})),r({success:!0,amount:u})}));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),r({success:!1});case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}(),HU=function(){var t=pU(fU().mark((function t(e,r){var n,o;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({bookmarks:{}});case 3:return n=t.sent,o=n.bookmarks,Object.assign(o,e),t.next=8,y.w.setLocal({bookmarks:o});case 8:r(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}(),qU=function(){var t=pU(fU().mark((function t(e,r){var n,o;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({bookmarks:{}});case 3:return n=t.sent,delete(o=n.bookmarks)[e.hashmarket],t.next=10,y.w.setLocal({bookmarks:o});case 10:r(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}(),VU=function(){var t=pU(fU().mark((function t(e){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.tabs.create({url:e.url});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),KU=function(){var t=pU(fU().mark((function t(e){var r,n,o,i;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jc.getProfile();case 2:r=t.sent.data,n=Ps.A.Profile.parse(r,["steamId","isLoginPage"]),o=n.steamId,i=n.isLoginPage,r&&!i?(o||e({success:!1}),e({success:!0,steamId:o})):e({success:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),YU=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Ks.getCurrencyIdByCode(e.strCode),t.next=4,y.w.set({currency_code:e.strCode});case 4:return t.next=6,y.w.set({currency:n});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:return t.prev=11,r(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e,r){return t.apply(this,arguments)}}(),WU=function(){var t=pU(fU().mark((function t(){var e,r=arguments;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:null,!_U){t.next=5;break}return t.next=4,_U;case 4:case 8:return t.abrupt("return",t.sent);case 5:return _U=function(){var t=pU(fU().mark((function t(){var r,n,o;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,NH();case 3:return t.next=5,Jd.getUserAuth();case 5:if((r=t.sent)&&(r.success||r.errorStatus)){t.next=24;break}return t.next=9,Jd.logout();case 9:return t.next=11,y.w.getLocal("userInfo");case 11:if(n=t.sent,!n.userInfo.authorization){t.next=21;break}return t.next=16,Jd.sihAppAuthViaSteam(r&&r.success);case 16:return o=t.sent,"function"==typeof e&&e(),t.abrupt("return",o);case 21:return t.abrupt("return",{success:!1,steamAuth:!1,error:"Steam profile not found"});case 22:t.next=25;break;case 24:return t.abrupt("return",{success:!0});case 25:t.next=31;break;case 27:return t.prev=27,t.t0=t.catch(0),console.error("loginSihApp",t.t0),t.abrupt("return",{success:!1,error:t.t0.message||t.t0.responseText||"Error login Steam OpenID"});case 31:return t.prev=31,_U=null,t.finish(31);case 34:case"end":return t.stop()}}),t,null,[[0,27,31,34]])})));return function(){return t.apply(this,arguments)}}()(),t.next=8,_U;case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),zU=function(){var t=pU(fU().mark((function t(e,r){var n,o,i,a,s,c;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=14;break}if(!e.pathname||!e.markets.length){t.next=12;break}if("inventory"!==e.pathname){t.next=9;break}return t.next=6,y.w.set({user_sort_market_inventory:e.markets});case 6:r(),t.next=12;break;case 9:return t.next=11,y.w.set({user_sort_market_listing:e.markets});case 11:r();case 12:t.next=42;break;case 14:return t.next=16,y.w.get("user_sort_market_listing");case 16:return n=t.sent,o=n.user_sort_market_listing,t.next=20,y.w.get("user_sort_market_inventory");case 20:if(i=t.sent,a=i.user_sort_market_inventory,o){t.next=27;break}return t.next=25,y.w.set({user_sort_market_listing:Ns.Ww});case 25:t.next=32;break;case 27:return t.next=29,$U(o);case 29:return s=t.sent,t.next=32,y.w.set({user_sort_market_listing:s});case 32:if(a){t.next=37;break}return t.next=35,y.w.set({user_sort_market_inventory:Ns.Ww});case 35:t.next=42;break;case 37:return t.next=39,$U(a);case 39:return c=t.sent,t.next=42,y.w.set({user_sort_market_inventory:c});case 42:t.next=47;break;case 44:t.prev=44,t.t0=t.catch(0),t.t0;case 47:case"end":return t.stop()}}),t,null,[[0,44]])})));return function(e,r){return t.apply(this,arguments)}}(),$U=function(){var t=pU(fU().mark((function t(e){var r,n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.map((function(t){return t.name})),n=Ns.Ww.map((function(t){return t.name})),e.forEach((function(t,r){n.includes(t.name)||e.splice(r,1)})),Ns.Ww.forEach((function(t,n){if(!r.includes(t.name)){var o,i=Ns.Ww[n-1],a=Ns.Ww[n+1];if(i&&a){var s=e.find((function(t){return t.name===i.name})),c=e.find((function(t){return t.name===a.name}));s.isActive?c.isActive?(o=e.findIndex((function(t){return!t.isActive})))>-1?o--:o=Ns.Ww.length-2:(o=e.findIndex((function(t){return t.name===c.name})),o--):o=e.findIndex((function(t){return t.name===s.name}))}if(i&&!a){var u=e.find((function(t){return t.name===i.name}));u.isActive?(o=e.findIndex((function(t){return!t.isActive})))>-1?o--:o=Ns.Ww.length-2:o=e.findIndex((function(t){return t.name===u.name}))}if(!i&&a){var l=e.find((function(t){return t.name===a.name}));l.isActive?(o=e.findIndex((function(t){return!t.isActive})))>-1?o--:o=Ns.Ww.length-2:(o=e.findIndex((function(t){return t.name===l.name})),o--)}e.splice(o+1,0,t)}})),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),XU=function(){var t=pU(fU().mark((function t(e,r){var n,o;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://steamcommunity.com/market/itemordershistogram*",t.prev=1,t.next=4,JU(e,n);case 4:return t.next=6,Fs.Ay.apiRequest({url:"https://steamcommunity.com/market/itemordershistogram",method:"GET",data:{country:e.g_strCountryCode,language:e.steamLang,currency:e.g_rgWalletInfo&&e.g_rgWalletInfo.wallet_currency?e.g_rgWalletInfo.wallet_currency:1,item_nameid:e.nameid,two_factor:0},crossDomain:!0,xhrFields:{withCredentials:!0}});case 6:return o=t.sent,t.next=9,rc.removeRule(n);case 9:r(o||{success:!1}),t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(1),t.t0,t.next=17,rc.removeRule(n);case 17:r({success:!1});case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,r){return t.apply(this,arguments)}}(),JU=function(){var t=pU(fU().mark((function t(e,r){var n,o,i;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.appId,o=e.encodedName,t.next=3,rc.generateDynamicRuleId(r);case 3:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:"https://steamcommunity.com/market/listings/".concat(n,"/").concat(o)}]},t.t2={urlFilter:r},i={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=9,rc.setRule(i);case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),QU=function(){var t=pU(fU().mark((function t(e){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vH();case 3:return t.next=5,gH();case 5:return t.next=7,pH();case 7:return t.next=9,e({success:!0});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),ZU=function(){var t=pU(fU().mark((function t(e){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.storage.sync.get((function(t){t.simplyinvent=e,chrome.storage.sync.set({simplyinvent:t.simplyinvent})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tH=function(){var t=pU(fU().mark((function t(e){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.set(uU({},"".concat(Object.keys(e)[0]),Object.values(e)[0]));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),eH=function(){var t=pU(fU().mark((function t(e){var r;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Au.getSihAppUserToken();case 2:r=t.sent,e(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),rH=function(){var t=pU(fU().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=["730","570","440","252490"],r=["steamLiveSell"],t.next=5,y.w.getLocal("bookmarks");case 5:return n=t.sent,o=n.bookmarks,t.next=9,y.w.get("currency");case 9:return i=t.sent,a=i.currency,t.next=13,y.w.get("steamCurrency");case 13:if(s=t.sent,c=s.steamCurrency,u=a||c.eCurrencyCode||1,l={},!(o&&Object.keys(o).length>=1)){t.next=31;break}for(f in o)h=o[f],p=h.marketHashName,d=h.appid,0!==Object.keys(l).length&&l[d]?l[d]=Object.assign(l[d],uU({},f,{marketHashName:p})):l[d]=Object.assign({},uU({},f,{marketHashName:p}));t.t0=fU().keys(l);case 20:if((t.t1=t.t0()).done){t.next=29;break}if(v=t.t1.value,m=[],e.includes(v))for(g in l[v])b=l[v][g].marketHashName,m.push(b);return w={appId:v,currency:1,items:m,markets:r,source:"bookmarks"},t.next=27,iH(w,function(){var t=pU(fU().mark((function t(e){var r,n,i,a,s,c,l;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.success){t.next=15;break}t.t0=fU().keys(o);case 2:if((t.t1=t.t0()).done){t.next=13;break}if(r=t.t1.value,n=o[r].marketHashName,!e.items[n]){t.next=11;break}return c=(null==e||null===(i=e.items)||void 0===i||null===(a=i[n])||void 0===a||null===(s=a.steamLiveSell)||void 0===s?void 0:s.price)||0,t.next=9,EH(c,u);case 9:(l=t.sent).price>=0&&(o[r].price=l);case 11:t.next=2;break;case 13:return t.next=15,y.w.setLocal({bookmarks:o});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 27:t.next=20;break;case 29:t.next=33;break;case 31:return t.next=33,y.w.setLocal({bookmarks:{}});case 33:t.next=38;break;case 35:t.prev=35,t.t2=t.catch(0),t.t2;case 38:case"end":return t.stop()}}),t,null,[[0,35]])})));return function(){return t.apply(this,arguments)}}(),nH=function(){var t=pU(fU().mark((function t(){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{chrome.storage.onChanged.addListener(function(){var t=pU(fU().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,x,S,_,A,T,L,k,O,I,N,P,C,D,R,j;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.currency)){t.next=115;break}return o=n.newValue,i=n.oldValue,t.next=5,y.w.get("steamCurrency");case 5:return a=t.sent,s=a.steamCurrency,c=o||(s?s.eCurrencyCode:1),u=i||(s?s.eCurrencyCode:1),t.next=11,y.w.getLocal("userCurrentBalance");case 11:if(l=t.sent,!(f=l.userCurrentBalance)){t.next=28;break}if(c!==s.eCurrencyCode){t.next=23;break}return t.next=17,y.w.getLocal("defaultUserCurrentBalance");case 17:return h=t.sent,p=h.defaultUserCurrentBalance,t.next=21,y.w.setLocal({userCurrentBalance:p});case 21:t.next=28;break;case 23:return t.next=25,EH(+f.price,c,u);case 25:return d=t.sent,t.next=28,y.w.setLocal({userCurrentBalance:d});case 28:return t.next=30,y.w.getLocal("bookmarks");case 30:if(v=t.sent,!(m=v.bookmarks)){t.next=43;break}t.t0=fU().keys(m);case 34:if((t.t1=t.t0()).done){t.next=41;break}return g=t.t1.value,t.next=38,EH(+m[g].price.price,c,u);case 38:m[g].price=t.sent,t.next=34;break;case 41:return t.next=43,y.w.setLocal({bookmarks:m});case 43:return t.next=45,y.w.getLocal("inventoryPrice");case 45:if(b=t.sent,!(w=b.inventoryPrice)){t.next=59;break}t.t2=fU().keys(w);case 49:if((t.t3=t.t2()).done){t.next=57;break}return E=t.t3.value,t.next=53,EH(+w[E].price,c,u);case 53:x=t.sent,w[E]=cU(cU({},w[E]),{},{price:x.price,code:x.code,symbol:x.symbol,symbolPosition:x.symbolPosition}),t.next=49;break;case 57:return t.next=59,y.w.setLocal({inventoryPrice:w});case 59:return t.next=61,y.w.getLocal("activeMarketLotsCoast");case 61:if(S=t.sent,!(_=S.activeMarketLotsCoast)){t.next=78;break}if(c!==s.eCurrencyCode){t.next=73;break}return t.next=67,y.w.getLocal("defaultActiveMarketLotsCoast");case 67:return A=t.sent,T=A.defaultActiveMarketLotsCoast,t.next=71,y.w.setLocal({activeMarketLotsCoast:T});case 71:t.next=78;break;case 73:return t.next=75,EH(+_.price,c,u);case 75:return L=t.sent,t.next=78,y.w.setLocal({activeMarketLotsCoast:L});case 78:k=0,O=["tradesInfo","tradesInfoHistory","tradesInfoSent","tradesInfoSentHistory"];case 80:if(!(k<O.length)){t.next=115;break}return I=O[k],t.next=84,y.w.getLocal(I);case 84:if(t.t4=I,!(N=t.sent[t.t4])){t.next=110;break}P=oU(N),t.prev=88,P.s();case 90:if((C=P.n()).done){t.next=102;break}return D=C.value,t.next=94,EH(+D.primary.totalPrice.price,c,u);case 94:return R=t.sent,t.next=97,EH(+D.secondary.totalPrice.price,c,u);case 97:j=t.sent,D.primary.totalPrice=R,D.secondary.totalPrice=j;case 100:t.next=90;break;case 102:t.next=107;break;case 104:t.prev=104,t.t5=t.catch(88),P.e(t.t5);case 107:return t.prev=107,P.f(),t.finish(107);case 110:return t.next=112,y.w.setLocal(uU({},I,N));case 112:k++,t.next=80;break;case 115:case"end":return t.stop()}}),t,null,[[88,104,107,110]])})));return function(e,r){return t.apply(this,arguments)}}())}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),oH=function(){var t=pU(fU().mark((function t(){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{chrome.storage.onChanged.addListener(function(){var t=pU(fU().mark((function t(e,r){var n,o,i,a,s,c,u;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.currency)){t.next=14;break}return o=n.newValue,i=n.oldValue,t.next=5,y.w.get("steamCurrency");case 5:if(a=t.sent,s=a.steamCurrency,c=o||(s?s.eCurrencyCode:1),u=i||(s?s.eCurrencyCode:1),c===u){t.next=14;break}return t.next=12,self.setGlobalRates();case 12:return t.next=14,self.setSteamRates();case 14:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),iH=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,jO.getPrices(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),aH=function(){var t=pU(fU().mark((function t(e,r){var n,o;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Au.getSihAppUserJWTToken();case 3:return n=t.sent,t.next=6,Fs.Ay.apiRequest({headers:{"x-sih-token":Object.keys(n).length?n.token:""},method:"GET",url:"https://items.steaminventoryhelper.com/items/v2/730/weapons/".concat(e.hashName)});case 6:o=t.sent,r(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({success:!1});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}(),sH=function(t,e){return{csgofast:{to:{img:"/assets/csgofast/mini/155x55_".concat(e,".gif"),href:"https://t.sih-db.com/promo?subid1=trade_window&subid2=csgofast".concat(e>1?e:""),key:"CSGOFAST",title:"CSGOFAST",partner:"csgofast",ignore:!1}}}},cH=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length?t[Math.round(100*Math.random())%t.length]:null},uH=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=!0,t.next=4,GR.msg.checkSubscribeForBlockAds.handler((function(t){t.success&&(n=!1),n&&S().then((function(t){var n=e.partner,o=e.place,i=(""!==t.lang?t.lang:x(),Math.round(-1*Math.random()+2)),a=sH(0,i)[n][o];Array.isArray(a)&&(a=cH(a)),a.img=chrome.runtime.getURL(a.img),r({success:!0,data:a})}))}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r({success:!1});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r){return t.apply(this,arguments)}}(),lH=function(){var t=pU(fU().mark((function t(e,r,n,o){var i;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.getPlayerItems(e,r,n);case 3:i=t.sent,o(i),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),o({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r,n,o){return t.apply(this,arguments)}}(),fH=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.getPlayerBans(e);case 3:n=t.sent,r({success:!Fs.Ay.isEmpty(n),data:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),hH=function(){var t=pU(fU().mark((function t(e,r,n,o){var i;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(e,"/inventory/json/").concat(r,"/").concat(n,"?i=4")});case 4:i=t.sent,o(i),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),o({success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r,n,o){return t.apply(this,arguments)}}(),pH=function(){var t=pU(fU().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p,d,v,m=arguments;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=m.length>0&&void 0!==m[0]?m[0]:null,r=m.length>1?m[1]:void 0,t.prev=2,t.next=5,Jc.getProfile();case 5:if(n=t.sent.data,o=Fs.Ay.getSteamID(n),i=[],a={},s=["730","570","440","252490","753"],c=[],e){t.next=28;break}if(null!==vU&&gU===o&&mU.lastParsing&&!(Date.now()-mU.lastParsing>=bU)){t.next=18;break}return gU=o,t.next=16,Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(o,"/inventory/")});case 16:vU=t.sent,mU.lastParsing=Date.now();case 18:return t.next=20,Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(o,"/")});case 20:return u=t.sent,l=Ps.A.Profile.originalProfileUrl(u,["originalProfileUrl"]),t.next=24,y.w.setLocal({CURRENT_PARSING_USER_URL:l});case 24:f=AU(vU).find("#games_list_public"),AU(f).find("a").each((function(t,e){var r=AU(e).attr("href").replace(/#/g,"").trim();i.push(r);var n=AU(e).find(".games_list_tab_name").text(),o=dH(n,r),s=AU(e).find(".games_list_tab_icon.item_desc_game_icon img").attr("src");a[r]={name:o,icon:s}})),t.next=29;break;case 28:i.push(e.activeAppID);case 29:s.forEach((function(t){i.includes(t)&&c.push(t)})),h=fU().mark((function t(){var n,i,s,c,u,l,f,h,v,m,g,b,w,E,x,S,_,A,T,L,k,O,I,N,P,C;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=d[p],u=[],l="",f={success:1,assets:[],descriptions:[],asset_properties:[],total_inventory_count:0,context_total_inventory_count:{},last_assetid:{}},e){t.next=24;break}h=0,v=730==+c?["2","16"]:[753==+c?"6":"2"];case 7:if(!(h<v.length)){t.next=22;break}return m=v[h],t.next=11,Fs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest"},method:"GET",url:"https://steamcommunity.com/inventory/".concat(o,"/").concat(c,"/").concat(m,"?l=english&count=1000"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:g=t.sent,f.assets=f.assets.concat(g.assets||[]),f.descriptions=f.descriptions.concat(g.descriptions||[]),f.asset_properties=f.asset_properties.concat(g.asset_properties||[]),f.total_inventory_count+=g.total_inventory_count||0,f.success=g.success,f.context_total_inventory_count[m]=g.total_inventory_count||0,f.last_assetid[m]=g.last_assetid||0;case 19:h++,t.next=7;break;case 22:t.next=25;break;case 24:f=e[c];case 25:null===(n=f.descriptions)||void 0===n||n.forEach((function(t,e){u.push(t.market_hash_name)})),b=0,w=730==+c?["2","16"]:[753==+c?"6":"2"];case 28:if(!(b<w.length)){t.next=48;break}if(S=w[b],null===(E=f)||void 0===E||null===(x=E.last_assetid)||void 0===x||!x[S]){t.next=45;break}l=f.last_assetid[S],_=Math.ceil(f.context_total_inventory_count[S]/1e3),_--,A=0;case 35:if(!(A<_)){t.next=45;break}return t.next=38,Fs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest"},method:"GET",url:"https://steamcommunity.com/inventory/".concat(o,"/").concat(c,"/").concat(S,"?l=english&count=1000&start_assetid=").concat(l),crossDomain:!0,xhrFields:{withCredentials:!0}});case 38:T=t.sent,AU(T.assets).each((function(t,e){f.assets.push(e)})),AU(T.descriptions).each((function(t,e){u.includes(e.market_hash_name)||(f.descriptions.push(e),u.push(e.market_hash_name))})),l=T.last_assetid;case 42:A++,t.next=35;break;case 45:b++,t.next=28;break;case 48:if(null!=e&&null!==(i=e[c])&&void 0!==i&&null!==(s=i.providers)&&void 0!==s&&s.length){t.next=65;break}t.t0=c,t.next="730"===t.t0?52:"440"===t.t0?54:"570"===t.t0?56:"252490"===t.t0?58:"753"===t.t0?60:62;break;case 52:return L=["steamLiveSell","csgocom","skinport","dmarket","bitskins","buff163","mannco"],t.abrupt("break",63);case 54:return L=["steamLiveSell","skinport","bitskins","dmarket","mannco"],t.abrupt("break",63);case 56:return L=["steamLiveSell","csgocom","skinport","dmarket","bitskins","mannco"],t.abrupt("break",63);case 58:return L=["steamLiveSell","dmarket","skinport","mannco"],t.abrupt("break",63);case 60:return L=["steamLiveSell"],t.abrupt("break",63);case 62:L=["steamLiveSell"];case 63:t.next=66;break;case 65:L=null==e||null===(k=e[c])||void 0===k?void 0:k.providers;case 66:if(O={appId:c,currency:1,items:u,markets:L,source:"inventory background"},e&&e.steamid===o){t.next=75;break}if(753!=+c){t.next=71;break}return t.next=71,yH(f.assets);case 71:return t.next=73,iH(O,function(){var t=pU(fU().mark((function t(n){var o,i,s,u,l,h,p,d,v,m;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!n.success){t.next=25;break}return o=0,AU(f.assets).each((function(t,r){AU(f.descriptions).each((function(t,i){if(r.classid===i.classid&&c&&n.items[i.market_hash_name]){r.classid=null;for(var a=0;a<L.length;a++)if(n.items[i.market_hash_name][L[a]]){var s=n.items[i.market_hash_name][L[a]].price;if(s&&s>=0){if(!(f.success||e&&(e.selfInventory||570==+c))){o+=s;break}if(i.owner_descriptions||i.marketable||i.tradable){o+=s;break}}}}}))})),t.next=5,y.w.get("steamCurrency");case 5:return i=t.sent,s=i.steamCurrency,t.next=9,y.w.get("currency");case 9:return u=t.sent,l=u.currency,h=l||s.eCurrencyCode||1,t.next=14,EH(o,h);case 14:return p=t.sent,t.next=17,y.w.getLocal("inventoryPrice");case 17:if(d=t.sent,v=d.inventoryPrice,(m=void 0===v?{}:v)[c]={price:p.price,code:p.code,symbol:p.symbol,symbolPosition:p.symbolPosition,total_inventory_count:f.total_inventory_count,info:a[c]},e){t.next=24;break}return t.next=24,y.w.setLocal({inventoryPrice:m});case 24:r&&r(uU(uU(uU({},c,m[c]),"payload",O),"response",n));case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 73:t.next=85;break;case 75:return t.next=77,y.w.getLocal("inventoryPrice");case 77:if(P=t.sent,C=P.inventoryPrice,!(null!=e&&null!==(I=e[c])&&void 0!==I&&null!==(N=I.providers)&&void 0!==N&&N.length||null!=e&&e.isTotalPriceAnotherService)){t.next=84;break}return t.next=82,iH(O,function(){var t=pU(fU().mark((function t(e){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.success?r(cU(cU({},C),{},{payload:O,response:e})):r(C);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 82:t.next=85;break;case 84:r(C);case 85:case"end":return t.stop()}}),t)})),p=0,d=c;case 32:if(!(p<d.length)){t.next=37;break}return t.delegateYield(h(),"t0",34);case 34:p++,t.next=32;break;case 37:t.next=44;break;case 39:t.prev=39,t.t1=t.catch(2),console.error(t.t1),(429===(v=t.t1.status)||v>=500)&&(mU.holdTs=Date.now()+288e5);case 44:case"end":return t.stop()}}),t,null,[[2,39]])})));return function(){return t.apply(this,arguments)}}(),dH=function(t,e){switch(e){case"730":t="CS2";break;case"578080":t="PUBG";break;case"440":t="TF2"}return t},yH=function(){var t=pU(fU().mark((function t(e){var r;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.reduce((function(t,e){return"667924416"===e.classid&&(t+=+e.amount),t}),0),t.next=3,y.w.setLocal({userGemsCount:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),vH=function(){var t=pU(fU().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jc.getProfile();case 3:if(e=t.sent.data,r=Fs.Ay.getSteamID(e),null!==vU&&gU===r||mU.lastParsing&&!(Date.now()-mU.lastParsing>=wU)||mU.holdTs&&!(Date.now()>mU.holdTs)){t.next=11;break}return gU=r,t.next=9,Fs.Ay.sendRequest({url:"https://steamcommunity.com/profiles/".concat(r,"/inventory/"),method:"GET"});case 9:vU=t.sent,mU.lastParsing=Date.now();case 11:return t.next=13,y.w.get("currency");case 13:return n=t.sent,o=n.currency,t.next=17,y.w.get("steamCurrency");case 17:return i=t.sent,a=i.steamCurrency,s=o||a.eCurrencyCode||1,c=Fs.Ay.getSteamBalance(vU),t.next=23,EH(c,a.eCurrencyCode,a.eCurrencyCode);case 23:return u=t.sent,t.next=26,y.w.setLocal({defaultUserCurrentBalance:u});case 26:return t.next=28,EH(c,s,a.eCurrencyCode);case 28:return l=t.sent,t.next=31,y.w.setLocal({userCurrentBalance:l});case 31:t.next=38;break;case 33:t.prev=33,t.t0=t.catch(0),(429===(f=t.t0.status)||f>=500)&&(mU.holdTs=Date.now()+288e5),t.t0;case 38:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(){return t.apply(this,arguments)}}(),mH=function(){var t=pU(fU().mark((function t(){var e,r,n,o,i=arguments;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:0,t.prev=1,r=100,t.next=5,Fs.Ay.apiRequest({method:"GET",url:"https://steamcommunity.com/market/mylistings",data:{start:e,count:r}});case 5:if(!(n=t.sent).success){t.next=18;break}if(o=n.total_count,xU+=n.results_html,!(e<1e3&&o>e+r)){t.next=16;break}return t.next=12,(0,Fs.yy)(2e3);case 12:return t.next=14,mH(e+r);case 14:t.next=18;break;case 16:SU=AU(AU.parseHTML("<div>".concat(xU,"</div>"))).find('#tabContentsMyActiveMarketListingsTable .market_listing_row[id^="mylisting_"]'),xU="";case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(1),t.t0,xU="",SU=null;case 25:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(){return t.apply(this,arguments)}}(),gH=function(){var t=pU(fU().mark((function t(){var e,r,n,o,i,a,s,c,u;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=0,r=RegExp(/([\d+?., ]+\d)/g),xU="",t.next=6,mH();case 6:if(SU){t.next=8;break}return t.abrupt("return");case 8:return AU(SU).find(".market_listing_price").children("span").each((function(t,n){var o=AU(n).find("span:last").text(),i=Number(o.match(r)[0].replace(/,/,".").replace(/ /,"").trim());isNaN(i)||(e+=i)})),SU=null,t.next=12,y.w.get("steamCurrency");case 12:return n=t.sent,o=n.steamCurrency,t.next=16,y.w.get("currency");case 16:return i=t.sent,a=i.currency,s=a||o.eCurrencyCode||1,t.next=21,EH(Number(e),o.eCurrencyCode,o.eCurrencyCode);case 21:return c=t.sent,t.next=24,y.w.setLocal({defaultActiveMarketLotsCoast:c});case 24:return t.next=26,EH(Number(e),s,o.eCurrencyCode);case 26:return u=t.sent,t.next=29,y.w.setLocal({activeMarketLotsCoast:u});case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(0),t.t0;case 34:case"end":return t.stop()}}),t,null,[[0,31]])})));return function(){return t.apply(this,arguments)}}(),bH=function(){var t=pU(fU().mark((function t(){var e,r,n,o,i,a;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jc.getProfile();case 3:if(e=t.sent.data,r=Fs.Ay.getSteamID(e),null!==vU&&gU===r||mU.lastParsing&&!(Date.now()-mU.lastParsing>=wU)||mU.holdTs&&!(Date.now()>mU.holdTs)){t.next=11;break}return gU=r,t.next=9,Fs.Ay.sendRequest({url:"https://steamcommunity.com/profiles/".concat(r,"/inventory/"),method:"GET"});case 9:vU=t.sent,mU.lastParsing=Date.now();case 11:return n=Fs.Ay.getSteamCurrencyNumber(vU),o=Ks.getCurrency(n),i=o.bSymbolIsPrefix?"before":"after",t.next=16,y.w.set({steamCurrency:{strCode:o.strCode,eCurrencyCode:o.eCurrencyCode,strSymbol:o.strSymbol,symbolPosition:i}});case 16:return t.abrupt("return",o);case 19:return t.prev=19,t.t0=t.catch(0),(429===(a=t.t0.status)||a>=500)&&(mU.holdTs=Date.now()+288e5),t.t0,t.abrupt("return",{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""});case 25:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(){return t.apply(this,arguments)}}(),wH=function(){var t=pU(fU().mark((function t(e,r){var n,o,i,a,s,c,u,l,f,h,p;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.walletCurrencyStepIncrement,o=e.walletCurrency,t.prev=1,s=Ks.getCurrency(o),c=s.bSymbolIsPrefix?"before":"after",t.next=6,y.w.set({steamCurrency:{strCode:s.strCode,eCurrencyCode:s.eCurrencyCode,strSymbol:s.strSymbol,symbolPosition:c}});case 6:return t.next=8,y.w.get("steamCurrencyCache");case 8:return u=t.sent,l=u.steamCurrencyCache,null!=(f=void 0===l?{}:l)&&f[o]&&null!=f&&null!==(i=f[o])&&void 0!==i&&i.defaultValue||(f[o]={walletCurrencyStepIncrement:n,defaultValue:-n}),t.next=14,y.w.set({steamCurrencyCache:f});case 14:if(null!=f&&null!==(a=f[o])&&void 0!==a&&a.currentValue){t.next=19;break}return t.next=17,y.w.set({fastdelta:-n});case 17:t.next=21;break;case 19:return t.next=21,y.w.set({fastdelta:f[o].currentValue});case 21:return t.next=23,y.w.get("fastdelta");case 23:h=t.sent,p=h.fastdelta,r({success:!0,fastdelta:p}),t.next=32;break;case 28:t.prev=28,t.t0=t.catch(1),console.error(t.t0),r({success:!1});case 32:case"end":return t.stop()}}),t,null,[[1,28]])})));return function(e,r){return t.apply(this,arguments)}}(),EH=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise((function(n,o){Ks.getPriceFromCurrency(t,e,r).then((function(t){if(t.price>=0){var e={price:t.price.toFixed(2),code:t.code,symbol:t.symbol,symbolPosition:t.symbolPosition};n(e)}}))}))},xH=function(){var t=pU(fU().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/market/myhistory?count=500&start=0"});case 2:return e=t.sent,r=[],n=[],o=null,i=null,a=null,s=0,c=[],t.next=12,y.w.get("steamCurrency");case 12:u=t.sent,l=u.steamCurrency,f=e.hovers.replace(/[\t\n]/g,"").split(";"),e.results_html&&(AU(e.results_html).find(".market_listing_row").each((function(t,u){var h=AU(u).find(".market_listing_item_name").attr("id");if(!h.includes("_event_")&&s<10){s++;var p=AU(u).find(".market_listing_item_img").attr("src"),d=AU(u).find(".market_listing_item_name").text(),y=AU(u).find(".market_listing_game_name").text(),v=AU(u).find(".market_listing_gainorloss").text().replace(/[\t\n]/g,""),m=AU(u).find(".playerAvatar").children().children().attr("src"),g=AU(u).find(".market_listing_price").text();g&&(g=g.match(/([\d+?., ]+\d)/g))&&g[0].includes(",")&&(g=g[0].replace(/,/,".").replace(/ /,"").trim());var b=AU(u).find(".market_listing_whoactedwith_name_block").text(),w=null,E=f.filter((function(t){return t.includes(h)}));if(E.length){var x=E[0].split(",")[2].replace(/['\s]/g,""),S=E[0].split(",")[3].replace(/['\s]/g,""),_=E[0].split(",")[4].replace(/['\s]/g,"");w=e.assets[x][S][_]?e.assets[x][S][_].market_hash_name:null}c.push(Ks.getPriceFromCurrency(Number(g),l.eCurrencyCode,l.eCurrencyCode).then((function(t){AU(u).find(".market_listing_listed_date").each((function(t,e){var r=AU(e).text();r&&(r=r.replace(/[\t\n]/g,""),0===t?i=r:a=r)})),i!==o&&n.length&&n.length>0&&(r.push({date:o,items:n}),n=[]),o=i,t.price>0&&(g={price:t.price.toFixed(2),code:t.code,symbol:t.symbol,symbolPosition:t.symbolPosition},n.push({postedDate:a,name:_H(d),price:g,img:p,gameName:y,info:SH(w),type:v,participant:b,playerAvatar:m}))})))}})),Promise.all(c).then(pU(fU().mark((function t(){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s<=10&&r.length<10&&r.push({date:o,items:n}),t.next=3,y.w.setLocal({historyMarketLots:r});case 3:case"end":return t.stop()}}),t)})))));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),SH=function(t){var e=EU.filter((function(e){return t.includes(e.wearFull)})),r=t.includes("StatTrakâ„¢");return e.length?cU(cU({},e[0]),{},{name:t,stattrak:r}):null},_H=function(t){var e=t,r=EU.filter((function(t){return e.includes(t.wearFull)}));return e=r.length?e.replace(r[0].wearFull,""):e.replace(/StatTrakâ„¢/g,"")},AH=function(){var t=pU(fU().mark((function t(e,r,n,o){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({method:"POST",url:o,data:{json:1,xml:1,action:"approvePending",itype:"friend",perform:r,id:e,sessionID:n}});case 3:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r,n,o){return t.apply(this,arguments)}}(),TH=function(){var t=pU(fU().mark((function t(e){var r,n,o,i,a,s,c,u,l,f,h,p;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.ignorefriend>0||e.blockfriend>0||e.privateblock||e.privateignore)){t.next=19;break}return t.next=3,Fs.Ay.sendRequest({method:"GET",url:"https:".concat(e.userUrl,"home/invites/")});case 3:for(r=t.sent,n=Fs.Ay.getSessionID(r),o=(o=dU.exec(r))?o[1]:"https:".concat(e.userUrl,"home_process"),i=[],a=e.ignoredfriends,s=e.blockedfriends,AU(r).find(".invite_row").each((function(t,r){var c=AU(r).find(".linkTitle").data("miniprofile");if(void 0!==c){var u=Gs().to64(c),l=parseInt(AU(r).find(".friendPlayerLevelNum").text(),10);e.blockfriend>l?(AH(u,"block",n,o),s+=1):e.ignorefriend>l?(AH(u,"ignore",n,o),a+=1):(e.privateblock||e.privateignore)&&i.push(u)}})),c=Math.ceil(i.length/100),u=[],l=0;l<c;l+=1)f=i.slice(100*l,100*(l+1)),u.push(Fs.Ay.getPlayerSummaries(f.join(",")));return t.next=15,Promise.all(u);case 15:h=t.sent,null!==(p=h.reduce((function(t,e){return cU(cU({},t),e)}),{}))&&Object.keys(p).forEach((function(t){var r=p[t];1===Number(r.communityvisibilitystate)&&(e.privateblock?(AH(t,"block",n,o),s+=1):(AH(t,"ignore",n,o),a+=1),y.w.set({ignoredfriends:a,blockedfriends:s}))})),y.w.set({ignoredfriends:a,blockedfriends:s});case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),LH=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=e.items[0],e.source="other marketplaces",iH(e,function(){var t=pU(fU().mark((function t(e){var o,i,a,s,c,u,l,f,h,p;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.items[n]){t.next=21;break}return o=[],t.next=4,y.w.get("currency");case 4:i=t.sent,a=i.currency,s=0,c=Object.entries(e.items[n]);case 7:if(!(s<c.length)){t.next=18;break}if(u=nU(c[s],2),l=u[0],!(f=u[1]).price){t.next=15;break}return t.next=12,Ks.getPriceFromCurrency(f.price,a||1,1);case 12:h=t.sent,p=h.text,o.push({name:l,price:f.price,priceText:p,count:f.count});case 15:s++,t.next=7;break;case 18:r(o),t.next=22;break;case 21:r({success:!1});case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(t){r({success:!1})}case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),kH=function(){var t=pU(fU().mark((function t(e,r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fs.Ay.apiRequest({method:"POST",url:"".concat(Fs.zg,"/get-prices"),data:e});case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),OH=function(){var t=pU(fU().mark((function t(e){var r,n,o;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jc.getProfile();case 3:r=t.sent.data,n=Ps.A.Profile.parse(r,["country"]),o=n.country,e(o?{success:!0,country:o}:{success:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),IH=function(){var t=pU(fU().mark((function t(e){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Math.random().toString(36).substr(2));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),NH=function(){var t=pU(fU().mark((function t(){var e,r,n,o,i,a,s,c,u,l,f,h,p,d,v,m,g,b,w,E,S,_,A,T,L,k,O,I,N,P=arguments;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=P.length>0&&void 0!==P[0]?P[0]:null,r=P.length>1&&void 0!==P[1]?P[1]:null,n=P.length>2?P[2]:void 0,t.prev=3,t.next=6,y.w.get(Ns.Ay);case 6:if(o=t.sent,r){t.next=13;break}return t.next=10,Jc.getProfile(!0);case 10:t.t0=t.sent.data,t.next=16;break;case 13:return t.next=15,Jc.getProfile(!1,r);case 15:t.t0=t.sent.data;case 16:if(i=t.t0,""!==o.lang){t.next=21;break}return a=x(),t.next=21,y.w.set({lang:a});case 21:if(i){t.next=23;break}return t.abrupt("return");case 23:return s=Ps.A.Profile.parse(i,["steamId","isLoginPage","haveNewComments","haveNewInvites","avatarSrcArr","nickname","sessionId","webApiToken"]),c=s.steamId,u=s.isLoginPage,l=s.haveNewComments,f=s.haveNewInvites,h=s.avatarSrcArr,p=s.nickname,d=s.sessionId,v=s.webApiToken,m=Ps.A.Profile.userUrl(i,{steamId:c}),g=Ps.A.Profile.originalProfileUrl(i),t.next=28,y.w.getLocal("userInfo");case 28:if(b=t.sent,w=b.userInfo,E=m.replace(/https:/,""),o.userUrl===E&&null!==o.userUrl&&"//steamcommunity.com/my/"!==o.userUrl){t.next=34;break}return t.next=34,y.w.set({userUrl:E});case 34:if(o.originalProfileUrl===g&&o.originalProfileUrl){t.next=37;break}return t.next=37,y.w.set({originalProfileUrl:g});case 37:if(o.webApiToken&&o.webApiToken===v){t.next=40;break}return t.next=40,y.w.set({webApiToken:v});case 40:if(w&&(!c||w.steamId===c)){t.next=57;break}return t.next=43,Jd.logout();case 43:return t.next=45,DH();case 45:return t.next=47,CH();case 47:return t.next=49,y.w.set({projects_permissions:{}});case 49:return t.next=51,y.w.setLocal({userInfo:{authorization:!u,frames:h.length>1?h[0]:null,avatar:h.length>1?h[1]:h[0],name:p,sessionId:d,steamId:c,ts:Date.now(),tradeLink:void 0}});case 51:return t.next=53,self.setGlobalRates();case 53:return t.next=55,self.setSteamRates();case 55:return t.next=57,QS.restartAgent();case 57:if(!w||!c||w.steamId===c||u){t.next=60;break}return t.next=60,RH();case 60:if(!i||u){t.next=96;break}return t.next=63,y.w.getLocal("userInfo");case 63:return S=t.sent,(_=S.userInfo).authorization=!u,_.sessionId=d,_.name=p,_.frames=h.length>1?h[0]:null,_.avatar=h.length>1?h[1]:h[0],t.next=72,y.w.setLocal({userInfo:_});case 72:if(_.tradeLink){t.next=75;break}return t.next=75,Jd.setTradeLinkToProfile();case 75:return t.next=77,Au.getSihAppUserJWTToken();case 77:return A=t.sent,t.next=80,Au.getSihAppUserToken();case 80:if(T=t.sent,Object.keys(A).length&&!(A.expires_ts-Date.now()<0)||!T){t.next=84;break}return t.next=84,Jd.setJWTToken();case 84:return o.shownotify_comment&&l&&js.nofMsg(Is.A.notification.INPUT_COMMENT,"You have new comments."),o.shownotify_friend&&f&&js.nofMsg(Is.A.notification.INPUT_INVITE,"You have new friends invites."),t.next=88,QS.updateState(!!r);case 88:if(!e){t.next=91;break}return t.next=91,e();case 91:if(!n){t.next=94;break}return t.next=94,n({success:!0});case 94:t.next=107;break;case 96:if(!u){t.next=107;break}return t.next=99,y.w.getLocal("userInfo");case 99:return L=t.sent,(k=L.userInfo).authorization=!u,t.next=104,y.w.setLocal({userInfo:k});case 104:if(!n){t.next=107;break}return t.next=107,n({success:!1});case 107:t.next=123;break;case 109:return t.prev=109,t.t1=t.catch(3),t.next=113,y.w.getLocal("userInfo");case 113:return O=t.sent,I=O.userInfo,(N=void 0===I?{}:I).authorization=!1,t.next=119,y.w.setLocal({userInfo:N});case 119:if(!n){t.next=122;break}return t.next=122,n({success:!1});case 122:console.error(t.t1);case 123:case"end":return t.stop()}}),t,null,[[3,109]])})));return function(){return t.apply(this,arguments)}}(),PH=function(){var t=pU(fU().mark((function t(){var e,r=arguments;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=r.length>0&&void 0!==r[0]?r[0]:3e3;try{setTimeout(pU(fU().mark((function t(){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,NH();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),e)}catch(t){}case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),CH=function(){var t=pU(fU().mark((function t(){var e,r;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Ks.getCurrency(1),r=e.bSymbolIsPrefix?"before":"after",t.next=4,y.w.set({steamCurrency:{strCode:e.strCode,eCurrencyCode:e.eCurrencyCode,strSymbol:e.strSymbol,symbolPosition:r}});case 4:return t.next=6,y.w.set({selectedCurrency:null});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),DH=function(){var t=pU(fU().mark((function t(){var e;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=["userInfo","sihversion","latestver","bookmarks","skipversion","server","graphdata","lastIdx","totalRows","totalminus","totalplus","INVENTORY_PARSING_INFO","AVAILABLE_CONTROLLER_LAST_NUMBER_IDS","AVAILABLE_ITEM_PAY_IDS","CACHED_TRADES_PAGE_INFO","sihAppCoreToken","SIH_FEATURES_MENU","SIH_CASES","CS_OPENING_CASE_STATS"].concat(["sihAdStat","activeMarketLotsCoast","userCurrentBalance","USER_INVENTORY_URL","userSteamPrice","as_steamId","sihEventReg","CURRENT_PARSING_USER_URL","userSteamPriceDelay"]),chrome.storage.local.get(null,function(){var t=pU(fU().mark((function t(r){var n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.keys(r).filter((function(t){return!e.includes(t)})),t.next=3,chrome.storage.local.remove(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),RH=function(){var t=pU(fU().mark((function t(){var e,r,n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bH();case 3:return t.next=5,vH();case 5:xH(),pH(),gH(),rH(),e=0,r=["tradeoffers","tradeoffers/?history=1","tradeoffers/sent","tradeoffers/sent/?history=1"];case 11:if(!(e<r.length)){t.next=18;break}return n=r[e],t.next=15,hm.buildTradesInfoForWindow(n);case 15:e++,t.next=11;break;case 18:y.w.get(Ns.Ay).then((function(t){TH(t)})),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),console.error(t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(){return t.apply(this,arguments)}}(),jH=function(t,e){t.numbers,e.name,chrome.action.setBadgeText({text:t.numbers?"".concat(t.numbers):""}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"})},FH=function(t,e,r){switch(t.type){case yj.get.code:yj.get.handler(t.data,r);break;case NN.get.code:NN.get.handler(t.data,r);break;case yB.set.code:yB.set.handler(t.data,r);break;case aB.get.code:aB.get.handler(t.data,r);break;case Is.A.msg.BACKGROUND_GET_STEAM_REP_BAN_INFO:TU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_PLAYER_BANS_GAINSKINS:LU(t.data,r);break;case Is.A.msg.BACKGROUND_INVENTORY_MODE:ZU(t.data);break;case Is.A.msg.BACKGROUND_INVENTORY_PRICE:pH(t.data,r);break;case Is.A.msg.BACKGROUND_HIGHLIGHT_OVERPRICED:case Is.A.msg.BACKGROUND_HIGHLIGHT_OVERPRICED:case Is.A.msg.BACKGROUND_HIGHLIGHT_OVERPRICED:tH(t.data);break;case Is.A.msg.BACKGROUND_GET_EXTPRICES:GU(t.data,r);break;case yB.get.code:yB.get.handler(t.data,r);break;case Rj.set.code:Rj.set.handler(t.data);break;case Is.A.msg.BACKGROUND_GET_EXTPRICE_TF2BP:MU(r);break;case Is.A.msg.BACKGROUND_GET_STEAM_PRICES:kU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_PRICE_FROM_STEAM:IU(t.data,r);break;case Is.A.msg.BACKGROUND_SEND_MARKETPLACE_FEEDBACK:PU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_MANIFEST_APP:OU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_MARKETPLACES:CU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_PRICES_BY_MARKETPLACES:iH(t.data,r);break;case Is.A.msg.BACKGROUND_GET_WEAPON_WEAR_MAP:aH(t.data,r);break;case Is.A.msg.BACKGROUND_GET_STEAM_RUNES:NU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_SKINS_GIVEAWAY:FU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_INVENTORY_VALUE:UU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_INVENTORY_ITEMS:hH(t.steamid,t.appid,t.contextid,r);break;case Is.A.msg.BACKGROUND_GET_BANNER:uH(t.data,r);break;case Is.A.msg.BACKGROUND_GET_PLAYER_ITEMS:lH(t.steamid,t.appid,t.g_wapit,r);break;case Is.A.msg.BACKGROUND_GET_PLAYER_BANS:fH(t.steamids,r);break;case xA.set.code:xA.set.handler(t.data);break;case dL.set.code:dL.set.handler(t.data);break;case Is.A.msg.BACKGROUND_UPDATE_BOOKMARKS:HU(t.data,r);break;case Is.A.msg.BACKGROUND_REMOVE_BOOKMARK:qU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_STEAM_PLAYER_BADGES:DU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_STEAM_PLAYER_AVAILABLE_CARDS:jU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_STEAM_BADGES:RU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_LISTING_ITEM_INFO:BU(t.data,r);break;case Is.A.msg.BACKGROUND_CHANGE_CURRENCY:YU(t.data,r);break;case Is.A.msg.BACKGROUND_OPEN_TAB_SETTINGS:VU(t.data);break;case Is.A.msg.BACKGROUND_GET_MY_STEAM_ID:KU(r);break;case Is.A.msg.BACKGROUND_UPDATE_WALLET:QU(r);break;case Is.A.msg.BACKGROUND_MANUAL_LOGIN:Jc.refreshSteamLoginSecure();break;case Is.A.msg.BACKGROUND_ON_LOGOUT_STEAM_USER:PH(t.data);break;case LA.get.code:LA.get.handler(t.data,r);break;case Hj.sendInstall.code:Hj.sendInstall.handler(t.data,r);break;case Is.A.msg.BACKGROUND_CHECK_USER:NH(null,t.data,r);break;case Is.A.msg.BACKGROUND_UPDATE_USER_SORT_MARKET:zU(t.data,r);break;case Is.A.msg.BACKGROUND_LOGIN_SIH_APP:WU().then((function(t){r(t)}));break;case Is.A.msg.BACKGROUND_GET_ORDER_HISTOGRAM:XU(t.data,r);break;case Is.A.msg.BACKGROUND_GET_SIH_TOKEN:n=r,chrome.storage.sync.get({sih_token:""},(function(t){var e=t.sih_token;return n(e||FALSE)}));break;case Is.A.msg.BACKGROUND_GET_SIH_APP_TOKEN:eH(r);break;case Is.A.msg.BACKGROUND_GET_PRICES_FOR_EXTERNAL:LH(t.data,r);break;case Is.A.msg.BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES:kH(t.data,r);break;case Is.A.msg.BACKGROUND_GET_CURRENT_USER_COUNTRY_CODE:OH(r);break;case"BACKGROUND_GET_SIH_ID":r(chrome.runtime.id);break;case"BACKGROUND_GET_EXTERNAL_TOKEN":IH(r);break;case"BACKGROUND_GET_FREE_REWARD_ITEMS":pu.getRewardsForSiteExt(r);break;case"BACKGROUND_REDEEM_POINTS":pu.redeemPointsForSiteExt(t.data,r);break;case"BACKGROUND_UPDATE_STEAM_CURRENCY_STEP":wH(t.data,r)}var n;return!0},BH=function(){return function(t,e,r){return e&&rU(t.prototype,e),r&&rU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),null,[{key:"refresh",value:(e=pU(fU().mark((function t(){var e,r,n,o,i,a;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.lastRefreshedAt&&Date.now()-this.lastRefreshedAt+100<this.DELAY)){t.next=3;break}return t.abrupt("return");case 3:return this.lastRefreshedAt=Date.now(),t.next=6,this.checkSteamAuthorization();case 6:return e=t.sent,r=e.success,n=e.steamId,t.next=11,y.w.getLocal("".concat(this.STEAM_ID_KEY));case 11:if(t.t0=this.STEAM_ID_KEY,o=t.sent[t.t0],i=o&&o.length,a=n&&n.length,r&&a){t.next=20;break}return t.next=18,y.w.setLocal(uU({},this.STEAM_ID_KEY,""));case 18:t.next=22;break;case 20:return t.next=22,y.w.setLocal(uU({},this.STEAM_ID_KEY,n));case 22:if(!i||(!a||n===o)&&a){t.next=27;break}return t.next=25,y.w.setLocal(uU({},this.AGENTS_STATE_CHANGED_KEY,"".concat(Date.now())));case 25:t.next=29;break;case 27:return t.next=29,chrome.storage.local.remove([this.AGENTS_STATE_CHANGED_KEY]);case 29:t.next=36;break;case 31:return t.prev=31,t.t1=t.catch(0),console.error(t.t1),t.next=36,y.w.setLocal(uU({},this.STEAM_ID_KEY,""));case 36:case"end":return t.stop()}}),t,this,[[0,31]])}))),function(){return e.apply(this,arguments)})},{key:"isEnabled",value:(t=pU(fU().mark((function t(){var e;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("".concat(this.STEAM_ID_KEY));case 2:return t.t0=this.STEAM_ID_KEY,e=t.sent[t.t0],t.abrupt("return",!(!e||!e.length));case 5:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"restartNeeded",value:function(){var t=pU(fU().mark((function t(){var e;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.isEnabled();case 2:if(!t.sent){t.next=10;break}return t.next=5,y.w.getLocal("".concat(this.AGENTS_STATE_CHANGED_KEY));case 5:if(t.t0=this.AGENTS_STATE_CHANGED_KEY,null!==(e=t.sent[t.t0])){t.next=9;break}return t.abrupt("return",!1);case 9:return t.abrupt("return",Date.now()-(+e||0)>=this.DELAY);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]);var t,e}();uU(BH,"STEAM_ID_KEY","as_steamId"),uU(BH,"AGENTS_STATE_CHANGED_KEY","as_agentsStateChangedAt"),uU(BH,"DELAY",12e4),uU(BH,"lastRefreshedAt",void 0),uU(BH,"checkSteamAuthorization",pU(fU().mark((function t(){var e,r,n,o;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jc.getProfile();case 3:if(e=t.sent.data,r=Ps.A.Profile.parse(e,["steamId","isLoginPage"]),n=r.steamId,o=r.isLoginPage,!e||o){t.next=9;break}if(n){t.next=8;break}return t.abrupt("return",{success:!1});case 8:return t.abrupt("return",{success:!0,steamId:n});case 9:return t.abrupt("return",!1);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))));var GH=function(){var t=pU(fU().mark((function t(e){var r,n,o;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.name,t.t0=e.name,t.next=t.t0===Is.A.alarm.CHECK_USER?4:t.t0===xA.send.code?9:t.t0===dL.send.code?11:t.t0===Rj.send.code?13:t.t0===wF.get.code?15:t.t0===Is.A.alarm.UPDATE_SIH_APP_AUTH?17:t.t0===Is.A.alarm.PING_SIH_APP_SESSION?19:t.t0===Is.A.alarm.ACTUALIZE_AGENTS_STATE?21:t.t0===Is.A.alarm.ACTUALIZE_NEW_SIH_AGENT_STATE?22:t.t0===Is.A.alarm.CHECK_HISTORY_LOTS_MARKET?24:t.t0===Is.A.alarm.PARSING_ACTUAL_INVENTORY?26:t.t0===Is.A.alarm.CHECK_ACTUAL_BALANCE?28:t.t0===Is.A.alarm.CHECK_ACTIVE_LOTS_MARKET?30:t.t0===Is.A.alarm.GET_STEAM_CURRENCY?32:t.t0===Is.A.alarm.UPDATE_PRICE_BOOKMARKS?34:t.t0===yR.alarm.createBuyOrder.code?36:t.t0===yR.alarm.updateOrdersHistory.code?38:t.t0===GR.alarm.updateSubscribeAdsPlansAndMethods.code?40:"BACKGROUND_CHECK_MARKETAPP_EXTENSION"===t.t0?42:"BACKGROUND_SCAN_FREE_REWARDS_ITEMS"===t.t0?48:50;break;case 4:return t.next=6,Jc.getProfile();case 6:return r=t.sent.ts,Date.now()-r>=wU&&NH(),t.abrupt("break",52);case 9:return xA.send.handler(),t.abrupt("break",52);case 11:return dL.send.handler(),t.abrupt("break",52);case 13:return Rj.send.handler(),t.abrupt("break",52);case 15:return wF.get.handler(),t.abrupt("break",52);case 17:return WU(),t.abrupt("break",52);case 19:return y.w.getLocal("userInfo").then(function(){var t=pU(fU().mark((function t(e){var r;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.userInfo.authorization){t.next=6;break}if(!(r=Au.sihAppUserProfile)||!r.success){t.next=6;break}return t.next=6,Jd.pingUser();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("break",52);case 21:return t.abrupt("break",52);case 22:return y.w.getLocal({userInfo:{}}).then(function(){var t=pU(fU().mark((function t(e){var r,n,o,i;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.userInfo,t.next=3,y.w.getLocal({AVAILABLE_CONTROLLER_LAST_NUMBER_IDS:[]});case 3:if(n=t.sent,o=n.AVAILABLE_CONTROLLER_LAST_NUMBER_IDS,i=r&&r.steamId?+r.steamId[r.steamId.length-1]:null,!o.includes(i)){t.next=9;break}return t.next=9,y.w.set({sih_app_market_toggle:!0});case 9:return t.next=11,QS.updateState();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("break",52);case 24:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&xH()})),t.abrupt("break",52);case 26:return y.w.getLocal("userInfo").then(function(){var t=pU(fU().mark((function t(e){var r,n,o;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.userInfo,t.next=3,y.w.getLocal({INVENTORY_PARSING_INFO:null});case 3:n=t.sent,(!(o=n.INVENTORY_PARSING_INFO)||o&&!o.isAFK)&&r.authorization&&pH();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("break",52);case 28:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&vH()})),t.abrupt("break",52);case 30:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&gH()})),t.abrupt("break",52);case 32:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&bH()})),t.abrupt("break",52);case 34:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&rH()})),t.abrupt("break",52);case 36:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&yR.alarm.createBuyOrder.handler()})),t.abrupt("break",52);case 38:return yR.alarm.updateOrdersHistory.handler().then(function(){var t=pU(fU().mark((function t(e){var r;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e||!e.success){t.next=8;break}if(!(r=e.orders.data.filter((function(t){return"sent"===t.status})))||!r.length){t.next=8;break}return t.next=6,hm.parseTrades("tradeoffers",!0);case 6:return t.next=8,hm.buildTradesInfoForWindow("tradeoffers");case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("break",52);case 40:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&GR.alarm.updateSubscribeAdsPlansAndMethods.handler()})),t.abrupt("break",52);case 42:return t.next=44,y.w.get("marketAppExtension");case 44:return n=t.sent,(o=n.marketAppExtension)&&o.informed||chrome.management.getAll((function(t){t.forEach((function(t){"pbeheebcldakpkohnellphloljkaanfa"===t.id&&t.enabled&&(y.w.set({marketAppExtension:{enabled:!0}}),chrome.action.setBadgeText({text:"!"}),chrome.action.setBadgeBackgroundColor({color:"#ffcc00"}))}))})),t.abrupt("break",52);case 48:return pu.scanFreeRewardItems(),t.abrupt("break",52);case 50:return y.w.get(Ns.Ay).then((function(t){TH(t)})),t.abrupt("break",52);case 52:return t.abrupt("return",!0);case 53:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),MH=function(){var t=pU(fU().mark((function t(e){var r;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get(["userUrl"]);case 2:r=t.sent,t.t0=e,t.next=t.t0===Is.A.notification.EXTENSION_UPDATED?7:t.t0===Is.A.notification.INPUT_INVITE?9:t.t0===Is.A.notification.INPUT_COMMENT?11:t.t0===Is.A.notification.INPUT_OFFER?13:t.t0===Is.A.notification.OUTPUT_OFFER?15:t.t0===Is.A.notification.AVAILABLE_FREE_REWARDS?17:19;break;case 7:return chrome.tabs.create({url:"https://steamcommunity.com/groups/SteamInventoryHelper#announcements"}),t.abrupt("break",21);case 9:return chrome.tabs.create({url:"http:".concat(r.userUrl,"home/invites/")}),t.abrupt("break",21);case 11:return chrome.tabs.create({url:"https:".concat(r.userUrl,"commentnotifications/")}),t.abrupt("break",21);case 13:return chrome.tabs.create({url:"https:".concat(r.userUrl,"tradeoffers/")}),t.abrupt("break",21);case 15:return chrome.tabs.create({url:"https:".concat(r.userUrl,"tradeoffers/sent/")}),t.abrupt("break",21);case 17:return chrome.tabs.create({url:"https://store.steampowered.com/points/shop/"}),t.abrupt("break",21);case 19:return chrome.tabs.create({url:"https://steamcommunity.com/tradeoffer/".concat(e.substring(3),"/")}),t.abrupt("break",21);case 21:return chrome.notifications.clear(e),t.abrupt("return",!0);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),UH=function(){var t=pU(fU().mark((function t(e,r){var n,o,i,a,s,c;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=t.t0===Is.A.notification.AVAILABLE_FREE_REWARDS?3:t.t0===BN.notifications[e]?5:20;break;case 3:return 0===r?chrome.tabs.create({url:"https://store.steampowered.com/points/shop/"}):1===r&&y.w.set({free_reward_items_notification:!1}),t.abrupt("break",20);case 5:return t.next=7,Pc.getTimeOffset();case 7:if(n=t.sent,o=n.offset,i=Pc.time(o),a=BN.notifications[e],s=a.conf,c=a.account,0!==r){t.next=16;break}return t.next=14,$C.sendConfirmation(s,"allow",c,i);case 14:t.next=19;break;case 16:if(1!==r){t.next=19;break}return t.next=19,$C.sendConfirmation(s,"cancel",c,i);case 19:return t.abrupt("break",20);case 20:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),HH=function(){var t=pU(fU().mark((function t(e){var r,n,o,i,a,s,c,u,l;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.previousVersion,"install"!==(n=e.reason)){t.next=13;break}return o=(0,Fs.lV)(),t.next=5,y.w.set(Ns.Ay);case 5:return y.w.getLocal({skipversion:null}).then((function(t){(0,Fs.eL)(t.skipversion)||(chrome.action.setBadgeText({text:"new"}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"}))})),t.next=8,y.w.setLocal({sihversion:o});case 8:return chrome.storage.sync.get("sih_token",(function(t){t.sih_token||chrome.storage.sync.set({sih_token:$G(16)})})),t.next=11,y.w.setLocal({bookmarks:{}});case 11:t.next=60;break;case 13:if("update"!==n){t.next=60;break}return chrome.storage.sync.remove("apikey"),chrome.storage.sync.remove("parsingTimeFloatMarketHashName"),chrome.storage.local.remove("cachedFreeSteamRewardItems"),t.next=19,y.w.setLocal({userMicroStats:[]});case 19:return y.w.get({bookmarks:null,resultnumber:null}).then(function(){var t=pU(fU().mark((function t(e){var r,n;return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Is.A.AVAILABLE_MARKET_LISTING_NUMBER_PRESETS.includes(+e.resultnumber||null)){t.next=4;break}return t.next=4,y.w.set({resultnumber:"10"});case 4:if(!e.bookmarks){t.next=9;break}chrome.storage.local.set({bookmarks:e.bookmarks}),chrome.storage.sync.remove("bookmarks"),t.next=20;break;case 9:return t.next=11,y.w.getLocal("bookmarks");case 11:if(r=t.sent,(n=r.bookmarks)&&0!==Object.keys(n).length){t.next=18;break}return t.next=16,y.w.setLocal({bookmarks:{}});case 16:t.next=20;break;case 18:return t.next=20,y.w.setLocal({bookmarks:n});case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=22,y.w.get();case 22:return i=t.sent,a=function(){var t=pU(fU().mark((function t(e,r){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==i[e]){t.next=3;break}return t.next=3,y.w.set(uU({},e,r));case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),t.next=26,a("autoaccept_sih_app",!0);case 26:return t.next=28,a("user_inventory_parsing",!0);case 28:return t.next=30,a("user_inventory_parsing_changed",!1);case 30:return t.next=32,a("consent_tos",!0);case 32:return t.next=34,a("consent_tos_changed",!1);case 34:return t.next=36,a("projects_permissions",{});case 36:return t.next=38,a("tradeoffers_rate_limit",!1);case 38:return t.next=40,a("originalProfileUrl","");case 40:return t.next=42,a("is_available_trade_web_api",!1);case 42:return t.next=44,a("disabled_sih_features_menu",!1);case 44:return t.next=46,zU();case 46:return s=(0,Fs.lV)(),t.next=49,y.w.setLocal({sihversion:s});case 49:return t.next=51,y.w.get({enabled_sih_update_notification:Ns.Ay.enabled_sih_update_notification});case 51:return c=t.sent,u=c.enabled_sih_update_notification,chrome.storage.local.remove("skipversion"),chrome.storage.sync.remove("connectedController"),chrome.action.setBadgeText({text:"new"}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"}),!(0,Fs.eL)(r)&&u&&(l={type:"basic",title:"Steam inventory helper",message:"Extension is updated from version ".concat(r," to version ").concat(chrome.runtime.getManifest().version,", click here to check the changelogs"),iconUrl:"assets/icon128.png"},chrome.notifications.create(Is.A.notification.EXTENSION_UPDATED,l)),t.next=60,_C.addNewPropInCurrentManifest("auto_confirm_market_purchase",!1);case 60:return t.next=62,self.setGlobalRates();case 62:return t.next=64,self.setSteamRates();case 64:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),qH=function(){var t=pU(fU().mark((function t(){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rc.removeAllRules();case 2:return $L.handler(),t.next=5,WU(RH);case 5:return t.next=7,gG.updateAllOrders();case 7:return t.next=9,gG.processPendingOrders();case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),VH=function(t){switch(t.name){case Is.A.msg.BACKGROUND_SET_TRADEOFFER_NUMBERS:t.onMessage.addListener(jH);break;case xA.set.code:t.onMessage.addListener((function(t){return xA.set.handler(t)}));break;case"WHITEMARKET_CONTENT_SCRIPT_CONNECTION":chrome.webRequest.onBeforeRequest.addListener((function(e){try{var r=JSON.parse(new TextDecoder("utf-8").decode(e.requestBody.raw[0].bytes));t.postMessage(cU({},r))}catch(t){console.error("Integration on whitemarket error",t)}}),{urls:["https://api.white.market/graphql/api"]},["requestBody"])}},KH=function(t){y.w.setLocal({needUpdateSIH:!0})},YH=function(){var t=pU(fU().mark((function t(e){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"https://store.steampowered.com"===e.initiator&&setTimeout(pU(fU().mark((function t(){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,WU();case 2:case"end":return t.stop()}}),t)}))),3e3);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),WH=function(){var t=pU(fU().mark((function t(e){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.initiator==="chrome-extension://".concat(chrome.runtime.id)&&setTimeout(pU(fU().mark((function t(){return fU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,NH();case 2:case"end":return t.stop()}}),t)}))),3e3);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();qH(),chrome.alarms.create(Is.A.alarm.MAIN,{delayInMinutes:1,periodInMinutes:5}),chrome.alarms.create(xA.send.code,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(dL.send.code,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Rj.send.code,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(wF.get.code,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Is.A.alarm.UPDATE_SIH_APP_AUTH,{delayInMinutes:1,periodInMinutes:5}),chrome.alarms.create(Is.A.alarm.PING_SIH_APP_SESSION,{delayInMinutes:1,periodInMinutes:15}),chrome.alarms.create(Is.A.alarm.BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Is.A.alarm.BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Is.A.alarm.CHECK_MARKET_AUTOACCEPT_TRADES_TOGGLE,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Is.A.alarm.ACTUALIZE_AGENTS_STATE,{delayInMinutes:1,periodInMinutes:2}),chrome.alarms.create(Is.A.alarm.ACTUALIZE_NEW_SIH_AGENT_STATE,{delayInMinutes:1.1,periodInMinutes:1.1}),chrome.alarms.create(Is.A.alarm.UPDATE_PRICE_BOOKMARKS,{delayInMinutes:1,periodInMinutes:30}),chrome.alarms.create(GR.alarm.updateSubscribeAdsPlansAndMethods.code,{delayInMinutes:1,periodInMinutes:60}),chrome.alarms.create(Is.A.alarm.PARSING_ACTUAL_INVENTORY,{delayInMinutes:1,periodInMinutes:60}),chrome.alarms.create(Is.A.alarm.CHECK_ACTUAL_BALANCE,{delayInMinutes:1.1,periodInMinutes:2.1}),chrome.alarms.create(Is.A.alarm.CHECK_ACTIVE_LOTS_MARKET,{delayInMinutes:1,periodInMinutes:30}),chrome.alarms.create(Is.A.alarm.CHECK_HISTORY_LOTS_MARKET,{delayInMinutes:1,periodInMinutes:5}),chrome.alarms.create(Is.A.alarm.GET_STEAM_CURRENCY,{delayInMinutes:1.3,periodInMinutes:1.5}),chrome.alarms.create(Is.A.alarm.CHECK_USER,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create("BACKGROUND_CHECK_MARKETAPP_EXTENSION",{delayInMinutes:1,periodInMinutes:30}),chrome.alarms.create("BACKGROUND_SCAN_FREE_REWARDS_ITEMS",{delayInMinutes:1.5,periodInMinutes:180}),nH(),oH(),chrome.storage.local.remove("needUpdateSIH"),chrome.alarms.onAlarm.addListener(GH),chrome.runtime.onInstalled.addListener(HH),chrome.windows.onBoundsChanged.addListener(wc.onChangeWindowParams),chrome.notifications.onClicked.addListener(MH),chrome.notifications.onButtonClicked.addListener(UH),chrome.runtime.onUpdateAvailable.addListener(KH),chrome.runtime.onConnect.addListener(VH),chrome.runtime.onMessage.addListener(FH),chrome.runtime.onMessageExternal.addListener(FH),MA.handler(),KR.handler(),LN.handler(),IF.handler(),YD.handler(),x_.handler(),oM.handler(),rR.handler(),Zk.handler(),tU.handler(),fj.handler(),CL.handler(),bI.handler(),NB.handler(),rB.handler(),Rk.handler(),$F.handler(),RM.handler(),Ek.handler(),TB.handler(),zL.handler(),VT.handler(),zG.handler(),hF.handler(),Ij.handler(),nA.handler(),chrome.webRequest.onBeforeSendHeaders.addListener(YH,{urls:["https://store.steampowered.com/login/settoken*"]},["requestHeaders","extraHeaders"]),chrome.webRequest.onBeforeSendHeaders.addListener(WH,{urls:["https://steamcommunity.com/login/settoken*"]},["requestHeaders","extraHeaders"])},9708:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var a=function(){return o((function t(){var e,n,o;r(this,t),e=this,o=[],(n=i(n="queue"))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}),[{key:"push",value:function(t){this.queue.push(t)}},{key:"shift",value:function(){return this.queue.shift()}},{key:"length",get:function(){return this.queue.length}}])}(),s=o((function t(e,n,o,i){r(this,t),this.options=e||{},this.success=(o||function(){}).bind(this),this.error=(i||function(){}).bind(this),this.handler=(n||function(t){return Promise.resolve(t)}).bind(this)})),c=function(){return o((function t(e){r(this,t),this.delayBetweenJobs=e,this.queue=new a,this.isSupressed=!1}),[{key:"paused",get:function(){return this.isSupressed}},{key:"start",value:function(){var t=this;this.runningInterval||(this.resume(),this.runningInterval=setInterval((function(){var e=t.queue.shift();e&&Promise.resolve(e.handler(e.options)).then((function(t){return e.success(t)})).catch((function(t){return e.error(t)}))}),this.delayBetweenJobs))}},{key:"stop",value:function(){clearInterval(this.runningInterval),this.runningInterval=void 0,this.queue=new a,this.isSupressed=!1}},{key:"add",value:function(t){return!this.isSupressed&&(this.queue.push(t),!0)}},{key:"pause",value:function(t){var e=this;return!this.isSupressed&&(this.stop(),this.isSupressed=!0,this.suppressionInterval=setInterval((function(){e.resume(),e.start()}),t),!0)}},{key:"resume",value:function(){this.isSupressed=!1,clearTimeout(this.suppressionInterval),this.suppressionInterval=void 0}}])}();t.exports={JobsScheduler:c,Job:s,Queue:a}},7322:(t,e)=>{"use strict";e.byteLength=function(t){var e=s(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,i=s(t),a=i[0],c=i[1],u=new o(function(t,e,r){return 3*(e+r)/4-r}(0,a,c)),l=0,f=c>0?a-4:a;for(r=0;r<f;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===c&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===c&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=16383,s=0,u=n-o;s<u;s+=a)i.push(c(t,s,s+a>u?u:s+a));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=i[a],n[i.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}n[45]=62,n[95]=63},9030:function(t,e,r){var n;!function(){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function d(t){var e=0|t;return t>0||t===e?e:e-1}function y(t){for(var e,r,n=1,o=t.length,i=t[0]+"";n<o;){for(e=t[n++]+"",r=u-e.length;r--;e="0"+e);i+=e}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function v(t,e){var r,n,o=t.c,i=e.c,a=t.s,s=e.s,c=t.e,u=e.e;if(!a||!s)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=c==u,!o||!i)return n?0:!o^r?1:-1;if(!n)return c>u^r?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^r?1:-1;return c==u?0:c>u^r?1:-1}function m(t,e,r,n){if(t<e||t>r||t!==i(t))throw Error(a+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+t)}function g(t){var e=t.c.length-1;return d(t.e/u)==e&&t.c[e]%2!=0}function b(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function w(t,e,r){var n,o;if(e<0){for(o=r+".";++e;o+=r);t=o+t}else if(++e>(n=t.length)){for(o=r,e-=n;--e;o+=r);t+=o}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}e=function t(e){var n,E,x,S,_,A,T,L,k,O,I=V.prototype={constructor:V,toString:null,valueOf:null},N=new V(1),P=20,C=4,D=-7,R=21,j=-1e7,F=1e7,B=!1,G=1,M=0,U={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz",q=!0;function V(t,e){var n,o,a,c,f,h,p,d,y=this;if(!(y instanceof V))return new V(t,e);if(null==e){if(t&&!0===t._isBigNumber)return y.s=t.s,void(!t.c||t.e>F?y.c=y.e=null:t.e<j?y.c=[y.e=0]:(y.e=t.e,y.c=t.c.slice()));if((h="number"==typeof t)&&0*t==0){if(y.s=1/t<0?(t=-t,-1):1,t===~~t){for(c=0,f=t;f>=10;f/=10,c++);return void(c>F?y.c=y.e=null:(y.e=c,y.c=[t]))}d=t+""}else{if(!r.test(d=t+""))return x(y,d,h);y.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(c=d.indexOf("."))>-1&&(d=d.replace(".","")),(f=d.search(/e/i))>0?(c<0&&(c=f),c+=+d.slice(f+1),d=d.substring(0,f)):c<0&&(c=d.length)}else{if(m(e,2,H.length,"Base"),10==e&&q)return z(y=new V(t),P+y.e+1,C);if(d=t+"",h="number"==typeof t){if(0*t!=0)return x(y,d,h,e);if(y.s=1/t<0?(d=d.slice(1),-1):1,V.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(s+t)}else y.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=H.slice(0,e),c=f=0,p=d.length;f<p;f++)if(n.indexOf(o=d.charAt(f))<0){if("."==o){if(f>c){c=p;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,f=-1,c=0;continue}return x(y,t+"",h,e)}h=!1,(c=(d=E(d,e,10,y.s)).indexOf("."))>-1?d=d.replace(".",""):c=d.length}for(f=0;48===d.charCodeAt(f);f++);for(p=d.length;48===d.charCodeAt(--p););if(d=d.slice(f,++p)){if(p-=f,h&&V.DEBUG&&p>15&&(t>l||t!==i(t)))throw Error(s+y.s*t);if((c=c-f-1)>F)y.c=y.e=null;else if(c<j)y.c=[y.e=0];else{if(y.e=c,y.c=[],f=(c+1)%u,c<0&&(f+=u),f<p){for(f&&y.c.push(+d.slice(0,f)),p-=u;f<p;)y.c.push(+d.slice(f,f+=u));f=u-(d=d.slice(f)).length}else f-=p;for(;f--;d+="0");y.c.push(+d)}}else y.c=[y.e=0]}function K(t,e,r,n){var o,i,a,s,c;if(null==r?r=C:m(r,0,8),!t.c)return t.toString();if(o=t.c[0],a=t.e,null==e)c=y(t.c),c=1==n||2==n&&(a<=D||a>=R)?b(c,a):w(c,a,"0");else if(i=(t=z(new V(t),e,r)).e,s=(c=y(t.c)).length,1==n||2==n&&(e<=i||i<=D)){for(;s<e;c+="0",s++);c=b(c,i)}else if(e-=a,c=w(c,i,"0"),i+1>s){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=i-s)>0)for(i+1==s&&(c+=".");e--;c+="0");return t.s<0&&o?"-"+c:c}function Y(t,e){for(var r,n,o=1,i=new V(t[0]);o<t.length;o++)(!(n=new V(t[o])).s||(r=v(i,n))===e||0===r&&i.s===e)&&(i=n);return i}function W(t,e,r){for(var n=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,n++);return(r=n+r*u-1)>F?t.c=t.e=null:r<j?t.c=[t.e=0]:(t.e=r,t.c=e),t}function z(t,e,r,n){var a,s,l,h,p,d,y,v=t.c,m=f;if(v){t:{for(a=1,h=v[0];h>=10;h/=10,a++);if((s=e-a)<0)s+=u,l=e,p=v[d=0],y=i(p/m[a-l-1]%10);else if((d=o((s+1)/u))>=v.length){if(!n)break t;for(;v.length<=d;v.push(0));p=y=0,a=1,l=(s%=u)-u+1}else{for(p=h=v[d],a=1;h>=10;h/=10,a++);y=(l=(s%=u)-u+a)<0?0:i(p/m[a-l-1]%10)}if(n=n||e<0||null!=v[d+1]||(l<0?p:p%m[a-l-1]),n=r<4?(y||n)&&(0==r||r==(t.s<0?3:2)):y>5||5==y&&(4==r||n||6==r&&(s>0?l>0?p/m[a-l]:0:v[d-1])%10&1||r==(t.s<0?8:7)),e<1||!v[0])return v.length=0,n?(e-=t.e+1,v[0]=m[(u-e%u)%u],t.e=-e||0):v[0]=t.e=0,t;if(0==s?(v.length=d,h=1,d--):(v.length=d+1,h=m[u-s],v[d]=l>0?i(p/m[a-l]%m[l])*h:0),n)for(;;){if(0==d){for(s=1,l=v[0];l>=10;l/=10,s++);for(l=v[0]+=h,h=1;l>=10;l/=10,h++);s!=h&&(t.e++,v[0]==c&&(v[0]=1));break}if(v[d]+=h,v[d]!=c)break;v[d--]=0,h=1}for(s=v.length;0===v[--s];v.pop());}t.e>F?t.c=t.e=null:t.e<j&&(t.c=[t.e=0])}return t}function $(t){var e,r=t.e;return null===r?t.toString():(e=y(t.c),e=r<=D||r>=R?b(e,r):w(e,r,"0"),t.s<0?"-"+e:e)}return V.clone=t,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(a+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(m(r=t[e],0,p,e),P=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(m(r=t[e],0,8,e),C=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(m(r[0],-p,0,e),m(r[1],0,p,e),D=r[0],R=r[1]):(m(r,-p,p,e),D=-(R=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)m(r[0],-p,-1,e),m(r[1],1,p,e),j=r[0],F=r[1];else{if(m(r,-p,p,e),!r)throw Error(a+e+" cannot be zero: "+r);j=-(F=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(a+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!r,Error(a+"crypto unavailable");B=r}else B=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(m(r=t[e],0,9,e),G=r),t.hasOwnProperty(e="POW_PRECISION")&&(m(r=t[e],0,p,e),M=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(a+e+" not an object: "+r);U=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(a+e+" invalid: "+r);q="0123456789"==r.slice(0,10),H=r}}return{DECIMAL_PLACES:P,ROUNDING_MODE:C,EXPONENTIAL_AT:[D,R],RANGE:[j,F],CRYPTO:B,MODULO_MODE:G,POW_PRECISION:M,FORMAT:U,ALPHABET:H}},V.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!V.DEBUG)return!0;var e,r,n=t.c,o=t.e,s=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&o>=-p&&o<=p&&o===i(o)){if(0===n[0]){if(0===o&&1===n.length)return!0;break t}if((e=(o+1)%u)<1&&(e+=u),(n[0]+"").length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=c||r!==i(r))break t;if(0!==r)return!0}}}else if(null===n&&null===o&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+t)},V.maximum=V.max=function(){return Y(arguments,-1)},V.minimum=V.min=function(){return Y(arguments,1)},V.random=(S=9007199254740992,_=Math.random()*S&2097151?function(){return i(Math.random()*S)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,s,c,l=0,h=[],d=new V(N);if(null==t?t=P:m(t,0,p),s=o(t/u),B)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(s*=2));l<s;)(c=131072*e[l]+(e[l+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[l]=r[0],e[l+1]=r[1]):(h.push(c%1e14),l+=2);l=s/2}else{if(!crypto.randomBytes)throw B=!1,Error(a+"crypto unavailable");for(e=crypto.randomBytes(s*=7);l<s;)(c=281474976710656*(31&e[l])+1099511627776*e[l+1]+4294967296*e[l+2]+16777216*e[l+3]+(e[l+4]<<16)+(e[l+5]<<8)+e[l+6])>=9e15?crypto.randomBytes(7).copy(e,l):(h.push(c%1e14),l+=7);l=s/7}if(!B)for(;l<s;)(c=_())<9e15&&(h[l++]=c%1e14);for(s=h[--l],t%=u,s&&t&&(c=f[u-t],h[l]=i(s/c)*c);0===h[l];h.pop(),l--);if(l<0)h=[n=0];else{for(n=-1;0===h[0];h.splice(0,1),n-=u);for(l=1,c=h[0];c>=10;c/=10,l++);l<u&&(n-=u-l)}return d.e=n,d.c=h,d}),V.sum=function(){for(var t=1,e=arguments,r=new V(e[0]);t<e.length;)r=r.plus(e[t++]);return r},E=function(){var t="0123456789";function e(t,e,r,n){for(var o,i,a=[0],s=0,c=t.length;s<c;){for(i=a.length;i--;a[i]*=e);for(a[0]+=n.indexOf(t.charAt(s++)),o=0;o<a.length;o++)a[o]>r-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/r|0,a[o]%=r)}return a.reverse()}return function(r,o,i,a,s){var c,u,l,f,h,p,d,v,m=r.indexOf("."),g=P,b=C;for(m>=0&&(f=M,M=0,r=r.replace(".",""),p=(v=new V(o)).pow(r.length-m),M=f,v.c=e(w(y(p.c),p.e,"0"),10,i,t),v.e=v.c.length),l=f=(d=e(r,o,i,s?(c=H,t):(c=t,H))).length;0==d[--f];d.pop());if(!d[0])return c.charAt(0);if(m<0?--l:(p.c=d,p.e=l,p.s=a,d=(p=n(p,v,g,b,i)).c,h=p.r,l=p.e),m=d[u=l+g+1],f=i/2,h=h||u<0||null!=d[u+1],h=b<4?(null!=m||h)&&(0==b||b==(p.s<0?3:2)):m>f||m==f&&(4==b||h||6==b&&1&d[u-1]||b==(p.s<0?8:7)),u<1||!d[0])r=h?w(c.charAt(1),-g,c.charAt(0)):c.charAt(0);else{if(d.length=u,h)for(--i;++d[--u]>i;)d[u]=0,u||(++l,d=[1].concat(d));for(f=d.length;!d[--f];);for(m=0,r="";m<=f;r+=c.charAt(d[m++]));r=w(r,l,c.charAt(0))}return r}}(),n=function(){function t(t,e,r){var n,o,i,a,s=0,c=t.length,u=e%h,l=e/h|0;for(t=t.slice();c--;)s=((o=u*(i=t[c]%h)+(n=l*i+(a=t[c]/h|0)*u)%h*h+s)/r|0)+(n/h|0)+l*a,t[c]=o%r;return s&&(t=[s].concat(t)),t}function e(t,e,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function r(t,e,r,n){for(var o=0;r--;)t[r]-=o,o=t[r]<e[r]?1:0,t[r]=o*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,o,a,s,l){var f,h,p,y,v,m,g,b,w,E,x,S,_,A,T,L,k,O=n.s==o.s?1:-1,I=n.c,N=o.c;if(!(I&&I[0]&&N&&N[0]))return new V(n.s&&o.s&&(I?!N||I[0]!=N[0]:N)?I&&0==I[0]||!N?0*O:O/0:NaN);for(w=(b=new V(O)).c=[],O=a+(h=n.e-o.e)+1,l||(l=c,h=d(n.e/u)-d(o.e/u),O=O/u|0),p=0;N[p]==(I[p]||0);p++);if(N[p]>(I[p]||0)&&h--,O<0)w.push(1),y=!0;else{for(A=I.length,L=N.length,p=0,O+=2,(v=i(l/(N[0]+1)))>1&&(N=t(N,v,l),I=t(I,v,l),L=N.length,A=I.length),_=L,x=(E=I.slice(0,L)).length;x<L;E[x++]=0);k=N.slice(),k=[0].concat(k),T=N[0],N[1]>=l/2&&T++;do{if(v=0,(f=e(N,E,L,x))<0){if(S=E[0],L!=x&&(S=S*l+(E[1]||0)),(v=i(S/T))>1)for(v>=l&&(v=l-1),g=(m=t(N,v,l)).length,x=E.length;1==e(m,E,g,x);)v--,r(m,L<g?k:N,g,l),g=m.length,f=1;else 0==v&&(f=v=1),g=(m=N.slice()).length;if(g<x&&(m=[0].concat(m)),r(E,m,x,l),x=E.length,-1==f)for(;e(N,E,L,x)<1;)v++,r(E,L<x?k:N,x,l),x=E.length}else 0===f&&(v++,E=[0]);w[p++]=v,E[0]?E[x++]=I[_]||0:(E=[I[_]],x=1)}while((_++<A||null!=E[0])&&O--);y=null!=E[0],w[0]||w.splice(0,1)}if(l==c){for(p=1,O=w[0];O>=10;O/=10,p++);z(b,a+(b.e=p+h*u-1)+1,s,y)}else b.e=h,b.r=+y;return b}}(),A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,L=/^\.([^.]+)$/,k=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(t,e,r,n){var o,i=r?e:e.replace(O,"");if(k.test(i))t.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(A,(function(t,e,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?t:e})),n&&(o=n,i=i.replace(T,"$1").replace(L,"0.$1")),e!=i))return new V(i,o);if(V.DEBUG)throw Error(a+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},I.absoluteValue=I.abs=function(){var t=new V(this);return t.s<0&&(t.s=1),t},I.comparedTo=function(t,e){return v(this,new V(t,e))},I.decimalPlaces=I.dp=function(t,e){var r,n,o,i=this;if(null!=t)return m(t,0,p),null==e?e=C:m(e,0,8),z(new V(i),t+i.e+1,e);if(!(r=i.c))return null;if(n=((o=r.length-1)-d(this.e/u))*u,o=r[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},I.dividedBy=I.div=function(t,e){return n(this,new V(t,e),P,C)},I.dividedToIntegerBy=I.idiv=function(t,e){return n(this,new V(t,e),0,1)},I.exponentiatedBy=I.pow=function(t,e){var r,n,s,c,l,f,h,p,d=this;if((t=new V(t)).c&&!t.isInteger())throw Error(a+"Exponent not an integer: "+$(t));if(null!=e&&(e=new V(e)),l=t.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!t.c||!t.c[0])return p=new V(Math.pow(+$(d),l?t.s*(2-g(t)):+$(t))),e?p.mod(e):p;if(f=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new V(NaN);(n=!f&&d.isInteger()&&e.isInteger())&&(d=d.mod(e))}else{if(t.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||l&&d.c[1]>=24e7:d.c[0]<8e13||l&&d.c[0]<=9999975e7)))return c=d.s<0&&g(t)?-0:0,d.e>-1&&(c=1/c),new V(f?1/c:c);M&&(c=o(M/u+2))}for(l?(r=new V(.5),f&&(t.s=1),h=g(t)):h=(s=Math.abs(+$(t)))%2,p=new V(N);;){if(h){if(!(p=p.times(d)).c)break;c?p.c.length>c&&(p.c.length=c):n&&(p=p.mod(e))}if(s){if(0===(s=i(s/2)))break;h=s%2}else if(z(t=t.times(r),t.e+1,1),t.e>14)h=g(t);else{if(0===(s=+$(t)))break;h=s%2}d=d.times(d),c?d.c&&d.c.length>c&&(d.c.length=c):n&&(d=d.mod(e))}return n?p:(f&&(p=N.div(p)),e?p.mod(e):c?z(p,M,C,undefined):p)},I.integerValue=function(t){var e=new V(this);return null==t?t=C:m(t,0,8),z(e,e.e+1,t)},I.isEqualTo=I.eq=function(t,e){return 0===v(this,new V(t,e))},I.isFinite=function(){return!!this.c},I.isGreaterThan=I.gt=function(t,e){return v(this,new V(t,e))>0},I.isGreaterThanOrEqualTo=I.gte=function(t,e){return 1===(e=v(this,new V(t,e)))||0===e},I.isInteger=function(){return!!this.c&&d(this.e/u)>this.c.length-2},I.isLessThan=I.lt=function(t,e){return v(this,new V(t,e))<0},I.isLessThanOrEqualTo=I.lte=function(t,e){return-1===(e=v(this,new V(t,e)))||0===e},I.isNaN=function(){return!this.s},I.isNegative=function(){return this.s<0},I.isPositive=function(){return this.s>0},I.isZero=function(){return!!this.c&&0==this.c[0]},I.minus=function(t,e){var r,n,o,i,a=this,s=a.s;if(e=(t=new V(t,e)).s,!s||!e)return new V(NaN);if(s!=e)return t.s=-e,a.plus(t);var l=a.e/u,f=t.e/u,h=a.c,p=t.c;if(!l||!f){if(!h||!p)return h?(t.s=-e,t):new V(p?a:NaN);if(!h[0]||!p[0])return p[0]?(t.s=-e,t):new V(h[0]?a:3==C?-0:0)}if(l=d(l),f=d(f),h=h.slice(),s=l-f){for((i=s<0)?(s=-s,o=h):(f=l,o=p),o.reverse(),e=s;e--;o.push(0));o.reverse()}else for(n=(i=(s=h.length)<(e=p.length))?s:e,s=e=0;e<n;e++)if(h[e]!=p[e]){i=h[e]<p[e];break}if(i&&(o=h,h=p,p=o,t.s=-t.s),(e=(n=p.length)-(r=h.length))>0)for(;e--;h[r++]=0);for(e=c-1;n>s;){if(h[--n]<p[n]){for(r=n;r&&!h[--r];h[r]=e);--h[r],h[n]+=c}h[n]-=p[n]}for(;0==h[0];h.splice(0,1),--f);return h[0]?W(t,h,f):(t.s=3==C?-1:1,t.c=[t.e=0],t)},I.modulo=I.mod=function(t,e){var r,o,i=this;return t=new V(t,e),!i.c||!t.s||t.c&&!t.c[0]?new V(NaN):!t.c||i.c&&!i.c[0]?new V(i):(9==G?(o=t.s,t.s=1,r=n(i,t,0,3),t.s=o,r.s*=o):r=n(i,t,0,G),(t=i.minus(r.times(t))).c[0]||1!=G||(t.s=i.s),t)},I.multipliedBy=I.times=function(t,e){var r,n,o,i,a,s,l,f,p,y,v,m,g,b,w,E=this,x=E.c,S=(t=new V(t,e)).c;if(!(x&&S&&x[0]&&S[0]))return!E.s||!t.s||x&&!x[0]&&!S||S&&!S[0]&&!x?t.c=t.e=t.s=null:(t.s*=E.s,x&&S?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=d(E.e/u)+d(t.e/u),t.s*=E.s,(l=x.length)<(y=S.length)&&(g=x,x=S,S=g,o=l,l=y,y=o),o=l+y,g=[];o--;g.push(0));for(b=c,w=h,o=y;--o>=0;){for(r=0,v=S[o]%w,m=S[o]/w|0,i=o+(a=l);i>o;)r=((f=v*(f=x[--a]%w)+(s=m*f+(p=x[a]/w|0)*v)%w*w+g[i]+r)/b|0)+(s/w|0)+m*p,g[i--]=f%b;g[i]=r}return r?++n:g.splice(0,1),W(t,g,n)},I.negated=function(){var t=new V(this);return t.s=-t.s||null,t},I.plus=function(t,e){var r,n=this,o=n.s;if(e=(t=new V(t,e)).s,!o||!e)return new V(NaN);if(o!=e)return t.s=-e,n.minus(t);var i=n.e/u,a=t.e/u,s=n.c,l=t.c;if(!i||!a){if(!s||!l)return new V(o/0);if(!s[0]||!l[0])return l[0]?t:new V(s[0]?n:0*o)}if(i=d(i),a=d(a),s=s.slice(),o=i-a){for(o>0?(a=i,r=l):(o=-o,r=s),r.reverse();o--;r.push(0));r.reverse()}for((o=s.length)-(e=l.length)<0&&(r=l,l=s,s=r,e=o),o=0;e;)o=(s[--e]=s[e]+l[e]+o)/c|0,s[e]=c===s[e]?0:s[e]%c;return o&&(s=[o].concat(s),++a),W(t,s,a)},I.precision=I.sd=function(t,e){var r,n,o,i=this;if(null!=t&&t!==!!t)return m(t,1,p),null==e?e=C:m(e,0,8),z(new V(i),t,e);if(!(r=i.c))return null;if(n=(o=r.length-1)*u+1,o=r[o]){for(;o%10==0;o/=10,n--);for(o=r[0];o>=10;o/=10,n++);}return t&&i.e+1>n&&(n=i.e+1),n},I.shiftedBy=function(t){return m(t,-9007199254740991,l),this.times("1e"+t)},I.squareRoot=I.sqrt=function(){var t,e,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=P+4,f=new V("0.5");if(1!==c||!s||!s[0])return new V(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+$(a)))||c==1/0?(((e=y(s)).length+u)%2==0&&(e+="0"),c=Math.sqrt(+e),u=d((u+1)/2)-(u<0||u%2),r=new V(e=c==1/0?"5e"+u:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new V(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=f.times(i.plus(n(a,i,l,1))),y(i.c).slice(0,c)===(e=y(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(z(r,r.e+P+2,1),t=!r.times(r).eq(a));break}if(!o&&(z(i,i.e+P+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return z(r,r.e+P+1,C,t)},I.toExponential=function(t,e){return null!=t&&(m(t,0,p),t++),K(this,t,e,1)},I.toFixed=function(t,e){return null!=t&&(m(t,0,p),t=t+this.e+1),K(this,t,e)},I.toFormat=function(t,e,r){var n,o=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=U;else if("object"!=typeof r)throw Error(a+"Argument not an object: "+r);if(n=o.toFixed(t,e),o.c){var i,s=n.split("."),c=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",f=s[0],h=s[1],p=o.s<0,d=p?f.slice(1):f,y=d.length;if(u&&(i=c,c=u,u=i,y-=i),c>0&&y>0){for(i=y%c||c,f=d.substr(0,i);i<y;i+=c)f+=l+d.substr(i,c);u>0&&(f+=l+d.slice(i)),p&&(f="-"+f)}n=h?f+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?h.replace(RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):f}return(r.prefix||"")+n+(r.suffix||"")},I.toFraction=function(t){var e,r,o,i,s,c,l,h,p,d,v,m,g=this,b=g.c;if(null!=t&&(!(l=new V(t)).isInteger()&&(l.c||1!==l.s)||l.lt(N)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+$(l));if(!b)return new V(g);for(e=new V(N),p=r=new V(N),o=h=new V(N),m=y(b),s=e.e=m.length-g.e-1,e.c[0]=f[(c=s%u)<0?u+c:c],t=!t||l.comparedTo(e)>0?s>0?e:p:l,c=F,F=1/0,l=new V(m),h.c[0]=0;d=n(l,e,0,1),1!=(i=r.plus(d.times(o))).comparedTo(t);)r=o,o=i,p=h.plus(d.times(i=p)),h=i,e=l.minus(d.times(i=e)),l=i;return i=n(t.minus(r),o,0,1),h=h.plus(i.times(p)),r=r.plus(i.times(o)),h.s=p.s=g.s,v=n(p,o,s*=2,C).minus(g).abs().comparedTo(n(h,r,s,C).minus(g).abs())<1?[p,o]:[h,r],F=c,v},I.toNumber=function(){return+$(this)},I.toPrecision=function(t,e){return null!=t&&m(t,1,p),K(this,t,e,2)},I.toString=function(t){var e,r=this,n=r.s,o=r.e;return null===o?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(null==t?e=o<=D||o>=R?b(y(r.c),o):w(y(r.c),o,"0"):10===t&&q?e=w(y((r=z(new V(r),P+o+1,C)).c),r.e,"0"):(m(t,2,H.length,"Base"),e=E(w(y(r.c),o,"0"),10,t,n,!0)),n<0&&r.c[0]&&(e="-"+e)),e},I.valueOf=I.toJSON=function(){return $(this)},I._isBigNumber=!0,null!=e&&V.set(e),V}(),e.default=e.BigNumber=e,void 0===(n=e)||(t.exports=n)}()},8891:(t,e,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
const n=r(7322),o=r(8239),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.hp=c,e.IS=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=s(r);const o=n.write(t,e);o!==r&&(n=n.slice(0,o));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if($(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if($(t,ArrayBuffer)||t&&$(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&($(t,SharedArrayBuffer)||t&&$(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,e,r);const o=function(t){if(c.isBuffer(t)){const e=0|d(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||X(t.length)?s(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return l(t),s(t<0?0:0|d(t))}function h(t){const e=t.length<0?0:0|d(t.length),r=s(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,c.prototype),n}function d(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function y(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||$(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(o)return n?-1:Y(t).length;e=(""+e).toLowerCase(),o=!0}}function v(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return k(this,e,r);case"latin1":case"binary":return O(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,o){let i,a=1,s=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=(n+"").toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){let n=-1;for(i=r;i<s;i++)if(u(t,i)===u(e,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===c)return n*a}else-1!==n&&(i-=i-n),n=-1}else for(r+c>s&&(r=s-c),i=r;i>=0;i--){let r=!0;for(let n=0;n<c;n++)if(u(t,i+n)!==u(e,n)){r=!1;break}if(r)return i}return-1}function w(t,e,r,n){r=Number(r)||0;const o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=e.length;let a;for(n>i/2&&(n=i/2),a=0;a<n;++a){const n=parseInt(e.substr(2*a,2),16);if(X(n))return a;t[r+a]=n}return a}function E(t,e,r,n){return z(Y(e,t.length-r),t,r,n)}function x(t,e,r,n){return z(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return z(W(e),t,r,n)}function _(t,e,r,n){return z(function(t,e){let r,n,o;const i=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);const n=[];let o=e;for(;o<r;){const e=t[o];let i=null,a=e>239?4:e>223?3:e>191?2:1;if(o+a<=r){let r,n,s,c;switch(a){case 1:e<128&&(i=e);break;case 2:r=t[o+1],128==(192&r)&&(c=(31&e)<<6|63&r,c>127&&(i=c));break;case 3:r=t[o+1],n=t[o+2],128==(192&r)&&128==(192&n)&&(c=(15&e)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:r=t[o+1],n=t[o+2],s=t[o+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(c=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=a}return function(t){const e=t.length;if(e<=L)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=L));return r}(n)}c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||void 0===console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)}(t,e,r)},c.allocUnsafe=function(t){return f(t)},c.allocUnsafeSlow=function(t){return f(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if($(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),$(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch((t+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=c.allocUnsafe(e);let o=0;for(r=0;r<t.length;++r){let e=t[r];if($(e,Uint8Array))o+e.length>n.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(n,o)):Uint8Array.prototype.set.call(n,e,o);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,o)}o+=e.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):v.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const r=e.IS;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(t,e,r,n,o){if($(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;let i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0);const s=Math.min(i,a),u=this.slice(n,o),l=t.slice(e,r);for(let t=0;t<s;++t)if(u[t]!==l[t]){i=u[t],a=l[t];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":case"latin1":case"binary":return x(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const L=4096;function k(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function O(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function I(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=e;n<r;++n)o+=J[t[n]];return o}function N(t,e,r){const n=t.slice(e,r);let o="";for(let t=0;t<n.length-1;t+=2)o+=String.fromCharCode(n[t]+256*n[t+1]);return o}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function D(t,e,r,n,o){H(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,r}function R(t,e,r,n,o){H(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i>>=8,t[r+6]=i,i>>=8,t[r+5]=i,i>>=8,t[r+4]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a>>=8,t[r+2]=a,a>>=8,t[r+1]=a,a>>=8,t[r]=a,r+8}function j(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,n,i){return e=+e,r>>>=0,i||j(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function B(t,e,r,n,i){return e=+e,r>>>=0,i||j(t,0,r,8),o.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t],o=1,i=0;for(;++i<e&&(o*=256);)n+=this[t+i]*o;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t+--e],o=1;for(;e>0&&(o*=256);)n+=this[t+--e]*o;return n},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Q((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t],o=1,i=0;for(;++i<e&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=e,o=1,i=this[t+--n];for(;n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Q((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Q((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){C(this,t,e,r,Math.pow(2,8*r)-1,0)}let o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){C(this,t,e,r,Math.pow(2,8*r)-1,0)}let o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Q((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(t,e=0){return R(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let o=0,i=1,a=0;for(this[e]=255&t;++o<r&&(i*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/i|0)-a&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let o=r-1,i=1,a=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/i|0)-a&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Q((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(t,e=0){return R(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return B(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return B(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const o=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),o},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{const i=c.isBuffer(t)?t:c.from(t,n),a=i.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=i[o%a]}return this};const G={};function M(t,e,r){G[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function U(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function H(t,e,r,n,o,i){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new G.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,r){q(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||V(e,t.length-(r+1))}(n,o,i)}function q(t,e){if("number"!=typeof t)throw new G.ERR_INVALID_ARG_TYPE(e,"number",t)}function V(t,e,r){if(Math.floor(t)!==t)throw q(t,r),new G.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?t+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=U(r+""):"bigint"==typeof r&&(o=r+"",(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=U(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function Y(t,e){let r;e=e||1/0;const n=t.length;let o=null;const i=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function W(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,r,n){let o;for(o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function $(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const J=function(){const t="0123456789abcdef",e=Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e}();function Q(t){return"undefined"==typeof BigInt?Z:t}function Z(){throw Error("BigInt not supported")}},7047:function(t,e,r){var n;t.exports=(n=r(9305),r(3118),r(9672),r(4894),r(6113),function(){var t=n,e=t.lib.BlockCipher,r=t.algo,o=[],i=[],a=[],s=[],c=[],u=[],l=[],f=[],h=[],p=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,o[r]=d,i[d]=r;var y=t[r],v=t[y],m=t[v],g=257*t[d]^16843008*d;a[r]=g<<24|g>>>8,s[r]=g<<16|g>>>16,c[r]=g<<8|g>>>24,u[r]=g,g=16843009*m^65537*v^257*y^16843008*r,l[d]=g<<24|g>>>8,f[d]=g<<16|g>>>16,h[d]=g<<8|g>>>24,p[d]=g,r?(r=y^t[t[t[m^y]]],n^=t[t[n]]):r=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],y=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],a=0;a<n;a++)if(a<r)i[a]=e[a];else{var s=i[a-1];a%r?r>6&&a%r==4&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=o[(s=s<<8|s>>>24)>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=d[a/r|0]<<24),i[a]=i[a-r]^s}for(var c=this._invKeySchedule=[],u=0;u<n;u++)a=n-u,s=u%4?i[a]:i[a-4],c[u]=u<4||a<=4?s:l[o[s>>>24]]^f[o[s>>>16&255]]^h[o[s>>>8&255]]^p[o[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,c,u,o)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,l,f,h,p,i),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,o,i,a,s){for(var c=this._nRounds,u=t[e]^r[0],l=t[e+1]^r[1],f=t[e+2]^r[2],h=t[e+3]^r[3],p=4,d=1;d<c;d++){var y=n[u>>>24]^o[l>>>16&255]^i[f>>>8&255]^a[255&h]^r[p++],v=n[l>>>24]^o[f>>>16&255]^i[h>>>8&255]^a[255&u]^r[p++],m=n[f>>>24]^o[h>>>16&255]^i[u>>>8&255]^a[255&l]^r[p++],g=n[h>>>24]^o[u>>>16&255]^i[l>>>8&255]^a[255&f]^r[p++];u=y,l=v,f=m,h=g}y=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&h])^r[p++],v=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[h>>>8&255]<<8|s[255&u])^r[p++],m=(s[f>>>24]<<24|s[h>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^r[p++],g=(s[h>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^r[p++],t[e]=y,t[e+1]=v,t[e+2]=m,t[e+3]=g},keySize:8});t.AES=e._createHelper(y)}(),n.AES)},6113:function(t,e,r){var n;t.exports=(n=r(9305),r(4894),void(n.lib.Cipher||function(t){var e=n,r=e.lib,o=r.Base,i=r.WordArray,a=r.BufferedBlockAlgorithm,s=e.enc,c=(s.Utf8,s.Base64),u=e.algo.EvpKDF,l=r.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:m}return function(e){return{encrypt:function(r,n,o){return t(n).encrypt(e,r,n,o)},decrypt:function(r,n,o){return t(n).decrypt(e,r,n,o)}}}}()}),f=(r.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),h=r.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),p=f.CBC=function(){var e=h.extend();function r(e,r,n){var o=this._iv;if(o){var i=o;this._iv=t}else i=this._prevBlock;for(var a=0;a<n;a++)e[r+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize;r.call(this,t,e,o),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+o)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,i=t.slice(e,e+o);n.decryptBlock(t,e),r.call(this,t,e,o),this._prevBlock=i}}),e}(),d=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,o=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(o);var c=i.create(a,n);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},y=(r.BlockCipher=l.extend({cfg:l.cfg.extend({mode:p,padding:d}),reset:function(){l.reset.call(this);var t=this.cfg,e=t.iv,r=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else n=r.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==n?this._mode.init(this,e&&e.words):(this._mode=n.call(r,this,e&&e.words),this._mode.__creator=n)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),r.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),v=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;if(r)var n=i.create([1398893684,1701076831]).concat(r).concat(e);else n=e;return n.toString(c)},parse:function(t){var e=c.parse(t),r=e.words;if(1398893684==r[0]&&1701076831==r[1]){var n=i.create(r.slice(2,4));r.splice(0,4),e.sigBytes-=16}return y.create({ciphertext:e,salt:n})}},m=r.SerializableCipher=o.extend({cfg:o.extend({format:v}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var o=t.createEncryptor(r,n),i=o.finalize(e),a=o.cfg;return y.create({ciphertext:i,key:r,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),g=(e.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=i.random(8));var o=u.create({keySize:e+r}).compute(t,n),a=i.create(o.words.slice(e),4*r);return o.sigBytes=4*e,y.create({key:o,iv:a,salt:n})}},b=r.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:g}),encrypt:function(t,e,r,n){var o=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=o.iv;var i=m.encrypt.call(this,t,e,o.key,n);return i.mixIn(o),i},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var o=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=o.iv,m.decrypt.call(this,t,e,o.key,n)}})}()))},9305:function(t,e){var r;t.exports=(r=r||function(t,e){var r=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),n={},o=n.lib={},i=o.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=o.WordArray=i.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=a<<24-(n+i)%4*8}else for(i=0;i<o;i+=4)e[n+i>>>2]=r[i>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r,n=[],o=function(e){var r=987654321,n=4294967295;return function(){var o=((r=36969*(65535&r)+(r>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return o/=4294967296,(o+=.5)*(t.random()>.5?1:-1)}},i=0;i<e;i+=4){var s=o(4294967296*(r||t.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new a.init(n,e)}}),s=n.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(r,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(r,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,o=r.sigBytes,i=this.blockSize,s=o/(4*i),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*i,u=t.min(4*c,o);if(c){for(var l=0;l<c;l+=i)this._doProcessBlock(n,l);var f=n.splice(0,c);r.sigBytes-=u}return new a.init(f,u)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(o.Hasher=f.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new h.HMAC.init(t,r).finalize(e)}}}),n.algo={});return n}(Math),r)},3118:function(t,e,r){var n;t.exports=(n=r(9305),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var o=[],i=0,a=0;a<r;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,c=n[t.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=(s|c)<<24-i%4*8,i++}return e.create(o,i)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var o=[],i=0;i<r;i+=3)for(var a=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)o.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var e=t.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return r(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},3883:function(t,e,r){var n;t.exports=(n=r(9305),function(){var t=n,e=t.lib.WordArray,r=t.enc;function o(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o+=2){var i=e[o>>>2]>>>16-o%4*8&65535;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var r=t.length,n=[],o=0;o<r;o++)n[o>>>1]|=t.charCodeAt(o)<<16-o%2*16;return e.create(n,2*r)}},r.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var a=o(e[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var r=t.length,n=[],i=0;i<r;i++)n[i>>>1]|=o(t.charCodeAt(i)<<16-i%2*16);return e.create(n,2*r)}}}(),n.enc.Utf16)},4894:function(t,e,r){var n,o,i,a,s,c,u,l;t.exports=(l=r(9305),r(1115),r(9861),o=(n=l).lib,i=o.Base,a=o.WordArray,s=n.algo,c=s.MD5,u=s.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=r.hasher.create(),o=a.create(),i=o.words,s=r.keySize,c=r.iterations;i.length<s;){u&&n.update(u);var u=n.update(t).finalize(e);n.reset();for(var l=1;l<c;l++)u=n.finalize(u),n.reset();o.concat(u)}return o.sigBytes=4*s,o}}),n.EvpKDF=function(t,e,r){return u.create(r).compute(t,e)},l.EvpKDF)},7893:function(t,e,r){var n,o,i,a;t.exports=(a=r(9305),r(6113),o=(n=a).lib.CipherParams,i=n.enc.Hex,n.format.Hex={stringify:function(t){return t.ciphertext.toString(i)},parse:function(t){var e=i.parse(t);return o.create({ciphertext:e})}},a.format.Hex)},9861:function(t,e,r){var n,o,i,a;t.exports=(n=r(9305),i=(o=n).lib.Base,a=o.enc.Utf8,void(o.algo.HMAC=i.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=a.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),i=this._iKey=e.clone(),s=o.words,c=i.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=i.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})))},1888:function(t,e,r){var n;t.exports=(n=r(9305),r(6044),r(6804),r(3883),r(3118),r(9672),r(1115),r(2141),r(2424),r(520),r(5145),r(7501),r(3788),r(9861),r(6191),r(4894),r(6113),r(5829),r(807),r(2064),r(8617),r(7333),r(7197),r(4917),r(3814),r(8367),r(8816),r(7893),r(7047),r(7896),r(4181),r(446),r(564),n)},6804:function(t,e,r){var n;t.exports=(n=r(9305),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init,r=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],o=0;o<r;o++)n[o>>>2]|=t[o]<<24-o%4*8;e.call(this,n,r)}else e.apply(this,arguments)};r.prototype=t}}(),n.lib.WordArray)},9672:function(t,e,r){var n;t.exports=(n=r(9305),function(t){var e=n,r=e.lib,o=r.WordArray,i=r.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=t[e+0],c=t[e+1],p=t[e+2],d=t[e+3],y=t[e+4],v=t[e+5],m=t[e+6],g=t[e+7],b=t[e+8],w=t[e+9],E=t[e+10],x=t[e+11],S=t[e+12],_=t[e+13],A=t[e+14],T=t[e+15],L=i[0],k=i[1],O=i[2],I=i[3];L=u(L,k,O,I,a,7,s[0]),I=u(I,L,k,O,c,12,s[1]),O=u(O,I,L,k,p,17,s[2]),k=u(k,O,I,L,d,22,s[3]),L=u(L,k,O,I,y,7,s[4]),I=u(I,L,k,O,v,12,s[5]),O=u(O,I,L,k,m,17,s[6]),k=u(k,O,I,L,g,22,s[7]),L=u(L,k,O,I,b,7,s[8]),I=u(I,L,k,O,w,12,s[9]),O=u(O,I,L,k,E,17,s[10]),k=u(k,O,I,L,x,22,s[11]),L=u(L,k,O,I,S,7,s[12]),I=u(I,L,k,O,_,12,s[13]),O=u(O,I,L,k,A,17,s[14]),L=l(L,k=u(k,O,I,L,T,22,s[15]),O,I,c,5,s[16]),I=l(I,L,k,O,m,9,s[17]),O=l(O,I,L,k,x,14,s[18]),k=l(k,O,I,L,a,20,s[19]),L=l(L,k,O,I,v,5,s[20]),I=l(I,L,k,O,E,9,s[21]),O=l(O,I,L,k,T,14,s[22]),k=l(k,O,I,L,y,20,s[23]),L=l(L,k,O,I,w,5,s[24]),I=l(I,L,k,O,A,9,s[25]),O=l(O,I,L,k,d,14,s[26]),k=l(k,O,I,L,b,20,s[27]),L=l(L,k,O,I,_,5,s[28]),I=l(I,L,k,O,p,9,s[29]),O=l(O,I,L,k,g,14,s[30]),L=f(L,k=l(k,O,I,L,S,20,s[31]),O,I,v,4,s[32]),I=f(I,L,k,O,b,11,s[33]),O=f(O,I,L,k,x,16,s[34]),k=f(k,O,I,L,A,23,s[35]),L=f(L,k,O,I,c,4,s[36]),I=f(I,L,k,O,y,11,s[37]),O=f(O,I,L,k,g,16,s[38]),k=f(k,O,I,L,E,23,s[39]),L=f(L,k,O,I,_,4,s[40]),I=f(I,L,k,O,a,11,s[41]),O=f(O,I,L,k,d,16,s[42]),k=f(k,O,I,L,m,23,s[43]),L=f(L,k,O,I,w,4,s[44]),I=f(I,L,k,O,S,11,s[45]),O=f(O,I,L,k,T,16,s[46]),L=h(L,k=f(k,O,I,L,p,23,s[47]),O,I,a,6,s[48]),I=h(I,L,k,O,g,10,s[49]),O=h(O,I,L,k,A,15,s[50]),k=h(k,O,I,L,v,21,s[51]),L=h(L,k,O,I,S,6,s[52]),I=h(I,L,k,O,d,10,s[53]),O=h(O,I,L,k,E,15,s[54]),k=h(k,O,I,L,c,21,s[55]),L=h(L,k,O,I,b,6,s[56]),I=h(I,L,k,O,T,10,s[57]),O=h(O,I,L,k,m,15,s[58]),k=h(k,O,I,L,_,21,s[59]),L=h(L,k,O,I,y,6,s[60]),I=h(I,L,k,O,x,10,s[61]),O=h(O,I,L,k,p,15,s[62]),k=h(k,O,I,L,w,21,s[63]),i[0]=i[0]+L|0,i[1]=i[1]+k|0,i[2]=i[2]+O|0,i[3]=i[3]+I|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296),a=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,r,n,o,i,a){var s=t+(e&r|~e&n)+o+a;return(s<<i|s>>>32-i)+e}function l(t,e,r,n,o,i,a){var s=t+(e&n|r&~n)+o+a;return(s<<i|s>>>32-i)+e}function f(t,e,r,n,o,i,a){var s=t+(e^r^n)+o+a;return(s<<i|s>>>32-i)+e}function h(t,e,r,n,o,i,a){var s=t+(r^(e|~n))+o+a;return(s<<i|s>>>32-i)+e}e.MD5=i._createHelper(c),e.HmacMD5=i._createHmacHelper(c)}(Math),n.MD5)},5829:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.mode.CFB=function(){var t=n.lib.BlockCipherMode.extend();function e(t,e,r,n){var o=this._iv;if(o){var i=o.slice(0);this._iv=void 0}else i=this._prevBlock;n.encryptBlock(i,0);for(var a=0;a<r;a++)t[e+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize;e.call(this,t,r,o,n),this._prevBlock=t.slice(r,r+o)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize,i=t.slice(r,r+o);e.call(this,t,r,o,n),this._prevBlock=i}}),t}(),n.mode.CFB)},2064:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
n.mode.CTRGladman=function(){var t=n.lib.BlockCipherMode.extend();function e(t){if(255&~(t>>24))t+=1<<24;else{var e=t>>16&255,r=t>>8&255,n=255&t;255===e?(e=0,255===r?(r=0,255===n?n=0:++n):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=n}return t}function r(t){return 0===(t[0]=e(t[0]))&&(t[1]=e(t[1])),t}var o=t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0),r(a);var s=a.slice(0);n.encryptBlock(s,0);for(var c=0;c<o;c++)t[e+c]^=s[c]}});return t.Decryptor=o,t}(),n.mode.CTRGladman)},807:function(t,e,r){var n,o,i;t.exports=(i=r(9305),r(6113),i.mode.CTR=(n=i.lib.BlockCipherMode.extend(),o=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var a=i.slice(0);r.encryptBlock(a,0),i[n-1]=i[n-1]+1|0;for(var s=0;s<n;s++)t[e+s]^=a[s]}}),n.Decryptor=o,n),i.mode.CTR)},7333:function(t,e,r){var n,o;t.exports=(o=r(9305),r(6113),o.mode.ECB=((n=o.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),n.Decryptor=n.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),n),o.mode.ECB)},8617:function(t,e,r){var n,o,i;t.exports=(i=r(9305),r(6113),i.mode.OFB=(n=i.lib.BlockCipherMode.extend(),o=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),r.encryptBlock(i,0);for(var a=0;a<n;a++)t[e+a]^=i[a]}}),n.Decryptor=o,n),i.mode.OFB)},7197:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,o=n-r%n,i=r+o-1;t.clamp(),t.words[i>>>2]|=o<<24-i%4*8,t.sigBytes+=o},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Ansix923)},4917:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.pad.Iso10126={pad:function(t,e){var r=4*e,o=r-t.sigBytes%r;t.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Iso10126)},3814:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.pad.Iso97971={pad:function(t,e){t.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(t,e)},unpad:function(t){n.pad.ZeroPadding.unpad(t),t.sigBytes--}},n.pad.Iso97971)},8816:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},8367:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){for(var e=t.words,r=t.sigBytes-1;!(e[r>>>2]>>>24-r%4*8&255);)r--;t.sigBytes=r+1}},n.pad.ZeroPadding)},6191:function(t,e,r){var n,o,i,a,s,c,u,l,f;t.exports=(f=r(9305),r(1115),r(9861),o=(n=f).lib,i=o.Base,a=o.WordArray,s=n.algo,c=s.SHA1,u=s.HMAC,l=s.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=u.create(r.hasher,t),o=a.create(),i=a.create([1]),s=o.words,c=i.words,l=r.keySize,f=r.iterations;s.length<l;){var h=n.update(e).finalize(i);n.reset();for(var p=h.words,d=p.length,y=h,v=1;v<f;v++){y=n.finalize(y),n.reset();for(var m=y.words,g=0;g<d;g++)p[g]^=m[g]}o.concat(h),c[0]++}return o.sigBytes=4*l,o}}),n.PBKDF2=function(t,e,r){return l.create(r).compute(t,e)},f.PBKDF2)},564:function(t,e,r){var n;t.exports=(n=r(9305),r(3118),r(9672),r(4894),r(6113),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,o=[],i=[],a=[],s=r.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var o=0;o<4;o++)c.call(this);for(o=0;o<8;o++)n[o]^=r[o+4&7];if(e){var i=e.words,a=i[0],s=i[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,h=l<<16|65535&u;for(n[0]^=u,n[1]^=f,n[2]^=l,n[3]^=h,n[4]^=u,n[5]^=f,n[6]^=l,n[7]^=h,o=0;o<4;o++)c.call(this)}},_doProcessBlock:function(t,e){var r=this._X;c.call(this),o[0]=r[0]^r[5]>>>16^r[3]<<16,o[1]=r[2]^r[7]>>>16^r[5]<<16,o[2]=r[4]^r[1]>>>16^r[7]<<16,o[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),t[e+n]^=o[n]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,r=0;r<8;r++)i[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],o=65535&n,s=n>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,u=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=c^u}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=e._createHelper(s)}(),n.RabbitLegacy)},446:function(t,e,r){var n;t.exports=(n=r(9305),r(3118),r(9672),r(4894),r(6113),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,o=[],i=[],a=[],s=r.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],o=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)o[r]^=n[r+4&7];if(e){var i=e.words,a=i[0],s=i[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,h=l<<16|65535&u;for(o[0]^=u,o[1]^=f,o[2]^=l,o[3]^=h,o[4]^=u,o[5]^=f,o[6]^=l,o[7]^=h,r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(t,e){var r=this._X;c.call(this),o[0]=r[0]^r[5]>>>16^r[3]<<16,o[1]=r[2]^r[7]>>>16^r[5]<<16,o[2]=r[4]^r[1]>>>16^r[7]<<16,o[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),t[e+n]^=o[n]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,r=0;r<8;r++)i[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],o=65535&n,s=n>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,u=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=c^u}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=e._createHelper(s)}(),n.Rabbit)},4181:function(t,e,r){var n;t.exports=(n=r(9305),r(3118),r(9672),r(4894),r(6113),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,o=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,n=this._S=[],o=0;o<256;o++)n[o]=o;o=0;for(var i=0;o<256;o++){var a=o%r,s=e[a>>>2]>>>24-a%4*8&255;i=(i+n[o]+s)%256;var c=n[o];n[o]=n[i],n[i]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var t=this._S,e=this._i,r=this._j,n=0,o=0;o<4;o++){r=(r+t[e=(e+1)%256])%256;var i=t[e];t[e]=t[r],t[r]=i,n|=t[(t[e]+t[r])%256]<<24-8*o}return this._i=e,this._j=r,n}t.RC4=e._createHelper(o);var a=r.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)i.call(this)}});t.RC4Drop=e._createHelper(a)}(),n.RC4)},3788:function(t,e,r){var n;t.exports=(n=r(9305),
/** @preserve
	(c) 2012 by CÃ©dric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(){var t=n,e=t.lib,r=e.WordArray,o=e.Hasher,i=t.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=r.create([0,1518500249,1859775393,2400959708,2840853838]),f=r.create([1352829926,1548603684,1836072691,2053994217,0]),h=i.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i,h,b,w,E,x,S,_,A,T,L,k=this._hash.words,O=l.words,I=f.words,N=a.words,P=s.words,C=c.words,D=u.words;for(x=i=k[0],S=h=k[1],_=b=k[2],A=w=k[3],T=E=k[4],r=0;r<80;r+=1)L=i+t[e+N[r]]|0,L+=r<16?p(h,b,w)+O[0]:r<32?d(h,b,w)+O[1]:r<48?y(h,b,w)+O[2]:r<64?v(h,b,w)+O[3]:m(h,b,w)+O[4],L=(L=g(L|=0,C[r]))+E|0,i=E,E=w,w=g(b,10),b=h,h=L,L=x+t[e+P[r]]|0,L+=r<16?m(S,_,A)+I[0]:r<32?v(S,_,A)+I[1]:r<48?y(S,_,A)+I[2]:r<64?d(S,_,A)+I[3]:p(S,_,A)+I[4],L=(L=g(L|=0,D[r]))+T|0,x=T,T=A,A=g(_,10),_=S,S=L;L=k[1]+b+A|0,k[1]=k[2]+w+T|0,k[2]=k[3]+E+x|0,k[3]=k[4]+i+S|0,k[4]=k[0]+h+_|0,k[0]=L},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var o=this._hash,i=o.words,a=0;a<5;a++){var s=i[a];i[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,r){return t^e^r}function d(t,e,r){return t&e|~t&r}function y(t,e,r){return(t|~e)^r}function v(t,e,r){return t&r|e&~r}function m(t,e,r){return t^(e|~r)}function g(t,e){return t<<e|t>>>32-e}t.RIPEMD160=o._createHelper(h),t.HmacRIPEMD160=o._createHmacHelper(h)}(),n.RIPEMD160)},1115:function(t,e,r){var n,o,i,a,s,c,u,l;t.exports=(l=r(9305),o=(n=l).lib,i=o.WordArray,a=o.Hasher,s=n.algo,c=[],u=s.SHA1=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],u=0;u<80;u++){if(u<16)c[u]=0|t[e+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var f=(n<<5|n>>>27)+s+c[u];f+=u<20?1518500249+(o&i|~o&a):u<40?1859775393+(o^i^a):u<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514,s=a,a=i,i=o<<30|o>>>2,o=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=a._createHelper(u),n.HmacSHA1=a._createHmacHelper(u),l.SHA1)},2424:function(t,e,r){var n,o,i,a,s,c;t.exports=(c=r(9305),r(2141),o=(n=c).lib.WordArray,i=n.algo,a=i.SHA256,s=i.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),n.SHA224=a._createHelper(s),n.HmacSHA224=a._createHmacHelper(s),c.SHA224)},2141:function(t,e,r){var n;t.exports=(n=r(9305),function(t){var e=n,r=e.lib,o=r.WordArray,i=r.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,o=0;o<64;)e(n)&&(o<8&&(s[o]=r(t.pow(n,.5))),c[o]=r(t.pow(n,1/3)),o++),n++}();var u=[],l=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],l=r[5],f=r[6],h=r[7],p=0;p<64;p++){if(p<16)u[p]=0|t[e+p];else{var d=u[p-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=u[p-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[p]=y+u[p-7]+m+u[p-16]}var g=n&o^n&i^o&i,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+c[p]+u[p];h=f,f=l,l=s,s=a+w|0,a=i,i=o,o=n,n=w+(b+g)|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+l|0,r[6]=r[6]+f|0,r[7]=r[7]+h|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return r[o>>>5]|=128<<24-o%32,r[14+(o+64>>>9<<4)]=t.floor(n/4294967296),r[15+(o+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=i._createHelper(l),e.HmacSHA256=i._createHmacHelper(l)}(Math),n.SHA256)},7501:function(t,e,r){var n;t.exports=(n=r(9305),r(6044),function(t){var e=n,r=e.lib,o=r.WordArray,i=r.Hasher,a=e.x64.Word,s=e.algo,c=[],u=[],l=[];!function(){for(var t=1,e=0,r=0;r<24;r++){c[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)u[t+5*e]=e+(2*t+3*e)%5*5;for(var o=1,i=0;i<24;i++){for(var s=0,f=0,h=0;h<7;h++){if(1&o){var p=(1<<h)-1;p<32?f^=1<<p:s^=1<<p-32}128&o?o=o<<1^113:o<<=1}l[i]=a.create(s,f)}}();var f=[];!function(){for(var t=0;t<25;t++)f[t]=a.create()}();var h=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,o=0;o<n;o++){var i=t[e+2*o],a=t[e+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(k=r[o]).high^=a,k.low^=i}for(var s=0;s<24;s++){for(var h=0;h<5;h++){for(var p=0,d=0,y=0;y<5;y++)p^=(k=r[h+5*y]).high,d^=k.low;var v=f[h];v.high=p,v.low=d}for(h=0;h<5;h++){var m=f[(h+4)%5],g=f[(h+1)%5],b=g.high,w=g.low;for(p=m.high^(b<<1|w>>>31),d=m.low^(w<<1|b>>>31),y=0;y<5;y++)(k=r[h+5*y]).high^=p,k.low^=d}for(var E=1;E<25;E++){var x=(k=r[E]).high,S=k.low,_=c[E];_<32?(p=x<<_|S>>>32-_,d=S<<_|x>>>32-_):(p=S<<_-32|x>>>64-_,d=x<<_-32|S>>>64-_);var A=f[u[E]];A.high=p,A.low=d}var T=f[0],L=r[0];for(T.high=L.high,T.low=L.low,h=0;h<5;h++)for(y=0;y<5;y++){var k=r[E=h+5*y],O=f[E],I=f[(h+1)%5+5*y],N=f[(h+2)%5+5*y];k.high=O.high^~I.high&N.high,k.low=O.low^~I.low&N.low}k=r[0];var P=l[s];k.high^=P.high,k.low^=P.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),i=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/i)*i>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var f=a[l],h=f.high,p=f.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),u.push(p),u.push(h)}return new o.init(u,s)},clone:function(){for(var t=i.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=i._createHelper(h),e.HmacSHA3=i._createHmacHelper(h)}(Math),n.SHA3)},5145:function(t,e,r){var n,o,i,a,s,c,u,l;t.exports=(l=r(9305),r(6044),r(520),o=(n=l).x64,i=o.Word,a=o.WordArray,s=n.algo,c=s.SHA512,u=s.SHA384=c.extend({_doReset:function(){this._hash=new a.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var t=c._doFinalize.call(this);return t.sigBytes-=16,t}}),n.SHA384=c._createHelper(u),n.HmacSHA384=c._createHmacHelper(u),l.SHA384)},520:function(t,e,r){var n;t.exports=(n=r(9305),r(6044),function(){var t=n,e=t.lib.Hasher,r=t.x64,o=r.Word,i=r.WordArray,a=t.algo;function s(){return o.create.apply(o,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var t=0;t<80;t++)u[t]=s()}();var l=a.SHA512=e.extend({_doReset:function(){this._hash=new i.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],l=r[5],f=r[6],h=r[7],p=n.high,d=n.low,y=o.high,v=o.low,m=i.high,g=i.low,b=a.high,w=a.low,E=s.high,x=s.low,S=l.high,_=l.low,A=f.high,T=f.low,L=h.high,k=h.low,O=p,I=d,N=y,P=v,C=m,D=g,R=b,j=w,F=E,B=x,G=S,M=_,U=A,H=T,q=L,V=k,K=0;K<80;K++){var Y=u[K];if(K<16)var W=Y.high=0|t[e+2*K],z=Y.low=0|t[e+2*K+1];else{var $=u[K-15],X=$.high,J=$.low,Q=(X>>>1|J<<31)^(X>>>8|J<<24)^X>>>7,Z=(J>>>1|X<<31)^(J>>>8|X<<24)^(J>>>7|X<<25),tt=u[K-2],et=tt.high,rt=tt.low,nt=(et>>>19|rt<<13)^(et<<3|rt>>>29)^et>>>6,ot=(rt>>>19|et<<13)^(rt<<3|et>>>29)^(rt>>>6|et<<26),it=u[K-7],at=it.high,st=it.low,ct=u[K-16],ut=ct.high,lt=ct.low;W=(W=(W=Q+at+((z=Z+st)>>>0<Z>>>0?1:0))+nt+((z+=ot)>>>0<ot>>>0?1:0))+ut+((z+=lt)>>>0<lt>>>0?1:0),Y.high=W,Y.low=z}var ft,ht=F&G^~F&U,pt=B&M^~B&H,dt=O&N^O&C^N&C,yt=I&P^I&D^P&D,vt=(O>>>28|I<<4)^(O<<30|I>>>2)^(O<<25|I>>>7),mt=(I>>>28|O<<4)^(I<<30|O>>>2)^(I<<25|O>>>7),gt=(F>>>14|B<<18)^(F>>>18|B<<14)^(F<<23|B>>>9),bt=(B>>>14|F<<18)^(B>>>18|F<<14)^(B<<23|F>>>9),wt=c[K],Et=wt.high,xt=wt.low,St=q+gt+((ft=V+bt)>>>0<V>>>0?1:0),_t=mt+yt;q=U,V=H,U=G,H=M,G=F,M=B,F=R+(St=(St=(St=St+ht+((ft+=pt)>>>0<pt>>>0?1:0))+Et+((ft+=xt)>>>0<xt>>>0?1:0))+W+((ft+=z)>>>0<z>>>0?1:0))+((B=j+ft|0)>>>0<j>>>0?1:0)|0,R=C,j=D,C=N,D=P,N=O,P=I,O=St+(vt+dt+(_t>>>0<mt>>>0?1:0))+((I=ft+_t|0)>>>0<ft>>>0?1:0)|0}d=n.low=d+I,n.high=p+O+(d>>>0<I>>>0?1:0),v=o.low=v+P,o.high=y+N+(v>>>0<P>>>0?1:0),g=i.low=g+D,i.high=m+C+(g>>>0<D>>>0?1:0),w=a.low=w+j,a.high=b+R+(w>>>0<j>>>0?1:0),x=s.low=x+B,s.high=E+F+(x>>>0<B>>>0?1:0),_=l.low=_+M,l.high=S+G+(_>>>0<M>>>0?1:0),T=f.low=T+H,f.high=A+U+(T>>>0<H>>>0?1:0),k=h.low=k+V,h.high=L+q+(k>>>0<V>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(l),t.HmacSHA512=e._createHmacHelper(l)}(),n.SHA512)},7896:function(t,e,r){var n;t.exports=(n=r(9305),r(3118),r(9672),r(4894),r(6113),function(){var t=n,e=t.lib,r=e.WordArray,o=e.BlockCipher,i=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=i.DES=o.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var n=a[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(var o=this._subKeys=[],i=0;i<16;i++){var u=o[i]=[],l=c[i];for(r=0;r<24;r++)u[r/6|0]|=e[(s[r]-1+l)%28]<<31-r%6,u[4+(r/6|0)]|=e[28+(s[r+24]-1+l)%28]<<31-r%6;for(u[0]=u[0]<<1|u[0]>>>31,r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(r=0;r<16;r++)f[r]=o[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var n=0;n<16;n++){for(var o=r[n],i=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^o[c])&l[c])>>>0];this._lBlock=a,this._rBlock=i^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function p(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=o._createHelper(f);var d=i.TripleDES=o.extend({_doReset:function(){var t=this._key.words;this._des1=f.createEncryptor(r.create(t.slice(0,2))),this._des2=f.createEncryptor(r.create(t.slice(2,4))),this._des3=f.createEncryptor(r.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=o._createHelper(d)}(),n.TripleDES)},6044:function(t,e,r){var n;t.exports=(n=r(9305),function(t){var e=n,r=e.lib,o=r.Base,i=r.WordArray,a=e.x64={};a.Word=o.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=o.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:8*e.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var o=t[n];r.push(o.high),r.push(o.low)}return i.create(r,this.sigBytes)},clone:function(){for(var t=o.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}})}(),n)},8239:(t,e)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,c=(1<<s)-1,u=c>>1,l=-7,f=r?o-1:0,h=r?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=u}return(p?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,h=23===o?5.960464477539062e-8:0,p=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(s=isNaN(e)?1:0,a=l):(e*(c=Math.pow(2,-(a=Math.floor(Math.log(e)/Math.LN2))))<1&&(a--,c*=2),(e+=a+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*c-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[r+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[r+p]=255&a,p+=d,a/=256,u-=8);t[r+p-d]|=128*y}},2169:(t,e,r)=>{var n=r(8120).stringify,o=r(3990);t.exports=function(t){return{parse:o(t),stringify:n}},t.exports.parse=o(),t.exports.stringify=n},3990:(t,e,r)=>{var n=null;const o=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,i=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;t.exports=function(t){"use strict";var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=t){if(!0===t.strict&&(e.strict=!0),!0===t.storeAsString&&(e.storeAsString=!0),e.alwaysParseAsBig=!0===t.alwaysParseAsBig&&t.alwaysParseAsBig,e.useNativeBigInt=!0===t.useNativeBigInt&&t.useNativeBigInt,void 0!==t.constructorAction){if("error"!==t.constructorAction&&"ignore"!==t.constructorAction&&"preserve"!==t.constructorAction)throw Error('Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed '+t.constructorAction);e.constructorAction=t.constructorAction}if(void 0!==t.protoAction){if("error"!==t.protoAction&&"ignore"!==t.protoAction&&"preserve"!==t.protoAction)throw Error('Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed '+t.protoAction);e.protoAction=t.protoAction}}var a,s,c,u,l={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},f=function(t){throw{name:"SyntaxError",message:t,at:a,text:c}},h=function(t){return t&&t!==s&&f("Expected '"+t+"' instead of '"+s+"'"),s=c.charAt(a),a+=1,s},p=function(){var t,o="";for("-"===s&&(o="-",h("-"));s>="0"&&s<="9";)o+=s,h();if("."===s)for(o+=".";h()&&s>="0"&&s<="9";)o+=s;if("e"===s||"E"===s)for(o+=s,h(),"-"!==s&&"+"!==s||(o+=s,h());s>="0"&&s<="9";)o+=s,h();if(isFinite(t=+o))return null==n&&(n=r(9030)),o.length>15?e.storeAsString?o:e.useNativeBigInt?BigInt(o):new n(o):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(t):new n(t):t;f("Bad number")},d=function(){var t,e,r,n="";if('"'===s)for(var o=a;h();){if('"'===s)return a-1>o&&(n+=c.substring(o,a-1)),h(),n;if("\\"===s){if(a-1>o&&(n+=c.substring(o,a-1)),h(),"u"===s){for(r=0,e=0;e<4&&(t=parseInt(h(),16),isFinite(t));e+=1)r=16*r+t;n+=String.fromCharCode(r)}else{if("string"!=typeof l[s])break;n+=l[s]}o=a}}f("Bad string")},y=function(){for(;s&&s<=" ";)h()};return u=function(){switch(y(),s){case"{":return function(){var t,r=Object.create(null);if("{"===s){if(h("{"),y(),"}"===s)return h("}"),r;for(;s;){if(t=d(),y(),h(":"),!0===e.strict&&Object.hasOwnProperty.call(r,t)&&f('Duplicate key "'+t+'"'),!0===o.test(t)?"error"===e.protoAction?f("Object contains forbidden prototype property"):"ignore"===e.protoAction?u():r[t]=u():!0===i.test(t)?"error"===e.constructorAction?f("Object contains forbidden constructor property"):"ignore"===e.constructorAction?u():r[t]=u():r[t]=u(),y(),"}"===s)return h("}"),r;h(","),y()}}f("Bad object")}();case"[":return function(){var t=[];if("["===s){if(h("["),y(),"]"===s)return h("]"),t;for(;s;){if(t.push(u()),y(),"]"===s)return h("]"),t;h(","),y()}}f("Bad array")}();case'"':return d();case"-":return p();default:return s>="0"&&s<="9"?p():function(){switch(s){case"t":return h("t"),h("r"),h("u"),h("e"),!0;case"f":return h("f"),h("a"),h("l"),h("s"),h("e"),!1;case"n":return h("n"),h("u"),h("l"),h("l"),null}f("Unexpected '"+s+"'")}()}},function(t,e){var r;return c=t+"",a=0,s=" ",r=u(),y(),s&&f("Syntax error"),"function"==typeof e?function t(r,n){var o,i=r[n];return i&&"object"==typeof i&&Object.keys(i).forEach((function(e){void 0!==(o=t(i,e))?i[e]=o:delete i[e]})),e.call(r,n,i)}({"":r},""):r}}},8120:(t,e,r)=>{var n=r(9030),o=t.exports;!function(){"use strict";var t,e,r,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(t){return i.lastIndex=0,i.test(t)?'"'+t.replace(i,(function(t){var e=a[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function c(o,i){var a,u,l,f,h,p=t,d=i[o],y=null!=d&&(d instanceof n||n.isBigNumber(d));switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(o)),"function"==typeof r&&(d=r.call(i,o,d)),typeof d){case"string":return y?d:s(d);case"number":return isFinite(d)?d+"":"null";case"boolean":case"null":case"bigint":return d+"";case"object":if(!d)return"null";if(t+=e,h=[],"[object Array]"===Object.prototype.toString.apply(d)){for(f=d.length,a=0;a<f;a+=1)h[a]=c(a,d)||"null";return l=0===h.length?"[]":t?"[\n"+t+h.join(",\n"+t)+"\n"+p+"]":"["+h.join(",")+"]",t=p,l}if(r&&"object"==typeof r)for(f=r.length,a=0;a<f;a+=1)"string"==typeof r[a]&&(l=c(u=r[a],d))&&h.push(s(u)+(t?": ":":")+l);else Object.keys(d).forEach((function(e){var r=c(e,d);r&&h.push(s(e)+(t?": ":":")+r)}));return l=0===h.length?"{}":t?"{\n"+t+h.join(",\n"+t)+"\n"+p+"}":"{"+h.join(",")+"}",t=p,l}}"function"!=typeof o.stringify&&(o.stringify=function(n,o,i){var a;if(t="",e="","number"==typeof i)for(a=0;a<i;a+=1)e+=" ";else"string"==typeof i&&(e=i);if(r=o,o&&"function"!=typeof o&&("object"!=typeof o||"number"!=typeof o.length))throw Error("JSON.stringify");return c("",{"":n})})}()},4759:(t,e)=>{var r,n,o,i,a,s,c,u,l,f,h,p={userAgent:!1},d={},y=y||(r=Math,o=(n={}).lib={},i=o.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var r=new t;return e&&r.mixIn(e),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=o.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=a<<24-(n+i)%4*8}else for(i=0;i<o;i+=4)e[n+i>>>2]=r[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=r.ceil(e/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(4294967296*r.random()|0);return new a.init(e,t)}}),s=n.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(r,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(r,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,o=e.sigBytes,i=this.blockSize,s=o/(4*i),c=(s=t?r.ceil(s):r.max((0|s)-this._minBufferSize,0))*i,u=r.min(4*c,o);if(c){for(var l=0;l<c;l+=i)this._doProcessBlock(n,l);var f=n.splice(0,c);e.sigBytes-=u}return new a.init(f,u)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),o.Hasher=f.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new h.HMAC.init(t,r).finalize(e)}}}),h=n.algo={},n);!function(){var t,e=(t=y).lib,r=e.Base,n=e.WordArray;(t=t.x64={}).Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),t.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],o=0;o<e;o++){var i=t[o];r.push(i.high),r.push(i.low)}return n.create(r,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,o=0;o<n;o++)e[o]=e[o].clone();return t}})}(),y.lib.Cipher||function(){var t=(h=y).lib,e=t.Base,r=t.WordArray,n=t.BufferedBlockAlgorithm,o=h.enc.Base64,i=h.algo.EvpKDF,a=t.Cipher=n.extend({cfg:e.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,r,n){return("string"==typeof r?p:f).encrypt(t,e,r,n)},decrypt:function(e,r,n){return("string"==typeof r?p:f).decrypt(t,e,r,n)}}}});t.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var s=h.mode={},c=function(t,e,r){var n=this._iv;n?this._iv=undefined:n=this._prevBlock;for(var o=0;o<r;o++)t[e+o]^=n[o]},u=(t.BlockCipherMode=e.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();u.Encryptor=u.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize;c.call(this,t,e,n),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),u.Decryptor=u.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,o=t.slice(e,e+n);r.decryptBlock(t,e),c.call(this,t,e,n),this._prevBlock=o}}),s=s.CBC=u,u=(h.pad={}).Pkcs7={pad:function(t,e){for(var n,o=(n=(n=4*e)-t.sigBytes%n)<<24|n<<16|n<<8|n,i=[],a=0;a<n;a+=4)i.push(o);n=r.create(i,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},t.BlockCipher=a.extend({cfg:a.cfg.extend({mode:s,padding:u}),reset:function(){a.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=e.createEncryptor;else r=e.createDecryptor,this._minBufferSize=1;this._mode=r.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var l=t.CipherParams=e.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),f=(s=(h.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?r.create([1398893684,1701076831]).concat(t).concat(e):e).toString(o)},parse:function(t){var e=(t=o.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var n=r.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return l.create({ciphertext:t,salt:n})}},t.SerializableCipher=e.extend({cfg:e.extend({format:s}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var o=t.createEncryptor(r,n);return e=o.finalize(e),o=o.cfg,l.create({ciphertext:e,key:r,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),h=(h.kdf={}).OpenSSL={execute:function(t,e,n,o){return o||(o=r.random(8)),t=i.create({keySize:e+n}).compute(t,o),n=r.create(t.words.slice(e),4*n),t.sigBytes=4*e,l.create({key:t,iv:n,salt:o})}},p=t.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:h}),encrypt:function(t,e,r,n){return r=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize),n.iv=r.iv,(t=f.encrypt.call(this,t,e,r.key,n)).mixIn(r),t},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),r=n.kdf.execute(r,t.keySize,t.ivSize,e.salt),n.iv=r.iv,f.decrypt.call(this,t,e,r.key,n)}})}(),function(){for(var t=y,e=t.lib.BlockCipher,r=t.algo,n=[],o=[],i=[],a=[],s=[],c=[],u=[],l=[],f=[],h=[],p=[],d=0;256>d;d++)p[d]=128>d?d<<1:d<<1^283;var v=0,m=0;for(d=0;256>d;d++){var g=(g=m^m<<1^m<<2^m<<3^m<<4)>>>8^255&g^99;n[v]=g,o[g]=v;var b=p[v],w=p[b],E=p[w],x=257*p[g]^16843008*g;i[v]=x<<24|x>>>8,a[v]=x<<16|x>>>16,s[v]=x<<8|x>>>24,c[v]=x,x=16843009*E^65537*w^257*b^16843008*v,u[g]=x<<24|x>>>8,l[g]=x<<16|x>>>16,f[g]=x<<8|x>>>24,h[g]=x,v?(v=b^p[p[p[E^b]]],m^=p[p[m]]):v=m=1}var S=[0,1,2,4,8,16,32,64,128,27,54];r=r.AES=e.extend({_doReset:function(){for(var t=(r=this._key).words,e=r.sigBytes/4,r=4*((this._nRounds=e+6)+1),o=this._keySchedule=[],i=0;i<r;i++)if(i<e)o[i]=t[i];else{var a=o[i-1];i%e?6<e&&4==i%e&&(a=n[a>>>24]<<24|n[a>>>16&255]<<16|n[a>>>8&255]<<8|n[255&a]):(a=n[(a=a<<8|a>>>24)>>>24]<<24|n[a>>>16&255]<<16|n[a>>>8&255]<<8|n[255&a],a^=S[i/e|0]<<24),o[i]=o[i-e]^a}for(t=this._invKeySchedule=[],e=0;e<r;e++)i=r-e,a=e%4?o[i]:o[i-4],t[e]=4>e||4>=i?a:u[n[a>>>24]]^l[n[a>>>16&255]]^f[n[a>>>8&255]]^h[n[255&a]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,i,a,s,c,n)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,u,l,f,h,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,o,i,a,s){for(var c=this._nRounds,u=t[e]^r[0],l=t[e+1]^r[1],f=t[e+2]^r[2],h=t[e+3]^r[3],p=4,d=1;d<c;d++){var y=n[u>>>24]^o[l>>>16&255]^i[f>>>8&255]^a[255&h]^r[p++],v=n[l>>>24]^o[f>>>16&255]^i[h>>>8&255]^a[255&u]^r[p++],m=n[f>>>24]^o[h>>>16&255]^i[u>>>8&255]^a[255&l]^r[p++];h=n[h>>>24]^o[u>>>16&255]^i[l>>>8&255]^a[255&f]^r[p++],u=y,l=v,f=m}y=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&h])^r[p++],v=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[h>>>8&255]<<8|s[255&u])^r[p++],m=(s[f>>>24]<<24|s[h>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^r[p++],h=(s[h>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^r[p++],t[e]=y,t[e+1]=v,t[e+2]=m,t[e+3]=h},keySize:8});t.AES=e._createHelper(r)}(),function(){function t(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function e(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}var r=y,n=(o=r.lib).WordArray,o=o.BlockCipher,i=r.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=i.DES=o.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;56>r;r++){var n=a[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(t=this._subKeys=[],n=0;16>n;n++){var o=t[n]=[],i=c[n];for(r=0;24>r;r++)o[r/6|0]|=e[(s[r]-1+i)%28]<<31-r%6,o[4+(r/6|0)]|=e[28+(s[r+24]-1+i)%28]<<31-r%6;for(o[0]=o[0]<<1|o[0]>>>31,r=1;7>r;r++)o[r]>>>=4*(r-1)+3;o[7]=o[7]<<5|o[7]>>>27}for(e=this._invSubKeys=[],r=0;16>r;r++)e[r]=t[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(r,n,o){this._lBlock=r[n],this._rBlock=r[n+1],t.call(this,4,252645135),t.call(this,16,65535),e.call(this,2,858993459),e.call(this,8,16711935),t.call(this,1,1431655765);for(var i=0;16>i;i++){for(var a=o[i],s=this._lBlock,c=this._rBlock,f=0,h=0;8>h;h++)f|=u[h][((c^a[h])&l[h])>>>0];this._lBlock=c,this._rBlock=s^f}o=this._lBlock,this._lBlock=this._rBlock,this._rBlock=o,t.call(this,1,1431655765),e.call(this,8,16711935),e.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),r[n]=this._lBlock,r[n+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});r.DES=o._createHelper(f),i=i.TripleDES=o.extend({_doReset:function(){var t=this._key.words;this._des1=f.createEncryptor(n.create(t.slice(0,2))),this._des2=f.createEncryptor(n.create(t.slice(2,4))),this._des3=f.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2}),r.TripleDES=o._createHelper(i)}(),function(){var t=y,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp(),t=[];for(var o=0;o<r;o+=3)for(var i=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;4>a&&o+.75*a<r;a++)t.push(n.charAt(i>>>6*(3-a)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var r=t.length,n=this._map;(o=n.charAt(64))&&(-1!=(o=t.indexOf(o))&&(r=o));for(var o=[],i=0,a=0;a<r;a++)if(a%4){var s=n.indexOf(t.charAt(a-1))<<a%4*2,c=n.indexOf(t.charAt(a))>>>6-a%4*2;o[i>>>2]|=(s|c)<<24-i%4*8,i++}return e.create(o,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,r,n,o,i,a){return((t=t+(e&r|~e&n)+o+a)<<i|t>>>32-i)+e}function r(t,e,r,n,o,i,a){return((t=t+(e&n|r&~n)+o+a)<<i|t>>>32-i)+e}function n(t,e,r,n,o,i,a){return((t=t+(e^r^n)+o+a)<<i|t>>>32-i)+e}function o(t,e,r,n,o,i,a){return((t=t+(r^(e|~n))+o+a)<<i|t>>>32-i)+e}for(var i=y,a=(c=i.lib).WordArray,s=c.Hasher,c=i.algo,u=[],l=0;64>l;l++)u[l]=4294967296*t.abs(t.sin(l+1))|0;c=c.MD5=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,i){for(var a=0;16>a;a++){var s=t[c=i+a];t[c]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}a=this._hash.words;var c=t[i+0],l=(s=t[i+1],t[i+2]),f=t[i+3],h=t[i+4],p=t[i+5],d=t[i+6],y=t[i+7],v=t[i+8],m=t[i+9],g=t[i+10],b=t[i+11],w=t[i+12],E=t[i+13],x=t[i+14],S=t[i+15],_=e(_=a[0],L=a[1],T=a[2],A=a[3],c,7,u[0]),A=e(A,_,L,T,s,12,u[1]),T=e(T,A,_,L,l,17,u[2]),L=e(L,T,A,_,f,22,u[3]);_=e(_,L,T,A,h,7,u[4]),A=e(A,_,L,T,p,12,u[5]),T=e(T,A,_,L,d,17,u[6]),L=e(L,T,A,_,y,22,u[7]),_=e(_,L,T,A,v,7,u[8]),A=e(A,_,L,T,m,12,u[9]),T=e(T,A,_,L,g,17,u[10]),L=e(L,T,A,_,b,22,u[11]),_=e(_,L,T,A,w,7,u[12]),A=e(A,_,L,T,E,12,u[13]),T=e(T,A,_,L,x,17,u[14]),_=r(_,L=e(L,T,A,_,S,22,u[15]),T,A,s,5,u[16]),A=r(A,_,L,T,d,9,u[17]),T=r(T,A,_,L,b,14,u[18]),L=r(L,T,A,_,c,20,u[19]),_=r(_,L,T,A,p,5,u[20]),A=r(A,_,L,T,g,9,u[21]),T=r(T,A,_,L,S,14,u[22]),L=r(L,T,A,_,h,20,u[23]),_=r(_,L,T,A,m,5,u[24]),A=r(A,_,L,T,x,9,u[25]),T=r(T,A,_,L,f,14,u[26]),L=r(L,T,A,_,v,20,u[27]),_=r(_,L,T,A,E,5,u[28]),A=r(A,_,L,T,l,9,u[29]),T=r(T,A,_,L,y,14,u[30]),_=n(_,L=r(L,T,A,_,w,20,u[31]),T,A,p,4,u[32]),A=n(A,_,L,T,v,11,u[33]),T=n(T,A,_,L,b,16,u[34]),L=n(L,T,A,_,x,23,u[35]),_=n(_,L,T,A,s,4,u[36]),A=n(A,_,L,T,h,11,u[37]),T=n(T,A,_,L,y,16,u[38]),L=n(L,T,A,_,g,23,u[39]),_=n(_,L,T,A,E,4,u[40]),A=n(A,_,L,T,c,11,u[41]),T=n(T,A,_,L,f,16,u[42]),L=n(L,T,A,_,d,23,u[43]),_=n(_,L,T,A,m,4,u[44]),A=n(A,_,L,T,w,11,u[45]),T=n(T,A,_,L,S,16,u[46]),_=o(_,L=n(L,T,A,_,l,23,u[47]),T,A,c,6,u[48]),A=o(A,_,L,T,y,10,u[49]),T=o(T,A,_,L,x,15,u[50]),L=o(L,T,A,_,p,21,u[51]),_=o(_,L,T,A,w,6,u[52]),A=o(A,_,L,T,f,10,u[53]),T=o(T,A,_,L,g,15,u[54]),L=o(L,T,A,_,s,21,u[55]),_=o(_,L,T,A,v,6,u[56]),A=o(A,_,L,T,S,10,u[57]),T=o(T,A,_,L,d,15,u[58]),L=o(L,T,A,_,E,21,u[59]),_=o(_,L,T,A,h,6,u[60]),A=o(A,_,L,T,b,10,u[61]),T=o(T,A,_,L,l,15,u[62]),L=o(L,T,A,_,m,21,u[63]);a[0]=a[0]+_|0,a[1]=a[1]+L|0,a[2]=a[2]+T|0,a[3]=a[3]+A|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296);for(r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(r.length+1),this._process(),r=(e=this._hash).words,n=0;4>n;n++)o=r[n],r[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return e},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}}),i.MD5=s._createHelper(c),i.HmacMD5=s._createHmacHelper(c)}(Math),function(){var t=y,e=(o=t.lib).WordArray,r=o.Hasher,n=[],o=t.algo.SHA1=r.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,o=r[0],i=r[1],a=r[2],s=r[3],c=r[4],u=0;80>u;u++){if(16>u)n[u]=0|t[e+u];else{var l=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=l<<1|l>>>31}l=(o<<5|o>>>27)+c+n[u],l=20>u?l+(1518500249+(i&a|~i&s)):40>u?l+(1859775393+(i^a^s)):60>u?l+((i&a|i&s|a&s)-1894007588):l+((i^a^s)-899497514),c=s,s=a,a=i<<30|i>>>2,i=o,o=l}r[0]=r[0]+o|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=r._createHelper(o),t.HmacSHA1=r._createHmacHelper(o)}(),function(t){for(var e=y,r=(o=e.lib).WordArray,n=o.Hasher,o=e.algo,i=[],a=[],s=function(t){return 4294967296*(t-(0|t))|0},c=2,u=0;64>u;){var l;t:{l=c;for(var f=t.sqrt(l),h=2;h<=f;h++)if(!(l%h)){l=!1;break t}l=!0}l&&(8>u&&(i[u]=s(t.pow(c,.5))),a[u]=s(t.pow(c,1/3)),u++),c++}var p=[];o=o.SHA256=n.extend({_doReset:function(){this._hash=new r.init(i.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],s=r[3],c=r[4],u=r[5],l=r[6],f=r[7],h=0;64>h;h++){if(16>h)p[h]=0|t[e+h];else{var d=p[h-15],y=p[h-2];p[h]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+p[h-7]+((y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10)+p[h-16]}d=f+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&l)+a[h]+p[h],y=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&o^n&i^o&i),f=l,l=u,u=c,c=s+d|0,s=i,i=o,o=n,n=d+y|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0,r[5]=r[5]+u|0,r[6]=r[6]+l|0,r[7]=r[7]+f|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return r[o>>>5]|=128<<24-o%32,r[14+(o+64>>>9<<4)]=t.floor(n/4294967296),r[15+(o+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=n._createHelper(o),e.HmacSHA256=n._createHmacHelper(o)}(Math),function(){var t=y,e=t.lib.WordArray,r=(n=t.algo).SHA256,n=n.SHA224=r.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=r._createHelper(n),t.HmacSHA224=r._createHmacHelper(n)}(),function(){function t(){return n.create.apply(n,arguments)}for(var e=y,r=e.lib.Hasher,n=(i=e.x64).Word,o=i.WordArray,i=e.algo,a=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],s=[],c=0;80>c;c++)s[c]=t();i=i.SHA512=r.extend({_doReset:function(){this._hash=new o.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=(f=this._hash.words)[0],n=f[1],o=f[2],i=f[3],c=f[4],u=f[5],l=f[6],f=f[7],h=r.high,p=r.low,d=n.high,y=n.low,v=o.high,m=o.low,g=i.high,b=i.low,w=c.high,E=c.low,x=u.high,S=u.low,_=l.high,A=l.low,T=f.high,L=f.low,k=h,O=p,I=d,N=y,P=v,C=m,D=g,R=b,j=w,F=E,B=x,G=S,M=_,U=A,H=T,q=L,V=0;80>V;V++){var K=s[V];if(16>V)var Y=K.high=0|t[e+2*V],W=K.low=0|t[e+2*V+1];else{Y=((W=(Y=s[V-15]).high)>>>1|(z=Y.low)<<31)^(W>>>8|z<<24)^W>>>7;var z=(z>>>1|W<<31)^(z>>>8|W<<24)^(z>>>7|W<<25),$=((W=($=s[V-2]).high)>>>19|(X=$.low)<<13)^(W<<3|X>>>29)^W>>>6,X=(X>>>19|W<<13)^(X<<3|W>>>29)^(X>>>6|W<<26),J=(W=s[V-7]).high,Q=(Z=s[V-16]).high,Z=Z.low;Y=(Y=(Y=Y+J+((W=z+W.low)>>>0<z>>>0?1:0))+$+((W=W+X)>>>0<X>>>0?1:0))+Q+((W=W+Z)>>>0<Z>>>0?1:0);K.high=Y,K.low=W}J=j&B^~j&M,Z=F&G^~F&U,K=k&I^k&P^I&P;var tt=O&N^O&C^N&C,et=(z=(k>>>28|O<<4)^(k<<30|O>>>2)^(k<<25|O>>>7),$=(O>>>28|k<<4)^(O<<30|k>>>2)^(O<<25|k>>>7),(X=a[V]).high),rt=X.low;Q=H+((j>>>14|F<<18)^(j>>>18|F<<14)^(j<<23|F>>>9))+((X=q+((F>>>14|j<<18)^(F>>>18|j<<14)^(F<<23|j>>>9)))>>>0<q>>>0?1:0),H=M,q=U,M=B,U=G,B=j,G=F,j=D+(Q=(Q=(Q=Q+J+((X=X+Z)>>>0<Z>>>0?1:0))+et+((X=X+rt)>>>0<rt>>>0?1:0))+Y+((X=X+W)>>>0<W>>>0?1:0))+((F=R+X|0)>>>0<R>>>0?1:0)|0,D=P,R=C,P=I,C=N,I=k,N=O,k=Q+(K=z+K+((W=$+tt)>>>0<$>>>0?1:0))+((O=X+W|0)>>>0<X>>>0?1:0)|0}p=r.low=p+O,r.high=h+k+(p>>>0<O>>>0?1:0),y=n.low=y+N,n.high=d+I+(y>>>0<N>>>0?1:0),m=o.low=m+C,o.high=v+P+(m>>>0<C>>>0?1:0),b=i.low=b+R,i.high=g+D+(b>>>0<R>>>0?1:0),E=c.low=E+F,c.high=w+j+(E>>>0<F>>>0?1:0),S=u.low=S+G,u.high=x+B+(S>>>0<G>>>0?1:0),A=l.low=A+U,l.high=_+M+(A>>>0<U>>>0?1:0),L=f.low=L+q,f.high=T+H+(L>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),e.SHA512=r._createHelper(i),e.HmacSHA512=r._createHmacHelper(i)}(),function(){var t=y,e=(o=t.x64).Word,r=o.WordArray,n=(o=t.algo).SHA512,o=o.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function(){var t=n._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=n._createHelper(o),t.HmacSHA384=n._createHmacHelper(o)}(),function(){var t=y,e=(n=t.lib).WordArray,r=n.Hasher,n=t.algo,o=e.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),i=e.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),a=e.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),s=e.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=e.create([0,1518500249,1859775393,2400959708,2840853838]),u=e.create([1352829926,1548603684,1836072691,2053994217,0]);n=n.RIPEMD160=r.extend({_doReset:function(){this._hash=e.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;16>r;r++){var n=t[w=e+r];t[w]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var l,f,h,p,d,y,v,m,g,b,w=this._hash.words,E=(n=c.words,u.words),x=o.words,S=i.words,_=a.words,A=s.words;y=l=w[0],v=f=w[1],m=h=w[2],g=p=w[3],b=d=w[4];var T;for(r=0;80>r;r+=1)T=l+t[e+x[r]]|0,T=16>r?T+((f^h^p)+n[0]):32>r?T+((f&h|~f&p)+n[1]):48>r?T+(((f|~h)^p)+n[2]):64>r?T+((f&p|h&~p)+n[3]):T+((f^(h|~p))+n[4]),T=(T=(T|=0)<<_[r]|T>>>32-_[r])+d|0,l=d,d=p,p=h<<10|h>>>22,h=f,f=T,T=y+t[e+S[r]]|0,T=16>r?T+((v^(m|~g))+E[0]):32>r?T+((v&g|m&~g)+E[1]):48>r?T+(((v|~m)^g)+E[2]):64>r?T+((v&m|~v&g)+E[3]):T+((v^m^g)+E[4]),T=(T=(T|=0)<<A[r]|T>>>32-A[r])+b|0,y=b,b=g,g=m<<10|m>>>22,m=v,v=T;T=w[1]+h+g|0,w[1]=w[2]+p+b|0,w[2]=w[3]+d+y|0,w[3]=w[4]+l+v|0,w[4]=w[0]+f+m|0,w[0]=T},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;for(e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process(),e=(t=this._hash).words,r=0;5>r;r++)n=e[r],e[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.RIPEMD160=r._createHelper(n),t.HmacRIPEMD160=r._createHmacHelper(n)}(),function(){var t=y,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,r){t=this._hasher=new t.init,"string"==typeof r&&(r=e.parse(r));var n=t.blockSize,o=4*n;r.sigBytes>o&&(r=t.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),a=this._iKey=r.clone(),s=i.words,c=a.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){var t,e=y,r=(t=e.lib).Base,n=t.WordArray,o=(t=e.algo).HMAC,i=t.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:t.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){var r=this.cfg,i=o.create(r.hasher,t),a=n.create(),s=n.create([1]),c=a.words,u=s.words,l=r.keySize;for(r=r.iterations;c.length<l;){var f=i.update(e).finalize(s);i.reset();for(var h=f.words,p=h.length,d=f,y=1;y<r;y++){d=i.finalize(d),i.reset();for(var v=d.words,m=0;m<p;m++)h[m]^=v[m]}a.concat(f),u[0]++}return a.sigBytes=4*l,a}});e.PBKDF2=function(t,e,r){return i.create(r).compute(t,e)}}();
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
var v,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function g(t){var e,r,n="";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=m.charAt(r>>6)+m.charAt(63&r);for(e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=m.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=m.charAt(r>>2)+m.charAt((3&r)<<4)),"=";(3&n.length)>0;)n+="=";return n}function b(t){var e,r,n,o="",i=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e)(n=m.indexOf(t.charAt(e)))<0||(0==i?(o+=L(n>>2),r=3&n,i=1):1==i?(o+=L(r<<2|n>>4),r=15&n,i=2):2==i?(o+=L(r),o+=L(n>>2),r=3&n,i=3):(o+=L(r<<2|n>>4),o+=L(15&n),i=0));return 1==i&&(o+=L(r<<2)),o}function w(t){var e,r=b(t),n=[];for(e=0;2*e<r.length;++e)n[e]=parseInt(r.substring(2*e,2*e+2),16);return n}function E(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function x(){return new E(null)}"Microsoft Internet Explorer"==p.appName?(E.prototype.am=function(t,e,r,n,o,i){for(var a=32767&e,s=e>>15;--i>=0;){var c=32767&this[t],u=this[t++]>>15,l=s*c+u*a;o=((c=a*c+((32767&l)<<15)+r[n]+(1073741823&o))>>>30)+(l>>>15)+s*u+(o>>>30),r[n++]=1073741823&c}return o},v=30):"Netscape"!=p.appName?(E.prototype.am=function(t,e,r,n,o,i){for(;--i>=0;){var a=e*this[t++]+r[n]+o;o=Math.floor(a/67108864),r[n++]=67108863&a}return o},v=26):(E.prototype.am=function(t,e,r,n,o,i){for(var a=16383&e,s=e>>14;--i>=0;){var c=16383&this[t],u=this[t++]>>14,l=s*c+u*a;o=((c=a*c+((16383&l)<<14)+r[n]+o)>>28)+(l>>14)+s*u,r[n++]=268435455&c}return o},v=28),E.prototype.DB=v,E.prototype.DM=(1<<v)-1,E.prototype.DV=1<<v;E.prototype.FV=Math.pow(2,52),E.prototype.F1=52-v,E.prototype.F2=2*v-52;var S,_,A="0123456789abcdefghijklmnopqrstuvwxyz",T=[];for(S=48,_=0;_<=9;++_)T[S++]=_;for(S=97,_=10;_<36;++_)T[S++]=_;for(S=65,_=10;_<36;++_)T[S++]=_;function L(t){return A.charAt(t)}function k(t,e){var r=T[t.charCodeAt(e)];return null==r?-1:r}function O(t){var e=x();return e.fromInt(t),e}function I(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function N(t){this.m=t}function P(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function C(t,e){return t&e}function D(t,e){return t|e}function R(t,e){return t^e}function j(t,e){return t&~e}function F(t){if(0==t)return-1;var e=0;return 65535&t||(t>>=16,e+=16),255&t||(t>>=8,e+=8),15&t||(t>>=4,e+=4),3&t||(t>>=2,e+=2),1&t||++e,e}function B(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function G(){}function M(t){return t}function U(t){this.r2=x(),this.q3=x(),E.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}N.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},N.prototype.revert=function(t){return t},N.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},N.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},N.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},P.prototype.convert=function(t){var e=x();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(E.ZERO)>0&&this.m.subTo(e,e),e},P.prototype.revert=function(t){var e=x();return t.copyTo(e),this.reduce(e),e},P.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},P.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},P.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},E.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},E.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},E.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,o=!1,i=0;--n>=0;){var a=8==r?255&t[n]:k(t,n);a<0?"-"==t.charAt(n)&&(o=!0):(o=!1,0==i?this[this.t++]=a:i+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=r)>=this.DB&&(i-=this.DB))}8==r&&128&t[0]&&(this.s=-1,i>0&&(this[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),o&&E.ZERO.subTo(this,this)},E.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},E.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},E.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},E.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,o=this.DB-n,i=(1<<o)-1,a=Math.floor(t/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+a+1]=this[r]>>o|s,s=(this[r]&i)<<n;for(r=a-1;r>=0;--r)e[r]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},E.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,o=this.DB-n,i=(1<<n)-1;e[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)e[a-r-1]|=(this[a]&i)<<o,e[a-r]=this[a]>>n;n>0&&(e[this.t-r-1]|=(this.s&i)<<o),e.t=this.t-r,e.clamp()}},E.prototype.subTo=function(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},E.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),o=r.t;for(e.t=o+n.t;--o>=0;)e[o]=0;for(o=0;o<n.t;++o)e[o+r.t]=r.am(0,n[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&E.ZERO.subTo(e,e)},E.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},E.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var o=this.abs();if(o.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=x());var i=x(),a=this.s,s=t.s,c=this.DB-I(n[n.t-1]);c>0?(n.lShiftTo(c,i),o.lShiftTo(c,r)):(n.copyTo(i),o.copyTo(r));var u=i.t,l=i[u-1];if(0!=l){var f=l*(1<<this.F1)+(u>1?i[u-2]>>this.F2:0),h=this.FV/f,p=(1<<this.F1)/f,d=1<<this.F2,y=r.t,v=y-u,m=null==e?x():e;for(i.dlShiftTo(v,m),r.compareTo(m)>=0&&(r[r.t++]=1,r.subTo(m,r)),E.ONE.dlShiftTo(u,m),m.subTo(i,i);i.t<u;)i[i.t++]=0;for(;--v>=0;){var g=r[--y]==l?this.DM:Math.floor(r[y]*h+(r[y-1]+d)*p);if((r[y]+=i.am(0,g,r,v,0,u))<g)for(i.dlShiftTo(v,m),r.subTo(m,r);r[y]<--g;)r.subTo(m,r)}null!=e&&(r.drShiftTo(u,e),a!=s&&E.ZERO.subTo(e,e)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&E.ZERO.subTo(r,r)}}},E.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(!(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},E.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},E.prototype.exp=function(t,e){if(t>4294967295||t<1)return E.ONE;var r=x(),n=x(),o=e.convert(this),i=I(t)-1;for(o.copyTo(r);--i>=0;)if(e.sqrTo(r,n),(t&1<<i)>0)e.mulTo(n,o,r);else{var a=r;r=n,n=a}return e.revert(r)},E.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(o=!0,i=L(r));a>=0;)s<e?(r=(this[a]&(1<<s)-1)<<e-s,r|=this[--a]>>(s+=this.DB-e)):(r=this[a]>>(s-=e)&n,s<=0&&(s+=this.DB,--a)),r>0&&(o=!0),o&&(i+=L(r));return o?i:"0"},E.prototype.negate=function(){var t=x();return E.ZERO.subTo(this,t),t},E.prototype.abs=function(){return this.s<0?this.negate():this},E.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},E.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+I(this[this.t-1]^this.s&this.DM)},E.prototype.mod=function(t){var e=x();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(E.ZERO)>0&&t.subTo(e,e),e},E.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new N(e):new P(e),this.exp(t,r)},E.ZERO=O(0),E.ONE=O(1),G.prototype.convert=M,G.prototype.revert=M,G.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},G.prototype.sqrTo=function(t,e){t.squareTo(e)},U.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=x();return t.copyTo(e),this.reduce(e),e},U.prototype.revert=function(t){return t},U.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},U.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},U.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var H=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],q=(1<<26)/H[H.length-1];
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function V(){this.i=0,this.j=0,this.S=[]}E.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},E.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=O(r),o=x(),i=x(),a="";for(this.divRemTo(n,o,i);o.signum()>0;)a=(r+i.intValue()).toString(t).substr(1)+a,o.divRemTo(n,o,i);return i.intValue().toString(t)+a},E.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),o=!1,i=0,a=0,s=0;s<t.length;++s){var c=k(t,s);c<0?"-"==t.charAt(s)&&0==this.signum()&&(o=!0):(a=e*a+c,++i>=r&&(this.dMultiply(n),this.dAddOffset(a,0),i=0,a=0))}i>0&&(this.dMultiply(Math.pow(e,i)),this.dAddOffset(a,0)),o&&E.ZERO.subTo(this,this)},E.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(E.ONE.shiftLeft(t-1),D,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(E.ONE.shiftLeft(t-1),this);else{var n=[],o=7&t;n.length=1+(t>>3),e.nextBytes(n),o>0?n[0]&=(1<<o)-1:n[0]=0,this.fromString(n,256)}},E.prototype.bitwiseTo=function(t,e,r){var n,o,i=Math.min(t.t,this.t);for(n=0;n<i;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(o=t.s&this.DM,n=i;n<this.t;++n)r[n]=e(this[n],o);r.t=this.t}else{for(o=this.s&this.DM,n=i;n<t.t;++n)r[n]=e(o,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},E.prototype.changeBit=function(t,e){var r=E.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},E.prototype.addTo=function(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},E.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},E.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},E.prototype.multiplyLowerTo=function(t,e,r){var n,o=Math.min(this.t+t.t,e);for(r.s=0,r.t=o;o>0;)r[--o]=0;for(n=r.t-this.t;o<n;++o)r[o+this.t]=this.am(0,t[o],r,o,0,this.t);for(n=Math.min(t.t,e);o<n;++o)this.am(0,t[o],r,o,0,e-o);r.clamp()},E.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},E.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},E.prototype.millerRabin=function(t){var e=this.subtract(E.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);(t=t+1>>1)>H.length&&(t=H.length);for(var o=x(),i=0;i<t;++i){o.fromInt(H[Math.floor(Math.random()*H.length)]);var a=o.modPow(n,this);if(0!=a.compareTo(E.ONE)&&0!=a.compareTo(e)){for(var s=1;s++<r&&0!=a.compareTo(e);)if(0==(a=a.modPowInt(2,this)).compareTo(E.ONE))return!1;if(0!=a.compareTo(e))return!1}}return!0},E.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function(){var t=x();return this.copyTo(t),t},E.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},E.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},E.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},E.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},E.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var r,n=this.DB-t*this.DB%8,o=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[o++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),128&r&&(r|=-256),0==o&&(128&this.s)!=(128&r)&&++o,(o>0||r!=this.s)&&(e[o++]=r);return e},E.prototype.equals=function(t){return 0==this.compareTo(t)},E.prototype.min=function(t){return this.compareTo(t)<0?this:t},E.prototype.max=function(t){return this.compareTo(t)>0?this:t},E.prototype.and=function(t){var e=x();return this.bitwiseTo(t,C,e),e},E.prototype.or=function(t){var e=x();return this.bitwiseTo(t,D,e),e},E.prototype.xor=function(t){var e=x();return this.bitwiseTo(t,R,e),e},E.prototype.andNot=function(t){var e=x();return this.bitwiseTo(t,j,e),e},E.prototype.not=function(){for(var t=x(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},E.prototype.shiftLeft=function(t){var e=x();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},E.prototype.shiftRight=function(t){var e=x();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},E.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+F(this[t]);return this.s<0?this.t*this.DB:-1},E.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=B(this[r]^e);return t},E.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:!!(this[e]&1<<t%this.DB)},E.prototype.setBit=function(t){return this.changeBit(t,D)},E.prototype.clearBit=function(t){return this.changeBit(t,j)},E.prototype.flipBit=function(t){return this.changeBit(t,R)},E.prototype.add=function(t){var e=x();return this.addTo(t,e),e},E.prototype.subtract=function(t){var e=x();return this.subTo(t,e),e},E.prototype.multiply=function(t){var e=x();return this.multiplyTo(t,e),e},E.prototype.divide=function(t){var e=x();return this.divRemTo(t,e,null),e},E.prototype.remainder=function(t){var e=x();return this.divRemTo(t,null,e),e},E.prototype.divideAndRemainder=function(t){var e=x(),r=x();return this.divRemTo(t,e,r),[e,r]},E.prototype.modPow=function(t,e){var r,n,o=t.bitLength(),i=O(1);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6,n=o<8?new N(e):e.isEven()?new U(e):new P(e);var a=[],s=3,c=r-1,u=(1<<r)-1;if(a[1]=n.convert(this),r>1){var l=x();for(n.sqrTo(a[1],l);s<=u;)a[s]=x(),n.mulTo(l,a[s-2],a[s]),s+=2}var f,h,p=t.t-1,d=!0,y=x();for(o=I(t[p])-1;p>=0;){for(o>=c?f=t[p]>>o-c&u:(f=(t[p]&(1<<o+1)-1)<<c-o,p>0&&(f|=t[p-1]>>this.DB+o-c)),s=r;!(1&f);)f>>=1,--s;if((o-=s)<0&&(o+=this.DB,--p),d)a[f].copyTo(i),d=!1;else{for(;s>1;)n.sqrTo(i,y),n.sqrTo(y,i),s-=2;s>0?n.sqrTo(i,y):(h=i,i=y,y=h),n.mulTo(y,a[f],i)}for(;p>=0&&!(t[p]&1<<o);)n.sqrTo(i,y),h=i,i=y,y=h,--o<0&&(o=this.DB-1,--p)}return n.revert(i)},E.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return E.ZERO;for(var r=t.clone(),n=this.clone(),o=O(1),i=O(0),a=O(0),s=O(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(o.isEven()&&i.isEven()||(o.addTo(this,o),i.subTo(t,i)),o.rShiftTo(1,o)):i.isEven()||i.subTo(t,i),i.rShiftTo(1,i);for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(t,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),e&&o.subTo(a,o),i.subTo(s,i)):(n.subTo(r,n),e&&a.subTo(o,a),s.subTo(i,s))}return 0!=n.compareTo(E.ONE)?E.ZERO:s.compareTo(t)>=0?s.subtract(t):s.signum()<0?(s.addTo(t,s),s.signum()<0?s.add(t):s):s},E.prototype.pow=function(t){return this.exp(t,new G)},E.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var o=e.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return e;for(o<i&&(i=o),i>0&&(e.rShiftTo(i,e),r.rShiftTo(i,r));e.signum()>0;)(o=e.getLowestSetBit())>0&&e.rShiftTo(o,e),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},E.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=H[H.length-1]){for(e=0;e<H.length;++e)if(r[0]==H[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<H.length;){for(var n=H[e],o=e+1;o<H.length&&n<q;)n*=H[o++];for(n=r.modInt(n);e<o;)if(n%H[e++]==0)return!1}return r.millerRabin(t)},E.prototype.square=function(){var t=x();return this.squareTo(t),t},V.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},V.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var K,Y,W;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function z(){!function(t){Y[W++]^=255&t,Y[W++]^=t>>8&255,Y[W++]^=t>>16&255,Y[W++]^=t>>24&255,W>=256&&(W-=256)}((new Date).getTime())}if(null==Y){var $;if(Y=[],W=0,void 0!==d&&(void 0!==d.crypto||void 0!==d.msCrypto)){var X=d.crypto||d.msCrypto;if(X.getRandomValues){var J=new Uint8Array(32);for(X.getRandomValues(J),$=0;$<32;++$)Y[W++]=J[$]}else if("Netscape"==p.appName&&p.appVersion<"5"){var Q=d.crypto.random(32);for($=0;$<Q.length;++$)Y[W++]=255&Q.charCodeAt($)}}for(;W<256;)$=Math.floor(65536*Math.random()),Y[W++]=$>>>8,Y[W++]=255&$;W=0,z()}function Z(){if(null==K){for(z(),(K=new V).init(Y),W=0;W<Y.length;++W)Y[W]=0;W=0}return K.next()}function tt(){}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function et(t,e){return new E(t,e)}function rt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function nt(t,e){this.x=e,this.q=t}function ot(t,e,r,n){this.curve=t,this.x=e,this.y=r,this.z=null==n?E.ONE:n,this.zinv=null}function it(t,e,r){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(r),this.infinity=new ot(this,null,null)}tt.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=Z()},rt.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},rt.prototype.setPublic=function(t,e){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof t)this.n=t,this.e=e;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA public key";this.n=et(t,16),this.e=parseInt(e,16)}},rt.prototype.type="RSA",rt.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),r=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(r)<0;)e=e.add(this.p);return e.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},rt.prototype.setPrivate=function(t,e,r){if(this.isPrivate=!0,"string"!=typeof t)this.n=t,this.e=e,this.d=r;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA private key";this.n=et(t,16),this.e=parseInt(e,16),this.d=et(r,16)}},rt.prototype.setPrivateEx=function(t,e,r,n,o,i,a,s){if(this.isPrivate=!0,this.isPublic=!1,null==t)throw"RSASetPrivateEx N == null";if(null==e)throw"RSASetPrivateEx E == null";if(0==t.length)throw"RSASetPrivateEx N.length == 0";if(0==e.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=et(t,16),this.e=parseInt(e,16),this.d=et(r,16),this.p=et(n,16),this.q=et(o,16),this.dmp1=et(i,16),this.dmq1=et(a,16),this.coeff=et(s,16)},rt.prototype.generate=function(t,e){var r=new tt,n=t>>1;this.e=parseInt(e,16);for(var o=new E(e,16),i=t/2-100,a=E.ONE.shiftLeft(i);;){for(;this.p=new E(t-n,1,r),0!=this.p.subtract(E.ONE).gcd(o).compareTo(E.ONE)||!this.p.isProbablePrime(10););for(;this.q=new E(n,1,r),0!=this.q.subtract(E.ONE).gcd(o).compareTo(E.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var c=this.q.subtract(this.p).abs();if(!(c.bitLength()<i||c.compareTo(a)<=0)){var u=this.p.subtract(E.ONE),l=this.q.subtract(E.ONE),f=u.multiply(l);if(0==f.gcd(o).compareTo(E.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==t)){this.d=o.modInverse(f),this.dmp1=this.d.mod(u),this.dmq1=this.d.mod(l),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},nt.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},nt.prototype.toBigInteger=function(){return this.x},nt.prototype.negate=function(){return new nt(this.q,this.x.negate().mod(this.q))},nt.prototype.add=function(t){return new nt(this.q,this.x.add(t.toBigInteger()).mod(this.q))},nt.prototype.subtract=function(t){return new nt(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},nt.prototype.multiply=function(t){return new nt(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},nt.prototype.square=function(){return new nt(this.q,this.x.square().mod(this.q))},nt.prototype.divide=function(t){return new nt(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},nt.prototype.sqrt=function(){return new nt(this.q,this.x.sqrt().mod(this.q))},ot.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ot.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ot.prototype.equals=function(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(E.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(E.ZERO))},ot.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(E.ZERO)&&!this.y.toBigInteger().equals(E.ZERO)},ot.prototype.negate=function(){return new ot(this.curve,this.x,this.y.negate(),this.z)},ot.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(E.ZERO.equals(r))return E.ZERO.equals(e)?this.twice():this.curve.getInfinity();var n=new E("3"),o=this.x.toBigInteger(),i=this.y.toBigInteger(),a=(t.x.toBigInteger(),t.y.toBigInteger(),r.square()),s=a.multiply(r),c=o.multiply(a),u=e.square().multiply(this.z),l=u.subtract(c.shiftLeft(1)).multiply(t.z).subtract(s).multiply(r).mod(this.curve.q),f=c.multiply(n).multiply(e).subtract(i.multiply(s)).subtract(u.multiply(e)).multiply(t.z).add(e.multiply(s)).mod(this.curve.q),h=s.multiply(this.z).multiply(t.z).mod(this.curve.q);return new ot(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(f),h)},ot.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new E("3"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),o=n.multiply(r).mod(this.curve.q),i=this.curve.a.toBigInteger(),a=e.square().multiply(t);E.ZERO.equals(i)||(a=a.add(this.z.square().multiply(i)));var s=(a=a.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(o)).shiftLeft(1).multiply(n).mod(this.curve.q),c=a.multiply(t).multiply(e).subtract(o.shiftLeft(1)).shiftLeft(2).multiply(o).subtract(a.square().multiply(a)).mod(this.curve.q),u=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new ot(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(c),u)},ot.prototype.multiply=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new E("3")),o=this.negate(),i=this,a=this.curve.q.subtract(t),s=a.multiply(new E("3")),c=new ot(this.curve,this.x,this.y),u=c.negate();for(e=n.bitLength()-2;e>0;--e){i=i.twice();var l=n.testBit(e);l!=r.testBit(e)&&(i=i.add(l?this:o))}for(e=s.bitLength()-2;e>0;--e){c=c.twice();var f=s.testBit(e);f!=a.testBit(e)&&(c=c.add(f?c:u))}return i},ot.prototype.multiplyTwo=function(t,e,r){var n;n=t.bitLength()>r.bitLength()?t.bitLength()-1:r.bitLength()-1;for(var o=this.curve.getInfinity(),i=this.add(e);n>=0;)o=o.twice(),t.testBit(n)?o=r.testBit(n)?o.add(i):o.add(this):r.testBit(n)&&(o=o.add(e)),--n;return o},it.prototype.getQ=function(){return this.q},it.prototype.getA=function(){return this.a},it.prototype.getB=function(){return this.b},it.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},it.prototype.getInfinity=function(){return this.infinity},it.prototype.fromBigInteger=function(t){return new nt(this.q,t)},it.prototype.decodePointHex=function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var e=t.substr(0,2),r=(t.substr(2),this.fromBigInteger(new E(s,16))),n=this.getA(),o=this.getB(),i=r.square().add(n).multiply(r).add(o).sqrt();return"03"==e&&(i=i.negate()),new ot(this,r,i);case 4:case 6:case 7:var a=(t.length-2)/2,s=t.substr(2,a),c=t.substr(a+2,a);return new ot(this,this.fromBigInteger(new E(s,16)),this.fromBigInteger(new E(c,16)));default:return null}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */
nt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ot.prototype.getEncoded=function(t){var e=function(t,e){var r=t.toByteArrayUnsigned();if(e<r.length)r=r.slice(r.length-e);else for(;e>r.length;)r.unshift(0);return r},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),o=e(r,32);return t?n.isEven()?o.unshift(2):o.unshift(3):(o.unshift(4),o=o.concat(e(n,32))),o},ot.decodeFrom=function(t,e){e[0];var r=e.length-1,n=e.slice(1,1+r/2),o=e.slice(1+r/2,1+r);n.unshift(0),o.unshift(0);var i=new E(n),a=new E(o);return new ot(t,t.fromBigInteger(i),t.fromBigInteger(a))},ot.decodeFromHex=function(t,e){e.substr(0,2);var r=e.length-2,n=e.substr(2,r/2),o=e.substr(2+r/2,r/2),i=new E(n,16),a=new E(o,16);return new ot(t,t.fromBigInteger(i),t.fromBigInteger(a))},ot.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),r=t.y.subtract(this.y).divide(e),n=r.square().subtract(this.x).subtract(t.x),o=r.multiply(this.x.subtract(n)).subtract(this.y);return new ot(this.curve,n,o)},ot.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(E.valueOf(2)),e=this.curve.fromBigInteger(E.valueOf(3)),r=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),n=r.square().subtract(this.x.multiply(t)),o=r.multiply(this.x.subtract(n)).subtract(this.y);return new ot(this.curve,n,o)},ot.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new E("3")),o=this.negate(),i=this;for(e=n.bitLength()-2;e>0;--e){i=i.twice();var a=n.testBit(e);a!=r.testBit(e)&&(i=i.add2D(a?this:o))}return i},ot.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),o=this.curve.getQ(),i=e.multiply(e).mod(o),a=t.multiply(t).multiply(t).add(r.multiply(t)).add(n).mod(o);return i.equals(a)},ot.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ot.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw Error("Point is at infinity.");var e=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(e.compareTo(E.ONE)<0||e.compareTo(t.subtract(E.ONE))>0)throw Error("x coordinate out of bounds");if(r.compareTo(E.ONE)<0||r.compareTo(t.subtract(E.ONE))>0)throw Error("y coordinate out of bounds");if(!this.isOnCurve())throw Error("Point is not on the curve.");if(this.multiply(t).isInfinity())throw Error("Point is not a scalar multiple of G.");return!0};
/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */
var at=function(){var t=RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),e=RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function n(t,e,n){return e?r[e]:String.fromCharCode(parseInt(n,16))}var o=new String(""),i=Object.hasOwnProperty;return function(r,a){var s,c,u=r.match(t),l=u[0],f=!1;"{"===l?s={}:"["===l?s=[]:(s=[],f=!0);for(var h=[s],p=1-f,d=u.length;p<d;++p){var y;switch((l=u[p]).charCodeAt(0)){default:(y=h[0])[c||y.length]=+l,c=void 0;break;case 34:if(-1!==(l=l.substring(1,l.length-1)).indexOf("\\")&&(l=l.replace(e,n)),y=h[0],!c){if(!(y instanceof Array)){c=l||o;break}c=y.length}y[c]=l,c=void 0;break;case 91:y=h[0],h.unshift(y[c||y.length]=[]),c=void 0;break;case 93:case 125:h.shift();break;case 102:(y=h[0])[c||y.length]=!1,c=void 0;break;case 110:(y=h[0])[c||y.length]=null,c=void 0;break;case 116:(y=h[0])[c||y.length]=!0,c=void 0;break;case 123:y=h[0],h.unshift(y[c||y.length]={}),c=void 0}}if(f){if(1!==h.length)throw Error();s=s[0]}else if(h.length)throw Error();if(a){var v=function(t,e){var r=t[e];if(r&&"object"==typeof r){var n=null;for(var o in r)if(i.call(r,o)&&r!==t){var s=v(r,o);void 0!==s?r[o]=s:(n||(n=[]),n.push(o))}if(n)for(var c=n.length;--c>=0;)delete r[n[c]]}return a.call(t,e,r)};s=v({"":s},"")}return s}}();void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),st.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){return zt(t)},this.getPEMStringFromHex=function(t,e){return Lt(t,e)},this.newObject=function(t){var e=st.asn1,r=e.ASN1Object,n=e.DERBoolean,o=e.DERInteger,i=e.DERBitString,a=e.DEROctetString,s=e.DERNull,c=e.DERObjectIdentifier,u=e.DEREnumerated,l=e.DERUTF8String,f=e.DERNumericString,h=e.DERPrintableString,p=e.DERTeletexString,d=e.DERIA5String,y=e.DERUTCTime,v=e.DERGeneralizedTime,m=e.DERVisibleString,g=e.DERBMPString,b=e.DERSequence,w=e.DERSet,E=e.DERTaggedObject,x=e.ASN1Util.newObject;if(t instanceof e.ASN1Object)return t;var S=Object.keys(t);if(1!=S.length)throw Error("key of param shall be only one.");var _=S[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+_+":"))throw Error("undefined key: "+_);if("bool"==_)return new n(t[_]);if("int"==_)return new o(t[_]);if("bitstr"==_)return new i(t[_]);if("octstr"==_)return new a(t[_]);if("null"==_)return new s(t[_]);if("oid"==_)return new c(t[_]);if("enum"==_)return new u(t[_]);if("utf8str"==_)return new l(t[_]);if("numstr"==_)return new f(t[_]);if("prnstr"==_)return new h(t[_]);if("telstr"==_)return new p(t[_]);if("ia5str"==_)return new d(t[_]);if("utctime"==_)return new y(t[_]);if("gentime"==_)return new v(t[_]);if("visstr"==_)return new m(t[_]);if("bmpstr"==_)return new g(t[_]);if("asn1"==_)return new r(t[_]);if("seq"==_){for(var A=t[_],T=[],L=0;L<A.length;L++){var k=x(A[L]);T.push(k)}return new b({array:T})}if("set"==_){for(A=t[_],T=[],L=0;L<A.length;L++){k=x(A[L]);T.push(k)}return new w({array:T})}if("tag"==_){var O=t[_];if("[object Array]"===Object.prototype.toString.call(O)&&3==O.length){var I=x(O[2]);return new E({tag:O[0],explicit:O[1],obj:I})}return new E(O)}},this.jsonToASN1HEX=function(t){return this.newObject(t).tohex()}},st.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=(e=Math.floor(r/40)+"."+r%40,""),o=2;o<t.length;o+=2){var i=("00000000"+parseInt(t.substr(o,2),16).toString(2)).slice(-8);if(n+=i.substr(1,7),"0"==i.substr(0,1))e=e+"."+new E(n,2).toString(10),n=""}return e},st.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new E(t,10).toString(2),o=7-n.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";n=i+n;for(a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=e(parseInt(s,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",o=t.split("."),i=40*parseInt(o[0])+parseInt(o[1]);n+=e(i),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);return n},st.asn1.ASN1Object=function(t){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw Error("this.hV is null or undefined");if(this.hV.length%2==1)throw Error("value hex must be even length: n=0,v="+this.hV);var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var r=e.length/2;if(r>15)throw Error("ASN.1 length too long to represent by 8x: n = "+t.toString(16));return(128+r).toString(16)+e},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(t){this.params=t},null!=t&&null!=t.tlv&&(this.hTLV=t.tlv,this.isModified=!1)},st.asn1.DERAbstractString=function(t){st.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=bt(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},ee(st.asn1.DERAbstractString,st.asn1.ASN1Object),st.asn1.DERAbstractTime=function(t){st.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){var e=t.getTime()+6e4*t.getTimezoneOffset();return new Date(e)},this.formatDate=function(t,e,r){var n=this.zeroPadding,o=this.localDateToUTC(t),i=o.getFullYear()+"";"utc"==e&&(i=i.substr(2,2));var a=i+n(o.getMonth()+1+"",2)+n(o.getDate()+"",2)+n(o.getHours()+"",2)+n(o.getMinutes()+"",2)+n(o.getSeconds()+"",2);if(!0===r){var s=o.getMilliseconds();if(0!=s){var c=n(s+"",3);a=a+"."+(c=c.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:Array(e-t.length+1).join("0")+t},this.setByParam=function(t){this.hV=null,this.hTLV=null,this.params=t},this.getString=function(){},this.setString=function(t){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=t},this.setByDate=function(t){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=t},this.setByDateValue=function(t,e,r,n,o,i){var a=new Date(Date.UTC(t,e-1,r,n,o,i,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},ee(st.asn1.DERAbstractTime,st.asn1.ASN1Object),st.asn1.DERAbstractStructured=function(t){st.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=[],void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},ee(st.asn1.DERAbstractStructured,st.asn1.ASN1Object),st.asn1.DERBoolean=function(t){st.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==t?"010100":"0101ff"},ee(st.asn1.DERBoolean,st.asn1.ASN1Object),st.asn1.DERInteger=function(t){st.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var e=zt;this.setByBigInteger=function(t){this.isModified=!0,this.params={bigint:t}},this.setByInteger=function(t){this.isModified=!0,this.params=t},this.setValueHex=function(t){this.isModified=!0,this.params={hex:t}},this.getFreshValueHex=function(){var t=this.params,r=null;if(null==t)throw Error("value not set");if("object"==typeof t&&null!=t.hex)return this.hV=t.hex,this.hV;if("number"==typeof t)r=new E(t+"",10);else if(null!=t.int)r=new E(t.int+"",10);else{if(null==t.bigint)throw Error("wrong parameter");r=t.bigint}return this.hV=e(r),this.hV},null!=t&&(this.params=t)},ee(st.asn1.DERInteger,st.asn1.ASN1Object),st.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=st.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.tohex()}st.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var r="0"+t;this.hTLV=null,this.isModified=!0,this.hV=r+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0),t+="0000000".substr(0,e);for(var r="",n=0;n<t.length-1;n+=8){var o=t.substr(n,8),i=parseInt(o,2).toString(16);1==i.length&&(i="0"+i),r+=i}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",r=0;r<t.length;r++)1==t[r]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=Array(t),r=0;r<t;r++)e[r]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},ee(st.asn1.DERBitString,st.asn1.ASN1Object),st.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=st.asn1.ASN1Util.newObject(t.obj);t.hex=e.tohex()}st.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},ee(st.asn1.DEROctetString,st.asn1.DERAbstractString),st.asn1.DERNull=function(){st.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ee(st.asn1.DERNull,st.asn1.ASN1Object),st.asn1.DERObjectIdentifier=function(t){st.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){var e=Kt(t);if(null==e)throw Error("malformed oid string: "+t);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){var e=st.asn1.x509.OID.name2oid(t);if(""===e)throw Error("DERObjectIdentifier oidName undefined: "+t);this.setValueOidString(e)},this.setValueNameOrOid=function(t){t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){"string"==typeof t?this.setValueNameOrOid(t):void 0!==t.oid?this.setValueNameOrOid(t.oid):void 0!==t.name?this.setValueNameOrOid(t.name):void 0!==t.hex&&this.setValueHex(t.hex)},void 0!==t&&this.setByParam(t)},ee(st.asn1.DERObjectIdentifier,st.asn1.ASN1Object),st.asn1.DEREnumerated=function(t){st.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=zt(t)},this.setByInteger=function(t){var e=new E(t+"",10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},ee(st.asn1.DEREnumerated,st.asn1.ASN1Object),st.asn1.DERUTF8String=function(t){st.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},ee(st.asn1.DERUTF8String,st.asn1.DERAbstractString),st.asn1.DERNumericString=function(t){st.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},ee(st.asn1.DERNumericString,st.asn1.DERAbstractString),st.asn1.DERPrintableString=function(t){st.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},ee(st.asn1.DERPrintableString,st.asn1.DERAbstractString),st.asn1.DERTeletexString=function(t){st.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},ee(st.asn1.DERTeletexString,st.asn1.DERAbstractString),st.asn1.DERIA5String=function(t){st.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},ee(st.asn1.DERIA5String,st.asn1.DERAbstractString),st.asn1.DERVisibleString=function(t){st.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="1a"},ee(st.asn1.DERVisibleString,st.asn1.DERAbstractString),st.asn1.DERBMPString=function(t){st.asn1.DERBMPString.superclass.constructor.call(this,t),this.hT="1e"},ee(st.asn1.DERBMPString,st.asn1.DERAbstractString),st.asn1.DERUTCTime=function(t){st.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var t=this.params;if(null==this.params&&(t={date:new Date}),"string"==typeof t){if(!t.match(/^[0-9]{12}Z$/)&&!t.match(/^[0-9]{12}\.[0-9]+Z$/))throw Error("malformed string for UTCTime: "+t);this.hV=dt(t)}else if(null!=t.str)this.hV=dt(t.str);else if(null==t.date&&1==t.millis){var e=new Date;this.hV=dt(this.formatDate(e,"utc",!0))}else if(null!=t.date&&t.date instanceof Date){var r=!0===t.millis;this.hV=dt(this.formatDate(t.date,"utc",r))}else t instanceof Date&&(this.hV=dt(this.formatDate(t,"utc")));if(null==this.hV)throw Error("parameter not specified properly for UTCTime");return this.hV},null!=t&&this.setByParam(t)},ee(st.asn1.DERUTCTime,st.asn1.DERAbstractTime),st.asn1.DERGeneralizedTime=function(t){st.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.params=t,this.getFreshValueHex=function(){var t=this.params;if(null==this.params&&(t={date:new Date}),"string"==typeof t){if(!t.match(/^[0-9]{14}Z$/)&&!t.match(/^[0-9]{14}\.[0-9]+Z$/))throw Error("malformed string for GeneralizedTime: "+t);this.hV=dt(t)}else if(null!=t.str)this.hV=dt(t.str);else if(null==t.date&&1==t.millis){var e=new Date;this.hV=dt(this.formatDate(e,"gen",!0))}else if(null!=t.date&&t.date instanceof Date){var r=!0===t.millis;this.hV=dt(this.formatDate(t.date,"gen",r))}else t instanceof Date&&(this.hV=dt(this.formatDate(t,"gen")));if(null==this.hV)throw Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=t&&this.setByParam(t)},ee(st.asn1.DERGeneralizedTime,st.asn1.DERAbstractTime),st.asn1.DERSequence=function(t){st.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].tohex()}return this.hV=t,this.hV}},ee(st.asn1.DERSequence,st.asn1.DERAbstractStructured),st.asn1.DERSet=function(t){st.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=[],e=0;e<this.asn1Array.length;e++){var r=this.asn1Array[e];t.push(r.tohex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},ee(st.asn1.DERSet,st.asn1.DERAbstractStructured),st.asn1.DERTaggedObject=function(t){st.asn1.DERTaggedObject.superclass.constructor.call(this);var e=st.asn1,r=lt,n=r.getV,o=(r.isASN1HEX,e.ASN1Util.newObject);this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(t,e,r){this.params={tag:e,explicit:t,obj:r}},this.getFreshValueHex=function(){var t=this.params;if(null==t.explicit&&(t.explicit=!0),null!=t.tage&&(t.tag=t.tage,t.explicit=!0),null!=t.tagi&&(t.tag=t.tagi,t.explicit=!1),null!=t.str)this.hV=bt(t.str);else if(null!=t.hex)this.hV=t.hex;else{if(null==t.obj)throw Error("str, hex nor obj not specified");var r;t.obj instanceof e.ASN1Object?r=t.obj.tohex():"object"==typeof t.obj&&(r=o(t.obj).tohex()),t.explicit?this.hV=r:this.hV=n(r,0)}return null==t.tag&&(t.tag="a0"),this.hT=t.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.DERTaggedObject,st.asn1.ASN1Object);var st,ct,ut,lt=new function(){};function ft(t){for(var e=[],r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function ht(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function pt(t){for(var e="",r=0;r<t.length;r++){var n=t[r].toString(16);1==n.length&&(n="0"+n),e+=n}return e}function dt(t){return pt(ft(t))}function yt(t){return t=(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function vt(t){return t.length%4==2?t+="==":t.length%4==3&&(t+="="),t=(t=t.replace(/-/g,"+")).replace(/_/g,"/")}function mt(t){return t.length%2==1&&(t="0"+t),yt(g(t))}function gt(t){return b(vt(t))}function bt(t){return Pt(Ut(t)).toLowerCase()}function wt(t){try{return decodeURIComponent(Ct(t))}catch(t){return null}}function Et(t){return wt(function(t){for(var e=t.match(/.{1,2}/g),r=[],n=0;n<e.length;n++){var o=parseInt(e[n],16);161<=o&&o<=191?(r.push("c2"),r.push(e[n])):192<=o&&o<=255?(r.push("c3"),r.push((o-64).toString(16))):r.push(e[n])}return r.join("")}(t))}function xt(t){for(var e="",r=0;r<t.length-1;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e}function St(t){for(var e="",r=0;r<t.length;r++)e+=("0"+t.charCodeAt(r).toString(16)).slice(-2);return e}function _t(t){return g(t)}function At(t,e){return t=(t=t.replace(RegExp("(.{"+e+"})","g"),"$1\r\n")).replace(/\s+$/,"")}function Tt(t){return b(t.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Lt(t,e){return"-----BEGIN "+e+"-----\r\n"+At(_t(t),64)+"\r\n-----END "+e+"-----\r\n"}function kt(t,e){if(-1==t.indexOf("-----BEGIN "))throw Error("can't find PEM header");return Tt(t=void 0!==e?(t=t.replace(RegExp("^[^]*-----BEGIN "+e+"-----"),"")).replace(RegExp("-----END "+e+"-----[^]*$"),""):(t=t.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ot(t){var e,r,n,o,i,a,s,c,u,l;if(l=(t=Nt(t)).match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return e=parseInt(l[1]),r=parseInt(l[2])-1,n=parseInt(l[3]),o=parseInt(l[4]),i=parseInt(l[5]),a=parseInt(l[6]),s=0,""!==(c=l[7])&&(u=(c.substr(1)+"00").substr(0,3),s=parseInt(u)),Date.UTC(e,r,n,o,i,a,s);throw Error("unsupported zulu format: "+t)}function It(t){return Math.round(Ot(t)/1e3)}function Nt(t){return t.match(/^[0-9]{12}Z$/)||t.match(/^[0-9]{12}[.][0-9]*Z$/)?t.match(/^[0-4]/)?"20"+t:"19"+t:t}function Pt(t){return t.replace(/%/g,"")}function Ct(t){return t.replace(/(..)/g,"%$1")}function Dt(t){var e="malformed IPv6 address";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;var r=(t=t.toLowerCase()).split(":").length-1;if(r<2)throw e;var n=":".repeat(7-r+2),o=(t=t.replace("::",n)).split(":");if(8!=o.length)throw e;for(var i=0;i<8;i++)o[i]=("0000"+o[i]).slice(-4);return o.join("")}function Rt(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw Error("malformed IPv6 address: "+t);var e=(t=t.toLowerCase()).match(/.{1,4}/g);e=e.map((function(t){return t.replace(/^0+/,"")})),e=e.map((function(t){return""==t?"0":t}));var r=(t=":"+e.join(":")+":").match(/:(0:){2,}/g);if(null==r)return t.slice(1,-1);var n=r.sort().slice(-1)[0];return"::"!=(t=t.replace(n.substr(0,n.length-1),":")).substr(0,2)&&(t=t.substr(1)),"::"!=t.substr(-2,2)&&(t=t.substr(0,t.length-1)),t}function jt(t){var e=Error("malformed hex value");if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8==t.length){try{return parseInt(t.substr(0,2),16)+"."+parseInt(t.substr(2,2),16)+"."+parseInt(t.substr(4,2),16)+"."+parseInt(t.substr(6,2),16)}catch(t){throw e}}else{if(16!=t.length){if(32==t.length)return Rt(t);if(64==t.length){try{return Rt(t.substr(0,32))+"/"+Ft(t.substr(32))}catch(t){throw e}return}return t}try{return jt(t.substr(0,8))+"/"+Ft(t.substr(8))}catch(t){throw e}}}function Ft(t){var e,r=Error("malformed mask");try{e=new E(t,16).toString(2)}catch(t){throw r}if(!e.match(/^1*0*$/))throw r;return e.replace(/0+$/,"").length}function Bt(t){var e=Error("malformed IP address");if(!(t=t.toLowerCase(t)).match(/^[0-9a-f.:/]+$/))throw e;if(!t.match(/^[0-9.]+$/)){var r;if(t.match(/^[0-9.]+\/[0-9]+$/))return Bt((r=t.split("/"))[0])+Gt(parseInt(r[1]),32);if(t.match(/^[0-9a-f:]+$/)&&-1!==t.indexOf(":"))return Dt(t);if(t.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==t.indexOf(":"))return Dt((r=t.split("/"))[0])+Gt(parseInt(r[1]),128);throw e}var n=t.split(".");if(4!==n.length)throw e;var o="";try{for(var i=0;i<4;i++){o+=("0"+parseInt(n[i]).toString(16)).slice(-2)}return o}catch(t){throw e}}function Gt(t,e){return 32==e&&0==t?"00000000":128==e&&0==t?"00000000000000000000000000000000":new E(Array(t+1).join("1")+Array(e-t+1).join("0"),2).toString(16)}function Mt(t){var e=t.match(/.{4}/g).map((function(t){var e=parseInt(t.substr(0,2),16),r=parseInt(t.substr(2),16);if(0==e&r<128)return String.fromCharCode(r);if(e<8){var n=128|63&r;return wt((192|(7&e)<<3|(192&r)>>6).toString(16)+n.toString(16))}n=128|(15&e)<<2|(192&r)>>6;var o=128|63&r;return wt((224|(240&e)>>4).toString(16)+n.toString(16)+o.toString(16))}));return e.join("")}function Ut(t){for(var e=encodeURIComponent(t),r="",n=0;n<e.length;n++)"%"==e[n]?(r+=e.substr(n,3),n+=2):r=r+"%"+dt(e[n]);return r}function Ht(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))}function qt(t){return!!t.match(/^[0-9A-Za-z-_.]+$/)}function Vt(t){return t.length%2==1?"0"+t:t.substr(0,1)>"7"?"00"+t:t}lt.getLblen=function(t,e){if("8"!=t.substr(e+2,1))return 1;var r=parseInt(t.substr(e+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},lt.getL=function(t,e){var r=lt.getLblen(t,e);return r<1?"":t.substr(e+2,2*r)},lt.getVblen=function(t,e){var r;return""==(r=lt.getL(t,e))?-1:("8"===r.substr(0,1)?new E(r.substr(2),16):new E(r,16)).intValue()},lt.getVidx=function(t,e){var r=lt.getLblen(t,e);return r<0?r:e+2*(r+1)},lt.getV=function(t,e){var r=lt.getVidx(t,e),n=lt.getVblen(t,e);return t.substr(r,2*n)},lt.getTLV=function(t,e){return t.substr(e,2)+lt.getL(t,e)+lt.getV(t,e)},lt.getTLVblen=function(t,e){return 2+2*lt.getLblen(t,e)+2*lt.getVblen(t,e)},lt.getNextSiblingIdx=function(t,e){return lt.getVidx(t,e)+2*lt.getVblen(t,e)},lt.getChildIdx=function(t,e){var r,n,o,i=lt,a=[];r=i.getVidx(t,e),n=2*i.getVblen(t,e),"03"==t.substr(e,2)&&(r+=2,n-=2),o=0;for(var s=r;o<=n;){var c=i.getTLVblen(t,s);if((o+=c)<=n&&a.push(s),s+=c,o>=n)break}return a},lt.getNthChildIdx=function(t,e,r){return lt.getChildIdx(t,e)[r]},lt.getIdxbyList=function(t,e,r,n){var o,i,a=lt;return 0==r.length?void 0!==n&&t.substr(e,2)!==n?-1:e:(o=r.shift())>=(i=a.getChildIdx(t,e)).length?-1:a.getIdxbyList(t,i[o],r,n)},lt.getIdxbyListEx=function(t,e,r,n){var o,i,a=lt;if(0==r.length)return void 0!==n&&t.substr(e,2)!==n?-1:e;o=r.shift(),i=a.getChildIdx(t,e);for(var s=0,c=0;c<i.length;c++){var u=t.substr(i[c],2);if("number"==typeof o&&!a.isContextTag(u)&&s==o||"string"==typeof o&&a.isContextTag(u,o))return a.getIdxbyListEx(t,i[c],r,n);a.isContextTag(u)||s++}return-1},lt.getTLVbyList=function(t,e,r,n){var o=lt,i=o.getIdxbyList(t,e,r,n);return-1==i||i>=t.length?null:o.getTLV(t,i)},lt.getTLVbyListEx=function(t,e,r,n){var o=lt,i=o.getIdxbyListEx(t,e,r,n);return-1==i?null:o.getTLV(t,i)},lt.getVbyList=function(t,e,r,n,o){var i,a,s=lt;return-1==(i=s.getIdxbyList(t,e,r,n))||i>=t.length?null:(a=s.getV(t,i),!0===o&&(a=a.substr(2)),a)},lt.getVbyListEx=function(t,e,r,n,o){var i,a,s=lt;return-1==(i=s.getIdxbyListEx(t,e,r,n))?null:(a=s.getV(t,i),"03"==t.substr(i,2)&&!1!==o&&(a=a.substr(2)),a)},lt.getInt=function(t,e,r){null==r&&(r=-1);try{var n=t.substr(e,2);if("02"!=n&&"03"!=n)return r;var o=lt.getV(t,e);return"02"==n?parseInt(o,16):Xt(o)}catch(t){return r}},lt.getOID=function(t,e,r){null==r&&(r=null);try{return"06"!=t.substr(e,2)?r:Yt(lt.getV(t,e))}catch(t){return r}},lt.getOIDName=function(t,e,r){null==r&&(r=null);try{var n=lt.getOID(t,e,r);if(n==r)return r;var o=st.asn1.x509.OID.oid2name(n);return""==o?n:o}catch(t){return r}},lt.getString=function(t,e,r){null==r&&(r=null);try{return xt(lt.getV(t,e))}catch(t){return r}},lt.hextooidstr=function(t){var e=function(t,e){return t.length>=e?t:Array(e-t.length+1).join("0")+t},r=[],n=t.substr(0,2),o=parseInt(n,16);r[0]=new String(Math.floor(o/40)),r[1]=new String(o%40);for(var i=t.substr(2),a=[],s=0;s<i.length/2;s++)a.push(parseInt(i.substr(2*s,2),16));var c=[],u="";for(s=0;s<a.length;s++)128&a[s]?u+=e((127&a[s]).toString(2),7):(u+=e((127&a[s]).toString(2),7),c.push(new String(parseInt(u,2))),u="");var l=r.join(".");return c.length>0&&(l=l+"."+c.join(".")),l},lt.dump=function(t,e,r,n){var o=lt,i=o.getV,a=o.dump,s=o.getChildIdx,c=t;t instanceof st.asn1.ASN1Object&&(c=t.tohex());var u=function(t,e){return t.length<=2*e?t:t.substr(0,e)+"..(total "+t.length/2+"bytes).."+t.substr(t.length-e,e)};void 0===e&&(e={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n="");var l,f=e.ommit_long_octet;if("01"==(l=c.substr(r,2)))return"00"==(h=i(c,r))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==l)return n+"INTEGER "+u(h=i(c,r),f)+"\n";if("03"==l){var h=i(c,r);if(o.isASN1HEX(h.substr(2))){var p=n+"BITSTRING, encapsulates\n";return p+=a(h.substr(2),e,0,n+"  ")}return n+"BITSTRING "+u(h,f)+"\n"}if("04"==l){h=i(c,r);if(o.isASN1HEX(h)){p=n+"OCTETSTRING, encapsulates\n";return p+=a(h,e,0,n+"  ")}return n+"OCTETSTRING "+u(h,f)+"\n"}if("05"==l)return n+"NULL\n";if("06"==l){var d=i(c,r),y=st.asn1.ASN1Util.oidHexToInt(d),v=st.asn1.x509.OID.oid2name(y),m=y.replace(/\./g," ");return""!=v?n+"ObjectIdentifier "+v+" ("+m+")\n":n+"ObjectIdentifier ("+m+")\n"}if("0a"==l)return n+"ENUMERATED "+parseInt(i(c,r))+"\n";if("0c"==l)return n+"UTF8String '"+wt(i(c,r))+"'\n";if("13"==l)return n+"PrintableString '"+wt(i(c,r))+"'\n";if("14"==l)return n+"TeletexString '"+wt(i(c,r))+"'\n";if("16"==l)return n+"IA5String '"+wt(i(c,r))+"'\n";if("17"==l)return n+"UTCTime "+wt(i(c,r))+"\n";if("18"==l)return n+"GeneralizedTime "+wt(i(c,r))+"\n";if("1a"==l)return n+"VisualString '"+wt(i(c,r))+"'\n";if("1e"==l)return n+"BMPString '"+Mt(i(c,r))+"'\n";if("30"==l){if("3000"==c.substr(r,4))return n+"SEQUENCE {}\n";p=n+"SEQUENCE\n";var g=e;if((2==(E=s(c,r)).length||3==E.length)&&"06"==c.substr(E[0],2)&&"04"==c.substr(E[E.length-1],2)){v=o.oidname(i(c,E[0]));var b=JSON.parse(JSON.stringify(e));b.x509ExtName=v,g=b}for(var w=0;w<E.length;w++)p+=a(c,g,E[w],n+"  ");return p}if("31"==l){p=n+"SET\n";var E=s(c,r);for(w=0;w<E.length;w++)p+=a(c,e,E[w],n+"  ");return p}if(128&(l=parseInt(l,16))){var x=31&l;if(32&l){for(p=n+"["+x+"]\n",E=s(c,r),w=0;w<E.length;w++)p+=a(c,e,E[w],n+"  ");return p}h=i(c,r);if(lt.isASN1HEX(h)){var p=n+"["+x+"]\n";return p+=a(h,e,0,n+"  ")}return("68747470"==h.substr(0,8)||"subjectAltName"===e.x509ExtName&&2==x)&&(h=wt(h)),p=n+"["+x+"] "+h+"\n"}return n+"UNKNOWN("+l+") "+i(c,r)+"\n"},lt.parse=function(t){var e=lt,r=e.parse,n=e.isASN1HEX,o=e.getV,i=e.getTLV,a=e.getChildIdx,s=st.asn1,c=s.ASN1Util.oidHexToInt,u=s.x509.OID.oid2name,l=wt,f=Mt,h=Et,p={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},d=t.substr(0,2),y={},v=o(t,0);if("01"==d)return"0101ff"==t?{bool:!0}:{bool:!1};if("02"==d)return{int:{hex:v}};if("03"==d)try{if("00"!=v.substr(0,2))throw"not encap";var m=v.substr(2);if(!n(m))throw"not encap";return{bitstr:{obj:r(m)}}}catch(t){var g=null;return v.length<=10&&(g=Qt(v)),null==g?{bitstr:{hex:v}}:{bitstr:{bin:g}}}else if("04"==d)try{if(!n(v))throw"not encap";return{octstr:{obj:r(v)}}}catch(t){return{octstr:{hex:v}}}else{if("05"==d)return{null:""};if("06"==d){var b=c(v),w=u(b);return""==w?{oid:b}:{oid:w}}if("0a"==d)return v.length>4?{enum:{hex:v}}:{enum:parseInt(v,16)};if("30"==d||"31"==d)return y[p[d]]=function(t){for(var e=[],n=a(t,0),o=0;o<n.length;o++){var s=n[o],c=i(t,s),u=r(c);e.push(u)}return e}(t),y;if("14"==d){var E=h(v);return y[p[d]]={str:E},y}if("1e"==d){E=f(v);return y[p[d]]={str:E},y}if(-1!=":0c:12:13:16:17:18:1a:".indexOf(d)){E=l(v);return y[p[d]]={str:E},y}if(d.match(/^8[0-9]$/))return null==(E=l(v))|""==E||null!=E.match(/[\x00-\x1F\x7F-\x9F]/)||null!=E.match(/[\u0000-\u001F\u0080â€“\u009F]/)?{tag:{tag:d,explicit:!1,hex:v}}:{tag:{tag:d,explicit:!1,str:E}};if(!d.match(/^a[0-9]$/)){var x=new st.asn1.ASN1Object;return x.hV=v,{asn1:{tlv:d+x.getLengthHexFromValue()+v}}}try{if(!n(v))throw Error("not encap");return{tag:{tag:d,explicit:!0,obj:r(v)}}}catch(t){return{tag:{tag:d,explicit:!0,hex:v}}}}},lt.isContextTag=function(t,e){var r,n;t=t.toLowerCase();try{r=parseInt(t,16)}catch(t){return-1}if(void 0===e)return 128==(192&r);try{return null!=e.match(/^\[[0-9]+\]$/)&&(!((n=parseInt(e.substr(1,e.length-1),10))>31)&&(128==(192&r)&&(31&r)==n))}catch(t){return!1}},lt.isASN1HEX=function(t){var e=lt;if(t.length%2==1)return!1;var r=e.getVblen(t,0),n=t.substr(0,2),o=e.getL(t,0);return t.length-n.length-o.length==2*r},lt.checkStrictDER=function(t,e,r,n,o){var i=lt;if(void 0===r){if("string"!=typeof t)throw Error("not hex string");if(t=t.toLowerCase(),!st.lang.String.isHex(t))throw Error("not hex string");r=t.length,o=(n=t.length/2)<128?1:Math.ceil(n.toString(16))+1}if(i.getL(t,e).length>2*o)throw Error("L of TLV too long: idx="+e);var a=i.getVblen(t,e);if(a>n)throw Error("value of L too long than hex: idx="+e);var s=i.getTLV(t,e),c=s.length-2-i.getL(t,e).length;if(c!==2*a)throw Error("V string length and L's value not the same:"+c+"/"+2*a);if(0===e&&t.length!=s.length)throw Error("total length and TLV length unmatch:"+t.length+"!="+s.length);var u=t.substr(e,2);if("02"===u){var l=i.getVidx(t,e);if("00"==t.substr(l,2)&&t.charCodeAt(l+2)<56)throw Error("not least zeros for DER INTEGER")}if(32&parseInt(u,16)){for(var f=i.getVblen(t,e),h=0,p=i.getChildIdx(t,e),d=0;d<p.length;d++){h+=i.getTLV(t,p[d]).length,i.checkStrictDER(t,p[d],r,n,o)}if(2*f!=h)throw Error("sum of children's TLV length and L unmatch: "+2*f+"!="+h)}},lt.oidname=function(t){var e=st.asn1;st.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var r=e.x509.OID.oid2name(t);return""===r&&(r=t),r},void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),void 0!==st.asn1.x509&&st.asn1.x509||(st.asn1.x509={}),st.asn1.x509.Certificate=function(t){st.asn1.x509.Certificate.superclass.constructor.call(this);var e=st.asn1,r=e.DERBitString,n=e.DERSequence,o=e.x509,i=o.TBSCertificate,a=o.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(t){this.params=t},this.sign=function(){var t=this.params,e=t.sigalg;null!=t.sigalg.name&&(e=t.sigalg.name);var r=t.tbsobj.tohex(),n=new st.crypto.Signature({alg:e});n.init(t.cakey),n.updateHex(r),t.sighex=n.sign()},this.getPEM=function(){return Lt(this.tohex(),"CERTIFICATE")},this.tohex=function(){var t=this.params;if(null!=t.tbsobj&&null!=t.tbsobj||(t.tbsobj=new i(t)),null==t.sighex&&null!=t.cakey&&this.sign(),null==t.sighex)throw Error("sighex or cakey parameter not defined");var e=[];return e.push(t.tbsobj),e.push(new a({name:t.sigalg})),e.push(new r({hex:"00"+t.sighex})),new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&(this.params=t)},ee(st.asn1.x509.Certificate,st.asn1.ASN1Object),st.asn1.x509.TBSCertificate=function(t){st.asn1.x509.TBSCertificate.superclass.constructor.call(this);var e=st.asn1,r=e.x509,n=e.DERTaggedObject,o=e.DERInteger,i=e.DERSequence,a=r.AlgorithmIdentifier,s=r.Time,c=r.X500Name,u=r.Extensions,l=r.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=[],e=this.params;if(null!=e.version||1!=e.version){var r=2;null!=e.version&&(r=e.version-1);var f=new n({obj:new o({int:r})});t.push(f)}return t.push(new o(e.serial)),t.push(new a({name:e.sigalg})),t.push(new c(e.issuer)),t.push(new i({array:[new s(e.notbefore),new s(e.notafter)]})),t.push(new c(e.subject)),t.push(new l(re.getKey(e.sbjpubkey))),void 0!==e.ext&&e.ext.length>0&&t.push(new n({tag:"a3",obj:new u(e.ext)})),new st.asn1.DERSequence({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.TBSCertificate,st.asn1.ASN1Object),st.asn1.x509.Extensions=function(t){st.asn1.x509.Extensions.superclass.constructor.call(this);var e=st.asn1,r=e.DERSequence,n=e.x509;this.aParam=[],this.setByParam=function(t){this.aParam=t},this.tohex=function(){for(var t=[],e=0;e<this.aParam.length;e++){var o=this.aParam[e],i=o.extname,a=null;if(null!=o.extn)a=new n.PrivateExtension(o);else if("subjectKeyIdentifier"==i)a=new n.SubjectKeyIdentifier(o);else if("keyUsage"==i)a=new n.KeyUsage(o);else if("subjectAltName"==i)a=new n.SubjectAltName(o);else if("issuerAltName"==i)a=new n.IssuerAltName(o);else if("basicConstraints"==i)a=new n.BasicConstraints(o);else if("nameConstraints"==i)a=new n.NameConstraints(o);else if("cRLDistributionPoints"==i)a=new n.CRLDistributionPoints(o);else if("certificatePolicies"==i)a=new n.CertificatePolicies(o);else if("policyMappings"==i)a=new n.PolicyMappings(o);else if("policyConstraints"==i)a=new n.PolicyConstraints(o);else if("inhibitAnyPolicy"==i)a=new n.InhibitAnyPolicy(o);else if("authorityKeyIdentifier"==i)a=new n.AuthorityKeyIdentifier(o);else if("extKeyUsage"==i)a=new n.ExtKeyUsage(o);else if("authorityInfoAccess"==i)a=new n.AuthorityInfoAccess(o);else if("cRLNumber"==i)a=new n.CRLNumber(o);else if("cRLReason"==i)a=new n.CRLReason(o);else if("ocspNonce"==i)a=new n.OCSPNonce(o);else if("ocspNoCheck"==i)a=new n.OCSPNoCheck(o);else if("adobeTimeStamp"==i)a=new n.AdobeTimeStamp(o);else{if("subjectDirectoryAttributes"!=i)throw Error("extension not supported:"+JSON.stringify(o));a=new n.SubjectDirectoryAttributes(o)}null!=a&&t.push(a)}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.x509.Extensions,st.asn1.ASN1Object),st.asn1.x509.Extension=function(t){st.asn1.x509.Extension.superclass.constructor.call(this);var e=st.asn1,r=e.DERObjectIdentifier,n=e.DEROctetString,o=(e.DERBitString,e.DERBoolean),i=e.DERSequence;this.tohex=function(){var t=new r({oid:this.oid}),e=new n({hex:this.getExtnValueHex()}),a=[];return a.push(t),this.critical&&a.push(new o),a.push(e),new i({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==t&&void 0!==t.critical&&(this.critical=t.critical)},ee(st.asn1.x509.Extension,st.asn1.ASN1Object),st.asn1.x509.KeyUsage=function(t){st.asn1.x509.KeyUsage.superclass.constructor.call(this,t);var e=Error,r={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var t=this.getBinValue();return this.asn1ExtnValue=new st.asn1.DERBitString({bin:t}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var t=this.params;if("object"!=typeof t||"object"!=typeof t.names&&"string"!=typeof t.bin)throw new e("parameter not yet set");if(null!=t.names)return Zt(t.names,r);if(null!=t.bin)return t.bin;throw new e("parameter not set properly")},this.oid="2.5.29.15",void 0!==t&&(this.params=t)},ee(st.asn1.x509.KeyUsage,st.asn1.x509.Extension),st.asn1.x509.BasicConstraints=function(t){st.asn1.x509.BasicConstraints.superclass.constructor.call(this,t);var e=st.asn1,r=e.DERBoolean,n=e.DERInteger,o=e.DERSequence;this.getExtnValueHex=function(){var t=[];this.cA&&t.push(new r),this.pathLen>-1&&t.push(new n({int:this.pathLen}));var e=new o({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==t&&(void 0!==t.cA&&(this.cA=t.cA),void 0!==t.pathLen&&(this.pathLen=t.pathLen))},ee(st.asn1.x509.BasicConstraints,st.asn1.x509.Extension),st.asn1.x509.CRLDistributionPoints=function(t){st.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,t);var e=st.asn1,r=e.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(t){for(var n=[],o=0;o<t.length;o++)if(t[o]instanceof st.asn1.ASN1Object)n.push(t[o]);else{var i=new r.DistributionPoint(t[o]);n.push(i)}this.asn1ExtnValue=new e.DERSequence({array:n})},this.setByOneURI=function(t){var e=new r.DistributionPoint({fulluri:t});this.setByDPArray([e])},this.oid="2.5.29.31",void 0!==t&&(void 0!==t.array?this.setByDPArray(t.array):void 0!==t.uri&&this.setByOneURI(t.uri))},ee(st.asn1.x509.CRLDistributionPoints,st.asn1.x509.Extension),st.asn1.x509.DistributionPoint=function(t){st.asn1.x509.DistributionPoint.superclass.constructor.call(this);var e=st.asn1,r=e.x509.DistributionPointName;this.tohex=function(){var t=new e.DERSequence;if(null!=this.asn1DP){var r=new e.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});t.appendASN1Object(r)}return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.dpobj?this.asn1DP=t.dpobj:void 0!==t.dpname?this.asn1DP=new r(t.dpname):void 0!==t.fulluri&&(this.asn1DP=new r({full:[{uri:t.fulluri}]})))},ee(st.asn1.x509.DistributionPoint,st.asn1.ASN1Object),st.asn1.x509.DistributionPointName=function(t){st.asn1.x509.DistributionPointName.superclass.constructor.call(this);var e=st.asn1,r=e.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new r({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t)if(e.x509.GeneralNames.prototype.isPrototypeOf(t))this.type="full",this.tag="a0",this.asn1V=t;else{if(void 0===t.full)throw Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new e.x509.GeneralNames(t.full)}},ee(st.asn1.x509.DistributionPointName,st.asn1.ASN1Object),st.asn1.x509.CertificatePolicies=function(t){st.asn1.x509.CertificatePolicies.superclass.constructor.call(this,t);var e=st.asn1,r=e.x509,n=e.DERSequence,o=r.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var t=[],e=0;e<this.params.array.length;e++)t.push(new o(this.params.array[e]));var r=new n({array:t});return this.asn1ExtnValue=r,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==t&&(this.params=t)},ee(st.asn1.x509.CertificatePolicies,st.asn1.x509.Extension),st.asn1.x509.PolicyInformation=function(t){st.asn1.x509.PolicyInformation.superclass.constructor.call(this,t);var e=st.asn1,r=e.DERSequence,n=e.DERObjectIdentifier,o=e.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw Error("parameter oid and array missing");var t=[new n(this.params.policyoid)];if(void 0!==this.params.array){for(var e=[],i=0;i<this.params.array.length;i++)e.push(new o(this.params.array[i]));e.length>0&&t.push(new r({array:e}))}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ee(st.asn1.x509.PolicyInformation,st.asn1.ASN1Object),st.asn1.x509.PolicyQualifierInfo=function(t){st.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,t);var e=st.asn1,r=e.DERSequence,n=e.DERIA5String,o=e.DERObjectIdentifier,i=e.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new r({array:[new o({oid:"1.3.6.1.5.5.7.2.1"}),new n({str:this.params.cps})]}).tohex():null!=this.params.unotice?new r({array:[new o({oid:"1.3.6.1.5.5.7.2.2"}),new i(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ee(st.asn1.x509.PolicyQualifierInfo,st.asn1.ASN1Object),st.asn1.x509.UserNotice=function(t){st.asn1.x509.UserNotice.superclass.constructor.call(this,t);var e=st.asn1.DERSequence,r=(st.asn1.DERInteger,st.asn1.x509.DisplayText),n=st.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var t=[];return void 0!==this.params.noticeref&&t.push(new n(this.params.noticeref)),void 0!==this.params.exptext&&t.push(new r(this.params.exptext)),new e({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ee(st.asn1.x509.UserNotice,st.asn1.ASN1Object),st.asn1.x509.NoticeReference=function(t){st.asn1.x509.NoticeReference.superclass.constructor.call(this,t);var e=st.asn1.DERSequence,r=st.asn1.DERInteger,n=st.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var t=[];if(void 0!==this.params.org&&t.push(new n(this.params.org)),void 0!==this.params.noticenum){for(var o=[],i=this.params.noticenum,a=0;a<i.length;a++)o.push(new r(i[a]));t.push(new e({array:o}))}if(0==t.length)throw Error("parameter is empty");return new e({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ee(st.asn1.x509.NoticeReference,st.asn1.ASN1Object),st.asn1.x509.DisplayText=function(t){st.asn1.x509.DisplayText.superclass.constructor.call(this,t),this.hT="0c",void 0!==t&&("ia5"===t.type?this.hT="16":"vis"===t.type?this.hT="1a":"bmp"===t.type&&(this.hT="1e"))},ee(st.asn1.x509.DisplayText,st.asn1.DERAbstractString),st.asn1.x509.PolicyMappings=function(t){st.asn1.x509.PolicyMappings.superclass.constructor.call(this,t);var e=st.asn1,r=(e.x509,e.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){for(var t=this.params,e=[],n=0;n<t.array.length;n++){var o=t.array[n];e.push({seq:[{oid:o[0]},{oid:o[1]}]})}return this.asn1ExtnValue=r({seq:e}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==t&&(this.params=t)},ee(st.asn1.x509.PolicyMappings,st.asn1.x509.Extension),st.asn1.x509.PolicyConstraints=function(t){st.asn1.x509.PolicyConstraints.superclass.constructor.call(this,t);var e=st.asn1,r=(e.x509,e.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){var t=this.params,e=[];return null!=t.reqexp&&e.push({tag:{tagi:"80",obj:{int:t.reqexp}}}),null!=t.inhibit&&e.push({tag:{tagi:"81",obj:{int:t.inhibit}}}),this.asn1ExtnValue=r({seq:e}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==t&&(this.params=t)},ee(st.asn1.x509.PolicyConstraints,st.asn1.x509.Extension),st.asn1.x509.InhibitAnyPolicy=function(t){st.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,t);var e=st.asn1,r=(e.x509,e.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=r({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==t&&(this.params=t)},ee(st.asn1.x509.InhibitAnyPolicy,st.asn1.x509.Extension),st.asn1.x509.NameConstraints=function(t){st.asn1.x509.NameConstraints.superclass.constructor.call(this,t);var e=st.asn1,r=e.x509,n=e.ASN1Util.newObject,o=r.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var t=this.params,e=[];if(null!=t.permit&&null!=t.permit.length){for(var r=[],i=0;i<t.permit.length;i++)r.push(new o(t.permit[i]));e.push({tag:{tagi:"a0",obj:{seq:r}}})}if(null!=t.exclude&&null!=t.exclude.length){var a=[];for(i=0;i<t.exclude.length;i++)a.push(new o(t.exclude[i]));e.push({tag:{tagi:"a1",obj:{seq:a}}})}return this.asn1ExtnValue=n({seq:e}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==t&&(this.params=t)},ee(st.asn1.x509.NameConstraints,st.asn1.x509.Extension),st.asn1.x509.GeneralSubtree=function(t){st.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var e=st.asn1,r=e.x509.GeneralName,n=e.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params,e=[new r(t)];return null!=t.min&&e.push({tag:{tagi:"80",obj:{int:t.min}}}),null!=t.max&&e.push({tag:{tagi:"81",obj:{int:t.max}}}),n({seq:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.GeneralSubtree,st.asn1.ASN1Object),st.asn1.x509.ExtKeyUsage=function(t){st.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,t);var e=st.asn1;this.setPurposeArray=function(t){this.asn1ExtnValue=new e.DERSequence;for(var r=0;r<t.length;r++){var n=new e.DERObjectIdentifier(t[r]);this.asn1ExtnValue.appendASN1Object(n)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==t&&void 0!==t.array&&this.setPurposeArray(t.array)},ee(st.asn1.x509.ExtKeyUsage,st.asn1.x509.Extension),st.asn1.x509.AuthorityKeyIdentifier=function(t){st.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,t);var e=st,r=e.asn1,n=r.DERTaggedObject,o=r.x509.GeneralNames;e.crypto.Util.isKey;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var t=[];this.asn1KID&&t.push(new n({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&t.push(new n({explicit:!1,tag:"a1",obj:new o([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&t.push(new n({explicit:!1,tag:"82",obj:this.asn1CertSN}));var e=new r.DERSequence({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(t){if(void 0!==t.str||void 0!==t.hex)this.asn1KID=new st.asn1.DEROctetString(t);else if("object"==typeof t&&st.crypto.Util.isKey(t)||"string"==typeof t&&-1!=t.indexOf("BEGIN ")){var e=t;"string"==typeof t&&(e=re.getKey(t));var r=re.getKeyID(e);this.asn1KID=new st.asn1.DEROctetString({hex:r})}},this.setCertIssuerByParam=function(t){void 0!==t.str||void 0!==t.ldapstr||void 0!==t.hex||void 0!==t.certsubject||void 0!==t.certissuer?this.asn1CertIssuer=new st.asn1.x509.X500Name(t):"string"==typeof t&&-1!=t.indexOf("BEGIN ")&&-1!=t.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new st.asn1.x509.X500Name({certissuer:t}))},this.setCertSNByParam=function(t){if(void 0!==t.str||void 0!==t.bigint||void 0!==t.hex)this.asn1CertSN=new st.asn1.DERInteger(t);else if("string"==typeof t&&-1!=t.indexOf("BEGIN ")&&t.indexOf("CERTIFICATE")){var e=new ae;e.readCertPEM(t);var r=e.getSerialNumberHex();this.asn1CertSN=new st.asn1.DERInteger({hex:r})}},this.oid="2.5.29.35",void 0!==t&&(void 0!==t.kid&&this.setKIDByParam(t.kid),void 0!==t.issuer&&this.setCertIssuerByParam(t.issuer),void 0!==t.sn&&this.setCertSNByParam(t.sn),void 0!==t.issuersn&&"string"==typeof t.issuersn&&-1!=t.issuersn.indexOf("BEGIN ")&&t.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(t.issuersn),this.setCertIssuerByParam(t.issuersn)))},ee(st.asn1.x509.AuthorityKeyIdentifier,st.asn1.x509.Extension),st.asn1.x509.SubjectKeyIdentifier=function(t){st.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,t);var e=st.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(t){if(void 0!==t.str||void 0!==t.hex)this.asn1KID=new e(t);else if("object"==typeof t&&st.crypto.Util.isKey(t)||"string"==typeof t&&-1!=t.indexOf("BEGIN")){var r=t;"string"==typeof t&&(r=re.getKey(t));var n=re.getKeyID(r);this.asn1KID=new st.asn1.DEROctetString({hex:n})}},this.oid="2.5.29.14",void 0!==t&&void 0!==t.kid&&this.setKIDByParam(t.kid)},ee(st.asn1.x509.SubjectKeyIdentifier,st.asn1.x509.Extension),st.asn1.x509.AuthorityInfoAccess=function(t){st.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,t),this.setAccessDescriptionArray=function(t){for(var e=[],r=st.asn1,n=r.DERSequence,o=r.DERObjectIdentifier,i=r.x509.GeneralName,a=0;a<t.length;a++){var s,c=t[a];if(void 0!==c.ocsp)s=new n({array:[new o({oid:"1.3.6.1.5.5.7.48.1"}),new i({uri:c.ocsp})]});else{if(void 0===c.caissuer)throw Error("unknown AccessMethod parameter: "+JSON.stringify(c));s=new n({array:[new o({oid:"1.3.6.1.5.5.7.48.2"}),new i({uri:c.caissuer})]})}e.push(s)}this.asn1ExtnValue=new n({array:e})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==t&&void 0!==t.array&&this.setAccessDescriptionArray(t.array)},ee(st.asn1.x509.AuthorityInfoAccess,st.asn1.x509.Extension),st.asn1.x509.SubjectAltName=function(t){st.asn1.x509.SubjectAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new st.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},ee(st.asn1.x509.SubjectAltName,st.asn1.x509.Extension),st.asn1.x509.IssuerAltName=function(t){st.asn1.x509.IssuerAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new st.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},ee(st.asn1.x509.IssuerAltName,st.asn1.x509.Extension),st.asn1.x509.SubjectDirectoryAttributes=function(t){st.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,t);var e=st.asn1,r=e.DERSequence,n=e.ASN1Util.newObject,o=e.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var t=[],e=0;e<this.params.array.length;e++){var i=this.params.array[e];if(null==i.attr||null==i.array){var a={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==i.attr)a.seq[0].oid=o(i.attr),a.seq[1].set[0]={gentime:i.str};else if("placeOfBirth"==i.attr)a.seq[0].oid=o(i.attr),a.seq[1].set[0]={utf8str:i.str};else if("gender"==i.attr)a.seq[0].oid=o(i.attr),a.seq[1].set[0]={prnstr:i.str};else if("countryOfCitizenship"==i.attr)a.seq[0].oid=o(i.attr),a.seq[1].set[0]={prnstr:i.str};else{if("countryOfResidence"!=i.attr)throw Error("unsupported attribute: "+i.attr);a.seq[0].oid=o(i.attr),a.seq[1].set[0]={prnstr:i.str}}t.push(new n(a))}else{var s={seq:[{oid:i.attr},{set:i.array}]};t.push(n(s))}}var c=new r({array:t});return this.asn1ExtnValue=c,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==t&&(this.params=t)},ee(st.asn1.x509.SubjectDirectoryAttributes,st.asn1.x509.Extension),st.asn1.x509.PrivateExtension=function(t){st.asn1.x509.PrivateExtension.superclass.constructor.call(this,t);var e=st,r=e.lang.String.isHex,n=e.asn1,o=n.x509.OID.name2oid,i=n.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.oid=o(t.extname),this.params=t},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw Error("extname or extnhex not specified");var t=this.params.extn;if("string"==typeof t&&r(t))return t;if("object"==typeof t)try{return i(t).tohex()}catch(t){}throw Error("unsupported extn value")},null!=t&&this.setByParam(t)},ee(st.asn1.x509.PrivateExtension,st.asn1.x509.Extension),st.asn1.x509.CRL=function(t){st.asn1.x509.CRL.superclass.constructor.call(this);var e=st.asn1,r=e.DERSequence,n=e.DERBitString,o=e.x509,i=o.AlgorithmIdentifier,a=o.TBSCertList;this.params=void 0,this.setByParam=function(t){this.params=t},this.sign=function(){var t=new a(this.params).tohex(),e=new st.crypto.Signature({alg:this.params.sigalg});e.init(this.params.cakey),e.updateHex(t);var r=e.sign();this.params.sighex=r},this.getPEM=function(){return Lt(this.tohex(),"X509 CRL")},this.tohex=function(){var t=this.params;if(null==t.tbsobj&&(t.tbsobj=new a(t)),null==t.sighex&&null!=t.cakey&&this.sign(),null==t.sighex)throw Error("sighex or cakey parameter not defined");var e=[];return e.push(t.tbsobj),e.push(new i({name:t.sigalg})),e.push(new n({hex:"00"+t.sighex})),new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&(this.params=t)},ee(st.asn1.x509.CRL,st.asn1.ASN1Object),st.asn1.x509.TBSCertList=function(t){st.asn1.x509.TBSCertList.superclass.constructor.call(this);var e=st.asn1,r=e.DERInteger,n=e.DERSequence,o=e.DERTaggedObject,i=(e.DERObjectIdentifier,e.x509),a=i.AlgorithmIdentifier,s=i.Time,c=i.Extensions,u=i.X500Name;this.params=null,this.setByParam=function(t){this.params=t},this.getRevCertSequence=function(){for(var t=[],e=this.params.revcert,o=0;o<e.length;o++){var i=[new r(e[o].sn),new s(e[o].date)];null!=e[o].ext&&i.push(new c(e[o].ext)),t.push(new n({array:i}))}return new n({array:t})},this.tohex=function(){var t=[],e=this.params;if(null!=e.version){var i=e.version-1,l=new r({int:i});t.push(l)}if(t.push(new a({name:e.sigalg})),t.push(new u(e.issuer)),t.push(new s(e.thisupdate)),null!=e.nextupdate&&t.push(new s(e.nextupdate)),null!=e.revcert&&t.push(this.getRevCertSequence()),null!=e.ext){var f=new c(e.ext);t.push(new o({tag:"a0",explicit:!0,obj:f}))}return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.TBSCertList,st.asn1.ASN1Object),st.asn1.x509.CRLEntry=function(t){st.asn1.x509.CRLEntry.superclass.constructor.call(this);var e=st.asn1;this.setCertSerial=function(t){this.sn=new e.DERInteger(t)},this.setRevocationDate=function(t){this.time=new e.x509.Time(t)},this.tohex=function(){var t=new e.DERSequence({array:[this.sn,this.time]});return this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.time&&this.setRevocationDate(t.time),void 0!==t.sn&&this.setCertSerial(t.sn))},ee(st.asn1.x509.CRLEntry,st.asn1.ASN1Object),st.asn1.x509.CRLNumber=function(t){st.asn1.x509.CRLNumber.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new st.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=t&&(this.params=t)},ee(st.asn1.x509.CRLNumber,st.asn1.x509.Extension),st.asn1.x509.CRLReason=function(t){st.asn1.x509.CRLReason.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new st.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=t&&(this.params=t)},ee(st.asn1.x509.CRLReason,st.asn1.x509.Extension),st.asn1.x509.OCSPNonce=function(t){st.asn1.x509.OCSPNonce.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new st.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=t&&(this.params=t)},ee(st.asn1.x509.OCSPNonce,st.asn1.x509.Extension),st.asn1.x509.OCSPNoCheck=function(t){st.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new st.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=t&&(this.params=t)},ee(st.asn1.x509.OCSPNoCheck,st.asn1.x509.Extension),st.asn1.x509.AdobeTimeStamp=function(t){st.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,t);var e=st.asn1,r=e.DERInteger,n=e.DERBoolean,o=e.DERSequence,i=e.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var t=this.params,e=[new r(1)];return e.push(new i({uri:t.uri})),null!=t.reqauth&&e.push(new n(t.reqauth)),this.asn1ExtnValue=new o({array:e}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.AdobeTimeStamp,st.asn1.x509.Extension),st.asn1.x509.X500Name=function(t){st.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var e=st.asn1,r=e.x509,n=r.RDN;this.setByString=function(t,e){void 0!==e&&(this.sRule=e);var r=t.split("/");r.shift();for(var o=[],i=0;i<r.length;i++)if(r[i].match(/^[^=]+=.+$/))o.push(r[i]);else{var a=o.length-1;o[a]=o[a]+"/"+r[i]}for(i=0;i<o.length;i++)this.asn1Array.push(new n({str:o[i],rule:this.sRule}))},this.setByLdapString=function(t,e){void 0!==e&&(this.sRule=e);var n=r.X500Name.ldapToCompat(t);this.setByString(n,e)},this.setByObject=function(t,e){for(var r in void 0!==e&&(this.sRule=e),t)if(t.hasOwnProperty(r)){var o=new n({str:r+"="+t[r],rule:this.sRule});this.asn1Array?this.asn1Array.push(o):this.asn1Array=[o]}},this.setByParam=function(t){var e;(void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.array)?this.paramArray=t.array:void 0!==t.str?this.setByString(t.str):void 0!==t.ldapstr?this.setByLdapString(t.ldapstr):void 0!==t.hex?this.hTLV=t.hex:void 0!==t.certissuer?((e=new ae).readCertPEM(t.certissuer),this.hTLV=e.getIssuerHex()):void 0!==t.certsubject?((e=new ae).readCertPEM(t.certsubject),this.hTLV=e.getSubjectHex()):"object"==typeof t&&void 0===t.certsubject&&void 0===t.certissuer&&this.setByObject(t)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var t=0;t<this.paramArray.length;t++){var r={array:this.paramArray[t]};"utf8"!=this.sRule&&(r.rule=this.sRule);var o=new n(r);this.asn1Array.push(o)}var i=new e.DERSequence({array:this.asn1Array});return this.hTLV=i.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.X500Name,st.asn1.ASN1Object),st.asn1.x509.X500Name.compatToLDAP=function(t){if("/"!==t.substr(0,1))throw"malformed input";var e=(t=t.substr(1)).split("/");return e.reverse(),e=e.map((function(t){return t.replace(/,/,"\\,")})),e.join(",")},st.asn1.x509.X500Name.onelineToLDAP=function(t){return st.asn1.x509.X500Name.compatToLDAP(t)},st.asn1.x509.X500Name.ldapToCompat=function(t){for(var e=t.split(","),r=!1,n=[],o=0;e.length>0;o++){var i=e.shift();if(!0===r){var a=(n.pop()+","+i).replace(/\\,/g,",");n.push(a),r=!1}else n.push(i);"\\"===i.substr(-1,1)&&(r=!0)}return n=n.map((function(t){return t.replace("/","\\/")})),n.reverse(),"/"+n.join("/")},st.asn1.x509.X500Name.ldapToOneline=function(t){return st.asn1.x509.X500Name.ldapToCompat(t)},st.asn1.x509.RDN=function(t){st.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var e=st.asn1.x509.AttributeTypeAndValue;this.setByParam=function(t){void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.str&&this.addByMultiValuedString(t.str),void 0!==t.array&&(this.paramArray=t.array)},this.addByString=function(t){this.asn1Array.push(new st.asn1.x509.AttributeTypeAndValue({str:t,rule:this.sRule}))},this.addByMultiValuedString=function(t){for(var e=st.asn1.x509.RDN.parseString(t),r=0;r<e.length;r++)this.addByString(e[r])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var t=0;t<this.paramArray.length;t++){var r=this.paramArray[t];void 0!==r.rule&&"utf8"!=this.sRule&&(r.rule=this.sRule);var n=new e(r);this.asn1Array.push(n)}var o=new st.asn1.DERSet({array:this.asn1Array});return this.TLV=o.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.RDN,st.asn1.ASN1Object),st.asn1.x509.RDN.parseString=function(t){for(var e=t.split(/\+/),r=!1,n=[],o=0;e.length>0;o++){var i=e.shift();if(!0===r){var a=(n.pop()+"+"+i).replace(/\\\+/g,"+");n.push(a),r=!1}else n.push(i);"\\"===i.substr(-1,1)&&(r=!0)}var s=!1,c=[];for(o=0;n.length>0;o++){i=n.shift();if(!0===s){var u=c.pop();if(i.match(/"$/)){a=(u+"+"+i).replace(/^([^=]+)="(.*)"$/,"$1=$2");c.push(a),s=!1}else c.push(u+"+"+i)}else c.push(i);i.match(/^[^=]+="/)&&(s=!0)}return c},st.asn1.x509.AttributeTypeAndValue=function(t){st.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var e=st,r=e.asn1,n=r.DERSequence,o=r.DERUTF8String,i=r.DERPrintableString,a=r.DERTeletexString,s=r.DERIA5String,c=r.DERVisibleString,u=r.DERBMPString,l=e.lang.String.isMail,f=e.lang.String.isPrintable;this.setByParam=function(t){if(void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.ds&&(this.dsType=t.ds),void 0===t.value&&void 0!==t.str){var e=t.str.match(/^([^=]+)=(.+)$/);if(!e)throw Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=e[1],this.sValue=e[2]}else this.sType=t.type,this.sValue=t.value},this.setByString=function(t,e){void 0!==e&&(this.sRule=e);var r=t.match(/^([^=]+)=(.+)$/);if(!r)throw Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(r[1],r[2])},this._getDsType=function(){var t=this.sType,e=this.sValue,r=this.sRule;return"prn"===r?"CN"==t&&l(e)?"ia5":f(e)?"prn":"utf8":"utf8"===r?"CN"==t&&l(e)?"ia5":"C"==t?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(t,e,r){void 0!==r&&(this.sRule=r),this.sType=t,this.sValue=e},this.getValueObj=function(t,e){if("utf8"==t)return new o({str:e});if("prn"==t)return new i({str:e});if("tel"==t)return new a({str:e});if("ia5"==t)return new s({str:e});if("vis"==t)return new c({str:e});if("bmp"==t)return new u({str:e});throw Error("unsupported directory string type: type="+t+" value="+e)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var t=st.asn1.x509.OID.atype2obj(this.sType),e=this.getValueObj(this.dsType,this.sValue),r=new n({array:[t,e]});return this.TLV=r.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.AttributeTypeAndValue,st.asn1.ASN1Object),st.asn1.x509.SubjectPublicKeyInfo=function(t){st.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var e=st,r=e.asn1,n=r.DERInteger,o=r.DERBitString,i=r.DERObjectIdentifier,a=r.DERSequence,s=r.ASN1Util.newObject,c=r.x509.AlgorithmIdentifier,u=e.crypto;u.ECDSA,u.DSA;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new a({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var t=this.getASN1Object();return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(t){try{if(t instanceof rt){var e=s({seq:[{int:{bigint:t.n}},{int:{int:t.e}}]}).tohex();this.asn1AlgId=new c({name:"rsaEncryption"}),this.asn1SubjPKey=new o({hex:"00"+e})}}catch(t){}try{if(t instanceof st.crypto.ECDSA){var r=new i({name:t.curveName});this.asn1AlgId=new c({name:"ecPublicKey",asn1params:r}),this.asn1SubjPKey=new o({hex:"00"+t.pubKeyHex})}}catch(t){}try{if(t instanceof st.crypto.DSA){r=new s({seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]});this.asn1AlgId=new c({name:"dsa",asn1params:r});var a=new n({bigint:t.y});this.asn1SubjPKey=new o({hex:"00"+a.tohex()})}}catch(t){}},void 0!==t&&this.setPubKey(t)},ee(st.asn1.x509.SubjectPublicKeyInfo,st.asn1.ASN1Object),st.asn1.x509.Time=function(t){st.asn1.x509.Time.superclass.constructor.call(this);var e=st.asn1,r=e.DERUTCTime,n=e.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(t){this.timeParams=t},this.setByParam=function(t){this.params=t},this.getType=function(t){return t.match(/^[0-9]{12}Z$/)?"utc":t.match(/^[0-9]{14}Z$/)?"gen":t.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":t.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var t=this.params,e=null;if("string"==typeof t&&(t={str:t}),null==t||!t.str||null!=t.type&&null!=t.type||(t.type=this.getType(t.str)),null!=t&&t.str?("utc"==t.type&&(e=new r(t.str)),"gen"==t.type&&(e=new n(t.str))):e="gen"==this.type?new n:new r,null==e)throw Error("wrong setting for Time");return this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},st.asn1.x509.Time_bak=function(t){st.asn1.x509.Time_bak.superclass.constructor.call(this);var e=st.asn1,r=e.DERUTCTime,n=e.DERGeneralizedTime;this.setTimeParams=function(t){this.timeParams=t},this.tohex=function(){var t=null;return t=null!=this.timeParams?"utc"==this.type?new r(this.timeParams):new n(this.timeParams):"utc"==this.type?new r:new n,this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==t&&(void 0!==t.type?this.type=t.type:void 0!==t.str&&(t.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),t.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=t)},ee(st.asn1.x509.Time,st.asn1.ASN1Object),st.asn1.x509.AlgorithmIdentifier=function(t){st.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var e=st.asn1,r=e.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw Error("algorithm not specified");if(null!==this.nameAlg){var t=null;for(var n in r)n===this.nameAlg&&(t=r[n]);if(null!==t)return this.hTLV=t,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=e.x509.OID.name2obj(this.nameAlg));var o=[this.asn1Alg];null!==this.asn1Params&&o.push(this.asn1Params);var i=new e.DERSequence({array:o});return this.hTLV=i.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.name&&(this.nameAlg=t.name),void 0!==t.asn1params&&(this.asn1Params=t.asn1params),void 0!==t.paramempty&&(this.paramEmpty=t.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var n=this.nameAlg.toLowerCase();"withdsa"!==n.substr(-7,7)&&"withecdsa"!==n.substr(-9,9)&&(this.asn1Params=new e.DERNull)}},ee(st.asn1.x509.AlgorithmIdentifier,st.asn1.ASN1Object),st.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},st.asn1.x509.GeneralName=function(t){st.asn1.x509.GeneralName.superclass.constructor.call(this);var e=st.asn1,r=e.x509,n=r.X500Name,o=r.OtherName,i=e.DERIA5String,a=(e.DERPrintableString,e.DEROctetString),s=e.DERTaggedObject,c=e.ASN1Object,u=Error;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t,e,r=this.params,l=!1;if(void 0!==r.other)t="a0",e=new o(r.other);else if(void 0!==r.rfc822)t="81",e=new i({str:r.rfc822});else if(void 0!==r.dns)t="82",e=new i({str:r.dns});else if(void 0!==r.dn)t="a4",l=!0,e="string"==typeof r.dn?new n({str:r.dn}):r.dn instanceof st.asn1.x509.X500Name?r.dn:new n(r.dn);else if(void 0!==r.ldapdn)t="a4",l=!0,e=new n({ldapstr:r.ldapdn});else if(void 0!==r.certissuer||void 0!==r.certsubj){var f,h;t="a4",l=!0;var p=null;if(void 0!==r.certsubj?(f=!1,h=r.certsubj):(f=!0,h=r.certissuer),h.match(/^[0-9A-Fa-f]+$/),-1!=h.indexOf("-----BEGIN ")&&(p=kt(h)),null==p)throw Error("certsubj/certissuer not cert");var d,y=new ae;y.hex=p,d=f?y.getIssuerHex():y.getSubjectHex(),(e=new c).hTLV=d}else if(void 0!==r.uri)t="86",e=new i({str:r.uri});else{if(void 0===r.ip)throw new u("improper params");var v;t="87";var m=r.ip;try{if(m.match(/^[0-9a-f]+$/)){var g=m.length;if(8!=g&&16!=g&&32!=g&&64!=g)throw"err";v=m}else v=Bt(m)}catch(t){throw new u("malformed IP address: "+r.ip+":"+t.message)}e=new a({hex:v})}return new s({tag:t,explicit:l,obj:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.GeneralName,st.asn1.ASN1Object),st.asn1.x509.GeneralNames=function(t){st.asn1.x509.GeneralNames.superclass.constructor.call(this);var e=st.asn1;this.setByParamArray=function(t){for(var r=0;r<t.length;r++){var n=new e.x509.GeneralName(t[r]);this.asn1Array.push(n)}},this.tohex=function(){return new e.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=[],void 0!==t&&this.setByParamArray(t)},ee(st.asn1.x509.GeneralNames,st.asn1.ASN1Object),st.asn1.x509.OtherName=function(t){st.asn1.x509.OtherName.superclass.constructor.call(this);var e=st.asn1,r=e.DERObjectIdentifier,n=e.DERSequence,o=e.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if(null==t.oid||null==t.value)throw Error("oid or value not specified");var e=new r({oid:t.oid}),i=o({tag:{tag:"a0",explicit:!0,obj:t.value}});return new n({array:[e,i]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.OtherName,st.asn1.ASN1Object),st.asn1.x509.OID=new function(){var t=st.asn1.DERObjectIdentifier;this.name2oidList={"aes128-CBC":"2.16.840.1.101.3.4.1.2","aes256-CBC":"2.16.840.1.101.3.4.1.42",sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",hmacWithSHA1:"1.2.840.113549.2.7",hmacWithSHA224:"1.2.840.113549.2.8",hmacWithSHA256:"1.2.840.113549.2.9",hmacWithSHA384:"1.2.840.113549.2.10",hmacWithSHA512:"1.2.840.113549.2.11",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var r=this.name2oidList[e],n=new t({oid:r});return this.objCache[e]=n,n},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];var r;if(e.match(/^\d+\.\d+\.[0-9.]+$/))r=e;else if(void 0!==this.atype2oidList[e])r=this.atype2oidList[e];else{if(void 0===this.name2oidList[e])throw Error("AttributeType name undefined: "+e);r=this.name2oidList[e]}var n=new t({oid:r});return this.objCache[e]=n,n},this.registerOIDs=function(t){if(this.checkOIDs(t))for(var e in t)this.name2oidList[e]=t[e]},this.checkOIDs=function(t){try{var e=Object.keys(t);return 0!=e.length&&(e.map((function(t,e,r){if(!this[t].match(/^[0-2]\.[0-9.]+$/))throw Error("value is not OID")}),t),!0)}catch(t){return!1}}},st.asn1.x509.OID.oid2name=function(t){var e=st.asn1.x509.OID.name2oidList;for(var r in e)if(e[r]==t)return r;return""},st.asn1.x509.OID.oid2atype=function(t){var e=st.asn1.x509.OID.atype2oidList;for(var r in e)if(e[r]==t)return r;return t},st.asn1.x509.OID.name2oid=function(t){if(t.match(/^[0-9.]+$/))return t;var e=st.asn1.x509.OID.name2oidList;return void 0===e[t]?"":e[t]},st.asn1.x509.X509Util={},st.asn1.x509.X509Util.newCertPEM=function(t){var e=st.asn1.x509;e.TBSCertificate;return new(0,e.Certificate)(t).getPEM()},void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),void 0!==st.asn1.cms&&st.asn1.cms||(st.asn1.cms={}),st.asn1.cms.Attribute=function(t){var e=Error,r=st.asn1,n=r.DERSequence,o=r.DERSet,i=r.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(t){this.params=t},this.getValueArray=function(){throw new e("not yet implemented abstract")},this.tohex=function(){var t=new i({oid:this.typeOid}),e=new o({array:this.getValueArray()});return new n({array:[t,e]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},ee(st.asn1.cms.Attribute,st.asn1.ASN1Object),st.asn1.cms.ContentType=function(t){var e=st.asn1;e.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new e.DERObjectIdentifier(this.params.type)]},null!=t&&this.setByParam(t)},ee(st.asn1.cms.ContentType,st.asn1.cms.Attribute),st.asn1.cms.MessageDigest=function(t){var e=st.asn1,r=e.DEROctetString;e.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new r(this.params)]},null!=t&&this.setByParam(t)},ee(st.asn1.cms.MessageDigest,st.asn1.cms.Attribute),st.asn1.cms.SigningTime=function(t){var e=st.asn1;e.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new e.x509.Time(this.params)]},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SigningTime,st.asn1.cms.Attribute),st.asn1.cms.SigningCertificate=function(t){var e=Error,r=st,n=r.asn1,o=n.DERSequence,i=n.cms,a=i.ESSCertID;r.crypto;i.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new e("parameter 'array' not specified");for(var r=this.params.array,n=[],i=0;i<r.length;i++){var s=r[i];0!=t.hasis||"string"!=typeof s||-1==s.indexOf("-----BEGIN")&&!lt.isASN1HEX(s)||(s={cert:s}),0!=s.hasis&&0==t.hasis&&(s.hasis=!1),n.push(new a(s))}var c=new o({array:n});return[new o({array:[c]})]},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SigningCertificate,st.asn1.cms.Attribute),st.asn1.cms.ESSCertID=function(t){st.asn1.cms.ESSCertID.superclass.constructor.call(this);var e=Error,r=st,n=r.asn1,o=n.DEROctetString,i=n.DERSequence,a=n.cms.IssuerSerial;this.params=null,this.getCertHash=function(t,n){if(null!=t.hash)return t.hash;if("string"==typeof t&&-1==t.indexOf("-----BEGIN")&&!lt.isASN1HEX(t))return t;var o,i,a;if("string"==typeof t)o=t;else{if(null==t.cert)throw new e("hash nor cert unspecified");o=t.cert}if(i=-1!=o.indexOf("-----BEGIN")?kt(o):o,"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?i=kt(t):lt.isASN1HEX(t)&&(i=t)),null!=t.alg)a=t.alg;else{if(null==n)throw new e("hash alg unspecified");a=n}return r.crypto.Util.hashHex(i,a)},this.tohex=function(){var t=this.params,e=this.getCertHash(t,"sha1"),r=[];return r.push(new o({hex:e})),("string"==typeof t&&-1!=t.indexOf("-----BEGIN")||null!=t.cert&&0!=t.hasis||null!=t.issuer&&null!=t.serial)&&r.push(new a(t)),new i({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.ESSCertID,st.asn1.ASN1Object),st.asn1.cms.SigningCertificateV2=function(t){var e=Error,r=st,n=r.asn1,o=n.DERSequence,i=(n.x509,n.cms),a=i.ESSCertIDv2;r.crypto;i.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new e("parameter 'array' not specified");for(var r=this.params.array,n=[],i=0;i<r.length;i++){var s=r[i];null==t.alg&&0!=t.hasis||"string"!=typeof s||-1==s.indexOf("-----BEGIN")&&!lt.isASN1HEX(s)||(s={cert:s}),null==s.alg&&null!=t.alg&&(s.alg=t.alg),0!=s.hasis&&0==t.hasis&&(s.hasis=!1),n.push(new a(s))}var c=new o({array:n});return[new o({array:[c]})]},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SigningCertificateV2,st.asn1.cms.Attribute),st.asn1.cms.ESSCertIDv2=function(t){st.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);var e=st.asn1,r=e.DEROctetString,n=e.DERSequence,o=e.cms.IssuerSerial,i=e.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var t=this.params,e=this.getCertHash(t,"sha256"),a=[];return null!=t.alg&&"sha256"!=t.alg&&a.push(new i({name:t.alg})),a.push(new r({hex:e})),("string"==typeof t&&-1!=t.indexOf("-----BEGIN")||null!=t.cert&&0!=t.hasis||null!=t.issuer&&null!=t.serial)&&a.push(new o(t)),new n({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.ESSCertIDv2,st.asn1.cms.ESSCertID),st.asn1.cms.IssuerSerial=function(t){var e=Error,r=st.asn1,n=r.DERInteger,o=r.DERSequence,i=r.cms,a=r.x509.GeneralNames,s=ae;i.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(t){this.params=t},this.tohex=function(){var t,r,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||null!=i.cert){var c;c=null!=i.cert?i.cert:i;var u=new s;u.readCertPEM(c),t=u.getIssuer(),r={hex:u.getSerialNumberHex()}}else{if(null==i.issuer||!i.serial)throw new e("cert or issuer and serial parameter not specified");t=i.issuer,r=i.serial}var l=new a([{dn:t}]),f=new n(r);return new o({array:[l,f]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.IssuerSerial,st.asn1.ASN1Object),st.asn1.cms.SignerIdentifier=function(t){var e=st.asn1,r=(e.DERInteger,e.DERSequence,e.cms),n=r.IssuerAndSerialNumber,o=r.SubjectKeyIdentifier;e.x509.X500Name;r.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if("isssn"==t.type)return new n(t).tohex();if("skid"==t.type)return new o(t).tohex();throw Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SignerIdentifier,st.asn1.ASN1Object),st.asn1.cms.IssuerAndSerialNumber=function(t){var e=st.asn1,r=e.DERInteger,n=e.DERSequence,o=e.cms,i=e.x509.X500Name,a=ae,s=Error;o.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t,e,o=this.params;if("string"==typeof o&&-1!=o.indexOf("-----BEGIN")||null!=o.cert){var c;c=null!=o.cert?o.cert:o;var u=new a;u.readCertPEM(c),t=u.getIssuer(),e={hex:u.getSerialNumberHex()}}else{if(null==o.issuer||!o.serial)throw new s("cert or issuer and serial parameter not specified");t=o.issuer,e=o.serial}var l=new i(t),f=new r(e);return new n({array:[l,f]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ee(st.asn1.cms.IssuerAndSerialNumber,st.asn1.ASN1Object),st.asn1.cms.SubjectKeyIdentifier=function(t){var e=st.asn1,r=(e.DERInteger,e.DERSequence,e.ASN1Util.newObject),n=e.cms,o=(n.IssuerAndSerialName,n.SubjectKeyIdentifier,e.x509.X500Name,ae),i=Error;n.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var t,e=this.params;if(null==e.cert&&null==e.skid)throw new i("property cert nor skid undefined");null!=e.cert?t=new o(e.cert).getExtSubjectKeyIdentifier().kid.hex:null!=e.skid&&(t=e.skid);return r({tag:{tage:"a0",obj:{octstr:{hex:t}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SubjectKeyIdentifier,st.asn1.ASN1Object),st.asn1.cms.AttributeList=function(t){var e=Error,r=st.asn1,n=r.DERSet,o=r.cms;o.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if(null!=this.hTLV)return this.hTLV;var r=!0;null!=t.sortflag&&(r=t.sortflag);for(var i=t.array,a=[],s=0;s<i.length;s++){var c=i[s],u=c.attr;if("contentType"==u)a.push(new o.ContentType(c));else if("messageDigest"==u)a.push(new o.MessageDigest(c));else if("signingTime"==u)a.push(new o.SigningTime(c));else if("signingCertificate"==u)a.push(new o.SigningCertificate(c));else if("signingCertificateV2"==u)a.push(new o.SigningCertificateV2(c));else if("signaturePolicyIdentifier"==u)a.push(new st.asn1.cades.SignaturePolicyIdentifier(c));else{if("signatureTimeStamp"!=u&&"timeStampToken"!=u)throw new e("unknown attr: "+u);a.push(new st.asn1.cades.SignatureTimeStamp(c))}}var l=new n({array:a,sortflag:r});return this.hTLV=l.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.AttributeList,st.asn1.ASN1Object),st.asn1.cms.SignerInfo=function(t){var e=Error,r=st,n=r.asn1,o=n.DERInteger,i=n.DEROctetString,a=n.DERSequence,s=n.DERTaggedObject,c=n.cms,u=c.SignerIdentifier,l=c.AttributeList,f=(c.ContentType,c.EncapsulatedContentInfo,c.MessageDigest,c.SignedData,n.x509.AlgorithmIdentifier),h=r.crypto,p=re;c.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var t=this.params,e=t.sigalg,r=new l(t.sattrs).tohex(),n=p.getKey(t.signkey),o=new h.Signature({alg:e});o.init(n),o.updateHex(r);var i=o.sign();t.sighex=i},this.tohex=function(){var t=this.params,r=[];if(r.push(new o({int:t.version})),r.push(new u(t.id)),r.push(new f({name:t.hashalg})),null!=t.sattrs){var n=new l(t.sattrs);try{r.push(new s({tag:"a0",explicit:!1,obj:n}))}catch(t){throw new e("si sattr error: "+t)}}if(null!=t.sigalgfield?r.push(new f({name:t.sigalgfield})):r.push(new f({name:t.sigalg})),null==t.sighex&&null!=t.signkey&&this.sign(),r.push(new i({hex:t.sighex})),null!=t.uattrs){n=new l(t.uattrs);try{r.push(new s({tag:"a1",explicit:!1,obj:n}))}catch(t){throw new e("si uattr error: "+t)}}return new a({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SignerInfo,st.asn1.ASN1Object),st.asn1.cms.EncapsulatedContentInfo=function(t){var e=st.asn1,r=e.DERTaggedObject,n=e.DERSequence,o=e.DERObjectIdentifier,i=e.DEROctetString;e.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];if(e.push(new o(t.type)),null!=t.content&&(null!=t.content.hex||null!=t.content.str)&&1!=t.isDetached){var a=new i(t.content),s=new r({tag:"a0",explicit:!0,obj:a});e.push(s)}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ee(st.asn1.cms.EncapsulatedContentInfo,st.asn1.ASN1Object),st.asn1.cms.ContentInfo=function(t){var e=st.asn1,r=e.DERTaggedObject,n=e.DERSequence,o=e.DERObjectIdentifier;e.x509.OID.name2obj;st.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];e.push(new o(t.type));var i=new r({tag:"a0",explicit:!0,obj:t.obj});return e.push(i),new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ee(st.asn1.cms.ContentInfo,st.asn1.ASN1Object),st.asn1.cms.SignedData=function(t){var e=st.asn1,r=(e.ASN1Object,e.DERInteger),n=e.DERSet,o=e.DERSequence,i=(e.DERTaggedObject,e.cms),a=i.EncapsulatedContentInfo,s=i.SignerInfo,c=i.ContentInfo,u=i.CertificateSet,l=i.RevocationInfoChoices,f=e.x509.AlgorithmIdentifier;st.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var t=this.params;this._setDigestAlgs(t),this._setContentTypeByEContent(t),this._setMessageDigestByEContent(t),this._setSignerInfoVersion(t),this._setSignedDataVersion(t)},this._setDigestAlgs=function(t){for(var e={},r=t.sinfos,n=0;n<r.length;n++){e[r[n].hashalg]=1}t.hashalgs=Object.keys(e).sort()},this._setContentTypeByEContent=function(t){for(var e=t.econtent.type,r=t.sinfos,n=0;n<r.length;n++){var o=r[n];this._getAttrParamByName(o,"contentType").type=e}},this._setMessageDigestByEContent=function(t){var e=t.econtent,r=(t.econtent.type,e.content.hex);null==r&&"data"==e.type&&null!=e.content.str&&(r=St(e.content.str));for(var n=t.sinfos,o=0;o<n.length;o++){var i=n[o],a=i.hashalg,s=this._getAttrParamByName(i,"messageDigest"),c=st.crypto.Util.hashHex(r,a);s.hex=c}},this._getAttrParamByName=function(t,e){for(var r=t.sattrs.array,n=0;n<r.length;n++)if(r[n].attr==e)return r[n]},this._setSignerInfoVersion=function(t){for(var e=t.sinfos,r=0;r<e.length;r++){var n=e[r],o=1;"skid"==n.id.type&&(o=3),n.version=o}},this._setSignedDataVersion=function(t){var e=this._getSignedDataVersion(t);t.version=e},this._getSignedDataVersion=function(t){if(null!=t.revinfos)for(var e=t.revinfos,r=0;r<e.length;r++){if(null!=e[r].ocsp)return 5}var n=t.sinfos;for(r=0;r<n.length;r++){if(3==t.sinfos[r].version)return 3}return"data"!=t.econtent.type?3:1},this.tohex=function(){var t=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=t.fixed&&this.checkAndFixParam();var e=[];e.push(new r({int:t.version}));for(var i=[],c=0;c<t.hashalgs.length;c++){var h=t.hashalgs[c];i.push(new f({name:h}))}e.push(new n({array:i})),e.push(new a(t.econtent)),null!=t.certs&&e.push(new u(t.certs)),null!=t.revinfos&&e.push(new l(t.revinfos));var p=[];for(c=0;c<t.sinfos.length;c++){var d=t.sinfos[c];p.push(new s(d))}return e.push(new n({array:p})),new o({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new c({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SignedData,st.asn1.ASN1Object),st.asn1.cms.CertificateSet=function(t){st.asn1.cms.CertificateSet.superclass.constructor.call(this);var e=Error,r=st.asn1,n=r.DERTaggedObject,o=r.DERSet,i=r.ASN1Object;this.params=null,this.tohex=function(){var t,r=this.params,a=[];if(r instanceof Array)t=r;else{if(null==r.array)throw new e("cert array not specified");t=r.array}for(var s=0;s<t.length;s++){var c=kt(t[s]),u=new i;u.hTLV=c,a.push(u)}var l={array:a};0==r.sortflag&&(l.sortflag=!1);var f=new o(l);return new n({tag:"a0",explicit:!1,obj:f}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.CertificateSet,st.asn1.ASN1Object),st.asn1.cms.RevocationInfoChoices=function(t){st.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(!t instanceof Array)throw Error("params is not array");for(var e=[],r=0;r<t.length;r++)e.push(new st.asn1.cms.RevocationInfoChoice(t[r]));return st.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:e}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.RevocationInfoChoices,st.asn1.ASN1Object),st.asn1.cms.RevocationInfoChoice=function(t){st.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(null!=t.crl&&"string"==typeof t.crl){var e=t.crl;return-1!=t.crl.indexOf("-----BEGIN")&&(e=kt(t.crl)),e}if(null!=t.ocsp)return st.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new st.asn1.cms.OtherRevocationFormat(t)}}).tohex();throw Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.RevocationInfoChoice,st.asn1.ASN1Object),st.asn1.cms.OtherRevocationFormat=function(t){st.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var e=Error,r=st,n=r.asn1.ASN1Util.newObject,o=r.lang.String.isHex;this.params=null,this.tohex=function(){var t=this.params;if(null==t.ocsp)throw new e("property ocsp not specified");if(!o(t.ocsp)||!lt.isASN1HEX(t.ocsp))throw new e("ocsp value not ASN.1 hex string");return n({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:t.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.OtherRevocationFormat,st.asn1.ASN1Object),st.asn1.cms.CMSUtil=new function(){},st.asn1.cms.CMSUtil.newSignedData=function(t){return new st.asn1.cms.SignedData(t)},st.asn1.cms.CMSUtil.verifySignedData=function(t){var e=st,r=e.asn1,n=r.cms,o=(n.SignerInfo,n.SignedData,n.SigningTime,n.SigningCertificate,n.SigningCertificateV2,r.cades.SignaturePolicyIdentifier,e.lang.String.isHex),i=lt,a=i.getVbyList,s=i.getTLVbyList,c=i.getIdxbyList,u=i.getChildIdx,l=i.getTLV,f=i.oidname,h=e.crypto.Util.hashHex;void 0===t.cms&&o(t.cms);var p=t.cms,d=function(t,e){var r=e.idx;e.signerid_issuer1=s(t,r,[1,0],"30"),e.signerid_serial1=a(t,r,[1,1],"02"),e.hashalg=f(a(t,r,[2,0],"06"));var n=c(t,r,[3],"a0");e.idxSignedAttrs=n,y(t,e,n);var o=u(t,r).length;if(o<6)throw"malformed SignerInfo";e.sigalg=f(a(t,r,[o-2,0],"06")),e.sigval=a(t,r,[o-1],"04")},y=function(t,e,r){var n=u(t,r);e.signedAttrIdxList=n;for(var o=0;o<n.length;o++){var i,s=n[o],c=a(t,s,[0],"06");"2a864886f70d010905"===c?(i=wt(a(t,s,[1,0])),e.saSigningTime=i):"2a864886f70d010904"===c&&(i=a(t,s,[1,0],"04"),e.saMessageDigest=i)}},v=function(t,e,r,n){r.verifyDetail={};var o=r.verifyDetail,i=e.parse.econtent,a=r.hashalg,s=r.saMessageDigest;o.validMessageDigest=!1,h(i,a)===s&&(o.validMessageDigest=!0),function(t,e,r){var n,o=e.parse.certsIdx;if(void 0===e.certs){n=[],e.certkeys=[];for(var i=u(t,o),a=0;a<i.length;a++){var s=l(t,i[a]),c=new ae;c.readCertHex(s),n[a]=c,e.certkeys[a]=c.getPublicKey()}e.certs=n}else n=e.certs;for(e.cccc=n.length,e.cccci=i.length,a=0;a<n.length;a++){var f=c.getIssuerHex(),h=c.getSerialNumberHex();r.signerid_issuer1===f&&r.signerid_serial1===h&&(r.certkey_idx=a)}}(t,e,r),o.validSignatureValue=!1;var c=r.sigalg,f="31"+l(t,r.idxSignedAttrs).substr(2);r.signedattrshex=f;var p=e.certs[r.certkey_idx].getPublicKey(),d=new st.crypto.Signature({alg:c});d.init(p),d.updateHex(f);var y=d.verify(r.sigval);o.validSignatureValue_isValid=y,!0===y&&(o.validSignatureValue=!0),r.isValid=!1,o.validMessageDigest&&o.validSignatureValue&&(r.isValid=!0)},m={isValid:!1,parse:{}};return function(t,e){if("2a864886f70d010702"!==a(t,0,[0],"06"))return e;e.cmsType="signedData",e.econtent=a(t,0,[1,0,2,1,0]),function(t,e){for(var r,n=3;n<6;n++)if(void 0!==(r=c(t,0,[1,0,n]))){var o=t.substr(r,2);"a0"===o&&(e.certsIdx=r),"a1"===o&&(e.revinfosIdx=r),"31"===o&&(e.signerinfosIdx=r)}}(t,e),e.signerInfos=[],function(t,e){var r=e.signerinfosIdx;if(void 0!==r){var n=u(t,r);e.signerInfoIdxList=n;for(var o=0;o<n.length;o++){var i={idx:n[o]};d(t,i),e.signerInfos.push(i)}}}(t,e)}(p,m.parse),function(t,e){for(var r=e.parse.signerInfos,n=r.length,o=!0,i=0;i<n;i++){var a=r[i];v(t,e,a,i),a.isValid||(o=!1)}e.isValid=o}(p,m),m},st.asn1.cms.CMSParser=function(){var t=Error,e=ae,r=new e,n=lt,o=n.getV,i=n.getTLV,a=(n.getIdxbyList,n.getTLVbyList),s=n.getTLVbyListEx,c=n.getVbyList,u=n.getVbyListEx,l=n.getChildIdx;this.getCMSSignedData=function(t){var e=a(t,0,[1,0]);return this.getSignedData(e)},this.getSignedData=function(t){var e=l(t,0),r={},n=o(t,e[0]),a=parseInt(n,16);r.version=a;var c=i(t,e[1]);r.hashalgs=this.getHashAlgArray(c);var u=i(t,e[2]);r.econtent=this.getEContent(u);var f=s(t,0,["[0]"]);null!=f&&(r.certs=this.getCertificateSet(f));s(t,0,["[1]"]);var h=s(t,0,[3]);return r.sinfos=this.getSignerInfos(h),r},this.getHashAlgArray=function(t){for(var r=l(t,0),n=new e,o=[],a=0;a<r.length;a++){var s=i(t,r[a]),c=n.getAlgorithmIdentifierName(s);o.push(c)}return o},this.getEContent=function(t){var e={},r=c(t,0,[0]),n=c(t,0,[1,0]);return e.type=st.asn1.x509.OID.oid2name(lt.hextooidstr(r)),e.content={hex:n},e},this.getSignerInfos=function(t){for(var e=[],r=l(t,0),n=0;n<r.length;n++){var o=i(t,r[n]),a=this.getSignerInfo(o);e.push(a)}return e},this.getSignerInfo=function(t){var e={},o=l(t,0),a=n.getInt(t,o[0],-1);-1!=a&&(e.version=a);var c=i(t,o[1]),f=this.getIssuerAndSerialNumber(c);e.id=f;var h=i(t,o[2]),p=r.getAlgorithmIdentifierName(h);e.hashalg=p;var d=s(t,0,["[0]"]);if(null!=d){var y=this.getAttributeList(d);e.sattrs=y}var v=s(t,0,[3]),m=r.getAlgorithmIdentifierName(v);e.sigalg=m;var g=u(t,0,[4]);e.sighex=g;var b=s(t,0,["[1]"]);if(null!=b){var w=this.getAttributeList(b);e.uattrs=w}return e},this.getSignerIdentifier=function(t){if("30"==t.substr(0,2))return this.getIssuerAndSerialNumber(t);throw Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(t){var e={type:"isssn"},n=l(t,0),a=i(t,n[0]);e.issuer=r.getX500Name(a);var s=o(t,n[1]);return e.serial={hex:s},e},this.getAttributeList=function(t){for(var e=[],r=l(t,0),n=0;n<r.length;n++){var o=i(t,r[n]),a=this.getAttribute(o);e.push(a)}return{array:e}},this.getAttribute=function(t){var e={},r=l(t,0),o=n.getOID(t,r[0]),a=st.asn1.x509.OID.oid2name(o);e.attr=a;var s=i(t,r[1]),c=l(s,0);if(1==c.length)e.valhex=i(s,c[0]);else{for(var u=[],f=0;f<c.length;f++)u.push(i(s,c[f]));e.valhex=u}return"contentType"==a?this.setContentType(e):"messageDigest"==a?this.setMessageDigest(e):"signingTime"==a?this.setSigningTime(e):"signingCertificate"==a?this.setSigningCertificate(e):"signingCertificateV2"==a?this.setSigningCertificateV2(e):"signaturePolicyIdentifier"==a&&this.setSignaturePolicyIdentifier(e),e},this.setContentType=function(t){var e=n.getOIDName(t.valhex,0,null);null!=e&&(t.type=e,delete t.valhex)},this.setSigningTime=function(t){var e=wt(o(t.valhex,0));t.str=e,delete t.valhex},this.setMessageDigest=function(t){var e=o(t.valhex,0);t.hex=e,delete t.valhex},this.setSigningCertificate=function(t){var e=l(t.valhex,0);if(e.length>0){for(var r=i(t.valhex,e[0]),n=l(r,0),o=[],a=0;a<n.length;a++){var s=i(r,n[a]),c=this.getESSCertID(s);o.push(c)}t.array=o}if(e.length>1){var u=i(t.valhex,e[1]);t.polhex=u}delete t.valhex},this.setSignaturePolicyIdentifier=function(t){var r=l(t.valhex,0);if(r.length>0){var a=n.getOID(t.valhex,r[0]);t.oid=a}if(r.length>1){var s=new e,c=l(t.valhex,r[1]),u=i(t.valhex,c[0]),f=s.getAlgorithmIdentifierName(u);t.alg=f;var h=o(t.valhex,c[1]);t.hash=h}delete t.valhex},this.setSigningCertificateV2=function(t){var e=l(t.valhex,0);if(e.length>0){for(var r=i(t.valhex,e[0]),n=l(r,0),o=[],a=0;a<n.length;a++){var s=i(r,n[a]),c=this.getESSCertIDv2(s);o.push(c)}t.array=o}if(e.length>1){var u=i(t.valhex,e[1]);t.polhex=u}delete t.valhex},this.getESSCertID=function(t){var e={},r=l(t,0);if(r.length>0){var n=o(t,r[0]);e.hash=n}if(r.length>1){var a=i(t,r[1]),s=this.getIssuerSerial(a);null!=s.serial&&(e.serial=s.serial),null!=s.issuer&&(e.issuer=s.issuer)}return e},this.getESSCertIDv2=function(e){var n={},a=l(e,0);if(a.length<1||3<a.length)throw new t("wrong number of elements");var s=0;if("30"==e.substr(a[0],2)){var c=i(e,a[0]);n.alg=r.getAlgorithmIdentifierName(c),s++}else n.alg="sha256";var u=o(e,a[s]);if(n.hash=u,a.length>s+1){var f=i(e,a[s+1]),h=this.getIssuerSerial(f);n.issuer=h.issuer,n.serial=h.serial}return n},this.getIssuerSerial=function(t){var e={},n=l(t,0),a=i(t,n[0]),s=r.getGeneralNames(a)[0].dn;e.issuer=s;var c=o(t,n[1]);return e.serial={hex:c},e},this.getCertificateSet=function(t){for(var e=l(t,0),r=[],n=0;n<e.length;n++){var o=i(t,e[n]);if("30"==o.substr(0,2)){var a=Lt(o,"CERTIFICATE");r.push(a)}}return{array:r,sortflag:!1}}},void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),void 0!==st.asn1.tsp&&st.asn1.tsp||(st.asn1.tsp={}),st.asn1.tsp.TimeStampToken=function(t){var e=st.asn1.tsp;e.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var t=new e.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=t.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.TimeStampToken,st.asn1.cms.SignedData),st.asn1.tsp.TSTInfo=function(t){var e=st.asn1,r=e.DERSequence,n=e.DERInteger,o=e.DERBoolean,i=e.DERGeneralizedTime,a=e.DERObjectIdentifier,s=e.DERTaggedObject,c=e.tsp,u=c.MessageImprint,l=c.Accuracy,f=(e.x509.X500Name,e.x509.GeneralName);if(c.TSTInfo.superclass.constructor.call(this),this.dVersion=new n({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var t=[this.dVersion];if(null==this.dPolicy)throw Error("policy shall be specified.");if(t.push(this.dPolicy),null==this.dMessageImprint)throw Error("messageImprint shall be specified.");if(t.push(this.dMessageImprint),null==this.dSerial)throw Error("serialNumber shall be specified.");if(t.push(this.dSerial),null==this.dGenTime)throw Error("genTime shall be specified.");t.push(this.dGenTime),null!=this.dAccuracy&&t.push(this.dAccuracy),null!=this.dOrdering&&t.push(this.dOrdering),null!=this.dNonce&&t.push(this.dNonce),null!=this.dTsa&&t.push(this.dTsa);var e=new r({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t){if("string"==typeof t.policy){if(!t.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new a({oid:t.policy})}void 0!==t.messageImprint&&(this.dMessageImprint=new u(t.messageImprint)),void 0!==t.serial&&(this.dSerial=new n(t.serial)),void 0!==t.genTime&&(this.dGenTime=new i(t.genTime)),void 0!==t.accuracy&&(this.dAccuracy=new l(t.accuracy)),void 0!==t.ordering&&1==t.ordering&&(this.dOrdering=new o),void 0!==t.nonce&&(this.dNonce=new n(t.nonce)),void 0!==t.tsa&&(this.dTsa=new s({tag:"a0",explicit:!0,obj:new f({dn:t.tsa})}))}},ee(st.asn1.tsp.TSTInfo,st.asn1.ASN1Object),st.asn1.tsp.Accuracy=function(t){var e=st.asn1,r=e.ASN1Util.newObject;e.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return null!=t.seconds&&"number"==typeof t.seconds&&e.push({int:t.seconds}),null!=t.millis&&"number"==typeof t.millis&&e.push({tag:{tagi:"80",obj:{int:t.millis}}}),null!=t.micros&&"number"==typeof t.micros&&e.push({tag:{tagi:"81",obj:{int:t.micros}}}),r({seq:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.Accuracy,st.asn1.ASN1Object),st.asn1.tsp.MessageImprint=function(t){var e=st.asn1,r=e.DERSequence,n=e.DEROctetString,o=e.x509.AlgorithmIdentifier;e.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=new o({name:t.alg}),i=new n({hex:t.hash});return new r({array:[e,i]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.tsp.MessageImprint,st.asn1.ASN1Object),st.asn1.tsp.TimeStampReq=function(t){var e=st.asn1,r=e.DERSequence,n=e.DERInteger,o=e.DERBoolean,i=(e.ASN1Object,e.DERObjectIdentifier),a=e.tsp,s=a.MessageImprint;a.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return e.push(new n({int:1})),t.messageImprint instanceof st.asn1.ASN1Object?e.push(t.messageImprint):e.push(new s(t.messageImprint)),null!=t.policy&&e.push(new i(t.policy)),null!=t.nonce&&e.push(new n(t.nonce)),1==t.certreq&&e.push(new o),new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.TimeStampReq,st.asn1.ASN1Object),st.asn1.tsp.TimeStampResp=function(t){var e=st.asn1,r=e.DERSequence,n=(e.ASN1Object,e.tsp),o=n.PKIStatusInfo;n.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,i=[];if(null!=t.econtent||null!=t.tst)if(null!=t.statusinfo?i.push(new o(t.statusinfo)):i.push(new o("granted")),null!=t.econtent)i.push(new n.TimeStampToken(t).getContentInfo());else{if(!(t.tst instanceof e.ASN1Object))throw Error("improper member tst value");i.push(t.tst)}else{if(null==t.statusinfo)throw Error("parameter for token nor statusinfo not specified");i.push(new o(t.statusinfo))}return new r({array:i}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.TimeStampResp,st.asn1.ASN1Object),st.asn1.tsp.PKIStatusInfo=function(t){var e=Error,r=st.asn1,n=r.DERSequence,o=r.tsp,i=o.PKIStatus,a=o.PKIFreeText,s=o.PKIFailureInfo;o.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,r=[];if("string"==typeof t)r.push(new i(t));else{if(null==t.status)throw new e("property 'status' unspecified");r.push(new i(t.status)),null!=t.statusstr&&r.push(new a(t.statusstr)),null!=t.failinfo&&r.push(new s(t.failinfo))}return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.PKIStatusInfo,st.asn1.ASN1Object),st.asn1.tsp.PKIStatus=function(t){var e=Error,r=st.asn1,n=r.DERInteger;r.tsp.PKIStatus.superclass.constructor.call(this);var o={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var t,r=this.params;if("string"==typeof r)try{t=o[r]}catch(t){throw new e("undefined name: "+r)}else{if("number"!=typeof r)throw new e("unsupported params");t=r}return new n({int:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.PKIStatus,st.asn1.ASN1Object),st.asn1.tsp.PKIFreeText=function(t){var e=Error,r=st.asn1,n=r.DERSequence,o=r.DERUTF8String;r.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(!t instanceof Array)throw new e("wrong params: not array");for(var r=[],i=0;i<t.length;i++)r.push(new o({str:t[i]}));return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.PKIFreeText,st.asn1.ASN1Object),st.asn1.tsp.PKIFailureInfo=function(t){var e=Error,r=st.asn1,n=r.DERBitString,o=r.tsp.PKIFailureInfo,i={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};o.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var t=this.params,r=0;if("number"==typeof t&&0<=t&&t<=25){for(var n=(r|=1<<t).toString(2),o="",a=n.length-1;a>=0;a--)o+=n[a];return o}if("string"==typeof t&&null!=i[t])return Zt([t],i);if("object"==typeof t&&null!=t.length)return Zt(t,i);throw new e("wrong params")},this.tohex=function(){this.params;var t=this.getBinValue();return new n({bin:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.PKIFailureInfo,st.asn1.ASN1Object),st.asn1.tsp.AbstractTSAAdapter=function(t){this.getTSTHex=function(t,e){throw"not implemented yet"}},st.asn1.tsp.SimpleTSAAdapter=function(t){var e=st,r=e.asn1.tsp,n=e.crypto.Util.hashHex;r.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(t,e){var o=n(t,e);this.params.econtent.content.messageImprint={alg:e,hash:o},this.params.econtent.content.serial={int:this.serial++};var i=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:i},new r.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},ee(st.asn1.tsp.SimpleTSAAdapter,st.asn1.tsp.AbstractTSAAdapter),st.asn1.tsp.FixedTSAAdapter=function(t){var e=st,r=e.asn1.tsp,n=e.crypto.Util.hashHex;r.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(t,e){var o=n(t,e);return this.params.econtent.content.messageImprint={alg:e,hash:o},new r.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},ee(st.asn1.tsp.FixedTSAAdapter,st.asn1.tsp.AbstractTSAAdapter),st.asn1.tsp.TSPUtil=new function(){},st.asn1.tsp.TSPUtil.newTimeStampToken=function(t){return new st.asn1.tsp.TimeStampToken(t)},st.asn1.tsp.TSPUtil.parseTimeStampReq=function(t){return(new st.asn1.tsp.TSPParser).getTimeStampReq(t)},st.asn1.tsp.TSPUtil.parseMessageImprint=function(t){return(new st.asn1.tsp.TSPParser).getMessageImprint(t)},st.asn1.tsp.TSPParser=function(){var t=new ae,e=lt,r=e.getV,n=e.getTLV,o=e.getIdxbyList,i=(e.getTLVbyListEx,e.getChildIdx),a=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],s={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(t){var e=i(t,0);if(1==e.length)return this.getPKIStatusInfo(n(t,e[0]));if(e.length>1){var r=this.getPKIStatusInfo(n(t,e[0])),o=n(t,e[1]),a=this.getToken(o);return a.statusinfo=r,a}},this.getToken=function(t){var e=(new st.asn1.cms.CMSParser).getCMSSignedData(t);return this.setTSTInfo(e),e},this.setTSTInfo=function(t){var e=t.econtent;if("tstinfo"==e.type){var r=e.content.hex,n=this.getTSTInfo(r);e.content=n}},this.getTSTInfo=function(e){var o={},a=i(e,0),s=r(e,a[1]);o.policy=Yt(s);var c=n(e,a[2]);o.messageImprint=this.getMessageImprint(c);var u=r(e,a[3]);o.serial={hex:u};var l=r(e,a[4]);o.genTime={str:wt(l)};var f=0;if(a.length>5&&"30"==e.substr(a[5],2)){var h=n(e,a[5]);o.accuracy=this.getAccuracy(h),f++}a.length>5+f&&"01"==e.substr(a[5+f],2)&&("ff"==r(e,a[5+f])&&(o.ordering=!0),f++);if(a.length>5+f&&"02"==e.substr(a[5+f],2)){var p=r(e,a[5+f]);o.nonce={hex:p},f++}if(a.length>5+f&&"a0"==e.substr(a[5+f],2)){var d=n(e,a[5+f]);d="30"+d.substr(2),pGeneralNames=t.getGeneralNames(d);var y=pGeneralNames[0].dn;o.tsa=y,f++}if(a.length>5+f&&"a1"==e.substr(a[5+f],2)){var v=n(e,a[5+f]);v="30"+v.substr(2);var m=t.getExtParamArray(v);o.ext=m,f++}return o},this.getAccuracy=function(t){for(var e={},n=i(t,0),o=0;o<n.length;o++){var a=t.substr(n[o],2),s=r(t,n[o]),c=parseInt(s,16);"02"==a?e.seconds=c:"80"==a?e.millis=c:"81"==a&&(e.micros=c)}return e},this.getMessageImprint=function(t){if("30"!=t.substr(0,2))throw Error("head of messageImprint hex shall be x30");var n={},a=(i(t,0),o(t,0,[0,0])),s=r(t,a),c=e.hextooidstr(s),u=st.asn1.x509.OID.oid2name(c);if(""==u)throw Error("hashAlg name undefined: "+c);var l=u,f=o(t,0,[1]);return n.alg=l,n.hash=r(t,f),n},this.getPKIStatusInfo=function(t){var e={},o=i(t,0),s=0;try{var c=r(t,o[0]),u=parseInt(c,16);e.status=a[u]}catch(t){}if(o.length>1&&"30"==t.substr(o[1],2)){var l=n(t,o[1]);e.statusstr=this.getPKIFreeText(l),s++}if(o.length>s&&"03"==t.substr(o[1+s],2)){var f=n(t,o[1+s]);e.failinfo=this.getPKIFailureInfo(f)}return e},this.getPKIFreeText=function(t){for(var r=[],n=i(t,0),o=0;o<n.length;o++)r.push(e.getString(t,n[o]));return r},this.getPKIFailureInfo=function(t){var r=e.getInt(t,0);return null!=s[r]?s[r]:r},this.getTimeStampReq=function(t){var o={certreq:!1},a=i(t,0);if(a.length<2)throw Error("TimeStampReq must have at least 2 items");var s=n(t,a[1]);o.messageImprint=st.asn1.tsp.TSPUtil.parseMessageImprint(s);for(var c=2;c<a.length;c++){var u=a[c],l=t.substr(u,2);if("06"==l){var f=r(t,u);o.policy=e.hextooidstr(f)}"02"==l&&(o.nonce=r(t,u)),"01"==l&&(o.certreq=!0)}return o}},void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),void 0!==st.asn1.cades&&st.asn1.cades||(st.asn1.cades={}),st.asn1.cades.SignaturePolicyIdentifier=function(t){var e=st.asn1.cades,r=e.SignaturePolicyId;e.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new r(this.params)]},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ee(st.asn1.cades.SignaturePolicyIdentifier,st.asn1.cms.Attribute),st.asn1.cades.SignaturePolicyId=function(t){var e=st.asn1,r=e.DERSequence,n=e.DERObjectIdentifier,o=(e.x509.AlgorithmIdentifier,e.cades),i=o.SignaturePolicyId,a=o.OtherHashAlgAndValue;i.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return e.push(new n(t.oid)),e.push(new a(t)),new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ee(st.asn1.cades.SignaturePolicyId,st.asn1.ASN1Object),st.asn1.cades.OtherHashAlgAndValue=function(t){var e=Error,r=st.asn1,n=r.DERSequence,o=r.DEROctetString,i=r.x509.AlgorithmIdentifier;r.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(null==t.alg)throw new e("property 'alg' not specified");if(null==t.hash&&null==t.cert)throw new e("property 'hash' nor 'cert' not specified");var r=null;if(null!=t.hash)r=t.hash;else if(null!=t.cert){if("string"!=typeof t.cert)throw new e("cert not string");var a=t.cert;-1!=t.cert.indexOf("-----BEGIN")&&(a=kt(t.cert)),r=st.crypto.Util.hashHex(a,t.alg)}var s=[];return s.push(new i({name:t.alg})),s.push(new o({hex:r})),new n({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cades.OtherHashAlgAndValue,st.asn1.ASN1Object),st.asn1.cades.OtherHashValue=function(t){st.asn1.cades.OtherHashValue.superclass.constructor.call(this);var e=Error,r=st,n=(r.lang.String.isHex,r.asn1.DEROctetString);r.crypto.Util.hashHex;this.params=null,this.tohex=function(){var t=this.params;if(null==t.hash&&null==t.cert)throw new e("hash or cert not specified");var r=null;if(null!=t.hash)r=t.hash;else if(null!=t.cert){if("string"!=typeof t.cert)throw new e("cert not string");var o=t.cert;-1!=t.cert.indexOf("-----BEGIN")&&(o=kt(t.cert)),r=st.crypto.Util.hashHex(o,"sha1")}return new n({hex:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cades.OtherHashValue,st.asn1.ASN1Object),st.asn1.cades.SignatureTimeStamp=function(t){var e=Error,r=st,n=r.lang.String.isHex,o=r.asn1,i=o.ASN1Object;o.x509;o.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var t=this.params;if(null!=t.tst){if(n(t.tst))return(o=new i).hTLV=t.tst,[o];if(t.tst instanceof i)return[t.tst];throw new e("params.tst has wrong value")}if(null!=t.res){var r=t.res;if(r instanceof i&&(r=r.tohex()),"string"!=typeof r||!n(r))throw new e("params.res has wrong value");var o;lt.getTLVbyList(r,0,[1]);return(o=new i).hTLV=t.tst,[o]}},null!=t&&this.setByParam(t)},ee(st.asn1.cades.SignatureTimeStamp,st.asn1.cms.Attribute),st.asn1.cades.CompleteCertificateRefs=function(t){var e=Error,r=st,n=r.asn1,o=n.DERSequence,i=n.cades,a=i.OtherCertID,s=r.lang.String.isHex;i.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var t=this.params,r=[],n=0;n<t.array.length;n++){var i=t.array[n];if("string"==typeof i)if(-1!=i.indexOf("-----BEGIN"))i={cert:i};else{if(!s(i))throw new e("unsupported value: "+i);i={hash:i}}null!=t.alg&&null==i.alg&&(i.alg=t.alg),null!=t.hasis&&null==i.hasis&&(i.hasis=t.hasis);var c=new a(i);r.push(c)}return[new o({array:r})]},null!=t&&this.setByParam(t)},ee(st.asn1.cades.CompleteCertificateRefs,st.asn1.cms.Attribute),st.asn1.cades.OtherCertID=function(t){var e=st.asn1,r=e.DERSequence,n=e.cms.IssuerSerial,o=e.cades,i=o.OtherHashValue,a=o.OtherHashAlgAndValue;o.OtherCertID.superclass.constructor.call(this),this.params=t,this.tohex=function(){var t=this.params;"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?t={cert:t}:_isHex(t)&&(t={hash:t}));var e=[],o=null;if(o=null!=t.alg?new a(t):new i(t),e.push(o),null!=t.cert&&1==t.hasis||null!=t.issuer&&null!=t.serial){var s=new n(t);e.push(s)}return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cades.OtherCertID,st.asn1.ASN1Object),st.asn1.cades.OtherHash=function(t){var e=st,r=e.asn1,n=(r.cms,r.cades),o=n.OtherHashAlgAndValue,i=n.OtherHashValue,a=(e.crypto.Util.hashHex,e.lang.String.isHex);n.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?t={cert:t}:a(t)&&(t={hash:t}));return(null!=t.alg?new o(t):new i(t)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cades.OtherHash,st.asn1.ASN1Object),st.asn1.cades.CAdESUtil=new function(){},st.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(t){return(new st.asn1.cms.CMSParser).getCMSSignedData(t)},st.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(t,e,r){var n=lt,o=n.getChildIdx,i=n.getTLV,a=n.getV,s=st.asn1,c=s.ASN1Object,u=s.cms,l=u.AttributeList,f=u.SignerInfo,h={},p=o(t,e);if(6!=p.length)throw"not supported items for SignerInfo (!=6)";var d=p.shift();h.version=i(t,d);var y=p.shift();h.si=i(t,y);var v=p.shift();h.digalg=i(t,v);var m=p.shift();h.sattrs=i(t,m);var g=p.shift();h.sigalg=i(t,g);var b=p.shift();h.sig=i(t,b),h.sigval=a(t,b);var w=null;return h.obj=new f,(w=new c).hTLV=h.version,h.obj.dCMSVersion=w,(w=new c).hTLV=h.si,h.obj.dSignerIdentifier=w,(w=new c).hTLV=h.digalg,h.obj.dDigestAlgorithm=w,(w=new c).hTLV=h.sattrs,h.obj.dSignedAttrs=w,(w=new c).hTLV=h.sigalg,h.obj.dSigAlg=w,(w=new c).hTLV=h.sig,h.obj.dSig=w,h.obj.dUnsignedAttrs=new l,h},void 0!==st.asn1.csr&&st.asn1.csr||(st.asn1.csr={}),st.asn1.csr.CertificationRequest=function(t){var e=st.asn1,r=e.DERBitString,n=e.DERSequence,o=e.csr,i=(e.x509,o.CertificationRequestInfo);o.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(t){this.params=t},this.sign=function(){var t=new i(this.params).tohex(),e=new st.crypto.Signature({alg:this.params.sigalg});e.init(this.params.sbjprvkey),e.updateHex(t);var r=e.sign();this.params.sighex=r},this.getPEM=function(){return Lt(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var t=this.params,e=new st.asn1.csr.CertificationRequestInfo(this.params),o=new st.asn1.x509.AlgorithmIdentifier({name:t.sigalg});if(null==t.sighex&&null!=t.sbjprvkey&&this.sign(),null==t.sighex)throw Error("sighex or sbjprvkey parameter not defined");var i=new r({hex:"00"+t.sighex});return new n({array:[e,o,i]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.csr.CertificationRequest,st.asn1.ASN1Object),st.asn1.csr.CertificationRequestInfo=function(t){var e=st.asn1,r=(e.DERBitString,e.DERSequence),n=e.DERInteger,o=e.DERUTF8String,i=e.DERTaggedObject,a=e.ASN1Util.newObject,s=e.csr,c=e.x509,u=c.X500Name,l=c.Extensions,f=c.SubjectPublicKeyInfo;s.AttributeList;s.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(t){null!=t&&(this.params=t)},this.tohex=function(){var t=this.params,e=[];if(e.push(new n({int:0})),e.push(new u(t.subject)),e.push(new f(re.getKey(t.sbjpubkey))),null!=t.attrs){var s=function(t){for(var e=Error,r=st.asn1.x509.Extensions,n=[],o=0;o<t.length;o++){var i=t[o],a=i.attr;if("extensionRequest"==a){var s={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[new r(i.ext)]}]};n.push(s)}else if("unstructuredName"==a){s={seq:[{oid:"1.2.840.113549.1.9.2"},{set:i.names}]};n.push(s)}else{if("challengePassword"!=a)throw new e("unknown CSR attribute");s={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:i.password}]}]};n.push(s)}}return{set:n}}(t.attrs),c=a({tag:{tage:"a0",obj:s}});e.push(c)}else if(null!=t.extreq){var h=new l(t.extreq);c=a({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[h]}]}}});e.push(c)}else e.push(new i({tag:"a0",explicit:!1,obj:new o({str:""})}));return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.csr.CertificationRequestInfo,st.asn1.ASN1Object),st.asn1.csr.AttributeList=function(t){},ee(st.asn1.csr.AttributeList,st.asn1.ASN1Object),st.asn1.csr.CSRUtil=new function(){},st.asn1.csr.CSRUtil.newCSRPEM=function(t){return new st.asn1.csr.CertificationRequest(t).getPEM()},st.asn1.csr.CSRUtil.getParam=function(t,e){var r=lt,n=r.getV,o=r.getIdxbyList,i=r.getTLVbyList,a=r.getTLVbyListEx,s=r.getVbyListEx,c={};if(-1==t.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw Error("argument is not PEM file");var u=kt(t,"CERTIFICATE REQUEST");e&&(c.tbs=i(u,0,[0]));try{var l=a(u,0,[0,1]);if("3000"==l)c.subject={};else{var f=new ae;c.subject=f.getX500Name(l)}}catch(t){}var h=a(u,0,[0,2]),p=re.getKey(h,null,"pkcs8pub");c.sbjpubkey=re.getPEM(p,"PKCS8PUB");var d=function(t){var e=o(t,0,[0,3,0,0],"06");return"2a864886f70d01090e"!=n(t,e)?null:i(t,0,[0,3,0,1,0],"30")}(u);f=new ae;null!=d&&(c.extreq=f.getExtParamArray(d));try{var y=a(u,0,[1],"30");f=new ae;c.sigalg=f.getAlgorithmIdentifierName(y)}catch(t){}try{var v=s(u,0,[2]);c.sighex=v}catch(t){}return c},st.asn1.csr.CSRUtil.verifySignature=function(t){try{var e=null;if("string"==typeof t&&-1!=t.indexOf("-----BEGIN CERTIFICATE REQUEST")?e=st.asn1.csr.CSRUtil.getParam(t,!0):"object"==typeof t&&null!=t.sbjpubkey&&null!=t.sigalg&&null!=t.sighex&&null!=t.tbs&&(e=t),null==e)return!1;var r=new st.crypto.Signature({alg:e.sigalg});return r.init(e.sbjpubkey),r.updateHex(e.tbs),r.verify(e.sighex)}catch(t){return alert(t),!1}},void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),void 0!==st.asn1.ocsp&&st.asn1.ocsp||(st.asn1.ocsp={}),st.asn1.ocsp.DEFAULT_HASH="sha1",st.asn1.ocsp.OCSPResponse=function(t){st.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);st.asn1.DEREnumerated;var e=st.asn1.ASN1Util.newObject,r=st.asn1.ocsp.ResponseBytes,n=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var t=this.params.resstatus;return"number"==typeof t?t:"string"!=typeof t?-1:n.indexOf(t)},this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params,n=this._getStatusCode();if(-1==n)throw Error("responseStatus not supported: "+t.resstatus);if(0!=n)return e({seq:[{enum:{int:n}}]}).tohex();var o=new r(t);return e({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:o}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.OCSPResponse,st.asn1.ASN1Object),st.asn1.ocsp.ResponseBytes=function(t){st.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var e=st.asn1,r=e.DERSequence,n=e.DERObjectIdentifier,o=e.DEROctetString,i=e.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if("ocspBasic"!=t.restype)throw Error("not supported responseType: "+t.restype);var e=new i(t),a=[];return a.push(new n({name:"ocspBasic"})),a.push(new o({hex:e.tohex()})),new r({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.ResponseBytes,st.asn1.ASN1Object),st.asn1.ocsp.BasicOCSPResponse=function(t){st.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var e=Error,r=st.asn1,n=r.ASN1Object,o=r.DERSequence,i=(r.DERGeneralizedTime,r.DERTaggedObject),a=r.DERBitString,s=(r.x509.Extensions,r.x509.AlgorithmIdentifier),c=r.ocsp;c.ResponderID;_SingleResponseList=c.SingleResponseList,_ResponseData=c.ResponseData,this.params=null,this.setByParam=function(t){this.params=t},this.sign=function(){var t=this.params,e=t.tbsresp.tohex(),r=new st.crypto.Signature({alg:t.sigalg});r.init(t.reskey),r.updateHex(e),t.sighex=r.sign()},this.tohex=function(){var t=this.params;null==t.tbsresp&&(t.tbsresp=new _ResponseData(t)),null==t.sighex&&null!=t.reskey&&this.sign();var r=[];if(r.push(t.tbsresp),r.push(new s({name:t.sigalg})),r.push(new a({hex:"00"+t.sighex})),null!=t.certs&&null!=t.certs.length){for(var c=[],u=0;u<t.certs.length;u++){var l=t.certs[u],f=null;if(lt.isASN1HEX(l))f=l;else{if(!l.match(/-----BEGIN/))throw new e("certs["+u+"] not hex or PEM");f=kt(l)}c.push(new n({tlv:f}))}var h=new o({array:c});r.push(new i({tag:"a0",explicit:!0,obj:h}))}return new o({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.BasicOCSPResponse,st.asn1.ASN1Object),st.asn1.ocsp.ResponseData=function(t){st.asn1.ocsp.ResponseData.superclass.constructor.call(this);var e=Error,r=st.asn1,n=r.DERSequence,o=r.DERGeneralizedTime,i=r.DERTaggedObject,a=r.x509.Extensions,s=r.ocsp,c=s.ResponderID;_SingleResponseList=s.SingleResponseList,this.params=null,this.tohex=function(){var t=this.params;null!=t.respid&&new e("respid not specified"),null!=t.prodat&&new e("prodat not specified"),null!=t.array&&new e("array not specified");var r=[];if(r.push(new c(t.respid)),r.push(new o(t.prodat)),r.push(new _SingleResponseList(t.array)),null!=t.ext){var s=new a(t.ext);r.push(new i({tag:"a1",explicit:!0,obj:s}))}return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.ResponseData,st.asn1.ASN1Object),st.asn1.ocsp.ResponderID=function(t){st.asn1.ocsp.ResponderID.superclass.constructor.call(this);var e=st,r=e.asn1,n=r.ASN1Util.newObject,o=r.x509.X500Name,i=e.lang.String.isHex,a=Error;this.params=null,this.tohex=function(){var t=this.params;if(null!=t.key){var e,r=null;if("string"==typeof t.key){if(i(t.key)&&(r=t.key),t.key.match(/-----BEGIN CERTIFICATE/))null!=(e=new ae(t.key).getExtSubjectKeyIdentifier())&&(r=e.kid.hex)}else if(t.key instanceof ae)null!=(e=t.key.getExtSubjectKeyIdentifier())&&(r=e.kid.hex);if(null==r)throw new a("wrong key member value");return n({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:r}}}}).tohex()}if(null!=t.name){var s=null;if("string"==typeof t.name&&t.name.match(/-----BEGIN CERTIFICATE/))s=new ae(t.name).getSubject();else t.name instanceof ae?s=t.name.getSubject():"object"!=typeof t.name||null==t.name.array&&null==t.name.str||(s=t.name);if(null==s)throw new a("wrong name member value");return n({tag:{tag:"a1",explicit:!0,obj:new o(s)}}).tohex()}throw new a("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.ResponderID,st.asn1.ASN1Object),st.asn1.ocsp.SingleResponseList=function(t){st.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var e=st.asn1,r=e.DERSequence,n=e.ocsp.SingleResponse;this.params=null,this.tohex=function(){var t=this.params;if("object"!=typeof t||null==t.length)throw Error("params not specified properly");for(var e=[],o=0;o<t.length;o++)e.push(new n(t[o]));return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.SingleResponseList,st.asn1.ASN1Object),st.asn1.ocsp.SingleResponse=function(t){var e=Error,r=st.asn1,n=r.DERSequence,o=r.DERGeneralizedTime,i=r.DERTaggedObject,a=r.ocsp,s=a.CertID,c=a.CertStatus,u=r.x509.Extensions;a.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,r=[];if(null==t.certid)throw new e("certid unspecified");if(null==t.status)throw new e("status unspecified");if(null==t.thisupdate)throw new e("thisupdate unspecified");if(r.push(new s(t.certid)),r.push(new c(t.status)),r.push(new o(t.thisupdate)),null!=t.nextupdate){var a=new o(t.nextupdate);r.push(new i({tag:"a0",explicit:!0,obj:a}))}if(null!=t.ext){var l=new u(t.ext);r.push(new i({tag:"a1",explicit:!0,obj:l}))}return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.SingleResponse,st.asn1.ASN1Object),st.asn1.ocsp.CertID=function(t){var e=st,r=e.asn1,n=r.DEROctetString,o=r.DERInteger,i=r.DERSequence,a=r.x509.AlgorithmIdentifier,s=r.ocsp,c=(s.DEFAULT_HASH,e.crypto.Util.hashHex),u=ae,l=lt.getVbyList;s.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(t,e,r,n){null==n&&(n=this.DEFAULT_HASH),this.params={alg:n,issname:t,isskey:e,sbjsn:r}},this.setByCert=function(t,e,r){null==r&&(r=this.DEFAULT_HASH),this.params={alg:r,issuerCert:t,subjectCert:e}},this.getParamByCerts=function(t,e,r){null==r&&(r=this.DEFAULT_HASH);var n=new u(t),o=new u(e),i=c(n.getSubjectHex(),r),a=n.getPublicKeyHex();return{alg:r,issname:i,isskey:c(l(a,0,[1],"03",!0),r),sbjsn:o.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw Error("params not set");var t,e,r,s,c=this.params;if(s=null==c.alg?this.DEFAULT_HASH:c.alg,null!=c.issuerCert&&null!=c.subjectCert){var u=this.getParamByCerts(c.issuerCert,c.subjectCert,s);t=u.issname,e=u.isskey,r=u.sbjsn}else{if(null==c.issname||null==c.isskey||null==c.sbjsn)throw Error("required param members not defined");t=c.issname,e=c.isskey,r=c.sbjsn}var l=new a({name:s}),f=new n({hex:t}),h=new n({hex:e}),p=new o({hex:r}),d=new i({array:[l,f,h,p]});return this.hTLV=d.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.CertID,st.asn1.ASN1Object),st.asn1.ocsp.CertStatus=function(t){st.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if("good"==t.status)return"8000";if("unknown"==t.status)return"8200";if("revoked"==t.status){var e=[{gentime:{str:t.time}}];null!=t.reason&&e.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:t.reason}}}});var r={tag:"a1",explicit:!1,obj:{seq:e}};return st.asn1.ASN1Util.newObject({tag:r}).tohex()}throw Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.CertStatus,st.asn1.ASN1Object),st.asn1.ocsp.Request=function(t){var e=st.asn1,r=e.DERSequence,n=e.ocsp;if(n.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var t=[];if(null===this.dReqCert)throw"reqCert not set";t.push(this.dReqCert);var e=new r({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t){var o=new n.CertID(t);this.dReqCert=o}},ee(st.asn1.ocsp.Request,st.asn1.ASN1Object),st.asn1.ocsp.TBSRequest=function(t){var e=st.asn1,r=e.DERSequence,n=e.ocsp;n.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(t){for(var e=[],r=0;r<t.length;r++){var o=new n.Request(t[0]);e.push(o)}this.dRequestList=e},this.tohex=function(){var t=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var e=new r({array:this.dRequestList});if(t.push(e),null!==this.dRequestExt)throw"requestExtensions not supported";var n=new r({array:t});return this.hTLV=n.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&void 0!==t.reqList&&this.setRequestListByParam(t.reqList)},ee(st.asn1.ocsp.TBSRequest,st.asn1.ASN1Object),st.asn1.ocsp.OCSPRequest=function(t){var e=st.asn1,r=e.DERSequence,n=e.ocsp;if(n.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var t=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(t.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var e=new r({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&void 0!==t.reqList){var o=new n.TBSRequest(t);this.dTbsRequest=o}},ee(st.asn1.ocsp.OCSPRequest,st.asn1.ASN1Object),st.asn1.ocsp.OCSPUtil={},st.asn1.ocsp.OCSPUtil.getRequestHex=function(t,e,r){var n=st.asn1.ocsp;void 0===r&&(r=n.DEFAULT_HASH);var o={alg:r,issuerCert:t,subjectCert:e};return new n.OCSPRequest({reqList:[o]}).tohex()},st.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(t){var e=lt,r=e.getVbyList,n=e.getVbyListEx,o=e.getIdxbyList,i=(e.getIdxbyListEx,e.getV),a={};try{var s=n(t,0,[0],"0a");a.responseStatus=parseInt(s,16)}catch(t){}if(0!==a.responseStatus)return a;try{var c=o(t,0,[1,0,1,0,0,2,0,1]);"80"===t.substr(c,2)?a.certStatus="good":"a1"===t.substr(c,2)?(a.certStatus="revoked",a.revocationTime=wt(r(t,c,[0]))):"82"===t.substr(c,2)&&(a.certStatus="unknown")}catch(t){}try{var u=o(t,0,[1,0,1,0,0,2,0,2]);a.thisUpdate=wt(i(t,u))}catch(t){}try{var l=o(t,0,[1,0,1,0,0,2,0,3]);"a0"===t.substr(l,2)&&(a.nextUpdate=wt(r(t,l,[0])))}catch(t){}return a},st.asn1.ocsp.OCSPParser=function(){var t=Error,e=ae,r=new e,n=lt,o=n.getV,i=n.getTLV,a=n.getIdxbyList,s=n.getVbyList,c=n.getTLVbyList,u=n.getVbyListEx,l=n.getTLVbyListEx,f=n.getChildIdx;this.getOCSPRequest=function(e){var r=f(e,0);if(1!=r.length&&2!=r.length)throw new t("wrong number elements: "+r.length);return this.getTBSRequest(i(e,r[0]))},this.getTBSRequest=function(t){var e={},n=l(t,0,[0],"30");e.array=this.getRequestList(n);var o=l(t,0,["[2]",0],"30");return null!=o&&(e.ext=r.getExtParamArray(o)),e},this.getRequestList=function(t){for(var e=[],r=f(t,0),n=0;n<r.length;n++){t=i(t,r[n]);e.push(this.getRequest(t))}return e},this.getRequest=function(e){var n=f(e,0);if(1!=n.length&&2!=n.length)throw new t("wrong number elements: "+n.length);var o=this.getCertID(i(e,n[0]));if(2==n.length){var s=a(e,0,[1,0]);o.ext=r.getExtParamArray(i(e,s))}return o},this.getCertID=function(r){var n=f(r,0);if(4!=n.length)throw new t("wrong number elements: "+n.length);var a=new e,s={};return s.alg=a.getAlgorithmIdentifierName(i(r,n[0])),s.issname=o(r,n[1]),s.isskey=o(r,n[2]),s.sbjsn=o(r,n[3]),s},this.getOCSPResponse=function(t){var e,r=f(t,0),n=o(t,r[0]),i=parseInt(n);if(1==r.length)return{resstatus:i};var a=c(t,0,[1,0]);return(e=this.getResponseBytes(a)).resstatus=i,e},this.getResponseBytes=function(t){var e,r=f(t,0),n=c(t,0,[1,0]);e=this.getBasicOCSPResponse(n);var i=o(t,r[0]);return e.restype=st.asn1.x509.OID.oid2name(Yt(i)),e},this.getBasicOCSPResponse=function(t){var e,r=f(t,0);e=this.getResponseData(i(t,r[0]));var n=new ae;e.alg=n.getAlgorithmIdentifierName(i(t,r[1]));var a=o(t,r[2]);e.sighex=a.substr(2);var s=u(t,0,["[0]"]);if(null!=s){for(var c=f(s,0),l=[],h=0;h<c.length;h++){var p=i(s,c[h]);l.push(p)}e.certs=l}return e},this.getResponseData=function(t){var e=f(t,0),r=e.length,n={},a=0;"a0"==t.substr(e[0],2)&&a++,n.respid=this.getResponderID(i(t,e[a++]));var s=o(t,e[a++]);if(n.prodat=wt(s),n.array=this.getSingleResponseList(i(t,e[a++])),"a1"==t.substr(e[r-1],2)){var u=c(t,e[r-1],[0]),l=new ae;n.ext=l.getExtParamArray(u)}return n},this.getResponderID=function(t){var e={};if("a2"==t.substr(0,2)){var r=s(t,0,[0]);e.key=r}if("a1"==t.substr(0,2)){var n=c(t,0,[0]),o=new ae;e.name=o.getX500Name(n)}return e},this.getSingleResponseList=function(t){for(var e=f(t,0),r=[],n=0;n<e.length;n++){var o=this.getSingleResponse(i(t,e[n]));r.push(o)}return r},this.getSingleResponse=function(t){var e=f(t,0),r={},n=this.getCertID(i(t,e[0]));r.certid=n;var a=this.getCertStatus(i(t,e[1]));if(r.status=a,"18"==t.substr(e[2],2)){var u=o(t,e[2]);r.thisupdate=wt(u)}for(var l=3;l<e.length;l++){if("a0"==t.substr(e[l],2)){var h=s(t,e[l],[0],"18");r.nextupdate=wt(h)}if("a1"==t.substr(e[l],2)){var p=new ae,d=c(t,0,[l,0]);r.ext=p.getExtParamArray(d)}}return r},this.getCertStatus=function(t){var e={};if("8000"==t)return{status:"good"};if("8200"==t)return{status:"unknown"};if("a1"==t.substr(0,2)){e.status="revoked";var r=wt(s(t,0,[0]));e.time=r}return e}},void 0!==st&&st||(st={}),void 0!==st.lang&&st.lang||(st.lang={}),st.lang.String=function(){},"function"==typeof Buffer?(ct=function(t){return yt(Buffer.from(t,"utf8").toString("base64"))},ut=function(t){return Buffer.from(vt(t),"base64").toString("utf8")}):(ct=function(t){return mt(Pt(Ut(t)))},ut=function(t){return decodeURIComponent(Ct(gt(t)))}),st.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},st.lang.String.isHex=function(t){return Ht(t)},st.lang.String.isBase64=function(t){return!(!(t=t.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||t.length%4!=0)},st.lang.String.isBase64URL=function(t){return!t.match(/[+/=]/)&&(t=vt(t),st.lang.String.isBase64(t))},st.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},st.lang.String.isPrintable=function(t){return null!==t.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},st.lang.String.isIA5=function(t){return null!==t.match(/^[\x20-\x21\x23-\x7f]*$/)},st.lang.String.isMail=function(t){return null!==t.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};function Kt(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=parseInt(t,10).toString(2),o=7-n.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";n=i+n;for(a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=e(parseInt(s,2))}return r};try{if(!t.match(/^[0-9.]+$/))return null;var n="",o=t.split("."),i=40*parseInt(o[0],10)+parseInt(o[1],10);n+=e(i),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);return n}catch(t){return null}}function Yt(t){if(!Ht(t))return null;try{var e=[],r=t.substr(0,2),n=parseInt(r,16);e[0]=new String(Math.floor(n/40)),e[1]=new String(n%40);for(var o=t.substr(2),i=[],a=0;a<o.length/2;a++)i.push(parseInt(o.substr(2*a,2),16));var s=[],c="";for(a=0;a<i.length;a++)128&i[a]?c+=$t((127&i[a]).toString(2),7):(c+=$t((127&i[a]).toString(2),7),s.push(new String(parseInt(c,2))),c="");var u=e.join(".");return s.length>0&&(u=u+"."+s.join(".")),u}catch(t){return null}}function Wt(t){return zt(new E(t+"",10))}function zt(t){var e=t.toString(16);if("-"!=e.substr(0,1))return e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e),e;var r=e.substr(1).length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var n="",o=0;o<r;o++)n+="f";return e=new E(n,16).xor(t).add(E.ONE).toString(16).replace(/^-/,"")}var $t=function(t,e,r){return null==r&&(r="0"),t.length>=e?t:Array(e-t.length+1).join(r)+t};function Xt(t){if(t.length%2!=0)return-1;if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var e=t.substr(0,2);if("00"==e)return parseInt(t.substr(2),16);var r=parseInt(e,16);if(r>7)return-1;var n=t.substr(2),o=parseInt(n,16).toString(2);"0"==o&&(o="00000000"),o=o.slice(0,0-r);var i=parseInt(o,2);return NaN==i?-1:i}catch(t){return-1}}function Jt(t){if("number"!=typeof t)return null;if(t<0)return null;var e=Number(t).toString(2),r=8-e.length%8;8==r&&(r=0),e+=$t("",r,"0");var n=parseInt(e,2).toString(16);return n.length%2==1&&(n="0"+n),"0"+r+n}function Qt(t){if("string"!=typeof t)return null;if(t.length%2!=0)return null;if(!t.match(/^[0-9a-f]+$/))return null;try{var e=parseInt(t.substr(0,2),16);if(e<0||7<e)return null;for(var r=t.substr(2),n="",o=0;o<r.length;o+=2){var i=r.substr(o,2),a=parseInt(i,16).toString(2);n+=a=("0000000"+a).slice(-8)}return n.substr(0,n.length-e)}catch(t){return null}}function Zt(t,e){for(var r=0,n=0;n<t.length;n++)r|=1<<e[t[n]];var o=r.toString(2),i="";for(n=o.length-1;n>=0;n--)i+=o[n];return i}function te(t,e,r){if("object"==typeof t){e=(e+"").split(".");for(var n=0;n<e.length&&t;n++){var o=e[n];o.match(/^[0-9]+$/)&&(o=parseInt(o)),t=t[o]}return t||!1===t?t:r}}function ee(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e)}void 0!==st&&st||(st={}),void 0!==st.crypto&&st.crypto||(st.crypto={}),st.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:y.algo.MD5,sha1:y.algo.SHA1,sha224:y.algo.SHA224,sha256:y.algo.SHA256,sha384:y.algo.SHA384,sha512:y.algo.SHA512,ripemd160:y.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,r){var n=this.getDigestInfoHex(t,e),o=r/4;if(n.length+22>o)throw"key is too short for SigAlg: keylen="+r+","+e;for(var i="0001",a="00"+n,s="",c=o-4-a.length,u=0;u<c;u+=2)s+="ff";return i+s+a},this.hashString=function(t,e){return new st.crypto.MessageDigest({alg:e}).digestString(t)},this.hashHex=function(t,e){return new st.crypto.MessageDigest({alg:e}).digestHex(t)},this.sha1=function(t){return this.hashString(t,"sha1")},this.sha256=function(t){return this.hashString(t,"sha256")},this.sha256Hex=function(t){return this.hashHex(t,"sha256")},this.sha512=function(t){return this.hashString(t,"sha512")},this.sha512Hex=function(t){return this.hashHex(t,"sha512")},this.isKey=function(t){return t instanceof rt||t instanceof st.crypto.DSA||t instanceof st.crypto.ECDSA}},st.crypto.Util.md5=function(t){return new st.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(t)},st.crypto.Util.ripemd160=function(t){return new st.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(t)},st.crypto.Util.SECURERANDOMGEN=new tt,st.crypto.Util.getRandomHexOfNbytes=function(t){var e=Array(t);return st.crypto.Util.SECURERANDOMGEN.nextBytes(e),pt(e)},st.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new E(st.crypto.Util.getRandomHexOfNbytes(t),16)},st.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,r=Array((t-e)/8+1);return st.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<e&255^255)&r[0],pt(r)},st.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new E(st.crypto.Util.getRandomHexOfNbits(t),16)},st.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var r=st.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=t.compareTo(r))return r}},st.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var r=t.compareTo(e);if(1==r)throw"biMin is greater than biMax";if(0==r)return t;var n=e.subtract(t);return st.crypto.Util.getRandomBigIntegerZeroToMax(n).add(t)},st.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,e){if(null!==(t=st.crypto.MessageDigest.getCanonicalAlgName(t))&&void 0===e&&(e=st.crypto.Util.DEFAULTPROVIDER[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==e){try{this.md=st.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=y.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(y.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==e){try{this.md=new sjcl.hash.sha256}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=st.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},st.crypto.MessageDigest.getCanonicalAlgName=function(t){return"string"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,"")),t},st.crypto.MessageDigest.getHashLength=function(t){var e=st.crypto.MessageDigest,r=e.getCanonicalAlgName(t);if(void 0===e.HASHLENGTH[r])throw"not supported algorithm: "+t;return e.HASHLENGTH[r]},st.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},st.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(null==(t=t.toLowerCase())&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=st.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+e;var r=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==e){try{var n=st.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=y.algo.HMAC.create(n,this.pass)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=y.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(y.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=St(t)),void(this.pass=y.enc.Hex.parse(e))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;e=null;if(void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=bt(t.utf8)),void 0!==t.rstr&&(e=St(t.rstr)),void 0!==t.b64&&(e=b(t.b64)),void 0!==t.b64u&&(e=gt(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=y.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=st.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},st.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(t,e){for(var r="",n=e/4-t.length,o=0;o<n;o++)r+="0";return r+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),"cryptojs/jsrsa"!=e)throw Error("provider not supported: "+e);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new st.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t)}this.init=function(t,e){var r=null;try{r=void 0===e?re.getKey(t):re.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===r.isPrivate)this.prvKey=r,this.state="SIGN";else{if(!0!==r.isPublic)throw"init failed.:"+r;this.pubKey=r,this.state="VERIFY"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==st.crypto.ECDSA&&(this.prvKey=new st.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof rt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof rt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof st.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof st.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==st.crypto.ECDSA&&(this.pubKey=new st.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof rt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof rt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==st.crypto.ECDSA&&this.pubKey instanceof st.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==st.crypto.DSA&&this.pubKey instanceof st.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(t){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(t){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov?this.provName=st.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{e=re.getKey(t.prvkeypem);this.init(e)}catch(t){throw"fatal error to load pem private key: "+t}}},st.crypto.Cipher=function(t){},st.crypto.Cipher.encrypt=function(t,e,r,n){if(null!=te(n,"enclag")&&(r=n.encalg),"string"==typeof r&&"-CBC"==r.substr(-4)){var o=e,i=t;null!=te(n,"key")&&(o=n.key),null!=te(n,"enc")&&(hEnc=n.enc);var a,s=y.enc.Hex.parse(o),c=y.enc.Hex.parse(i),u=y.enc.Hex.parse(n.iv);if("des-EDE3-CBC"==r)a=y.TripleDES.encrypt(c,s,{iv:u});else{if("aes128-CBC"!=r&&"aes256-CBC"!=r)throw Error("unsupported algorithm: "+r);a=y.AES.encrypt(c,s,{iv:u})}return a+""}throw Error("Cipher.encrypt: unsupported key or algorithm")},st.crypto.Cipher.decrypt=function(t,e,r,n){if(null!=te(n,"enclag")&&(r=n.encalg),"string"==typeof r&&"-CBC"==r.substr(-4)){var o=e,i=t;null!=te(n,"key")&&(o=n.key),null!=te(n,"enc")&&(i=n.enc);var a,s=y.enc.Hex.parse(o),c=y.enc.Hex.parse(i),u=y.enc.Hex.parse(n.iv);if("des-EDE3-CBC"==r)a=y.TripleDES.decrypt({ciphertext:c},s,{iv:u});else{if("aes128-CBC"!=r&&"aes256-CBC"!=r)throw Error("unsupported algorithm: "+r);a=y.AES.decrypt({ciphertext:c},s,{iv:u})}return y.enc.Hex.stringify(a)}throw Error("Cipher.decrypt: unsupported key or algorithm")},st.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==st&&st||(st={}),void 0!==st.crypto&&st.crypto||(st.crypto={}),st.crypto.ECDSA=function(t){var e=Error,r=E,n=ot,o=st.crypto.ECDSA,i=st.crypto.ECParameterDB,a=o.getName,s=lt,c=s.getVbyListEx,u=s.isASN1HEX,l=new tt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new r(t.bitLength(),l).mod(t.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(t){this.ecparams=i.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if("04"!==t.substr(0,2))throw"this method supports uncompressed format(04) only";var e=this.ecparams.keycharlen;if(t.length!==2+2*e)throw"malformed public key hex length";var r={};return r.x=t.substr(2,e),r.y=t.substr(2+e),r},this.getShortNISTPCurveName=function(){var t=this.curveName;return"secp256r1"===t||"NIST P-256"===t||"P-256"===t||"prime256v1"===t?"P-256":"secp384r1"===t||"NIST P-384"===t||"P-384"===t?"P-384":"secp521r1"===t||"NIST P-521"===t||"P-521"===t?"P-521":null},this.generateKeyPairHex=function(){var t=this.ecparams.n,e=this.getBigRandom(t),r=this.ecparams.keycharlen,n=("0000000000"+e.toString(16)).slice(-r);return this.setPrivateKeyHex(n),{ecprvhex:n,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var t=new r(this.prvKeyHex,16),e=this.ecparams.G.multiply(t),n=e.getX().toBigInteger(),o=e.getY().toBigInteger(),i=this.ecparams.keycharlen,a="04"+("0000000000"+n.toString(16)).slice(-i)+("0000000000"+o.toString(16)).slice(-i);return this.setPublicKeyHex(a),a},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var n=new r(e,16),i=this.ecparams.n,a=new r(t.substring(0,this.ecparams.keycharlen),16);do{var s=this.getBigRandom(i),c=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(c.compareTo(r.ZERO)<=0);var u=s.modInverse(i).multiply(a.add(n.multiply(c))).mod(i);return o.biRSSigToASN1Sig(c,u)},this.sign=function(t,e){var n=e,o=this.ecparams.n,i=r.fromByteArrayUnsigned(t);do{var a=this.getBigRandom(o),s=this.ecparams.G.multiply(a).getX().toBigInteger().mod(o)}while(s.compareTo(E.ZERO)<=0);var c=a.modInverse(o).multiply(i.add(n.multiply(s))).mod(o);return this.serializeSig(s,c)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,i){try{var a,s,c=o.parseSigHex(e);a=c.r,s=c.s;var u=n.decodeFromHex(this.ecparams.curve,i),l=new r(t.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(l,a,s,u)}catch(t){return!1}},this.verify=function(t,e,o){var i,a,s;if(Bitcoin.Util.isArray(e)){var c=this.parseSig(e);i=c.r,a=c.s}else{if("object"!=typeof e||!e.r||!e.s)throw"Invalid value for signature";i=e.r,a=e.s}if(o instanceof ot)s=o;else{if(!Bitcoin.Util.isArray(o))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=n.decodeFrom(this.ecparams.curve,o)}var u=r.fromByteArrayUnsigned(t);return this.verifyRaw(u,i,a,s)},this.verifyRaw=function(t,e,n,o){var i=this.ecparams.n,a=this.ecparams.G;if(e.compareTo(r.ONE)<0||e.compareTo(i)>=0)return!1;if(n.compareTo(r.ONE)<0||n.compareTo(i)>=0)return!1;var s=n.modInverse(i),c=t.multiply(s).mod(i),u=e.multiply(s).mod(i);return a.multiply(c).add(o.multiply(u)).getX().toBigInteger().mod(i).equals(e)},this.serializeSig=function(t,e){var r=t.toByteArraySigned(),n=e.toByteArraySigned(),o=[];return o.push(2),o.push(r.length),(o=o.concat(r)).push(2),o.push(n.length),(o=o.concat(n)).unshift(o.length),o.unshift(48),o},this.parseSig=function(t){var e;if(48!=t[0])throw Error("Signature not a valid DERSequence");if(2!=t[e=2])throw Error("First element in signature must be a DERInteger");var n=t.slice(e+2,e+2+t[e+1]);if(2!=t[e+=2+t[e+1]])throw Error("Second element in signature must be a DERInteger");var o=t.slice(e+2,e+2+t[e+1]);return e+=2+t[e+1],{r:r.fromByteArrayUnsigned(n),s:r.fromByteArrayUnsigned(o)}},this.parseSigCompact=function(t){if(65!==t.length)throw"Signature has the wrong length";var e=t[0]-27;if(e<0||e>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:r.fromByteArrayUnsigned(t.slice(1,33)).mod(n),s:r.fromByteArrayUnsigned(t.slice(33,65)).mod(n),i:e}},this.readPKCS5PrvKeyHex=function(t){if(!1===u(t))throw Error("not ASN.1 hex string");var e,r,n;try{e=c(t,0,["[0]",0],"06"),r=c(t,0,[1],"04");try{n=c(t,0,["[1]",0],"03")}catch(t){}}catch(t){throw Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=a(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){if(!1===u(t))throw new e("not ASN.1 hex string");var r,n,o;try{c(t,0,[1,0],"06"),r=c(t,0,[1,1],"06"),n=c(t,0,[2,0,1],"04");try{o=c(t,0,[2,0,"[1]",0],"03")}catch(t){}}catch(t){throw new e("malformed PKCS#8 plain ECC private key")}if(this.curveName=a(r),void 0===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(o),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){if(!1===u(t))throw new e("not ASN.1 hex string");var r,n;try{c(t,0,[0,0],"06"),r=c(t,0,[0,1],"06"),n=c(t,0,[1],"03")}catch(t){throw new e("malformed PKCS#8 ECC public key")}if(this.curveName=a(r),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(t,r){if(!1===u(t))throw new e("not ASN.1 hex string");var n,o;try{n=c(t,0,[0,5,0,1],"06"),o=c(t,0,[0,5,1],"03")}catch(t){throw new e("malformed X.509 certificate ECC public key")}if(this.curveName=a(n),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(o)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},st.crypto.ECDSA.parseSigHex=function(t){var e=st.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new E(e.r,16),s:new E(e.s,16)}},st.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=lt,r=e.getChildIdx,n=e.getV;if(e.checkStrictDER(t,0),"30"!=t.substr(0,2))throw Error("signature is not a ASN.1 sequence");var o=r(t,0);if(2!=o.length)throw Error("signature shall have two elements");var i=o[0],a=o[1];if("02"!=t.substr(i,2))throw Error("1st item not ASN.1 integer");if("02"!=t.substr(a,2))throw Error("2nd item not ASN.1 integer");return{r:n(t,i),s:n(t,a)}},st.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=st.crypto.ECDSA.parseSigHexInHexRS(t),r=e.r,n=e.s;if(r.length>=130&&r.length<=134){if(r.length%2!=0)throw Error("unknown ECDSA sig r length error");if(n.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==r.substr(0,2)&&(r=r.substr(2)),"00"==n.substr(0,2)&&(n=n.substr(2));var o=Math.max(r.length,n.length);return(r=("000000"+r).slice(-o))+(n=("000000"+n).slice(-o))}if("00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r="00"+r),n.length%32==30&&(n="00"+n),r.length%32!=0)throw Error("unknown ECDSA sig r length error");if(n.length%32!=0)throw Error("unknown ECDSA sig s length error");return r+n},st.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var e=t.substr(0,t.length/2),r=t.substr(t.length/2);return st.crypto.ECDSA.hexRSSigToASN1Sig(e,r)},st.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var r=new E(t,16),n=new E(e,16);return st.crypto.ECDSA.biRSSigToASN1Sig(r,n)},st.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var r=st.asn1,n=new r.DERInteger({bigint:t}),o=new r.DERInteger({bigint:e});return new r.DERSequence({array:[n,o]}).tohex()},st.crypto.ECDSA.getName=function(t){return"2b8104001f"===t?"secp192k1":"2a8648ce3d030107"===t?"secp256r1":"2b8104000a"===t?"secp256k1":"2b81040021"===t?"secp224r1":"2b81040022"===t?"secp384r1":"2b81040023"===t?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(t)?"secp256r1":-1!=="|secp256k1|".indexOf(t)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(t)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(t)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(t)?"secp521r1":null},void 0!==st&&st||(st={}),void 0!==st.crypto&&st.crypto||(st.crypto={}),st.crypto.ECParameterDB=new function(){var t={},e={};function r(t){return new E(t,16)}this.getByName=function(r){var n=r;if(void 0!==e[n]&&(n=e[r]),void 0!==t[n])return t[n];throw"unregistered EC curve name: "+n},this.regist=function(n,o,i,a,s,c,u,l,f,h,p,d){t[n]={};var y=r(i),v=r(a),m=r(s),g=r(c),b=r(u),w=new it(y,v,m),E=w.decodePointHex("04"+l+f);t[n].name=n,t[n].keylen=o,t[n].keycharlen=2*Math.ceil(o/8),t[n].curve=w,t[n].G=E,t[n].n=g,t[n].h=b,t[n].oid=p,t[n].info=d;for(var x=0;x<h.length;x++)e[h[x]]=n}},st.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),st.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),st.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),st.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),st.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),st.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),st.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),st.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),st.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),st.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==st&&st||(st={}),void 0!==st.crypto&&st.crypto||(st.crypto={}),st.crypto.DSA=function(){var t=lt,e=(t.getVbyList,t.getVbyListEx),r=t.isASN1HEX,n=E;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(t,e,r,n,o){this.isPrivate=!0,this.p=t,this.q=e,this.g=r,this.y=n,this.x=o},this.setPrivateHex=function(t,e,r,n,o){var i,a,s,c,u;i=new E(t,16),a=new E(e,16),s=new E(r,16),c="string"==typeof n&&n.length>1?new E(n,16):null,u=new E(o,16),this.setPrivate(i,a,s,c,u)},this.setPublic=function(t,e,r,n){this.isPublic=!0,this.p=t,this.q=e,this.g=r,this.y=n,this.x=null},this.setPublicHex=function(t,e,r,n){var o,i,a,s;o=new E(t,16),i=new E(e,16),a=new E(r,16),s=new E(n,16),this.setPublic(o,i,a,s)},this.signWithMessageHash=function(t){var e=this.p,r=this.q,n=this.g,o=(this.y,this.x),i=st.crypto.Util.getRandomBigIntegerMinToMax(E.ONE.add(E.ONE),r.subtract(E.ONE)),a=new E(t.substr(0,r.bitLength()/4),16),s=n.modPow(i,e).mod(r),c=i.modInverse(r).multiply(a.add(o.multiply(s))).mod(r);return st.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:s}},{int:{bigint:c}}]})},this.verifyWithMessageHash=function(t,e){var r=this.p,n=this.q,o=this.g,i=this.y,a=this.parseASN1Signature(e),s=a[0],c=a[1],u=new E(t.substr(0,n.bitLength()/4),16);if(E.ZERO.compareTo(s)>0||s.compareTo(n)>0)throw"invalid DSA signature";if(E.ZERO.compareTo(c)>=0||c.compareTo(n)>0)throw"invalid DSA signature";var l=c.modInverse(n),f=u.multiply(l).mod(n),h=s.multiply(l).mod(n);return 0==o.modPow(f,r).multiply(i.modPow(h,r)).mod(r).mod(n).compareTo(s)},this.parseASN1Signature=function(t){try{return[new n(e(t,0,[0],"02"),16),new n(e(t,0,[1],"02"),16)]}catch(t){throw Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(t){var n,o,i,a,s;if(!1===r(t))throw Error("not ASN.1 hex string");try{n=e(t,0,[1],"02"),o=e(t,0,[2],"02"),i=e(t,0,[3],"02"),a=e(t,0,[4],"02"),s=e(t,0,[5],"02")}catch(t){throw Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(n,o,i,a,s)},this.readPKCS8PrvKeyHex=function(t){var n,o,i,a;if(!1===r(t))throw Error("not ASN.1 hex string");try{n=e(t,0,[1,1,0],"02"),o=e(t,0,[1,1,1],"02"),i=e(t,0,[1,1,2],"02"),a=e(t,0,[2,0],"02")}catch(t){throw Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(n,o,i,null,a)},this.readPKCS8PubKeyHex=function(t){var n,o,i,a;if(!1===r(t))throw Error("not ASN.1 hex string");try{n=e(t,0,[0,1,0],"02"),o=e(t,0,[0,1,1],"02"),i=e(t,0,[0,1,2],"02"),a=e(t,0,[1,0],"02")}catch(t){throw Error("malformed PKCS#8 DSA public key")}this.setPublicHex(n,o,i,a)},this.readCertPubKeyHex=function(t,n){var o,i,a,s;if(!1===r(t))throw Error("not ASN.1 hex string");try{o=e(t,0,[0,5,0,1,0],"02"),i=e(t,0,[0,5,0,1,1],"02"),a=e(t,0,[0,5,0,1,2],"02"),s=e(t,0,[0,5,1,0],"02")}catch(t){throw Error("malformed X.509 certificate DSA public key")}this.setPublicHex(o,i,a,s)}};var re=function(){var t=function(t,r,n){return e(y.AES,t,r,n)},e=function(t,e,r,n){var o=y.enc.Hex.parse(e),i=y.enc.Hex.parse(r),a=y.enc.Hex.parse(n),s={};s.key=i,s.iv=a,s.ciphertext=o;var c=t.decrypt(s,i,{iv:a});return y.enc.Hex.stringify(c)},r=function(t,e,r){return n(y.AES,t,e,r)},n=function(t,e,r,n){var o=y.enc.Hex.parse(e),i=y.enc.Hex.parse(r),a=y.enc.Hex.parse(n),s=t.encrypt(o,i,{iv:a}),c=y.enc.Hex.parse(s.toString());return y.enc.Base64.stringify(c)},o={"AES-256-CBC":{proc:t,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:t,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:t,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(t,r,n){return e(y.TripleDES,t,r,n)},eproc:function(t,e,r){return n(y.TripleDES,t,e,r)},keylen:24,ivlen:8},"DES-CBC":{proc:function(t,r,n){return e(y.DES,t,r,n)},eproc:function(t,e,r){return n(y.DES,t,e,r)},keylen:8,ivlen:8}},i=function(t){var e={},r=t.match(RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));r&&(e.cipher=r[1],e.ivsalt=r[2]);var n=t.match(RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(e.type=n[1]);var o=-1,i=0;-1!=t.indexOf("\r\n\r\n")&&(o=t.indexOf("\r\n\r\n"),i=2),-1!=t.indexOf("\n\n")&&(o=t.indexOf("\n\n"),i=1);var a=t.indexOf("-----END");if(-1!=o&&-1!=a){var s=t.substring(o+2*i,a-i);s=s.replace(/\s+/g,""),e.data=s}return e},a=function(t,e,r){for(var n=r.substring(0,16),i=y.enc.Hex.parse(n),a=y.enc.Utf8.parse(e),s=o[t].keylen+o[t].ivlen,c="",u=null;;){var l=y.algo.MD5.create();if(null!=u&&l.update(u),l.update(a),l.update(i),u=l.finalize(),(c+=y.enc.Hex.stringify(u)).length>=2*s)break}var f={};return f.keyhex=c.substr(0,2*o[t].keylen),f.ivhex=c.substr(2*o[t].keylen,2*o[t].ivlen),f},s=function(t,e,r,n){var i=y.enc.Base64.parse(t),a=y.enc.Hex.stringify(i);return(0,o[e].proc)(a,r,n)};return{version:"1.0.0",parsePKCS5PEM:function(t){return i(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,e,r){return a(t,e,r)},decryptKeyB64:function(t,e,r,n){return s(t,e,r,n)},getDecryptedKeyHex:function(t,e){var r=i(t),n=(r.type,r.cipher),o=r.ivsalt,c=r.data,u=a(n,e,o).keyhex;return s(c,n,u,o)},getEncryptedPKCS5PEMFromPrvKeyHex:function(t,e,r,n,i){var s="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===o[n])throw Error("KEYUTIL unsupported algorithm: "+n);if(void 0===i||null==i){var c=function(t){var e=y.lib.WordArray.random(t);return y.enc.Hex.stringify(e)}(o[n].ivlen);i=c.toUpperCase()}var u=function(t,e,r,n){return(0,o[e].eproc)(t,r,n)}(e,n,a(n,r,i).keyhex,i);s="-----BEGIN "+t+" PRIVATE KEY-----\r\n";return s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+n+","+i+"\r\n",s+="\r\n",s+=u.replace(/(.{64})/g,"$1\r\n"),s+="\r\n-----END "+t+" PRIVATE KEY-----\r\n"},getEncryptedPKCS8PEM:function(t,e,r){return Lt(this.getEncryptedPKCS8Hex(t,e,r),"ENCRYPTED PRIVATE KEY")},getEncryptedPKCS8Hex:function(t,e,r){var n;(n=null==r||null==r?{}:JSON.parse(JSON.stringify(r))).plain=t,this.initPBES2Param(n),this.encryptPBES2Param(n,e);var o=this.generatePBES2ASN1Param(n);return st.asn1.ASN1Util.newObject(o).tohex()},initPBES2Param:function(t){var e;(null==te(t,"encalg")&&(t.encalg="aes256-CBC"),null==te(t,"iter")&&(t.iter=2048),null==te(t,"prf")&&(t.prf="hmacWithSHA256"),null==te(t,"salt")&&(t.salt=y.enc.Hex.stringify(y.lib.WordArray.random(8))),null==te(t,"enciv"))&&("des-EDE3-CBC"==t.encalg&&(e=8),"aes128-CBC"==t.encalg&&(e=16),"aes256-CBC"==t.encalg&&(e=16),t.enciv=y.enc.Hex.stringify(y.lib.WordArray.random(e)))},encryptPBES2Param:function(t,e){var r=re.getDKFromPBES2Param(t,e);try{var n=st.crypto.Cipher.encrypt(t.plain,r,t.encalg,{iv:t.enciv})}catch(e){throw Error("encrypt error: "+t.plain+" "+r+" "+t.encalg+" "+t.enciv)}t.enc=n},generatePBES2ASN1Param:function(t){var e={seq:[{seq:[{oid:"pkcs5PBES2"},{seq:[{seq:[{oid:"pkcs5PBKDF2"},{seq:[{octstr:{hex:t.salt}},{int:{hex:Wt(t.iter)}}]}]},{seq:[{oid:t.encalg},{octstr:{hex:t.enciv}}]}]}]},{octstr:{hex:t.enc}}]};return"hmacWithSHA1"!=t.prf&&e.seq[0].seq[1].seq[0].seq[1].seq.push({seq:[{oid:t.prf},{null:""}]}),e},parseHexOfEncryptedPKCS8:function(t){var e=lt,r=e.getChildIdx,n=e.getV,o={},i=r(t,0);if(2!=i.length)throw Error("malformed format: SEQUENCE(0).items != 2: "+i.length);o.ciphertext=n(t,i[1]);var a=r(t,i[0]);if(2!=a.length)throw Error("malformed format: SEQUENCE(0.0).items != 2: "+a.length);if("2a864886f70d01050d"!=n(t,a[0]))throw Error("this only supports pkcs5PBES2");var s=r(t,a[1]);if(2!=a.length)throw Error("malformed format: SEQUENCE(0.0.1).items != 2: "+s.length);var c=r(t,s[1]);if(2!=c.length)throw Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length);if("2a864886f70d0307"!=n(t,c[0]))throw"this only supports TripleDES";o.encryptionSchemeAlg="TripleDES",o.encryptionSchemeIV=n(t,c[1]);var u=r(t,s[0]);if(2!=u.length)throw Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length);if("2a864886f70d01050c"!=n(t,u[0]))throw Error("this only supports pkcs5PBKDF2");var l=r(t,u[1]);if(l.length<2)throw Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+l.length);o.pbkdf2Salt=n(t,l[0]);var f=n(t,l[1]);try{o.pbkdf2Iter=parseInt(f,16)}catch(t){throw Error("malformed format pbkdf2Iter: "+f)}return o},getPBKDF2KeyHexFromParam:function(t,e){var r=y.enc.Hex.parse(t.pbkdf2Salt),n=t.pbkdf2Iter,o=y.PBKDF2(e,r,{keySize:6,iterations:n});return y.enc.Hex.stringify(o)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,e){var r=kt(t,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(r),o=re.getPBKDF2KeyHexFromParam(n,e),i={};i.ciphertext=y.enc.Hex.parse(n.ciphertext);var a=y.enc.Hex.parse(o),s=y.enc.Hex.parse(n.encryptionSchemeIV),c=y.TripleDES.decrypt(i,a,{iv:s});return y.enc.Hex.stringify(c)},parsePBES2:function(t){var e=lt.parse(t);if("pkcs5PBES2"!=te(e,"seq.0.seq.0.oid")||"pkcs5PBKDF2"!=te(e,"seq.0.seq.1.seq.0.seq.0.oid"))throw Error("not pkcs5PBES2 and pkcs5PBKDF2 used");var r=te(e,"seq.0.seq.1.seq.0.seq.1.seq");if(null==r)throw Error("PBKDF2 parameter not found");var n=te(r,"0.octstr.hex"),o=te(r,"1.int.hex"),i=te(r,"2.seq.0.oid","hmacWithSHA1"),a=-1;try{a=parseInt(o,16)}catch(t){throw Error("iter not proper value")}var s=te(e,"seq.0.seq.1.seq.1.seq.0.oid"),c=te(e,"seq.0.seq.1.seq.1.seq.1.octstr.hex"),u=te(e,"seq.1.octstr.hex");if(null==s||null==c||null==u)throw Error("encalg, enciv or enc is undefined");return{salt:n,iter:a,prf:i,encalg:s,enciv:c,enc:u}},getDKFromPBES2Param:function(t,e){var r={hmacWithSHA1:y.algo.SHA1,hmacWithSHA224:y.algo.SHA224,hmacWithSHA256:y.algo.SHA256,hmacWithSHA384:y.algo.SHA384,hmacWithSHA512:y.algo.SHA512}[t.prf];if(null==r)throw Error("unsupported prf");var n={"des-EDE3-CBC":6,"aes128-CBC":4,"aes256-CBC":8}[t.encalg];if(null==n)throw Error("unsupported encalg");var o=y.enc.Hex.parse(t.salt),i=t.iter;try{var a=y.PBKDF2(e,o,{keySize:n,iterations:i,hasher:r});return y.enc.Hex.stringify(a)}catch(r){throw Error("PBKDF2 error: "+r+" "+JSON.stringify(t)+" "+e)}},getPlainHexFromEncryptedPKCS8PEM:function(t,e){if(-1==t.indexOf("BEGIN ENCRYPTED PRIVATE KEY"))throw Error("not Encrypted PKCS#8 PEM string");var r,n=kt(t);try{r=re.parsePBES2(n)}catch(t){throw Error("malformed PBES2 format: "+t.message)}var o=re.getDKFromPBES2Param(r,e);return st.crypto.Cipher.decrypt(r.enc,o,r.encalg,{iv:r.enciv})},getKeyFromEncryptedPKCS8PEM:function(t,e){var r=this.getPlainHexFromEncryptedPKCS8PEM(t,e);return this.getKeyFromPlainPrivatePKCS8Hex(r)},parsePlainPrivatePKCS8Hex:function(t){var e=lt,r=e.getChildIdx,n=e.getV,o={algparam:null};if("30"!=t.substr(0,2))throw Error("malformed plain PKCS8 private key(code:001)");var i=r(t,0);if(i.length<3)throw Error("malformed plain PKCS8 private key(code:002)");if("30"!=t.substr(i[1],2))throw Error("malformed PKCS8 private key(code:003)");var a=r(t,i[1]);if(2!=a.length)throw Error("malformed PKCS8 private key(code:004)");if("06"!=t.substr(a[0],2))throw Error("malformed PKCS8 private key(code:005)");if(o.algoid=n(t,a[0]),"06"==t.substr(a[1],2)&&(o.algparam=n(t,a[1])),"04"!=t.substr(i[2],2))throw Error("malformed PKCS8 private key(code:006)");return o.keyidx=e.getVidx(t,i[2]),o},getKeyFromPlainPrivatePKCS8PEM:function(t){var e=kt(t,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(e)},getKeyFromPlainPrivatePKCS8Hex:function(t){var e,r=this.parsePlainPrivatePKCS8Hex(t);if("2a864886f70d010101"==r.algoid)e=new rt;else if("2a8648ce380401"==r.algoid)e=new st.crypto.DSA;else{if("2a8648ce3d0201"!=r.algoid)throw Error("unsupported private key algorithm");e=new st.crypto.ECDSA}return e.readPKCS8PrvKeyHex(t),e},_getKeyFromPublicPKCS8Hex:function(t){var e,r=lt.getVbyList(t,0,[0,0],"06");if("2a864886f70d010101"===r)e=new rt;else if("2a8648ce380401"===r)e=new st.crypto.DSA;else{if("2a8648ce3d0201"!==r)throw Error("unsupported PKCS#8 public key hex");e=new st.crypto.ECDSA}return e.readPKCS8PubKeyHex(t),e},parsePublicRawRSAKeyHex:function(t){var e=lt,r=e.getChildIdx,n=e.getV,o={};if("30"!=t.substr(0,2))throw Error("malformed RSA key(code:001)");var i=r(t,0);if(2!=i.length)throw Error("malformed RSA key(code:002)");if("02"!=t.substr(i[0],2))throw Error("malformed RSA key(code:003)");if(o.n=n(t,i[0]),"02"!=t.substr(i[1],2))throw Error("malformed RSA key(code:004)");return o.e=n(t,i[1]),o},parsePublicPKCS8Hex:function(t){var e=lt,r=e.getChildIdx,n=e.getV,o={algparam:null},i=r(t,0);if(2!=i.length)throw Error("outer DERSequence shall have 2 elements: "+i.length);var a=i[0];if("30"!=t.substr(a,2))throw Error("malformed PKCS8 public key(code:001)");var s=r(t,a);if(2!=s.length)throw Error("malformed PKCS8 public key(code:002)");if("06"!=t.substr(s[0],2))throw Error("malformed PKCS8 public key(code:003)");if(o.algoid=n(t,s[0]),"06"==t.substr(s[1],2)?o.algparam=n(t,s[1]):"30"==t.substr(s[1],2)&&(o.algparam={},o.algparam.p=e.getVbyList(t,s[1],[0],"02"),o.algparam.q=e.getVbyList(t,s[1],[1],"02"),o.algparam.g=e.getVbyList(t,s[1],[2],"02")),"03"!=t.substr(i[1],2))throw Error("malformed PKCS8 public key(code:004)");return o.key=n(t,i[1]).substr(2),o}}}();re.getKey=function(t,e,r){var n=(v=lt).getChildIdx,o=(v.getV,v.getVbyList),i=st.crypto,a=i.ECDSA,s=i.DSA,c=rt,u=kt,l=re;if(void 0!==c&&t instanceof c)return t;if(void 0!==a&&t instanceof a)return t;if(void 0!==s&&t instanceof s)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new a({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new a({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(k=new c).setPublic(t.n,t.e),k;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(k=new c).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),k;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(k=new c).setPrivate(t.n,t.e,t.d),k;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(k=new s).setPublic(t.p,t.q,t.g,t.y),k;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(k=new s).setPrivate(t.p,t.q,t.g,t.y,t.x),k;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(k=new c).setPublic(gt(t.n),gt(t.e)),k;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(k=new c).setPrivateEx(gt(t.n),gt(t.e),gt(t.d),gt(t.p),gt(t.q),gt(t.dp),gt(t.dq),gt(t.qi)),k;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(k=new c).setPrivate(gt(t.n),gt(t.e),gt(t.d)),k;if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var f=(L=new a({curve:t.crv})).ecparams.keycharlen,h="04"+("0000000000"+gt(t.x)).slice(-f)+("0000000000"+gt(t.y)).slice(-f);return L.setPublicKeyHex(h),L}if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){f=(L=new a({curve:t.crv})).ecparams.keycharlen,h="04"+("0000000000"+gt(t.x)).slice(-f)+("0000000000"+gt(t.y)).slice(-f);var p=("0000000000"+gt(t.d)).slice(-f);return L.setPublicKeyHex(h),L.setPrivateKeyHex(p),L}if("pkcs5prv"===r){var d,y=t,v=lt;if(9===(d=n(y,0)).length)(k=new c).readPKCS5PrvKeyHex(y);else if(6===d.length)(k=new s).readPKCS5PrvKeyHex(y);else{if(!(d.length>2&&"04"===y.substr(d[1],2)))throw Error("unsupported PKCS#1/5 hexadecimal key");(k=new a).readPKCS5PrvKeyHex(y)}return k}if("pkcs8prv"===r)return k=l.getKeyFromPlainPrivatePKCS8Hex(t);if("pkcs8pub"===r)return l._getKeyFromPublicPKCS8Hex(t);if("x509pub"===r)return ae.getPublicKeyFromCertHex(t);if(-1!=t.indexOf("-END CERTIFICATE-",0)||-1!=t.indexOf("-END X509 CERTIFICATE-",0)||-1!=t.indexOf("-END TRUSTED CERTIFICATE-",0))return ae.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf("-END PUBLIC KEY-")){var m=kt(t,"PUBLIC KEY");return l._getKeyFromPublicPKCS8Hex(m)}if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var g=u(t,"RSA PRIVATE KEY");return l.getKey(g,null,"pkcs5prv")}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var b=o(N=u(t,"DSA PRIVATE KEY"),0,[1],"02"),w=o(N,0,[2],"02"),x=o(N,0,[3],"02"),S=o(N,0,[4],"02"),_=o(N,0,[5],"02");return(k=new s).setPrivate(new E(b,16),new E(w,16),new E(x,16),new E(S,16),new E(_,16)),k}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){g=u(t,"EC PRIVATE KEY");return l.getKey(g,null,"pkcs5prv")}if(-1!=t.indexOf("-END PRIVATE KEY-"))return l.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var A=l.getDecryptedKeyHex(t,e),T=new rt;return T.readPKCS5PrvKeyHex(A),T}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var L,k=o(N=l.getDecryptedKeyHex(t,e),0,[1],"04"),O=o(N,0,[2,0],"06"),I=o(N,0,[3,0],"03").substr(2);if(void 0===st.crypto.OID.oidhex2name[O])throw Error("undefined OID(hex) in KJUR.crypto.OID: "+O);return(L=new a({curve:st.crypto.OID.oidhex2name[O]})).setPublicKeyHex(I),L.setPrivateKeyHex(k),L.isPublic=!1,L}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var N;b=o(N=l.getDecryptedKeyHex(t,e),0,[1],"02"),w=o(N,0,[2],"02"),x=o(N,0,[3],"02"),S=o(N,0,[4],"02"),_=o(N,0,[5],"02");return(k=new s).setPrivate(new E(b,16),new E(w,16),new E(x,16),new E(S,16),new E(_,16)),k}if(-1!=t.indexOf("-END ENCRYPTED PRIVATE KEY-"))return l.getKeyFromEncryptedPKCS8PEM(t,e);throw Error("not supported argument")},re.generateKeypair=function(t,e){if("RSA"==t){var r=e;(a=new rt).generate(r,"10001"),a.isPrivate=!0,a.isPublic=!0;var n=new rt,o=a.n.toString(16),i=a.e.toString(16);return n.setPublic(o,i),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}if("EC"==t){var a,s,c=e,u=new st.crypto.ECDSA({curve:c}).generateKeyPairHex();return(a=new st.crypto.ECDSA({curve:c})).setPublicKeyHex(u.ecpubhex),a.setPrivateKeyHex(u.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(n=new st.crypto.ECDSA({curve:c})).setPublicKeyHex(u.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}throw Error("unknown algorithm: "+t)},re.getPEM=function(t,e,r,n,o,i){var a=st,s=a.asn1,c=s.DERObjectIdentifier,u=s.DERInteger,l=s.ASN1Util.newObject,f=s.x509.SubjectPublicKeyInfo,h=a.crypto,p=h.DSA,d=h.ECDSA,y=rt;function v(t){return l({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function m(t){return l({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a0",!0,{oid:{name:t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]})}function g(t){return l({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==y&&t instanceof y||void 0!==p&&t instanceof p||void 0!==d&&t instanceof d)&&1==t.isPublic&&(void 0===e||"PKCS8PUB"==e))return Lt(x=new f(t).tohex(),"PUBLIC KEY");if("PKCS1PRV"==e&&void 0!==y&&t instanceof y&&(void 0===r||null==r)&&1==t.isPrivate)return Lt(x=v(t).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==e&&void 0!==d&&t instanceof d&&(void 0===r||null==r)&&1==t.isPrivate){var b=new c({name:t.curveName}).tohex(),w=m(t).tohex(),E="";return E+=Lt(b,"EC PARAMETERS"),E+=Lt(w,"EC PRIVATE KEY")}if("PKCS1PRV"==e&&void 0!==p&&t instanceof p&&(void 0===r||null==r)&&1==t.isPrivate)return Lt(x=g(t).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==e&&void 0!==y&&t instanceof y&&void 0!==r&&null!=r&&1==t.isPrivate){var x=v(t).tohex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",x,r,n,i)}if("PKCS5PRV"==e&&void 0!==d&&t instanceof d&&void 0!==r&&null!=r&&1==t.isPrivate){x=m(t).tohex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",x,r,n,i)}if("PKCS5PRV"==e&&void 0!==p&&t instanceof p&&void 0!==r&&null!=r&&1==t.isPrivate){x=g(t).tohex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",x,r,n,i)}var S=function(t,e){if("string"==typeof e)return re.getEncryptedPKCS8PEM(t,e);if("object"==typeof e&&null!=te(e,"passcode")){var r=JSON.parse(JSON.stringify(e)),n=r.passcode;return delete r.passcode,re.getEncryptedPKCS8PEM(t,n,r)}};if("PKCS8PRV"==e&&null!=y&&t instanceof y&&1==t.isPrivate){var _=v(t).tohex();x=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:_}}]}).tohex();return void 0===r||null==r?Lt(x,"PRIVATE KEY"):S(x,r)}if("PKCS8PRV"==e&&void 0!==d&&t instanceof d&&1==t.isPrivate){var A={seq:[{int:1},{octstr:{hex:t.prvKeyHex}}]};"string"==typeof t.pubKeyHex&&A.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]});_=new l(A).tohex(),x=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:t.curveName}}]},{octstr:{hex:_}}]}).tohex();return void 0===r||null==r?Lt(x,"PRIVATE KEY"):S(x,r)}if("PKCS8PRV"==e&&void 0!==p&&t instanceof p&&1==t.isPrivate){_=new u({bigint:t.x}).tohex(),x=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:_}}]}).tohex();return void 0===r||null==r?Lt(x,"PRIVATE KEY"):S(x,r)}throw Error("unsupported object nor format")},re.getKeyFromCSRPEM=function(t){var e=kt(t,"CERTIFICATE REQUEST");return re.getKeyFromCSRHex(e)},re.getKeyFromCSRHex=function(t){var e=re.parseCSRHex(t);return re.getKey(e.p8pubkeyhex,null,"pkcs8pub")},re.parseCSRHex=function(t){var e=lt,r=e.getChildIdx,n=e.getTLV,o={},i=t;if("30"!=i.substr(0,2))throw Error("malformed CSR(code:001)");var a=r(i,0);if(a.length<1)throw Error("malformed CSR(code:002)");if("30"!=i.substr(a[0],2))throw Error("malformed CSR(code:003)");var s=r(i,a[0]);if(s.length<3)throw Error("malformed CSR(code:004)");return o.p8pubkeyhex=n(i,s[2]),o},re.getKeyID=function(t){var e=re,r=lt;"string"==typeof t&&-1!=t.indexOf("BEGIN ")&&(t=e.getKey(t));var n=kt(e.getPEM(t)),o=r.getIdxbyList(n,0,[1]),i=r.getV(n,o).substring(2);return st.crypto.Util.hashHex(i,"sha1")},re.getJWK=function(t,e,r,n,o){var i,a,s={},c=st.crypto.Util.hashHex;if("string"==typeof t)i=re.getKey(t),-1!=t.indexOf("CERTIFICATE")&&(a=kt(t));else{if("object"!=typeof t)throw Error("unsupported keyinfo type");t instanceof ae?(i=t.getPublicKey(),a=t.hex):i=t}if(i instanceof rt&&i.isPrivate)s.kty="RSA",s.n=mt(i.n.toString(16)),s.e=mt(i.e.toString(16)),s.d=mt(i.d.toString(16)),s.p=mt(i.p.toString(16)),s.q=mt(i.q.toString(16)),s.dp=mt(i.dmp1.toString(16)),s.dq=mt(i.dmq1.toString(16)),s.qi=mt(i.coeff.toString(16));else if(i instanceof rt&&i.isPublic)s.kty="RSA",s.n=mt(i.n.toString(16)),s.e=mt(i.e.toString(16));else if(i instanceof st.crypto.ECDSA&&i.isPrivate){if("P-256"!==(l=i.getShortNISTPCurveName())&&"P-384"!==l&&"P-521"!==l)throw Error("unsupported curve name for JWT: "+l);var u=i.getPublicKeyXYHex();s.kty="EC",s.crv=l,s.x=mt(u.x),s.y=mt(u.y),s.d=mt(i.prvKeyHex)}else if(i instanceof st.crypto.ECDSA&&i.isPublic){var l;if("P-256"!==(l=i.getShortNISTPCurveName())&&"P-384"!==l&&"P-521"!==l)throw Error("unsupported curve name for JWT: "+l);u=i.getPublicKeyXYHex();s.kty="EC",s.crv=l,s.x=mt(u.x),s.y=mt(u.y)}if(null==s.kty)throw Error("unsupported keyinfo");return i.isPrivate||1==e||(s.kid=st.jws.JWS.getJWKthumbprint(s)),null!=a&&1!=r&&(s.x5c=[g(a)]),null!=a&&1!=n&&(s.x5t=yt(g(c(a,"sha1")))),null!=a&&1!=o&&(s["x5t#S256"]=yt(g(c(a,"sha256")))),s},re.getJWKFromKey=function(t){return re.getJWK(t,!0,!0,!0,!0)},rt.getPosArrayOfChildrenFromHex=function(t){return lt.getChildIdx(t,0)},rt.getHexValueArrayOfChildrenFromHex=function(t){var e,r=lt.getV,n=r(t,(e=rt.getPosArrayOfChildrenFromHex(t))[0]),o=r(t,e[1]),i=r(t,e[2]),a=r(t,e[3]),s=r(t,e[4]),c=r(t,e[5]),u=r(t,e[6]),l=r(t,e[7]),f=r(t,e[8]);return(e=[]).push(n,o,i,a,s,c,u,l,f),e},rt.prototype.readPrivateKeyFromPEMString=function(t){var e=kt(t),r=rt.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},rt.prototype.readPKCS5PrvKeyHex=function(t){var e=rt.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},rt.prototype.readPKCS8PrvKeyHex=function(t){var e,r,n,o,i,a,s,c,u=lt,l=u.getVbyListEx;if(!1===u.isASN1HEX(t))throw Error("not ASN.1 hex string");try{e=l(t,0,[2,0,1],"02"),r=l(t,0,[2,0,2],"02"),n=l(t,0,[2,0,3],"02"),o=l(t,0,[2,0,4],"02"),i=l(t,0,[2,0,5],"02"),a=l(t,0,[2,0,6],"02"),s=l(t,0,[2,0,7],"02"),c=l(t,0,[2,0,8],"02")}catch(t){throw Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(e,r,n,o,i,a,s,c)},rt.prototype.readPKCS5PubKeyHex=function(t){var e=lt,r=e.getV;if(!1===e.isASN1HEX(t))throw Error("keyHex is not ASN.1 hex string");var n=e.getChildIdx(t,0);if(2!==n.length||"02"!==t.substr(n[0],2)||"02"!==t.substr(n[1],2))throw Error("wrong hex for PKCS#5 public key");var o=r(t,n[0]),i=r(t,n[1]);this.setPublic(o,i)},rt.prototype.readPKCS8PubKeyHex=function(t){var e=lt;if(!1===e.isASN1HEX(t))throw Error("not ASN.1 hex string");if("06092a864886f70d010101"!==e.getTLVbyListEx(t,0,[0,0]))throw Error("not PKCS8 RSA public key");var r=e.getTLVbyListEx(t,0,[1,0]);this.readPKCS5PubKeyHex(r)},rt.prototype.readCertPubKeyHex=function(t,e){var r,n;(r=new ae).readCertHex(t),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};function ne(t,e){for(var r="",n=e/4-t.length,o=0;o<n;o++)r+="0";return r+t}function oe(t,e,r){for(var n="",o=0;n.length<e;)n+=xt(r(St(t+String.fromCharCode.call(String,(4278190080&o)>>24,(16711680&o)>>16,(65280&o)>>8,255&o)))),o+=1;return n}function ie(t){for(var e in st.crypto.Util.DIGESTINFOHEAD){var r=st.crypto.Util.DIGESTINFOHEAD[e],n=r.length;if(t.substring(0,n)==r)return[e,t.substring(n)]}return[]}function ae(t){var e,r=lt,n=r.getChildIdx,o=r.getV,i=(r.dump,r.parse),a=r.getTLV,s=r.getVbyList,c=r.getVbyListEx,u=r.getTLVbyList,l=r.getTLVbyListEx,f=r.getIdxbyList,h=r.getIdxbyListEx,p=r.getVidx,d=r.getInt,y=r.oidname,v=r.hextooidstr,m=kt,g=Error;try{e=st.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(t){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var t=u(this.hex,0,[0,0]);if("a0"==t.substr(0,2)){var e=u(t,0,[0]),r=d(e,0);if(r<0||2<r)throw Error("malformed version field");return this.version=r+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return c(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var t=l(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(t)},this.getAlgorithmIdentifierName=function(t){for(var r in e)if(t===e[r])return r;return y(c(t,0,[0],"06"))},this.getIssuer=function(t,e){return this.getX500Name(this.getIssuerHex(),t,e)},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(t,e){return this.getX500Name(this.getSubjectHex(),t,e)},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var t=s(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,"%$1"),t=decodeURIComponent(t)},this.getNotAfter=function(){var t=s(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,"%$1"),t=decodeURIComponent(t)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return u(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var t=this.getSPKI();return null==t?null:s(t,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return f(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return f(this.hex,t,[1,0],"30")},this.getPublicKey=function(){return re.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var t=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(t)},this.getSignatureValueHex=function(){return s(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=u(this.hex,0,[0],"30"),o=new st.crypto.Signature({alg:e});return o.init(t),o.updateHex(n),o.verify(r)},this.parseExt=function(t){var e,i,a;if(void 0===t){if(a=this.hex,3!==this.version)return-1;e=f(a,0,[0,7,0],"30"),i=n(a,e)}else{a=kt(t);var c=f(a,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=o(a,c))return void(this.aExtInfo=[]);e=f(a,0,[0,3,0,1,0],"30"),i=n(a,e),this.hex=a}this.aExtInfo=[];for(var u=0;u<i.length;u++){var l={critical:!1},h=0;3===n(a,i[u]).length&&(l.critical=!0,h=1),l.oid=r.hextooidstr(s(a,i[u],[0],"06"));var d=f(a,i[u],[1+h]);l.vidx=p(a,d),this.aExtInfo.push(l)}},this.getExtInfo=function(t){var e=this.aExtInfo,r=t;if(t.match(/^[0-9.]+$/)||(r=st.asn1.x509.OID.name2oid(t)),""!==r)for(var n=0;n<e.length;n++)if(e[n].oid===r)return e[n]},this.getCriticalExtV=function(t,e,r){if(null!=e)return[e,r];var n=this.getExtInfo(t);return null==n?[null,null]:[a(this.hex,n.vidx),n.critical]},this.getExtBasicConstraints=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("basicConstraints");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var n={extname:"basicConstraints"};if(e&&(n.critical=!0),"3000"===t)return n;if("30030101ff"===t)return n.cA=!0,n;if("30060101ff02"===t.substr(0,12)){var i=o(t,10),s=parseInt(i,16);return n.cA=!0,n.pathLen=s,n}throw Error("hExtV parse error: "+t)},this.getExtNameConstraints=function(t,e){var r=this.getCriticalExtV("nameConstraints",t,e);if(t=r[0],e=r[1],null!=t){var o={extname:"nameConstraints"};e&&(o.critical=!0);for(var i=n(t,0),s=0;s<i.length;s++){for(var c=[],u=n(t,i[s]),l=0;l<u.length;l++){var f=a(t,u[l]),h=this.getGeneralSubtree(f);c.push(h)}var p=t.substr(i[s],2);"a0"==p?o.permit=c:"a1"==p&&(o.exclude=c)}return o}},this.getGeneralSubtree=function(t){var e=n(t,0),r=e.length;if(r<1||2<r)throw Error("wrong num elements");for(var i=this.getGeneralName(a(t,e[0])),s=1;s<r;s++){var c=t.substr(e[s],2),u=o(t,e[s]),l=parseInt(u,16);"80"==c&&(i.min=l),"81"==c&&(i.max=l)}return i},this.getExtKeyUsage=function(t,e){var r=this.getCriticalExtV("keyUsage",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"keyUsage"};return e&&(n.critical=!0),n.names=this.getExtKeyUsageString(t).split(","),n}},this.getExtKeyUsageBin=function(t){if(void 0===t){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";t=a(this.hex,e.vidx)}if(8!=t.length&&10!=t.length)throw Error("malformed key usage value: "+t);var r="000000000000000"+parseInt(t.substr(6),16).toString(2);return 8==t.length&&(r=r.slice(-8)),10==t.length&&(r=r.slice(-16)),""==(r=r.replace(/0+$/,""))&&(r="0"),r},this.getExtKeyUsageString=function(t){for(var e=this.getExtKeyUsageBin(t),r=[],n=0;n<e.length;n++)"1"==e.substr(n,1)&&r.push(ae.KEYUSAGE_NAME[n]);return r.join(",")},this.getExtSubjectKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("subjectKeyIdentifier");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var n={extname:"subjectKeyIdentifier"};e&&(n.critical=!0);var i=o(t,0);return n.kid={hex:i},n},this.getExtAuthorityKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("authorityKeyIdentifier");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var i={extname:"authorityKeyIdentifier"};e&&(i.critical=!0);for(var s=n(t,0),c=0;c<s.length;c++){var u=t.substr(s[c],2);if("80"===u&&(i.kid={hex:o(t,s[c])}),"a1"===u){var l=a(t,s[c]),f=this.getGeneralNames(l);i.issuer=f[0].dn}"82"===u&&(i.sn={hex:o(t,s[c])})}return i},this.getExtExtKeyUsage=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("extKeyUsage");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var i={extname:"extKeyUsage",array:[]};e&&(i.critical=!0);for(var s=n(t,0),c=0;c<s.length;c++)i.array.push(y(o(t,s[c])));return i},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo("extKeyUsage");if(void 0===t)return t;var e=[],r=a(this.hex,t.vidx);if(""===r)return e;for(var i=n(r,0),s=0;s<i.length;s++)e.push(y(o(r,i[s])));return e},this.getExtSubjectAltName=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("subjectAltName");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var n={extname:"subjectAltName",array:[]};return e&&(n.critical=!0),n.array=this.getGeneralNames(t),n},this.getExtIssuerAltName=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("issuerAltName");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var n={extname:"issuerAltName",array:[]};return e&&(n.critical=!0),n.array=this.getGeneralNames(t),n},this.getGeneralNames=function(t){for(var e=n(t,0),r=[],o=0;o<e.length;o++){var i=this.getGeneralName(a(t,e[o]));void 0!==i&&r.push(i)}return r},this.getGeneralName=function(t){var e=t.substr(0,2),r=o(t,0),n=xt(r);return"81"==e?{rfc822:n}:"82"==e?{dns:n}:"86"==e?{uri:n}:"87"==e?{ip:jt(r)}:"a4"==e?{dn:this.getX500Name(r)}:"a0"==e?{other:this.getOtherName(t)}:void 0},this.getExtSubjectAltName2=function(){var t,e,r,i=this.getExtInfo("subjectAltName");if(void 0===i)return i;for(var s=[],c=a(this.hex,i.vidx),u=n(c,0),l=0;l<u.length;l++)r=c.substr(u[l],2),t=o(c,u[l]),"81"===r&&(e=wt(t),s.push(["MAIL",e])),"82"===r&&(e=wt(t),s.push(["DNS",e])),"84"===r&&(e=ae.hex2dn(t,0),s.push(["DN",e])),"86"===r&&(e=wt(t),s.push(["URI",e])),"87"===r&&(e=jt(t),s.push(["IP",e]));return s},this.getExtCRLDistributionPoints=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("cRLDistributionPoints");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var o={extname:"cRLDistributionPoints",array:[]};e&&(o.critical=!0);for(var i=n(t,0),s=0;s<i.length;s++){var c=a(t,i[s]);o.array.push(this.getDistributionPoint(c))}return o},this.getDistributionPoint=function(t){for(var e={},r=n(t,0),o=0;o<r.length;o++){var i=t.substr(r[o],2),s=a(t,r[o]);"a0"==i&&(e.dpname=this.getDistributionPointName(s))}return e},this.getDistributionPointName=function(t){for(var e={},r=n(t,0),o=0;o<r.length;o++){var i=t.substr(r[o],2),s=a(t,r[o]);"a0"==i&&(e.full=this.getGeneralNames(s))}return e},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtCRLDistributionPoints();if(null==t)return t;for(var e=t.array,r=[],n=0;n<e.length;n++)try{null!=e[n].dpname.full[0].uri&&r.push(e[n].dpname.full[0].uri)}catch(t){}return r},this.getExtAIAInfo=function(){var t=this.getExtInfo("authorityInfoAccess");if(void 0===t)return t;for(var e={ocsp:[],caissuer:[]},r=n(this.hex,t.vidx),o=0;o<r.length;o++){var i=s(this.hex,r[o],[0],"06"),a=s(this.hex,r[o],[1],"86");"2b06010505073001"===i&&e.ocsp.push(wt(a)),"2b06010505073002"===i&&e.caissuer.push(wt(a))}return e},this.getExtAuthorityInfoAccess=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("authorityInfoAccess");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var o={extname:"authorityInfoAccess",array:[]};e&&(o.critical=!0);for(var i=n(t,0),u=0;u<i.length;u++){var l=c(t,i[u],[0],"06"),f=wt(s(t,i[u],[1],"86"));if("2b06010505073001"==l)o.array.push({ocsp:f});else{if("2b06010505073002"!=l)throw Error("unknown method: "+l);o.array.push({caissuer:f})}}return o},this.getExtCertificatePolicies=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("certificatePolicies");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var o={extname:"certificatePolicies",array:[]};e&&(o.critical=!0);for(var i=n(t,0),s=0;s<i.length;s++){var c=a(t,i[s]),u=this.getPolicyInformation(c);o.array.push(u)}return o},this.getPolicyInformation=function(t){var e={},r=s(t,0,[0],"06");e.policyoid=y(r);var o=h(t,0,[1],"30");if(-1!=o){e.array=[];for(var i=n(t,o),c=0;c<i.length;c++){var u=a(t,i[c]),l=this.getPolicyQualifierInfo(u);e.array.push(l)}}return e},this.getOtherName=function(t){var e={},r=n(t,0),o=s(t,r[0],[],"06"),a=s(t,r[1],[]);return e.oid=y(o),e.value=i(a),e},this.getPolicyQualifierInfo=function(t){var e={},r=s(t,0,[0],"06");if("2b06010505070201"===r){var n=c(t,0,[1],"16");e.cps=xt(n)}else if("2b06010505070202"===r){var o=u(t,0,[1],"30");e.unotice=this.getUserNotice(o)}return e},this.getUserNotice=function(t){var e=null;try{return e=r.parse(t),this._asn1ToUnotice(e)}catch(t){return}},this._asn1ToUnotice=function(t){try{for(var e={},r=te(t,"seq"),n=0;n<r.length;n++){var o=this._asn1ToNoticeRef(r[n]);null!=o&&(e.noticeref=o);var i=this.asn1ToDisplayText(r[n]);null!=i&&(e.exptext=i)}return Object.keys(e).length>0?e:void 0}catch(t){return}},this._asn1ToNoticeRef=function(t){try{for(var e={},r=te(t,"seq"),n=0;n<r.length;n++){var o=this._asn1ToNoticeNum(r[n]);null!=o&&(e.noticenum=o);var i=this.asn1ToDisplayText(r[n]);null!=i&&(e.org=i)}return Object.keys(e).length>0?e:void 0}catch(t){return}},this._asn1ToNoticeNum=function(t){try{for(var e=te(t,"seq"),r=[],n=0;n<e.length;n++){var o=e[n];r.push(parseInt(te(o,"int.hex"),16))}return r}catch(t){return}},this.getDisplayText=function(t){var e={};return e.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[t.substr(0,2)],e.str=xt(o(t,0)),e},this.asn1ToDisplayText=function(t){return null!=t.utf8str?{type:"utf8",str:t.utf8str.str}:null!=t.ia5str?{type:"ia5",str:t.ia5str.str}:null!=t.visstr?{type:"vis",str:t.visstr.str}:null!=t.bmpstr?{type:"bmp",str:t.bmpstr.str}:null!=t.prnstr?{type:"prn",str:t.prnstr.str}:void 0},this.getExtPolicyMappings=function(t,e){var r=this.getCriticalExtV("policyMappings",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"policyMappings"};e&&(n.critical=!0);try{for(var o=i(t).seq,a=[],s=0;s<o.length;s++){var c=o[s].seq;a.push([c[0].oid,c[1].oid])}n.array=a}catch(t){throw new g("malformed policyMappings")}return n}},this.getExtPolicyConstraints=function(t,e){var r=this.getCriticalExtV("policyConstraints",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"policyConstraints"};e&&(n.critical=!0);var o=i(t);try{for(var a=o.seq,s=0;s<a.length;s++){var c=a[s].tag;0==c.explicit&&("80"==c.tag&&(n.reqexp=parseInt(c.hex,16)),"81"==c.tag&&(n.inhibit=parseInt(c.hex,16)))}}catch(t){return new g("malformed policyConstraints value")}return n}},this.getExtInhibitAnyPolicy=function(t,e){var r=this.getCriticalExtV("inhibitAnyPolicy",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"inhibitAnyPolicy"};e&&(n.critical=!0);var o=d(t,0);return-1==o?new g("wrong value"):(n.skip=o,n)}},this.getExtCRLNumber=function(t,e){var r={extname:"cRLNumber"};if(e&&(r.critical=!0),"02"==t.substr(0,2))return r.num={hex:o(t,0)},r;throw new g("hExtV parse error: "+t)},this.getExtCRLReason=function(t,e){var r={extname:"cRLReason"};if(e&&(r.critical=!0),"0a"==t.substr(0,2))return r.code=parseInt(o(t,0),16),r;throw Error("hExtV parse error: "+t)},this.getExtOcspNonce=function(t,e){var r={extname:"ocspNonce"};e&&(r.critical=!0);var n=o(t,0);return r.hex=n,r},this.getExtOcspNoCheck=function(t,e){var r={extname:"ocspNoCheck"};return e&&(r.critical=!0),r},this.getExtAdobeTimeStamp=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("adobeTimeStamp");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var o={extname:"adobeTimeStamp"};e&&(o.critical=!0);var i=n(t,0);if(i.length>1){var s=a(t,i[1]),c=this.getGeneralName(s);null!=c.uri&&(o.uri=c.uri)}if(i.length>2){var u=a(t,i[2]);"0101ff"==u&&(o.reqauth=!0),"010100"==u&&(o.reqauth=!1)}return o},this.getExtSubjectDirectoryAttributes=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("subjectDirectoryAttributes");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var n={extname:"subjectDirectoryAttributes"};e&&(n.critical=!0);try{for(var o=i(t),s=[],c=0;c<o.seq.length;c++){var u=o.seq[c],l=te(u,"seq.0.oid"),f=te(u,"seq.1.set");if(null==l||null==f)throw"error";s.push({attr:l,array:f})}return n.array=s,n}catch(t){throw Error("malformed subjectDirectoryAttributes extension value")}};var b=function(t){var e={};try{var r=t.seq[0].oid,n=st.asn1.x509.OID.name2oid(r);e.type=st.asn1.x509.OID.oid2atype(n);var o=t.seq[1];if(null!=o.utf8str)e.ds="utf8",e.value=o.utf8str.str;else if(null!=o.numstr)e.ds="num",e.value=o.numstr.str;else if(null!=o.telstr)e.ds="tel",e.value=o.telstr.str;else if(null!=o.prnstr)e.ds="prn",e.value=o.prnstr.str;else if(null!=o.ia5str)e.ds="ia5",e.value=o.ia5str.str;else if(null!=o.visstr)e.ds="vis",e.value=o.visstr.str;else{if(null==o.bmpstr)throw"error";e.ds="bmp",e.value=o.bmpstr.str}return e}catch(t){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},w=function(t){try{return t.set.map((function(t){return b(t)}))}catch(t){throw Error("improper ASN.1 parsed RDN: "+t)}};this.getX500NameRule=function(t){for(var e=null,r=[],n=0;n<t.length;n++)for(var o=t[n],i=0;i<o.length;i++)r.push(o[i]);for(n=0;n<r.length;n++){var a=r[n],s=a.ds,c=a.value,u=a.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=u)return"mixed";if(st.lang.String.isMail(c))continue;return"mixed"}if("C"==u){if("prn"==s)continue;return"mixed"}if(null==e)e=s;else if(e!==s)return"mixed"}return null==e?"prn":e},this.getAttrTypeAndValue=function(t){var e=i(t);return b(e)},this.getRDN=function(t){var e=i(t);return w(e)},this.getX500NameArray=function(t){return function(t){try{return t.seq.map((function(t){return w(t)}))}catch(t){throw Error("improper ASN.1 parsed X500Name: "+t)}}(i(t))},this.getX500Name=function(t,e,r){var n=this.getX500NameArray(t),o={str:this.dnarraytostr(n)};return o.array=n,1==r&&(o.hex=t),1==e&&(o.canon=this.c14nRDNArray(n)),o},this.readCertPEM=function(t){this.readCertHex(m(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{f(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getParam=function(t){var e={};return null==t&&(t={}),e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(t.dncanon,t.dnhex),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(t.dncanon,t.dnhex),e.sbjpubkey=Lt(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),1==t.tbshex&&(e.tbshex=u(this.hex,0,[0])),1==t.nodnarray&&(delete e.issuer.array,delete e.subject.array),e},this.getExtParamArray=function(t){null==t&&(-1!=h(this.hex,0,[0,"[3]"])&&(t=l(this.hex,0,[0,"[3]",0],"30")));for(var e=[],r=n(t,0),o=0;o<r.length;o++){var i=a(t,r[o]),s=this.getExtParam(i);null!=s&&e.push(s)}return e},this.getExtParam=function(t){var e=n(t,0).length;if(2!=e&&3!=e)throw Error("wrong number elements in Extension: "+e+" "+t);var r=v(s(t,0,[0],"06")),o=!1;3==e&&"0101ff"==u(t,0,[1])&&(o=!0);var a=u(t,0,[e-1,0]),c=void 0;if("2.5.29.14"==r?c=this.getExtSubjectKeyIdentifier(a,o):"2.5.29.15"==r?c=this.getExtKeyUsage(a,o):"2.5.29.17"==r?c=this.getExtSubjectAltName(a,o):"2.5.29.18"==r?c=this.getExtIssuerAltName(a,o):"2.5.29.19"==r?c=this.getExtBasicConstraints(a,o):"2.5.29.30"==r?c=this.getExtNameConstraints(a,o):"2.5.29.31"==r?c=this.getExtCRLDistributionPoints(a,o):"2.5.29.32"==r?c=this.getExtCertificatePolicies(a,o):"2.5.29.33"==r?c=this.getExtPolicyMappings(a,o):"2.5.29.35"==r?c=this.getExtAuthorityKeyIdentifier(a,o):"2.5.29.36"==r?c=this.getExtPolicyConstraints(a,o):"2.5.29.37"==r?c=this.getExtExtKeyUsage(a,o):"2.5.29.54"==r?c=this.getExtInhibitAnyPolicy(a,o):"1.3.6.1.5.5.7.1.1"==r?c=this.getExtAuthorityInfoAccess(a,o):"2.5.29.20"==r?c=this.getExtCRLNumber(a,o):"2.5.29.21"==r?c=this.getExtCRLReason(a,o):"2.5.29.9"==r?c=this.getExtSubjectDirectoryAttributes(a,o):"1.3.6.1.5.5.7.48.1.2"==r?c=this.getExtOcspNonce(a,o):"1.3.6.1.5.5.7.48.1.5"==r?c=this.getExtOcspNoCheck(a,o):"1.2.840.113583.1.1.9.1"==r?c=this.getExtAdobeTimeStamp(a,o):null!=ae.EXT_PARSER[r]&&(c=ae.EXT_PARSER[r](r,o,a)),null!=c)return c;var l={extname:r,extn:a};try{l.extn=i(a)}catch(t){}return o&&(l.critical=!0),l},this.findExt=function(t,e){for(var r=0;r<t.length;r++)if(t[r].extname==e)return t[r];return null},this.updateExtCDPFullURI=function(t,e){var r=this.findExt(t,"cRLDistributionPoints");if(null!=r&&null!=r.array)for(var n=r.array,o=0;o<n.length;o++)if(null!=n[o].dpname&&null!=n[o].dpname.full)for(var i=n[o].dpname.full,a=0;a<i.length;a++){var s=i[o];null!=s.uri&&(s.uri=e)}},this.updateExtAIAOCSP=function(t,e){var r=this.findExt(t,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,o=0;o<n.length;o++)null!=n[o].ocsp&&(n[o].ocsp=e)},this.updateExtAIACAIssuer=function(t,e){var r=this.findExt(t,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,o=0;o<n.length;o++)null!=n[o].caissuer&&(n[o].caissuer=e)},this.dnarraytostr=function(t){return"/"+t.map((function(t){return function(t){return t.map((function(t){return function(t){return t.type+"="+t.value}(t).replace(/\+/,"\\+")})).join("+")}(t).replace(/\//,"\\/")})).join("/")},this.setCanonicalizedDN=function(t){var e;if(null!=t.str&&null==t.array){var r=new st.asn1.x509.X500Name({str:t.str}).tohex();e=this.getX500NameArray(r)}else e=t.array;null==t.canon&&(t.canon=this.c14nRDNArray(e))},this.c14nRDNArray=function(t){for(var e=[],r=0;r<t.length;r++){for(var n=t[r],o=[],i=0;i<n.length;i++){var a=n[i],s=a.value;s=(s=(s=(s=s.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),o.push(a.type.toLowerCase()+"="+s)}e.push(o.join("+"))}return"/"+e.join("/")},this.getInfo=function(){var t,e,r,n=function(t){for(var e="",r="    ",n="\n",o=t.array,i=0;i<o.length;i++){var a=o[i];if(null!=a.dn&&(e+=r+"dn: "+a.dn.str+n),null!=a.ip&&(e+=r+"ip: "+a.ip+n),null!=a.rfc822&&(e+=r+"rfc822: "+a.rfc822+n),null!=a.dns&&(e+=r+"dns: "+a.dns+n),null!=a.uri&&(e+=r+"uri: "+a.uri+n),null!=a.other)e+=r+"other: "+a.other.oid+"="+JSON.stringify(a.other.value).replace(/\"/g,"")+n}return e=e.replace(/\n$/,"")},o=function(t){for(var e="",r=t.array,n=0;n<r.length;n++){var o=r[n];if(e+="    policy oid: "+o.policyoid+"\n",void 0!==o.array)for(var i=0;i<o.array.length;i++){var a=o.array[i];void 0!==a.cps&&(e+="    cps: "+a.cps+"\n")}}return e},i=function(t){for(var e="",r=t.array,n=0;n<r.length;n++){var o=r[n];try{void 0!==o.dpname.full[0].uri&&(e+="    "+o.dpname.full[0].uri+"\n")}catch(t){}try{void 0!==o.dname.full[0].dn.hex&&(e+="    "+ae.hex2dn(o.dpname.full[0].dn.hex)+"\n")}catch(t){}}return e},a=function(t){for(var e="",r=t.array,n=0;n<r.length;n++){var o=r[n];void 0!==o.caissuer&&(e+="    caissuer: "+o.caissuer+"\n"),void 0!==o.ocsp&&(e+="    ocsp: "+o.ocsp+"\n")}return e};if(t="Basic Fields\n",t+="  serial number: "+this.getSerialNumberHex()+"\n",t+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",t+="  issuer: "+this.getIssuerString()+"\n",t+="  notBefore: "+this.getNotBefore()+"\n",t+="  notAfter: "+this.getNotAfter()+"\n",t+="  subject: "+this.getSubjectString()+"\n",t+="  subject public key info: \n",t+="    key algorithm: "+(e=this.getPublicKey()).type+"\n","RSA"===e.type&&(t+="    n="+Vt(e.n.toString(16)).substr(0,16)+"...\n",t+="    e="+Vt(e.e.toString(16))+"\n"),null!=(r=this.aExtInfo)){t+="X509v3 Extensions:\n";for(var s=0;s<r.length;s++){var c=r[s],u=st.asn1.x509.OID.oid2name(c.oid);""===u&&(u=c.oid);var l="";if(!0===c.critical&&(l="CRITICAL"),t+="  "+u+" "+l+":\n","basicConstraints"===u){var f=this.getExtBasicConstraints();void 0===f.cA?t+="    {}\n":(t+="    cA=true",void 0!==f.pathLen&&(t+=", pathLen="+f.pathLen),t+="\n")}else{var h;if("policyMappings"==u)t+="    "+this.getExtPolicyMappings().array.map((function(t){var e=t;return e[0]+":"+e[1]})).join(", ")+"\n";else if("policyConstraints"==u)t+="    ",null!=(h=this.getExtPolicyConstraints()).reqexp&&(t+=" reqexp="+h.reqexp),null!=h.inhibit&&(t+=" inhibit="+h.inhibit),t+="\n";else if("inhibitAnyPolicy"==u)t+="    skip="+(h=this.getExtInhibitAnyPolicy()).skip+"\n";else if("keyUsage"==u)t+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==u)t+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==u){var p=this.getExtAuthorityKeyIdentifier();void 0!==p.kid&&(t+="    kid="+p.kid.hex+"\n")}else{if("extKeyUsage"==u)t+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n";else if("subjectAltName"==u)t+=n(this.getExtSubjectAltName())+"\n";else if("cRLDistributionPoints"==u)t+=i(this.getExtCRLDistributionPoints());else if("authorityInfoAccess"==u)t+=a(this.getExtAuthorityInfoAccess());else"certificatePolicies"==u&&(t+=o(this.getExtCertificatePolicies()))}}}}return t+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n",t+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?this.readCertPEM(t):st.lang.String.isHex(t)&&this.readCertHex(t))}rt.prototype.sign=function(t,e){var r=function(t){return st.crypto.Util.hashString(t,e)}(t);return this.signWithMessageHash(r,e)},rt.prototype.signWithMessageHash=function(t,e){var r=et(st.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),16);return ne(this.doPrivate(r).toString(16),this.n.bitLength())},rt.prototype.signPSS=function(t,e,r){var n,o=(n=St(t),st.crypto.Util.hashHex(n,e));return void 0===r&&(r=-1),this.signWithMessageHashPSS(o,e,r)},rt.prototype.signWithMessageHashPSS=function(t,e,r){var n,o=xt(t),i=o.length,a=this.n.bitLength()-1,s=Math.ceil(a/8),c=function(t){return st.crypto.Util.hashHex(t,e)};if(-1===r||void 0===r)r=i;else if(-2===r)r=s-i-2;else if(r<-2)throw Error("invalid salt length");if(s<i+r+2)throw Error("data too long");var u="";r>0&&(u=Array(r),(new tt).nextBytes(u),u=String.fromCharCode.apply(String,u));var l=xt(c(St("\0\0\0\0\0\0\0\0"+o+u))),f=[];for(n=0;n<s-r-i-2;n+=1)f[n]=0;var h=String.fromCharCode.apply(String,f)+""+u,p=oe(l,h.length,c),d=[];for(n=0;n<h.length;n+=1)d[n]=h.charCodeAt(n)^p.charCodeAt(n);var y=65280>>8*s-a&255;for(d[0]&=~y,n=0;n<i;n++)d.push(l.charCodeAt(n));return d.push(188),ne(this.doPrivate(new E(d)).toString(16),this.n.bitLength())},rt.prototype.verify=function(t,e){if(null==(e=e.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var r=et(e,16),n=this.n.bitLength();if(r.bitLength()>n)return!1;var o=this.doPublic(r).toString(16);if(o.length+3!=n/4)return!1;var i=ie(o.replace(/^1f+00/,""));if(0==i.length)return!1;var a=i[0],s=i[1],c=function(t){return st.crypto.Util.hashString(t,a)}(t);return s==c},rt.prototype.verifyWithMessageHash=function(t,e){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=et(e,16);if(r.bitLength()>this.n.bitLength())return 0;var n=ie(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(0==n.length)return!1;n[0];return n[1]==t},rt.prototype.verifyPSS=function(t,e,r,n){var o,i=(o=St(t),st.crypto.Util.hashHex(o,r));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(i,e,r,n)},rt.prototype.verifyWithMessageHashPSS=function(t,e,r,n){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var o,i=new E(e,16),a=function(t){return st.crypto.Util.hashHex(t,r)},s=xt(t),c=s.length,u=this.n.bitLength()-1,l=Math.ceil(u/8);if(-1===n||void 0===n)n=c;else if(-2===n)n=l-c-2;else if(n<-2)throw Error("invalid salt length");if(l<c+n+2)throw Error("data too long");var f=this.doPublic(i).toByteArray();for(o=0;o<f.length;o+=1)f[o]&=255;for(;f.length<l;)f.unshift(0);if(188!==f[l-1])throw Error("encoded message does not end in 0xbc");var h=(f=String.fromCharCode.apply(String,f)).substr(0,l-c-1),p=f.substr(h.length,c),d=65280>>8*l-u&255;if(h.charCodeAt(0)&d)throw Error("bits beyond keysize not zero");var y=oe(p,h.length,a),v=[];for(o=0;o<h.length;o+=1)v[o]=h.charCodeAt(o)^y.charCodeAt(o);v[0]&=~d;var m=l-c-n-2;for(o=0;o<m;o+=1)if(0!==v[o])throw Error("leftmost octets not zero");if(1!==v[m])throw Error("0x01 marker not found");return p===xt(a(St("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,v.slice(-n)))))},rt.SALT_LEN_HLEN=-1,rt.SALT_LEN_MAX=-2,rt.SALT_LEN_RECOVER=-2,ae.EXT_PARSER={},ae.registExtParser=function(t,e){ae.EXT_PARSER[t]=e},ae.hex2dn=function(t,e){void 0===e&&(e=0);var r=new ae;lt.getTLV(t,e);return r.getX500Name(t).str},ae.hex2rdn=function(t,e){if(void 0===e&&(e=0),"31"!==t.substr(e,2))throw Error("malformed RDN");for(var r=[],n=lt.getChildIdx(t,e),o=0;o<n.length;o++)r.push(ae.hex2attrTypeValue(t,n[o]));return r=r.map((function(t){return t.replace("+","\\+")})),r.join("+")},ae.hex2attrTypeValue=function(t,e){var r=lt,n=r.getV;if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw Error("malformed attribute type and value");var o=r.getChildIdx(t,e);2!==o.length||t.substr(o[0],2);var i=n(t,o[0]),a=st.asn1.ASN1Util.oidHexToInt(i);return st.asn1.x509.OID.oid2atype(a)+"="+xt(n(t,o[1]))},ae.getPublicKeyFromCertHex=function(t){var e=new ae;return e.readCertHex(t),e.getPublicKey()},ae.getPublicKeyFromCertPEM=function(t){var e=new ae;return e.readCertPEM(t),e.getPublicKey()},ae.getPublicKeyInfoPropOfCertPEM=function(t){var e,r,n=lt.getVbyList,o={};return o.algparam=null,(e=new ae).readCertPEM(t),r=e.getPublicKeyHex(),o.keyhex=n(r,0,[1],"03").substr(2),o.algoid=n(r,0,[0,0],"06"),"2a8648ce3d0201"===o.algoid&&(o.algparam=n(r,0,[0,1],"06")),o},ae.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];void 0!==st&&st||(st={}),void 0!==st.jws&&st.jws||(st.jws={}),st.jws.JWS=function(){var t=st.jws.JWS.isSafeJSONString;this.parseJWS=function(e,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var o=n[1],i=n[2],a=n[3],s=o+"."+i;if(this.parsedJWS={},this.parsedJWS.headB64U=o,this.parsedJWS.payloadB64U=i,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=s,!r){var c=gt(a),u=et(c,16);this.parsedJWS.sigvalH=c,this.parsedJWS.sigvalBI=u}var l=ut(o),f=ut(i);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=f,!t(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},st.jws.JWS.sign=function(t,e,r,n,o){var i,a,s,c=st,u=c.jws.JWS,l=u.readSafeJSONString,f=u.isSafeJSONString,h=c.crypto,p=(h.ECDSA,h.Mac),d=h.Signature,y=JSON;if("string"!=typeof e&&"object"!=typeof e)throw"spHeader must be JSON string or object: "+e;if("object"==typeof e&&(a=e,i=y.stringify(a)),"string"==typeof e){if(!f(i=e))throw"JWS Head is not safe JSON string: "+i;a=l(i)}if(s=r,"object"==typeof r&&(s=y.stringify(r)),""!=t&&null!=t||void 0===a.alg||(t=a.alg),""!=t&&null!=t&&void 0===a.alg&&(a.alg=t,i=y.stringify(a)),t!==a.alg)throw"alg and sHeader.alg doesn't match: "+t+"!="+a.alg;var v=null;if(void 0===u.jwsalg2sigalg[t])throw"unsupported alg name: "+t;v=u.jwsalg2sigalg[t];var m=ct(i)+"."+ct(s),g="";if("Hmac"==v.substr(0,4)){if(void 0===n)throw"mac key shall be specified for HS* alg";var b=new p({alg:v,prov:"cryptojs",pass:n});b.updateString(m),g=b.doFinal()}else if(-1!=v.indexOf("withECDSA")){(E=new d({alg:v})).init(n,o),E.updateString(m);var w=E.sign();g=st.crypto.ECDSA.asn1SigToConcatSig(w)}else{var E;if("none"!=v)(E=new d({alg:v})).init(n,o),E.updateString(m),g=E.sign()}return m+"."+mt(g)},st.jws.JWS.verify=function(t,e,r){var n,o=st,i=o.jws.JWS,a=i.readSafeJSONString,s=o.crypto,c=s.ECDSA,u=s.Mac,l=s.Signature;if(n=rt,!qt(t))return!1;var f=t.split(".");if(3!==f.length)return!1;var h=f[0]+"."+f[1],p=gt(f[2]),d=a(ut(f[0])),y=null,v=null;if(void 0===d.alg)throw"algorithm not specified in header";if((v=(y=d.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0)&&-1==(":"+r.join(":")+":").indexOf(":"+y+":"))throw"algorithm '"+y+"' not accepted in the list";if("none"!=y&&null===e)throw"key shall be specified to verify.";if("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&(e=re.getKey(e)),!("RS"!=v&&"PS"!=v||e instanceof n))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==v&&!(e instanceof c))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===i.jwsalg2sigalg[d.alg])throw"unsupported alg name: "+y;if("none"==(m=i.jwsalg2sigalg[y]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===e)throw"hexadecimal key shall be specified for HMAC";var g=new u({alg:m,pass:e});return g.updateString(h),p==g.doFinal()}if(-1!=m.indexOf("withECDSA")){var b,w=null;try{w=c.concatSigToASN1Sig(p)}catch(t){return!1}return(b=new l({alg:m})).init(e),b.updateString(h),b.verify(w)}return(b=new l({alg:m})).init(e),b.updateString(h),b.verify(p)},st.jws.JWS.parse=function(t){var e,r,n,o=t.split("."),i={};if(2!=o.length&&3!=o.length)throw"malformed sJWS: wrong number of '.' splitted elements";return e=o[0],r=o[1],3==o.length&&(n=o[2]),i.headerObj=st.jws.JWS.readSafeJSONString(ut(e)),i.payloadObj=st.jws.JWS.readSafeJSONString(ut(r)),i.headerPP=JSON.stringify(i.headerObj,null,"  "),null==i.payloadObj?i.payloadPP=ut(r):i.payloadPP=JSON.stringify(i.payloadObj,null,"  "),void 0!==n&&(i.sigHex=gt(n)),i},st.jws.JWS.verifyJWT=function(t,e,r){var n=st.jws,o=n.JWS,i=o.readSafeJSONString,a=o.inArray,s=o.includedArray;if(!qt(t))return!1;var c=t.split(".");if(3!=c.length)return!1;var u=c[0],l=c[1],f=(gt(c[2]),i(ut(u))),h=i(ut(l));if(void 0===f.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!a(f.alg,r.alg))return!1;if(void 0!==h.iss&&"object"==typeof r.iss&&!a(h.iss,r.iss))return!1;if(void 0!==h.sub&&"object"==typeof r.sub&&!a(h.sub,r.sub))return!1;if(void 0!==h.aud&&"object"==typeof r.aud)if("string"==typeof h.aud){if(!a(h.aud,r.aud))return!1}else if("object"==typeof h.aud&&!s(h.aud,r.aud))return!1;var p=n.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(p=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==h.exp&&"number"==typeof h.exp&&h.exp+r.gracePeriod<p)&&(!(void 0!==h.nbf&&"number"==typeof h.nbf&&p<h.nbf-r.gracePeriod)&&(!(void 0!==h.iat&&"number"==typeof h.iat&&p<h.iat-r.gracePeriod)&&((void 0===h.jti||void 0===r.jti||h.jti===r.jti)&&!!o.verify(t,e,r.alg))))},st.jws.JWS.includedArray=function(t,e){var r=st.jws.JWS.inArray;if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(!r(t[n],e))return!1;return!0},st.jws.JWS.inArray=function(t,e){if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1},st.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},st.jws.JWS.isSafeJSONString=function(t,e,r){var n=null;try{return"object"!=typeof(n=at(t))||n.constructor===Array?0:(e&&(e[r]=n),1)}catch(t){return 0}},st.jws.JWS.readSafeJSONString=function(t){var e=null;try{return"object"!=typeof(e=at(t))||e.constructor===Array?null:e}catch(t){return null}},st.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==e)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return e[1]},st.jws.JWS.getJWKthumbprint=function(t){if("RSA"!==t.kty&&"EC"!==t.kty&&"oct"!==t.kty)throw"unsupported algorithm for JWK Thumprint";var e="{";if("RSA"===t.kty){if("string"!=typeof t.n||"string"!=typeof t.e)throw"wrong n and e value for RSA key";e+='"e":"'+t.e+'",',e+='"kty":"'+t.kty+'",',e+='"n":"'+t.n+'"}'}else if("EC"===t.kty){if("string"!=typeof t.crv||"string"!=typeof t.x||"string"!=typeof t.y)throw"wrong crv, x and y value for EC key";e+='"crv":"'+t.crv+'",',e+='"kty":"'+t.kty+'",',e+='"x":"'+t.x+'",',e+='"y":"'+t.y+'"}'}else if("oct"===t.kty){if("string"!=typeof t.k)throw"wrong k value for oct(symmetric) key";e+='"kty":"'+t.kty+'",',e+='"k":"'+t.k+'"}'}var r=St(e);return mt(st.crypto.Util.hashHex(r,"sha256"))},st.jws.IntDate={},st.jws.IntDate.get=function(t){var e=st.jws.IntDate,r=e.getNow,n=e.getZulu;if("now"==t)return r();if("now + 1hour"==t)return r()+3600;if("now + 1day"==t)return r()+86400;if("now + 1month"==t)return r()+2592e3;if("now + 1year"==t)return r()+31536e3;if(t.match(/Z$/))return n(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw"unsupported format: "+t},st.jws.IntDate.getZulu=function(t){return It(t)},st.jws.IntDate.getNow=function(){return~~(new Date/1e3)},st.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},st.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t);return("0000"+e.getUTCFullYear()).slice(-4)+("00"+(e.getUTCMonth()+1)).slice(-2)+("00"+e.getUTCDate()).slice(-2)+("00"+e.getUTCHours()).slice(-2)+("00"+e.getUTCMinutes()).slice(-2)+("00"+e.getUTCSeconds()).slice(-2)+"Z"},void 0!==st&&st||(st={}),void 0!==st.jws&&st.jws||(st.jws={}),st.jws.JWSJS=function(){var t=st.jws.JWS,e=t.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(t){this.init();var e=t.split(".");if(3!=e.length)throw"malformed input JWS";this.aHeader.push(e[0]),this.sPayload=e[1],this.aSignature.push(e[2])},this.addSignature=function(t,e,r,n){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var o=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var i=st.jws.JWS.sign(t,e,this.sPayload,r,n).split(".");i[0],i[2];this.aHeader.push(i[0]),this.aSignature.push(i[2])}catch(t){throw this.aHeader.length>o&&this.aHeader.pop(),this.aSignature.length>o&&this.aSignature.pop(),"addSignature failed: "+t}},this.verifyAll=function(t){if(this.aHeader.length!==t.length||this.aSignature.length!==t.length)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(2!==r.length)return!1;if(!1===this.verifyNth(e,r[0],r[1]))return!1}return!0},this.verifyNth=function(e,r,n){if(this.aHeader.length<=e||this.aSignature.length<=e)return!1;var o=this.aHeader[e],i=this.aSignature[e],a=o+"."+this.sPayload+"."+i,s=!1;try{s=t.verify(a,r,n)}catch(t){return!1}return s},this.readJWSJS=function(t){if("string"==typeof t){var r=e(t);if(null==r)throw"argument is not safe JSON object string";this.aHeader=r.headers,this.sPayload=r.payload,this.aSignature=r.signatures}else try{if(!(t.headers.length>0))throw"malformed header";if(this.aHeader=t.headers,"string"!=typeof t.payload)throw"malformed signatures";if(this.sPayload=t.payload,!(t.signatures.length>0))throw"malformed signatures";this.aSignature=t.signatures}catch(t){throw"malformed JWS-JS JSON object: "+t}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},e.sD=rt,st.crypto.ECDSA,st.crypto.DSA,st.crypto.Signature,st.crypto.MessageDigest,st.crypto.Mac,e.ym=re,st.crypto,st.asn1,st.jws,st.lang},9073:(t,e,r)=>{var n=r(2316),o=r(6458),i=r(2149),a=r(4297),s=r(3121);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},2707:(t,e,r)=>{var n=r(9714),o=r(3812),i=r(4727),a=r(8379),s=r(8291);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},1955:(t,e,r)=>{var n=r(9138)(r(1433),"Map");t.exports=n},369:(t,e,r)=>{var n=r(2092),o=r(9626),i=r(9925),a=r(6809),s=r(4385);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},6469:(t,e,r)=>{var n=r(2707),o=r(1848),i=r(7406),a=r(8569),s=r(3109),c=r(3389);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,t.exports=u},2781:(t,e,r)=>{var n=r(1433).Symbol;t.exports=n},8944:(t,e,r)=>{var n=r(1433).Uint8Array;t.exports=n},6701:t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},1163:(t,e,r)=>{var n=r(6204),o=r(1256),i=r(6397),a=r(492),s=r(2845),c=r(7995),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),l=!r&&o(t),f=!r&&!l&&a(t),h=!r&&!l&&!f&&c(t),p=r||l||f||h,d=p?n(t.length,String):[],y=d.length;for(var v in t)!e&&!u.call(t,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,y))||d.push(v);return d}},3998:(t,e,r)=>{var n=r(4772),o=r(9316);t.exports=function(t,e,r){(void 0!==r&&!o(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},2863:(t,e,r)=>{var n=r(4772),o=r(9316),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},8301:(t,e,r)=>{var n=r(9316);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},4772:(t,e,r)=>{var n=r(8559);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},3508:(t,e,r)=>{var n=r(8953),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},1469:(t,e,r)=>{var n=r(5409)();t.exports=n},7148:(t,e,r)=>{var n=r(2781),o=r(7903),i=r(1738),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},9250:(t,e,r)=>{var n=r(7148),o=r(2934);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},6567:(t,e,r)=>{var n=r(8446),o=r(8092),i=r(8953),a=r(1485),s=/^\[object .+?Constructor\]$/,c=Object.prototype,u=Function.prototype.toString,l=c.hasOwnProperty,f=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?f:s).test(a(t))}},7129:(t,e,r)=>{var n=r(7148),o=r(3330),i=r(2934),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},1491:(t,e,r)=>{var n=r(8953),o=r(7499),i=r(8201),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&r.push(s);return r}},9702:(t,e,r)=>{var n=r(6469),o=r(3998),i=r(1469),a=r(708),s=r(8953),c=r(5405),u=r(9874);t.exports=function t(e,r,l,f,h){e!==r&&i(r,(function(i,c){if(h||(h=new n),s(i))a(e,r,c,l,t,f,h);else{var p=f?f(u(e,c),i,c+"",e,r,h):void 0;void 0===p&&(p=i),o(e,c,p)}}),c)}},708:(t,e,r)=>{var n=r(3998),o=r(7030),i=r(6733),a=r(8835),s=r(9181),c=r(1256),u=r(6397),l=r(5569),f=r(492),h=r(8446),p=r(8953),d=r(4679),y=r(7995),v=r(9874),m=r(7264);t.exports=function(t,e,r,g,b,w,E){var x=v(t,r),S=v(e,r),_=E.get(S);if(_)n(t,r,_);else{var A=w?w(x,S,r+"",t,e,E):void 0,T=void 0===A;if(T){var L=u(S),k=!L&&f(S),O=!L&&!k&&y(S);A=S,L||k||O?u(x)?A=x:l(x)?A=a(x):k?(T=!1,A=o(S,!0)):O?(T=!1,A=i(S,!0)):A=[]:d(S)||c(S)?(A=x,c(x)?A=m(x):p(x)&&!h(x)||(A=s(S))):T=!1}T&&(E.set(S,A),b(A,S,g,w,E),E.delete(S)),n(t,r,A)}}},1506:(t,e,r)=>{var n=r(4796),o=r(5265),i=r(6805);t.exports=function(t,e){return i(o(t,e,n),t+"")}},7310:(t,e,r)=>{var n=r(3122),o=r(8559),i=r(4796),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},6204:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},41:t=>{t.exports=function(t){return function(e){return t(e)}}},7177:(t,e,r)=>{var n=r(8944);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},7030:(t,e,r)=>{t=r.nmd(t);var n=r(1433),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}},6733:(t,e,r)=>{var n=r(7177);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},8835:t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},2083:(t,e,r)=>{var n=r(2863),o=r(4772);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=i?i(r[u],t[u],u,r,t):void 0;void 0===l&&(l=t[u]),a?o(r,u,l):n(r,u,l)}return r}},8109:(t,e,r)=>{var n=r(1433)["__core-js_shared__"];t.exports=n},4171:(t,e,r)=>{var n=r(1506),o=r(6220);t.exports=function(t){return n((function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var c=r[n];c&&t(e,c,n,a)}return e}))}},5409:t=>{t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===r(i[c],c,i))break}return e}}},9386:(t,e,r)=>{var n=r(9702),o=r(8953);t.exports=function t(e,r,i,a,s,c){return o(e)&&o(r)&&(c.set(r,e),n(e,r,void 0,t,c),c.delete(r)),e}},8559:(t,e,r)=>{var n=r(9138),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},2999:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},5535:(t,e,r)=>{var n=r(5662);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},9138:(t,e,r)=>{var n=r(6567),o=r(6772);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},3347:(t,e,r)=>{var n=r(1019)(Object.getPrototypeOf,Object);t.exports=n},7903:(t,e,r)=>{var n=r(2781),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[s]=r:delete t[s]),o}},6772:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},2316:(t,e,r)=>{var n=r(4558);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},6458:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},2149:(t,e,r)=>{var n=r(4558),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},4297:(t,e,r)=>{var n=r(4558),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},3121:(t,e,r)=>{var n=r(4558);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},9181:(t,e,r)=>{var n=r(3508),o=r(3347),i=r(7499);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},2845:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},6220:(t,e,r)=>{var n=r(9316),o=r(8330),i=r(2845),a=r(8953);t.exports=function(t,e,r){if(!a(r))return!1;var s=typeof e;return!!("number"==s?o(r)&&i(e,r.length):"string"==s&&e in r)&&n(r[e],t)}},5662:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},8092:(t,e,r)=>{var n,o=r(8109),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},7499:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},9714:t=>{t.exports=function(){this.__data__=[],this.size=0}},3812:(t,e,r)=>{var n=r(8301),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},4727:(t,e,r)=>{var n=r(8301);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},8379:(t,e,r)=>{var n=r(8301);t.exports=function(t){return n(this.__data__,t)>-1}},8291:(t,e,r)=>{var n=r(8301);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},2092:(t,e,r)=>{var n=r(9073),o=r(2707),i=r(1955);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},9626:(t,e,r)=>{var n=r(5535);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},9925:(t,e,r)=>{var n=r(5535);t.exports=function(t){return n(this,t).get(t)}},6809:(t,e,r)=>{var n=r(5535);t.exports=function(t){return n(this,t).has(t)}},4385:(t,e,r)=>{var n=r(5535);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},4558:(t,e,r)=>{var n=r(9138)(Object,"create");t.exports=n},8201:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},3685:(t,e,r)=>{t=r.nmd(t);var n=r(2999),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},1738:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},1019:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},5265:(t,e,r)=>{var n=r(6701),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),c=Array(s);++a<s;)c[a]=i[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=i[a];return u[e]=r(c),n(t,this,u)}}},1433:(t,e,r)=>{var n=r(2999),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},9874:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},6805:(t,e,r)=>{var n=r(7310),o=r(3983)(n);t.exports=o},3983:t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},1848:(t,e,r)=>{var n=r(2707);t.exports=function(){this.__data__=new n,this.size=0}},7406:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},8569:t=>{t.exports=function(t){return this.__data__.get(t)}},3109:t=>{t.exports=function(t){return this.__data__.has(t)}},3389:(t,e,r)=>{var n=r(2707),o=r(1955),i=r(369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},1485:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},3122:t=>{t.exports=function(t){return function(){return t}}},4526:(t,e,r)=>{var n=r(6701),o=r(1506),i=r(9386),a=r(9032),s=o((function(t){return t.push(void 0,i),n(a,void 0,t)}));t.exports=s},9316:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},4796:t=>{t.exports=function(t){return t}},1256:(t,e,r)=>{var n=r(9250),o=r(2934),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},6397:t=>{var e=Array.isArray;t.exports=e},8330:(t,e,r)=>{var n=r(8446),o=r(3330);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},5569:(t,e,r)=>{var n=r(8330),o=r(2934);t.exports=function(t){return o(t)&&n(t)}},492:(t,e,r)=>{t=r.nmd(t);var n=r(1433),o=r(659),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,s=a&&a.exports===i?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;t.exports=c},8446:(t,e,r)=>{var n=r(7148),o=r(8953);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},3330:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},8953:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},2934:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},4679:(t,e,r)=>{var n=r(7148),o=r(3347),i=r(2934),a=Object.prototype,s=Function.prototype.toString,c=a.hasOwnProperty,u=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==u}},7995:(t,e,r)=>{var n=r(7129),o=r(41),i=r(3685),a=i&&i.isTypedArray,s=a?o(a):n;t.exports=s},5405:(t,e,r)=>{var n=r(1163),o=r(1491),i=r(8330);t.exports=function(t){return i(t)?n(t,!0):o(t)}},9032:(t,e,r)=>{var n=r(9702),o=r(4171)((function(t,e,r,o){n(t,e,r,o)}));t.exports=o},659:t=>{t.exports=function(){return!1}},7264:(t,e,r)=>{var n=r(2083),o=r(5405);t.exports=function(t){return n(t,o(t))}},2688:(t,e,r)=>{var n=r(2867),o=new n("76561197960265728");t.exports={to64:function(t){return(t=new n(t)).plus(o).toString()},to32:function(t){return(t=new n(t)).minus(o).toString()}}},2867:function(t,e,r){var n;/*! bignumber.js v2.4.0 https://github.com/MikeMcl/bignumber.js/LICENCE */!function(){"use strict";var e,r,o,i=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,c=" not a boolean or binary digit",u="rounding mode",l="number type has more than 15 significant digits",f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",h=1e14,p=14,d=9007199254740991,y=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],v=1e7,m=1e9;function g(t){var e=0|t;return t>0||t===e?e:e-1}function b(t){for(var e,r,n=1,o=t.length,i=t[0]+"";n<o;){for(e=t[n++]+"",r=p-e.length;r--;e="0"+e);i+=e}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function w(t,e){var r,n,o=t.c,i=e.c,a=t.s,s=e.s,c=t.e,u=e.e;if(!a||!s)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=c==u,!o||!i)return n?0:!o^r?1:-1;if(!n)return c>u^r?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^r?1:-1;return c==u?0:c>u^r?1:-1}function E(t,e,r){return(t=T(t))>=e&&t<=r}function x(t){return"[object Array]"==Object.prototype.toString.call(t)}function S(t,e,r){for(var n,o,i=[0],a=0,s=t.length;a<s;){for(o=i.length;o--;i[o]*=e);for(i[n=0]+=f.indexOf(t.charAt(a++));n<i.length;n++)i[n]>r-1&&(null==i[n+1]&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function _(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function A(t,e){var r,n;if(e<0){for(n="0.";++e;n+="0");t=n+t}else if(++e>(r=t.length)){for(n="0",e-=r;--e;n+="0");t+=n}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}function T(t){return(t=parseFloat(t))<0?a(t):s(t)}"undefined"!=typeof crypto&&(r=crypto),e=function t(e){var n,L,k,O,I,N,P,C,D=0,R=$.prototype,j=new $(1),F=20,B=4,G=-7,M=21,U=-1e7,H=1e7,q=!0,V=Z,K=!1,Y=1,W=100,z={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"Â ",fractionGroupSize:0};function $(t,e){var r,n,a,c,u,h,y=this;if(!(y instanceof $))return q&&et(26,"constructor call without new",t),new $(t,e);if(null!=e&&V(e,2,64,D,"base")){if(h=t+"",10==(e|=0))return rt(y=new $(t instanceof $?t:h),F+y.e+1,B);if((c="number"==typeof t)&&0*t!=0||!RegExp("^-?"+(r="["+f.slice(0,e)+"]+")+"(?:\\."+r+")?$",e<37?"i":"").test(h))return o(y,h,c,e);c?(y.s=1/t<0?(h=h.slice(1),-1):1,q&&h.replace(/^0\.0*|\./,"").length>15&&et(D,l,t),c=!1):y.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1,h=X(h,10,e,y.s)}else{if(t instanceof $)return y.s=t.s,y.e=t.e,y.c=(t=t.c)?t.slice():t,void(D=0);if((c="number"==typeof t)&&0*t==0){if(y.s=1/t<0?(t=-t,-1):1,t===~~t){for(n=0,a=t;a>=10;a/=10,n++);return y.e=n,y.c=[t],void(D=0)}h=t+""}else{if(!i.test(h=t+""))return o(y,h,c);y.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1}}for((n=h.indexOf("."))>-1&&(h=h.replace(".","")),(a=h.search(/e/i))>0?(n<0&&(n=a),n+=+h.slice(a+1),h=h.substring(0,a)):n<0&&(n=h.length),a=0;48===h.charCodeAt(a);a++);for(u=h.length;48===h.charCodeAt(--u););if(h=h.slice(a,u+1))if(u=h.length,c&&q&&u>15&&(t>d||t!==s(t))&&et(D,l,y.s*t),(n=n-a-1)>H)y.c=y.e=null;else if(n<U)y.c=[y.e=0];else{if(y.e=n,y.c=[],a=(n+1)%p,n<0&&(a+=p),a<u){for(a&&y.c.push(+h.slice(0,a)),u-=p;a<u;)y.c.push(+h.slice(a,a+=p));h=h.slice(a),a=p-h.length}else a-=u;for(;a--;h+="0");y.c.push(+h)}else y.c=[y.e=0];D=0}function X(t,e,r,o){var i,a,s,c,u,l,h,p=t.indexOf("."),d=F,y=B;for(r<37&&(t=t.toLowerCase()),p>=0&&(s=W,W=0,t=t.replace(".",""),u=(h=new $(r)).pow(t.length-p),W=s,h.c=S(A(b(u.c),u.e),10,e),h.e=h.c.length),a=s=(l=S(t,r,e)).length;0==l[--s];l.pop());if(!l[0])return"0";if(p<0?--a:(u.c=l,u.e=a,u.s=o,l=(u=n(u,h,d,y,e)).c,c=u.r,a=u.e),p=l[i=a+d+1],s=e/2,c=c||i<0||null!=l[i+1],c=y<4?(null!=p||c)&&(0==y||y==(u.s<0?3:2)):p>s||p==s&&(4==y||c||6==y&&1&l[i-1]||y==(u.s<0?8:7)),i<1||!l[0])t=c?A("1",-d):"0";else{if(l.length=i,c)for(--e;++l[--i]>e;)l[i]=0,i||(++a,l.unshift(1));for(s=l.length;!l[--s];);for(p=0,t="";p<=s;t+=f.charAt(l[p++]));t=A(t,a)}return t}function J(t,e,r,n){var o,i,a,s,c;if(r=null!=r&&V(r,0,8,n,u)?0|r:B,!t.c)return t.toString();if(o=t.c[0],a=t.e,null==e)c=b(t.c),c=19==n||24==n&&a<=G?_(c,a):A(c,a);else if(i=(t=rt(new $(t),e,r)).e,s=(c=b(t.c)).length,19==n||24==n&&(e<=i||i<=G)){for(;s<e;c+="0",s++);c=_(c,i)}else if(e-=a,c=A(c,i),i+1>s){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=i-s)>0)for(i+1==s&&(c+=".");e--;c+="0");return t.s<0&&o?"-"+c:c}function Q(t,e){var r,n,o=0;for(x(t[0])&&(t=t[0]),r=new $(t[0]);++o<t.length;){if(!(n=new $(t[o])).s){r=n;break}e.call(r,n)&&(r=n)}return r}function Z(t,e,r,n,o){return(t<e||t>r||t!=T(t))&&et(n,(o||"decimal places")+(t<e||t>r?" out of range":" not an integer"),t),!0}function tt(t,e,r){for(var n=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,n++);return(r=n+r*p-1)>H?t.c=t.e=null:r<U?t.c=[t.e=0]:(t.e=r,t.c=e),t}function et(t,e,r){var n=Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][t]+"() "+e+": "+r);throw n.name="BigNumber Error",D=0,n}function rt(t,e,r,n){var o,i,c,u,l,f,d,v=t.c,m=y;if(v){t:{for(o=1,u=v[0];u>=10;u/=10,o++);if((i=e-o)<0)i+=p,c=e,d=(l=v[f=0])/m[o-c-1]%10|0;else if((f=a((i+1)/p))>=v.length){if(!n)break t;for(;v.length<=f;v.push(0));l=d=0,o=1,c=(i%=p)-p+1}else{for(l=u=v[f],o=1;u>=10;u/=10,o++);d=(c=(i%=p)-p+o)<0?0:l/m[o-c-1]%10|0}if(n=n||e<0||null!=v[f+1]||(c<0?l:l%m[o-c-1]),n=r<4?(d||n)&&(0==r||r==(t.s<0?3:2)):d>5||5==d&&(4==r||n||6==r&&(i>0?c>0?l/m[o-c]:0:v[f-1])%10&1||r==(t.s<0?8:7)),e<1||!v[0])return v.length=0,n?(e-=t.e+1,v[0]=m[(p-e%p)%p],t.e=-e||0):v[0]=t.e=0,t;if(0==i?(v.length=f,u=1,f--):(v.length=f+1,u=m[p-i],v[f]=c>0?s(l/m[o-c]%m[c])*u:0),n)for(;;){if(0==f){for(i=1,c=v[0];c>=10;c/=10,i++);for(c=v[0]+=u,u=1;c>=10;c/=10,u++);i!=u&&(t.e++,v[0]==h&&(v[0]=1));break}if(v[f]+=u,v[f]!=h)break;v[f--]=0,u=1}for(i=v.length;0===v[--i];v.pop());}t.e>H?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}return $.another=t,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=function(){var t,e,n=0,o={},i=arguments,a=i[0],s=a&&"object"==typeof a?function(){if(a.hasOwnProperty(e))return null!=(t=a[e])}:function(){if(i.length>n)return null!=(t=i[n++])};return s(e="DECIMAL_PLACES")&&V(t,0,m,2,e)&&(F=0|t),o[e]=F,s(e="ROUNDING_MODE")&&V(t,0,8,2,e)&&(B=0|t),o[e]=B,s(e="EXPONENTIAL_AT")&&(x(t)?V(t[0],-m,0,2,e)&&V(t[1],0,m,2,e)&&(G=0|t[0],M=0|t[1]):V(t,-m,m,2,e)&&(G=-(M=0|(t<0?-t:t)))),o[e]=[G,M],s(e="RANGE")&&(x(t)?V(t[0],-m,-1,2,e)&&V(t[1],1,m,2,e)&&(U=0|t[0],H=0|t[1]):V(t,-m,m,2,e)&&(0|t?U=-(H=0|(t<0?-t:t)):q&&et(2,e+" cannot be zero",t))),o[e]=[U,H],s(e="ERRORS")&&(t===!!t||1===t||0===t?(D=0,V=(q=!!t)?Z:E):q&&et(2,e+c,t)),o[e]=q,s(e="CRYPTO")&&(t===!!t||1===t||0===t?(K=!(!t||!r),t&&!K&&q&&et(2,"crypto unavailable",r)):q&&et(2,e+c,t)),o[e]=K,s(e="MODULO_MODE")&&V(t,0,9,2,e)&&(Y=0|t),o[e]=Y,s(e="POW_PRECISION")&&V(t,0,m,2,e)&&(W=0|t),o[e]=W,s(e="FORMAT")&&("object"==typeof t?z=t:q&&et(2,e+" not an object",t)),o[e]=z,o},$.max=function(){return Q(arguments,R.lt)},$.min=function(){return Q(arguments,R.gt)},$.random=(L=9007199254740992,k=Math.random()*L&2097151?function(){return s(Math.random()*L)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,o,i,c,u=0,l=[],f=new $(j);if(t=null!=t&&V(t,0,m,14)?0|t:F,i=a(t/p),K)if(r&&r.getRandomValues){for(e=r.getRandomValues(new Uint32Array(i*=2));u<i;)(c=131072*e[u]+(e[u+1]>>>11))>=9e15?(n=r.getRandomValues(new Uint32Array(2)),e[u]=n[0],e[u+1]=n[1]):(l.push(c%1e14),u+=2);u=i/2}else if(r&&r.randomBytes){for(e=r.randomBytes(i*=7);u<i;)(c=281474976710656*(31&e[u])+1099511627776*e[u+1]+4294967296*e[u+2]+16777216*e[u+3]+(e[u+4]<<16)+(e[u+5]<<8)+e[u+6])>=9e15?r.randomBytes(7).copy(e,u):(l.push(c%1e14),u+=7);u=i/7}else q&&et(14,"crypto unavailable",r);if(!u)for(;u<i;)(c=k())<9e15&&(l[u++]=c%1e14);for(i=l[--u],t%=p,i&&t&&(c=y[p-t],l[u]=s(i/c)*c);0===l[u];l.pop(),u--);if(u<0)l=[o=0];else{for(o=-1;0===l[0];l.shift(),o-=p);for(u=1,c=l[0];c>=10;c/=10,u++);u<p&&(o-=p-u)}return f.e=o,f.c=l,f}),n=function(){function t(t,e,r){var n,o,i,a,s=0,c=t.length,u=e%v,l=e/v|0;for(t=t.slice();c--;)s=((o=u*(i=t[c]%v)+(n=l*i+(a=t[c]/v|0)*u)%v*v+s)/r|0)+(n/v|0)+l*a,t[c]=o%r;return s&&t.unshift(s),t}function e(t,e,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function r(t,e,r,n){for(var o=0;r--;)t[r]-=o,o=t[r]<e[r]?1:0,t[r]=o*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.shift());}return function(n,o,i,a,c){var u,l,f,d,y,v,m,b,w,E,x,S,_,A,T,L,k,O=n.s==o.s?1:-1,I=n.c,N=o.c;if(!(I&&I[0]&&N&&N[0]))return new $(n.s&&o.s&&(I?!N||I[0]!=N[0]:N)?I&&0==I[0]||!N?0*O:O/0:NaN);for(w=(b=new $(O)).c=[],O=i+(l=n.e-o.e)+1,c||(c=h,l=g(n.e/p)-g(o.e/p),O=O/p|0),f=0;N[f]==(I[f]||0);f++);if(N[f]>(I[f]||0)&&l--,O<0)w.push(1),d=!0;else{for(A=I.length,L=N.length,f=0,O+=2,(y=s(c/(N[0]+1)))>1&&(N=t(N,y,c),I=t(I,y,c),L=N.length,A=I.length),_=L,x=(E=I.slice(0,L)).length;x<L;E[x++]=0);(k=N.slice()).unshift(0),T=N[0],N[1]>=c/2&&T++;do{if(y=0,(u=e(N,E,L,x))<0){if(S=E[0],L!=x&&(S=S*c+(E[1]||0)),(y=s(S/T))>1)for(y>=c&&(y=c-1),m=(v=t(N,y,c)).length,x=E.length;1==e(v,E,m,x);)y--,r(v,L<m?k:N,m,c),m=v.length,u=1;else 0==y&&(u=y=1),m=(v=N.slice()).length;if(m<x&&v.unshift(0),r(E,v,x,c),x=E.length,-1==u)for(;e(N,E,L,x)<1;)y++,r(E,L<x?k:N,x,c),x=E.length}else 0===u&&(y++,E=[0]);w[f++]=y,E[0]?E[x++]=I[_]||0:(E=[I[_]],x=1)}while((_++<A||null!=E[0])&&O--);d=null!=E[0],w[0]||w.shift()}if(c==h){for(f=1,O=w[0];O>=10;O/=10,f++);rt(b,i+(b.e=f+l*p-1)+1,a,d)}else b.e=l,b.r=+d;return b}}(),O=/^(-?)0([xbo])(?=\w[\w.]*$)/i,I=/^([^.]+)\.$/,N=/^\.([^.]+)$/,P=/^-?(Infinity|NaN)$/,C=/^\s*\+(?=[\w.])|^\s+|\s+$/g,o=function(t,e,r,n){var o,i=r?e:e.replace(C,"");if(P.test(i))t.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(O,(function(t,e,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?t:e})),n&&(o=n,i=i.replace(I,"$1").replace(N,"0.$1")),e!=i))return new $(i,o);q&&et(D,"not a"+(n?" base "+n:"")+" number",e),t.s=null}t.c=t.e=null,D=0},R.absoluteValue=R.abs=function(){var t=new $(this);return t.s<0&&(t.s=1),t},R.ceil=function(){return rt(new $(this),this.e+1,2)},R.comparedTo=R.cmp=function(t,e){return D=1,w(this,new $(t,e))},R.decimalPlaces=R.dp=function(){var t,e,r=this.c;if(!r)return null;if(t=((e=r.length-1)-g(this.e/p))*p,e=r[e])for(;e%10==0;e/=10,t--);return t<0&&(t=0),t},R.dividedBy=R.div=function(t,e){return D=3,n(this,new $(t,e),F,B)},R.dividedToIntegerBy=R.divToInt=function(t,e){return D=4,n(this,new $(t,e),0,1)},R.equals=R.eq=function(t,e){return D=5,0===w(this,new $(t,e))},R.floor=function(){return rt(new $(this),this.e+1,3)},R.greaterThan=R.gt=function(t,e){return D=6,w(this,new $(t,e))>0},R.greaterThanOrEqualTo=R.gte=function(t,e){return D=7,1===(e=w(this,new $(t,e)))||0===e},R.isFinite=function(){return!!this.c},R.isInteger=R.isInt=function(){return!!this.c&&g(this.e/p)>this.c.length-2},R.isNaN=function(){return!this.s},R.isNegative=R.isNeg=function(){return this.s<0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.lessThan=R.lt=function(t,e){return D=8,w(this,new $(t,e))<0},R.lessThanOrEqualTo=R.lte=function(t,e){return D=9,-1===(e=w(this,new $(t,e)))||0===e},R.minus=R.sub=function(t,e){var r,n,o,i,a=this,s=a.s;if(D=10,e=(t=new $(t,e)).s,!s||!e)return new $(NaN);if(s!=e)return t.s=-e,a.plus(t);var c=a.e/p,u=t.e/p,l=a.c,f=t.c;if(!c||!u){if(!l||!f)return l?(t.s=-e,t):new $(f?a:NaN);if(!l[0]||!f[0])return f[0]?(t.s=-e,t):new $(l[0]?a:3==B?-0:0)}if(c=g(c),u=g(u),l=l.slice(),s=c-u){for((i=s<0)?(s=-s,o=l):(u=c,o=f),o.reverse(),e=s;e--;o.push(0));o.reverse()}else for(n=(i=(s=l.length)<(e=f.length))?s:e,s=e=0;e<n;e++)if(l[e]!=f[e]){i=l[e]<f[e];break}if(i&&(o=l,l=f,f=o,t.s=-t.s),(e=(n=f.length)-(r=l.length))>0)for(;e--;l[r++]=0);for(e=h-1;n>s;){if(l[--n]<f[n]){for(r=n;r&&!l[--r];l[r]=e);--l[r],l[n]+=h}l[n]-=f[n]}for(;0==l[0];l.shift(),--u);return l[0]?tt(t,l,u):(t.s=3==B?-1:1,t.c=[t.e=0],t)},R.modulo=R.mod=function(t,e){var r,o,i=this;return D=11,t=new $(t,e),!i.c||!t.s||t.c&&!t.c[0]?new $(NaN):!t.c||i.c&&!i.c[0]?new $(i):(9==Y?(o=t.s,t.s=1,r=n(i,t,0,3),t.s=o,r.s*=o):r=n(i,t,0,Y),i.minus(r.times(t)))},R.negated=R.neg=function(){var t=new $(this);return t.s=-t.s||null,t},R.plus=R.add=function(t,e){var r,n=this,o=n.s;if(D=12,e=(t=new $(t,e)).s,!o||!e)return new $(NaN);if(o!=e)return t.s=-e,n.minus(t);var i=n.e/p,a=t.e/p,s=n.c,c=t.c;if(!i||!a){if(!s||!c)return new $(o/0);if(!s[0]||!c[0])return c[0]?t:new $(s[0]?n:0*o)}if(i=g(i),a=g(a),s=s.slice(),o=i-a){for(o>0?(a=i,r=c):(o=-o,r=s),r.reverse();o--;r.push(0));r.reverse()}for((o=s.length)-(e=c.length)<0&&(r=c,c=s,s=r,e=o),o=0;e;)o=(s[--e]=s[e]+c[e]+o)/h|0,s[e]%=h;return o&&(s.unshift(o),++a),tt(t,s,a)},R.precision=R.sd=function(t){var e,r,n=this,o=n.c;if(null!=t&&t!==!!t&&1!==t&&0!==t&&(q&&et(13,"argument"+c,t),t!=!!t&&(t=null)),!o)return null;if(e=(r=o.length-1)*p+1,r=o[r]){for(;r%10==0;r/=10,e--);for(r=o[0];r>=10;r/=10,e++);}return t&&n.e+1>e&&(e=n.e+1),e},R.round=function(t,e){var r=new $(this);return(null==t||V(t,0,m,15))&&rt(r,~~t+this.e+1,null!=e&&V(e,0,8,15,u)?0|e:B),r},R.shift=function(t){var e=this;return V(t,-9007199254740991,d,16,"argument")?e.times("1e"+T(t)):new $(e.c&&e.c[0]&&(t<-9007199254740991||t>d)?e.s*(t<0?0:1/0):e)},R.squareRoot=R.sqrt=function(){var t,e,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=F+4,f=new $("0.5");if(1!==c||!s||!s[0])return new $(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+a))||c==1/0?(((e=b(s)).length+u)%2==0&&(e+="0"),c=Math.sqrt(e),u=g((u+1)/2)-(u<0||u%2),r=new $(e=c==1/0?"1e"+u:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new $(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=f.times(i.plus(n(a,i,l,1))),b(i.c).slice(0,c)===(e=b(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(rt(r,r.e+F+2,1),t=!r.times(r).eq(a));break}if(!o&&(rt(i,i.e+F+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return rt(r,r.e+F+1,B,t)},R.times=R.mul=function(t,e){var r,n,o,i,a,s,c,u,l,f,d,y,m,b,w,E=this,x=E.c,S=(D=17,t=new $(t,e)).c;if(!(x&&S&&x[0]&&S[0]))return!E.s||!t.s||x&&!x[0]&&!S||S&&!S[0]&&!x?t.c=t.e=t.s=null:(t.s*=E.s,x&&S?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=g(E.e/p)+g(t.e/p),t.s*=E.s,(c=x.length)<(f=S.length)&&(m=x,x=S,S=m,o=c,c=f,f=o),o=c+f,m=[];o--;m.push(0));for(b=h,w=v,o=f;--o>=0;){for(r=0,d=S[o]%w,y=S[o]/w|0,i=o+(a=c);i>o;)r=((u=d*(u=x[--a]%w)+(s=y*u+(l=x[a]/w|0)*d)%w*w+m[i]+r)/b|0)+(s/w|0)+y*l,m[i--]=u%b;m[i]=r}return r?++n:m.shift(),tt(t,m,n)},R.toDigits=function(t,e){var r=new $(this);return t=null!=t&&V(t,1,m,18,"precision")?0|t:null,e=null!=e&&V(e,0,8,18,u)?0|e:B,t?rt(r,t,e):r},R.toExponential=function(t,e){return J(this,null!=t&&V(t,0,m,19)?1+~~t:null,e,19)},R.toFixed=function(t,e){return J(this,null!=t&&V(t,0,m,20)?~~t+this.e+1:null,e,20)},R.toFormat=function(t,e){var r=J(this,null!=t&&V(t,0,m,21)?~~t+this.e+1:null,e,21);if(this.c){var n,o=r.split("."),i=+z.groupSize,a=+z.secondaryGroupSize,s=z.groupSeparator,c=o[0],u=o[1],l=this.s<0,f=l?c.slice(1):c,h=f.length;if(a&&(n=i,i=a,a=n,h-=n),i>0&&h>0){for(n=h%i||i,c=f.substr(0,n);n<h;n+=i)c+=s+f.substr(n,i);a>0&&(c+=s+f.slice(n)),l&&(c="-"+c)}r=u?c+z.decimalSeparator+((a=+z.fractionGroupSize)?u.replace(RegExp("\\d{"+a+"}\\B","g"),"$&"+z.fractionGroupSeparator):u):c}return r},R.toFraction=function(t){var e,r,o,i,a,s,c,u,l,f=q,h=this,d=h.c,v=new $(j),m=r=new $(j),g=c=new $(j);if(null!=t&&(q=!1,s=new $(t),q=f,(f=s.isInt())&&!s.lt(j)||(q&&et(22,"max denominator "+(f?"out of range":"not an integer"),t),t=!f&&s.c&&rt(s,s.e+1,1).gte(j)?s:null)),!d)return h.toString();for(l=b(d),i=v.e=l.length-h.e-1,v.c[0]=y[(a=i%p)<0?p+a:a],t=!t||s.cmp(v)>0?i>0?v:m:s,a=H,H=1/0,s=new $(l),c.c[0]=0;u=n(s,v,0,1),1!=(o=r.plus(u.times(g))).cmp(t);)r=g,g=o,m=c.plus(u.times(o=m)),c=o,v=s.minus(u.times(o=v)),s=o;return o=n(t.minus(r),g,0,1),c=c.plus(o.times(m)),r=r.plus(o.times(g)),c.s=m.s=h.s,e=n(m,g,i*=2,B).minus(h).abs().cmp(n(c,r,i,B).minus(h).abs())<1?[m.toString(),g.toString()]:[c.toString(),r.toString()],H=a,e},R.toNumber=function(){return+this},R.toPower=R.pow=function(t,e){var r,n,o,i=s(t<0?-t:+t),c=this;if(null!=e&&(D=23,e=new $(e)),!V(t,-9007199254740991,d,23,"exponent")&&(!isFinite(t)||i>d&&(t/=0)||parseFloat(t)!=t&&!(t=NaN))||0==t)return r=Math.pow(+c,t),new $(e?r%e:r);for(e?t>1&&c.gt(j)&&c.isInt()&&e.gt(j)&&e.isInt()?c=c.mod(e):(o=e,e=null):W&&(r=a(W/p+2)),n=new $(j);;){if(i%2){if(!(n=n.times(c)).c)break;r?n.c.length>r&&(n.c.length=r):e&&(n=n.mod(e))}if(!(i=s(i/2)))break;c=c.times(c),r?c.c&&c.c.length>r&&(c.c.length=r):e&&(c=c.mod(e))}return e?n:(t<0&&(n=j.div(n)),o?n.mod(o):r?rt(n,W,B):n)},R.toPrecision=function(t,e){return J(this,null!=t&&V(t,1,m,24,"precision")?0|t:null,e,24)},R.toString=function(t){var e,r=this,n=r.s,o=r.e;return null===o?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(e=b(r.c),e=null!=t&&V(t,2,64,25,"base")?X(A(e,o),0|t,10,n):o<=G||o>=M?_(e,o):A(e,o),n<0&&r.c[0]&&(e="-"+e)),e},R.truncated=R.trunc=function(){return rt(new $(this),this.e+1,1)},R.valueOf=R.toJSON=function(){var t,e=this,r=e.e;return null===r?e.toString():(t=b(e.c),t=r<=G||r>=M?_(t,r):A(t,r),e.s<0?"-"+t:t)},null!=e&&$.config(e),$}(),e.default=e.BigNumber=e,void 0===(n=e)||(t.exports=n)}()}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={id:t,loaded:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,t=[],n.O=(e,r,o,i)=>{if(!r){var a=1/0;for(l=0;l<t.length;l++){for(var[r,o,i]=t[l],s=!0,c=0;c<r.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((t=>n.O[t](r[c])))?r.splice(c--,1):(s=!1,i<a&&(a=i));if(s){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[r,o,i]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.j=471,(()=>{var t={471:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var o,i,[a,s,c]=r,u=0;if(a.some((e=>0!==t[e]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var l=c(n)}for(e&&e(r);u<a.length;u++)i=a[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(l)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var o=n.O(void 0,[76],(()=>n(8532)));o=n.O(o)})();