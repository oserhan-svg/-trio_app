var SIH;(()=>{"use strict";var __webpack_modules__={6703:(t,e,n)=>{n.r(e),n.d(e,{App:()=>H,BuyOrders:()=>U,FormatNumberWithSuffix:()=>G,ModifyHoverItemName:()=>B,SKIN_WEAR_MAP:()=>R,SellListing:()=>j,SihUserPrices:()=>D,formatNumber:()=>N,formatNumberToLocalRu:()=>J,getLocation:()=>T,getPageParams:()=>P,getPercentNumberDifference:()=>$,getPriceFromSteam:()=>O,parseNumber:()=>M});var r,i,a=n(4273),o=n(3080),s=null,c=function(t,e){l(e),d(t),p(e)},l=function(t){var e=$J("body"),n=$J('\n    <div id="sih-user-confirm-description" class="sih-user-confirm-description">\n      <div class="sih-user-confirm-description__fade"></div>\n\n      <div class="sih-modal sih-global sih-user-confirm-description-tab">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-user-confirm-description__header">\n            <div class="column gap-2">\n              <span class="text text_white fs-20 lh-28">'.concat(h(t.length),' </span>\n              <span class="text text_grey-200 fs-16 lh-24"\n                >').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.subtitle,'</span\n              >\n            </div>\n\n            <label for="skip-for-identical-name" class="row items-center gap-4">\n              <input type="checkbox" name="skip-for-identical-name" id="skip-for-identical-name" />\n              <label\n                class="fake-checkbox sih-user-confirm-description__checkbox-label"\n                for="skip-for-identical-name"\n              ></label>\n              <label for="skip-for-identical-name" class="text text_white fs-12"\n                >').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.remember_identical_text,'</label\n              >\n              <span\n                class="sih-user-confirm-description__tooltip-icon"\n                title="').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.remember_identical_tooltip,'"\n                ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                    fill="currentColor"\n                  />\n                </svg>\n              </span>\n            </label>\n          </div>\n          <div class="sih-user-confirm-description-tab__items sih-items"></div>\n        </div>\n      </div>\n    </div>\n  '));n.find(".sih-user-confirm-description__tooltip-icon").tooltip({position:{my:"center bottom",at:"center top-10"},classes:{"ui-tooltip":"sih-user-confirm-description__tooltip"}});var r=f(t);n.find(".sih-items").append(r),e.find(".sih-user-confirm-description").length?(e.find(".sih-user-confirm-description").show(),e.find(".sih-user-confirm-description-tab").show(),$J("body").css("overflow","hidden")):(e.append(n),e.find(".sih-user-confirm-description").show(),e.find(".sih-user-confirm-description-tab").show(),$J("body").css("overflow","hidden"))},d=function(t){u(t),_()},u=function(t){var e=$J("#sih-user-confirm-description");e.find(".sih-items__item").each((function(n,r){var i=$J(r);i.find(".sih-item__button").off("click").click((function(){clearTimeout(s),s=setTimeout((function(){i[0].rgItem.isSkipItemDescriptions=$J("#skip-for-identical-name").is(":checked");var n=i[0].rgItem;t.postMessage({data:n}),e.hide().remove(),$J("body").css("overflow","auto")}),500)}))}))},_=function(){var t=$J("#sih-user-confirm-description");t.on("click",".sih-user-confirm-description__fade, .sih-modal__close",(function(){t.hide().remove(),$J("body").css("overflow","auto")}))},h=function(t){var e,n;return"ru"===window.lang?t%10==1&&t%100!=11?(e=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v1,n=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v1):[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?(e=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,n=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v2):(e=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,n=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v3):(e=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,n=1===t?SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v1:SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v3),"".concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_1," ").concat(t," ").concat(e," ").concat(n," ").concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_3)},f=function(t){return t.map((function(t){var e=t.descriptions.find((function(t){return"sticker_info"===t.name})),n=e?$J(e.value):null,r=g(n),i=currencyId||1,a=o.A.getPriceFromCurrency((null==t?void 0:t.priceWithoutCommission)/100||0,i,i).text,s=o.A.getPriceFromCurrency((null==t?void 0:t.priceWithCommission)/100||0,i,i).text,c=$J('<div class="sih-items__item sih-item">\n        <div class="sih-item__left-side">\n          <div class="sih-item__image" style="border: 1px solid #'.concat(t.name_color,'">\n            <img src="https://community.fastly.steamstatic.com/economy/image/').concat(t.icon_url,'" alt="" />\n          </div>\n          <div class="sih-item__item-info">\n            <div class="sih-item__name" title="').concat(t.market_hash_name,'">\n              <span class="text text_grey-400 fs-14 bold">').concat(t.market_hash_name,'</span>\n            </div>\n            <div class="sih-item__float-info sih-floats">\n              <div class="sih-floats__spinner">&nbsp;</div>\n            </div>\n          </div>\n          <div class="sih-item__stickers sih-stickers"></div>\n        </div>\n        <div class="sih-item__right-side">\n          <div class="sih-item__price">\n            <span class="text text_white fs-14 lh-14">').concat(a,'</span>\n            <span class="text text_grey-500 fs-12 lh-16">').concat(s,'</span>\n          </div>\n          <div class="sih-item__button">').concat(SIHLang.market.resubmit_orders.relisting,"</div>\n        </div>\n      </div>"));return m(c),c.find(".sih-item__stickers").append(r),c[0].rgItem=t,c}))},m=function(t){var e=t.find(".sih-item__name");e.tooltip({position:{my:"center bottom",at:"center top-10"},classes:{"ui-tooltip":"sih-global sih-item-name__tooltip"}}).on("mouseenter",(function(t){e.not($J(this)).tooltip("close")})).on("mouseleave",(function(t,e){var n=t.target;e||(t.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(n).trigger("mouseleave",[!0])}),250))})),$J("body").on("mouseleave",".ui-tooltip",(function(t){e.tooltip(),e.tooltip("close")}))},p=function(t){var e=$J("#sih-user-confirm-description .sih-items .sih-items__item");t.forEach((function(t,n){var r,i,a=null==t||null===(r=t.actions)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.link.replace("%assetid%",t.assetid).replace("%owner_steamid%",g_steamID);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_WEAR_VALUE",data:{link:a}},(function(t){var r=$J(e[n]).find(".sih-floats");if(t&&t.success){var i=$J('\n          <div class="sih-floats__item">\n            <div class="row justify-between">\n              <span class="text text_grey-500 fs-12 lh-16 semi-bold">'.concat(SIHLang.sihCases.wear,'</span>\n              <span class="text text_grey-500 fs-12 lh-16 semi-bold">').concat(t.iteminfo.floatvalue,'</span>\n            </div>\n            <div class="sih-floats__float-bar">\n              <div class="sih-floats__float-indicator"></div>\n            </div>\n          </div>\n        '));i.find(".sih-floats__float-indicator").css("left","".concat(271*t.iteminfo.floatvalue-9,"px")),r.find(".sih-floats__spinner").remove(),r.append(i)}else r.find(".sih-floats__spinner").remove()}))}))},g=function(t){var e=[];if(!t)return e;t.find("br").remove();var n=t.find("img"),r=t.find("center").text().split(":");if(2!==r.length)return e;r[0].trim();var i=v(n,r[1]);return n.length===i.length&&(e=i.map((function(t,e){var r=$J('\n        <div class="sih-stickers__item" title="'.concat(t,'">\n          <div class="sih-stickers__image">').concat(n[e].outerHTML,"</div>\n        </div>\n      ")),i=r.find(".sih-stickers__image img");return i.tooltip({position:{my:"center top",at:"center bottom+10"},classes:{"ui-tooltip":"sih-global sih-stickers__tooltip"}}).on("mouseenter",(function(t){i.not($J(this)).tooltip("close")})).on("mouseleave",(function(t,e){var n=t.target;e||(t.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(n).trigger("mouseleave",[!0])}),250))})),$J("body").on("mouseleave",".ui-tooltip",(function(t){r.tooltip(),r.tooltip("close")})),r}))),e},v=function(t,e){if(t.length!=e.split(",").length){e=e.split(",");for(var n=[],r=0;r<e.length;r++)if(e[r].includes("(")&&!e[r].includes(")")){var i="".concat(e[r]+","+e[r+1]);n.push(i),e.splice([r+1],1)}else n.push(e[r]);return n}return e.split(",")};function y(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */y=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new O(r||[]);return i(o,"_invoke",{value:L(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function b(){}var w={};l(w,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(P([])));S&&S!==n&&r.call(S,o)&&(w=S);var x=b.prototype=g.prototype=Object.create(w);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==C(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function L(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(C(e)+" is not iterable")}return v.prototype=b,i(x,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(I.prototype),l(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(x),l(x,c,"Generator"),l(x,o,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function b(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){b(a,r,i,o,s,"next",t)}function s(t){b(a,r,i,o,s,"throw",t)}o(void 0)}))}}function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function x(t,e,n){return(e=E(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E(r.key),r)}}function L(t,e,n){return e&&I(t.prototype,e),n&&I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C(e)?e:e+""}var R=new Map([["fn","Factory New"],["mw","Minimal Wear"],["ft","Field-Tested"],["ww","Well-Worn"],["bs","Battle-Scarred"]]);function T(t){var e=(t=decodeURIComponent(t)).match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return e&&{href:t,protocol:e[1],host:e[2],hostname:e[3],port:e[4],pathname:e[5],search:e[6],hash:e[7]}}function O(t){return new Promise((function(e){Object.keys(t).length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICE_FROM_STEAM",data:t},e):e()}))}function P(t){var e=T(t=t||window.location.href);if(e.pathname.indexOf("market/listings/")>-1){var n=e.pathname.split("/");return{appId:n[3],marketHashName:n[4]+e.hash,location:e}}return{}}function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=".";return(t=t.replace(/[^0-9.,]/g,"")).indexOf(",")>t.indexOf(".")&&(e=","),(t.match(new RegExp("\\"+e,"g"))||[]).length>1&&(e=""),""!==e&&t.length-t.indexOf(e)-1==3&&0!==t.indexOf("0"+e)&&(e=""),t=(t=t.replace(new RegExp("[^0-9"+e+"]","g"),"")).replace(",","."),parseFloat(t)}var H={getManifest:function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"GET_MANIFEST_APP",data:{}},t)})).then((function(t){return t.data}))}};function N(t){return(+t.toFixed(2)).toLocaleString("ru").replace(",",".")}function J(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=o.A.getPriceFromCurrency(t,e,n,r,i),s=a.price,c=a.symbolPosition,l=a.symbol;return s>1e5&&(s=Math.ceil(s)),2!==i&&s>.03&&(i=2),"".concat("before"===c?l:""," ").concat((+s.toFixed(i)).toLocaleString("ru").replace(",",".")," ").concat("after"===c?l:"")}function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Math.round(100*(1-t/e)*100)/100*n}var B=function(t){var e=t.item;$J(".item-hover-name-tooltip").remove(),e.prop("title",SIHLang.market.blockBestOfferOfMarketplaceCopyItemName),e.css({display:"inline-block",cursor:"pointer"}),e.tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}),e.off("click").click((function(){var e=$J(this);$J(".name-tooltip").css("opacity",".3").animate({opacity:"1"},"fast"),navigator.clipboard.writeText(t.marketHashName).then((function(){e.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopiedItemName})})).catch((function(t){console.error("Error in copying text: ",t)}))})),e.mouseout((function(){e.tooltip("close"),e.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopyItemName})}))},G=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=o.A.getPriceFromCurrency(t,e,n,i),s=a.price,c=a.symbol,l=a.symbolPosition,d=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].findLast((function(t){return s>=t.value})),u=d?(s/d.value).toFixed(r).replace(/\.0+$|(?<=\.[0-9]*[1-9])0+$/,"").concat(d.symbol):Math.ceil(100*s)/100;return{price:u,text:"before"===l?"".concat(c," ").concat(u):"".concat(u," ").concat(c),symbol:c,symbolPosition:l}},D=function(){return L((function t(){A(this,t)}),null,[{key:"sendItemData",value:function(t,e,n,r,i,a){try{var o,s,c=JSON.parse(JSON.stringify(t)),l=JSON.parse(JSON.stringify(c.buy_order_graph)),d=JSON.parse(JSON.stringify(c.sell_order_graph));if(!e||5!==r)return!1;if(!g_steamID)return!1;if(0===d.length)return;d.length>5?d.length=5:d.length,l.length>1?l.length=1:l.length;for(var u=[],_=d.length-1;_>=0;_--){var h=d[_][0],f=0!==_?d[_][1]-d[_-1][1]:d[_][1];u.unshift({price:h,count:f})}var m=null==l||null===(o=l[0])||void 0===o?void 0:o[0],p=null==l||null===(s=l[0])||void 0===s?void 0:s[1],g={app_id:e,hash_name:n,prices:u,steamid:g_steamID};if(l.length){var v={price:m,count:p};Object.assign(g,{buy_price:v})}if(i&&Object.keys(i).length&&Object.assign(g,{steamSoldData:i}),a){var y,b;"russian"===a?(y=Number($J.parseHTML(c.buy_order_summary)[1].innerHTML),b=Number($J.parseHTML(c.sell_order_summary)[1].innerHTML)):["koreana","japanese","turkish"].includes(a)?(y=Number($J(c.buy_order_summary)[2].innerHTML),b=Number($J(c.sell_order_summary)[2].innerHTML)):(y=Number($J(c.buy_order_summary)[0].innerHTML),b=Number($J(c.sell_order_summary)[0].innerHTML)),g.orders={buy:y,sell:b}}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_USER_STEAM_PRICE",data:g})}catch(t){}}}])}(),j=L((function t(){A(this,t)}));r=j,x(j,"SELL_LISTING",{}),x(j,"setItem",(function(t){if(t){var e={sessionid:g_sessionID,steamid:g_steamID,steamLang:g_strLanguage||"english"},n="".concat(t.appid,"/").concat(t.contextid),i="".concat(t.market_hash_name,"/").concat(t.price);if(Object.keys(r.SELL_LISTING).length){var a=r.SELL_LISTING.data.findIndex((function(t){return Object.keys(t)[0]===n}));if(a>=0)if(r.SELL_LISTING.data[a][n].length){var o=r.SELL_LISTING.data[a][n].findIndex((function(t){return Object.keys(t)[0]===i}));if(o<0)r.SELL_LISTING.data[a][n].push(x({},i,[t]));else r.SELL_LISTING.data[a][n][o][i].findIndex((function(e){return e.assetid===t.assetid}))<0&&r.SELL_LISTING.data[a][n][o][i].push(t)}else r.SELL_LISTING.data[a][n].push(x({},i,[t]));else r.SELL_LISTING.data.push(x({},n,[x({},i,[t])]))}else r.SELL_LISTING={data:[x({},n,[x({},i,[t])])],userInfo:e}}})),x(j,"removeItem",(function(t){t&&r.SELL_LISTING&&r.SELL_LISTING.data&&r.SELL_LISTING.data.length&&r.SELL_LISTING.data.forEach((function(e,n){for(var i=function(){var e=k(o[a],2),i=e[0];e[1].forEach((function(e,a){for(var o=0,s=Object.entries(e);o<s.length;o++){var c=k(s[o],2),l=c[0],d=c[1].findIndex((function(e){return e.assetid===t}));d>=0&&(r.SELL_LISTING.data[n][i][a][l].splice(d,1),r.SELL_LISTING.data[n][i][a][l].length||(r.SELL_LISTING.data[n][i].splice(a,1),r.SELL_LISTING.data[n][i].length||r.SELL_LISTING.data.splice(n,1)))}}))},a=0,o=Object.entries(e);a<o.length;a++)i()}))})),x(j,"resellItems",(function(){var t=chrome.runtime.connect(SIHID,{name:"STEAM_RESUBMIT_ITEMS_CONNECTION"});return t.onMessage.addListener(function(){var e=w(y().mark((function e(n){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESELL_ITEMS",data:r.SELL_LISTING},(function(e){t()}))}))}));var U=L((function t(){A(this,t)}));i=U,x(U,"BUY_ORDERS",[]),x(U,"setItem",(function(t){t&&(i.BUY_ORDERS.length?-1===i.BUY_ORDERS.findIndex((function(e){return e.payload.buy_orderid===t.payload.buy_orderid}))&&i.BUY_ORDERS.push(t):i.BUY_ORDERS.push(t))})),x(U,"removeItem",(function(t){if(t&&i.BUY_ORDERS.length){var e=i.BUY_ORDERS.findIndex((function(e){return e.payload.buy_orderid===t}));-1!==e&&i.BUY_ORDERS.splice(e,1)}})),x(U,"createBuyOrders",(function(){return chrome.runtime.connect(SIHID,{name:"STEAM_BUY_ORDERS_CONNECTION"}).onMessage.addListener(function(){var t=w(y().mark((function t(e){var n;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!=e&&e.error&&(n={status:"warning",text:e.error},(0,a.W)(n,5e3,(function(){})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESUBMIT_BUY_ORDER",data:i.BUY_ORDERS},(function(e){t()}))}))}))},7123:(t,e,n)=>{n.d(e,{A:()=>k});var r=n(3521);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function _(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=_;var f="suspendedStart",m="suspendedYield",p="executing",g="completed",v={};function y(){}function b(){}function w(){}var k={};u(k,c,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(P([])));C&&C!==n&&r.call(C,c)&&(k=C);var x=w.prototype=y.prototype=Object.create(k);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(a,o,s,c){var l=h(t[a],t,o);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==i(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(u).then((function(t){d.value=t,s(d)}),(function(t){return n("throw",t,s,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function L(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?g:m,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(i(e)+" is not iterable")}return b.prototype=w,o(x,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,d,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(I.prototype),u(I.prototype,l,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(_(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(x),u(x,d,"Generator"),u(x,c,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){c(a,r,i,o,s,"next",t)}function s(t){c(a,r,i,o,s,"throw",t)}o(void 0)}))}}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function u(t,e,n){return e=h(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_()?Reflect.construct(e,n||[],h(t).constructor):e.apply(t,n))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function m(t,e,n){return(e=p(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function g(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function v(t,e){return t.get(function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}(t,e))}var y=new WeakMap,b=new WeakMap,w=new WeakMap;const k=new(function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),g(t=u(this,e),y,"case-open-feat"),g(t,b,"button"),g(t,w,"click"),m(t,"set",function(){var e=l(a().mark((function e(n){var r,i,o,c,d,u,_,h,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.group,i=n.target,o=n.targetType,c=n.action,d=n.properties,u=n.lang,_=n.country,h=n.uid,f=n.steamId,e.abrupt("return",new Promise(function(){var e=l(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=chrome.runtime,e.t1=SIHID,e.t2=s,e.t3=s({group:r||t.group,target:i,targetType:o||t.targetType,action:c||t.action},d),e.t4={},e.t5=u||t.lang,e.t6=_||t.country,!h){e.next=11;break}e.t7=h,e.next=14;break;case 11:return e.next=13,t.parseUid();case 13:e.t7=e.sent;case 14:e.t8=e.t7,e.t9=f||t.steamId,e.t10={lang:e.t5,country:e.t6,uid:e.t8,steamId:e.t9},e.t11=(0,e.t2)(e.t3,e.t4,e.t10),e.t12={type:"BACKGROUND_SET_EVENT_REGISTRATION_V2",data:e.t11},e.t13=function(t){n(t)},e.t0.sendMessage.call(e.t0,e.t1,e.t12,e.t13);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.group=v(y,t),t.targetType=v(b,t),t.action=v(w,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,r&&d(n.prototype,r),i&&d(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r.A))},3521:(t,e,n)=>{n.d(e,{A:()=>v});var r=n(9118);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function _(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=_;var f="suspendedStart",m="suspendedYield",p="executing",g="completed",v={};function y(){}function b(){}function w(){}var k={};u(k,c,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(P([])));C&&C!==n&&r.call(C,c)&&(k=C);var x=w.prototype=y.prototype=Object.create(k);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(a,o,s,c){var l=h(t[a],t,o);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==i(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(u).then((function(t){d.value=t,s(d)}),(function(t){return n("throw",t,s,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function L(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?g:m,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(i(e)+" is not iterable")}return b.prototype=w,o(x,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,d,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(I.prototype),u(I.prototype,l,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(_(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(x),u(x,d,"Generator"),u(x,c,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function o(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,c,"next",t)}function c(t){o(a,r,i,s,c,"throw",t)}s(void 0)}))}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function l(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t,e,n){return(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function _(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function h(t,e){return t.get(function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}(t,e))}var f=new WeakMap,m=new WeakMap,p=new WeakMap,g=new WeakMap;const v=l((function t(){var e,n,i,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,f,"n/a"),_(this,m,"n/a"),_(this,p,"n/a"),_(this,g,"n/a"),d(this,"parseUserInfo",(function(){var t=("function"==typeof $J?$J:$)("#application_config");if(t.length){var e,n,r,i,a,s=t.attr("data-config"),c=t.attr("data-userinfo");return{lang:s?null===(e=JSON.parse(s))||void 0===e||null===(n=e.LANGUAGE)||void 0===n?void 0:n.toLowerCase():h(f,o),country:s?null===(r=JSON.parse(s))||void 0===r||null===(i=r.COUNTRY)||void 0===i?void 0:i.toLowerCase():h(m,o),steamId:c?null===(a=JSON.parse(c))||void 0===a?void 0:a.steamid:h(g,o)}}return{lang:"en",country:"us",steamId:null}})),d(this,"parseUid",s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=s(a().mark((function t(e){var n,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.M.getSync("sih_token");case 2:n=t.sent,i=n.sih_token,e(i||h(p,o));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))));var c=this.parseUserInfo();this.lang=null!==(e=window)&&void 0!==e&&e.g_strLanguage?g_strLanguage.toLowerCase():null!=c&&c.lang?null==c?void 0:c.lang:h(f,this),this.country=null!==(n=window)&&void 0!==n&&n.g_strCountryCode?g_strCountryCode.toLowerCase():null!=c&&c.country?null==c?void 0:c.country:h(m,this),this.steamId=null!==(i=window)&&void 0!==i&&i.g_steamID?g_steamID:null!=c&&c.steamId?c.steamId:h(g,this)}))},4273:(t,e,n)=>{n.d(e,{W:()=>r});var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(t.status&&t.text){var r=$J("body"),a=$J(' <div id="sih-notification-popup" class="sih-global sih-notification-popup"></div> '),o=r.find("#sih-notification-popup"),s=o.find(".sih-notification-popup__content").length+1;switch(t.status.toLowerCase()){case"success":var c=$J('\n        <div class="sih-notification-popup__content '.concat(t.status,'" data-id="').concat(s,'">\n          <div class="icon">\n            <img src="chrome-extension://').concat(SIHID,'/assets/notificationPopup/success_icon.svg" alt="" />\n          </div>\n          <span class="text">').concat(i(t.text),"</span>\n        </div>\n      "));o.length?o.append(c):a.append(c),setTimeout((function(){c.fadeOut(300,(function(){c.remove(),n()}))}),e*s);break;case"error":var l=$J('\n        <div class="sih-notification-popup__content '.concat(t.status,'" data-id="').concat(s,'">\n          <span class="text">').concat(SIHLang.notification_popup.error,": ").concat(i(t.text),"</span>\n        </div>\n      "));o.length?o.append(l):a.append(l),setTimeout((function(){l.fadeOut(300,(function(){l.remove(),n()}))}),e*s);break;case"steam error":var d=$J('\n        <div class="sih-notification-popup__content '.concat(t.status,'" data-id="').concat(s,'">\n          <span class="text"\n            >').concat(SIHLang.notification_popup["".concat(t.status.toLowerCase())],":\n            ").concat(i(t.text),"</span\n          >\n        </div>\n      "));o.length?o.append(d):a.append(d),setTimeout((function(){d.fadeOut(300,(function(){d.remove(),n()}))}),e*s);break;case"refill-error":var u=$J('\n        <div class="sih-notification-popup__content error" data-id="'.concat(s,'">\n          <span class="text">Ошибка оплаты: ').concat(t.text,"</span>\n        </div>\n      "));o.length?o.append(u):a.append(u),setTimeout((function(){u.fadeOut(300,(function(){u.remove(),n()}))}),e*s);break;case"warning":var _=$J('\n        <div class="sih-notification-popup__content '.concat(t.status,'" data-id="').concat(s,'">\n          <span class="text">').concat(SIHLang.notification_popup.warning,": ").concat(i(t.text),"</span>\n        </div>\n      "));o.length?o.append(_):a.append(_),setTimeout((function(){_.fadeOut(300,(function(){_.remove(),n()}))}),e*s)}if(o.length)o.fadeIn(300,(function(){}));else r.append(a),r.find("#sih-notification-popup").fadeIn(300,(function(){}))}},i=function(t){if("string"!=typeof t)return t;switch(t.toLowerCase()){case"rate limit exceeded":return SIHLang.notification_popup.errors.rate_limit_exceeded;case"need confirmation":return SIHLang.notification_popup.warnings.need_confirmation;default:return t}}},3080:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function a(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function s(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function c(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}n.d(e,{A:()=>_});var l=new WeakSet;function d(t){var e=t.match(/(?:AED|ARS\$|A\$|R\$|Br|CDN\$|CHF|CLP\$|¥|COL\$|₡|€|£|HK\$|Rp|₪|₹|¥|₩|KD|₸|Mex\$|RM|kr|원|NZ\$|S\/\.|P|zł|QR|刀币|₽|SR|S\$|฿|TL|NT\$|₴|\$|\$U|₫|R)/);return e?e[0]:""}function u(t){var e=this;return Object.keys(this.g_rgCurrencyData).find((function(n){return e.g_rgCurrencyData[n].strSymbol===t}))||""}const _=new(function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l),a(this,"getPriceFromCurrency",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o=e.getCurrency(+n),s=e.getCurrency(+r),c=i?ExchangeSteamRates[o.strCode]:ExchangeRates._rates[o.strCode],l=i?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode];return"USD"===s.strCode&&t?"USD"!=o.strCode&&(t*=c)<.03&&2===a&&(t=.03):s.strCode!=o.strCode&&t&&(t=t/l*c)<.03&&2===a&&(t=.03),2!==a&&t>.03&&(a=2),{price:t||0,code:o.strCode,symbol:o.strSymbol,text:"".concat(o.bSymbolIsPrefix?"".concat(o.strSymbol).concat(o.strSymbolAndNumberSeparator):"").concat(t?t.toFixed(a):0).concat(o.bSymbolIsPrefix?"":"".concat(o.strSymbolAndNumberSeparator).concat(o.strSymbol)),template:"".concat(o.bSymbolIsPrefix?"".concat(o.strSymbol).concat(o.strSymbolAndNumberSeparator):"","$price").concat(o.bSymbolIsPrefix?"":"".concat(o.strSymbolAndNumberSeparator).concat(o.strSymbol)),symbolPosition:o.bSymbolIsPrefix?"before":"after"}})),a(this,"getCurrency",(function(t){var n=null;for(var r in t=t||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1,e.g_rgCurrencyData)if(e.g_rgCurrencyData[r].eCurrencyCode===+t){n=e.g_rgCurrencyData[r];break}return n})),a(this,"getCurrencyCodeSteam",(function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1})),a(this,"g_rgCurrencyData",{USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"US",countryCodeAlpha3:"USA"},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"GB",countryCodeAlpha3:"GBR"},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"DE",countryCodeAlpha3:"DEU"},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CH",countryCodeAlpha3:"CHE"},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"RU",countryCodeAlpha3:"RUS"},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"BR",countryCodeAlpha3:"BRA"},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"JP",countryCodeAlpha3:"JPN"},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"NO",countryCodeAlpha3:"NOR"},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"ID",countryCodeAlpha3:"IDN"},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"MY",countryCodeAlpha3:"MYS"},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PH",countryCodeAlpha3:"PHL"},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"SG",countryCodeAlpha3:"SGP"},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"TH",countryCodeAlpha3:"THA"},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"VN",countryCodeAlpha3:"VNM"},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"KR",countryCodeAlpha3:"KOR"},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"TR",countryCodeAlpha3:"TUR"},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"UA",countryCodeAlpha3:"UKR"},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"MX",countryCodeAlpha3:"MEX"},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CA",countryCodeAlpha3:"CAN"},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AU",countryCodeAlpha3:"AUS"},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"NZ",countryCodeAlpha3:"NZL"},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PL",countryCodeAlpha3:"POL"},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CN",countryCodeAlpha3:"CHN"},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"IN",countryCodeAlpha3:"IND"},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CL",countryCodeAlpha3:"CHL"},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PE",countryCodeAlpha3:"PER"},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CO",countryCodeAlpha3:"COL"},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"ZA",countryCodeAlpha3:"ZAF"},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"HK",countryCodeAlpha3:"HKG"},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"TW",countryCodeAlpha3:"TWN"},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"SA",countryCodeAlpha3:"SAU"},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AE",countryCodeAlpha3:"ARE"},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AR",countryCodeAlpha3:"ARG"},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"IL",countryCodeAlpha3:"ISR"},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"BY",countryCodeAlpha3:"BLR"},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"KZ",countryCodeAlpha3:"KAZ"},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"KW",countryCodeAlpha3:"KWT"},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"QA",countryCodeAlpha3:"QAT"},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"CR",countryCodeAlpha3:"CRI"},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"UY",countryCodeAlpha3:"URY"}})},e=[{key:"getCurrencyIdByCode",value:function(t){var e;return(null===(e=this.g_rgCurrencyData[t])||void 0===e?void 0:e.eCurrencyCode)||null}},{key:"parsePrice",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=c(l,this,d).call(this,t.replace("руб","₽")),r=c(l,this,u).call(this,n),i=this.g_rgCurrencyData[r],a=i.eCurrencyCode,o=e?i.strThousandsSeparator:1111..toLocaleString().replace(/1/g,""),s=e?i.strDecimalSymbol:1.1.toLocaleString().replace(/1/g,""),_=(o?t.replace(new RegExp("\\"+o,"g"),""):t).replace(new RegExp("\\"+s),".").match(new RegExp(/\d+[0-9,.]?\d*/g)),h=_&&_[0]&&(parseFloat(_[0])||0===parseFloat(_[0]))||NaN;return isNaN(h)?null:{value:h,currencyCode:r,currencySign:n,currencyNumber:a}}}],e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}())},7752:(t,e,n)=>{n.d(e,{A:()=>y});var r,i=n(1029),a=n(6703),o=n(3450),s=n(7123),c=n(8440);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function d(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,o=Object.create(a.prototype),s=new O(r||[]);return i(o,"_invoke",{value:L(t,n,s)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",m="suspendedYield",p="executing",g="completed",v={};function y(){}function b(){}function w(){}var k={};d(k,o,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(P([])));C&&C!==n&&r.call(C,o)&&(k=C);var x=w.prototype=y.prototype=Object.create(k);function A(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(i,a,o,s){var c=h(t[i],t,a);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==l(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(u).then((function(t){d.value=t,o(d)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function L(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?g:m,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(l(e)+" is not iterable")}return b.prototype=w,i(x,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,d(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(I.prototype),d(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(x),d(x,c,"Generator"),d(x,o,(function(){return this})),d(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function h(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){h(a,r,i,o,s,"next",t)}function s(t){h(a,r,i,o,s,"throw",t)}o(void 0)}))}}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function p(t,e,n){return(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var v=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"getLink",(function(e,n,r,i,a){return t._getLink(e,n,r,i,a)})),p(this,"getPriceMarket",(function(t){var e=o.E1.get(),n=!1,r=0,i=0,a=0,s=0,c=0,l=0;return t.data&&(a=t.data.price||0,s=t.data.count||0,t.data.locked&&(c=t.data.locked.price||0,l=t.data.locked.count||t.data.locked.locked||0)),e.isPriceLotsTradeLock?("A"===t.group&&(r=a,i=s),"B"===t.group&&(a?a>c&&c?(r=c,n=!0,i=l):(r=a,i=s):(r=c,i=l,n=!0)),"C"===t.group&&(r=c,i=l,n=!0)):"A"!==t.group&&"B"!==t.group||(r=a,i=s),{price:r,isLock:n,count:i}})),p(this,"makeNewData",(function(){t._statusLoadMarkers=t._statusLoadMarkersEnum.NO_LOADING})),p(this,"loadMarkets",f(_().mark((function e(){var n,r,i,o,s,c,l=arguments;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>0&&void 0!==l[0]?l[0]:null,r=l.length>1&&void 0!==l[1]?l[1]:null,l.length>2&&void 0!==l[2]&&l[2]&&(t._statusLoadMarkers=t._statusLoadMarkersEnum.NO_LOADING),t._statusLoadMarkers===t._statusLoadMarkersEnum.NO_LOADING){e.next=6;break}return e.abrupt("return");case 6:if(t._statusLoadMarkers=t._statusLoadMarkersEnum.LOADING,(i=null===n&&null===r?(0,a.getPageParams)():{appId:n,marketHashName:r}).marketHashName=decodeURIComponent(i.marketHashName),i){e.next=11;break}return e.abrupt("return");case 11:return t._marketplace||(t._marketplace={}),o=n&&r,e.next=15,t._getMarkets(i.appId,i.marketHashName,o);case 15:s=e.sent,c={appId:i.appId,markets:s.map((function(t){return t.name})),items:[i.marketHashName],source:"marketplace service"},chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:c},(function(e){e&&e.success&&e.items?(t._statusLoadMarkers=t._statusLoadMarkersEnum.SUCCESS,e.items&&e.items[i.marketHashName]&&e.items[i.marketHashName].csmoney&&(e.items[i.marketHashName].csmoney.csmoneyStore&&(e.items[i.marketHashName].csmoneyStore=e.items[i.marketHashName].csmoney.csmoneyStore),e.items[i.marketHashName].csmoney.csmoneyTrade&&(e.items[i.marketHashName].csmoneyTrade=e.items[i.marketHashName].csmoney.csmoneyTrade)),t._marketplace={},t._marketplace.markets=s.map((function(t){return t.data=e.items[i.marketHashName]&&e.items[i.marketHashName][t.name],t})).filter((function(t){return!(!t.data||!(t.data.price||t.data.locked&&t.data.locked.price))}))):t._statusLoadMarkers=t._statusLoadMarkersEnum.ERROR}));case 18:case"end":return e.stop()}}),e)})))),p(this,"checkLoadMarkets",(function(){var n=[t._statusLoadMarkersEnum.SUCCESS,t._statusLoadMarkersEnum.ERROR].includes(t._statusLoadMarkers);if(n){var r=o.E1.get();r.market&&e.getMarkets().filter((function(t){return t.isView})).forEach((function(t){var e=r.market[t.name];e&&(t.depositPercentage=e.depositPercentage||0,t.fixedDepositPercentage=e.fixedDepositPercentage||0)}))}return n})),p(this,"getMarkets",(function(){var e;return t._marketplace&&null!==(e=t._marketplace)&&void 0!==e&&e.markets?o.E1.get().isPriceLotsTradeLock?t._marketplace.markets:t._marketplace.markets.filter((function(t){return"A"===t.group||"B"===t.group&&(t.data||{}).price})):[]})),p(this,"getMarketLowerPrice",(function(){var n=null;if(e.checkLoadMarkets()&&t._marketplace&&Array.isArray(t._marketplace.markets)&&t._marketplace.markets.length>0){var r=o.E1.get(),i=function(t,e){return e.isServiceCommission?1+(t||0)/100:1},a=function(t,e){return e.isServiceCommission&&t||0},s=t.excludeBuyMarkets(e.getMarkets()).filter((function(t){return t.isView}));s.length>1?n=s.reduce((function(t,n){var o=e.getPriceMarket(t),s=e.getPriceMarket(n);return o.price*i(t.depositPercentage,r)+a(t.fixedDepositPercentage,r)<s.price*i(n.depositPercentage,r)+a(n.fixedDepositPercentage,r)?t:n})):1===s.length&&(n=s[0])}return n})),p(this,"getOffersCount",(function(n){return t.excludeBuyMarkets(n).reduce((function(t,n){return t+e.getPriceMarket(n).count}),0)})),p(this,"getMarketsForExternal",(function(){return t._markets.filter((function(t){return t.forExternalInjection}))})),p(this,"getAllMarkets",(function(e){return e?t._markets.filter((function(t){return t.appIds.includes(e)})):t._markets}))}return e=t,n=null,r=[{key:"_markets",get:function(){return JSON.parse(JSON.stringify(i.A.markets))}},{key:"_getMarkets",value:(c=f(_().mark((function e(n,r,i){var a,o,c,l,u,h,f;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t._markets.filter((function(t){return t.isView&&t.appIds.includes(n)})),e.next=3,t.getSubscribeAds();case 3:return c=e.sent,l=c.success,u=s.A.parseUserInfo(),h=u.country,l||(o=["RU","BY"].includes(h)?"zh-TW"!==h&&"zh-CN"!==h?o.filter((function(t){if("dmarket"!==t.name&&"igxe"!==t.name)return t.name})):o.filter((function(t){return t.name})):["ZH","CN"].includes(h)?o.filter((function(t){return t.name})):"zh-TW"!==h&&"zh-CN"!==h?o.filter((function(t){return"igxe"!==t.name})):o.filter((function(t){return t.name}))),o.forEach((function(e){e.link=t._getLink(e.name,n,r,i)})),f=t._markets.filter((function(t){return!t.isView})),(a=o).push.apply(a,d(f)),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)}))),function(t,e,n){return c.apply(this,arguments)})},{key:"_getRandomInt",value:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}},{key:"excludeBuyMarkets",value:function(t){var e=["csgocomBuy"];return t.filter((function(t){return!e.includes(t.name)}))}}],n&&m(e.prototype,n),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r,c}();r=v,p(v,"_statusLoadMarkersEnum",{NO_LOADING:"no_loading",LOADING:"loading",ERROR:"error",SUCCESS:"success"}),p(v,"_statusLoadMarkers",r._statusLoadMarkersEnum.NO_LOADING),p(v,"_marketplace",null),p(v,"_getLink",(function(t,e,n,r,i){var a="https://t.sih-db.com/".concat(i?"external-panel":"15GzoA"),o="",s="";if("csgocom"===t||"csgocomBuy"===t){switch(e){case"730":s="csgo.com";break;case"570":s="market.dota2.net";break;case"440":s="tf2.tm";break;case"252490":s="rust.tm";break;default:return}o="".concat(a,"?subid1=").concat(encodeURIComponent("?s=price&t=all&search=".concat(n,"&sd=asc")),"&subid2=").concat(s).concat(r?"-side-menu":"")}if("csmoneyStore"===t&&(o="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(n)),"&subid2=cs.moneyStore").concat(r?"-side-menu":"")),"csmoneyTrade"===t&&(o="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(n)),"&subid2=cs.moneyTrade").concat(r?"-side-menu":"")),"skinport"===t){var l=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-").replace(/^-+|-+$/g,""),d="";"570"===e?d="/dota2":"440"===e?d="/tf2":"252490"===e&&(d="/rust"),o="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(d,"/market?search=").concat(l,"&sort=price&order=asc")),"&subid2=skinport").concat(r?"-side-menu":"")}if("bitskins"===t){var u="";switch(e){case"730":u="csgo";break;case"570":u="dota2";break;case"440":u="tf2"}o="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(u,'?ref_alias=sihfree&search={"order":[{"field":"price","order":"ASC"}],"where":{"skin_name":"').concat(n,'"}}')),"&subid2=newBitskins").concat(r?"-side-menu":"")}if("bitskinsp2p"===t){var _=n.replace(/ /g,"+");o="".concat(a,"?subid1=").concat(encodeURIComponent('?search={"where":{"name":"'.concat(_,'"}}')),"&subid2=p2p-bitskins").concat(r?"-side-menu":"")}if("skinbaron"===t){n=n.replace("Souvenir Package","");var h="";"730"===e?h="/csgo":"440"===e&&(h="/tf2");var f=encodeURIComponent("".concat(h,"?str=").concat(n,"&sort=CF"));o="".concat(a,"?subid1=").concat(f,"&subid2=skinbaron").concat(r?"-side-menu":"")}if("shadowpay"===t){var m=encodeURIComponent("?search=".concat(n));o="".concat(a,"?subid1=").concat(m,"&subid2=shadowpay").concat(r?"-side-menu":"")}if("waxpeer"===t){var p=n.toLocaleLowerCase().replace(/[|()™★]/g,"").replace(/\s{2,}/g," ").trim().replace(/ /g,"-").replace(/&/g,"%26").replace(/cs:/g,"cs-"),g="";["252490"].includes(e)&&(g="rust/"),["440"].includes(e)&&(g="tf2/"),o="".concat(a,"?subid1=").concat(g).concat(p,"/item/&subid2=waxpeer").concat(r?"-side-menu":"")}if("dmarket"===t&&["570","730","252490","440"].includes(e)){var v=n.replace(/[™★]/g,""),y="";"730"===e&&(y="csgo-skins"),"570"===e&&(y="dota2-skins"),"252490"===e&&(y="rust-skins"),"440"===e&&(y="tf2-skins");var b=encodeURIComponent("/ingame-items/item-list/".concat(y,"?title=").concat(v));o="".concat(a,"?subid1=").concat(b,"&subid2=dmarket").concat(r?"-side-menu":"")}if("mannco"===t&&["440","730","570","252490"].includes(e)){var w="";if(n.indexOf("Unusual")>-1)w=encodeURIComponent("/market?e=".concat(n,"&f=ASC&appid=").concat(e));else{var k=n.replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();w="/item/".concat(e,"-").concat(k)}o="".concat(a,"?subid1=").concat(w,"&subid2=manncostore").concat(r?"-side-menu":"")}if("tradeit"===t&&["730","440","570","252490"].includes(e)){var S="";"730"===e&&(S="csgo"),"440"===e&&(S="tf2"),"570"===e&&(S="dota2"),"252490"===e&&(S="rust");var C=encodeURIComponent("/".concat(S,"/store?search=").concat(n));o="".concat(a,"?subid1=").concat(C,"&subid2=tradeit").concat(r?"-side-menu":"")}if("tradeitDeposit"===t&&["730","440","570","252490"].includes(e)){var x="";"730"===e&&(x="csgo"),"440"===e&&(x="tf2"),"570"===e&&(x="dota2"),"252490"===e&&(x="rust");var A=encodeURIComponent("/".concat(x,"/trade?search=").concat(n));o="".concat(a,"?subid1=").concat(A,"&subid2=tradeit").concat(r?"-side-menu":"")}if("cstrade"===t&&["440","570","730","252490"].includes(e)&&(o="".concat(a,"?subid1=").concat(n,"&subid2=cstrade").concat(r?"-side-menu":"")),"lootfarm"===t&&["440","570","730","252490"].includes(e)){var I=encodeURIComponent("#skin=".concat(e,"_").concat(n));o="".concat(a,"?subid1=").concat(I,"&subid2=lootfarm").concat(r?"-side-menu":"")}if("lisskins"===t&&["730","570","252490"].includes(e)){var L="";"730"===e&&(L="csgo"),"570"===e&&(L="dota2"),"252490"===e&&(L="rust");var E=encodeURIComponent("/".concat(L,"/?query=").concat(n));o="".concat(a,"?subid1=").concat(E,"&subid2=lisskins").concat(r?"-side-menu":"")}if("buff163"===t&&["730"].includes(e)){var R="";"730"===e&&(R="csgo");var T=encodeURIComponent("/market/".concat(R,"#tab=selling&page_num=1&search=").concat(n));o="".concat(a,"?subid1=").concat(T,"&subid2=buff163").concat(r?"-side-menu":"")}if("igxe"===t&&["730"].includes(e)){var O=n,P="";"730"===e&&(P="csgo");var M=encodeURIComponent("/market/".concat(P,"?keyword=").concat(O));o="".concat(a,"?subid1=").concat(M,"&subid2=igxe").concat(r?"-side-menu":"")}if("gamerpay"===t&&["730"].includes(e)){var H=encodeURIComponent("/buy?query=".concat(n));o="".concat(a,"?subid1=").concat(H,"&subid2=gamerpay").concat(r?"-side-menu":"")}if("skinsmonkey"===t&&["730"].includes(e)){var N=n,J=encodeURIComponent("appId=".concat(e,"&q=").concat(N));o="".concat(a,"?subid1=").concat(J,"&subid2=skinmonkey").concat(r?"-side-menu":"")}if("skinsmonkeycash"===t&&["730"].includes(e)){var $=n,B=encodeURIComponent("appId=".concat(e,"&q=").concat($));o="".concat(a,"?subid1=").concat(B,"&subid2=skinmonkey").concat(r?"-side-menu":"")}if("skinout"===t&&["730"].includes(e)){var G=n.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();o="".concat(a,"?subid1=").concat(G,"&subid2=skinout").concat(r?"-side-menu":"")}if("whitemarket"===t&&["730"].includes(e)){var D=n;o="".concat(a,"?subid1=").concat(D,"&subid2=whitemarket").concat(r?"-side-menu":"")}if("haloskins"===t&&["730"].includes(e)){var j=encodeURIComponent(n.replace(/&/,""));o="".concat(a,"?subid1=").concat(j,"&subid2=haloskins").concat(r?"-side-menu":"")}if("rustskins"===t&&["252490"].includes(e)){var U="".concat(n);o="".concat(a,"?subid1=").concat(U,"&subid2=rustskins").concat(r?"-side-menu":"")}if("csdeal"===t&&["730","570","440","252490"].includes(e)){var F="";"730"===e&&(F="csgo"),"440"===e&&(F="tf2"),"570"===e&&(F="dota2"),"252490"===e&&(F="rust");var K=encodeURIComponent(n.replace(/&/,"")),V="".concat(K,"&game=").concat(F);o="".concat(a,"?subid1=").concat(V,"&subid2=cs.deals").concat(r?"-side-menu":"")}if("sihmarket"===t&&["730","252490","440"].includes(e)){var Y="".concat(encodeURIComponent("".concat(n,"&sortBy=-profitPercent&appId=").concat(e)));o="".concat(a,"?subid1=").concat(Y,"&subid2=sih.app").concat(r?"-side-menu":"")}if("steamLiveSell"===t&&["730"].includes(e)){var W=encodeURIComponent("".concat(n));o="".concat(a,"?subid1=").concat(W,"&subid2=steam").concat(r?"-side-menu":"")}if("csfloat"===t&&["730"].includes(e)){var Z=encodeURIComponent("".concat(n));o="".concat(a,"?subid1=").concat(Z,"&subid2=csfloat").concat(r?"-side-menu":"")}if("avanmarket"===t&&["730","570","252490"].includes(e)){var q="";"730"===e&&(q="cs"),"570"===e&&(q="dota2"),"252490"===e&&(q="rust");var z=n.toLowerCase().replace(/stattrak™/gi,"stattraktm").replace(/\s*\|\s*/g,"-").replace(/[()]/g,"").replace(/\s+/g,"-").replace(/&/g,"%26").replace(/-+/g,"-").trim(),X="/".concat(q,"/").concat(z);o="".concat(a,"?subid1=").concat(X,"&subid2=avanmarket").concat(r?"-side-menu":"")}if("skinplace"===t&&["730"].includes(e)){var Q=c.A.getWearInfo(n),tt=c.A.getSplitName(n),et=(tt.nameWithoutWear?tt.skinTagName+" "+tt.nameWithoutWear:n).toLowerCase().replace(/\s*\|\s*/g,"-").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),nt="".concat(et,"?");null!=Q&&Q.wearFull&&(nt+="exterior=".concat(Q.wearFull.replace(/\s+/g,"+")),Q.stattrak?nt+="%26is_stattrak=1":Q.souvenir&&(nt+="%26is_souvenir=1")),o="".concat(a,"?subid1=").concat(nt,"&subid2=skinplace").concat(r?"-side-menu":"")}if("gameboost"===t&&["730"].includes(e)){var rt=encodeURIComponent("".concat(n.replace(/&/g,"%26")));o="".concat(a,"?subid1=").concat(rt,"&subid2=gameboost").concat(r?"-side-menu":"")}return i&&(o="".concat(o,"&subid3=").concat(i)),o})),p(v,"getSubscribeAds",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},(function(e){t(e)}))}))}));const y=new v},3186:(t,e,n)=>{n.d(e,{A:()=>m});var r=n(6703),i=n(3080),a=n(7752);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function _(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,o=Object.create(a.prototype),s=new O(r||[]);return i(o,"_invoke",{value:L(t,n,s)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=_;var f="suspendedStart",m="suspendedYield",p="executing",g="completed",v={};function y(){}function b(){}function w(){}var k={};u(k,s,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(P([])));C&&C!==n&&r.call(C,s)&&(k=C);var x=w.prototype=y.prototype=Object.create(k);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(i,a,s,c){var l=h(t[i],t,a);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==o(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(u).then((function(t){d.value=t,s(d)}),(function(t){return n("throw",t,s,c)}))}c(l.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function L(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?g:m,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return b.prototype=w,i(x,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,d,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(I.prototype),u(I.prototype,c,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(_(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(x),u(x,d,"Generator"),u(x,s,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function d(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function _(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var f=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,"getOrderStatusText",(function(e){return t._buyOrderStatusEnum[e]})),_(this,"loginSihApp",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_LOGIN_SIH_APP"},(function(e){t(e)}))}))})),_(this,"getLoginSihAppUser",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(n,r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},function(){var r,i=(r=l().mark((function r(i){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t||i.success&&Object.keys(i).length){r.next=6;break}return r.t0=n,r.next=4,e.loginSihApp();case 4:r.t1=r.sent,(0,r.t0)(r.t1);case 6:i.success&&Object.keys(i).length?n(i):n({success:!1});case 7:case"end":return r.stop()}}),r)})),function(){var t=this,e=arguments;return new Promise((function(n,i){var a=r.apply(t,e);function o(t){d(a,n,i,o,s,"next",t)}function s(t){d(a,n,i,o,s,"throw",t)}o(void 0)}))});return function(t){return i.apply(this,arguments)}}())}))})),_(this,"getUserSihApp",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_USER_AUTH_SIH_APP"},(function(e){t(e)}))}))})),_(this,"getSubscribeAds",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},(function(e){t(e)}))}))})),_(this,"getSubscribeAdsPlans",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP"},(function(e){t(e)}))}))})),_(this,"getDaysNumber",(function(t){var e=(new Date).toUTCString(),n=new Date("".concat(e)).getTime(),r=new Date("".concat(t)).getTime()-n,i=Math.round(r/36e5);return i>24?{days:Math.ceil((i-24)/24)}:{hours:i}})),_(this,"setItemToBuyStack",(function(n){var i=n.hashName,o=void 0===i?null:i,c=n.countAdd,l=void 0===c?1:c,d=n.statusCode,u=void 0===d?null:d,h=n.steamId,f=void 0===h?null:h,m=n.appId,p=void 0===m?"730":m,g=n.price,v=void 0===g?null:g,y=n.image,b=n.url,w=n.gameName,k=void 0===w?null:w,S=n.color,C=void 0===S?"rgb(210, 210, 210)":S,x=n.rarityColor,A=void 0===x?"default":x,I=n.itemId,L=void 0===I?null:I;return new Promise((function(n,i){var c=a.A.getMarkets().find((function(t){return"sihmarket"===t.name}));if(k||(k=t._gameNames[p]),c||v){var d=v||a.A.getPriceMarket(c);if(d&&(d.price||v)){var h=(0,r.getPageParams)(),m=o||encodeURIComponent(h.marketHashName);e.getAllItemsBuyStackByName(m).then((function(r){for(var a=e.getFilterItemsByStatus(r,u),s=[],c=l>1?l-a.length:l,_=y||$J(".market_listing_largeimage").find("img").attr("src"),g=k||$J(".market_listing_nav > a:nth(0)").text(),w=C||$J("#largeiteminfo_item_name").css("color"),S=p&&o?"".concat(p,"/").concat(o):"".concat(h.appId,"/").concat(encodeURIComponent(h.marketHashName)),x=0;x<c;x++){var I,E={appid:p||h.appId,market_hash_name:o?decodeURIComponent(o):h.marketHashName,price:v||d.price,providerName:"sih",steam_id:f||(null!==(I=window)&&void 0!==I&&I.g_steamID?window.g_steamID:sih_steamID),custom_trade_link:null,createdAt:Date.now()+x+1,image:_,url:b||window.location.href,gameName:g,hashMarket:S,color:w,isChecked:!0,rarityColor:A||"default",itemId:L||null};null!==u&&(E.status=u),s.push(E)}if(h&&encodeURIComponent(h.marketHashName)===m&&730==+Object.keys(g_rgAssets)[0]){var R=+Object.keys(g_rgAssets[730]||{})[0],T=Object.values(g_rgAssets[730][R])[0];t.getRarityColor(730,T.classid,T.instanceid).then((function(e){s.forEach((function(t){t.rarityColor=e})),t.setPreparedDataToBuyStack(m,s).then((function(t){n(t)})).catch((function(t){i(t)}))}))}else t.setPreparedDataToBuyStack(m,s).then((function(t){n(t)})).catch((function(t){i(t)}))}))}}else o&&e.getAllItemsBuyStackByName(o).then((function(t){var r=e.getFilterItemsByStatus(t,u);if(r.length){for(var a=r.map((function(t){return t.createdAt})),c=r.find((function(t){return t.createdAt===Math.max.apply(Math,s(a))})),d=l>1?l-r.length:l,h=[],f=0;f<d;f++){var m=Object.assign({},c);m.createdAt=Date.now()+f+1,h.push(m)}var p=_({},o,[].concat(s(t),h));chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:p},(function(t){t.success?n(p[o]):i(t)}))}}))}))})),_(this,"deleteItemFromBuyStack",(function(t){var n=t.hashName,r=t.argCountDelete,i=void 0===r?null:r,a=t.statusCode,o=void 0===a?null:a,s=t.itemId,c=void 0===s?null:s;return new Promise((function(t,r){e.getAllItemsBuyStackByName(n).then((function(a){var s=e.getFilterItemsByStatus(a,o),l=s.length-(null!==i?i:s.length-1);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",data:{hashName:n,statusCode:o,countDelete:l,itemId:c}},(function(i){e.getAllItemsBuyStackByName(n).then((function(e){i.success?t(e):r(i)}))}))}))}))})),_(this,"getAllBuyStack",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP"},(function(e){t(e)}))}))})),_(this,"getFilterItemsByStatus",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.filter((function(t){return Array.isArray(e)?e.length?e.includes(t.status):!t.status:e?t.status===e:!t.status}))||[]})),_(this,"updateSIHMarketPrice",(function(){return new Promise((function(t,n){e.getAllBuyStack().then((function(e){if(e.length>0){var n=[],r=[],i=[];e.forEach((function(t){t.itemId?n.push(t.itemId.toString()):r.push(t.market_hash_name)})),n.length&&i.push(new Promise((function(t,e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",data:{itemIds:n}},(function(n){n.success?t(n.data):e()}))}))),r.length&&i.push(new Promise((function(t,e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",data:{items:r}},(function(n){n.success?t(n.data):e()}))}))),Promise.all(i).then((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",data:{items:e.flat()}},(function(e){t(e)}))})).catch((function(){t()}))}else t()}))}))})),_(this,"changeItemsStatus",(function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",data:t},(function(){e()}))}))})),_(this,"cancelSihAppOrder",(function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CANCEL_ORDER_SIH_APP",data:{orderId:t}},(function(t){e(t)}))}))})),_(this,"updateItemLocalHistoryOrders",(function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",data:{orderId:t}},(function(t){e(t)}))}))})),_(this,"getUserOrdersHistory",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise((function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",data:{isLocal:t,page:e,number:n}},(function(t){r(t)}))}))})),_(this,"createBuyOrder",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP"},(function(e){t(e)}))}))})),_(this,"getTopSales",(function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_TOP_SALES",data:t},(function(t){e(t)}))}))})),_(this,"getLogs",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_LOG"},(function(e){t(e)}))}))})),_(this,"readAllNotification",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_READ_SIH_APP_LOG"},(function(e){t(e)}))}))})),_(this,"renderTextLog",(function(e){return"".concat(t._buyOrderErrorsEnum[e.error]?"".concat(t._buyOrderErrorsEnum[e.error]," <br>"):e.error||e.message||"".concat(SIHLang.sihAppMarket.orders.order," № ").concat(e.orderId," ").concat(SIHLang.sihAppMarket.orders.successful_operation," <br>")," ").concat(e.itemData?"".concat(e.itemData.market_hash_name," <br>"):""," ").concat(e.itemData?"".concat(SIHLang.sihAppMarket.orders.price,": ").concat(e.itemData.price," <br>"):"")})),_(this,"getLogTemplateByGroup",(function(t){var n;switch(t.groupType){case"bookmarks":var r=a.A.getLink(t.itemData.marketName||"buff163",t.itemData.appId||"730",t.itemData.market_hash_name,t.itemData.market_hash_name),o=i.A.getPriceFromCurrency(t.itemData.price,t.itemData.currencyId||1).text;n='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(t.title,'</span>\n            <a href="').concat(r,'" target="_blank" class="text text_blue hover-opacity-8"\n              >').concat(t.itemData.market_hash_name,'</a\n            >\n          </div>\n          <div class="row gap-5 items-end pb-2">\n            \x3c!--                    TODO: Добавить проверку на data.itemData.marketName, если его нету, то иконку не рендерить (текущая иконка для теста)--\x3e\n            <img\n              class="notification-panel__icon"\n              src="chrome-extension://').concat(SIHID,"/assets/marketplace/mini-icons/").concat(t.itemData.marketName||"buff163",'.svg"\n              alt="').concat(t.itemData.marketName||"buff163",'"\n            />\n            <span class="text text_green whitespace-nowrap">').concat(o,"</span>\n          </div>\n        ");break;case"keys_success":n='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(SIHLang.sih_keys.notification.title,'</span>\n            <span class="text ').concat(t.success?"text_green":"text_red",'">\n              ').concat(t.titles[0]," / ").concat(i.A.getPriceFromCurrency(t.amount/1e3,1).text,'\n            </span>\n          </div>\n          <div class="row gap-5 items-center pb-2">\n            <div class="key-notification-btn" data-key-info="').concat(encodeURIComponent(JSON.stringify(t)),'">\n              ').concat(SIHLang.sih_keys.show,"\n            </div>\n          </div>\n        ");break;case"keys_activation":n='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(SIHLang.sih_keys.notification.title,'</span>\n            <span class="text ').concat(t.success?"text_green":"text_red",'">\n              ').concat(t.success?SIHLang.sih_keys.activation_status.success:t.error,"\n            </span>\n          </div>\n        ");break;case"keys_error":n='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(SIHLang.sih_keys.notification.title,'</span>\n            <span class="text text_red">').concat(t.error,"</span>\n          </div>\n        ");break;default:n='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(SIHLang.notifications[t.title],'</span>\n            <span class="text ').concat(t.success?"text_green":"text_red",'">').concat(e.renderTextLog(t),"</span>\n          </div>\n        ")}return n})),_(this,"validateInput",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return isNaN(t)||t<=n?n:t>=e?Math.ceil(e):r?Math.floor(1e3*t)/1e3:Math.ceil(t)})),_(this,"getSubscribeAdsMethods",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP"},(function(e){t(e)}))}))})),_(this,"getLinkForInvoice",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise((function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_INVOICE",data:{amount:t,method:e}},(function(t){n(t)}))}))})),_(this,"updateTradeLink",(function(t){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",data:{link:t}})})),_(this,"getSihAppToken",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_TOKEN"},(function(e){t(e)}))}))})),_(this,"getAutoLoadFloats",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_AUTO_LOAD_FLOATS"},(function(e){t(e)}))}))})),_(this,"errorHandler",(function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Please, try again";r.toLowerCase().includes("invalid token or session is over")&&(t.text(SIHLang.subscribeAds.modal.reload_page),t.off("click").click((function(){window.location.reload()}))),0===n.length?e.append('<span class="sih-modal__text sih-modal__error_message">'.concat("Error! "+r,"</span>")):(n.text("".concat("Error! "+r)),n.hasClass("blink")?(n.removeClass("blink"),setTimeout((function(){n.addClass("blink")}),100)):n.addClass("blink")),t.removeClass("animated-background animated-background-btn"),e.show()})),this.getAllItemsBuyStackByName=t.getAllItemsBuyStackByName}return e=t,o=[{key:"setPreparedDataToBuyStack",value:function(e,n){var r=this;return new Promise((function(i,a){t.getAllItemsBuyStackByName(e).then((function(t){var o=_({},e,[].concat(s(t),s(n)));chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:o},(function(t){t.success?r.getAllItemsBuyStackByName(e).then((function(t){i(t)})):a(t)}))}))}))}},{key:"getRarityColor",value:function(t,e,n){return new Promise((function(r,i){$J.ajax({url:"https://steamcommunity.com/economy/itemclasshover/".concat(t,"/").concat(e,"/").concat(n,"?content_only=1&l=english"),cache:!0}).done((function(t){var e=/BuildHover\( '(.*)', (.*)\);/i.exec(t);switch(JSON.parse(e[2]).tags.find((function(t){return"Rarity"===t.category})).name.toLowerCase()){case"consumer grade":case"base grade":r("b0c3d9");break;case"mil-spec grade":case"distinguished":case"high grade":r("4b69ff");break;case"industrial grade":r("5e98d9");break;case"restricted":case"exceptional":case"remarkable":r("8847ff");break;case"classified":case"superior":case"exotic":r("d32ce6");break;case"covert":case"extraordinary":case"master":r("eb4b4b");break;case"contraband":r("e4ae39")}})).fail((function(t){i(t)}))}))}},{key:"getAllItemsBuyStackByName",value:function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",data:{hashName:t}},(function(t){e(t)}))}))}}],(n=null)&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,o}();_(f,"_buyOrderStatusEnum",{ordering:SIHLang.sihAppMarket.orders.statuses.ordering,pending:SIHLang.sihAppMarket.orders.statuses.pending,new:SIHLang.sihAppMarket.orders.statuses.new,created:SIHLang.sihAppMarket.orders.statuses.created,processing:SIHLang.sihAppMarket.orders.statuses.processing,sent:SIHLang.sihAppMarket.orders.statuses.sent,finished:SIHLang.sihAppMarket.orders.statuses.finished,failed:SIHLang.sihAppMarket.orders.statuses.failed,penalized:SIHLang.sihAppMarket.orders.statuses.penalized}),_(f,"_buyOrderErrorsEnum",{"Not enough balance":SIHLang.sihAppMarket.orders.errors.not_enough_balance,"Time for refills is up":SIHLang.sihAppMarket.orders.errors.time_refills_up,"receiver failed":SIHLang.sihAppMarket.orders.errors.receiver_failed,"max retries reached":SIHLang.sihAppMarket.orders.errors.max_retries_reached}),_(f,"_gameNames",{730:"Counter-Strike 2",252490:"Rust",440:"TF2"});const m=new f},8440:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}n.d(e,{A:()=>u});var d=s((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"getWearInfo",(function(e){var n=t._skinWear.find((function(t){return e.includes(t.wearFull)})),r=e.includes("StatTrak™"),i=e.includes("Souvenir");return n?a(a({},n),{},{name:e,stattrak:r,souvenir:i}):null})),c(this,"getSplitName",(function(t){var n=t.split("|"),r=n[0].replace(/StatTrak™/g,"").replace(/Souvenir/g,"").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g,"").trim(),i=2===n.length?n[1]:n.splice(1,n.length).join("|"),a=e.getWearInfo(t),o=a&&null!=a&&a.wearFull?i.replace("(".concat(null==a?void 0:a.wearFull,")"),"").trim():null;return{skinTagName:r,skinName:i,nameWithoutWear:o}}))}));c(d,"_skinWear",[{wearFull:"Battle-Scarred",wearShort:"BS",color:"#E05A59",priorityPosition:1},{wearFull:"Field-Tested",wearShort:"FT",color:"#E3E15B",priorityPosition:2},{wearFull:"Minimal Wear",wearShort:"MW",color:"#79D154",priorityPosition:3},{wearFull:"Well-Worn",wearShort:"WW",color:"#E9A75D",priorityPosition:4},{wearFull:"Factory New",wearShort:"FN",color:"#5EB648",priorityPosition:5}]);const u=new d},9118:(t,e,n)=>{n.d(e,{M:()=>r});var r={getSync:function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SYNC_STORAGE",data:t},(function(t){e(t)}))}))},setSync:function(t,e){return new Promise((function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_SYNC_STORAGE",data:{key:t,value:e}},(function(t){n(t)}))}))},getLocal:function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LOCAL_STORAGE",data:t},(function(t){e(t)}))}))},setLocal:function(t,e){return new Promise((function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_LOCAL_STORAGE",data:{key:t,value:e}},(function(t){n(t)}))}))}}},4056:(t,e,n)=>{n.d(e,{Fk:()=>i,zc:()=>r});var r={set:function(t,e){try{e=e||"",localStorage.setItem(t,JSON.stringify(e))}catch(t){console.error(t)}},get:function(t){try{var e=localStorage.getItem(t)||null;return JSON.parse(e)}catch(t){return console.error(t),null}}},i=function(t){return t?t.startsWith("https://")?t:"https://community.akamai.steamstatic.com/economy/image/".concat(t):null}},8491:(t,e,n)=>{n.d(e,{V:()=>r});var r=["RU","AZ","AM","BY","KZ","KG","MD","TJ","UZ","TM","UA"];new Map([["76561198372936000","Clair Obscur: Expedition 33"],["76561197984927486","Clair Obscur: Expedition 33"],["76561198100398726","Clair Obscur: Expedition 33"],["76561199511967703","Clair Obscur: Expedition 33"],["76561198873632799","Clair Obscur: Expedition 33"],["76561198095800427","Clair Obscur: Expedition 33"],["76561198024679045","Clair Obscur: Expedition 33"],["76561198311298879","Elden Ring"],["76561198825066072","Elden Ring"],["76561199801362057","Elden Ring"],["76561198206710801","Elden Ring"],["76561198117037583","Elden Ring"],["76561199153567648","ELDEN RING NIGHTREIGN"],["76561197974603469","ELDEN RING NIGHTREIGN"],["76561199034781626","ELDEN RING NIGHTREIGN"],["76561198979779095","ELDEN RING NIGHTREIGN"],["76561198027823358","ELDEN RING NIGHTREIGN"],["76561199490674083","ARC Raiders"],["76561199845746777","ARC Raiders"],["76561199222406698","ARC Raiders"],["76561198129670791","ARC Raiders"],["76561198216776825","ARC Raiders"],["76561198407231161","ARC Raiders"],["76561198106709781","ARC Raiders"],["76561198212344473","ARC Raiders"],["76561199784522564","ARC Raiders"],["76561198885455291","ARC Raiders"],["76561198825444450","ARC Raiders"],["76561198149903485","ARC Raiders"],["76561198928253922","ARC Raiders"],["76561198825751993","ARC Raiders"],["76561199090845587","ARC Raiders"],["76561199024924971","ARC Raiders"],["76561199566216955","ARC Raiders"],["76561199528966164","ARC Raiders"],["76561198053132797","ARC Raiders"],["76561199399010784","ARC Raiders"],["76561199176889932","ARC Raiders"],["76561198853591524","ARC Raiders"],["76561198849829018","ARC Raiders"],["76561199504788863","Ready or Not"],["76561198447221169","Ready or Not"],["76561199198930843","Ready or Not"],["76561198418969685","Ready or Not"],["76561199838484864","Ready or Not"],["76561198096775418","TEKKEN 8"],["76561199163559293","TEKKEN 8"],["76561199543701803","TEKKEN 8"],["76561199050984072","TEKKEN 8"],["76561199230800720","TEKKEN 8"]])},4426:(t,e,n)=>{n.d(e,{Tq:()=>p,cc:()=>v,qT:()=>g,z6:()=>m});var r=n(3080),i=n(3186),a=n(4056),o=n(7068),s=(n(6234),n(710));function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function _(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,o=Object.create(a.prototype),s=new O(r||[]);return i(o,"_invoke",{value:L(t,n,s)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=_;var f="suspendedStart",m="suspendedYield",p="executing",g="completed",v={};function y(){}function b(){}function w(){}var k={};u(k,o,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(P([])));C&&C!==n&&r.call(C,o)&&(k=C);var x=w.prototype=y.prototype=Object.create(k);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(i,a,o,s){var l=h(t[i],t,a);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==c(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(u).then((function(t){d.value=t,o(d)}),(function(t){return n("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function L(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?g:m,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(c(e)+" is not iterable")}return b.prototype=w,i(x,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,d,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(I.prototype),u(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(_(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(x),u(x,d,"Generator"),u(x,o,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function d(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){d(a,r,i,o,s,"next",t)}function s(t){d(a,r,i,o,s,"throw",t)}o(void 0)}))}}var _=null,h=null,f={sih:{min:50,max:9433,commission:.06},sbp:{min:50,max:9433,commission:.06}},m=function(){return a.zc.get("SIH_NEW_YEAR_GIVEAVAY")||Date.now()>=17661024e5&&Date.now()<1767042e6},p=function(){var t=u(l().mark((function t(){var e,n,a,s,c,d,u,_,h,p,g;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.A.getLoginSihAppUser();case 2:return n=t.sent,a=n.success,s=n.user,c=a?r.A.getPriceFromCurrency(s.balance/1e3,5,1):{},d=c.price,u=c.text,_=$J("#application_config").attr("data-userinfo"),h=_?null===(e=JSON.parse(_))||void 0===e?void 0:e.account_name:null,p=(0,o.H)("steam-refill"),g=$J(" ".concat(m()?'<div class="sih-steam-refill__giveaway">\n            <img src="chrome-extension://'.concat(SIHID,'/assets/steamRefill/giveaway.svg" alt="" />\n            <div class="sih-steam-refill__giveaway__tooltip-icon cursor-pointer" title="">\n              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  fill-rule="evenodd"\n                  clip-rule="evenodd"\n                  d="M14.6667 8C14.6667 4.318 11.682 1.33334 8.00001 1.33334C4.31801 1.33334 1.33334 4.318 1.33334 8C1.33334 11.682 4.31801 14.6667 8.00001 14.6667C11.682 14.6667 14.6667 11.682 14.6667 8ZM8.00001 4.66667C8.17682 4.66667 8.34639 4.73691 8.47141 4.86193C8.59644 4.98696 8.66668 5.15652 8.66668 5.33334V8.66667C8.66668 8.84348 8.59644 9.01305 8.47141 9.13807C8.34639 9.2631 8.17682 9.33334 8.00001 9.33334C7.8232 9.33334 7.65363 9.2631 7.52861 9.13807C7.40358 9.01305 7.33334 8.84348 7.33334 8.66667V5.33334C7.33334 5.15652 7.40358 4.98696 7.52861 4.86193C7.65363 4.73691 7.8232 4.66667 8.00001 4.66667ZM7.33334 10.6667C7.33334 10.4899 7.40358 10.3203 7.52861 10.1953C7.65363 10.0702 7.8232 10 8.00001 10H8.00534C8.18216 10 8.35172 10.0702 8.47675 10.1953C8.60177 10.3203 8.67201 10.4899 8.67201 10.6667C8.67201 10.8435 8.60177 11.0131 8.47675 11.1381C8.35172 11.2631 8.18216 11.3333 8.00534 11.3333H8.00001C7.8232 11.3333 7.65363 11.2631 7.52861 11.1381C7.40358 11.0131 7.33334 10.8435 7.33334 10.6667Z"\n                  fill="#8C99A1"\n                />\n              </svg>\n            </div>\n          </div>'):"",'\n      <div class="sih-steam-refill__main">\n        <div class="sih-steam-refill__left-side sih-steam-refill-form">\n          <div class="sih-steam-refill__header sih-steam-refill-header">\n            <div class="row gap-16">\n              <div class="sih-steam-refill-header__logo">\n                <img src="chrome-extension://').concat(SIHID,'/assets/common/steam-refill-logo.png" alt="" />\n              </div>\n              <div class="column justify-center gap-4">\n                <div class="row items-center gap-45">\n                  <span class="text fs-24 lh-32 semi-bold">Пополнение баланса Steam</span>\n                  <div class="sih-steam-refill__powered"></div>\n                </div>\n\n                <div class="sih-steam-refill-header__favourable-offer">\n                  <svg width="11" height="14" viewBox="0 0 11 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      d="M10.4998 8.66973C10.4998 11.7197 7.97482 14.1722 4.92482 13.9902C1.79032 13.8032 -0.35518 10.7887 0.04882 7.63773C0.29332 5.72123 1.19182 4.07773 2.16982 2.80273C2.33982 2.58023 2.51432 4.37073 2.68882 4.17373C2.86382 3.97123 4.48582 1.16423 5.04982 0.178233C5.07408 0.134743 5.10741 0.0969822 5.14755 0.067517C5.18769 0.0380518 5.23371 0.017572 5.28247 0.0074688C5.33123 -0.00263443 5.3816 -0.00212443 5.43014 0.00896428C5.47869 0.020053 5.52428 0.0414607 5.56382 0.0717329C6.69682 0.926733 10.4998 4.13823 10.4998 8.66973Z"\n                      fill="#FF6723"\n                    />\n                    <path\n                      d="M8.99983 9.92523C8.99983 11.9462 7.24033 13.5707 5.10033 13.4972C2.79033 13.4192 1.20633 11.3052 1.54533 9.12773C2.03483 6.00573 5.23983 3.99973 5.23983 3.99973C5.23983 3.99973 8.99983 6.35323 8.99983 9.92523Z"\n                      fill="#FFB02E"\n                    />\n                  </svg>\n\n                  <div class="text text_white fs-14 semi-bold">Выгодное предложение</div>\n                </div>\n\n                <div class="row gap-7 items-center">\n                  <span class="text text_light-grey fs-14">Аккаунты РФ и стран СНГ.</span>\n\n                  <div\n                    class="sih-steam-refill__tooltip-icon row items-center"\n                    title="Азербайджан, Армения, Беларусь, Казахстан, Киргизия, Молдова, Таджикистан, Узбекистан, Туркменистан"\n                  >\n                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        fill-rule="evenodd"\n                        clip-rule="evenodd"\n                        d="M14.6667 8C14.6667 4.318 11.682 1.33334 8.00001 1.33334C4.31801 1.33334 1.33334 4.318 1.33334 8C1.33334 11.682 4.31801 14.6667 8.00001 14.6667C11.682 14.6667 14.6667 11.682 14.6667 8ZM8.00001 4.66667C8.17682 4.66667 8.34639 4.73691 8.47141 4.86193C8.59644 4.98696 8.66668 5.15652 8.66668 5.33334V8.66667C8.66668 8.84348 8.59644 9.01305 8.47141 9.13807C8.34639 9.2631 8.17682 9.33334 8.00001 9.33334C7.8232 9.33334 7.65363 9.2631 7.52861 9.13807C7.40358 9.01305 7.33334 8.84348 7.33334 8.66667V5.33334C7.33334 5.15652 7.40358 4.98696 7.52861 4.86193C7.65363 4.73691 7.8232 4.66667 8.00001 4.66667ZM7.33334 10.6667C7.33334 10.4899 7.40358 10.3203 7.52861 10.1953C7.65363 10.0702 7.8232 10 8.00001 10H8.00534C8.18216 10 8.35172 10.0702 8.47675 10.1953C8.60177 10.3203 8.67201 10.4899 8.67201 10.6667C8.67201 10.8435 8.60177 11.0131 8.47675 11.1381C8.35172 11.2631 8.18216 11.3333 8.00534 11.3333H8.00001C7.8232 11.3333 7.65363 11.2631 7.52861 11.1381C7.40358 11.0131 7.33334 10.8435 7.33334 10.6667Z"\n                        fill="#8C99A1"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="column gap-20 mt-20">\n            <div class="sih-steam-refill-form__item-block column gap-8" data-name="login">\n              <div class="row gap-7 items-center">\n                <span class="text fs-14">Где искать?</span>\n                <div class="sih-steam-refill__tooltip-where-find row items-center" title="">\n                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M14.6667 8C14.6667 4.318 11.682 1.33334 8.00001 1.33334C4.31801 1.33334 1.33334 4.318 1.33334 8C1.33334 11.682 4.31801 14.6667 8.00001 14.6667C11.682 14.6667 14.6667 11.682 14.6667 8ZM8.00001 4.66667C8.17682 4.66667 8.34639 4.73691 8.47141 4.86193C8.59644 4.98696 8.66668 5.15652 8.66668 5.33334V8.66667C8.66668 8.84348 8.59644 9.01305 8.47141 9.13807C8.34639 9.2631 8.17682 9.33334 8.00001 9.33334C7.8232 9.33334 7.65363 9.2631 7.52861 9.13807C7.40358 9.01305 7.33334 8.84348 7.33334 8.66667V5.33334C7.33334 5.15652 7.40358 4.98696 7.52861 4.86193C7.65363 4.73691 7.8232 4.66667 8.00001 4.66667ZM7.33334 10.6667C7.33334 10.4899 7.40358 10.3203 7.52861 10.1953C7.65363 10.0702 7.8232 10 8.00001 10H8.00534C8.18216 10 8.35172 10.0702 8.47675 10.1953C8.60177 10.3203 8.67201 10.4899 8.67201 10.6667C8.67201 10.8435 8.60177 11.0131 8.47675 11.1381C8.35172 11.2631 8.18216 11.3333 8.00534 11.3333H8.00001C7.8232 11.3333 7.65363 11.2631 7.52861 11.1381C7.40358 11.0131 7.33334 10.8435 7.33334 10.6667Z"\n                      fill="#8C99A1"\n                    />\n                  </svg>\n                </div>\n              </div>\n\n              <label\n                for="sih-steam-refill-login"\n                class="sih-steam-refill-form__input_outer rounded-8 py-9 px-12 box-border"\n              >\n                <input\n                  type="text"\n                  id="sih-steam-refill-login"\n                  class="sih-steam-refill-form__input text text_white-100 fs-16 lh-24"\n                  placeholder="Введите логин"\n                  autocomplete="off"\n                />\n\n                <div class="row items-center gap-10">\n                  ').concat(h?'<div class="sih-steam-refill-form__presets sih-refill-presets_login">\n                    <div class="sih-refill-presets__item sih-refill-presets__item hover-opacity-8" data-value="'.concat(h,'">Мой логин</div>\n                  </div>'):"",'\n                  <div class="sih-steam-refill-form__clear hidden">\n                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z"\n                        fill="currentColor"\n                      />\n                    </svg>\n                  </div>\n                  <div class="sih-steam-refill-form__error hidden">\n                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        fill-rule="evenodd"\n                        clip-rule="evenodd"\n                        d="M20 10C20 4.477 15.523 0 10 0C4.477 0 0 4.477 0 10C0 15.523 4.477 20 10 20C15.523 20 20 15.523 20 10ZM10 5C10.2652 5 10.5196 5.10536 10.7071 5.29289C10.8946 5.48043 11 5.73478 11 6V11C11 11.2652 10.8946 11.5196 10.7071 11.7071C10.5196 11.8946 10.2652 12 10 12C9.73478 12 9.48043 11.8946 9.29289 11.7071C9.10536 11.5196 9 11.2652 9 11V6C9 5.73478 9.10536 5.48043 9.29289 5.29289C9.48043 5.10536 9.73478 5 10 5ZM9 14C9 13.7348 9.10536 13.4804 9.29289 13.2929C9.48043 13.1054 9.73478 13 10 13H10.008C10.2732 13 10.5276 13.1054 10.7151 13.2929C10.9026 13.4804 11.008 13.7348 11.008 14C11.008 14.2652 10.9026 14.5196 10.7151 14.7071C10.5276 14.8946 10.2732 15 10.008 15H10C9.73478 15 9.48043 14.8946 9.29289 14.7071C9.10536 14.5196 9 14.2652 9 14Z"\n                        fill="#D85752"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </label>\n              <div class="sih-steam-refill-form__refill-info-block sih-info-block">\n                <span class="sih-info-block__message">Логин вводится только на латинице</span>\n              </div>\n              <div class="sih-steam-refill-form__refill-alert-block sih-alert-block">\n                <span class="sih-alert-block__message"></span>\n              </div>\n            </div>\n            <div class="row gap-20">\n              <div class="sih-steam-refill-form__item-block column gap-8" data-name="refill">\n                <span class="text fs-14">Сумма пополнения в рублях</span>\n                <label\n                  for="sih-steam-refill-input"\n                  class="sih-steam-refill-form__input_outer rounded-8 py-9 px-12 box-border"\n                >\n                  <input\n                    type="text"\n                    id="sih-steam-refill-input"\n                    class="sih-steam-refill-form__input text text_white-100 fs-16 lh-24"\n                    placeholder="От ').concat(f.sbp.min,' ₽"\n                    pattern="/d*"\n                    maxlength="7"\n                    autocomplete="off"\n                  />\n                  <div class="sih-steam-refill-form__rub-sign hidden">₽</div>\n                  <div class="row gap-7 items-center">\n                    <div class="sih-steam-refill-form__clear hidden">\n                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path\n                          d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z"\n                          fill="currentColor"\n                        />\n                      </svg>\n                    </div>\n                  </div>\n                </label>\n                <div class="sih-steam-refill-form__refill-info-block sih-info-block">\n                  <span class="sih-info-block__message">Максимальная сумма ').concat(f.sbp.max,' ₽</span>\n                </div>\n                <div class="sih-steam-refill-form__refill-alert-block sih-alert-block">\n                  <span class="sih-alert-block__message"></span>\n                </div>\n\n                <div class="sih-steam-refill-form__presets sih-refill-presets">\n                  <div class="sih-refill-presets__item" data-value="500">500 ₽</div>\n                  <div class="sih-refill-presets__item" data-value="1000">1000 ₽</div>\n                  <div class="sih-refill-presets__item" data-value="1500">1500 ₽</div>\n                  <div class="sih-refill-presets__item" data-value="2000">2000 ₽</div>\n                  <div class="sih-refill-presets__item" data-value="5000">5000 ₽</div>\n                  <div class="sih-refill-presets__item" data-value="9000">9000 ₽</div>\n                </div>\n              </div>\n              <div class="sih-steam-refill-form__item-block column gap-8" data-name="refill">\n                <span class="text fs-14">К зачислению на Steam</span>\n\n                <div class="sih-steam-refill-form__credit-amount">\n                  <div class="row items-center gap-8">\n                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        d="M0.488678 15.4517C1.97217 20.3969 6.56116 24 11.9923 24C18.6239 24 24 18.6273 24 12C24 5.3726 18.6239 0 11.9923 0C5.62868 0 0.421682 4.94719 0.0104326 11.2027C0.787478 12.5068 1.09071 13.3133 0.488781 15.4517H0.488678Z"\n                        fill="url(#paint0_linear_104_173)"\n                      />\n                      <path\n                        d="M11.3738 8.99454C11.3738 9.01473 11.3738 9.03492 11.3748 9.05387L8.43652 13.3195C7.96054 13.2979 7.48291 13.3813 7.03002 13.5677C6.83037 13.6491 6.6433 13.749 6.46777 13.8644L0.0156892 11.21C0.0156892 11.21 -0.133556 13.6645 0.488575 15.4939L5.04984 17.3748C5.27886 18.3976 5.98097 19.2948 7.01683 19.7264C8.71161 20.434 10.6657 19.6275 11.3707 17.9331C11.5542 17.4901 11.6397 17.0256 11.6274 16.5621L15.8316 13.5595C15.8656 13.5605 15.9006 13.5615 15.9347 13.5615C18.4506 13.5615 20.4955 11.5118 20.4955 8.99454C20.4955 6.47712 18.4506 4.42918 15.9347 4.42918C13.4197 4.42918 11.3738 6.47712 11.3738 8.99454ZM10.6688 17.6385C10.1232 18.9476 8.61771 19.5688 7.30914 19.0239C6.70545 18.7725 6.24968 18.3121 5.98675 17.7631L7.47147 18.378C8.43652 18.7797 9.5437 18.3224 9.94484 17.3583C10.3472 16.3931 9.89073 15.2848 8.9262 14.8831L7.39139 14.2476C7.98363 14.023 8.65688 14.0148 9.28592 14.2764C9.92011 14.5401 10.4122 15.0366 10.6729 15.6711C10.9337 16.3056 10.9327 17.006 10.6688 17.6385ZM15.9347 12.0371C14.2598 12.0371 12.8962 10.6723 12.8962 8.99454C12.8962 7.31815 14.2598 5.95293 15.9347 5.95293C17.6106 5.95293 18.9742 7.31815 18.9742 8.99454C18.9742 10.6723 17.6106 12.0371 15.9347 12.0371ZM13.6578 8.98991C13.6578 7.72779 14.6803 6.70414 15.9398 6.70414C17.2004 6.70414 18.2228 7.72779 18.2228 8.98991C18.2228 10.2521 17.2004 11.2749 15.9398 11.2749C14.6803 11.2749 13.6578 10.2521 13.6578 8.98991Z"\n                        fill="white"\n                      />\n                      <defs>\n                        <linearGradient\n                          id="paint0_linear_104_173"\n                          x1="12"\n                          y1="0"\n                          x2="12"\n                          y2="24"\n                          gradientUnits="userSpaceOnUse"\n                        >\n                          <stop stop-color="#111D2E" />\n                          <stop offset="0.21" stop-color="#051839" />\n                          <stop offset="0.41" stop-color="#0A1B48" />\n                          <stop offset="0.58" stop-color="#132E62" />\n                          <stop offset="0.74" stop-color="#144B7E" />\n                          <stop offset="0.87" stop-color="#136497" />\n                          <stop offset="1" stop-color="#1387B8" />\n                        </linearGradient>\n                      </defs>\n                    </svg>\n                    <span id="sih-steam-refill-amount" class="text text_white fs-16">0 ₽</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="sih-steam-refill__right-side sih-steam-refill-payment">\n          <span class="text fs-16 lh-24 semi-bold">К оплате</span>\n          <div class="sih-steam-refill-payment__faq" title="">\n            <div class="sih-steam-refill-payment__important">\n              <svg width="20" height="17" viewBox="0 0 20 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M2.47 17H17.53C19.07 17 20.03 15.33 19.26 14L11.73 0.989993C10.96 -0.340007 9.04 -0.340007 8.27 0.989993L0.739999 14C-0.0300008 15.33 0.929999 17 2.47 17ZM10 9.99999C9.45 9.99999 9 9.54999 9 8.99999V6.99999C9 6.44999 9.45 5.99999 10 5.99999C10.55 5.99999 11 6.44999 11 6.99999V8.99999C11 9.54999 10.55 9.99999 10 9.99999ZM11 14H9V12H11V14Z"\n                  fill="#0D91EC"\n                />\n              </svg>\n            </div>\n            <span class="text fs-12 lh-16">Пожалуйста ознакомьтесь с важной информацией до совершения пополнения.</span>\n          </div>\n\n          <div class="column gap-8">\n            <span class="text semi-bold">Выберите способ оплаты</span>\n            <div class="sih-payment-method">\n              <label class="row flex-1" for="sih-payment-method-sbp">\n                <input\n                  type="radio"\n                  name="sih-payment-method"\n                  id="sih-payment-method-sbp"\n                  class="sih-payment-method__input"\n                  data-method="sbp"\n                  checked\n                />\n\n                <label class="sih-payment-method__item" for="sih-payment-method-sbp"\n                  ><svg width="48" height="28" viewBox="0 0 48 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      d="M47.597 11.0933V17.6944H45.2301V13.0639H42.951V17.6944H40.584V11.0929L47.597 11.0933Z"\n                      fill="white"\n                    />\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M35.7229 17.9304C37.8418 17.9304 39.4153 16.6367 39.4153 14.6754C39.4153 12.777 38.2544 11.5445 36.3142 11.5445C35.4188 11.5445 34.68 11.8583 34.1235 12.3999C34.2564 11.2806 35.2069 10.4634 36.2535 10.4634C36.495 10.4634 38.3134 10.4595 38.3134 10.4595L39.3416 8.5C39.3416 8.5 37.0587 8.55175 35.9975 8.55175C33.5727 8.59383 31.9348 10.7887 31.9348 13.4545C31.9348 16.5602 33.5322 17.9304 35.7229 17.9304ZM35.7358 13.2801C36.5226 13.2801 37.068 13.7949 37.068 14.6751C37.068 15.4674 36.5833 16.1201 35.7358 16.1219C34.9252 16.1219 34.3797 15.5171 34.3797 14.6886C34.3797 13.8082 34.9252 13.2801 35.7358 13.2801Z"\n                      fill="white"\n                    />\n                    <path\n                      d="M30.0082 15.4845C30.0082 15.4845 29.4492 15.8053 28.6143 15.8661C27.6545 15.8944 26.7994 15.2907 26.7994 14.2182C26.7994 13.1719 27.554 12.5723 28.5902 12.5723C29.2255 12.5723 30.066 13.0108 30.066 13.0108C30.066 13.0108 30.681 11.8869 30.9996 11.3249C30.4162 10.8846 29.6392 10.6431 28.7354 10.6431C26.4546 10.6431 24.6879 12.1241 24.6879 14.2049C24.6879 16.3122 26.3484 17.7588 28.7354 17.7151C29.4026 17.6904 30.3231 17.457 30.8841 17.0982L30.0082 15.4845Z"\n                      fill="white"\n                    />\n                    <path d="M0.902954 6.377L4.18633 12.2214V15.7863L0.906795 21.6192L0.902954 6.377Z" fill="#5B57A2" />\n                    <path d="M13.5098 10.0947L16.5865 8.21683L22.883 8.21098L13.5098 13.9291V10.0947Z" fill="#D90751" />\n                    <path d="M13.4924 6.34257L13.5098 14.0803L10.2187 12.0666V0.5L13.4924 6.34257Z" fill="#FAB718" />\n                    <path\n                      d="M22.883 8.21098L16.5865 8.21683L13.4924 6.34257L10.2187 0.5L22.883 8.21098Z"\n                      fill="#ED6F26"\n                    />\n                    <path d="M13.5098 21.6516V17.8974L10.2187 15.922L10.2206 27.5L13.5098 21.6516Z" fill="#63B22F" />\n                    <path\n                      d="M16.5788 19.7908L4.18633 12.2214L0.902954 6.377L22.8697 19.7832L16.5788 19.7908Z"\n                      fill="#1487C9"\n                    />\n                    <path\n                      d="M10.2206 27.5L13.5098 21.6516L16.5788 19.7908L22.8697 19.7832L10.2206 27.5Z"\n                      fill="#017F36"\n                    />\n                    <path\n                      d="M0.906795 21.6192L10.2456 15.9222L7.10588 14.0038L4.18633 15.7863L0.906795 21.6192Z"\n                      fill="#984995"\n                    />\n                  </svg>\n                </label>\n              </label>\n              <label class="row flex-1" for="sih-payment-method-sih">\n                <input\n                  type="radio"\n                  name="sih-payment-method"\n                  id="sih-payment-method-sih"\n                  class="sih-payment-method__input"\n                  data-method="sih"\n                />\n\n                <label class="sih-payment-method__item" for="sih-payment-method-sih">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="29" height="24" viewBox="0 0 29 24" fill="none">\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M5.69226 12.9129H9.61597V15.001H5.69226V17.4758H11.6707V10.7989H7.70055V8.83969H11.6707V6.51953H5.69226V12.9129ZM15.4921 6.51953H13.3329V17.4758H15.4921V6.51953ZM21.2489 10.7989V6.51953H23.3036V17.4758H21.2953V12.7582H19.3451V17.4758H17.36V6.51953H19.3799V10.7989H21.2489Z"\n                      fill="white"\n                    />\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M0 10.8016H4.00497V13.1991H0V10.8016ZM24.995 10.8002H29V13.1977H24.995V10.8002ZM13.3273 0H15.4865V4.44697H13.3273V0ZM13.3273 19.553H15.4865V24H13.3273V19.553Z"\n                      fill="#0D91EC"\n                    />\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M1.98804 8.75113V6.32785C1.98804 4.05925 3.65968 2.20312 5.70279 2.20312H11.5767V4.44595H5.70279C4.76249 4.44595 4.00793 5.29667 4.00793 6.32785V8.75113H1.98804ZM17.4166 2.20312H22.8959C25.1596 2.20312 26.9937 4.2526 27.0054 6.76611V8.75113H24.9855V6.76611C24.9855 5.49002 24.0452 4.44595 22.8959 4.44595H17.4166V2.20312ZM24.9855 17.2048C24.9855 18.4809 24.0452 19.525 22.8959 19.525H17.4166V21.7678H22.8959C25.1596 21.7678 27.0054 19.7183 27.0054 17.2048V15.2198H24.9855V17.2048ZM4.00793 15.2198V17.2048C4.00793 18.4938 4.94823 19.525 6.09748 19.525H11.5767V21.7678H6.09748C3.83381 21.7678 1.98804 19.7183 1.98804 17.2048V15.2198H4.00793Z"\n                      fill="white"\n                    />\n                  </svg>\n                  SIH баланс\n                </label>\n              </label>\n              \x3c!-- <label class="row flex-1 not-allowed opacity-5 blur-1" for="sih-payment-method-mir"\n              ><input\n                type="radio"\n                name="sih-payment-method"\n                id="sih-payment-method-mir"\n                class="sih-payment-method__input "\n                data-method="mir"\n                disabled\n              />\n\n              <span class="sih-payment-method__item not-allowed">\n                <svg width="45" height="12" viewBox="0 0 45 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    d="M0.75 0.0708925H4.87788C5.25315 0.0708925 6.37893 -0.0526507 6.87928 1.67695C7.25455 2.78884 7.7549 4.51845 8.50542 7.11285H8.7556C9.50612 4.3949 10.1316 2.54176 10.3817 1.67695C10.8821 -0.0526507 12.133 0.0708925 12.6333 0.0708925H16.511V11.931H12.5082V4.88908H12.258L10.1316 11.931H7.12946L5.00297 4.88908H4.62771V11.931H0.75M18.1372 0.0708925H22.1399V7.11285H22.5152L25.142 1.30632C25.6424 0.194436 26.7682 0.0708925 26.7682 0.0708925H30.5208V11.931H26.518V4.88908H26.2678L23.641 10.6956C23.1406 11.8075 21.8898 11.931 21.8898 11.931H18.1372M35.8996 8.34828V11.931H32.1469V5.75388H44.4055C43.9052 7.2364 42.1539 8.34828 40.1525 8.34828"\n                    fill="#0F754E"\n                  />\n                  <path\n                    d="M44.6557 5.01262C45.156 2.78884 43.655 0.0708925 40.4027 0.0708925H31.8968C32.1469 2.6653 34.3985 5.01262 36.7752 5.01262"\n                    fill="url(#paint0_linear_108_1560)"\n                  />\n                  <defs>\n                    <linearGradient\n                      id="paint0_linear_108_1560"\n                      x1="43.1546"\n                      y1="-1.53515"\n                      x2="33.1476"\n                      y2="-1.53515"\n                      gradientUnits="userSpaceOnUse"\n                    >\n                      <stop stop-color="#1F5CD7" />\n                      <stop offset="1" stop-color="#02AEFF" />\n                    </linearGradient>\n                  </defs>\n                </svg>\n              </span>\n            </label> --\x3e\n            </div>\n          </div>\n\n          ').concat(a?' <div class="sih-refill-user-info" style="display: none">\n                  <img src="'.concat(s.avatar,'" alt="avatar" class="sih-refill-user-info__avatar" />\n                  <div class="sih-refill-user-info__balance">\n                    <div class="sih-refill-user-info__balance-value" data-user-balance="').concat(d,'">\n                      ').concat(u,'\n                    </div>\n                    <div class="sih-refill-user-info__balance-label">Ваш SIH баланс</div>\n                  </div>\n                  <div class="sih-refill-user-info__btn sih-refill-user-info__btn_hidden">Пополнить</div>\n                </div>'):"",'\n\n          <div class="column gap-7">\n            <div class="row justify-between" style="display: none">\n              <span class="text fs-14 lh-20">Не хватает для оплаты балансом</span>\n              <span id="sih-need-refill-sih-balance" class="text fs-14 lh-20 semi-bold text_red-752" data-value="0"\n                >0 ₽</span\n              >\n            </div>\n            <div class="row justify-between">\n              <span class="text fs-14 lh-20">Конвертация</span>\n              <span id="sih-steam-refill-commission" class="text fs-14 lh-20 semi-bold" data-value="0">0 ₽</span>\n            </div>\n            <div class="row justify-between">\n              <span class="text fs-14 lh-20">Итого</span>\n              <span id="sih-steam-refill-total" class="text fs-14 lh-20 semi-bold" data-value="0">0 ₽</span>\n            </div>\n            <div class="row justify-between ').concat(a?"":"text_red-752",'">\n              <div class="row items-center gap-7">\n                <span class="text fs-14 lh-20">Кешбэк на SIH баланс</span>\n                <div\n                  class="sih-steam-refill__tooltip-icon ').concat(a?"text_gray_600":"text_red-752",'"\n                  title="').concat(a?"После каждого успешного пополнения, Вам будет начислен бонус реальными средствами на баланс SIH, который Вы сможете использовать для покупки предметов на SIH.Market или оплаты подписки SIH.Black.":"К сожалению, у Вас ошибка авторизации SIH, пожалуйста свяжитесь с тех. поддержкой для получения кешбека",'"\n                >\n                  <div class="row items-center">\n                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        fill-rule="evenodd"\n                        clip-rule="evenodd"\n                        d="M14.6667 8C14.6667 4.318 11.682 1.33334 8.00001 1.33334C4.31801 1.33334 1.33334 4.318 1.33334 8C1.33334 11.682 4.31801 14.6667 8.00001 14.6667C11.682 14.6667 14.6667 11.682 14.6667 8ZM8.00001 4.66667C8.17682 4.66667 8.34639 4.73691 8.47141 4.86193C8.59644 4.98696 8.66668 5.15652 8.66668 5.33334V8.66667C8.66668 8.84348 8.59644 9.01305 8.47141 9.13807C8.34639 9.2631 8.17682 9.33334 8.00001 9.33334C7.8232 9.33334 7.65363 9.2631 7.52861 9.13807C7.40358 9.01305 7.33334 8.84348 7.33334 8.66667V5.33334C7.33334 5.15652 7.40358 4.98696 7.52861 4.86193C7.65363 4.73691 7.8232 4.66667 8.00001 4.66667ZM7.33334 10.6667C7.33334 10.4899 7.40358 10.3203 7.52861 10.1953C7.65363 10.0702 7.8232 10 8.00001 10H8.00534C8.18216 10 8.35172 10.0702 8.47675 10.1953C8.60177 10.3203 8.67201 10.4899 8.67201 10.6667C8.67201 10.8435 8.60177 11.0131 8.47675 11.1381C8.35172 11.2631 8.18216 11.3333 8.00534 11.3333H8.00001C7.8232 11.3333 7.65363 11.2631 7.52861 11.1381C7.40358 11.0131 7.33334 10.8435 7.33334 10.6667Z"\n                        fill="currentColor"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n\n              <span\n                id="sih-steam-refill-cashback"\n                class="text ').concat(a?"text_green":"text_red-752",' fs-14 lh-20 semi-bold"\n                data-value="0"\n                >0 ₽</span\n              >\n            </div>\n          </div>\n\n          <div id="sih-steam-refill-pay" class="sih-steam-refill-pay inactive">Оплатить</div>\n        </div>\n      </div>')),b(g),g.find("#sih-steam-refill-pay").after(p),t.abrupt("return",g);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){w(),k(),S(),C(),x(),A(),I(),L()},v=function(){setInterval(y,2e4)},y=function(){var t=u(l().mark((function t(){var e,n,a,o,s,c;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.A.getLoginSihAppUser();case 2:e=t.sent,n=e.success,a=e.user,o=n?r.A.getPriceFromCurrency(a.balance/1e3,5,1):{},s=o.price,c=o.text,s&&c&&$J(".sih-refill-user-info .sih-refill-user-info__balance-value").attr("data-user-balance",s).text(c);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(t){t.find(".sih-steam-refill__tooltip-icon").tooltip({position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"sih-steam-refill__tooltip"},show:{delay:500,duration:0}}),t.find(".sih-steam-refill__tooltip-where-find").tooltip({content:$J('\n      <div class="column">\n        <span class="text text_white fs-20 lh-28 semi-bold">Как найти свой логин в Steam?</span>\n        <ul class="mt-12">\n          <li>Откройте клиент Steam. Нажмите на имя пользователя в правом верхнем углу главной страницы.</li>\n          <li>В выпадающем меню выберите пункт «Об аккаунте».</li>\n        </ul>\n        <img class="row mt-16" src="chrome-extension://'.concat(SIHID,'/assets/common/where-find-steam-refill.png" alt="" />\n      </div>\n    ')),position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"sih-global sih-steam-refill__tooltip sih-where-find"},show:{delay:700,duration:0}});var e=t.find(".sih-steam-refill-payment__faq");e.tooltip({content:$J('\n        <div class="column">\n          <ul>\n            <li>\n              Как правило, пополнение происходит мгновенно или в течение нескольких минут, однако в редких случаях\n              процесс пополнения может затянуться на час.\n            </li>\n            <li>\n              Если Вы НИКОГДА ранее не пополняли баланс аккаунта любыми способами, то в некоторых случаях это может\n              привести к смене региона Steam\n            </li>\n            <li>\n              Обращаем Ваше внимание на то, что пополнение происходит только по предоставленной Вами информации о логине\n              аккаунта. В случае предоставления неверных сведений, средства будут зачислены по ним и возврат средств\n              будет невозможен. Так же, любое пополнение аккаунта является невозвратным.\n            </li>\n          </ul>\n        </div>\n      '),position:{my:"center top",at:"center bottom+10"},classes:{"ui-tooltip":"sih-global sih-steam-refill__tooltip sih-faq"},show:{delay:700,duration:0}}).on("mouseenter",(function(t){e.not($J(this)).tooltip("close")})).on("mouseleave",(function(t,e){var n=t.target;e||(t.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(n).trigger("mouseleave",[!0])}),250))}));var n=t.find(".sih-steam-refill__giveaway__tooltip-icon");n.tooltip({content:$J('<span class="text"\n          >Данный розыгрыш проводится в соответствии с Условиями публичной оферты, размещёнными в прилагаемом\n          <a\n            href="https://docs.google.com/document/d/1jTwXLkod72JBe6CgX86-_uyJlUMe8FyZDfWM1zXsSd0/edit?usp=sharing"\n            target="_blank"\n            class="text text_blue"\n            >документе</a\n          >. Участвуя в розыгрыше, участник подтверждает, что ознакомился с условиями оферты, понимает их и полностью\n          принимает.</span\n        >'),position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"sih-global sih-steam-refill__tooltip"},show:{delay:500,duration:0}}).on("mouseenter",(function(t){n.not($J(this)).tooltip("close")})).on("mouseleave",(function(t,e){var n=t.target;e||(t.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(n).trigger("mouseleave",[!0])}),250))})),$J("body").on("mouseleave",".ui-tooltip",(function(t){e.tooltip(),e.tooltip("close"),n.tooltip(),n.tooltip("close")}))},w=function(){var t=$J("#sih-steam-refill").find("#sih-steam-refill-input"),e=t.closest(".sih-steam-refill-form__input_outer").find(".sih-steam-refill-form__clear"),n=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign");t.on("keypress",(function(t){var e=t.which||t.keyCode;(e<48||e>57)&&t.preventDefault()})),t.on("input",(function(r){var i=$J(r.target);P(i);var a=i.val();n.toggleClass("hidden",!a),e.toggleClass("hidden",!a),clearTimeout(h),h=setTimeout((function(){E(t,a);var e=H(),n=f[e].max;t.val(n>=a?a:n),P(t),T()}),800)})),t.on("paste",(function(r){var i=$J(r.target),a=(r.originalEvent||r).clipboardData.getData("text/plain");a=a.replace(/[^0-9]/g,"");var o=H(),s=f[o].max;t.val(s>=a?a:s),P(i);var c=t.val();n.toggleClass("hidden",!c),e.toggleClass("hidden",!c),clearTimeout(h),h=setTimeout((function(){E(t,c),t.val(s>=c?c:s),P(t),T()}),800),r.preventDefault()})),t.on("focusout",(function(e){var n=e.target,r=$J(n).val();r=r.replace(/[^0-9]/g,""),E(t,r);var i=H(),a=f[i].max;t.val(a>=r?r:a),P(t),T()}))},k=function(){var t=$J("#sih-steam-refill").find("#sih-steam-refill-login"),e=t.closest(".sih-steam-refill-form__input_outer").find(".sih-steam-refill-form__clear"),n=t.closest(".sih-steam-refill-form__input_outer").find(".sih-refill-presets_login");t.on("keyup",(function(t){var r=$J(t.target).val();n.toggleClass("hidden",!!r),e.toggleClass("hidden",!r)})),t.on("paste",(function(e){var n=(e.originalEvent||e).clipboardData.getData("text/plain");n=n.replace(/[^a-zA-Z0-9._\- ]/g,""),t.val(n),e.preventDefault()})),t.on("focusout",(function(e){var n=e.target,r=$J(n).val();R(t,r)}))},S=function(){var t=$J("#sih-steam-refill").find(".sih-steam-refill-form__clear"),e=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign");t.each((function(t,n){var r=$J(n);r.off("click").click((function(){var t=r.closest(".sih-steam-refill-form__item-block"),n=r.closest(".sih-steam-refill-form__input_outer"),i=n.find(".sih-steam-refill-form__input"),a=n.find(".sih-refill-presets_login"),o=t.find(".sih-alert-block"),s=t.find(".sih-steam-refill-form__error");i.val(""),a.removeClass("hidden"),n.removeClass("error"),r.addClass("hidden"),o.removeClass("active"),s.addClass("hidden"),"refill"===t.attr("data-name")&&e.addClass("hidden"),T()}))}))},C=function(){var t=$J("#sih-steam-refill").find(".sih-refill-presets__item"),e=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign");t.each((function(t,n){var r=$J(n);r.off("click").click((function(t){var n=r.attr("data-value"),i=r.closest(".sih-steam-refill-form__item-block"),a=i.find(".sih-steam-refill-form__input"),o=r.closest(".sih-steam-refill-form__item-block").find(".sih-steam-refill-form__clear"),s=r.closest(".sih-steam-refill-form__item-block").find(".sih-refill-presets_login");a.val(n),n?(s.addClass("hidden"),o.removeClass("hidden"),"refill"===i.attr("data-name")&&(P(a),e.removeClass("hidden"))):(o.addClass("hidden"),s.removeClass("hidden"),"refill"===i.attr("data-name")&&e.addClass("hidden")),"refill"===i.attr("data-name")?(E(a,n),T()):R(a,n)}))}))},x=function(){var t=$J("#sih-steam-refill"),e=t.find("#sih-tos-steam-refill");t.find("#sih-steam-refill-pay");e.off("change").change((function(t){O()}))},A=function(){var t=$J("#sih-steam-refill"),e=t.find(".sih-payment-method__input"),n=t.find("#sih-steam-refill-input");e.on("change",(function(){var e=n.val(),r=H(),i=f[r],a=i.min,o=i.max;e&&(E(n,e),n.val(o>=e?e:o),P(n)),t.find('.sih-steam-refill-form__item-block[data-name="refill"] .sih-info-block__message').text("Максимальная сумма ".concat(o," ₽")),$J("#sih-steam-refill-input").attr("placeholder","От ".concat(a," ₽")),T()}))},I=function(){var t=$J("#sih-steam-refill"),e=t.find("#sih-steam-refill-pay");e.off("click").click((function(n){clearTimeout(_),_=setTimeout(u(l().mark((function n(){var r,i,a,o,c,d,u,_,h,f,m,p;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=t.find("#sih-steam-refill-input"),i=t.find("#sih-steam-refill-login"),a=t.find("#sih-steam-refill-total"),o=+r.val(),c=i.val(),d=+a.attr("data-value"),u=H(),_=E(r,o),h=R(i,c),!_&&!h){n.next=12;break}return n.abrupt("return");case 12:return e.addClass("animated"),n.next=15,s.A.checkSteamLogin(c,u);case 15:if(f=n.sent,"sih"!==u){n.next=23;break}return n.next=19,s.A.initSteamRefillBySih({steamUsername:c,amount:d,transactionId:f});case 19:e.removeClass("animated"),t.find(".sih-modal__close").click(),n.next=29;break;case 23:return n.next=25,s.A.initSteamRefill({steamUsername:c,amount:d,netAmount:o,transactionId:f,paymentMethod:u});case 25:m=n.sent,p=m.response.payUrl,chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_OPEN_TAB_SETTINGS",data:{url:p}},(function(){})),e.removeClass("animated");case 29:n.next=35;break;case 31:n.prev=31,n.t0=n.catch(0),n.t0,e.removeClass("animated");case 35:case"end":return n.stop()}}),n,null,[[0,31]])}))),300)}))},L=function(){$J(".sih-refill-user-info__btn").click(u(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.A.getSihAppToken();case 2:e=t.sent,window.open("https://sih.app/pay?amount=1#payToken=".concat(e),"_blank");case 4:case"end":return t.stop()}}),t)}))))},E=function(t,e){var n,i=t.closest(".sih-steam-refill-form__input_outer"),a=t.closest(".sih-steam-refill-form__item-block").find(".sih-info-block"),o=t.closest(".sih-steam-refill-form__item-block").find(".sih-alert-block"),s=o.find(".sih-alert-block__message"),c=H();if(e<f[c].min){var l=r.A.getPriceFromCurrency(f[c].min,5,5).text;n="Минимальная сумма пополнения ".concat(l),a.addClass("hidden"),o.addClass("active"),i.addClass("error"),s.text(n)}else if(e>f[c].min&&e>f[c].max){var d=r.A.getPriceFromCurrency(f[c].max,5,5).text;n="Максимальная сумма пополнения ".concat(d),a.addClass("hidden"),o.addClass("active"),i.addClass("error"),s.text(n)}else a.removeClass("hidden"),o.removeClass("active"),i.removeClass("error"),s.text("");return n},R=function(t,e){var n,r=t.closest(".sih-steam-refill-form__input_outer"),i=t.closest(".sih-steam-refill-form__item-block").find(".sih-info-block"),a=t.closest(".sih-steam-refill-form__item-block").find(".sih-alert-block"),o=t.closest(".sih-steam-refill-form__item-block").find(".sih-steam-refill-form__error"),s=a.find(".sih-alert-block__message");e||(n="Некорректный логин или email"),(e.length<3||e.length>150)&&(n="Некорректный логин или email");return/^[a-zA-Z0-9._\- ]+$/.test(e)||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(n="Некорректный логин или email"),i.toggleClass("hidden",!!n),a.toggleClass("active",!!n),r.toggleClass("error",!!n),o.toggleClass("hidden",!n),s.text(n||""),n},T=function(){var t=$J("#sih-steam-refill"),e=t.find("#sih-steam-refill-input"),n=t.find("#sih-steam-refill-amount"),i=t.find("#sih-steam-refill-commission"),a=t.find("#sih-steam-refill-total"),o=t.find("#sih-steam-refill-cashback"),s=t.find("#sih-need-refill-sih-balance"),c=H(),l=f[c].commission,d=+e.val(),u=d*l,_=d+u,h=.005*d,m=_-t.find(".sih-refill-user-info__balance-value").attr("data-user-balance"),p=r.A.getPriceFromCurrency(d,5,5).text,g=r.A.getPriceFromCurrency(u,5,5).text,v=r.A.getPriceFromCurrency(_,5,5).text,y=r.A.getPriceFromCurrency(h,5,5).text,b=r.A.getPriceFromCurrency(m,5,5).text;n.attr("data-value",d).text(p),i.attr("data-value",u).text(g),a.attr("data-value",_).text(v),o.attr("data-value",h).text(y),m>0?s.attr("data-value",m).text(b):s.attr("data-value",0).text(0),t.find(".sih-refill-user-info").toggle("sih"===c),t.find(".sih-refill-user-info__btn").toggleClass("sih-refill-user-info__btn_hidden","sih"===c&&m<0),t.find("#sih-need-refill-sih-balance").parent().toggle("sih"===c&&m>0),O()},O=function(){var t=$J("#sih-steam-refill"),e=t.find("#sih-tos-steam-refill"),n=t.find("#sih-steam-refill-pay"),r=e.is(":checked"),i=$J("#sih-need-refill-sih-balance").attr("data-value"),a=H();n.toggleClass("inactive",!r||"sih"===a&&i>0)},P=function(t){var e=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign"),n=M(t.val(),t.css("font"))+20;e.css("left",n+"px")},M=function(t,e){var n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(t).width},H=function(){return $J("#sih-steam-refill").find(".sih-payment-method .sih-payment-method__input:checked").attr("data-method")}},6234:(t,e,n)=>{n(3080),n(3186)},710:(t,e,n)=>{n.d(e,{A:()=>u});var r=n(4273);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function _(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=_;var f="suspendedStart",m="suspendedYield",p="executing",g="completed",v={};function y(){}function b(){}function w(){}var k={};u(k,c,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(P([])));C&&C!==n&&r.call(C,c)&&(k=C);var x=w.prototype=y.prototype=Object.create(k);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(a,o,s,c){var l=h(t[a],t,o);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==i(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(u).then((function(t){d.value=t,s(d)}),(function(t){return n("throw",t,s,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function L(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?g:m,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(i(e)+" is not iterable")}return b.prototype=w,o(x,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,d,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(I.prototype),u(I.prototype,l,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(_(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(x),u(x,d,"Generator"),u(x,c,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function o(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}const u=new(c((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"isAvailableSihSteamRefill",function(){var t,e=(t=a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_IS_AVAILABLE",data:{countryCode:e}},(function(e){t(e)}))})));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,c,"next",t)}function c(t){o(a,r,i,s,c,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}()),l(this,"checkSteamLogin",(function(t,e){return new Promise((function(n,i){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_CHECK",data:{steamUsername:t,method:e}},(function(t){if(t.success)n(t.transactionId);else{var e={status:"refill-error",text:t.error};(0,r.W)(e,5e3,(function(){})),i(t)}}))}))})),l(this,"initSteamRefill",(function(t){var e=t.steamUsername,n=t.amount,i=t.netAmount,a=t.currency,o=void 0===a?"RUB":a,s=t.transactionId,c=t.paymentMethod,l=void 0===c?"sbp":c;return new Promise((function(t,a){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_PAY",data:{steamUsername:e,amount:n,netAmount:i,currency:o,transactionId:s,paymentMethod:l}},(function(e){if(e.success)t(e);else{var n={status:"error",text:e.error};(0,r.W)(n,5e3,(function(){})),a(e)}}))}))})),l(this,"initSteamRefillBySih",(function(t){var e=t.steamUsername,n=t.amount,i=t.currency,a=void 0===i?"RUB":i,o=t.transactionId;return new Promise((function(t,i){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_PAY_BY_SIH_BALANCE",data:{steamUsername:e,amount:n,currency:a,transactionId:o}},(function(e){var n;if(e.success&&"success"===(null===(n=e.response)||void 0===n?void 0:n.status)){(0,r.W)({status:"success",text:"Пополнение успешно оплачено"},5e3,(function(){})),t()}else{var a={status:"refill-error",text:e.error};(0,r.W)(a,5e3,(function(){})),i()}}))}))}))})))},7068:(t,e,n)=>{n.d(e,{H:()=>r});var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";return $J('\n    <label class="sih-global sih-tos" for="sih-tos-'.concat(t,'">\n      <input type="checkbox" name="sih-tos" id="sih-tos-').concat(t,'" class="sih-modal__input hidden" />\n      <label class="fake-checkbox sih-tos__input" for="sih-tos-').concat(t,'"></label>\n      <div class="row items-center flex-wrap gap-5 sih-modal__text sih-modal__text_md ticker-wrapper">\n        <span class="ticker">\n          <span class="sih-modal__text_blue sih-modal__text_white">').concat(SIHLang.TOS.tos_1,'</span>\n          <a\n            href="https://sih.app/terms-of-service"\n            target="_blank"\n            class="sih-modal__text_blue text-decoration-underline hover-opacity-8"\n            >').concat(SIHLang.TOS.tos_2,'.</a\n          >\n          <span class="sih-modal__text_blue sih-modal__text_white sih-tos__info">').concat(SIHLang.TOS.tos_tooltip,"</span>\n        </span>\n      </div>\n    </label>\n  "))}},4285:(t,e,n)=>{n.d(e,{I:()=>a,P:()=>i});var r=n(4056),i={_name:"SIH_FILTER_MARKET_HISTORY",get:function(){return r.zc.get(this._name)},set:function(t){r.zc.set(this._name,t)}},a={_name:"SIH_MARKET_TAB",get:function(){return r.zc.get(this._name)},set:function(t){r.zc.set(this._name,t)}}},4317:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return e};var t,e={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function _(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=_;var f="suspendedStart",m="suspendedYield",p="executing",g="completed",v={};function y(){}function b(){}function w(){}var k={};u(k,c,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(P([])));C&&C!==n&&a.call(C,c)&&(k=C);var x=w.prototype=y.prototype=Object.create(k);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(i,o,s,c){var l=h(t[i],t,o);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==r(u)&&a.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(u).then((function(t){d.value=t,s(d)}),(function(t){return n("throw",t,s,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(a,a):a()}})}function L(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?g:m,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return b.prototype=w,o(x,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,d,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(I.prototype),u(I.prototype,l,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(_(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(x),u(x,d,"Generator"),u(x,c,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function a(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,c,"next",t)}function c(t){a(o,r,i,s,c,"throw",t)}s(void 0)}))}}n.d(e,{m:()=>h});var s={history:[],from:0,to:500,totalCount:0,progress:0,requestCount:500,numOfRequests:0,inProgress:!1,lastRequestSuccessful:!0},c=0,l=null,d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=new Date,_=!1,h=function(){var t=o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f();case 3:m(),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0,s.lastRequestSuccessful=!1;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=o(i().mark((function t(){var e,n,r,a,o,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=$J("#BG_bottom"),n=$J(".sih.my_market_history_filtration"),(r=$J('\n    <div id="sih-tab-content-export-market-history" class="sih-global sih-export-market-history">\n      <div class="sih-export-market-history__left-side">\n        <div class="row gap-4 items-center">\n          <div class="sih-export-market-history__info-icon" title="'.concat(SIHLang.export_market_history.tooltip_1,'">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                fill="currentColor"\n              />\n            </svg>\n          </div>\n          <span class="text text_white fs-14">').concat(SIHLang.export_market_history.title,':</span>\n        </div>\n        <div class="sih-export-market-history__number-items sih-number-items">\n          <div class="sih-number-items__content">\n            <span class="text text_white fs-14 whitespace-nowrap">').concat(SIHLang.export_market_history.number_items,':</span>\n            <span class="sih-number-items__start text text_white fs-14 bold" data-value="0">0</span>\n            <span class="text text_white fs-14 bold">-</span>\n            <span class="sih-number-items__finish text text_white fs-14 bold text-ellipsis" data-value="0">0</span>\n          </div>\n          <div class="sih-number-items__arrow">\n            <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M8.00146 11.389L12.001 6.58861L4.00097 6.58943L8.00146 11.389Z" fill="white" />\n            </svg>\n          </div>\n        </div>\n        <label for="sih-export-market-history-input-non-transaction">\n          <label for="sih-export-market-history-input-non-transaction" class="sih-export-market-history__checkbox text"\n            >').concat(SIHLang.export_market_history.exclude_non_transaction,'</label\n          >\n          <input id="sih-export-market-history-input-non-transaction" type="checkbox" />\n        </label>\n      </div>\n      <div class="sih-export-market-history__right-side">\n        <div class="row gap-20">\n          <a\n            href="javascript:void(0)"\n            id="sih-export-market-history"\n            class="text-uppercase bold sih-export-market-history__btn"\n            >').concat(SIHLang.export_market_history.export_csv,'</a\n          >\n          <div\n            id="sih-export-market-history-progress"\n            class="hidden text-uppercase bold sih-export-market-history__btn sih-export-market-history__btn_process"\n          >\n            <span class="text text_white fs-12">').concat(SIHLang.export_market_history.loading,'</span>\n            <div class="row">\n              <span class="text text_white fs-12">(</span>\n              <span class="sih-export-market-history__working-progress text text_white fs-12" data-value="0">0</span>\n              <span class="text text_white fs-12">%)</span>\n            </div>\n          </div>\n          <a\n            href="javascript:void(0)"\n            id="sih-market-history-download"\n            class="hidden text-uppercase bold sih-export-market-history__btn"\n            >').concat(SIHLang.export_market_history.download,'</a\n          >\n        </div>\n      </div>\n    </div>\n    <div id="sih-number-items-modal" class="sih-number-items-modal sih-global">\n      <div class="row justify-between">\n        <span class="text text_white fs-12">').concat(SIHLang.export_market_history.select_range,'</span>\n        <div class="sih-number-items-modal__close">\n          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M8.00214 8.93499L4.7358 12.202C4.6136 12.3242 4.45805 12.3854 4.26916 12.3854C4.08027 12.3854 3.92471 12.3243 3.80247 12.2021C3.68024 12.0799 3.61911 11.9243 3.61909 11.7354C3.61907 11.5466 3.68017 11.391 3.80238 11.2688L7.06871 8.00175L3.8017 4.73542C3.67947 4.61321 3.61834 4.45766 3.61832 4.26877C3.6183 4.07989 3.6794 3.92432 3.80161 3.80209C3.92382 3.67985 4.07937 3.61873 4.26826 3.61871C4.45714 3.61869 4.61271 3.67978 4.73494 3.80199L8.00194 7.06832L11.2683 3.80132C11.3905 3.67909 11.546 3.61796 11.7349 3.61794C11.9238 3.61792 12.0794 3.67902 12.2016 3.80122C12.3238 3.92343 12.385 4.07898 12.385 4.26787C12.385 4.45676 12.3239 4.61232 12.2017 4.73456L8.93537 8.00156L12.2024 11.2679C12.3246 11.3901 12.3857 11.5457 12.3858 11.7345C12.3858 11.9234 12.3247 12.079 12.2025 12.2012C12.0803 12.3235 11.9247 12.3846 11.7358 12.3846C11.5469 12.3846 11.3914 12.3235 11.2691 12.2013L8.00214 8.93499Z"\n              fill="currentColor"\n            />\n          </svg>\n        </div>\n      </div>\n      <div class="column gap-4">\n        <label for="sih-number-items-modal-input-start" class="sih-number-items-modal__input-outer">\n          <label class="text text_white fs-12">').concat(SIHLang.export_market_history.from,': </label>\n          <input\n            id="sih-number-items-modal-input-start"\n            class="sih-number-items-modal__input"\n            type="number"\n            value="0"\n          />\n        </label>\n        <label for="sih-number-items-modal-input-finish" class="sih-number-items-modal__input-outer">\n          <span class="text text_white fs-12">').concat(SIHLang.export_market_history.to,': </span>\n          <input\n            id="sih-number-items-modal-input-finish"\n            class="sih-number-items-modal__input"\n            type="number"\n            value="0"\n          />\n        </label>\n      </div>\n      <div class="row justify-end">\n        <a href="javascript:void(0)" id="sih-number-items-modal-apply" class="sih-export-market-history__btn"\n          >').concat(SIHLang.export_market_history.apply,"</a\n        >\n      </div>\n    </div>\n  "))).find(".sih-export-market-history__info-icon").tooltip({position:{my:"center bottom-10",at:"center top"}}),r.find("#sih-export-market-history-input-non-transaction").checkboxradio(),(a=e.find("#sih-tab-content-export-market-history")).length){t.next=17;break}return n.before(r),t.next=10,w(0,50);case 10:o=t.sent,c=o.total_count,s.totalCount=c||0,r.find(".sih-number-items__finish").attr("data-value",s.totalCount).text(s.totalCount),r.find("#sih-number-items-modal-input-finish").val(s.totalCount),t.next=18;break;case 17:a.show();case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){p(),g(),v(),y(),b()},p=function(){var t=$J("#sih-tab-content-export-market-history").find(".sih-number-items"),e=$J("#sih-number-items-modal"),n=t.find(".sih-number-items__arrow"),r=$J("#BG_bottom");t.off("click").on("click",(function(t){var i=t.currentTarget;r.toggleClass("relative");var a=$J(i),o=a.outerWidth(),s=a.position();e.toggleClass("active"),n.toggleClass("active"),e.css("width",o),e.css("left",s.left)}))},g=function(){var t=$J("#sih-tab-content-export-market-history"),e=$J("#sih-number-items-modal"),n=t.find(".sih-number-items").find(".sih-number-items__arrow"),r=$J("#BG_bottom");e.on("click",".sih-number-items-modal__close",(function(){e.removeClass("active"),n.removeClass("active"),r.removeClass("relative")}))},v=function(){var t=$J("#sih-tab-content-export-market-history"),e=t.find(".sih-number-items"),n=$J("#sih-number-items-modal"),r=n.find("#sih-number-items-modal-apply"),i=e.find(".sih-number-items__arrow");r.off("click").on("click",(function(r){r.currentTarget;var a=+n.find("#sih-number-items-modal-input-start").val(),o=+n.find("#sih-number-items-modal-input-finish").val();e.find(".sih-number-items__start").attr("data-value",a).text(a),e.find(".sih-number-items__finish").attr("data-value",o).text(o),n.removeClass("active"),i.removeClass("active"),t.find("#sih-export-market-history").removeClass("hidden"),t.find("#sih-market-history-download").addClass("hidden").attr("href","javascript:void(0)")}))},y=function(){var t=$J("#sih-tab-content-export-market-history"),e=t.find("#sih-export-market-history"),n=t.find("#sih-export-market-history-progress"),r=n.find(".sih-export-market-history__working-progress"),a=t.find(".sih-number-items");e.off("click").click(o(i().mark((function o(){var d,u;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return d=+$J("#sih-number-items-modal-input-start").val(),u=+$J("#sih-number-items-modal-input-finish").val(),e.addClass("hidden"),n.removeClass("hidden"),a.addClass("disabled"),t.find("#sih-market-history-download").addClass("hidden").attr("href","javascript:void(0)"),r.attr("data-value",0).text(0),_=0===d,s.from=d,s.to=u,s.inProgress=!0,s.history.length=0,s.progress=0,l=null,c=(new Date).getFullYear(),i.next=17,C();case 17:case"end":return i.stop()}}),o)}))))},b=function(){$J("#sih-number-items-modal").find(".sih-number-items-modal__input").each((function(t,e){var n=$J(e);n.on("input",(function(t){var e=t.target,n="sih-number-items-modal-input-start"===$J(e).attr("id"),r=$J("#sih-number-items-modal-input-start"),i=$J("#sih-number-items-modal-input-finish"),a=+r.val(),o=+i.val(),c=n?s.totalCount-1:s.totalCount,l=$J(e).val();l=l.replace(/[^0-9]/g,""),$J(e).val(c>=l?l:c);var d=+$J(e).val();n&&d>=o&&$J(e).val(o-1),!n&&d<=a&&r.val(d-1)})),n.on("keypress",(function(t){var e=t.which||t.keyCode;(e<48||e>57)&&t.preventDefault()})),n.on("paste",(function(t){var e="sih-number-items-modal-input-start"===$J(t.target).attr("id"),n=$J("#sih-number-items-modal-input-start"),r=$J("#sih-number-items-modal-input-finish"),i=+n.val(),a=+r.val(),o=e?s.totalCount-1:s.totalCount,c=(t.originalEvent||t).clipboardData.getData("text/plain");c=c.replace(/[^0-9]/g,""),$J(t.target).val(o>=c?c:o);var l=+$J(t.target).val();e&&l>=a&&$J(t.target).val(a-1),!e&&l<=i&&n.val(l-1),t.preventDefault()}))}))},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.requestCount;return new Promise((function(n,r){$J.ajax({method:"GET",url:"https://steamcommunity.com/market/myhistory",data:{l:"en",start:t,count:e}}).done((function(t){n(t)})).fail((function(t){r(t)}))}))},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.split(" "),r=parseInt(n[0]),i=d.indexOf(n[1]);isNaN(r)&&(r=parseInt(n[1]),i=d.indexOf(n[0]));var a=Date.UTC(c,i,r);return(a>u||l&&l<a)&&(e?a=Date.UTC(c-1,i,r):(c--,a=Date.UTC(c,i,r))),e||(l=a),a},S=function(t,e,n){var r=$J(t),i=[];return r.find(".market_listing_row.market_recent_listing_row").each((function(t,r){var a=$J(r),o=a.find(".market_listing_item_name").text(),s=a.find(".market_listing_game_name").text(),c=a.find(".market_listing_price").text().replace(/руб./g,"₽").trim(),l=$J(a.find(".market_listing_listed_date").get(0)).text().trim(),d=_?new Date(k(l)).toLocaleDateString():null,u=$J(a.find(".market_listing_listed_date").get(1)).text().trim(),h=_?new Date(k(u,!0)).toLocaleDateString():null,f=GetPriceValueAsInt(c),m=function(t){var e;switch(t.find(".market_listing_gainorloss").text().trim()){case"+":e="purchase";break;case"-":e="sale";break;default:e=t.find(".market_listing_whoactedwith").text().replace(/\s/g,"")}return e}(a),p=null,g=null,v=null,y=null,b=null,w=null,S=null,C=null,x=!1;if("sale"===m||"purchase"===m){var A=r.id,I=e.split("".concat(A,"_name"))[1].split(");")[0].split(",");p=parseInt(I[1]),g=parseInt(I[2].split("'")[1]),v=I[3].split("'")[1];var L=n[p][g][v];y=L.classid,b=L.instanceid,w=L.unowned_contextid,S=L.unowned_id,C=L.market_hash_name,x=!0}i.push({itemName:o,gameName:s,listedOn:h||u,actedOn:d||l,displayPrice:c,priceInCents:f,type:m,marketName:C,appID:p,contextID:g,assetID:v,classID:y,instanceID:b,unOwnedContextID:w,unOwnedID:S,detailedRow:x})})),i},C=function(){var t=o(i().mark((function t(){var e,n,r,a,c,l,d,u,_,h,f,m,p;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=$J("#sih-tab-content-export-market-history"),n=s.lastRequestSuccessful?5e3:3e4,r=e.find("#sih-export-market-history-progress"),a=r.find(".sih-export-market-history__working-progress"),c=e.find(".sih-number-items"),t.prev=5,!s.inProgress){t.next=22;break}return t.next=9,w(s.from+s.progress,s.requestCount);case 9:l=t.sent,d=l.results_html,u=l.hovers,_=l.assets,s.lastRequestSuccessful=!0,s.progress+=s.requestCount,s.history=s.history.concat(S(d,u,_)),h=Math.ceil((s.to-s.from)/500),f=100/h,m=+a.attr("data-value"),p=m+f,a.attr("data-value",p).text(Math.floor(p)),s.progress>=s.to-s.from?(r.addClass("hidden"),c.removeClass("disabled"),s.inProgress=!1,x()):setTimeout(o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),n);case 22:t.next=29;break;case 24:t.prev=24,t.t0=t.catch(5),s.lastRequestSuccessful=!1,setTimeout(o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),n),t.t0;case 29:case"end":return t.stop()}}),t,null,[[5,24]])})));return function(){return t.apply(this,arguments)}}(),x=function(){for(var t=$J("#sih-export-market-history-input-non-transaction").is(":checked"),e="Item Name,Game Name,Listed On,Acted On,Display Price,Price in Cents,Type,Market Name,App Id,Context Id,Asset Id,Instance Id,Class Id,Unowned Context Id,Unowned Id\n",n=0;n<s.to-s.from;n++){var r=s.history[n];if(!t||"purchase"===r.type||"sale"===r.type)e+=(r.detailedRow?'"'.concat(r.itemName,'","').concat(r.gameName,'","').concat(r.listedOn,'","').concat(r.actedOn,'","').concat(r.displayPrice,'","').concat(r.priceInCents,'","').concat(r.type,'","').concat(r.marketName,'","').concat(r.appID,'","').concat(r.contextID,'","').concat(r.assetID,'","').concat(r.instanceID,'","').concat(r.classID,'","').concat(r.unOwnedContextID,'","').concat(r.unOwnedID,'"'):'"'.concat(r.itemName,'","').concat(r.gameName,'","').concat(r.listedOn,'","').concat(r.actedOn,'","').concat(r.displayPrice,'","').concat(r.priceInCents,'","').concat(r.type,'",,,,,,,,,'))+"\n"}var i=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(i),o=$J("#sih-export-market-history"),c=$J("#sih-market-history-download");o.addClass("hidden"),c.attr("href",a),c.attr("download","my_market_history_".concat(Date.now(),".csv")),c.removeClass("hidden")}},8156:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{marketMyHistoryRequestBefore:()=>marketMyHistoryRequestBefore,marketMyHistoryRequestOnFailureBefore:()=>marketMyHistoryRequestOnFailureBefore,marketMyHistoryRequestOnSuccessAfter:()=>marketMyHistoryRequestOnSuccessAfter,marketMyHistoryRequestOnSuccessBefore:()=>marketMyHistoryRequestOnSuccessBefore,selectTabMarket:()=>selectTabMarket});var _common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4285),_exportMarketHistory_content__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4317),g_sihSelectTabMarket="",g_sihSettingFiltration={};function selectTabMarket(){$J("#myMarketTabs").find(".market_tab_well_tabs a").on("click",(function(){g_sihSelectTabMarket=$J(this).attr("id"),$J(this).addClass("market_tab_well_tab_active").siblings().removeClass("market_tab_well_tab_active").addClass("market_tab_well_tab_inactive"),"tabMyMarketHistory"===g_sihSelectTabMarket?($J("#BG_bottom").find(".my_market_history_filtration").show(),$J("#BG_bottom").find("#sih-tab-content-export-market-history").show()):($J("#BG_bottom").find(".my_market_history_filtration").hide(),$J("#BG_bottom").find("#sih-tab-content-export-market-history").hide())}))}function marketMyHistoryRequestBefore(t,e){spinnerFilterMarketHistory(!0);var n=getLocalStorage();e.parameters.count=n.isVisibleSlots?500:window.historypagesize}function marketMyHistoryRequestOnFailureBefore(){spinnerFilterMarketHistory(!1)}function marketMyHistoryRequestOnSuccessBefore(){"tabMyMarketHistory"===(g_sihSelectTabMarket=$J("#myMarketTabs .market_tab_well_tabs a.market_tab_well_tab_active").attr("id"))?(loadCheckboxHistoryFiltration(getLocalStorage()),(0,_exportMarketHistory_content__WEBPACK_IMPORTED_MODULE_1__.m)(),$J("#BG_bottom").find(".my_market_history_filtration").show()):($J("#BG_bottom").find(".my_market_history_filtration").hide(),$J("#BG_bottom").find(".animated").removeClass("animated"))}function marketMyHistoryRequestOnSuccessAfter(t,e,n){if($J(".sih.my_market_history_filtration .switcher_history_filtration").hasClass("selected")){if(e.start||$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row").hide(),0===$J("#tabContentsMyMarketHistory").find(".market_listing_table_showmore").length){var r=$J("#tabContentsMyMarketHistory_ctn");r.hide();for(var i='<a\n        class="sih_button sih_pre_shadow_button collapse_my_history"\n        href="javascript:void(0);"\n        >'.concat(SIHLang.collapseHistoryMarket,"</a\n      >"),a=0,o=[10,25,50,100];a<o.length;a++){var s=o[a];i+='<a\n          class="sih_button sih_pre_shadow_button upload_my_history"\n          data-number="'.concat(s,'"\n          href="javascript:void(0);"\n          >').concat(SIHLang.uploadHistoryMarket.replace("$1",s),"</a\n        >")}r.after('<div class="market_listing_table_showmore sih">\n          <div class="upload_my_history_buttons">'.concat(i,"</div>\n        </div>")),$J("#tabContentsMyMarketHistory").find(".upload_my_history").click($J.debounce(300,(function(){viewFilterMarketHistory(!0,$J(this).data("number"),this),colorMarketHistory()}))),$J("#tabContentsMyMarketHistory").find(".collapse_my_history").click($J.debounce(300,(function(){$J("body, html").animate({scrollTop:240},400),g_sihSettingFiltration.totalCountView=10,clearTableHistory(this)})))}Object.keys(n.responseJSON.assets).length>0?g_sihSettingFiltration.start=n.responseJSON.start+n.responseJSON.pagesize:g_sihSettingFiltration.emptyAssets=!0,g_sihSettingFiltration.totalCount=n.responseJSON.total_count,0===$J(".market_listing_table_showmore.sih").find(".sih__total-count").length&&$J(".market_listing_table_showmore.sih").prepend('<div class="sih__total-count">\n          <span>'.concat(SIHLang.historyTotal,": ").concat(g_sihSettingFiltration.totalCount,"</span>\n        </div>")),viewFilterMarketHistory(),spinnerFilterMarketHistory(!1)}else ImprovedMyMarketHistoryNav.init();colorMarketHistory()}function getLocalStorage(){var t,e=_common__WEBPACK_IMPORTED_MODULE_0__.P.get();return null!==(t=e)&&void 0!==t&&t.isChangedForced||(e={isSlotPurchasedHistoryTran:!0,isSlotSoldHistoryTran:!0,isVisibleSlots:!0,isChangedForced:!0},_common__WEBPACK_IMPORTED_MODULE_0__.P.set(e)),e}function loadCheckboxHistoryFiltration(t){0===$J("#BG_bottom").find(".my_market_history_filtration").length&&($J("#myMarketTabs").after('\n      <div class="sih my_market_history_filtration">\n        <div class="switch_history_filtration">\n          <a class="switcher_history_filtration" href="javascript:void(0);">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M13 3H11V13H13V3ZM17.83 5.17L16.41 6.59C18.05 7.91 19 9.9 19 12C19 13.8565 18.2625 15.637 16.9497 16.9497C15.637 18.2625 13.8565 19 12 19C8.13997 19 4.99997 15.88 4.99997 12C4.99997 9.91 5.94997 7.91 7.57997 6.58L6.16997 5.17C2.37997 8.39 1.91997 14.07 5.13997 17.86C8.35997 21.64 14.04 22.1 17.83 18.88C19.85 17.17 21 14.65 21 12C21 9.37 19.84 6.87 17.83 5.17Z"\n                fill="#3DC67D"\n              />\n            </svg>\n            '.concat(SIHLang.filters,'\n          </a>\n        </div>\n\n        <div class="slots_history_tran">\n          <div class="slot_history_tran">\n            <label\n              for="slot_purchased_history_tran"\n              class="sih_checkbox ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-checked ui-state-active"\n              >').concat(SIHLang.historySaleSlotPurchased,'</label\n            >\n            <input\n              type="checkbox"\n              data-id="isSlotPurchasedHistoryTran"\n              class="ui-checkboxradio ui-helper-hidden-accessible"\n              ').concat(t.isSlotPurchasedHistoryTran?"checked":"",'\n              id="slot_purchased_history_tran"\n            />\n          </div>\n\n          <div class="slot_history_tran">\n            <label\n              for="slot_sold_history_tran"\n              class="sih_checkbox ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-checked ui-state-active"\n              >').concat(SIHLang.historySaleSlotSold,'</label\n            >\n            <input\n              type="checkbox"\n              data-id="isSlotSoldHistoryTran"\n              ').concat(t.isSlotSoldHistoryTran?"checked":"",'\n              class="ui-checkboxradio ui-helper-hidden-accessible"\n              id="slot_sold_history_tran"\n            />\n          </div>\n        </div>\n      </div>\n    ')),t.isVisibleSlots&&$J(".sih.my_market_history_filtration .switcher_history_filtration").addClass("selected"),loadSlots(t),$J(".sih.my_market_history_filtration .switcher_history_filtration").click((function(){var e=$J(this);e.hasClass("selected")?(e.removeClass("selected"),t.isVisibleSlots=!1):(e.addClass("selected"),t.isVisibleSlots=!0),_common__WEBPACK_IMPORTED_MODULE_0__.P.set(t),loadSlots(t)})))}function loadSlots(t){$J("#new_tab_contents_my_market_history_table").remove();var e=$J(".my_market_history_filtration");$J("#slot_removed_history_tran, #slot_placed_history_tran, #slot_purchased_history_tran, #slot_sold_history_tran").checkboxradio(),t.isVisibleSlots?($J("#BG_bottom").append('<div id="new_tab_contents_my_market_history_table" style="display: none"></div>'),g_sihSettingFiltration={},e.removeClass("inactive"),e.find("input").change((function(){var n=$J(this);e.find("input:checked").length?(t[n.data("id")]=n.prop("checked"),_common__WEBPACK_IMPORTED_MODULE_0__.P.set(t),g_sihSettingFiltration={},LoadMarketHistory()):n.prop("checked",!0).checkboxradio("refresh")}))):e.addClass("inactive"),LoadMarketHistory()}function performFilterMarketHistory(){var t=0,e=!1;return $J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row").each((function(n,r){var i=!1;g_sihSettingFiltration.totalCountView<=t&&(i=!0);var a=getLocalStorage();a.isSlotPurchasedHistoryTran&&($J(r).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("+")>-1&&(i?e=!0:(t++,$J(r).addClass("new_history_row_market"))));a.isSlotSoldHistoryTran&&($J(r).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("-")>-1&&(i?e=!0:(t++,$J(r).addClass("new_history_row_market"))));if(i&&e)return!1})),e}function clearTableHistory(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var e=$J(t).text();$J(t).addClass("animation-background"),$J(t).text(SIHLang.loading);var n=0,r=$J("#tabContentsMyMarketHistoryRows");$J(r).find(".market_listing_row.market_recent_listing_row").each((function(t,e){$J(e).attr("style").includes("block")&&(++n>10?$J(e).hide("slow"):$J(e).show("slow"))})),setTimeout((function(){$J(t).removeClass("animation-background"),$J(t).text(e)}),500)}}function uploadMarketHistory(currentButton,defaultText){new Ajax.Request("https://steamcommunity.com/market/myhistory?count=500",{method:"get",parameters:{start:g_sihSettingFiltration.start},onSuccess:function onSuccess(transport){if($J(currentButton).removeClass("animation-background"),$J(currentButton).text(defaultText),transport.responseJSON){g_sihSettingFiltration.emptyAssets=!1;var response=transport.responseJSON,$newTable=$J("#new_tab_contents_my_market_history_table");$newTable.append(response.results_html),$newTable.find(".market_listing_row.market_recent_listing_row").hide(),$J("#tabContentsMyMarketHistoryRows").append($newTable.find(".market_listing_row.market_recent_listing_row")),$newTable.empty(),MergeWithAssetArray(response.assets),eval(response.hovers)}}})}function viewFilterMarketHistory(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;void 0===g_sihSettingFiltration.totalCountView?g_sihSettingFiltration.totalCountView=e:t&&!g_sihSettingFiltration.emptyAssets&&(g_sihSettingFiltration.totalCountView+=e);performFilterMarketHistory();var r=function(t){a.each((function(t,e){$J(e).removeClass("new_history_row_market").show()}))},i=$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row"),a=$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row.new_history_row_market");if(g_sihSettingFiltration.totalCountView>a.length)if(g_sihSettingFiltration.totalCount>i.length||g_sihSettingFiltration.emptyAssets){$J(n).addClass("animation-background");var o=$J(n).text();$J(n).text(SIHLang.loading),setTimeout((function(){uploadMarketHistory(n,o)}),3e3)}else r();else r()}function spinnerFilterMarketHistory(t){t?($J("#upload_my_history").addClass("sih-disabled"),$J(".spinner_upload_my_history").css({display:"inline-block"})):($J(".spinner_upload_my_history").css({display:"none"}),$J("#upload_my_history").removeClass("sih-disabled"))}function colorMarketHistory(){$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row:visible").each((function(t,e){$J(e).find(".sih_market_listing_left_cell_color").length||($J(e).find(".market_listing_gainorloss").before(' <div class="market_listing_left_cell sih_market_listing_left_cell_color"></div> '),$J(e).find(".sih_market_listing_left_cell_color").append($J(e).find(".market_listing_gainorloss")).append('<div class="color_background"></div>').append($J(e).find(".market_listing_item_img")));var n=$J(e).find(".market_listing_left_cell.market_listing_gainorloss").text();if(n.indexOf("+")>-1){var r=$J(e).find(".market_listing_price").text();r.includes("-")||$J(e).find(".market_listing_price").text("-".concat(r.trim()))}if(n.indexOf("-")>-1){var i=$J(e).find(".market_listing_price").text();i.includes("+")||$J(e).find(".market_listing_price").text("+".concat(i.trim()))}window.color_slot_purchased_history_tran_show&&($J(e).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("+")>-1&&$J(e).find(".sih_market_listing_left_cell_color").css({"background-color":window.color_slot_purchased_history_tran}));window.color_slot_sold_history_tran_show&&($J(e).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("-")>-1&&$J(e).find(".sih_market_listing_left_cell_color").css({"background-color":window.color_slot_sold_history_tran}))}))}},6331:(t,e,n)=>{n.d(e,{W:()=>c});var r=n(8491),i=n(7123),a=n(6716),o=[{bannerId:"sih_sda",func:function(){i.A.set({group:"sih-internal",target:"Community Market",action:"click",properties:{prop1:"Take charge of your Steam security"}}),chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_OPEN_SDA_WINDOW"},(function(){}))}},{bannerId:"steam_refill",func:function(){i.A.set({group:"sih-internal",target:"Community Market",action:"click",properties:{prop1:"Steam refill with great value"}}),(0,a.S)()}}],s=function(){$J("#sideBar .market-side-banner").click((function(){var t=$J(this).attr("data-banner-id");o.find((function(e){return e.bannerId===t})).func()}))},c=function(){l(),s()},l=function(){var t=d(),e='<div class="market-side-banner" data-banner-id="'.concat(t.bannerId,'">\n    <div class="market-side-banner__text">').concat(SIHLang.internal_ad_banner[t.bannerId],'</div>\n    <img\n      alt="').concat(t.bannerId,'"\n      src="chrome-extension://').concat(SIHID,"/assets/market/sideBanners/").concat(t.bannerId,'.svg"\n      class="market-side-banner__img"\n    />\n  </div>');$J("#sideBar").append(e)},d=function(){var t,e=$J("#application_config").attr("data-userinfo"),n=e?null===(t=JSON.parse(e))||void 0===t?void 0:t.country_code:null,i=n&&r.V.includes(n)?o:o.filter((function(t){return"sih_sda"!==t.bannerId}));return i[Math.floor(Math.random()*i.length)]}},3450:(t,e,n)=>{n.d(e,{E1:()=>i});var r=n(4056),i={_name:"SIH_MARKETPLACE_BANNERS",get:function(){return r.zc.get(this._name)||{}},set:function(t){r.zc.set(this._name,t)}}},527:(t,e,n)=>{n.d(e,{LoadSteamAppFilters:()=>i,RefactorAdvancedSearchDialog:()=>r});n(6331);var r=function(){window.AdvancedSearchDialog={m_bInitialized:!1,m_fnDocumentKeyHandler:null,m_modal:null,Initialize:function(){},Show:function(){if("function"!=typeof window.g_fnShowMarketSearch){this.m_bInitialized||this.Initialize(),this.m_fnDocumentKeyHandler=this.OnDocumentKeyPress.bindAsEventListener(this),$(document).observe("keydown",this.m_fnDocumentKeyHandler);var t=this;this.m_modal=ShowDialog("Search Community Market",$J("#market_advancedsearch_dialog").show()),this.m_modal.SetRemoveContentOnDismissal(!1),this.m_modal.always((function(){t.Dismiss()})),$("market_advancedsearch_dialog").focus(),this.refactoredHeader()}else window.g_fnShowMarketSearch()},Dismiss:function(){$(document).stopObserving("keydown",this.m_fnDocumentKeyHandler),this.m_modal&&(this.m_modal.Dismiss(),this.m_modal=null)},SelectApp:function(t){this.SelectAppElement($J("#app_option_"+t))},SelectAppElement:function(t){var e=t.clone();$J("#market_advancedsearch_appselect_activeapp").empty(),e.attr("id",e.attr("id")+"_selected"),$J("#market_advancedsearch_appselect_activeapp").append(e),$J("#market_advanced_search_app").remove();var n=$J('<input type="hidden" id="market_advanced_search_app" name="appid" value="'+t.data("appid")+'"/>');$J("#market_advanced_search").append(n)},OnCancel:function(t){this.Dismiss(),t.stop()},OnDocumentKeyPress:function(t){t.keyCode==Event.KEY_ESC&&(this.Dismiss(),t.stop())},refactoredHeader:function(){var t=$J(".newmodal_header:visible"),e=$J('\n        <div class="sih-global sih-market-search">\n          <div class="sih-market-search__header row gap-25">\n            <div class="sih-market-search__header_left">\n              <div class="sih-market-search__powered"></div>\n            </div>\n\n            <div class="sih-market-search__header_right">\n              <div class="row gap-16">\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="730" title="CS 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/730/8dbc71957312bbd3baea65848b545be9eae2a355.jpg"\n                    alt="CS 2"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="570" title="Dota 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/570/0bbb630d63262dd66d2fdd0f7d37e8661a410075.jpg"\n                    alt="Dota 2"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="252490" title="Rust">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/252490/820be4782639f9c4b64fa3ca7e6c26a95ae4fd1c.jpg"\n                    alt="Rust"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="440" title="Team Fortress 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/440/e3f595a92552da3d664ad00277fad2107345f743.jpg"\n                    alt="TF 2"\n                  />\n                </a>\n\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="753" title="Steam">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/753/1d0167575d746dadea7706685c0f3c01c8aeb6d8.jpg"\n                    alt="Steam"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="866510" title="!Anyway!">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/866510/7cf8f282dabdd1f7f33a02653f877551632e6ecd.jpg"\n                    alt="!Anyway!"\n                  />\n                </a>\n                <a\n                  href="javascript:void(0)"\n                  class="sih-market-search__item"\n                  data-appid="322330"\n                  title="Don\'t Starve Together"\n                >\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/322330/a80aa6cff8eebc1cbc18c367d9ab063e1553b0ee.jpg"\n                    alt="Don\'t Starve Together"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="304930" title="Unturned">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/304930/e18009fb628b35953826efe47dc3be556b689f4c.jpg"\n                    alt="Unturned"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="218620" title="PAYDAY 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/218620/a6abc0d0c1e79c0b5b0f5c8ab81ce9076a542414.jpg"\n                    alt="PAYDAY 2"\n                  />\n                </a>\n                <a\n                  href="javascript:void(0)"\n                  class="sih-market-search__item"\n                  data-appid="232090"\n                  title="Killing Floor 2"\n                >\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/232090/15837cefb378766e9916548f8591b6eb490b9e52.jpg"\n                    alt="Killing Floor 2"\n                  />\n                </a>\n                <a\n                  href="javascript:void(0)"\n                  class="sih-market-search__item"\n                  data-appid="578080"\n                  title="PUBG: BATTLEGROUNDS"\n                >\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/578080/609f27278aa70697c13bf99f32c5a0248c381f9d.jpg"\n                    alt="PUBG: BATTLEGROUNDS"\n                  />\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      ');t.find(".sih-market-search").length||(t.append(e),t.find(".title_text").prependTo(".sih-market-search__header_left"),t.find(".sih-market-search__item").tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}));e.find(".sih-market-search__item").click((function(){var t=$J(this).data("appid");$J(".popup_item.popup_menu_item.market_advancedsearch_appname").each((function(e,n){var r=$J(n);+t==+r.data("appid")&&r.trigger("click")}))}))}}},i=function(){"undefined"!=typeof g_rgFilterData&&ProcessFilterData({facets:g_rgFilterData});var t=$J('<form id="sih_advanced_search" accept-charset="UTF8" action="https://steamcommunity.com/market/search" method="GET"></form>'),e=$J(".market_app_selector").clone(),n=$J("#market_advancedsearch_filters").clone(),r=$J('<div class="sih-market-search__powered"></div>');e.find("#market_advancedsearch_appselect").attr("id","sih_advancedsearch_appselect").attr("onClick","ShowMenu('sih_advancedsearch_appselect','sih_advancedsearch_appselect_options', 'left');"),e.find("#market_advancedsearch_appselect_activeapp").attr("id","sih_advancedsearch_appselect_activeapp"),e.find("#appselect_arrow").attr("id","sih_appselect_arrow"),e.find("#market_advancedsearch_appselect_options").attr("id","sih_advancedsearch_appselect_options"),e.find("#market_advancedsearch_appselect_options_apps").attr("id","sih_advancedsearch_appselect_options_apps"),n.attr("id","sih_advancedsearch_filters");var i=$J('\n    <div class="market_advancedsearch_bottombuttons">\n      <a href="javascript:ResetSearchFilters();">'.concat(SIHLang.reset,'</a>\n      <div onclick="document.forms[\'sih_advanced_search\'].submit();" class="btn_medium btn_green_white_innerfade">\n        <span>').concat(SIHLang.search,"</span>\n      </div>\n    </div>\n  "));t.append(r).append(e).append(n).append(i),$J("#sideBar").append(t);var a=new URLSearchParams(window.location.search);function o(t){var e=t.clone();e.attr("id",e.attr("id")+"_selected"),$J("#sih_advancedsearch_appselect_activeapp").empty().append(e),$J("#sih_advanced_search_app").remove();var n=$J('<input type="hidden" id="sih_advanced_search_app" name="appid" value="'.concat(t.data("appid"),'" />'));$J("#sih_advanced_search").append(n)}$J("#sih_advancedsearch_appselect_options .popup_item.popup_menu_item.market_advancedsearch_appname").each((function(t,e){var n=$J(e);+a.get("appid")===n.data("appid")&&o(n)})),$J("#sih_advanced_search #sih_advancedsearch_appselect_options_apps .popup_item").click((function(){HideMenu($("sih_advancedsearch_appselect"),$("sih_advancedsearch_appselect_options")),o($J(this));var t=$J(this).data("appid"),e=$J("#sih_advancedsearch_filters");if(t){e.empty();var n=$J('<img\n          src="https://community.akamai.steamstatic.com/public/images/login/throbber.gif"\n          alt="Загрузка"\n          style="margin-top: 139px"\n        />');e.append(n).css("text-align","center"),$J.ajax({url:"https://steamcommunity.com/market/appfilters/"+t,type:"GET"}).error((function(){e.empty().css("text-align","inherit").text("Oops. We are sorry, but something went wrong")})).success((function(t){if(t.success){ProcessFilterData(t);var n=$J("#market_advancedsearch_filters").clone();n.attr("id","sih_advancedsearch_filters"),$J("#sih_advanced_search #sih_advancedsearch_filters").replaceWith(n)}else e.empty().css("text-align","inherit").text("Oops. We are sorry, but something went wrong")}))}}))};n(3186)},6716:(t,e,n)=>{n.d(e,{S:()=>c});var r=n(4426);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function _(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=_;var f="suspendedStart",m="suspendedYield",p="executing",g="completed",v={};function y(){}function b(){}function w(){}var k={};u(k,c,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(P([])));C&&C!==n&&r.call(C,c)&&(k=C);var x=w.prototype=y.prototype=Object.create(k);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(a,o,s,c){var l=h(t[a],t,o);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==i(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(u).then((function(t){d.value=t,s(d)}),(function(t){return n("throw",t,s,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function L(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?g:m,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(i(e)+" is not iterable")}return b.prototype=w,o(x,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,d,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},A(I.prototype),u(I.prototype,l,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(_(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(x),u(x,d,"Generator"),u(x,c,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function o(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,c,"next",t)}function c(t){o(a,r,i,s,c,"throw",t)}s(void 0)}))}}var c=function(){var t=s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l();case 2:(0,r.qT)(),(0,r.cc)();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=s(a().mark((function t(){var e,n,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=$J("body"),n=$J('\n    <div id="sih-steam-refill" class="sih-steam-refill">\n      <div class="sih-steam-refill__fade"></div>\n      <div class="sih-modal sih-global sih-steam-refill-modal '.concat((0,r.z6)()?"new-year-giveaway":"",'">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column"></div>\n      </div>\n    </div>\n  ')),i=$J('<div class="sih-steam-refill__modal-preloader active">\n      <div class="sih-steam-refill__modal-preloader_loader"></div>\n    </div>'),n.find(".sih-modal__inner").append(i),e.find(".sih-steam-refill").length||(e.append(n),$J("body").css("overflow","hidden")),d(),t.next=8,(0,r.Tq)();case 8:o=t.sent,n.find(".sih-steam-refill__modal-preloader").removeClass("active"),n.find(".sih-modal__inner").append(o);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){u()},u=function(){var t=$J("#sih-steam-refill");t.on("click",".sih-steam-refill__fade, .sih-modal__close",(function(){t.hide().remove(),$J("body").css("overflow","auto")})),$J(document).off("keydown").keydown(function(){var e=s(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:27===n.keyCode&&(n.stopPropagation(),t.hide().remove(),$J("body").css("overflow","auto"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},1029:(t,e,n)=>{n.d(e,{A:()=>r});const r={msg:{BACKGROUND_GET_INVENTORY_VALUE:"GetInventoryValue",BACKGROUND_GET_INVENTORY_ITEMS:"GetInventoryItems",BACKGROUND_GET_EXTPRICE_TF2BP:"TF2BP",BACKGROUND_GET_EXTPRICES:"GET_EXTERNAL_PRICES",BACKGROUND_GET_PLAYER_ITEMS:"GetPlayerItems",BACKGROUND_GET_PLAYER_BANS:"GetPlayerBans",BACKGROUND_GET_LAST_TRADES:"GetLastTrades",BACKGROUND_GET_EXCHANGE_RATES:"exchangerate",BACKGROUND_GET_BANNER:"GetBanner",BACKGROUND_GET_CUSTOM:"getcustom",BACKGROUND_GET_CUSTOM_TOTAL:"getcustomtotal",BACKGROUND_GET_STEAM_PRICES:"GET_STEAM_PRICES",BACKGROUND_GET_PRICE_FROM_STEAM:"GET_PRICE_FROM_STEAM",BACKGROUND_SEND_MARKETPLACE_FEEDBACK:"SEND_MARKETPLACE_FEEDBACK",BACKGROUND_GET_MANIFEST_APP:"GET_MANIFEST_APP",BACKGROUND_GET_MARKETPLACES:"GET_MARKETPLACES",BACKGROUND_REMOVE_BOOKMARK:"RemoveBookmark",BACKGROUND_UPDATE_BOOKMARKS:"UpdateBookmarks",BACKGROUND_SET_TRADEOFFER_NUMBERS:"SetTradeOfferNumbers",BACKGROUND_GET_STEAM_PLAYER_BADGES:"GetSteamPlayerBadges",BACKGROUND_GET_STEAM_BADGES:"GetSteamBadges",BACKGROUND_GET_STEAM_PLAYER_AVAILABLE_CARDS:"getSteamPlayerAvailableCards",BACKGROUND_SET_USER_STEAM_PRICE:"BACKGROUND_SET_USER_STEAM_PRICE",BACKGROUND_SEND_USER_STEAM_PRICE:"BACKGROUND_SEND_USER_STEAM_PRICE",BACKGROUND_GET_LISTING_ITEM_INFO:"GetListingItemInfo",BACKGROUND_GET_RATES:"GetRates",BACKGROUND_CHANGE_CURRENCY:"BACKGROUND_CHANGE_CURRENCY",BACKGROUND_GET_STEAM_BY_SIH_PRICES:"GET_STEAM_BY_SIH_PRICES",BACKGROUND_GET_PRICES_BY_MARKETPLACES:"GET_PRICES_BY_MARKETPLACES",BACKGROUND_GET_WEAPON_WEAR_MAP:"GET_WEAPON_WEAR_MAP",BACKGROUND_GET_STEAM_RUNES:"GET_STEAM_RUNES",BACKGROUND_GET_SKINS_GIVEAWAY:"GET_SKINS_GIVEAWAY",BACKGROUND_GET_STEAM_REP_BAN_INFO:"GET_STEAM_REP_BAN_INFO",BACKGROUND_GET_PLAYER_BANS_GAINSKINS:"GET_PLAYER_BANS_GAINSKINS",BACKGROUND_GET_ONLINE_USERS_BY_APPID:"GET_ONLINE_USERS_BY_APPID",BACKGROUND_GET_SIH_PRICES:"GET_SIH_PRICES",BACKGROUND_BADGE_PROGRESS_GET_BADGES:"BADGE_PROGRESS_GET_BADGES",BACKGROUND_OPEN_TAB_SETTINGS:"BACKGROUND_OPEN_TAB_SETTINGS",BACKGROUND_EVENT_STORE:"EVENT_STORE",BACKGROUND_EVENT_REGISTRATION:"EVENT_REGISTRATION",BACKGROUND_SET_EVENT_REGISTRATION_V2:"BACKGROUND_SET_EVENT_REGISTRATION_V2",BACKGROUND_SIH_SETTINGS:"SIH_SETTINGS",BACKGROUND_REGISTER_SIH_REFERRER:"REGISTER_SIH_REFERRER",BACKGROUND_REGISTER_SIH_REFERRER_DELETE:"REGISTER_SIH_REFERRER_DELETE",BACKGROUND_INVENTORY_MODE:"SIH_INVENTORY_MODE",BACKGROUND_INVENTORY_PRICE:"BACKGROUND_INVENTORY_PRICE",BACKGROUND_HIGHLIGHT_OVERPRICED:"BACKGROUND_HIGHLIGHT_OVERPRICED",BACKGROUND_TRADE_ACCEPT:"BACKGROUND_TRADE_ACCEPT",BACKGROUND_TRADE_DECLINE:"BACKGROUND_TRADE_DECLINE",BACKGROUND_TRADE_CANCEL:"BACKGROUND_TRADE_CANCEL",BACKGROUND_UPDATE_TRADE_STATUS:"BACKGROUND_UPDATE_TRADE_STATUS",BACKGROUND_TRADEOFFER_THROUGH_PARSING:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",BACKGROUND_HIGHLIGHT_OVERPRICED_AWAIT:"BACKGROUND_HIGHLIGHT_OVERPRICED_AWAIT",BACKGROUND_HIGHLIGHT_LOWERPRICED_BUY:"BACKGROUND_HIGHLIGHT_LOWERPRICED_BUY",BACKGROUND_GET_MY_STEAM_ID:"BACKGROUND_GET_MY_STEAM_ID",BACKGROUND_UPDATE_KEY_STORAGE_SYNC:"BACKGROUND_UPDATE_KEY_STORAGE_SYNC",BACKGROUND_UPDATE_WALLET:"BACKGROUND_UPDATE_WALLET",BACKGROUND_MANUAL_LOGIN:"BACKGROUND_MANUAL_LOGIN",BACKGROUND_CHECK_USER:"BACKGROUND_CHECK_USER",BACKGROUND_ON_LOGOUT_STEAM_USER:"BACKGROUND_ON_LOGOUT_STEAM_USER",BACKGROUND_UPDATE_USER_SORT_MARKET:"BACKGROUND_UPDATE_USER_SORT_MARKET",BACKGROUND_LOGIN_SIH_APP:"BACKGROUND_LOGIN_SIH_APP",BACKGROUND_GET_USER_AUTH_SIH_APP:"BACKGROUND_GET_USER_AUTH_SIH_APP",BACKGROUND_GET_SIH_APP_USER_INFO:"BACKGROUND_GET_SIH_APP_USER_INFO",BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",BACKGROUND_SET_EMAIL_SIH_APP:"BACKGROUND_SET_EMAIL_SIH_APP",BACKGROUND_DELETE_EMAIL_SIH_APP:"BACKGROUND_DELETE_EMAIL_SIH_APP",BACKGROUND_CHECK_SUBSCRIBE_ADS:"BACKGROUND_CHECK_SUBSCRIBE_ADS",BACKGROUND_ENTER_PASSWORD_SIH_APP:"BACKGROUND_ENTER_PASSWORD_SIH_APP",BACKGROUND_UPDATE_TRADELINK_SIH_APP:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",BACKGROUND_GET_SIH_APP_LOG:"BACKGROUND_GET_SIH_APP_LOG",BACKGROUND_READ_SIH_APP_LOG:"BACKGROUND_READ_SIH_APP_LOG",BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP",BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP",BACKGROUND_CREATE_INVOICE:"BACKGROUND_CREATE_INVOICE",BACKGROUND_GET_ORDER_HISTOGRAM:"BACKGROUND_GET_ORDER_HISTOGRAM",BACKGROUND_GET_SIH_TOKEN:"BACKGROUND_GET_SIH_TOKEN",BACKGROUND_GET_SIH_APP_TOKEN:"BACKGROUND_GET_SIH_APP_TOKEN",BACKGROUND_GET_EVENT_CARDS:"BACKGROUND_GET_EVENT_CARDS",BACKGROUND_CHECK_EVENT_GAME:"BACKGROUND_CHECK_EVENT_GAME",BACKGROUND_BUY_ITEM_SIH_APP:"BACKGROUND_BUY_ITEM_SIH_APP",BACKGROUND_CANCEL_ORDER_SIH_APP:"BACKGROUND_CANCEL_ORDER_SIH_APP",BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",BACKGROUND_SET_BUY_STACK_SIH_APP:"BACKGROUND_SET_BUY_STACK_SIH_APP",BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",BACKGROUND_GET_ALL_BUY_STACK_SIH_APP:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP",BACKGROUND_DELETE_BUY_STACK_SIH_APP:"BACKGROUND_DELETE_BUY_STACK_SIH_APP",BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",BACKGROUND_GET_ORDERS_HISTORY_SIH_APP:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",BACKGROUND_CREATE_BUY_ORDER_SIH_APP:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP",BACKGROUND_GET_TOP_SALES:"BACKGROUND_GET_TOP_SALES",BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",BACKGROUND_SET_DEFAULT_BUY_COUNT:"BACKGROUND_SET_DEFAULT_BUY_COUNT",BACKGROUND_GET_AUTO_LOAD_FLOATS:"BACKGROUND_GET_AUTO_LOAD_FLOATS",BACKGROUND_PING_SIH_APP_SESSION:"BACKGROUND_PING_SIH_APP_SESSION",BACKGROUND_UPDATE_USER_STATE:"BACKGROUND_UPDATE_USER_STATE",BACKGROUND_CREATE_BUY_ORDER:"BACKGROUND_CREATE_BUY_ORDER",BACKGROUND_GET_BUY_ORDER_STATUS:"BACKGROUND_GET_BUY_ORDER_STATUS",BACKGROUND_CANCEL_BUY_ORDER:"BACKGROUND_CANCEL_BUY_ORDER",BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS:"BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS",BACKGROUND_RESELL_ITEMS:"BACKGROUND_RESELL_ITEMS",BACKGROUND_SAVE_ITEM_FOR_SALE:"BACKGROUND_SAVE_ITEM_FOR_SALE",BACKGROUND_REMOVE_ITEM_FOR_SALE:"BACKGROUND_REMOVE_ITEM_FOR_SALE",BACKGROUND_GET_SAVED_ITEMS_FOR_SALE:"BACKGROUND_GET_SAVED_ITEMS_FOR_SALE",BACKGROUND_STOP_RESELL_ITEMS:"BACKGROUND_STOP_RESELL_ITEMS",BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS:"BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS",BACKGROUND_RESUBMIT_BUY_ORDER:"BACKGROUND_RESUBMIT_BUY_ORDER",BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS:"BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS",BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS:"BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS",BACKGROUND_GET_AVAILABLE_ITEM_PAY_IDS:"BACKGROUND_GET_AVAILABLE_ITEM_PAY_IDS",BACKGROUND_EDIT_PROJECTS_PERMISSION:"BACKGROUND_EDIT_PROJECTS_PERMISSION",BACKGROUND_DELETE_PROJECTS_PERMISSION:"BACKGROUND_DELETE_PROJECTS_PERMISSION",BACKGROUND_GET_PROJECTS_PERMISSION:"BACKGROUND_GET_PROJECTS_PERMISSION",BACKGROUND_GET_PRICES_FOR_EXTERNAL:"BACKGROUND_GET_PRICES_FOR_EXTERNAL",BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",BACKGROUND_CHECK_SIH_CASE:"BACKGROUND_CHECK_SIH_CASE",BACKGROUND_GET_SIH_CASES:"BACKGROUND_GET_SIH_CASES",BACKGROUND_GET_SIH_CASE_INFO:"BACKGROUND_GET_SIH_CASE_INFO",BACKGROUND_SIH_OPEN_CASE:"BACKGROUND_SIH_OPEN_CASE",BACKGROUND_GET_SIH_CASE_HISTORY:"BACKGROUND_GET_SIH_CASE_HISTORY",BACKGROUND_DELETE_SIH_CASE_HISTORY:"BACKGROUND_DELETE_SIH_CASE_HISTORY",BACKGROUND_GET_KINGUIN_PRODUCTS:"BACKGROUND_GET_KINGUIN_PRODUCTS",BACKGROUND_GET_CURRENT_USER_COUNTRY_CODE:"BACKGROUND_GET_CURRENT_USER_COUNTRY_CODE"},alarm:{MAIN:"main",CHECK_PRICE:"checkprice",CHECK_USER:"checkUser",CHECK_TRADEOFFER_THROUGH_API:"CHECK_TRADEOFFER_THROUGH_API",CHECK_TRADEOFFER_THROUGH_PARSING:"CHECK_TRADEOFFER_THROUGH_PARSING",CLEAR_TRADEOFFER_REQUEST_LIMIT:"CLEAR_TRADEOFFER_REQUEST_LIMIT",CHECK_MARKET_AUTOACCEPT_TRADES_TOGGLE:"CHECK_MARKET_AUTOACCEPT_TRADES_TOGGLE",BACKGROUND_AD_HIT_SEND:"AD_HIT_SEND",ACTUALIZE_AGENTS_STATE:"ACTUALIZE_AGENTS_STATE",ACTUALIZE_NEW_SIH_AGENT_STATE:"ACTUALIZE_NEW_SIH_AGENT_STATE",PARSING_ACTUAL_INVENTORY:"PARSING_ACTUAL_INVENTORY",CHECK_ACTUAL_BALANCE:"CHECK_ACTUAL_BALANCE",CHECK_ACTIVE_LOTS_MARKET:"CHECK_ACTIVE_LOTS_MARKET",CHECK_HISTORY_LOTS_MARKET:"CHECK_HISTORY_LOTS_MARKET",GET_EXCHANGE_RATES:"GET_EXCHANGE_RATES",GET_STEAM_RATES:"GET_STEAM_RATES",GET_STEAM_CURRENCY:"GET_STEAM_CURRENCY",UPDATE_PRICE_BOOKMARKS:"UPDATE_PRICE_BOOKMARKS",UPDATE_SIH_APP_AUTH:"UPDATE_SIH_APP_AUTH",UPDATE_SUBSCRIBE_ADS_PLANS_AND_METHODS:"UPDATE_SUBSCRIBE_ADS_PLANS_AND_METHODS",PING_SIH_APP_SESSION:"PING_SIH_APP_SESSION",BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP:"BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP",BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP:"BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP",BACKGROUND_PARSE_OTHER_INVENTORY:"BACKGROUND_PARSE_OTHER_INVENTORY",BACKGROUND_SEND_EVENT_REGISTRATION_V2:"BACKGROUND_SEND_EVENT_REGISTRATION_V2",BACKGROUND_SEND_USER_MARKET_HISTORY:"BACKGROUND_SEND_USER_MARKET_HISTORY"},markets:[{name:"waxpeer",title:"Waxpeer",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"dmarket",title:"DMarket",isView:!0,appIds:["570","730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"csgocom",title:"Csgocom",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:2},{name:"csgocomBuy",title:"Csgocom buy",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:2},{name:"csmoney",title:"CS.money",isView:!1,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"csmoneyStore",title:"CS.money Store",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"csmoneyTrade",title:"CS.money Trade",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"bitskins",title:"BitSkins",isView:!0,appIds:["730","570","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinbaron",title:"Skinbaron",isView:!0,appIds:["730","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"shadowpay",title:"ShadowPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"mannco",title:"Mann.Co",isView:!0,appIds:["440","730","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"cstrade",title:"CS.Trade",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lootfarm",title:"LOOTfarm",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lisskins",title:"Lisskins",isView:!0,appIds:["730","570","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"buff163",title:"Buff163",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"haloskins",title:"HaloSkins",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"igxe",title:"Igxe",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"gamerpay",title:"GamerPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"skinsmonkey",title:"Skinsmonkey",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinsmonkeycash",title:"Skinsmonkey cash",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinout",title:"SkinOut",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"bitskinsp2p",title:"Bitskins P2P",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"whitemarket",title:"White.market",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"steamprices",title:"Steamprices",isView:!1,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"sihmarket",title:"SIH.Market",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"rustskins",title:"Rustskins",isView:!0,appIds:["252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"steamLiveSell",title:"Steam",isView:!1,appIds:["730"],link:null,data:null,group:"B",forExternalInjection:!0},{name:"csfloat",title:"CSFloat",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"avanmarket",title:"Avan.Market",isView:!0,appIds:["570","730","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"skinplace",title:"Skin.Place",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"gameboost",title:"GameBoost",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0}],notification:{EXTENSION_UPDATED:"update",INPUT_INVITE:"comInvites",INPUT_COMMENT:"comMessages",OUTPUT_OFFER:"comSentOffers",INPUT_OFFER:"comReceivedOffers",AVAILABLE_FREE_REWARDS:"available_free_rewards",AVAILABLE_EGS_FREE:"available_egs_free"},tradeOfferState:{Invalid:1,Active:2,Accepted:3,Countered:4,Expired:5,Canceled:6,Declined:7,InvalidItems:8,CreatedNeedsConfirmation:9,CanceledBySecondFactor:10,InEscrow:11},tradeOfferType:{Sent:0,Received:1},games:{CSGO:730,COUNTER_STRIKE_GLOBAL_OFFENSIVE:730,TEAM_FORTRESS_2:440,DOTA_2:570,PAYDAY_2:218620,RUST:252490,H1Z1_JUST_SURVIVE:295110,H1Z1_KING_OF_THE_KILL:433850,UNTURNED:304930,KILLING_FLOOR_2:232090,PLAYERUNKNOWNS_BATTLEGROUNDS:578080,STEAM_COMMUNITY:753},stats:{SIH_EVENT_REGISTER_VIEW_ITEM_EVENT_REGISTER_ENABLED:"SIH_EVENT_REGISTER_VIEW_ITEM_EVENT_REGISTER_ENABLED",SIH_EVENTS_REGISTER_ENABLED:"SIH_EVENTS_REGISTER_ENABLED",SIH_REFERRER:"SIH_REFERRER"},ALLOW_LAST_STEAM_NUMBERS:[0,1,2,3,4,5,6,7,8,9],UNAVAILABLE_GROUP_APP_IDS:[321360,753],AVAILABLE_MARKET_LISTING_NUMBER_PRESETS:[10,20,100],AVAILABLE_DOTA_NAMES:[{"Music Pack":{isMarketHashName:!0,isType:!0}},{"Cursor Pack":{isMarketHashName:!0,isType:!0}},{Bundle:{isMarketHashName:!0,isType:!0}},{Taunt:{isMarketHashName:!0,isType:!1}},{"Treasure Chest":{isMarketHashName:!1,isType:!0}},{"Immortal Treasure":{isMarketHashName:!0,isType:!1}},{"Inscribed Gem":{isMarketHashName:!1,isType:!0}},{"Name Tag":{isMarketHashName:!0,isType:!1}},{"Treasure Key":{isMarketHashName:!1,isType:!0}},{"Loading Screen":{isMarketHashName:!1,isType:!0}},{"Priceless Treasure":{isMarketHashName:!1,isType:!0}}],STEAM_NOTIFICATIONS_TYPES:{TRADE:9},countries:{abw:"Aruba",afg:"Afghanistan",ago:"Angola",aia:"Anguilla",ala:"Åland Islands",alb:"Albania",and:"Andorra",are:"United Arab Emirates",arg:"Argentina",arm:"Armenia",asm:"American Samoa",ata:"Antarctica",atf:"French Southern Territories",atg:"Antigua and Barbuda",aus:"Australia",aut:"Austria",aze:"Azerbaijan",bdi:"Burundi",bel:"Belgium",ben:"Benin",bes:"Bonaire, Sint Eustatius and Saba",bfa:"Burkina Faso",bgd:"Bangladesh",bgr:"Bulgaria",bhr:"Bahrain",bhs:"Bahamas",bih:"Bosnia and Herzegovina",blm:"Saint Barthélemy",blr:"Belarus",blz:"Belize",bmu:"Bermuda",bol:"Bolivia",bra:"Brasil",brb:"Barbados",brn:"Brunei Darussalam",btn:"Bhutan",bvt:"Bouvet Island",bwa:"Botswana",caf:"Central African Republic",can:"Canada",cat:"Catalonia",cck:"Cocos (Keeling) Islands",che:"Switzerland",chl:"Chile",chn:"China",civ:"Côte d`Ivoire",cmr:"Cameroon",cod:"Congo (Democratic Republic of the Congo)",cog:"Congo (Congo-Brazzaville)",cok:"Cook Islands",col:"Colombia",com:"Comoros",cpv:"Cabo Verde",cri:"Costa Rica",cub:"Cuba",cuw:"Curaçao",cxr:"Christmas Island",cym:"Cayman Islands",cyp:"Cyprus",cze:"Czech Republic",deu:"Germany",dji:"Djibouti",dma:"Dominica",dnk:"Denmark",dom:"Dominican Republic",dza:"Algeria",ecu:"Ecuador",egy:"Egypt",eri:"Eritrea",esh:"Western Sahara",esp:"Spain",est:"Estonia",eth:"Ethiopia",fin:"Finland",fji:"Fiji",flk:"Falkland Islands (Malvinas)",fra:"France",fro:"Faroe Islands",fsm:"Micronesia",gab:"Gabon",gbr:"United Kingdom",geo:"Georgia",ggy:"Guernsey",gha:"Ghana",gib:"Gibraltar",gin:"Guinea",glp:"Guadeloupe",gmb:"Gambia",gnb:"Guinea-Bissau",gnq:"Equatorial Guinea",grc:"Greece",grd:"Grenada",grl:"Greenland",gtm:"Guatemala",guf:"French Guiana",gum:"Guam",guy:"Guyana",hkg:"Hong Kong",hmd:"Heard Island and McDonald Islands",hnd:"Honduras",hrv:"Croatia",hti:"Haiti",hun:"Hungary",idn:"Indonesia",imn:"Isle of Man",ind:"India",iot:"British Indian Ocean Territory",irl:"Ireland",irn:"Iran",irq:"Iraq",isl:"Iceland",isr:"Israel",ita:"Italy",jam:"Jamaica",jey:"Jersey",jor:"Jordan",jpn:"Japan",kaz:"Kazakstan",ken:"Kenya",kgz:"Kyrgyzstan",khm:"Cambodia",kir:"Kiribati",kna:"Saint Kitts and Nevis",kor:"Korea",kos:"Kosovo",kwt:"Kuwait",lbn:"Lebanon",lbr:"Liberia",lby:"Libya",lca:"Saint Lucia",lie:"Liechtenstein",lka:"Sri Lanka",lso:"Lesotho",ltu:"Lithuania",lux:"Luxembourg",lva:"Latvia",mac:"Macau",maf:"Saint Martin",mar:"Marokko",mco:"Monaco",mda:"Moldova",mdg:"Madagascar",mdv:"Maldives",mex:"Mexico",mhl:"Marshall Islands",mkd:"Makedonia",mli:"Mali",mlt:"Malta",mmr:"Myanmar",mne:"Montenegro",mng:"Mongolia",mnp:"Northern Mariana Islands",moz:"Mozambique",mrt:"Mauritania",msr:"Montserrat",mtq:"Martinique",mus:"Mauritius",mwi:"Malawi",mys:"Malaysia",myt:"Mayotte",nam:"Namibia",ncl:"New Caledonia",ner:"Niger",nfk:"Norfolk Island",nga:"Nigeria",nic:"Nicaragua",niu:"Niue",nld:"Netherlands",nor:"Norway",npl:"Nepal",nru:"Nauru",nzl:"New Zealand",omn:"Oman",pak:"Pakistan",pan:"Panama",pcn:"Pitcairn",per:"Peru",phl:"Phillipines",plw:"Palau",png:"Papua New Guinea",pol:"Poland",pri:"Puerto Rico",prk:"Korea",prt:"Portugal",pry:"Paraguay",pse:"State of Palestine",pyf:"French Polynesia",qat:"Qatar",reu:"Réunion",rou:"Roumania",rus:"Russia",rwa:"Rwanda",sau:"Saudi Arabia",sco:"Scotland",sdn:"Sudan",sen:"Senegal",sgp:"Singapore",sgs:"South Georgia and the South Sandwich Islands",shn:"Saint Helena, Ascension and Tristan da Cunha",sjm:"Svalbard and Jan Mayen",slb:"Solomon Islands",sle:"Sierra Leone",slv:"El Salvador",smr:"San Marino",som:"Somalia",spm:"Saint Pierre and Miquelon",srb:"Serbia",ssd:"South Sudan",stp:"Sao Tome and Principe",sur:"Suriname",svk:"Slovakia",svn:"Slovenia",swe:"Sweden",swz:"Swaziland",sxm:"Sint Maarten",syc:"Seychelles",syr:"Syrian Arab Republic",tca:"Turks and Caicos Islands",tcd:"Chad",tgo:"Togo",tha:"Thailand",tjk:"Tajikistan",tkl:"Tokelau",tkm:"Turkmenistan",tls:"Timor-Leste",ton:"Tonga",tto:"Trinidad and Tobago",tun:"Tunisia",tur:"Turkey",tuv:"Tuvalu",twn:"Taiwan, Province of China",tza:"United Republic of Tanzania",uga:"Uganda",ukr:"Ukraine",umi:"United States Minor Outlying Islands",ury:"Uruguay",usa:"USA",uzb:"Uzbekistan",vat:"Vanuatu",vct:"Vatican",ven:"Venezuela",vgb:"Virgin Islands",vnm:"Vietnam",vut:"Vanuatu",wlf:"Wallis and Futuna",wsm:"Samoa",yem:"Yemen",zaf:"South Africa",zmb:"Zambia",zwe:"Zimbabwe"},ISOToSihCountryCodes:{AD:"and",AE:"are",AF:"afg",AG:"atg",AI:"aia",AL:"alb",AM:"arm",AO:"ago",AQ:"ata",AR:"arg",AS:"asm",AT:"aut",AU:"aus",AW:"abw",AX:"ala",AZ:"aze",BA:"bih",BB:"brb",BD:"bgd",BE:"bel",BF:"bfa",BG:"bgr",BH:"bhr",BI:"bdi",BJ:"ben",BL:"blm",BM:"bmu",BN:"brn",BO:"bol",BQ:"bes",BR:"bra",BS:"bhs",BT:"btn",BV:"bvt",BW:"bwa",BY:"blr",BZ:"blz",CA:"can",CC:"cck",CD:"cod",CF:"caf",CG:"cog",CH:"che",CI:"civ",CK:"cok",CL:"chl",CM:"cmr",CN:"chn",CO:"col",CR:"cri",CU:"cub",CV:"cpv",CW:"cuw",CX:"cxr",CY:"cyp",CZ:"cze",DE:"deu",DJ:"dji",DK:"dnk",DM:"dma",DO:"dom",DZ:"dza",EC:"ecu",EE:"est",EG:"egy",EH:"esh",ER:"eri",ES:"esp",ET:"eth",FI:"fin",FJ:"fji",FK:"flk",FM:"fsm",FO:"fro",FR:"fra",GA:"gab",GB:"gbr",GD:"grd",GE:"geo",GF:"guf",GG:"ggy",GH:"gha",GI:"gib",GL:"grl",GM:"gmb",GN:"gin",GP:"glp",GQ:"gnq",GR:"grc",GS:"sgs",GT:"gtm",GU:"gum",GW:"gnb",GY:"guy",HK:"hkg",HM:"hmd",HN:"hnd",HR:"hrv",HT:"hti",HU:"hun",ID:"idn",IE:"irl",IL:"isr",IM:"imn",IN:"ind",IO:"iot",IQ:"irq",IR:"irn",IS:"isl",IT:"ita",JE:"jey",JM:"jam",JO:"jor",JP:"jpn",KE:"ken",KG:"kgz",KH:"khm",KI:"kir",KM:"kmr",KN:"kna",KP:"prk",KR:"kor",KW:"kwt",KY:"cym",KZ:"kaz",LA:"lao",LB:"lbn",LC:"lca",LI:"lie",LK:"lka",LR:"lbr",LS:"lso",LT:"ltu",LU:"lux",LV:"lva",LY:"lby",MA:"mar",MC:"mco",MD:"mda",ME:"mne",MF:"maf",MG:"mdg",MH:"mhl",MK:"mkd",ML:"mli",MM:"mmr",MN:"mng",MO:"mac",MP:"mnp",MQ:"mtq",MR:"mrt",MS:"msr",MT:"mlt",MU:"mus",MV:"mdv",MW:"mwi",MX:"mex",MY:"mys",MZ:"moz",NA:"nam",NC:"ncl",NE:"ner",NF:"nfk",NG:"nga",NI:"nic",NL:"nld",NO:"nor",NP:"npl",NR:"nru",NU:"niu",NZ:"nzl",OM:"omn",PA:"pan",PE:"per",PF:"pyf",PG:"png",PH:"phl",PK:"pak",PL:"pol",PM:"spm",PN:"pcn",PR:"pri",PS:"pse",PT:"prt",PW:"plw",PY:"pry",QA:"qat",RE:"reu",RO:"rou",RS:"srb",RU:"rus",RW:"rwa",SA:"sau",SB:"slb",SC:"syc",SD:"sdn",SE:"swe",SG:"sgp",SH:"shn",SI:"svn",SJ:"sjm",SK:"svk",SL:"sle",SM:"smr",SN:"sen",SO:"som",SR:"sur",SS:"ssd",ST:"stp",SV:"slv",SX:"sxm",SY:"syr",SZ:"swz",TC:"tca",TD:"tcd",TF:"atf",TG:"tgo",TH:"tha",TJ:"tjk",TK:"tkl",TL:"tls",TM:"tkm",TN:"tun",TO:"ton",TR:"tur",TT:"tto",TV:"tuv",TW:"twn",TZ:"tza",UA:"ukr",UG:"uga",UM:"umi",US:"usa",UY:"ury",UZ:"uzb",VA:"vat",VC:"vct",VE:"ven",VG:"vgb",VI:"vir",VN:"vnm",VU:"vut",WF:"wlf",WS:"wsm",XK:"kos",YE:"yem",YT:"myt",ZA:"zaf",ZM:"zmb",ZW:"zwe"},AD_SPACE_TOKENS:["2d243388513b44459fdcf78f270362c4"]}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LoadSteamAppFilters:()=>marketSearch.LoadSteamAppFilters,RefactorAdvancedSearchDialog:()=>marketSearch.RefactorAdvancedSearchDialog,RenderMarketSideBanner:()=>sideBanner.W,activeListings:()=>activeListings_namespaceObject,exportMarketHistory:()=>exportMarketHistory_namespaceObject,global:()=>global,marketHistory:()=>marketHistory_namespaceObject,sihMarketTab:()=>sihMarketTab_namespaceObject});var sihMarketTab_namespaceObject={};__webpack_require__.r(sihMarketTab_namespaceObject),__webpack_require__.d(sihMarketTab_namespaceObject,{LoadSihMarketTab:()=>LoadSihMarketTab});var filterPanel_namespaceObject={};__webpack_require__.r(filterPanel_namespaceObject),__webpack_require__.d(filterPanel_namespaceObject,{RenderHeaderTotal:()=>RenderHeaderTotal,RenderMarketFilter:()=>RenderMarketFilter});var listingRow_namespaceObject={};__webpack_require__.r(listingRow_namespaceObject),__webpack_require__.d(listingRow_namespaceObject,{RefactorListingRow:()=>RefactorListingRow});var resubmitButton_namespaceObject={};__webpack_require__.r(resubmitButton_namespaceObject),__webpack_require__.d(resubmitButton_namespaceObject,{LoadResubmitOrderButton:()=>LoadResubmitOrderButton});var resubmitOrders_namespaceObject={};__webpack_require__.r(resubmitOrders_namespaceObject),__webpack_require__.d(resubmitOrders_namespaceObject,{SaveSellListing:()=>SaveSellListing,resubmitButton:()=>resubmitButton_namespaceObject});var activeListings_namespaceObject={};__webpack_require__.r(activeListings_namespaceObject),__webpack_require__.d(activeListings_namespaceObject,{AddSortableColumns:()=>AddSortableColumns,RenderHeaderTable:()=>RenderHeaderTable,filterPanel:()=>filterPanel_namespaceObject,listingRow:()=>listingRow_namespaceObject,resubmitOrders:()=>resubmitOrders_namespaceObject});var exportMarketHistory_namespaceObject={};__webpack_require__.r(exportMarketHistory_namespaceObject),__webpack_require__.d(exportMarketHistory_namespaceObject,{RenderExportMarketHistoryBtn:()=>RenderExportMarketHistoryBtn});var marketHistory_namespaceObject={};__webpack_require__.r(marketHistory_namespaceObject),__webpack_require__.d(marketHistory_namespaceObject,{filter:()=>filter});var global=__webpack_require__(6703),common=__webpack_require__(4285),utils_chromeStorage=__webpack_require__(9118);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var RenderSihMarketOverlay=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){var e,n,r,i;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,utils_chromeStorage.M.getLocal("SIH_FEATURES_MENU");case 2:n=t.sent,r=n.SIH_FEATURES_MENU,null!=(i=void 0===r?{}:r)&&null!==(e=i.sihMarket)&&void 0!==e&&e.showOverlay&&(loadHtml(),listenerActions());case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),RemoveSihMarketOverlay=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){var e,n,r,i,a,o,s;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=$J("body"),r=n.find("#findItems"),i=n.find("#sellListings"),r.removeClass("overlay"),i.removeClass("overlay"),n.find(".sih-market-overlay").hide().remove(),n.find(".sih-market-overlay-tooltip").hide().remove(),t.next=9,utils_chromeStorage.M.getLocal("SIH_FEATURES_MENU");case 9:if(a=t.sent,o=a.SIH_FEATURES_MENU,null==(s=void 0===o?{}:o)||null===(e=s.sihMarket)||void 0===e||!e.showOverlay){t.next=16;break}return s.sihMarket.showOverlay=!1,t.next=16,utils_chromeStorage.M.setLocal("SIH_FEATURES_MENU",s);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),loadHtml=function(){var t=$J("body"),e=$J(".market_search_sidebar_contents");t.find("#findItems").addClass("overlay");var n=$J(' <div class="sih-market-overlay"></div>'),r=$J(' <div class="sih-market-overlay-tooltip sih-market-overlay-tooltip_first sih-global">\n      <div class="row items-center justify-between gap-14">\n        <span class="text text_white fs-16 ">'.concat(SIHLang.sih_features.sih_market_overlay_info.tooltip_text_1,'</span>\n\n        <div class="sih-market-overlay-tooltip__close">\n          <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M12.1824 13.568L7.28242 18.468C7.09909 18.6514 6.86576 18.743 6.58242 18.743C6.29909 18.743 6.06575 18.6514 5.88242 18.468C5.69909 18.2847 5.60742 18.0514 5.60742 17.768C5.60742 17.4847 5.69909 17.2514 5.88242 17.068L10.7824 12.168L5.88242 7.26802C5.69909 7.08468 5.60742 6.85135 5.60742 6.56802C5.60742 6.28468 5.69909 6.05135 5.88242 5.86802C6.06575 5.68468 6.29909 5.59302 6.58242 5.59302C6.86576 5.59302 7.09909 5.68468 7.28242 5.86802L12.1824 10.768L17.0824 5.86802C17.2658 5.68468 17.4991 5.59302 17.7824 5.59302C18.0658 5.59302 18.2991 5.68468 18.4824 5.86802C18.6658 6.05135 18.7574 6.28468 18.7574 6.56802C18.7574 6.85135 18.6658 7.08468 18.4824 7.26802L13.5824 12.168L18.4824 17.068C18.6658 17.2514 18.7574 17.4847 18.7574 17.768C18.7574 18.0514 18.6658 18.2847 18.4824 18.468C18.2991 18.6514 18.0658 18.743 17.7824 18.743C17.4991 18.743 17.2658 18.6514 17.0824 18.468L12.1824 13.568Z"\n              fill="currentColor"\n            />\n          </svg>\n        </div>\n      </div>\n\n      <div class="row items-center justify-between gap-14">\n        <span class="text text_grey-700 fs-14">1 ').concat(SIHLang.sih_features.level_up_feature_overlay_info.of,' 2</span>\n        <div class="sih-market-overlay-tooltip__btn">').concat(SIHLang.sih_features.level_up_feature_overlay_info.next,"</div>\n      </div>\n    </div>"));t.append(n),e.append(r)},listenerActions=function(){changeTooltipAction(),closeOverlayAction()},changeTooltipAction=function(){var t=$J(".sih-market-overlay-tooltip"),e=t.find(".sih-market-overlay-tooltip__btn"),n=$J("body").find("#findItems");e.off("click").click((function(e){var r=$J("#sellListings");n.removeClass("overlay"),t.remove(),r.addClass("overlay");var i=$J(' <div class="sih-market-overlay-tooltip sih-market-overlay-tooltip_second sih-global">\n        <div class="row items-center justify-between gap-14">\n          <span class="text text_white fs-16 ">'.concat(SIHLang.sih_features.sih_market_overlay_info.tooltip_text_2,'</span>\n\n          <div class="sih-market-overlay-tooltip__close">\n            <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M12.1824 13.568L7.28242 18.468C7.09909 18.6514 6.86576 18.743 6.58242 18.743C6.29909 18.743 6.06575 18.6514 5.88242 18.468C5.69909 18.2847 5.60742 18.0514 5.60742 17.768C5.60742 17.4847 5.69909 17.2514 5.88242 17.068L10.7824 12.168L5.88242 7.26802C5.69909 7.08468 5.60742 6.85135 5.60742 6.56802C5.60742 6.28468 5.69909 6.05135 5.88242 5.86802C6.06575 5.68468 6.29909 5.59302 6.58242 5.59302C6.86576 5.59302 7.09909 5.68468 7.28242 5.86802L12.1824 10.768L17.0824 5.86802C17.2658 5.68468 17.4991 5.59302 17.7824 5.59302C18.0658 5.59302 18.2991 5.68468 18.4824 5.86802C18.6658 6.05135 18.7574 6.28468 18.7574 6.56802C18.7574 6.85135 18.6658 7.08468 18.4824 7.26802L13.5824 12.168L18.4824 17.068C18.6658 17.2514 18.7574 17.4847 18.7574 17.768C18.7574 18.0514 18.6658 18.2847 18.4824 18.468C18.2991 18.6514 18.0658 18.743 17.7824 18.743C17.4991 18.743 17.2658 18.6514 17.0824 18.468L12.1824 13.568Z"\n                fill="currentColor"\n              />\n            </svg>\n          </div>\n        </div>\n\n        <div class="row items-center justify-between gap-14">\n          <span class="text text_grey-700 fs-14">2 ').concat(SIHLang.sih_features.level_up_feature_overlay_info.of," 2</span>\n        </div>\n      </div>"));r.append(i)}))},closeOverlayAction=function(){$J("body").on("click",".sih-market-overlay, .sih-market-overlay-tooltip__close",_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,RemoveSihMarketOverlay();case 2:case"end":return t.stop()}}),t)}))))},sih_app_global_service=__webpack_require__(3186),debounce=null,RenderFilterCategory=function(){filterCategory_loadHtml(),actionsListener()},UpdateFilterCategoryBalance=function(){var t=$J("#sih-inventory-market-listing"),e=$J("#sih-filter-category");sih_app_global_service.A.getLoginSihAppUser().then((function(n){if(n.success&&!n.tfaNeed){var r=n.user.balance/1e3;Math.floor(1e3*r)/1e3!==+t.find('.sih-market-store-filter .sih-market-store-filter__input[data-key="maxPrice"]').val()&&e.find('.sih-filter-category__item[data-name="balance"]').removeClass("active")}}))},filterCategory_loadHtml=function(){var t=$J("#sih-inventory-market-listing"),e=$J('\n    <div id="sih-filter-category" class="sih-filter-category">\n      <a href="javascript:void(0)" class="sih-filter-category__item active" data-name="all"\n        >'.concat(SIHLang.sihAppMarket.filter_category.all,'</a\n      >\n      <a href="javascript:void(0)" class="sih-filter-category__item" data-name="balance"\n        >').concat(SIHLang.sihAppMarket.filter_category.balance,"</a\n      >\n    </div>\n  "));t.find(".sih-filter-category").length||$J(".sih-market-header").after(e)},actionsListener=function(){selectCategoryItemAction()},selectCategoryItemAction=function(){$J("#sih-filter-category").find(".sih-filter-category__item").each((function(t,e){var n=$J(e);n.off("click").click((function(){clearTimeout(debounce),debounce=setTimeout((function(){if(n.addClass("active").siblings().removeClass("active"),"balance"===n.attr("data-name"))SihAppGlobalService.getLoginSihAppUser().then((function(t){if(t.success&&!t.tfaNeed){var e=t.user.balance/1e3,n=$J('.sih-market-store-filter .sih-market-store-filter__input[data-key="minPrice"]');n.val()>e&&n.val(""),$J(".sih-market-store-filter .sih-market-store-filter__input").val(""),$J('.sih-market-store-filter .sih-market-store-filter__input[data-key="maxPrice"]').val(e).trigger("change").trigger("focusout")}}));else $J(".sih-market-store-filter__reset:visible").trigger("click")}),200)}))}))},currency_service=__webpack_require__(3080),utils=__webpack_require__(4056),skin_wear_service=__webpack_require__(8440),RenderListingContent=function(){content_loadHtml(),content_actionsListener()},toggleSIHMarketItemLoaders=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=$J("#sih-market-listing .sih-market-listing__fake-content"),n=e.is(":visible");t?n&&e.fadeOut():n||e.addClass("active").fadeIn()},content_loadHtml=function(){var t=$J("#sih-market-listing"),e=$J('\n    <div class="sih-market-listing__main">\n      <div class="sih-market-listing__fake-content">\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n      </div>\n      <div class="sih-market-listing__content"></div>\n    </div>\n  ');t.find(".sih-market-listing__content").length||t.append(e)},content_actionsListener=function(){};function bookmarkBtn_typeof(t){return bookmarkBtn_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bookmarkBtn_typeof(t)}function bookmarkBtn_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bookmarkBtn_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==bookmarkBtn_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(bookmarkBtn_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bookmarkBtn_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function bookmarkBtn_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){bookmarkBtn_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){bookmarkBtn_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==bookmarkBtn_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=bookmarkBtn_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bookmarkBtn_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function _arrayWithHoles(t){if(Array.isArray(t))return t}var APP_FULL_NAMES={730:"Counter-Strike 2",252490:"Rust",440:"Team Fortress 2"},RenderBookmarkBtn=function(){bookmarkBtn_loadHtml(),bookmarkBtn_actionsListener()},bookmarkBtn_loadHtml=function(){$J("#sih-market-listing").find(".sih-market-listing__content").find(".sih-market-listing__item").each((function(t,e){var n=$J(e),r=n.find(".sih-market-listing__name").text(),i="730/".concat(encodeURIComponent(r)),a=$J(' <div\n        class="text text_light-blue fs-12 hover-opacity-8 sih-market-listing__'.concat(bookmarkeditems[i]?"remove-bookmark":"add-bookmark",'"\n      >\n        ').concat(bookmarkeditems[i]?"".concat(SIHLang.sihAppMarket.global.remove_bookmark):"".concat(SIHLang.sihAppMarket.global.add_bookmark),"\n      </div>"));n.find(".sih-market-listing__add-bookmark").length||n.find(".sih-market-listing__game-name").after(a)}))},bookmarkBtn_actionsListener=function(){addToBookmarkAction(),removeBookmarkAction()},addToBookmarkAction=function(){var t=$J("#sih-market-listing").find(".sih-market-listing__content").find(".sih-market-listing__item .sih-market-listing__add-bookmark"),e=(new Date).getTime();function n(){var t=_objectSpread(_objectSpread({},bookmarkscategories),{},_defineProperty({},e,"SIHMarket"));utils_chromeStorage.M.setSync("bookmarkscategories",t),window.bookmarkscategories=_objectSpread({},t)}t.each((function(t,r){var i=$J(r);i.off("click").click((function(t){if(t.preventDefault(),t.stopPropagation(),Object.keys(bookmarkscategories).length){var r=!0;Object.entries(bookmarkscategories).forEach((function(t){var n=_slicedToArray(t,2),i=n[0],a=n[1];"SIHMarket"===a&&(e=i),r="SIHMarket"===a})),r||n()}else n();var a=$J(this).closest(".sih-market-listing__item"),o=a.find(".sih-market-listing__name").text(),s=a.find(".sih-market-listing__game-name").data("appid"),c="".concat(s,"/").concat(encodeURIComponent(o)),l=+a.find(".sih-market-listing__sih-price").attr("data-price"),d=currency_service.A.getPriceFromCurrency(l,currencyId,1),u=a.find(".market_listing_item_img").attr("src"),_=a.find(".market_listing_item_img").css("border-color"),h=a.attr("href"),f=_defineProperty({},c,{marketHashName:o,hashmarket:c,name:o,appid:s,img:u,color:_,gamename:APP_FULL_NAMES[s],url:h,price:d,cat:e});chrome.runtime.sendMessage(SIHID,{type:"UpdateBookmarks",data:f},function(){var t=bookmarkBtn_asyncToGenerator(bookmarkBtn_regeneratorRuntime().mark((function t(e){var n,r;return bookmarkBtn_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,utils_chromeStorage.M.getLocal("bookmarks");case 2:n=t.sent,r=n.bookmarks,window.bookmarkeditems=_objectSpread({},r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),i.removeClass("sih-market-listing__add-bookmark").addClass("sih-market-listing__remove-bookmark").text("".concat(SIHLang.sihAppMarket.global.remove_bookmark)),removeBookmarkAction()}))}))},removeBookmarkAction=function(){$J("#sih-market-listing").find(".sih-market-listing__content").find(".sih-market-listing__item .sih-market-listing__remove-bookmark").each((function(t,e){var n=$J(e);n.off("click").click((function(t){t.preventDefault(),t.stopPropagation();var e=$J(this).closest(".sih-market-listing__item").find(".sih-market-listing__name").text(),r="730/".concat(encodeURIComponent(e));chrome.runtime.sendMessage(SIHID,{type:"RemoveBookmark",data:{hashmarket:r}},function(){var t=bookmarkBtn_asyncToGenerator(bookmarkBtn_regeneratorRuntime().mark((function t(e){var n,r;return bookmarkBtn_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,utils_chromeStorage.M.getLocal("bookmarks");case 2:n=t.sent,r=n.bookmarks,window.bookmarkeditems=_objectSpread({},r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.removeClass("sih-market-listing__remove-bookmark").addClass("sih-market-listing__add-bookmark").text("".concat(SIHLang.sihAppMarket.global.add_bookmark)),addToBookmarkAction()}))}))};function EventRegister_typeof(t){return EventRegister_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EventRegister_typeof(t)}function EventRegister_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function EventRegister_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?EventRegister_ownKeys(Object(n),!0).forEach((function(e){EventRegister_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EventRegister_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EventRegister_toPropertyKey(r.key),r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function EventRegister_defineProperty(t,e,n){return(e=EventRegister_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EventRegister_toPropertyKey(t){var e=EventRegister_toPrimitive(t,"string");return"symbol"==EventRegister_typeof(e)?e:e+""}function EventRegister_toPrimitive(t,e){if("object"!=EventRegister_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EventRegister_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var EventRegister=function(){return _createClass((function t(e){var n=e.eventGroup,r=e.eventType,i=void 0===r?t.EVENT_TYPE:r,a=e.messageType,o=void 0===a?t.MESSAGE_TYPE:a,s=e.lang,c=void 0===s?t.DEFAULT_LANG:s,l=e.country,d=void 0===l?t.DEFAULT_COUNTRY:l,u=e.uid,_=void 0===u?t.DEFAULT_UID:u,h=e.location,f=void 0===h?f&&f.href||"":h,m=e.SIHID,p=void 0===m?window.SIHID:m;_classCallCheck(this,t),this.eventGroup=n,this.eventType=i,this.messageType=o,this.location=f,this.SIHID=p,this.lang=c,this.country=d,this.uid=_}),[{key:"register",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={type:this.eventType,payload:EventRegister_objectSpread({uid:this.uid,country:this.country,lang:this.lang,group:this.eventGroup,link:this.location},t)};chrome.runtime.sendMessage(this.SIHID,{type:this.messageType,data:e})}}])}();function InventoryPageEventRegister_typeof(t){return InventoryPageEventRegister_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},InventoryPageEventRegister_typeof(t)}function InventoryPageEventRegister_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function InventoryPageEventRegister_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?InventoryPageEventRegister_ownKeys(Object(n),!0).forEach((function(e){InventoryPageEventRegister_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):InventoryPageEventRegister_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function InventoryPageEventRegister_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function InventoryPageEventRegister_defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,InventoryPageEventRegister_toPropertyKey(r.key),r)}}function InventoryPageEventRegister_createClass(t,e,n){return e&&InventoryPageEventRegister_defineProperties(t.prototype,e),n&&InventoryPageEventRegister_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper(t,e,n){return e=_getPrototypeOf(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,n||[],_getPrototypeOf(t).constructor):e.apply(t,n))}function _possibleConstructorReturn(t,e){if(e&&("object"==InventoryPageEventRegister_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function(){return!!t})()}function _superPropGet(t,e,n,r){var i=_get(_getPrototypeOf(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},_get.apply(null,arguments)}function _superPropBase(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _classPrivateMethodInitSpec(t,e){_checkPrivateRedeclaration(t,e),e.add(t)}function _checkPrivateRedeclaration(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function InventoryPageEventRegister_defineProperty(t,e,n){return(e=InventoryPageEventRegister_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function InventoryPageEventRegister_toPropertyKey(t){var e=InventoryPageEventRegister_toPrimitive(t,"string");return"symbol"==InventoryPageEventRegister_typeof(e)?e:e+""}function InventoryPageEventRegister_toPrimitive(t,e){if("object"!=InventoryPageEventRegister_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=InventoryPageEventRegister_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _assertClassBrand(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}EventRegister_defineProperty(EventRegister,"EVENT_TYPE","events"),EventRegister_defineProperty(EventRegister,"MESSAGE_TYPE","EVENT_STORE"),EventRegister_defineProperty(EventRegister,"DEFAULT_COUNTRY","n/a"),EventRegister_defineProperty(EventRegister,"DEFAULT_LANG","n/a"),EventRegister_defineProperty(EventRegister,"DEFAULT_UID","n/a");var _InventoryPageEventRegister_brand=new WeakSet,InventoryPageEventRegister=function(t){function e(t){var n,r=t.eventType,i=void 0===r?e.EVENT_TYPE:r,a=t.messageType,o=void 0===a?e.MESSAGE_TYPE:a,s=t.location,c=void 0===s?e.LOCATION_HREF:s,l=t.SIHID,d=void 0===l?window.SIHID:l;return InventoryPageEventRegister_classCallCheck(this,e),_classPrivateMethodInitSpec(n=_callSuper(this,e,[{eventGroup:e.EVENT_GROUP,eventType:i,messageType:o,SIHID:d}]),_InventoryPageEventRegister_brand),n.eventType=i,n.messageType=o,n.SIHID=d,n.location=c,n}return _inherits(e,t),InventoryPageEventRegister_createClass(e,[{key:"register",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=_assertClassBrand(_InventoryPageEventRegister_brand,this,_getUserInfo).call(this),i=r.dataConfig,a=r.dataUserInfo;return e.getUID(this.SIHID).then((function(r){return _superPropGet(e,"register",t,3)([InventoryPageEventRegister_objectSpread({uid:r,country:("undefined"==typeof g_strCountryCode?null==i?void 0:i.COUNTRY:g_strCountryCode).toLowerCase(),lang:("undefined"==typeof g_strLanguage?null==i?void 0:i.LANGUAGE:g_strLanguage).toLowerCase(),data:{steamId:"undefined"==typeof g_steamID?null==a?void 0:a.steamid:g_steamID}},n)])}))}}],[{key:"getUID",value:function(t){try{return new Promise((function(e){chrome.runtime.sendMessage(t,{type:"BACKGROUND_GET_SIH_TOKEN"},e)}))}catch(t){}}}])}(EventRegister);function _getUserInfo(){var t=$J("#application_config");if(t.length){var e=t.attr("data-config"),n=t.attr("data-userinfo");return{dataConfig:e?JSON.parse(e):{},dataUserInfo:n?JSON.parse(n):{}}}}InventoryPageEventRegister_defineProperty(InventoryPageEventRegister,"EVENT_GROUP","inventory-page-events"),InventoryPageEventRegister_defineProperty(InventoryPageEventRegister,"EVENT_TYPE","events"),InventoryPageEventRegister_defineProperty(InventoryPageEventRegister,"MESSAGE_TYPE","EVENT_STORE"),InventoryPageEventRegister_defineProperty(InventoryPageEventRegister,"LOCATION_HREF",window.location.href);var marketplace_service=__webpack_require__(7752),marketListings_common=__webpack_require__(3450),MAX_ITEM_STACK_COUNT=1,SIH_MARKET_AVAILABLE_APPS=null;function load(){var t=getPageParams();if(SIH_MARKET_AVAILABLE_APPS.includes(+t.appId)&&g_steamID)var e=setInterval((function(){if(Marketplace.checkLoadMarkets()){clearInterval(e);var t=Marketplace.getMarkets().find((function(t){return"sihmarket"===t.name}));if(t){var n=Marketplace.getPriceMarket(t);n&&n.price&&n.price>=.01&&(loadSIHMarketContainerHTML(Math.ceil(100*n.price)/100,"sih"),addToCart(),renderCountItemFromBuyStack().then((function(){changeCountItemInBuyStack()})))}}}),100)}function loadSIHMarketContainerHTML(t,e){var n=LocalStorageMarketplace.get(),r=CurrencyService.getPriceFromCurrency(1,n.currencyCode).text,i=formatNumberToLocalRu(t,1),a=formatNumberToLocalRu(t,n.currencyCode),o=$J("#sih_block_best_offer_of_marketplace_tabs_2");$J('\n    <div class="sih_market column sihmarket_container">\n      <div class="title">'.concat(SIHLang.sihAppMarket.listing_lot.sih_best_price,'</div>\n\n      <div class="sih_market__column items-start ').concat(1==+n.currencyCode?"mb-18":"",'">\n        <span class="sih_market__price"\n          >').concat(1!==n.currencyCode?a:i,"</span\n        >\n        ").concat(1!=+n.currencyCode?'<span class="sih_market__text sih_market__text--gray sih_converted-market__price pt-2" title="'.concat(SIHLang.sihAppMarket.listing_lot.current_rate,"  $1 - ").concat(r,'">').concat(i,"</span>"):"",'\n      </div>\n\n      <div class="sih_market__row mt-16 gap-12">\n        <a\n          href="javascript:void(0)"\n          id="sih_market__add-to-cart"\n          class="sih_market__button sih_market__button--blue sih_market__button--cart"\n        >\n          <span class="sih_market__text sih_market__text--small sih_market__text--white text-uppercase"\n            >').concat(SIHLang.sihAppMarket.listing_lot.add_cart,'</span\n          >\n\n          <div class="sih_market__in-cart sih_market__row">\n            <svg width="16" height="16" viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M16.21 7H21C21.55 7 22 7.45 22 8L21.97 8.27L19.43 17.54C19.19 18.38 18.42 19 17.5 19H4.5C3.58 19 2.81 18.38 2.58 17.54L0.04 8.27C0 8.18 0 8.09 0 8C0 7.45 0.45 7 1 7H5.79L10.17 0.45C10.36 0.16 10.68 0 11 0C11.32 0 11.64 0.16 11.83 0.44L16.21 7ZM13.8 7L11 2.8L8.2 7H13.8Z"\n                fill="white"\n              />\n            </svg>\n\n            <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z"\n                fill="white"\n              />\n            </svg>\n          </div>\n        </a>\n      </div>\n      <div class="sih_market__error"></div>\n    </div>\n  ')).find(".sih_converted-market__price").tooltip({position:{my:"left bottom",at:"left top"}}),o.find("#sih_market__add-to-cart").length&&o.find("#sih_market__add-to-cart").remove();var s='<a href="javascript:void(0)" id="sih_market__add-to-cart" class="button button_fill">\n    <span class="sih_market__text">'.concat(SIHLang.sihAppMarket.listing_lot.add_cart,'</span>\n\n    <div class="sih_market__in-cart sih_market__row">\n      <svg width="16" height="24" viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path\n          fill-rule="evenodd"\n          clip-rule="evenodd"\n          d="M16.21 7H21C21.55 7 22 7.45 22 8L21.97 8.27L19.43 17.54C19.19 18.38 18.42 19 17.5 19H4.5C3.58 19 2.81 18.38 2.58 17.54L0.04 8.27C0 8.18 0 8.09 0 8C0 7.45 0.45 7 1 7H5.79L10.17 0.45C10.36 0.16 10.68 0 11 0C11.32 0 11.64 0.16 11.83 0.44L16.21 7ZM13.8 7L11 2.8L8.2 7H13.8Z"\n          fill="white"\n        />\n      </svg>\n\n      <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z" fill="white" />\n      </svg>\n    </div>\n  </a>');o.find(".markets_container .market_block .buttons").append(s)}function loadCartCountBlockHtml(t){var e=$J("#sih_block_best_offer_of_marketplace_tabs_2");if(t){var n=e.find(".sih_market__row--cart-counter"),r=e.find("#sih_market__add-to-cart"),i=t.filter((function(t){return!t.status})).length;!n.length&&i&&(r.find(".sih_market__in-cart").css("display","flex").show(),r.find(".sih_market__text").text(""))}}function addToCart(){var t=$J(".market_block"),e=t.find("#sih_market__add-to-cart"),n=t.find(".sih_market__error");e.click((function(){var e=t.find(".sih_market__in-cart"),r=n.find(".sih-modal__error_message");if("none"===e.css("display")){var i=getPageParams(),a={hashName:encodeURIComponent(i.marketHashName),countAdd:1,appId:i.appId,image:$J(".market_listing_largeimage").find("img").attr("src"),url:window.location.href};SihAppGlobalService.setItemToBuyStack(a).then((function(t){loadCartCountBlockHtml(t),changeCountItemInBuyStack(),ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),$J("#sih-header-cart").trigger("click")})).catch((function(t){SihAppGlobalService.errorHandler(null,n,r,t.error)})),registerAddToCartClick()}else $J("#sih-header-cart").trigger("click")}))}function renderCountItemFromBuyStack(){return new Promise((function(t){var e=encodeURIComponent(getPageParams().marketHashName);SihAppGlobalService.getAllItemsBuyStackByName(e).then((function(e){loadCartCountBlockHtml(e),t()}))}))}function changeCountItemInBuyStack(){var t=$J("#sih_block_best_offer_of_marketplace_tabs_2"),e=t.find(".sih_market__error"),n=t.find("#sih_market__increment"),r=t.find("#sih_market__decrement"),i=t.find("#sih_market__cart-count-input"),a=encodeURIComponent(getPageParams().marketHashName);n.click((function(){var t=e.find(".sih-modal__error_message");+i.val()>=MAX_ITEM_STACK_COUNT-1&&$J(this).addClass("opacity-5 pointer-events-none"),SihAppGlobalService.setItemToBuyStack({}).then((function(t){ChangeItemCountInItemPage(),ChangeCartCountHeaderMenu(),e.hide()})).catch((function(n){SihAppGlobalService.errorHandler(null,e,t,n.error)}))})),r.click((function(){var t=e.find(".sih-modal__error_message");+i.val()<=MAX_ITEM_STACK_COUNT&&n.removeClass("opacity-5 pointer-events-none"),SihAppGlobalService.deleteItemFromBuyStack({hashName:a}).then((function(){ChangeItemCountInItemPage(),ChangeCartCountHeaderMenu(),e.hide()})).catch((function(n){SihAppGlobalService.errorHandler(null,e,t,n.error)}))})),i.focusout((function(){var t=Math.ceil($J(this).val());(t=SihAppGlobalService.validateInput(t,MAX_ITEM_STACK_COUNT))>=MAX_ITEM_STACK_COUNT?n.addClass("opacity-5 pointer-events-none"):n.removeClass("opacity-5 pointer-events-none");var r=e.find(".sih-modal__error_message");SihAppGlobalService.getAllItemsBuyStackByName(a).then((function(n){var i=n.filter((function(t){return!t.status})).length;if(t>=i&&1!==t)SihAppGlobalService.setItemToBuyStack({hashName:a,countAdd:t}).then((function(t){ChangeItemCountInItemPage(),ChangeCartCountHeaderMenu(),e.hide()})).catch((function(t){SihAppGlobalService.errorHandler(null,e,r,t.error)}));else{var o={hashName:a,argsCountDelete:t};SihAppGlobalService.deleteItemFromBuyStack(o).then((function(t){ChangeItemCountInItemPage(),ChangeCartCountHeaderMenu(),e.hide()})).catch((function(t){SihAppGlobalService.errorHandler(null,e,r,t.error)}))}}))}))}function ChangeItemCountInItemPage(){var t=$J("#sih_block_best_offer_of_marketplace_tabs_2"),e=t.find(".sih_market__row--cart-counter"),n=t.find("#sih_market__cart-count-input"),r=t.find("#sih_market__add-to-cart"),i=(0,global.getPageParams)().marketHashName,a=encodeURIComponent(i);sih_app_global_service.A.getAllItemsBuyStackByName(a).then((function(t){var a=sih_app_global_service.A.getFilterItemsByStatus(t),o=a.length;o?a.find((function(t){return t.market_hash_name===i}))&&(n.val(o),"none"===e.css("display")&&(e.show(),r.find(".sih_market__in-cart").css("display","flex").show(),r.find(".sih_market__text").text(""))):(e.hide(),r.find(".sih_market__in-cart").hide(),r.find(".sih_market__text").text(SIHLang.sihAppMarket.listing_lot.add_cart))}))}var notificationPopup=__webpack_require__(4273);function eventRegister_registerAddToCartClick(){}function eventRegister_registerOpenNotificationClick(){}function registerOpenShoppingCartClick(){}function registerOpenOrdersClick(){}function registerCartBuyNowClick(){}var topSales_debounce=null;function RenderTopSalesPanel(t){topSales_loadHtml(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}var topSales_loadHtml=function(t,e){t.find(".sih-top-sales").length&&t.find(".sih-top-sales").remove(),renderFakeTopSales(t,e);var n={offset:Math.floor(10*Math.random()+1),limit:5,appId:730};sih_app_global_service.A.getTopSales(e||n).then((function(r){var i=r.data;r.pagination;removeFakeTopSales().then((function(){if(i&&i.length){var r=$J('\n          <div class="sih-global sih-top-sales">\n            <span class="title sih-modal__text_md"\n              >'.concat(t.closest("#skins-refilling").length?"".concat(SIHLang.skinsRefilling.modal.top_sales_title):SIHLang.sihAppMarket.topSales.title,'</span\n            >\n            <div class="sih-top-sales__content row items-stretch gap-12"></div>\n          </div>\n        ')),a=$J('\n          <a href="javascript:void(0)" class="row items-center sih-top-sales__refresh">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M17.65 6.35C16.2 4.9 14.21 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C10.4087 18 8.88258 17.3679 7.75736 16.2426C6.63214 15.1174 6 13.5913 6 12C6 10.4087 6.63214 8.88258 7.75736 7.75736C8.88258 6.63214 10.4087 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z"\n                fill="white"\n              />\n            </svg>\n          </a>\n        ');r.find(".sih-top-sales__content").append(a),t.find(".sih-top-sales").length||(t.append(r),renderSaleItems(i,730).then((function(){$J(".sih-top-sales__content").find(".sih-top-sales__item").fadeIn(),topSales_actionsListener(e||n)})))}else renderEmptyBlock(t,e)}))}))},renderFakeTopSales=function(t,e){for(var n=(e||{limit:5}).limit,r=$J('\n    <div class="sih-global sih-top-sales sih-top-sales__fake">\n      <div class="w-265 h-18 bg-grey rounded-4"></div>\n      <div class="sih-top-sales__content row items-center gap-12"></div>\n    </div>\n  '),i=0;i<n;i++)r.find(".sih-top-sales__content").append('<div class="sih-top-sales__item h-197 bg-grey rounded-4"></div>');if(n<=5){r.find(".sih-top-sales__content").append('<div class="w-24 h-24 rounded-50per bg-grey"></div>')}t.find(".sih-top-sales__fake").length||t.append(r)},renderEmptyBlock=function(t,e){var n=$J('\n    <div class="sih-global sih-top-sales sih-top-sales__empty">\n      <div class="column w-320 justify-center gap-20">\n        <span class="text text_white fs-24 bold">'.concat(SIHLang.sihAppMarket.topSales.plug_tab.title,'</span>\n        <span class="text text_white">').concat(SIHLang.sihAppMarket.topSales.plug_tab.text_1,'</span>\n        <a href="javascript:void(0)" class="relative text text_blue"\n          >').concat(SIHLang.sihAppMarket.topSales.plug_tab.text_2,"</a\n        >\n      </div>\n    </div>\n  "));n.find("a").off("click").click((function(){$J(".sih-top-sales__empty").fadeOut(300,(function(){$J(".sih-top-sales__empty").remove(),topSales_loadHtml(t,e)}))})),t.find(".sih-top-sales__empty").length||t.append(n)},removeFakeTopSales=function(){return new Promise((function(t){$J(".sih-top-sales__fake").fadeOut(500,(function(){t(),$J(".sih-top-sales__fake").remove()}))}))},topSales_actionsListener=function(t){refreshAction(t),addInCartAction()},renderSaleItems=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:730;return new Promise((function(n,r){sih_app_global_service.A.getAllBuyStack().then((function(r){t.reverse().forEach((function(t){var n=skin_wear_service.A.getWearInfo(t.item),i=skin_wear_service.A.getSplitName(t.item),a=i.skinTagName,o=i.skinName,s=encodeURIComponent(t.item),c=currency_service.A.getPriceFromCurrency(t.steamPrice,1,1).text,l=currency_service.A.getPriceFromCurrency(t.price,1,1,!1,3).text,d=r.find((function(e){return e.itemId||t.id?e.market_hash_name===t.item&&+e.itemId==+t.id:e.market_hash_name===t.item})),u=$J('\n          <a\n            href="https://steamcommunity.com/market/listings/'.concat(e,"/").concat(s,'"\n            class="sih-top-sales__item column justify-between"\n            style="display: none"\n          >\n            <div class="row justify-between px-8">\n              <div class="row items-center gap-5">\n                <div\n                  class="row w-8 h-8 rounded-50per"\n                  style="background-color: ').concat(n&&n.color?n.color:"transparent",'"\n                ></div>\n                <span class="sih-top-sales__wear-short text fs-12"\n                  >').concat(n&&n.wearShort?n.wearShort:"",'</span\n                >\n              </div>\n\n              <span class="text text_green-900 fs-12">-').concat(Math.ceil(100*t.profitPercent)/100,' %</span>\n            </div>\n            <div class="row justify-center">\n              <div class="sih-top-sales__image">\n                <img src="').concat((0,utils.Fk)(t.image),'" alt="').concat(t.item,'" />\n              </div>\n            </div>\n            <div class="column px-8 sih-top-sales__name-block" title="').concat(t.item,'">\n              <span class="text text_light-grey fs-10">').concat(a,'</span>\n              <span class="text fs-12 sih-top-sales__item-name">').concat(o,'</span>\n            </div>\n            <div class="column gap-8 mt-11 px-8">\n              <div class="row items-center gap-5">\n                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2C6.73 2 2.43 6.05 2 11.2L7.38 13.41C7.83 13.1 8.38 12.92 8.97 12.92L9.13 12.93L11.5 9.47V9.42C11.5 7.34 13.2 5.65 15.28 5.65C17.36 5.65 19.05 7.34 19.05 9.42C19.05 11.5 17.36 13.19 15.28 13.19H15.2L11.8 15.62V15.75C11.8 17.31 10.53 18.58 8.97 18.58C7.6 18.58 6.45 17.6 6.19 16.31L2.36 14.73C3.55 18.92 7.4 22 12 22C12.8828 22 13.7536 21.8833 14.5917 21.6583C13.6124 20.7456 13 19.4443 13 18C13 15.2386 15.2386 13 18 13C19.4443 13 20.7456 13.6124 21.6583 14.5917C21.8833 13.7536 22 12.8828 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7362 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612ZM10.33 16.33C10 17.13 9.08 17.5 8.28 17.17L7.06 16.67C7.27 17.12 7.65 17.5 8.15 17.71C9.23 18.16 10.5 17.64 10.93 16.56C11.15 16.04 11.15 15.46 10.93 14.94C10.72 14.41 10.31 14 9.78 13.79C9.26 13.57 8.71 13.58 8.22 13.76L9.5 14.29C10.28 14.62 10.66 15.53 10.33 16.33ZM15.28 11.94C16.67 11.94 17.8 10.81 17.8 9.42C17.8 8.04 16.67 6.91 15.28 6.91C14.95 6.90868 14.623 6.9727 14.3179 7.09837C14.0128 7.22404 13.7356 7.40887 13.5022 7.64221C13.2689 7.87555 13.084 8.15278 12.9584 8.4579C12.8327 8.76303 12.7687 9.09001 12.77 9.42C12.77 10.81 13.9 11.94 15.28 11.94ZM15.29 11.31C14.24 11.31 13.4 10.46 13.4 9.42C13.4 8.38 14.24 7.53 15.29 7.53C16.33 7.53 17.17 8.38 17.17 9.42C17.17 10.46 16.33 11.31 15.29 11.31Z"\n                    fill="white"\n                  />\n                  <circle cx="18" cy="18" r="3" fill="#3DC67D" />\n                </svg>\n\n                <span class="sih-top-sales__price max-w-90 text text_light-grey fs-12"\n                  >').concat(c,'</span\n                >\n              </div>\n\n              <button\n                class="sih-top-sales__in-cart-btn sih-modal__button sih-modal__button_blue sih-modal__row justify-center items-center gap-4 py-8 px-24 rounded-4"\n                data-price="').concat(t.price,'"\n                data-rarity-color="').concat(t.color||"",'"\n                data-itemid="').concat(t.id||"",'"\n              >\n                ').concat(d?"":'<img class="w-14 h-14" src="chrome-extension://'.concat(SIHID,'/assets/icons/top_sales_cart.svg" alt="sihmarket">'),'\n                <span class="sih-modal__text sih-modal__text_md sih-modal__text_medium lh-16 whitespace-nowrap"\n                  >').concat(d?SIHLang.sihAppMarket.listing_lot.in_cart:l,"</span\n                >\n              </button>\n            </div>\n          </a>\n        ")),_=$J('\n          <div class="row gap-5">\n            <span class="text fs-12" style="color: #F39227">ST</span>\n            <span class="text fs-12">|</span>\n          </div>\n        '),h=$J('\n          <div class="row gap-5">\n            <span class="text fs-12" style="color: #FFC700">SV</span>\n            <span class="text fs-12">|</span>\n          </div>\n        ');n&&n.stattrak&&u.find(".sih-top-sales__wear-short").before(_),n&&n.souvenir&&u.find(".sih-top-sales__wear-short").before(h),u.find(".sih-top-sales__name-block").tooltip({classes:{"ui-tooltip":"sih-top-sales__tooltip"},position:{my:"left top",at:"left bottom+10"}}),$J(".sih-top-sales__content").prepend(u)})),addInCartAction(),n()}))}))},refreshAction=function(t){var e=$J(".sih-top-sales");e.find(".sih-top-sales__refresh").off("click").click((function(){e.hide(),renderFakeTopSales($J(".sih-modal__inner .sih-modal__bottom"),t);var n=$J(this);!n.hasClass("pointer-events-none")&&n.addClass("pointer-events-none");var r=e.find(".sih-top-sales__item");r.each((function(t,e){$J(e).append('<div class="animated-item"></div>')})),clearTimeout(topSales_debounce),topSales_debounce=setTimeout((function(){t.offset=Math.floor(10*Math.random()+1),sih_app_global_service.A.getTopSales(t).then((function(i){var a=i.data,o=(i.pagination,0);a&&a.length&&r.fadeOut(300,(function(){++o===a.length&&(e.find(".sih-top-sales__item").remove(),renderSaleItems(a,t.appId).then((function(){removeFakeTopSales().then((function(){var t=e.find(".sih-top-sales__item");e.fadeIn(),t.fadeIn(),n.removeClass("pointer-events-none")}))})))}))}))}),500)}))},addInCartAction=function(){$J(".sih-top-sales").find(".sih-top-sales__in-cart-btn").off("click").click((function(t){t.preventDefault(),t.stopPropagation();var e=$J(this).closest(".sih-top-sales__item"),n=e.find(".sih-top-sales__name-block").attr("title"),r=encodeURIComponent(n),i=+e.find(".sih-top-sales__in-cart-btn").data("price"),a=e.find(".sih-top-sales__in-cart-btn").data("rarityColor"),o=e.find(".sih-top-sales__image img").attr("src"),s=e.attr("href"),c=e.find(".sih-top-sales__in-cart-btn").data("itemid"),l={appId:"730",hashName:r,countAdd:1,price:i,image:o,url:s,rarityColor:a,itemId:c};sih_app_global_service.A.getAllBuyStack().then((function(t){var i=t.find((function(t){return t.itemId||c?t.market_hash_name===n&&+t.itemId==+c:t.market_hash_name===n}));i?sih_app_global_service.A.deleteItemFromBuyStack({hashName:r,itemId:c}).then((function(){a()})):sih_app_global_service.A.setItemToBuyStack(l).then((function(){a()}));var a=function(){var t=e.find(".sih-top-sales__in-cart-btn");actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),UpdateSihMarketTabBuyStack(),e.closest("#sih-modal__buy-orders").length?RenderItemsRow("cart-tab").then((function(){toggleInCartBtn(t,!!i),RenderCart(null,!1)})):toggleInCartBtn(t,!!i)}}))}))},toggleInCartBtn=function(t,e){if(e){var n=currency_service.A.getPriceFromCurrency(t.data("price"),1,1,!1,3).text;t.html('\n      <img class="w-14 h-14" src="chrome-extension://'.concat(SIHID,'/assets/icons/top_sales_cart.svg" alt="sihmarket" />\n      <span class="sih-modal__text sih-modal__text_md sih-modal__text_medium lh-16 whitespace-nowrap"\n        >').concat(n,"</span\n      >\n    "))}else t.html('\n      <span class="sih-modal__text sih-modal__text_md sih-modal__text_medium lh-16 whitespace-nowrap"\n        >'.concat(SIHLang.sihAppMarket.listing_lot.in_cart,"</span\n      >\n    "))};function ordersHistory_typeof(t){return ordersHistory_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ordersHistory_typeof(t)}function ordersHistory_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ordersHistory_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ordersHistory_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(ordersHistory_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||ordersHistory_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ordersHistory_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return ordersHistory_arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ordersHistory_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return ordersHistory_arrayLikeToArray(t)}function ordersHistory_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ordersHistory_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function ordersHistory_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){ordersHistory_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){ordersHistory_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var currencyIdLocal=1;function ModalOrdersHistory(){ordersHistory_loadHtml()}function ordersHistory_loadHtml(){var t=$J("#sih-modal__buy-orders").find(".orders-tab").find(".sih-modal__inner");t.find(".orders-history-tab__content").length||t.append('\n    <div class="orders-tab__content orders-history-tab__content hidden"></div>\n    <div id="pagination-container"></div>\n  ')}function RenderOrdersHistoryItems(){return _RenderOrdersHistoryItems.apply(this,arguments)}function _RenderOrdersHistoryItems(){return(_RenderOrdersHistoryItems=ordersHistory_asyncToGenerator(ordersHistory_regeneratorRuntime().mark((function t(){var e,n,r,i,a,o,s,c;return ordersHistory_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=$J("#sih-modal__buy-orders"),n=e.find(".sih-modal.orders-tab"),(r=n.find(".orders-history-tab__content")).find(".orders-tab__item").remove(),r.find(".orders-tab__plug").remove(),i=$J('label[for="orders-toggle-tabs-skins"] span.count'),t.next=8,sih_app_global_service.A.getUserOrdersHistory();case 8:(a=t.sent).success||a.tfaNeed?a.orders.data.length?((s=sih_app_global_service.A.getFilterItemsByStatus(a.orders.data,["failed","finished","penalized"])).length&&UpdateRefreshOrderTimer(),i.attr("history-count",s.length),$J("#orders-history").is(":checked")&&i.text(s.length),renderPaginationOrdersHistory(s,a.orders.pagination)):(o=$J('\n        <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20">\n          <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.plug_history_title,'</span>\n          <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.orders.plug_text,"</span>\n        </div>\n      ")),r.find(".orders-tab__plug").length||r.append(o),i.attr("history-count",0),$J("#orders-history").is(":checked")&&i.text(0)):(c=$J('\n      <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20">\n        <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.plug_history_title,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.orders.plug_text,"</span>\n      </div>\n    ")),r.find(".orders-tab__plug").length||r.append(c),i.attr("history-count",0),$J("#orders-history").is(":checked")&&i.text(0)),HideActiveTabOrdersLoaders();case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function renderPaginationOrdersHistory(t,e){var n=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab"),r=n.find(".orders-history-tab__content"),i=n.find("#pagination-container");function a(n){var r=$J(n.currentTarget).attr("data-num").trim();if(r&&10*r>e.perPage*e.page){for(var a=e.page,o=Math.ceil(10*r/e.perPage),s=[],c=a+1;c<=o;c++)s.push(sih_app_global_service.A.getUserOrdersHistory(!1,c));ShowActiveTabOrdersLoaders().then((function(){Promise.all(s).then((function(e){var n,a=[];e.forEach((function(e){var r=sih_app_global_service.A.getFilterItemsByStatus(e.orders.data,["failed","finished","penalized"]);a=a.length?[].concat(_toConsumableArray(a),_toConsumableArray(r)):[].concat(_toConsumableArray(t.map((function(t){return t}))),_toConsumableArray(r)),n=e.orders.pagination})),renderPaginationOrdersHistory(a,n),i.pagination(r),HideActiveTabOrdersLoaders()}))}))}}t.length<=e.total&&(t.length=e.total),i.pagination({dataSource:t,pageSize:10,afterNextOnClick:function(t){a(t)},afterPageOnClick:function(t){a(t)},callback:function(t){var e=simpleTemplating(t);r.html(e)}})}function simpleTemplating(t){var e='<div class="sih-modal__column gap-10">';return t.forEach((function(t){var n=currency_service.A.getPriceFromCurrency(t.item_amount/1e3,currencyIdLocal,1,!1,3).text,r=new Date(t.created_at).toLocaleString();e+='\n      <div class="orders-tab__item item sih-modal__column rounded-8">\n        <div class="sih-modal__row sih-modal__text sih-modal__text_xl">\n          '.concat(SIHLang.sihAppMarket.orders.order," #").concat(t.id,'\n        </div>\n\n        <div class="sih-modal__row justify-between mt-20">\n          \x3c!--TODO: change appid when the store is expanded--\x3e\n\n          <div class="sih-modal__column gap-10">\n            <div class="sih-modal__row items-start gap-15">\n              <a\n                href="https://steamcommunity.com/market/listings/730/').concat(encodeURIComponent(t.item_name),'"\n                class="item__image"\n              >\n                <img src="').concat((0,utils.Fk)(t.item_info.image),'" alt="').concat(t.item_name,'" />\n              </a>\n\n              <div class="sih-modal__column gap-5">\n                <span class="sih-modal__text sih-modal__text_md">').concat(t.item_name,'</span>\n                <span class="sih-modal__text sih-modal__text_md">').concat(n,'</span>\n                <span class="sih-modal__text sih-modal__text_sm"\n                  >').concat(sih_app_global_service.A.getOrderStatusText(t.status),"</span\n                >\n              </div>\n            </div>\n\n            ").concat(t.sender?'\n                        <div class="sih-modal__row items-start gap-15">\n\n                           <div class="item__image '.concat(t.sender.avatar?"bg-grey":"",'">\n\n                              ').concat(t.sender.avatar?'<img src="'.concat(t.sender.avatar.match(/https:/g)?t.sender.avatar:"https://avatars.steamstatic.com/".concat(t.sender.avatar,"_medium.jpg"),'" alt="').concat(t.sender.nickname?t.sender.nickname:"",'">'):"",'\n\n                           </div>\n\n\n                            <div class="sih-modal__column gap-5">\n                              ').concat(t.sender.nickname?'<span class="sih-modal__text sih-modal__text_md">'.concat(SIHLang.sihAppMarket.orders.sender,": ").concat(t.sender.nickname,"</span>"):"","\n                              ").concat(t.sender.offerId?'<span class="sih-modal__text sih-modal__text_sm">'.concat(SIHLang.sihAppMarket.orders.trade_number_text,": ").concat(t.sender.offerId,"</span>"):"","\n                            </div>\n                        </div>\n                     "):"",'\n          </div>\n\n          <div class="sih-modal__column w-320 gap-15">\n            <div class="sih-modal__row justify-between">\n              <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                ').concat(SIHLang.sihAppMarket.orders.order_date,'\n              </div>\n              <div class="sih-modal__text sih-modal__text_md">').concat(r,'</div>\n            </div>\n\n            <div class="sih-modal__row justify-between">\n              <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                ').concat(SIHLang.sihAppMarket.orders.purchased_on_steam,'\n              </div>\n              <div class="sih-modal__text sih-modal__text_md">').concat(t.steam_id,"</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")})),e+="</div>"}function ordersActive_typeof(t){return ordersActive_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ordersActive_typeof(t)}function ordersActive_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ordersActive_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ordersActive_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(ordersActive_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function ordersActive_defineProperty(t,e,n){return(e=ordersActive_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ordersActive_toPropertyKey(t){var e=ordersActive_toPrimitive(t,"string");return"symbol"==ordersActive_typeof(e)?e:e+""}function ordersActive_toPrimitive(t,e){if("object"!=ordersActive_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ordersActive_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function ordersActive_toConsumableArray(t){return ordersActive_arrayWithoutHoles(t)||ordersActive_iterableToArray(t)||ordersActive_unsupportedIterableToArray(t)||ordersActive_nonIterableSpread()}function ordersActive_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ordersActive_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return ordersActive_arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ordersActive_arrayLikeToArray(t,e):void 0}}function ordersActive_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function ordersActive_arrayWithoutHoles(t){if(Array.isArray(t))return ordersActive_arrayLikeToArray(t)}function ordersActive_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ordersActive_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function ordersActive_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){ordersActive_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){ordersActive_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var ordersActive_currencyIdLocal=1,ACTIVE_ORDERS_TIMER_INTERVAL=null,PENDING_ITEMS_TIMESTAMPS=null,TEN_MINUTES=6e5,PROCESSING_ORDER_STATUSES=["created","processing","sent"];function ModalOrdersActive(){ordersActive_loadHtml()}function ordersActive_loadHtml(){var t=$J("#sih-modal__buy-orders").find(".orders-tab").find(".sih-modal__inner");t.find(".orders-active-tab__content").length||t.append('\n    <div class="orders-tab__content orders-active-tab__content sih-modal__column gap-10"></div>\n  ')}function RenderOrdersActiveItems(){return _RenderOrdersActiveItems.apply(this,arguments)}function _RenderOrdersActiveItems(){return(_RenderOrdersActiveItems=ordersActive_asyncToGenerator(ordersActive_regeneratorRuntime().mark((function t(){var e,n,r,i,a,o,s,c,l,d,u;return ordersActive_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(){e.find(".sih-go-market").off("click").click(ordersActive_asyncToGenerator(ordersActive_regeneratorRuntime().mark((function t(){var e,n,r;return ordersActive_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,utils_chromeStorage.M.getLocal("SIH_MARKET_TAB");case 2:e=t.sent,n=e.SIH_MARKET_TAB,(r=void 0===n?{}:n).openTab=!0,utils_chromeStorage.M.setLocal("SIH_MARKET_TAB",r),window.open("https://steamcommunity.com/market/","_self");case 8:case"end":return t.stop()}}),t)}))))},e=$J("#sih-modal__buy-orders"),n=e.find(".sih-modal.orders-tab"),(r=n.find(".orders-active-tab__content").removeClass("empty")).find(".orders-tab__item").remove(),r.find(".orders-tab__plug").remove(),t.next=8,sih_app_global_service.A.getAllBuyStack();case 8:return i=t.sent,t.next=11,sih_app_global_service.A.getUserOrdersHistory();case 11:a=t.sent,o=i,a&&a.success&&!a.tfaNeed&&a.orders.data.length&&(o=[].concat(ordersActive_toConsumableArray(o),ordersActive_toConsumableArray(a.orders.data))),s=sih_app_global_service.A.getFilterItemsByStatus(o,["new","pending","created","processing","sent"]),(c=$J('label[for="orders-toggle-tabs-skins"] span.count')).attr("active-count",s.length),$J("#orders-active").is(":checked")&&c.text(s.length),!s.length||a.tfaNeed?(l=$J('\n      <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20 mt-31 mb-50">\n        <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.plug_active_title,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.orders.plug_text,'</span>\n        <a\n          href="javascript:void(0)"\n          class="sih-go-market sih-modal__button sih-modal__button_blue py-10 px-14 fs-12 h-28 rounded-4 mt-10"\n          >SIH Market</a\n        >\n      </div>\n    ')),r.append(l),$J(".orders-active-tab__content").addClass("empty"),RenderTopSalesPanel($J(".orders-active-tab__content")),u()):((d=s.sort((function(t,e){return e.orderAt-t.orderAt}))).forEach((function(t,e){var n=currency_service.A.getPriceFromCurrency(t.price||t.item_amount/1e3,ordersActive_currencyIdLocal,1,!1,3).text,i=new Date(t.orderAt||t.created_at).toLocaleString(),a=$J('\n        <div class="orders-tab__item item sih-modal__column rounded-8">\n          '.concat(t.id?'<div class="sih-modal__row sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.order," #").concat(t.id,"</div>"):"",'\n          <div class="sih-modal__row mt-20 justify-between">\n            <div class="item__left-side sih-modal__row items-start gap-15">\n              ').concat(t.item_info?'<a href="https://steamcommunity.com/market/listings/'.concat(t.app_id,"/").concat(encodeURIComponent(t.item_name),'"\n                         class="item__image">\n                        <img src="').concat((0,utils.Fk)(t.item_info.image),'"\n                             alt="').concat(t.item_name,'">\n                      </a>'):'\n                        <a href="https://steamcommunity.com/market/listings/'.concat(t.appid,"/").concat(encodeURIComponent(t.market_hash_name),'" class="item__image">\n                            <img src="').concat(t.image.replace("/360fx360f",""),'" alt="').concat(t.market_hash_name,'">\n                        </a>\n                      '),'\n\n              <div class="sih-modal__column gap-5">\n                <span class="item__name sih-modal__text sih-modal__text_md"\n                  >').concat(t.market_hash_name||t.item_name,'</span\n                >\n                <span class="sih-modal__text sih-modal__text_md">').concat(n,'</span>\n                <div class="item__status-block sih-modal__row items-center gap-8">\n                  <span\n                    class="item__status sih-modal__text sih-modal__text_sm"\n                    data-status="').concat(t.status,'"\n                    ').concat("pending"===t.status?'title="'.concat(SIHLang.sihAppMarket.orders.pending_payment_tooltip,'"'):"","\n                    >").concat(sih_app_global_service.A.getOrderStatusText(t.status),'</span\n                  >\n                </div>\n                <div class="item__buttons sih-modal__row items-center mt-5 gap-20"></div>\n                <div class="item__cancel-block sih-modal__row items-center mt-5 gap-8">\n                  <div class="item__cancel sih-modal__text sih-modal__text_sm"></div>\n                </div>\n              </div>\n            </div>\n\n            <div class="item__right-side sih-modal__column w-320 gap-15">\n              <div class="sih-modal__row justify-between">\n                <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                  ').concat(SIHLang.sihAppMarket.orders.order_date,'\n                </div>\n                <div class="sih-modal__text sih-modal__text_md">').concat(i,'</div>\n              </div>\n\n              <div class="sih-modal__row justify-between">\n                <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                  ').concat(SIHLang.sihAppMarket.orders.purchased_on_steam,'\n                </div>\n                <div class="sih-modal__text sih-modal__text_md">').concat(t.steam_id,"</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      "));t.createdAt?a[0].createdTimestamp=t.createdAt:t.created_at&&(a[0].createdTimestamp=new Date(t.created_at).getTime()),a.find(".item__status").tooltip({position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"ordering__tooltip"}}),r.append(a)})),updatePurchaseItemTimer(),initLoadersForItems(d),initRemoveOrderBtn(d)),HideActiveTabOrdersLoaders();case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function updatePurchaseItemTimer(){var t=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-tab__content");function e(){var e=t.find(".item__spinner"),n=t.find(".item__timer"),r=t.find(".item__left-to-pay"),i=t.find(".item__left-to-pay--button");e.css("display","flex").hide().fadeOut(),n.css("display","flex").hide().fadeOut(),r.remove(),i.remove(),ShowActiveTabOrdersLoaders().then((function(){actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),ChangeOrdersCountHeaderMenu(),RenderOrdersActiveItems(),RenderOrdersHistoryItems(),UpdateSihMarketTabBuyStack()}))}clearInterval(ACTIVE_ORDERS_TIMER_INTERVAL),ACTIVE_ORDERS_TIMER_INTERVAL=setInterval((function(){sih_app_global_service.A.getAllBuyStack().then((function(n){sih_app_global_service.A.getUserOrdersHistory().then((function(r){var i=n;r&&r.success&&r.orders.data.length&&(i=[].concat(ordersActive_toConsumableArray(i),ordersActive_toConsumableArray(r.orders.data)));var a=sih_app_global_service.A.getFilterItemsByStatus(i,["new","pending","created","processing","sent"]);if(a.length){var o=a.find((function(t){return t.finishOrderAt})),s=a.map((function(t){return t.createdAt?t.createdAt:new Date(t.created_at).getTime()})).filter((function(t){return t})),c=sih_app_global_service.A.getFilterItemsByStatus(a,"new"),l=sih_app_global_service.A.getFilterItemsByStatus(a,"sent");t.find(".orders-tab__item").each((function(t,n){var r=$J(n);updateItemRowStatus(r,a),c.length&&c.forEach((function(t){if(r[0].createdTimestamp===new Date(t.created_at).getTime()){var n=new Date(t.created_at).getTime()+TEN_MINUTES-Date.now();if(n>0){var i=new Date(n).toISOString().slice(14,19);timeToLeft(r,t,"cancel",i)}else e()}})),l.length&&l.forEach((function(t){r[0].createdTimestamp===new Date(t.created_at).getTime()&&timeToLeft(r,t)})),o&&o.createdAt===r[0].createdTimestamp&&timeToLeft(r,o),JSON.stringify(PENDING_ITEMS_TIMESTAMPS)!==JSON.stringify(s)&&(null!==PENDING_ITEMS_TIMESTAMPS&&e(),PENDING_ITEMS_TIMESTAMPS=s)}))}else clearInterval(ACTIVE_ORDERS_TIMER_INTERVAL),e()}))}))}),1e3)}function initLoadersForItems(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-tab__content").find(".orders-tab__item").each((function(e,n){var r=$J(n);if(t[e]&&(t[e].createdAt||new Date(t[e].created_at).getTime())===r[0].createdTimestamp){var i=r.find(".item__status-block .item__spinner");i.length?i.css("display","flex").hide().fadeIn():r.find(".item__status").before('<div class="item__spinner"></div>')}}))}function updateItemRowStatus(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(e){var n=e.createdAt?e.createdAt:new Date(e.created_at).getTime();if(t[0].createdTimestamp===n){var r=t.find(".item__status"),i=r.attr("data-status"),a=t.find(".item__cancel-block:visible");i!==e.status&&(r.attr("data-status",e.status),r.text(sih_app_global_service.A.getOrderStatusText(e.status)),PROCESSING_ORDER_STATUSES.includes(e.status)&&a.length&&a.hide())}}))}function timeToLeft(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"status",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!r){var i=(e.finishOrderAt?e.finishOrderAt:e.sender.timeout)-Date.now();r=new Date(i>0?i:0).toISOString().slice(14,19)}var a=t.find(".item__".concat(n,"-block")),o=a.find(".item__spinner"),s=a.find(".item__timer"),c=a.find(".item__".concat(n));if(o.length||c.before('<div class="item__spinner"></div>'),s.length)s.is(":visible")||(o.css("display","flex").fadeIn(),s.css("display","flex").fadeIn()),s.text(r);else{if(c.after('<div class="item__timer sih-modal__text sih-modal__text_sm">'.concat(r,"</div>")),"cancel"===n&&c.text(SIHLang.sihAppMarket.orders.cancel_info),"status"!==n)return;e.finishOrderAt&&renderBlockLeftToPay(t,e.price),e.sender&&e.sender.timeout&&renderBlockLeftToConfirmOffer(t,e.sender.offerId)}}function renderBlockLeftToPay(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.find(".item__right-side"),r=t.find(".item__left-side").find(".item__buttons"),i=r.find(".item__left-to-pay--button"),a=n.find(".item__left-to-pay");sih_app_global_service.A.getLoginSihAppUser().then((function(t){var o;if(t.success&&t.user){var s=(o=t.user.balance/1e3)-e<0?Math.ceil(100*Math.abs(o-e))/100:e,c=currency_service.A.getPriceFromCurrency(s,ordersActive_currencyIdLocal,1,!1,3).text;a.length||n.append('\n        <div class="item__left-to-pay sih-modal__row justify-between">\n          <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n            '.concat(SIHLang.sihAppMarket.orders.payment,'\n          </div>\n          <div class="sih-modal__row items-center gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey sih-modal__text_bold"\n              >').concat(c,'</span\n            >\n            <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n              >').concat(SIHLang.sihAppMarket.orders.pending_payment,"</span\n            >\n          </div>\n        </div>\n      ")),i.length||(r.prepend('\n        <a\n          href="javascript:void(0)"\n          data-payment="'.concat(s,'"\n          class="item__left-to-pay--button sih-modal__row sih-modal__button sih-modal__button_blue px-20 py-8"\n        >\n          <span class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold"\n            >').concat(SIHLang.sihAppMarket.orders.pay,"</span\n          >\n        </a>\n      ")),paymentListenerAction())}}))}function renderBlockLeftToConfirmOffer(t,e){var n=t.find(".item__left-side").find(".item__buttons"),r=n.find(".trade-sent__buttons");sih_app_global_service.A.getLoginSihAppUser().then((function(t){if(t.success&&t.socials){var i=t.socials.findIndex((function(t){return"steam"===t[0]})),a=t.socials[i][1];r.length||n.prepend('\n        <div class="trade-sent__buttons sih-modal__row justify-between items-center gap-20">\n          <a\n            href="https://steamcommunity.com/tradeoffer/'.concat(e,'/"\n            target="_blank"\n            class="sih-modal__row sih-modal__button sih-modal__button_blue px-20 py-8"\n          >\n            <span class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold"\n              >').concat(SIHLang.sihAppMarket.orders.open,'</span\n            >\n          </a>\n          <a\n            href="https://steamcommunity.com/profiles/').concat(a,'/tradeoffers/"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold sih-modal__text_blue hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.orders.go_to_trades,"</a\n          >\n        </div>\n      "))}}))}function initRemoveOrderBtn(t){var e=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-tab__content"),n=sih_app_global_service.A.getFilterItemsByStatus(t,"pending"),r=n.map((function(t){return t.createdAt})),i=n.find((function(t){return t.finishOrderAt})),a=Math.max.apply(Math,ordersActive_toConsumableArray(r));e.find(".orders-tab__item").each((function(t,e){var n=$J(e),o=n.find(".item__left-side").find(".item__buttons");!o.find(".item__remove").length&&r.includes(n[0].createdTimestamp)&&a!==n[0].createdTimestamp&&(o.append('\n        <a\n          href="javascript:void(0)"\n          class="item__remove sih-modal__text sih-modal__text_tiny sih-modal__text_bold sih-modal__text_blue hover-opacity-8"\n          >'.concat(SIHLang.sihAppMarket.orders.cancel_purchase,"</a\n        >\n      ")),removeOrderListenerAction(n,i))}))}function paymentListenerAction(){$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-tab__content").find(".item__left-to-pay--button").each((function(t,e){$J(e).off("click").click((function(){var t=$J(this),e=Number(t.attr("data-payment")),n=Math.ceil(1e3*e)/1e3;sih_app_global_service.A.getSihAppToken().then((function(t){window.open("https://sih.app/pay?amount=".concat(n,"#payToken=").concat(t),"_blank")}))}))}))}function removeOrderListenerAction(t,e){t.find(".item__remove").off("click").click((function(){var n=t.find(".item__name").text(),r=ordersActive_defineProperty({},encodeURIComponent(n),[{createdAt:t[0].createdTimestamp,statusCode:null}]);sih_app_global_service.A.changeItemsStatus(r).then((function(){ShowActiveTabOrdersLoaders().then((function(){e&&e.createdAt===t[0].createdTimestamp&&chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_DEFAULT_BUY_COUNT"},(function(t){})),t.remove(),HideActiveTabOrdersLoaders(),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),ChangeOrdersCountHeaderMenu()}))}))}))}function modal_queue_typeof(t){return modal_queue_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},modal_queue_typeof(t)}function modal_queue_toConsumableArray(t){return modal_queue_arrayWithoutHoles(t)||modal_queue_iterableToArray(t)||modal_queue_unsupportedIterableToArray(t)||modal_queue_nonIterableSpread()}function modal_queue_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function modal_queue_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return modal_queue_arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?modal_queue_arrayLikeToArray(t,e):void 0}}function modal_queue_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function modal_queue_arrayWithoutHoles(t){if(Array.isArray(t))return modal_queue_arrayLikeToArray(t)}function modal_queue_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function modal_queue_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function modal_queue_defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,modal_queue_toPropertyKey(r.key),r)}}function modal_queue_createClass(t,e,n){return e&&modal_queue_defineProperties(t.prototype,e),n&&modal_queue_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function modal_queue_toPropertyKey(t){var e=modal_queue_toPrimitive(t,"string");return"symbol"==modal_queue_typeof(e)?e:e+""}function modal_queue_toPrimitive(t,e){if("object"!=modal_queue_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=modal_queue_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _classPrivateFieldInitSpec(t,e,n){modal_queue_checkPrivateRedeclaration(t,e),e.set(t,n)}function modal_queue_checkPrivateRedeclaration(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,e,n){return t.set(modal_queue_assertClassBrand(t,e),n),n}function _classPrivateFieldGet(t,e){return t.get(modal_queue_assertClassBrand(t,e))}function modal_queue_assertClassBrand(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var _modalQueue=new WeakMap,_isModalOpen=new WeakMap,ModalQueue=function(){return modal_queue_createClass((function t(){modal_queue_classCallCheck(this,t),_classPrivateFieldInitSpec(this,_modalQueue,[]),_classPrivateFieldInitSpec(this,_isModalOpen,!1)}),[{key:"enqueueModal",value:function(t){_classPrivateFieldGet(_modalQueue,this).push(t),_classPrivateFieldGet(_isModalOpen,this)||this.showNextModal()}},{key:"showNextModal",value:function(){if(0!==_classPrivateFieldGet(_modalQueue,this).length){_classPrivateFieldSet(_isModalOpen,this,!0);var t=_classPrivateFieldGet(_modalQueue,this).shift();t.renderFn.apply(t,modal_queue_toConsumableArray(t.args))}else _classPrivateFieldSet(_isModalOpen,this,!1)}}])}();const modal_queue=new ModalQueue;var KeysModalSuccessInitListeners=function(){closeModalAction(),spoilerShowAction(),copyBtnClick(),readyBtnClickAction()},closeModal=function(){$J("#sih-keys-success").hide().remove(),$J("body").css("overflow","auto"),modal_queue.showNextModal()},closeModalAction=function(){$J("#sih-keys-success").on("click",".sih-keys-success__fade, .sih-modal__close",closeModal),$J(document).off("keydown").keydown((function(t){27===t.keyCode&&(t.stopPropagation(),closeModal())}))},spoilerShowAction=function(){$J(".spoiler__show-btn").click((function(){$J(".spoiler").hide()}))},copyBtnClick=function(){$J("#copy-key-btn").click((function(){var t=$J(this);navigator.clipboard.writeText($J(this).attr("data-clipboard-key")),t.find(".copy-key-btn__copy-icon").hide(),t.find(".copy-key-btn__copied-icon").show()}))},readyBtnClickAction=function(){$J(".ready-btn").click((function(){closeModal()}))};function success_typeof(t){return success_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},success_typeof(t)}function success_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */success_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==success_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(success_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function success_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function success_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){success_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){success_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var success_RenderSIHKeysSuccessModal=function(){var t=success_asyncToGenerator(success_regeneratorRuntime().mark((function t(e){return success_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,success_loadHtml(e);case 2:KeysModalSuccessInitListeners();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),success_loadHtml=function(){var t=success_asyncToGenerator(success_regeneratorRuntime().mark((function t(e){var n,r;return success_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=$J("body"),r=$J('\n    <div id="sih-keys-success" class="sih-keys-success">\n      <div class="sih-keys-success__fade"></div>\n      <div class="sih-modal sih-global sih-keys-success-modal">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__scrollable-content">\n          <div class="sih-modal__inner sih-modal__column">\n            <div class="success-modal-title">\n              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">\n                <path\n                  d="M12.7329 20.2L24.0329 8.9C24.2996 8.63333 24.6107 8.5 24.9663 8.5C25.3218 8.5 25.6329 8.63333 25.8996 8.9C26.1663 9.16667 26.2996 9.48356 26.2996 9.85067C26.2996 10.2178 26.1663 10.5342 25.8996 10.8L13.6663 23.0667C13.3996 23.3333 13.0885 23.4667 12.7329 23.4667C12.3774 23.4667 12.0663 23.3333 11.7996 23.0667L6.06626 17.3333C5.79959 17.0667 5.67159 16.7502 5.68226 16.384C5.69292 16.0178 5.83203 15.7009 6.09959 15.4333C6.36714 15.1658 6.68403 15.0324 7.05026 15.0333C7.41648 15.0342 7.73292 15.1676 7.99959 15.4333L12.7329 20.2Z"\n                  fill="#41CE83"\n                />\n              </svg>\n              <div class="success-modal-title__text">'.concat(SIHLang.sih_keys.modals.success.title,'</div>\n            </div>\n            <div class="success-modal-card">\n              <div class="success-modal-card__header">').concat(e.titles[0],'</div>\n              <div class="success-modal-card__content game-info-card">\n                <div class="game-info-card__left">\n                  <div class="order-info">\n                    <div class="order-info__title">').concat(SIHLang.sih_keys.modals.success.order,'</div>\n                    <div class="order-info__value">').concat(e.id,'</div>\n                  </div>\n                  <div class="order-info">\n                    <div class="order-info__title">').concat(SIHLang.sih_keys.modals.success.amount,'</div>\n                    <div class="order-info__value">\n                      ').concat(currency_service.A.getPriceFromCurrency(e.amount/1e3,1).text,'\n                    </div>\n                  </div>\n                  <div class="order-info">\n                    <div class="order-info__title">').concat(SIHLang.sih_keys.modals.success.date,'</div>\n                    <div class="order-info__value">').concat(new Date(e.timestamp).toLocaleString("ru-RU"),'</div>\n                  </div>\n                </div>\n                <div class="game-info-card__right">\n                  <img class="order-img" src="').concat(e.headers[0],'" alt="" />\n                </div>\n              </div>\n            </div>\n            <div class="success-modal-card">\n              <div class="success-modal-card__header">').concat(SIHLang.sih_keys.modals.success.your_key,'</div>\n              <div class="success-modal-card__content">\n                <div class="digital-key">\n                  <div class="digital-key__left">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">\n                      <path\n                        d="M17 8.99994C17 8.48812 16.8047 7.9763 16.4142 7.58579C16.0237 7.19526 15.5118 7 15 7M15 15C18.3137 15 21 12.3137 21 9C21 5.68629 18.3137 3 15 3C11.6863 3 9 5.68629 9 9C9 9.27368 9.01832 9.54308 9.05381 9.80704C9.11218 10.2412 9.14136 10.4583 9.12172 10.5956C9.10125 10.7387 9.0752 10.8157 9.00469 10.9419C8.937 11.063 8.81771 11.1823 8.57913 11.4209L3.46863 16.5314C3.29568 16.7043 3.2092 16.7908 3.14736 16.8917C3.09253 16.9812 3.05213 17.0787 3.02763 17.1808C3 17.2959 3 17.4182 3 17.6627V19.4C3 19.9601 3 20.2401 3.10899 20.454C3.20487 20.6422 3.35785 20.7951 3.54601 20.891C3.75992 21 4.03995 21 4.6 21H7V19H9V17H11L12.5791 15.4209C12.8177 15.1823 12.937 15.063 13.0581 14.9953C13.1843 14.9248 13.2613 14.8987 13.4044 14.8783C13.5417 14.8586 13.7588 14.8878 14.193 14.9462C14.4569 14.9817 14.7263 15 15 15Z"\n                        stroke="#0D91EC"\n                        stroke-width="2"\n                        stroke-linecap="round"\n                        stroke-linejoin="round"\n                      />\n                    </svg>\n                    <div class="digital-key__value">').concat(e.content,'</div>\n                  </div>\n                  <div class="digital-key__right copy-key-btn" id="copy-key-btn" data-clipboard-key="').concat(e.content,'">\n                    <svg\n                      class="copy-key-btn__copy-icon"\n                      xmlns="http://www.w3.org/2000/svg"\n                      width="24"\n                      height="24"\n                      viewBox="0 0 24 24"\n                      fill="none"\n                    >\n                      <path\n                        fill-rule="evenodd"\n                        clip-rule="evenodd"\n                        d="M18.9983 8.44466C18.9983 7.156 17.9536 6.11133 16.6649 6.11133H10.4427C9.15405 6.11133 8.10938 7.156 8.10938 8.44466V17.778C8.10938 19.0667 9.15405 20.1113 10.4427 20.1113H16.6649C17.9536 20.1113 18.9983 19.0667 18.9983 17.778V8.44466ZM17.4427 8.44466C17.4427 8.01511 17.0945 7.66688 16.6649 7.66688H10.4427C10.0132 7.66688 9.66493 8.01511 9.66493 8.44466V17.778C9.66493 18.2076 10.0132 18.5558 10.4427 18.5558H16.6649C17.0945 18.5558 17.4427 18.2076 17.4427 17.778V8.44466Z"\n                        fill="#0D91EC"\n                      />\n                      <path\n                        d="M7.33333 4.55556H15.1111C15.5407 4.55556 15.8889 4.20733 15.8889 3.77778C15.8889 3.34823 15.5407 3 15.1111 3H7.33333C6.04467 3 5 4.04467 5 5.33333V16.2222C5 16.6518 5.34823 17 5.77778 17C6.20733 17 6.55556 16.6518 6.55556 16.2222V5.33333C6.55556 4.90378 6.90378 4.55556 7.33333 4.55556Z"\n                        fill="#0D91EC"\n                      />\n                    </svg>\n                    <svg\n                      class="copy-key-btn__copied-icon"\n                      xmlns="http://www.w3.org/2000/svg"\n                      width="17"\n                      height="12"\n                      viewBox="0 0 17 12"\n                      fill="none"\n                    >\n                      <path\n                        d="M1 6L6 11L16 1"\n                        stroke="#0D91EC"\n                        stroke-width="2"\n                        stroke-linecap="round"\n                        stroke-linejoin="round"\n                      />\n                    </svg>\n                    <div class="copy-key-btn__text">').concat(SIHLang.sih_keys.modals.success.copy,'</div>\n                  </div>\n                  <div class="spoiler">\n                    <div class="spoiler__show-btn">\n                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n                        <path\n                          d="M8.00033 6C8.53076 6 9.03947 6.21071 9.41454 6.58579C9.78961 6.96086 10.0003 7.46957 10.0003 8C10.0003 8.53043 9.78961 9.03914 9.41454 9.41421C9.03947 9.78929 8.53076 10 8.00033 10C7.46989 10 6.96118 9.78929 6.58611 9.41421C6.21104 9.03914 6.00033 8.53043 6.00033 8C6.00033 7.46957 6.21104 6.96086 6.58611 6.58579C6.96118 6.21071 7.46989 6 8.00033 6ZM8.00033 3C11.3337 3 14.1803 5.07333 15.3337 8C14.1803 10.9267 11.3337 13 8.00033 13C4.66699 13 1.82033 10.9267 0.666992 8C1.82033 5.07333 4.66699 3 8.00033 3ZM2.12033 8C3.22033 10.24 5.49366 11.6667 8.00033 11.6667C10.507 11.6667 12.7803 10.24 13.8803 8C12.7803 5.76 10.507 4.33333 8.00033 4.33333C5.49366 4.33333 3.22033 5.76 2.12033 8Z"\n                          fill="#6F7F8A"\n                        />\n                      </svg>\n                      <div>').concat(SIHLang.sih_keys.modals.success.show,'</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="success-modal-card">\n              <div class="success-modal-card__header">').concat(SIHLang.sih_keys.modals.success.how_activate.title,'</div>\n              <div class="success-modal-card__content activation-guideline">\n                <div class="activation-guide-row">\n                  <div class="activation-guide-row__step">1</div>\n                  <div class="activation-guide-row__desc">').concat(SIHLang.sih_keys.modals.success.how_activate.step_1,'</div>\n                </div>\n                <div class="activation-guide-row">\n                  <div class="activation-guide-row__step">2</div>\n                  <div class="activation-guide-row__desc">\n                    ').concat(SIHLang.sih_keys.modals.success.how_activate.step_2_pt1,' "<a\n                      class="activation-guide-row__link"\n                      href="https://store.steampowered.com/account/registerkey"\n                      >').concat(SIHLang.sih_keys.modals.success.how_activate.step_2_pt2,'</a\n                    >".\n                  </div>\n                </div>\n                <div class="activation-guide-row">\n                  <div class="activation-guide-row__step">3</div>\n                  <div class="activation-guide-row__desc">').concat(SIHLang.sih_keys.modals.success.how_activate.step_3,'</div>\n                </div>\n              </div>\n            </div>\n            <div class="success-modal-card">\n              <div class="success-modal-card__header">\n                ').concat(SIHLang.sih_keys.modals.success.important_information.title,'\n              </div>\n              <div class="success-modal-card__content">\n                <ul class="important-list">\n                  <li class="important-list__item important-list-item">\n                    <span class="important-list-item__title"\n                      >').concat(SIHLang.sih_keys.modals.success.important_information.step_1,'</span\n                    >\n                    <span class="important-list-item__value">').concat(e.region,'</span>\n                  </li>\n                  <li class="important-list__item important-list-item">\n                    <span class="important-list-item__title"\n                      >').concat(SIHLang.sih_keys.modals.success.important_information.step_2_title,'</span\n                    >\n                    <span class="important-list-item__value"\n                      >').concat(SIHLang.sih_keys.modals.success.important_information.step_2_value,'</span\n                    >\n                  </li>\n                  <li class="important-list__item important-list-item">\n                    <span class="important-list-item__title"\n                      >').concat(SIHLang.sih_keys.modals.success.important_information.step_3,'</span\n                    >\n                    <span class="important-list-item__value">').concat(e.email,'</span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <div class="support-info">\n              ').concat(SIHLang.sih_keys.modals.success.need_help,'\n              <a href="mailto:sihtechnic@gmail.com" class="support-info__email">sihtechnic@gmail.com</a>\n            </div>\n            <button class="ready-btn">').concat(SIHLang.sih_keys.modals.success.done,"</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ")),n.find(".sih-keys-success").length||(n.append(r),$J("body").css("overflow","hidden"));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),GetSteamPrice=function(){var t=$J("[data-price-final]").first();return t?t.attr("data-price-final")/100:null},GetAddToCardBtn=function(){var t=$J('div[id*="game_area_purchase_section_add_to_cart_"] .game_purchase_price.price'),e=$J('div[id*="game_area_purchase_section_add_to_cart_"] .discount_final_price');return(t.length?t.eq(0):e.eq(0)).closest(".game_purchase_action").find(".btn_addtocart")},HandlePortOnMessage=function(t){t.onMessage.addListener((function(t){t.success?($J("#sih-modal__buy-orders .sih-modal__close").trigger("click"),modal_queue.enqueueModal({renderFn:success_RenderSIHKeysSuccessModal,args:[t.item]})):(0,notificationPopup.W)({status:"error",text:t.error})}))};function sih_game_keys_service_typeof(t){return sih_game_keys_service_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sih_game_keys_service_typeof(t)}function sih_game_keys_service_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sih_game_keys_service_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==sih_game_keys_service_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(sih_game_keys_service_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function sih_game_keys_service_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function sih_game_keys_service_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){sih_game_keys_service_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){sih_game_keys_service_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}function sih_game_keys_service_defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sih_game_keys_service_toPropertyKey(r.key),r)}}function sih_game_keys_service_createClass(t,e,n){return e&&sih_game_keys_service_defineProperties(t.prototype,e),n&&sih_game_keys_service_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sih_game_keys_service_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sih_game_keys_service_defineProperty(t,e,n){return(e=sih_game_keys_service_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sih_game_keys_service_toPropertyKey(t){var e=sih_game_keys_service_toPrimitive(t,"string");return"symbol"==sih_game_keys_service_typeof(e)?e:e+""}function sih_game_keys_service_toPrimitive(t,e){if("object"!=sih_game_keys_service_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sih_game_keys_service_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var sih_game_keys_service_SihGameKeysService=sih_game_keys_service_createClass((function t(){sih_game_keys_service_classCallCheck(this,t),sih_game_keys_service_defineProperty(this,"getKeyOffers",function(){var t=sih_game_keys_service_asyncToGenerator(sih_game_keys_service_regeneratorRuntime().mark((function t(e,n){var r;return sih_game_keys_service_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.runtime.sendMessage(SIHID,{type:"STEAM_STATS_GET_KEY_OFFERS",data:{appId:e,countryCode:n}});case 2:if(!(r=t.sent).success){t.next=7;break}return t.abrupt("return",r.data);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),sih_game_keys_service_defineProperty(this,"makeKeyOrder",function(){var t=sih_game_keys_service_asyncToGenerator(sih_game_keys_service_regeneratorRuntime().mark((function t(e){var n,r;return sih_game_keys_service_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=chrome.runtime.connect(SIHID,{name:"SIH_KEYS_START_ORDERING"}),HandlePortOnMessage(n),t.next=4,chrome.runtime.sendMessage(SIHID,{type:"STEAM_STATS_MAKE_KEY_ORDER",data:e});case 4:if(!(r=t.sent).success){t.next=9;break}return t.abrupt("return",r.data);case 9:return(0,notificationPopup.W)({status:"error",text:r.error}),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),sih_game_keys_service_defineProperty(this,"getOrderInfo",function(){var t=sih_game_keys_service_asyncToGenerator(sih_game_keys_service_regeneratorRuntime().mark((function t(e){var n;return sih_game_keys_service_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.runtime.sendMessage(SIHID,{type:"STEAM_STATS_GET_KEY_ORDER_BY_ORDER_ID",data:e});case 2:if(!(n=t.sent).success){t.next=7;break}return t.abrupt("return",n.data);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),sih_game_keys_service_defineProperty(this,"getAllKeyOrders",sih_game_keys_service_asyncToGenerator(sih_game_keys_service_regeneratorRuntime().mark((function t(){var e,n,r=arguments;return sih_game_keys_service_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]&&r[0],t.next=3,chrome.runtime.sendMessage(SIHID,{type:"STEAM_STATS_GET_ALL_KEY_ORDERS",data:{isForce:e}});case 3:if(!(n=t.sent).success){t.next=8;break}return t.abrupt("return",n.orders);case 8:return t.abrupt("return",[]);case 9:case"end":return t.stop()}}),t)})))),sih_game_keys_service_defineProperty(this,"refillAndBuy",function(){var t=sih_game_keys_service_asyncToGenerator(sih_game_keys_service_regeneratorRuntime().mark((function t(e){var n;return sih_game_keys_service_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=chrome.runtime.connect(SIHID,{name:"SIH_KEYS_START_ORDERING"}),HandlePortOnMessage(n),t.next=4,chrome.runtime.sendMessage(SIHID,{type:"STEAM_STATS_REFILL_AND_BUY_ORDER",data:e});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));const sih_game_keys_service=new sih_game_keys_service_SihGameKeysService;function ordersKeysActive_typeof(t){return ordersKeysActive_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ordersKeysActive_typeof(t)}function ordersKeysActive_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ordersKeysActive_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ordersKeysActive_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(ordersKeysActive_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function ordersKeysActive_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function ordersKeysActive_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){ordersKeysActive_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){ordersKeysActive_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var ordersKeysActive_TEN_MINUTES=6e5,ordersKeysActive_ACTIVE_ORDERS_TIMER_INTERVAL;function ModalOrdersKeysActive(){ordersKeysActive_loadHtml()}function ordersKeysActive_loadHtml(){var t=$J("#sih-modal__buy-orders").find(".orders-tab").find(".sih-modal__inner");t.find(".orders-active-keys-tab__content").length||t.append('\n    <div class="orders-tab__content orders-active-keys-tab__content sih-modal__column gap-10 hidden"></div>\n  ')}function RenderOrdersKeysActiveItems(){return _RenderOrdersKeysActiveItems.apply(this,arguments)}function _RenderOrdersKeysActiveItems(){return(_RenderOrdersKeysActiveItems=ordersKeysActive_asyncToGenerator(ordersKeysActive_regeneratorRuntime().mark((function t(){var e,n,r,i,a,o,s;return ordersKeysActive_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=$J("#sih-modal__buy-orders"),n=e.find(".sih-modal.orders-tab"),(r=n.find(".orders-active-keys-tab__content").removeClass("empty")).find(".orders-tab__item").remove(),r.find(".orders-tab__plug").remove(),t.next=7,sih_game_keys_service.getAllKeyOrders(!1);case 7:i=t.sent,a=sih_app_global_service.A.getFilterItemsByStatus(i,["created","processing","pending"]),(o=$J('label[for="orders-toggle-tabs-keys"] span.count')).attr("active-count",a.length),$J("#orders-active").is(":checked")&&o.text(a.length),a.length?(a.sort((function(t,e){return new Date(e.timestamp)-new Date(t.timestamp)})).forEach((function(t,e){var n,i,a=currency_service.A.getPriceFromCurrency((t.finalPrice||t.amount)/1e3,1,1).text,o=currency_service.A.getPriceFromCurrency(+t.unavailableSumPrice||0,1).text,s=new Date(t.timestamp).toLocaleString(),c=$J('\n        <div class="orders-tab__item item sih-modal__column rounded-8">\n          <div class="sih-modal__row sih-modal__text sih-modal__text_xl">\n            '.concat(SIHLang.sihAppMarket.orders.order," #").concat(t.id||t.offerId+"-"+t.timestamp,'\n          </div>\n          <div class="sih-modal__row mt-20 justify-between">\n            <div class="item__left-side sih-modal__row items-start gap-15">\n              <img\n                class="w-41 h-41 object-cover"\n                src="').concat(t.steamCover||(null===(n=t.headers)||void 0===n?void 0:n[0])||"chrome-extension://".concat(SIHID,"/assets/sihKeys/no_key_img_processing.svg"),'"\n                alt="').concat(t.name,'"\n              />\n\n              <div class="sih-modal__column gap-5">\n                <span class="item__name sih-modal__text sih-modal__text_md">').concat(t.name||(null===(i=t.titles)||void 0===i?void 0:i[0]),'</span>\n                <span class="sih-modal__text sih-modal__text_md">').concat(a,'</span>\n                <div class="item__status-block sih-modal__row items-center gap-8">\n                  <span class="item__status sih-modal__text sih-modal__text_sm" data-status="').concat(t.status,'">\n                    ').concat(SIHLang.sih_keys.status[t.status],'\n                  </span>\n                </div>\n                <div class="item__buttons sih-modal__row items-center mt-5 gap-20"></div>\n                <div class="item__cancel-block sih-modal__row items-center mt-5 gap-8">\n                  <div class="item__cancel sih-modal__text sih-modal__text_sm"></div>\n                </div>\n              </div>\n            </div>\n\n            <div class="item__right-side sih-modal__column w-320 gap-15">\n              <div class="sih-modal__row justify-between">\n                <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                  ').concat(SIHLang.sihAppMarket.orders.order_date,'\n                </div>\n                <div class="sih-modal__text sih-modal__text_md">').concat(s,"</div>\n              </div>\n\n              ").concat(t.unavailableSumPrice?'<div class="item__left-to-pay sih-modal__row justify-between">\n                    <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                      '.concat(SIHLang.sihAppMarket.orders.payment,'\n                    </div>\n                    <div class="sih-modal__row items-center gap-5">\n                      <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold">\n                        ').concat(o,'\n                      </span>\n                      <span class="sih-modal__text sih-modal__text_md">\n                        ').concat(SIHLang.sihAppMarket.orders.pending_payment,"\n                      </span>\n                    </div>\n                  </div>"):"","\n            </div>\n          </div>\n        </div>\n      "));c.data("key-info",t),r.append(c)})),ordersKeysActive_updatePurchaseItemTimer()):(s=$J('\n      <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20 mt-31 mb-50">\n        <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.plug_active_title,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.orders.plug_text,"</span>\n      </div>\n    ")),r.append(s),$J(".orders-active-keys-tab__content").addClass("empty"));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ordersKeysActive_updatePurchaseItemTimer=function(){var t=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-keys-tab__content");clearInterval(ordersKeysActive_ACTIVE_ORDERS_TIMER_INTERVAL),ordersKeysActive_ACTIVE_ORDERS_TIMER_INTERVAL=setInterval(ordersKeysActive_asyncToGenerator(ordersKeysActive_regeneratorRuntime().mark((function e(){var n,r;return ordersKeysActive_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sih_game_keys_service.getAllKeyOrders(!1);case 2:n=e.sent,(r=sih_app_global_service.A.getFilterItemsByStatus(n,["pending"])).length?t.find(".orders-tab__item").each((function(t,e){var n=$J(e),i=n.data("key-info");if(i)if(r.some((function(t){return t.offerId===i.offerId&&t.timestamp===i.timestamp}))){var a=new Date(i.timestamp).getTime()+ordersKeysActive_TEN_MINUTES-Date.now();if(a>0){var o=new Date(a).toISOString().slice(14,19);ordersKeysActive_timeToLeft(n,"status",o)}}else RenderOrdersKeysActiveItems()})):(RenderOrdersKeysActiveItems(),clearInterval(ordersKeysActive_ACTIVE_ORDERS_TIMER_INTERVAL),ChangeOrdersCountHeaderMenu());case 5:case"end":return e.stop()}}),e)}))),1e3)},ordersKeysActive_timeToLeft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"status",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.find(".item__".concat(e,"-block")),i=r.find(".item__spinner"),a=r.find(".item__timer"),o=r.find(".item__".concat(e));i.length||o.before('<div class="item__spinner"></div>'),a.length?(a.is(":visible")||(i.css("display","flex").fadeIn(),a.css("display","flex").fadeIn()),a.text(n)):(o.after('<div class="item__timer sih-modal__text sih-modal__text_sm">'.concat(n,"</div>")),"cancel"===e&&o.text(SIHLang.sihAppMarket.orders.cancel_info))};function ordersKeysHistory_typeof(t){return ordersKeysHistory_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ordersKeysHistory_typeof(t)}function ordersKeysHistory_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ordersKeysHistory_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ordersKeysHistory_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(ordersKeysHistory_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function ordersKeysHistory_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function ordersKeysHistory_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){ordersKeysHistory_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){ordersKeysHistory_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}function ModalOrdersKeysHistory(){ordersKeysHistory_loadHtml(),showKeysSuccessBtnClick()}function ordersKeysHistory_loadHtml(){var t=$J("#sih-modal__buy-orders").find(".orders-tab").find(".sih-modal__inner");t.find(".orders-history-keys-tab__content").length||t.append('\n    <div class="orders-tab__content orders-history-keys-tab__content hidden"></div>\n    <div id="pagination-keys-container"></div>\n  ')}function showKeysSuccessBtnClick(){$J("#sih-modal__buy-orders .orders-history-keys-tab__content").off("click").on("click",".open-key-info-btn",(function(){var t=$J(this).data("key-info");$J("#sih-modal__buy-orders .sih-modal__close").click(),success_RenderSIHKeysSuccessModal(t)}))}function RenderOrdersKeyHistoryItems(){return _RenderOrdersKeyHistoryItems.apply(this,arguments)}function _RenderOrdersKeyHistoryItems(){return(_RenderOrdersKeyHistoryItems=ordersKeysHistory_asyncToGenerator(ordersKeysHistory_regeneratorRuntime().mark((function t(){var e,n,r,i,a,o,s;return ordersKeysHistory_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=$J("#sih-modal__buy-orders"),n=e.find(".sih-modal.orders-tab"),(r=n.find(".orders-history-keys-tab__content")).find(".orders-tab__item").remove(),r.find(".orders-tab__plug").remove(),t.next=7,sih_game_keys_service.getAllKeyOrders(!1);case 7:i=t.sent,a=sih_app_global_service.A.getFilterItemsByStatus(i,["failed","finished"]),(o=$J('label[for="orders-toggle-tabs-keys"] span.count')).attr("history-count",a.length),$J("#orders-history").is(":checked")&&o.text(a.length),a.length?a.sort((function(t,e){return new Date(e.timestamp)-new Date(t.timestamp)})).forEach((function(t,e){var n=currency_service.A.getPriceFromCurrency(t.amount/1e3,1,1).text,i=new Date(t.timestamp).toLocaleString("ru-RU"),a=$J('\n        <div class="orders-tab__item item sih-modal__column rounded-8">\n          <div class="sih-modal__row sih-modal__text sih-modal__text_xl">\n            '.concat(SIHLang.sihAppMarket.orders.order," #").concat(t.id,'\n          </div>\n          <div class="sih-modal__row mt-20 justify-between">\n            <div class="item__left-side sih-modal__row items-start gap-15">\n              <img\n                class="w-41 h-41 object-cover"\n                src="').concat(t.headers[0]||"chrome-extension://".concat(SIHID,"/assets/sihKeys/no_key_img_processing.svg"),'"\n                alt="').concat(t.titles[0],'"\n              />\n\n              <div class="sih-modal__column gap-5">\n                <span class="item__name sih-modal__text sih-modal__text_md">').concat(t.titles[0],'</span>\n                <span class="sih-modal__text sih-modal__text_md">').concat(n,'</span>\n                <div class="item__status-block sih-modal__row items-center gap-8">\n                  <span class="item__status sih-modal__text sih-modal__text_sm" data-status="').concat(t.status,'">\n                    ').concat(SIHLang.sih_keys.status[t.status],'\n                  </span>\n                </div>\n                <div class="item__buttons sih-modal__row items-center mt-5 gap-20"></div>\n                <div class="item__cancel-block sih-modal__row items-center mt-5 gap-8">\n                  <div class="item__cancel sih-modal__text sih-modal__text_sm"></div>\n                </div>\n              </div>\n            </div>\n\n            <div class="item__right-side sih-modal__column w-320 gap-15">\n              <div class="sih-modal__row justify-between">\n                <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                  ').concat(SIHLang.sihAppMarket.orders.order_date,'\n                </div>\n                <div class="sih-modal__text sih-modal__text_md">').concat(i,"</div>\n              </div>\n\n              ").concat("finished"===t.status?'<a\n                    href="javascript:void(0)"\n                    class="open-key-info-btn sih-modal__button sih-modal__button_blue py-10 px-14 fs-12 h-28 rounded-4 mt-10"\n                  >\n                    '.concat(SIHLang.sih_keys.show,"</a\n                  >"):"","\n            </div>\n          </div>\n        </div>\n      "));a.find(".open-key-info-btn").data("key-info",t),r.append(a)})):(s=$J('\n      <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20">\n        <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.plug_history_title,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.orders.plug_text,"</span>\n      </div>\n    ")),r.find(".orders-tab__plug").length||r.append(s));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function orders_typeof(t){return orders_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},orders_typeof(t)}function orders_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */orders_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==orders_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(orders_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function orders_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function orders_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){orders_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){orders_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var REFRESH_ORDERS_TIMER=30,REFRESH_ORDERS_TIMER_INTERVAL=null;function ModalOrders(){orders_loadHtml(),modalListeners(),ModalOrdersActive(),ModalOrdersHistory(),ModalOrdersKeysActive(),ModalOrdersKeysHistory()}function ShowActiveTabOrdersLoaders(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,r=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-tab__content");return e='\n      <div class="fake-orders-tab__content">'.concat(t='\n      <div class="fake-orders__row sih-modal__column rounded-8">\n        <div class="sih-modal__row w-100 h-28 bg-grey rounded-4"></div>\n        <div class="sih-modal__row mt-20 justify-between">\n          <div class="sih-modal__row items-start gap-15">\n            <div class="sih-modal__column w-40 h-40 bg-grey rounded-4"></div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="w-100 h-20 bg-grey rounded-4"></span>\n              <span class="w-100 h-20 bg-grey rounded-4"></span>\n              <span class="w-100 h-20 bg-grey rounded-4"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__column w-320 gap-15">\n            <div class="sih-modal__row justify-between">\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n            </div>\n\n            <div class="sih-modal__row justify-between">\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    '," ").concat(t," ").concat(t,"</div>\n    "),r.each((function(t,n){var r=$J(n),i=r.find(".fake-orders-tab__content");r.find(".orders-tab__item").fadeOut(),i.length?i.fadeIn():r.append(e)})),new Promise((function(t){return setTimeout(t,n)}))}function HideActiveTabOrdersLoaders(){var t=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-tab__content"),e=t.find(".orders-tab__item");t.find(".fake-orders-tab__content").fadeOut(),e.fadeIn()}function UpdateRefreshOrderTimer(){REFRESH_ORDERS_TIMER=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30}function orders_loadHtml(){var t=$J("#sih-modal__buy-orders"),e='\n    <div class="sih-modal sih-global orders-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner sih-modal__column">\n        <div class="orders-tab__header sih-modal__row gap-60">\n          <div class="sih-modal__column">\n            <div class="title sih-modal__title">'.concat(SIHLang.sihAppMarket.orders.title,'</div>\n          </div>\n        </div>\n        <div class="orders-tabs orders-tabs__container sih-modal__row gap-30 mb-20">\n          <label for="orders-active" class="orders-tabs__label">\n            <input type="radio" name="orders-tab" id="orders-active" class="orders-tabs__input" checked />\n            <span class="orders-tabs__item sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.orders.tab_active,'</span\n            >\n          </label>\n          <label for="orders-history" class="orders-tabs__label">\n            <input type="radio" name="orders-tab" id="orders-history" class="orders-tabs__input" />\n            <span class="orders-tabs__item sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.orders.tab_history,'</span\n            >\n          </label>\n          <a\n            href="javascript:void(0)"\n            class="orders-tabs__refresh-btn sih-modal__row items-center gap-5 absolute right-32 bottom-0 ').concat(REFRESH_ORDERS_TIMER>0?"pointer-events-none opacity-5":"",'"\n          >\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M17.65 6.35C16.2 4.9 14.21 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C10.4087 18 8.88258 17.3679 7.75736 16.2426C6.63214 15.1174 6 13.5913 6 12C6 10.4087 6.63214 8.88258 7.75736 7.75736C8.88258 6.63214 10.4087 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z"\n                fill="white"\n              />\n            </svg>\n            <div class="orders-tabs__timer sih-modal__row items-center">\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">00:</span>\n              <span class="orders-tabs__timer-seconds sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                >').concat(REFRESH_ORDERS_TIMER||"",'</span\n              >\n            </div>\n          </a>\n        </div>\n        <div class="orders-toggle-tabs">\n          <input\n            type="radio"\n            id="orders-toggle-tabs-skins"\n            name="orders-toggle-tabs"\n            class="orders-toggle-tabs orders-toggle-tabs__hidden-input"\n            checked\n          />\n          <label for="orders-toggle-tabs-skins" class="orders-toggle-tabs__tab"\n            ><svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">\n              <path\n                d="M2.46707 1.28815C2.52269 1.30962 2.56308 1.34184 2.653 1.43541C2.69872 1.48296 3.37461 2.16635 4.15414 2.95328C4.93366 3.74021 6.12543 4.94285 6.80133 5.62624C7.47722 6.30963 8.32685 7.16636 8.6888 7.52914L9.34717 8.19029L8.9334 8.60753C8.70633 8.83763 8.31542 9.22649 8.06548 9.47193C7.81479 9.71737 7.53589 9.99578 7.44445 10.0901C7.35301 10.1852 7.27681 10.2627 7.27453 10.2627C7.26538 10.2627 6.84476 9.84622 6.15439 9.1544C5.76272 8.7617 5.30095 8.3038 5.1295 8.1366C4.81708 7.83364 4.60219 7.61121 4.38655 7.36654C4.3675 7.34507 4.33473 7.30748 4.31416 7.28294C4.29282 7.2584 4.27225 7.23462 4.26844 7.23002C4.25167 7.21238 4.02079 6.93396 3.96287 6.8611C3.86458 6.73914 3.67103 6.47683 3.5674 6.32727C2.71853 5.10469 2.24685 3.82919 2.14322 2.48158C2.11883 2.16252 2.11579 2.08735 2.11579 1.82197C2.11655 1.50981 2.12036 1.47683 2.1676 1.39629C2.22704 1.29428 2.36039 1.24596 2.46707 1.28815Z"\n                fill="#DFE6EB"\n              />\n              <path\n                d="M10.5705 7.57343C10.6848 7.63556 10.8578 7.78436 11.0216 7.96C11.2007 8.15251 11.2388 8.20927 11.2388 8.28367C11.2388 8.39411 11.1839 8.48001 10.9942 8.66409C10.6955 8.95325 8.13667 11.538 8.04065 11.6477C7.8753 11.8356 7.81282 11.8877 7.71985 11.9184C7.6406 11.9445 7.60936 11.9453 7.56669 11.92C7.48058 11.8701 7.22912 11.6362 7.03329 11.423C6.91213 11.291 6.89537 11.2673 6.88394 11.2136C6.86108 11.1016 6.9388 10.972 7.1293 10.804C7.17731 10.7626 7.41658 10.5279 7.66194 10.2832C9.04421 8.90493 9.31548 8.63265 9.41911 8.5222C9.45721 8.48155 9.53417 8.39871 9.59056 8.33812C9.69419 8.22537 10.0348 7.88023 10.1049 7.8158C10.2268 7.70382 10.3579 7.60258 10.4265 7.56806C10.4798 7.54122 10.5133 7.54275 10.5705 7.57343Z"\n                fill="#DFE6EB"\n              />\n              <path\n                d="M12.6708 10.7876C13.5997 11.7249 14.3723 12.5057 14.3876 12.5226C14.5026 12.6514 14.591 12.8048 14.6215 12.9291C14.6436 13.0188 14.6451 13.1983 14.6246 13.3072L14.6116 13.3785L14.6604 13.4376C14.8417 13.6593 14.9385 13.8786 14.9857 14.1777C15.0002 14.2698 15.0017 14.3035 14.9987 14.4385C14.9941 14.6073 14.9934 14.6119 14.9667 14.7468C14.8684 15.2362 14.5575 15.6527 14.1376 15.8574C13.8008 16.0224 13.3848 16.0454 13.0144 15.9203C12.8765 15.8743 12.7607 15.8061 12.6243 15.691C12.5885 15.6619 12.1465 15.2193 11.6413 14.7093C9.23645 12.2787 8.78916 11.8277 8.7221 11.7648C8.63447 11.6827 8.56817 11.6122 8.54074 11.573L8.52093 11.5431L8.59713 11.4695C8.72819 11.3422 10.826 9.23296 10.8984 9.15626C10.9357 9.11561 10.97 9.08263 10.9746 9.08263C10.9784 9.08263 11.7419 9.84962 12.6708 10.7876Z"\n                fill="#DFE6EB"\n              />\n            </svg>\n            <span>').concat(SIHLang.sihAppMarket.orders.subtab_skins,'</span><span class="count">0</span>\n          </label>\n\n          <input\n            type="radio"\n            id="orders-toggle-tabs-keys"\n            name="orders-toggle-tabs"\n            class="orders-toggle-tabs orders-toggle-tabs__hidden-input"\n          />\n          <label for="orders-toggle-tabs-keys" class="orders-toggle-tabs__tab"\n            ><svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">\n              <path\n                d="M15.9678 11.746L14.4848 4.67952C14.3182 3.88536 13.6176 3.31689 12.8065 3.31689H11.3697C10.8866 3.31689 10.4948 3.70871 10.4948 4.19186C10.4948 4.67499 10.1029 5.06683 9.61981 5.06683H8.71531H7.28462H6.38037C5.89697 5.06683 5.50515 4.67502 5.50515 4.19186V3.96643C5.50515 3.48302 5.11359 3.31689 4.63019 3.31689H3.19347C2.38228 3.31689 1.68172 3.88536 1.51509 4.67952L0.0320285 11.746C-0.053284 12.1533 0.0335286 12.5776 0.272216 12.9185C0.510904 13.2592 0.880216 13.4862 1.29206 13.545L2.15053 13.6678C2.75981 13.7546 3.36056 13.4619 3.66781 12.9287L5.20209 10.2632C5.38947 9.93796 5.73678 9.7373 6.11209 9.7373H9.88778C10.2633 9.7373 10.6101 9.93796 10.7975 10.2632L12.3323 12.9287C12.6393 13.4619 13.2401 13.7546 13.8494 13.6678L14.7081 13.545C15.1199 13.4861 15.489 13.2592 15.7277 12.9185C15.9664 12.5776 16.0534 12.1533 15.9678 11.746ZM5.38175 7.74136H4.29106V8.8318H3.42659V7.74136H2.33597V6.87689H3.42662V5.78646H4.29109V6.87689H5.38178L5.38175 7.74136ZM12.2385 5.45721C12.6021 5.45721 12.8968 5.75196 12.8968 6.11577C12.8968 6.4793 12.6021 6.77405 12.2385 6.77405C11.8744 6.77405 11.5797 6.4793 11.5797 6.11577C11.5797 5.75196 11.8744 5.45721 12.2385 5.45721ZM10.9212 8.09139C10.5576 8.09139 10.2626 7.79643 10.2626 7.43258C10.2626 7.06902 10.5576 6.77402 10.9212 6.77402C11.285 6.77402 11.5797 7.06902 11.5797 7.43258C11.5797 7.79643 11.2849 8.09139 10.9212 8.09139ZM12.2385 9.40827C11.8744 9.40827 11.5797 9.11327 11.5797 8.74971C11.5797 8.38614 11.8744 8.09139 12.2385 8.09139C12.6021 8.09139 12.8968 8.38614 12.8968 8.74971C12.8968 9.11327 12.6021 9.40827 12.2385 9.40827ZM13.5551 8.09139C13.1916 8.09139 12.8968 7.79643 12.8968 7.43258C12.8968 7.06902 13.1916 6.77402 13.5551 6.77402C13.9189 6.77402 14.2139 7.06902 14.2139 7.43258C14.2139 7.79643 13.9189 8.09139 13.5551 8.09139Z"\n                fill="#DFE6EB"\n              />\n            </svg>\n            <span>').concat(SIHLang.sihAppMarket.orders.subtab_keys,'</span><span class="count">0</span>\n          </label>\n        </div>\n      </div>\n    </div>\n  ');t.find(".orders-tab").length||t.append(e)}function modalListeners(){showOrders(),changeOrdersTab(),refreshOrderHistoryAction(),updateRefreshTimer(),changeToggleTabsAction()}function showOrders(){var t=$J("#sih-modal__buy-orders"),e=t.find(".sih-modal.orders-tab");function n(){return r.apply(this,arguments)}function r(){return(r=orders_asyncToGenerator(orders_regeneratorRuntime().mark((function n(){return orders_regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.show(),e.show(),ChangeOrdersCountHeaderMenu(),n.next=5,ShowActiveTabOrdersLoaders();case 5:return n.next=7,RenderOrdersActiveItems();case 7:return n.next=9,RenderOrdersHistoryItems();case 9:return n.next=11,RenderOrdersKeysActiveItems();case 11:return n.next=13,RenderOrdersKeyHistoryItems();case 13:toggleTabOnProcessItems();case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}$J("#sih-header-orders").off("click").click((function(){$J("body").css("overflow","hidden");var e=$J("body").find("#sih-enter-password");sih_app_global_service.A.getUserOrdersHistory(!1).then((function(r){r&&r.success?r.tfaNeed?(t.hide(),e.attr("data-show-modal","orders").show()):n():r&&!r.hasOwnProperty("authorization")?sih_app_global_service.A.getLoginSihAppUser().then((function(r){r.tfaNeed?(t.hide(),e.attr("data-show-modal","orders").show()):n()})):n()})),registerOpenOrdersClick()}))}function changeOrdersTab(){var t=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab");t.find(".orders-tabs__container").find(".orders-tabs__input").each((function(e,n){$J(n).change((function(){var e=$J(this),n=t.find("#pagination-container"),r=t.find(".orders-tabs__refresh-btn"),i="orders-toggle-tabs-keys"===t.find('.orders-toggle-tabs [name="orders-toggle-tabs"]:checked').attr("id"),a="orders-history"===e.attr("id");t.find(".orders-tab__content").addClass("hidden"),t.find(".".concat(e.attr("id")).concat(i?"-keys":"","-tab__content")).removeClass("hidden"),a?(n.css("display",i?"none":"flex"),r.css("display","flex")):(n.hide(),r.hide());var o=$J('label[for="orders-toggle-tabs-skins"] span.count'),s=$J('label[for="orders-toggle-tabs-keys"] span.count');o.text(o.attr("".concat(a?"history":"active","-count"))),s.text(s.attr("".concat(a?"history":"active","-count")))}))}))}function refreshOrderHistoryAction(){var t=$J("#sih-modal__buy-orders"),e=t.find(".sih-modal.orders-tab");e.find(".orders-tabs__refresh-btn").off("click").click((function(){if(UpdateRefreshOrderTimer(),"orders-toggle-tabs-keys"===e.find('.orders-toggle-tabs [name="orders-toggle-tabs"]:checked').attr("id"))RenderOrdersKeyHistoryItems();else{var n=$J("body").find("#sih-enter-password");sih_app_global_service.A.getUserOrdersHistory(!1).then((function(e){e&&e.success?e.tfaNeed?(t.hide(),n.attr("data-show-modal","orders").show()):ShowActiveTabOrdersLoaders().then((function(){RenderOrdersHistoryItems()})):(e&&e.hasOwnProperty("authorization"),sih_app_global_service.A.getLoginSihAppUser().then((function(t){ShowActiveTabOrdersLoaders().then((function(){RenderOrdersHistoryItems()}))})))}))}}))}function updateRefreshTimer(){var t=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab"),e=t.find(".orders-tabs__refresh-btn");clearInterval(REFRESH_ORDERS_TIMER_INTERVAL),UpdateRefreshOrderTimer(),REFRESH_ORDERS_TIMER_INTERVAL=setInterval((function(){var n=t.find(".orders-tabs__timer"),r=n.find(".orders-tabs__timer-seconds");REFRESH_ORDERS_TIMER>0?(n.is(":visible")||(e.addClass("pointer-events-none opacity-5"),n.show()),REFRESH_ORDERS_TIMER-=1,r.text(REFRESH_ORDERS_TIMER>=10?REFRESH_ORDERS_TIMER:"0".concat(REFRESH_ORDERS_TIMER))):(e.removeClass("pointer-events-none opacity-5"),n.hide())}),1e3)}var changeToggleTabsAction=function(){var t=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab");t.find(".orders-toggle-tabs").find(".orders-toggle-tabs").each((function(e,n){$J(n).change((function(){var e=$J(this),n=t.find(".orders-tabs__refresh-btn"),r=t.find("#pagination-container"),i=e.attr("id"),a=t.find('.orders-tabs [name="orders-tab"]:checked').attr("id"),o="orders-toggle-tabs-keys"===i;t.find(".orders-tab__content").addClass("hidden"),t.find(".".concat(a).concat(o?"-keys":"","-tab__content")).removeClass("hidden"),"orders-history"===a?(r.css("display",o?"none":"flex"),n.css("display","flex")):(r.hide(),n.hide())}))}))};function toggleTabOnProcessItems(){$J("#orders-active").is(":checked")&&(+$J('label[for="orders-toggle-tabs-keys"] span.count').attr("active-count")>+$J('label[for="orders-toggle-tabs-skins"] span.count').attr("active-count")&&$J('label[for="orders-toggle-tabs-keys"]').click())}function common_modals_RenderModals(){common_modals_loadHtml(),ModalOrdering(),LoadEnterPasswordModal(),ModalOrders(),ModalCart(),setTimeout((function(){modalListenersAction(),ModalPasswordListenersAction()}),500)}function SetModalToDefaultState(){$J("#sih-modal__buy-orders").hide().remove(),CloseRefillSIHBalance(),common_modals_RenderModals()}function common_modals_loadHtml(){var t=$J("body");t.find("#sih-modal__buy-orders").length||t.append('\n    <div id="sih-modal__buy-orders">\n      <div class="sih-modal__buy-orders__fade"></div>\n    </div>\n  ')}function modalListenersAction(){hideMainMarketModal()}function setDefaultItemsStatusOnCloseModal(){var t=$J("#sih-modal__buy-orders");t.find(".sih-modal:visible").hasClass("ordering-tab")&&ChangeItemsStatus(),t.hide()}function hideMainMarketModal(){$J(document).off("keydown").keydown((function(t){27===t.keyCode&&(t.stopPropagation(),$J("body").css("overflow","auto"),setDefaultItemsStatusOnCloseModal(),SetModalToDefaultState(),ResetPriceTimer())})),$J(".sih-modal__buy-orders__fade").off("click").click((function(){isVisibleImportantModal()||($J("body").css("overflow","auto"),setDefaultItemsStatusOnCloseModal(),SetModalToDefaultState(),ResetPriceTimer())})),$J("#sih-modal__buy-orders").find(".sih-modal__close").each((function(t,e){$J(e).off("click").click((function(){$J("body").css("overflow","auto"),setDefaultItemsStatusOnCloseModal(),SetModalToDefaultState(),ResetPriceTimer()}))}))}function isVisibleImportantModal(){var t=$J("#sih-modal__buy-orders"),e=$J("body").find("#sih-enter-password").is(":visible"),n=["ordering-tab"];return t.find(".sih-modal:visible").each((function(t,r){var i=$J(r);n.forEach((function(t){i.hasClass(t)&&(e=!0)}))})),e}function cart_typeof(t){return cart_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cart_typeof(t)}function cart_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */cart_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==cart_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(cart_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function cart_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function cart_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){cart_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){cart_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}window.onbeforeunload=function(){setDefaultItemsStatusOnCloseModal()};var cart_currencyIdLocal=1,ONE_MINUTE=6e4,ONE_SECOND=1e3,TIMER=ONE_MINUTE,ACTUAL_PRICE_INTERVAL=null;function ModalCart(){cart_loadHtml(),showCartAction()}function cart_loadHtml(){var t=$J("#sih-modal__buy-orders"),e='\n    <div class="sih-modal sih-global cart-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner sih-modal__column">\n        <div class="sih-modal__header sih-modal__column gap-20">\n          <div class="header-container">\n            <div class="sih-modal__row title gap-23 items-center lh-26 pt-32 px-36">\n              <div class="cart-tab__title sih-modal__text fs-24"></div>\n              <div class="sih-modal__cart-count fs-24"></div>\n            </div>\n            <div class="header-container__timer fs-24" title="'.concat(SIHLang.cart.timer_tooltip,'"></div>\n          </div>\n\n          <div class="sih-modal__column cart-tab__content mt-16"></div>\n          <div class="sih-modal__error"></div>\n        </div>\n\n        <div class="sih-modal__bottom sih-modal__column gap-20"></div>\n      </div>\n    </div>\n  ');t.find(".cart-tab")&&t.append(e)}function RenderCart(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$J("#sih-modal__buy-orders").find(".sih-modal.cart-tab"),r=n.find(".cart-tab__title"),i=n.find(".sih-modal__cart-count");sih_app_global_service.A.getAllBuyStack().then((function(a){if(a&&a.length){var o=sih_app_global_service.A.getFilterItemsByStatus(a,t);if(o&&o.length){var s=0;o.forEach((function(t,e){s+=t.price||0}));var c=currency_service.A.getPriceFromCurrency(s,cart_currencyIdLocal,1,!1,3).text;r.text("".concat(SIHLang.sihAppMarket.cart.title)),i.text("".concat(o.length," - ").concat(c)),renderItemsRowButtons(n,s),renderPriceTimer(n),ModalCartListenerAction()}else n.addClass("empty"),renderEmptyCart()}else n.addClass("empty"),renderEmptyCart();e&&chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},(function(t){var e={offset:Math.floor(10*Math.random()+1),limit:5,appId:730,sortBy:"-profit"};if(t&&t.user&&t.user.balance)e.maxPrice=t.user.balance/1e3;else if("undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_balance){var r=g_rgWalletInfo.wallet_balance/100,i=g_rgWalletInfo.wallet_currency;e.maxPrice=1===i?r:currency_service.A.getPriceFromCurrency(r,1,i).price}else e.minPrice=20,e.maxPrice=200;RenderTopSalesPanel(n.find(".sih-modal__bottom"),e)}))}))}function renderEmptyCart(){var t=$J("#sih-modal__buy-orders").find(".sih-modal.cart-tab"),e=t.find(".cart-tab__title"),n=t.find(".sih-modal__cart-count"),r=t.find(".cart-tab__content"),i=r.find(".title"),a=t.find(".sih-modal__info-message"),o=t.find(".sih-modal__buttons"),s=t.find(".sih-modal__sum-cart-cost");i.length||r.append('\n      <div class="sih-modal__column w-100per h-100per justify-center items-center gap-20 h-300 mt-40">\n        <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.cart.empty_title,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.cart.empty_text,'</span>\n        <a\n          href="javascript:void(0)"\n          class="sih-go-market sih-modal__button sih-modal__button_blue py-10 px-14 fs-12 h-28 rounded-4 mt-10"\n          >SIH Market</a\n        >\n      </div>\n    ')),e.text("".concat(SIHLang.sihAppMarket.cart.title_empty)),n.text(""),s.hide(),a.hide(),o.hide(),t.find(".sih-go-market").off("click").click(cart_asyncToGenerator(cart_regeneratorRuntime().mark((function t(){var e,n,r;return cart_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,utils_chromeStorage.M.getLocal("SIH_MARKET_TAB");case 2:e=t.sent,n=e.SIH_MARKET_TAB,(r=void 0===n?{}:n).openTab=!0,utils_chromeStorage.M.setLocal("SIH_MARKET_TAB",r),window.open("https://steamcommunity.com/market/","_self");case 8:case"end":return t.stop()}}),t)}))))}function renderItemsRowButtons(t,e){var n=currency_service.A.getPriceFromCurrency(e,cart_currencyIdLocal,1,!1,3).text,r='\n    <div class="sih-modal__buttons sih-modal__row justify-center px-36 pb-4">\n      <button class="sih-modal__button-exit sih-modal__button bg-grey py-13 px-24">\n        '.concat(SIHLang.sihAppMarket.cart.continue,'\n      </button>\n      <button\n        id="sih-cart-buy"\n        class="sih-modal__button sih-modal__button_blue sih-modal__row justify-center items-center gap-5 py-13 px-24"\n      >\n        <span class="sih-modal__text sih-modal__text_md lh-14">').concat(SIHLang.sihAppMarket.cart.buy_now,'</span\n        ><span class="sih-modal__text sih-modal__text_md sih-modal__text_bold lh-14 cart-tab__button-sum"\n          >').concat(e&&e>0?n:"","</span\n        >\n      </button>\n    </div>\n  ");t.find(".sih-modal__buttons").length?(t.find(".sih-modal__buttons").show(),$J("#sih-cart-buy").find(".cart-tab__button-sum").text(n)):t.find(".sih-modal__bottom").prepend(r),e&&e>0?t.find("#sih-cart-buy").prop("disabled",!1):t.find("#sih-cart-buy").prop("disabled",!0)}function renderPriceTimer(t){var e=t.find(".header-container__timer");e.tooltip({tooltipClass:"timer-tooltip",position:{my:"center bottom",at:"center top"}}),ResetPriceTimer(),ACTUAL_PRICE_INTERVAL=setInterval((function(){if(e.text(new Date(TIMER).toISOString().slice(14,19)),!TIMER)return ResetPriceTimer(),void sih_app_global_service.A.updateSIHMarketPrice().then((function(){RenderItemsRow("cart-tab").then((function(){RenderCart()}))}));TIMER-=ONE_SECOND}),ONE_SECOND)}function ModalCartListenerAction(){hideCartAction(),DeleteItemsAllByName(RenderCart),ChangeCountItemInBuyStack(RenderCart),buyItemsCartAction()}function showCartAction(){var t=$J("body").find("#sih-enter-password"),e=$J("#sih-modal__buy-orders"),n=e.find(".sih-modal.cart-tab"),r=e.find(".sih-modal.ordering-tab"),i=e.find(".sih-modal.orders-history-tab");$J("#sih-header-cart").off("click").click((function(){RenderItemsRow("cart-tab",null,!0).then((function(){RenderCart(null,!0),n.show(),e.show(),t.hide(),r.hide(),i.hide(),$J("body").css("overflow","hidden"),sih_app_global_service.A.updateSIHMarketPrice().then((function(){RenderItemsRow("cart-tab").then((function(){RenderCart()}))}))}))}))}function hideCartAction(){$J(".sih-modal__button-exit").off("click").click((function(){$J("body").css("overflow","auto"),SetModalToDefaultState(),ResetPriceTimer()}))}function buyItemsCartAction(){var t=$J("#sih-modal__buy-orders").find(".sih-modal.cart-tab"),e=t.find("#sih-cart-buy"),n=t.find(".sih-modal__error");e.off("click").click((function(){n.find(".sih-modal__error_message");var t=$J(this);t.addClass("animated-background-btn"),sih_app_global_service.A.getUserSihApp().then((function(e){if(e.success)t.removeClass("animated-background-btn"),ChangeItemsStatus(!0,"ordering");else{var n={status:"error",text:SIHLang.sihAppMarket.errors.not_found_auth};(0,notificationPopup.W)(n,5e3,(function(){t.removeClass("animated-background animated-background-btn")}))}})),registerCartBuyNowClick(),ResetPriceTimer()}))}function ResetPriceTimer(){clearInterval(ACTUAL_PRICE_INTERVAL),TIMER=ONE_MINUTE}var left_block_currencyIdLocal=1,left_block_debounce=null;function LoadLeftBlock(){left_block_loadHtml()}function LocalCalculateOrderingItemRow(t){var e=t.find(".sih-item-order__name").data("hashname"),n=t.find(".sih-modal__cart-count-input"),r=t.find(".sih-modal__item-row-single-price"),i=t.find(".sih-modal__item-row-count"),a=t.find(".sih-modal__item-row-price-group"),o=(t.find(".sih-modal__increment"),0);return new Promise((function(t,s){GetUserBalance("ordering-tab").then((function(s){GetSortedGroupList("ordering").then((function(c){c&&c.length||t(),c.forEach((function(t,c){var l=0,d=0,u=t[t.length-1];if(o+=t.reduce((function(t,e){return o+t+e.price<=s?(l++,t+=e.price):(d++,e.price),t}),0),e===u.market_hash_name){var _=l+d;n.val(_);var h=u.price;if(h){var f=_*h,m=currency_service.A.getPriceFromCurrency(f,left_block_currencyIdLocal).text,p=currency_service.A.getPriceFromCurrency(h,left_block_currencyIdLocal).text;r.text(p),i.text("".concat(l+d," ").concat(SIHLang.sihAppMarket.global.units)),a.text(m)}else r.text("".concat(SIHLang.sihAppMarket.global.not_available))}})),t()}))}))}))}function RenderLeftBlockOrderingInfo(){setTotalNumberPositionItemsInBlock(),renderPlugAvailableBlock(),CalculateTotalInfo()}function OrderingLeftBlockActionListeners(){controlsPanelListeners(),selectSingleItemRow()}function left_block_loadHtml(){var t=$J("#sih-modal__buy-orders").find(".orders-tab__main"),e='\n    <div class="ordering-tab__left-block sih-modal__column">\n      <div class="sih-modal__column ordering-tab__listing-block available">\n        <div class="sih-modal__controls sih-modal__row justify-between">\n          <div class="sih-modal__row gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n              >'.concat(SIHLang.sihAppMarket.ordering.available_items,'</span\n            >\n\n            <div class="sih-modal__controls__total-row sih-modal__row">\n              <span class="ordering-tab__total-number sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n              <span class="ordering-animated"></span>\n            </div>\n          </div>\n          <div class="sih-modal__row gap-23 items-center px-10">\n            <a href="javascript:void(0)" class="ordering-tab__delete-all sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.global.delete_all,'</a\n            >\n\n            <label class="sih-modal__row items-center flex-row-reverse gap-15" for="select-all-available">\n              <input\n                type="checkbox"\n                name="select-all"\n                id="select-all-available"\n                class="ordering-tab__select-all-items-checkbox hidden"\n                checked\n              />\n              <label class="fake-checkbox" for="select-all-available"></label>\n              <label\n                for="select-all-available"\n                class="ordering-tab__select-all_label sih-modal__text sih-modal__text_white sih-modal__text_sm"\n                >').concat(SIHLang.sihAppMarket.global.remove_all,'</label\n              >\n            </label>\n          </div>\n        </div>\n        <div class="splitter-1 bg-grey mt-16 mb-10"></div>\n        <div class="ordering-tab__content available sih-modal__column"></div>\n      </div>\n\n      <div class="sih-modal__column ordering-tab__listing-block unavailable">\n        <div class="sih-modal__controls sih-modal__row justify-between mt-51">\n          <div class="sih-modal__row gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n              >').concat(SIHLang.sihAppMarket.ordering.unavailable_items,'\n            </span>\n\n            <div class="sih-modal__controls__total-row sih-modal__row">\n              <span class="ordering-tab__total-number sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n              <span class="ordering-animated"></span>\n            </div>\n          </div>\n          <div class="sih-modal__row gap-23 items-center px-10">\n            <a href="javascript:void(0)" class="ordering-tab__delete-all sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.global.delete_all,'</a\n            >\n\n            <label class="sih-modal__row items-center flex-row-reverse gap-15" for="select-all-unavailable">\n              <input\n                type="checkbox"\n                name="select-all"\n                id="select-all-unavailable"\n                class="ordering-tab__select-all-items-checkbox hidden"\n                checked\n              />\n              <label class="fake-checkbox" for="select-all-unavailable"></label>\n              <label\n                for="select-all-unavailable"\n                class="ordering-tab__select-all_label sih-modal__text sih-modal__text_white sih-modal__text_sm"\n                >').concat(SIHLang.sihAppMarket.global.remove_all,'</label\n              >\n            </label>\n          </div>\n        </div>\n\n        <div class="splitter-1 bg-grey mt-16 mb-10"></div>\n\n        <div class="ordering-tab__content unavailable  sih-modal__column"></div>\n      </div>\n    </div>\n  ');t.find(".ordering-tab__left-block").length||t.append(e)}function renderPlugAvailableBlock(){var t=$J("#sih-modal__buy-orders").find(".ordering-tab").find(".ordering-tab__content.available"),e=t.find(".sih-modal__row_item").length,n='\n    <div\n      class="plug-available ordering-tab__plug-available sih-modal__column justify-center items-center h-100per gap-30"\n    >\n      <div class="sih-modal__column items-center gap-5">\n        <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.ordering.plug_text_1,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.ordering.plug_text_2,'</span>\n      </div>\n\n      <button\n        class="sih__buy-all-items sih-modal__button sih-modal__button_light-grey justify-center rounded-8 py-16 w-100per max-w-360 opacity-5 pointer-events-none"\n      >\n        ').concat(SIHLang.sihAppMarket.ordering.buy_all,"\n      </button>\n    </div>\n  ");t.find(".plug-available").length||t.find(".sih-modal__row_item").length||0!==e||t.append(n)}function setTotalNumberPositionItemsInBlock(){$J(".sih-modal.ordering-tab").find(".ordering-tab__listing-block").each((function(t,e){var n=$J(e),r=n.find(".sih-modal__controls"),i=n.find(".sih-modal__controls").find(".ordering-tab__total-number"),a=n.find(".sih-modal__row_item").length,o=r.find(".ordering-tab__delete-all");r.removeClass("opacity-5 pointer-events-none"),0===a?(disabledControlPanel(n),o.is(":visible")&&o.addClass("hidden")):o.removeClass("hidden"),i.text(a)}))}function disabledControlPanel(t){t.find(".sih-modal__controls").addClass("opacity-5 pointer-events-none")}function controlsPanelListeners(){selectAllItemsRow(),removeAllCheckedItems()}function selectAllItemsRow(){var t=$J(".sih-modal.ordering-tab").find(".ordering-tab__listing-block");t.each((function(e,n){var r=$J(n),i=r.find(".sih-modal__controls").find(".ordering-tab__select-all-items-checkbox");i.off("change").change((function(){clearTimeout(left_block_debounce),left_block_debounce=setTimeout((function(){var e=r.find(".ordering-tab__content"),n=e.find(".sih-modal__row_item");if(t.each((function(t,e){var r=$J(e),a=r.find(".ordering-tab__delete-all"),o=r.find(".ordering-tab__select-all_label");i.prop("checked")?(o.text("".concat(SIHLang.sihAppMarket.global.remove_all)),a.removeClass("hidden"),n.find(".select-item").prop("checked",!0)):(o.text("".concat(SIHLang.sihAppMarket.global.select_all)),a.addClass("hidden"),n.find(".select-item").prop("checked",!1))})),e.hasClass("available")){var a=[];n.each((function(t,e){var n=$J(e),r=n.find(".sih-item-order__name").data("hashname"),i=n.find(".select-item").prop("checked"),o=a.findIndex((function(t){return t.name===r}));a.length&&-1!==o||a.push({name:r,isChecked:i})})),$J(t[1]).find(".sih-modal__row_item").each((function(t,e){var n=$J(e),r=n.find(".sih-item-order__name").data("hashname"),i=n.find(".select-item"),o=a.find((function(t){return t.name===r}));o&&o.name===r&&o.isChecked!==i.prop("checked")&&i.trigger("click")}))}ShowAndHideLoaders().then((function(){CalculateTotalInfo().then((function(){RenderItemsRow("ordering-tab","ordering").then((function(){ChangeItemCountInItemPage(),actionMenu_ChangeCartCountHeaderMenu(),UpdateSihMarketTabBuyStack(),ModalOrderingListenersAction()}))}))}))}),300)}))}))}function selectSingleItemRow(){var t=$J(".sih-modal.ordering-tab").find(".ordering-tab__listing-block");t.each((function(e,n){var r=$J(n),i=r.find(".sih-modal__controls"),a=r.find(".ordering-tab__content"),o=a.find(".sih-modal__row_item"),s=i.find(".ordering-tab__select-all-items-checkbox");o.each((function(e,n){var r=$J(n);r.find(".select-item").off("change").change((function(){var e=this;clearTimeout(left_block_debounce),left_block_debounce=setTimeout((function(){if(a.hasClass("available")){var n=r.find(".sih-item-order__name").data("hashname");$J(t[1]).find(".sih-modal__row_item").each((function(t,r){var i=$J(r),a=i.find(".select-item"),o=i.find(".sih-item-order__name").data("hashname");n===o&&$J(e).prop("checked")!==a.prop("checked")&&a.trigger("click")}))}ShowAndHideLoaders().then((function(){CalculateTotalInfo().then((function(){RenderItemsRow("ordering-tab","ordering").then((function(){ChangeItemCountInItemPage(),actionMenu_ChangeCartCountHeaderMenu(),UpdateSihMarketTabBuyStack(),ModalOrderingListenersAction(),t.each((function(t,e){var n=$J(e),r=n.find(".ordering-tab__delete-all"),i=n.find(".ordering-tab__select-all_label");!!n.find(".select-item:checked").length?(i.text("".concat(SIHLang.sihAppMarket.global.remove_all)),s.prop("checked",!0),r.removeClass("hidden")):(s.prop("checked",!1),i.text("".concat(SIHLang.sihAppMarket.global.select_all)),r.addClass("hidden"))}))}))}))}))}),1e3)}))}))}))}function removeAllCheckedItems(){var t=$J("#sih-modal__buy-orders").find(".ordering-tab");t.find(".ordering-tab__listing-block").each((function(e,n){var r=$J(n),i=r.find(".sih-modal__controls").find(".ordering-tab__delete-all"),a=t.find(".ordering-tab__select-all_label");i.off("click").click((function(){var e=r.find(".ordering-tab__content").find(".sih-modal__row_item"),n=t.find("#select-all");UpdateStatusCheckedItems(GetListingForUpdateStatus(e,null)).then((function(){})),n.prop("checked")?(n.prop("checked",!1),a.text("".concat(SIHLang.sihAppMarket.global.select_all))):i.is(":visible")&&i.addClass("hidden")}))}))}function LoadPlugSteamGuard(t){plugSteamGuard_loadHtml(t)}function plugSteamGuard_loadHtml(t){var e='\n    <div class="sih-plug sih-plug__steam-guard sih-steam-guard hidden">\n      <div class="sih-steam-guard__container">\n        <div class="column max-w-360 gap-14">\n          <span class="title">'.concat(SIHLang.sihAppMarket.plug_steam_guard.title,'</span>\n          <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey lh-26"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.info_text,'</span\n          >\n        </div>\n\n        <div class="row mt-52">\n          <a\n            href="https://store.steampowered.com/twofactor/manage"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.setup,'</a\n          >\n        </div>\n\n        <div class="column mt-40 gap-14">\n          <a\n            href="https://help.steampowered.com/ru/faqs/view/06B0-26E6-2CF8-254C"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.learn_more_guard,'</a\n          >\n          <a\n            href="https://help.steampowered.com/ru/faqs/view/7EFD-3CAE-64D3-1C31"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.learn_more_guard_mobile,"</a\n          >\n        </div>\n      </div>\n    </div>\n  ");t.find(".sih-plug__steam-guard").length||t.append(e)}var tos=__webpack_require__(7068),right_block_currencyIdLocal=1;function LoadRightBlock(){right_block_loadHtml()}function RenderRightBlockOrderingInfo(){setTotalAllItemsPrice(),paymentActionListeners(),addTooltipForButtons()}function OrderingRightBlockActionListeners(){setUserInfo(),paymentActionListeners()}function right_block_loadHtml(){var t=$J("#sih-modal__buy-orders").find(".orders-tab__main"),e=(0,tos.H)("ordering"),n=$J('\n    <div class="right-block ordering-tab__right-block sih-modal__column">\n      <div class="sih-modal__row justify-between">\n        <span class="sih-modal__text sih-modal__text_lg">'.concat(SIHLang.sihAppMarket.ordering.buy_on_steam,'</span>\n      </div>\n      <div class="sih-modal__row justify-between bg-grey mt-16 rounded-4 px-6 py-6">\n        <div class="sih-modal__row gap-8 items-center">\n          <div class="right-block__user-image w-36 h-36 bg-black-100"></div>\n          <div class="sih-modal__column">\n            <span class="right-block__user-name sih-modal__text sih-modal__text_md"></span>\n            <span\n              class="right-block__user-steamid sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n            ></span>\n          </div>\n        </div>\n      </div>\n\n      <div class="right-block__order-info">\n        <div class="right-block__order-info_inner">\n          <div class="sih-modal__row justify-between mt-31 gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n              >').concat(SIHLang.sihAppMarket.ordering.your_balance,'</span\n            >\n            <span class="sih-modal__user-balance sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n          </div>\n          <div class="sih-modal__column mt-16 gap-8">\n            <div class="right-block__unavailable-row sih-modal__row justify-between gap-5 hidden">\n              <div class="sih-modal__row gap-5">\n                <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                  >').concat(SIHLang.sihAppMarket.ordering.not_enough_balance,'</span\n                >\n                <div class="sih-modal__row">\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">(</span>\n                  <span\n                    class="sih-modal__unavailable-item-count sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                  ></span>\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">)</span>\n                </div>\n              </div>\n              <span\n                class="sih-modal__unavailable-total-cost sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n              ></span>\n            </div>\n\n            <div class="splitter-1 bg-grey mt-9"></div>\n          </div>\n\n          <div class="sih-modal__column mt-11 mb-10 gap-10">\n            <span class="sih-modal__text sih-modal__text_lg">').concat(SIHLang.sihAppMarket.ordering.summary,'</span>\n\n            <div class="right-block__available-row sih-modal__row justify-between gap-5 hidden">\n              <div class="sih-modal__row gap-5">\n                <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue"\n                  >').concat(SIHLang.sihAppMarket.ordering.available_item_now,'</span\n                >\n                <div class="sih-modal__row">\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue">(</span>\n                  <span\n                    class="sih-modal__available-item-count sih-modal__text sih-modal__text_blue sih-modal__text_md"\n                  ></span>\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue">)</span>\n                </div>\n              </div>\n\n              <span\n                class="sih-modal__available-total-cost sih-modal__text sih-modal__text_blue sih-modal__text_md"\n              ></span>\n            </div>\n\n            <div class="right-block__all-orders-row sih-modal__row justify-between gap-5">\n              <div class="sih-modal__row gap-5">\n                <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.ordering.for_all,'</span>\n                <div class="sih-modal__row">\n                  <span class="sih-modal__text sih-modal__text_md">(</span>\n                  <span class="sih-modal__ordering-item-count sih-modal__text sih-modal__text_md"></span>\n                  <span class="sih-modal__text sih-modal__text_md">)</span>\n                </div>\n              </div>\n              <span class="sih-modal__total-cost sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="right-block__buttons sih-modal__column gap-15 mt-34">\n        <button\n          id="sih_buy_available"\n          class="sih-modal__button sih-modal__button_blue justify-center opacity-5 pointer-events-none rounded-8 py-16"\n          title="buy_available"\n        >\n          ').concat(SIHLang.sihAppMarket.ordering.buy_available,'\n        </button>\n        <button\n          class="sih__buy-all-items sih-modal__button sih-modal__button_light-grey justify-center opacity-5 pointer-events-none rounded-8 py-16"\n          title="buy_all"\n        >\n          ').concat(SIHLang.sihAppMarket.ordering.buy_all,'\n        </button>\n      </div>\n\n      <div class="sih-modal__error mt-20"></div>\n\n      <div class="sih-modal__row text-center mt-47">\n        <span class="sih-modal__text sih-modal__text_md"> ').concat(SIHLang.sihAppMarket.ordering.info_text," </span>\n      </div>\n    </div>\n  "));e.find("#sih-tos-ordering").off("change").change((function(t){CalculateTotalInfo()})),n.find(".right-block__order-info_inner").append(e),t.find(".ordering-tab__right-block").length||t.append(n)}function setUserInfo(){var t=$J("#sih-modal__buy-orders").find(".sih-modal.ordering-tab"),e=$J(".right-block__user-image"),n=t.find(".right-block__user-name"),r=t.find(".right-block__user-steamid"),i=t.find(".sih-modal__user-balance");sih_app_global_service.A.getLoginSihAppUser().then((function(t){e.find("img").length||e.append('<img src="'.concat(t.user.avatar,'">')),n.text(t.user.username);var a=t.socials.findIndex((function(t){return"steam"===t[0]}));r.text(t.socials[a][1]);var o=t.user.balance/1e3,s=currency_service.A.getPriceFromCurrency(o,right_block_currencyIdLocal).text;i.text(s)}))}function setTotalAllItemsPrice(){var t=$J("#sih-modal__buy-orders").find(".sih-modal.ordering-tab").find(".sih-modal__total-cost");sih_app_global_service.A.getAllBuyStack().then((function(e){var n=sih_app_global_service.A.getFilterItemsByStatus(e,"ordering"),r=0;n.forEach((function(t){t.isChecked&&(r+=t.price)}));var i=currency_service.A.getPriceFromCurrency(r,right_block_currencyIdLocal,1,!1,3).text;t.text(i)}))}function paymentActionListeners(){buyAllItemsAction(),buyAvailableItemsAction()}function buyAllItemsAction(){var t=$J("#sih-modal__buy-orders"),e=t.find(".sih-modal.ordering-tab"),n=e.find(".sih-modal__error");e.find(".sih__buy-all-items").off("click").click((function(){var r=$J(this);r.addClass("animated-background-btn");var i=n.find(".sih-modal__error_message");sih_app_global_service.A.getUserSihApp().then((function(a){a.success?sih_app_global_service.A.getLoginSihAppUser().then((function(a){if(a.success)if(a.tfaNeed)sih_app_global_service.A.errorHandler(r,n,i,"Enter password"),setTimeout((function(){RenderItemsRow("cart-tab",null).then((function(){RenderCart(),ModalCartListenerAction();var n=t.find(".sih-modal.cart-tab");e.hide(),n.show()}))}),1e3);else{r.removeClass("animated-background-btn");var o=a.user.balance/1e3;GetSortedGroupList("ordering").then((function(t){var n=0,r=0;t.forEach((function(t){r+=t.reduce((function(t,e){return e.isChecked&&(r+t+e.price<=o?t+=e.price:n+=e.price),t}),0)})),n=n>0?Math.abs(o-(r+n)):0;var i=Math.ceil(100*n)/100;sih_app_global_service.A.getSihAppToken().then((function(t){window.open("https://sih.app/pay?amount=".concat(i,"#payToken=").concat(t),"_blank");var n=GetListingForUpdateStatus(e.find(".sih-modal__row_item"),"pending");sih_app_global_service.A.changeItemsStatus(n).then((function(){ChangeItemsStatus(),SetModalToDefaultState(),ChangeOrdersCountHeaderMenu(),$J("#sih-header-orders").trigger("click"),sih_app_global_service.A.updateTradeLink(),setTimeout((function(){sih_app_global_service.A.createBuyOrder().then((function(t){}))}),1e3)}))}))}))}else sih_app_global_service.A.errorHandler(r,n,i)})):a.hasOwnProperty("error")?sih_app_global_service.A.errorHandler(r,n,i,a.error):sih_app_global_service.A.errorHandler(r,n,i)}))}))}function buyAvailableItemsAction(){var t=$J("#sih-modal__buy-orders"),e=t.find(".sih-modal.ordering-tab"),n=e.find(".ordering-tab__content.available"),r=e.find(".sih-modal__error");e.find("#sih_buy_available").off("click").click((function(){var i=r.find(".sih-modal__error_message"),a=n.find(".sih-modal__row_item"),o=$J(this);o.addClass("animated-background-btn"),sih_app_global_service.A.getUserSihApp().then((function(n){n.success?sih_app_global_service.A.getLoginSihAppUser().then((function(n){if(n.success)if(n.tfaNeed)sih_app_global_service.A.errorHandler(o,r,i,"Enter password"),setTimeout((function(){RenderItemsRow("cart-tab",null).then((function(){RenderCart(),ModalCartListenerAction();var n=t.find(".sih-modal.cart-tab");e.hide(),n.show()}))}),1e3);else{var s=GetListingForUpdateStatus(a,"pending");sih_app_global_service.A.changeItemsStatus(s).then((function(){ChangeItemsStatus(),SetModalToDefaultState(),ChangeOrdersCountHeaderMenu(),$J("#sih-header-orders").trigger("click"),sih_app_global_service.A.updateTradeLink(),setTimeout((function(){sih_app_global_service.A.createBuyOrder().then((function(t){}))}),1e3)}))}else sih_app_global_service.A.errorHandler(o,r,i)})):n.hasOwnProperty("error")?sih_app_global_service.A.errorHandler(o,r,i,n.error):sih_app_global_service.A.errorHandler(o,r,i)}))}))}function addTooltipForButtons(){var t=$J("#sih-modal__buy-orders").find(".sih-modal.ordering-tab");t.find("#sih_buy_available").tooltip({content:SIHLang.sihAppMarket.ordering.buy_available_tooltip,position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"ordering__tooltip"}}),t.find(".sih__buy-all-items").each((function(t,e){$J(e).tooltip({content:SIHLang.sihAppMarket.ordering.buy_all_tooltip,position:{my:"left bottom",at:"left+10 top"},classes:{"ui-tooltip":"ordering__tooltip"}})}))}var buyItem_currencyIdLocal=1;function ModalOrdering(){buyItem_loadHtml(),LoadLeftBlock(),LoadRightBlock()}function ModalOrderingListenersAction(){DeleteItemsAllByName(renderOrderingInfo,"ordering-tab","ordering"),ChangeCountItemInBuyStack(renderOrderingInfo,"ordering-tab","ordering"),renderOrderingInfo(),OrderingLeftBlockActionListeners(),OrderingRightBlockActionListeners()}function CalculateTotalInfo(){return new Promise((function(t){sih_app_global_service.A.getLoginSihAppUser().then((function(e){var n=e.user.balance/1e3,r=0,i=0,a=0,o=0;updateCheckedStateInBuyStack().then((function(){GetSortedGroupList("ordering").then((function(e){e.forEach((function(t){a+=t.reduce((function(t,e){return e.isChecked&&(a+t+e.price<=n?(r++,t+=e.price):(i++,o+=e.price)),t}),0)})),o=o>0?Math.abs(n-(a+o)):0;var s=currency_service.A.getPriceFromCurrency(a,buyItem_currencyIdLocal,1,!1,3).text,c=currency_service.A.getPriceFromCurrency(o,buyItem_currencyIdLocal,1,!1,3).text,l=$J(".sih-modal.ordering-tab"),d=l.find(".sih-modal__ordering-item-count"),u=l.find(".right-block__available-row"),_=l.find(".sih-modal__available-item-count"),h=l.find(".sih-modal__available-total-cost"),f=l.find(".right-block__unavailable-row"),m=l.find(".sih-modal__unavailable-item-count"),p=l.find(".sih-modal__unavailable-total-cost"),g=l.find(".sih__buy-all-items"),v=l.find("#sih_buy_available"),y=l.find("#sih-tos-ordering");d.text(r+i),_.text(r),h.text(s),h.data("total-price",a),m.text(i),p.text(c),p.data("total-price",o),f.toggleClass("hidden",0===o),$J("#select-all-unavailable").prop("checked",0!==o),u.toggleClass("hidden",0===a),$J("#select-all-available").prop("checked",0!==a),0!==o?g.toggleClass("opacity-5 pointer-events-none",!y.is(":checked")&&0!==o):g.addClass("opacity-5 pointer-events-none"),0!==a?v.toggleClass("opacity-5 pointer-events-none",!y.is(":checked")&&0!==a):v.addClass("opacity-5 pointer-events-none"),t()}))}))}))}))}function GetListingForUpdateStatus(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ordering",n={};return t.each((function(t,r){var i=$J(r),a=[],o=i.find(".select-item"),s=encodeURIComponent(i.find(".sih-item-order__name").data("hashname"));o.prop("checked")&&(i[0].createTimestamps.forEach((function(t){a.push({createdAt:t,statusCode:e})})),n[s]=[].concat(a),i.remove())})),n}function UpdateStatusCheckedItems(t){return new Promise((function(e){var n=$J("#sih-modal__buy-orders"),r=n.find(".sih-modal.ordering-tab");sih_app_global_service.A.changeItemsStatus(t).then((function(){ShowAndHideLoaders().then((function(){CalculateTotalInfo().then((function(){RenderItemsRow("ordering-tab","ordering").then((function(){ChangeItemCountInItemPage(),actionMenu_ChangeCartCountHeaderMenu(),UpdateSihMarketTabBuyStack(),ModalOrderingListenersAction(),RenderItemsRow("cart-tab",null).then((function(){RenderCart(),renderOrderingInfo(),ModalCartListenerAction(),sih_app_global_service.A.getAllBuyStack().then((function(t){if(!sih_app_global_service.A.getFilterItemsByStatus(t,"ordering").length){var i=n.find(".sih-modal.cart-tab");r.hide(),i.show()}e()}))}))}))}))}))}))}))}function buyItem_loadHtml(){var t=$J("#sih-modal__buy-orders"),e='\n    <div class="sih-modal sih-global ordering-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner sih-modal__column">\n        <div class="ordering-tab__header sih-modal__row gap-12 items-baseline">\n          <div class="sih-modal__title title">'.concat(SIHLang.sihAppMarket.ordering.title,'</div>\n          <div class="ordering-tab__header-total-block sih-modal__row">\n            <div class="ordering-tab__header-total-row sih-modal__row items-center gap-5">\n              <span\n                class="sih-modal__all-item-count sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n              ></span>\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                >').concat(SIHLang.sihAppMarket.ordering.items,'</span\n              >\n            </div>\n            <span class="ordering-animated"></span>\n          </div>\n        </div>\n\n        <div class="orders-tab__main sih-modal__row justify-between mt-36 gap-20"></div>\n      </div>\n    </div>\n  ');t.find(".ordering-tab").length||(t.append(e),LoadPlugSteamGuard(t.find(".ordering-tab")))}function renderOrderingInfo(){setTotalItemsCount(),RenderLeftBlockOrderingInfo(),RenderRightBlockOrderingInfo()}function setTotalItemsCount(){var t=$J(".sih-modal.ordering-tab").find(".sih-modal__all-item-count");sih_app_global_service.A.getAllBuyStack().then((function(e){var n=sih_app_global_service.A.getFilterItemsByStatus(e,"ordering").length;t.text(n)}))}function updateCheckedStateInBuyStack(){var t=$J("#sih-modal__buy-orders").find(".ordering-tab").find(".ordering-tab__content"),e=[],n={};return new Promise((function(r){t.each((function(t,r){$J(r).find(".sih-modal__row_item").each((function(t,r){var i=$J(r),a=i.find(".select-item").prop("checked"),o=encodeURIComponent(i.find(".sih-item-order__name").data("hashname"));i[0].createTimestamps.forEach((function(t){e.push({createdAt:t,isChecked:a})})),n[o]=[].concat(e)}))})),Object.keys(n).length?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",data:n},(function(t){r()})):r()}))}function global_slicedToArray(t,e){return global_arrayWithHoles(t)||global_iterableToArrayLimit(t,e)||global_unsupportedIterableToArray(t,e)||global_nonIterableRest()}function global_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function global_iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function global_arrayWithHoles(t){if(Array.isArray(t))return t}function global_typeof(t){return global_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},global_typeof(t)}function global_defineProperty(t,e,n){return(e=global_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function global_toPropertyKey(t){var e=global_toPrimitive(t,"string");return"symbol"==global_typeof(e)?e:e+""}function global_toPrimitive(t,e){if("object"!=global_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=global_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function global_toConsumableArray(t){return global_arrayWithoutHoles(t)||global_iterableToArray(t)||global_unsupportedIterableToArray(t)||global_nonIterableSpread()}function global_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function global_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function global_arrayWithoutHoles(t){if(Array.isArray(t))return global_arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=global_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function global_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return global_arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?global_arrayLikeToArray(t,e):void 0}}function global_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var global_currencyIdLocal=1,RESPONSE_ITEMS_PRICES,MAX_ITEM_BUY_COUNT=1,global_MAX_ITEM_STACK_COUNT=1,isShowLoaders=!0;function GetSortedGroupList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(e){sih_app_global_service.A.getAllBuyStack().then((function(n){var r,i=sih_app_global_service.A.getFilterItemsByStatus(n,t),a=[],o=[],s=[],c=_createForOfIteratorHelper(i);try{for(c.s();!(r=c.n()).done;){var l=r.value;0!==a.length&&a.includes(l.market_hash_name)||a.push(l.market_hash_name)}}catch(t){c.e(t)}finally{c.f()}for(var d=0,u=a;d<u.length;d++){var _=u[d],h=encodeURIComponent(_);s.push(sih_app_global_service.A.getAllItemsBuyStackByName(h))}Promise.all(s).then((function(n){n.forEach((function(e){var n=sih_app_global_service.A.getFilterItemsByStatus(e,t);o.push(n)}));var r=o.sort((function(t,e){return Math.min.apply(Math,global_toConsumableArray(t.map((function(t){return t.createdAt}))))>Math.min.apply(Math,global_toConsumableArray(e.map((function(t){return t.createdAt}))))?1:-1}));e(r)}))}))}))}function GetUserBalance(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cart-tab";return new Promise((function(e){"cart-tab"!==t?sih_app_global_service.A.getLoginSihAppUser().then((function(t){t.success&&t.user?e(t.user.balance/1e3):e(null)})):e(null)}))}function RenderItemsRow(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=$J("#sih-modal__buy-orders").find(".sih-modal.".concat(t)),i=r.find(".".concat(t,"__content"));return i.children().remove(),new Promise((function(a,o){GetUserBalance(t).then((function(o){var s=0,c={};GetSortedGroupList(e).then((function(e){(e=e.reduce((function(t,e){var n=e.filter((function(e){return!e.itemId||(t.push([e]),!1)}));return n.length&&t.push(n),t}),[]))&&e.length||a(),e.forEach((function(l,d){var u,_,h,f=0,m=0,p=l.length,g=l[p-1],v=[],y=[];if("cart-tab"!==t){h=MAX_ITEM_BUY_COUNT;var b=l.length;y=l.slice(h,b),l=l.slice(0,h)}var w=y.map((function(t){return t?{createdAt:t.createdAt,statusCode:null}:{}}));if(y&&y.length){var k=encodeURIComponent(y[0].market_hash_name);Object.assign(c,global_defineProperty({},k,w))}s+=l.reduce((function(e,n){"cart-tab"!==t?(s+e+(n.isChecked?n.price:0)<=o?(f++,e+=n.isChecked?n.price:0,i=r.find(".".concat(t,"__content.available")),u=n):(m++,n.isChecked?n.price:0,i=r.find(".".concat(t,"__content.unavailable")),_=n),v.find((function(t){return t.attr("class")===i.attr("class")}))||v.push(i)):v.length||v.push(i);return e}),0);var S=l.length;v.forEach((function(r){"cart-tab"!==t&&(r.hasClass("available")?(g=u,S=f):(g=_,S=m));var i=g.price,o=null!==i?currency_service.A.getPriceFromCurrency(i,global_currencyIdLocal,1,!1,3).text:null,s=currency_service.A.getPriceFromCurrency(i*S,global_currencyIdLocal,1,!1,3).text,p=!0;r.find(".sih-modal__row_item").each((function(t,e){$J(e).find(".sih-item-order__name").each((function(t,e){var n=$J(e).data("hashname"),r=$J(e).data("itemid");g.market_hash_name===n&&+g.itemId==+r&&(p=!1)}))}));var v=parseHashName(g.market_hash_name),y=getHeaderInfoHtml(v);if(!r.find(".sih-item-order__name").length||p){var b=$J('\n                <div\n                  class="sih-item-order sih-modal__row sih-modal__row_item items-center justify-between bg-black-100 border-solid border-x-0 border-y-1 border-grey py-13 px-24"\n                >\n                  <div class="sih-modal__row items-center">\n                    \x3c!--              '.concat("ordering-tab"!==t?'<input type="checkbox" name="sih-item-order__checkbox" id="sih-item-order__'.concat(d,'" class="sih-modal__input hidden" checked>\n                    <label class="fake-checkbox sih-item-order__checkbox-label" for="sih-item-order__').concat(d,'"></label>'):"",' --\x3e\n\n                    <a href="').concat(g.url,'" class="sih-modal__image mr-20">\n                      <img class="w-62 h-47" src="').concat(g.image,'" />\n                    </a>\n                    <div class="vertical-divider" data-rarity="').concat(g.rarityColor||"default",'"></div>\n                    <div class="sih-modal__column gap-3">\n                      <div class="sih-item-order__header">').concat(y,'</div>\n                      <a\n                        href="').concat(g.url,'"\n                        class="sih-item-order__name sih-modal__text sih-modal__text_white sih-modal__text_bold max-w-200 text-ellipsis lh-16"\n                        data-hashname="').concat(g.market_hash_name,'"\n                        data-itemid="').concat(g.itemId?g.itemId:null,'"\n                        >').concat(v.name,'</a\n                      >\n\n                      <div class="sih-modal__row gap-15 items-center">\n                        <a\n                          href="javascript:void(0)"\n                          class="sih-modal__remove-item sih-modal__text sih-modal__text_sm sih-modal__text_blue lh-16"\n                          >').concat(SIHLang.sihAppMarket.global.delete,'</a\n                        >\n                      </div>\n                    </div>\n                  </div>\n\n                  \x3c!--                   <div class="sih-modal__column">\n                     <div class="sih-modal__row bg-black-100 br2-grey sih-modal__row_cart-counter h-28 ').concat(g.isChecked&&i&&i>0?"":"pointer-events-none opacity-5",'">\n                          <a href="javascript:void(0)" class="sih-modal__decrement sih-modal__button py-8 px-14"></a>\n                          <input type="number" class="sih-modal__row sih-modal__cart-count-input sih-modal__input sih-modal__text sih-modal__text_md w-68 text-center bg-transparent border-none" value="').concat(S,'">\n                          <a href="javascript:void(0)" class="sih-modal__increment sih-modal__button py-8 px-14 ').concat(S>=global_MAX_ITEM_STACK_COUNT?"opacity-5 pointer-events-none":"",'"></a>\n                     </div>\n                     ').concat(r.hasClass("available")||r.hasClass("unavailable")?'\n                       <div class="sih-modal__row justify-center">\n                          <span class="sih-modal__buy-stack-count sih-modal__text sih-modal__text_sm opacity-5">'.concat(f+m,'</span>\n                          <span class="sih-modal__text sih-modal__text_sm opacity-5">/</span>\n                          <span class="sih-modal__buy-available-count sih-modal__text sih-modal__text_sm opacity-5">').concat(h,"</span>\n                        </div>\n                        "):"","\n\n                  </div>--\x3e\n                  ").concat(n?'<div class="sih-modal_row-price-loader"></div>':'<div class="sih-modal__row gap-30 items-center">\n                        <div class="sih-modal__column_price sih-modal__column items-end w-100">\n                          <div class="sih-modal__row items-center gap-2">\n                            <div class="sih-modal__row mr-5">\n                              <img\n                                class="w-22 h-22"\n                                src="chrome-extension://'.concat(SIHID,"/assets/marketplace/mini-icons/").concat(g.providerName,'.svg"\n                                alt="').concat(g.providerName,'"\n                              />\n                            </div>\n                            <span\n                              class="sih-modal__item-row-single-price sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis"\n                              >').concat(null!==o?o:"".concat(SIHLang.sihAppMarket.global.not_available),'</span\n                            >\n                            <span class="sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis"\n                              >').concat(null!==o?"/":"",'</span\n                            >\n                            <span\n                              class="sih-modal__item-row-count sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis"\n                              >').concat(null!==o?S+"".concat(SIHLang.sihAppMarket.global.units):"",'</span\n                            >\n                          </div>\n                          <span\n                            class="sih-modal__item-row-price-group sih-modal__text sih-modal__text_lg sih-modal__text_white text-ellipsis"\n                            >').concat(null!==o?s:"","\n                          </span>\n                        </div>\n                      </div>"),"\n                </div>\n              "));if("ordering-tab"===t){var w,k="";r.hasClass("available")?(w=l.map((function(t){return t.createdAt})).slice(0,f),k="available-"):(w=l.map((function(t){return t.createdAt})).slice(f,l.length),k="unavailable-"),b[0].createTimestamps=w;var C='\n                  <label class="sih-modal__row items-center -mr-14" for="'.concat(k,"select-item-").concat(d,'">\n                    <input\n                      type="checkbox"\n                      name="').concat(k,"select-item-").concat(d,'"\n                      id="').concat(k,"select-item-").concat(d,'"\n                      class="select-item hidden"\n                      ').concat(g.isChecked?"checked":"",'\n                    />\n                    <label class="fake-checkbox" for="').concat(k,"select-item-").concat(d,'"></label>\n                  </label>\n                ');b.find(".sih-modal__column_price").after(C)}else b[0].createTimestamps=l.map((function(t){return t.createdAt}));r.append(b)}d+1===e.length&&(Object.keys(c).length?sih_app_global_service.A.changeItemsStatus(c).then((function(){a()})):a())}))}))}))}))}))}function ChangeItemsStatus(){var t,e,n,r,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=$J("#sih-modal__buy-orders"),s=$J("body").find("#sih-enter-password");i?(t=o.find(".cart-tab"),e=o.find(".ordering-tab"),n="cart-tab",r="ordering-tab"):(t=o.find(".ordering-tab"),e=o.find(".cart-tab"),n="ordering-tab",r="cart-tab"),function(t){return new Promise((function(e){t?sih_app_global_service.A.updateSIHMarketPrice().then((function(t){e(t)})):e()}))}(i).then((function(i){sih_app_global_service.A.getLoginSihAppUser().then((function(i){if(i.success&&i.tfaNeed)o.hide(),s.attr("data-show-modal","ordering").show();else if(i.success){t.hide();var c={};t.find(".".concat(n,"__content")).find(".sih-modal__row_item").each((function(t,e){var n=[],r=$J(e);if(r.find(".sih-modal__item-row-price-group").text().length>0){var i=r.find(".sih-item-order__name").data("hashname"),o=encodeURIComponent(i);r[0].createTimestamps.forEach((function(t){r.remove(),n.push({createdAt:t,statusCode:a})})),c[o]=[].concat(n)}})),sih_app_global_service.A.changeItemsStatus(c).then((function(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",data:null},(function(t){RenderItemsRow(r,a).then((function(){if(ChangeItemCountInItemPage(),actionMenu_ChangeCartCountHeaderMenu(),UpdateSihMarketTabBuyStack(),e.show(),"ordering-tab"===r){var t=i.socials.findIndex((function(t){return"steam"===t[0]}));i.socials[t][3]&&"object"!==global_typeof(i.socials[t][3])?ModalOrderingListenersAction():e.find(".sih-plug__steam-guard").removeClass("hidden")}}))}))}))}}))}))}function DeleteItemsAllByName(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cart-tab",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=$J("#sih-modal__buy-orders").find(".sih-modal.".concat(e)),i=r.find(".".concat(e,"__content")).find(".sih-modal__row_item"),a=r.find(".sih-modal__error");i.each((function(r,i){var o=$J(i);o.find(".sih-modal__remove-item").off("click").click((function(){var r=encodeURIComponent($J(this).closest(".sih-item-order").find(".sih-item-order__name").data("hashname")),i=$J(this).closest(".sih-item-order").find(".sih-item-order__name").data("itemid"),s=$J(this).parent().parent().parent().parent(),c=a.find(".sih-modal__error_message");if("ordering-tab"!==e){var l={hashName:r,argsCountDelete:0,statusCode:n,itemId:i};sih_app_global_service.A.deleteItemFromBuyStack(l).then((function(e){s.remove(),t&&t(),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),UpdateSihMarketTabBuyStack(),a.hide()})).catch((function(t){sih_app_global_service.A.errorHandler(null,a,c,t.error)}))}else{var d={},u=[];o[0].createTimestamps.forEach((function(t){u.push({createdAt:t,statusCode:null})})),Object.assign(d,global_defineProperty({},r,[].concat(u))),UpdateStatusCheckedItems(d).then((function(){}))}}))}))}function ChangeCountItemInBuyStack(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cart-tab",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=$J("#sih-modal__buy-orders").find(".sih-modal.".concat(e)),i=r.find(".".concat(e,"__content")).find(".sih-modal__row_item"),a=r.find(".sih-modal__error"),o=null;function s(e,r){e.parent().hasClass("available")||e.parent().hasClass("unavailable")?LocalCalculateOrderingItemRow(e).then((function(){clearTimeout(o),o=setTimeout((function(){ShowAndHideLoaders().then((function(){t&&t(),UpdateItemRowInfo(e,r,n),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),UpdateSihMarketTabBuyStack(),a.hide()}))}),400)})):(t&&t(),UpdateItemRowInfo(e,r,n),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),UpdateSihMarketTabBuyStack(),a.hide())}i.each((function(t,r){var i=$J(r),o=i.find(".sih-modal__decrement"),c=i.find(".sih-modal__increment"),l=i.find(".sih-modal__cart-count-input");o.off("click").click((function(){var t=$J(this);+l.val()<=global_MAX_ITEM_STACK_COUNT&&1!==global_MAX_ITEM_STACK_COUNT&&c.removeClass("opacity-5 pointer-events-none");var r=$J(this).parent().parent().parent(),i=a.find(".sih-modal__error_message"),o=t.closest(".sih-item-order").find(".sih-item-order__name").data("hashname"),d=encodeURIComponent(o);sih_app_global_service.A.getAllItemsBuyStackByName(d).then((function(t){var o=sih_app_global_service.A.getFilterItemsByStatus(t,n);if("ordering-tab"!==e||"ordering-tab"===e&&o.length>1){var c={hashName:d,statusCode:n};sih_app_global_service.A.deleteItemFromBuyStack(c).then((function(t){s(r,t)})).catch((function(t){sih_app_global_service.A.errorHandler(null,a,i,t.error)}))}}))})),c.off("click").click((function(){var t=$J(this);+l.val()>=global_MAX_ITEM_STACK_COUNT-1&&$J(this).addClass("opacity-5 pointer-events-none");var e=$J(this).parent().parent().parent(),r=a.find(".sih-modal__error_message"),i=t.closest(".sih-item-order").find(".sih-item-order__name").data("hashname"),o=encodeURIComponent(i);sih_app_global_service.A.setItemToBuyStack({hashName:o,countAdd:1,statusCode:n}).then((function(t){t&&s(e,t)})).catch((function(t){sih_app_global_service.A.errorHandler(null,a,r,t.error)}))})),l.off("focusout").focusout((function(){var t=$J(this),r=Math.ceil($J(this).val());(r=sih_app_global_service.A.validateInput(r,global_MAX_ITEM_STACK_COUNT))>=global_MAX_ITEM_STACK_COUNT?c.addClass("opacity-5 pointer-events-none"):c.removeClass("opacity-5 pointer-events-none");var i=$J(this).parent().parent().parent(),o=t.closest(".sih-item-order").find(".sih-item-order__name").data("hashname"),l=a.find(".sih-modal__error_message"),d=encodeURIComponent(o);sih_app_global_service.A.getAllItemsBuyStackByName(d).then((function(o){var c=sih_app_global_service.A.getFilterItemsByStatus(o,n).length;if(0===r&&"ordering-tab"===e&&(t.val(1),r=1),r>=c&&1!==r)sih_app_global_service.A.setItemToBuyStack({hashName:d,countAdd:r,statusCode:n}).then((function(t){s(i,t)})).catch((function(t){sih_app_global_service.A.errorHandler(null,a,l,t.error)}));else{var u={hashName:d,argsCountDelete:r,statusCode:n};sih_app_global_service.A.deleteItemFromBuyStack(u).then((function(t){s(i,t)})).catch((function(t){sih_app_global_service.A.errorHandler(null,a,l,t.error)}))}}))}))}))}function UpdateItemRowInfo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.find(".sih-modal__cart-count-input"),i=t.find(".sih-modal__item-row-single-price"),a=t.find(".sih-modal__item-row-count"),o=t.find(".sih-modal__item-row-price-group");if(t.parent().hasClass("available")||t.parent().hasClass("unavailable"))RenderItemsRow("ordering-tab","ordering").then((function(){ChangeItemCountInItemPage(),actionMenu_ChangeCartCountHeaderMenu(),UpdateSihMarketTabBuyStack(),ModalOrderingListenersAction()}));else{var s=sih_app_global_service.A.getFilterItemsByStatus(e,n),c=s.length;if(t[0].createTimestamps=s.map((function(t){return t.createdAt})),c>0){var l=s[c-1].price;if(l){var d=s.reduce((function(t,e){return t+e.price}),0),u=currency_service.A.getPriceFromCurrency(d,global_currencyIdLocal).text,_=currency_service.A.getPriceFromCurrency(l,global_currencyIdLocal).text;r.val(c),i.text(_),a.text("".concat(c," ").concat(SIHLang.sihAppMarket.global.units)),o.text(u)}else i.text("".concat(SIHLang.sihAppMarket.global.not_available))}else t.remove()}}function ShowAndHideLoaders(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ordering-tab";isShowLoaders=!0;var n=$J("#sih-modal__buy-orders").find(".".concat(e));return a(),o(),r(),i(),new Promise((function(e){return setTimeout((function(){isShowLoaders=!1,o(),a(),r(),i(),e()}),t)}));function r(){var t=n.find(".".concat(e,"__content")),r='\n      <div class="fake-ordering__row sih-modal__row items-center justify-between bg-black-100 py-13 px-24">\n        <div class="sih-modal__row items-center w-265">\n          <div class="sih-modal__image mr-20">\n            <div class="w-62 h-47 bg-grey rounded-4"></div>\n          </div>\n\n          <div class="sih-modal__column gap-6">\n            <div class="w-100 h-16 bg-grey rounded-4"></div>\n            <div class="sih-modal__row gap-15 items-center">\n              <div class="w-62 h-16 bg-grey rounded-4"></div>\n            </div>\n          </div>\n        </div>\n\n        \x3c!--                  <div class="sih-modal__column gap-2">--\x3e\n        \x3c!--                     <div class="sih-modal__row bg-black-100 br2-grey sih-modal__row_cart-counter h-28 ">--\x3e\n        \x3c!--                          <div class="pointer-events-none sih-modal__decrement sih-modal__button py-8 px-14"></div>--\x3e\n        \x3c!--                          <input type="number" class="sih-modal__row sih-modal__input sih-modal__text sih-modal__text_md w-68 text-center bg-transparent border-none" value="" disabled>--\x3e\n        \x3c!--                          <div class="pointer-events-none sih-modal__increment sih-modal__button py-8 px-14"></div>--\x3e\n        \x3c!--                     </div>--\x3e\n        \x3c!--                     <div class="sih-modal__row w-100per justify-center">--\x3e\n        \x3c!--                        <div class="sih-modal__row w-22 h-16 bg-grey rounded-4"></div>--\x3e\n        \x3c!--                     </div>--\x3e\n        \x3c!--                  </div>--\x3e\n\n        <div class="sih-modal__row gap-30 items-center">\n          <div class="sih-modal__column_price sih-modal__column items-end w-100 gap-2">\n            <div class="sih-modal__row gap-2">\n              <span class="w-100 h-16 bg-grey rounded-4"></span>\n            </div>\n            <span class="w-62 h-20 bg-grey rounded-4"></span>\n          </div>\n\n          <div class="w-22 h-22 bg-grey rounded-4 -mr-14"></div>\n        </div>\n      </div>\n    ',i='\n      <div class="fake-ordering fake-ordering__content">'.concat(r," ").concat(r," ").concat(r,"</div>\n    ");t.each((function(t,n){var r=$J(n);r.find(".sih-modal__row_item").hide();var a=r.find(".fake-ordering__content");isShowLoaders?a.length?a.fadeIn():GetUserBalance(e).then((function(t){t&&t>0?r.find(".sih-modal__row_item").length&&r.append(i):!t&&t<=0&&r.hasClass("unavailable")&&r.append(i)})):a.fadeOut()}))}function i(){var t=n.find(".".concat(e,"__right-block")),r=t.find(".right-block__order-info"),i=' <div class="right-block__fake">'.concat('\n      <div class="right-block__fake-order-info">\n        <div class="sih-modal__row justify-between mt-31 gap-5">\n          <span class="w-150 h-20 bg-grey rounded-4"></span>\n          <span class="w-100 h-20 bg-grey rounded-4"></span>\n        </div>\n        <div class="sih-modal__column mt-16 gap-8">\n          <div class="sih-modal__row justify-between gap-5">\n            <div class="sih-modal__row gap-5">\n              <span class="w-150 h-20 bg-grey rounded-4"></span>\n            </div>\n            <span class="w-100 h-20 bg-grey rounded-4"></span>\n          </div>\n\n          <div class="splitter-1 bg-grey mt-9"></div>\n        </div>\n\n        <div class="sih-modal__column mt-11 mb-10 gap-10">\n          <span class="w-80 h-20 bg-grey rounded-4"></span>\n\n          <div class="sih-modal__row justify-between gap-5">\n            <div class="sih-modal__row gap-5">\n              <span class="w-150 h-20 bg-grey rounded-4"></span>\n            </div>\n\n            <span class="w-100 h-20 bg-grey rounded-4"></span>\n          </div>\n\n          <div class="sih-modal__row justify-between gap-5">\n            <div class="sih-modal__row gap-5">\n              <span class="w-150 h-20 bg-grey rounded-4"></span>\n            </div>\n            <span class="w-100 h-20 bg-grey rounded-4"></span>\n          </div>\n        </div>\n\n        <div class="sih-modal__row items-center gap-14">\n          <div class="sih-modal__row w-22 h-22 bg-grey rounded-4"></div>\n          <div class="sih-modal__row w-300 h-44 bg-grey rounded-4"></div>\n        </div>\n      </div>\n    '," ").concat('\n      <div class="right-block__fake-buttons sih-modal__column gap-15 mt-34">\n        <div class="w-100per h-47 bg-grey rounded-4"></div>\n        <div class="w-100-per h-47 bg-grey rounded-4"></div>\n      </div>\n    ',"</div> "),a=r.find(".right-block__order-info_inner"),o=t.find(".right-block__buttons");if(isShowLoaders){var s=r.find(".right-block__fake");a.css("opacity",0),o.css("opacity",0),s.length?s.fadeIn():r.append(i)}else{var c=t.find(".right-block__fake");a.css("opacity",1),o.css("opacity",1),c.fadeOut()}}function a(){var t=n.find(".ordering-tab__header").find(".ordering-tab__header-total-block"),e=t.find(".ordering-tab__header-total-row"),r=t.find(".ordering-animated");isShowLoaders?(e.css("opacity",0),r.fadeIn()):(r.fadeOut(),e.css("opacity",1))}function o(){n.find(".sih-modal__controls").each((function(t,e){var n=$J(e),r=n.find(".ordering-tab__total-number"),i=n.find(".ordering-animated");isShowLoaders?(r.css("opacity",0),i.fadeIn()):(i.fadeOut(),r.css("opacity",1))}))}}function parseHashName(t){var e,n,r=_createForOfIteratorHelper(global.SKIN_WEAR_MAP.entries());try{for(r.s();!(n=r.n()).done;){var i=global_slicedToArray(n.value,2),a=i[0],o=i[1];t.includes(o)&&(e=a)}}catch(t){r.e(t)}finally{r.f()}var s=t.replace("★","").replace("Souvenir ","").replace("StatTrak™ ","").replace("(".concat(global.SKIN_WEAR_MAP.get(e),")"),""),c=s.lastIndexOf("|");return{type:-1===c?s.trim():s.slice(0,c).trim(),name:-1===c?s.trim():s.slice(c+1).trim(),currentWear:e,hasStatrak:t.includes("StatTrak™"),hasSouvenir:t.includes("Souvenir")}}function getHeaderInfoHtml(t){var e=t.type,n=t.currentWear,r=t.hasStatrak,i=t.hasSouvenir,a="<span>".concat(e,"</span>");return n&&(a="<span>".concat(n.toUpperCase(),"</span> | ")+a),r&&(a='<span class="sih-item-order__header_statrak">St</span> | '+a),i&&(a='<span class="sih-item-order__header_souvenir">Sv</span> | '+a),a}function activePlan_createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=activePlan_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function activePlan_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return activePlan_arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?activePlan_arrayLikeToArray(t,e):void 0}}function activePlan_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function loadActivePlanTab(){activePlan_loadHtml(),buttonActions()}function RenderActivePlanInfo(t){var e,n=$J(".sih-modal.active-plan-tab"),r=activePlan_createForOfIteratorHelper(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;if("adfree"===i.for_what){n.find(".sih-modal__smile").html(i.icon),n.find(".plans__name").text("".concat(void 0!==i.plan_txt?i.plan_txt:""));var a=sih_app_global_service.A.getDaysNumber(i.active_till);a.hasOwnProperty("days")?n.find(".plans__time").text("".concat(SIHLang.subscribeAds.modal.activePlan.days_left,": ").concat(a.days)):n.find(".plans__time").text("".concat(SIHLang.subscribeAds.modal.activePlan.hours_left,": ").concat(a.hours))}}}catch(t){r.e(t)}finally{r.f()}}function activePlan_loadHtml(){var t=$J(".sih-pagecontent").find(".sih-subscribe-ads"),e='\n    <div class="sih-modal sih-global active-plan-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner">\n        <h2 class="sih-modal__title text-center">'.concat(SIHLang.subscribeAds.modal.activePlan.title,'</h2>\n        <div class="sih-modal__plans plans active">\n          <div class="plans__active-plan">\n            <div class="plans__bottom gap-10">\n              <span class="plans__active-plan_icon"></span>\n              <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold sih-modal__text_light-green"\n                >').concat(SIHLang.subscribeAds.modal.activePlan.active,'</span\n              >\n            </div>\n            <span class="sih-modal__smile sih-modal__smile_lg"></span>\n            <span class="plans__name sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"></span>\n            <span class="plans__time sih-modal__text sih-modal__text_sm opacity-50per"></span>\n          </div>\n        </div>\n        <div class="sih-modal__buttons justify-center">\n          <button class="sih-modal__button sih-modal__button_blue px-24 py-16 sih-modal__button-okey">\n            ').concat(SIHLang.subscribeAds.modal.okey,'\n          </button>\n        </div>\n\n        <a\n          href="https://sih.app/user/subscription"\n          target="_blank"\n          class="sih-modal__text_blue text-decoration-underline absolute left-50per -bottom-40 hover-opacity-8"\n          >').concat(SIHLang.subscribeAds.modal.sub_management,"</a\n        >\n      </div>\n    </div>\n  ");t.find(".active-plan-tab").length||t.append(e)}function buttonActions(){okayBtnAction()}function okayBtnAction(){$J(".sih-modal.active-plan-tab").find(".sih-modal__button-okey").click((function(){$J(".sih-subscribe-ads").hide(),SetModalSubscribeToDefaultState()}))}function selectingPlan_toConsumableArray(t){return selectingPlan_arrayWithoutHoles(t)||selectingPlan_iterableToArray(t)||selectingPlan_unsupportedIterableToArray(t)||selectingPlan_nonIterableSpread()}function selectingPlan_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function selectingPlan_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return selectingPlan_arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?selectingPlan_arrayLikeToArray(t,e):void 0}}function selectingPlan_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function selectingPlan_arrayWithoutHoles(t){if(Array.isArray(t))return selectingPlan_arrayLikeToArray(t)}function selectingPlan_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var selectingPlan_debounce=null,SUBSCRIBE_BUTTON_DATA_NAME;function loadSelectingPlanTab(){selectingPlan_loadHtml()}function RenderPlans(t){renderPlansItems(t),setUserAndPlanCost(),sortPlansItemsByPrice(),selectingPlan_modalListeners()}function selectingPlan_loadHtml(){var t=$J(".sih-pagecontent").find(".sih-subscribe-ads"),e=(0,tos.H)("selecting-plan"),n=$J('\n    <div class="sih-modal sih-global selecting-plan-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__row gap-10 sih-modal__back sih-modal__back-info mb-20">\n        <span class="sih-modal__back_icon"></span>\n        <span class="sih-modal__text sih-modal__text_md">'.concat(SIHLang.subscribeAds.modal.back,'</span>\n      </div>\n      <div class="sih-modal__inner">\n        <span class="sih-modal__title">').concat(SIHLang.subscribeAds.modal.selectingPlan.title,'</span>\n\n        <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"\n          >').concat(SIHLang.subscribeAds.modal.selectingPlan.payment_method,'</span\n        >\n\n        <div class="sih-modal__column gap-10">\n          <div class="sih-modal__row gap-10 items-center mb-20">\n            <div class="payment payment-balance payment-balance__button payment__button">\n              <input\n                type="radio"\n                name="payment"\n                id="payment-balance"\n                class="payment__input"\n                data-name="Balance"\n                checked\n              />\n              <label class="sih-modal__row gap-10 sih-modal__button px-24 py-8 bg-grey" for="payment-balance">\n                <svg width="21" height="15" viewBox="0 0 21 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M11.1803 0H9.69118V2.77931H11.1803V0ZM4.42178 8.07162H7.12788V9.37668H4.42178V10.9234H8.54498V6.75044H5.80685V5.52593H8.54498V4.07586H4.42178V8.07162ZM11.1803 4.07586H9.69118V10.9234H11.1803V4.07586ZM15.1505 6.75044V4.07586H16.5676V10.9234H15.1826V7.97495H13.8375V10.9234H12.4685V4.07586H13.8615V6.75044H15.1505ZM3.26214 6.75051H0.5V8.24892H3.26214V6.75051ZM17.7379 6.75051H20.5V8.24892H17.7379V6.75051ZM9.69118 12.2207H11.1803V15H9.69118V12.2207ZM16.2864 1.37762H12.5075V2.77935H16.2864C17.0791 2.77935 17.7276 3.43189 17.7276 4.22943V5.47005H19.1206V4.22943C19.1126 2.65851 17.8477 1.37762 16.2864 1.37762ZM1.87106 5.47005V3.95553C1.87106 2.53768 3.02395 1.37762 4.43305 1.37762H8.48419V2.77935H4.43305C3.78454 2.77935 3.26414 3.31105 3.26414 3.95553V5.47005H1.87106ZM17.7276 10.7542C17.7276 11.5518 17.0791 12.2043 16.2864 12.2043H12.5075V13.606H16.2864C17.8477 13.606 19.1206 12.3251 19.1206 10.7542V9.51361H17.7276V10.7542ZM3.26414 9.51361V10.7542C3.26414 11.5598 3.91264 12.2043 4.70526 12.2043H8.48419V13.606H4.70526C3.14405 13.606 1.87106 12.3251 1.87106 10.7542V9.51361H3.26414Z"\n                    fill="white"\n                  />\n                </svg>\n                <span class="sih-modal__text sih-modal__text_white sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.selectingPlan.sih_balance,'</span\n                >\n              </label>\n            </div>\n            <div class="payment payment-stripe payment-stripe__button payment__button">\n              <input type="radio" name="payment" id="payment-stripe" class="payment__input" data-name="Stripe" />\n              <label class="sih-modal__row gap-10 sih-modal__button px-24 py-8 bg-grey" for="payment-stripe">\n                <svg width="14" height="20" viewBox="0 0 14 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M5.57795 5.95604C5.57795 5.0989 6.28346 4.76923 7.45197 4.76923C9.12756 4.76923 11.2441 5.27473 12.9197 6.17582V1.01099C11.0898 0.285714 9.28189 0 7.45197 0C2.97638 0 0 2.32967 0 6.21978C0 12.2857 8.37795 11.3187 8.37795 13.9341C8.37795 14.9451 7.49606 15.2747 6.26142 15.2747C4.4315 15.2747 2.09449 14.5275 0.24252 13.5165V18.7473C2.29291 19.6264 4.36535 20 6.26142 20C10.8472 20 14 17.7363 14 13.8022C13.978 7.25275 5.57795 8.41758 5.57795 5.95604Z"\n                    fill="white"\n                  />\n                </svg>\n                <span class="sih-modal__text sih-modal__text_white sih-modal__text_md">Stripe (Worldwide)</span>\n              </label>\n            </div>\n          </div>\n\n          <div class="payment-info__message sih-modal__column -mt-20">\n            <span class="sih-modal__text sih-modal__text_md"\n              >').concat(SIHLang.subscribeAds.modal.selectingPlan.payment_message_info,'</span\n            >\n          </div>\n        </div>\n\n        <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"\n          >').concat(SIHLang.subscribeAds.modal.selectingPlan.sub_packages,'</span\n        >\n\n        <div class="sih-modal__plans plans plans-balance" data-id="payment-balance" data-payment="balance"></div>\n        <div class="sih-modal__plans plans plans-stripe" data-id="payment-stripe" data-payment="stripe"></div>\n\n        <div class="sih-modal__error"></div>\n        <div class="sih-modal__buttons hidden">\n          <button class="sih-modal__button sih-modal__button_blue px-24 py-16 sih-modal__button-subscribe" disabled>\n            ').concat(SIHLang.subscribeAds.modal.selectingPlan.support_sih_now,'\n          </button>\n          <a\n            href="https://sih.app/user/subscription"\n            target="_blank"\n            class="sih-modal__text_blue text-decoration-underline hover-opacity-8"\n            >').concat(SIHLang.subscribeAds.modal.what_is_black,'</a\n          >\n\n          <a\n            href="https://steamcommunity.com/groups/SteamInventoryHelper/discussions/0/3832042807499341165/"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_blue absolute right-50 -bottom-20 hover-opacity-8"\n            >').concat(SIHLang.subscribeAds.modal.questions,'</a\n          >\n        </div>\n        <div class="sih-balance sih-modal__row justify-between">\n          <div class="sih-modal__column">\n            <div class="sih-modal__row items-center gap-20">\n              <div class="sih-modal__row gap-5 items-center">\n                <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.subscribeAds.modal.in_wallet,':</span>\n                <div class="sih-modal__sih-coins">\n                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z"\n                      fill="white"\n                    />\n                  </svg>\n                </div>\n                <span class="sih-balance__user  sih-modal__text sih-modal__text_md">---</span>\n              </div>\n\n              <div class="sih-balance__not-enough sih-modal__row gap-5 items-center">\n                <span class="sih-modal__text sih-modal__text_md sih-modal__text_red"\n                  >').concat(SIHLang.subscribeAds.modal.not_enough_funds,'</span\n                >\n                <div class="sih-modal__sih-coins red">\n                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z"\n                      fill="white"\n                    />\n                  </svg>\n                </div>\n                <span class="sih-balance__user-not-enough  sih-modal__text sih-modal__text_md sih-modal__text_red"\n                  >---</span\n                >\n              </div>\n            </div>\n\n            <div class="sih-modal__row gap-5 items-center">\n              <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"\n                >').concat(SIHLang.subscribeAds.modal.total,':</span\n              >\n              <div class="sih-modal__sih-coins">\n                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z"\n                    fill="white"\n                  />\n                </svg>\n              </div>\n              <span class="sih-balance__plan-price sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"\n                >---</span\n              >\n            </div>\n          </div>\n\n          <div class="sih-balance__buttons">\n            <button class="sih-balance__button sih-modal__button sih-modal__button_blue px-24 py-16">\n              ').concat(SIHLang.subscribeAds.modal.selectingPlan.refill,"\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  "));n.find(".sih-modal__error").before(e),t.find(".selecting-plan-tab").length||t.append(n)}function renderPlansItems(t){var e=$J(".selecting-plan-tab"),n=e.find(".plans"),r=e.find(".payment__input:checked");n.each((function(e,n){var i=$J(n),a=i.data("payment"),o={},s=t.map((function(t){return t.is_enabled&&t.payment_system===a?t.full_price||t.price:0})).filter((function(t){return t}));o["".concat(a)]=Math.max.apply(Math,selectingPlan_toConsumableArray(s)),t.forEach((function(t){if(t.payment_system===a&&t.is_enabled){var e=t.full_price||t.price,n=getPlanInfoLocalization(t.title),s=n.plan_icon,c=n.plan_name,l=n.plan_period,d=(e/1e3).toLocaleString("ru"),u=((t.per_month?t.per_month:t.price)/1e3).toLocaleString("ru"),_=currency_service.A.g_rgCurrencyData[t.price_currency]||currency_service.A.g_rgCurrencyData.USD,h=$J('\n          <div\n            class="plans__item '.concat(o["".concat(a)]===e?"active":"",'"\n            data-plan-title="').concat(t.title,'"\n            data-id="').concat(t.id,'"\n            data-total-price="').concat(e,'"\n          >\n            <div class="plans__header">\n              <span class="sih-modal__smile sih-modal__smile_lg">').concat(s,'</span>\n              <span class="sih-modal__text sih-modal__text_sm plans__name">').concat(c,'</span>\n              <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold -mt-5">').concat(l,'</span>\n              <div class="sih-modal__row -mt-5">\n                <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey "\n                  >').concat(t.per_month&&e!==t.per_month&&_.bSymbolIsPrefix?"".concat(_.strSymbol):"",'</span\n                >\n\n                <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n                  >').concat(t.per_month&&e!==t.per_month?d:"",'</span\n                >\n\n                <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n                  >').concat(t.per_month&&e!==t.per_month&&!_.bSymbolIsPrefix?"".concat(_.strSymbol):"",'</span\n                >\n              </div>\n            </div>\n            <div class="plans__bottom">\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat("balance"!==t.payment_system&&_.bSymbolIsPrefix?"".concat(_.strSymbol):"","</span\n              >\n\n              ").concat("balance"===t.payment_system?'<div class="sih-modal__sih-coins mr-5">\n                                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z" fill="white"/>\n                                    </svg>\n                                  </div>':"",'\n\n              <span class="plans__actual-price sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat(u,'</span\n              >\n\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat("balance"===t.payment_system||_.bSymbolIsPrefix?"":"".concat(_.strSymbol),'</span\n              >\n\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold">/</span>\n\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat(SIHLang.subscribeAds.modal.month,"</span\n              >\n            </div>\n          </div>\n        "));i.find(h).length||(i.append(h),r.length&&r.attr("id")&&i.attr("data-id")===r.attr("id")&&i.css("display","flex").show())}}))}))}function setUserAndPlanCost(){sih_app_global_service.A.getLoginSihAppUser().then((function(t){if(t&&t.success&&!t.tfaNeed&&t.user){var e=t.user.balance,n=$J(".selecting-plan-tab"),r=n.find(".plans-balance"),i=n.find(".sih-balance"),a=r.find(".plans__item.active");if(a.length){var o=a.attr("data-total-price");if(!o)return;var s=i.find(".sih-balance__user"),c=i.find(".sih-balance__plan-price"),l=i.find(".sih-balance__not-enough"),d=l.find(".sih-balance__user-not-enough"),u=i.find(".sih-balance__button");s.text(e/1e3),c.text(o/1e3);var _=e-o;if(_<0){var h=Math.abs(_/1e3);l.css("display","flex").show(),d.text(h),u.text(SIHLang.subscribeAds.modal.selectingPlan.refill),$J("#sih-tos-selecting-plan").is(":checked")||u.attr("disabled",!0),subscribeFromBalanceAction("refill",h)}else $J("#sih-tos-selecting-plan").is(":checked")||u.attr("disabled",!0),l.hide(),u.text(SIHLang.subscribeAds.modal.selectingPlan.buy_sub),subscribeFromBalanceAction("buy")}}}))}function sortPlansItemsByPrice(){$J(".selecting-plan-tab").find(".plans").each((function(t,e){var n=$J(e),r=n.find(".plans__item");r.sort((function(t,e){return $J(t).data("total-price")-$J(e).data("total-price")})),r.detach().appendTo(n)}))}function getPlanInfoLocalization(t){var e,n,r;switch(t.toLowerCase()){case"for one year":e="&#128526;",n="".concat(SIHLang.subscribeAds.modal.plan_for_one_year_name),r="".concat(SIHLang.subscribeAds.modal.plan_for_one_year_period);break;case"every 6 months":e="&#128527;",n="".concat(SIHLang.subscribeAds.modal.plan_every_6_month_name),r="".concat(SIHLang.subscribeAds.modal.plan_every_6_month_period);break;case"every 3 month":e="&#128521;",n="".concat(SIHLang.subscribeAds.modal.plan_every_3_month_name),r="".concat(SIHLang.subscribeAds.modal.plan_every_3_month_period);break;case"every month":e="&#128522;",n="".concat(SIHLang.subscribeAds.modal.plan_every_month_name),r="".concat(SIHLang.subscribeAds.modal.plan_every_month_period);break;default:e=null,n=null,r=null}return{plan_icon:e,plan_name:n,plan_period:r}}function selectingPlan_modalListeners(){buttonsActions(),changePaymentMethod()}function buttonsActions(){selectPlanAction(),checkTOSSubscribe(),subscribeAction(),modalPaginationBack()}function selectPlanAction(){$J(".sih-modal").find(".plans__item").each((function(t,e){var n=$J(e);n.off("click").click((function(){$J(this).parent().find(".active").removeClass("active"),n.addClass("active"),setUserAndPlanCost()}))}))}function checkTOSSubscribe(){$J("#sih-tos-selecting-plan").off("change").change((function(){$J(this).is(":checked")?($J(".sih-modal__button-subscribe").removeAttr("disabled"),$J(".sih-balance__button").removeAttr("disabled")):($J(".sih-modal__button-subscribe").attr("disabled",!0),$J(".sih-balance__button").attr("disabled",!0))}))}function subscribeFromBalanceAction(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"refill",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=$J(".selecting-plan-tab"),r=n.find(".plans-balance"),i=n.find(".sih-balance"),a=r.find(".plans__item.active"),o=i.find(".sih-balance__button"),s=n.find(".sih-modal__error"),c=a.attr("data-id");"buy"!==t?o.off("click").click((function(){sih_app_global_service.A.getSihAppToken().then((function(t){clearTimeout(selectingPlan_debounce),selectingPlan_debounce=setTimeout((function(){e<1&&(e=1),window.open("https://sih.app/pay?amount=".concat(e,"#payToken=").concat(t),"_blank")}),300)}))})):o.off("click").click((function(){var t=this;$J(this).addClass("animated-background-btn"),s.hide(),chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:c}},(function(e){if(e.success)$J(t).removeClass("animated-background-btn"),sih_app_global_service.A.getUserSihApp().then((function(t){t.success&&sih_app_global_service.A.getSubscribeAds().then((function(t){t.success?sih_app_global_service.A.getLoginSihAppUser().then((function(t){RenderActivePlanInfo(t.subscribes),n.hide(),$J(".sih-modal.active-plan-tab").show()})):(n.hide(),$J(".sih-modal.refill-plug-info").show())}))}));else{var r=s.find(".sih-modal__error_message");sih_app_global_service.A.errorHandler($J(t),s,r)}}))}))}function subscribeAction(){var t=$J(".selecting-plan-tab"),e=t.find(".sih-modal__button-subscribe"),n=t.find("#sih-tos-selecting-plan"),r=t.find(".sih-modal__error");e.each((function(e,i){$J(i).off("click").click($J.debounce(300,(function(){var e=this;$J(this).addClass("animated-background-btn");var i=r.find(".sih-modal__error_message"),a=t.find(".plans:visible").find(".plans__item.active"),o=a.find(".plans__name").text(),s=a.attr("data-id"),c={planName:o,paymentId:s};s?n.is(":checked")?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:s}},(function(t){t.success?(r.hide(),$J(e).removeClass("animated-background-btn"),OpenEmailTabInModal(c,t.email)):t.hasOwnProperty("authorization")?sih_app_global_service.A.errorHandler($J(e),r,i):t.hasOwnProperty("error")?sih_app_global_service.A.errorHandler($J(e),r,i,t.error):($J(e).removeClass("animated-background-btn"),OpenEmailTabInModal(c))})):sih_app_global_service.A.errorHandler($J(this),r,i,"Please, select checkbox subscription TOS"):sih_app_global_service.A.errorHandler($J(this),r,i,"Please, enter plan")})))}))}function changePaymentMethod(){var t=$J(".selecting-plan-tab"),e=t.find(".plans"),n=t.find(".payment-info__message"),r=t.find(".sih-balance"),i=t.find(".sih-modal__buttons");t.find(".payment__input").each((function(t,a){$J(a).change((function(){var t=$J(this);e.each((function(e,a){var o=$J(a);o.hide(),o.attr("data-id")===t.attr("id")&&(o.css("display","flex").show(),"payment-balance"===o.attr("data-id")?(i.addClass("hidden"),n.css("display","flex").show(),r.css("display","flex").show()):(n.hide(),r.hide(),i.removeClass("hidden")))}))}))}))}function modalPaginationBack(){var t=$J(".sih-subscribe-ads");t.find(".sih-modal__back-info").click((function(){$J(".selecting-plan-tab").hide(),$J(".subscription-info-tab").show(),t.find(".sih-modal__error").children().remove()}))}function LoadEnterPasswordModal(){enterPassword_loadHtml(),ModalPasswordListenersAction()}function enterPassword_loadHtml(){var t=$J("body"),e='\n    <div id="sih-enter-password">\n      <div class="sih-enter-password__fade"></div>\n      <div class="sih-modal sih-global">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column items-start">\n          <div class="sih-modal__text sih-modal__text_xl sih-modal__text_white">\n            '.concat(SIHLang.subscribeAds.modal.enterPassword.title,'\n          </div>\n          <label class="sih-modal__column w-248" for="sih-password-input">\n            <input\n              type="password"\n              autocomplete="new-password"\n              class="sih-modal__input"\n              id="sih-password-input"\n              placeholder="').concat(SIHLang.subscribeAds.modal.enterPassword.enter_pwd,'"\n            />\n          </label>\n          <a\n            href="https://sih.app/"\n            target="_blank"\n            class="sih-modal__text_md sih-modal__text_blue text-decoration-underline"\n            >').concat(SIHLang.subscribeAds.modal.enterPassword.forgot_pwd,'</a\n          >\n          <label class="sih-modal__trading-rules sih-modal__row items-center gap-10 mt-16" for="trading-rules">\n            <input type="checkbox" name="trading-rules" id="trading-rules" class="hidden" />\n            <label class="fake-checkbox" for="trading-rules"></label>\n            <div class="sih-modal__text sih-modal__text_md">\n              ').concat(SIHLang.subscribeAds.modal.enterPassword.trade_rule_1,'\n              <a href="https://sih.app/" target="_blank" class="sih-modal__text_blue text-decoration-underline"\n                >').concat(SIHLang.subscribeAds.modal.enterPassword.trade_rule_2,'</a\n              >\n            </div>\n          </label>\n          <div class="sih-modal__error mt-20"></div>\n          <div class="sih-modal__buttons mt-16">\n            <button\n              id="sih-enter-password-btn"\n              class="sih-modal__button sih-modal__button_blue px-24 py-16"\n              disabled="disabled"\n            >\n              ').concat(SIHLang.subscribeAds.modal.enterPassword.continue,"\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ");t.find("#sih-enter-password").length||t.append(e)}function ModalPasswordListenersAction(){hidePasswordModal(),passwordInputActionListener(),sendPasswordToBackground()}function hidePasswordModal(){$J(document).keydown((function(t){27===t.keyCode&&(t.stopPropagation(),$J("#sih-enter-password").hide().remove(),LoadEnterPasswordModal(),$J("body").css("overflow","auto"))})),$J("#sih-enter-password").find(".sih-modal__close").off("click").click((function(){$J("#sih-enter-password").hide().remove(),LoadEnterPasswordModal(),$J("body").css("overflow","auto")}))}function passwordInputActionListener(){var t=$J("body").find("#sih-enter-password"),e=t.find("#sih-password-input"),n=t.find("#trading-rules"),r=t.find("#sih-enter-password-btn");e.off().keyup((function(){var t=$J(this);n.prop("checked")&&t.val().length>0?r.prop("disabled",!1):r.prop("disabled",!0)})),n.off("click").click((function(){$J(this).prop("checked")&&e.val().length>0?r.prop("disabled",!1):r.prop("disabled",!0)}))}function sendPasswordToBackground(){var t=$J("#sih-enter-password"),e=t.find(".sih-modal__error");t.find("#sih-enter-password-btn").off("click").click((function(){var n=$J(this);n.addClass("animated-background-btn");var r=e.find(".sih-modal__error_message"),i=t.find("#sih-password-input").val();""!==i&&i?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_ENTER_PASSWORD_SIH_APP",data:{password:i}},(function(i){if(i.success){var a=t.data("show-modal"),o=$J(".sih-modal.".concat(a,"-tab"));switch(t.hide(),a){case"subscription-info":sih_app_global_service.A.getSubscribeAds().then((function(t){t.success?sih_app_global_service.A.getLoginSihAppUser().then((function(t){RenderActivePlanInfo(t.subscribes),$J(".sih-subscribe-ads").show(),$J(".sih-subscribe-ads").find(".sih-modal").hide(),$J(".sih-modal.active-plan-tab").show()})):sih_app_global_service.A.getSubscribeAdsPlans().then((function(t){t&&t.length&&RenderPlans(t),$J(".sih-subscribe-ads").show()}))}));break;case"orders":sih_app_global_service.A.getUserOrdersHistory(!1).then((function(t){t.success&&(ChangeOrdersCountHeaderMenu(),RenderOrdersActiveItems(),RenderOrdersHistoryItems()),$J("#sih-modal__buy-orders").show()}));break;case"ordering":ChangeItemsStatus(!0,"ordering"),$J("#sih-modal__buy-orders").show();break;case"notification-panel":$J("#sih-header-notifications").trigger("click")}o.show()}else sih_app_global_service.A.errorHandler(n,e,r,i.error)})):sih_app_global_service.A.errorHandler(n,e,r)}))}function RenderRefillPlugInfo(){refillPlugInfo_loadHtml(),refillPlugInfo_buttonsActions()}function refillPlugInfo_loadHtml(){var t=$J(".sih-pagecontent").find(".sih-subscribe-ads");t.find(".refill-plug-info").length||t.append('\n    <div class="sih-modal sih-global refill-plug-info">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner">\n        <div class="sih-modal__column items-center gap-20">\n          <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              fill-rule="evenodd"\n              clip-rule="evenodd"\n              d="M16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0ZM12.6742 24.728L4.3625 16.3525L6.7064 13.9906L12.6742 19.9874L25.2913 7.27344L27.6352 9.65208L12.6742 24.728Z"\n              fill="#00F900"\n            />\n          </svg>\n          <h2 class="sih-modal__title text-center">Успешно оплачено</h2>\n        </div>\n\n        <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey text-center"\n          >Активация подписки SIH Black может занимать до 15 минут</span\n        >\n\n        <div class="sih-modal__buttons mt-70 justify-center">\n          <button class="sih-modal__button sih-modal__button_blue px-24 py-16 text-uppercase refill-plug-info__reload">\n            перезагрузить страницу\n          </button>\n        </div>\n      </div>\n    </div>\n  ')}function refillPlugInfo_buttonsActions(){refillReloadBtn()}function refillReloadBtn(){$J(".refill-plug-info").find(".refill-plug-info__reload").off("click").click((function(){$J(this).addClass("animated-background-btn"),window.location.reload()}))}function loadSubscriptionInfoTab(){subscriptionInfo_loadHtml(),subscriptionInfo_modalListeners(),loadTooltips()}function subscriptionInfo_loadHtml(){var t=$J(".sih-pagecontent").find(".sih-subscribe-ads"),e='\n    <div class="sih-modal sih-global subscription-info-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner">\n        <div class="sih-modal__header sih-modal__column gap-20">\n          <div class="subscription-info-tab__sorry sih-subscribe-sorry hidden">\n            <img\n              class="sih-subscribe-sorry__image"\n              src="chrome-extension://'.concat(SIHID,'/assets/common/cry_emojis.svg"\n              alt=""\n            />\n            <div class="column gap-4">\n              <span class="text text_white fs-24 lh-32 semi-bold"\n                >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sorryInfo.title,'</span\n              >\n              <span class="text text_light-grey fs-16 lh-24"\n                >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sorryInfo.text,'</span\n              >\n            </div>\n          </div>\n\n          <h2 class="sih-modal__title">').concat(SIHLang.subscribeAds.modal.subscriptionInfo.title,'</h2>\n          <span class="subscription-info-tab__info-text sih-modal__text sih-modal__text_md"\n            >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.subtitle,'\n          </span>\n          <div class="sih-modal__row mt-5">\n            <button class="go-to-plan go-to-plan_top sih-modal__button sih-modal__button_blue py-16 px-24">\n              ').concat(SIHLang.subscribeAds.modal.subscriptionInfo.button_1,'\n            </button>\n          </div>\n        </div>\n        <div class="sih-modal__bottom sih-modal__column">\n          <div class="sih-modal__bottom_header">\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold"\n                >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.in_sih,'\n              </span>\n\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.without_sih_black,'\n                </span>\n                <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.with_sih_black,'\n                </span>\n              </div>\n            </div>\n            <div class="splitter-1 bg-grey mt-20 mb-20"></div>\n          </div>\n          <div class="sih-modal__content sih-modal__column gap-45">\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_1,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_1_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_2,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_2_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_3,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_3_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_4,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_4_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_5,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_5_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n\n            <div class="splitter-1 bg-grey -mt-25"></div>\n          </div>\n\n          <div class="sih-modal__bottom_header mt-62">\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold"\n                >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.in_sih_app,'\n              </span>\n\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.without_sih_black,'\n                </span>\n                <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.with_sih_black,'\n                </span>\n              </div>\n            </div>\n            <div class="splitter-1 bg-grey mt-20 mb-20"></div>\n          </div>\n          <div class="sih-modal__content sih-modal__column gap-45">\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_red"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1_without,'</span\n                >\n                <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_green"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1_with,'</span\n                >\n              </div>\n            </div>\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_2,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_2_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_red">9</span>\n                <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_green">24</span>\n              </div>\n            </div>\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__column items-start">\n                <div class="sih-modal__row items-center gap-5">\n                  <span class="sih-modal__text sih-modal__text_md"\n                    >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_3,'\n                  </span>\n                </div>\n              </div>\n\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n\n            <div class="splitter-1 bg-grey -mt-25"></div>\n          </div>\n        </div>\n        <button class="go-to-plan go-to-plan_bottom sih-modal__button sih-modal__button_blue px-24 py-16">\n          ').concat(SIHLang.subscribeAds.modal.subscriptionInfo.button_1,'\n        </button>\n        <a\n          href="https://steamcommunity.com/groups/SteamInventoryHelper/discussions/0/3832042807499341165/"\n          target="_blank"\n          class="sih-modal__text_blue absolute right-50 -bottom-20 hover-opacity-8"\n          >').concat(SIHLang.subscribeAds.modal.questions,"</a\n        >\n      </div>\n    </div>\n  ");t.find(".subscription-info-tab").length||t.append(e)}function subscriptionInfo_modalListeners(){openSelectPlanTabAction(),onScrollAction()}function openSelectPlanTabAction(){var t=$J(".sih-modal.subscription-info-tab"),e=$J(".sih-modal.selecting-plan-tab");t.find(".go-to-plan").click((function(){t.hide(),e.show()}))}function onScrollAction(){var t=$J(".sih-modal.subscription-info-tab").find(".sih-modal__inner");t.scroll((function(){var e=t.find(".go-to-plan_top"),n=t.find(".go-to-plan_bottom"),r=e.position().top;r<25&&0!==r&&0!==e.css("opacity")?(e.css("opacity",0),n.css("opacity",1)):(e.css("opacity",1),n.css("opacity",0))}))}function loadTooltips(){var t=$J(".sih-modal.subscription-info-tab"),e=$J(".pagecontent").css("zoom");$J(".sih-subscribe-ads").css("zoom",2-Number(e)),t.find(".subscription-info-tab__tooltip").each((function(t,e){$J(e).tooltip({classes:{"ui-tooltip":"subscription__tooltip"}})}))}function loadSubscribeAds(){renderSubscribeModal(),loadSelectingPlanTab(),LoadEnterPasswordModal(),loadSubscriptionInfoTab(),loadEnterEmailTab(),loadActivePlanTab(),RenderRefillPlugInfo(),common_modalListeners()}function ShowModalSubscribeAds(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];SUBSCRIBE_BUTTON_DATA_NAME=t&&t.attr("data-name")?t.attr("data-name"):null,$J(".sih-subscribe-ads").show(),"sponsor"===(null==t?void 0:t.attr("data-id"))&&($J(".sih-subscribe-ads").find(".subscription-info-tab").addClass("custom"),$J(".sih-subscribe-ads").find(".subscription-info-tab__sorry").removeClass("hidden")),e?sih_app_global_service.A.getUserSihApp().then((function(t){loginInSihApp()})):loginInSihApp()}function SetModalSubscribeToDefaultState(){$J(".sih-subscribe-ads").hide().remove()}function renderSubscribeModal(){$J("body").find("#mainContent").length?$J("#mainContent").addClass("sih-pagecontent"):$J("#mainContents").addClass("sih-pagecontent"),$J(".inventory_page").addClass("sih-inventory_page");var t=$J(".sih-pagecontent").length?$J(".sih-pagecontent"):$J("body").addClass("sih-pagecontent");t.find(".sih-subscribe-ads").length||t.append('\n    <div class="sih-subscribe-ads">\n      <div class="sih-modal__fade"></div>\n      <div class="sih-modal sih-global loader-tab">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-loader">\n          <div class="sih-logo-loader"></div>\n        </div>\n      </div>\n    </div>\n  ')}function common_modalListeners(){hideModalSubscribeAds()}function loginInSihApp(){sih_app_global_service.A.getLoginSihAppUser().then((function(t){t.success?renderTabAfterCheckedUser(t):sih_app_global_service.A.loginSihApp().then((function(){renderTabAfterCheckedUser()}))})),new InventoryPageEventRegister({location:location.href,SIHID}).register({target:"sih-adept-button",targetType:"button",action:"click"})}function renderTabAfterCheckedUser(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;sih_app_global_service.A.getSubscribeAds().then((function(e){var n;e.success?showActivePlanTab():t?t.tfaNeed?($J(".sih-subscribe-ads").hide(),$J("#sih-enter-password").attr("data-show-modal","subscription-info").show()):showSubscriptionInfoTab():n=setInterval((function(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},(function(t){t.success&&!t.authorization&&(clearInterval(n),t.tfaNeed?($J(".sih-subscribe-ads").hide(),$J("#sih-enter-password").attr("data-show-modal","subscription-info").show()):sih_app_global_service.A.getSubscribeAds().then((function(t){t.success?showActivePlanTab():showSubscriptionInfoTab()})))}))}),500)}))}function showActivePlanTab(t){$J(".sih-modal.loader-tab").hide(),t?RenderActivePlanInfo(t.subscribes):chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},(function(t){RenderActivePlanInfo(t.subscribes)})),$J(".sih-modal.active-plan-tab").show()}function showSubscriptionInfoTab(){sih_app_global_service.A.getSubscribeAdsPlans().then((function(t){t&&t.length&&RenderPlans(t)})),$J(".sih-modal.loader-tab").hide(),SUBSCRIBE_BUTTON_DATA_NAME?$J(".sih-modal.".concat(SUBSCRIBE_BUTTON_DATA_NAME)).show():$J(".sih-modal.subscription-info-tab").show()}function hideModalSubscribeAds(){$J(document).off("keydown").keydown((function(t){27===t.keyCode&&(t.stopPropagation(),SetModalSubscribeToDefaultState(),CloseRefillSIHBalance())})),$J(".sih-subscribe-ads").find(".sih-modal__close").each((function(t,e){$J(e).off("click").click((function(){SetModalSubscribeToDefaultState()}))})),$J(".sih-subscribe-ads").find(".sih-modal__button-exit").click((function(){SetModalSubscribeToDefaultState()})),$J(".sih-subscribe-ads").find(".sih-modal__fade").click((function(){SetModalSubscribeToDefaultState()}))}function loadEnterEmailTab(){enterEmail_loadHtml(),enterEmail_modalListeners()}function OpenEmailTabInModal(t){var e=t.planName,n=t.paymentId,r=t.amount,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=$J(".sih-subscribe-ads"),o=$J(".selecting-plan-tab"),s=$J(".enter-email-tab"),c=s.find("#sih-email");o.hide(),s.show();var l=a.find(".sih-modal__save-email"),d=a.find(".sih-modal__cancel-email"),u=a.find(".sih-modal__edit-email"),_=s.find(".sih-modal__button-send-email");l.hide(),d.hide(),u.hide(),s.find(".sih-modal__title").text("".concat(SIHLang.subscribeAds.modal.second_title," ").concat(e?", ".concat(e):"")),i?c.val()!==i&&""!==c.val()||(c.val("".concat(i)),s.find(".sih-modal__buttons_email").css("display","flex"),c.focus()):c.focus(),o.find(".payment__input").each((function(t,e){var n=$J(e);if(n.prop("checked"))switch(n.data("name").toLowerCase()){case"stripe":_.text(SIHLang.subscribeAds.modal.complete_payment_stripe);break;case"gamemoney":_.text(SIHLang.subscribeAds.modal.complete_payment_gamemoney);break;default:_.text(SIHLang.subscribeAds.modal.complete_payment)}})),sendEmailAction(n,r)}function enterEmail_loadHtml(){var t=$J(".sih-pagecontent").find(".sih-subscribe-ads"),e='\n    <div class="sih-modal sih-global enter-email-tab">\n      <div class="sih-modal__row gap-10 sih-modal__back sih-modal__back-selecting">\n        <span class="sih-modal__back_icon"></span>\n        <span class="sih-modal__text sih-modal__text_md">'.concat(SIHLang.subscribeAds.modal.back,'</span>\n      </div>\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner mt-20">\n        <h2 class="sih-modal__title"></h2>\n        <p class="sih-modal__text sih-modal__text_md">').concat(SIHLang.subscribeAds.modal.text_3,'</p>\n        <div class="sih-modal__row">\n          <label class="sih-modal__column w-328 gap-12" for="sih-email">\n            <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"\n              >').concat(SIHLang.subscribeAds.modal.text_4,'</span\n            >\n            <input type="text" class="sih-modal__input" id="sih-email" placeholder="example@mail.com" />\n          </label>\n          <div class="sih-modal__buttons sih-modal__buttons_email">\n            <button class="sih-modal__button sih-modal__edit-email">').concat(SIHLang.subscribeAds.modal.edit,'</button>\n            <button class="sih-modal__button sih-modal__button_blue sih-modal__save-email">\n              ').concat(SIHLang.subscribeAds.modal.save,'\n            </button>\n            <button class="sih-modal__button sih-modal__cancel-email">').concat(SIHLang.subscribeAds.modal.cancel,'</button>\n          </div>\n        </div>\n        <div class="sih-modal__error"></div>\n        <div class="sih-modal__buttons">\n          <button class="sih-modal__button sih-modal__button_blue px-24 py-16 sih-modal__button-send-email">\n            ').concat(SIHLang.subscribeAds.modal.complete_payment,"\n          </button>\n        </div>\n      </div>\n    </div>\n  ");t.find(".enter-email-tab").length||t.append(e)}function enterEmail_modalListeners(){enterEmail_buttonsActions()}function enterEmail_buttonsActions(){enterEmail_modalPaginationBack(),sendEmailOnEnterAction(),editEmailAction(),cancelEmailAction(),saveEmailAction()}function sendEmailAction(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=$J(".sih-subscribe-ads"),r=n.find(".sih-modal__error");n.find(".sih-modal__button-send-email").off("click").click($J.debounce(300,(function(){var i=this;$J(this).addClass("animated-background-btn");var a=r.find(".sih-modal__error_message"),o=n.find("#sih-email").val();validateEmail(o)?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_EMAIL_SIH_APP",data:{email:o}},(function(n){if(n.success){if(!t)return void sih_app_global_service.A.errorHandler($J(i),r,a,"Please, select method");e?sih_app_global_service.A.getLinkForInvoice(e>1?e:1,t).then((function(t){t&&t.success&&t.url?($J(i).removeClass("animated-background-btn"),SetModalSubscribeToDefaultState(),window.open(t.url,"_blank")):t.hasOwnProperty("error")?sih_app_global_service.A.errorHandler($J(i),r,a,t.error):sih_app_global_service.A.errorHandler($J(i),r,a)})):chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:t}},(function(t){t.success?($J(i).removeClass("animated-background-btn"),SetModalSubscribeToDefaultState(),t.url&&window.open(t.url,"_blank")):t.hasOwnProperty("error")?sih_app_global_service.A.errorHandler($J(i),r,a,t.error):sih_app_global_service.A.errorHandler($J(i),r,a)}))}else n.hasOwnProperty("authorization")?sih_app_global_service.A.errorHandler($J(i),r,a):sih_app_global_service.A.errorHandler($J(i),r,a,n.error)})):sih_app_global_service.A.errorHandler($J(this),r,a,"Invalid email")})))}function editEmailAction(){var t=$J(".sih-subscribe-ads"),e=t.find(".sih-modal__edit-email"),n=t.find(".sih-modal__save-email"),r=t.find(".sih-modal__cancel-email"),i=t.find(".sih-modal__button-send-email"),a=t.find("#sih-email");e.click((function(){a.attr("disabled",!1),a.focus(),e.hide(),n.show(),r.show(),i.attr("disabled",!0)}))}function cancelEmailAction(){var t=$J(".sih-subscribe-ads"),e=t.find(".sih-modal__cancel-email"),n=t.find(".sih-modal__edit-email"),r=t.find(".sih-modal__save-email"),i=t.find(".sih-modal__button-send-email"),a=t.find("#sih-email");e.click((function(){a.attr("disabled",!0),a.focus(),e.hide(),r.hide(),n.show(),i.attr("disabled",!1)}))}function saveEmailAction(){var t=$J(".sih-subscribe-ads"),e=t.find(".sih-modal__save-email"),n=t.find(".sih-modal__cancel-email"),r=t.find(".sih-modal__edit-email"),i=t.find(".sih-modal__button-send-email"),a=t.find("#sih-email"),o=t.find(".sih-modal__error");e.click((function(){var t=this,s=o.find(".sih-modal__error_message");chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_DELETE_EMAIL_SIH_APP"},(function(c){c.hasOwnProperty("error")?sih_app_global_service.A.errorHandler($J(t),o,s,c.error):(a.attr("disabled",!0),a.focus(),n.hide(),e.hide(),r.show(),i.attr("disabled",!1))}))}))}function sendEmailOnEnterAction(){var t=$J(".sih-subscribe-ads").find(".sih-modal__button-send-email");1===$J(".selecting-plan-tab:visible").length&&$J(document).keydown($J.debounce(300,(function(e){13===e.keyCode&&(e.stopPropagation(),t.trigger("click"))})))}function enterEmail_modalPaginationBack(){var t=$J(".sih-subscribe-ads");t.find(".sih-modal__back-selecting").click((function(){$J(".enter-email-tab").hide(),$J(".selecting-plan-tab").show(),t.find(".sih-modal__error").children().remove()}))}function validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}function paymentMethods_slicedToArray(t,e){return paymentMethods_arrayWithHoles(t)||paymentMethods_iterableToArrayLimit(t,e)||paymentMethods_unsupportedIterableToArray(t,e)||paymentMethods_nonIterableRest()}function paymentMethods_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function paymentMethods_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return paymentMethods_arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?paymentMethods_arrayLikeToArray(t,e):void 0}}function paymentMethods_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function paymentMethods_iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function paymentMethods_arrayWithHoles(t){if(Array.isArray(t))return t}var GROUP_METHODS={skins:["skinsback"],bank:["card","sberbank"],crypt:["bitcoin","ethereum","tether","tron","polygon","monero","ton","litecoin","dogecoin","dash","binance","chaingpt"],wallet:["yandex"]};function LoadPaymentMethods(){paymentMethods_loadHtml(),renderActiveMethodsAction()}function UpdatePaymentMethods(){var t=$J(".refill-sih-balance").find(".payment-methods").find(".payment-methods__item");sih_app_global_service.A.getSubscribeAdsMethods().then((function(e){t.each((function(t,n){var r=$J(n),i=r.find(".payment-methods__item_text"),a=getFilterParams(r.data("method")),o=getFilterMethods(e,a);if(o.length){r.removeClass("hidden");var s=o.map((function(t){return t.title})).filter((function(t){return t}));if(!s.length)return;if(s.length<=2){var c=s.join(",");i.text(c)}else{var l=s.slice(0,2).join(","),d=s.slice(2,s.length),u="".concat(l," ").concat(SIHLang.refillBalance.and," ").concat(d.length," ").concat(SIHLang.refillBalance.more_currencies);i.text(u)}}else r.addClass("hidden")}))}))}function paymentMethods_loadHtml(){var t=$J(".refill-sih-balance").find(".refill-sih-balance__payment-methods"),e='\n    <div class="payment-methods">\n      <div class="payment-methods__item hidden" data-method="bank">\n        <div class="sih-modal__row justify-between items-center">\n          <div class="sih-modal__row items-center gap-20">\n            <div class="payment-methods__icon">\n              <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M18 0H2C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2V14C0 14.5304 0.210714 15.0391 0.585786 15.4142C0.960859 15.7893 1.46957 16 2 16H18C18.5304 16 19.0391 15.7893 19.4142 15.4142C19.7893 15.0391 20 14.5304 20 14V2C20 1.46957 19.7893 0.960859 19.4142 0.585786C19.0391 0.210714 18.5304 0 18 0ZM18 7H2V4H18V7Z"\n                  fill="white"\n                />\n              </svg>\n            </div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold"\n                >'.concat(SIHLang.refillBalance.bank_title,'</span\n              >\n              <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__row">\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n                fill="#6F7F8A"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n      <div class="payment-methods__item hidden" data-method="crypt">\n        <div class="sih-modal__row justify-between items-center">\n          <div class="sih-modal__row items-center gap-20">\n            <div class="payment-methods__icon">\n              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M12.24 8.55967C11.93 9.79967 10 9.16967 9.4 8.99967L9.95 6.81967C10.57 6.99967 12.56 7.25967 12.24 8.55967ZM9.13 10.1197L8.53 12.5297C9.27 12.7197 11.56 13.4497 11.9 12.0897C12.26 10.6697 9.87 10.2997 9.13 10.1197ZM19.7 12.4197C18.36 17.7797 12.94 21.0397 7.58 19.6997C2.22 18.3597 -1.037 12.9397 0.300001 7.57967C1.64 2.21967 7.06 -1.03633 12.42 0.299674C17.77 1.63967 21.03 7.05967 19.7 12.4197ZM12.21 6.04967L12.66 4.24967L11.56 3.99967L11.12 5.72967C10.83 5.65967 10.54 5.58967 10.24 5.52967L10.68 3.75967L9.59 3.49967L9.14 5.28967C8.9 5.22967 8.66 5.17967 8.44 5.11967L6.93 4.73967L6.63 5.90967C6.63 5.90967 7.45 6.09967 7.43 6.10967C7.88 6.21967 7.96 6.49967 7.94 6.74967L6.71 11.6797C6.66 11.8197 6.5 11.9997 6.21 11.9497C6.22 11.9597 5.41 11.7497 5.41 11.7497L4.87 12.9997L6.29 13.3597C6.56 13.4297 6.82 13.4997 7.08 13.5597L6.62 15.3797L7.72 15.6597L8.17 13.8497C8.47 13.9297 8.76 13.9997 9.04 14.0797L8.59 15.8697L9.69 16.1497L10.15 14.3297C12 14.6797 13.42 14.5397 14 12.8497C14.5 11.4997 14 10.6997 13 10.1897C13.72 9.99967 14.26 9.54967 14.41 8.56967C14.61 7.23967 13.59 6.52967 12.21 6.04967Z"\n                  fill="white"\n                />\n              </svg>\n            </div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold"\n                >').concat(SIHLang.refillBalance.crypt_title,'</span\n              >\n              <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__row">\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n                fill="#6F7F8A"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n      <div class="payment-methods__item hidden" data-method="wallet">\n        <div class="sih-modal__row justify-between items-center">\n          <div class="sih-modal__row items-center gap-20">\n            <div class="payment-methods__icon">\n              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M14 0H4C1.79 0 0 1.79 0 4V14C0 16.21 1.79 18 4 18H16C17.11 18 18 17.11 18 16V6C18 4.9 17.11 4 16 4V2C16 0.9 15.11 0 14 0ZM14 2V4H4C3.27 4 2.59 4.2 2 4.54V4C2 2.9 2.9 2 4 2M12.5 12.5C11.67 12.5 11 11.83 11 11C11 10.17 11.67 9.5 12.5 9.5C13.33 9.5 14 10.17 14 11C14 11.83 13.33 12.5 12.5 12.5Z"\n                  fill="white"\n                />\n              </svg>\n            </div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold"\n                >').concat(SIHLang.refillBalance.wallet_title,'</span\n              >\n              <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__row">\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n                fill="#6F7F8A"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  ');t.find(".payment-methods").length||t.append(e)}function renderActiveMethodsAction(){$J(".refill-sih-balance").find(".payment-methods").find(".payment-methods__item").each((function(t,e){$J(e).off("click").click((function(){var t=$J(this).data("method");sih_app_global_service.A.getSubscribeAdsMethods().then((function(e){renderMethodList(getGroupMethods(getFilterMethods(e,getFilterParams(t)),GROUP_METHODS[t]),t,"main")}))}))}))}function renderMethodList(t,e,n){var r=$J(".refill-sih-balance").find(".refill-sih-balance__inner"),i=r.find(".refill-sih-balance__tab"),a=$J('\n    <div\n      class="refill-sih-balance__tab '.concat(e,' sih-modal__column"\n      data-title="').concat(e,'"\n      data-prev-title="').concat(n,'"\n    >\n      <div class="sih-modal__column mb-35">\n        <span class="sih-modal__title text-capitalize"\n          >').concat(SIHLang.refillBalance["".concat(e,"_title")]?SIHLang.refillBalance["".concat(e,"_title")]:e,'</span\n        >\n      </div>\n      <div class="refill-sih-balance__tab-content"></div>\n    </div>\n  '));t.sort((function(t,e){Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]);var n=groupSort(t,"title"),r=groupSort(e,"title");return n[0].local_title===r[0].local_title?0:n[0].local_title<r[0].local_title?-1:1})).forEach((function(t){if(Array.isArray(t)||(t=[t]),t.length>1){var n=$J('\n        <a\n          href="javascript:void(0)"\n          class="refill-sih-balance__method refill-sih-balance__new-tab sih-modal__row items-center justify-between"\n        >\n          <span class="sih-modal__text text-capitalize sih-modal__text_lg sih-modal__text_extra-bold"\n            >'.concat(t[0].local_title,'</span\n          >\n          <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n              fill="#6F7F8A"\n            />\n          </svg>\n        </a>\n      '));a.find(".refill-sih-balance__tab-content").append(n),n.off("click").click((function(){r.find(".refill-sih-balance__tab").hide(),renderMethodList(t,t[0].local_title,e)}))}else a.find(".refill-sih-balance__tab-content").append('\n        <a\n          href="javascript:void(0)"\n          class="refill-sih-balance__method refill-sih-balance__payment-link sih-modal__row"\n          data-payment-id="'.concat(t[0].id,'"\n        >\n          <span class="sih-modal__text sih-modal__text_capitalize sih-modal__text_lg sih-modal__text_extra-bold"\n            >').concat(t[0].title,"</span\n          >\n        </a>\n      "))})),i.hide();var o=r.find(".refill-sih-balance__tab.".concat(e));o.length?(o.remove(),r.append(a)):r.append(a),goToPaymentAction()}function goToPaymentAction(){var t=$J(".refill-sih-balance");t.find(".refill-sih-balance__payment-link").each((function(e,n){$J(n).off("click").click((function(){ShowRefillLoader();var e=$J(this).data("payment-id"),n=+t.attr("data-refill-amount"),r={paymentId:e,amount:Math.ceil(1e3*(.01*n+n))/1e3};sih_app_global_service.A.getLoginSihAppUser().then((function(t){CloseRefillSIHBalance(),OpenEmailTabInModal(r,t.user.email)}))}))}))}function getFilterParams(t){var e={},n=utils.zc.get("SIH_REFILL_BALANCE")||{},r="rus"===(n.country?n.country:"usa")?"rub":"usd";switch(t){case"crypt":e={payment_system:"cryptomus"};break;case"bank":e={method_name:GROUP_METHODS[t],currency:r};break;case"wallet":e={method_name:GROUP_METHODS[t],currency:r}}return e}function getFilterMethods(t,e){return t&&t.length&&e?t.reduce((function(t,n){return t.push(n),Object.entries(e).forEach((function(e){var n=paymentMethods_slicedToArray(e,2),r=n[0],i=n[1];t=Array.isArray(i)?t.filter((function(t){return t.is_enabled&&i.includes(t[r])})):t.filter((function(t){return t.is_enabled&&t[r]===i}))})),t}),[]):[]}function getGroupMethods(t,e){return e.map((function(e){return t.map((function(t){if(t.method_name.match(e))return t.local_title=e,t})).filter((function(t){return t}))})).filter((function(t){return t.length}))}function groupSort(t,e){return t.sort((function(t,n){return t[e]===n[e]?0:t[e]<n[e]?-1:1}))}var Constants=__webpack_require__(1029);function LoadSelectCountry(){selectCountry_loadHtml()}function selectCountry_loadHtml(){var t=$J(".refill-sih-balance").find(".refill-sih-balance__select-country-outer");t.find("#refill-sih-balance__select-country").length||t.append('<select id="refill-sih-balance__select-country"></select>'),renderSelectCountry()}function renderSelectCountry(){var t=$J(".refill-sih-balance").find("#refill-sih-balance__select-country");$J.each(Constants.A.countries,(function(e,n){t.append('<option class="flag-icon flag-icon-'.concat(e,' flag-icon-squared" data-country="').concat(e,'">\n        <span>').concat(n,"</span>\n      </option>"))})),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(t,e){var n=$J(e.element).attr("data-country"),r=$J("<li>",{class:"refill-sih-balance__select-option",value:e.element.attr("value")}).attr("data-country","".concat(n)),i=$J("<span>",{class:e.element.attr("class")}),a=$J("<span>",{text:e.label});return a.prepend(i),r.append(a).appendTo(t)}}),$J("#refill-sih-balance__select-country").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(t,e){$J(this).css(t),$J(this).addClass("refill-sih-balance__widget_content")}}}),setCountryButtonActiveState(),setCountryOptionActiveState(),changeCountry()}function setCountryButtonActiveState(){var t=utils.zc.get("SIH_REFILL_BALANCE")||{},e=t.country?t.country:"usa",n=$J("#refill-sih-balance__select-country-button").find(".ui-selectmenu-text");n.before('<span class="flag-icon flag-icon-'.concat(e,' flag-icon-squared"></span')),n.text(Constants.A.countries[e])}function setCountryOptionActiveState(){$J("#refill-sih-balance__select-country-button").click((function(){var t=utils.zc.get("SIH_REFILL_BALANCE")||{},e=t.country?t.country:"usa";$J("#refill-sih-balance__select-country-menu").find(".refill-sih-balance__select-option").each((function(t,n){var r=$J(n),i=r.find(".ui-menu-item-wrapper");i.removeClass("ui-state-active"),r.data("country")===e&&i.addClass("ui-state-active")}))}))}function changeCountry(){$J("#refill-sih-balance__select-country-button").click((function(){var t=$J(this);$J(".refill-sih-balance__widget_content").find(".refill-sih-balance__select-option").each((function(e,n){$J(n).off("click").click((function(){var e=$J(this).data("country");t.find(".flag-icon").remove();var n=utils.zc.get("SIH_REFILL_BALANCE")||{};n.country=e,utils.zc.set("SIH_REFILL_BALANCE",n),setCountryButtonActiveState(),UpdatePaymentMethods(),SetRefillAmount()}))}))}))}function refillSihBalance_LoadRefillSIHBalance(){refillSihBalance_loadHtml(),LoadSelectCountry(),LoadPaymentMethods(),modalActionListeners()}function SetRefillAmount(){var t=$J(".refill-sih-balance"),e=+t.attr("data-refill-amount"),n=utils.zc.get("SIH_REFILL_BALANCE")||{},r="rus"===(n.country?n.country:"usa")?5:1,i=currency_service.A.getPriceFromCurrency(e,r).text;t.find(".refill-sih-balance__refill-amount").text(i)}function ShowRefillLoader(){var t=$J(".refill-sih-balance");t.find(".refill-sih-balance__inner").hide(),t.find(".sih-modal__inner.sih-loader").css("display","flex").show()}function HideRefillLoader(){var t=$J(".refill-sih-balance");t.find(".refill-sih-balance__inner").css("display","flex").show(),t.find(".sih-modal__inner.sih-loader").hide()}function CloseRefillSIHBalance(){$J(".refill-sih-balance").hide().remove(),$J("body").css("overflow","auto"),refillSihBalance_LoadRefillSIHBalance()}function refillSihBalance_loadHtml(){var t=$J("body"),e=$J('\n    <div class="refill-sih-balance">\n      <div class="refill-sih-balance__fade"></div>\n      <div class="sih-modal sih-global refill-sih-balance__modal">\n        <div class="refill-sih-balance__close"></div>\n        <div class="refill-sih-balance__content">\n          <div class="sih-modal__row gap-10 sih-modal__back sih-modal__back-info mb-20">\n            <span class="sih-modal__back_icon"></span>\n            <span class="sih-modal__text sih-modal__text_md">'.concat(SIHLang.subscribeAds.modal.back,'</span>\n          </div>\n          <div class="sih-modal__inner refill-sih-balance__inner">\n            <div class="refill-sih-balance__tab sih-modal__column gap-20" data-title="main">\n              <div class="sih-modal__column">\n                <span class="sih-modal__title">').concat(SIHLang.refillBalance.title,'</span>\n                <div class="sih-modal__row refill-sih-balance__subtitle gap-5">\n                  <span>').concat(SIHLang.refillBalance.subtitle,'</span>\n                  <span class="refill-sih-balance__refill-amount"></span>\n                </div>\n              </div>\n\n              <div class="sih-modal__column gap-10">\n                <span class="sih-modal__text sih-modal__text_lg">').concat(SIHLang.refillBalance.payment_country,':</span>\n                <div class="sih-modal__row refill-sih-balance__select-country-outer"></div>\n              </div>\n\n              <div class="sih-modal__column">\n                <span class="sih-modal__text sih-modal__text_lg">').concat(SIHLang.refillBalance.payment_method,':</span>\n                <div class="sih-modal__row refill-sih-balance__payment-methods mt-10"></div>\n              </div>\n            </div>\n          </div>\n          <div class="sih-modal__inner sih-loader">\n            <div class="sih-logo-loader"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  '));t.find(".refill-sih-balance").length||t.append(e);var n=utils.zc.get("SIH_REFILL_BALANCE")||{};n&&n.readRefillTerms||renderInfoMessage(e)}function renderInfoMessage(t){var e=t.find(".refill-sih-balance__modal"),n=$J('\n    <div\n      class="refill-sih-balance__info-message sih-modal__column w-100per h-100per absolute left-0 bottom-0 justify-end bg-glass"\n    >\n      <div class="sih-modal__column bg-main gap-15 px-36 py-36 items-start rounded-b-8">\n        <span class="title">'.concat(SIHLang.refillBalance.info_message.title,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.refillBalance.info_message.text_1,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.refillBalance.info_message.text_2,'</span>\n        <div class="sih-modal__text sih-modal__text_md">\n          ').concat(SIHLang.refillBalance.info_message.text_3,'\n          <a\n            href="https://sih.app/user/subscription"\n            target="_blank"\n            class="sih-modal__text_blue text-decoration-underline hover-opacity-8"\n            >https://sih.app/user/subscription</a\n          >\n        </div>\n        <div class="sih-modal__row items-center gap-20">\n          <a href="javascript:void(0)" class="close-info-message sih-modal__button sih-modal__button_blue py-16 px-24"\n            >').concat(SIHLang.refillBalance.info_message.btn_text,'</a\n          >\n          <label class="sih-modal__refill-terms" for="refill-terms">\n            <input type="checkbox" name="refill-terms" id="refill-terms" class="sih-modal__input_hidden" />\n            <label class="fake-checkbox" for="refill-terms"></label>\n            <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.refillBalance.info_message.refill_terms,"</span>\n          </label>\n        </div>\n      </div>\n    </div>\n  ")),r=e.find(".refill-sih-balance__info-message");r.length?r.show():e.append(n),e.find(".close-info-message").click((function(){e.find(".refill-sih-balance__info-message").hide()})),n.find("#refill-terms").change((function(){var t=$J(this).is(":checked"),e=utils.zc.get("SIH_REFILL_BALANCE")||{};e.readRefillTerms=t,utils.zc.set("SIH_REFILL_BALANCE",e)}))}function modalActionListeners(){closeModalListenerAction(),goToBackModal()}function closeModalListenerAction(){var t=$J(".refill-sih-balance");t.find(".refill-sih-balance__close").off("click").click((function(){CloseRefillSIHBalance()})),t.find(".refill-sih-balance__fade").off("click").click((function(){CloseRefillSIHBalance()}))}function goToBackModal(){var t=$J(".refill-sih-balance"),e=t.find(".refill-sih-balance__inner");t.find(".sih-modal__back").off("click").click((function(){var n=e.find(".refill-sih-balance__tab:visible"),r=n.data("prev-title");r?(n.hide(),e.find(".refill-sih-balance__tab").each((function(t,e){var n=$J(e);n.data("title")===r&&n.css("display","flex").show()}))):t.hide()}))}function setDefaultRefillTab(){$J(".refill-sih-balance").find(".refill-sih-balance__tab").each((function(t,e){var n=$J(e);"main"===n.data("title")?n.css("display","flex").show():n.hide()}))}var notificationPanel_debounce=null;function notificationPanel_LoadNotificationPanel(){notificationPanel_loadHtml(),panelListenerActions()}function notificationPanel_loadHtml(){var t=$J("body"),e='\n    <div id="sih-notification-panel">\n      <div class="notification-panel__fade"></div>\n      <div class="notification-panel sih-global">\n        <div class="row justify-between px-24">\n          <div class="notification-panel__title row gap-16 items-baseline">\n            <span class="text fs-16">'.concat(SIHLang.notifications.title,'</span>\n          </div>\n\n          <div class="notification-panel__close"></div>\n        </div>\n        <div class="notification-panel__header">\n          <div class="filter row gap-8">\n            <label for="notification-panel__filter-success" class="filter__label">\n              <input\n                type="checkbox"\n                id="notification-panel__filter-success"\n                class="filter__input"\n                data-filter="success"\n                checked\n              />\n              <div class="filter__item success">\n                <div class="row w-6 h-6 rounded-50per bg-green"></div>\n                <div class="filter__count text fs-12 lh-12"></div>\n              </div>\n            </label>\n            <label for="notification-panel__filter-error" class="filter__label">\n              <input\n                type="checkbox"\n                id="notification-panel__filter-error"\n                class="filter__input"\n                data-filter="error"\n                checked\n              />\n              <div class="filter__item error">\n                <div class="row w-6 h-6 rounded-50per bg-red"></div>\n                <div class="filter__count text fs-12 lh-12"></div>\n              </div>\n            </label>\n          </div>\n        </div>\n        <div class="notification-panel__content column"></div>\n      </div>\n    </div>\n  ');t.find("#sih-notification-panel").length||t.append(e)}function panelListenerActions(){openPanelAction(),closePanelAction()}function openPanelAction(){var t=$J("#sih-notification-panel");$J("#sih-header-notifications").off("click").click((function(){$J("body").css("overflow","hidden"),t.css("display","flex"),setTimeout((function(){t.find(".notification-panel").css({transform:"translateX(0)"})}),100),renderLogItems().then((function(){UpdateHeaderNotificationIndicator(),setItemsCount(),filterAction(),initReadAllNotification(),manualLoadHistoryLogs(),notificationPanel_showKeysSuccessBtnClick()})),registerOpenNotificationClick()}))}function closePanelAction(){var t=$J("#sih-notification-panel");function e(){t.find(".notification-panel").css({transform:"translateX(100%)"}),setTimeout((function(){t.hide(),$J("body").css("overflow","auto")}),300)}t.find(".notification-panel__close").off("click").click((function(){e()})),t.find(".notification-panel__fade").off("click").click((function(){e()}))}function renderLogItems(){var t=$J("#sih-notification-panel"),e=t.find(".notification-panel__content");return t.find(".notification-panel__content").children().remove(),new Promise((function(t){SihAppGlobalService.getLogs().then((function(n){if(n)SihAppGlobalService.getUserSihApp().then((function(r){SihAppGlobalService.getLoginSihAppUser().then((function(i){if(i.success&&i.tfaNeed&&($J("#sih-notification-panel").find(".notification-panel__close").trigger("click"),$J("#sih-enter-password").attr("data-show-modal","notification-panel").show()),n.length&&r.success){var a=(new Date).toDateString();n.sort((function(t,e){return new Date(e.date).getTime()-new Date(t.date).getTime()})).forEach((function(t,n){e.append('\n                    <div class="notification-panel__group notification-panel__group-'.concat(n,'">\n                      <div class="notification-panel__date-splitter">\n                        <div class="notification-panel__date-splitter_text">\n                          ').concat(a===t.date?"".concat(SIHLang.notifications.today):t.date.slice(4,10),"\n                        </div>\n                      </div>\n                    </div>\n                  ")),t.items.sort((function(t,e){return e.createdAt-t.createdAt})).forEach((function(t){var r=new Date(t.createdAt).getHours(),i=new Date(t.createdAt).getMinutes(),a=SihAppGlobalService.getLogTemplateByGroup(t.data),o='\n                        <div\n                          class="notification-panel__item '.concat(t.isRead?"":"new",'"\n                          data-filter="').concat(t.data.success?"success":"error",'"\n                        >\n                          <div class="row items-center gap-14">\n                            <div class="row w-6 h-6 rounded-50per ').concat(t.data.success?"bg-green":"bg-red",'"></div>\n                            <div class="text text_grey">\n                              ').concat(r<10?"0".concat(r):r,":").concat(i<10?"0".concat(i):i,"\n                            </div>\n                          </div>\n\n                          ").concat(a,"\n                        </div>\n                      ");e.find(".notification-panel__group-".concat(n)).append(o)}))})),t()}else{var o='\n                <div class="column w-100per h-100per items-center justify-center">\n                  <div class="notification-panel__plug text">'.concat(SIHLang.notifications.no_notifications,"</div>\n                  ").concat(Array.isArray(n)?"":'\n                                            <div class="row items-center gap-5">\n                                                <span class="text">'.concat(SIHLang.notifications.missing_notifications,'</span>\n                                                <a id="upload-notification-logs" class="text text_blue hover-opacity-8" href="javascript:void(0)">').concat(SIHLang.notifications.download,"</a>\n                                            </div>\n                                        "),"\n                </div>\n              ");e.append(o),t()}}))}));else{var r='\n          <div class="column w-100per h-100per items-center justify-center">\n            <div class="notification-panel__plug text">'.concat(SIHLang.notifications.no_notifications,"</div>\n          </div>\n        ");e.append(r),t()}}))}))}function setItemsCount(){var t=$J("#sih-notification-panel"),e=t.find(".notification-panel__header").find(".filter"),n=e.find(".filter__item.success").find(".filter__count"),r=e.find(".filter__item.error").find(".filter__count"),i=t.find(".notification-panel__content").find(".notification-panel__item"),a=0,o=0;i.each((function(t,e){switch($J(e).data("filter")){case"success":a+=1;break;case"error":o+=1}})),n.text(a),r.text(o)}function filterAction(){var t=$J("#sih-notification-panel").find(".filter").find(".filter__label"),e=[];t.each((function(n,r){$J(r).find(".filter__input").change((function(){t.each((function(t,n){var r=$J(n).find(".filter__input"),i=r.data("filter");if(r.is(":checked"))e.length&&e.includes(i)||e.push(i);else{var a=e.findIndex((function(t){return t===i}));-1!==a&&e.splice(a,1)}})),e.length||t.find(".filter__input").prop("checked",!0),sortItems(e)}))}))}function sortItems(t){$J("#sih-notification-panel").find(".notification-panel__content").find(".notification-panel__group").each((function(e,n){var r=$J(n),i=r.find(".notification-panel__item"),a=0;i.each((function(e,n){var r=$J(n),i=r.data("filter");t.length&&!t.includes(i)?r.hide():(a++,r.css("display","grid"))})),a?r.css("display","grid"):r.hide()}))}function initReadAllNotification(){var t=$J("#sih-notification-panel"),e=$J(".notification-panel__title"),n=e.find(".notification-panel__read");SihAppGlobalService.getLogs().then((function(r){if(r&&r.length)if(IsAllNotificationRead(r).isAllRead)n.length&&n.hide();else{if(n.length)n.css("display","flex").hide().fadeIn();else{var i='\n            <a href="javascript:void(0)" class="notification-panel__read text text_blue fs-12 hover-opacity-8"\n              >'.concat(SIHLang.notifications.mark_read,"</a\n            >\n          ");e.append(i)}t.find(".notification-panel__read").off("click").click((function(){var e=$J(this);SihAppGlobalService.readAllNotification().then((function(n){n&&n.length&&(UpdateHeaderNotificationIndicator(),e.hide(),t.find(".notification-panel__item").removeClass("new"))}))}))}else n.length&&n.hide()}))}function manualLoadHistoryLogs(){$J("#upload-notification-logs").off("click").click((function(){clearTimeout(notificationPanel_debounce),notificationPanel_debounce=setTimeout((function(){SihAppGlobalService.getUserOrdersHistory(!1).then((function(){renderLogItems().then((function(){UpdateHeaderNotificationIndicator(),setItemsCount(),filterAction(),initReadAllNotification(),manualLoadHistoryLogs(),notificationPanel_showKeysSuccessBtnClick()}))}))}),300)}))}function notificationPanel_showKeysSuccessBtnClick(){$J(".key-notification-btn").off("click").click((function(){var t=JSON.parse(decodeURIComponent($J(this).attr("data-key-info")));$J("#sih-notification-panel .notification-panel__close").click(),setTimeout((function(){RenderSIHKeysSuccessModal(t)}),300)}))}var ALARM_NOTIFICATION_INTERVAL=null;function notifications_LoadNotifications(){notifications_loadHtml()}function notifications_UpdateHeaderNotificationIndicator(){var t=$J("#sih-header-notifications"),e=t.find(".sih-header-notifications__indicator");SihAppGlobalService.getLogs().then((function(n){if(n&&n.length){var r=notifications_IsAllNotificationRead(n),i=r.isAllRead,a=r.unreadNotification;i?(t.attr("data-sih-unread",!1),e.text("")):(t.attr("data-sih-unread",!0),e.text(a.length<=9?a.length:"9+"))}else t.attr("data-sih-unread",!1),e.text("")}))}function notifications_IsAllNotificationRead(t){var e=!0,n=Array.isArray(t)?t.reduce((function(t,n){return n.items.forEach((function(n){n.isRead||(t.push(n),e=!1)})),t}),[]):[];return{isAllRead:e,unreadNotification:n}}var notifications_loadHtml=function(){var t=$J("#global_actions").find(".sih-global-menu__icons");SihAppGlobalService.getLogs().then((function(e){var n=0;if(e&&e.length){var r=notifications_IsAllNotificationRead(e),i=r.isAllRead,a=r.unreadNotification;i||(n=a.length)}var o='\n      <a href="javascript:void(0)" id="sih-header-notifications" class="sih-header-notifications sih-global-menu__icon">\n        <span class="sih-header-notifications__inner">\n          <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M8 20C9.1 20 10 19.1 10 18H6C6 19.1 6.89 20 8 20ZM14 14V9C14 5.93 12.36 3.36 9.5 2.68V2C9.5 1.17 8.83 0.5 8 0.5C7.17 0.5 6.5 1.17 6.5 2V2.68C3.63 3.36 2 5.92 2 9V14L0 16V17H16V16L14 14Z"\n              fill="currentColor"\n            />\n          </svg>\n          <span class="sih-header-notifications__indicator">\n            '.concat(0===n?"":n<=9?n:"9+","\n          </span>\n        </span>\n      </a>\n    ");t.find("#sih-header-notifications").length||t.append(o),loadNotificationIndication(),alarmNotification(),LoadNotificationPanel(),notifications_UpdateHeaderNotificationIndicator()}))};function loadNotificationIndication(){SihAppGlobalService.getLogs().then((function(t){t&&t.length&&(notifications_IsAllNotificationRead(t).isAllRead||$J("#sih-header-notifications").attr("data-sih-unread",!0))}))}function alarmNotification(){clearInterval(ALARM_NOTIFICATION_INTERVAL),ALARM_NOTIFICATION_INTERVAL=setInterval((function(){notifications_UpdateHeaderNotificationIndicator()}),1e4)}var steamRefill=__webpack_require__(4426),constants=__webpack_require__(8491),steam_user_info_service=__webpack_require__(3521);function listeners_typeof(t){return listeners_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},listeners_typeof(t)}function listeners_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */listeners_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==listeners_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(listeners_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function listeners_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function listeners_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){listeners_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){listeners_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var listeners_WinnersModalInitListeners=function(){listeners_closeModalAction()},listeners_closeModalAction=function(){var t=$J("#sih-winners-steam-refill");t.on("click",".sih-winners-steam-refill__fade, .sih-modal__close, .sih-winners-steam-refill__close-btn",listeners_asyncToGenerator(listeners_regeneratorRuntime().mark((function e(){return listeners_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hide().remove(),e.next=3,chromeStorage.setLocal("isShowWinners",!0);case 3:case"end":return e.stop()}}),e)}))))};function winnersModal_typeof(t){return winnersModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},winnersModal_typeof(t)}function winnersModal_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */winnersModal_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==winnersModal_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(winnersModal_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function winnersModal_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function winnersModal_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){winnersModal_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){winnersModal_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var steamUserInfoService=new steam_user_info_service.A,END_DATE=1768251599e3,winnersModal_RenderWinnersModal=null,_ref,winnersModal_loadHtml=function(){var t=$J("body"),e=$J('\n    <div id="sih-winners-steam-refill" class="sih-winners-steam-refill">\n      <div class="sih-winners-steam-refill__fade"></div>\n      <div class="sih-modal sih-global sih-winners-steam-refill-modal">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-winners-steam-refill__header">\n            <span class="text fs-32 bold">Системное уведомление SIH</span>\n          </div>\n          <div class="sih-winners-steam-refill__main">\n            <p>\n              <span class="text fs-16 lh-23">\n                Ваш Steam ID есть в списке победителей\n                <a href="https://t.me/sihofficial_ru/2443" target="_blank" class="text_blue"\n                  >новогоднего розыгрыша игр</a\n                >\n                от Steam Inventory Helper\n              </span>\n            </p>\n            <p>\n              <span class="text fs-16 lh-23"\n                >Вы можете получить выигрыш до 12.01.2026 года написав в чат поддержки на нашем сайте\n                <a href="https://sih.app/" target="_blank" class="text_blue">sih.app</a> исключительно с данного\n                аккаунта</span\n              >\n            </p>\n          </div>\n          <div class="sih-winners-steam-refill__close-btn">Понятно</div>\n        </div>\n      </div>\n    </div>\n  ');t.find(".sih-winners-steam-refill").length||t.append(e)},site_steam_refill_service=__webpack_require__(710),refillModal=__webpack_require__(6716);function steamRefill_typeof(t){return steamRefill_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},steamRefill_typeof(t)}function steamRefill_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */steamRefill_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==steamRefill_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(steamRefill_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function steamRefill_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function steamRefill_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){steamRefill_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){steamRefill_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var steamRefill_RenderSteamRefillBtn=null,steamRefill_loadHtml=null,_ref2,steamRefill_listenerActions=function(){var t=$J("#global_header .content").find(".sih-steam-refill-btn");t.off("click").click(steamRefill_asyncToGenerator(steamRefill_regeneratorRuntime().mark((function e(){var n,r,i;return steamRefill_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.find(".sih-steam-refill-btn__worked-plug").remove(),e.next=3,chromeStorage.getLocal("SIH_STEAM_REFILL");case 3:return n=e.sent,r=n.SIH_STEAM_REFILL,(i=void 0===r?{}:r).isViewedWorked=!0,e.next=9,chromeStorage.setLocal("SIH_STEAM_REFILL",i);case 9:return e.next=11,RenderSteamRefillModal();case 11:case"end":return e.stop()}}),e)}))))};function actionMenu_typeof(t){return actionMenu_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},actionMenu_typeof(t)}function actionMenu_toConsumableArray(t){return actionMenu_arrayWithoutHoles(t)||actionMenu_iterableToArray(t)||actionMenu_unsupportedIterableToArray(t)||actionMenu_nonIterableSpread()}function actionMenu_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function actionMenu_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return actionMenu_arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?actionMenu_arrayLikeToArray(t,e):void 0}}function actionMenu_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function actionMenu_arrayWithoutHoles(t){if(Array.isArray(t))return actionMenu_arrayLikeToArray(t)}function actionMenu_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function actionMenu_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */actionMenu_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==actionMenu_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(actionMenu_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function actionMenu_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function actionMenu_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){actionMenu_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){actionMenu_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var HEADER_ORDERS_TIMER_INTERVAL=null,HEADER_ORDERS_TIMESTAMPS=null,actionMenu_TEN_MINUTES=6e5,LoadActionMenu=null;function actionMenu_loadHtml(){return new Promise((function(t){var e=$J("#global_header");e.find("#global_actions").css("display","flex");e.find(".sih-global-menu").length||(e.find("#global_action_menu").before('\n      <div class="sih-global sih-global-menu">\n        <div class="sih-global-menu__icons sih-global-menu__row gap-5">\n          <div id="sih-header-timer" class="sih-global-menu__row">\n            <div class="sih-global-menu__spinner"></div>\n            <div id="sih-header-timer__count" class="pl-5 sih-text"></div>\n          </div>\n          <a href="javascript:void(0)" id="sih-header-orders" class="sih-global-menu__icon">\n            <svg width="20" height="20" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M2 17.4286C2 18.0714 2.25 18.7143 2.75 19.2286C3.25 19.7429 3.875 20 4.5 20V6C3.875 6 3.25 6.25714 2.75 6.77143C2.25 7.28571 2 7.92857 2 8.57143V17.4286ZM13.875 6H10.125C10.125 5.48571 10.25 4.82857 10.625 4.44286C11 4.05714 11.375 3.92857 12 3.92857C12.5 3.92857 13 4.05714 13.375 4.44286C13.625 4.82857 13.875 5.48571 13.875 6ZM5.75 6V20H18.25V6H15.75C15.75 4.97143 15.375 3.92857 14.625 3.15714C13.875 2.38571 13 2 12 2C11 2 10.125 2.38571 9.375 3.15714C8.625 3.92857 8.25 4.97143 8.25 6H5.75ZM19.5 20C20.125 20 20.75 19.7429 21.25 19.2286C21.75 18.7143 22 18.0714 22 17.4286V8.57143C22 7.92857 21.75 7.28571 21.25 6.77143C20.75 6.25714 20.125 6 19.5 6V20Z"\n                fill="currentColor"\n              />\n            </svg>\n          </a>\n          <a href="javascript:void(0)" id="sih-header-cart" class="sih-global-menu__icon">\n            <svg width="20" height="20" viewBox="0 0 22 19" xmlns="http://www.w3.org/2000/svg">\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M16.21 7H21C21.55 7 22 7.45 22 8L21.97 8.27L19.43 17.54C19.19 18.38 18.42 19 17.5 19H4.5C3.58 19 2.81 18.38 2.58 17.54L0.04 8.27C0 8.18 0 8.09 0 8C0 7.45 0.45 7 1 7H5.79L10.17 0.45C10.36 0.16 10.68 0 11 0C11.32 0 11.64 0.16 11.83 0.44L16.21 7ZM13.8 7L11 2.8L8.2 7H13.8Z"\n                fill="currentColor"\n              />\n            </svg>\n          </a>\n        </div>\n      </div>\n    '),e.find(".sih-global-menu").css("display","flex").hide().fadeIn("slow")),setTimeout((function(){return t()}),300)}))}function changeSteamInstallButton(){return new Promise((function(t){$J("#global_header").find(".header_installsteam_btn").find(".header_installsteam_btn_content").addClass("sih_header_installsteam_btn_content").text("&nbsp;"),setTimeout((function(){t()}),300)}))}function renderCartCount(){var t=$J("#sih-header-cart");SihAppGlobalService.getAllBuyStack().then((function(e){var n=SihAppGlobalService.getFilterItemsByStatus(e).length;n&&!t.find(".sih-global-menu__counter").length&&(t.append('<span class="sih-global-menu__counter">'.concat(n,"</span>")),t.addClass("active")),t.find(".sih-global-menu__counter").css("display","flex").hide().fadeIn()}))}function renderActiveOrdersCount(){var t=$J("#sih-header-orders");SihAppGlobalService.getAllBuyStack().then((function(e){SihAppGlobalService.getUserOrdersHistory().then(function(){var n=actionMenu_asyncToGenerator(actionMenu_regeneratorRuntime().mark((function n(r){var i,a,o,s,c;return actionMenu_regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=getJoinedOrders(e,r),a=SihAppGlobalService.getFilterItemsByStatus(i,["new","pending","created","processing","sent"]),n.next=4,SihGameKeysService.getAllKeyOrders(!1);case 4:o=n.sent,s=SihAppGlobalService.getFilterItemsByStatus(o,["created","processing","pending"]),(c=a.length+s.length)&&!t.find(".sih-global-menu__counter").length&&t.append('<span class="sih-global-menu__counter">'.concat(c,"</span>")),c&&(t.find(".sih-global-menu__counter").css("display","flex").hide().fadeIn(),updateHeaderTimer());case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())}))}function getJoinedOrders(t,e){return e.success&&!e.tfaNeed&&e.orders.data.length?[].concat(actionMenu_toConsumableArray(t),actionMenu_toConsumableArray(e.orders.data)):t}function actionMenu_ChangeCartCountHeaderMenu(){var t=$J("#sih-header-cart"),e=t.find(".sih-global-menu__counter");sih_app_global_service.A.getAllBuyStack().then((function(n){var r=sih_app_global_service.A.getFilterItemsByStatus(n).length;r&&!e.length?(t.append('<span class="sih-global-menu__counter">'.concat(r,"</span>")),t.addClass("active").find(".sih-global-menu__counter").css("display","flex").hide().fadeIn()):r&&e.length?(t.addClass("active"),e.text(r),e.css("display","flex").fadeIn()):!r&&e.length&&(e.css("display","flex").fadeOut(),t.removeClass("active"))}))}function ChangeOrdersCountHeaderMenu(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=$J("#sih-header-orders"),n=e.find(".sih-global-menu__counter"),r=$J("#sih-header-timer");$J(".sih-global-menu");sih_app_global_service.A.getAllBuyStack().then((function(i){sih_app_global_service.A.getUserOrdersHistory(t).then(function(){var t=actionMenu_asyncToGenerator(actionMenu_regeneratorRuntime().mark((function t(a){var o,s,c,l,d;return actionMenu_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=getJoinedOrders(i,a),s=sih_app_global_service.A.getFilterItemsByStatus(o,["new","pending","created","processing","sent"]),t.next=4,sih_game_keys_service.getAllKeyOrders(!1);case 4:c=t.sent,l=sih_app_global_service.A.getFilterItemsByStatus(c,["created","processing","pending"]),(d=s.length+l.length)&&!n.length?(e.append('<span class="sih-global-menu__counter">'.concat(d,"</span>")),e.addClass("active").find(".sih-global-menu__counter").css("display","flex").hide().fadeIn(),updateHeaderTimer()):d&&n.length?(e.addClass("active"),n.text(d),n.is(":visible")||n.css("display","flex").fadeIn(),updateHeaderTimer()):!d&&n.length&&(e.removeClass("active"),n.css("display","flex").fadeOut(),r.css("display","flex").fadeOut());case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}function updateHeaderTimer(){var t=$J("#sih-header-orders"),e=t.find(".sih-global-menu__counter"),n=$J("#sih-header-timer"),r=$J("#sih-header-timer__count"),i=$J(".sih-global-menu__spinner"),a=$J("#global_actions");n.is(":visible")||n.css("display","flex").fadeIn(),i.is(":visible")||i.css("display","flex").fadeIn(),t.is(":visible")||t.css("display","flex").fadeIn(),clearInterval(HEADER_ORDERS_TIMER_INTERVAL),HEADER_ORDERS_TIMER_INTERVAL=setInterval((function(){sih_app_global_service.A.getAllBuyStack().then((function(i){sih_app_global_service.A.getUserOrdersHistory().then(function(){var o=actionMenu_asyncToGenerator(actionMenu_regeneratorRuntime().mark((function o(s){var c,l,d,u,_,h,f,m,p,g,v,y,b;return actionMenu_regeneratorRuntime().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c=getJoinedOrders(i,s),l=sih_app_global_service.A.getFilterItemsByStatus(c,["new","pending","created","processing","sent"]),o.next=4,sih_game_keys_service.getAllKeyOrders(!1);case 4:d=o.sent,u=sih_app_global_service.A.getFilterItemsByStatus(d,["created","processing","pending"]),_=sih_app_global_service.A.getFilterItemsByStatus(d,["pending"]),l.length||u.length?(h=l.find((function(t){return t.finishOrderAt})),f=l.map((function(t){return t.createdAt||new Date(t.created_at).getTime()})),(m=sih_app_global_service.A.getFilterItemsByStatus(l,"new")).length&&m.forEach((function(t){new Date(t.created_at).getTime()+actionMenu_TEN_MINUTES-Date.now()<0&&(sih_app_global_service.A.cancelSihAppOrder(t.id),sih_app_global_service.A.updateItemLocalHistoryOrders(t.id).then((function(t){t&&t.success&&ChangeOrdersCountHeaderMenu()})))})),h||_.length?(p=Date.now(),g=[],h&&(v=h.finishOrderAt-p)>0&&g.push(v),_.length&&_.forEach((function(t){var e=new Date(t.timestamp).getTime()+6e5-p;e>0&&g.push(e)})),g.length?(y=Math.min.apply(Math,g),b=new Date(y).toISOString().slice(14,19),r.fadeIn().text(b),a.addClass("with-timer"),n.is(":visible")||(n.css("display","flex").fadeIn(),t.css("display","flex").fadeIn())):(r.fadeOut().text(""),a.removeClass("with-timer"))):u.length?(r.fadeOut().text(""),a.removeClass("with-timer")):JSON.stringify(HEADER_ORDERS_TIMESTAMPS)!==JSON.stringify(f)&&(HEADER_ORDERS_TIMESTAMPS=f,r.fadeOut().text(""),a.removeClass("with-timer"),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),ChangeOrdersCountHeaderMenu())):(clearInterval(HEADER_ORDERS_TIMER_INTERVAL),e.css("display","flex").fadeOut(),r.fadeOut().text(""),n.css("display","flex").fadeOut(),t.removeClass("active").css("display","flex").fadeOut(),a.removeClass("with-timer"),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),ChangeOrdersCountHeaderMenu());case 8:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}())}))}),1e3)}function cartBtn_typeof(t){return cartBtn_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cartBtn_typeof(t)}function cartBtn_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */cartBtn_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==cartBtn_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(cartBtn_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function cartBtn_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function cartBtn_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){cartBtn_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){cartBtn_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var RenderAddToCartButtons=function(t,e){return new Promise((function(n){cartBtn_loadHtml(t,e).then((function(){cartBtn_actionsListener(),n()}))}))},UpdateSihMarketTabBuyStack=function(){var t=$J("#sih-market-listing").find(".sih-market-listing__item");sih_app_global_service.A.getAllBuyStack().then((function(e){t.each((function(t,n){var r=$J(n),i=r.find(".sih-market-listing__name").text(),a=r.find(".sih-market-listing__cart-info"),o=r.find(".sih-market-listing__cart-price"),s=r.find(".sih-market-listing__sih-price").data("itemid"),c=e.find((function(t){return t.itemId||s?t.market_hash_name===i&&t.itemId===s:t.market_hash_name===i}));if(c&&c.status)r.addClass("sih-market-listing__item_processing"),a.text(SIHLang.sihAppMarket.listing_lot.already_in),a.addClass("fs-12 lh-16"),o.text(SIHLang.sihAppMarket.listing_lot.processing),o.addClass("fs-12");else{r.removeClass("sih-market-listing__item_processing"),a.text("".concat(c?SIHLang.sihAppMarket.listing_lot.in_cart:SIHLang.sihAppMarket.listing_lot.buy_for)),a.removeClass("fs-12 lh-16").addClass("fs-10");var l=utils.zc.get("SIH_MARKET_CURRENCY"),d=r.find(".sih-market-listing__sih-price").data("price"),u=(0,global.formatNumberToLocalRu)(d,l||1,1,!1,3);o.text(u),o.removeClass("fs-12")}}));var n=t.find(".sih-market-listing__sih-price");calculatePriceBlockWidth(n)}))},cartBtn_loadHtml=function(t,e){var n=$J("#sih-market-listing"),r=n.find(".sih-market-listing__item");return new Promise((function(i){sih_app_global_service.A.getAllBuyStack().then((function(a){r.each((function(n,r){var i=$J(r),o=a.find((function(e){return e.itemId||t[n].itemId?e.market_hash_name===t[n].item&&+e.itemId==+t[n].itemId:e.market_hash_name===t[n].item})),s=utils.zc.get("SIH_MARKET_CURRENCY"),c=(0,global.formatNumberToLocalRu)(t[n].price,s||1,1,!1,3),l=o&&o.status,d=$J('\n          <div class="sih-market-listing__sih-button">\n            <span\n              class="sih-market-listing__sih-price"\n              data-price="'.concat(t[n].price,'"\n              data-appid="').concat(e,'"\n              data-rarity-color="').concat(t[n].color||"",'"\n              data-itemid="').concat(t[n].id||"",'"\n            >\n              <span class="sih-market-listing__cart-info text ').concat(l?"fs-12 lh-16":"fs-10",'"\n                >').concat("".concat(o?l?SIHLang.sihAppMarket.listing_lot.already_in:SIHLang.sihAppMarket.listing_lot.in_cart:SIHLang.sihAppMarket.listing_lot.buy_for),'</span\n              >\n              <span class="sih-market-listing__cart-price text ').concat(l?"fs-12":"",'"\n                >').concat(l?"".concat(SIHLang.sihAppMarket.listing_lot.processing):c,"</span\n              >\n            </span>\n          </div>\n        ")),u=i.find(".sih-market-listing__steam-price");u.length&&u.after(d),l&&i.addClass("sih-market-listing__item_processing")}));var o=n.find(".sih-market-listing__sih-price");calculatePriceBlockWidth(o),i()}))}))},cartBtn_actionsListener=function(){addToCartAction()},hoverActions=function(){$J("#sih-market-listing").find(".sih-market-listing__sih-button").each((function(t,e){var n=$J(e);n.off("mouseenter").mouseenter((function(){var t=$J(this);t.find(".sih-market-listing__cart-info").text()&&t.find(".sih-market-listing__cart-info").text("".concat(SIHLang.sihAppMarket.global.delete))})),n.off("mouseleave").mouseleave((function(){var t=$J(this);t.find(".sih-market-listing__cart-info").text()&&t.find(".sih-market-listing__cart-info").text("".concat(SIHLang.sihAppMarket.listing_lot.in_cart))}))}))},addToCartAction=function(){$J("#sih-market-listing").find(".sih-market-listing__sih-button").each((function(t,e){$J(e).off("click").click(function(){var t=cartBtn_asyncToGenerator(cartBtn_regeneratorRuntime().mark((function t(e){var n,r,i,a;return cartBtn_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),e.stopPropagation(),t.next=4,RemoveSihMarketOverlay();case 4:n=$J(this).closest(".sih-market-listing__item"),r=n.find(".sih-market-listing__name").text().trim(),i=encodeURIComponent(r),a=n.find(".sih-market-listing__sih-price").data("itemid"),sih_app_global_service.A.getAllItemsBuyStackByName(i).then((function(t){var e=t.find((function(t){return t.itemId||a?t.market_hash_name===r&&t.itemId===a:t.market_hash_name===r}));if(t.length&&e)sih_app_global_service.A.deleteItemFromBuyStack({hashName:i,itemId:a}).then((function(t){UpdateSihMarketTabBuyStack(),actionMenu_ChangeCartCountHeaderMenu()}));else{var o=n.find(".sih-market-listing__sih-price"),s=+o.attr("data-price"),c=n.find(".market_listing_item_img").attr("src"),l=n.find(".market_listing_item_img").css("border-color"),d=n.attr("href"),u=o.data("rarityColor"),_={appId:o.data("appid"),hashName:i,countAdd:1,price:s,image:c,url:d,color:l,rarityColor:u,itemId:a};sih_app_global_service.A.setItemToBuyStack(_).then((function(){UpdateSihMarketTabBuyStack(),actionMenu_ChangeCartCountHeaderMenu(),$J("#sih-header-cart").trigger("click")}))}}));case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}())}))},calculatePriceBlockWidth=function(t){var e=70;t.each((function(t,n){$J(n).css("width","auto");var r=+$J(n).css("width").replace("px","");r>e&&(e=r)})),t.each((function(t,n){$J(n).css("width","".concat(e,"px"))}))};function header_typeof(t){return header_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},header_typeof(t)}function header_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function header_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?header_ownKeys(Object(n),!0).forEach((function(e){header_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):header_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function header_defineProperty(t,e,n){return(e=header_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function header_toPropertyKey(t){var e=header_toPrimitive(t,"string");return"symbol"==header_typeof(e)?e:e+""}function header_toPrimitive(t,e){if("object"!=header_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=header_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var RenderListingHeader=function(){header_loadHtml(),renderCellsTooltip(),header_actionsListener(),setDefaultSortByProfit()},ClearListingSortArrow=function(){$J("#sih-market-listing .sih-market-listing__header .market_listing_right_cell").each((function(t,e){var n=$J(e);"name"===n.attr("data-option")&&n.find(".market_sort_arrow").hide()}))},header_loadHtml=function(){var t=$J("#sih-market-listing"),e=$J('\n    <div class="sih-market-listing__header market_listing_table_header">\n      <div class="market_listing_right_cell pointer-events-none" data-option="name">\n        '.concat(SIHLang.sihAppMarket.topSales.name,'\n      </div>\n      <div class="market_listing_right_cell" data-option="salesWeek">').concat(SIHLang.sihAppMarket.topSales.sales_week,'</div>\n      <div class="market_listing_right_cell" data-option="steam-price">Steam</div>\n      <div class="market_listing_right_cell" data-option="sih-price">').concat(SIHLang.sihAppMarket.topSales.sih_price,'</div>\n      <div\n        class="market_listing_right_cell active"\n        data-option="sih-profit"\n        title="').concat(SIHLang.sihAppMarket.topSales.profit,'"\n      >\n        <span class="sih-profit active" data-option="profitPercent">%</span>\n        <span>/</span>\n        <span class="sih-profit" data-option="profit">$</span>\n      </div>\n    </div>\n  '));g_ActiveInventory||e.find(".sih-market-listing__header").before('<span class="sih-market-listing__title text text_white text-uppercase mb-20"\n        >'.concat(SIHLang.sihAppMarket.topSales.title,"</span\n      >")),t.find(".sih-market-listing__header").length||t.append(e)},header_actionsListener=function(){sortAction()},sortAction=function(){var t=$J("#sih-market-listing").find(".sih-market-listing__header").find(".market_listing_right_cell"),e=null;t.each((function(t,n){var r=$J(n);r.find(".market_sort_arrow").length||r.append('<span class="market_sort_arrow"></span>'),r.off("click").click((function(){toggleSIHMarketItemLoaders(!1),clearTimeout(e),e=setTimeout((function(){sortBy(r)}),600)}))}))},setDefaultSortByProfit=function(){$J(".sih-market-listing__header").find('.market_listing_right_cell.active[data-option="sih-profit"]').find(".market_sort_arrow").show().text("▼")},sortBy=function(t){var e=t.attr("data-option");if(e){var n=t.closest(".sih-market-listing__header"),r=n.closest(".sih-market-listing").find(".sih-market-listing__content"),i=r.find(".sih-market-listing__item");n.find(".market_sort_arrow").hide(),t.hasClass("active")?t.find(".sih-profit:not(.active)").addClass("active").siblings().removeClass("active"):t.find('.sih-profit[data-option="profitPercent"]').addClass("active"),t.addClass("active").siblings().removeClass("active"),"sih-profit"!==e&&n.find(".sih-profit").removeClass("active");var a=1;if(t.find(".market_sort_arrow").is(':contains("▲")')||"sih-profit"===e?(a=-1,t.find(".market_sort_arrow").text("▼")):t.find(".market_sort_arrow").text("▲"),t.find(".market_sort_arrow").show(),"name"!==e){"sih-profit"===e&&(e=t.find(".sih-profit.active").attr("data-option"));var o=header_objectSpread({offset:0,limit:100},GenerateSortOptionForParameters(e,a)),s=GetFilterParams();return o=header_objectSpread(header_objectSpread({},o),s),void RenderListingItems(o)}i.sort((function(t,n){var r=getSortableValues(t,n,e),i=r.aValue,o=r.bValue;return i>o?a:i<o?-1*a:0})),i.detach().appendTo(r)}},getSortableValues=function(t,e,n){var r,i;if("name"===n)r=$J(t).find(".sih-market-listing__name").text(),i=$J(e).find(".sih-market-listing__name").text();return{aValue:r,bValue:i}},renderCellsTooltip=function(){$J(".sih-market-listing__header").find('.market_listing_right_cell[data-option="sih-profit"]').tooltip({position:{my:"left-50% bottom",at:"left+50% top"}})};function pagination_typeof(t){return pagination_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pagination_typeof(t)}function pagination_toConsumableArray(t){return pagination_arrayWithoutHoles(t)||pagination_iterableToArray(t)||pagination_unsupportedIterableToArray(t)||pagination_nonIterableSpread()}function pagination_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pagination_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return pagination_arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pagination_arrayLikeToArray(t,e):void 0}}function pagination_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function pagination_arrayWithoutHoles(t){if(Array.isArray(t))return pagination_arrayLikeToArray(t)}function pagination_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pagination_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pagination_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pagination_ownKeys(Object(n),!0).forEach((function(e){pagination_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pagination_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pagination_defineProperty(t,e,n){return(e=pagination_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pagination_toPropertyKey(t){var e=pagination_toPrimitive(t,"string");return"symbol"==pagination_typeof(e)?e:e+""}function pagination_toPrimitive(t,e){if("object"!=pagination_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pagination_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var pagination_debounce=null,lastPaginationPage=1,RenderListingPagination=function(){pagination_loadHtml()},_RenderSIHMarketListingAfterPagination=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=$J("#sih-market-listing").find(".sih-market-listing__content"),a=$J("#sih-listing-pagination-container"),o=a.find(".sih-listing-pagination__start-count-items"),s=a.find(".sih-listing-pagination__end-count-items"),c=a.find(".sih-listing-pagination__total"),l=10,d=[],u=100,_=1+(e.offset?e.offset/u:0);function h(n,r){var i=$J(n.currentTarget).attr("data-num").trim();if(i&&(o.text(i*l-9),s.text(i*l),i*l>e.limit*_&&_<=lastPaginationPage)){lastPaginationPage=_=lastPaginationPage+1;var c={offset:(_-1)*u,limit:u},h=GetFilterParams();c=pagination_objectSpread(pagination_objectSpread({},c),h),d.push(sih_app_global_service.A.getTopSales(c)),toggleSIHMarketItemLoaders(!1),clearTimeout(pagination_debounce),pagination_debounce=setTimeout((function(){Promise.all(d).then((function(n){var o,s=[],c=!1;n.forEach((function(n,r){var i=n.data,a=n.pagination;s.length||(s=pagination_toConsumableArray(t.map((function(t){return t})))),i.forEach((function(t){s.length&&(s=[].concat(pagination_toConsumableArray(s),[t]))})),i.length?o=a:(o=e,c=!0),lastPaginationPage=o.offset/u+1})),_RenderSIHMarketListingAfterPagination(s,o,r,+i),a.pagination(i),toggleSIHMarketItemLoaders(),c&&RenderEmptyBlock(),d.length=0}))}),1e3)}}t.length<=e.count&&(t.length=e.count),c.text(e.count),o.text(r*l-9),s.text(r*l),a.pagination({dataSource:t,pageSize:l,afterNextOnClick:function(t){h(t,n)},afterPageOnClick:function(t){h(t,n)},afterPreviousOnClick:function(t){h(t,n)},callback:function(t){toggleSIHMarketItemLoaders(!!t[0]);var e=GetListingItemsTemplate(t,n);i.html(e),i.find(".sih-market-listing__name").tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}),RenderBookmarkBtn(),ClearListingSortArrow(),RenderAddToCartButtons(t,n).then((function(e){toggleSIHMarketItemLoaders(!!t[0]),setTimeout((function(){$J(".sih-market-listing__item .preloader").fadeOut()}),500)}))}})},pagination_loadHtml=function(){var t=$J("#sih-market-listing"),e=$J('\n    <div id="sih-listing-pagination-container" class="sih-global sih-listing-pagination">\n      <div class="row gap-5">\n        <span>'.concat(SIHLang.sihAppMarket.topSales.pagination.showing,'</span>\n        <span class="sih-listing-pagination__start-count-items">1</span>\n        <span>-</span>\n        <span class="sih-listing-pagination__end-count-items">1</span>\n        <span>').concat(SIHLang.sihAppMarket.topSales.pagination.of,'</span>\n        <span class="sih-listing-pagination__total">-</span>\n        <span>').concat(SIHLang.sihAppMarket.topSales.pagination.results,"</span>\n      </div>\n    </div>\n  "));$J("#sih-listing-pagination-container").length||t.after(e)};function sihMarketTab_global_typeof(t){return sihMarketTab_global_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sihMarketTab_global_typeof(t)}function global_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function global_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?global_ownKeys(Object(n),!0).forEach((function(e){sihMarketTab_global_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):global_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sihMarketTab_global_defineProperty(t,e,n){return(e=sihMarketTab_global_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sihMarketTab_global_toPropertyKey(t){var e=sihMarketTab_global_toPrimitive(t,"string");return"symbol"==sihMarketTab_global_typeof(e)?e:e+""}function sihMarketTab_global_toPrimitive(t,e){if("object"!=sihMarketTab_global_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sihMarketTab_global_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var APP_NAMES={730:"CS2",252490:"Rust",440:"TF2"},LARGE_CURRENCY_LIST=[10,15,16,19,25,27,34],GenerateSortOptionForParameters=function(t,e){var n={};switch(t){case"profit":n={sortBy:1===e?"profit":"-profit"};break;case"profitPercent":n={sortBy:1===e?"profitPercent":"-profitPercent"};break;case"sih-price":n={sortBy:1===e?"price":"-price"};break;case"steam-price":n={sortBy:1===e?"steamPrice":"-steamPrice"};break;case"salesWeek":n={sortBy:1===e?"weekSales":"-weekSales"}}return n},RenderListingItems=function(t){$J("#sih-market-listing").find(".sih-market-listing__content").children().remove();var e=GetFilterParams();t=t||global_objectSpread({offset:0,limit:100},e),sih_app_global_service.A.getTopSales(t).then((function(t){var n=t.data,r=t.pagination;toggleSIHMarketItemLoaders(),n&&n.length?_RenderSIHMarketListingAfterPagination(n,r,e.appId):(_RenderSIHMarketListingAfterPagination(n,r,e.appId),RenderEmptyBlock())}))},GetListingItemsTemplate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:730,n="";return t.forEach((function(t){var r=skin_wear_service.A.getWearInfo(t.item),i=utils.zc.get("SIH_MARKET_CURRENCY"),a=i&&LARGE_CURRENCY_LIST.includes(i)?(0,global.FormatNumberWithSuffix)(t.steamPrice,i).text:(0,global.formatNumberToLocalRu)(t.steamPrice,i||1),o=i?LARGE_CURRENCY_LIST.includes(i)?(0,global.FormatNumberWithSuffix)(t.profit,i).text:(0,global.formatNumberToLocalRu)(t.profit,i):"$ ".concat(Math.ceil(100*t.profit)/100),s=$J('\n      <a\n        class="sih-market-listing__item"\n        href="https://steamcommunity.com/market/listings/'.concat(e,"/").concat(t.item,'"\n        target="_blank"\n      >\n        <div class="row items-center gap-7 w-305">\n          <div class="preloader"></div>\n          <img\n            src="').concat((0,utils.Fk)(t.image),'"\n            class="market_listing_item_img"\n            style="border-color: #D2D2D2;"\n          />\n          <div class="column gap-2 max-w-220">\n            <span class="sih-market-listing__name" title="').concat(t.item,'">').concat(t.item,'</span>\n            <div class="row items-center gap-16">\n              <span class="sih-market-listing__game-name" data-appid="').concat(e,'">').concat(APP_NAMES[e],'</span>\n            </div>\n          </div>\n        </div>\n\n        <div class="row justify-center items-center">\n          <span class="text text_light-grey fs-12">').concat(t.weekSales,'</span>\n        </div>\n\n        <div\n          class="sih-market-listing__steam-price column justify-center items-center"\n          data-price="').concat(t.steamPrice,'"\n        >\n          <span class="text text_light-grey fs-12">').concat(t.steamPrice?a:"-",'</span>\n        </div>\n\n        <div class="column justify-center items-center gap-5 w-83">\n          ').concat(t.steamPrice?'\n                <span class="sih-market-listing__sih-profit text fs-12 '.concat(t.profitPercent>0?"text_green-900":"text_light-grey",'">').concat(Math.ceil(100*t.profitPercent)/100,' %</span>\n                <span class="sih-market-listing__sih-profit sih-market-listing__sih-profit-price text fs-12 ').concat(t.profit>0?"text_green-900":"text_light-grey",'" data-price="').concat(t.profit,'">').concat(o,"</span>\n              "):"-","\n        </div>\n      </a>\n    "));r&&r.stattrak&&(s.find(".market_listing_item_img").css("border-color","#CF6A32"),s.find(".sih-market-listing__name").css("color","#CF6A32")),r&&r.souvenir&&(s.find(".market_listing_item_img").css("border-color","#FFD700"),s.find(".sih-market-listing__name").css("color","#FFD700")),r&&r.name.includes("★")&&(s.find(".market_listing_item_img").css("border-color","#8650AC"),s.find(".sih-market-listing__name").css("color","#8650AC")),n+=s[0].outerHTML})),n},RenderEmptyBlock=function(){var t=$J("#sih-market-listing").find(".sih-market-listing__content"),e=$J('\n    <div class="sih-market-listing__empty sih-global">\n      <div class="column w-320 justify-center gap-20">\n        <span class="text text_white fs-24 bold">'.concat(SIHLang.sihAppMarket.topSales.plug_tab.title,'</span>\n        <span class="text text_white">').concat(SIHLang.sihAppMarket.topSales.plug_tab.text_1,'</span>\n        <a href="javascript:void(0)" class="relative text text_blue"\n          >').concat(SIHLang.sihAppMarket.topSales.plug_tab.text_2,"</a\n        >\n      </div>\n    </div>\n  "));e.find("a").off("click").click((function(){$J("#sih-market-tab").trigger("click")})),t.find(".sih-market-listing__empty").length||t.append(e)};function filter_typeof(t){return filter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},filter_typeof(t)}function filter_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function filter_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?filter_ownKeys(Object(n),!0).forEach((function(e){filter_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):filter_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function filter_defineProperty(t,e,n){return(e=filter_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function filter_toPropertyKey(t){var e=filter_toPrimitive(t,"string");return"symbol"==filter_typeof(e)?e:e+""}function filter_toPrimitive(t,e){if("object"!=filter_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=filter_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var CONVERTABLE_INPUT_KEYS=["minPrice","maxPrice","minSteamPrice","maxSteamPrice"],RenderSIHMarketFilter=function(t){filter_loadHtml(t),filter_actionsListener()},RemoveSIHMarketFilter=function(){$J("#browseItems").show(),$J(".sih-market-store-filter").hide().remove()},GetFilterParams=function(){var t=$J("#sih-market-listing .sih-market-listing__header .market_listing_right_cell"),e=$J(".sih-market-store-filter"),n=utils.zc.get("SIH_MARKET_CURRENCY"),r=e.find(".sih-market-store-filter__input"),i={};return r.each((function(t,e){var r=$J(e),a=r.val(),o=r.attr("data-key");CONVERTABLE_INPUT_KEYS.includes(o)&&a&&(a=currency_service.A.getPriceFromCurrency(+a,1,n||1).price);a&&(i=filter_objectSpread(filter_objectSpread({},i),{},filter_defineProperty({},"".concat(o),a)))})),i.appId=e.find(".app-filter [active]").data("appid"),t.each((function(t,e){var n=$J(e),r=n.attr("data-option"),a=n.find(".market_sort_arrow");if(n.hasClass("active")&&"none"!==a.css("display")&&(a.is(':contains("▲")')||a.is(':contains("▼")'))){var o="none"!==a.css("display")&&a.is(':contains("▲")')?1:-1;"sih-profit"===r&&(r=n.find(".sih-profit.active").attr("data-option"));var s=GenerateSortOptionForParameters(r,o);return i=filter_objectSpread(filter_objectSpread({},i),s)}})),i},filter_loadHtml=function(t){t=t||$J("#findItems");var e=utils.zc.get("SIH_MARKET_CURRENCY")||1,n=t.find("#browseItems");n.length&&n.hide();var r=$J('\n    <div class="sih-market-store-filter sih-global">\n      <div class="sih-market-store-filter__header">\n        <span class="sih-market-store-filter__title">'.concat(SIHLang.sihAppMarket.topSales.filter.title,'</span>\n        <a href="javascript:void(0)" class="sih-market-store-filter__reset hover-opacity-8"\n          >').concat(SIHLang.sihAppMarket.topSales.filter.reset,'</a\n        >\n      </div>\n\n      <div class="row justify-between">\n        <div class="app-filter">\n          <div class="app-filter__item app-filter__item_cs2" data-appid="730" active></div>\n          <div class="app-filter__item app-filter__item_rust" data-appid="252490"></div>\n          <div class="app-filter__item app-filter__item_tf2" data-appid="440"></div>\n        </div>\n\n        <div class="sih-market-store-filter__currency-selector-wrapper">\n          <select id="sih-market-currency-selector"></select>\n        </div>\n      </div>\n\n      <div class="column gap-8">\n        <span class="text fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.name_search,'</span>\n\n        <div class="grid grid-flow-col">\n          <div class="sih-market-store-filter__input-outer">\n            <input\n              class="sih-market-store-filter__input"\n              type="text"\n              placeholder="AWP | Redline (Field-Tested)"\n              data-key="search"\n            />\n          </div>\n        </div>\n      </div>\n\n      \x3c!--SIH Market price block--\x3e\n      <div class="column gap-8">\n        <span class="text fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.sih_market_price,'</span>\n\n        <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.from,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              value="1"\n              type="number"\n              placeholder="').concat((0,global.formatNumberToLocalRu)(getInputRange("minPrice").minNumber,e,1),'"\n              data-key="minPrice"\n            />\n          </div>\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.to,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              type="number"\n              placeholder="').concat((0,global.formatNumberToLocalRu)(getInputRange("maxPrice").maxNumber,e,1),'"\n              data-key="maxPrice"\n            />\n          </div>\n        </div>\n      </div>\n\n      \x3c!--Steam price block--\x3e\n      <div class="column gap-8">\n        <span class="text fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.steam_price,'</span>\n\n        <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.from,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              type="number"\n              placeholder="').concat((0,global.formatNumberToLocalRu)(getInputRange("minSteamPrice").minNumber,e,1),'"\n              data-key="minSteamPrice"\n            />\n          </div>\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.to,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              type="number"\n              placeholder="').concat((0,global.formatNumberToLocalRu)(getInputRange("maxSteamPrice").maxNumber,e,1),'"\n              data-key="maxSteamPrice"\n            />\n          </div>\n        </div>\n      </div>\n\n      \x3c!--Sales Week block--\x3e\n      <div class="column gap-8">\n        <span class="text fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.weekly_sales,'</span>\n\n        <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.from,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              value="20"\n              type="number"\n              placeholder="1"\n              data-key="minWeeklySales"\n            />\n          </div>\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.to,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              type="number"\n              placeholder="1 000 000"\n              data-key="maxWeeklySales"\n            />\n          </div>\n        </div>\n      </div>\n\n      \x3c!--Profit block--\x3e\n      <div class="column gap-8">\n        <span class="text fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.profit_percent,'</span>\n\n        <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.from,'</span>\n            <input class="sih-market-store-filter__input" type="number" placeholder="1 %" data-key="minProfitPercent" />\n          </div>\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.to,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              type="number"\n              placeholder="1 000 %"\n              data-key="maxProfitPercent"\n            />\n          </div>\n        </div>\n      </div>\n\n      <a href="https://sih.app/market" target="_blank" class="sih-market-store-filter__more-filters"\n        >').concat(SIHLang.sihAppMarket.topSales.filter.more_filters,"</a\n      >\n    </div>\n  "));t.length&&!t.find(".sih-market-store-filter").length&&t.append(r),n.closest(".market_search_sidebar_contents").find(".sih-market-store-filter").length||n.after(r),loadCurrencySelector()},filter_actionsListener=function(){resetAction(),inputChangeAction(),appChangeAction()},resetAction=function(){var t=$J(".sih-market-store-filter"),e=t.find(".sih-market-store-filter__reset"),n=null;e.off("click").click((function(){clearTimeout(n),n=setTimeout((function(){t.find(".sih-market-store-filter__input").val(""),$J("#sih-market-tab").trigger("click"),updateVisibleStateResetBtn()}),300)}))},inputChangeAction=function(){$J(".sih-market-store-filter").find(".sih-market-store-filter__input").each((function(t,e){var n=$J(e);n.off("change").change((function(t){var e=$J(t.target),n=e.attr("data-key"),r=utils.zc.get("SIH_MARKET_CURRENCY"),i="search"===n?e.val():e.val().length?+e.val():e.val(),a=getInputRange(n),o=a.maxNumber,s=a.minNumber,c=void 0===s?0:s;if(CONVERTABLE_INPUT_KEYS.includes(n)&&""!==i&&(o=currency_service.A.getPriceFromCurrency(o,r||1,1).price,c=+currency_service.A.getPriceFromCurrency(c,r||1,1).price.toFixed(2)),"number"==typeof i){"maxPrice"===n&&UpdateFilterCategoryBalance();var l=sih_app_global_service.A.validateInput(i,o,c,!0);e.val(l)}})),n.off("focusin").focusin((function(t){var e=+$J(t.target).val();""!==n.val()&&n.off("focusout").focusout((function(t){+$J(t.target).val()!==e&&$J("#sih-market-tab").trigger("click"),updateVisibleStateResetBtn()}))})),n.off("focusout").focusout((function(){""!==n.val()&&$J("#sih-market-tab").trigger("click"),updateVisibleStateResetBtn()})),n.off("keypress").keypress((function(t){13===t.keyCode&&(""!==n.val()&&$J("#sih-market-tab").trigger("click"),updateVisibleStateResetBtn())}))}))},appChangeAction=function(){var t=$J(".sih-market-store-filter").find(".app-filter .app-filter__item");t.each((function(e,n){var r=$J(n);r.off("click").click((function(e){t.each((function(t,e){$J(e).removeAttr("active")})),r.attr("active",""),$J("#sih-market-tab").trigger("click")}))}))},updateVisibleStateResetBtn=function(){var t=$J(".sih-market-store-filter"),e=t.find(".sih-market-store-filter__reset"),n=t.find(".sih-market-store-filter__input"),r=!1;n.each((function(t,e){""!==$J(e).val()&&(r=!0)})),e.toggle(r)},getInputRange=function(t){var e={};switch(t){case"minPrice":case"maxPrice":e.maxNumber=2e5,e.minNumber=.01;break;case"minSteamPrice":case"maxSteamPrice":e.maxNumber=2e3,e.minNumber=.03;break;case"minWeeklySales":case"maxWeeklySales":e.maxNumber=1e6;break;case"minProfitPercent":case"maxProfitPercent":e.maxNumber=1e3}return e},ToggleSteamSearchSection=function(t){var e=$J("#escrow_description"),n=$J(".market_search_sidebar_section_tip_small"),r=$J(".market_search_box_container");e.toggle(t),n.toggle(t),r.toggle(t)},loadCurrencySelector=function(){var t=$J("#sih-market-currency-selector");if(!t.find(".option").length){for(var e=0,n=Object.keys(g_rgCurrencyData);e<n.length;e++){var r=n[e],i=g_rgCurrencyData[r];t.append('<option value="'.concat(i.eCurrencyCode,'" selected>').concat(r,"</option>"))}var a=utils.zc.get("SIH_MARKET_CURRENCY");t.val(a||1),t.selectmenu({width:80,appendTo:".sih-market-store-filter__currency-selector-wrapper",change:function(t,e){var n=+$J(t.target).val();utils.zc.set("SIH_MARKET_CURRENCY",n),$J(".sih-market-store-filter .sih-market-store-filter__input").each((function(t,e){var r=$J(e),i=r.val(),a=r.attr("data-key");if(CONVERTABLE_INPUT_KEYS.includes(a)){i&&r.trigger("change");var o,s=getInputRange(a),c=s.maxNumber,l=s.minNumber,d=void 0===l?0:l;o="maxPrice"===a||"maxSteamPrice"===a?(0,global.formatNumberToLocalRu)(c,n,1):(0,global.formatNumberToLocalRu)(d,n,1),r.attr("placeholder",o)}})),$J("#sih-market-tab").click()}})}},RenderListing=function(t){listing_loadHtml(t),RenderListingHeader(),RenderListingItems(),RenderListingContent(),RenderListingPagination()},listing_loadHtml=function(t){var e=t||$J("#sellListings"),n=$J('\n    <div id="sih-market-listing" class="sih-global sih-market-listing"></div>\n    \x3c!--  <div id="sih-market-listing-loader">--\x3e\n    \x3c!--    <img src="https://community.cloudflare.steamstatic.com/public/images/login/throbber.gif" alt="Working...">--\x3e\n    \x3c!--  </div>--\x3e\n  ');e.find("#sih-market-listing").length||e.append(n)};function sihMarketTab_typeof(t){return sihMarketTab_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sihMarketTab_typeof(t)}function sihMarketTab_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sihMarketTab_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==sihMarketTab_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(sihMarketTab_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function sihMarketTab_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function sihMarketTab_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){sihMarketTab_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){sihMarketTab_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}function LoadSihMarketTab(){return _LoadSihMarketTab.apply(this,arguments)}function _LoadSihMarketTab(){return(_LoadSihMarketTab=sihMarketTab_asyncToGenerator(sihMarketTab_regeneratorRuntime().mark((function t(){return sihMarketTab_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return appendSihMarketToSellListingTabs(),t.next=3,sihMarketTab_actionsListener();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var appendSihMarketToSellListingTabs=function(){var t=$J("#sellListings").find(".market_tab_well_tabs"),e=common.I.get()||{},n=$J('\n    <a\n      id="sih-market-tab"\n      class="sih-market-tab market_tab_well_tab market_tab_well_tab_inactive"\n      href="javascript:void(0)"\n    >\n      <span class="market_tab_well_tab_contents">\n        <span class="sih-market-tab__content">\n          <span>SIH Market</span>\n          '.concat(e.isViewFeature&&e.isViewFilter?"":'<span class="sih-market-tab__new">NEW</span>',"\n        </span>\n      </span>\n    </a>\n  "));t.append(n),t.contents().filter((function(){return 3===this.nodeType&&""===this.nodeValue.trim()})).remove()},sihMarketTab_actionsListener=function(){var t=sihMarketTab_asyncToGenerator(sihMarketTab_regeneratorRuntime().mark((function t(){return sihMarketTab_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return changeTabAction(),t.next=3,autoOpenTabAction();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),changeTabAction=function(){var t=$J("#sellListings").find(".market_tab_well_tabs"),e=null;t.find("a").each((function(t,n){$J(n).off("click").click((function(){var t=this;clearTimeout(e),e=setTimeout(sihMarketTab_asyncToGenerator(sihMarketTab_regeneratorRuntime().mark((function e(){var n,r;return sihMarketTab_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=$J(t)).addClass("market_tab_well_tab_active").siblings().removeClass("market_tab_well_tab_active market_tab_well_tab_inactive").addClass("market_tab_well_tab_inactive"),"sih-market-tab"!==n.attr("id")){e.next=20;break}return(r=common.I.get()||{}).isViewFeature&&r.isViewFilter||r.openTab||(n.find(".sih-market-tab__new").hide(),r.isViewFeature=!0,r.isViewFilter=!0,common.I.set(r)),n.addClass("pointer-events-none"),setTimeout((function(){return n.removeClass("pointer-events-none")}),500),$J("#popularItemsTable").hide(),$J("#sellListingsTable").hide(),$J("#soldListingTable").hide(),RenderSIHMarketFilter(),RenderListing(),$J("#sih-market-listing").show(),toggleSIHMarketItemLoaders(!1),$J("#sih-listing-pagination-container").css("display","flex").show(),e.next=17,RenderSihMarketOverlay();case 17:ToggleSteamSearchSection(!1),e.next=25;break;case 20:toggleSIHMarketItemLoaders(),$J("#sih-market-listing").hide(),$J("#sih-listing-pagination-container").hide(),ToggleSteamSearchSection(!0),RemoveSIHMarketFilter();case 25:case"end":return e.stop()}}),e)}))),200)}))}))},autoOpenTabAction=function(){var t=sihMarketTab_asyncToGenerator(sihMarketTab_regeneratorRuntime().mark((function t(){var e,n,r,i,a,o;return sihMarketTab_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,utils_chromeStorage.M.getLocal("SIH_FEATURES_MENU");case 2:if(n=t.sent,null==(r=n.SIH_FEATURES_MENU)||null===(e=r.sihMarket)||void 0===e||!e.showTab){t.next=11;break}if(!$J("#sih-market-tab").length){t.next=11;break}return $J("html, body").animate({scrollTop:$J("#sellListings").offset().top},500),$J("#sih-market-tab").trigger("click"),r.sihMarket.showTab=!1,t.next=11,utils_chromeStorage.M.setLocal("SIH_FEATURES_MENU",r);case 11:return t.next=13,utils_chromeStorage.M.getLocal("SIH_MARKET_TAB");case 13:i=t.sent,a=i.SIH_MARKET_TAB,(o=void 0===a?{}:a).openTab&&$J("#sih-market-tab").length&&($J("html, body").animate({scrollTop:$J("#sellListings").offset().top},500),$J("#sih-market-tab").trigger("click"),o.openTab=!1,utils_chromeStorage.M.setLocal("SIH_MARKET_TAB",o));case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),marketSearch=__webpack_require__(527),UpdateHeaderTotalResubmitPrice=function(t){var e=$J('.my_listing_section[data-table-id="'.concat(t,'"]')),n=e.find('[id^="totalRow"]'),r=n.find(".sih-header-total"),i=e.find('.market_listing_row[id^="'.concat("sell_listings"===t?"mylisting":"mybuyorder",'"]')),a="sell_listings"===t?+r.find(".sih-total-sell__selling").attr("data-price"):+n.find(".sih-market-total__seller").attr("data-price"),o="sell_listings"===t?+r.find(".sih-total-sell__receive").attr("data-price"):0,s=r.find(".total-resubmit-price");i.find(".resubmit-price").length||s.fadeOut(300,(function(){s.remove()}));var c=0,l=0,d=0,u=0;i.each((function(e,n){var r=$J(n),i=r.find(".resubmit-price"),a=+r.find(".market_listing_buyorder_qty .market_listing_price").text();if(i.length){var o=+i.find(".resubmit-price__selling").attr("data-old-price")*("buy_orders"===t?a:1),s="sell_listings"===t?+i.find(".resubmit-price__receive").attr("data-old-price"):0,_=+i.find(".resubmit-price__selling").attr("data-new-price")*("buy_orders"===t?a:1),h="sell_listings"===t?+i.find(".resubmit-price__receive").attr("data-new-price"):0;c+=o,l+=s,d+=_,u+=h}}));var _=a-c+d,h=o-l+u,f=currency_service.A.getPriceFromCurrency(_,currencyId,currencyId).text,m=currency_service.A.getPriceFromCurrency(h,currencyId,currencyId).text;if(s.length){var p=s.find(".total-resubmit-price__selling"),g=s.find(".total-resubmit-price__receive");p.attr("data-price",_).text(f),g.attr("data-price",h).text("(".concat(m,")"))}else{var v=LocalStorageSihMarket.get().commission,y=void 0===v||v,b=$J('\n      <div class="total-resubmit-price" title="'.concat(SIHLang.market.resubmit_orders.tooltips.total_after_resubmit,'">\n        <div class="column">\n          <span class="total-resubmit-price__selling text text_white fs-14" data-price="').concat(_,'"\n            >').concat(f,"</span\n          >\n          ").concat("sell_listings"===t?'\n                      <span class="total-resubmit-price__receive text text_grey-900 fs-12" style="display: '.concat(y?"flex":"none",'" data-price="').concat(h,'">(').concat(m,")</span>\n                  "):"","\n        </div>\n      </div>\n    "));b.tooltip({tooltipClass:"total-resubmit-price__tooltip",position:{my:"left bottom",at:"left top"},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}),r.append(b),b.css("display","flex").hide().fadeIn(300)}},RenderHeaderTable=function(){addHeaderTooltips(),setTimeout((function(){renderOldTotalBuyPrice()}),500)},renderOldTotalBuyPrice=function(){var t=$J('.my_listing_section[data-table-id="buy_orders"]').find('[id^="totalRow"]'),e=t.find(".sih-header-total"),n=+t.find(".sih-market-total__seller").attr("data-price"),r=currency_service.A.getPriceFromCurrency(n,currencyId,currencyId).text,i=$J('\n    <div class="sih-total-sell column justify-center" title="'.concat(SIHLang.market.tooltips.cost_all_items,'">\n      <span class="sih-total-sell__selling text text_white fs-14" data-price="').concat(n,'"\n        >').concat(r,"</span\n      >\n    </div>\n  "));e.find(".sih-total-sell").length||e.prepend(i)},addHeaderTooltips=function(){[$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_my_price:not(.market_listing_buyorder_qty, .market_listing_maximum)").attr("title","".concat(SIHLang.market.tooltips.your_price)),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_minimum").attr("title","".concat(SIHLang.market.tooltips.min_market_price)),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_listed_date").attr("title","".concat(SIHLang.market.tooltips.order_date)),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_maximum").attr("title","".concat(SIHLang.market.tooltips.max_market_price)),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_buyorder_qty").attr("title","".concat(SIHLang.market.tooltips.number_items))].forEach((function(t){t.tooltip({position:{my:"left bottom",at:"left top"},classes:{"ui-tooltip":"sih-steam-market__tooltip"}})}))},editAlertModal_debounce=null,RenderEditAlertModal=function(t){editAlertModal_loadHtml(t),editAlertModal_listenerActions()},editAlertModal_loadHtml=function(t){var e=$J('.my_listing_section[data-table-id="'.concat(t,'"] .sih-market-filter')),n=e.find(".sih-market-filter__edit-alert").position(),r=LocalStorageSihMarketResubmit.getPercentAlert(t).percent_alert,i=void 0===r?20:r,a=$J('\n    <div id="sih-edit-alert" class="sih-edit-alert" data-table-id="'.concat(t,'">\n      <div class="sih-edit-alert__fade"></div>\n      <div class="sih-global sih-modal sih-edit-alert__modal">\n        <div class="sih-edit-alert__inner sih-modal__inner">\n          <h4 class="text text_white fs-14">').concat(SIHLang.market.resubmit_orders.edit_alert_modal.title,'</h4>\n\n          <label for="sih-edit-alert-input" class="row justify-between items-center bg-black-100 py-12 px-12 br2-grey">\n            <input\n              type="number"\n              id="sih-edit-alert-input"\n              class="text text_white bg-transparent border-none"\n              value="').concat(i,'"\n              step="1"\n              min="1"\n            />\n\n            <label for="sih-edit-alert-input">\n              <span class="text text_grey-900 fs-14">%</span>\n            </label>\n          </label>\n\n          <div class="sih-edit-alert__buttons">\n            <a\n              href="javascript:void(0)"\n              id="sih-edit-alert-save"\n              class="sih-modal__button sih-modal__button_blue fs-10 bold py-8 text-uppercase px-12 py-8"\n              >').concat(SIHLang.market.resubmit_orders.save,"</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  "));a.find(".sih-modal").css("left",n.left),e.find("#sih-edit-alert").length||(e.append(a),$J("#sih-edit-alert").find(".sih-edit-alert__modal").fadeIn(300))},editAlertModal_listenerActions=function(){editAlertModal_closeModalAction(),focusOnInputOpen(),validateInputAction(),saveAction()},editAlertModal_closeModalAction=function(){var t=$J("#sih-edit-alert"),e=t.find(".sih-modal__close"),n=t.find(".sih-edit-alert__fade"),r=t.find("#sih-edit-alert-cancel");e.off("click").click((function(){removeEditAlertModal()})),n.off("click").click((function(){removeEditAlertModal()})),r.off("click").click((function(){removeEditAlertModal()}))},focusOnInputOpen=function(){$J("#sih-edit-alert-input").trigger("focus"),$J("#sih-edit-alert-input")[0].select()},removeEditAlertModal=function(){var t=$J("#sih-edit-alert");t.fadeOut(300,(function(){t.remove()}))},validateInputAction=function(){var t=$J("#sih-edit-alert").find("#sih-edit-alert-input");t.focus((function(){t.keyup((function(){var t=$J(this);clearTimeout(editAlertModal_debounce),editAlertModal_debounce=setTimeout((function(){var e=+t.val()||0,n=sih_app_global_service.A.validateInput(e,100);t.val(n)}),500)}))})),t.focusout((function(){t.off("keyup")})),t.off("change").change((function(){var t=$J(this),e=t.val(),n=sih_app_global_service.A.validateInput(e,100);t.val(n)}))},saveAction=function(){var t=$J("#sih-edit-alert"),e=t.find("#sih-edit-alert-save"),n=t.find("#sih-edit-alert-input");e.off("click").click((function(t){r()})),t.keyup((function(t){Event.KEY_RETURN===t.keyCode&&r()}));var r=function(){var t=$J("#sih-edit-alert").attr("data-table-id"),e=n.val(),r=LocalStorageSihMarketResubmit.get()||{};r["percent_alert_".concat(t)]=e,LocalStorageSihMarketResubmit.set(r),RecalculatePriceDifferent(t),$J('.my_listing_section[data-table-id="'.concat(t,'"] .sih-market-filter__edit-alert span')).text("".concat(r["percent_alert_".concat(t)],"%")),removeEditAlertModal()}},RenderCustomRemoveModal=function(t){customRemoveModal_loadHtml(t),customRemoveModal_actionsListener(t)},DeleteCustomRemoveModal=function(){var t=$J("#sih-remove-listing"),e=$J(".sih-toolbar"),n=e.attr("data-table-id"),r=$J('.my_listing_section[data-table-id="'.concat(n,'"] .market_listing_row[id^="').concat("sell_listings"===n?"mylisting":"mybuyorder",'"]')).find(".select-checkbox:visible:checked").length;t.fadeOut(300,(function(){t.remove()})),e.hasClass("animate-down")&&r&&e.removeClass("animate-down")},customRemoveModal_loadHtml=function(t){var e=t.attr("data-table-id"),n=t.find(".market_listing_row").find(".select-checkbox:checked").closest(".market_listing_row"),r=$J("body"),i=$J('\n    <div id="sih-remove-listing" class="sih-remove-listing">\n      <div class="sih-remove-listing__fade"></div>\n      <div class="sih-global sih-modal sih-remove-listing__modal">\n        <div class="sih-modal__close"></div>\n        <div class="sih-remove-listing__inner sih-modal__inner">\n          <div class="sih-remove-listing__title">'.concat(SIHLang.market.custom_remove_modal.title,'</div>\n          <div class="sih-remove-listing__content">\n            <div class="sih-remove-listing__text">\n              ').concat(SIHLang.market.custom_remove_modal["".concat(e,"_text_1")],'\n              <span class="text text_white bold">(').concat(n.length,")</span> ").concat("sell_listings"===e?SIHLang.market.custom_remove_modal["".concat(e,"_text_2")]:"",'\n            </div>\n\n            <div class="sih-remove-listing__buttons">\n              <a href="javascript:void(0)" class="sih-remove-listing__remove"\n                >').concat(SIHLang.market.custom_remove_modal.confirm,'</a\n              >\n              <a href="javascript:void(0)" class="sih-remove-listing__cancel"\n                >').concat(SIHLang.market.custom_remove_modal.cancel,"</a\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  "));r.find("#sih-remove-listing").length||(r.append(i),$J("#sih-remove-listing").find(".sih-remove-listing__modal").fadeIn(300))},customRemoveModal_actionsListener=function(t){customRemoveModal_closeModalAction(),removeListingAction(t)},customRemoveModal_closeModalAction=function(){var t=$J("#sih-remove-listing"),e=t.find(".sih-modal__close"),n=t.find(".sih-remove-listing__fade"),r=t.find(".sih-remove-listing__cancel");e.off("click").click((function(){DeleteCustomRemoveModal()})),n.off("click").click((function(){DeleteCustomRemoveModal()})),r.off("click").click((function(){DeleteCustomRemoveModal()}))},removeListingAction=function(t){$J("#sih-remove-listing").find(".sih-remove-listing__remove").off("click").click((function(){RemoveSelectedListing(t),DeleteCustomRemoveModal()}))},ResubmitGroupModal=function(t){resubmitGroupModal_loadHtml(t),resubmitGroupModal_listenerActions()},RemoveResubmitGroupModal=function(){var t=$J("#sih-resubmit-orders"),e=$J(".sih-toolbar").find(".sih-toolbar__button");t.fadeOut(300,(function(){t.remove(),e.removeClass("disabled opacity-50per")}))},resubmitGroupModal_loadHtml=function(t){var e,n,r=$J(t[0]).attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",i=!!$J('.my_listing_section[data-table-id="'.concat(r,'"] .market_listing_row[id^="').concat("sell_listings"===r?"mylisting":"mybuyorder",'"] .select-checkbox:checked')).closest(".market_listing_row").find(".sih-market-alert").length,a=$J("body"),o=(+g_rgWalletInfo.wallet_currency_increment||1)/100,s=parseFloat(null!==(e=g_rgWalletInfo.wallet_publisher_fee_percent_default)&&void 0!==e?e:.1),c=parseFloat(null!==(n=g_rgWalletInfo.wallet_fee_percent)&&void 0!==n?n:.05),l=GetTotalWithFees(g_rgWalletInfo.wallet_market_minimum,s,c,g_rgWalletInfo)/100,d=$J('\n    <div id="sih-resubmit-orders" class="sih-resubmit-orders-group" data-table-id="'.concat(r,'">\n      <div class="sih-resubmit-orders-group__fade"></div>\n      <div class="sih-global sih-modal sih-resubmit-orders-group__modal">\n        <div class="sih-modal__close"></div>\n        <div class="sih-resubmit-orders-group__inner sih-modal__inner">\n          <div class="sih-resubmit-orders-group__content sih-market-content"></div>\n\n          <div class="sih-resubmit-orders-group__buttom">\n            ').concat(i?'\n                  <div class="sih-resubmit-orders-group__info-message sih-info-message" data-state="default">\n                    <div class="sih-info-message__default">\n\n                    </div>\n                 </div>\n                ':'<div class="sih-resubmit-orders-group__info-message sih-info-message" data-state="default">\n                    <div class="sih-info-message__default">\n\n                    </div>\n                 </div>','\n\n            <div class="sih-resubmit-orders-group__toolbar modal-toolbar">\n              <div class="modal-toolbar__left-side row">\n                <div class="modal-toolbar__selected-info">\n                  <span class="text text_light-grey text-lowercase"\n                    >').concat(t.length," ").concat(SIHLang.market.resubmit_orders.items,"\n                    ").concat(SIHLang.market.resubmit_orders.selected,'</span\n                  >\n                </div>\n              </div>\n\n              <div class="modal-toolbar__right-side row">\n                <label for="sih-resubmit-orders-group-input-all" class="row gap-5 justify-between items-center">\n                  <label for="sih-resubmit-orders-group-input-all" class="max-w-140">\n                    <span class="text text_white fs-14">').concat(SIHLang.market.resubmit_orders.enter_all_price,'</span>\n                  </label>\n\n                  <label for="sih-resubmit-orders-group-input-all" class="row justify-center items-center w-24 h-24">\n                    <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z"\n                        fill="#9EA7B3"\n                      />\n                    </svg>\n                  </label>\n\n                  <input\n                    type="number"\n                    id="sih-resubmit-orders-group-input-all"\n                    class="sih-resubmit-orders-group__input max-w-120 box-border text text_white bg-transparent br2-grey py-8 px-20"\n                    step="').concat(o,'"\n                    min="').concat(l,'"\n                  />\n                </label>\n\n                <div class="sih-resubmit-orders-group__buttons">\n                  <a\n                    href="javascript:void(0)"\n                    id="sih-resubmit-cancel"\n                    class="sih-modal__button fs-10 bold py-8 px-45 text-uppercase"\n                    >').concat(SIHLang.market.resubmit_orders.cancel,'</a\n                  >\n                  <a\n                    href="javascript:void(0)"\n                    id="sih-resubmit-btn"\n                    class="disabled opacity-50per sih-modal__button sih-modal__button_blue fs-10 bold py-14 px-16 text-uppercase"\n                    >').concat(SIHLang.market.resubmit_orders.confirm,"</a\n                  >\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  "));t.forEach((function(t,e){var n=GetModalContentItem(t,e);d.find(".sih-resubmit-orders-group__content").append(n)})),a.find("#sih-resubmit-orders").length||(a.append(d),$J("#sih-resubmit-orders").find(".sih-resubmit-orders-group__modal").fadeIn(300))},resubmitGroupModal_listenerActions=function(){resubmitGroupModal_closeModalAction(),currentPriceAction(),bestPriceAction(),changeItemInputAction(),changeAllInputAction(),resubmitGroupModal_focusOnInputOpen(),resubmitBtnAction()},resubmitGroupModal_closeModalAction=function(){var t=$J("#sih-resubmit-orders"),e=t.find(".sih-modal__close"),n=t.find(".sih-resubmit-orders-group__fade"),r=t.find("#sih-resubmit-cancel");e.off("click").click((function(){RemoveResubmitGroupModal()})),n.off("click").click((function(){RemoveResubmitGroupModal()})),r.off("click").click((function(){RemoveResubmitGroupModal()}))},currentPriceAction=function(){var t=$J("#sih-resubmit-orders"),e=t.find(".sih-market-content__current-price"),n=t.find("#sih-resubmit-btn");e.off("click").click((function(){var e=$J(this),r=e.attr("data-price"),i=e.closest(".sih-market-content__item").find(".sih-market-content__input");i.val(r),onChangePrice(i),n.hasClass("disabled opacity-50per")||isPriceChanged(t)||n.addClass("disabled opacity-50per")}))},bestPriceAction=function(){var t=$J("#sih-resubmit-orders"),e=t.find(".sih-market-content__best-price"),n=t.find("#sih-resubmit-btn");e.off("click").click((function(){var t=$J(this),e=t.attr("data-price"),r=t.closest(".sih-market-content__item").find(".sih-market-content__input");r.val(e),onChangePrice(r),n.removeClass("disabled opacity-50per")}))},resubmitGroupModal_focusOnInputOpen=function(){$J("#sih-resubmit-orders-group-input-all").trigger("focus"),$J("#sih-resubmit-orders-group-input-all")[0].select()},changeItemInputAction=function(){var t=$J("#sih-resubmit-orders"),e=t.find(".sih-market-content__input"),n=t.find("#sih-resubmit-btn"),r=null;e.each((function(e,i){var a=$J(i);a.focus((function(){a.keyup((function(){clearTimeout(r),r=setTimeout((function(){onChangePrice(a),isPriceChanged(t)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per")}),500)}))})),a.focusout((function(){a.off("keyup")})),a.off("change").change((function(){onChangePrice(a),isPriceChanged(t)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per")}))}))},changeAllInputAction=function(){var t=$J("#sih-resubmit-orders"),e=t.find("#sih-resubmit-orders-group-input-all"),n=t.find("#sih-resubmit-btn"),r=null;e.focus((function(){e.keyup((function(){var e=+$J(this).val()||0;clearTimeout(r),r=setTimeout((function(){e&&(onChangePrice(),isPriceChanged(t)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per"))}),500)}))})),e.focusout((function(){e.off("keyup")})),e.off("change").change((function(){(+$J(this).val()||0)&&(onChangePrice(),isPriceChanged(t)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per"))}))},onChangePrice=function(t){_ValidateInputPrice(t),renderAlertMessage()},renderAlertMessage=function(){var t=$J("#sih-resubmit-orders"),e=t.attr("data-table-id"),n=t.find(".sih-market-content__item"),r=t.find("#sih-resubmit-btn"),i=t.find(".sih-info-message"),a=i.find(".sih-info-message__alert"),o=0,s=0;n.each((function(t,e){var n=$J(e),r=+n.find(".sih-market-content__current-price").attr("data-price"),i=+n.find(".sih-market-content__input").val();o+=r,s+=i}));var c=(0,global.getPercentNumberDifference)(s,o,"sell_listings"===e?-1:1),l=Math.abs(Math.ceil(1e3*(s-o))/1e3),d=currency_service.A.getPriceFromCurrency(l,currencyId,currencyId).text;if(c<=-10){if(r.hasClass("sih-modal__button_blue")&&(t.find(".sih-resubmit-orders-group__modal").addClass("alert"),r.removeClass("sih-modal__button_blue").addClass("sih-modal__button_red").text(SIHLang.market.resubmit_orders.alert_resubmit)),a.length)a.find(".alert-info__percent").text("".concat(Math.abs(c),"%")),a.find(".alert-info__price").text("(".concat(d,")")),i.find(".sih-info-message__default").fadeOut(300,(function(){a.fadeIn(300)}));else{var u=$J('\n        <div class="sih-info-message__alert alert-info gap-5">\n          <span class="text text_red">'.concat(SIHLang.market.resubmit_orders.attention,'</span>\n          <span class="text text_white"\n            >').concat("sell_listings"===e?SIHLang.market.resubmit_orders.new_price_less_1:SIHLang.market.resubmit_orders.new_price_bigger_1,'</span\n          >\n          <span class="alert-info__percent text text_white">').concat(Math.abs(c),'%</span>\n          <span class="alert-info__price text text_white">(').concat(d,')</span>\n          <span class="text text_white"\n            >').concat("sell_listings"===e&&"en"===lang?SIHLang.market.resubmit_orders.new_price_less_2:"","</span\n          >\n        </div>\n      "));i.append(u)}i.find(".sih-info-message__default").fadeOut(300,(function(){i.find(".sih-info-message__alert").fadeIn(300)}))}else t.find(".sih-resubmit-orders-group__modal").removeClass("alert"),r.removeClass("sih-modal__button_red").addClass("sih-modal__button_blue").text(SIHLang.market.resubmit_orders.confirm),a.fadeOut(300,(function(){i.find(".sih-info-message__default").fadeIn(300)}))},resubmitBtnAction=function(){var t=$J("#sih-resubmit-orders"),e=t.find("#sih-resubmit-btn"),n=t.find(".sih-market-content__item"),r=null;e.off("click").click((function(){clearTimeout(r),r=setTimeout((function(){var r=t.attr("data-table-id");e.addClass("pointer-events-none"),n.each((function(t,e){var n=$J(e),i=$J("#tabContentsMyListings").find("#".concat("sell_listings"===r?"mylisting_".concat(e.itemInfo[1]):"mybuyorder_".concat(e.itemInfo[0]))),a=i.find(".sih-resubmit"),o=n.find(".sih-market-content__input");i[0].itemInfo=e.itemInfo;var s=+o.val();+n.find(".sih-market-content__current-price").attr("data-price")!==s&&BuildResubmitData(i,"manual",o),i.find(".select-checkbox").prop("checked",!1),a.removeClass("disabled"),RemoveResubmitGroupModal(),RenderToolbar(r),RenderChangePanel(r),UpdateStateRemoveSelectedButton($J("#tabContentsMyActiveMarketListingsTable")),UpdateHeaderTotalResubmitPrice(r)}))}),200)}))},RenderSelectedListing=function(){selectedListing_loadHtml(),selectedListing_actionsListener()},HideSelectedListing=function(){var t=$J("body"),e=$J(".sih-toolbar"),n=t.find(".sih-selected-listing"),r=n.find(".sih-selected-listing__content"),i=e.find(".sih-toolbar__toggle-selected-listing");n.is(":visible")&&(n.fadeOut(300),r.toggleClass("animate-down"),i.text("".concat(SIHLang.market.resubmit_orders.toolbar.show_list)),r.children().remove())},selectedListing_loadHtml=function(){var t=$J("body"),e=$J(".sih-toolbar"),n=$J("#sih-resubmit-orders"),r=t.find(".sih-selected-listing"),i=r.find(".sih-selected-listing__content"),a=e.find(".sih-toolbar__toggle-selected-listing"),o=e.attr("data-table-id"),s=$J('.my_listing_section[data-table-id="'.concat(o,'"] .market_listing_row[id^="').concat("sell_listings"===o?"mylisting":"mybuyorder",'"]')).find(".select-checkbox:checked").closest(".market_listing_row").clone();s=refactorRow(s),i.prepend('<div class="sih-selected-listing__close"></div>'),i.append(s),r.is(":visible")?r.fadeOut(300):(n.is(":visible")&&(RemoveResubmitModal(),RemoveResubmitGroupModal()),r.fadeIn(300)),i.toggleClass("animate-down"),i.hasClass("animate-down")?(a.text("".concat(SIHLang.market.resubmit_orders.toolbar.show_list)),i.children().remove()):a.text("".concat(SIHLang.market.resubmit_orders.toolbar.hide_list))},selectedListing_actionsListener=function(){closeSelectedListingAction(),selectCheckboxAction(),openEditAlertModalAction()},closeSelectedListingAction=function(){var t=$J("body").find(".sih-selected-listing");t.find(".sih-selected-listing__fade").off("click").click((function(){HideSelectedListing()})),t.find(".sih-selected-listing__close").off("click").click((function(){HideSelectedListing()}))},selectCheckboxAction=function(){var t=$J(".sih-toolbar"),e=$J("body").find(".sih-selected-listing");e.find(".market_listing_row").each((function(n,r){$J(r).find(".select-checkbox").off("click").click((function(){var n=t.attr("data-table-id"),r=$J(this).attr("id"),i=$J('.my_listing_section[data-table-id="'.concat(n,'"] .market_listing_row[id^="').concat("sell_listings"===n?"mylisting":"mybuyorder",'"]')).find("#".concat(r));i.length&&(i.trigger("click"),e.find(".market_listing_row .select-checkbox:checked").length||HideSelectedListing())}))}))},openEditAlertModalAction=function(){var t=$J("body").find(".sih-selected-listing"),e=$J(".sih-toolbar").attr("data-table-id");t.find(".market_listing_row").each((function(t,n){$J(n).find(".sih-market-alert").off("click").click((function(){RenderEditAlertModal(e)}))}))},refactorRow=function(t){var e=$J(".sih-toolbar").attr("data-table-id");return t.find(".market_listing_right_cell.market_listing_edit_buttons.placeholder").remove(),t.each((function(t,n){var r=$J(n);r.find(".sih-listing__color-cell").remove(),r.find("div").each((function(t,e){"clear: both"===$J(e).attr("style")&&$J(e).remove()})),r.prepend('<div class="sih-listing__item-info row items-center"></div>');var i=r.find(".sih-listing__item-info");r.find(".market_listing_item_img").prependTo(i),r.find(".market_listing_item_name_block").appendTo(i),r.find(".sih-listing__item-info").after('<div class="sih-listing__price-info row items-center justify-center"></div>');var a=r.find(".sih-listing__price-info");if(r.find(".market_listing_right_cell.market_listing_listed_date.can_combine").appendTo(a),r.find(".market_listing_minimum").length)r.find(".market_listing_minimum").appendTo(a);else if("sell_listings"===e){a.prepend('<div\n        class="row items-center justify-center market_listing_right_cell market_listing_minimum"\n      ></div>')}r.find(".market_listing_right_cell.market_listing_my_price").appendTo(a)})),t},checkLoadersDebounce=null,RenderToolbar=function(t){IsEnabledResubmitOrders().then((function(e){if(e.success){if("await_listings"===t)return;sih_app_global_service.A.getSubscribeAds().then((function(e){toolbar_loadHtml(t,e.success),CheckLoadedPricesSelectedRows()}))}}))},CheckLoadedPricesSelectedRows=function(){clearTimeout(checkLoadersDebounce),checkLoadersDebounce=setTimeout((function(){var t,e=$J(".sih-toolbar"),n=e.attr("data-table-id"),r=$J('.my_listing_section[data-table-id="'.concat(n,'"] .market_listing_row[id^="').concat("sell_listings"===n?"mylisting":"mybuyorder",'"]')).find(".select-checkbox:checked").closest(".market_listing_row"),i=e.find(".sih-toolbar__buttons"),a=e.find(".sih-toolbar__info"),o=0;r.each((function(e,n){$J(n).find(".sih-resubmit").hasClass("without-price")?t=!1:o++})),t=void 0===t&&r.length?!t:t,e.length&&e.is(":visible")&&(t?e.find(".sih-toolbar__buttons").is(":visible")||a.fadeOut(200,(function(){e.find(".sih-toolbar__buttons").css("display","flex").hide().fadeIn(50)})):i.addClass("pointer-events-none").fadeOut(200,(function(){var t;i.removeClass("pointer-events-none"),a.children().remove();var e=getLoadPricesBtn(n);e&&e.hasClass("animated-background")?t=$J('\n              <span class="text text_white text-center fs-14">'.concat(SIHLang.market.resubmit_orders.toolbar.load_info,"</span>\n            ")):(t=$J('\n              <div class="row items-center gap-5">\n                <a href="javascript:void(0)" class="sih-toolbar__load-prices text text_blue fs-14"\n                  >'.concat(SIHLang.market.resubmit_orders.tooltips.need_load_price_1,'</a\n                >\n                <span class="text text_white fs-14">').concat(SIHLang.market.resubmit_orders.tooltips.need_load_price_2,"</span>\n              </div>\n            "))).off("click").click((function(){return $J('.my_listing_section[data-table-id="'.concat(n,'"]')).find(".load_price_manual").trigger("click")})),a.append(t),a.is(":visible")||a.css("display","flex").hide().fadeIn(100)})),loadToolbarProgress(o,r.length))}),300)},loadToolbarProgress=function(t,e){var n=0,r=$J(".sih-toolbar"),i=r.find(".sih-toolbar__progress-bar"),a=Number(r.css("width").replace(/px/g,"").trim());a!==(n+=a/e*t)?(r.hasClass("progress")||r.addClass("progress"),i.width(Math.ceil(n)),i.is(":visible")||i.css("display","flex").hide().fadeIn()):i.width(Math.ceil(n)).fadeOut(1100,(function(){i.width(0),r.removeClass("progress")}))},toolbar_loadHtml=function(t,e){var n=$J("body"),r=$J('.my_listing_section[data-table-id="'.concat(t,'"] .market_listing_row[id^="').concat("sell_listings"===t?"mylisting":"mybuyorder",'"]')).find(".select-checkbox:checked"),i=$J('.my_listing_section[data-table-id="'.concat("sell_listings"===t?"buy_orders":"sell_listings",'"] .market_listing_row[id^="').concat("sell_listings"===t?"mybuyorder":"mylisting",'"]')).find(".select-checkbox:checked"),a=r?r.length:0;a&&i.length&&(i.each((function(t,e){return $J(e).trigger("click")})),RenderToolbar(t));var o=(+g_rgWalletInfo.wallet_currency_increment||1)/100,s=currency_service.A.getPriceFromCurrency(o,currencyId,currencyId).text,c=$J('\n    <div class="sih-toolbar animate-down sih-global progress" data-table-id="'.concat(t,'">\n      <div class="sih-toolbar__inner">\n        <div class="column gap-14">\n          <div class="row gap-5">\n            <span class="text text_white">').concat(SIHLang.market.resubmit_orders.selected,'</span>\n            <span class="sih-toolbar__stack-count text text_white">').concat(a,'</span>\n            <span class="text text_white">').concat(SIHLang.market.resubmit_orders.items,'</span>\n          </div>\n          <div class="row gap-20">\n            <a href="javascript:void(0)" class="sih-toolbar__uncheck-all text text_blue hover-opacity-8"\n              >').concat(SIHLang.market.resubmit_orders.toolbar.clear_list,'</a\n            >\n            <a href="javascript:void(0)" class="sih-toolbar__toggle-selected-listing text text_blue hover-opacity-8"\n              >').concat(SIHLang.market.resubmit_orders.toolbar.show_list,'</a\n            >\n          </div>\n        </div>\n        <div class="sih-toolbar__buttons">\n          ').concat(e?"":'\n                 <div class="sih-toolbar__sub-info">\n                    <span class="text text_light-grey fs-12">'.concat(SIHLang.market.resubmit_orders.sub_info_2,' <span class="sih-toolbar__sub-btn">SIH.Black</span></span>\n                 </div>\n               '),'\n          <a href="javascript:void(0)" class="sih-toolbar__resubmit sih-toolbar__button" data-state="default">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_default.svg" alt="resubmit_default" />\n            <span class="row gap-5">\n              <span class="sih-toolbar__changed-text text"\n                >').concat("sell_listings"===t?SIHLang.market.resubmit_orders.drop:SIHLang.market.resubmit_orders.add,'</span\n              >\n              <span class="text">').concat(s,'</span>\n            </span>\n          </a>\n          <a href="javascript:void(0)" class="sih-toolbar__resubmit sih-toolbar__button" data-state="percent">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_percent.svg" alt="resubmit_percent" />\n            <span class="row gap-5">\n              <span class="sih-toolbar__changed-text text"\n                >').concat("sell_listings"===t?SIHLang.market.resubmit_orders.drop:SIHLang.market.resubmit_orders.add,'</span\n              >\n              <span class="text">1%</span>\n            </span>\n          </a>\n          <a href="javascript:void(0)" class="sih-toolbar__resubmit sih-toolbar__button" data-state="manual">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_manual.svg" alt="resubmit_manual" />\n            <span class="text">').concat(SIHLang.market.resubmit_orders.set_price,'</span>\n          </a>\n        </div>\n        <div class="sih-toolbar__info"></div>\n        <div class="sih-toolbar__progress-bar"></div>\n      </div>\n    </div>\n\n    <div class="sih-selected-listing">\n      <div class="sih-selected-listing__fade"></div>\n      <div class="sih-selected-listing__content animate-down"></div>\n    </div>\n  ')),l=n.find(".sih-toolbar"),d=n.find(".sih-change-panel");!l.length&&a?(n.append(c),setTimeout((function(){n.find(".sih-toolbar").removeClass("animate-down"),RelocatePriceIndicator()}),100),toolbar_actionsListener()):a>0?(l.attr("data-table-id",t),l.find(".sih-toolbar__stack-count").text(a),d.hasClass("animate-down")||d.addClass("animate-down"),l.removeClass("animate-down"),updateToolbar(),RelocatePriceIndicator()):(l.addClass("animate-down"),RenderChangePanel(t));var u=n.find(".sih-toolbar .sih-toolbar__sub-info");"sell_listings"===t?u.show():u.hide()},updateToolbar=function(){var t=$J(".sih-toolbar"),e=t.attr("data-table-id");t.find(".sih-toolbar__changed-text").text("".concat("sell_listings"===e?SIHLang.market.resubmit_orders.drop:SIHLang.market.resubmit_orders.add))},toolbar_actionsListener=function(){uncheckAllAction(),showSelectedListingAction(),toolbar_resubmitBtnAction(),sihBlackModalAction()},uncheckAllAction=function(){var t=$J(".sih-toolbar"),e=t.find(".sih-toolbar__uncheck-all"),n=null;e.off("click").click((function(){var e=t.attr("data-table-id");clearTimeout(n),n=setTimeout((function(){var t="sell_listings"===e?$J("#tabContentsMyActiveMarketListingsTable"):$J("#buy_orders").closest(".my_listing_section");t.find(".market_listing_table_header .select-checkbox").prop("checked",!1),t.find('.market_listing_row[id^="'.concat("sell_listings"===e?"mylisting":"mybuyorder",'"] .select-checkbox:checked')).trigger("click"),RemoveResubmitModal(),RemoveResubmitGroupModal(),RenderToolbar(e),HideSelectedListing(),UpdateStateRemoveSelectedButton(t)}),200)}))},showSelectedListingAction=function(){var t=$J(".sih-toolbar").find(".sih-toolbar__toggle-selected-listing"),e=null;t.off("click").click((function(){clearTimeout(e),e=setTimeout((function(){RenderSelectedListing()}),300)}))},toolbar_resubmitBtnAction=function(){var t=$J(".sih-toolbar"),e=t.find(".sih-toolbar__resubmit");e.off("click").click((function(){var n=t.attr("data-table-id"),r=$J(this);r.addClass("animated").siblings(".sih-toolbar__button").addClass("opacity-50per disabled");var i=r.attr("data-state"),a="sell_listings"===n?$J("#tabContentsMyActiveMarketListingsTable"):$J("#buy_orders").closest(".my_listing_section"),o=a.find('.market_listing_row[id^="'.concat("sell_listings"===n?"mylisting":"mybuyorder",'"] .select-checkbox:checked')).closest(".market_listing_row");Promise.all(o.map((function(t,e){return new Promise((function(n){var r=$J(e),a=r.find(".sih-resubmit"),o=a.find(".sih-resubmit__btn");"manual"!==i?setTimeout((function(){BuildResubmitData(r,i),o.attr("data-state",i),o.find("img").attr("src","chrome-extension://".concat(SIHID,"/assets/market/resubmit/resubmit_").concat(i,".svg")).attr("alt",i),r.find(".select-checkbox").prop("checked",!1),a.removeClass("disabled"),n()}),100*(t+1)):n(r)}))})).toArray()).then((function(r){a.find(".market_listing_table_header .select-checkbox").prop("checked",!1),"manual"!==i?(HideSelectedListing(),RenderChangePanel(n),RenderToolbar(n),UpdateStateRemoveSelectedButton(a),e.removeClass("opacity-50per disabled animated")):(HideSelectedListing(),ResubmitGroupModal(r),t.find(".sih-toolbar__button").removeClass("animated").addClass("opacity-50per disabled")),UpdateHeaderTotalResubmitPrice(n)}))}))},getLoadPricesBtn=function(t){var e;switch(t){case"sell_listings":e=$J("#load_sell_overprices");break;case"buy_orders":e=$J("#load_buy_lowerprices")}return e},sihBlackModalAction=function(){$J(".sih-toolbar").find(".sih-toolbar__sub-btn").off("click").click((function(){loadSubscribeAds(),ShowModalSubscribeAds()}))};function removeSelected_typeof(t){return removeSelected_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},removeSelected_typeof(t)}function removeSelected_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */removeSelected_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==removeSelected_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(removeSelected_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function removeSelected_createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=removeSelected_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function removeSelected_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return removeSelected_arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?removeSelected_arrayLikeToArray(t,e):void 0}}function removeSelected_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function removeSelected_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function removeSelected_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){removeSelected_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){removeSelected_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var RenderRemoveSelectedButton=function(){removeSelected_loadHtml(),removeSelected_removeListingAction()},RemoveSelectedListing=function(){var t=removeSelected_asyncToGenerator(removeSelected_regeneratorRuntime().mark((function t(e){var n,r,i,a,o,s,c,l,d,u;return removeSelected_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.attr("data-table-id"),r=e.find(".market_listing_row").find(".select-checkbox:checked"),i=r.toArray(),a=LocalStorageSihMarketResubmit.getDelay(n),o=a.delay,s=a.isEnabled,c=[],l=removeSelected_createForOfIteratorHelper(i),t.prev=6,u=removeSelected_regeneratorRuntime().mark((function t(){var e,n,r,i;return removeSelected_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d.value,n=$J(e).closest(".market_recent_listing_row").attr("id"),!s){t.next=5;break}return t.next=5,new Promise((function(t){return setTimeout(t,o)}));case 5:0==n.indexOf("mylisting")?(r=n.substring(10),$J("#".concat(n," .market_listing_edit_buttons.actual_content")).find(".item_market_action_button.item_market_action_button_edit").text("Removing..."),c.push(new Promise((function(t,e){$J.post("//steamcommunity.com/market/removelisting/".concat(r),{sessionid:g_sessionID}).then(t).fail(e)})))):0==n.indexOf("mybuyorder")&&(i=n.substring(11),$J("#".concat(n," .market_listing_edit_buttons.actual_content")).find(".item_market_action_button.item_market_action_button_edit").text("Cancelling..."),c.push(new Promise((function(t,e){$J.post("//steamcommunity.com/market/cancelbuyorder/",{sessionid:g_sessionID,buy_orderid:i}).then(t).fail(e)}))));case 6:case"end":return t.stop()}}),t)})),l.s();case 9:if((d=l.n()).done){t.next=13;break}return t.delegateYield(u(),"t0",11);case 11:t.next=9;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(6),l.e(t.t1);case 18:return t.prev=18,l.f(),t.finish(18);case 21:Promise.all(c).then((function(t){var e=i.reduce((function(t,e){var r=$J(e).parents(".market_recent_listing_row"),i=GetListingItemRowInfo(r);return r.hide(300,(function(){r.remove(),"sell_listings"===n&&clearGlobalListingRows(r.attr("id")),RenderToolbar(n)})),t.push(i[4]),t}),[]);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_REMOVE_ITEM_FOR_SALE",data:{assetids:e}},(function(){})),RefreshMyMarketListings()})).catch((function(t){i.forEach((function(t){var e=$J(t).parents(".market_recent_listing_row");e.hide(300,(function(){e.remove(),"sell_listings"===n&&clearGlobalListingRows(e.attr("id")),RenderToolbar(n)}))})),RefreshMyMarketListings()}));case 22:case"end":return t.stop()}}),t,null,[[6,15,18,21]])})));return function(e){return t.apply(this,arguments)}}(),UpdateStateRemoveSelectedButton=function(t){var e=t.find(".market_listing_row:not(.stack)"),n=t.find(".sih-market-filter .sih-market-filter__right-side .sih-market-filter__remove-selected");e.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible:checked").length>0?n.length&&n.removeClass("disabled"):n.length&&!n.hasClass("disabled")&&n.addClass("disabled")},removeSelected_loadHtml=function(){var t=$J(".sih-market-filter").find(".sih-market-filter__right-side"),e=$J('\n    <a href="javascript:void(0)" class="sih-market-filter__remove-selected disabled">\n      <svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path\n          d="M5 0V1H0V3H1V16C1 16.5304 1.21071 17.0391 1.58579 17.4142C1.96086 17.7893 2.46957 18 3 18H13C13.5304 18 14.0391 17.7893 14.4142 17.4142C14.7893 17.0391 15 16.5304 15 16V3H16V1H11V0H5ZM3 3H13V16H3V3ZM5 5V14H7V5H5ZM9 5V14H11V5H9Z"\n          fill="#FFFFFF"\n        />\n      </svg>\n    </a>\n  ');t.find(".sih-market-filter__remove-selected").length||t.append(e)},removeSelected_removeListingAction=function(){$J(".sih-market-filter").find(".sih-market-filter__right-side").find(".sih-market-filter__remove-selected").off("click").click((function(){var t=$J(this).closest(".my_listing_section");$J(".sih-toolbar").hasClass("animate-down")||$J(".sih-toolbar").addClass("animate-down"),RenderCustomRemoveModal(t)}))},clearGlobalListingRows=function(t){$ACTIVE_LISTING_ROWS.each((function(e,n){$J(n).attr("id")===t&&$ACTIVE_LISTING_ROWS.splice(e,1)}))},RenderResubmitModal=function(t){resubmitModal_loadHtml(t),resubmitModal_listenerActions()},RemoveResubmitModal=function(){var t=$J("#sih-resubmit-orders"),e=$J(".sih-toolbar").find(".sih-toolbar__button");t.fadeOut(300,(function(){t.remove(),e.removeClass("disabled opacity-50per")}))},resubmitModal_loadHtml=function(t){var e,n,r=$J("body"),i=t.attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",a=!!t.find(".sih-market-alert").length,o=GetListingItemRowInfo(t),s=t.find(".market_listing_item_name_link").attr("href"),c=t.find(".market_listing_item_img").attr("src"),l=t.find(".market_listing_item_img").css("border-color"),d=t.find(".market_listing_item_name_link").text(),u=t.find(".market_listing_game_name").text(),_="sell_listings"===i?t.find(".market_listing_right_cell.market_listing_my_price").find(".market_listing_price span"):t.find(".sih_listing_my_price"),h="sell_listings"===i?t.find(".market_listing_minimum--text").text().trim():t.find(".market_listing_buyorder_max .market_listing_price").text().trim(),f="sell_listings"===i?_.find("span:first-child").text().trim():_.text().trim(),m="sell_listings"===i?_.find("span:last-child").text().trim():0,p=f.match(new RegExp(/([\d+?., ]+)/g))||"0",g=(0,global.parseNumber)("0"!==p?p[0]:p),v=h.match(new RegExp(/([\d+?., ]+)/g))||"0",y=(0,global.parseNumber)("0"!==v?v[0]:v),b=LocalStorageSihMarketResubmit.getPercentAlert(i).percent_alert,w=void 0===b?20:b,k=(+g_rgWalletInfo.wallet_currency_increment||1)/100,S=parseFloat(null!==(e=g_rgWalletInfo.wallet_publisher_fee_percent_default)&&void 0!==e?e:.1),C=parseFloat(null!==(n=g_rgWalletInfo.wallet_fee_percent)&&void 0!==n?n:.05),x=GetTotalWithFees(g_rgWalletInfo.wallet_market_minimum,S,C,g_rgWalletInfo)/100,A=$J('\n    <div id="sih-resubmit-orders" class="sih-resubmit-orders" data-table-id="'.concat(i,'">\n      <div class="sih-resubmit-orders__fade"></div>\n      <div class="sih-global sih-modal sih-resubmit-orders__modal">\n        <div class="sih-resubmit-orders__inner sih-modal__inner">\n          <div class="row gap-20 items-center justify-between">\n            <div class="sih-resubmit-orders__item-info row items-center">\n              <img\n                class="sih-resubmit-orders__image market_listing_item_img"\n                src="').concat(c,'"\n                style="border-color: ').concat(l,'"\n              />\n              <div class="column">\n                <a href="').concat(s,'" target="_blank" class="sih-resubmit-orders__item-name text bold">').concat(d,'</a>\n                <span class="text fs-12 text_grey-900">').concat(u,'</span>\n              </div>\n            </div>\n\n            <div class="sih-resubmit-orders__compare">\n              <a\n                href="javascript:void(0)"\n                class="sih-resubmit-orders__current-price column"\n                data-price="').concat(g,'"\n              >\n                <span class="text text_white bold text-center text-ellipsis">').concat(f,"</span>\n                ").concat(m?'<span class="text text_grey-900 text-center text-ellipsis">'.concat(m,"</span>"):"",'\n              </a>\n\n              <div class="row justify-center items-center w-24 h-24">\n                <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z"\n                    fill="#9EA7B3"\n                  />\n                </svg>\n              </div>\n\n              <a\n                href="javascript:void(0)"\n                class="sih-resubmit-orders__changed-price column"\n                data-price="').concat(g,'"\n              >\n                <span class="sih-resubmit-orders__changed-price--selling text text_white bold text-center text-ellipsis"\n                  >').concat(f,"</span\n                >\n                ").concat(m?'<span class="sih-resubmit-orders__changed-price--receive text text_grey-900 text-center text-ellipsis">'.concat(m,"</span>"):"","\n              </a>\n            </div>\n          </div>\n\n          ").concat(a?'\n                <div class="sih-resubmit-orders__info-message sih-info-message" data-state="dumping">\n                  <div class="sih-info-message__default">\n                    <span class="sih-info-message__attention-icon"\n                      ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path\n                          fill-rule="evenodd"\n                          clip-rule="evenodd"\n                          d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                          fill="#D85752"\n                        />\n                      </svg>\n                    </span>\n\n                    <span class="text">\n                      '.concat("sell_listings"===i?SIHLang.market.resubmit_orders.alert_info_text_1:SIHLang.market.resubmit_orders.alert_info_buy_text_1,"\n                      ").concat(w,"%\n                      ").concat("sell_listings"===i&&"en"===lang?SIHLang.market.resubmit_orders.alert_info_text_2:"","\n                    </span>\n                  </div>\n                </div>\n              "):' <div class="sih-resubmit-orders__info-message sih-info-message" data-state="default">\n                <div class="sih-info-message__default">\n                  <span class="text">'.concat(SIHLang.market.resubmit_orders.set_new_price,"</span>\n                </div>\n              </div>"),'\n\n          <div class="column gap-16">\n            <label\n              for="sih-resubmit-orders-input"\n              class="row justify-between items-center bg-black-100 py-8 px-24 br2-grey"\n            >\n              <input\n                type="number"\n                id="sih-resubmit-orders-input"\n                class="sih-resubmit-orders__input text text_white bg-transparent border-none"\n                value="').concat(g,'"\n                step="').concat(k,'"\n                min="').concat(x,'"\n              />\n\n              <label\n                for="sih-resubmit-orders-input"\n                class="sih-resubmit-orders__best-price row gap-5"\n                data-price="').concat(y,'"\n              >\n                ').concat(a?'<span class="text text_red">'.concat(SIHLang.market.resubmit_orders.market_price,'</span>\n                            <span class="text text_red">').concat(h,"</span>"):'<span class="text text_grey-900">'.concat(SIHLang.market.resubmit_orders.market_price,'</span>\n                            <span class="text text_grey-900">').concat(h,"</span>"),'\n              </label>\n            </label>\n          </div>\n\n          <div class="sih-modal__buttons row justify-end">\n            <a\n              href="javascript:void(0)"\n              id="sih-resubmit-btn"\n              class="disabled opacity-50per sih-modal__button sih-modal__button_blue fs-10 bold py-8 text-uppercase"\n              >').concat(SIHLang.market.resubmit_orders.confirm,"</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  "));A[0].itemInfo=o,r.find("#sih-resubmit-orders").length||(r.append(A),$J("#sih-resubmit-orders").find(".sih-resubmit-orders__modal").fadeIn(300))},resubmitModal_listenerActions=function(){resubmitModal_closeModalAction(),resubmitModal_currentPriceAction(),resubmitModal_bestPriceAction(),changeResubmitInputAction(),resubmitModal_resubmitBtnAction(),resubmitModal_focusOnInputOpen()},resubmitModal_closeModalAction=function(){$J("#sih-resubmit-orders").find(".sih-resubmit-orders__fade").off("click").click((function(){RemoveResubmitModal()}))},resubmitModal_bestPriceAction=function(){var t=$J("#sih-resubmit-orders"),e=t.find(".sih-resubmit-orders__best-price"),n=t.find("#sih-resubmit-orders-input"),r=t.find("#sih-resubmit-btn");e.off("click").click((function(){var t=$J(this).attr("data-price");n.val(t),resubmitModal_onChangePrice(n),r.removeClass("disabled opacity-50per")}))},resubmitModal_onChangePrice=function(t){_ValidateInputPrice(t),resubmitModal_renderAlertMessage(),updateChangedPrice()},resubmitModal_renderAlertMessage=function(){var t=$J("#sih-resubmit-orders"),e=t.attr("data-table-id"),n=t.find(".sih-resubmit-orders__current-price"),r=t.find("#sih-resubmit-orders-input"),i=t.find(".sih-info-message"),a=t.find("#sih-resubmit-btn"),o=n.attr("data-price"),s=r.val(),c=(0,global.getPercentNumberDifference)(s,o,"sell_listings"===e?-1:1),l=i.find(".sih-info-message__alert");if(c<=-10){var d,u=currency_service.A.getPriceFromCurrency(Math.abs(s-o),currencyId,currencyId).text;if(a.hasClass("sih-modal__button_blue")&&(t.find(".sih-resubmit-orders__modal").addClass("alert"),a.removeClass("sih-modal__button_blue").addClass("sih-modal__button_red").text(SIHLang.market.resubmit_orders.alert_resubmit)),l.length)l.find(".alert-info__percent").text("".concat(Math.abs(c),"%")),l.find(".alert-info__price").text("(".concat(u,")")),i.find(".sih-info-message__default").fadeOut(300,(function(){l.fadeIn(300)}));else d="dumping"===i.attr("data-state")?$J('\n          <div class="sih-info-message__alert alert-info gap-5">\n            <span class="sih-info-message__attention-icon"\n              ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  fill-rule="evenodd"\n                  clip-rule="evenodd"\n                  d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                  fill="#D85752"\n                />\n              </svg>\n            </span>\n            <span class="text text_white"\n              >'.concat("sell_listings"===e?SIHLang.market.resubmit_orders.new_price_less_1:SIHLang.market.resubmit_orders.new_price_bigger_1,'</span\n            >\n            <span class="alert-info__percent text text_white">').concat(Math.abs(c),'%</span>\n            <span class="alert-info__price text text_white">(').concat(u,')</span>\n            <span class="text text_white"\n              >').concat("sell_listings"===e&&"en"===lang?SIHLang.market.resubmit_orders.new_price_less_2:"","</span\n            >\n          </div>\n        ")):$J('\n          <div class="sih-info-message__alert alert-info gap-5">\n            <span class="sih-info-message__attention-icon"\n              ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  fill-rule="evenodd"\n                  clip-rule="evenodd"\n                  d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                  fill="#D85752"\n                />\n              </svg>\n            </span>\n            <span class="text text_white"\n              >'.concat("sell_listings"===e?SIHLang.market.resubmit_orders.new_price_discount_1:SIHLang.market.resubmit_orders.new_price_discount_buy_1,'</span\n            >\n            <span class="alert-info__percent text text_white">').concat(Math.abs(c),'%</span>\n            <span class="alert-info__price text text_white">(').concat(u,')</span>\n            <span class="text text_white"\n              >').concat("sell_listings"===e?SIHLang.market.resubmit_orders.new_price_discount_2:SIHLang.market.resubmit_orders.new_price_discount_buy_2,"</span\n            >\n          </div>\n        ")),i.append(d),i.find(".sih-info-message__default").fadeOut(300,(function(){i.find(".sih-info-message__alert").fadeIn(300).css("display","flex")}))}else t.find(".sih-resubmit-orders__modal").removeClass("alert"),a.removeClass("sih-modal__button_red").addClass("sih-modal__button_blue").text(SIHLang.market.resubmit_orders.confirm),l.fadeOut(300,(function(){i.find(".sih-info-message__default").fadeIn(300)}))},updateChangedPrice=function(){var t=$J("#sih-resubmit-orders"),e=t.attr("data-table-id"),n=t.find(".sih-resubmit-orders__changed-price--selling"),r=t.find(".sih-resubmit-orders__changed-price--receive").length?t.find(".sih-resubmit-orders__changed-price--receive"):null,i=t.find("#sih-resubmit-orders-input"),a=i.val().match(new RegExp(/([-\d+?., ]+)/g))||"0",o=(0,global.parseNumber)("0"!==a?a[0]:a),s=o?RecalculateSellerPrice(o,"sell_listings"===e):0,c=RecalculateBuyerPrice(o);i.val(c/100);var l=currency_service.A.getPriceFromCurrency(c/100,currencyId,currencyId).text,d=currency_service.A.getPriceFromCurrency(s/100,currencyId,currencyId).text;n.text(l),r&&r.length&&r.text("(".concat(d,")"))},resubmitModal_currentPriceAction=function(){var t=$J("#sih-resubmit-orders"),e=t.find(".sih-resubmit-orders__current-price"),n=t.find("#sih-resubmit-orders-input"),r=t.find("#sih-resubmit-btn");e.off("click").click((function(){var t=$J(this).attr("data-price");n.val(t),r.hasClass("disabled opacity-50per")||r.addClass("disabled opacity-50per"),resubmitModal_onChangePrice(n)}))},changeResubmitInputAction=function(){var t=$J("#sih-resubmit-orders"),e=t.find("#sih-resubmit-orders-input"),n=t.find("#sih-resubmit-btn"),r=+t.find(".sih-resubmit-orders__current-price").attr("data-price"),i=null;e.focus((function(){e.keyup((function(){var t=$J(this),e=+t.val()||0;clearTimeout(i),i=setTimeout((function(){e>r||e<r?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per"),resubmitModal_onChangePrice(t)}),500)}))})),e.focusout((function(){e.off("keyup")})),e.off("change").change((function(){var t=$J(this),e=+t.val()||0;e>r||e<r?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per"),resubmitModal_onChangePrice(t)}))},resubmitModal_focusOnInputOpen=function(){$J("#sih-resubmit-orders-input").trigger("focus"),$J("#sih-resubmit-orders-input")[0].select()},resubmitModal_resubmitBtnAction=function(){var t=$J("#sih-resubmit-orders"),e=t.attr("data-table-id"),n=t.find("#sih-resubmit-orders-input"),r=t.find("#sih-resubmit-btn"),i=null;r.off("click").click((function(){clearTimeout(i),i=setTimeout((function(){r.addClass("pointer-events-none");var i=$J("#tabContentsMyListings").find("#".concat("sell_listings"===e?"mylisting_".concat(t[0].itemInfo[1]):"mybuyorder_".concat(t[0].itemInfo[0])));BuildResubmitData(i,"manual",n),RemoveResubmitModal(),RenderChangePanel(e),UpdateStateRemoveSelectedButton($J("#tabContentsMyActiveMarketListingsTable")),UpdateHeaderTotalResubmitPrice(e)}),200)}))},RenderMarketAlert=function(t,e){IsEnabledResubmitOrders().then((function(n){if(n.success){var r="sell_listings"===t?e.find(".market_listing_minimum"):e.find(".market_listing_buyorder_max");if(!r.find(".sih-market-alert").length&&("sell_listings"===t||"buy_orders"===t)){var i=$J(' <a class="sih-market-alert row items-center" title="">\n            <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M10.9998 11.0002H8.9998V6.0002H10.9998V11.0002ZM10.9998 15.0002H8.9998V13.0002H10.9998V15.0002ZM1.5998 18.0002H18.3998C19.5998 18.0002 20.2998 16.7002 19.6998 15.7002L11.2998 1.2002C10.6998 0.200195 9.2998 0.200195 8.6998 1.2002L0.299805 15.7002C-0.300195 16.7002 0.399805 18.0002 1.5998 18.0002Z"\n                fill="#C44E4E"\n              />\n            </svg>\n          </a>'),a=LocalStorageSihMarketResubmit.getPercentAlert(t).percent_alert,o=void 0===a?20:a,s=$J('\n          <div class="sih-global">\n            <div class="column gap-5">\n              <span class="text">\n                '.concat("sell_listings"===t?SIHLang.market.resubmit_orders.alert_info_text_1:SIHLang.market.resubmit_orders.alert_info_buy_text_1,'\n                <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8"\n                  >').concat(o,"%</a\n                >\n                ").concat("sell_listings"===t&&"en"===lang?SIHLang.market.resubmit_orders.alert_info_text_2:"",'\n              </span>\n              <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8"\n                >').concat(SIHLang.market.resubmit_orders.tooltips.alert_info_edit,"</a\n              >\n            </div>\n          </div>\n        "));i.tooltip({content:s.text(),position:{my:"left top",at:"left bottom",using:function(e,n){s.find(".sih-edit-alert__btn").click((function(){RenderEditAlertModal(t)})),$J(this).css(e),$J(".ui-tooltip-content").hide(),$J(this).append(s)}},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}).on("mouseenter",(function(t){i.not($J(this)).tooltip("close")})).on("mouseleave",(function(t){$J(".ui-tooltip:hover").length>0&&t.stopImmediatePropagation()})),$J("body").on("mouseleave",".ui-tooltip",(function(t){i.tooltip(),i.tooltip("close")})),i.click((function(){RenderResubmitModal(e)})),r.prepend(i)}}}))};function RegisterRelistingItemsBtn(){}var COMPLETED_MARKET_ITEMS_TIMER=null,RenderProgressPanel=function(t){progressPanel_loadHtml(t),progressPanel_actionsListener(),UpdateSuccessSellCount(t)},UpdateSuccessSellCount=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$J(".sih-progress-panel"),r=n.find(".sih-progress-panel__info-text"),i=n.find(".sih-progress-panel__buttons"),a=n.find(".sih-progress-panel__success-sell-count"),o=$J('.my_listing_section[data-table-id="'.concat(t,'"] .market_listing_row.stack[id^="').concat("sell_listings"===t?"mylisting":"mybuyorder",'"]')),s=n.find(".sih-progress-panel__switcher-reload"),c=o?o.length:0;clearInterval(COMPLETED_MARKET_ITEMS_TIMER),COMPLETED_MARKET_ITEMS_TIMER=setInterval((function(){var n="sell_listings"===t?"BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS":"BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS";chrome.runtime.sendMessage(SIHID,{type:n},(function(t){var n=t.COMPLETED_MARKET_ITEMS,o=n.filter((function(t){return t.isRemove&&t.isSell})),l=n.filter((function(t){return!t.isRemove||!t.isSell}));if(a.text(o.length),loadProgress(o.length,c),e){clearInterval(COMPLETED_MARKET_ITEMS_TIMER);var d=LocalStorageSihMarket.get();l.length?(s.hide(),r.text("".concat(l.length," ").concat(SIHLang.market.resubmit_orders.progress_panel.not_relisted_items))):(r.hide(),d.isAutoReloadOff&&setTimeout((function(){window.location.reload()}),3e3)),i.css("display","flex")}}))}),1e3)},progressPanel_loadHtml=function(t){var e=$J("body"),n=$J('.my_listing_section[data-table-id="'.concat(t,'"] .market_listing_row.stack[id^="').concat("sell_listings"===t?"mylisting":"mybuyorder",'"]')),r=n?n.length:0,i=LocalStorageSihMarket.get(),a=$J('\n    <div class="sih-progress-panel animate-down sih-global progress">\n      <div class="sih-progress-panel__inner">\n        <div class="sih-progress-panel__left-side row gap-5">\n          <span class="text text_white">'.concat(SIHLang.market.resubmit_orders.progress_panel.title,'</span>\n          <div class="row">\n            <span class="sih-progress-panel__success-sell-count text text_white">0</span>\n            <span class="text text_white">/</span>\n            <span class="text text_white">').concat(r,'</span>\n          </div>\n        </div>\n\n        <div class="sih-progress-panel__right-side row items-center gap-20">\n          <span class="sih-progress-panel__info-text text text_light-grey"\n            >').concat(SIHLang.market.resubmit_orders.progress_panel.dont_refresh,'</span\n          >\n          <div class="sih-progress-panel__buttons">\n            <a href="javascript:window.location.reload()" class="text text_blue hover-opacity-8"\n              >').concat(SIHLang.market.resubmit_orders.progress_panel.reload,'</a\n            >\n            <a href="javascript:void(0)" class="sih-progress-panel__switcher-reload text text_blue hover-opacity-8"\n              >').concat(i.isAutoReloadOff?SIHLang.market.buy_order_controls.reload_automatically:SIHLang.market.buy_order_controls.not_reload_automatically,'</a\n            >\n          </div>\n        </div>\n\n        <div class="sih-progress-panel__progress-bar"></div>\n      </div>\n    </div>\n  ')),o=e.find(".sih-progress-panel");!o.length&&r>0?(e.append(a),setTimeout((function(){e.find(".sih-progress-panel").removeClass("animate-down"),DisableMarketControls(),RelocatePriceIndicator()}),100)):r>0?(o.find(".sih-progress-panel__stack-count").text(r),o.removeClass("animate-down"),RelocatePriceIndicator()):(o.addClass("animate-down"),RelocatePriceIndicator())},progressPanel_actionsListener=function(){switcherReloadAction()},loadProgress=function(t,e){var n=0,r=$J(".sih-progress-panel"),i=r.find(".sih-progress-panel__progress-bar"),a=Number(r.css("width").replace(/px/g,"").trim());a!==(n+=a/e*t)?(r.hasClass("progress")||r.addClass("progress"),i.width(Math.ceil(n)),i.is(":visible")||i.css("display","flex").hide().fadeIn()):i.width(Math.ceil(n)).fadeOut(1100,(function(){i.width(0),r.removeClass("progress")}))},switcherReloadAction=function(){$J(".sih-progress-panel").find(".sih-progress-panel__switcher-reload").off("click").click((function(t){var e=$J(t.target),n=LocalStorageSihMarket.get();n.isAutoReloadOff=!n.isAutoReloadOff,LocalStorageSihMarket.set(n),e.text(n.isAutoReloadOff?SIHLang.market.buy_order_controls.reload_automatically:SIHLang.market.buy_order_controls.not_reload_automatically)}))},RenderFinalResubmitModal=function(t){finalResubmitModal_loadHtml(t),finalResubmitModal_listenerActions()},RemoveFinalResubmitModal=function(){var t=$J(".sih-final-resubmit"),e=t.attr("data-table-id");t.fadeOut(300,(function(){t.remove(),RenderChangePanel(e)}))},UpdateResubmitTotalInfo=function(){var t=$J(".sih-final-resubmit"),e=t.attr("data-table-id"),n=t.find(".sih-final-resubmit__content"),r=t.find(".sih-final-resubmit__bottom"),i=n.find(".sih-market-content__item"),a=r.find(".sih-final-resubmit__total-count"),o=r.find(".sih-final-resubmit__old-selling-price"),s=r.find(".sih-final-resubmit__old-receive-price"),c=r.find(".sih-final-resubmit__new-selling-price"),l=r.find(".sih-final-resubmit__new-receive-price"),d=r.find(".sih-final-resubmit__different-text"),u=r.find(".sih-final-resubmit__different-selling-price"),_=r.find("#sih-resell-items"),h=$J('.my_listing_section[data-table-id="'.concat(e,'"] .market_listing_row.stack[id^="').concat("sell_listings"===e?"mylisting":"mybuyorder",'"]')),f=h?h.length:0,m=getTotalPricesInfo(e),p=m.oldTotalSellingPriceFormatted,g=m.oldTotalReceivePriceFormatted,v=m.newTotalSellingPriceFormatted,y=m.newTotalReceivePriceFormatted,b=(m.different,m.differentFormatted),w=m.differentPercent;a.text("".concat(f," ").concat(SIHLang.market.resubmit_orders.items)),o.text(p),s.text(g),c.text(v),l.text("sell_listings"===e?y:v),i.length?r.addClass("border-top"):(n.css("min-height",0),r.removeClass("border-top")),i.length&&!isPriceChanged(t)?_.addClass("opacity-50per disabled"):_.removeClass("opacity-50per disabled"),w>=-3&&w<=3?(t.find(".sih-final-resubmit__modal").removeClass("alert"),d.removeClass("text_green-800 text_red").text("".concat(SIHLang.market.resubmit_orders.final_modal.result)),u.removeClass("text_green-800 text_red").text(b),_.removeClass("sih-modal__button_red").addClass("sih-modal__button_blue").text("".concat(SIHLang.market.resubmit_orders.relisting))):w<-3?(t.find(".sih-final-resubmit__modal").addClass("alert"),d.removeClass("text_green-800").addClass("text_red").text("".concat(SIHLang.market.resubmit_orders.final_modal.result)),u.removeClass("text_green-800").addClass("text_red").text(b),_.removeClass("sih-modal__button_blue").addClass("sih-modal__button_red").text("".concat(SIHLang.market.resubmit_orders.alert_resubmit))):(t.find(".sih-final-resubmit__modal").removeClass("alert"),d.removeClass("text_red").addClass("text_green-800").text("".concat(SIHLang.market.resubmit_orders.final_modal.result)),u.removeClass("text_red").addClass("text_green-800").text(b),_.removeClass("sih-modal__button_red").addClass("sih-modal__button_blue").text("".concat(SIHLang.market.resubmit_orders.relisting)))},finalResubmitModal_loadHtml=function(t){var e=$J("body"),n=$J('.my_listing_section[data-table-id="'.concat(t,'"] .market_listing_row.stack[id^="').concat("sell_listings"===t?"mylisting":"mybuyorder",'"]')),r=n?n.length:0,i=getTotalPricesInfo(t),a=i.oldTotalSellingPriceFormatted,o=i.oldTotalReceivePriceFormatted,s=i.newTotalSellingPriceFormatted,c=i.newTotalReceivePriceFormatted,l=(i.different,i.differentFormatted),d=i.differentPercent,u=$J('\n    <div id="sih-resubmit-orders" class="sih-final-resubmit" data-table-id="'.concat(t,'">\n      <div class="sih-final-resubmit__fade"></div>\n      <div class="sih-global sih-modal sih-final-resubmit__modal ').concat(d<-3?"alert":"",'">\n        <div class="sih-modal__close"></div>\n        <div class="sih-final-resubmit__inner sih-modal__inner">\n          <div class="title px-28">\n            ').concat("sell_listings"===t?SIHLang.market.resubmit_orders.final_modal.title:SIHLang.market.resubmit_orders.final_modal.title_buy,'\n          </div>\n\n          <div class="sih-final-resubmit__content sih-market-content"></div>\n\n          <div class="sih-final-resubmit__bottom ').concat(d<-3?"border-top":"",'">\n            <div class="sih-final-resubmit__bottom_left-side">\n              <span class="sih-final-resubmit__total-count text text_grey-900"\n                >').concat(r," ").concat(SIHLang.market.resubmit_orders.items,'</span\n              >\n              <div class="sih-final-resubmit__total-row">\n                <span class="text text_grey-900 ">').concat(SIHLang.market.resubmit_orders.final_modal.initial_cost,'</span>\n                <div class="row items-center gap-5">\n                  <span class="sih-final-resubmit__old-selling-price text text_grey-900"\n                    >').concat(a,"</span\n                  >\n                  ").concat("sell_listings"===t?'<span class="text text_grey-900">(<span class="sih-final-resubmit__old-receive-price">'.concat(o,"</span>)</span>"):"",'\n                </div>\n              </div>\n              <div class="sih-final-resubmit__total-row">\n                <span class="text text_grey-900">').concat(SIHLang.market.resubmit_orders.final_modal.after_resubmit,'</span>\n                <div class="row items-center gap-5">\n                  <span class="sih-final-resubmit__new-selling-price text text_grey-900"\n                    >').concat(s,"</span\n                  >\n                  ").concat("sell_listings"===t?'<span class="text text_grey-900">(<span class="sih-final-resubmit__new-receive-price">'.concat(c,"</span>)</span>"):"",'\n                </div>\n              </div>\n              <div class="sih-final-resubmit__total-row">\n                <span\n                  class="sih-final-resubmit__different-text text text_grey-900 ').concat(d>=-3&&d<=3?"":d<-3?"text_red":"text_green-800",'"\n                  >').concat("".concat(SIHLang.market.resubmit_orders.final_modal.result),'</span\n                >\n                <span\n                  class="sih-final-resubmit__different-selling-price text text_grey-900 ').concat(d>=-3&&d<=3?"":d<-3?"text_red":"text_green-800",'"\n                  >').concat(l,'</span\n                >\n              </div>\n            </div>\n\n            <div class="sih-final-resubmit__bottom_right-side">\n              <div class="column gap-5 items-end">\n                <span class="text fs-16"\n                  >').concat("sell_listings"===t?SIHLang.market.resubmit_orders.final_modal.you_get:SIHLang.market.resubmit_orders.final_modal.you_spend,'</span\n                >\n                <span class="sih-final-resubmit__new-receive-price text fs-20"\n                  >').concat("sell_listings"===t?c:s,'</span\n                >\n              </div>\n\n              <div class="sih-final-resubmit__buttons">\n                <a href="javascript:void(0)" id="sih-resubmit-cancel" class="sih-modal__button fs-16 py-13 px-36"\n                  >').concat(SIHLang.market.resubmit_orders.cancel,'</a\n                >\n                <a\n                  href="javascript:void(0)"\n                  id="sih-resell-items"\n                  class="sih-modal__button sih-modal__button').concat(d<-3?"_red":"_blue",' fs-16 py-13 px-36"\n                  >').concat("".concat(d<-3?SIHLang.market.resubmit_orders.alert_resubmit:SIHLang.market.resubmit_orders.relisting),"</a\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  "));n.each((function(e,n){var r=$J(n),i=+r.find(".resubmit-price__selling").attr("data-old-price"),a=+r.find(".resubmit-price__selling").attr("data-new-price");if((0,global.getPercentNumberDifference)(a,i,"sell_listings"===t?-1:1)<=-10){var o=GetModalContentItem(r,e,!0);u.find(".sih-final-resubmit__content").append(o)}})),e.find(".sih-final-resubmit").length||(u.find(".sih-final-resubmit__content").children().length&&u.find(".sih-final-resubmit__content").css("display","flex"),e.append(u),$J(".sih-final-resubmit").find(".sih-final-resubmit__modal").fadeIn(300))},getTotalPricesInfo=function(t){var e=$J('.my_listing_section[data-table-id="'.concat(t,'"] .market_listing_row.stack[id^="').concat("sell_listings"===t?"mylisting":"mybuyorder",'"]')),n=0,r=0,i=0,a=0;e.each((function(e,o){var s=$J(o),c="buy_orders"===t?+s.find(".market_listing_buyorder_qty .market_listing_price").text():1,l=+s.find(".resubmit-price__selling").attr("data-old-price")*c,d=+s.find(".resubmit-price__receive").attr("data-old-price")*c,u=+s.find(".resubmit-price__selling").attr("data-new-price")*c,_=+s.find(".resubmit-price__receive").attr("data-new-price")*c;n+=l,r+=d,i+=u,a+=_}));var o=currency_service.A.getPriceFromCurrency(n,currencyId,currencyId).text,s=currency_service.A.getPriceFromCurrency(r,currencyId,currencyId).text,c=currency_service.A.getPriceFromCurrency(i,currencyId,currencyId).text,l=currency_service.A.getPriceFromCurrency(a,currencyId,currencyId).text,d=Math.round((0,global.getPercentNumberDifference)(i,n,"sell_listings"===t?-1:1)),u=Math.ceil(1e3*(i-n))/1e3;return{oldTotalSellingPriceFormatted:o,oldTotalReceivePriceFormatted:s,newTotalSellingPriceFormatted:c,newTotalReceivePriceFormatted:l,different:u,differentFormatted:currency_service.A.getPriceFromCurrency(u,currencyId,currencyId).text,differentPercent:d}},finalResubmitModal_listenerActions=function(){finalResubmitModal_currentPriceAction(),finalResubmitModal_bestPriceAction(),finalResubmitModal_changeItemInputAction(),finalResubmitModal_closeModalAction(),resellItemsAction()},finalResubmitModal_currentPriceAction=function(){var t=$J(".sih-final-resubmit"),e=t.attr("data-table-id");t.find(".sih-market-content__current-price").off("click").click((function(){var t=$J(this),n=t.closest(".sih-market-content__item").find(".sih-market-content__input"),r=+t.attr("data-price"),i=+n.val();Math.round((0,global.getPercentNumberDifference)(r,i,"sell_listings"===e?-1:1))<=-10?n.removeClass("text_white").addClass("text_red"):n.removeClass("text_red").addClass("text_white"),n.val(r),finalResubmitModal_onChangePrice(n)}))},finalResubmitModal_bestPriceAction=function(){var t=$J(".sih-final-resubmit");t.find(".sih-market-content__best-price").off("click").click((function(){var e=t.attr("data-table-id"),n=$J(this),r=n.closest(".sih-market-content__item"),i=r.find(".sih-market-content__input"),a=+r.find(".sih-market-content__current-price").attr("data-price"),o=+n.attr("data-price");Math.round((0,global.getPercentNumberDifference)(o,a,"sell_listings"===e?-1:1))<=-10?i.removeClass("text_white").addClass("text_red"):i.removeClass("text_red").addClass("text_white"),i.val(o),finalResubmitModal_onChangePrice(i)}))},finalResubmitModal_changeItemInputAction=function(){var t=$J(".sih-final-resubmit"),e=t.find(".sih-market-content__input"),n=null;e.each((function(e,r){var i=$J(r),a=i.closest(".sih-market-content__item").find(".sih-market-content__current-price").attr("data-price");i.focus((function(){i.keyup((function(){clearTimeout(n),n=setTimeout((function(){var e=t.attr("data-table-id"),n=+i.val();Math.round((0,global.getPercentNumberDifference)(n,a,"sell_listings"===e?-1:1))<=-10?i.removeClass("text_white").addClass("text_red"):i.removeClass("text_red").addClass("text_white"),compareItemPrices(i),finalResubmitModal_onChangePrice(i)}),500)}))})),i.focusout((function(){i.off("keyup")})),i.off("change").change((function(){compareItemPrices(i),finalResubmitModal_onChangePrice(i)}))}))},finalResubmitModal_closeModalAction=function(){var t=$J(".sih-final-resubmit"),e=t.find(".sih-modal__close"),n=t.find(".sih-final-resubmit__fade"),r=t.find("#sih-resubmit-cancel");e.off("click").click((function(){RemoveFinalResubmitModal()})),n.off("click").click((function(){RemoveFinalResubmitModal()})),r.off("click").click((function(){RemoveFinalResubmitModal()}))},resellItemsAction=function(){var t=$J(".sih-final-resubmit"),e=$J("#sih-resell-items"),n=t.attr("data-table-id"),r=null;e.off("click").click((function(){clearTimeout(r),r=setTimeout((function(){e.addClass("pointer-events-none"),t.fadeOut(300,(function(){t.remove(),RenderProgressPanel(n),"sell_listings"===n?global.SellListing.resellItems().then((function(){UpdateSuccessSellCount("sell_listings",!0),$J('#tabContentsMyActiveMarketListingsRows .market_listing_row.stack[id^="mylisting"]').css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack")})):global.BuyOrders.createBuyOrders().then((function(){UpdateSuccessSellCount("buy_orders",!0),$J('#tabContentsMyListings .market_listing_row.stack[id^="mybuyorder"]').css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack")}))})),RegisterRelistingItemsBtn()}),200)}))},finalResubmitModal_onChangePrice=function(t){var e=t.closest(".sih-market-content__item");_ValidateInputPrice(t),changeResubmitItem(e),UpdateResubmitTotalInfo()},compareItemPrices=function(t){var e=$J(".sih-final-resubmit").attr("data-table-id"),n=t.closest(".sih-market-content__item").find(".sih-market-content__current-price").attr("data-price"),r=+t.val();Math.round((0,global.getPercentNumberDifference)(r,n,"sell_listings"===e?-1:1))<=-10?t.removeClass("text_white").addClass("text_red"):t.removeClass("text_red").addClass("text_white")},changeResubmitItem=function(t){var e=$J(".sih-final-resubmit").attr("data-table-id"),n=$J("#tabContentsMyListings").find("#".concat("sell_listings"===e?"mylisting_".concat(t[0].itemInfo[1]):"mybuyorder_".concat(t[0].itemInfo[0])));n[0].itemInfo=t[0].itemInfo,n.find(".resubmit-price").remove(),"sell_listings"===e?global.SellListing.removeItem(t[0].itemInfo[4]):global.BuyOrders.removeItem(t[0].itemInfo[0]);var r=t.find(".sih-market-content__input"),i=+r.val(),a=GetItemPriceInfo(n).oldSellingPrice;BuildResubmitData(n,"manual",r),a===i&&("sell_listings"===e?global.SellListing.removeItem(t[0].itemInfo[4]):global.BuyOrders.removeItem(t[0].itemInfo[0]))};function resubmitOrders_global_slicedToArray(t,e){return resubmitOrders_global_arrayWithHoles(t)||resubmitOrders_global_iterableToArrayLimit(t,e)||resubmitOrders_global_unsupportedIterableToArray(t,e)||resubmitOrders_global_nonIterableRest()}function resubmitOrders_global_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function resubmitOrders_global_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return resubmitOrders_global_arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?resubmitOrders_global_arrayLikeToArray(t,e):void 0}}function resubmitOrders_global_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function resubmitOrders_global_iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function resubmitOrders_global_arrayWithHoles(t){if(Array.isArray(t))return t}$J(window).on("beforeunload",(function(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STOP_RESELL_ITEMS"},(function(t){})),chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS"},(function(t){}))}));var LocalStorageSihMarketResubmit={_name:"SIH_MARKET_RESUBMIT",get:function(){return utils.zc.get(this._name)},set:function(t){utils.zc.set(this._name,t)},getPercentAlert:function(t){var e=utils.zc.get(this._name);return{percent_alert:e?e["percent_alert_".concat(t)]:20}},getDelay:function(t){var e=utils.zc.get(this._name);return e&&e["delay_".concat(t)]?e["delay_".concat(t)]:{isEnabled:!1,delay:300}}},BuildResubmitData=function(t,e,n){var r=$J("#sih-resubmit-orders"),i=t.find(".sih-resubmit"),a=t.find(".sih-resubmit__btn"),o=t.closest(".my_listing_section").attr("data-table-id"),s=t.find(".market_listing_item_name_link").attr("href"),c=resubmitOrders_global_slicedToArray(s.replace(/https:\/\/steamcommunity.com\/market\/listings\//,"").split("/"),2),l=c[0],d=c[1],u=GetItemPriceInfo(t,e),_=u.oldSellingPrice,h=u.newSellingPrice,f=u.oldReceivePrice,m=u.newReceivePrice,p=u.formattedNewSellingPrice,g=u.formattedNewReceivePrice;"manual"===e&&n&&(h=+n.val(),m=RecalculateSellerPrice(h,"sell_listings"===o),p=currency_service.A.getPriceFromCurrency(+h,currencyId,currencyId).text,g=currency_service.A.getPriceFromCurrency(m/100,currencyId,currencyId).text,a.attr("data-state","manual"),a.find("img").attr("src","chrome-extension://".concat(SIHID,"/assets/market/resubmit/resubmit_manual.svg")).attr("alt","manual"));var v="manual"!==e?GetListingItemRowInfo(t):r[0].itemInfo?r[0].itemInfo:t[0].itemInfo,y=LocalStorageSihMarket.get().commission,b=void 0===y||y;if(i.before('\n    <div class="resubmit-price">\n      <div class="column">\n        <span\n          class="resubmit-price__selling"\n          data-old-price="'.concat(_.toFixed(2),'"\n          data-new-price="').concat(h.toFixed(2),'"\n        >\n          ').concat(p,"\n        </span>\n        ").concat("sell_listings"===o?'\n              <span class="resubmit-price__receive fs-12"\n                style="display: '.concat(b?"flex":"none",'"\n                data-old-price="').concat(f/100,'"\n                data-new-price="').concat(m/100,'">\n                (').concat(g,")\n              </span>\n            "):"","\n      </div>\n    </div>\n  ")),"sell_listings"===o){var w={market_hash_name:d,listingid:v[1],appid:v[2],contextid:v[3],assetid:v[4],amount:1,price:m,inputPrice:getPriceAsInt((Math.floor(100*h)/100).toString())};global.SellListing.setItem(w),i.find(".sih-resubmit__undo").attr("data-id","".concat(v[4]))}else{var k=+t.find(".market_listing_buyorder_qty .market_listing_price").text(),S={payload:{buy_orderid:v[0],sessionid:g_sessionID,currency:g_rgWalletInfo&&g_rgWalletInfo.wallet_currency?g_rgWalletInfo.wallet_currency:1,appid:l,market_hash_name:decodeURIComponent(d),price_total:Math.round(100*h*k),quantity:k,billing_state:"",save_my_address:0},requestHeaders:{referer:s}};global.BuyOrders.setItem(S),i.find(".sih-resubmit__undo").attr("data-id","".concat(v[0]))}t.css("background-color","#101822").addClass("stack")},IsEnabledResubmitOrders=function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS",data:{steamId:g_steamID}},(function(e){t(e)}))}))},GetModalContentItem=function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=GetListingItemRowInfo(t),o=t.attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",s=i||!!t.find(".sih-market-alert").length,c=t.find(".market_listing_item_name_link").attr("href"),l=t.find(".market_listing_item_img").attr("src"),d=t.find(".market_listing_item_img").css("border-color"),u=t.find(".market_listing_item_name_link").text(),_=t.find(".market_listing_game_name").text(),h="sell_listings"===o?t.find(".market_listing_right_cell.market_listing_my_price").find(".market_listing_price span"):t.find(".sih_listing_my_price"),f="sell_listings"===o?t.find(".market_listing_minimum--text").text().trim():t.find(".market_listing_buyorder_max .market_listing_price").text().trim(),m="sell_listings"===o?h.find("span:first-child").text().trim():h.text().trim(),p=m.match(new RegExp(/([\d+?., ]+)/g))||"0",g=(0,global.parseNumber)("0"!==p?p[0]:p),v=f.match(new RegExp(/([\d+?., ]+)/g))||"0",y=(0,global.parseNumber)("0"!==v?v[0]:v),b=t.find(".resubmit-price__selling").length?+t.find(".resubmit-price__selling").attr("data-new-price"):0,w=(+g_rgWalletInfo.wallet_currency_increment||1)/100,k=parseFloat(null!==(n=g_rgWalletInfo.wallet_publisher_fee_percent_default)&&void 0!==n?n:.1),S=parseFloat(null!==(r=g_rgWalletInfo.wallet_fee_percent)&&void 0!==r?r:.05),C=GetTotalWithFees(g_rgWalletInfo.wallet_market_minimum,k,S,g_rgWalletInfo)/100,x=$J('\n    <div class="sih-market-content__item">\n      <div class="sih-market-content__item-info row items-center">\n        <img\n          class="sih-market-content__image market_listing_item_img"\n          src="'.concat(l,'"\n          style="border-color: ').concat(d,'"\n        />\n        <div class="column">\n          <a href="').concat(c,'" target="_blank" class="sih-market-content__item-name text bold" title="').concat(u,'"\n            >').concat(u,'</a\n          >\n          <span class="text fs-12 text_grey-900">').concat(_,'</span>\n        </div>\n      </div>\n\n      <div class="sih-market-content__compare">\n        <a\n          href="javascript:void(0)"\n          class="sih-market-content__current-price row items-center gap-15"\n          data-price="').concat(g,'"\n        >\n          ').concat(s?'\n                 <span class="sih-market-alert row items-center" title="">\n                    <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M10.9998 11.0002H8.9998V6.0002H10.9998V11.0002ZM10.9998 15.0002H8.9998V13.0002H10.9998V15.0002ZM1.5998 18.0002H18.3998C19.5998 18.0002 20.2998 16.7002 19.6998 15.7002L11.2998 1.2002C10.6998 0.200195 9.2998 0.200195 8.6998 1.2002L0.299805 15.7002C-0.300195 16.7002 0.399805 18.0002 1.5998 18.0002Z" fill="#C44E4E"/>\n                    </svg>\n                 </span>\n              ':"",'\n\n          <span class="text text_white bold text-center text-ellipsis">').concat(m,'</span>\n        </a>\n\n        <div class="row justify-center items-center w-24 h-24">\n          <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z"\n              fill="#9EA7B3"\n            />\n          </svg>\n        </div>\n\n        <label\n          for="sih-market-content-input-').concat(e,'"\n          class="sih-market-content__input-outer row justify-between items-center bg-black-100 py-8 px-24 br2-grey"\n        >\n          <input\n            type="number"\n            id="sih-market-content-input-').concat(e,'"\n            class="sih-market-content__input text ').concat(i?"text_red":"text_white",' bg-transparent border-none"\n            value="').concat(b||g,'"\n            step="').concat(w,'"\n            min="').concat(C,'"\n          />\n\n          <label\n            for="sih-market-content-input-').concat(e,'"\n            class="sih-market-content__best-price row gap-5"\n            data-price="').concat(y,'"\n          >\n            ').concat(s?'<span class="text text_red">'.concat(SIHLang.market.resubmit_orders.market_price,'</span>\n                        <span class="text text_red">').concat(f,"</span>"):'<span class="text text_grey-900">'.concat(SIHLang.market.resubmit_orders.market_price,'</span>\n                        <span class="text text_grey-900">').concat(f,"</span>"),"\n          </label>\n        </label>\n\n        ").concat(i?'\n              <a href="javascript:void(0)" class="sih-market-content__remove">\n                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z" fill="#9EA7B3"/>\n                </svg>\n              </a>\n            ':"","\n      </div>\n    </div>\n  "));x[0].itemInfo=a;var A=x.find(".sih-market-content__current-price"),I=x.find(".sih-market-alert");return AddCurrentPriceTooltip(A),AddAlertTooltip(I,o),x.find(".sih-market-content__item-name").tooltip({position:{my:"left top",at:"left bottom"},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}),x.find(".sih-market-content__remove").length&&x.find(".sih-market-content__remove").click((function(){var e=$J(this).closest(".sih-market-content__item");t.find(".resubmit-price").remove(),t.css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack"),"sell_listings"===o?global.SellListing.removeItem(a[4]):global.BuyOrders.removeItem(a[0]),UpdateHeaderTotalResubmitPrice(o),e.fadeOut(300,(function(){e.remove();var t=$J('.my_listing_section[data-table-id="'.concat(o,'"] .market_listing_row.stack[id^="').concat("sell_listings"===o?"mylisting":"mybuyorder",'"]')),n=t?t.length:0;UpdateResubmitTotalInfo(),n||RemoveFinalResubmitModal()}))})),x},_ValidateInputPrice=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=$J("#sih-resubmit-orders"),a=i.attr("data-table-id"),o=$J("#tabContentsMyActiveMarketListingsTable"),s=i.find(".sih-market-content__input"),c=+o.find("#totalRow0 .sih-total-sell__receive").attr("data-price"),l=0;o.find("#totalRow0 .total-resubmit-price__receive").length&&(c=+o.find("#totalRow0 .total-resubmit-price__receive").attr("data-price")),$J("#await_listings").length&&(l=+$J("#totalRow1").find(".sih-market-total__receive").attr("data-price"));var d=n?n.closest(".sih-market-content__compare").find(".sih-market-content__current-price").length?n.closest(".sih-market-content__compare").find(".sih-market-content__current-price"):n.closest(".sih-modal").find(".sih-resubmit-orders__current-price"):i.find(".sih-market-content__current-price"),u=n&&r?n:i.find("#sih-resubmit-orders-group-input-all"),_=n?n.closest(".sih-market-content__item").siblings().find(".sih-market-content__input"):i.find(".sih-market-content__item"),h=+g_rgWalletInfo.wallet_balance/100,f=+g_rgWalletInfo.wallet_max_balance/100,m=+g_rgWalletInfo.wallet_trade_max_balance/100,p=+d.attr("data-price"),g=RecalculateSellerPrice(p,"sell_listings"===a)/100,v=parseFloat(null!==(t=g_rgWalletInfo.wallet_publisher_fee_percent_default)&&void 0!==t?t:.1),y=parseFloat(null!==(e=g_rgWalletInfo.wallet_fee_percent)&&void 0!==e?e:.05),b=GetTotalWithFees(g_rgWalletInfo.wallet_market_minimum,v,y,g_rgWalletInfo)/100,w=+u.val()<b?b:+u.val()>m?m:+u.val(),k=RecalculateSellerPrice(w,"sell_listings"===a)/100;w=RecalculateBuyerPrice(w)/100;var S=0;n?_.each((function(t,e){var n=$J(e);S+=+n.val()})):S=w*_.length;var C=S?RecalculateSellerPrice(S,"sell_listings"===a)/100:0,x=Math.ceil(1.15*(f-h-(c+l+(n?C:0)-g))*100)/100;function A(){return!n&&r}(n?k:0)+C+c+l>f-h?x>m?A()&&s.each((function(t,e){var n=$J(e);_ValidateInputPrice(n,!1)})):(r?"sih-resubmit-orders-group-input-all"!==u.attr("id")&&(w<=x?u.val(w):u.val(x)):w<=x&&n.val(w),A()&&s.each((function(t,e){var n=$J(e);_ValidateInputPrice(n,!1)}))):A()?(u.val(w),s.val(u.val())):w<=x&&n.val(w)},GetListingItemRowInfo=function(t){return t.find(".item_market_action_button.item_market_action_button_edit").attr("href").match(/\((.+)\)/)[1].replace(/['\s]/g,"").split(",")},GetItemPriceInfo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=t.attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",r=t.find(".sih_listing_my_price").text().trim(),i="sell_listings"===n?t.find(".market_listing_minimum--text").text().trim():t.find(".market_listing_buyorder_max .market_listing_price").text().trim(),a=r.match(new RegExp(/([\d+?., ]+)/g))[0].trim()||"0",o=i.match(new RegExp(/([\d+?., ]+)/g))[0].trim()||"0",s=(0,global.parseNumber)(a),c="0"!==o?(0,global.parseNumber)(o):s,l=(+g_rgWalletInfo.wallet_currency_increment||1)/100;c&&("default"===e?c="sell_listings"===n?Math.round(100*(c-l))/100:Math.round(100*(c+l))/100:"percent"===e&&(c="sell_listings"===n?Math.round(100*(c-.01*c))/100:Math.round(100*(c+.01*c))/100));var d=RecalculateSellerPrice(s,"sell_listings"===n),u=c?RecalculateSellerPrice(c,"sell_listings"===n):d;return{oldSellingPrice:s,newSellingPrice:c=RecalculateBuyerPrice(c)/100,oldReceivePrice:d,newReceivePrice:u,formattedNewSellingPrice:currency_service.A.getPriceFromCurrency(c,currencyId,currencyId).text,formattedNewReceivePrice:currency_service.A.getPriceFromCurrency(u/100,currencyId,currencyId).text}},RecalculateSellerPrice=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=getPriceAsInt((Math.floor(100*t)/100).toString());return e?GetItemPriceFromTotal(n,g_rgWalletInfo):n},RecalculateBuyerPrice=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=getPriceAsInt((Math.floor(100*t)/100).toString()),r=t;if(e){var i,a,o=parseFloat(null!==(i=g_rgWalletInfo.wallet_publisher_fee_percent_default)&&void 0!==i?i:.1),s=parseFloat(null!==(a=g_rgWalletInfo.wallet_fee_percent)&&void 0!==a?a:.05),c=GetItemPriceFromTotal(n,g_rgWalletInfo);r=GetTotalWithFees(c,o,s,g_rgWalletInfo)}return r},RecalculatePriceDifferent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sell_listings";GetListingsRows(t).each((function(e,n){var r=$J(n),i=r.find(".sih_listing_my_price"),a="sell_listings"===t?r.find(".market_listing_minimum .market_listing_minimum--text"):r.find(".market_listing_buyorder_max .market_listing_price");if(a.length){var o=i.text().match(new RegExp(/([\d+?., ]+)/g))?i.text().match(new RegExp(/([\d+?., ]+)/g))[0].trim():"0",s=(0,global.parseNumber)(o),c=a.text().match(new RegExp(/([\d+?., ]+)/g))?a.text().match(new RegExp(/([\d+?., ]+)/g))[0].trim():"0",l=(0,global.parseNumber)(c);if(l&&s&&("sell_listings"===t?l<s:l>s)){var d=100*l,u=100*s,_=Math.round((0,global.getPercentNumberDifference)(d,u,"sell_listings"===t?-1:1)),h=LocalStorageSihMarketResubmit.getPercentAlert(t).percent_alert,f=void 0===h?20:h;r.find(".sih-market-alert").remove(),_<=-f&&RenderMarketAlert(t,r),r.hasClass("red-bg")||(r.addClass("red-bg"),r.prepend('<div class="sih-listing__color-cell start red"></div>'),r.append('<div class="sih-listing__color-cell end red"></div>'))}}}))},SaveSellListing=function(t){var e=Object.values(t).reduce((function(t,e){return Object.values(e).forEach((function(e){Object.values(e).forEach((function(e){if(2===e.status){var n=e.appid,r=e.contextid,i=e.id,a=e.classid,o=e.instanceid,s=e.amount,c=e.descriptions,l=e.market_hash_name,d={appid:n.toString(),contextid:r,assetid:i,classid:a,instanceid:o,amount:s,descriptions:c,market_hash_name:l};t.push(d)}}))})),t}),[]);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SAVE_ITEM_FOR_SALE",data:e},(function(){}))},isPriceChanged=function(t){var e=t.find(".sih-market-content__item"),n=!1;return e.each((function(t,e){var r=$J(e),i=r.find(".sih-market-content__input").val();+r.find(".sih-market-content__current-price").attr("data-price")!=+i&&(n=!0)})),n},AddCurrentPriceTooltip=function(t){t.attr("title","".concat(SIHLang.market.resubmit_orders.tooltips.current_price)).tooltip({position:{my:"left top",at:"left bottom"},tooltipClass:"sih-tooltip__current-price"})},AddAlertTooltip=function(t,e){var n=LocalStorageSihMarketResubmit.getPercentAlert(e).percent_alert,r=void 0===n?20:n,i=$J('\n    <div class="sih-global">\n      <div class="column gap-5">\n        <span class="text">\n          '.concat("sell_listings"===e?SIHLang.market.resubmit_orders.alert_info_text_1:SIHLang.market.resubmit_orders.alert_info_buy_text_1,'\n          <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8">').concat(r,"%</a>\n          ").concat("sell_listings"===e&&"en"===lang?SIHLang.market.resubmit_orders.alert_info_text_2:"",'\n        </span>\n        <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8"\n          >').concat(SIHLang.market.resubmit_orders.tooltips.alert_info_edit,"</a\n        >\n      </div>\n    </div>\n  "));t.tooltip({content:i.text(),position:{my:"left top",at:"left bottom",using:function(t,n){i.find(".sih-edit-alert__btn").click((function(){RenderEditAlertModal(e)})),$J(this).css(t),$J(".ui-tooltip-content").hide(),$J(this).append(i),$J(".sih-tooltip__current-price").hide()}}}).on("mouseenter",(function(e){t.not($J(this)).tooltip("close")})).on("mouseleave",(function(t){$J(".ui-tooltip:hover").length>0&&t.stopImmediatePropagation()})),$J("body").on("mouseleave",".ui-tooltip",(function(e){t.tooltip(),t.tooltip("close")}))},RelocatePriceIndicator=function(){var t=$J(".pq-container"),e=$J(".sih-toolbar:visible:not(.animate-down)"),n=$J(".sih-change-panel:visible:not(.animate-down)"),r=$J(".sih-progress-panel:visible:not(.animate-down)");e.length||n.length?t.css("bottom","15vh"):r.length?t.css("bottom","40px"):t.css("bottom","3px")},DisableMarketControls=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=$J(".market_listing_table_header .select-checkbox"),n=GetListingsRows("sell_listings"),r=GetListingsRows("await_listings"),i=GetListingsRows("buy_orders"),a=$J(".sih-select-overprices"),o=$J("#tabContentsMyActiveMarketListings_controls");n.children().toggleClass("pointer-events-none",t),r.children().toggleClass("pointer-events-none",t),i.children().toggleClass("pointer-events-none",t),a.toggleClass("pointer-events-none",t),e.toggleClass("pointer-events-none",t).parent().addClass("sih-global"),o.addClass("sih-global").children().toggleClass("pointer-events-none",t)},RenderChangePanel=function(t){IsEnabledResubmitOrders().then((function(e){e.success&&sih_app_global_service.A.getSubscribeAds().then((function(e){changePanel_loadHtml(t,e.success)}))}))},changePanel_loadHtml=function(t,e){var n=$J("body"),r=$J('.my_listing_section[data-table-id="'.concat(t,'"] .market_listing_row.stack[id^="').concat("sell_listings"===t?"mylisting":"mybuyorder",'"]')),i=$J('.my_listing_section[data-table-id="'.concat("sell_listings"===t?"buy_orders":"sell_listings",'"] .market_listing_row.stack[id^="').concat("sell_listings"===t?"mybuyorder":"mylisting",'"]')),a=r?r.length:0;a&&i.length&&(i.each((function(t,e){return $J(e).find(".sih-resubmit__undo").trigger("click")})),RenderChangePanel(t)),!a&&i.length&&RenderChangePanel("sell_listings"===t?"buy_orders":"sell_listings");var o=$J('\n    <div class="sih-change-panel animate-down sih-global" data-table-id="'.concat(t,'">\n      <div class="sih-change-panel__inner">\n        <div class="column items-center gap-8">\n          <div class="row gap-5">\n            <span class="text text_light-grey">').concat(SIHLang.market.resubmit_orders.change_panel.title,'</span>\n            <span class="sih-change-panel__stack-count text text_light-grey">').concat(a,'</span>\n            <span class="text text_light-grey">').concat(SIHLang.market.resubmit_orders.items,'</span>\n          </div>\n          <div class="sih-change-panel__sub-info row">\n            <span class="text text_light-grey fs-12"\n              >').concat("sell_listings"!==t||e?"":"".concat(SIHLang.market.resubmit_orders.sub_info,' <span class="sih-change-panel__sub-btn">SIH.Black</span>'),'</span\n            >\n          </div>\n          <div class="row gap-20">\n            <a href="javascript:void(0)" class="sih-change-panel__cancel text text_white"\n              >').concat(SIHLang.market.resubmit_orders.cancel,'</a\n            >\n            <a\n              href="javascript:void(0)"\n              class="sih-change-panel__relisting text text_blue ').concat("sell_listings"!==t||e?"":"sih-change-panel__relisting_disabled",'"\n              >').concat(SIHLang.market.resubmit_orders.relisting,"</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  ")),s=n.find(".sih-change-panel");!s.length&&a>0?(n.append(o),setTimeout((function(){n.find(".sih-change-panel").removeClass("animate-down"),RelocatePriceIndicator()}),100)):a>0?(s.replaceWith(o),setTimeout((function(){o.attr("data-table-id",t),o.find(".sih-change-panel__stack-count").text(a),o.removeClass("animate-down")}),100),RelocatePriceIndicator()):(s.addClass("animate-down"),RelocatePriceIndicator());var c=n.find(".sih-change-panel .sih-change-panel__sub-info");"sell_listings"===t?c.show():c.hide(),changePanel_actionsListener(e,t)},changePanel_actionsListener=function(t,e){cancelAction(),changePanel_sihBlackModalAction(),("sell_listings"!==e||t)&&relistingAction()},cancelAction=function(){var t=$J(".sih-change-panel");t.find(".sih-change-panel__cancel").off("click").click((function(){var e=t.attr("data-table-id");t.addClass("animate-down"),$J('.my_listing_section[data-table-id="'.concat(e,'"] .market_listing_row.stack[id^="').concat("sell_listings"===e?"mylisting":"mybuyorder",'"]')).each((function(t,e){var n=$J(e);n.find(".resubmit-price").remove(),n.css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack")})),"sell_listings"===e?global.SellListing.SELL_LISTING={}:global.BuyOrders.BUY_ORDERS=[],UpdateHeaderTotalResubmitPrice(e)}))},relistingAction=function(){var t=$J(".sih-change-panel");t.find(".sih-change-panel__relisting").off("click").click((function(){var e=t.attr("data-table-id");t.addClass("animate-down"),RenderFinalResubmitModal(e)}))},changePanel_sihBlackModalAction=function(){$J(".sih-change-panel").find(".sih-change-panel__sub-btn").off("click").click((function(){loadSubscribeAds(),ShowModalSubscribeAds()}))},LocalStorageSihMarket={_name:"SIH_MARKET",get:function(){return utils.zc.get(this._name)||{}},set:function(t){utils.zc.set(this._name,t)}},GetListingsRows=function(t){switch(t){case"sell_listings":return $J('#tabContentsMyActiveMarketListingsRows .market_listing_row[id^="mylisting"]');case"await_listings":return $J("#totalRow1").closest(".my_listing_section").find('.market_listing_row[id^="mylisting"]');case"buy_orders":return $J('div[id^="mybuyorder_"]');default:return null}},SetToDefaultItemsAfterPagination=function(){global.SellListing.SELL_LISTING={},$J("#select-all-0").prop("checked",!1),$J(".sih-toolbar").is(":visible")&&RenderToolbar("sell_listings"),$J(".sih-change-panel").is(":visible")&&RenderChangePanel("sell_listings")},SetMinimumPriceForListingRow=function(t,e){var n=t.closest(".my_listing_section").attr("data-table-id"),r=t.find(".market_listing_price span span:nth-child(1)").text().match(new RegExp(/([\d+?., ]+)/g))[0].trim()||"0",i=(0,global.parseNumber)(r),a=e.match(new RegExp(/([\d+?., ]+)/g))[0].trim()||"0",o=(0,global.parseNumber)(a),s=t.find(".market_listing_minimum");s.length?s.find(".market_listing_minimum--text").text("".concat(e.replace(/руб./g,"₽"))):$J(' <div class="row items-center justify-center market_listing_right_cell market_listing_minimum">\n        <span class="market_listing_minimum--text">'.concat(e.replace(/руб./g,"₽"),"</span>\n      </div>")).insertAfter(t.find(".market_listing_my_price"));if(o&&i&&o<i){var c=100*o,l=100*i,d=Math.round((0,global.getPercentNumberDifference)(c,l)),u=LocalStorageSihMarketResubmit.getPercentAlert("sell_listings").percent_alert;d<=-(void 0===u?20:u)&&RenderMarketAlert(n,t),t.hasClass("red-bg")||(t.addClass("red-bg"),t.prepend('<div class="sih-listing__color-cell start red"></div>'),t.append('<div class="sih-listing__color-cell end red"></div>'));var _=t.attr("id").replace(/mylisting_/g,"").trim();rowIdsArr&&!rowIdsArr.includes(_)&&rowIdsArr.push(_)}t.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox").is(":checked")?t.find(".sih-resubmit").removeClass("without-price").removeAttr("title"):t.find(".sih-resubmit").removeClass("disabled without-price").removeAttr("title"),CheckLoadedPricesSelectedRows()},RenderSelectedAllOverpricesButton=function(t){$J("#tabContentsMyListings .market_home_listing_table").each((function(){var e=$J(this),n=getListingSectionType(e);if(n){var r=GetListingsRows(t).length,i=$J('<a href="javascript:void(0)" class="sih-select-overprices">\n        <span class="row items-center gap-4">\n          <span class="text fs-12">'.concat(SIHLang.market.select_overpriced_2,'</span>\n          <span class="row items-center">\n            <span class="text fs-12">(</span>\n            <span class="sih-select-overprices__selected-count text fs-12">0</span>\n            <span class="text fs-12">/</span>\n            <span class="sih-select-overprices__total-count text fs-12">').concat(r,'</span>\n            <span class="text fs-12">)</span>\n          </span>\n        </span>\n        <span class="text fs-12">-</span>\n        <span class="text text_blue fs-12">').concat(SIHLang.market.select_overpriced_1,"</span>\n      </a>"));i.click((function(){if("buy_orders"!==n){var t=e.find('.red-bg.market_listing_row[id^="mylisting"]:not(.stack)'),r=t.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible");if(r.prop("checked",!0),i.find(".sih-select-overprices__selected-count").text(r.length),"tabContentsMyActiveMarketListingsTable"===e.attr("id"))t.find(".sih-resubmit").each((function(t,e){var n=$J(e);!n.length||n.hasClass("without-price")||n.hasClass("disabled")||n.addClass("disabled")}))}else{var a=e.find('.red-bg.market_listing_row[id^="mybuyorder_"]').find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible");a.prop("checked",!0),i.find(".sih-select-overprices__selected-count").text(a.length)}RenderToolbar(n),UpdateStateRemoveSelectedButton(e)})),"buy_orders"===t&&n===t||"sell_listings"===t&&n===t?0===e.find(".sih-market-filter__left-side .sih-select-overprices").length&&e.find(".sih-market-filter__left-side").append(i):"await_listings"===t&&n===t&&0===e.find(".sih-market-filter__left-side .sih-select-overprices").length&&e.find(".sih-market-filter__left-side").append(i)}}))},_FetchAllItemsPrices=function(t){var e,n,r=[];"sell_listings"===t?r.push(new Promise((function(t,r){e=$J('#tabContentsMyActiveMarketListingsRows .market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button:not([done])'),n=$J('#myListings .market_listing_row[id^="mylisting"]').parent().parent().find("#load_sell_overprices"),t()}))):"await_listings"===t?r.push(new Promise((function(t,r){setTimeout((function(){var r=$J("#await_listings").parent();e=r.find('.market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button:not([done])'),n=$J('#myListings .market_listing_row[id^="mylisting"]').parent().parent().find("#load_await_overprices"),t()}),500)}))):r.push(new Promise((function(t,n){e=$J('#myListings .market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button:not([done])'),t()}))),Promise.all(r).then((function(){if(e.length<=0)n.hasClass("animated-background")&&n.removeClass("animated-background");else{!n.hasClass("animated-background")&&e.length>0&&n.addClass("animated-background");var r=e[0];$J(r).attr("done","true");var i=decodeURIComponent(r.href),a=removeLinkExp.exec(i);if(a){var o=g_rgAssets[a[2]][a[3]][a[4]];o&&(r.rgItem=o,getLowestPriceHandler(r.rgItem,"",(function(e){var n=$J(r).closest(".market_listing_row");SetMinimumPriceForListingRow(n,e.lowestPrice),_FetchAllItemsPrices(t)})))}}}))},GetMaxPriceForBuyOrdersListing=function(){var t,e=$J('#myListings .market_listing_row[id^="mybuyorder"] .market_listing_item_name_link'),n=$J(".my_listing_section.market_content_block.market_home_listing_table"),r=GetCookie("Steam_Language")||"english";n.each((function(e,n){var r=$J(n);if(r.find("#buy_orders").length>0){var i=r.find(".market_listing_table_header");i.find(".market_listing_maximum").length||i.find(".market_listing_buyorder_qty").before('<span class="market_listing_right_cell market_listing_maximum" style="display: block;"\n            >'.concat(SIHLang.market.maximum,'<span class="market_sort_arrow" style="display:none"></span\n          ></span>')),(t=r.find("#load_buy_lowerprices")).hasClass("animated-background")||t.addClass("animated-background")}})),e.each((function(e,n){var i=n.href;setTimeout((function(){$J.ajax({url:i,method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(e){var a=i.replace(/https:\/\//,"").split("/")[3],o=i.replace(/https:\/\//,"").split("/")[4],s=e.match(/Market_LoadOrderSpread\( (\d+)/)[1],c=$J(n).text(),l=encodeURIComponent(c).replace(/\(/g,"%28").replace(/\)/g,"%29");chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ORDER_HISTOGRAM",data:{g_strCountryCode,steamLang:r,g_rgWalletInfo,nameid:s,appId:a,encodedName:l}},(function(e){if(e){if(e.success&&e.buy_order_graph){var i=e.buy_order_graph[0][0],s=(e.buy_order_graph[1][0],currency_service.A.getPriceFromCurrency(i,currencyId,currencyId).text),c=$J(n).closest(".market_listing_row"),l=c.find(".market_listing_buyorder_max");l.length?l.find(".market_listing_price").text("".concat(s)):c.find(".market_listing_my_price.market_listing_buyorder_qty").before(' <div\n                          class="market_listing_right_cell market_listing_my_price market_listing_buyorder_max"\n                        >\n                          <span class="market_table_value">\n                            <span class="market_listing_price"> '.concat(s," </span>\n                          </span>\n                        </div>")),c.find(".market_listing_edit_buttons.placeholder").each((function(t,e){var n=$J(e).next().find(".market_listing_price");n.find(".market_listing_inline_buyorder_qty").length>0&&n.find(".market_listing_inline_buyorder_qty").remove();var r=n.text().match(new RegExp(/([\d+?., ]+)/g))||"0",a="0"!==r?r[0]:"0";if((0,global.parseNumber)(a)>Number(i))c.hasClass("green-bg")||(c.addClass("green-bg"),c.prepend('<div class="sih-listing__color-cell start green"></div>'),c.append('<div class="sih-listing__color-cell end green"></div>'));else if((0,global.parseNumber)(a)<Number(i)){var o=Math.round((0,global.getPercentNumberDifference)(Number(i),(0,global.parseNumber)(a),1)),s=LocalStorageSihMarketResubmit.getPercentAlert("buy_orders").percent_alert,l=void 0===s?20:s;c.find(".sih-market-alert").remove(),o<=-l&&RenderMarketAlert("buy_orders",c),c.hasClass("red-bg")||(c.addClass("red-bg"),c.prepend('<div class="sih-listing__color-cell start red"></div>'),c.append('<div class="sih-listing__color-cell end red"></div>'))}})),$J(n).attr("done",!0),0===$J('#myListings .market_listing_row[id^="mybuyorder"] .market_listing_item_name_link:not([done])').length&&t.removeClass("animated-background"),c.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox").is(":checked")?c.find(".sih-resubmit").removeClass("without-price").removeAttr("title"):c.find(".sih-resubmit").removeClass("disabled without-price").removeAttr("title"),CheckLoadedPricesSelectedRows()}e.success&&e.sell_order_graph&&global.SihUserPrices.sendItemData(e,+a,o,+currencyId,null,r)}}))},error:function(t,e,n){}})}),3e3*(e+1))}))},RenderControlButtonsForAutoLoadPrices=function(){$J("#tabContentsMyListings .market_home_listing_table").each((function(){var t=$J(this),e=getListingSectionType(t);if(e){var n=t.find("#".concat(e)),r=' <span class="row_autoload-price">\n      <a\n        href="javascript:void(0);"\n        id="sell_overprices"\n        data-hidden="'.concat(window.highlight,'"\n        class="load_price_auto ').concat(window.highlight?"on":"",'"\n        title="').concat(SIHLang.market.tooltip1,'"\n      ></a>\n      <a\n        id="load_sell_overprices"\n        class="column_autoload-price load_price_manual ').concat(window.highlight?"disabled":"",'"\n        title="').concat(SIHLang.market.tooltip2,'"\n      >\n        <span class="text text_white">').concat(SIHLang.market.requestPrice,'</span>\n        <span class="text text_small text_').concat(window.highlight?"green":"white",'"\n          >').concat(window.highlight?"".concat(SIHLang.market.auto):"".concat(SIHLang.market.manual),"</span\n        >\n      </a>\n    </span>"),i=' <span class="row_autoload-price">\n      <a\n        href="javascript:void(0);"\n        id="await_overprices"\n        data-hidden="'.concat(window.highlight_await,'"\n        class="load_price_auto ').concat(window.highlight_await?"on":"",'"\n        title="').concat(SIHLang.market.tooltip1,'"\n      ></a>\n      <a\n        id="load_await_overprices"\n        class="column_autoload-price load_price_manual ').concat(window.highlight_await?"disabled":"",'"\n        title="').concat(SIHLang.market.tooltip2,'"\n      >\n        <span class="text text_white">').concat(SIHLang.market.requestPrice,'</span>\n        <span class="text text_small text_').concat(window.highlight_await?"green":"white",'"\n          >').concat(window.highlight_await?"".concat(SIHLang.market.auto):"".concat(SIHLang.market.manual),"</span\n        >\n      </a>\n    </span>"),a=' <span class="row_autoload-price">\n      <a\n        href="javascript:void(0);"\n        id="buy_lowerprices"\n        data-hidden="'.concat(window.highlight_buy,'"\n        class="load_price_auto ').concat(window.highlight_buy?"on":"",'"\n        title="').concat(SIHLang.market.tooltip1,'"\n      ></a>\n      <a\n        id="load_buy_lowerprices"\n        class="column_autoload-price load_price_manual ').concat(window.highlight_buy?"disabled":"",'"\n        title="').concat(SIHLang.market.tooltip2,'"\n      >\n        <span class="text text_white">').concat(SIHLang.market.requestPrice,'</span>\n        <span class="text text_small text_').concat(window.highlight_buy?"green":"white",'"\n          >').concat(window.highlight_buy?"".concat(SIHLang.market.auto):"".concat(SIHLang.market.manual),'</span\n        >\n        <span class="progress_after"></span>\n      </a>\n    </span>');n.parent().find(".load_price_auto").length||("sell_listings"===e&&n.before(r),"await_listings"===e?n.before(i):"buy_orders"===e&&n.before(a)),n.closest(".my_listing_section").attr("data-table-id",e),addTooltipForLoadPricesButton("load_price_auto"),addTooltipForLoadPricesButton("load_price_manual"),buttonListenerAutoLoadPrices(t,"sell_overprices"),buttonListenerAutoLoadPrices(t,"await_overprices"),buttonListenerAutoLoadPrices(t,"buy_lowerprices"),t.find("#load_sell_overprices").click((function(){var t=$J(this);t.hasClass("disabled")||t.addClass("disabled"),RenderSelectedAllOverpricesButton("sell_listings"),_FetchAllItemsPrices("sell_listings")})),t.find("#load_await_overprices").click((function(){var t=$J(this);t.hasClass("disabled")||t.addClass("disabled"),RenderSelectedAllOverpricesButton("await_listings"),_FetchAllItemsPrices("await_listings")})),t.find("#load_buy_lowerprices").click((function(){var t=$J(this);t.hasClass("disabled")||t.addClass("disabled"),RenderSelectedAllOverpricesButton("buy_orders"),GetMaxPriceForBuyOrdersListing()}))}}))},addTooltipForLoadPricesButton=function(t){$J(".".concat(t)).tooltip({position:{my:"left bottom",at:"left top-10"},classes:{"ui-tooltip":"sih-steam-market__tooltip"},open:function(t,e){},show:{delay:500,duration:0}})},buttonListenerAutoLoadPrices=function(t,e){t.find("#".concat(e)).off("click").click((function(){var t=$J(this),n=t.data("hidden");t.toggleClass("on"),t.data("hidden",!n),n?(t.parent().find(".text_small").text("".concat(SIHLang.market.manual)),t.parent().find(".text_small").removeClass("text_green"),t.parent().find(".text_small").addClass("text_white")):(t.parent().find(".text_small").text("".concat(SIHLang.market.auto)),t.parent().find(".text_small").removeClass("text_white"),t.parent().find(".text_small").addClass("text_green")),"sell_overprices"===e&&chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_HIGHLIGHT_OVERPRICED",data:{highlight:!n}}),"await_overprices"===e&&chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_HIGHLIGHT_OVERPRICED",data:{highlight_await:!n}}),"buy_lowerprices"===e&&chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_HIGHLIGHT_OVERPRICED",data:{highlight_buy:!n}})}))},autoLoadPrices_loadProgress=function(t,e){if(t.length>0&&!$J(t).hasClass("progress")&&$J(t).addClass("progress"),t.length>0){Number($J(t).css("padding-left").replace(/px/g,"").trim()),Number($J(t).css("padding-right").replace(/px/g,"").trim()),Number($J(t).css("width").replace(/px/g,"").trim());$J(t).is("#load_buy_lowerprices")&&$J(t).find(".progress_after").width(Math.ceil(buyProgressBarWidth))}},RenderCommissionButton=function(){commissionButton_loadHtml(),commissionButton_actionsListener(),toggleHeaderTableCommission(),toggleSteamPriceItemCommission()},commissionButton_loadHtml=function(){var t=$J("#tabContentsMyActiveMarketListingsTable .sih-market-filter").find(".sih-market-filter__left-side"),e=LocalStorageSihMarket.get().commission,n=$J('\n    <div class="sih-market-filter__toggle-commission" data-state="'.concat(void 0===e||e?"show":"hide",'">\n      <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path\n          d="M8.66648 2.5H7.33315V9.16667H8.66648V2.5ZM11.8865 3.94667L10.9398 4.89333C12.0331 5.77333 12.6665 7.1 12.6665 8.5C12.6665 9.73768 12.1748 10.9247 11.2996 11.7998C10.4245 12.675 9.23749 13.1667 7.99982 13.1667C5.42648 13.1667 3.33315 11.0867 3.33315 8.5C3.33315 7.10667 3.96648 5.77333 5.05315 4.88667L4.11315 3.94667C1.58648 6.09333 1.27982 9.88 3.42648 12.4067C5.57315 14.9267 9.35982 15.2333 11.8865 13.0867C13.2332 11.9467 13.9998 10.2667 13.9998 8.5C13.9998 6.74667 13.2265 5.08 11.8865 3.94667Z"\n          fill="currentColor"\n        />\n      </svg>\n\n      <span class="text fs-12">').concat(SIHLang.market.with_fees,"</span>\n    </div>\n  "));t.find(".sih-market-filter__remove-selected").length||t.find(".sih-market-filter__toggle-commission").length||t.append(n)},commissionButton_actionsListener=function(){toggleCommissionBtnAction()},toggleCommissionBtnAction=function(){var t=$J(".sih-market-filter").find(".sih-market-filter__toggle-commission");t.off("click").click((function(){var e=t.attr("data-state");e="show"===e?"hide":"show",t.attr("data-state",e);var n=LocalStorageSihMarket.get();n.commission="show"===e,LocalStorageSihMarket.set(n),toggleHeaderTableCommission(),toggleSteamPriceItemCommission()}))},toggleHeaderTableCommission=function(){var t=$J("#tabContentsMyActiveMarketListingsTable").find("#totalRow0"),e=LocalStorageSihMarket.get().commission,n=void 0===e||e;t.find(".market_listing_price .sih-market-total__receive").toggle(n),t.find(".sih-total-sell__receive").toggle(n),t.find(".total-resubmit-price__receive").toggle(n)},toggleSteamPriceItemCommission=function(){var t=$J("#tabContentsMyActiveMarketListingsRows").find(".market_listing_row"),e=LocalStorageSihMarket.get().commission,n=void 0===e||e;t.each((function(t,e){var r=$J(e);r.find(".market_listing_my_price .market_table_value .market_listing_price span span:last-child").toggle(n),r.find(".resubmit-price__receive").toggle(n)}))},RenderEditAlertButton=function(){IsEnabledResubmitOrders().then((function(t){t.success&&$J(".my_listing_section").each((function(t,e){var n=$J(e),r=$J(e).attr("data-table-id");if(r&&"await_listings"!==r){var i=n.find(".sih-market-filter").find(".sih-market-filter__left-side"),a=LocalStorageSihMarketResubmit.getPercentAlert(r).percent_alert,o=void 0===a?20:a,s=$J('\n          <a\n            href="javascript:void(0)"\n            class="sih-market-filter__edit-alert"\n            title="\n        '.concat("sell_listings"===r?SIHLang.market.resubmit_orders.tooltips.edit_alert_1:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_1,"\n        ").concat(o,"%\n        ").concat("en"===lang?"sell_listings"===r?SIHLang.market.resubmit_orders.tooltips.edit_alert_2:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_2:"",'"\n          >\n            <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M6.66667 14.5H9.33333C9.33333 15.2333 8.73333 15.8333 8 15.8333C7.26667 15.8333 6.66667 15.2333 6.66667 14.5ZM14 13.1666V13.8333H2V13.1666L3.33333 11.8333V7.83331C3.33333 5.76665 4.66667 3.96665 6.66667 3.36665V3.16665C6.66667 2.43331 7.26667 1.83331 8 1.83331C8.73333 1.83331 9.33333 2.43331 9.33333 3.16665V3.36665C11.3333 3.96665 12.6667 5.76665 12.6667 7.83331V11.8333L14 13.1666ZM11.3333 7.83331C11.3333 5.96665 9.86667 4.49998 8 4.49998C6.13333 4.49998 4.66667 5.96665 4.66667 7.83331V12.5H11.3333V7.83331Z"\n                fill="white"\n              />\n            </svg>\n            <span class="text fs-12">').concat(o,"%</span>\n          </a>\n        "));s.tooltip({position:{my:"left bottom-10",at:"left top",using:function(t,e){$J(this).css(t);var n=LocalStorageSihMarketResubmit.getPercentAlert(r).percent_alert,i=void 0===n?20:n,a="".concat("sell_listings"===r?SIHLang.market.resubmit_orders.tooltips.edit_alert_1:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_1," ").concat(i,"% ").concat("en"===lang?"sell_listings"===r?SIHLang.market.resubmit_orders.tooltips.edit_alert_2:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_2:"");$J(this).find(".ui-tooltip-content").text(a)}},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}),i.find(".sih-market-filter__edit-alert").length||i.append(s),s.off("click").click((function(){RenderEditAlertModal(r)}))}}))}))},editDelayModal_debounce=null,RenderEditDelayModal=function(t){editDelayModal_loadHtml(t),editDelayModal_listenerActions()},editDelayModal_loadHtml=function(t){var e="sell_item_listing"!==t?$J('.my_listing_section[data-table-id="'.concat(t,'"] .sih-market-filter')):$J(".missed-prices__header_left"),n=e.find(".sih-listing-edit-delay").position(),r=LocalStorageSihMarketResubmit.getDelay(t).delay,i=$J('\n    <div id="sih-edit-delay" class="sih-edit-delay" data-table-id="'.concat(t,'">\n      <div class="sih-edit-delay__fade"></div>\n      <div class="sih-global sih-modal sih-edit-delay__modal">\n        <div class="sih-edit-delay__inner sih-modal__inner">\n          <h4 class="text text_white fs-14">').concat(SIHLang.market.resubmit_orders.edit_delay_modal.title,'</h4>\n\n          <label for="sih-edit-delay-input" class="row justify-between items-center bg-black-100 py-12 px-12 br2-grey">\n            <input\n              type="number"\n              id="sih-edit-delay-input"\n              class="text text_white bg-transparent border-none"\n              value="').concat(r,'"\n              step="1"\n            />\n\n            <label for="sih-edit-delay-input">\n              <span class="text text_grey-900 fs-14">').concat(SIHLang.millisec,'</span>\n            </label>\n          </label>\n\n          <div class="sih-edit-delay__buttons">\n            <a\n              href="javascript:void(0)"\n              id="sih-edit-delay-save"\n              class="sih-modal__button sih-modal__button_blue fs-10 bold py-8 text-uppercase px-12 py-8"\n              >').concat(SIHLang.market.resubmit_orders.save,"</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  "));i.find(".sih-modal").css("left",n.left),e.find("#sih-edit-delay").length||(e.prepend(i),$J("#sih-edit-delay").find(".sih-edit-delay__modal").fadeIn(300))},editDelayModal_listenerActions=function(){editDelayModal_closeModalAction(),editDelayModal_focusOnInputOpen(),editDelayModal_validateInputAction(),editDelayModal_saveAction()},editDelayModal_closeModalAction=function(){$J("#sih-edit-delay").find(".sih-edit-delay__fade").off("click").click((function(){removeEditDelayModal()}))},editDelayModal_focusOnInputOpen=function(){$J("#sih-edit-delay-input").trigger("focus"),$J("#sih-edit-delay-input")[0].select()},removeEditDelayModal=function(){var t=$J("#sih-edit-delay");t.fadeOut(300,(function(){t.remove()}))},editDelayModal_validateInputAction=function(){var t=$J("#sih-edit-delay").find("#sih-edit-delay-input");t.focus((function(){t.keyup((function(){var t=$J(this);clearTimeout(editDelayModal_debounce),editDelayModal_debounce=setTimeout((function(){var e=+t.val()||0,n=sih_app_global_service.A.validateInput(e,1e5,0);t.val(n)}),500)}))})),t.focusout((function(){t.off("keyup")})),t.off("change").change((function(){var t=$J(this),e=t.val(),n=sih_app_global_service.A.validateInput(e,1e5,0);t.val(n)}))},editDelayModal_saveAction=function(){var t=$J("#sih-edit-delay"),e=t.find("#sih-edit-delay-save"),n=t.find("#sih-edit-delay-input");e.off("click").click((function(t){r()})),t.keyup((function(t){Event.KEY_RETURN===t.keyCode&&r()}));var r=function(){var t=$J("#sih-edit-delay").attr("data-table-id"),e=n.val(),r=LocalStorageSihMarketResubmit.get()||{};r["delay_".concat(t)]={isEnabled:!0,delay:e},LocalStorageSihMarketResubmit.set(r),"sell_item_listing"===t?$J("#tabContentsMyActiveMarketListingsTable .missed-prices__header_left .sih-listing-edit-delay__delay-count").text("".concat(r["delay_".concat(t)].delay)):$J('.my_listing_section[data-table-id="'.concat(t,'"] .sih-listing-edit-delay__delay-count')).text("".concat(r["delay_".concat(t)].delay)),removeEditDelayModal()}},RenderEditDelayButton=function(){$J(".my_listing_section").each((function(t,e){var n=$J(e),r=n.hasClass("missed-prices")&&"tabContentsMyActiveMarketListingsTable"===n.attr("id")?"sell_item_listing":n.attr("data-table-id");if(r){var i="sell_item_listing"===r?n.find(".missed-prices__header_left"):n.find(".sih-market-filter .sih-market-filter__left-side"),a=LocalStorageSihMarketResubmit.getDelay(r),o=a.delay,s=a.isEnabled,c=$J('\n      <div\n        class="sih-listing-edit-delay '.concat(s?"active":"",'"\n        title="').concat(SIHLang.market.resubmit_orders.tooltips.edit_delay,'"\n      >\n        <label for="sih-listing-edit-delay-input-').concat(t,'">\n          <input id="sih-listing-edit-delay-input-').concat(t,'" class="sih-listing-edit-delay__input" type="checkbox" />\n          <span class="sih-listing-edit-delay__icon">\n            <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M8.66648 2.5H7.33315V9.16667H8.66648V2.5ZM11.8865 3.94667L10.9398 4.89333C12.0331 5.77333 12.6665 7.1 12.6665 8.5C12.6665 9.73768 12.1748 10.9247 11.2996 11.7998C10.4245 12.675 9.23749 13.1667 7.99982 13.1667C5.42648 13.1667 3.33315 11.0867 3.33315 8.5C3.33315 7.10667 3.96648 5.77333 5.05315 4.88667L4.11315 3.94667C1.58648 6.09333 1.27982 9.88 3.42648 12.4067C5.57315 14.9267 9.35982 15.2333 11.8865 13.0867C13.2332 11.9467 13.9998 10.2667 13.9998 8.5C13.9998 6.74667 13.2265 5.08 11.8865 3.94667Z"\n                fill="currentColor"\n              />\n            </svg>\n          </span>\n        </label>\n\n        <span class="sih-listing-edit-delay__open-modal row items-center gap-4">\n          <span class="text fs-12">').concat(SIHLang.delay,': </span>\n          <span class="row items-center gap-12">\n            <span class="sih-listing-edit-delay__delay-count text fs-12">').concat(o,'</span>\n            <span class="text fs-12">').concat(SIHLang.millisec,"</span>\n          </span>\n        </span>\n      </div>\n    "));c.find("#sih-listing-edit-delay-input-".concat(t)).prop("checked",s),c.tooltip({position:{my:"center bottom-10",at:"center top"},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}),i.find(".sih-listing-edit-delay").length||i.append(c),c.find(".sih-listing-edit-delay__input").off("change").change((function(t){var e,n=LocalStorageSihMarketResubmit.get()||{};n["delay_".concat(r)]={isEnabled:t.target.checked,delay:(null===(e=n["delay_".concat(r)])||void 0===e?void 0:e.delay)||200},LocalStorageSihMarketResubmit.set(n),c.toggleClass("active",t.target.checked)})),c.find(".sih-listing-edit-delay__open-modal").off("click").click((function(t){t.stopPropagation(),RenderEditDelayModal(r)}))}}))},RenderHideListingHeader=function(){$J("#tabContentsMyListings .market_home_listing_table").each((function(){var t=$J(this),e=getListingSectionType(t),n=$J.parseJSON(GetCookie(e)||"false"),r=t.find(".my_market_header");r.data("hidden",n),r.attr("id",e),r.off("click").click((function(){var n=$J.parseJSON(r.data("hidden"));n?(t.children("div").show(),t.find(".arrow_icon").addClass("up")):(t.find(".arrow_icon").removeClass("up"),t.children("div").hide()),SetCookie(e,!n,7,"/market"),r.data("hidden",!n),togglePaging()})),t.addClass("market_listing_table"),n&&t.children("div").hide()})),togglePaging()};function togglePaging(){$J("#tabContentsMyActiveMarketListingsTable .my_market_header").data("hidden")?($J("#tabContentsMyListings .market_paging").hide(),$J("#tabContentsMyListings .market_pagesize_options").hide()):($J("#tabContentsMyListings .market_paging").show(),$J("#tabContentsMyListings .market_pagesize_options").show())}var RenderHeaderTotal=function(){$J("#tabContentsMyListings .market_home_listing_table").each((function(){var t=$J(this),e=getListingSectionType(t),n=$J.parseJSON(GetCookie(e)||"false"),r=t.find(".my_market_header_count"),i=r.find("span").first(),a=$J('<span class="arrow_icon '.concat(n?"":"up",'"></span>')),o=t.find(".sih-total-sell__selling").data("price")?t.find(".sih-total-sell__selling").data("price"):t.find(".sih-market-total__seller").data("price"),s=t.find(".sih-total-sell__receive").data("price"),c=(0,global.formatNumberToLocalRu)(o,currencyId,currencyId),l=s?" (".concat((0,global.formatNumberToLocalRu)(s,currencyId,currencyId),")"):"";r.empty().append(i),o&&r.append(" - <span>".concat(c).concat(l,"</span>")),r.append(a)}))},isBuyLoad=!1,RenderMarketFilter=function(){renderSellFilter(),renderBuyFilter(),RenderRemoveSelectedButton(),RenderCommissionButton(),RenderHideListingHeader(),RenderControlButtonsForAutoLoadPrices(),RenderEditAlertButton(),RenderEditDelayButton(),window.highlight?setTimeout((function(){RenderSelectedAllOverpricesButton("sell_listings"),_FetchAllItemsPrices("sell_listings")}),500):setTimeout((function(){$J("#tabContentsMyActiveMarketListingsTable").find(".load_price_manual").removeClass("disabled"),renderPricesFromCache()}),500),window.highlight_await&&(RenderSelectedAllOverpricesButton("await_listings"),_FetchAllItemsPrices("await_listings")),window.highlight_buy&&!isBuyLoad&&setTimeout((function(){isBuyLoad=!0,RenderSelectedAllOverpricesButton("buy_orders"),GetMaxPriceForBuyOrdersListing()}),500),SetToDefaultItemsAfterPagination()},renderSellFilter=function(){var t=$J('\n    <div id="sih-market-sell-filter" class="sih-global sih-market-filter">\n      <div class="sih-market-filter__left-side">\n        <label class="sih-market-filter__label row items-center">\n          <input\n            class="selectableText filter_search_box"\n            type="text"\n            id="Txt_Filter"\n            value=""\n            placeholder="Start typing an item name here to filter items"\n            name="filter"\n            autocomplete="off"\n          />\n          <a href="javascript:void(0)" class="sih-market-filter__clear"></a>\n        </label>\n      </div>\n      <div class="sih-market-filter__right-side"></div>\n    </div>\n  ');t.find("#Txt_Filter").off("keyup").keyup((function(){var t=$J(this).closest(".my_listing_section"),e=$J(this).val().toUpperCase().split(" ").filter((function(t){return""!==t}));if(e.length){for(var n="",r=0;r<e.length;r++)n+=':Contains("'.concat(e[r],'")');t.find(".sih-market-filter__clear").show(),t.find('.market_listing_row:not([id^="totalRow"])').each((function(){$J(this).is(n)?$J(this).show():$J(this).hide()}))}else t.find('.market_listing_row:not([id^="totalRow"])').show(),t.find(".sih-market-filter__clear").hide()})),t.find(".sih-market-filter__clear").click((function(){var t=$J(this).closest(".my_listing_section");t.find("#Txt_Filter").val(""),$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mylisting"]) .market_listing_row:not([id^="totalRow"])').show(),t.find(".sih-market-filter__clear").hide()})),$J("#tabContentsMyListings").find("#sih-market-sell-filter").length||$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mylisting"]) .my_market_header').after(t)},renderBuyFilter=function(){var t=$J('\n    <div id="sih-market-buy-filter" class="sih-global sih-market-filter">\n      <div class="sih-market-filter__left-side">\n        <label class="sih-market-filter__label row items-center">\n          <input\n            class="selectableText filter_search_box"\n            type="text"\n            id="Txt_Filter_Buying"\n            value=""\n            placeholder="Start typing an item name here to filter items"\n            name="filter"\n            autocomplete="off"\n          />\n          <a href="javascript:void(0)" id="filter_clear_btn_buying" class="sih-market-filter__clear"></a>\n        </label>\n      </div>\n\n      <div class="sih-market-filter__right-side"></div>\n    </div>\n  ');t.find("#Txt_Filter_Buying").off("keyup").keyup((function(){var t=$J(this).parents(".my_listing_section"),e=$J(this).val().toUpperCase().split(" ").filter((function(t){return""!==t}));if(e.length){for(var n="",r=0;r<e.length;r++)n+=':Contains("'.concat(e[r],'")');$J("#filter_clear_btn_buying").show(),t.find('.market_listing_row:not([id^="totalRow"])').each((function(){$J(this).is(n)?$J(this).show():$J(this).hide()}))}else t.find('.market_listing_row:not([id^="totalRow"])').show(),$J("#filter_clear_btn_buying").hide()})),t.find("#filter_clear_btn_buying").click((function(){t.find("#Txt_Filter_Buying").val(""),$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mybuyorder"]) .market_listing_row:not([id^="totalRow"])').show(),$J("#filter_clear_btn_buying").hide()})),$J("#tabContentsMyListings").find("#sih-market-buy-filter").length||$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mybuyorder"]) .my_market_header').after(t)},renderPricesFromCache=function(){$J('#tabContentsMyActiveMarketListingsRows .market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button').each((function(t,e){var n=$J(e).closest(".market_listing_row"),r=decodeURIComponent(e.href),i=removeLinkExp.exec(r);if(i){var a=g_rgAssets[i[2]][i[3]][i[4]];if(a){var o="appid=".concat(a.appid,"&market_hash_name=").concat(encodeURIComponent(a.market_hash_name)),s=(PriceQueue._cache[o]?PriceQueue._cache[o].response:{lowest_price:c}).lowest_price,c=void 0===s?null:s;c&&SetMinimumPriceForListingRow(n,c)}}}))},AddSortableColumns=function(t){t.find("> span").each((function(t,e){var n=$J(e);n.hasClass("market_listing_edit_buttons")||(n.addClass("market_sortable_column").css("display","block"),n.find(".market_sort_arrow").length||n.append('<span class="market_sort_arrow" style="display:none"></span>'),n.off("click").click((function(){n.hasClass("market_listing_buyorder_qty")?sortColumns_sortBy(n,"quantity"):n.hasClass("market_listing_listed_date")?sortColumns_sortBy(n,"date"):n.hasClass("market_listing_my_price")?sortColumns_sortBy(n,"my_price"):n.hasClass("market_listing_minimum")?sortColumns_sortBy(n,"minimum_price"):n.hasClass("market_listing_maximum")?sortColumns_sortBy(n,"maximum_price"):sortColumns_sortBy(n,"name")})))}))},sortColumns_sortBy=function(t,e){if(e){var n=t.closest(".market_listing_table_header"),r=n.closest(".market_home_listing_table");r.find("#tabContentsMyActiveMarketListingsRows").length&&(r=r.find("#tabContentsMyActiveMarketListingsRows"));var i=r.children('.market_listing_row:not([id^="totalRow"])');n.find(".market_sort_arrow").hide();var a=1;t.find(".market_sort_arrow").is(':contains("▲")')?(a=-1,t.find(".market_sort_arrow").text("▼")):t.find(".market_sort_arrow").text("▲"),t.find(".market_sort_arrow").show(),i.sort((function(t,n){var r=sortColumns_getSortableValues(t,n,e),i=r.aValue,o=r.bValue;return i>o?a:i<o?-1*a:0})),i.detach().appendTo(r)}},sortColumns_getSortableValues=function(t,e,n){var r,i;switch(n){case"quantity":r=parseFloat(getPriceAsInt($J(t).find(".market_listing_my_price.market_listing_buyorder_qty").text())),i=parseFloat(getPriceAsInt($J(e).find(".market_listing_my_price.market_listing_buyorder_qty").text()));break;case"date":r=+$J(t).find(".market_listing_listed_date").text().match(/\d+/)[0]||0,i=+$J(e).find(".market_listing_listed_date").text().match(/\d+/)[0]||0;break;case"my_price":var a=function(t){var e=$J(t).find(".sih_listing_my_price").text();return getPriceAsInt(e)};r=a(t),i=a(e);break;case"minimum_price":r=parseFloat(getPriceAsInt($J(t).find(".market_listing_minimum--text").text())),i=parseFloat(getPriceAsInt($J(e).find(".market_listing_minimum--text").text()));break;case"maximum_price":r=parseFloat(getPriceAsInt($J(t).find(".market_listing_buyorder_max .market_table_value .market_listing_price").text())),i=parseFloat(getPriceAsInt($J(e).find(".market_listing_buyorder_max .market_table_value .market_listing_price").text()));break;case"name":r=$J(t).find(".market_listing_item_name_link").text(),i=$J(e).find(".market_listing_item_name_link").text()}return{aValue:r,bValue:i}},RenderEmptyActualPrice=function(){actualMarketPrice_loadHtml()},actualMarketPrice_loadHtml=function(){var t=GetListingsRows("sell_listings"),e=GetListingsRows("await_listings"),n=GetListingsRows("buy_orders");t.each((function(t,e){var n=$J(e),r=$J(' <div class="row items-center justify-center market_listing_right_cell market_listing_minimum">\n        <span class="market_listing_minimum--text">-</span>\n      </div>');n.find(".market_listing_minimum").length||r.insertAfter(n.find(".market_listing_my_price"))})),e.each((function(t,e){var n=$J(e),r=$J(' <div class="row items-center justify-center market_listing_right_cell market_listing_minimum">\n        <span class="market_listing_minimum--text">-</span>\n      </div>');n.find(".market_listing_minimum").length||r.insertAfter(n.find(".market_listing_my_price"))})),n.each((function(t,e){var n=$J(e),r=$J('\n      <div class="market_listing_right_cell market_listing_my_price market_listing_buyorder_max">\n        <span class="market_table_value">\n          <span class="market_listing_price">-</span>\n        </span>\n      </div>\n    ');n.find(".market_listing_buyorder_max").length||n.find(".market_listing_my_price.market_listing_buyorder_qty").before(r)}))},RenderRowCheckbox=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];renderAllCheckbox(t),renderRowCheckbox(t),checkbox_actionsListener()},renderAllCheckbox=function(t){(t?$J("#tabContentsMyActiveMarketListingsTable"):$J("#tabContentsMyListings .market_home_listing_table")).find(".market_listing_table_header .market_listing_edit_buttons").each((function(t,e){var n=$J(e),r=$J(' <input type="checkbox" id="select-all-'.concat(t,'" class="select-checkbox" /> '));0===n.find(".select-checkbox").length&&n.append(r),r.click((function(){var t=$J(this).prop("checked"),e=$J(this).closest(".market_home_listing_table"),n=e.attr("data-table-id"),r=e.find('.market_listing_row[id^="'.concat("sell_listings"===n?"mylisting":"mybuyorder",'"]:not(.stack)'));r.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible").prop("checked",t);var i=e.find(".sih-select-overprices .sih-select-overprices__selected-count");if("sell_listings"===n||"buy_orders"===n){if(r.find(".sih-resubmit").each((function(e,n){var r=$J(n);r.length&&!r.hasClass("without-price")&&r.toggleClass("disabled",t)})),!t){var a=e.find(".red-bg.market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible:checked").length;i.text(a)}RenderToolbar(n)}else if(e.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible").prop("checked",t),!t){var o=e.find(".red-bg.market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible:checked").length;i.text(o)}UpdateStateRemoveSelectedButton(e)}))}))},renderRowCheckbox=function(t){(t?$J("#tabContentsMyActiveMarketListingsTable"):$J("#tabContentsMyListings .market_home_listing_table")).find(".market_listing_edit_buttons .market_listing_cancel_button").each((function(t,e){var n=$J(e);if(0===n.find(".select-checkbox").length){var r=$J('\n        <input type="checkbox" id="select-row-'.concat(t,'" class="select-checkbox" />\n      '));n.append(r)}}))},checkbox_actionsListener=function(){checkboxAction()},checkboxAction=function(){$J(".market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox").off("click").click((function(e){var n=$J(this),r=n.closest(".my_listing_section"),i=n.closest(".market_listing_row"),a=r.find(".sih-select-overprices .sih-select-overprices__selected-count");if(!n.is(":checked")){var o=r.find(".red-bg.market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible:checked").length;a.text(o)}var s=r.attr("data-table-id"),c=i.find(".sih-resubmit");c.length&&!c.hasClass("without-price")&&c.toggleClass("disabled"),e.shiftKey&&t(s),UpdateStateRemoveSelectedButton(r),RenderToolbar(s)}));var t=function(t){var e=$J(".market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox"),n=!1;e.each((function(e,r){var i=$J(r),a=i.closest(".market_listing_row");if(a.closest(".my_listing_section").attr("data-table-id")===t&&(i.is(":checked")&&(n=!n),!a.hasClass("stack")&&!i.is(":checked")&&n)){i.prop("checked",!0);var o=i.closest(".market_listing_row").find(".sih-resubmit");o.length&&!o.hasClass("without-price")&&o.toggleClass("disabled")}}))}},RefactorEditButtons=function(){},RenderCustomCancelModal=function(t){return new Promise((function(e){customRevokeListings_loadHtml(t),customRevokeListings_actionsListener().then((function(t){e(t)}))}))},DeleteCustomCancelModal=function(){var t=$J("#sih-cancel-listing");t.fadeOut(300,(function(){t.remove()}))},customRevokeListings_loadHtml=function(t){var e=t.hashName,n=t.href,r=t.buy_orderid,i=$J("body"),a=$J('\n    <div id="sih-cancel-listing" class="sih-cancel-listing">\n      <div class="sih-cancel-listing__fade"></div>\n      <div class="sih-global sih-modal sih-cancel-listing__modal">\n        <div class="sih-modal__close"></div>\n        <div class="sih-cancel-listing__inner sih-modal__inner">\n          <div class="sih-cancel-listing__title">'.concat(SIHLang.market.custom_remove_modal.title,'</div>\n          <div class="sih-cancel-listing__content">\n            <div class="sih-cancel-listing__text">\n              ').concat(SIHLang.market.custom_remove_modal.buy_orders_text_1,'\n              <a href="').concat(n,'" target="_blank" class="text text_white bold">(').concat(e,')</a>\n            </div>\n\n            <div class="sih-cancel-listing__buttons">\n              <a href="javascript:void(0)" class="sih-cancel-listing__remove" data-order-id="').concat(r,'"\n                >').concat(SIHLang.market.custom_remove_modal.confirm,'</a\n              >\n              <a href="javascript:void(0)" class="sih-cancel-listing__cancel"\n                >').concat(SIHLang.market.custom_remove_modal.cancel,"</a\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  "));i.find("#sih-cancel-listing").length||(i.append(a),$J("#sih-cancel-listing").find(".sih-cancel-listing__modal").fadeIn(300))},customRevokeListings_actionsListener=function(){return new Promise((function(t){customRevokeListings_closeModalAction().then((function(){t()})),customRevokeListings_removeListingAction().then((function(e){t(e)}))}))},customRevokeListings_closeModalAction=function(){var t=$J("#sih-cancel-listing"),e=t.find(".sih-modal__close"),n=t.find(".sih-cancel-listing__fade"),r=t.find(".sih-cancel-listing__cancel");return new Promise((function(t){e.off("click").click((function(){DeleteCustomCancelModal(),t()})),n.off("click").click((function(){DeleteCustomCancelModal(),t()})),r.off("click").click((function(){DeleteCustomCancelModal(),t()}))}))},customRevokeListings_removeListingAction=function(){var t=$J("#sih-cancel-listing").find(".sih-cancel-listing__remove"),e=null;return new Promise((function(n){t.off("click").click((function(t){clearTimeout(e),e=setTimeout((function(){var e=$J(t.target).attr("data-order-id");$J.post("//steamcommunity.com/market/cancelbuyorder/",{sessionid:g_sessionID,buy_orderid:e}).then((function(t){DeleteCustomCancelModal(),n(t)})).fail((function(t){DeleteCustomCancelModal(),n(t)}))}),300)}))}))},SteamRemoveBtnActionsListener=function(){$J(".market_listing_edit_buttons.actual_content").parent().each((function(t,e){var n=$J(e);n.find(".item_market_action_button.item_market_action_button_edit").click((function(t){var e=$J(t.target).closest(".my_listing_section").attr("data-table-id"),r=GetListingItemRowInfo(n);if("sell_listings"===e)setTimeout((function(){$J("#market_removelisting_dialog_accept").click((function(){var t=[r[4]];chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_REMOVE_ITEM_FOR_SALE",data:{assetids:t}},(function(){}))}))}),200);else if("buy_orders"===e){t.preventDefault();var i=n.find(".market_listing_item_name_link").text(),a=n.find(".market_listing_item_name_link").attr("href"),o=n.attr("id").substring(11);RenderCustomCancelModal({hashName:i,href:a,buy_orderid:o}).then((function(t){t&&RefreshMyMarketListings()}))}}))}))},orgRemListingOnSuccess=RemoveListingDialog.OnSuccess;RemoveListingDialog.OnSuccess=function(t){t.responseJSON?(this.OnSuccessEffects(),htmlListings="",$ACTIVE_LISTING_ROWS=null,RefreshMyMarketListings()):(this.OnFailureEffects(),this.DisplayError("There was a problem removing your listing. Refresh the page and try again."))};var RefactorSteamPrice=function(){replaceRubCurrency()},replaceRubCurrency=function(){$J(".market_listing_right_cell.market_listing_my_price").find(".market_listing_price span").find("span").each((function(t,e){var n=$J(e);t%2==0&&n.addClass("sih_listing_my_price");var r=n.text().replace(/руб./g,"₽");n.text(r)})),GetListingsRows("buy_orders").find(".market_listing_price").each((function(t,e){var n=$J(e);n.closest(".market_listing_right_cell").hasClass("market_listing_buyorder_qty")||n.closest(".market_listing_right_cell").hasClass("market_listing_buyorder_max")||n.addClass("sih_listing_my_price"),n.find(".market_listing_inline_buyorder_qty").remove();var r=n[0].innerText.replace(/руб./g,"₽");n.text(r)}))},RefactorListingRow=function(){GetListingsRows("sell_listings").addClass("sih-global"),GetListingsRows("await_listings").addClass("sih-global"),GetListingsRows("buy_orders").addClass("sih-global"),RenderEmptyActualPrice(),RenderRowCheckbox(),RefactorEditButtons(),RefactorSteamPrice(),SteamRemoveBtnActionsListener()},LoadResubmitOrderButton=function(t){IsEnabledResubmitOrders().then((function(e){e.success&&(resubmitButton_loadHtml(t),resubmitButton_listenerActions(t))}))},resubmitButton_loadHtml=function(t){var e=GetListingsRows(t),n=(+g_rgWalletInfo.wallet_currency_increment||1)/100,r=currency_service.A.getPriceFromCurrency(n,currencyId,currencyId).text;e.each((function(e,n){var i=$J(n).find(".market_listing_cancel_button"),a=$J('\n      <div class="sih-resubmit disabled without-price" title="">\n        <div class="sih-resubmit__row row">\n          <a\n            href="javascript:void(0)"\n            class="sih-resubmit__btn row items-center justify-center w-24 h-24"\n            data-state="default"\n          >\n            <img\n              class="opacity-50per"\n              src="chrome-extension://'.concat(SIHID,'/assets/market/resubmit/resubmit_default.svg"\n              alt="default"\n            />\n          </a>\n          <a href="javascript:void(0)" class="sih-resubmit__arrow-down row items-center justify-center w-24 h-24">\n            <img\n              class="opacity-50per"\n              src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/arrow-down.svg"\n              alt="arrow-down"\n            />\n          </a>\n\n          <a href="javascript:void(0)" class="sih-resubmit__undo items-center justify-center w-24 h-24">\n            <img class="opacity-50per" src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/undo.svg" alt="undo" />\n          </a>\n        </div>\n\n        <div class="sih-resubmit__tooltip resubmit-tooltip">\n          <a href="javascript:void(0)" class="resubmit-tooltip__item" data-state="default">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_default.svg" alt="resubmit_default" />\n            <span class="text"\n              >').concat("sell_listings"===t?SIHLang.market.resubmit_orders.reduce_by:SIHLang.market.resubmit_orders.increase_by,"\n              ").concat(r,"\n              ").concat("sell_listings"===t?SIHLang.market.resubmit_orders.of_min_price:SIHLang.market.resubmit_orders.of_max_price,'</span\n            >\n          </a>\n          <a href="javascript:void(0)" class="resubmit-tooltip__item" data-state="percent">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_percent.svg" alt="resubmit_percent" />\n            <span class="text"\n              >').concat("sell_listings"===t?SIHLang.market.resubmit_orders.reduce_by:SIHLang.market.resubmit_orders.increase_by,"\n              1%\n              ").concat("sell_listings"===t?SIHLang.market.resubmit_orders.of_min_price:SIHLang.market.resubmit_orders.of_max_price,'</span\n            >\n          </a>\n          <a href="javascript:void(0)" class="resubmit-tooltip__item" data-state="manual">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_manual.svg" alt="resubmit_manual" />\n            <span class="text">').concat(SIHLang.market.resubmit_orders.set_price,"</span>\n          </a>\n        </div>\n      </div>\n    "));i.prepend(a)}))},resubmitButton_listenerActions=function(t){resubmitButton_resubmitBtnAction(t),undoAction(t),showResubmitTooltipAction(t),changeTooltipOptionAction(t),showDisabledTooltip(t)},resubmitButton_resubmitBtnAction=function(t){GetListingsRows(t).each((function(e,n){var r=$J(n),i=r.find(".sih-resubmit__btn"),a=null;i.off("click").click((function(e){var n=this;clearTimeout(a),a=setTimeout((function(){var e=$J(n).attr("data-state");"manual"!==e?(BuildResubmitData(r,e),RenderChangePanel(t),UpdateHeaderTotalResubmitPrice(t)):RenderResubmitModal(r)}),200)}))}))},undoAction=function(t){GetListingsRows(t).each((function(e,n){var r=$J(n);r.find(".sih-resubmit").find(".sih-resubmit__undo").off("click").click((function(){if("sell_listings"===t){var e=$J(this).attr("data-id");global.SellListing.removeItem(e)}else{var n=$J(this).attr("data-id");global.BuyOrders.removeItem(n)}r.find(".resubmit-price").remove(),r.css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack"),RenderChangePanel(t),UpdateHeaderTotalResubmitPrice(t)}))}))},showResubmitTooltipAction=function(t){var e=GetListingsRows(t);e.each((function(t,n){var r=$J(n),i=r.find(".sih-resubmit"),a=i.find(".sih-resubmit__arrow-down"),o=null;a.off("click").click((function(){clearTimeout(o),o=setTimeout((function(){r.css("overflow","visible"),e.find(".sih-resubmit__tooltip").fadeOut();var t=i.find(".sih-resubmit__tooltip");t.fadeIn("fast").css("display","flex"),$J("body").off("click").click((function(e){var n=$J(e.target.parentElement);n.hasClass("sih-resubmit__row")||n.hasClass("sih-resubmit__arrow-down")||t.fadeOut("fast")}))}),200)}))}))},changeTooltipOptionAction=function(t){GetListingsRows(t).each((function(t,e){var n=$J(e);n.find(".sih-resubmit__tooltip").find(".resubmit-tooltip__item").off("click").click((function(){var t=$J(this),e=t.attr("data-state");if("manual"!==e){var r=t.closest(".sih-resubmit").find(".sih-resubmit__btn");r.attr("data-state",e),r.find("img").attr("src","chrome-extension://".concat(SIHID,"/assets/market/resubmit/resubmit_").concat(e,".svg")).attr("alt",e),r.trigger("click")}else RenderResubmitModal(n)}))}))},showDisabledTooltip=function(t){GetListingsRows(t).each((function(e,n){var r=$J(n).find(".sih-resubmit.without-price"),i=$J('\n      <div class="sih-global resubmit-price-tooltip">\n        <div class="roboto row items-center gap-5">\n          <a href="javascript:void(0)" class="load_price_manual text text_blue hover-opacity-8"\n            >'.concat(SIHLang.market.resubmit_orders.tooltips.need_load_price_1,'</a\n          >\n          <span class="text">').concat(SIHLang.market.resubmit_orders.tooltips.need_load_price_2,"</span>\n        </div>\n      </div>\n    "));r.tooltip({content:i.text(),position:{my:"left bottom",at:"left top",using:function(e,n){var r=$J('.my_listing_section[data-table-id="'.concat(t,'"]')).find(".load_price_manual");i.find(".load_price_manual").off("click").click((function(){r.hasClass("disabled")||r.trigger("click")})),$J(this).css(e),$J(".ui-tooltip-content").hide(),$J(this).append(i)}},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}).on("mouseenter",(function(t){r.not($J(this)).tooltip("close")})).on("mouseleave",(function(t){$J(".ui-tooltip:hover").length>0&&t.stopImmediatePropagation()})),$J("body").on("mouseleave",".ui-tooltip",(function(t){r.tooltip(),r.tooltip("close")}))}))},content=__webpack_require__(4317);function injectButton_typeof(t){return injectButton_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},injectButton_typeof(t)}function injectButton_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */injectButton_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:A(t,n,s)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var _="suspendedStart",h="suspendedYield",f="executing",m="completed",p={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(T([])));k&&k!==n&&r.call(k,o)&&(b=k);var S=y.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,a,o,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==injectButton_typeof(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var i=_;return function(a,o){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=u(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(injectButton_typeof(e)+" is not iterable")}return v.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function injectButton_asyncGeneratorStep(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function injectButton_asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){injectButton_asyncGeneratorStep(a,r,i,o,s,"next",t)}function s(t){injectButton_asyncGeneratorStep(a,r,i,o,s,"throw",t)}o(void 0)}))}}var RenderExportMarketHistoryBtn=function(){injectButton_loadHtml(),injectButton_listenerActions()},injectButton_loadHtml=function(){var t=$J("#myMarketTabs .market_tab_well_tabs"),e=$J('\n    <a\n      id="sih-tab-export-market-history"\n      class="market_tab_well_tab market_tab_well_tab_inactive"\n      href="javascript:void(0)"\n    >\n      <span class="market_tab_well_tab_contents">'.concat(SIHLang.export_market_history.title,"</span>\n    </a>\n  "));t.find("#sih-tab-export-market-history").length||t.append(e),t.contents().filter((function(){return 3===this.nodeType&&""===this.nodeValue.trim()})).remove()},injectButton_listenerActions=function(){openExportHistoryTabAction()},openExportHistoryTabAction=function(){$J("#myMarketTabs .market_tab_well_tabs").find("#sih-tab-export-market-history").off("click").click(function(){var t=injectButton_asyncToGenerator(injectButton_regeneratorRuntime().mark((function t(e){return injectButton_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,content.m)();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},filter=__webpack_require__(8156),sideBanner=__webpack_require__(6331);SIH=__webpack_exports__})();