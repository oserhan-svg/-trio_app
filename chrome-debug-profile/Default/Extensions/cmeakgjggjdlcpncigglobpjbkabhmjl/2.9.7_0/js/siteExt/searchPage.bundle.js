var SIH;(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{SihFilters:()=>ut,searchPage:()=>r});var r={};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return e};var t,e={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new R(n||[]);return i(a,"_invoke",{value:O(t,r,c)}),a}function y(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",d="suspendedYield",m="executing",v="completed",b={};function g(){}function S(){}function _(){}var C={};h(C,s,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(I([])));x&&x!==r&&a.call(x,s)&&(C=x);var A=_.prototype=g.prototype=Object.create(C);function L(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,e){function r(o,i,c,s){var l=y(t[o],t,i);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==n(h)&&a.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,c,s)}),(function(t){r("throw",t,c,s)})):e.resolve(h).then((function(t){u.value=t,c(u)}),(function(t){return r("throw",t,c,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=E(c,n);if(s){if(s===b)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=y(e,r,n);if("normal"===l.type){if(o=n.done?v:d,l.arg===b)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var a=y(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,b;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(a.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(n(e)+" is not iterable")}return S.prototype=_,i(A,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:S,configurable:!0}),S.displayName=h(_,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,h(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},L(N.prototype),h(N.prototype,l,(function(){return this})),e.AsyncIterator=N,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new N(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(A),h(A,u,"Generator"),h(A,s,(function(){return this})),h(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function a(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){a(i,n,o,c,s,"next",t)}function s(t){a(i,n,o,c,s,"throw",t)}c(void 0)}))}}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.r(r),t.d(r,{RenderSIHSearchMainPage:()=>z});var s=function(){var t,e;t=u(),$J(".page_content").append('\n    <div class="row">\n      <a id="sih-add-to-cart-btn" href="javascript:void(0)" class="sih-cart__button sih-cart__button_green cart-counter"\n        >'.concat(SIHLang.cart.add_to_cart,' <span class="number">').concat(t.length,'</span></a\n      >\n      <a href="javascript:void(0)" class="sih-cart__button sih-cart__button_red clear-cart_button"\n        >').concat(SIHLang.cart.clear_all,"\n      </a>\n    </div>\n  ")),$J(document).on("click","#sih-add-to-cart-btn",i(o().mark((function t(){var e,r,n,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=u(),Array.isArray(e)&&e.length){t.next=3;break}return t.abrupt("return");case 3:return r=e.flatMap((function(t){return Object.values(t).map((function(t){return{packageid:t}}))})),n=JSON.parse($J("#application_config").attr("data-config")),a=JSON.stringify({user_country:n.COUNTRY,items:r}),t.prev=6,t.next=9,$J.ajax({url:"https://api.steampowered.com/IAccountCartService/AddItemsToCart/v1/?access_token=".concat(g_wapit,"&input_json=").concat(encodeURIComponent(a)),type:"POST",processData:!1});case 9:h([]),window.location.href="https://store.steampowered.com/cart/",t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.error("Error adding to cart:",t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})))),e=$J(".responsive_page_frame").find(".clear-cart_button"),$J(e).click((function(){var t=u();t.length=0,h(t),window.location.reload()})),l(),Ajax.Responders.register({onComplete:l})};var l=function(){var t=u();$J(".responsive_search_name_combined").each((function(e,r){var n=$J(r).find(".discount_final_price").text(),o=new RegExp("[0-9]");if(n.match(o)){var a=$J(r).parent(),i=a.attr("data-ds-appid");a.children().hasClass("sih-cart")||a.find(".ds_incart_flag").length||($J('\n          <a href="javascript:void(0)" class="sih-cart">\n            <div class="sih-cart__checkbox"></div>\n          </a>\n        ').appendTo(a),t.forEach((function(t){for(var e in t)+e==+i&&a.find(".sih-cart").children(".sih-cart__checkbox").addClass("checked")})),a.find(".sih-cart").click($J.debounce(300,(function(){$J(this).children(".sih-cart__checkbox").toggleClass("checked");var e=a.attr("href");$J.ajax({method:"GET",url:e}).done((function(e){var r=0;$J(e).find(".game_purchase_action").each((function(e,n){$J(n).find(".btn_addtocart").each((function(e,n){var o=$J(n).children("a").attr("href");if(null!=o&&o.includes("javascript:addToCart")&&0===r){var a=o.match(/[0-9]+/g);if(t){var s=t.findIndex((function(t){return t[i]===a[0]}));-1===s?(t.push(c({},i,a[0])),h(t),f()):(t.splice(s,1),h(t),f())}r++}}))}))}))}))))}}))};function u(){var t=localStorage.getItem("SIH_CART")||"[]";return JSON.parse(t)}function h(t){var e=JSON.stringify(t);localStorage.setItem("SIH_CART",e)}function f(){var t=u(),e=$J(".responsive_page_frame").find(".cart-counter"),r=t.length.toString();$J(e).children(".number").text(r)}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function d(t,e,r){return(e=m(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y(e)?e:e+""}function v(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function b(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var g=new WeakSet;function S(t){var e=t.match(/(?:AED|ARS\$|A\$|R\$|Br|CDN\$|CHF|CLP\$|¥|COL\$|₡|€|£|HK\$|Rp|₪|₹|¥|₩|KD|₸|Mex\$|RM|kr|원|NZ\$|S\/\.|P|zł|QR|刀币|₽|SR|S\$|฿|TL|NT\$|₴|\$|\$U|₫|R)/);return e?e[0]:""}function _(t){var e=this;return Object.keys(this.g_rgCurrencyData).find((function(r){return e.g_rgCurrencyData[r].strSymbol===t}))||""}const C=new(function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,g),d(this,"getPriceFromCurrency",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,i=e.getCurrency(+r),c=e.getCurrency(+n),s=o?ExchangeSteamRates[i.strCode]:ExchangeRates._rates[i.strCode],l=o?ExchangeSteamRates[c.strCode]:ExchangeRates._rates[c.strCode];return"USD"===c.strCode&&t?"USD"!=i.strCode&&(t*=s)<.03&&2===a&&(t=.03):c.strCode!=i.strCode&&t&&(t=t/l*s)<.03&&2===a&&(t=.03),2!==a&&t>.03&&(a=2),{price:t||0,code:i.strCode,symbol:i.strSymbol,text:"".concat(i.bSymbolIsPrefix?"".concat(i.strSymbol).concat(i.strSymbolAndNumberSeparator):"").concat(t?t.toFixed(a):0).concat(i.bSymbolIsPrefix?"":"".concat(i.strSymbolAndNumberSeparator).concat(i.strSymbol)),template:"".concat(i.bSymbolIsPrefix?"".concat(i.strSymbol).concat(i.strSymbolAndNumberSeparator):"","$price").concat(i.bSymbolIsPrefix?"":"".concat(i.strSymbolAndNumberSeparator).concat(i.strSymbol)),symbolPosition:i.bSymbolIsPrefix?"before":"after"}})),d(this,"getCurrency",(function(t){var r=null;for(var n in t=t||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1,e.g_rgCurrencyData)if(e.g_rgCurrencyData[n].eCurrencyCode===+t){r=e.g_rgCurrencyData[n];break}return r})),d(this,"getCurrencyCodeSteam",(function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1})),d(this,"g_rgCurrencyData",{USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"US",countryCodeAlpha3:"USA"},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"GB",countryCodeAlpha3:"GBR"},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"DE",countryCodeAlpha3:"DEU"},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CH",countryCodeAlpha3:"CHE"},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"RU",countryCodeAlpha3:"RUS"},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"BR",countryCodeAlpha3:"BRA"},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"JP",countryCodeAlpha3:"JPN"},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"NO",countryCodeAlpha3:"NOR"},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"ID",countryCodeAlpha3:"IDN"},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"MY",countryCodeAlpha3:"MYS"},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PH",countryCodeAlpha3:"PHL"},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"SG",countryCodeAlpha3:"SGP"},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"TH",countryCodeAlpha3:"THA"},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"VN",countryCodeAlpha3:"VNM"},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"KR",countryCodeAlpha3:"KOR"},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"TR",countryCodeAlpha3:"TUR"},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"UA",countryCodeAlpha3:"UKR"},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"MX",countryCodeAlpha3:"MEX"},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CA",countryCodeAlpha3:"CAN"},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AU",countryCodeAlpha3:"AUS"},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"NZ",countryCodeAlpha3:"NZL"},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PL",countryCodeAlpha3:"POL"},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CN",countryCodeAlpha3:"CHN"},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"IN",countryCodeAlpha3:"IND"},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CL",countryCodeAlpha3:"CHL"},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PE",countryCodeAlpha3:"PER"},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CO",countryCodeAlpha3:"COL"},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"ZA",countryCodeAlpha3:"ZAF"},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"HK",countryCodeAlpha3:"HKG"},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"TW",countryCodeAlpha3:"TWN"},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"SA",countryCodeAlpha3:"SAU"},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AE",countryCodeAlpha3:"ARE"},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AR",countryCodeAlpha3:"ARG"},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"IL",countryCodeAlpha3:"ISR"},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"BY",countryCodeAlpha3:"BLR"},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"KZ",countryCodeAlpha3:"KAZ"},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"KW",countryCodeAlpha3:"KWT"},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"QA",countryCodeAlpha3:"QAT"},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"CR",countryCodeAlpha3:"CRI"},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"UY",countryCodeAlpha3:"URY"}})},e=[{key:"getCurrencyIdByCode",value:function(t){var e;return(null===(e=this.g_rgCurrencyData[t])||void 0===e?void 0:e.eCurrencyCode)||null}},{key:"parsePrice",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=b(g,this,S).call(this,t.replace("руб","₽")),n=b(g,this,_).call(this,r),o=this.g_rgCurrencyData[n],a=o.eCurrencyCode,i=e?o.strThousandsSeparator:1111..toLocaleString().replace(/1/g,""),c=e?o.strDecimalSymbol:1.1.toLocaleString().replace(/1/g,""),s=(i?t.replace(new RegExp("\\"+i,"g"),""):t).replace(new RegExp("\\"+c),".").match(new RegExp(/\d+[0-9,.]?\d*/g)),l=s&&s[0]&&(parseFloat(s[0])||0===parseFloat(s[0]))||NaN;return isNaN(l)?null:{value:l,currencyCode:n,currencySign:r,currencyNumber:a}}}],e&&p(t.prototype,e),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}());var w=function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SYNC_STORAGE",data:t},(function(t){e(t)}))}))},x=function(t,e){return new Promise((function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_SYNC_STORAGE",data:{key:t,value:e}},(function(t){r(t)}))}))};function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function L(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */L=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new R(n||[]);return o(i,"_invoke",{value:O(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",y="suspendedYield",p="executing",d="completed",m={};function v(){}function b(){}function g(){}var S={};l(S,i,(function(){return this}));var _=Object.getPrototypeOf,C=_&&_(_(I([])));C&&C!==r&&n.call(C,i)&&(S=C);var w=g.prototype=v.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,e){function r(o,a,i,c){var s=h(t[o],t,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==A(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function O(e,r,n){var o=f;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=E(c,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=h(e,r,n);if("normal"===l.type){if(o=n.done?d:y,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=d,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(A(e)+" is not iterable")}return b.prototype=g,o(w,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},x(N.prototype),l(N.prototype,c,(function(){return this})),e.AsyncIterator=N,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new N(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function N(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function O(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){N(a,n,o,i,c,"next",t)}function c(t){N(a,n,o,i,c,"throw",t)}i(void 0)}))}}var E=function(){var t=O(L().mark((function t(){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P();case 2:k();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){var t=O(L().mark((function t(){var e,r;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=$J("body"),r=$J('\n    <div id="sih-game-currency-settings" class="sih-game-currency-settings">\n      <div class="sih-game-currency-settings__fade"></div>\n      <div class="sih-modal sih-global sih-game-currency-settings-modal">\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-game-currency-settings-modal__main">\n            <div class="column">\n              <span class="text text_white fs-16">'.concat(SIHLang.sih_currency_modal.title,'</span>\n              <span class="text text_grey-600 fs-12">').concat(SIHLang.sih_currency_modal.text_1,'</span>\n            </div>\n            <select id="sih-game-currency-settings-select" class="sih-game-currency-settings-modal__select"></select>\n          </div>\n        </div>\n      </div>\n    </div>\n  ')),e.find(".sih-game-currency-settings").length||(e.append(r),$J("body").css("overflow","hidden")),t.next=5,R(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){$J("#sih-game-currency-settings").hide().remove(),$J("body").css("overflow","auto")},R=function(){var t=O(L().mark((function t(e){var r,n;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.find("#sih-game-currency-settings-select"),t.next=3,F();case 3:return n=t.sent,$J.each(C.g_rgCurrencyData,(function(t,e){r.append('<option\n        class="flag-icon flag-icon-'.concat(e.countryCodeAlpha3.toLowerCase(),' flag-icon-squared"\n        data-currency="').concat(e.eCurrencyCode,'"\n        data-str-code="').concat(e.strCode,'"\n        ').concat(n.strCode===e.strCode?"selected":"","\n      >\n        <span>").concat(e.strCode,"</span>\n      </option>"))})),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(t,e){var r=$J(e.element).attr("data-currency"),n=$J(e.element).attr("data-str-code"),o=$J("<li>",{class:"sih-game-currency-settings-select__select-option",value:e.element.attr("value")}).attr("data-currency",r).attr("data-str-code",n),a=$J("<span>",{class:e.element.attr("class")}),i=$J("<span>",{text:e.label});return i.prepend(a),o.append(i).appendTo(t)}}),r.selectMenuWithIcons({appendTo:"#sih-game-currency-settings .sih-game-currency-settings-modal__main",position:{my:"left top",at:"left bottom+10",using:function(t,e){$J(this).css(t),$J(this).addClass("sih-game-currency-settings-select__widget_content")}}}),t.next=9,I();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=O(L().mark((function t(){var e,r;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F();case 2:e=t.sent,(r=$J("#sih-game-currency-settings-select-button").find(".ui-selectmenu-text")).before('<span class="flag-icon flag-icon-'.concat(e.countryCodeAlpha3.toLowerCase(),' flag-icon-squared"></span')),r.text(e.strCode);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){$(),U()},$=function(){$J("#sih-game-currency-settings").on("click",".sih-game-currency-settings__fade",(function(){T()})),$J(document).off("keydown").keydown(function(){var t=O(L().mark((function t(e){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:27===e.keyCode&&(e.stopPropagation(),T());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},U=function(){$J("#sih-game-currency-settings-select-button").click((function(){var t=$J(this);$J(".sih-game-currency-settings-select__widget_content").find(".sih-game-currency-settings-select__select-option").each((function(e,r){$J(r).off("click").click(O(L().mark((function e(){var r,n,o;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$J(this),n=r.data("currency"),o=r.attr("data-str-code"),t.find(".flag-icon").remove(),e.next=6,x("currency_code",o);case 6:return e.next=8,x("currency",n);case 8:return e.next=10,I();case 10:return e.next=12,M();case 12:T();case 13:case"end":return e.stop()}}),e,this)}))))}))}))};function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function J(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */J=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",y="suspendedYield",p="executing",d="completed",m={};function v(){}function b(){}function g(){}var S={};l(S,i,(function(){return this}));var _=Object.getPrototypeOf,C=_&&_(_(T([])));C&&C!==r&&n.call(C,i)&&(S=C);var w=g.prototype=v.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,a,i,c){var s=h(t[o],t,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==D(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=f;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=N(c,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=h(e,r,n);if("normal"===l.type){if(o=n.done?d:y,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=d,n.method="throw",n.arg=l.arg)}}}function N(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(D(e)+" is not iterable")}return b.prototype=g,o(w,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},x(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new A(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function j(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function G(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){j(a,n,o,i,c,"next",t)}function c(t){j(a,n,o,i,c,"throw",t)}i(void 0)}))}}var W=null,H=function(){var t=G(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y();case 2:return t.next=4,V();case 4:K(),Ajax.Responders.register({onComplete:function(){var t=G(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V();case 2:if($J(".sih-filter-settings .sih-currency-btn").length){t.next=6;break}return t.next=5,Y();case 5:K();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),F=function(){var t=G(J().mark((function t(){var e,r,n,o,a,i,c;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w("currency");case 2:return e=t.sent,r=e.currency,t.next=6,w("steamCurrency");case 6:return n=t.sent,o=n.steamCurrency,a=o.eCurrencyCode,i=void 0===a?1:a,c="object"!==D(r)?r:i||1,t.abrupt("return",C.getCurrency(c));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=G(J().mark((function t(){var e,r;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=$J(".sih-filter-settings .sih-currency-btn"),t.next=3,F();case 3:return r=t.sent,e.find(".sih-currency-btn__icon-country").removeClass((function(t,e){return e.split(" ").filter((function(t){return t.startsWith("flag-icon-")})).join(" ")})).addClass("flag-icon-squared flag-icon-".concat(r.countryCodeAlpha3.toLowerCase())),e.find(".sih-currency-btn__code").text(r.strCode),t.next=8,V();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=G(J().mark((function t(){var e,r,n,o;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=$J("#search_results_filtered_warning_persistent").addClass("sih-search-filter"),r=e.find(".settings_tab"),t.next=4,F();case 4:n=t.sent,o=$J('<div class="sih-search-filter__settings sih-filter-settings sih-global">\n      <div class="sih-filter-settings__currency sih-currency-btn">\n        <span\n          class="sih-currency-btn__icon-country flag-icon flag-icon-'.concat(n.countryCodeAlpha3.toLowerCase(),' flag-icon-squared"\n          data-country="').concat(n.countryCodeAlpha3,'"\n        ></span>\n        <span class="sih-currency-btn__code text text_white fs-12">').concat(n.strCode,'</span>\n        <span class="sih-currency-btn__icon-arrow">\n          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M2.22999 6.38492L7.37768 11.7189C7.55355 11.9109 7.76325 12 8 12C8.23675 12 8.45321 11.904 8.62909 11.7189L13.77 6.38491C13.9188 6.23408 14 6.04211 14 5.81586C14 5.35651 13.6483 5 13.2018 5C12.9853 5 12.7756 5.08227 12.6201 5.24681L8.00676 10.0529L3.37993 5.24681C3.23111 5.08913 3.02142 5 2.79819 5C2.35175 5 2 5.35651 2 5.81587C2 6.03526 2.08117 6.23408 2.22999 6.38492Z"\n              fill="currentColor"\n            />\n          </svg>\n        </span>\n      </div>\n    </div>')),r.appendTo(o),e.append(o);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),K=function(){B()},B=function(){$J(".sih-filter-settings .sih-currency-btn").off("click").on("click",(function(){clearTimeout(W),W=setTimeout(G(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:case"end":return t.stop()}}),t)}))),300)}))},V=function(){var t=G(J().mark((function t(){var e,r,n,o,a;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F();case 2:return e=t.sent,t.next=5,w("steamCurrency");case 5:r=t.sent,n=r.steamCurrency,o=n.eCurrencyCode,a=void 0===o?1:o,$J(".discount_final_price").each((function(t,r){var n=$J(r),o=n.attr("data-default-price")||n.text(),i=new RegExp("[0-9]");if(o.match(i)){var c=C.parsePrice(o,!0),s=C.getPriceFromCurrency(c.value,e.eCurrencyCode,c.currencyNumber,!0).text;c.currencyNumber===a&&n.attr("data-default-price",o),n.text(s)}}));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function X(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */X=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",y="suspendedYield",p="executing",d="completed",m={};function v(){}function b(){}function g(){}var S={};l(S,i,(function(){return this}));var _=Object.getPrototypeOf,C=_&&_(_(T([])));C&&C!==r&&n.call(C,i)&&(S=C);var w=g.prototype=v.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,a,i,c){var s=h(t[o],t,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==Z(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=f;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=N(c,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=h(e,r,n);if("normal"===l.type){if(o=n.done?d:y,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=d,n.method="throw",n.arg=l.arg)}}}function N(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Z(e)+" is not iterable")}return b.prototype=g,o(w,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},x(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new A(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Q(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}var q,z=function(){var t,e=(t=X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(),t.next=3,H();case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Q(a,n,o,i,c,"next",t)}function c(t){Q(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}(),tt=function(t,e){try{e=e||"",localStorage.setItem(t,JSON.stringify(e))}catch(t){console.error(t)}},et=function(t){try{var e=localStorage.getItem(t)||null;return JSON.parse(e)}catch(t){return console.error(t),null}};function rt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function at(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,st(n.key),n)}}function it(t,e,r){return e&&at(t.prototype,e),r&&at(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ct(t,e,r){return(e=st(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function st(t){var e=function(t,e){if("object"!=ot(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ot(e)?e:e+""}var lt=it((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ct(this,"initSihFilters",(function(){var e=$J("#advsearchform .rightcol"),r=$J('<div class="block search_collapse_block" data-collapse-name="sih-filter">\n        <div class="block_header sih-filters__header">\n          <div>'.concat(SIHLang.game_filters.title,'</div>\n          <img src="chrome-extension://').concat(SIHID,'/assets/common/powered_sih.svg" alt="" />\n        </div>\n        <div class="block_content block_content_inner">\n          ').concat(["cart","mixed","negative"].map((function(e){return t.getCheckboxHtml(e)})).join(""),'\n          <div class="block_rule"></div>\n          ').concat(t.getReviewScoreHtml(),'\n          <div class="block_rule"></div>\n          ').concat(t.getRangeNumberFilterHtml("sih-reviews-count",SIHLang.game_filters.number_reviews,100),'\n          <div class="block_rule"></div>\n          ').concat(t.getRangeNumberFilterHtml("sih-discount-percent",SIHLang.game_filters.discount,1),"\n        </div>\n      </div>"));e.prepend(r),t.applyFilter(),t.initAutocollapse(),t.eventListeners(),t.rewriteSteamMethod()}))}));q=lt,ct(lt,"RANGE_CONTROL_STEP",5),ct(lt,"RANGE_CONTROL_MIN_VALUE",0),ct(lt,"RANGE_CONTROL_MAX_VALUE",100),ct(lt,"initAutocollapse",(function(){var t,e="sih-filter",r=q.getCollapsePrefs(),n=$J('.search_collapse_block[data-collapse-name="'.concat(e,'"]'));void 0===r[e]?(r[e]=!1,t=!1):t=r[e],n.children(".block_content").css("height",""),t&&(n.addClass("collapsed"),n.children(".block_content").hide()),n.children(".block_header").on("click",(function(){n.hasClass("collapsed")?(r[e]=!1,n.children(".block_content").slideDown("fast")):(r[e]=!0,n.children(".block_content").slideUp("fast")),n.toggleClass("collapsed"),q.saveCollapsePrefs(r)}))})),ct(lt,"getCollapsePrefs",(function(){return et("sih_search_collapse_prefs")||{}})),ct(lt,"saveCollapsePrefs",(function(t){tt("sih_search_collapse_prefs",t)})),ct(lt,"eventListeners",(function(){q.checkboxClickListener(),q.reviewScoreListener(),q.rangeNumberFilterListener("sih-reviews-count"),q.rangeNumberFilterListener("sih-discount-percent")})),ct(lt,"getCheckboxHtml",(function(t){var e,r,n=new URLSearchParams(window.location.search),o="sih-hide",a=n.has(o)&&null!==(e=null===(r=n.get(o))||void 0===r?void 0:r.split(",").includes(t))&&void 0!==e&&e;return'<div\n        class="tab_filter_control_row sih-control__checkbox '.concat(a?"checked":"",'"\n        data-param="sih-hide"\n        data-value=').concat(t,'\n      >\n        <span\n          class="tab_filter_control tab_filter_control_include ').concat(a?"checked":"",'"\n          data-param="sih-hide"\n          data-value="').concat(t,'"\n        >\n          <span>\n            <span class="tab_filter_control_checkbox"></span>\n            <span class="tab_filter_control_label">').concat(SIHLang.game_filters[t],"</span>\n          </span>\n        </span>\n      </div>")})),ct(lt,"getReviewScoreHtml",(function(){var t=new URLSearchParams(window.location.search).get("sih-reviews-score"),e=rt(t?t.split("-").map(Number):[q.RANGE_CONTROL_MIN_VALUE,q.RANGE_CONTROL_MAX_VALUE],2),r=e[0],n=e[1];return'<div class="range_container">\n        <div class="sih-double-slider range_container_inner">\n          <input\n            class="sih-double-slider__input sih-double-slider__input_upper range_input"\n            type="range"\n            min="'.concat(q.RANGE_CONTROL_MIN_VALUE,'"\n            max="').concat(q.RANGE_CONTROL_MAX_VALUE,'"\n            step="').concat(q.RANGE_CONTROL_STEP,'"\n            value="').concat(n,'"\n          />\n          <input\n            class="sih-double-slider__input sih-double-slider__input_lower range_input"\n            type="range"\n            min="').concat(q.RANGE_CONTROL_MIN_VALUE,'"\n            max="').concat(q.RANGE_CONTROL_MAX_VALUE,'"\n            step="').concat(q.RANGE_CONTROL_STEP,'"\n            value="').concat(r,'"\n          />\n        </div>\n        <div class="sih-range-display range_display">\n          ').concat(SIHLang.game_filters.between," ").concat(r,"% ").concat(SIHLang.game_filters.and," ").concat(n,"%\n          ").concat(SIHLang.game_filters.positive_reviews,"\n        </div>\n      </div>")})),ct(lt,"getRangeNumberFilterHtml",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=new URLSearchParams(window.location.search).get(t),o=rt(n?n.split("-"):["",""],2),a=o[0],i=o[1];return'\n    <div class="sih-range-filter">\n      <div class="sih-range-filter__header">'.concat(e,':</div>\n      <div class="sih-range-filter__content">\n        <input\n          class="sih-range-filter__input ').concat(t,"__input ").concat(t,'__input_lower search_filter_suggest"\n          type="number"\n          min="0"\n          step="').concat(r,'"\n          placeholder="').concat(SIHLang.game_filters.min,'"\n          value="').concat(a,'"\n        />\n        -\n        <input\n          class="sih-range-filter__input ').concat(t,"__input ").concat(t,'__input_upper search_filter_suggest"\n          type="number"\n          min="0"\n          step="').concat(r,'"\n          placeholder="').concat(SIHLang.game_filters.max,'"\n          value="').concat(i,'"\n        />\n      </div>\n    </div>')})),ct(lt,"checkboxClickListener",(function(){$J(".sih-control__checkbox").click((function(){$J(this).toggleClass("checked"),$J(this).find(".tab_filter_control_include").toggleClass("checked"),q.updateSearchUrl(),q.applyFilter()}))})),ct(lt,"reviewScoreListener",(function(){$J(".sih-double-slider__input").each((function(t,e){$J(e).change((function(){var t=$J(".sih-double-slider__input_lower"),e=$J(".sih-double-slider__input_upper"),r=+t.val(),n=+e.val();n<=r&&(r===q.RANGE_CONTROL_MAX_VALUE?(r=q.RANGE_CONTROL_MAX_VALUE-q.RANGE_CONTROL_STEP,n=q.RANGE_CONTROL_MAX_VALUE):n<q.RANGE_CONTROL_MAX_VALUE?n=r+q.RANGE_CONTROL_STEP:r=n-q.RANGE_CONTROL_STEP,t.val(r),e.val(n)),$J(".sih-range-display").text("".concat(SIHLang.game_filters.between," ").concat(r,"% ").concat(SIHLang.game_filters.and," ").concat(n,"% ").concat(SIHLang.game_filters.positive_reviews)),q.updateSearchUrl(),q.applyFilter()}))}))})),ct(lt,"rangeNumberFilterListener",(function(t){var e=function(t){+t.val()<0&&t.val("")},r=function(){var r=$J(".".concat(t,"__input_lower")),n=$J(".".concat(t,"__input_upper"));e(r),e(n),q.updateSearchUrl(),q.applyFilter()};$J(".".concat(t,"__input")).each((function(t,e){$J(e).change(r),$J(e).focusout(r),$J(e).keydown((function(t){"Enter"===t.key&&(t.preventDefault(),e.dispatchEvent(new Event("change")))}))}))})),ct(lt,"updateSearchUrl",(function(){var t=new URLSearchParams(window.location.search),e={};$J(".sih-control__checkbox").each((function(t,r){var n=$J(r).attr("data-param"),o=$J(r).attr("data-value"),a=$J(r).hasClass("checked");e[n]||(e[n]=[]),a&&e[n].push(o)}));var r=+$J(".sih-double-slider__input_lower").val(),n=+$J(".sih-double-slider__input_upper").val();e["sih-reviews-score"]="".concat(r,"-").concat(n);for(var o=0,a=Object.entries(e);o<a.length;o++){var i=rt(a[o],2),c=i[0],s=i[1];null!==s&&s.length?t.set(c,s):t.delete(c)}var l=$J(".sih-reviews-count__input_lower").val(),u=$J(".sih-reviews-count__input_upper").val();e["sih-reviews-count"]="".concat(l,"-").concat(u);var h=$J(".sih-discount-percent__input_lower").val(),f=$J(".sih-discount-percent__input_upper").val();e["sih-discount-percent"]="".concat(h,"-").concat(f);for(var y=0,p=Object.entries(e);y<p.length;y++){var d=rt(p[y],2),m=d[0],v=d[1];null!==v&&v.length?t.set(m,v):t.delete(m)}history.pushState({},"","?".concat(t.toString()))})),ct(lt,"clearFilterClasses",(function(t){t.forEach((function(t){$J(".".concat(t)).removeClass(t)}))})),ct(lt,"applyFilter",(function(){var t=new URLSearchParams(window.location.search),e=$J(".search_result_row");if(t.has("sih-hide")){var r=t.get("sih-hide").split(",");e.each((function(t,e){var n=$J(e);r.forEach((function(t){switch(t){case"cart":n.toggleClass("sih-hide__card",n.hasClass("ds_incart"));break;case"mixed":n.toggleClass("sih-hide__mixed",!!n.find(".search_reviewscore span.search_review_summary.mixed").length);break;case"negative":n.toggleClass("sih-hide__negative",!!n.find(".search_reviewscore span.search_review_summary.negative").length)}}))}))}else{var n=$J('[class*="sih-hide"]');n.length&&n.each((function(){$J(this).removeClass((function(t,e){return(e.match(/\bsih-hide\S*/g)||[]).join(" ")}))}))}if(t.has("sih-reviews-score")){var o=rt(t.get("sih-reviews-score").split("-"),2),a=o[0],i=o[1];e.each((function(t,e){var r=$J(e),n=r.find(".search_review_summary");if(n.length){var o=n.attr("data-tooltip-html").match(/(?<=%\s?)\d+|\d+(?=\s*%)/);if(o){var c=+o[0];c<+a||c>+i?r.addClass("sih-reviews-score"):r.removeClass("sih-reviews-score")}else+a>0&&r.addClass("sih-reviews-score")}}))}else q.clearFilterClasses(["sih-reviews-score"]);if(t.has("sih-reviews-count")){var c=rt(t.get("sih-reviews-count").split("-"),2),s=c[0],l=c[1];e.each((function(t,e){var r=$J(e),n=r.find(".search_review_summary");if(n.length){var o=n.attr("data-tooltip-html").match(/(?<!%\s*[\d,]*)\d[\d,]+(?![\d,]*\s*%)/);if(o){var a=+o[0].replace(/,/g,"");s&&a<+s||l&&a>+l?r.addClass("sih-reviews-count-filter"):r.removeClass("sih-reviews-count-filter")}else s&&+s>0&&r.addClass("sih-reviews-count-filter")}else r.toggleClass("sih-reviews-count-filter",!!s.length)}))}else q.clearFilterClasses(["sih-reviews-count-filter"]);if(t.has("sih-discount-percent")){var u=rt(t.get("sih-discount-percent").split("-"),2),h=u[0],f=u[1];e.each((function(t,e){var r=$J(e),n=r.find(".discount_block");if(n.length){var o=n.attr("data-discount")||"0";h&&+o<+h||f&&+o>+f?r.addClass("sih-discount-percent-filter"):r.removeClass("sih-discount-percent-filter")}else h&&+h>0&&r.addClass("sih-discount-percent-filter")}))}else q.clearFilterClasses(["sih-discount-percent-filter"])})),ct(lt,"rewriteSteamMethod",(function(){var t=InitInfiniteScroll.oController;if(t){var e=t.m_fnPageChangedHandler;t.SetPageChangedHandler((function(){e.apply(void 0,arguments),q.applyFilter()}))}}));const ut=new lt;SIH=e})();