var SIH;(()=>{"use strict";var t={6703:(t,e,r)=>{r.r(e),r.d(e,{App:()=>N,BuyOrders:()=>U,FormatNumberWithSuffix:()=>R,ModifyHoverItemName:()=>D,SKIN_WEAR_MAP:()=>P,SellListing:()=>F,SihUserPrices:()=>M,formatNumber:()=>j,formatNumberToLocalRu:()=>H,getLocation:()=>$,getPageParams:()=>T,getPercentNumberDifference:()=>G,getPriceFromSteam:()=>J,parseNumber:()=>A});var n,o,i=r(4273),a=r(3080),s=null,c=function(t,e){l(e),u(t),m(e)},l=function(t){var e=$J("body"),r=$J('\n    <div id="sih-user-confirm-description" class="sih-user-confirm-description">\n      <div class="sih-user-confirm-description__fade"></div>\n\n      <div class="sih-modal sih-global sih-user-confirm-description-tab">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-user-confirm-description__header">\n            <div class="column gap-2">\n              <span class="text text_white fs-20 lh-28">'.concat(h(t.length),' </span>\n              <span class="text text_grey-200 fs-16 lh-24"\n                >').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.subtitle,'</span\n              >\n            </div>\n\n            <label for="skip-for-identical-name" class="row items-center gap-4">\n              <input type="checkbox" name="skip-for-identical-name" id="skip-for-identical-name" />\n              <label\n                class="fake-checkbox sih-user-confirm-description__checkbox-label"\n                for="skip-for-identical-name"\n              ></label>\n              <label for="skip-for-identical-name" class="text text_white fs-12"\n                >').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.remember_identical_text,'</label\n              >\n              <span\n                class="sih-user-confirm-description__tooltip-icon"\n                title="').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.remember_identical_tooltip,'"\n                ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                    fill="currentColor"\n                  />\n                </svg>\n              </span>\n            </label>\n          </div>\n          <div class="sih-user-confirm-description-tab__items sih-items"></div>\n        </div>\n      </div>\n    </div>\n  '));r.find(".sih-user-confirm-description__tooltip-icon").tooltip({position:{my:"center bottom",at:"center top-10"},classes:{"ui-tooltip":"sih-user-confirm-description__tooltip"}});var n=p(t);r.find(".sih-items").append(n),e.find(".sih-user-confirm-description").length?(e.find(".sih-user-confirm-description").show(),e.find(".sih-user-confirm-description-tab").show(),$J("body").css("overflow","hidden")):(e.append(r),e.find(".sih-user-confirm-description").show(),e.find(".sih-user-confirm-description-tab").show(),$J("body").css("overflow","hidden"))},u=function(t){f(t),d()},f=function(t){var e=$J("#sih-user-confirm-description");e.find(".sih-items__item").each((function(r,n){var o=$J(n);o.find(".sih-item__button").off("click").click((function(){clearTimeout(s),s=setTimeout((function(){o[0].rgItem.isSkipItemDescriptions=$J("#skip-for-identical-name").is(":checked");var r=o[0].rgItem;t.postMessage({data:r}),e.hide().remove(),$J("body").css("overflow","auto")}),500)}))}))},d=function(){var t=$J("#sih-user-confirm-description");t.on("click",".sih-user-confirm-description__fade, .sih-modal__close",(function(){t.hide().remove(),$J("body").css("overflow","auto")}))},h=function(t){var e,r;return"ru"===window.lang?t%10==1&&t%100!=11?(e=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v1,r=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v1):[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?(e=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,r=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v2):(e=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,r=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v3):(e=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,r=1===t?SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v1:SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v3),"".concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_1," ").concat(t," ").concat(e," ").concat(r," ").concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_3)},p=function(t){return t.map((function(t){var e=t.descriptions.find((function(t){return"sticker_info"===t.name})),r=e?$J(e.value):null,n=y(r),o=currencyId||1,i=a.A.getPriceFromCurrency((null==t?void 0:t.priceWithoutCommission)/100||0,o,o).text,s=a.A.getPriceFromCurrency((null==t?void 0:t.priceWithCommission)/100||0,o,o).text,c=$J('<div class="sih-items__item sih-item">\n        <div class="sih-item__left-side">\n          <div class="sih-item__image" style="border: 1px solid #'.concat(t.name_color,'">\n            <img src="https://community.fastly.steamstatic.com/economy/image/').concat(t.icon_url,'" alt="" />\n          </div>\n          <div class="sih-item__item-info">\n            <div class="sih-item__name" title="').concat(t.market_hash_name,'">\n              <span class="text text_grey-400 fs-14 bold">').concat(t.market_hash_name,'</span>\n            </div>\n            <div class="sih-item__float-info sih-floats">\n              <div class="sih-floats__spinner">&nbsp;</div>\n            </div>\n          </div>\n          <div class="sih-item__stickers sih-stickers"></div>\n        </div>\n        <div class="sih-item__right-side">\n          <div class="sih-item__price">\n            <span class="text text_white fs-14 lh-14">').concat(i,'</span>\n            <span class="text text_grey-500 fs-12 lh-16">').concat(s,'</span>\n          </div>\n          <div class="sih-item__button">').concat(SIHLang.market.resubmit_orders.relisting,"</div>\n        </div>\n      </div>"));return v(c),c.find(".sih-item__stickers").append(n),c[0].rgItem=t,c}))},v=function(t){var e=t.find(".sih-item__name");e.tooltip({position:{my:"center bottom",at:"center top-10"},classes:{"ui-tooltip":"sih-global sih-item-name__tooltip"}}).on("mouseenter",(function(t){e.not($J(this)).tooltip("close")})).on("mouseleave",(function(t,e){var r=t.target;e||(t.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(r).trigger("mouseleave",[!0])}),250))})),$J("body").on("mouseleave",".ui-tooltip",(function(t){e.tooltip(),e.tooltip("close")}))},m=function(t){var e=$J("#sih-user-confirm-description .sih-items .sih-items__item");t.forEach((function(t,r){var n,o,i=null==t||null===(n=t.actions)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.link.replace("%assetid%",t.assetid).replace("%owner_steamid%",g_steamID);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_WEAR_VALUE",data:{link:i}},(function(t){var n=$J(e[r]).find(".sih-floats");if(t&&t.success){var o=$J('\n          <div class="sih-floats__item">\n            <div class="row justify-between">\n              <span class="text text_grey-500 fs-12 lh-16 semi-bold">'.concat(SIHLang.sihCases.wear,'</span>\n              <span class="text text_grey-500 fs-12 lh-16 semi-bold">').concat(t.iteminfo.floatvalue,'</span>\n            </div>\n            <div class="sih-floats__float-bar">\n              <div class="sih-floats__float-indicator"></div>\n            </div>\n          </div>\n        '));o.find(".sih-floats__float-indicator").css("left","".concat(271*t.iteminfo.floatvalue-9,"px")),n.find(".sih-floats__spinner").remove(),n.append(o)}else n.find(".sih-floats__spinner").remove()}))}))},y=function(t){var e=[];if(!t)return e;t.find("br").remove();var r=t.find("img"),n=t.find("center").text().split(":");if(2!==n.length)return e;n[0].trim();var o=g(r,n[1]);return r.length===o.length&&(e=o.map((function(t,e){var n=$J('\n        <div class="sih-stickers__item" title="'.concat(t,'">\n          <div class="sih-stickers__image">').concat(r[e].outerHTML,"</div>\n        </div>\n      ")),o=n.find(".sih-stickers__image img");return o.tooltip({position:{my:"center top",at:"center bottom+10"},classes:{"ui-tooltip":"sih-global sih-stickers__tooltip"}}).on("mouseenter",(function(t){o.not($J(this)).tooltip("close")})).on("mouseleave",(function(t,e){var r=t.target;e||(t.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(r).trigger("mouseleave",[!0])}),250))})),$J("body").on("mouseleave",".ui-tooltip",(function(t){n.tooltip(),n.tooltip("close")})),n}))),e},g=function(t,e){if(t.length!=e.split(",").length){e=e.split(",");for(var r=[],n=0;n<e.length;n++)if(e[n].includes("(")&&!e[n].includes(")")){var o="".concat(e[n]+","+e[n+1]);r.push(o),e.splice([n+1],1)}else r.push(e[n]);return r}return e.split(",")};function _(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new J(n||[]);return o(a,"_invoke",{value:C(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function w(){}var b={};l(b,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==r&&n.call(S,a)&&(b=S);var k=w.prototype=y.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==L(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=O(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function $(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function J(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(L(e)+" is not iterable")}return g.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},I(E.prototype),l(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,J.prototype={constructor:J,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach($),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),$(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;$(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function w(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){w(i,n,o,a,s,"next",t)}function s(t){w(i,n,o,a,s,"throw",t)}a(void 0)}))}}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function k(t,e,r){return(e=O(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function C(t,e,r){return e&&E(t.prototype,e),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O(t){var e=function(t,e){if("object"!=L(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==L(e)?e:e+""}var P=new Map([["fn","Factory New"],["mw","Minimal Wear"],["ft","Field-Tested"],["ww","Well-Worn"],["bs","Battle-Scarred"]]);function $(t){var e=(t=decodeURIComponent(t)).match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return e&&{href:t,protocol:e[1],host:e[2],hostname:e[3],port:e[4],pathname:e[5],search:e[6],hash:e[7]}}function J(t){return new Promise((function(e){Object.keys(t).length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICE_FROM_STEAM",data:t},e):e()}))}function T(t){var e=$(t=t||window.location.href);if(e.pathname.indexOf("market/listings/")>-1){var r=e.pathname.split("/");return{appId:r[3],marketHashName:r[4]+e.hash,location:e}}return{}}function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=".";return(t=t.replace(/[^0-9.,]/g,"")).indexOf(",")>t.indexOf(".")&&(e=","),(t.match(new RegExp("\\"+e,"g"))||[]).length>1&&(e=""),""!==e&&t.length-t.indexOf(e)-1==3&&0!==t.indexOf("0"+e)&&(e=""),t=(t=t.replace(new RegExp("[^0-9"+e+"]","g"),"")).replace(",","."),parseFloat(t)}var N={getManifest:function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"GET_MANIFEST_APP",data:{}},t)})).then((function(t){return t.data}))}};function j(t){return(+t.toFixed(2)).toLocaleString("ru").replace(",",".")}function H(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,i=a.A.getPriceFromCurrency(t,e,r,n,o),s=i.price,c=i.symbolPosition,l=i.symbol;return s>1e5&&(s=Math.ceil(s)),2!==o&&s>.03&&(o=2),"".concat("before"===c?l:""," ").concat((+s.toFixed(o)).toLocaleString("ru").replace(",",".")," ").concat("after"===c?l:"")}function G(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Math.round(100*(1-t/e)*100)/100*r}var D=function(t){var e=t.item;$J(".item-hover-name-tooltip").remove(),e.prop("title",SIHLang.market.blockBestOfferOfMarketplaceCopyItemName),e.css({display:"inline-block",cursor:"pointer"}),e.tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}),e.off("click").click((function(){var e=$J(this);$J(".name-tooltip").css("opacity",".3").animate({opacity:"1"},"fast"),navigator.clipboard.writeText(t.marketHashName).then((function(){e.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopiedItemName})})).catch((function(t){console.error("Error in copying text: ",t)}))})),e.mouseout((function(){e.tooltip("close"),e.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopyItemName})}))},R=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=a.A.getPriceFromCurrency(t,e,r,o),s=i.price,c=i.symbol,l=i.symbolPosition,u=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].findLast((function(t){return s>=t.value})),f=u?(s/u.value).toFixed(n).replace(/\.0+$|(?<=\.[0-9]*[1-9])0+$/,"").concat(u.symbol):Math.ceil(100*s)/100;return{price:f,text:"before"===l?"".concat(c," ").concat(f):"".concat(f," ").concat(c),symbol:c,symbolPosition:l}},M=function(){return C((function t(){I(this,t)}),null,[{key:"sendItemData",value:function(t,e,r,n,o,i){try{var a,s,c=JSON.parse(JSON.stringify(t)),l=JSON.parse(JSON.stringify(c.buy_order_graph)),u=JSON.parse(JSON.stringify(c.sell_order_graph));if(!e||5!==n)return!1;if(!g_steamID)return!1;if(0===u.length)return;u.length>5?u.length=5:u.length,l.length>1?l.length=1:l.length;for(var f=[],d=u.length-1;d>=0;d--){var h=u[d][0],p=0!==d?u[d][1]-u[d-1][1]:u[d][1];f.unshift({price:h,count:p})}var v=null==l||null===(a=l[0])||void 0===a?void 0:a[0],m=null==l||null===(s=l[0])||void 0===s?void 0:s[1],y={app_id:e,hash_name:r,prices:f,steamid:g_steamID};if(l.length){var g={price:v,count:m};Object.assign(y,{buy_price:g})}if(o&&Object.keys(o).length&&Object.assign(y,{steamSoldData:o}),i){var _,w;"russian"===i?(_=Number($J.parseHTML(c.buy_order_summary)[1].innerHTML),w=Number($J.parseHTML(c.sell_order_summary)[1].innerHTML)):["koreana","japanese","turkish"].includes(i)?(_=Number($J(c.buy_order_summary)[2].innerHTML),w=Number($J(c.sell_order_summary)[2].innerHTML)):(_=Number($J(c.buy_order_summary)[0].innerHTML),w=Number($J(c.sell_order_summary)[0].innerHTML)),y.orders={buy:_,sell:w}}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_USER_STEAM_PRICE",data:y})}catch(t){}}}])}(),F=C((function t(){I(this,t)}));n=F,k(F,"SELL_LISTING",{}),k(F,"setItem",(function(t){if(t){var e={sessionid:g_sessionID,steamid:g_steamID,steamLang:g_strLanguage||"english"},r="".concat(t.appid,"/").concat(t.contextid),o="".concat(t.market_hash_name,"/").concat(t.price);if(Object.keys(n.SELL_LISTING).length){var i=n.SELL_LISTING.data.findIndex((function(t){return Object.keys(t)[0]===r}));if(i>=0)if(n.SELL_LISTING.data[i][r].length){var a=n.SELL_LISTING.data[i][r].findIndex((function(t){return Object.keys(t)[0]===o}));if(a<0)n.SELL_LISTING.data[i][r].push(k({},o,[t]));else n.SELL_LISTING.data[i][r][a][o].findIndex((function(e){return e.assetid===t.assetid}))<0&&n.SELL_LISTING.data[i][r][a][o].push(t)}else n.SELL_LISTING.data[i][r].push(k({},o,[t]));else n.SELL_LISTING.data.push(k({},r,[k({},o,[t])]))}else n.SELL_LISTING={data:[k({},r,[k({},o,[t])])],userInfo:e}}})),k(F,"removeItem",(function(t){t&&n.SELL_LISTING&&n.SELL_LISTING.data&&n.SELL_LISTING.data.length&&n.SELL_LISTING.data.forEach((function(e,r){for(var o=function(){var e=x(a[i],2),o=e[0];e[1].forEach((function(e,i){for(var a=0,s=Object.entries(e);a<s.length;a++){var c=x(s[a],2),l=c[0],u=c[1].findIndex((function(e){return e.assetid===t}));u>=0&&(n.SELL_LISTING.data[r][o][i][l].splice(u,1),n.SELL_LISTING.data[r][o][i][l].length||(n.SELL_LISTING.data[r][o].splice(i,1),n.SELL_LISTING.data[r][o].length||n.SELL_LISTING.data.splice(r,1)))}}))},i=0,a=Object.entries(e);i<a.length;i++)o()}))})),k(F,"resellItems",(function(){var t=chrome.runtime.connect(SIHID,{name:"STEAM_RESUBMIT_ITEMS_CONNECTION"});return t.onMessage.addListener(function(){var e=b(_().mark((function e(r){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESELL_ITEMS",data:n.SELL_LISTING},(function(e){t()}))}))}));var U=C((function t(){I(this,t)}));o=U,k(U,"BUY_ORDERS",[]),k(U,"setItem",(function(t){t&&(o.BUY_ORDERS.length?-1===o.BUY_ORDERS.findIndex((function(e){return e.payload.buy_orderid===t.payload.buy_orderid}))&&o.BUY_ORDERS.push(t):o.BUY_ORDERS.push(t))})),k(U,"removeItem",(function(t){if(t&&o.BUY_ORDERS.length){var e=o.BUY_ORDERS.findIndex((function(e){return e.payload.buy_orderid===t}));-1!==e&&o.BUY_ORDERS.splice(e,1)}})),k(U,"createBuyOrders",(function(){return chrome.runtime.connect(SIHID,{name:"STEAM_BUY_ORDERS_CONNECTION"}).onMessage.addListener(function(){var t=b(_().mark((function t(e){var r;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!=e&&e.error&&(r={status:"warning",text:e.error},(0,i.W)(r,5e3,(function(){})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESUBMIT_BUY_ORDER",data:o.BUY_ORDERS},(function(e){t()}))}))}))},4273:(t,e,r)=>{r.d(e,{W:()=>n});var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(t.status&&t.text){var n=$J("body"),i=$J(' <div id="sih-notification-popup" class="sih-global sih-notification-popup"></div> '),a=n.find("#sih-notification-popup"),s=a.find(".sih-notification-popup__content").length+1;switch(t.status.toLowerCase()){case"success":var c=$J('\n        <div class="sih-notification-popup__content '.concat(t.status,'" data-id="').concat(s,'">\n          <div class="icon">\n            <img src="chrome-extension://').concat(SIHID,'/assets/notificationPopup/success_icon.svg" alt="" />\n          </div>\n          <span class="text">').concat(o(t.text),"</span>\n        </div>\n      "));a.length?a.append(c):i.append(c),setTimeout((function(){c.fadeOut(300,(function(){c.remove(),r()}))}),e*s);break;case"error":var l=$J('\n        <div class="sih-notification-popup__content '.concat(t.status,'" data-id="').concat(s,'">\n          <span class="text">').concat(SIHLang.notification_popup.error,": ").concat(o(t.text),"</span>\n        </div>\n      "));a.length?a.append(l):i.append(l),setTimeout((function(){l.fadeOut(300,(function(){l.remove(),r()}))}),e*s);break;case"steam error":var u=$J('\n        <div class="sih-notification-popup__content '.concat(t.status,'" data-id="').concat(s,'">\n          <span class="text"\n            >').concat(SIHLang.notification_popup["".concat(t.status.toLowerCase())],":\n            ").concat(o(t.text),"</span\n          >\n        </div>\n      "));a.length?a.append(u):i.append(u),setTimeout((function(){u.fadeOut(300,(function(){u.remove(),r()}))}),e*s);break;case"refill-error":var f=$J('\n        <div class="sih-notification-popup__content error" data-id="'.concat(s,'">\n          <span class="text">Ошибка оплаты: ').concat(t.text,"</span>\n        </div>\n      "));a.length?a.append(f):i.append(f),setTimeout((function(){f.fadeOut(300,(function(){f.remove(),r()}))}),e*s);break;case"warning":var d=$J('\n        <div class="sih-notification-popup__content '.concat(t.status,'" data-id="').concat(s,'">\n          <span class="text">').concat(SIHLang.notification_popup.warning,": ").concat(o(t.text),"</span>\n        </div>\n      "));a.length?a.append(d):i.append(d),setTimeout((function(){d.fadeOut(300,(function(){d.remove(),r()}))}),e*s)}if(a.length)a.fadeIn(300,(function(){}));else n.append(i),n.find("#sih-notification-popup").fadeIn(300,(function(){}))}},o=function(t){if("string"!=typeof t)return t;switch(t.toLowerCase()){case"rate limit exceeded":return SIHLang.notification_popup.errors.rate_limit_exceeded;case"need confirmation":return SIHLang.notification_popup.warnings.need_confirmation;default:return t}}},3080:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function i(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function s(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function c(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}r.d(e,{A:()=>d});var l=new WeakSet;function u(t){var e=t.match(/(?:AED|ARS\$|A\$|R\$|Br|CDN\$|CHF|CLP\$|¥|COL\$|₡|€|£|HK\$|Rp|₪|₹|¥|₩|KD|₸|Mex\$|RM|kr|원|NZ\$|S\/\.|P|zł|QR|刀币|₽|SR|S\$|฿|TL|NT\$|₴|\$|\$U|₫|R)/);return e?e[0]:""}function f(t){var e=this;return Object.keys(this.g_rgCurrencyData).find((function(r){return e.g_rgCurrencyData[r].strSymbol===t}))||""}const d=new(function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l),i(this,"getPriceFromCurrency",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=e.getCurrency(+r),s=e.getCurrency(+n),c=o?ExchangeSteamRates[a.strCode]:ExchangeRates._rates[a.strCode],l=o?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode];return"USD"===s.strCode&&t?"USD"!=a.strCode&&(t*=c)<.03&&2===i&&(t=.03):s.strCode!=a.strCode&&t&&(t=t/l*c)<.03&&2===i&&(t=.03),2!==i&&t>.03&&(i=2),{price:t||0,code:a.strCode,symbol:a.strSymbol,text:"".concat(a.bSymbolIsPrefix?"".concat(a.strSymbol).concat(a.strSymbolAndNumberSeparator):"").concat(t?t.toFixed(i):0).concat(a.bSymbolIsPrefix?"":"".concat(a.strSymbolAndNumberSeparator).concat(a.strSymbol)),template:"".concat(a.bSymbolIsPrefix?"".concat(a.strSymbol).concat(a.strSymbolAndNumberSeparator):"","$price").concat(a.bSymbolIsPrefix?"":"".concat(a.strSymbolAndNumberSeparator).concat(a.strSymbol)),symbolPosition:a.bSymbolIsPrefix?"before":"after"}})),i(this,"getCurrency",(function(t){var r=null;for(var n in t=t||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1,e.g_rgCurrencyData)if(e.g_rgCurrencyData[n].eCurrencyCode===+t){r=e.g_rgCurrencyData[n];break}return r})),i(this,"getCurrencyCodeSteam",(function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1})),i(this,"g_rgCurrencyData",{USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"US",countryCodeAlpha3:"USA"},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"GB",countryCodeAlpha3:"GBR"},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"DE",countryCodeAlpha3:"DEU"},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CH",countryCodeAlpha3:"CHE"},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"RU",countryCodeAlpha3:"RUS"},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"BR",countryCodeAlpha3:"BRA"},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"JP",countryCodeAlpha3:"JPN"},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"NO",countryCodeAlpha3:"NOR"},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"ID",countryCodeAlpha3:"IDN"},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"MY",countryCodeAlpha3:"MYS"},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PH",countryCodeAlpha3:"PHL"},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"SG",countryCodeAlpha3:"SGP"},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"TH",countryCodeAlpha3:"THA"},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"VN",countryCodeAlpha3:"VNM"},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"KR",countryCodeAlpha3:"KOR"},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"TR",countryCodeAlpha3:"TUR"},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"UA",countryCodeAlpha3:"UKR"},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"MX",countryCodeAlpha3:"MEX"},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CA",countryCodeAlpha3:"CAN"},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AU",countryCodeAlpha3:"AUS"},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"NZ",countryCodeAlpha3:"NZL"},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PL",countryCodeAlpha3:"POL"},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CN",countryCodeAlpha3:"CHN"},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"IN",countryCodeAlpha3:"IND"},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CL",countryCodeAlpha3:"CHL"},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PE",countryCodeAlpha3:"PER"},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CO",countryCodeAlpha3:"COL"},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"ZA",countryCodeAlpha3:"ZAF"},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"HK",countryCodeAlpha3:"HKG"},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"TW",countryCodeAlpha3:"TWN"},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"SA",countryCodeAlpha3:"SAU"},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AE",countryCodeAlpha3:"ARE"},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AR",countryCodeAlpha3:"ARG"},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"IL",countryCodeAlpha3:"ISR"},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"BY",countryCodeAlpha3:"BLR"},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"KZ",countryCodeAlpha3:"KAZ"},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"KW",countryCodeAlpha3:"KWT"},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"QA",countryCodeAlpha3:"QAT"},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"CR",countryCodeAlpha3:"CRI"},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"UY",countryCodeAlpha3:"URY"}})},e=[{key:"getCurrencyIdByCode",value:function(t){var e;return(null===(e=this.g_rgCurrencyData[t])||void 0===e?void 0:e.eCurrencyCode)||null}},{key:"parsePrice",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=c(l,this,u).call(this,t.replace("руб","₽")),n=c(l,this,f).call(this,r),o=this.g_rgCurrencyData[n],i=o.eCurrencyCode,a=e?o.strThousandsSeparator:1111..toLocaleString().replace(/1/g,""),s=e?o.strDecimalSymbol:1.1.toLocaleString().replace(/1/g,""),d=(a?t.replace(new RegExp("\\"+a,"g"),""):t).replace(new RegExp("\\"+s),".").match(new RegExp(/\d+[0-9,.]?\d*/g)),h=d&&d[0]&&(parseFloat(d[0])||0===parseFloat(d[0]))||NaN;return isNaN(h)?null:{value:h,currencyCode:n,currencySign:r,currencyNumber:i}}}],e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}())}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};r.r(n),r.d(n,{CurrencyService:()=>_.A,common:()=>f,filter:()=>u,footer:()=>o,global:()=>g,items:()=>i,itemsRule:()=>a,latestFriends:()=>d,lots:()=>h,panelMode:()=>p,profileHeader:()=>v,sihRepPanel:()=>s,sihRepReviewBtn:()=>m,tradeSummary:()=>c,tradeoffer:()=>l,tradeofferLite:()=>y});var o={};r.r(o),r.d(o,{RenderLoadMarketPriceManualSingle:()=>re,load:()=>ee});var i={};r.r(i),r.d(i,{ModifyItemList:()=>ae,load:()=>ie});var a={};r.r(a),r.d(a,{RelocateRuleBlock:()=>ce,load:()=>se});var s={};r.r(s),r.d(s,{RenderSihRepPanel:()=>Vn});var c={};r.r(c),r.d(c,{RenderTradeOfferSummary:()=>Xn});var l={};r.r(l),r.d(l,{GetTotalPriceForActiveMarket:()=>xo,SetFlagForLoadedMarket:()=>fo,SetFlagForLoadedSIHMarket:()=>ho,load:()=>oo});var u={};r.r(u),r.d(u,{AfterResponse:()=>Fo,SetPriceForItemsActiveMarket:()=>Vo,SetStateAutoLoadMarketPriceToLocalStorage:()=>Bo,load:()=>Uo});var f={};r.r(f),r.d(f,{AddPreloadersAndHideBlocks:()=>fi,GetAllPrice:()=>_i,GetDataFromLocalStorage:()=>ci,GetHeightFirstRightControlsContent:()=>hi,GetLimitedTradeofferList:()=>ai,GetMarkets:()=>ii,InitializationFastAcceptTrade:()=>bi,SetDataToLocalStorage:()=>li,getHexFromUnicode:()=>mi,removeDeclinedOfferFromSihWindow:()=>vi,sendTradeLinkToBackground:()=>yi,sendTradeofferTxtToBackground:()=>pi});var d={};r.r(d),r.d(d,{LocalStorageLatestFriends:()=>Ii,RenderLatestSelectedFriends:()=>Si,SaveLatestFriend:()=>Li});var h={};r.r(h),r.d(h,{load:()=>Ei});var p={};r.r(p),r.d(p,{loadHtml:()=>$a});var v={};r.r(v),r.d(v,{load:()=>Ja});var m={};r.r(m),r.d(m,{RenderSihRepReviewBtn:()=>Xa});var y={};r.r(y),r.d(y,{load:()=>es});var g=r(6703),_=r(3080);const w=[{name:"waxpeer",title:"Waxpeer",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"dmarket",title:"DMarket",isView:!0,appIds:["570","730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"csgocom",title:"Csgocom",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:2},{name:"csgocomBuy",title:"Csgocom buy",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:2},{name:"csmoney",title:"CS.money",isView:!1,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"csmoneyStore",title:"CS.money Store",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"csmoneyTrade",title:"CS.money Trade",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"bitskins",title:"BitSkins",isView:!0,appIds:["730","570","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinbaron",title:"Skinbaron",isView:!0,appIds:["730","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"shadowpay",title:"ShadowPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"mannco",title:"Mann.Co",isView:!0,appIds:["440","730","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"cstrade",title:"CS.Trade",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lootfarm",title:"LOOTfarm",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lisskins",title:"Lisskins",isView:!0,appIds:["730","570","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"buff163",title:"Buff163",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"haloskins",title:"HaloSkins",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"igxe",title:"Igxe",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"gamerpay",title:"GamerPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"skinsmonkey",title:"Skinsmonkey",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinsmonkeycash",title:"Skinsmonkey cash",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinout",title:"SkinOut",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"bitskinsp2p",title:"Bitskins P2P",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"whitemarket",title:"White.market",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"steamprices",title:"Steamprices",isView:!1,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"sihmarket",title:"SIH.Market",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"rustskins",title:"Rustskins",isView:!0,appIds:["252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"steamLiveSell",title:"Steam",isView:!1,appIds:["730"],link:null,data:null,group:"B",forExternalInjection:!0},{name:"csfloat",title:"CSFloat",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"avanmarket",title:"Avan.Market",isView:!0,appIds:["570","730","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"skinplace",title:"Skin.Place",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"gameboost",title:"GameBoost",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0}];var b=function(t,e){try{e=e||"",localStorage.setItem(t,JSON.stringify(e))}catch(t){console.error(t)}},x=function(t){try{var e=localStorage.getItem(t)||null;return JSON.parse(e)}catch(t){return console.error(t),null}},S=function(t){return t?t.startsWith("https://")?t:"https://avatars.akamai.steamstatic.com/".concat(t,"_full.jpg"):null},L={_name:"SIH_MARKETPLACE_BANNERS",get:function(){return x(this._name)||{}},set:function(t){b(this._name,t)}};var k={getSync:function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SYNC_STORAGE",data:t},(function(t){e(t)}))}))},setSync:function(t,e){return new Promise((function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_SYNC_STORAGE",data:{key:t,value:e}},(function(t){r(t)}))}))},getLocal:function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LOCAL_STORAGE",data:t},(function(t){e(t)}))}))},setLocal:function(t,e){return new Promise((function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_LOCAL_STORAGE",data:{key:t,value:e}},(function(t){r(t)}))}))}};function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function E(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */E=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new J(n||[]);return o(a,"_invoke",{value:C(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(T([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==I(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=O(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function $(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function J(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(I(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,J.prototype={constructor:J,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach($),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),$(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;$(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function C(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function O(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){C(i,n,o,a,s,"next",t)}function s(t){C(i,n,o,a,s,"throw",t)}a(void 0)}))}}function P(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function J(t,e,r){return e&&P(t.prototype,e),r&&P(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function T(t,e,r){return(e=A(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}function N(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function j(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var H=new WeakMap,G=new WeakMap,D=new WeakMap,R=new WeakMap,M=J((function t(){var e,r,n,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,H,"n/a"),N(this,G,"n/a"),N(this,D,"n/a"),N(this,R,"n/a"),T(this,"parseUserInfo",(function(){var t=("function"==typeof $J?$J:$)("#application_config");if(t.length){var e,r,n,i,a,s=t.attr("data-config"),c=t.attr("data-userinfo");return{lang:s?null===(e=JSON.parse(s))||void 0===e||null===(r=e.LANGUAGE)||void 0===r?void 0:r.toLowerCase():j(H,o),country:s?null===(n=JSON.parse(s))||void 0===n||null===(i=n.COUNTRY)||void 0===i?void 0:i.toLowerCase():j(G,o),steamId:c?null===(a=JSON.parse(c))||void 0===a?void 0:a.steamid:j(R,o)}}return{lang:"en",country:"us",steamId:null}})),T(this,"parseUid",O(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=O(E().mark((function t(e){var r,n;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getSync("sih_token");case 2:r=t.sent,n=r.sih_token,e(n||j(D,o));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))));var i=this.parseUserInfo();this.lang=null!==(e=window)&&void 0!==e&&e.g_strLanguage?g_strLanguage.toLowerCase():null!=i&&i.lang?null==i?void 0:i.lang:j(H,this),this.country=null!==(r=window)&&void 0!==r&&r.g_strCountryCode?g_strCountryCode.toLowerCase():null!=i&&i.country?null==i?void 0:i.country:j(G,this),this.steamId=null!==(n=window)&&void 0!==n&&n.g_steamID?g_steamID:null!=i&&i.steamId?i.steamId:j(R,this)}));const F=M;function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function B(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */B=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==U(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(U(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){tt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Y(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function K(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Y(i,n,o,a,s,"next",t)}function s(t){Y(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,et(n.key),n)}}function z(t,e,r){return e=Q(e),function(t,e){if(e&&("object"==U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,q()?Reflect.construct(e,r||[],Q(t).constructor):e.apply(t,r))}function q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(q=function(){return!!t})()}function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q(t)}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X(t,e)}function tt(t,e,r){return(e=et(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function et(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}function rt(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function nt(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var ot=new WeakMap,it=new WeakMap,at=new WeakMap,st=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),rt(t=z(this,e),ot,"case-open-feat"),rt(t,it,"button"),rt(t,at,"click"),tt(t,"set",function(){var e=K(B().mark((function e(r){var n,o,i,a,s,c,l,u,f;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.group,o=r.target,i=r.targetType,a=r.action,s=r.properties,c=r.lang,l=r.country,u=r.uid,f=r.steamId,e.abrupt("return",new Promise(function(){var e=K(B().mark((function e(r){return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=chrome.runtime,e.t1=SIHID,e.t2=W,e.t3=W({group:n||t.group,target:o,targetType:i||t.targetType,action:a||t.action},s),e.t4={},e.t5=c||t.lang,e.t6=l||t.country,!u){e.next=11;break}e.t7=u,e.next=14;break;case 11:return e.next=13,t.parseUid();case 13:e.t7=e.sent;case 14:e.t8=e.t7,e.t9=f||t.steamId,e.t10={lang:e.t5,country:e.t6,uid:e.t8,steamId:e.t9},e.t11=(0,e.t2)(e.t3,e.t4,e.t10),e.t12={type:"BACKGROUND_SET_EVENT_REGISTRATION_V2",data:e.t11},e.t13=function(t){r(t)},e.t0.sendMessage.call(e.t0,e.t1,e.t12,e.t13);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.group=nt(ot,t),t.targetType=nt(it,t),t.action=nt(at,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(e,t),r=e,n&&Z(r.prototype,n),o&&Z(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(F);const ct=new st;function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ft(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(r),!0).forEach((function(e){pt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function dt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vt(n.key),n)}}function ht(t,e,r){return e&&dt(t.prototype,e),r&&dt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pt(t,e,r){return(e=vt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vt(t){var e=function(t,e){if("object"!=lt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lt(e)?e:e+""}var mt=ht((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pt(this,"getWearInfo",(function(e){var r=t._skinWear.find((function(t){return e.includes(t.wearFull)})),n=e.includes("StatTrak™"),o=e.includes("Souvenir");return r?ft(ft({},r),{},{name:e,stattrak:n,souvenir:o}):null})),pt(this,"getSplitName",(function(t){var r=t.split("|"),n=r[0].replace(/StatTrak™/g,"").replace(/Souvenir/g,"").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g,"").trim(),o=2===r.length?r[1]:r.splice(1,r.length).join("|"),i=e.getWearInfo(t),a=i&&null!=i&&i.wearFull?o.replace("(".concat(null==i?void 0:i.wearFull,")"),"").trim():null;return{skinTagName:n,skinName:o,nameWithoutWear:a}}))}));pt(mt,"_skinWear",[{wearFull:"Battle-Scarred",wearShort:"BS",color:"#E05A59",priorityPosition:1},{wearFull:"Field-Tested",wearShort:"FT",color:"#E3E15B",priorityPosition:2},{wearFull:"Minimal Wear",wearShort:"MW",color:"#79D154",priorityPosition:3},{wearFull:"Well-Worn",wearShort:"WW",color:"#E9A75D",priorityPosition:4},{wearFull:"Factory New",wearShort:"FN",color:"#5EB648",priorityPosition:5}]);const yt=new mt;var gt;function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function wt(t){return function(t){if(Array.isArray(t))return bt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return bt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function xt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==_t(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(_t(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function St(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Lt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){St(i,n,o,a,s,"next",t)}function s(t){St(i,n,o,a,s,"throw",t)}a(void 0)}))}}function kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Et(n.key),n)}}function It(t,e,r){return(e=Et(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Et(t){var e=function(t,e){if("object"!=_t(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_t(e)?e:e+""}var Ct=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),It(this,"getLink",(function(e,r,n,o,i){return t._getLink(e,r,n,o,i)})),It(this,"getPriceMarket",(function(t){var e=L.get(),r=!1,n=0,o=0,i=0,a=0,s=0,c=0;return t.data&&(i=t.data.price||0,a=t.data.count||0,t.data.locked&&(s=t.data.locked.price||0,c=t.data.locked.count||t.data.locked.locked||0)),e.isPriceLotsTradeLock?("A"===t.group&&(n=i,o=a),"B"===t.group&&(i?i>s&&s?(n=s,r=!0,o=c):(n=i,o=a):(n=s,o=c,r=!0)),"C"===t.group&&(n=s,o=c,r=!0)):"A"!==t.group&&"B"!==t.group||(n=i,o=a),{price:n,isLock:r,count:o}})),It(this,"makeNewData",(function(){t._statusLoadMarkers=t._statusLoadMarkersEnum.NO_LOADING})),It(this,"loadMarkets",Lt(xt().mark((function e(){var r,n,o,i,a,s,c=arguments;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>0&&void 0!==c[0]?c[0]:null,n=c.length>1&&void 0!==c[1]?c[1]:null,c.length>2&&void 0!==c[2]&&c[2]&&(t._statusLoadMarkers=t._statusLoadMarkersEnum.NO_LOADING),t._statusLoadMarkers===t._statusLoadMarkersEnum.NO_LOADING){e.next=6;break}return e.abrupt("return");case 6:if(t._statusLoadMarkers=t._statusLoadMarkersEnum.LOADING,(o=null===r&&null===n?(0,g.getPageParams)():{appId:r,marketHashName:n}).marketHashName=decodeURIComponent(o.marketHashName),o){e.next=11;break}return e.abrupt("return");case 11:return t._marketplace||(t._marketplace={}),i=r&&n,e.next=15,t._getMarkets(o.appId,o.marketHashName,i);case 15:a=e.sent,s={appId:o.appId,markets:a.map((function(t){return t.name})),items:[o.marketHashName],source:"marketplace service"},chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:s},(function(e){e&&e.success&&e.items?(t._statusLoadMarkers=t._statusLoadMarkersEnum.SUCCESS,e.items&&e.items[o.marketHashName]&&e.items[o.marketHashName].csmoney&&(e.items[o.marketHashName].csmoney.csmoneyStore&&(e.items[o.marketHashName].csmoneyStore=e.items[o.marketHashName].csmoney.csmoneyStore),e.items[o.marketHashName].csmoney.csmoneyTrade&&(e.items[o.marketHashName].csmoneyTrade=e.items[o.marketHashName].csmoney.csmoneyTrade)),t._marketplace={},t._marketplace.markets=a.map((function(t){return t.data=e.items[o.marketHashName]&&e.items[o.marketHashName][t.name],t})).filter((function(t){return!(!t.data||!(t.data.price||t.data.locked&&t.data.locked.price))}))):t._statusLoadMarkers=t._statusLoadMarkersEnum.ERROR}));case 18:case"end":return e.stop()}}),e)})))),It(this,"checkLoadMarkets",(function(){var r=[t._statusLoadMarkersEnum.SUCCESS,t._statusLoadMarkersEnum.ERROR].includes(t._statusLoadMarkers);if(r){var n=L.get();n.market&&e.getMarkets().filter((function(t){return t.isView})).forEach((function(t){var e=n.market[t.name];e&&(t.depositPercentage=e.depositPercentage||0,t.fixedDepositPercentage=e.fixedDepositPercentage||0)}))}return r})),It(this,"getMarkets",(function(){var e;return t._marketplace&&null!==(e=t._marketplace)&&void 0!==e&&e.markets?L.get().isPriceLotsTradeLock?t._marketplace.markets:t._marketplace.markets.filter((function(t){return"A"===t.group||"B"===t.group&&(t.data||{}).price})):[]})),It(this,"getMarketLowerPrice",(function(){var r=null;if(e.checkLoadMarkets()&&t._marketplace&&Array.isArray(t._marketplace.markets)&&t._marketplace.markets.length>0){var n=L.get(),o=function(t,e){return e.isServiceCommission?1+(t||0)/100:1},i=function(t,e){return e.isServiceCommission&&t||0},a=t.excludeBuyMarkets(e.getMarkets()).filter((function(t){return t.isView}));a.length>1?r=a.reduce((function(t,r){var a=e.getPriceMarket(t),s=e.getPriceMarket(r);return a.price*o(t.depositPercentage,n)+i(t.fixedDepositPercentage,n)<s.price*o(r.depositPercentage,n)+i(r.fixedDepositPercentage,n)?t:r})):1===a.length&&(r=a[0])}return r})),It(this,"getOffersCount",(function(r){return t.excludeBuyMarkets(r).reduce((function(t,r){return t+e.getPriceMarket(r).count}),0)})),It(this,"getMarketsForExternal",(function(){return t._markets.filter((function(t){return t.forExternalInjection}))})),It(this,"getAllMarkets",(function(e){return e?t._markets.filter((function(t){return t.appIds.includes(e)})):t._markets}))}return e=t,r=null,n=[{key:"_markets",get:function(){return JSON.parse(JSON.stringify(w))}},{key:"_getMarkets",value:(o=Lt(xt().mark((function e(r,n,o){var i,a,s,c,l,u,f;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._markets.filter((function(t){return t.isView&&t.appIds.includes(r)})),e.next=3,t.getSubscribeAds();case 3:return s=e.sent,c=s.success,l=ct.parseUserInfo(),u=l.country,c||(a=["RU","BY"].includes(u)?"zh-TW"!==u&&"zh-CN"!==u?a.filter((function(t){if("dmarket"!==t.name&&"igxe"!==t.name)return t.name})):a.filter((function(t){return t.name})):["ZH","CN"].includes(u)?a.filter((function(t){return t.name})):"zh-TW"!==u&&"zh-CN"!==u?a.filter((function(t){return"igxe"!==t.name})):a.filter((function(t){return t.name}))),a.forEach((function(e){e.link=t._getLink(e.name,r,n,o)})),f=t._markets.filter((function(t){return!t.isView})),(i=a).push.apply(i,wt(f)),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)}))),function(t,e,r){return o.apply(this,arguments)})},{key:"_getRandomInt",value:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}},{key:"excludeBuyMarkets",value:function(t){var e=["csgocomBuy"];return t.filter((function(t){return!e.includes(t.name)}))}}],r&&kt(e.prototype,r),n&&kt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,o}();gt=Ct,It(Ct,"_statusLoadMarkersEnum",{NO_LOADING:"no_loading",LOADING:"loading",ERROR:"error",SUCCESS:"success"}),It(Ct,"_statusLoadMarkers",gt._statusLoadMarkersEnum.NO_LOADING),It(Ct,"_marketplace",null),It(Ct,"_getLink",(function(t,e,r,n,o){var i="https://t.sih-db.com/".concat(o?"external-panel":"15GzoA"),a="",s="";if("csgocom"===t||"csgocomBuy"===t){switch(e){case"730":s="csgo.com";break;case"570":s="market.dota2.net";break;case"440":s="tf2.tm";break;case"252490":s="rust.tm";break;default:return}a="".concat(i,"?subid1=").concat(encodeURIComponent("?s=price&t=all&search=".concat(r,"&sd=asc")),"&subid2=").concat(s).concat(n?"-side-menu":"")}if("csmoneyStore"===t&&(a="".concat(i,"?subid1=").concat(encodeURIComponent("".concat(r)),"&subid2=cs.moneyStore").concat(n?"-side-menu":"")),"csmoneyTrade"===t&&(a="".concat(i,"?subid1=").concat(encodeURIComponent("".concat(r)),"&subid2=cs.moneyTrade").concat(n?"-side-menu":"")),"skinport"===t){var c=r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-").replace(/^-+|-+$/g,""),l="";"570"===e?l="/dota2":"440"===e?l="/tf2":"252490"===e&&(l="/rust"),a="".concat(i,"?subid1=").concat(encodeURIComponent("".concat(l,"/market?search=").concat(c,"&sort=price&order=asc")),"&subid2=skinport").concat(n?"-side-menu":"")}if("bitskins"===t){var u="";switch(e){case"730":u="csgo";break;case"570":u="dota2";break;case"440":u="tf2"}a="".concat(i,"?subid1=").concat(encodeURIComponent("".concat(u,'?ref_alias=sihfree&search={"order":[{"field":"price","order":"ASC"}],"where":{"skin_name":"').concat(r,'"}}')),"&subid2=newBitskins").concat(n?"-side-menu":"")}if("bitskinsp2p"===t){var f=r.replace(/ /g,"+");a="".concat(i,"?subid1=").concat(encodeURIComponent('?search={"where":{"name":"'.concat(f,'"}}')),"&subid2=p2p-bitskins").concat(n?"-side-menu":"")}if("skinbaron"===t){r=r.replace("Souvenir Package","");var d="";"730"===e?d="/csgo":"440"===e&&(d="/tf2");var h=encodeURIComponent("".concat(d,"?str=").concat(r,"&sort=CF"));a="".concat(i,"?subid1=").concat(h,"&subid2=skinbaron").concat(n?"-side-menu":"")}if("shadowpay"===t){var p=encodeURIComponent("?search=".concat(r));a="".concat(i,"?subid1=").concat(p,"&subid2=shadowpay").concat(n?"-side-menu":"")}if("waxpeer"===t){var v=r.toLocaleLowerCase().replace(/[|()™★]/g,"").replace(/\s{2,}/g," ").trim().replace(/ /g,"-").replace(/&/g,"%26").replace(/cs:/g,"cs-"),m="";["252490"].includes(e)&&(m="rust/"),["440"].includes(e)&&(m="tf2/"),a="".concat(i,"?subid1=").concat(m).concat(v,"/item/&subid2=waxpeer").concat(n?"-side-menu":"")}if("dmarket"===t&&["570","730","252490","440"].includes(e)){var y=r.replace(/[™★]/g,""),g="";"730"===e&&(g="csgo-skins"),"570"===e&&(g="dota2-skins"),"252490"===e&&(g="rust-skins"),"440"===e&&(g="tf2-skins");var _=encodeURIComponent("/ingame-items/item-list/".concat(g,"?title=").concat(y));a="".concat(i,"?subid1=").concat(_,"&subid2=dmarket").concat(n?"-side-menu":"")}if("mannco"===t&&["440","730","570","252490"].includes(e)){var w="";if(r.indexOf("Unusual")>-1)w=encodeURIComponent("/market?e=".concat(r,"&f=ASC&appid=").concat(e));else{var b=r.replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();w="/item/".concat(e,"-").concat(b)}a="".concat(i,"?subid1=").concat(w,"&subid2=manncostore").concat(n?"-side-menu":"")}if("tradeit"===t&&["730","440","570","252490"].includes(e)){var x="";"730"===e&&(x="csgo"),"440"===e&&(x="tf2"),"570"===e&&(x="dota2"),"252490"===e&&(x="rust");var S=encodeURIComponent("/".concat(x,"/store?search=").concat(r));a="".concat(i,"?subid1=").concat(S,"&subid2=tradeit").concat(n?"-side-menu":"")}if("tradeitDeposit"===t&&["730","440","570","252490"].includes(e)){var L="";"730"===e&&(L="csgo"),"440"===e&&(L="tf2"),"570"===e&&(L="dota2"),"252490"===e&&(L="rust");var k=encodeURIComponent("/".concat(L,"/trade?search=").concat(r));a="".concat(i,"?subid1=").concat(k,"&subid2=tradeit").concat(n?"-side-menu":"")}if("cstrade"===t&&["440","570","730","252490"].includes(e)&&(a="".concat(i,"?subid1=").concat(r,"&subid2=cstrade").concat(n?"-side-menu":"")),"lootfarm"===t&&["440","570","730","252490"].includes(e)){var I=encodeURIComponent("#skin=".concat(e,"_").concat(r));a="".concat(i,"?subid1=").concat(I,"&subid2=lootfarm").concat(n?"-side-menu":"")}if("lisskins"===t&&["730","570","252490"].includes(e)){var E="";"730"===e&&(E="csgo"),"570"===e&&(E="dota2"),"252490"===e&&(E="rust");var C=encodeURIComponent("/".concat(E,"/?query=").concat(r));a="".concat(i,"?subid1=").concat(C,"&subid2=lisskins").concat(n?"-side-menu":"")}if("buff163"===t&&["730"].includes(e)){var O="";"730"===e&&(O="csgo");var P=encodeURIComponent("/market/".concat(O,"#tab=selling&page_num=1&search=").concat(r));a="".concat(i,"?subid1=").concat(P,"&subid2=buff163").concat(n?"-side-menu":"")}if("igxe"===t&&["730"].includes(e)){var $=r,J="";"730"===e&&(J="csgo");var T=encodeURIComponent("/market/".concat(J,"?keyword=").concat($));a="".concat(i,"?subid1=").concat(T,"&subid2=igxe").concat(n?"-side-menu":"")}if("gamerpay"===t&&["730"].includes(e)){var A=encodeURIComponent("/buy?query=".concat(r));a="".concat(i,"?subid1=").concat(A,"&subid2=gamerpay").concat(n?"-side-menu":"")}if("skinsmonkey"===t&&["730"].includes(e)){var N=r,j=encodeURIComponent("appId=".concat(e,"&q=").concat(N));a="".concat(i,"?subid1=").concat(j,"&subid2=skinmonkey").concat(n?"-side-menu":"")}if("skinsmonkeycash"===t&&["730"].includes(e)){var H=r,G=encodeURIComponent("appId=".concat(e,"&q=").concat(H));a="".concat(i,"?subid1=").concat(G,"&subid2=skinmonkey").concat(n?"-side-menu":"")}if("skinout"===t&&["730"].includes(e)){var D=r.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();a="".concat(i,"?subid1=").concat(D,"&subid2=skinout").concat(n?"-side-menu":"")}if("whitemarket"===t&&["730"].includes(e)){var R=r;a="".concat(i,"?subid1=").concat(R,"&subid2=whitemarket").concat(n?"-side-menu":"")}if("haloskins"===t&&["730"].includes(e)){var M=encodeURIComponent(r.replace(/&/,""));a="".concat(i,"?subid1=").concat(M,"&subid2=haloskins").concat(n?"-side-menu":"")}if("rustskins"===t&&["252490"].includes(e)){var F="".concat(r);a="".concat(i,"?subid1=").concat(F,"&subid2=rustskins").concat(n?"-side-menu":"")}if("csdeal"===t&&["730","570","440","252490"].includes(e)){var U="";"730"===e&&(U="csgo"),"440"===e&&(U="tf2"),"570"===e&&(U="dota2"),"252490"===e&&(U="rust");var B=encodeURIComponent(r.replace(/&/,"")),V="".concat(B,"&game=").concat(U);a="".concat(i,"?subid1=").concat(V,"&subid2=cs.deals").concat(n?"-side-menu":"")}if("sihmarket"===t&&["730","252490","440"].includes(e)){var W="".concat(encodeURIComponent("".concat(r,"&sortBy=-profitPercent&appId=").concat(e)));a="".concat(i,"?subid1=").concat(W,"&subid2=sih.app").concat(n?"-side-menu":"")}if("steamLiveSell"===t&&["730"].includes(e)){var Y=encodeURIComponent("".concat(r));a="".concat(i,"?subid1=").concat(Y,"&subid2=steam").concat(n?"-side-menu":"")}if("csfloat"===t&&["730"].includes(e)){var K=encodeURIComponent("".concat(r));a="".concat(i,"?subid1=").concat(K,"&subid2=csfloat").concat(n?"-side-menu":"")}if("avanmarket"===t&&["730","570","252490"].includes(e)){var Z="";"730"===e&&(Z="cs"),"570"===e&&(Z="dota2"),"252490"===e&&(Z="rust");var z=r.toLowerCase().replace(/stattrak™/gi,"stattraktm").replace(/\s*\|\s*/g,"-").replace(/[()]/g,"").replace(/\s+/g,"-").replace(/&/g,"%26").replace(/-+/g,"-").trim(),q="/".concat(Z,"/").concat(z);a="".concat(i,"?subid1=").concat(q,"&subid2=avanmarket").concat(n?"-side-menu":"")}if("skinplace"===t&&["730"].includes(e)){var Q=yt.getWearInfo(r),X=yt.getSplitName(r),tt=(X.nameWithoutWear?X.skinTagName+" "+X.nameWithoutWear:r).toLowerCase().replace(/\s*\|\s*/g,"-").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),et="".concat(tt,"?");null!=Q&&Q.wearFull&&(et+="exterior=".concat(Q.wearFull.replace(/\s+/g,"+")),Q.stattrak?et+="%26is_stattrak=1":Q.souvenir&&(et+="%26is_souvenir=1")),a="".concat(i,"?subid1=").concat(et,"&subid2=skinplace").concat(n?"-side-menu":"")}if("gameboost"===t&&["730"].includes(e)){var rt=encodeURIComponent("".concat(r.replace(/&/g,"%26")));a="".concat(i,"?subid1=").concat(rt,"&subid2=gameboost").concat(n?"-side-menu":"")}return o&&(a="".concat(a,"&subid3=").concat(o)),a})),It(Ct,"getSubscribeAds",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},(function(e){t(e)}))}))}));const Ot=new Ct;function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function $t(t){return function(t){if(Array.isArray(t))return Jt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Jt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Tt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Tt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Pt(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Pt(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function At(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ht(n.key),n)}}function jt(t,e,r){return(e=Ht(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ht(t){var e=function(t,e){if("object"!=Pt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pt(e)?e:e+""}var Gt=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),jt(this,"getOrderStatusText",(function(e){return t._buyOrderStatusEnum[e]})),jt(this,"loginSihApp",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_LOGIN_SIH_APP"},(function(e){t(e)}))}))})),jt(this,"getLoginSihAppUser",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(r,n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},function(){var n,o=(n=Tt().mark((function n(o){return Tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t||o.success&&Object.keys(o).length){n.next=6;break}return n.t0=r,n.next=4,e.loginSihApp();case 4:n.t1=n.sent,(0,n.t0)(n.t1);case 6:o.success&&Object.keys(o).length?r(o):r({success:!1});case 7:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){At(i,r,o,a,s,"next",t)}function s(t){At(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t){return o.apply(this,arguments)}}())}))})),jt(this,"getUserSihApp",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_USER_AUTH_SIH_APP"},(function(e){t(e)}))}))})),jt(this,"getSubscribeAds",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},(function(e){t(e)}))}))})),jt(this,"getSubscribeAdsPlans",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP"},(function(e){t(e)}))}))})),jt(this,"getDaysNumber",(function(t){var e=(new Date).toUTCString(),r=new Date("".concat(e)).getTime(),n=new Date("".concat(t)).getTime()-r,o=Math.round(n/36e5);return o>24?{days:Math.ceil((o-24)/24)}:{hours:o}})),jt(this,"setItemToBuyStack",(function(r){var n=r.hashName,o=void 0===n?null:n,i=r.countAdd,a=void 0===i?1:i,s=r.statusCode,c=void 0===s?null:s,l=r.steamId,u=void 0===l?null:l,f=r.appId,d=void 0===f?"730":f,h=r.price,p=void 0===h?null:h,v=r.image,m=r.url,y=r.gameName,_=void 0===y?null:y,w=r.color,b=void 0===w?"rgb(210, 210, 210)":w,x=r.rarityColor,S=void 0===x?"default":x,L=r.itemId,k=void 0===L?null:L;return new Promise((function(r,n){var i=Ot.getMarkets().find((function(t){return"sihmarket"===t.name}));if(_||(_=t._gameNames[d]),i||p){var s=p||Ot.getPriceMarket(i);if(s&&(s.price||p)){var l=(0,g.getPageParams)(),f=o||encodeURIComponent(l.marketHashName);e.getAllItemsBuyStackByName(f).then((function(i){for(var h=e.getFilterItemsByStatus(i,c),y=[],g=a>1?a-h.length:a,w=v||$J(".market_listing_largeimage").find("img").attr("src"),x=_||$J(".market_listing_nav > a:nth(0)").text(),L=b||$J("#largeiteminfo_item_name").css("color"),I=d&&o?"".concat(d,"/").concat(o):"".concat(l.appId,"/").concat(encodeURIComponent(l.marketHashName)),E=0;E<g;E++){var C,O={appid:d||l.appId,market_hash_name:o?decodeURIComponent(o):l.marketHashName,price:p||s.price,providerName:"sih",steam_id:u||(null!==(C=window)&&void 0!==C&&C.g_steamID?window.g_steamID:sih_steamID),custom_trade_link:null,createdAt:Date.now()+E+1,image:w,url:m||window.location.href,gameName:x,hashMarket:I,color:L,isChecked:!0,rarityColor:S||"default",itemId:k||null};null!==c&&(O.status=c),y.push(O)}if(l&&encodeURIComponent(l.marketHashName)===f&&730==+Object.keys(g_rgAssets)[0]){var P=+Object.keys(g_rgAssets[730]||{})[0],$=Object.values(g_rgAssets[730][P])[0];t.getRarityColor(730,$.classid,$.instanceid).then((function(e){y.forEach((function(t){t.rarityColor=e})),t.setPreparedDataToBuyStack(f,y).then((function(t){r(t)})).catch((function(t){n(t)}))}))}else t.setPreparedDataToBuyStack(f,y).then((function(t){r(t)})).catch((function(t){n(t)}))}))}}else o&&e.getAllItemsBuyStackByName(o).then((function(t){var i=e.getFilterItemsByStatus(t,c);if(i.length){for(var s=i.map((function(t){return t.createdAt})),l=i.find((function(t){return t.createdAt===Math.max.apply(Math,$t(s))})),u=a>1?a-i.length:a,f=[],d=0;d<u;d++){var h=Object.assign({},l);h.createdAt=Date.now()+d+1,f.push(h)}var p=jt({},o,[].concat($t(t),f));chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:p},(function(t){t.success?r(p[o]):n(t)}))}}))}))})),jt(this,"deleteItemFromBuyStack",(function(t){var r=t.hashName,n=t.argCountDelete,o=void 0===n?null:n,i=t.statusCode,a=void 0===i?null:i,s=t.itemId,c=void 0===s?null:s;return new Promise((function(t,n){e.getAllItemsBuyStackByName(r).then((function(i){var s=e.getFilterItemsByStatus(i,a),l=s.length-(null!==o?o:s.length-1);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",data:{hashName:r,statusCode:a,countDelete:l,itemId:c}},(function(o){e.getAllItemsBuyStackByName(r).then((function(e){o.success?t(e):n(o)}))}))}))}))})),jt(this,"getAllBuyStack",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP"},(function(e){t(e)}))}))})),jt(this,"getFilterItemsByStatus",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.filter((function(t){return Array.isArray(e)?e.length?e.includes(t.status):!t.status:e?t.status===e:!t.status}))||[]})),jt(this,"updateSIHMarketPrice",(function(){return new Promise((function(t,r){e.getAllBuyStack().then((function(e){if(e.length>0){var r=[],n=[],o=[];e.forEach((function(t){t.itemId?r.push(t.itemId.toString()):n.push(t.market_hash_name)})),r.length&&o.push(new Promise((function(t,e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",data:{itemIds:r}},(function(r){r.success?t(r.data):e()}))}))),n.length&&o.push(new Promise((function(t,e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",data:{items:n}},(function(r){r.success?t(r.data):e()}))}))),Promise.all(o).then((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",data:{items:e.flat()}},(function(e){t(e)}))})).catch((function(){t()}))}else t()}))}))})),jt(this,"changeItemsStatus",(function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",data:t},(function(){e()}))}))})),jt(this,"cancelSihAppOrder",(function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CANCEL_ORDER_SIH_APP",data:{orderId:t}},(function(t){e(t)}))}))})),jt(this,"updateItemLocalHistoryOrders",(function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",data:{orderId:t}},(function(t){e(t)}))}))})),jt(this,"getUserOrdersHistory",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise((function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",data:{isLocal:t,page:e,number:r}},(function(t){n(t)}))}))})),jt(this,"createBuyOrder",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP"},(function(e){t(e)}))}))})),jt(this,"getTopSales",(function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_TOP_SALES",data:t},(function(t){e(t)}))}))})),jt(this,"getLogs",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_LOG"},(function(e){t(e)}))}))})),jt(this,"readAllNotification",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_READ_SIH_APP_LOG"},(function(e){t(e)}))}))})),jt(this,"renderTextLog",(function(e){return"".concat(t._buyOrderErrorsEnum[e.error]?"".concat(t._buyOrderErrorsEnum[e.error]," <br>"):e.error||e.message||"".concat(SIHLang.sihAppMarket.orders.order," № ").concat(e.orderId," ").concat(SIHLang.sihAppMarket.orders.successful_operation," <br>")," ").concat(e.itemData?"".concat(e.itemData.market_hash_name," <br>"):""," ").concat(e.itemData?"".concat(SIHLang.sihAppMarket.orders.price,": ").concat(e.itemData.price," <br>"):"")})),jt(this,"getLogTemplateByGroup",(function(t){var r;switch(t.groupType){case"bookmarks":var n=Ot.getLink(t.itemData.marketName||"buff163",t.itemData.appId||"730",t.itemData.market_hash_name,t.itemData.market_hash_name),o=_.A.getPriceFromCurrency(t.itemData.price,t.itemData.currencyId||1).text;r='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(t.title,'</span>\n            <a href="').concat(n,'" target="_blank" class="text text_blue hover-opacity-8"\n              >').concat(t.itemData.market_hash_name,'</a\n            >\n          </div>\n          <div class="row gap-5 items-end pb-2">\n            \x3c!--                    TODO: Добавить проверку на data.itemData.marketName, если его нету, то иконку не рендерить (текущая иконка для теста)--\x3e\n            <img\n              class="notification-panel__icon"\n              src="chrome-extension://').concat(SIHID,"/assets/marketplace/mini-icons/").concat(t.itemData.marketName||"buff163",'.svg"\n              alt="').concat(t.itemData.marketName||"buff163",'"\n            />\n            <span class="text text_green whitespace-nowrap">').concat(o,"</span>\n          </div>\n        ");break;case"keys_success":r='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(SIHLang.sih_keys.notification.title,'</span>\n            <span class="text ').concat(t.success?"text_green":"text_red",'">\n              ').concat(t.titles[0]," / ").concat(_.A.getPriceFromCurrency(t.amount/1e3,1).text,'\n            </span>\n          </div>\n          <div class="row gap-5 items-center pb-2">\n            <div class="key-notification-btn" data-key-info="').concat(encodeURIComponent(JSON.stringify(t)),'">\n              ').concat(SIHLang.sih_keys.show,"\n            </div>\n          </div>\n        ");break;case"keys_activation":r='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(SIHLang.sih_keys.notification.title,'</span>\n            <span class="text ').concat(t.success?"text_green":"text_red",'">\n              ').concat(t.success?SIHLang.sih_keys.activation_status.success:t.error,"\n            </span>\n          </div>\n        ");break;case"keys_error":r='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(SIHLang.sih_keys.notification.title,'</span>\n            <span class="text text_red">').concat(t.error,"</span>\n          </div>\n        ");break;default:r='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(SIHLang.notifications[t.title],'</span>\n            <span class="text ').concat(t.success?"text_green":"text_red",'">').concat(e.renderTextLog(t),"</span>\n          </div>\n        ")}return r})),jt(this,"validateInput",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return isNaN(t)||t<=r?r:t>=e?Math.ceil(e):n?Math.floor(1e3*t)/1e3:Math.ceil(t)})),jt(this,"getSubscribeAdsMethods",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP"},(function(e){t(e)}))}))})),jt(this,"getLinkForInvoice",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise((function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_INVOICE",data:{amount:t,method:e}},(function(t){r(t)}))}))})),jt(this,"updateTradeLink",(function(t){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",data:{link:t}})})),jt(this,"getSihAppToken",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_TOKEN"},(function(e){t(e)}))}))})),jt(this,"getAutoLoadFloats",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_AUTO_LOAD_FLOATS"},(function(e){t(e)}))}))})),jt(this,"errorHandler",(function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Please, try again";n.toLowerCase().includes("invalid token or session is over")&&(t.text(SIHLang.subscribeAds.modal.reload_page),t.off("click").click((function(){window.location.reload()}))),0===r.length?e.append('<span class="sih-modal__text sih-modal__error_message">'.concat("Error! "+n,"</span>")):(r.text("".concat("Error! "+n)),r.hasClass("blink")?(r.removeClass("blink"),setTimeout((function(){r.addClass("blink")}),100)):r.addClass("blink")),t.removeClass("animated-background animated-background-btn"),e.show()})),this.getAllItemsBuyStackByName=t.getAllItemsBuyStackByName}return e=t,n=[{key:"setPreparedDataToBuyStack",value:function(e,r){var n=this;return new Promise((function(o,i){t.getAllItemsBuyStackByName(e).then((function(t){var a=jt({},e,[].concat($t(t),$t(r)));chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:a},(function(t){t.success?n.getAllItemsBuyStackByName(e).then((function(t){o(t)})):i(t)}))}))}))}},{key:"getRarityColor",value:function(t,e,r){return new Promise((function(n,o){$J.ajax({url:"https://steamcommunity.com/economy/itemclasshover/".concat(t,"/").concat(e,"/").concat(r,"?content_only=1&l=english"),cache:!0}).done((function(t){var e=/BuildHover\( '(.*)', (.*)\);/i.exec(t);switch(JSON.parse(e[2]).tags.find((function(t){return"Rarity"===t.category})).name.toLowerCase()){case"consumer grade":case"base grade":n("b0c3d9");break;case"mil-spec grade":case"distinguished":case"high grade":n("4b69ff");break;case"industrial grade":n("5e98d9");break;case"restricted":case"exceptional":case"remarkable":n("8847ff");break;case"classified":case"superior":case"exotic":n("d32ce6");break;case"covert":case"extraordinary":case"master":n("eb4b4b");break;case"contraband":n("e4ae39")}})).fail((function(t){o(t)}))}))}},{key:"getAllItemsBuyStackByName",value:function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",data:{hashName:t}},(function(t){e(t)}))}))}}],(r=null)&&Nt(e.prototype,r),n&&Nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();jt(Gt,"_buyOrderStatusEnum",{ordering:SIHLang.sihAppMarket.orders.statuses.ordering,pending:SIHLang.sihAppMarket.orders.statuses.pending,new:SIHLang.sihAppMarket.orders.statuses.new,created:SIHLang.sihAppMarket.orders.statuses.created,processing:SIHLang.sihAppMarket.orders.statuses.processing,sent:SIHLang.sihAppMarket.orders.statuses.sent,finished:SIHLang.sihAppMarket.orders.statuses.finished,failed:SIHLang.sihAppMarket.orders.statuses.failed,penalized:SIHLang.sihAppMarket.orders.statuses.penalized}),jt(Gt,"_buyOrderErrorsEnum",{"Not enough balance":SIHLang.sihAppMarket.orders.errors.not_enough_balance,"Time for refills is up":SIHLang.sihAppMarket.orders.errors.time_refills_up,"receiver failed":SIHLang.sihAppMarket.orders.errors.receiver_failed,"max retries reached":SIHLang.sihAppMarket.orders.errors.max_retries_reached}),jt(Gt,"_gameNames",{730:"Counter-Strike 2",252490:"Rust",440:"TF2"});const Dt=new Gt;var Rt=null,Mt=function(){var t=$J(".sih_filter .sih-group-btn"),e=$J(".tradeoffer_item_list"),r=t.hasClass("active");e.each((function(t,e){var n=$J(e);n.find(".trade_item").each((function(t,e){var o=$J(e);if(r){var i=o.attr("data-economy-item"),a=n.find('.trade_item[data-economy-item="'.concat(i,'"]'));if(a.length>1){var s=$J('<div class="sih-duplicated-counter">\n              <div class="sih-duplicated-counter__icon">\n                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path d="M5.99266 2.5L10.4853 4.99264L5.99266 7.5L1.5 4.99264L5.99266 2.5Z" fill="white" />\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M2.39853 6.5L1.5 6.99855L5.99267 9.5059L10.4853 6.99855L9.58676 6.5L5.99267 8.5059L2.39853 6.5Z"\n                    fill="white"\n                  />\n                </svg>\n              </div>\n\n              <span class="text"\n                >'.concat(a.length>9999?"9999+":a.length,"</span\n              >\n            </div>"));o.append(s),a.slice(1).hide()}}else o.show(),o.find(".sih-duplicated-counter").remove()}))}))},Ft=function(){var t=$J(".sih_filter .sih-group-btn");t.off("click").on("click",(function(){clearTimeout(Rt),Rt=setTimeout((function(){t.toggleClass("active"),Mt()}),300)}))};var Ut,Bt=function(t){return"7656".concat(Number(t)+Number(1197960265728))},Vt=function(t){return Number(t.split("7656")[1])-Number(1197960265728)},Wt=[];var Yt=function(){Wt.length||chrome.runtime.sendMessage(SIHID,{type:"GetLastTrades"},(function(t){if(t.success){var e=Kt(t,location.href.includes("sent")?["trade_offers_sent"]:["trade_offers_received"]);Zt(t,e),qt()}else $J(".filter_load-float--buttons").addClass("disabled"),$J(".float-info").removeClass("hidden"),$J(".float-info__text").text(""),$J(".setting-url").text(SIHLang.tradeoffers.filter.update_float_text_1)})),Ut&&Ut.length&&zt(Ut)},Kt=function(t){var e=[];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(r){t.response[r]&&t.response[r].forEach((function(t){if(t.items_to_give&&t.items_to_give.forEach((function(r){e.push({tradeofferid:t.tradeofferid,steamid:g_steamID,assetid:r.assetid,classid:r.classid})})),t.items_to_receive){var r=Bt(t.accountid_other);t.items_to_receive.map((function(n){e.push({tradeofferid:t.tradeofferid,steamid:r,assetid:n.assetid,classid:n.classid})}))}}))})),e},Zt=function(t,e){t.response.descriptions.forEach((function(t){var r=t.tags.find((function(t){return"WEAPON"===t.category.toUpperCase()||"TYPE_HANDS"===t.internal_name.toUpperCase()}));t.actions&&r&&e.forEach((function(e){t.classid===e.classid&&(t.actions[0].link=t.actions[0].link.replace("%assetid%",e.assetid).replace("%owner_steamid%",e.steamid),-1===Wt.findIndex((function(e){return e&&e.actions[0].link===t.actions[0].link}))&&Wt.push(t))}))}))},zt=function(t){$J(".tradeoffer").each((function(e,r){var n=$J(r);n.find(".tradeoffer_items").each((function(e,r){var o=$J(r);o.find(".trade_item").each((function(e,r){var i,a=$J(r),s=a.attr("data-economy-item").split("/");if(5===s.length&&s.pop(),3===s.length||4===s.length){var c=s[2],l=s[3],u=t.find((function(t){return t.classid===c&&t.instanceid===l}));u&&!a.find(".float-value").length&&(a.find(".float-data").append('\n              <div class="float-item__row float-item__row transparent">\n                <span class="rating-pos">'.concat((i=u.iteminfo,i.globalRatingPos||i.localRatingPos?"#".concat(Math.abs(i.globalRatingPos?i.globalRatingPos:i.localRatingPos)):""),'</span>\n                <span class="paintseed">').concat(u.iteminfo.paintseed,'</span>\n              </div>\n              <div class="float-item__row">\n                <span class="float-value"\n                  >').concat(n.hasClass("minimized")?u.iteminfo.floatvalue.toFixed(4):n.hasClass("lite")&&o.hasClass("secondary")?u.iteminfo.floatvalue.toFixed(10):u.iteminfo.floatvalue.toFixed(13),"</span\n                >\n              </div>\n            ")),function(t,e){var r=window.location.pathname.match(/tradeoffer\/new/),n=t.description?t.description:t,o=n.market_hash_name,i=n.icon_url,a=window.KnifePhaseDetector.detect(o,i);if(a){var s,c="";o.includes("Gamma Doppler")?c+="gd-"+a.code:o.includes("Doppler")&&(c+="d-"+a.code),s=a.code.includes("phase")?"P"+a.code.slice(-1):a.name;var l=null,u=0;l=setInterval((function(){u++,(1===e.find(".item-info").length&&1===e.children(".item-info").length||r&&u>=10)&&(clearInterval(l),e.find(".phase-background").length||e.find("img").before('<div class="phase-background '.concat(c,'"></div>')),e.find(".phase-label").length||(r?e.find(".tradeoffer.float-data").length?e.find(".tradeoffer.float-data").prepend('<span class="trade phase-label">'.concat(s,"</span>")):e.find(".p-price").before('<span class="trade phase-label">'.concat(s,"</span>")):e.find(".item-info").prepend('<span class="phase-label">'.concat(s,"</span>"))))}),100)}}(u,a))}}))}))}))},qt=function(){Promise.all(Wt.map((function(t,e){return new Promise((function(r,n){setTimeout((function(){t.actions[0].link&&Qt(t.actions[0].link).then((function(e){e?(t.iteminfo=e.iteminfo,r(t)):n()})).catch((function(){n()}))}),Math.floor(25*Math.random()+10)*(e+1))}))}))).then((function(t){t&&t.length&&(zt(t),Ut=t)}))},Qt=function(t){return new Promise((function(e,r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_WEAR_VALUE",data:{link:t}},(function(t){t&&t.success?e(t):r(t)}))}))};function Xt(){var t,e,r;t=$J(".sih_filter"),e=ci(),r='\n    <div class="filter_load-price">\n      <a href="javascript:void(0)" class="filter_switcher-load-price '.concat(e.autoLoadMarketPrice?"on":"",'"></a>\n      <a href="javascript:void(0)" class="filter_load-price-market">\n        <span class="text text_tiny filter_load-price-market--text">').concat(SIHLang.market.requestPrice,'</span>\n        <span class="text text_tiny--fs7 filter_auto-load-price ').concat(e.autoLoadMarketPrice?"text_green":"",'"\n          >').concat(e.autoLoadMarketPrice?"".concat(SIHLang.market.auto):"".concat(SIHLang.market.manual),"</span\n        >\n      </a>\n    </div>\n  "),t.find(".filter_price").before(r),function(){var t=$J(".filter");t.find(".filter_switcher-load-price").off("click").click((function(){var t=$J(".filter_load-price-market"),e=$J(this);e.toggleClass("on"),t.children(".filter_auto-load-price").toggleClass("text_green"),e.hasClass("on")?t.children(".filter_auto-load-price").text("".concat(SIHLang.market.auto)):t.children(".filter_auto-load-price").text("".concat(SIHLang.market.manual)),Bo(!ci().autoLoadMarketPrice)}))}(),function(){var t=$J(".filter");t.find(".filter_load-price-market").off("click").click($J.debounce(250,(function(){$J(this).hasClass("reload")?(SteamBySihSource._cache={},MarketplaceSource._cache={},$J(".sih_tradeoffer.single_price_loaded").each((function(t,e){!$J(e).hasClass("active_single_trade")&&$J(e).addClass("active_single_trade")}))):te("reload",!0),ci().autoLoadMarketPrice||$J(".tradeoffer").removeClass("active_single_trade single_price_loaded"),ho(),fo(),fi(),_i()})))}()}function te(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request",e=arguments.length>1?arguments[1]:void 0,r=$J(".tradeoffer.single_price_loaded"),n=$J(".filter_load-price-market");if(0!==r.length||window.location.href.includes("history")){r.find(".sih_tradeoffer_footer").find(".sih_load_price_single").each((function(e,r){var n=$J(r);n.hasClass("reload")||"reload"!==t||(n.addClass("reload"),n.text(SIHLang.tradeoffers.filter.reload)),"request"===t&&(n.removeClass("reload"),n.text(SIHLang.market.requestPrice))}))}else{var o=$J(".sih_tradeoffer_footer").find(".sih_load_price_single");n.hasClass("reload")||"reload"!==t||(n.addClass("reload"),n.find(".filter_load-price-market--text").text(SIHLang.tradeoffers.filter.reload),o.addClass("reload"),o.text(SIHLang.tradeoffers.filter.reload)),"request"===t&&(n.removeClass("reload"),n.find(".filter_load-price-market--text").text(SIHLang.market.requestPrice),o.removeClass("reload"),o.text(SIHLang.market.requestPrice))}e&&("reload"===t?(n.addClass("reload"),n.find(".filter_load-price-market--text").text(SIHLang.tradeoffers.filter.reload)):(n.removeClass("reload"),n.find(".filter_load-price-market--text").text(SIHLang.market.requestPrice)))}function ee(){!function(){$J(".tradeoffer_footer").each((function(){var t=$J(this).html().replace(/\|/," ");$J(this).html(t)})),$J(".tradeoffer_footer").contents().filter((function(){return 3===this.nodeType})).remove(),$J(".tradeoffer_footer").addClass("sih sih_tradeoffer_footer minimized"),$J(location).attr("pathname").includes("sent")||$J(".tradeoffer_footer_actions").append('<a class="accept_trade whiteLink" href="javascript:void(0);"><span>'.concat(SIHLang.tradeoffers.fast_accept,"</span></a>"));0===$J(".tradeoffer_footer").find(".tradeoffer_footer_actions").length&&$J(".tradeoffer_footer").prepend('<div class="tradeoffer_footer_actions"></div>')}(),setTimeout((function(){re(),function(){var t=ci();if(t&&t.mode&&"lite"===t.mode){$J(".profile_leftcol").find(".tradeoffer_footer").each((function(t,e){var r=$J(e),n=r.parent().find(".tradeoffer_items_ctn").css("background");r.find(".tradeoffer_footer_actions").find("a").css("background",n)}))}}(),$J(".profile_leftcol").find(".tradeoffer.lite.history").each((function(t,e){var r=$J(e),n=r.find(".tradeoffer_items_banner");r.find(".tradeoffer_footer").appendTo(n)}))}),100)}function re(){var t=$J(".tradeoffer");0===t.find(".sih_load_price_single").length&&t.find(".tradeoffer_footer_actions").prepend('<a href="javascript:void(0)" class="whiteLink tradeoffer_footer_actions sih_load_price_single"\n        >'.concat(SIHLang.market.requestPrice,"</a\n      >")),t.find(".sih_load_price_single").click($J.debounce(250,(function(){var e,r=$J(this);r.hasClass("reload")?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&t.find(".trade_item").each((function(t,e){if(e.rgItem){var r=e.rgItem.market_hash_name;Object.values(MarketplaceSource._cache).forEach((function(t){Object.values(t).forEach((function(t){t[r]&&delete t[r]}))})),Object.values(SteamBySihSource._cache.steam).forEach((function(t){t[r]&&delete t[r]}))}}))}(t.hasClass("lite history")?r.parent().parent().parent().parent():r.parent().parent().parent()):(r.addClass("reload"),r.text(SIHLang.tradeoffers.filter.reload));$J(".tradeoffer").removeClass("active_single_trade"),(e=t.hasClass("lite history")?r.parent().parent().parent().parent().parent():r.parent().parent().parent()).addClass("single_price_loaded active_single_trade"),ho(),fo(),fi(e),_i(null,!1,!0,{name:"Steam",sort:13},e)})))}var ne=function(){oe()},oe=function(){$J("body").on("click",".sih_trade_item",(function(){var t=this.rgItem||{},e=t.appid,r=t.market_hash_name;if(e&&r){var n="https://steamcommunity.com/market/listings/".concat(e,"/").concat(r);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_OPEN_TAB_SETTINGS",data:{url:n}},(function(){}))}}))};function ie(){!function(){$J(".tradeoffer_items_ctn").addClass("sih_tradeoffer_items_ctn"),$J(".tradeoffer_items").addClass("sih_tradeoffer_items"),$J(".trade_item").addClass("sih_trade_item item");var t='\n    <div class="item-info">\n      <div class="float-data"></div>\n      <div class="p-price"></div>\n      <span class="animated-background small fake-price"></span>\n    </div>\n  ';$J(".trade_item").append(t)}(),$J(".sih_tradeoffer").find(".tradeoffer_item_list div").each((function(t,e){var r=$J(e);[r.attr("style")].includes("clear: left;")&&r.remove()})),ne()}function ae(){setTimeout((function(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each((function(t,e){$J(e).find(".trade_item").each((function(t,e){t>=3&&$J(e).addClass("hidden"),3===t&&$J(e).after('\n          <div class="sih_trade_item show-items">\n            <div class="item_row">\n              <span class="text text_grey count-items"></span>\n            </div>\n            <div class="item_row">\n              <span class="item_dot"></span>\n              <span class="item_dot"></span>\n              <span class="item_dot"></span>\n            </div>\n          </div>\n        ')}))})),$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each((function(t,e){var r=$J(e).find(".trade_item.hidden");$J(e).find(".count-items").text("+".concat(r.length))})),$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each((function(t,e){$J(e).find(".show-items").click((function(){var t=this,e=$J(this).parent().parent().parent().find(".trade_item.hidden");$J(this).parent().parent().parent().find(".show-items").remove(),e.each((function(e,r){$J(r).hasClass("hidden")&&($J(r).removeClass("hidden"),$J(t).remove())}))}))}))}),100)}function se(){var t,e;!function(){var t=ai();t.each((function(t,e){var r=$J(e).find(".tradeoffer_items_rule");0!==r.length||$J(e).hasClass("lite")?r.addClass("sih_tradeoffer_items_rule"):0!==$J(e).find(".tradeoffer_items_banner").length&&$J(e).append('<div class="tradeoffer_items_rule sih_tradeoffer_items_rule"></div>')}));var e='\n    <div class="sih_tradeoffer_items_rule_price">\n      <div class="row">\n        <div class="icons"></div>\n      </div>\n    </div>\n    <div class="sih_tradeoffer_items_rule_percent"></div>\n    <div class="sih_tradeoffer_items_rule_price">\n      <div class="row">\n        <div class="icons"></div>\n      </div>\n    </div>\n  ';$J(".sih_tradeoffer_items_rule").append(e),t.find(".sih_tradeoffer_items_rule_price").append('<span class="animated-background"></span>'),t.find(".sih_tradeoffer_items_rule_percent").append('<div class="animated-background-profit"></div>')}(),t=$J(".profile_leftcol"),e=window.location.href,t.find(".tradeoffer.lite").find(".sih_tradeoffer_items_rule").each((function(t,r){$J(r).find(".sih_tradeoffer_items_rule_price").each((function(t,r){var n=$J(r);if(e.includes("sent"))if(0===t){var o=n.parent().parent().find(".tradeoffer_items.primary").find(".trade_item").length;n.append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.your_lots," (").concat(o," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))}else{var i=n.parent().parent().find(".tradeoffer_items.secondary").find(".trade_item").length;n.append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.lots," (").concat(i," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))}else if(0===t){var a=n.parent().parent().find(".tradeoffer_items.primary").find(".trade_item").length;n.append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.lots," (").concat(a," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))}else{var s=n.parent().parent().find(".tradeoffer_items.secondary").find(".trade_item").length;n.append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.your_lots," (").concat(s," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))}}))}))}function ce(){$J(".sih_tradeoffer_header").append('<div class="column"></div>'),$J(".tradeoffer").each((function(t,e){var r=$J(e).find(".sih_tradeoffer_header").children(".column"),n=$J(e).find(".tradeoffer_items_rule");if($J(n).hasClass("tradeoffer_items_rule"))$J(n).appendTo(r);else{$J(e).find(".tradeoffer_items.primary").after('<div class="tradeoffer_items_rule"></div>');var o=$J(e).find(".tradeoffer_items_rule");$J(o).appendTo(r)}})),setTimeout((function(){var t=0;$J(".tradeoffer_item_list").each((function(e,r){var n;t=$J(r).find(".trade_item").length,$J(location).attr("pathname").includes("sent")?e%2==0?(n=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[0],$J(n).append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.your_lots," (").concat(t," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))):(n=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[1],$J(n).append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.lots," (").concat(t," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))):e%2==0?(n=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[0],$J(n).append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.lots," (").concat(t," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))):(n=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[1],$J(n).append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.your_lots," (").concat(t," ").concat(SIHLang.tradeoffers.units,")</span\n            >")))}))}),1)}var le=r(4273);function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function fe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fe=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ue(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ue(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function de(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function he(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,me(n.key),n)}}function pe(t,e,r){return e&&he(t.prototype,e),r&&he(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ve(t,e,r){return(e=me(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function me(t){var e=function(t,e){if("object"!=ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ue(e)?e:e+""}var ye=function(t){return Array.isArray(t)?0===t.length?"":" - "+t.map((function(t){return SIHLang.sih_rep.server_errors[t]||t})).join(" - "):" - ".concat(SIHLang.sih_rep.server_errors[t]||t)||0},ge=pe((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ve(this,"getLastTrades",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"GetLastTrades"},(function(e){t(e)}))}))})),ve(this,"getHistoryTrades",(function(){return new Promise(function(){var t,e=(t=fe().mark((function t(e){var r,n,o,i;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getLocal("tradesInfoHistory");case 2:return r=t.sent,n=r.tradesInfoHistory,t.next=6,k.getLocal("tradesInfoSentHistory");case 6:o=t.sent,i=o.tradesInfoSentHistory,e({tradesInfoHistory:n,tradesInfoSentHistory:i});case 9:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){de(i,n,o,a,s,"next",t)}function s(t){de(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}())})),ve(this,"getUserInfo",(function(t){return new Promise((function(e,r){try{e($J.ajax({method:"GET",url:"https://steamcommunity.com/miniprofile/".concat(t,"/json")}))}catch(t){r(t)}}))})),ve(this,"getTradesSummary",(function(t){return new Promise((function(e,r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_TRADES_SUMMARY",data:{accountId:t.toString()}},(function(t){e(t)}))}))})),ve(this,"getManyTradesSummary",(function(t){return new Promise((function(e,r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_MANY_TRADES_SUMMARY",data:{accountIds:t}},(function(t){e(t)}))}))})),ve(this,"checkPermission",(function(){return new Promise((function(t,e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SIH_REP_CHECK_PERMISSION"},(function(e){t(e)}))}))})),ve(this,"acceptPermission",(function(){return new Promise((function(t,e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SIH_REP_ACCEPT_PERMISSION"},(function(e){t(e)}))}))})),ve(this,"getTradesFromController",(function(t){var e=t.lang,r=void 0===e?"en":e,n=t.direct,o=t.reviewed;return new Promise((function(t,e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SIH_REP_GET_USER_TRADES",data:{lang:r,direct:n,reviewed:o}},(function(e){t(e)}))}))})),ve(this,"getSihRepUsersInfo",(function(t){var e=t.steamIds;return new Promise((function(t,r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SIH_REP_GET_USERS_INFO",data:{steamIds:e}},(function(e){t(e)}))}))})),ve(this,"getSendingReviews",(function(t){var e=t.tradeOfferIds;return new Promise((function(t,r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SIH_REP_GET_SENDING_REVIEWS",data:{tradeOfferIds:e}},(function(e){t(e)}))}))})),ve(this,"sendReaction",(function(t){var e=t.reviewId,r=t.reactionType;return new Promise((function(t,n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SIH_REP_SEND_REACTION",data:{reviewId:e,reactionType:r}},(function(e){t(e)}))}))})),ve(this,"sendReview",(function(t){var e=t.sentiment,r=t.steamId,n=t.text,o=t.game,i=void 0===o?730:o,a=t.tradeId;return new Promise((function(t,o){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SIH_REP_SEND_REVIEW",data:{sentiment:e,steamId:r,text:n,game:i,tradeId:a}},(function(e){if(!e.success){var r=null==e?void 0:e.error,n=ye(r),i={status:"error",text:"".concat(SIHLang.sih_rep.failed_send_review).concat(n)};return(0,le.W)(i,5e3,(function(){})),void o(e)}t(e)}))}))})),ve(this,"sendScam",(function(t){var e=t.steamId,r=t.text,n=t.game,o=void 0===n?730:n,i=t.tradeId;return new Promise((function(t,n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SIH_REP_SEND_SCAM",data:{steamId:e,text:r,game:o,tradeId:i}},(function(e){if(!e.success){var r=null==e?void 0:e.error,o=ye(r),i={status:"error",text:"".concat(SIHLang.sih_rep.failed_send_report).concat(o)};return(0,le.W)(i,5e3,(function(){})),void n(e)}t(e)}))}))})),ve(this,"editReview",(function(t){var e=t.reviewId,r=t.reviewType,n=t.sentiment,o=t.text;return new Promise((function(t,i){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SIH_REP_EDIT_REVIEW",data:{reviewId:e,reviewType:r,sentiment:n,text:o}},(function(e){if(!e.success){var r=null==e?void 0:e.error,n=ye(r),o={status:"error",text:"".concat(SIHLang.sih_rep.failed_edit_review).concat(n)};return(0,le.W)(o,5e3,(function(){})),void i(e)}var a={status:"success",text:"".concat(SIHLang.sih_rep.success_edit_review)};(0,le.W)(a,5e3,(function(){})),t(e)}))}))})),ve(this,"deleteReview",(function(t){var e=t.reviewId;return new Promise((function(t,r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SIH_REP_DELETE_REVIEW",data:{reviewId:e}},(function(e){if(!e.success){var n=null==e?void 0:e.error,o=ye(n),i={status:"error",text:"".concat(SIHLang.sih_rep.failed_delete_review).concat(o)};return(0,le.W)(i,5e3,(function(){})),void r(e)}var a={status:"success",text:"".concat(SIHLang.sih_rep.success_delete_review)};(0,le.W)(a,5e3,(function(){})),t(e)}))}))}))}));const _e=new ge;function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function be(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */be=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==we(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(we(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function xe(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var Se=function(){var t=$J("body");t.find("#sih-rep-modal").length||(t.append('\n    <div id="sih-rep-modal" class="sih-rep-modal">\n      <div class="sih-rep-modal__fade"></div>\n    </div>\n  '),ke())},Le=function(){$J("#sih-rep-modal").hide().remove(),$J("body").css("overflow","auto")},ke=function(){$J("#sih-rep-modal").on("click",".sih-rep-modal__fade, .sih-modal__close, #sih-rep-modal-cancel",(function(){$J(".sih-rep-expanded-trades-tab:visible").length?($J("#sih-rep-modal .sih-rep-expanded-trades-tab").hide().remove(),$J("#sih-rep-modal .sih-rep-all-reviews-tab").show()):Le()})),$J(document).off("keydown").keydown(function(){var t,e=(t=be().mark((function t(e){var r;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=$J(".sih-rep-expanded-trades-tab:visible"),27===e.keyCode&&(e.stopPropagation(),r.length?($J("#sih-rep-modal .sih-rep-expanded-trades-tab").hide().remove(),$J("#sih-rep-modal .sih-rep-all-reviews-tab").show()):Le());case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){xe(i,n,o,a,s,"next",t)}function s(t){xe(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}())};function Ie(t){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(t)}function Ee(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ee=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Ie(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ie(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Ce(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Oe(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ce(i,n,o,a,s,"next",t)}function s(t){Ce(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Pe=function(t){$J("#sih-rep-modal-accept-permission").off("click").on("click",Oe(Ee().mark((function e(){var r;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.acceptPermission();case 2:e.sent.success?t():(Le(),r={status:"error",text:SIHLang.sih_rep.failed_accept_permission},(0,le.W)(r,5e3,(function(){})));case 4:case"end":return e.stop()}}),e)}))))},$e=function(t){$J("#sih-rep-modal-open-review-modal").off("click").on("click",Oe(Ee().mark((function e(){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)}))))},Je=function(t){Te(),function(t){Pe(t),$e(t)}(t)},Te=function(){try{var t=$J("#sih-rep-modal");t.length||(Se(),t=$J("#sih-rep-modal"));var e=$J('\n      <div class="sih-modal sih-global sih-rep-request-permission-tab">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-rep-request-permission-tab__content">\n            <div class="sih-rep-request-permission-tab__logo">\n              <img src="chrome-extension://'.concat(SIHID,'/assets/sih-rep/request_permission_logo.svg" alt="" />\n            </div>\n            <div class="column gap-12 items-center">\n              <span class="text text_white semi-bold fs-20 lh-28 text-center"\n                >').concat(SIHLang.sih_rep.request_verify_title,'</span\n              >\n              <span class="text text_neutral-300 fs-14 text-center lh-20"\n                >').concat(SIHLang.sih_rep.request_verify_subtitle,'</span\n              >\n            </div>\n          </div>\n          <div class="sih-rep-request-permission-tab__buttons sih-rep-request-permission-tab-buttons">\n            <div\n              id="sih-rep-modal-accept-permission"\n              class="sih-rep-request-permission-tab-buttons__btn sih-rep-request-permission-tab-buttons__btn_active"\n            >\n              ').concat(SIHLang.sih_rep.allow,'\n            </div>\n\n            <div id="sih-rep-modal-open-review-modal" class="sih-rep-request-permission-tab-buttons__btn">\n              ').concat(SIHLang.sih_rep.deny,"\n            </div>\n          </div>\n        </div>\n      </div>\n    "));t.find(".sih-rep-request-permission-tab").length?(t.show(),t.find(".sih-rep-request-permission-tab").show(),$J("body").css("overflow","hidden")):(t.append(e),t.show(),t.find(".sih-rep-request-permission-tab").show(),$J("body").css("overflow","hidden"))}catch(t){console.error(t)}},Ae=function(){var t=$J("#sih-rep-modal .sih-rep-all-reviews-tab"),e=t.find(".sih-rep-all-reviews-tab__content");t.find(".sih-rep-all-reviews-tab-switcher .sih-rep-all-reviews-tab-switcher__input").on("change",(function(r){switch($J(r.currentTarget).attr("id")){case"sih-rep-waiting":e.addClass("hidden"),t.find("#sih-rep-waiting-reviews").removeClass("hidden");break;case"sih-rep-sending":e.addClass("hidden"),t.find("#sih-rep-sending-reviews").removeClass("hidden")}}))},Ne=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"waiting";t.addClass("empty");var r="waiting"===e?SIHLang.sih_rep.no_trades_plug_subtitle_waiting:SIHLang.sih_rep.no_trades_plug_subtitle_sending,n=$J('<div class="sih-rep-all-reviews-tab__empty-plug sih-rep-all-reviews-empty-plug">\n      <img\n        class="sih-rep-all-reviews-empty-plug__image"\n        src="chrome-extension://'.concat(SIHID,'/assets/sih-rep/sih_rep_empty.svg"\n        alt=""\n      />\n      <div class="column items-center gap-12 w-350">\n        <span class="text text_white fs-20 lh-28 semi-bold text-center">').concat(SIHLang.sih_rep.no_trades_plug_title,'</span>\n        <span class="text text_neutral-300 fs-14 lh-20 text-center">').concat(r,"</span>\n      </div>\n    </div>"));t.append(n)},je=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0===t&&0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)?"grey":t>=0&&t<=30?"red":t>30&&t<=75?"yellow":t>75&&t<=100?"green":"grey"},He=function(t){var e,r,n;return null!=t&&null!==(e=t.reputation)&&void 0!==e&&e.trust?"trust":null!=t&&null!==(r=t.reputation)&&void 0!==r&&r.suspicious?"suspicious":null!=t&&null!==(n=t.reputation)&&void 0!==n&&n.scam?"scam":""},Ge=function(t){var e,r,n,o,i,a,s=t.sihRepUserInfo,c=t.position,l=(null==s||null===(e=s.tradeInfo)||void 0===e?void 0:e.successAllTrades)||0,u=(null==s||null===(r=s.tradeInfo)||void 0===r?void 0:r.offerCount)||0,f=He(s),d=function(t){var e,r,n;return null!=t&&null!==(e=t.reputation)&&void 0!==e&&e.trust?SIHLang.sih_rep.rating_rise:null!=t&&null!==(r=t.reputation)&&void 0!==r&&r.suspicious?SIHLang.sih_rep.rating_drop:null!=t&&null!==(n=t.reputation)&&void 0!==n&&n.scam?SIHLang.sih_rep.rating_scam:""}(s),h=$J('<div class="sih-rep-info-tooltip__inner">\n      <div class="sih-rep-info-tooltip__arrow '.concat(c,'"></div>\n      <div class="sih-rep-info-tooltip__header">\n        <div class="row items-center gap-4">\n          <span class="text fs-14 lh-20 semi-bold">').concat(SIHLang.sih_rep.approval_rate,':</span>\n          <div\n            class="text fs-14 lh-20 semi-bold sih-rep-info-tooltip__percent ').concat(f," ").concat(je(l,u),'"\n          >\n            ').concat(l,'%\n          </div>\n        </div>\n      </div>\n\n      <a\n        href="https://sihrep.com/user/').concat(null==s||null===(n=s.profile)||void 0===n?void 0:n.steamId,'"\n        target="_blank"\n        class="sih-rep-info-tooltip__btn"\n      >\n        <span class="text fs-14 lh-20 semi-bold">').concat(SIHLang.sih_rep.rating_title,'</span>\n        <span class="sih-rep-info-tooltip__btn_icon">\n          <img src="chrome-extension://').concat(SIHID,'/assets/sih-rep/arrow_link.svg" alt="" />\n        </span>\n      </a>\n    </div>'));void 0!==(null==s?void 0:s.feedback)&&h.find(".sih-rep-info-tooltip__header").after('<div class="sih-rep-info-tooltip-feedbacks">\n        <div class="sih-rep-info-tooltip-feedbacks__item">\n          <div class="sih-rep-info-tooltip-feedbacks__icon positive"></div>\n          <span class="text fs-13 lh-20">'.concat((null==s||null===(o=s.feedback)||void 0===o?void 0:o.positive)||0,'</span>\n        </div>\n        <div class="sih-rep-info-tooltip-feedbacks__item">\n          <div class="sih-rep-info-tooltip-feedbacks__icon negative"></div>\n          <span class="text fs-13 lh-20">').concat((null==s||null===(i=s.feedback)||void 0===i?void 0:i.negative)||0,'</span>\n        </div>\n        <div class="sih-rep-info-tooltip-feedbacks__item report">\n          <div class="sih-rep-info-tooltip-feedbacks__icon report"></div>\n          <span class="text fs-13 lh-20">').concat((null==s||null===(a=s.feedback)||void 0===a?void 0:a.tradesBack)||0,"</span>\n        </div>\n      </div>"));return f&&h.find(".sih-rep-info-tooltip__header").prepend('<div class="sih-rep-info-tooltip__reputation-info '.concat(f,'">\n        <div class="sih-rep-info-tooltip__reputation-icon ').concat(f,'"></div>\n        <span class="text text_red fs-14 lh-20 semi-bold">').concat(d,"</span>\n      </div> ")),h},De=function(t){var e,r,n=t.$container,o=t.sihRepUserInfo,i=t.position,a=void 0===i?"bottom":i,s=(null==o||null===(e=o.tradeInfo)||void 0===e?void 0:e.successAllTrades)||0,c=(null==o||null===(r=o.tradeInfo)||void 0===r?void 0:r.offerCount)||0,l=He(o),u=$J('<div\n      class="sih-rep-user-info sih-global '.concat(l," ").concat(je(s,c),'"\n      title=""\n    >\n      <span\n        class="sih-rep-user-info__percent ').concat(l," ").concat(je(s,c),'"\n        >').concat(s,"%</span\n      >\n    </div>"));if(l&&u.prepend('<span class="sih-rep-user-info__reputation-icon '.concat(l,'"></span>')),!n.find(".sih-rep-user-info").length){n.append(u),function(t){var e=t.$html,r=t.sihRepUserInfo,n=t.position,o=void 0===n?"bottom":n,i=Ge({sihRepUserInfo:r,position:o}),a=!1;$J(document).on("mouseenter",".sih-rep-info-tooltip",(function(){return a=!0})).on("mouseleave",".sih-rep-info-tooltip",(function(){return a=!1})),e.tooltip({content:i,classes:{"ui-tooltip":"sih-global sih-rep-info-tooltip"},show:{delay:0,duration:0},hide:{delay:0,duration:0},position:{my:"center ".concat("bottom"===o?"top+15":"bottom-15"),at:"center ".concat("bottom"===o?"bottom":"top"),using:function(t,e){$J(this).css(t)},collision:"none"}}).on("mouseenter",(function(t){e.not($J(this)).tooltip("close"),e.addClass("active")})).on("mouseleave",(function(t,r){var n=t.currentTarget,o=$J(n);t.stopImmediatePropagation(),setTimeout((function(){$J(".ui-tooltip:hover").length||a||o.is(":hover")||(o.tooltip("close"),e.removeClass("active"))}),250)})),$J("body").on("mouseleave",".ui-tooltip",(function(t){e.tooltip(),e.tooltip("close"),e.removeClass("active")}))}({$html:u,sihRepUserInfo:o,position:a});var f=$J(".pagecontent").css("zoom");f&&u.css("zoom",2-Number(f))}};function Re(t){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Re(t)}function Me(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Me=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Re(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Re(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Fe(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ue(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Fe(i,n,o,a,s,"next",t)}function s(t){Fe(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Be=null,Ve=function(){$J("#sih-rep-delete-modal").on("click",".sih-rep-delete-modal__fade, .sih-modal__close, #sih-rep-delete-modal-cancel",(function(){Ke()})),$J(document).off("keydown").keydown(function(){var t=Ue(Me().mark((function t(e){return Me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:27===e.keyCode&&(e.stopPropagation(),Ke());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},We=function(t){var e=t.sihRepUserInfo;$J("#sih-rep-delete-modal").find("#sih-rep-delete-modal-delete-review").off("click").on("click",(function(){clearTimeout(Be),Be=setTimeout(Ue(Me().mark((function t(){var r,n,o;return Me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.deleteReview({reviewId:null==e||null===(r=e.review)||void 0===r?void 0:r.id});case 3:if((n=$J("#tradeofferid_".concat(null==e?void 0:e.tradeOfferId)).find(".sih-rep-panel")).length){t.next=6;break}return t.abrupt("return");case 6:n.find(".sih-rep-panel__btn").remove(),o=$J('<div class="sih-rep-panel__btn positive" data-state="positive"></div>\n            <div class="sih-rep-panel__btn negative" data-state="negative"></div>\n            <div class="sih-rep-panel__btn report" data-state="report"></div>'),n.append(o),Gn(),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:return t.prev=14,Ke(),Le(),t.next=19,cn();case 19:return t.finish(14);case 20:case"end":return t.stop()}}),t,null,[[0,12,14,20]])}))),300)}))},Ye=function(t){var e=t.sihRepUserInfo;Ze(),function(t){var e=t.sihRepUserInfo;Ve(),We({sihRepUserInfo:e})}({sihRepUserInfo:e})},Ke=function(){$J("#sih-rep-delete-modal").hide().remove()},Ze=function(){try{var t=$J("body"),e=$J('\n      <div id="sih-rep-delete-modal" class="sih-rep-delete-modal">\n        <div class="sih-rep-delete-modal__fade"></div>\n\n        <div class="sih-modal sih-global sih-rep-delete-review-tab">\n          <div class="sih-modal__close"></div>\n          <div class="sih-modal__inner sih-modal__column">\n            <div class="sih-rep-delete-review-tab__content">\n              <div class="sih-rep-delete-review-tab__logo">\n                <img src="chrome-extension://'.concat(SIHID,'/assets/sih-rep/delete_review_logo.svg" alt="" />\n              </div>\n              <div class="column gap-12 items-center">\n                <span class="text text_white semi-bold fs-20 lh-28 text-center"\n                  >').concat(SIHLang.sih_rep.delete_review_title,'</span\n                >\n              </div>\n            </div>\n            <div class="sih-rep-delete-review-tab__buttons sih-rep-delete-review-tab-buttons">\n              <div\n                id="sih-rep-delete-modal-delete-review"\n                class="sih-rep-delete-review-tab-buttons__btn sih-rep-delete-review-tab-buttons__btn_active"\n              >\n                ').concat(SIHLang.sih_rep.delete,'\n              </div>\n\n              <div id="sih-rep-delete-modal-cancel" class="sih-rep-delete-review-tab-buttons__btn">\n                ').concat(SIHLang.sih_rep.cancel,"\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    "));t.find("#sih-rep-delete-modal").length||(t.append(e),e.show(),e.find(".sih-rep-delete-review-tab").show())}catch(t){console.error(t)}};function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function qe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */qe=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ze(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ze(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Qe(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Xe(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Qe(i,n,o,a,s,"next",t)}function s(t){Qe(i,n,o,a,s,"throw",t)}a(void 0)}))}}var tr=function(t){var e=t.$html,r=t.$tooltipHtml,n=t.sihRepUserInfo,o=$J("#sih-rep-modal .sih-modal__inner");e.off("click").on("click",(function(t){var i=$J(t.currentTarget);$J("body").append(r),er({$tooltipHtml:r,sihRepUserInfo:n}),rr({$tooltipHtml:r,sihRepUserInfo:n});var a=function(){var t,e=i[0].getBoundingClientRect(),n=r.outerHeight(),o=r.outerWidth(),a=e.top,s=window.innerHeight-e.bottom;t=a>=n+4?e.top-n-4:s>=n+4?e.bottom+4:Math.max(4,e.top-n-4);var c=e.left+e.width/2-o/2;c=Math.max(4,Math.min(c,window.innerWidth-o-4)),r.css({top:"".concat(t,"px"),left:"".concat(c,"px")})};a();var s=function(){return a()};o.on("scroll",s);var c=function(t){e.is(t.target)||r.is(t.target)||r.has(t.target).length||(r.remove(),o.off("scroll",s),$J(document).off("click",c))};$J(document).on("click",c)}))},er=function(t){var e=t.$tooltipHtml,r=t.sihRepUserInfo;e.find(".sih-rep-reviews-item-setting-tooltip__item.edit").off("click").on("click",Xe(qe().mark((function t(){var n,o,i,a;return qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.remove(),Le(),t.next=4,Jn({currentBtnState:1===(null==r||null===(n=r.review)||void 0===n?void 0:n.reviewType)?"report":1===(null==r||null===(o=r.review)||void 0===o?void 0:o.sentiment)?"positive":"negative",tradeOfferId:r.tradeOfferId,accountId:null!=r&&null!==(i=r.profile)&&void 0!==i&&i.steamId?Vt(r.profile.steamId):null,tradeInfo:r,modalState:"edit",contentText:(null==r||null===(a=r.review)||void 0===a?void 0:a.content)||""});case 4:case"end":return t.stop()}}),t)}))))},rr=function(t){var e=t.$tooltipHtml,r=t.sihRepUserInfo;e.find(".sih-rep-reviews-item-setting-tooltip__item.delete").off("click").on("click",Xe(qe().mark((function t(){return qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.remove(),Ye({sihRepUserInfo:r});case 2:case"end":return t.stop()}}),t)}))))},nr=function(t){var e=t.$container,r=t.sihRepUserInfo;or({$container:e,sihRepUserInfo:r})},or=function(t){var e=t.$container,r=t.sihRepUserInfo;if(null!=r&&r.review){var n=$J('<div class="sih-rep-reviews-item__setting-btn"></div>');if(!e.find(".sih-rep-reviews-item__setting-btn").length)e.append(n),function(t){var e=t.$html,r=t.$tooltipHtml,n=t.sihRepUserInfo;tr({$html:e,$tooltipHtml:r,sihRepUserInfo:n})}({$html:n,$tooltipHtml:$J('<div class="sih-rep-reviews-item-setting-tooltip">\n          <div class="sih-rep-reviews-item-setting-tooltip__item edit">\n            <span class="icon"></span>\n            <span class="text fs-14">'.concat(SIHLang.sih_rep.edit_review,'</span>\n          </div>\n          <div class="sih-rep-reviews-item-setting-tooltip__item delete">\n            <span class="icon"></span>\n            <span class="text fs-14">').concat(SIHLang.sih_rep.delete_review,"</span>\n          </div>\n        </div>")),sihRepUserInfo:r})}};function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function ar(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ar=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ir(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ir(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function sr(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var cr={3:SIHLang.sih_rep.accepted,12:SIHLang.sih_rep.refunded},lr=function(){var t,e=(t=ar().mark((function t(e,r){var n,o,i,a,s,c,l,u,f,d,h,p,v,m,y,g,_,w;return ar().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=(null==e||null===(n=e.secondary)||void 0===n||null===(o=n.items)||void 0===o?void 0:o.length)||(null==e||null===(i=e.items)||void 0===i||null===(a=i.sent)||void 0===a?void 0:a.length)||0,h=(null==e||null===(s=e.primary)||void 0===s||null===(c=s.items)||void 0===c?void 0:c.length)||(null==e||null===(l=e.items)||void 0===l||null===(u=l.received)||void 0===u?void 0:u.length)||0,d||h){t.next=4;break}return t.abrupt("return","");case 4:return p=(null==e?void 0:e.partnerName)||(null==e||null===(f=e.profile)||void 0===f?void 0:f.username)||"",t.next=7,k.getLocal("userInfo");case 7:return v=t.sent,m=v.userInfo,y=m.name,g=1e3*(null==e?void 0:e.timeUpdated)||null!=e&&e.timestamp?new Date(1e3*(null==e?void 0:e.timeUpdated)||(null==e?void 0:e.timestamp)).toLocaleString():"",_=null!=e&&e.tradeOfferState?cr[null==e?void 0:e.tradeOfferState]:"",w='\n    <div class="sih-rep-reviews-trade-info">\n      <div class="sih-rep-reviews-trade-info__header">\n        <span class="sih-rep-reviews-trade-info__header_text text text_neutral-300 fs-12"\n          >'.concat(DOMPurify.sanitize(p),':</span\n        >\n        <span class="sih-rep-reviews-trade-info__header_text text text_neutral-300 fs-12"\n          >').concat(y||SIHLang.sih_rep.your_items,':</span\n        >\n      </div>\n\n      <div class="sih-rep-reviews-trade-info__content sih-rep-reviews-trade-info-content">\n        <div class="sih-rep-reviews-trade-info-content__items">\n          <div class="sih-rep-reviews-trade-info__items">\n            ').concat(ur({tradeInfo:e,state:r,owner:"partner"}),'\n          </div>\n\n          <div class="sih-rep-reviews-trade-info__splitter">\n            <img src="chrome-extension://').concat(SIHID,'/assets/sih-rep/splitter.svg" alt="" />\n          </div>\n\n          <div class="sih-rep-reviews-trade-info__items">').concat(ur({tradeInfo:e,state:r,owner:"your"}),"</div>\n        </div>\n\n        ").concat(null!=e&&e.review?"":'<span class="sih-rep-reviews-trade-info__date text text_neutral-300 fs-12"\n          >'.concat(_," ").concat(g,"</span\n        >"),"\n      </div>\n    </div>\n  "),t.abrupt("return",w);case 14:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){sr(i,n,o,a,s,"next",t)}function s(t){sr(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),ur=function(t){var e,r,n=t.tradeInfo,o=t.state,i=t.owner,a=t.initialRender,s=void 0===a||a,c=(null==n||null===(e=n["your"===i?"secondary":"primary"])||void 0===e?void 0:e.items)||(null==n||null===(r=n.items)||void 0===r?void 0:r["".concat("your"===i?"sent":"received")])||[],l=c.map((function(t,e){return s&&e<3?'<div class="sih-rep-reviews-trade-info__item" title="'.concat(DOMPurify.sanitize(null==t?void 0:t.name),'">\n        <img\n          src="').concat("local"===o?(null==t?void 0:t.image)||"":"https://steamcommunity-a.akamaihd.net/economy/image/class/".concat(null==t?void 0:t.appId,"/").concat(null==t?void 0:t.classId),'"\n          alt=""\n        />\n      </div>'):!s&&e>=3?'<div class="sih-rep-reviews-trade-info__item" title="'.concat(DOMPurify.sanitize(null==t?void 0:t.name),'">\n        <img\n          src="').concat("local"===o?t.image||"":"https://steamcommunity-a.akamaihd.net/economy/image/class/".concat(null==t?void 0:t.appId,"/").concat(null==t?void 0:t.classId),'"\n          alt=""\n        />\n      </div>'):void 0}));return s&&c.length>3&&l.push('\n        <div class="sih-rep-reviews-expand-trade sih-rep-reviews-trade-info__item">\n          <span class="text text_neutral-300 fs-14 lh-20">+'.concat(c.length-3,"</span>\n        </div>")),l.join("")};function fr(t){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fr(t)}function dr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */dr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==fr(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(fr(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function hr(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function pr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hr(i,n,o,a,s,"next",t)}function s(t){hr(i,n,o,a,s,"throw",t)}a(void 0)}))}}var vr=function(){var t=pr(dr().mark((function t(e){var r,n;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tradeInfo,n=e.state,t.next=3,mr({tradeInfo:r,state:n});case 3:gr();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),mr=function(){var t=pr(dr().mark((function t(e){var r,n,o,i,a,s,c,l,u,f,d,h,p,v,m,y,g,_,w,b,x,L,I,E;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tradeInfo,n=e.state,t.prev=1,v=$J("#sih-rep-modal"),m=S((null==r?void 0:r.partnerAvatarUrl)||(null==r||null===(o=r.profile)||void 0===o?void 0:o.avatarUrl)),y=(null==r?void 0:r.partnerName)||(null==r||null===(i=r.profile)||void 0===i?void 0:i.username)||"",t.next=7,k.getLocal("userInfo");case 7:g=t.sent,_=g.userInfo,w=_.avatar,b=_.name,x=(null==r||null===(a=r.secondary)||void 0===a||null===(s=a.items)||void 0===s?void 0:s.length)||(null==r||null===(c=r.items)||void 0===c||null===(l=c.sent)||void 0===l?void 0:l.length)||0,L=(null==r||null===(u=r.primary)||void 0===u||null===(f=u.items)||void 0===f?void 0:f.length)||(null==r||null===(d=r.items)||void 0===d||null===(h=d.received)||void 0===h?void 0:h.length)||0,I=(null==r||null===(p=r.profile)||void 0===p?void 0:p.steamId)||(null==r?void 0:r.partnerIdProfile),v.length||(Se(),v=$J("#sih-rep-modal")),E=$J('\n      <div class="sih-modal sih-global sih-rep-expanded-trades-tab">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <span class="text text_white fs-20 lh-28 semi-bold">'.concat(SIHLang.sih_rep.item_list,'</span>\n          <div class="sih-rep-expanded-trades-users-info">\n            <div class="sih-rep-expanded-trades-users-info__user-info row gap-16 items-center">\n              <a\n                href="https://sihrep.com/user/').concat(I,'"\n                target="_blank"\n                class="sih-rep-expanded-trades-users-info__avatar"\n              >\n                <img class="sih-rep-expanded-trades-users-info__avatar_img" src="').concat(m,'" alt="" />\n              </a>\n              <div class="column gap-4">\n                <span class="sih-rep-expanded-trades-users-info__nickname text text_white fs-16 lh-24 semi-bold"\n                  >').concat(DOMPurify.sanitize(y),'</span\n                >\n                <span class="text text_neutral-300 fs-14 lh-20">').concat(SIHLang.sih_rep.lots,": ").concat(L,'</span>\n              </div>\n            </div>\n            <div class="sih-rep-expanded-trades-users-info__splitter">\n              <img src="chrome-extension://').concat(SIHID,'/assets/sih-rep/splitter.svg" alt="" />\n            </div>\n\n            <div class="sih-rep-expanded-trades-users-info__user-info row gap-16 items-center">\n              <div class="sih-rep-expanded-trades-users-info__avatar">\n                <img class="sih-rep-expanded-trades-users-info__avatar_img" src="').concat(w,'" alt="" />\n              </div>\n              <div class="column gap-4">\n                <span class="text text_white fs-16 lh-24 semi-bold">').concat(b||SIHLang.sih_rep.your_items,'</span>\n                <span class="text text_neutral-300 fs-14 lh-20">').concat(SIHLang.sih_rep.lots,": ").concat(x,'</span>\n              </div>\n            </div>\n          </div>\n          <div class="sih-rep-expanded-trades-items-info">\n            <div class="sih-rep-expanded-trades-items-info__items">').concat(yr(r,n,"partner"),'</div>\n            <div class="sih-rep-expanded-trades-items-info__items">').concat(yr(r,n,"your"),"</div>\n          </div>\n        </div>\n      </div>\n    ")),v.find(".sih-rep-expanded-trades-tab").length?(v.show(),v.find(".sih-rep-expanded-trades-tab").show(),$J("body").css("overflow","hidden")):(v.append(E),v.show(),v.find(".sih-rep-expanded-trades-tab").show(),$J("body").css("overflow","hidden")),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),console.error(t.t0);case 21:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}(),yr=function(t,e){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"partner";return((null==t||null===(r=t["your"===o?"secondary":"primary"])||void 0===r?void 0:r.items)||(null==t||null===(n=t.items)||void 0===n?void 0:n["".concat("your"===o?"sent":"received")])||[]).map((function(t){return'<div\n        class="sih-rep-expanded-trades-items-info__trade-item"\n        title="'.concat(DOMPurify.sanitize((null==t?void 0:t.name)||""),'"\n      >\n        <img\n          src="').concat("local"===e?(null==t?void 0:t.image)||"":"https://steamcommunity-a.akamaihd.net/economy/image/class/".concat(null==t?void 0:t.appId,"/").concat(null==t?void 0:t.classId),'"\n          alt=""\n        />\n      </div>')})).join("")},gr=function(){$J(".sih-rep-expanded-trades-items-info__trade-item").tooltip({position:{my:"left bottom-5",at:"left top"}})};function _r(t){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(t)}function wr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==_r(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(_r(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function br(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function xr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){br(i,n,o,a,s,"next",t)}function s(t){br(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Sr=null,Lr=function(t){var e=t.$html,r=t.tradeInfo,n=t.state;kr({$html:e,tradeInfo:r,state:n}),Ir({$html:e,tradeInfo:r}),Er({$html:e,tradeInfo:r}),Cr({$html:e,tradeInfo:r}),Or({$html:e,tradeInfo:r})},kr=function(t){var e=t.$html,r=t.tradeInfo,n=t.state;e.find(".sih-rep-reviews-expand-trade").off("click").on("click",function(){var t=xr(wr().mark((function t(e){var o,i,a,s,c,l,u,f,d,h,p,v,m,y,g,_;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=(null==r||null===(o=r.secondary)||void 0===o?void 0:o.items)||(null==r||null===(i=r.items)||void 0===i?void 0:i.sent)||[],l=(null==r||null===(a=r.primary)||void 0===a?void 0:a.items)||(null==r||null===(s=r.items)||void 0===s?void 0:s.received)||[],u=c.length,f=l.length,!(u>10||f>10)){t.next=9;break}return $J(".sih-rep-all-reviews-tab").hide(),t.next=8,vr({tradeInfo:r,state:n});case 8:return t.abrupt("return");case 9:d=$J(e.currentTarget),h=d.closest(".sih-rep-reviews-trade-info-content__items"),p=ur({tradeInfo:r,state:n,owner:"partner",initialRender:!1}),v=ur({tradeInfo:r,state:n,owner:"your",initialRender:!1}),m=h.find(".sih-rep-reviews-trade-info__items").first(),y=h.find(".sih-rep-reviews-trade-info__items").last(),m.append(p),y.append(v),g=h.find(".sih-rep-reviews-trade-info__item.hidden"),_=h.find(".sih-rep-reviews-expand-trade"),g.removeClass("hidden"),_.addClass("hidden");case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},Ir=function(t){var e=t.$html,r=t.tradeInfo;e.find(".sih-rep-reviews-item__send-review-btn").off("click").on("click",function(){var t=xr(wr().mark((function t(e){var n,o;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(null==r?void 0:r.partnerMiniProfileId)||Vt(null==r||null===(n=r.profile)||void 0===n?void 0:n.steamId),Le(),t.next=4,Jn({tradeOfferId:null==r?void 0:r.tradeOfferId,accountId:o,tradeInfo:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},Er=function(t){var e=t.$html,r=t.tradeInfo;e.find(".sih-rep-reviews-item__ignore-review-btn").off("click").on("click",function(){var t=xr(wr().mark((function t(e){var n,o,i,a,s,c,l,u;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=$J(e.currentTarget),o=n.closest(".sih-rep-reviews-item"),t.next=4,k.getLocal("sihRepIgnoreList");case 4:if(i=t.sent,a=i.sihRepIgnoreList,s=void 0===a?[]:a,null!=r&&r.tradeOfferId){t.next=9;break}return t.abrupt("return");case 9:if(c=$J("#sih-rep-switcher-waiting-count"),l=+c.text(),o.remove(),u=l-1,c.text(u),0===u&&(Ne($J("#sih-rep-waiting-reviews"),"waiting"),$J("#sih-rep-waiting-reviews").find(".sih-rep-all-reviews-empty-plug").css("display","flex").fadeIn(200,(function(){}))),s.includes(r.tradeOfferId)){t.next=19;break}return s.push(r.tradeOfferId),t.next=19,k.setLocal("sihRepIgnoreList",s);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},Cr=function(t){var e=t.$html,r=t.tradeInfo;e.find(".sih-rep-reviews-item__reaction").off("click").on("click",(function(t){var e=$J(t.currentTarget),n=e.find(".sih-rep-reviews-item__reaction-count"),o=+n.text(),i=+e.attr("data-reaction-type");clearTimeout(Sr),Sr=setTimeout(xr(wr().mark((function t(){var a,s,c,l,u;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e.sendReaction({reviewId:null==r||null===(a=r.review)||void 0===a?void 0:a.id,reactionType:i});case 2:if(s=e.hasClass("active"),o+=s?-1:1,n.text(o),!s){t.next=8;break}return e.removeClass("active"),t.abrupt("return");case 8:if(!(c=e.siblings()).hasClass("active")){t.next=15;break}return l=c.find(".sih-rep-reviews-item__reaction-count"),u=+l.text()-1,l.text(u),e.addClass("active").siblings().removeClass("active"),t.abrupt("return");case 15:e.addClass("active");case 16:case"end":return t.stop()}}),t)}))),300)}))},Or=function(t){var e=t.$html,r=(t.tradeInfo,e.find(".sih-rep-reviews-item__review-info_text")),n=e.find(".sih-rep-reviews-item__review-info_expand-btn"),o=!1;n.off("click").on("click",(function(t){o=!o,r.toggleClass("overflow",!o),n.text(o?SIHLang.sih_rep.hide:SIHLang.sih_rep.show_all)}))};function Pr(t){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(t)}function $r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$r=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Pr(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Pr(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Jr(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Tr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Jr(i,n,o,a,s,"next",t)}function s(t){Jr(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Ar=function(){var t=Tr($r().mark((function t(e){var r,n,o;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$container,n=e.tradeInfo,o=e.state,t.next=3,Nr({$container:r,tradeInfo:n,state:o});case 3:$J(".sih-rep-reviews-trade-info__item").tooltip({position:{my:"left bottom-5",at:"left top"}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Nr=function(){var t=Tr($r().mark((function t(e){var r,n,o,i,a,s,c,l,u,f,d,h,p,v,m,y,g,_,w,b,x,L,k,I,E,C,O,P,$,J,T,A,N,j,H,G;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.$container,l=e.tradeInfo,u=e.state,f=null==l?void 0:l.tradeOfferId,d=S((null==l?void 0:l.partnerAvatarUrl)||(null==l||null===(r=l.profile)||void 0===r?void 0:r.avatarUrl)),h=(null==l?void 0:l.partnerName)||(null==l||null===(n=l.profile)||void 0===n?void 0:n.username)||"",p=null!=l&&null!==(o=l.review)&&void 0!==o&&o.createdAt?new Date(l.review.createdAt).toLocaleString():"","local"!==u){t.next=11;break}return t.next=8,_e.getTradesSummary(null==l?void 0:l.partnerMiniProfileId);case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0=null==l?void 0:l.items;case 12:return v=t.t0,m=v.sentCount,y=v.receivedCount,g=(null==l||null===(i=l.tradeInfo)||void 0===i?void 0:i.successAllTrades)||0,_=(null==l||null===(a=l.tradeInfo)||void 0===a?void 0:a.offerCount)||0,w=(null==l||null===(s=l.profile)||void 0===s?void 0:s.steamId)||(null==l?void 0:l.partnerIdProfile),t.t1=$J,t.t2='<div class="sih-rep-reviews-item" data-trade-id="'.concat(f,'">\n      <div class="row gap-16 w-100per">\n        <div class="sih-rep-reviews-item__rep-info column gap-8">\n          <a href="https://sihrep.com/user/').concat(w,'" target="_blank"  class="sih-rep-reviews-item__avatar">\n            <img src="').concat(d,'" alt="" />\n          </a>\n          <div class="sih-rep-reviews-item-ratings">\n\x3c!--            <span class="sih-rep-reviews-item-ratings__percent ').concat(je(g,_),'">').concat(g,'%</span>--\x3e\n            <span class="sih-rep-reviews-item-ratings__count">').concat(_,'</span>\n          </div>\n        </div>\n        <div class="sih-rep-reviews-item__trade-info sih-rep-reviews-item-trade-info">\n        <div class="row justify-between">\n          <div class="sih-rep-reviews-item__trade-user-info column gap-4">\n            <div class="row gap-4 items-center">\n               <a href="https://sihrep.com/user/').concat(w,'" target="_blank" class="sih-rep-reviews-item__user-nickname">').concat(DOMPurify.sanitize(h),'</a>\n            </div>\n\n            <div class="row gap-12">\n              <div class="row gap-4 items-center">\n                <img src="chrome-extension://').concat(SIHID,'/assets/sih-rep/sent_icon.svg" alt="">\n\n                <div class="row gap-2 items-center">\n                  <span class="text text_neutral-300 fs-14">').concat(SIHLang.sih_rep.sent_trades,':</span>\n                  <span class="text text_neutral-300 fs-14">').concat(m<=99?m:"99+",'</span>\n                </div>\n              </div>\n\n              <div class="row gap-4 items-center">\n              <img src="chrome-extension://').concat(SIHID,'/assets/sih-rep/received_icon.svg" alt="">\n\n\n                <div class="row gap-2 items-center">\n                  <span class="text text_neutral-300 fs-14">').concat(SIHLang.sih_rep.received_trades,':</span>\n                  <span class="text text_neutral-300 fs-14">').concat(y<=99?y:"99+","</span>\n                </div>\n              </div>\n            </div>\n\n          </div>\n\n          "),t.next=22,lr(l,u);case 22:t.t3=t.sent,t.t4=t.t2.concat.call(t.t2,t.t3,"\n          </div>\n        </div>\n\n      </div>\n    </div>"),b=(0,t.t1)(t.t4),null!=l&&l.review?(null!=l&&null!==(x=l.review)&&void 0!==x&&x.isVerify&&(b.find(".sih-rep-reviews-item__avatar").append('<div\n            class="sih-rep-reviews-item__review-type"\n            data-review-type="'.concat(1===(null===(T=l.review)||void 0===T?void 0:T.reviewType)?"report":1==+(null===(A=l.review)||void 0===A?void 0:A.sentiment)?"positive":2==+(null===(N=l.review)||void 0===N?void 0:N.sentiment)?"negative":"",'"\n          ></div>')),b.find(".sih-rep-reviews-item__user-nickname").after('<div class="sih-rep-reviews-item__verify-icon" title="'.concat(SIHLang.sih_rep.trade_verified,'"></div>')),b.find(".sih-rep-reviews-item__verify-icon").tooltip({position:{my:"center bottom-10",at:"center top"}})),b.find(".sih-rep-reviews-item__trade-user-info").append(' <span class="text text_neutral-300 fs-14">'.concat(p,"</span> ")),b.find(".sih-rep-reviews-item-trade-info").append('<div class="sih-rep-reviews-item__review-info">\n        <div class="sih-rep-reviews-item__review-text-wrapper">\n          <span class="sih-rep-reviews-item__review-info_text text text_white fs-14 lh-20"\n            >'.concat(DOMPurify.sanitize(null===(L=l.review)||void 0===L?void 0:L.content),' </span\n          ><span class="sih-rep-reviews-item__review-info_expand-btn text text_blue fs-14 lh-20"\n            >').concat(SIHLang.sih_rep.show_all,'</span\n          >\n        </div>\n\n        <div class="row gap-12">\n          <div\n            class="sih-rep-reviews-item-reaction-like sih-rep-reviews-item__reaction row gap-4 ').concat(null!==(k=l.review)&&void 0!==k&&null!==(I=k.social)&&void 0!==I&&I.userLiked?"active":"",'"\n            data-reaction-type="1"\n          >\n            <div class="sih-rep-reviews-item__reaction-icon like"></div>\n            <span class="sih-rep-reviews-item__reaction-count text text_neutral-300 fs-14 lh-20"\n              >').concat((null===(E=l.review)||void 0===E||null===(C=E.social)||void 0===C?void 0:C.likes)||0,'</span\n            >\n          </div>\n          <div\n            class="sih-rep-reviews-item-reaction-dislike sih-rep-reviews-item__reaction row gap-4 ').concat(null!==(O=l.review)&&void 0!==O&&null!==(P=O.social)&&void 0!==P&&P.userDisliked?"active":"",'"\n            data-reaction-type="-1"\n          >\n            <div class="sih-rep-reviews-item__reaction-icon dislike"></div>\n            <span class="sih-rep-reviews-item__reaction-count text text_neutral-300 fs-14 lh-20"\n              >').concat((null===($=l.review)||void 0===$||null===(J=$.social)||void 0===J?void 0:J.dislikes)||0,"</span\n            >\n          </div>\n        </div>\n      </div>")),j=b.find(".sih-rep-reviews-item__review-info_text"),H=b.find(".sih-rep-reviews-item__review-info_expand-btn"),G=j.text(),G.length>100?j.addClass("overflow"):H.hide()):b.find(".sih-rep-reviews-item__trade-user-info").append('<div class="sih-rep-reviews-item__buttons sih-rep-reviews-item-buttons">\n        <div\n          class="sih-rep-reviews-item__send-review-btn sih-rep-reviews-item-buttons__btn sih-rep-reviews-item-buttons__btn_active"\n        >\n          '.concat(SIHLang.sih_rep.leave_review,'\n        </div>\n        <div\n          class="sih-rep-reviews-item__ignore-review-btn sih-rep-reviews-item-buttons__btn sih-rep-reviews-item-buttons__btn_ignore"\n        ></div>\n      </div>')),De({$container:b.find(".sih-rep-reviews-item-ratings"),sihRepUserInfo:l,position:"top"}),nr({$container:b,sihRepUserInfo:l}),Lr({$html:b,tradeInfo:l,state:u}),c.append(b);case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function jr(t){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(t)}function Hr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Gr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Gr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Dr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Dr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==jr(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(jr(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Rr(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Mr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Rr(i,n,o,a,s,"next",t)}function s(t){Rr(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Fr=function(){var t=Mr(Dr().mark((function t(){return Dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur();case 2:return t.next=4,Br();case 4:return t.next=6,Ur(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ur=function(){var t=Mr(Dr().mark((function t(e){var r;return Dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=$J("#sih-rep-sending-reviews"),t.abrupt("return",new Promise((function(t){for(var n=$J(' <div class="sih-preloader-sending-reviews-list"></div> '),o=0;o<3;o++){var i=$J('<div class="sih-preloader-sending-reviews-list__item"></div>');n.append(i)}if(r.find(".sih-preloader-sending-reviews-list").length){var a=r.find(".sih-preloader-sending-reviews-list"),s=r.find(".sih-rep-reviews-item"),c=r.find(".sih-rep-all-reviews-empty-plug");e?(s.hide(),c.hide(),a.css("display","flex").fadeIn(200,(function(){a.toggleClass("active",e),t()}))):a.fadeOut(200,(function(){a.hasClass("hidden")&&a.hide(),a.toggleClass("active",e),s.length?s.css("display","flex").fadeIn(200,(function(){t()})):c.length?c.css("display","flex").fadeIn(200,(function(){t()})):t()}))}else r.append(n),n.toggleClass("active",e),t()})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Br=function(){var t=Mr(Dr().mark((function t(){var e,r,n,o,i,a,s;return Dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=$J("#sih-rep-sending-reviews"),t.prev=1,t.next=4,_e.getTradesFromController({direct:"reviews",reviewed:!0});case 4:if(null==(n=t.sent)||!n.success||null==n||null===(r=n.response)||void 0===r||!r.length){t.next=27;break}o=null==n?void 0:n.response,Vr(o.length),i=Hr(o),t.prev=9,i.s();case 11:if((a=i.n()).done){t.next=17;break}return s=a.value,t.next=15,Ar({$container:e,tradeInfo:s,state:"controller"});case 15:t.next=11;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(9),i.e(t.t0);case 22:return t.prev=22,i.f(),t.finish(22);case 25:t.next=29;break;case 27:Vr(0),Ne(e,"sending");case 29:t.next=36;break;case 31:t.prev=31,t.t1=t.catch(1),console.error(t.t1),Vr(0),Ne(e,"sending");case 36:case"end":return t.stop()}}),t,null,[[1,31],[9,19,22,25]])})));return function(){return t.apply(this,arguments)}}(),Vr=function(t){var e=$J("#sih-rep-modal .sih-rep-all-reviews-tab #sih-rep-switcher-sending-count");e.text(t),e.removeClass("preloader")};function Wr(t){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(t)}function Yr(t){return function(t){if(Array.isArray(t))return zr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Zr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Zr(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Zr(t,e){if(t){if("string"==typeof t)return zr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zr(t,e):void 0}}function zr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function qr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */qr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Wr(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Wr(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Qr(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Xr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Qr(i,n,o,a,s,"next",t)}function s(t){Qr(i,n,o,a,s,"throw",t)}a(void 0)}))}}var tn=function(){var t=Xr(qr().mark((function t(){return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,en();case 2:return t.next=4,rn();case 4:return t.next=6,en(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),en=function(){var t=Xr(qr().mark((function t(e){var r;return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=$J("#sih-rep-waiting-reviews"),t.abrupt("return",new Promise((function(t){for(var n=$J(' <div class="sih-preloader-waiting-reviews-list"></div> '),o=0;o<3;o++){var i=$J('<div class="sih-preloader-waiting-reviews-list__item"></div>');n.append(i)}if(r.find(".sih-preloader-waiting-reviews-list").length){var a=r.find(".sih-preloader-waiting-reviews-list"),s=r.find(".sih-rep-reviews-item"),c=r.find(".sih-rep-all-reviews-empty-plug");e?(s.hide(),c.hide(),a.css("display","flex").fadeIn(200,(function(){a.toggleClass("active",e),t()}))):a.fadeOut(200,(function(){a.hasClass("hidden")&&a.hide(),a.toggleClass("active",e),s.length?s.css("display","flex").fadeIn(200,(function(){t()})):c.length?c.css("display","flex").fadeIn(200,(function(){t()})):t()}))}else r.append(n),n.toggleClass("active",e),t()})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),rn=function(){var t=Xr(qr().mark((function t(){var e,r,n,o,i,a,s,c,l,u,f,d,h,p,v,m,y,g,_,w,b,x,S,L,I,E;return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=$J("#sih-rep-waiting-reviews"),t.next=3,k.getLocal("sihRepIgnoreList");case 3:return r=t.sent,n=r.sihRepIgnoreList,o=void 0===n?[]:n,t.prev=6,t.next=9,_e.getTradesFromController({direct:"all",reviewed:!1});case 9:if(null==(a=t.sent)||!a.success||null==a||null===(i=a.response)||void 0===i||!i.length){t.next=37;break}if(s=a.response,c=s.filter((function(t){return!o.includes(t.tradeOfferId)})),nn(c.length),c.length){t.next=17;break}return Ne(e,"waiting"),t.abrupt("return");case 17:l=c.sort((function(t,e){return e.timestamp-t.timestamp})),u=Kr(l),t.prev=19,u.s();case 21:if((f=u.n()).done){t.next=27;break}return d=f.value,t.next=25,Ar({$container:e,tradeInfo:d,state:"controller"});case 25:t.next=21;break;case 27:t.next=32;break;case 29:t.prev=29,t.t0=t.catch(19),u.e(t.t0);case 32:return t.prev=32,u.f(),t.finish(32);case 35:t.next=76;break;case 37:return t.next=39,_e.getHistoryTrades();case 39:return h=t.sent,p=h.tradesInfoHistory,v=h.tradesInfoSentHistory,m=[].concat(Yr(p),Yr(v)),y=m.filter((function(t){return!o.includes(t.tradeOfferId)&&(3===t.tradeOfferState||12===t.tradeOfferState)})),g=y.map((function(t){return t.tradeOfferId})),t.next=47,_e.getSendingReviews({tradeOfferIds:g});case 47:if(_=t.sent,w=y.filter((function(t){var e;if(null==_||null===(e=_.response)||void 0===e||!e[null==t?void 0:t.tradeOfferId])return t})),!(b=w.sort((function(t,e){return e.timeUpdated-t.timeUpdated}))).length){t.next=74;break}return nn(b.length),x=b.map((function(t){return null==t?void 0:t.partnerIdProfile})).filter((function(t){return t})),t.next=55,_e.getSihRepUsersInfo({steamIds:x});case 55:S=t.sent,L=Kr(b),t.prev=57,E=qr().mark((function t(){var r,n,o,i,a,s,c,l;return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=I.value,null!=S&&S.success&&null!=S&&S.response&&(Array.isArray(S.response)?(n=S.response.find((function(t){var e;return(null==t||null===(e=t.profile)||void 0===e?void 0:e.steamId)===(null==r?void 0:r.partnerIdProfile)})),r.tradeInfo=n.tradeInfo):(null==r?void 0:r.partnerIdProfile)===(null==S||null===(o=S.response)||void 0===o||null===(i=o.profile)||void 0===i?void 0:i.steamId)&&(r.tradeInfo=null==S||null===(a=S.response)||void 0===a?void 0:a.tradeInfo,r.reputation=null==S||null===(s=S.response)||void 0===s?void 0:s.reputation,r.feedback=null==S||null===(c=S.response)||void 0===c?void 0:c.feedback,r.profile=null==S||null===(l=S.response)||void 0===l?void 0:l.profile)),t.next=4,Ar({$container:e,tradeInfo:r,state:"local"});case 4:case"end":return t.stop()}}),t)})),L.s();case 60:if((I=L.n()).done){t.next=64;break}return t.delegateYield(E(),"t1",62);case 62:t.next=60;break;case 64:t.next=69;break;case 66:t.prev=66,t.t2=t.catch(57),L.e(t.t2);case 69:return t.prev=69,L.f(),t.finish(69);case 72:t.next=76;break;case 74:nn(0),Ne(e,"waiting");case 76:t.next=83;break;case 78:t.prev=78,t.t3=t.catch(6),console.error(t.t3),nn(0),Ne(e,"waiting");case 83:case"end":return t.stop()}}),t,null,[[6,78],[19,29,32,35],[57,66,69,72]])})));return function(){return t.apply(this,arguments)}}(),nn=function(t){var e=$J("#sih-rep-modal .sih-rep-all-reviews-tab #sih-rep-switcher-waiting-count");e.text(t),e.removeClass("preloader")};function on(t){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(t)}function an(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */an=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==on(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(on(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function sn(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var cn=function(){var t,e=(t=an().mark((function t(){return an().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ln(),Ae(),t.next=4,Promise.all([tn(),Fr()]);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){sn(i,n,o,a,s,"next",t)}function s(t){sn(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}(),ln=function(){try{var t=$J("#sih-rep-modal");t.length||(Se(),t=$J("#sih-rep-modal"));var e=$J('\n      <div class="sih-modal sih-global sih-rep-all-reviews-tab">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <span class="text text_white fs-20 lh-28 semi-bold">'.concat(SIHLang.sih_rep.all_reviews_title,'</span>\n          <div class="sih-rep-all-reviews-tab-switcher">\n            <label for="sih-rep-waiting" class="sih-rep-all-reviews-tab-switcher__label">\n              <input\n                type="radio"\n                name="sih-rep-all-reviews-switcher"\n                id="sih-rep-waiting"\n                class="sih-rep-all-reviews-tab-switcher__input"\n                checked\n              />\n              <label for="sih-rep-waiting" class="sih-rep-all-reviews-tab-switcher__item">\n                <span class="text text_white fs-14 semi-bold">').concat(SIHLang.sih_rep.pending,'</span>\n                <span\n                  id="sih-rep-switcher-waiting-count"\n                  class="sih-rep-all-reviews-tab-switcher__count preloader text text_neutral-300 fs-14 semi-bold"\n                  >0</span\n                >\n              </label>\n            </label>\n\n            <label for="sih-rep-sending" class="sih-rep-all-reviews-tab-switcher__label">\n              <input\n                type="radio"\n                name="sih-rep-all-reviews-switcher"\n                id="sih-rep-sending"\n                class="sih-rep-all-reviews-tab-switcher__input"\n              />\n              <label for="sih-rep-sending" class="sih-rep-all-reviews-tab-switcher__item">\n                <span class="text text_white fs-14 semi-bold">').concat(SIHLang.sih_rep.sent,'</span>\n                <span\n                  id="sih-rep-switcher-sending-count"\n                  class="sih-rep-all-reviews-tab-switcher__count preloader text text_neutral-300 fs-14 semi-bold"\n                  >0</span\n                >\n              </label>\n            </label>\n          </div>\n          <div id="sih-rep-waiting-reviews" class="sih-rep-waiting-reviews sih-rep-all-reviews-tab__content"></div>\n          <div\n            id="sih-rep-sending-reviews"\n            class="sih-rep-sending-reviews sih-rep-all-reviews-tab__content hidden"\n          ></div>\n        </div>\n      </div>\n    '));t.find(".sih-rep-all-reviews-tab").length?(t.show(),t.find(".sih-rep-all-reviews-tab").show(),$J("body").css("overflow","hidden")):(t.append(e),t.show(),t.find(".sih-rep-all-reviews-tab").show(),$J("body").css("overflow","hidden"))}catch(t){console.error(t)}};function un(t){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(t)}function fn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==un(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(un(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function dn(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function hn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){dn(i,n,o,a,s,"next",t)}function s(t){dn(i,n,o,a,s,"throw",t)}a(void 0)}))}}var pn=function(){$J(".sih-rep-success-send-review-tab__open-all-reviews-btn").on("click",hn(fn().mark((function t(){return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Le(),t.next=3,cn();case 3:case"end":return t.stop()}}),t)}))))},vn=function(t){var e=t.avatarUrl,r=t.reviewType;mn({avatarUrl:e,reviewType:r}),pn()},mn=function(t){var e=t.avatarUrl,r=t.reviewType;try{var n=$J("#sih-rep-modal");n.length||(Se(),n=$J("#sih-rep-modal"));var o=$J('\n      <div class="sih-modal sih-global sih-rep-success-send-review-tab '.concat(r,'">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-rep-success-send-review-tab__content">\n            <div class="sih-rep-success-send-review-tab__avatar">\n              <img src="').concat(e,'" alt="" />\n              <div class="sih-rep-success-send-review-tab__review-type"></div>\n            </div>\n            <div class="column gap-12 items-center">\n              <span class="text text_white semi-bold fs-20 lh-28 text-center w-320"\n                >').concat(SIHLang.sih_rep.success_send_review,'</span\n              >\n            </div>\n          </div>\n          <div class="sih-rep-success-send-review-tab__buttons sih-rep-success-send-review-tab-buttons">\n            <div\n              id="sih-rep-modal-cancel"\n              class="sih-rep-success-send-review-tab-buttons__btn sih-rep-success-send-review-tab-buttons__btn_active"\n            >\n              ').concat(SIHLang.sih_rep.close,'\n            </div>\n\n            <div\n              class="sih-rep-success-send-review-tab__open-all-reviews-btn sih-rep-success-send-review-tab-buttons__btn"\n            >\n              ').concat(SIHLang.sih_rep.all_reviews,"\n            </div>\n          </div>\n        </div>\n      </div>\n    "));n.find(".sih-rep-success-send-review-tab").length?(n.show(),n.find(".sih-rep-success-send-review-tab").show(),$J("body").css("overflow","hidden")):(n.append(o),n.show(),n.find(".sih-rep-success-send-review-tab").show(),$J("body").css("overflow","hidden"))}catch(t){console.error(t)}};function yn(t){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(t)}function gn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */gn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==yn(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(yn(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function _n(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function wn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_n(i,n,o,a,s,"next",t)}function s(t){_n(i,n,o,a,s,"throw",t)}a(void 0)}))}}var bn=null,xn=function(t){var e=t.tradeOfferId,r=t.accountId,n=t.modalState,o=t.reviewId;Sn(),kn(),Ln(),In({tradeOfferId:e,accountId:r,modalState:n,reviewId:o}),En({tradeOfferId:e,accountId:r,modalState:n,reviewId:o})},Sn=function(){$J("#sih-rep-back").off("click").on("click",function(){var t=wn(gn().mark((function t(e){return gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Le(),t.next=3,cn();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},Ln=function(){$J("#sih-review-text").off("input").on("input",(function(t){var e=$J(t.currentTarget);Tn({$textarea:e})}))},kn=function(){var t=$J("#sih-rep-modal"),e=t.find(".sih-review-choice__input"),r=t.find(".sih-review-rating"),n=t.find("#sih-rep-modal-send-review"),o=t.find("#sih-rep-modal-report-scam");e.on("change",(function(t){var e=$J(t.currentTarget).attr("data-value");r.toggleClass("hidden","report"===e),n.toggleClass("hidden","report"===e),o.toggleClass("hidden","report"!==e)}))},In=function(t){var e=t.tradeOfferId,r=t.accountId,n=t.modalState,o=t.reviewId;$J("#sih-rep-modal").on("click","#sih-rep-modal-send-review",(function(){clearTimeout(bn),bn=setTimeout(wn(gn().mark((function t(){var i,a,s,c,l,u,f,d,h;return gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=$J(".sih-review-choice__input:checked").attr("data-value"),a=$J(".sih-review-rating__input:checked").attr("data-value"),"review"!==i){t.next=29;break}if(s=$J(".sih-review-user__avatar img").attr("src"),c=Bt(r),l=$J("#sih-review-text").val(),"review"!==n){t.next=13;break}return u={sentiment:"positive"===a?1:2,steamId:c,text:DOMPurify.sanitize(l),tradeId:e},t.next=11,_e.sendReview(u);case 11:t.next=16;break;case 13:return f={reviewId:o,reviewType:0,sentiment:"positive"===a?1:2,text:DOMPurify.sanitize(l)},t.next=16,_e.editReview(f);case 16:if("review"!==n){t.next=22;break}$J(".sih-rep-single-review-tab").remove(),$J("#tradeofferid_".concat(e)).find(".sih-rep-panel").find(".sih-rep-panel__btn.".concat(a)).addClass("disabled").siblings().remove(),vn({avatarUrl:s,reviewType:a}),t.next=29;break;case 22:return(d=$J("#tradeofferid_".concat(e)).find(".sih-rep-panel")).find(".sih-rep-panel__btn").remove(),h=$J('\n              <div class="sih-rep-panel__btn '.concat(a,' disabled" data-state="').concat(a,'"></div>\n            ')),d.append(h),Le(),t.next=29,cn();case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(0),console.error(t.t0);case 34:case"end":return t.stop()}}),t,null,[[0,31]])}))),300)}))},En=function(t){var e=t.tradeOfferId,r=t.accountId,n=t.modalState,o=t.reviewId;$J("#sih-rep-modal").on("click","#sih-rep-modal-report-scam",(function(){clearTimeout(bn),bn=setTimeout(wn(gn().mark((function t(){var i,a,s,c,l,u,f;return gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"report"!==$J(".sih-review-choice__input:checked").attr("data-value")){t.next=28;break}if(i=$J(".sih-review-user__avatar img").attr("src"),a=Bt(r),s=$J("#sih-review-text").val(),"review"!==n){t.next=12;break}return c={steamId:a,text:DOMPurify.sanitize(s),tradeId:e},t.next=10,_e.sendScam(c);case 10:t.next=15;break;case 12:return l={reviewId:o,reviewType:1,text:DOMPurify.sanitize(s)},t.next=15,_e.editReview(l);case 15:if("review"!==n){t.next=21;break}$J(".sih-rep-single-review-tab").remove(),$J("#tradeofferid_".concat(e)).find(".sih-rep-panel").find(".sih-rep-panel__btn.report").addClass("disabled").siblings().remove(),vn({avatarUrl:i,reviewType:"report"}),t.next=28;break;case 21:return(u=$J("#tradeofferid_".concat(e)).find(".sih-rep-panel")).find(".sih-rep-panel__btn").remove(),f=$J(' <div class="sih-rep-panel__btn report disabled" data-state="report"></div> '),u.append(f),Le(),t.next=28,cn();case 28:t.next=33;break;case 30:t.prev=30,t.t0=t.catch(0),console.error(t.t0);case 33:case"end":return t.stop()}}),t,null,[[0,30]])}))),300)}))};function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function On(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */On=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Cn(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Cn(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Pn(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function $n(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Pn(i,n,o,a,s,"next",t)}function s(t){Pn(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Jn=function(){var t=$n(On().mark((function t(e){var r,n,o,i,a,s,c,l,u,f,d;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.currentBtnState,o=void 0===n?"positive":n,i=e.tradeOfferId,a=e.accountId,s=e.tradeInfo,c=e.modalState,l=void 0===c?"review":c,u=e.contentText,f=void 0===u?"":u,t.next=3,_e.checkPermission();case 3:if(d=t.sent,d.success){t.next=8;break}return t.next=8,new Promise(function(){var t=$n(On().mark((function t(e){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Je((function(){e()}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:return t.next=10,An({currentBtnState:o,tradeOfferId:i,accountId:a,tradeInfo:s,modalState:l,contentText:f});case 10:xn({tradeOfferId:i,accountId:a,modalState:l,reviewId:null==s||null===(r=s.review)||void 0===r?void 0:r.id});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Tn=function(t){var e=t.$textarea.val().trim();$J("#sih-rep-review-current-text-count").text(e.length);var r=e.length>=10&&e.length<=1e3;$J(".sih-rep-single-review-tab-buttons__btn").toggleClass("disabled",!r)},An=function(){var t=$n(On().mark((function t(e){var r,n,o,i,a,s,c,l,u,f,d,h,p,v,m,y;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.currentBtnState,n=e.tradeOfferId,o=e.accountId,i=e.tradeInfo,a=e.modalState,s=e.contentText,t.prev=1,(c=$J("#sih-rep-modal")).length||(Se(),c=$J("#sih-rep-modal")),t.next=6,_e.getUserInfo(o);case 6:if(l=t.sent,u=l.avatar_url,f=l.persona_name,!i||null==i||!i.items){t.next=12;break}t.t0=i.items,t.next=15;break;case 12:return t.next=14,_e.getTradesSummary(o);case 14:t.t0=t.sent;case 15:d=t.t0,h=d.sentCount,p=d.receivedCount,v=Bt(o),m=(null==i?void 0:i.tradeOfferState)||3,r=12!==m?r:"report",(y=$J('\n      <div class="sih-modal sih-global sih-rep-single-review-tab" data-trade-id="'.concat(n,'">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-rep-single-review-tab__content">\n            <div id="sih-rep-back" class="sih-rep-single-review-tab__back"></div>\n            <div class="sih-review-user">\n              <div class="row gap-12 items-center">\n                <a href="https://sihrep.com/user/').concat(v,'" target="_blank" class="sih-review-user__avatar">\n                  <img src="').concat(u,'" alt="" />\n                </a>\n                <div class="column gap-4">\n                  <a\n                    href="https://sihrep.com/user/').concat(v,'"\n                    target="_blank"\n                    class="sih-review-user__name text fs-20 semi-bold hover-opacity-8"\n                    >').concat(f,'</a\n                  >\n                  <div class="row gap-12">\n                    <div class="row gap-4 items-center">\n                      <img src="chrome-extension://').concat(SIHID,'/assets/sih-rep/sent_icon.svg" alt="" />\n\n                      <div class="row gap-2 items-center">\n                        <span class="text text_neutral-300 fs-14">').concat(SIHLang.tradeoffers.sent,':</span>\n                        <span class="text text_white semi-bold fs-14">').concat(h,'</span>\n                      </div>\n                    </div>\n\n                    <div class="row gap-4 items-center">\n                      <img src="chrome-extension://').concat(SIHID,'/assets/sih-rep/received_icon.svg" alt="" />\n\n                      <div class="row gap-2 items-center">\n                        <span class="text text_neutral-300 fs-14">').concat(SIHLang.tradeoffers.received,':</span>\n                        <span class="text text_white semi-bold fs-14">').concat(p,'</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="sih-review-choice ').concat("edit"===a&&12!==m?"hidden":"",'">\n              <label\n                for="sih-review-choice-review"\n                class="sih-review-choice__label ').concat("edit"!==a&&12===m?"disabled":"",'"\n              >\n                <input\n                  type="radio"\n                  name="sih-review-choice"\n                  id="sih-review-choice-review"\n                  class="sih-review-choice__input"\n                  data-value="review"\n                  ').concat("positive"===r||"negative"===r?"checked":"",'\n                />\n                <span class="sih-review-choice__item review row gap-8 items-center">\n                  <span class="text fs-16">').concat(SIHLang.sih_rep.review,'</span>\n                </span>\n              </label>\n\n              <label for="sih-review-choice-report" class="sih-review-choice__label">\n                <input\n                  type="radio"\n                  name="sih-review-choice"\n                  id="sih-review-choice-report"\n                  class="sih-review-choice__input"\n                  data-value="report"\n                  ').concat("report"===r?"checked":"",'\n                />\n                <span class="sih-review-choice__item report row gap-8 items-center">\n                  <span class="text fs-16">').concat(SIHLang.sih_rep.trade_refund_message,'</span>\n                </span>\n              </label>\n            </div>\n            <div class="sih-review-rating">\n              <label for="sih-review-rating-positive" class="sih-review-rating__label">\n                <input\n                  type="radio"\n                  name="sih-review-rating"\n                  id="sih-review-rating-positive"\n                  class="sih-review-rating__input"\n                  data-value="positive"\n                  ').concat("negative"!==r?"checked":"",'\n                />\n                <span class="sih-review-rating__item positive row gap-8 items-center">\n                  <span class="text fs-16">').concat(SIHLang.sih_rep.positive,'</span>\n                </span>\n              </label>\n\n              <label for="sih-review-rating-negative" class="sih-review-rating__label">\n                <input\n                  type="radio"\n                  name="sih-review-rating"\n                  id="sih-review-rating-negative"\n                  class="sih-review-rating__input"\n                  data-value="negative"\n                  ').concat("negative"===r?"checked":"",'\n                />\n                <span class="sih-review-rating__item negative row gap-8 items-center">\n                  <span class="text fs-16">').concat(SIHLang.sih_rep.negative,'</span>\n                </span>\n              </label>\n            </div>\n            <div class="column gap-8">\n              <textarea\n                id="sih-review-text"\n                class="sih-review-text"\n                placeholder="').concat(SIHLang.sih_rep.review_placeholder,'"\n              >\n').concat(DOMPurify.sanitize(s),'</textarea\n              >\n              <div class="sih-rep-single-review-tab__review-text-counter row gap-4 items-center">\n                <div class="row gap-4">\n                  <span class="text fs-12">').concat(SIHLang.sih_rep.minimum,'</span>\n                  <span class="text fs-12">').concat(10,'</span>\n                  <span class="text fs-12">').concat(SIHLang.sih_rep.characters,'.</span>\n                </div>\n                <div class="row gap-4">\n                  <span class="text fs-12">').concat(SIHLang.sih_rep.entered,':</span>\n                  <span id="sih-rep-review-current-text-count" class="text fs-12">0</span>\n                  <span class="text fs-12">/</span>\n                  <span class="text fs-12">').concat(1e3,'</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="sih-rep-single-review-tab__buttons sih-rep-single-review-tab-buttons">\n            <div class="row gap-12 items-center">\n              <div\n                id="sih-rep-modal-send-review"\n                class="sih-rep-single-review-tab-buttons__btn sih-rep-single-review-tab-buttons__btn_active disabled ').concat("report"===r?"hidden":"",'"\n              >\n                ').concat(SIHLang.sih_rep.leave_review,'\n              </div>\n              <div\n                id="sih-rep-modal-report-scam"\n                class="sih-rep-single-review-tab-buttons__btn sih-rep-single-review-tab-buttons__btn_active disabled ').concat("report"!==r?"hidden":"",'"\n              >\n                ').concat(SIHLang.sih_rep.report_refund,'\n              </div>\n              <div id="sih-rep-modal-cancel" class="sih-rep-single-review-tab-buttons__btn">\n                ').concat(SIHLang.sih_rep.cancel,"\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    "))).find(".sih-review-rating").toggleClass("hidden","report"===r),c.find(".sih-rep-single-review-tab").length?(c.show(),c.find(".sih-rep-single-review-tab").show(),$J("body").css("overflow","hidden")):(c.append(y),c.show(),c.find(".sih-rep-single-review-tab").show(),$J("body").css("overflow","hidden")),Tn({$textarea:$J("#sih-review-text")}),t.next=30;break;case 27:t.prev=27,t.t1=t.catch(1),console.error(t.t1);case 30:case"end":return t.stop()}}),t,null,[[1,27]])})));return function(e){return t.apply(this,arguments)}}();function Nn(t){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(t)}function jn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Nn(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Nn(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Hn(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var Gn=function(){Dn()},Dn=function(){$J(".sih-rep-panel").find(".sih-rep-panel__btn").on("click",function(){var t,e=(t=jn().mark((function t(e){var r,n,o,i;return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=$J(e.currentTarget),n=r.closest(".sih-rep-panel").attr("data-miniprofile-id"),o=r.attr("data-state"),i=r.closest(".tradeoffer").attr("id").replace("tradeofferid_","").trim(),t.next=6,Jn({currentBtnState:o,tradeOfferId:i,accountId:n});case 6:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Hn(i,n,o,a,s,"next",t)}function s(t){Hn(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}())};function Rn(t){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(t)}function Mn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Rn(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Rn(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Fn(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Un(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Fn(i,n,o,a,s,"next",t)}function s(t){Fn(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Bn=window.location.href.includes("sent"),Vn=function(){var t=Un(Mn().mark((function t(){return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wn();case 2:Gn();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Wn=function(){var t=Un(Mn().mark((function t(){var e,r,n,o,i,a,s,c,l,u,f,d,h,p;return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((o=$J(".tradeoffer")).length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,_e.getLastTrades();case 5:if(null!=(i=t.sent)&&i.success){t.next=8;break}return t.abrupt("return");case 8:return a=Array.from(o,(function(t){return t.id.replace("tradeofferid_","").trim()})),s=Bn?"trade_offers_sent":"trade_offers_received",c=null!==(e=null==i||null===(r=i.response)||void 0===r?void 0:r[s])&&void 0!==e?e:[],l=new Map(c.map((function(t){return[String(t.tradeofferid),t]}))),u=a.filter((function(t){var e=l.get(t);return e&&[3,12].includes(e.trade_offer_state)})),t.next=15,_e.getSendingReviews({tradeOfferIds:u});case 15:f=t.sent,d=null!==(n=null==f?void 0:f.response)&&void 0!==n?n:{},h=Array.from(o),p=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=Math.min(t+50,h.length),r=document.createDocumentFragment(),n=t;n<e;n++){var o=h[n],i=$J(o);if(!i.find(".sih-rep-panel").length){var a=o.id.replace("tradeofferid_","").trim(),s=i.find(".btn_report"),c=l.get(a),u=d[a];if(c){var f=null;if(!u&&[3,12].includes(c.trade_offer_state))f=$J('\n          <div class="sih-rep-panel" data-miniprofile-id="'.concat(c.accountid_other,'">\n            <div class="sih-rep-panel__btn positive" data-state="positive"></div>\n            <div class="sih-rep-panel__btn negative" data-state="negative"></div>\n            <div class="sih-rep-panel__btn report" data-state="report"></div>\n          </div>\n        '));else if(u){var v=1===u?"positive":2===u?"negative":3===u?"report":null;v&&(f=$J('\n            <div class="sih-rep-panel">\n              <div class="sih-rep-panel__btn '.concat(v,' disabled" data-state="').concat(v,'"></div>\n            </div>\n          ')))}f&&(f.prepend(s),r.appendChild(f[0]),i[0].appendChild(r.lastChild))}}}e<h.length&&(window.requestIdleCallback||function(t){return setTimeout(t,30)})((function(){return p(e)}))},p();case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function Yn(){$J(".tradeoffer_items.primary").after('\n    <div class="sih_spliter">\n      <div class="horizontal_line"></div>\n      <div class="arrows"></div>\n      <div class="horizontal_line"></div>\n    </div>\n  ')}function Kn(t){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kn(t)}function Zn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Zn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Kn(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Kn(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function zn(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var qn,Qn,Xn=function(){to()},to=function(){var t=$J(".tradeoffer").find(".tradeoffer_avatar"),e=Vt(g_steamID).toString(),r=Array.from(t).filter((function(t){var r=$J(t).attr("data-miniprofile");return e!==r})),n=0,o=new Map,i=function(){var t,e=(t=Zn().mark((function t(){var e,a,s,c;return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n>=r.length)){t.next=2;break}return t.abrupt("return");case 2:if(e=r.slice(n,n+50),a=e.map((function(t){return $J(t).attr("data-miniprofile")})),!(s=a.filter((function(t){return!o.has(t)}))).length){t.next=16;break}return t.prev=6,t.next=9,_e.getManyTradesSummary(s);case 9:null!=(c=t.sent)&&c.success&&s.forEach((function(t){o.set(t,c[t]||{success:!1})})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),s.forEach((function(t){return o.set(t,{success:!1})}));case 16:e.forEach((function(t){var e=$J(t).closest(".tradeoffer"),r=$J(t).attr("data-miniprofile"),n=o.get(r);if(n){var i=document.createDocumentFragment(),a=$J('\n        <div class="sih-global sih-trade-summary">\n          <div class="sih-trade-summary__row">\n            <img src="chrome-extension://'.concat(SIHID,'/assets/sih-rep/sent_icon.svg" alt="" />\n            <div class="row gap-2 items-center">\n              <span class="text text_light-grey fs-12">').concat(SIHLang.tradeoffers.sent,':</span>\n              <span class="text text_white fs-12">').concat(n.sentCount,'</span>\n            </div>\n          </div>\n          <div class="sih-trade-summary__row">\n            <img src="chrome-extension://').concat(SIHID,'/assets/sih-rep/received_icon.svg" alt="" />\n            <div class="row gap-2 items-center">\n              <span class="text text_light-grey fs-12">').concat(SIHLang.tradeoffers.received,':</span>\n              <span class="text text_white fs-12">').concat(n.receivedCount,"</span>\n            </div>\n          </div>\n        </div>\n      "));i.appendChild(a[0]),e[0].appendChild(i)}})),n+=50,(window.requestIdleCallback||function(t){return setTimeout(t,50)})(i);case 20:case"end":return t.stop()}}),t,null,[[6,13]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zn(i,n,o,a,s,"next",t)}function s(t){zn(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();i()};function eo(t){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(t)}function ro(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ro=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==eo(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(eo(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function no(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function oo(){return new Promise(function(){var t,e=(t=ro().mark((function t(e){var r;return ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return vo(),r=po(),$J(".tradeoffer").addClass("sih_tradeoffer minimized"),ho(),fo(),yo(),t.next=8,new Promise((function(t){setTimeout((function(){io(),t()}),1)}));case 8:setTimeout((function(){mo(r.size),Lo(),co(),r.autoLoadMarketPrice&&(fi(),_i()),e()}),100),$J(".filter_page").each((function(t,e){var r=$J(e);r.on("click",(function(){var t,e;t=$J('.sorting_tradeoffers_select option[value="new"]'),e=t.text(),t.prop("selected",!0),$J("#ui-id-2-button").find(".ui-selectmenu-text").text(e),setTimeout((function(){$J(".tradeoffer").fadeIn("slow"),$J(".sih_tradeoffer_footer").fadeIn("slow"),Lo()}),100);var n=po();$J(this).addClass("active").siblings().removeClass("active"),r.hasClass("full")?$J(".tradeoffer").hasClass("full")||(window.location.href.includes("history")?te("request",!0):te(),So(),uo(),ao(),so(),lo(),wo(),ce(),_o(),Yn(),Mt(),co(),ho(),fo(),n.autoLoadMarketPrice&&(fi(),_i()),n.autoLoadFloat&&Yt(),re(),bi(),bo()):r.hasClass("minimized")&&($J(".tradeoffer").hasClass("minimized")||(window.location.href.includes("history")?te("request",!0):te(),So(),uo(),ao(),so(),$J(".tradeoffer").removeClass("full"),$J(".tradeoffer").addClass("minimized"),$J(".tradeoffer_footer").addClass("minimized"),go(),Mt(),ho(),fo(),n.autoLoadMarketPrice&&(fi(),_i()),n.autoLoadFloat&&Yt(),re(),bi(),bo())),Xn(),Vn()}))})),So(),bi();case 12:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){no(i,n,o,a,s,"next",t)}function s(t){no(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}())}function io(){qn=$J(".tradeoffer").clone(!0,!0),$J(".profile_leftcol").append('<div class="tradeoffer_list"></div>'),$J(".tradeoffer_list").append(qn),$J(".profile_leftcol > .tradeoffer").remove(),$J(".profile_leftcol > .tradeoffer_rule").remove(),Qn=$J(".tradeoffer_list").html(),go()}function ao(){$J(".tradeoffer_list").remove()}function so(){$J(".profile_leftcol").append('<div class="tradeoffer_list"></div>'),$J(".tradeoffer_list").append(Qn)}function co(){$J(".offer_price").each((function(t,e){$J(e).click((function(){_i($J(this).parent().parent().parent().parent().children(".tradeoffer_item_list")),$J(this).parent().find(".icon").hasClass("reload")||$J(this).after('<a href="javascript:void(0);" class="icon reload reload-steam-price"></a>'),$J(".reload-steam-price").each((function(t,e){$J(e).click((function(t){if(!t.isDefaultPrevented()){t.preventDefault(),PriceQueue.StopQueue();var e=$J(this).parent().parent().parent().parent().children(".tradeoffer_item_list"),r=$J(this).parent().find(".steam-total-price");1===r.length&&$J(r).text(0),$J(e).find(".trade_item").each((function(t,e){$J(e).find(".p-price").children(".price_flag.original").attr("data-price","").find(".animated-background.silver").fadeIn("slow")})),_i(e,!0)}}))}))}))}))}function lo(){$J(".tradeoffer").addClass("full"),$J(".tradeoffer").removeClass("minimized"),$J(".tradeoffer_footer").removeClass("minimized")}function uo(){var t=po();$J(".filter_page").each((function(e,r){if($J(r).hasClass("active")&&(!t||!t.size||t.size)){var n=$J(r).attr("class").replace(/filter_page/g,"").replace(/active/g,"").trim();t.size=n;var o=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",o)}}))}function fo(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=po();if(!e||!e.isMarketLoaded||e.isMarketLoaded){e.isMarketLoaded=t;var r=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function ho(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=po();if(!e||!e.isMarketLoaded||e.isMarketLoaded){e.isSteamBySIHLoaded=t;var r=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function po(){var t=localStorage.getItem("SIH_TRADEOFFER_ACTIVE_MODE")||"{}";return JSON.parse(t)}function vo(){var t,e,r=window.location.pathname,n=po();t=n.size&&"minimized"!==n.size?'\n    <div class="fake-tradeoffer fake-tradeoffer-full">\n      <div class="header">\n        <div class="user">\n          <div class="row">\n            <div class="avatar"></div>\n            <div class="column">\n              <span class="text"></span>\n            </div>\n          </div>\n          <span class="text"></span>\n        </div>\n        <div class="rule">\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n          <div class="profit"></div>\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n        </div>\n        <div class="report"></div>\n      </div>\n      <div class="fake-lots">\n        <span class="text"></span>\n        <div class="row">\n          <span class="text"></span>\n          <span class="text"></span>\n          <span class="text"></span>\n        </div>\n      </div>\n      <div class="items">\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n      </div>\n      <div class="spliter">\n        <div class="line"></div>\n        <div class="circle"></div>\n        <div class="line"></div>\n      </div>\n      <div class="fake-lots">\n        <span class="text"></span>\n        <div class="row">\n          <span class="text"></span>\n          <span class="text"></span>\n          <span class="text"></span>\n        </div>\n      </div>\n      <div class="items">\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n      </div>\n      <div class="footer">\n        <div class="button"></div>\n        <div class="button"></div>\n        <div class="button"></div>\n      </div>\n    </div>\n  ':'\n    <div class="fake-tradeoffer fake-tradeoffer-minimized">\n      <div class="header">\n        <div class="user">\n          <div class="row">\n            <div class="avatar"></div>\n            <div class="column">\n              <span class="text"></span>\n              <span class="text"></span>\n              <span class="text"></span>\n            </div>\n          </div>\n        </div>\n        <div class="rule">\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n        </div>\n      </div>\n      <div class="items">\n        <div class="column">\n          <div class="row">\n            <div class="item"></div>\n            <div class="item"></div>\n            <div class="item"></div>\n            <div class="item"></div>\n          </div>\n        </div>\n        <div class="column">\n          <div class="row">\n            <div class="item"></div>\n            <div class="item"></div>\n            <div class="item"></div>\n            <div class="item"></div>\n          </div>\n        </div>\n      </div>\n      <div class="footer">\n        <div class="button"></div>\n        <div class="button"></div>\n        <div class="button"></div>\n      </div>\n    </div>\n  ',$J(".filter").after(t),e=hi(),$J(".fake-tradeoffer").css("top",e+22),r.includes("tradetopics")||r.includes("privacy")||$J(".fake-tradeoffer").show()}function mo(t){"full"===t&&($J(".filter_page").each((function(t,e){$J(e).hasClass("full")&&$J(e).addClass("active").siblings().removeClass("active")})),ao(),so(),lo(),wo(),_o(),Yn(),setTimeout((function(){ce()}),50)),bo(),setTimeout((function(){$J(".fake-tradeoffer").fadeOut("slow"),$J(".tradeoffer").fadeIn("slow"),$J(".sih_tradeoffer_footer").fadeIn("slow")}),300)}function yo(){$J(".tradeoffer").prepend('<div class="sih_tradeoffer_header"></div>'),$J(".sih_tradeoffer_header").append('<div class="sih_user"></div>'),$J(".tradeoffer").each((function(t,e){var r=$J(e).find(".btn_report"),n=$J(e).find(".sih-rep-panel");r.prependTo(n)})),$J(".tradeoffer").each((function(t,e){var r=$J(e).find(".tradeoffer_footer");$J(r).each((function(t,r){var n=$J(r).contents().filter((function(){return 3===this.nodeType}))[1].nodeValue;$J(e).find(".sih_user").append('<span class="tradeoffer_expiries text text_tiny">'.concat(n,"</span>"))}))}))}function go(){$J(".tradeoffer").each((function(t,e){$J(e).find(".sih_user").append('<div class="sih_user_row"></div>');var r=$J(e).find(".sih_user_row"),n=$J(e).find(".tradeoffer_partner"),o=$J(e).find(".tradeoffer_header");n.appendTo(r),o.appendTo(r);var i=$J(e).find(".tradeoffer_expiries");$J(i).appendTo(o)})),ce(),$J(".sih_tradeoffer").each((function(t,e){var r=$J(e).find(".btn_report");if(1===r.length){var n=r.attr("onclick").match(/'(\d*)',\s"(.+)"/)[2],o=n.match(/\\u[\w\d]{4}/g);$J(e).find(".tradeoffer_header").prepend('<span class="text">'.concat(o?mi(n,o):n,"</span>"))}})),$J(location).attr("href").includes("sent")||$J(".tradeoffer_header").each((function(t,e){$J(e).contents().filter((function(){return 3===this.nodeType})).remove()})),$J(".sih_tradeoffer.minimized").find(".tradeoffer_header").each((function(t,e){var r=$J(e).parent().parent().parent().parent().find(".tradeoffer_message");1===r.length&&$J(e).prepend('<div class="text text_tiny text_italic text_blue message-controller">'.concat(SIHLang.tradeoffers.show_message,"</div>")),$J(e).find(".message-controller").click((function(){var t=$J(this);r.toggleClass("show"),r.hasClass("show")?t.text("".concat(SIHLang.tradeoffers.hide_message)):t.text("".concat(SIHLang.tradeoffers.show_message))}))})),ae(),$J(".tradeoffer.minimized").each((function(t,e){var r=$J(e),n=r.find(".tradeoffer_items_banner"),o=r.find("div.tradeoffer_footer_actions"),i=r.find(".sih_tradeoffer_footer");1===n.length&&(n.remove(),r.addClass("history"),i.addClass("history"),i.append(n),o.length&&(r.addClass("high-footer"),i.addClass("high-footer")))}))}function _o(){$J(".tradeoffer_item_list").each((function(t,e){$J(e).find(".trade_item").hasClass("trade_item")||$J(e).parent().find(".tradeoffer_items_header").find(".row").remove()}))}function wo(){$J(".tradeoffer").each((function(t,e){var r=$J(e).find(".sih_user");$J(r).append('<div class="sih_user_row"></div>');var n=$J(e).find(".sih_user_row"),o=$J(e).find(".tradeoffer_partner"),i=$J(e).find(".tradeoffer_header");$J(o).appendTo(n),$J(i).appendTo(n)}))}function bo(){var t=$J(location).attr("pathname");$J(".tradeoffer").each((function(e,r){var n=$J(r).find(".sih_user_row");if(t.includes("sent")){var o=$J(r).find(".tradeoffer_avatar");$J(o[1]).hasClass("tiny")&&$J(o[1]).removeClass("tiny"),$J(o[1]).prependTo(n)}}))}function xo(){var t=0,e=[];return($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).find(".tradeoffer_item_list").each((function(r,n){if(0===$J(n).find(".trade_item").length)t=0,e.push(t);else{t=0;var o=new RegExp("[0-9]*[.,]?[0-9]+");$J(n).children(".trade_item").find(".price_flag").each((function(e,r){var n=$J(r).attr("class").replace(/price_flag /g,"").replace(/default/g,"").trim();if(["avanmarket","bitskins","buff163","csdeal","csfloat","marketcsgocom","cs.money store","cs_trade","dmarket","gamerpay","haloskins","igxe","lisskins","loot_farm","mannco","rustskins","shadowpay","sihmarket","skinbaron","skinout","skinplace","skinport","skinsmonkey","steamanalyst","tradeit","waxpeer","whitemarket","steam"].some((function(t){return n===t}))){var i=$J(r).data("price");i=i.match(o),t+=Number(i)}})),e.push(t.toFixed(2))}})),e}function So(){setTimeout((function(){$J(".tradeoffer").each((function(t,e){1===$J(e).find(".tradeoffer_items_banner").length&&$J(e).append('<div class="sih_inactive"></div>')})),$J(".tradeoffer").mouseenter((function(){$J(this).find(".sih_inactive").css("opacity",0),$J(this).find(".tradeoffer_items_ctn").removeClass("inactive"),$J(this).find(".sih_tradeoffer_items_ctn").css("z-index",6),$J(this).find(".sih_user").css("z-index",6),$J(this).find(".sih_tradeoffer_items_rule").css("z-index",7)})),$J(".tradeoffer").mouseleave((function(){$J(this).find(".sih_inactive").css("opacity",.5),$J(this).find(".sih_tradeoffer_items_ctn").css("z-index",0),$J(this).find(".sih_user").css("z-index",0),$J(this).find(".sih_tradeoffer_items_rule").css("z-index",0)}))}),100)}function Lo(){var t=$J(".profile_leftcol"),e=t.find(".tradeoffers_view_more");t.find(".tradeoffer_list").after(e)}var ko=function(){Io(),Ft()},Io=function(){var t=$J(".sih_filter"),e=$J('\n    <div class="filter__group-btn sih-group-btn">\n      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M11.9853 5L20.9705 9.98528L11.9853 15L3 9.98528L11.9853 5Z" fill="white" />\n        <path\n          fill-rule="evenodd"\n          clip-rule="evenodd"\n          d="M4.79706 13L3 13.9971L11.9853 19.0118L20.9705 13.9971L19.1735 13L11.9853 17.0118L4.79706 13Z"\n          fill="white"\n        />\n      </svg>\n      <span class="text">'.concat(SIHLang.inventory.title8,"</span>\n    </div>\n  "));t.find(".sih-group-btn").length||t.find(".filter_price").after(e)};function Eo(t){return function(t){if(Array.isArray(t))return Co(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Co(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Co(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Co(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Oo(){var t,e,r=ci();t=$J(".sih_filter"),e='\n    <div class="filter_price">\n      <select id="filter_price_select" class="filter_price_select"></select>\n    </div>\n  ',t.find(".filter--left-side").append(e),[].concat(Eo(window.ExternalPrices[730].apis),Eo(window.ExternalPrices[252490].apis.filter((function(t){return"rustskins"===t.nameForApi})))).sort((function(t,e){return t.sort-e.sort})).forEach((function(t){var e=window.PROVIDERS_LIST.find((function(e){return e.id===t.name.toLowerCase()}));e&&$J(".filter_price_select").append('<option class="filter_price_option '.concat(t.name.toLowerCase(),'"><span>').concat("steam"===t.name.toLowerCase()?"Steam (bySIH)":e.title,"</span></option>"))})),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(t,e){var r=$J("<li>",{class:e.element.attr("class"),value:e.element.attr("value")}),n=$J("<div>",{text:e.label});return e.disabled&&r.addClass("ui-state-disabled"),r.append(n).appendTo(t)}}),$J(".filter_price_select").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(t,e){$J(this).css(t),$J(this).addClass("filter_price_widget_content"),Po();var r=$J(e.element.element);r.off("mouseleave").on("mouseleave",(function(){r.find(".ui-state-active").removeClass("ui-state-active")}))}}}),$o(r.market),Po(r.market),$J("#filter_price_select-button").click((function(){var t=ci();$J(".filter_price_widget_content").find(".filter_price_option").each((function(e,r){$J(r).off("click").click((function(){var e=$J(this).attr("class").replace(/ui-menu-item|filter_price_option/g,"").trim();$o(e),Po(e),"steam"===e&&ho(),t.autoLoadMarketPrice&&(fo(),fi(),setTimeout((function(){Vo(e)}),100))}))}))}))}function Po(t){var e=ci();setTimeout((function(){$J("#filter_price_select-button").find(".ui-selectmenu-text").addClass(t||(null==e?void 0:e.market)||"steam")}),1)}function $o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"steam",e=ci();if(!e||!e.market||e.market){e.market=t;var r=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function Jo(){var t,e;t=$J(".sih_filter"),e='\n    <div class="sorting_tradeoffers">\n      <select id="sorting_tradeoffers_select" class="sorting_tradeoffers_select">\n        <option class="sorting_tradeoffers_option" value="new"><span>'.concat(SIHLang.tradeoffers.filter.sort.time_new,'</span></option>\n        <option class="sorting_tradeoffers_option" value="old"><span>').concat(SIHLang.tradeoffers.filter.sort.time_old,'</span></option>\n        <option class="sorting_tradeoffers_option" value="profit_desc"><span>').concat(SIHLang.tradeoffers.filter.sort.profit_desc,'</span></option>\n        <option class="sorting_tradeoffers_option" value="profit_asc"><span>').concat(SIHLang.tradeoffers.filter.sort.profit_asc,'</span></option>\n        <option class="sorting_tradeoffers_option" value="name_asc"><span>').concat(SIHLang.tradeoffers.filter.sort.name_asc,'</span></option>\n        <option class="sorting_tradeoffers_option" value="name_desc"><span>').concat(SIHLang.tradeoffers.filter.sort.name_desc,"</span></option>\n      </select>\n    </div>\n  "),t.find(".filter_load-price").before(e),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(t,e){var r=$J("<li>",{class:e.element.attr("class"),value:e.element.attr("value")}),n=$J("<div>",{text:e.label});return e.disabled&&r.addClass("ui-state-disabled"),Do()||"profit_desc"!==e.value&&"profit_asc"!==e.value||n.append('<span class="sih_need-load-price">'.concat(SIHLang.tradeoffers.filter.sort.price_request,"</span>")),r.append(n).appendTo(t)}}),$J(".sorting_tradeoffers_select").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(t,e){$J(this).css(t),$J(this).addClass("sorting_tradeoffers_widget_content");var r=$J(e.element.element);r.off("mouseleave").on("mouseleave",(function(){r.find(".ui-state-active").removeClass("ui-state-active")}))}}}),function(){var t=$J(".sih_filter"),e=t.find("#sorting_tradeoffers_select-button");e.click((function(){$J(".sorting_tradeoffers_widget_content").find(".sorting_tradeoffers_option").each((function(t,e){var r=$J(e),n=Do();"profit_desc"!==r.attr("value")&&"profit_asc"!==r.attr("value")||(n?r.find(".sih_need-load-price").remove():0===r.find(".sih_need-load-price").length&&r.find(".ui-menu-item-wrapper").append('<span class="sih_need-load-price">'.concat(SIHLang.tradeoffers.filter.sort.price_request,"</span>"))),r.off("click").click((function(){switch($J(this).attr("value")){case"new":To(-1);break;case"old":To(1);break;case"profit_desc":Ao(-1);break;case"profit_asc":Ao(1);break;case"name_asc":window.location.href.includes("sent")?jo(1):No(1);break;case"name_desc":window.location.href.includes("sent")?jo(-1):No(-1)}}))}))}))}()}function To(t){var e="lite"!==ci().mode?$J(".tradeoffer_list"):$J(".profile_leftcol"),r=e.find(".tradeoffer");r.sort((function(e,r){var n=$J(e).attr("id").substring(13)||0,o=$J(r).attr("id").substring(13)||0;return Number(n)>Number(o)?1*t:Number(n)<Number(o)?-1*t:0})),r.detach().appendTo(e)}function Ao(t){var e=ci(),r="lite"!==e.mode?$J(".tradeoffer_list"):$J(".profile_leftcol"),n=r.find(".tradeoffer");if(Do()||e.isMarketLoaded||e.isSteamBySIHLoaded)n.sort((function(e,r){var n=$J(e).find(".sih_tradeoffer_items_rule_percent"),o=$J(r).find(".sih_tradeoffer_items_rule_percent"),i=(n.hasClass("lose")?-n.attr("data-profit-percent"):+n.attr("data-profit-percent"))||0,a=(o.hasClass("lose")?-o.attr("data-profit-percent"):+o.attr("data-profit-percent"))||0;return i>a?1*t:i<a?-1*t:0})),n.detach().appendTo(r);else{!e.autoLoadMarketPrice&&window.location.href.includes("history")&&(n.length>10&&(n.length=10),n.each((function(t,e){$J(e).addClass("active_single_trade single_price_loaded")}))),e.autoLoadMarketPrice||$J(".tradeoffer").removeClass("active_single_trade single_price_loaded"),ho(),fo(),fi(),_i();var o=setInterval((function(){var e=ci();e.isMarketLoaded&&e.isSteamBySIHLoaded&&"steam"!==e.market&&(clearInterval(o),setTimeout((function(){return Ao(t)}),300)),e.isSteamBySIHLoaded&&"steam"===e.market&&(clearInterval(o),setTimeout((function(){return Ao(t)}),300))}),100)}}function No(t){var e="lite"!==ci().mode?$J(".tradeoffer_list"):$J(".profile_leftcol"),r=e.find(".tradeoffer");r.sort((function(e,r){var n=$J(e).find(".btn_report"),o=$J(r).find(".btn_report"),i=Ho(n),a=Ho(o);return 1===t?i.toUpperCase().localeCompare(a.toUpperCase()):a.toUpperCase().localeCompare(i.toUpperCase())})),r.detach().appendTo(e)}function jo(t){var e=ci().mode,r="lite"!==e?$J(".tradeoffer_list"):$J(".profile_leftcol"),n=r.find(".tradeoffer");n.sort((function(r,n){var o="lite"!==e?$J(r).find(".tradeoffer_items.secondary .sih_lot"):$J(r).find(".tradeoffer_items.secondary .tradeoffer_items_header"),i="lite"!==e?$J(n).find(".tradeoffer_items.secondary .sih_lot"):$J(n).find(".tradeoffer_items.secondary .tradeoffer_items_header"),a=Go(o),s=Go(i);return 1===t?a.toUpperCase().localeCompare(s.toUpperCase()):s.toUpperCase().localeCompare(a.toUpperCase())})),n.detach().appendTo(r)}function Ho(t){if(1===t.length){var e=t.attr("onclick").match(/'(\d*)',\s"(.+)"/)[2],r=e.match(/\\u[\w\d]{4}/g);return r?mi(e,r):e}}function Go(t){if(1===t.length)return t.contents()[0].data}function Do(){var t=$J(".sih_tradeoffer"),e=!1;return t.find(".sih_tradeoffer_items_rule_percent").each((function(t,r){$J(r).attr("data-profit-percent")&&(e=!0)})),e}function Ro(t){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(t)}function Mo(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Ro(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ro(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ro(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fo(t){var e,r;e=t,($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each((function(t,r){$J(r).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each((function(t,r){if(0!==$J(r).children(".tradeoffer_item_list").find(".trade_item").length){var n=[],o=$J(r).find(".price_flag");$J(o).each((function(t,e){if(!$J(e).hasClass("original")){var r=$J(e).attr("class").replace(/price_flag /g,"").replace(/default/g,"");0!==n.length&&n.includes(r)||n.push(r)}}));var i=$J(r).find(".sih_lot_item");$J(i).each((function(t,r){1===t&&($J(r).find(".icon").remove(),$J(n).each((function(t,n){e.toLowerCase()===n?$J(r).append('<span class="icon '.concat(n,'"></span>')):$J(r).prepend('<span class="icon '.concat(n,'"></span>'))})))}))}}))})),function(t){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each((function(e,r){var n=[];$J(r).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each((function(e,o){if(0!==$J(o).children(".tradeoffer_item_list").find(".trade_item").length){var i=$J(o).find(".price_flag");$J(i).each((function(t,e){if(!$J(e).hasClass("original")){var r=$J(e).attr("class").replace(/price_flag /g,"").replace(/default/g,"");0!==n.length&&n.includes(r)||n.push(r)}}));var a=$J(r).find(".sih_tradeoffer_items_rule_price");$J(a).each((function(r,o){e===r&&($J(o).find(".icon").remove(),$J(n).each((function(e,r){t.toLowerCase()===r?$J(o).children(".row").children(".icons").append('<span class="icon '.concat(n[e],'"></span>')):$J(o).children(".row").children(".icons").prepend('<span class="icon '.concat(n[e],'"></span>'))})))}))}}))}))}(t),r=xo(),($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).find(".sih_tradeoffer_items_rule_price").each((function(t,e){$J(e).find(".rule_total_price").remove();var n=_.A.getCurrency(currencyId),o=Number(r[t]).toLocaleString("ru-RU").replace(/,/,".").trim().split(".");$J(e).children(".row").append('<div class="rule_total_price" data-total-price="'.concat(r[t],'">\n          <span class="text">').concat(o[0],"</span>\n        </div>")),o.length>1&&$J(e).children(".row").find(".rule_total_price").append('<span class="text text_light">.'.concat(o[1],"</span>")),n.bSymbolIsPrefix?$J(e).children(".row").find(".rule_total_price").prepend('<span class="text">'.concat(n.strSymbol," </span>")):$J(e).children(".row").find(".rule_total_price").append('<span class="text"> '.concat(n.strSymbol,"</span>"))})),function(){var t=xo();($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).find(".sih_lot").each((function(e,r){0!==$J(r).parent().find(".trade_item").length&&$J(r).find(".sih_lot_item").each((function(r,n){if(1===r){$J(n).find(".text").remove();var o=_.A.getPriceFromCurrency(Number(t[e]),currencyId,currencyId).text;$J(n).append('<span class="text">'.concat(o,"</span>"))}}))}))}(),($J(".sih_tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each((function(t,e){var r,n=[];$J(e).find(".rule_total_price").each((function(t,e){var r=$J(e).data().totalPrice;n.push(Number(r))}));var o=$J(e).find(".sih_tradeoffer_items_rule_percent");if($J(o).find(".text").remove(),$J(o).hasClass("normal")?$J(o).removeClass("normal"):$J(o).hasClass("profit")?$J(o).removeClass("profit"):$J(o).hasClass("lose")&&$J(o).removeClass("lose"),$J(location).attr("href").includes("sent"))if(0===n[0]&&0===n[1])$J(o).prepend('<span class="text rule-percent">0</span>'),$J(o).attr("data-profit-price","0"),$J(o).attr("data-profit-percent","0");else if(0===n[0]){r=100,o.addClass("profit"),$J(o).prepend('<span class="text rule-percent">'.concat(Math.abs(r),"%</span>"));var i=_.A.getPriceFromCurrency(Number(n[1]),currencyId,currencyId).text;$J(o).attr("data-profit-price","".concat(i)),$J(o).attr("data-profit-percent","".concat(Math.abs(r)))}else if(0===n[1]){r=-100,o.addClass("lose"),$J(o).prepend('<span class="text rule-percent">'.concat(Math.abs(r),"%</span>"));var a=_.A.getPriceFromCurrency(Number(n[0]),currencyId,currencyId).text;$J(o).attr("data-profit-price","-".concat(a)),$J(o).attr("data-profit-percent","".concat(Math.abs(r)))}else{r=100*n[1]/n[0]-100,$J(o).prepend('<span class="text rule-percent">'.concat(Math.abs(r.toFixed(2)),"%</span>"));var s=_.A.getPriceFromCurrency(Number((n[1]-n[0]).toFixed(2)),currencyId,currencyId).text;$J(o).attr("data-profit-price","".concat(s)),$J(o).attr("data-profit-percent","".concat(Math.abs(r))),r>3?($J(o).find(".text").text("".concat(Math.abs(r.toFixed(2)),"%")),$J(o).attr("data-profit-percent","".concat(Math.abs(r))),$J(o).addClass("profit")):r<-3?$J(o).addClass("lose"):r>-3&&r<3&&$J(o).addClass("normal")}else if(0===n[0]&&0===n[1])$J(o).prepend('<span class="text rule-percent">0</span>'),$J(o).attr("data-profit-price","0"),$J(o).attr("data-profit-percent","0");else if(0===n[1]){r=100,o.addClass("profit"),$J(o).prepend('<span class="text rule-percent">'.concat(Math.abs(r),"%</span>"));var c=_.A.getPriceFromCurrency(Number(n[0]),currencyId,currencyId).text;$J(o).attr("data-profit-price","".concat(c)),$J(o).attr("data-profit-percent","".concat(Math.abs(r)))}else if(0===n[0]){r=-100,o.addClass("lose"),$J(o).prepend('<span class="text rule-percent">'.concat(Math.abs(r),"%</span>"));var l=_.A.getPriceFromCurrency(Number(n[1]),currencyId,currencyId).text;$J(o).attr("data-profit-price","-".concat(l)),$J(o).attr("data-profit-percent","".concat(Math.abs(r)))}else{r=100*n[0]/n[1]-100,$J(o).prepend('<span class="text rule-percent">'.concat(Math.abs(r.toFixed(2)),"%</span>"));var u=_.A.getPriceFromCurrency(Number((n[0]-n[1]).toFixed(2)),currencyId,currencyId).text;$J(o).attr("data-profit-price","".concat(u)),$J(o).attr("data-profit-percent","".concat(Math.abs(r))),r>3?($J(o).find(".text").text("".concat(Math.abs(r.toFixed(2)),"%")),$J(o).addClass("profit")):r<-3?$J(o).addClass("lose"):r>-3&&r<3&&$J(o).addClass("normal")}})),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"steam",e=$J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer"),r=new RegExp("[0-9]*[.,]?[0-9]+");e.each((function(e,n){$J(n).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each((function(e,o){var i={};if(0!==$J(o).children(".tradeoffer_item_list").find(".trade_item").length){var a=$J(o).find(".price_flag");$J(a).each((function(t,e){var n=$J(e).attr("class").replace(/price_flag /g,"").replace(/default/g,"").trim(),o=["avanmarket","bitskins","buff163","csdeal","csfloat","marketcsgocom","cs.money store","cs_trade","dmarket","gamerpay","haloskins","igxe","lisskins","loot_farm","mannco","rustskins","shadowpay","sihmarket","skinbaron","skinout","skinplace","skinport","skinsmonkey","steamanalyst","tradeit","waxpeer","whitemarket","steam"].some((function(t){return n===t}));if(o){var a=e.dataset.price.match(r);i[n]?(i[n].price+=Number(a),i[n].count++):i=Object.assign(i,Mo({},n,{price:Number(a),count:1}))}}));var s=$J(n).find(".sih_tradeoffer_items_rule_price");$J(s).each((function(r,n){if(e===r){$J(n).find(".tooltip").remove(),$J(n).append('\n                <div class="tooltip">\n                  <div class="tooltip-title">'.concat(SIHLang.tradeoffers.cost,'</div>\n                  <div class="tooltip-column"></div>\n                </div>\n              '));var o=$J(n).find(".tooltip .tooltip-column");for(var a in i){var s=_.A.getPriceFromCurrency(Number(i[a].price.toFixed(2)),currencyId,currencyId).text;a===t?o.prepend('<div class="tooltip-row">\n                      <span>'.concat(SIHLang.tradeoffers.items," ").concat(i[a].count,'</span> <span class="icon ').concat(a,'"></span\n                      ><span>').concat(s,"</span>\n                    </div>")):o.append('<div class="tooltip-row">\n                      <span>'.concat(SIHLang.tradeoffers.items," ").concat(i[a].count,'</span> <span class="icon ').concat(a,'"></span\n                      ><span>').concat(s,"</span>\n                    </div>"))}}}))}}))}))}(t),($J(".sih_tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each((function(t,e){var r,n=$J(e).find(".sih_tradeoffer_items_rule_percent");n.find(".profit_info").remove(),r=$J(n[0]).data()?n[0].dataset.profitPrice:0,n.hasClass("profit")?n.append('<span class="profit_info">+'.concat(r,"</span>")):n.append('<span class="profit_info">'.concat(r,"</span>"))})),($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each((function(t,e){var r,n=$J(e).find(".sih_tradeoffer_items_rule_percent"),o=$J(e).find(".accept_trade");o.find(".profit-price").remove(),r=$J(n[0]).data()?n[0].dataset.profitPrice:0,n.hasClass("profit")?o.append('<span class="profit-price profit">+'.concat(r,"</span>")):o.append('<span class="profit-price lose">'.concat(r,"</span>"))})),te("reload")}function Uo(){var t,e=ci();!function(){var t=$J(location).attr("href"),e=ci(),r='\n    <div class="sih_filter filter  '.concat("lite"===e.mode?"absolute":"",'">\n      <div class="filter_column">\n        ').concat("lite"!==e.mode?'\n           <div class="filter_row">\n                <span class="text text_bold"> '.concat(t.includes("sent")?SIHLang.tradeoffers.filter.title_sent:SIHLang.tradeoffers.filter.title_incoming,"</span>\n           </div>\n        "):"",'\n\n        <div class="filter_row filter_row--between">\n          <div class="filter_row filter--left-side"></div>\n\n          ').concat("lite"!==e.mode?'<div class="filter_row">\n             <button class="filter_page minimized active">\n              <svg width="17" height="14" viewBox="0 0 17 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M0 0V2H17V0H0ZM0 6H17V4H0V6ZM0 14H17V12H0V14ZM0 10H17V8H0V10Z" fill="white"/>\n              </svg>\n            </button>\n            <button class="filter_page full">\n              <svg width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M0 0H18V6H0V0ZM0 8H18V14H0V8Z" fill="white"/>\n              </svg>\n            </button>\n          </div>':"","\n        </div>\n      </div>\n    </div>\n  ");t.match("privacy")||t.includes("tradetopics")||("lite"!==e.mode?$J(".profile_leftcol").prepend(r):$J(".profile_small_header_texture").append(r))}(),Oo(),Xt(),Jo(),ko(),t=hi(),$J(".filter").height(t+10),function(){var t=ci();if(!t.markets||t.markets){var e=["avanmarket","bitskins","buff163","csdeal","csfloat","marketcsgocom","cs.money store","cs_trade","dmarket","gamerpay","haloskins","igxe","lisskins","loot_farm","mannco","rustskins","shadowpay","sihmarket","skinbaron","skinout","skinplace","skinport","skinsmonkey","steamanalyst","tradeit","waxpeer","whitemarket","steam"];t.markets=e||[];var r=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}(),Bo(e.autoLoadMarketPrice)}function Bo(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=ci();if(!e||!e.autoLoadMarketPrice||e.autoLoadMarketPrice){e.autoLoadMarketPrice=t;var r=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function Vo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={};ai().find(".trade_item").each((function(e,n){n.rgItem&&ExternalPrices[n.rgItem.appid]&&(r=Object.assign(r,ExternalPrices[n.rgItem.appid].apis.find((function(e){return e.name.toLowerCase()===t}))),Object.keys(r).length||(r=Object.assign(r,ExternalPrices[730].apis.find((function(e){return e.name.toLowerCase()===t}))),Object.keys(r).length||(r=Object.assign(r,ExternalPrices[252490].apis.find((function(e){return e.name.toLowerCase()===t}))))))})),_i(null,!1,!0,r,e)}function Wo(t){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(t)}function Yo(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ko(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ko(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Ko(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Zo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zo(Object(r),!0).forEach((function(e){qo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function qo(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Wo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wo(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Qo,Xo={},ti=10,ei=0,ri=[];function ni(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=ai();t?(e.length=t,e.addClass("single_price_loaded active_single_trade"),Qo=e.find(".trade_item").length):Qo=e.find(".trade_item").length}function oi(t,e,r,n){ei++;var o=0,i=1;if(e){if(t.rgItem=zo(zo({},e),{},{prefix:r}),$J(t).addClass("app".concat(t.rgItem.appid)),730==+t.rgItem.appid){var a,s=Yo(t.rgItem.descriptions);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.value.includes("sticker_info")){var l=c.value,u=$J.parseHTML(l);o=$J(u[1]).find("img").length;var f='<div class="sih_trade_item_sticker">\n                            <span>'.concat(o,"</span>\n                         </div>");$J(t).append(f)}}}catch(t){s.e(t)}finally{s.f()}}var d=t.rgItem.appid;0!==ri.length&&ri.includes(d)||ri.push(d);var h=$J(".tradeoffer.active_single_trade");if(h.length>=1){var p=[];h.each((function(t,e){var r=$J(e);ri.forEach((function(t){0!==r.find("div.item.app".concat(t)).length&&(p.includes(t)||p.push(t))}))})),ri=p}ei===Qo&&(n.name&&"steam"===n.name.toLowerCase()?$J(ri).each((function(t,e){n.nameForApi="steamLiveSell",MarketplaceSource.GetPrices(e,{market:n.name,currencies:[],nameMarkerForApi:n.nameForApi,marketSort:n.sort},!1,(function(){if(i!==ri.length)i++;else{var t=ci();t.isSteamBySIHLoaded=!0,li(t)}}),!0)})):$J(ri).each((function(t,e){MarketplaceSource.GetPrices(e,{market:n.name,currencies:[],nameMarkerForApi:n.nameForApi,marketSort:n.sort},!1,(function(){if(i!==ri.length)i++;else{var t=ci();t.isMarketLoaded=!0,li(t)}}),!0)})))}}function ii(){return["avanmarket","bitskins","buff163","csdeal","csfloat","marketcsgocom","cs.money store","cs_trade","dmarket","gamerpay","haloskins","igxe","lisskins","loot_farm","mannco","rustskins","shadowpay","sihmarket","skinbaron","skinout","skinplace","skinport","skinsmonkey","steamanalyst","tradeit","waxpeer","whitemarket","steam"]}function ai(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t)return Qo=t.find(".trade_item").length,t;var e=$J(".tradeoffer.single_price_loaded");if(0===e.length){var r=$J(".tradeoffer");return Qo=r.find(".trade_item").length,r}return Qo=e.find(".trade_item").length,e}function si(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;if(t.rgItem)r?oi(t,t.rgItem,t.rgItem.prefix,n):(t.inited=!0,gi(t.rgItem.prefix,t.rgItem,t));else{var o=e.split("/");if(5===o.length&&o.pop(),3==o.length||4==o.length){r||(t.inited=!0);var i=null,a=o[0];if("classinfo"==a){i="economy/itemclasshover/"+(a=o[1])+"/"+o[2]+"/"+(o.length>3?o[3]:0),i+="?content_only=1&l=english"}else{var s=o[1],c=o[2];if(null!=Xo[a+"/"+s+"/"+c])return;i="economy/itemhover/"+a+"/"+s+"/"+c;if(i+="?content_only=1&omit_owner=1&l=english",4==o.length&&o[3]){var l=o[3];0==l.indexOf("id:")?i+="&o_url="+l.substr(3):i+="&o="+l}}$J.ajax({url:window.location.protocol+"//steamcommunity.com/"+i,cache:!0,data:{l:"english"}}).done((function(e){var o=/BuildHover\( '(.*)', (.*)\);/i.exec(e);if(null!==o){var i=o[1],a=JSON.parse(o[2]);r?oi(t,a,i,n):gi(i,a,t)}})).error((function(e){oi(t,null,null,n)}))}}}function ci(){var t=localStorage.getItem("SIH_TRADEOFFER_ACTIVE_MODE")||"{}";return JSON.parse(t)}function li(t){var e=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",e)}function ui(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=t?ai(t):ai();setTimeout((function(){e.find(".animated-background").fadeOut(),e.find(".animated-background-profit").fadeOut(),e.find(".p-price").show(),e.find(".rule_total_price").css("opacity",1),e.find(".icons").css("opacity",1),e.find(".sih_tradeoffer_items_rule_percent span").css("opacity",1),e.find(".sih_lot_item").each((function(t,e){$J(e).children(".icon").css("opacity",1),$J(e).children(".text").css("opacity",1)}))}),500)}function fi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=t?ai(t):ai();window.location.href.includes("history")&&e.length>ti&&(e.length=ti),e.hasClass("lite")||(e.find(".animated-background").fadeIn(),e.find(".animated-background-profit").fadeIn()),e.find(".p-price").hide(),e.find(".sih_tradeoffer_items_rule_percent span").height(50),e.find(".sih_tradeoffer_items_rule_percent span").css("opacity",0),e.find(".rule_total_price").css("opacity",0),e.find(".icons").css("opacity",0),e.find(".sih_lot_item").each((function(t,e){$J(e).children(".icon").css("opacity",0),$J(e).children(".text").css("opacity",0)}))}function di(){ai().each((function(t,e){var r=$J(e).find(".sih_tradeoffer_items_rule_percent");r[0]&&"100"===r[0].dataset.profitPercent&&r.hasClass("profit")?$J(e).addClass("profit"):$J(e).removeClass("profit")}))}function hi(){var t;return $J(".rightcol_controls_content").each((function(e,r){0===e&&(t=$J(r).outerHeight())})),t}function pi(){var t=window.location.href,e=$J("body").prop("outerHTML"),r=["sent/?history=1","privacy","tradetopics"].find((function(e){return t.includes(e)}));r||(t.includes("tradeoffers/?history=1")?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers/?history=1",txtResponse:e}}):t.includes("tradeoffers/sent")?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers/sent",txtResponse:e}}):chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers",txtResponse:e}}))}function vi(){$J(".tradeoffer_footer").find("a").click((function(){var t=$J(this).attr("href");if(t.match(/DeclineTradeOffer/g)){var e=t.match(/\d+/g)[0];setTimeout((function(){$J(".newmodal_content").find(".btn_green_steamui.btn_medium").click((function(){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_TRADE_DECLINE",data:{tradeOfferId:e}})}))}),100)}}))}function mi(t,e){for(var r=0;r<e.length;r++)if(t.includes(e[r])){var n=e[r].replace(/\\u/,"").trim(),o=String.fromCharCode(parseInt(n,16));t=t.replace(e[r],o)}return t}function yi(){var t=null;$J("#create_new_url_btn").click((function(){setTimeout((function(){var e=$J("#trade_offer_access_url").val();$J(".newmodal_content").find(".btn_green_steamui.btn_medium").click((function(){t=setInterval((function(){var r=$J("#trade_offer_access_url").val();e!==r&&(clearInterval(t),Dt.updateTradeLink(r))}),100)}))}),100)}))}function gi(t,e,r){var n=$J(r).children(".p-price"),o=$J(n).find(".price_flag.original");if(!e.marketable){$J(o).fadeOut("slow");var i=$J('<div class="price_flag"><span>&nbsp No price</span></div>');return i.addClass("no-price"),void $J(r).children(".p-price").prepend(i)}getLowestPriceHandler(e,t,(function(t){var e=$J(r).find(".p-price");e.css("display","flex").show();var n,o,i=e.find(".price_flag.original");0==e.find(".price-flag").length&&(setTimeout((function(){i.attr("data-price","".concat(t.lowestPrice)),i.find(".animated-background.silver").fadeOut("slow")}),500),n=t,(null!=(o=e)?o:$J('div[data-economy-item*="'.concat(n.appid,"/").concat(n.classid).concat(n.instanceid?"/"+n.instanceid:"",'"]'))).parent(".tradeoffer_item_list").each((function(t,e){var r=$J(this),n=r.find(".total_price"),o=0,i=0,a=0,s=0;r.find(".trade_item").each((function(t){s++;var e=this.rgItem;if(e){if(e.lowestPrice){var r=parseInt(100*parseFloat(getPriceAsInt(e.lowestPrice))),n=window.PriceUtils.publisherFee(e,g_rgWalletInfo,.1),c=CalculateFeeAmount(r,n);i+=(r-c.fees)/100,o+=parseFloat(getPriceAsInt(e.lowestPrice))}"undefined"!=e.gemPrices&&null!=e.gemPrices&&$J.each(e.gemPrices,(function(t,e){a+=parseFloat(getPriceAsInt(e.lowestPrice))}))}null==this.inited&&si(this,$J(this).attr("data-economy-item"))}));var c=formatNumberV2(o)+" ("+formatNumberV2(i)+")";a>0&&(c+=" - Gems total price: "+formatNumberV2(a)),c+=' <span style="float: right; padding-right: 15px">'+s+" item(s)</span>",r.find(".price-flag.no-price").length>0&&n.addClass("warning"),n.html(c)})),function(t,e){var r,n=$J(t).parent().parent().find(".offer_price"),o=$J(t).parent().parent().find(".steam-total-price"),i=new RegExp("[0-9]*[.,]?[0-9]+"),a=e.lowestPrice.match(i);a=a?a[0].replace(/,/g,"."):0,1===n.length?(r=0,r+=Number(a),$J(n).replaceWith('<span class="text steam-total-price">'.concat(r.toFixed(2),"</span>"))):(r=Number($J(o).text()),r+=Number(a),$J(o).text(r.toFixed(2)))}(r,t))})),Xo["".concat(e.appid,"/").concat(e.classid).concat(e.instanceid?"/"+e.instanceid:"")]=e,$J('div[data-economy-item*="'.concat(e.appid,"/").concat(e.classid).concat(e.instanceid?"/"+e.instanceid:"",'"]')).each((function(t,r){this.rgItem=e}))}function _i(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{name:"Steam",sort:13},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;ei=0;var o=ci();if(t)t.find(".trade_item").each((function(){var t=this;if(null==t.inited){si(t,$J(t).attr("data-economy-item"));var r=$J(t).find(".p-price");$J(r).prepend('<div class="price_flag original">\n            <span class="animated-background silver small fake-price"></span>\n          </div>')}else e&&(t.inited=null,si(t,$J(t).attr("data-economy-item")))}));else{if(n){var i=ai(n);i.find(".trade_item").each((function(t,e){si(e,$J(e).attr("data-economy-item"),!0,r,i)}))}else{var a=ai();window.location.href.includes("history")&&(a.length>ti&&(a.length=ti),ni(a.length)),a.find(".trade_item").each((function(t,e){si(e,$J(e).attr("data-economy-item"),!0,r)}))}if(!o.isMarketLoaded&&r.name&&"steam"===r.name.toLowerCase())var s=setInterval((function(){var t=ci();t.isSteamBySIHLoaded&&(clearInterval(s),"steam"!==t.market&&Vo(t.market,n),wi(n))}),100);else wi(n)}}function wi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=setInterval((function(){var r=ci();(r.isMarketLoaded&&"steam"!==r.market&&ExchangeRates._rates||r.isSteamBySIHLoaded&&"steam"===r.market&&ExchangeRates._rates)&&(clearInterval(e),Fo(r.market),ui(t),di())}),100)}function bi(){setTimeout((function(){$J(".accept_trade").click((function(){if($J(this).prop("disabled"))return!1;var t=$J(this).parent().parent().parent(),e=$J(t).find(".sih_tradeoffer_footer"),r="",n="",o=$J(t).prop("id").substring(13),i=$(t).find(".btn_report").attr("onclick").match(/'(\d*)',\s"(.+)"/)[1];if(_tradesTimers[o])return window.clearInterval(_tradesTimers[o].timer),_tradesTimers[o]=null,$J(this).html(SIHLang.tradeoffers.fast_accept),!1;var a=$J(this);return a.html(SIHLang.tradeoffers.accepting),a.prop("disabled",!0),xi(o,i).then((function(t){t.needs_mobile_confirmation||t.needs_email_confirmation?r=SIHLang.tradeoffers.mobile_confirmation:(n="accepted",r=SIHLang.tradeoffers.trade_accepted,chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_TRADE_STATUS",data:{tradeOfferId:o,tradeState:"accepted"}},(function(t){}))),e.find(".tradeoffer_footer_actions").hide()})).catch((function(t){r=SIHLang.tradeoffers.not_accept})).finally((function(){a.remove(),e.append('<div class="tradeoffer_items_banner '.concat(n,'" style="margin: 0; position: relative; width: 100%">\n              ').concat(r,"\n            </div>"))})),!1}))}),200)}ni();var xi=function(t,e){return new Promise((function(r,n){var o=new Headers;o.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var i=new Request("https://steamcommunity.com/tradeoffer/".concat(t,"/accept"),{method:"POST",headers:o,referrer:"https://steamcommunity.com/tradeoffer/".concat(t,"/"),body:"sessionid=".concat(g_sessionID,"&serverid=1&tradeofferid=").concat(t,"&partner=").concat(e,"&captcha=")});fetch(i).then((function(t){if(t.ok)return t.json();"Error code: ".concat(t.status," Status: ").concat(t.statusText),n({status:t.status,statusText:t.statusText})})).then((function(t){r(t)})).catch((function(t){n(t)}))}))},Si=function(){ki()},Li=function(t){var e=Ii.get(),r=t.data("miniprofile");if(e.length){var n=e.findIndex((function(t){return t.miniProfile===r}));-1===n?(e.push({miniProfile:r,ts:Date.now()}),e.length>10&&e.sort((function(t,e){return e.ts-t.ts})).splice(e.length-1,1)):e[n].ts=Date.now()}else e.push({miniProfile:r,ts:Date.now()});Ii.set(e)},ki=function(){$J(".newmodal:visible").addClass("sih-friends");var t=$J(".newmodal_content").addClass("sih_newmodal_content").find(".player_list_ctn"),e=$J(".newmodal_header:visible"),r=$J('\n    <div class="sih-friends__header sih-global">\n      <div class="sih-friends__powered"></div>\n    </div>\n  ');e.find(".sih-friends__header").length||(e.append(r),e.find(".title_text").appendTo(".sih-friends__header"));var n=$J('\n    <div class="sih-latest-friends sih-global">\n      <div class="row justify-between">\n        <span class="text text_light-grey">'.concat(SIHLang.tradeoffers.latest_friends.title,'</span>\n      </div>\n\n      <div class="sih-latest-friends__content"></div>\n    </div>\n  ')),o=Ii.get();if(o.length)o.sort((function(t,e){return e.ts-t.ts})).forEach((function(e){var r=t.find(".friendBlock[data-miniprofile=".concat(e.miniProfile,"]"));if(r.length){var o=$J(r[0].outerHTML);o.off("click").click((function(){r.trigger("click")})),n.find(".sih-latest-friends__content").append(o)}}));else{var i=$J('<span class="text text_white">'.concat(SIHLang.tradeoffers.latest_friends.empty_list,"</span>"));n.find(".sih-latest-friends__content").append(i)}t.before(n)},Ii={_name:"SIH_LATEST_FRIENDS",get:function(){return x(this._name)||[]},set:function(t){b(this._name,t)}};function Ei(){var t,e;t=ai(),e='<div class="row">\n      <div class="sih_lot_item">\n        <span class="icon default"></span>\n        <a href="javascript:void(0);" class="offer_price text text_blue">'.concat(SIHLang.tradeoffers.load_prices,'</a>\n      </div>\n      <div class="sih_lot_item">\n        <span class="icon"></span>\n        <span class="text"></span>\n      </div>\n    </div>'),$J(".tradeoffer_items_header").addClass("sih sih_lot"),$J(".sih_lot").append(e),t.find(".sih_lot_item .icon").after('<span class="animated-background small"></span>'),$J(".tradeoffer_item_list").each((function(t,e){var r=0;r=$J(e).find(".trade_item").length,$J(e).parent().children(".sih_lot").children(".row").each((function(t,e){$J(e).prepend('<span class="text">'.concat(SIHLang.tradeoffers.lots," - ").concat(r," |</span>"))}))}))}var Ci=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";return $J('\n    <label class="sih-global sih-tos" for="sih-tos-'.concat(t,'">\n      <input type="checkbox" name="sih-tos" id="sih-tos-').concat(t,'" class="sih-modal__input hidden" />\n      <label class="fake-checkbox sih-tos__input" for="sih-tos-').concat(t,'"></label>\n      <div class="row items-center flex-wrap gap-5 sih-modal__text sih-modal__text_md ticker-wrapper">\n        <span class="ticker">\n          <span class="sih-modal__text_blue sih-modal__text_white">').concat(SIHLang.TOS.tos_1,'</span>\n          <a\n            href="https://sih.app/terms-of-service"\n            target="_blank"\n            class="sih-modal__text_blue text-decoration-underline hover-opacity-8"\n            >').concat(SIHLang.TOS.tos_2,'.</a\n          >\n          <span class="sih-modal__text_blue sih-modal__text_white sih-tos__info">').concat(SIHLang.TOS.tos_tooltip,"</span>\n        </span>\n      </div>\n    </label>\n  "))};function Oi(t){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(t)}function Pi(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Pi=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Oi(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Oi(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function $i(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ji(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ni(n.key),n)}}function Ti(t,e,r){return e&&Ji(t.prototype,e),r&&Ji(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ai(t,e,r){return(e=Ni(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ni(t){var e=function(t,e){if("object"!=Oi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Oi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oi(e)?e:e+""}var ji=Ti((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ai(this,"isAvailableSihSteamRefill",function(){var t,e=(t=Pi().mark((function t(e){return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_IS_AVAILABLE",data:{countryCode:e}},(function(e){t(e)}))})));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){$i(i,n,o,a,s,"next",t)}function s(t){$i(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()),Ai(this,"checkSteamLogin",(function(t,e){return new Promise((function(r,n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_CHECK",data:{steamUsername:t,method:e}},(function(t){if(t.success)r(t.transactionId);else{var e={status:"refill-error",text:t.error};(0,le.W)(e,5e3,(function(){})),n(t)}}))}))})),Ai(this,"initSteamRefill",(function(t){var e=t.steamUsername,r=t.amount,n=t.netAmount,o=t.currency,i=void 0===o?"RUB":o,a=t.transactionId,s=t.paymentMethod,c=void 0===s?"sbp":s;return new Promise((function(t,o){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_PAY",data:{steamUsername:e,amount:r,netAmount:n,currency:i,transactionId:a,paymentMethod:c}},(function(e){if(e.success)t(e);else{var r={status:"error",text:e.error};(0,le.W)(r,5e3,(function(){})),o(e)}}))}))})),Ai(this,"initSteamRefillBySih",(function(t){var e=t.steamUsername,r=t.amount,n=t.currency,o=void 0===n?"RUB":n,i=t.transactionId;return new Promise((function(t,n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_PAY_BY_SIH_BALANCE",data:{steamUsername:e,amount:r,currency:o,transactionId:i}},(function(e){var r;if(e.success&&"success"===(null===(r=e.response)||void 0===r?void 0:r.status)){(0,le.W)({status:"success",text:"Пополнение успешно оплачено"},5e3,(function(){})),t()}else{var o={status:"refill-error",text:e.error};(0,le.W)(o,5e3,(function(){})),n()}}))}))}))}));const Hi=new ji;function Gi(t){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(t)}function Di(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Di=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Gi(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Gi(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Ri(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Mi(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ri(i,n,o,a,s,"next",t)}function s(t){Ri(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Fi=null,Ui=null,Bi={sih:{min:50,max:9433,commission:.06},sbp:{min:50,max:9433,commission:.06}},Vi=function(){return x("SIH_NEW_YEAR_GIVEAVAY")||Date.now()>=17661024e5&&Date.now()<1767042e6},Wi=function(){var t=Mi(Di().mark((function t(){var e,r,n,o,i,a,s,c,l,u,f;return Di().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dt.getLoginSihAppUser();case 2:return r=t.sent,n=r.success,o=r.user,i=n?_.A.getPriceFromCurrency(o.balance/1e3,5,1):{},a=i.price,s=i.text,c=$J("#application_config").attr("data-userinfo"),l=c?null===(e=JSON.parse(c))||void 0===e?void 0:e.account_name:null,u=Ci("steam-refill"),f=$J(" ".concat(Vi()?'<div class="sih-steam-refill__giveaway">\n            <img src="chrome-extension://'.concat(SIHID,'/assets/steamRefill/giveaway.svg" alt="" />\n            <div class="sih-steam-refill__giveaway__tooltip-icon cursor-pointer" title="">\n              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  fill-rule="evenodd"\n                  clip-rule="evenodd"\n                  d="M14.6667 8C14.6667 4.318 11.682 1.33334 8.00001 1.33334C4.31801 1.33334 1.33334 4.318 1.33334 8C1.33334 11.682 4.31801 14.6667 8.00001 14.6667C11.682 14.6667 14.6667 11.682 14.6667 8ZM8.00001 4.66667C8.17682 4.66667 8.34639 4.73691 8.47141 4.86193C8.59644 4.98696 8.66668 5.15652 8.66668 5.33334V8.66667C8.66668 8.84348 8.59644 9.01305 8.47141 9.13807C8.34639 9.2631 8.17682 9.33334 8.00001 9.33334C7.8232 9.33334 7.65363 9.2631 7.52861 9.13807C7.40358 9.01305 7.33334 8.84348 7.33334 8.66667V5.33334C7.33334 5.15652 7.40358 4.98696 7.52861 4.86193C7.65363 4.73691 7.8232 4.66667 8.00001 4.66667ZM7.33334 10.6667C7.33334 10.4899 7.40358 10.3203 7.52861 10.1953C7.65363 10.0702 7.8232 10 8.00001 10H8.00534C8.18216 10 8.35172 10.0702 8.47675 10.1953C8.60177 10.3203 8.67201 10.4899 8.67201 10.6667C8.67201 10.8435 8.60177 11.0131 8.47675 11.1381C8.35172 11.2631 8.18216 11.3333 8.00534 11.3333H8.00001C7.8232 11.3333 7.65363 11.2631 7.52861 11.1381C7.40358 11.0131 7.33334 10.8435 7.33334 10.6667Z"\n                  fill="#8C99A1"\n                />\n              </svg>\n            </div>\n          </div>'):"",'\n      <div class="sih-steam-refill__main">\n        <div class="sih-steam-refill__left-side sih-steam-refill-form">\n          <div class="sih-steam-refill__header sih-steam-refill-header">\n            <div class="row gap-16">\n              <div class="sih-steam-refill-header__logo">\n                <img src="chrome-extension://').concat(SIHID,'/assets/common/steam-refill-logo.png" alt="" />\n              </div>\n              <div class="column justify-center gap-4">\n                <div class="row items-center gap-45">\n                  <span class="text fs-24 lh-32 semi-bold">Пополнение баланса Steam</span>\n                  <div class="sih-steam-refill__powered"></div>\n                </div>\n\n                <div class="sih-steam-refill-header__favourable-offer">\n                  <svg width="11" height="14" viewBox="0 0 11 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      d="M10.4998 8.66973C10.4998 11.7197 7.97482 14.1722 4.92482 13.9902C1.79032 13.8032 -0.35518 10.7887 0.04882 7.63773C0.29332 5.72123 1.19182 4.07773 2.16982 2.80273C2.33982 2.58023 2.51432 4.37073 2.68882 4.17373C2.86382 3.97123 4.48582 1.16423 5.04982 0.178233C5.07408 0.134743 5.10741 0.0969822 5.14755 0.067517C5.18769 0.0380518 5.23371 0.017572 5.28247 0.0074688C5.33123 -0.00263443 5.3816 -0.00212443 5.43014 0.00896428C5.47869 0.020053 5.52428 0.0414607 5.56382 0.0717329C6.69682 0.926733 10.4998 4.13823 10.4998 8.66973Z"\n                      fill="#FF6723"\n                    />\n                    <path\n                      d="M8.99983 9.92523C8.99983 11.9462 7.24033 13.5707 5.10033 13.4972C2.79033 13.4192 1.20633 11.3052 1.54533 9.12773C2.03483 6.00573 5.23983 3.99973 5.23983 3.99973C5.23983 3.99973 8.99983 6.35323 8.99983 9.92523Z"\n                      fill="#FFB02E"\n                    />\n                  </svg>\n\n                  <div class="text text_white fs-14 semi-bold">Выгодное предложение</div>\n                </div>\n\n                <div class="row gap-7 items-center">\n                  <span class="text text_light-grey fs-14">Аккаунты РФ и стран СНГ.</span>\n\n                  <div\n                    class="sih-steam-refill__tooltip-icon row items-center"\n                    title="Азербайджан, Армения, Беларусь, Казахстан, Киргизия, Молдова, Таджикистан, Узбекистан, Туркменистан"\n                  >\n                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        fill-rule="evenodd"\n                        clip-rule="evenodd"\n                        d="M14.6667 8C14.6667 4.318 11.682 1.33334 8.00001 1.33334C4.31801 1.33334 1.33334 4.318 1.33334 8C1.33334 11.682 4.31801 14.6667 8.00001 14.6667C11.682 14.6667 14.6667 11.682 14.6667 8ZM8.00001 4.66667C8.17682 4.66667 8.34639 4.73691 8.47141 4.86193C8.59644 4.98696 8.66668 5.15652 8.66668 5.33334V8.66667C8.66668 8.84348 8.59644 9.01305 8.47141 9.13807C8.34639 9.2631 8.17682 9.33334 8.00001 9.33334C7.8232 9.33334 7.65363 9.2631 7.52861 9.13807C7.40358 9.01305 7.33334 8.84348 7.33334 8.66667V5.33334C7.33334 5.15652 7.40358 4.98696 7.52861 4.86193C7.65363 4.73691 7.8232 4.66667 8.00001 4.66667ZM7.33334 10.6667C7.33334 10.4899 7.40358 10.3203 7.52861 10.1953C7.65363 10.0702 7.8232 10 8.00001 10H8.00534C8.18216 10 8.35172 10.0702 8.47675 10.1953C8.60177 10.3203 8.67201 10.4899 8.67201 10.6667C8.67201 10.8435 8.60177 11.0131 8.47675 11.1381C8.35172 11.2631 8.18216 11.3333 8.00534 11.3333H8.00001C7.8232 11.3333 7.65363 11.2631 7.52861 11.1381C7.40358 11.0131 7.33334 10.8435 7.33334 10.6667Z"\n                        fill="#8C99A1"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="column gap-20 mt-20">\n            <div class="sih-steam-refill-form__item-block column gap-8" data-name="login">\n              <div class="row gap-7 items-center">\n                <span class="text fs-14">Где искать?</span>\n                <div class="sih-steam-refill__tooltip-where-find row items-center" title="">\n                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M14.6667 8C14.6667 4.318 11.682 1.33334 8.00001 1.33334C4.31801 1.33334 1.33334 4.318 1.33334 8C1.33334 11.682 4.31801 14.6667 8.00001 14.6667C11.682 14.6667 14.6667 11.682 14.6667 8ZM8.00001 4.66667C8.17682 4.66667 8.34639 4.73691 8.47141 4.86193C8.59644 4.98696 8.66668 5.15652 8.66668 5.33334V8.66667C8.66668 8.84348 8.59644 9.01305 8.47141 9.13807C8.34639 9.2631 8.17682 9.33334 8.00001 9.33334C7.8232 9.33334 7.65363 9.2631 7.52861 9.13807C7.40358 9.01305 7.33334 8.84348 7.33334 8.66667V5.33334C7.33334 5.15652 7.40358 4.98696 7.52861 4.86193C7.65363 4.73691 7.8232 4.66667 8.00001 4.66667ZM7.33334 10.6667C7.33334 10.4899 7.40358 10.3203 7.52861 10.1953C7.65363 10.0702 7.8232 10 8.00001 10H8.00534C8.18216 10 8.35172 10.0702 8.47675 10.1953C8.60177 10.3203 8.67201 10.4899 8.67201 10.6667C8.67201 10.8435 8.60177 11.0131 8.47675 11.1381C8.35172 11.2631 8.18216 11.3333 8.00534 11.3333H8.00001C7.8232 11.3333 7.65363 11.2631 7.52861 11.1381C7.40358 11.0131 7.33334 10.8435 7.33334 10.6667Z"\n                      fill="#8C99A1"\n                    />\n                  </svg>\n                </div>\n              </div>\n\n              <label\n                for="sih-steam-refill-login"\n                class="sih-steam-refill-form__input_outer rounded-8 py-9 px-12 box-border"\n              >\n                <input\n                  type="text"\n                  id="sih-steam-refill-login"\n                  class="sih-steam-refill-form__input text text_white-100 fs-16 lh-24"\n                  placeholder="Введите логин"\n                  autocomplete="off"\n                />\n\n                <div class="row items-center gap-10">\n                  ').concat(l?'<div class="sih-steam-refill-form__presets sih-refill-presets_login">\n                    <div class="sih-refill-presets__item sih-refill-presets__item hover-opacity-8" data-value="'.concat(l,'">Мой логин</div>\n                  </div>'):"",'\n                  <div class="sih-steam-refill-form__clear hidden">\n                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z"\n                        fill="currentColor"\n                      />\n                    </svg>\n                  </div>\n                  <div class="sih-steam-refill-form__error hidden">\n                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        fill-rule="evenodd"\n                        clip-rule="evenodd"\n                        d="M20 10C20 4.477 15.523 0 10 0C4.477 0 0 4.477 0 10C0 15.523 4.477 20 10 20C15.523 20 20 15.523 20 10ZM10 5C10.2652 5 10.5196 5.10536 10.7071 5.29289C10.8946 5.48043 11 5.73478 11 6V11C11 11.2652 10.8946 11.5196 10.7071 11.7071C10.5196 11.8946 10.2652 12 10 12C9.73478 12 9.48043 11.8946 9.29289 11.7071C9.10536 11.5196 9 11.2652 9 11V6C9 5.73478 9.10536 5.48043 9.29289 5.29289C9.48043 5.10536 9.73478 5 10 5ZM9 14C9 13.7348 9.10536 13.4804 9.29289 13.2929C9.48043 13.1054 9.73478 13 10 13H10.008C10.2732 13 10.5276 13.1054 10.7151 13.2929C10.9026 13.4804 11.008 13.7348 11.008 14C11.008 14.2652 10.9026 14.5196 10.7151 14.7071C10.5276 14.8946 10.2732 15 10.008 15H10C9.73478 15 9.48043 14.8946 9.29289 14.7071C9.10536 14.5196 9 14.2652 9 14Z"\n                        fill="#D85752"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </label>\n              <div class="sih-steam-refill-form__refill-info-block sih-info-block">\n                <span class="sih-info-block__message">Логин вводится только на латинице</span>\n              </div>\n              <div class="sih-steam-refill-form__refill-alert-block sih-alert-block">\n                <span class="sih-alert-block__message"></span>\n              </div>\n            </div>\n            <div class="row gap-20">\n              <div class="sih-steam-refill-form__item-block column gap-8" data-name="refill">\n                <span class="text fs-14">Сумма пополнения в рублях</span>\n                <label\n                  for="sih-steam-refill-input"\n                  class="sih-steam-refill-form__input_outer rounded-8 py-9 px-12 box-border"\n                >\n                  <input\n                    type="text"\n                    id="sih-steam-refill-input"\n                    class="sih-steam-refill-form__input text text_white-100 fs-16 lh-24"\n                    placeholder="От ').concat(Bi.sbp.min,' ₽"\n                    pattern="/d*"\n                    maxlength="7"\n                    autocomplete="off"\n                  />\n                  <div class="sih-steam-refill-form__rub-sign hidden">₽</div>\n                  <div class="row gap-7 items-center">\n                    <div class="sih-steam-refill-form__clear hidden">\n                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path\n                          d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z"\n                          fill="currentColor"\n                        />\n                      </svg>\n                    </div>\n                  </div>\n                </label>\n                <div class="sih-steam-refill-form__refill-info-block sih-info-block">\n                  <span class="sih-info-block__message">Максимальная сумма ').concat(Bi.sbp.max,' ₽</span>\n                </div>\n                <div class="sih-steam-refill-form__refill-alert-block sih-alert-block">\n                  <span class="sih-alert-block__message"></span>\n                </div>\n\n                <div class="sih-steam-refill-form__presets sih-refill-presets">\n                  <div class="sih-refill-presets__item" data-value="500">500 ₽</div>\n                  <div class="sih-refill-presets__item" data-value="1000">1000 ₽</div>\n                  <div class="sih-refill-presets__item" data-value="1500">1500 ₽</div>\n                  <div class="sih-refill-presets__item" data-value="2000">2000 ₽</div>\n                  <div class="sih-refill-presets__item" data-value="5000">5000 ₽</div>\n                  <div class="sih-refill-presets__item" data-value="9000">9000 ₽</div>\n                </div>\n              </div>\n              <div class="sih-steam-refill-form__item-block column gap-8" data-name="refill">\n                <span class="text fs-14">К зачислению на Steam</span>\n\n                <div class="sih-steam-refill-form__credit-amount">\n                  <div class="row items-center gap-8">\n                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        d="M0.488678 15.4517C1.97217 20.3969 6.56116 24 11.9923 24C18.6239 24 24 18.6273 24 12C24 5.3726 18.6239 0 11.9923 0C5.62868 0 0.421682 4.94719 0.0104326 11.2027C0.787478 12.5068 1.09071 13.3133 0.488781 15.4517H0.488678Z"\n                        fill="url(#paint0_linear_104_173)"\n                      />\n                      <path\n                        d="M11.3738 8.99454C11.3738 9.01473 11.3738 9.03492 11.3748 9.05387L8.43652 13.3195C7.96054 13.2979 7.48291 13.3813 7.03002 13.5677C6.83037 13.6491 6.6433 13.749 6.46777 13.8644L0.0156892 11.21C0.0156892 11.21 -0.133556 13.6645 0.488575 15.4939L5.04984 17.3748C5.27886 18.3976 5.98097 19.2948 7.01683 19.7264C8.71161 20.434 10.6657 19.6275 11.3707 17.9331C11.5542 17.4901 11.6397 17.0256 11.6274 16.5621L15.8316 13.5595C15.8656 13.5605 15.9006 13.5615 15.9347 13.5615C18.4506 13.5615 20.4955 11.5118 20.4955 8.99454C20.4955 6.47712 18.4506 4.42918 15.9347 4.42918C13.4197 4.42918 11.3738 6.47712 11.3738 8.99454ZM10.6688 17.6385C10.1232 18.9476 8.61771 19.5688 7.30914 19.0239C6.70545 18.7725 6.24968 18.3121 5.98675 17.7631L7.47147 18.378C8.43652 18.7797 9.5437 18.3224 9.94484 17.3583C10.3472 16.3931 9.89073 15.2848 8.9262 14.8831L7.39139 14.2476C7.98363 14.023 8.65688 14.0148 9.28592 14.2764C9.92011 14.5401 10.4122 15.0366 10.6729 15.6711C10.9337 16.3056 10.9327 17.006 10.6688 17.6385ZM15.9347 12.0371C14.2598 12.0371 12.8962 10.6723 12.8962 8.99454C12.8962 7.31815 14.2598 5.95293 15.9347 5.95293C17.6106 5.95293 18.9742 7.31815 18.9742 8.99454C18.9742 10.6723 17.6106 12.0371 15.9347 12.0371ZM13.6578 8.98991C13.6578 7.72779 14.6803 6.70414 15.9398 6.70414C17.2004 6.70414 18.2228 7.72779 18.2228 8.98991C18.2228 10.2521 17.2004 11.2749 15.9398 11.2749C14.6803 11.2749 13.6578 10.2521 13.6578 8.98991Z"\n                        fill="white"\n                      />\n                      <defs>\n                        <linearGradient\n                          id="paint0_linear_104_173"\n                          x1="12"\n                          y1="0"\n                          x2="12"\n                          y2="24"\n                          gradientUnits="userSpaceOnUse"\n                        >\n                          <stop stop-color="#111D2E" />\n                          <stop offset="0.21" stop-color="#051839" />\n                          <stop offset="0.41" stop-color="#0A1B48" />\n                          <stop offset="0.58" stop-color="#132E62" />\n                          <stop offset="0.74" stop-color="#144B7E" />\n                          <stop offset="0.87" stop-color="#136497" />\n                          <stop offset="1" stop-color="#1387B8" />\n                        </linearGradient>\n                      </defs>\n                    </svg>\n                    <span id="sih-steam-refill-amount" class="text text_white fs-16">0 ₽</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="sih-steam-refill__right-side sih-steam-refill-payment">\n          <span class="text fs-16 lh-24 semi-bold">К оплате</span>\n          <div class="sih-steam-refill-payment__faq" title="">\n            <div class="sih-steam-refill-payment__important">\n              <svg width="20" height="17" viewBox="0 0 20 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M2.47 17H17.53C19.07 17 20.03 15.33 19.26 14L11.73 0.989993C10.96 -0.340007 9.04 -0.340007 8.27 0.989993L0.739999 14C-0.0300008 15.33 0.929999 17 2.47 17ZM10 9.99999C9.45 9.99999 9 9.54999 9 8.99999V6.99999C9 6.44999 9.45 5.99999 10 5.99999C10.55 5.99999 11 6.44999 11 6.99999V8.99999C11 9.54999 10.55 9.99999 10 9.99999ZM11 14H9V12H11V14Z"\n                  fill="#0D91EC"\n                />\n              </svg>\n            </div>\n            <span class="text fs-12 lh-16">Пожалуйста ознакомьтесь с важной информацией до совершения пополнения.</span>\n          </div>\n\n          <div class="column gap-8">\n            <span class="text semi-bold">Выберите способ оплаты</span>\n            <div class="sih-payment-method">\n              <label class="row flex-1" for="sih-payment-method-sbp">\n                <input\n                  type="radio"\n                  name="sih-payment-method"\n                  id="sih-payment-method-sbp"\n                  class="sih-payment-method__input"\n                  data-method="sbp"\n                  checked\n                />\n\n                <label class="sih-payment-method__item" for="sih-payment-method-sbp"\n                  ><svg width="48" height="28" viewBox="0 0 48 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      d="M47.597 11.0933V17.6944H45.2301V13.0639H42.951V17.6944H40.584V11.0929L47.597 11.0933Z"\n                      fill="white"\n                    />\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M35.7229 17.9304C37.8418 17.9304 39.4153 16.6367 39.4153 14.6754C39.4153 12.777 38.2544 11.5445 36.3142 11.5445C35.4188 11.5445 34.68 11.8583 34.1235 12.3999C34.2564 11.2806 35.2069 10.4634 36.2535 10.4634C36.495 10.4634 38.3134 10.4595 38.3134 10.4595L39.3416 8.5C39.3416 8.5 37.0587 8.55175 35.9975 8.55175C33.5727 8.59383 31.9348 10.7887 31.9348 13.4545C31.9348 16.5602 33.5322 17.9304 35.7229 17.9304ZM35.7358 13.2801C36.5226 13.2801 37.068 13.7949 37.068 14.6751C37.068 15.4674 36.5833 16.1201 35.7358 16.1219C34.9252 16.1219 34.3797 15.5171 34.3797 14.6886C34.3797 13.8082 34.9252 13.2801 35.7358 13.2801Z"\n                      fill="white"\n                    />\n                    <path\n                      d="M30.0082 15.4845C30.0082 15.4845 29.4492 15.8053 28.6143 15.8661C27.6545 15.8944 26.7994 15.2907 26.7994 14.2182C26.7994 13.1719 27.554 12.5723 28.5902 12.5723C29.2255 12.5723 30.066 13.0108 30.066 13.0108C30.066 13.0108 30.681 11.8869 30.9996 11.3249C30.4162 10.8846 29.6392 10.6431 28.7354 10.6431C26.4546 10.6431 24.6879 12.1241 24.6879 14.2049C24.6879 16.3122 26.3484 17.7588 28.7354 17.7151C29.4026 17.6904 30.3231 17.457 30.8841 17.0982L30.0082 15.4845Z"\n                      fill="white"\n                    />\n                    <path d="M0.902954 6.377L4.18633 12.2214V15.7863L0.906795 21.6192L0.902954 6.377Z" fill="#5B57A2" />\n                    <path d="M13.5098 10.0947L16.5865 8.21683L22.883 8.21098L13.5098 13.9291V10.0947Z" fill="#D90751" />\n                    <path d="M13.4924 6.34257L13.5098 14.0803L10.2187 12.0666V0.5L13.4924 6.34257Z" fill="#FAB718" />\n                    <path\n                      d="M22.883 8.21098L16.5865 8.21683L13.4924 6.34257L10.2187 0.5L22.883 8.21098Z"\n                      fill="#ED6F26"\n                    />\n                    <path d="M13.5098 21.6516V17.8974L10.2187 15.922L10.2206 27.5L13.5098 21.6516Z" fill="#63B22F" />\n                    <path\n                      d="M16.5788 19.7908L4.18633 12.2214L0.902954 6.377L22.8697 19.7832L16.5788 19.7908Z"\n                      fill="#1487C9"\n                    />\n                    <path\n                      d="M10.2206 27.5L13.5098 21.6516L16.5788 19.7908L22.8697 19.7832L10.2206 27.5Z"\n                      fill="#017F36"\n                    />\n                    <path\n                      d="M0.906795 21.6192L10.2456 15.9222L7.10588 14.0038L4.18633 15.7863L0.906795 21.6192Z"\n                      fill="#984995"\n                    />\n                  </svg>\n                </label>\n              </label>\n              <label class="row flex-1" for="sih-payment-method-sih">\n                <input\n                  type="radio"\n                  name="sih-payment-method"\n                  id="sih-payment-method-sih"\n                  class="sih-payment-method__input"\n                  data-method="sih"\n                />\n\n                <label class="sih-payment-method__item" for="sih-payment-method-sih">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="29" height="24" viewBox="0 0 29 24" fill="none">\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M5.69226 12.9129H9.61597V15.001H5.69226V17.4758H11.6707V10.7989H7.70055V8.83969H11.6707V6.51953H5.69226V12.9129ZM15.4921 6.51953H13.3329V17.4758H15.4921V6.51953ZM21.2489 10.7989V6.51953H23.3036V17.4758H21.2953V12.7582H19.3451V17.4758H17.36V6.51953H19.3799V10.7989H21.2489Z"\n                      fill="white"\n                    />\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M0 10.8016H4.00497V13.1991H0V10.8016ZM24.995 10.8002H29V13.1977H24.995V10.8002ZM13.3273 0H15.4865V4.44697H13.3273V0ZM13.3273 19.553H15.4865V24H13.3273V19.553Z"\n                      fill="#0D91EC"\n                    />\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M1.98804 8.75113V6.32785C1.98804 4.05925 3.65968 2.20312 5.70279 2.20312H11.5767V4.44595H5.70279C4.76249 4.44595 4.00793 5.29667 4.00793 6.32785V8.75113H1.98804ZM17.4166 2.20312H22.8959C25.1596 2.20312 26.9937 4.2526 27.0054 6.76611V8.75113H24.9855V6.76611C24.9855 5.49002 24.0452 4.44595 22.8959 4.44595H17.4166V2.20312ZM24.9855 17.2048C24.9855 18.4809 24.0452 19.525 22.8959 19.525H17.4166V21.7678H22.8959C25.1596 21.7678 27.0054 19.7183 27.0054 17.2048V15.2198H24.9855V17.2048ZM4.00793 15.2198V17.2048C4.00793 18.4938 4.94823 19.525 6.09748 19.525H11.5767V21.7678H6.09748C3.83381 21.7678 1.98804 19.7183 1.98804 17.2048V15.2198H4.00793Z"\n                      fill="white"\n                    />\n                  </svg>\n                  SIH баланс\n                </label>\n              </label>\n              \x3c!-- <label class="row flex-1 not-allowed opacity-5 blur-1" for="sih-payment-method-mir"\n              ><input\n                type="radio"\n                name="sih-payment-method"\n                id="sih-payment-method-mir"\n                class="sih-payment-method__input "\n                data-method="mir"\n                disabled\n              />\n\n              <span class="sih-payment-method__item not-allowed">\n                <svg width="45" height="12" viewBox="0 0 45 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    d="M0.75 0.0708925H4.87788C5.25315 0.0708925 6.37893 -0.0526507 6.87928 1.67695C7.25455 2.78884 7.7549 4.51845 8.50542 7.11285H8.7556C9.50612 4.3949 10.1316 2.54176 10.3817 1.67695C10.8821 -0.0526507 12.133 0.0708925 12.6333 0.0708925H16.511V11.931H12.5082V4.88908H12.258L10.1316 11.931H7.12946L5.00297 4.88908H4.62771V11.931H0.75M18.1372 0.0708925H22.1399V7.11285H22.5152L25.142 1.30632C25.6424 0.194436 26.7682 0.0708925 26.7682 0.0708925H30.5208V11.931H26.518V4.88908H26.2678L23.641 10.6956C23.1406 11.8075 21.8898 11.931 21.8898 11.931H18.1372M35.8996 8.34828V11.931H32.1469V5.75388H44.4055C43.9052 7.2364 42.1539 8.34828 40.1525 8.34828"\n                    fill="#0F754E"\n                  />\n                  <path\n                    d="M44.6557 5.01262C45.156 2.78884 43.655 0.0708925 40.4027 0.0708925H31.8968C32.1469 2.6653 34.3985 5.01262 36.7752 5.01262"\n                    fill="url(#paint0_linear_108_1560)"\n                  />\n                  <defs>\n                    <linearGradient\n                      id="paint0_linear_108_1560"\n                      x1="43.1546"\n                      y1="-1.53515"\n                      x2="33.1476"\n                      y2="-1.53515"\n                      gradientUnits="userSpaceOnUse"\n                    >\n                      <stop stop-color="#1F5CD7" />\n                      <stop offset="1" stop-color="#02AEFF" />\n                    </linearGradient>\n                  </defs>\n                </svg>\n              </span>\n            </label> --\x3e\n            </div>\n          </div>\n\n          ').concat(n?' <div class="sih-refill-user-info" style="display: none">\n                  <img src="'.concat(o.avatar,'" alt="avatar" class="sih-refill-user-info__avatar" />\n                  <div class="sih-refill-user-info__balance">\n                    <div class="sih-refill-user-info__balance-value" data-user-balance="').concat(a,'">\n                      ').concat(s,'\n                    </div>\n                    <div class="sih-refill-user-info__balance-label">Ваш SIH баланс</div>\n                  </div>\n                  <div class="sih-refill-user-info__btn sih-refill-user-info__btn_hidden">Пополнить</div>\n                </div>'):"",'\n\n          <div class="column gap-7">\n            <div class="row justify-between" style="display: none">\n              <span class="text fs-14 lh-20">Не хватает для оплаты балансом</span>\n              <span id="sih-need-refill-sih-balance" class="text fs-14 lh-20 semi-bold text_red-752" data-value="0"\n                >0 ₽</span\n              >\n            </div>\n            <div class="row justify-between">\n              <span class="text fs-14 lh-20">Конвертация</span>\n              <span id="sih-steam-refill-commission" class="text fs-14 lh-20 semi-bold" data-value="0">0 ₽</span>\n            </div>\n            <div class="row justify-between">\n              <span class="text fs-14 lh-20">Итого</span>\n              <span id="sih-steam-refill-total" class="text fs-14 lh-20 semi-bold" data-value="0">0 ₽</span>\n            </div>\n            <div class="row justify-between ').concat(n?"":"text_red-752",'">\n              <div class="row items-center gap-7">\n                <span class="text fs-14 lh-20">Кешбэк на SIH баланс</span>\n                <div\n                  class="sih-steam-refill__tooltip-icon ').concat(n?"text_gray_600":"text_red-752",'"\n                  title="').concat(n?"После каждого успешного пополнения, Вам будет начислен бонус реальными средствами на баланс SIH, который Вы сможете использовать для покупки предметов на SIH.Market или оплаты подписки SIH.Black.":"К сожалению, у Вас ошибка авторизации SIH, пожалуйста свяжитесь с тех. поддержкой для получения кешбека",'"\n                >\n                  <div class="row items-center">\n                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        fill-rule="evenodd"\n                        clip-rule="evenodd"\n                        d="M14.6667 8C14.6667 4.318 11.682 1.33334 8.00001 1.33334C4.31801 1.33334 1.33334 4.318 1.33334 8C1.33334 11.682 4.31801 14.6667 8.00001 14.6667C11.682 14.6667 14.6667 11.682 14.6667 8ZM8.00001 4.66667C8.17682 4.66667 8.34639 4.73691 8.47141 4.86193C8.59644 4.98696 8.66668 5.15652 8.66668 5.33334V8.66667C8.66668 8.84348 8.59644 9.01305 8.47141 9.13807C8.34639 9.2631 8.17682 9.33334 8.00001 9.33334C7.8232 9.33334 7.65363 9.2631 7.52861 9.13807C7.40358 9.01305 7.33334 8.84348 7.33334 8.66667V5.33334C7.33334 5.15652 7.40358 4.98696 7.52861 4.86193C7.65363 4.73691 7.8232 4.66667 8.00001 4.66667ZM7.33334 10.6667C7.33334 10.4899 7.40358 10.3203 7.52861 10.1953C7.65363 10.0702 7.8232 10 8.00001 10H8.00534C8.18216 10 8.35172 10.0702 8.47675 10.1953C8.60177 10.3203 8.67201 10.4899 8.67201 10.6667C8.67201 10.8435 8.60177 11.0131 8.47675 11.1381C8.35172 11.2631 8.18216 11.3333 8.00534 11.3333H8.00001C7.8232 11.3333 7.65363 11.2631 7.52861 11.1381C7.40358 11.0131 7.33334 10.8435 7.33334 10.6667Z"\n                        fill="currentColor"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n\n              <span\n                id="sih-steam-refill-cashback"\n                class="text ').concat(n?"text_green":"text_red-752",' fs-14 lh-20 semi-bold"\n                data-value="0"\n                >0 ₽</span\n              >\n            </div>\n          </div>\n\n          <div id="sih-steam-refill-pay" class="sih-steam-refill-pay inactive">Оплатить</div>\n        </div>\n      </div>')),Ki(f),f.find("#sih-steam-refill-pay").after(u),t.abrupt("return",f);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Yi=function(){var t=Mi(Di().mark((function t(){var e,r,n,o,i,a;return Di().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dt.getLoginSihAppUser();case 2:e=t.sent,r=e.success,n=e.user,o=r?_.A.getPriceFromCurrency(n.balance/1e3,5,1):{},i=o.price,a=o.text,i&&a&&$J(".sih-refill-user-info .sih-refill-user-info__balance-value").attr("data-user-balance",i).text(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ki=function(t){t.find(".sih-steam-refill__tooltip-icon").tooltip({position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"sih-steam-refill__tooltip"},show:{delay:500,duration:0}}),t.find(".sih-steam-refill__tooltip-where-find").tooltip({content:$J('\n      <div class="column">\n        <span class="text text_white fs-20 lh-28 semi-bold">Как найти свой логин в Steam?</span>\n        <ul class="mt-12">\n          <li>Откройте клиент Steam. Нажмите на имя пользователя в правом верхнем углу главной страницы.</li>\n          <li>В выпадающем меню выберите пункт «Об аккаунте».</li>\n        </ul>\n        <img class="row mt-16" src="chrome-extension://'.concat(SIHID,'/assets/common/where-find-steam-refill.png" alt="" />\n      </div>\n    ')),position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"sih-global sih-steam-refill__tooltip sih-where-find"},show:{delay:700,duration:0}});var e=t.find(".sih-steam-refill-payment__faq");e.tooltip({content:$J('\n        <div class="column">\n          <ul>\n            <li>\n              Как правило, пополнение происходит мгновенно или в течение нескольких минут, однако в редких случаях\n              процесс пополнения может затянуться на час.\n            </li>\n            <li>\n              Если Вы НИКОГДА ранее не пополняли баланс аккаунта любыми способами, то в некоторых случаях это может\n              привести к смене региона Steam\n            </li>\n            <li>\n              Обращаем Ваше внимание на то, что пополнение происходит только по предоставленной Вами информации о логине\n              аккаунта. В случае предоставления неверных сведений, средства будут зачислены по ним и возврат средств\n              будет невозможен. Так же, любое пополнение аккаунта является невозвратным.\n            </li>\n          </ul>\n        </div>\n      '),position:{my:"center top",at:"center bottom+10"},classes:{"ui-tooltip":"sih-global sih-steam-refill__tooltip sih-faq"},show:{delay:700,duration:0}}).on("mouseenter",(function(t){e.not($J(this)).tooltip("close")})).on("mouseleave",(function(t,e){var r=t.target;e||(t.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(r).trigger("mouseleave",[!0])}),250))}));var r=t.find(".sih-steam-refill__giveaway__tooltip-icon");r.tooltip({content:$J('<span class="text"\n          >Данный розыгрыш проводится в соответствии с Условиями публичной оферты, размещёнными в прилагаемом\n          <a\n            href="https://docs.google.com/document/d/1jTwXLkod72JBe6CgX86-_uyJlUMe8FyZDfWM1zXsSd0/edit?usp=sharing"\n            target="_blank"\n            class="text text_blue"\n            >документе</a\n          >. Участвуя в розыгрыше, участник подтверждает, что ознакомился с условиями оферты, понимает их и полностью\n          принимает.</span\n        >'),position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"sih-global sih-steam-refill__tooltip"},show:{delay:500,duration:0}}).on("mouseenter",(function(t){r.not($J(this)).tooltip("close")})).on("mouseleave",(function(t,e){var r=t.target;e||(t.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(r).trigger("mouseleave",[!0])}),250))})),$J("body").on("mouseleave",".ui-tooltip",(function(t){e.tooltip(),e.tooltip("close"),r.tooltip(),r.tooltip("close")}))},Zi=function(){var t=$J("#sih-steam-refill").find("#sih-steam-refill-input"),e=t.closest(".sih-steam-refill-form__input_outer").find(".sih-steam-refill-form__clear"),r=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign");t.on("keypress",(function(t){var e=t.which||t.keyCode;(e<48||e>57)&&t.preventDefault()})),t.on("input",(function(n){var o=$J(n.target);sa(o);var i=o.val();r.toggleClass("hidden",!i),e.toggleClass("hidden",!i),clearTimeout(Ui),Ui=setTimeout((function(){na(t,i);var e=la(),r=Bi[e].max;t.val(r>=i?i:r),sa(t),ia()}),800)})),t.on("paste",(function(n){var o=$J(n.target),i=(n.originalEvent||n).clipboardData.getData("text/plain");i=i.replace(/[^0-9]/g,"");var a=la(),s=Bi[a].max;t.val(s>=i?i:s),sa(o);var c=t.val();r.toggleClass("hidden",!c),e.toggleClass("hidden",!c),clearTimeout(Ui),Ui=setTimeout((function(){na(t,c),t.val(s>=c?c:s),sa(t),ia()}),800),n.preventDefault()})),t.on("focusout",(function(e){var r=e.target,n=$J(r).val();n=n.replace(/[^0-9]/g,""),na(t,n);var o=la(),i=Bi[o].max;t.val(i>=n?n:i),sa(t),ia()}))},zi=function(){var t=$J("#sih-steam-refill").find("#sih-steam-refill-login"),e=t.closest(".sih-steam-refill-form__input_outer").find(".sih-steam-refill-form__clear"),r=t.closest(".sih-steam-refill-form__input_outer").find(".sih-refill-presets_login");t.on("keyup",(function(t){var n=$J(t.target).val();r.toggleClass("hidden",!!n),e.toggleClass("hidden",!n)})),t.on("paste",(function(e){var r=(e.originalEvent||e).clipboardData.getData("text/plain");r=r.replace(/[^a-zA-Z0-9._\- ]/g,""),t.val(r),e.preventDefault()})),t.on("focusout",(function(e){var r=e.target,n=$J(r).val();oa(t,n)}))},qi=function(){var t=$J("#sih-steam-refill").find(".sih-steam-refill-form__clear"),e=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign");t.each((function(t,r){var n=$J(r);n.off("click").click((function(){var t=n.closest(".sih-steam-refill-form__item-block"),r=n.closest(".sih-steam-refill-form__input_outer"),o=r.find(".sih-steam-refill-form__input"),i=r.find(".sih-refill-presets_login"),a=t.find(".sih-alert-block"),s=t.find(".sih-steam-refill-form__error");o.val(""),i.removeClass("hidden"),r.removeClass("error"),n.addClass("hidden"),a.removeClass("active"),s.addClass("hidden"),"refill"===t.attr("data-name")&&e.addClass("hidden"),ia()}))}))},Qi=function(){var t=$J("#sih-steam-refill").find(".sih-refill-presets__item"),e=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign");t.each((function(t,r){var n=$J(r);n.off("click").click((function(t){var r=n.attr("data-value"),o=n.closest(".sih-steam-refill-form__item-block"),i=o.find(".sih-steam-refill-form__input"),a=n.closest(".sih-steam-refill-form__item-block").find(".sih-steam-refill-form__clear"),s=n.closest(".sih-steam-refill-form__item-block").find(".sih-refill-presets_login");i.val(r),r?(s.addClass("hidden"),a.removeClass("hidden"),"refill"===o.attr("data-name")&&(sa(i),e.removeClass("hidden"))):(a.addClass("hidden"),s.removeClass("hidden"),"refill"===o.attr("data-name")&&e.addClass("hidden")),"refill"===o.attr("data-name")?(na(i,r),ia()):oa(i,r)}))}))},Xi=function(){var t=$J("#sih-steam-refill"),e=t.find("#sih-tos-steam-refill");t.find("#sih-steam-refill-pay");e.off("change").change((function(t){aa()}))},ta=function(){var t=$J("#sih-steam-refill"),e=t.find(".sih-payment-method__input"),r=t.find("#sih-steam-refill-input");e.on("change",(function(){var e=r.val(),n=la(),o=Bi[n],i=o.min,a=o.max;e&&(na(r,e),r.val(a>=e?e:a),sa(r)),t.find('.sih-steam-refill-form__item-block[data-name="refill"] .sih-info-block__message').text("Максимальная сумма ".concat(a," ₽")),$J("#sih-steam-refill-input").attr("placeholder","От ".concat(i," ₽")),ia()}))},ea=function(){var t=$J("#sih-steam-refill"),e=t.find("#sih-steam-refill-pay");e.off("click").click((function(r){clearTimeout(Fi),Fi=setTimeout(Mi(Di().mark((function r(){var n,o,i,a,s,c,l,u,f,d,h,p;return Di().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n=t.find("#sih-steam-refill-input"),o=t.find("#sih-steam-refill-login"),i=t.find("#sih-steam-refill-total"),a=+n.val(),s=o.val(),c=+i.attr("data-value"),l=la(),u=na(n,a),f=oa(o,s),!u&&!f){r.next=12;break}return r.abrupt("return");case 12:return e.addClass("animated"),r.next=15,Hi.checkSteamLogin(s,l);case 15:if(d=r.sent,"sih"!==l){r.next=23;break}return r.next=19,Hi.initSteamRefillBySih({steamUsername:s,amount:c,transactionId:d});case 19:e.removeClass("animated"),t.find(".sih-modal__close").click(),r.next=29;break;case 23:return r.next=25,Hi.initSteamRefill({steamUsername:s,amount:c,netAmount:a,transactionId:d,paymentMethod:l});case 25:h=r.sent,p=h.response.payUrl,chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_OPEN_TAB_SETTINGS",data:{url:p}},(function(){})),e.removeClass("animated");case 29:r.next=35;break;case 31:r.prev=31,r.t0=r.catch(0),r.t0,e.removeClass("animated");case 35:case"end":return r.stop()}}),r,null,[[0,31]])}))),300)}))},ra=function(){$J(".sih-refill-user-info__btn").click(Mi(Di().mark((function t(){var e;return Di().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dt.getSihAppToken();case 2:e=t.sent,window.open("https://sih.app/pay?amount=1#payToken=".concat(e),"_blank");case 4:case"end":return t.stop()}}),t)}))))},na=function(t,e){var r,n=t.closest(".sih-steam-refill-form__input_outer"),o=t.closest(".sih-steam-refill-form__item-block").find(".sih-info-block"),i=t.closest(".sih-steam-refill-form__item-block").find(".sih-alert-block"),a=i.find(".sih-alert-block__message"),s=la();if(e<Bi[s].min){var c=_.A.getPriceFromCurrency(Bi[s].min,5,5).text;r="Минимальная сумма пополнения ".concat(c),o.addClass("hidden"),i.addClass("active"),n.addClass("error"),a.text(r)}else if(e>Bi[s].min&&e>Bi[s].max){var l=_.A.getPriceFromCurrency(Bi[s].max,5,5).text;r="Максимальная сумма пополнения ".concat(l),o.addClass("hidden"),i.addClass("active"),n.addClass("error"),a.text(r)}else o.removeClass("hidden"),i.removeClass("active"),n.removeClass("error"),a.text("");return r},oa=function(t,e){var r,n=t.closest(".sih-steam-refill-form__input_outer"),o=t.closest(".sih-steam-refill-form__item-block").find(".sih-info-block"),i=t.closest(".sih-steam-refill-form__item-block").find(".sih-alert-block"),a=t.closest(".sih-steam-refill-form__item-block").find(".sih-steam-refill-form__error"),s=i.find(".sih-alert-block__message");e||(r="Некорректный логин или email"),(e.length<3||e.length>150)&&(r="Некорректный логин или email");return/^[a-zA-Z0-9._\- ]+$/.test(e)||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(r="Некорректный логин или email"),o.toggleClass("hidden",!!r),i.toggleClass("active",!!r),n.toggleClass("error",!!r),a.toggleClass("hidden",!r),s.text(r||""),r},ia=function(){var t=$J("#sih-steam-refill"),e=t.find("#sih-steam-refill-input"),r=t.find("#sih-steam-refill-amount"),n=t.find("#sih-steam-refill-commission"),o=t.find("#sih-steam-refill-total"),i=t.find("#sih-steam-refill-cashback"),a=t.find("#sih-need-refill-sih-balance"),s=la(),c=Bi[s].commission,l=+e.val(),u=l*c,f=l+u,d=.005*l,h=f-t.find(".sih-refill-user-info__balance-value").attr("data-user-balance"),p=_.A.getPriceFromCurrency(l,5,5).text,v=_.A.getPriceFromCurrency(u,5,5).text,m=_.A.getPriceFromCurrency(f,5,5).text,y=_.A.getPriceFromCurrency(d,5,5).text,g=_.A.getPriceFromCurrency(h,5,5).text;r.attr("data-value",l).text(p),n.attr("data-value",u).text(v),o.attr("data-value",f).text(m),i.attr("data-value",d).text(y),h>0?a.attr("data-value",h).text(g):a.attr("data-value",0).text(0),t.find(".sih-refill-user-info").toggle("sih"===s),t.find(".sih-refill-user-info__btn").toggleClass("sih-refill-user-info__btn_hidden","sih"===s&&h<0),t.find("#sih-need-refill-sih-balance").parent().toggle("sih"===s&&h>0),aa()},aa=function(){var t=$J("#sih-steam-refill"),e=t.find("#sih-tos-steam-refill"),r=t.find("#sih-steam-refill-pay"),n=e.is(":checked"),o=$J("#sih-need-refill-sih-balance").attr("data-value"),i=la();r.toggleClass("inactive",!n||"sih"===i&&o>0)},sa=function(t){var e=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign"),r=ca(t.val(),t.css("font"))+20;e.css("left",r+"px")},ca=function(t,e){var r=document.createElement("canvas").getContext("2d");return r.font=e,r.measureText(t).width},la=function(){return $J("#sih-steam-refill").find(".sih-payment-method .sih-payment-method__input:checked").attr("data-method")};function ua(t){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(t)}function fa(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fa=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ua(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ua(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function da(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ha(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){da(i,n,o,a,s,"next",t)}function s(t){da(i,n,o,a,s,"throw",t)}a(void 0)}))}}var pa=function(){var t=ha(fa().mark((function t(){return fa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,va();case 2:Zi(),zi(),qi(),Qi(),Xi(),ta(),ea(),ra(),setInterval(Yi,2e4);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),va=function(){var t=ha(fa().mark((function t(){var e,r,n,o;return fa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=$J("body"),r=$J('\n    <div id="sih-steam-refill" class="sih-steam-refill">\n      <div class="sih-steam-refill__fade"></div>\n      <div class="sih-modal sih-global sih-steam-refill-modal '.concat(Vi()?"new-year-giveaway":"",'">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column"></div>\n      </div>\n    </div>\n  ')),n=$J('<div class="sih-steam-refill__modal-preloader active">\n      <div class="sih-steam-refill__modal-preloader_loader"></div>\n    </div>'),r.find(".sih-modal__inner").append(n),e.find(".sih-steam-refill").length||(e.append(r),$J("body").css("overflow","hidden")),ma(),t.next=8,Wi();case 8:o=t.sent,r.find(".sih-steam-refill__modal-preloader").removeClass("active"),r.find(".sih-modal__inner").append(o);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ma=function(){ya()},ya=function(){var t=$J("#sih-steam-refill");t.on("click",".sih-steam-refill__fade, .sih-modal__close",(function(){t.hide().remove(),$J("body").css("overflow","auto")})),$J(document).off("keydown").keydown(function(){var e=ha(fa().mark((function e(r){return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:27===r.keyCode&&(r.stopPropagation(),t.hide().remove(),$J("body").css("overflow","auto"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},ga=[{bannerId:"sih_sda",func:function(){ct.set({group:"sih-internal",target:"Community Market",action:"click",properties:{prop1:"Take charge of your Steam security"}}),chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_OPEN_SDA_WINDOW"},(function(){}))}},{bannerId:"steam_refill",func:function(){ct.set({group:"sih-internal",target:"Community Market",action:"click",properties:{prop1:"Steam refill with great value"}}),pa()}}],_a=function(){$J(".sih_panel_mode .market-side-banner").click((function(){var t=$J(this).attr("data-banner-id");ga.find((function(e){return e.bannerId===t})).func()}))},wa=function(){ba(),_a()},ba=function(){var t=ga.find((function(t){return"sih_sda"===t.bannerId})),e='<div class="market-side-banner" data-banner-id="'.concat(t.bannerId,'">\n    <div class="market-side-banner__text">').concat(SIHLang.internal_ad_banner[t.bannerId],'</div>\n    <img\n      alt="').concat(t.bannerId,'"\n      src="chrome-extension://').concat(SIHID,"/assets/market/sideBanners/").concat(t.bannerId,'.svg"\n      class="market-side-banner__img"\n    />\n  </div>');$J(".sih_panel_mode").append(e)},xa=function(){$J("body").on("click",".settings-list .switcher",(function(){k.setSync(this.dataset.settingsKey,this.checked)}))},Sa=function(){$J("body").on("click",(function(t){$J(t.target).closest(".sih-trade-settings-modal").length||($J(".sih-trade-settings-modal").hide(),$J(".sih-trade-settings-modal .settings-list").empty())}))},La=function(){$J("body").on("click",".sih_panel_mode .sih-settings__btn",(function(t){$J(".sih-trade-settings-modal").is(":visible")?$J(".sih-trade-settings-modal").hide():Oa()}))};function ka(t){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(t)}function Ia(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ia=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ka(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ka(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Ea(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var Ca=function(){Pa(),xa(),Sa(),La()},Oa=function(){var t,e=(t=Ia().mark((function t(){var e,r;return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=["autoaccept","sih_market_autoaccept_trades_toggle","autocheckofferprice","autodecline"],t.next=3,k.getSync(e);case 3:r=t.sent,e.forEach((function(t){$J(".sih-trade-settings-modal .settings-list").append('<div class="settings-list__item">\n        <img src="chrome-extension://'.concat(SIHID,"/assets/tradeoffer/settings/").concat(t,'.svg" alt="').concat(t,'" />\n        <div class="settings-item-desc">\n          <div class="settings-item-desc__title">').concat(SIHLang.tadeoffer_settings.list[t],'</div>\n          <div class="settings-item-desc__subtitle">\n            ').concat(SIHLang.tadeoffer_settings.list[t+"_subtitle"]||"",'\n          </div>\n        </div>\n        <input\n          class="switcher"\n          type="checkbox"\n          data-settings-key="').concat(t,'"\n          ').concat(r[t]?"checked":"","\n        />\n      </div>"))})),$J.switcher(".settings-list .switcher"),$J(".sih-trade-settings-modal").show();case 7:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ea(i,n,o,a,s,"next",t)}function s(t){Ea(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}(),Pa=function(){var t=$J(".sih_panel_mode .sih-settings");t.find(".sih-trade-settings-modal").length||t.append('<div class="sih-trade-settings-modal sih-global" style="display: none">\n    <div class="settings-list"></div>\n  </div>')};function $a(){var t,e=' <div class="sih_panel_mode row sih-global">\n    <div class="sih_bg"></div>\n    <div class="sih_status_container">\n      <a\n        href="javascript:void(0)"\n        class="sih_status_button '.concat(IS_ENABLED_SIH?"on":"off",'"\n        data-enabled="').concat(IS_ENABLED_SIH,'"\n      >\n        <div class="sih_status_icon"></div>\n        <div class="sih_status_text">SIH ').concat(IS_ENABLED_SIH?"ON":"OFF",'</div>\n      </a>\n      <div class="sih-settings">\n        <div class="sih-settings__btn">\n          <div>').concat(SIHLang.tadeoffer_settings.btn_text,'</div>\n          <img class="w-16" src="chrome-extension://').concat(SIHID,'/assets/settings.svg" alt="settings" />\n        </div>\n      </div>\n    </div>\n    <div class="sih_tradeoffer_mode">\n      <a href="javascript:void(0)" class="sih_tradeoffer_mode_button lite">Lite</a>\n      <a href="javascript:void(0)" class="sih_tradeoffer_mode_button full">Full</a>\n    </div>\n  </div>');$J(".profile_small_header_texture").append(e),$J(".sih_panel_mode").fadeIn("slow"),$J(".sih_panel_mode").css("display","flex"),$J(".sih_status_button").click((function(){var t=$J(this).data("enabled");k.setSync("enabledSih_tradeofferrevPage",!t).then((function(){window.location.reload()}))})),t=$J(".sih_tradeoffer_mode"),function(){var t=$J(".sih_tradeoffer_mode"),e=ci();!e||e&&!e.mode?(t.find(".sih_tradeoffer_mode_button.lite").addClass("active"),e.mode="lite",li(e)):t.find(".sih_tradeoffer_mode_button.".concat(e.mode)).addClass("active")}(),t.find(".sih_tradeoffer_mode_button").each((function(t,e){$J(e).off("click").click((function(){var t=ci(),e=$J(this);e.hasClass("lite")&&!e.hasClass("active")?(e.addClass("active").siblings().removeClass("active"),t.mode="lite",li(t),window.location.reload()):e.hasClass("full")&&!e.hasClass("active")&&(e.addClass("active").siblings().removeClass("active"),t.mode="full",li(t),window.location.reload())}))})),Ca(),wa()}function Ja(){}function Ta(t){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ta(t)}function Aa(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Aa=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Ta(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ta(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Na(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ja(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Na(i,n,o,a,s,"next",t)}function s(t){Na(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Ha=function(){$J("body").on("click",".sih-rep-all-reviews-tooltip__close, .sih-rep-all-reviews-tooltip__btn, .sih-rep-review-btn-container .rightcol_controls_content",ja(Aa().mark((function t(){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ua();case 2:case"end":return t.stop()}}),t)}))))};function Ga(t){return Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(t)}function Da(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Da=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Ga(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ga(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Ra(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ma(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ra(i,n,o,a,s,"next",t)}function s(t){Ra(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Fa=function(){var t=Ma(Da().mark((function t(){var e,r,n,o;return Da().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getLocal("SIH_FEATURES_MENU");case 2:if(r=t.sent,n=r.SIH_FEATURES_MENU,void 0!==(o=void 0===n?{}:n).sihRep){t.next=9;break}return o.sihRep={showOverlay:!0},t.next=9,k.setLocal("SIH_FEATURES_MENU",o);case 9:if(null==o||null===(e=o.sihRep)||void 0===e||!e.showOverlay){t.next=13;break}return t.next=12,Ba();case 12:Ha();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ua=function(){var t=Ma(Da().mark((function t(){var e,r,n,o;return Da().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=$J("body"),$J(".profile_rightcol").removeClass("overlay"),e.find(".sih-rep-all-reviews-overlay").hide().remove(),e.find(".sih-rep-all-reviews-panel-overlay").hide().remove(),e.find(".sih-rep-all-reviews-tooltip").hide().remove(),t.next=8,k.getLocal("SIH_FEATURES_MENU");case 8:return r=t.sent,n=r.SIH_FEATURES_MENU,(o=void 0===n?{}:n).sihRep.showOverlay=!1,t.next=14,k.setLocal("SIH_FEATURES_MENU",o);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ba=function(){var t=Ma(Da().mark((function t(){var e,r,n,o,i;return Da().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$J(".profile_rightcol"),r=$J(".sih-rep-review-btn-container"),e.addClass("overlay"),n=$J(' <div class="sih-rep-all-reviews-overlay"></div> '),o=$J(' <div class="sih-rep-all-reviews-panel-overlay"></div> '),i=$J('<div class="sih-rep-all-reviews-tooltip sih-global">\n      <div class="row gap-10">\n        <span class="text text_white fs-14">'.concat(SIHLang.sih_rep.overlay_tooltip,'</span>\n        <div class="sih-rep-all-reviews-tooltip__close">\n          <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M12.1824 13.568L7.28242 18.468C7.09909 18.6514 6.86576 18.743 6.58242 18.743C6.29909 18.743 6.06575 18.6514 5.88242 18.468C5.69909 18.2847 5.60742 18.0514 5.60742 17.768C5.60742 17.4847 5.69909 17.2514 5.88242 17.068L10.7824 12.168L5.88242 7.26802C5.69909 7.08468 5.60742 6.85135 5.60742 6.56802C5.60742 6.28468 5.69909 6.05135 5.88242 5.86802C6.06575 5.68468 6.29909 5.59302 6.58242 5.59302C6.86576 5.59302 7.09909 5.68468 7.28242 5.86802L12.1824 10.768L17.0824 5.86802C17.2658 5.68468 17.4991 5.59302 17.7824 5.59302C18.0658 5.59302 18.2991 5.68468 18.4824 5.86802C18.6658 6.05135 18.7574 6.28468 18.7574 6.56802C18.7574 6.85135 18.6658 7.08468 18.4824 7.26802L13.5824 12.168L18.4824 17.068C18.6658 17.2514 18.7574 17.4847 18.7574 17.768C18.7574 18.0514 18.6658 18.2847 18.4824 18.468C18.2991 18.6514 18.0658 18.743 17.7824 18.743C17.4991 18.743 17.2658 18.6514 17.0824 18.468L12.1824 13.568Z"\n              fill="currentColor"\n            />\n          </svg>\n        </div>\n      </div>\n\n      <div class="sih-rep-all-reviews-tooltip__btn">').concat(SIHLang.sih_rep.okay,"</div>\n    </div>")),$J("body").append(n),e.append(o),r.append(i);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function Va(t){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(t)}function Wa(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wa=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Va(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Va(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Ya(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ka(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ya(i,n,o,a,s,"next",t)}function s(t){Ya(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Za=function(){$J("#sih-rep-show-all-reviews").on("click",Ka(Wa().mark((function t(){return Wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cn();case 2:case"end":return t.stop()}}),t)}))))};function za(t){return za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(t)}function qa(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */qa=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:I(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function _(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b($([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=_.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==za(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function I(e,r,n){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(za(e)+" is not iterable")}return g.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Qa(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var Xa=function(){var t,e=(t=qa().mark((function t(){return qa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ts(),Za(),t.next=4,Fa();case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Qa(i,n,o,a,s,"next",t)}function s(t){Qa(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}(),ts=function(){var t=$J(".responsive_local_menu .rightcol_controls").first().find(".rightcol_controls_content .whiteLink").filter((function(t,e){return $J(e).attr("href").includes("tradehistory")})).closest(".rightcol_controls_content"),e=$J('<div class="sih-rep-review-btn-container sih-global">\n      <div class="rightcol_controls_rule"></div>\n      <div class="rightcol_controls_content">\n        <a id="sih-rep-show-all-reviews" class="whiteLink" href="javascript:void(0)">'.concat(SIHLang.sih_rep.reviews,'</a>\n        <span class="sih-rep-review-btn-container__new text text_white fs-10">New</span>\n      </div>\n    </div>'));t.after(e)};function es(){var t,e,r=ci();t=$J(".profile_leftcol"),e=window.location.href,t.find(".tradeoffer").addClass("lite"),e.includes("history")&&t.find(".tradeoffer").addClass("history"),ho(),fo(),r.autoLoadMarketPrice&&_i(),bi()}SIH=n})();