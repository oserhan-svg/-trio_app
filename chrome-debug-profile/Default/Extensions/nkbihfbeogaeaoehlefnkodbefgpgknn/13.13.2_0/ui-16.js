LavaPack.loadBundle([[7846,{"../../../../app/scripts/lib/util":358,"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/network":5772,"../../../../shared/lib/ui-utils":5880,"../../../../shared/modules/selectors/networks":5908,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":6082,"../../../components/component-library":6486,"../../../contexts/metametrics":7005,"../../../ducks/app/app":7018,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../helpers/constants/zendesk-url":7061,"../../../hooks/useI18nContext":7200,"../../../selectors":8035,"../../../selectors/identity/backup-and-sync":8034,"../../../store/actions":8065,"../../settings/security-tab/delete-metametrics-data-button":7926,"../../settings/security-tab/metametrics-toggle/metametrics-toggle":7929,"./setting":7847,classnames:4071,loglevel:4802,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,h.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,r.useNavigate)(),[C,I]=(0,a.useState)(!1),[N,R]=(0,a.useState)(null),[A,P]=(0,a.useState)(!0),M=(0,o.useSelector)(e=>e.metamask),{use4ByteResolution:B,useTokenDetection:D,useCurrencyRateCheck:L,useMultiAccountBalanceChecker:F,ipfsGateway:j,useAddressBarEnsResolution:U,useTransactionSimulations:W}=M,z=(0,o.useSelector)(y.getUseExternalNameSources),$=(0,o.useSelector)(y.getIsSocialLoginFlow),V=(0,o.useSelector)(y.getDataCollectionForMarketing),[q,G]=(0,a.useState)(B),[H,J]=(0,a.useState)(D),[K,Y]=(0,a.useState)(L),[X,Q]=(0,a.useState)(F),[Z,ee]=(0,a.useState)(W),[te,ne]=(0,a.useState)(j),[ae,oe]=(0,a.useState)(null),[re,se]=(0,a.useState)(U),[ie,le]=(0,a.useState)(z),ce=(0,a.useContext)(m.MetaMetricsContext),ue=(0,o.useSelector)(v.getNetworkConfigurationsByChainId),de=(0,o.useSelector)(y.getExternalServicesOnboardingToggleState),pe=(0,o.useSelector)(x.selectIsBackupAndSyncEnabled),{search:me}=(0,r.useLocation)(),fe=new URLSearchParams(me).get("isFromReminder"),ge=e=>{R(e),I(!0),setTimeout(()=>{P(!1)},O)},he=[{id:1,title:e("general"),subtitle:e("generalDescription")},{id:2,title:e("assets"),subtitle:e("assetsDescription")},{id:3,title:e($?"securityDefaultSettingsSocialLogin":"security"),subtitle:e($?"securitySocialLoginDefaultSettingsDescription":"securityDescription")}];return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"privacy-settings","data-testid":"privacy-settings"},a.default.createElement("div",{className:(0,s.default)("container",{"show-detail":C,"show-list":!C})},a.default.createElement("div",{className:"list-view"},a.default.createElement(p.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:6,display:f.Display.Flex,flexDirection:f.FlexDirection.Column,justifyContent:f.JustifyContent.flexStart},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,flexDirection:f.FlexDirection.Row,justifyContent:f.JustifyContent.flexStart},a.default.createElement(p.ButtonIcon,{iconName:p.IconName.ArrowLeft,ariaLabel:"Back",size:p.ButtonIconSize.Lg,"data-testid":"privacy-settings-back-button",onClick:()=>{if(t((0,_.setUse4ByteResolution)(q)),t((0,_.setUseTokenDetection)(H)),t((0,_.setUseMultiAccountBalanceChecker)(X)),t((0,_.setUseCurrencyRateCheck)(K)),t((0,_.setUseAddressBarEnsResolution)(re)),(0,_.setUseTransactionSimulations)(Z),(0,_.setUseExternalNameSources)(ie),te&&!ae){const{host:e}=new URL((0,l.addUrlProtocolPrefix)(te));t((0,_.setIpfsGateway)(e))}ce({category:c.MetaMetricsEventCategory.Onboarding,event:c.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",is_profile_syncing_enabled:pe,is_basic_functionality_enabled:de,turnon_token_detection:H}}),n(fe?`${g.ONBOARDING_COMPLETION_ROUTE}?isFromReminder=true`:g.ONBOARDING_COMPLETION_ROUTE,{replace:!0})}}),a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.center,width:f.BlockSize.Full},a.default.createElement(p.Text,{variant:f.TextVariant.headingLg,as:"h2"},e("defaultSettingsTitle")))),a.default.createElement(p.Text,{variant:f.TextVariant.bodyLgMedium,marginTop:5},e("defaultSettingsSubTitle")),a.default.createElement("a",{href:"https://support.metamask.io/privacy-and-security/privacy-best-practices",target:"_blank",rel:"noreferrer",key:"learnMoreAboutPrivacy",style:{fontSize:"var(--font-size-5)"}},e("learnMoreAboutPrivacy"))),a.default.createElement(p.Box,null,a.default.createElement(p.Box,{as:"ul",marginTop:4,marginBottom:4,style:{listStyleType:"none"},className:"privacy-settings__categories-list"},he.map(e=>a.default.createElement(p.Box,{marginTop:5,marginBottom:5,key:e.id,className:"categories-item",onClick:()=>ge(e)},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.flexStart,justifyContent:f.JustifyContent.spaceBetween,"data-testid":`category-item-${e.title}`},a.default.createElement(p.Text,{variant:f.TextVariant.bodyLgMedium},e.title),a.default.createElement(p.ButtonIcon,{iconName:p.IconName.ArrowRight,ariaLabel:"Next",size:p.ButtonIconSize.Lg,color:f.IconColor.iconDefault,onClick:()=>ge(e)})),a.default.createElement(p.Text,{className:"description",variant:f.TextVariant.bodyMd,color:f.TextColor.textAlternative},e.subtitle)))))),a.default.createElement("div",{className:(0,s.default)("detail-view",{hidden:!C&&A})},a.default.createElement(p.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:5,display:f.Display.Flex,flexDirection:f.FlexDirection.Row,justifyContent:f.JustifyContent.flexStart},a.default.createElement(p.ButtonIcon,{"data-testid":"category-back-button",iconName:p.IconName.ArrowLeft,ariaLabel:"Back",size:p.ButtonIconSize.Lg,onClick:()=>{I(!1),setTimeout(()=>{P(!0)},O)}}),a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.center,width:f.BlockSize.Full},a.default.createElement(p.Text,{variant:f.TextVariant.headingLg,as:"h2"},null==N?void 0:N.title))),a.default.createElement("div",{className:"privacy-settings__settings","data-testid":"privacy-settings-settings"},1===(null==N?void 0:N.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(w.Setting,{dataTestId:"basic-functionality-toggle",value:de,setValue:e=>{e?(t((0,b.onboardingToggleBasicFunctionalityOn)()),ce({category:c.MetaMetricsEventCategory.Onboarding,event:c.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_profile_syncing_on:!1}})):t((0,b.openBasicFunctionalityModal)())},title:e("basicConfigurationLabel"),description:e("basicConfigurationDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))])}),a.default.createElement(k.BackupAndSyncToggle,null),a.default.createElement(w.Setting,{title:e("onboardingAdvancedPrivacyNetworkTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyNetworkDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy/",key:"link",target:"_blank",rel:"noopener noreferrer"},e("privacyMsg")),a.default.createElement("a",{href:d.default.ADD_SOLANA_ACCOUNTS,key:"link",target:"_blank",rel:"noopener noreferrer"},e("onboardingAdvancedPrivacyNetworkDescriptionCallToAction"))]),a.default.createElement(p.Box,{paddingTop:4},a.default.createElement(p.Box,{display:f.Display.Flex,flexDirection:f.FlexDirection.Column,gap:5},Object.values(ue).filter(({chainId:e})=>!E.TEST_CHAINS.includes(e)).map(e=>{var n,o;return a.default.createElement(p.Box,{key:e.chainId,className:"privacy-settings__customizable-network",onClick:()=>{t((0,_.setEditedNetwork)({chainId:e.chainId})),t((0,_.toggleNetworkMenu)())},display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.spaceBetween},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center},a.default.createElement(p.AvatarNetwork,{src:E.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name}),a.default.createElement(p.Box,{textAlign:f.TextAlign.Left,marginLeft:3},a.default.createElement(p.Text,{variant:f.TextVariant.bodySmMedium},e.name),a.default.createElement(p.Text,{variant:f.TextVariant.bodyXs,color:f.TextColor.textAlternative},null===(n=new URL(null==e||null===(o=e.rpcEndpoints[null==e?void 0:e.defaultRpcEndpointIndex])||void 0===o?void 0:o.url))||void 0===n?void 0:n.origin))),a.default.createElement(p.ButtonIcon,{iconName:p.IconName.ArrowRight,size:p.ButtonIconSize.Md,ariaLabel:"Next"}))}),a.default.createElement(p.ButtonLink,{onClick:()=>{t((0,_.toggleNetworkMenu)({isAddingNewNetwork:!0}))},justifyContent:f.JustifyContent.flexStart},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center},a.default.createElement(p.Icon,{name:p.IconName.Add,marginRight:3}),a.default.createElement(p.Text,{color:f.TextColor.primaryDefault},e("addANetwork")))))))})):null,2===(null==N?void 0:N.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(w.Setting,{value:H,setValue:J,title:e("turnOnTokenDetection"),description:e("useTokenDetectionPrivacyDesc")}),a.default.createElement(w.Setting,{value:Z,setValue:ee,title:e("simulationsSettingSubHeader"),description:e("simulationsSettingDescription",[a.default.createElement("a",{key:"learn_more_link",href:u.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))])}),a.default.createElement(w.Setting,{title:e("onboardingAdvancedPrivacyIPFSTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyIPFSDescription"),a.default.createElement(p.Box,{paddingTop:2},a.default.createElement(p.TextField,{value:te,style:{width:"100%"},inputProps:{"data-testid":"ipfs-input"},onChange:t=>{(t=>{ne(t);try{const{host:e}=new URL((0,l.addUrlProtocolPrefix)(t));if(!e||"gateway.ipfs.io"===e)throw new Error;oe(null)}catch(t){oe(e("onboardingAdvancedPrivacyIPFSInvalid"))}})(t.target.value)}}),te?a.default.createElement(p.Text,{variant:f.TextVariant.bodySm,color:ae?f.TextColor.errorDefault:f.TextColor.successDefault},ae||e("onboardingAdvancedPrivacyIPFSValid")):null))}),a.default.createElement(w.Setting,{value:K,setValue:Y,title:e("currencyRateCheckToggle"),dataTestId:"currency-rate-check-toggle",description:e("currencyRateCheckToggleDescription",[a.default.createElement("a",{key:"coingecko_link",href:u.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),a.default.createElement("a",{key:"cryptocompare_link",href:u.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),a.default.createElement("a",{key:"privacy_policy_link",href:u.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))])}),a.default.createElement(w.Setting,{value:re,setValue:se,title:e("ensDomainsSettingTitle"),description:a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Text,{variant:f.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),a.default.createElement(p.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},a.default.createElement(p.Text,{variant:f.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart1")),a.default.createElement(p.Text,{variant:f.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart2"))),a.default.createElement(p.Text,{variant:f.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))}),a.default.createElement(w.Setting,{value:X,setValue:Q,title:e("useMultiAccountBalanceChecker"),description:e("useMultiAccountBalanceCheckerSettingDescription")})):null,3===(null==N?void 0:N.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(w.Setting,{value:q,setValue:G,title:e("use4ByteResolution"),description:e("toggleDecodeDescription")}),a.default.createElement(w.Setting,{value:ie,setValue:le,title:e("externalNameSourcesSetting"),description:e("externalNameSourcesSettingDescription")}),$&&a.default.createElement(a.default.Fragment,null,a.default.createElement(S.default,{dataCollectionForMarketing:V,setDataCollectionForMarketing:async e=>{try{t((0,_.setMarketingConsent)(e))}catch(e){i.default.error("Error setting marketing consent in default settings",e)}t((0,_.setDataCollectionForMarketing)(e))},fromDefaultSettings:!0}),a.default.createElement(T.default,{defaultPrivacySettings:!0}))):null)))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom-v5-compat"),s=C(e("classnames")),i=C(e("loglevel")),l=e("../../../../app/scripts/lib/util"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/lib/ui-utils"),d=C(e("../../../helpers/constants/zendesk-url")),p=e("../../../components/component-library"),m=e("../../../contexts/metametrics"),f=e("../../../helpers/constants/design-system"),g=e("../../../helpers/constants/routes"),h=e("../../../hooks/useI18nContext"),y=e("../../../selectors"),v=e("../../../../shared/modules/selectors/networks"),_=e("../../../store/actions"),b=e("../../../ducks/app/app"),E=e("../../../../shared/constants/network"),x=e("../../../selectors/identity/backup-and-sync"),k=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle"),T=C(e("../../settings/security-tab/delete-metametrics-data-button")),S=C(e("../../settings/security-tab/metametrics-toggle/metametrics-toggle")),w=e("./setting");function C(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}const O=500}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/privacy-settings.tsx"}],[7847,{"../../../components/component-library":6486,"../../../components/ui/toggle-button":6981,"../../../helpers/constants/design-system":7049,"../../../hooks/useI18nContext":7200,"prop-types":5052,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Setting=void 0;var a=e("react-compiler-runtime"),o=u(e("react")),r=u(e("prop-types")),s=e("../../../components/component-library"),i=u(e("../../../components/ui/toggle-button")),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext");function u(e){return e&&e.__esModule?e:{default:e}}const d=e=>{const t=(0,a.c)(17),{value:n,setValue:r,title:u,description:d,showToggle:p,dataTestId:m,disabled:f}=e,g=p===undefined||p,h=f!==undefined&&f,y=(0,c.useI18nContext)();let v,_,b,E,x;return t[0]!==u?(v=o.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium},u),t[0]=u,t[1]=v):v=t[1],t[2]!==d?(_=o.default.createElement(s.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,as:"div"},d),t[2]=d,t[3]=_):_=t[3],t[4]!==v||t[5]!==_?(b=o.default.createElement("div",{className:"privacy-settings__setting"},v,_),t[4]=v,t[5]=_,t[6]=b):b=t[6],t[7]!==h||t[8]!==r||t[9]!==g||t[10]!==y||t[11]!==n?(E=g?o.default.createElement("div",{className:"privacy-settings__setting__toggle"},o.default.createElement(i.default,{value:n,onToggle:e=>null==r?void 0:r(!e),offLabel:y("off"),onLabel:y("on"),disabled:h})):null,t[7]=h,t[8]=r,t[9]=g,t[10]=y,t[11]=n,t[12]=E):E=t[12],t[13]!==m||t[14]!==b||t[15]!==E?(x=o.default.createElement(s.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.flexStart,marginTop:3,marginBottom:3,className:"privacy-settings__setting__wrapper","data-testid":m},b,E),t[13]=m,t[14]=b,t[15]=E,t[16]=x):x=t[16],x};n.Setting=d,d.propTypes={value:r.default.bool,setValue:r.default.func,title:r.default.string,description:r.default.oneOfType([r.default.object,r.default.string]),showToggle:r.default.bool,dataTestId:r.default.string,disabled:r.default.bool}}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/setting.tsx"}],[7848,{"../../../../shared/constants/app":5753,"../../../../shared/constants/metametrics":5768,"../../../../shared/lib/trace":5873,"../../../../shared/modules/browser-runtime.utils":5884,"../../../components/component-library":6486,"../../../contexts/metametrics":7005,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../hooks/useI18nContext":7200,"../../../selectors/selectors":8052,"../../../store/actions":8065,"./confirm-srp-modal":7849,"./recovery-phrase-chips":7850,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom-v5-compat"),s=e("react-redux"),i=E(e("prop-types")),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../store/actions"),p=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),f=e("../../../selectors/selectors"),g=e("../../../helpers/constants/routes"),h=e("../../../../shared/constants/app"),y=e("../../../../shared/lib/trace"),v=e("../../../../shared/modules/browser-runtime.utils"),_=E(e("./confirm-srp-modal")),b=E(e("./recovery-phrase-chips"));function E(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}const k=e=>{const t=new Set,n=e.length;if(0===n)return[];for(;t.size<3;){const e=Math.floor(Math.random()*n);t.add(e)}return Array.from(t).map(t=>({index:t,word:e[t]}))};function T(e){const t=(0,a.c)(67),{secretRecoveryPhrase:n}=e,i=n===undefined?"":n,E=(0,s.useDispatch)(),x=(0,r.useNavigate)(),{search:T}=(0,r.useLocation)(),w=(0,u.useI18nContext)(),C=(0,o.useContext)(p.MetaMetricsContext),{bufferedEndTrace:I}=C,O=(0,s.useSelector)(f.getHDEntropyIndex);let N;t[0]!==i?(N=i?i.split(" "):[],t[0]=i,t[1]=N):N=t[1];const R=N;let A,P,M;if(t[2]!==T){const e=new URLSearchParams(T);A=e.get("isFromReminder"),P=e.get("isFromSettingsSecurity");const n=new URLSearchParams;A&&n.set("isFromReminder",A),P&&n.set("isFromSettingsSecurity",P),M=n.toString(),t[2]=T,t[3]=A,t[4]=P,t[5]=M}else A=t[3],P=t[4],M=t[5];const B=M,[D,L]=(0,o.useState)(!1),[F,j]=(0,o.useState)(!1);let U;t[6]!==R?(U=k(R),t[6]=R,t[7]=U):U=t[7];const[W,z]=(0,o.useState)(U),[$,V]=(0,o.useState)("");let q,G,H;t[8]!==x||t[9]!==B||t[10]!==i?(q=()=>{i||x(`${g.ONBOARDING_REVEAL_SRP_ROUTE}${B?`?${B}`:""}`,{replace:!0})},G=[x,i,B],t[8]=x,t[9]=B,t[10]=i,t[11]=q,t[12]=G):(q=t[11],G=t[12]),(0,o.useEffect)(q,G),t[13]!==R?(H=()=>{const e=k(R);z(e)},t[13]=R,t[14]=H):H=t[14];const J=H;let K;t[15]!==R?(K=e=>{if(e.some(S))V("");else{const t=[...R];e.forEach(e=>{t[e.index]=e.word}),V(t.join(" "))}},t[15]=R,t[16]=K):K=t[16];const Y=K;let X;t[17]!==$||t[18]!==i?(X=()=>{j($===i),L(!0)},t[17]=$,t[18]=i,t[19]=X):X=t[19];const Q=X;let Z;t[20]!==I||t[21]!==E||t[22]!==O||t[23]!==A||t[24]!==x||t[25]!==B||t[26]!==C?(Z=()=>{E((0,d.setSeedPhraseBackedUp)(!0)),C({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:O}}),null==I||I({name:y.TraceName.OnboardingNewSrpCreateWallet}),null==I||I({name:y.TraceName.OnboardingJourneyOverall});const e=(0,v.getBrowserName)()===h.PLATFORM_FIREFOX||A?g.ONBOARDING_COMPLETION_ROUTE:g.ONBOARDING_METAMETRICS;x(`${e}${B?`?${B}`:""}`,{replace:!0})},t[20]=I,t[21]=E,t[22]=O,t[23]=A,t[24]=x,t[25]=B,t[26]=C,t[27]=Z):Z=t[27];const ee=Z;let te;t[28]!==x?(te=()=>{x(g.REVEAL_SRP_LIST_ROUTE,{replace:!0})},t[28]=x,t[29]=te):te=t[29];const ne=te;let ae,oe,re,se,ie,le,ce,ue;t[30]!==ee||t[31]!==F||t[32]!==J||t[33]!==D?(ae=D&&o.default.createElement(_.default,{isError:!F,onContinue:ee,onClose:()=>{J(),L(!1)}}),t[30]=ee,t[31]=F,t[32]=J,t[33]=D,t[34]=ae):ae=t[34],t[35]!==A||t[36]!==P||t[37]!==x||t[38]!==ne||t[39]!==w?(oe=A&&P?o.default.createElement(l.Box,{className:"recovery-phrase__header",display:c.Display.Grid,alignItems:c.AlignItems.center,gap:1,marginBottom:4,width:c.BlockSize.Full},o.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-confirm-back-button",onClick:()=>x(g.PREVIOUS_ROUTE),ariaLabel:w("back")}),o.default.createElement(l.Text,{variant:c.TextVariant.headingSm,textAlign:c.TextAlign.Center},w("confirmRecoveryPhraseTitleSettings")),o.default.createElement(l.ButtonIcon,{iconName:l.IconName.Close,color:c.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-confirm-close-button",onClick:ne,ariaLabel:w("close")})):o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},o.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"confirm-recovery-phrase-back-button",onClick:()=>x(g.PREVIOUS_ROUTE),ariaLabel:w("back")})),o.default.createElement(l.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},o.default.createElement(l.Text,{variant:c.TextVariant.headingLg,as:"h2"},w("confirmRecoveryPhraseTitle")))),t[35]=A,t[36]=P,t[37]=x,t[38]=ne,t[39]=w,t[40]=oe):oe=t[40],t[41]!==w?(re=w("confirmRecoveryPhraseDetails"),t[41]=w,t[42]=re):re=t[42],t[43]!==re?(se=o.default.createElement(l.Box,{marginBottom:6},o.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault},re)),t[43]=re,t[44]=se):se=t[44],t[45]!==Y||t[46]!==W||t[47]!==R?(ie=R.length>0&&o.default.createElement(b.default,{secretRecoveryPhrase:R,quizWords:W,confirmPhase:!0,setInputValue:Y}),t[45]=Y,t[46]=W,t[47]=R,t[48]=ie):ie=t[48],t[49]!==ae||t[50]!==oe||t[51]!==se||t[52]!==ie?(le=o.default.createElement(l.Box,null,ae,oe,se,ie),t[49]=ae,t[50]=oe,t[51]=se,t[52]=ie,t[53]=le):le=t[53],t[54]!==Q?(ce=()=>Q(),t[54]=Q,t[55]=ce):ce=t[55],t[56]!==$?(ue=$.trim(),t[56]=$,t[57]=ue):ue=t[57];const de=""===ue;let pe,me,fe;return t[58]!==w?(pe=w("continue"),t[58]=w,t[59]=pe):pe=t[59],t[60]!==ce||t[61]!==de||t[62]!==pe?(me=o.default.createElement(l.Box,{width:c.BlockSize.Full},o.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,width:c.BlockSize.Full,"data-testid":"recovery-phrase-confirm",size:l.ButtonSize.Lg,className:"recovery-phrase__footer__confirm--button",onClick:ce,disabled:de},pe)),t[60]=ce,t[61]=de,t[62]=pe,t[63]=me):me=t[63],t[64]!==le||t[65]!==me?(fe=o.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,gap:6,className:"recovery-phrase recovery-phrase__confirm","data-testid":"confirm-recovery-phrase"},le,me),t[64]=le,t[65]=me,t[66]=fe):fe=t[66],fe}function S(e){return!e.word}T.propTypes={secretRecoveryPhrase:i.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-recovery-phrase.tsx"}],[7849,{"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../hooks/useI18nContext":7200,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(33),{onContinue:n,onClose:a,isError:u}=e,d=(0,i.useI18nContext)();let p;t[0]!==u||t[1]!==a||t[2]!==n?(p=()=>{u?a():n()},t[0]=u,t[1]=a,t[2]=n,t[3]=p):p=t[3];const m=p;let f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=r.default.createElement(l.ModalOverlay,null),t[4]=f):f=t[4];const g=u?l.IconName.CircleX:l.IconName.Confirmation,h=u?s.IconColor.errorDefault:s.IconColor.successDefault;let y,v,_,b,E,x,k,T,S,w;t[5]!==g||t[6]!==h?(y=r.default.createElement(l.Icon,{name:g,size:l.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:h}),t[5]=g,t[6]=h,t[7]=y):y=t[7];t[8]!==u||t[9]!==d?(v=d(u?"confirmSrpErrorTitle":"confirmSrpSuccessTitle"),t[8]=u,t[9]=d,t[10]=v):v=t[10];t[11]!==v?(_=r.default.createElement(l.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center,marginTop:2,as:"h2"},v),t[11]=v,t[12]=_):_=t[12];t[13]!==y||t[14]!==_?(b=r.default.createElement(l.ModalHeader,null,r.default.createElement(l.Box,{textAlign:s.TextAlign.Center},y,_)),t[13]=y,t[14]=_,t[15]=b):b=t[15];t[16]!==u||t[17]!==d?(E=d(u?"confirmSrpErrorDescription":"confirmSrpSuccessDescription"),t[16]=u,t[17]=d,t[18]=E):E=t[18];t[19]!==E?(x=r.default.createElement(l.Text,{variant:s.TextVariant.bodyMd},E),t[19]=E,t[20]=x):x=t[20];t[21]!==u||t[22]!==d?(k=d(u?"tryAgain":"gotIt"),t[21]=u,t[22]=d,t[23]=k):k=t[23];t[24]!==m||t[25]!==k?(T=r.default.createElement(l.Box,{marginTop:6},r.default.createElement(l.Button,{"data-testid":"confirm-srp-modal-button",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,onClick:m,block:!0},k)),t[24]=m,t[25]=k,t[26]=T):T=t[26];t[27]!==x||t[28]!==T?(S=r.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},x,T),t[27]=x,t[28]=T,t[29]=S):S=t[29];t[30]!==S||t[31]!==b?(w=r.default.createElement(l.Modal,{isOpen:!0,onClose:c,className:"confirm-srp-modal","data-testid":"confirm-srp-modal"},f,r.default.createElement(l.ModalContent,{alignItems:s.AlignItems.center},b,S)),t[30]=S,t[31]=b,t[32]=w):w=t[32];return w};var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},s=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),l=e("../../../components/component-library");function c(){return null}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-srp-modal.tsx"}],[7850,{"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../hooks/useI18nContext":7200,classnames:4071,"prop-types":5052,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m,n.fakeSeedPhraseWords=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("classnames")),s=u(e("prop-types")),i=e("../../../components/component-library"),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=n.fakeSeedPhraseWords=["candy","maple","cake","sugar","pudding","cream","honey","rich","smooth","crumble","sweet","treat"];function m(e){const t=(0,a.c)(61),{secretRecoveryPhrase:n,phraseRevealed:s,revealPhrase:u,confirmPhase:d,quizWords:p,setInputValue:m}=e,y=s===undefined||s;let b;t[0]!==p?(b=p===undefined?[]:p,t[0]=p,t[1]=b):b=t[1];const E=b,x=(0,l.useI18nContext)();let k;t[2]!==E?(k=E.map(_),t[2]=E,t[3]=k):k=t[3];const T=k;let S;t[4]!==T?(S=T.map(v),t[4]=T,t[5]=S):S=t[5];const[w,C]=(0,o.useState)(S),I=h,[O,N]=(0,o.useState)(I(w));let R;t[6]!==O||t[7]!==w?(R=(e,t)=>{const n=[...w],a=n.findIndex(e=>e.index===O);n[a]={index:O,word:e,actualIndexInSrp:t},C(n),N(I(n))},t[6]=O,t[7]=w,t[8]=R):R=t[8];const A=R;let P;t[9]!==w?(P=e=>{const t=[...w],n=t.findIndex(t=>t.word===e);t[n]={...t[n],word:"",actualIndexInSrp:-1},C(t),N(t[n].index)},t[9]=w,t[10]=P):P=t[10];const M=P;let B,D,L,F,j;t[11]!==w||t[12]!==m?(B=()=>{null==m||m(w)},D=[w,m],t[11]=w,t[12]=m,t[13]=B,t[14]=D):(B=t[13],D=t[14]),(0,o.useEffect)(B,D),t[15]!==E?(L=()=>{if(E.length){const e=E.map(g);C(e),N(I(e))}},F=[E],t[15]=E,t[16]=L,t[17]=F):(L=t[16],F=t[17]),(0,o.useEffect)(L,F),t[18]!==y||t[19]!==n?(j=y?n:n.map(f),t[18]=y,t[19]=n,t[20]=j):j=t[20];const U=j;let W,z;t[21]!==n?(W=n.join(":"),t[21]=n,t[22]=W):W=t[22],t[23]!==E?(z=JSON.stringify(E),t[23]=E,t[24]=z):z=t[24];const $=!y;let V,q,G,H,J,K,Y;if(t[25]!==$?(V=(0,r.default)("recovery-phrase__chips",{"recovery-phrase__chips--hidden":$}),t[25]=$,t[26]=V):V=t[26],t[27]!==d||t[28]!==O||t[29]!==T||t[30]!==U||t[31]!==w||t[32]!==M){let e;t[34]!==d||t[35]!==O||t[36]!==T||t[37]!==w||t[38]!==M?(e=(e,t)=>{var n;const a=T.includes(t),r=a?(null===(n=w.find(e=>e.index===t))||void 0===n?void 0:n.word)||"":e,s=t===O;return a||!d?o.default.createElement(i.Box,{as:a?"button":"div","data-testid":`recovery-phrase-chip-${t}`,className:"recovery-phrase__text",display:c.Display.Flex,alignItems:c.AlignItems.center,backgroundColor:c.BackgroundColor.backgroundDefault,borderColor:s?c.BorderColor.primaryDefault:c.BorderColor.borderDefault,borderWidth:s?2:1,borderRadius:c.BorderRadius.LG,paddingInline:2,paddingTop:1,paddingBottom:1,gap:1,onClick:()=>{a&&(""===r?N(t):M(r))}},o.default.createElement(i.Text,{color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),o.default.createElement(i.Text,null,a?r:e)):o.default.createElement(i.TextField,{testId:`recovery-phrase-chip-${t}`,key:t,value:r,startAccessory:o.default.createElement(i.Text,{color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),type:i.TextFieldType.Password,disabled:!0,readOnly:!0})},t[34]=d,t[35]=O,t[36]=T,t[37]=w,t[38]=M,t[39]=e):e=t[39],q=U.map(e),t[27]=d,t[28]=O,t[29]=T,t[30]=U,t[31]=w,t[32]=M,t[33]=q}else q=t[33];return t[40]!==W||t[41]!==z||t[42]!==V||t[43]!==q?(G=o.default.createElement(i.Box,{key:"recovery-phrase-chips",display:c.Display.Grid,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,gap:2,"data-testid":"recovery-phrase-chips","data-recovery-phrase":W,"data-quiz-words":z,className:V},q),t[40]=W,t[41]=z,t[42]=V,t[43]=q,t[44]=G):G=t[44],t[45]!==y||t[46]!==u||t[47]!==x?(H=!y&&o.default.createElement(i.Box,{key:"recovery-phrase__secret-blocker-container",width:c.BlockSize.Full,height:c.BlockSize.Full,className:"recovery-phrase__secret-blocker-container"},o.default.createElement(i.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,borderRadius:c.BorderRadius.SM,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingTop:2,paddingBottom:9,paddingInline:0,className:"recovery-phrase__secret-blocker"}),o.default.createElement(i.Box,{as:"button",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,backgroundColor:c.BackgroundColor.transparent,height:c.BlockSize.Full,width:c.BlockSize.Full,gap:2,className:"recovery-phrase__secret-blocker-text",onClick:()=>{null==u||u()},"data-testid":"recovery-phrase-reveal"},o.default.createElement(i.Icon,{name:i.IconName.EyeSlash,color:c.IconColor.iconDefault,size:i.IconSize.Md}),o.default.createElement(i.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault,fontWeight:c.FontWeight.Medium},x("tapToReveal")),o.default.createElement(i.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textDefault},x("tapToRevealNote")))),t[45]=y,t[46]=u,t[47]=x,t[48]=H):H=t[48],t[49]!==G||t[50]!==H?(J=o.default.createElement(i.Box,{padding:4,borderRadius:c.BorderRadius.LG,display:c.Display.Grid,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundSection,className:"recovery-phrase__secret"},G,H),t[49]=G,t[50]=H,t[51]=J):J=t[51],t[52]!==A||t[53]!==w||t[54]!==E||t[55]!==M||t[56]!==n?(K=3===E.length&&o.default.createElement(i.Box,{display:c.Display.Flex,gap:2,width:c.BlockSize.Full},E.map(e=>{const t=e.index;return w.some(e=>e.actualIndexInSrp===t)?o.default.createElement(i.ButtonBase,{"data-testid":`recovery-phrase-quiz-answered-${t}`,key:e.index,color:c.TextColor.textAlternative,borderRadius:c.BorderRadius.LG,block:!0,onClick:()=>{M(e.word)}},n[t]):o.default.createElement(i.Button,{"data-testid":`recovery-phrase-quiz-unanswered-${t}`,key:e.index,variant:i.ButtonVariant.Secondary,borderRadius:c.BorderRadius.LG,block:!0,borderColor:c.BorderColor.primaryDefault,color:c.TextColor.primaryDefault,onClick:()=>{A(e.word,t)}},n[t])})),t[52]=A,t[53]=w,t[54]=E,t[55]=M,t[56]=n,t[57]=K):K=t[57],t[58]!==J||t[59]!==K?(Y=o.default.createElement(i.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4},J,K),t[58]=J,t[59]=K,t[60]=Y):Y=t[60],Y}function f(e,t){return p[t%p.length]}function g(e){return{index:e.index,word:"",actualIndexInSrp:-1}}function h(e){const t=e.reduce(y,[]);return t.length?Math.min(...t):-1}function y(e,t){return""===t.word&&e.push(t.index),e}function v(e){return{index:e,word:"",actualIndexInSrp:-1}}function _(e){return e.index}m.propTypes={secretRecoveryPhrase:s.default.array,phraseRevealed:s.default.bool,revealPhrase:s.default.func,confirmPhase:s.default.bool,quizWords:s.default.array,setInputValue:s.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/recovery-phrase-chips.tsx"}],[7851,{"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../hooks/useI18nContext":7200,"../../../store/actions":8065,react:5229,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({setSecretRecoveryPhrase:e}){const t=(0,o.useNavigate)(),n=(0,r.useI18nContext)(),{search:u}=(0,o.useLocation)(),d=new URLSearchParams(u),p=d.get("isFromReminder"),m=d.get("isFromSettingsSecurity"),f=new URLSearchParams;p&&f.set("isFromReminder",p);m&&f.set("isFromSettingsSecurity",m);const g=f.toString(),[h,y]=(0,a.useState)(""),[v,_]=(0,a.useState)(!1),b=(0,a.useCallback)(async n=>{try{const a=await(0,l.getSeedPhrase)(n);e(a),t(`${c.ONBOARDING_REVIEW_SRP_ROUTE}${g?`?${g}`:""}`,{replace:!0})}catch(e){_(!0)}},[e,t,g]),E=(0,a.useCallback)(()=>{t(m?c.REVEAL_SRP_LIST_ROUTE:c.DEFAULT_ROUTE,{replace:!0})},[t,m]);return a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.center,height:i.BlockSize.Full,gap:6,className:"reveal-recovery-phrase","data-testid":"reveal-recovery-phrase"},a.default.createElement(s.Box,{width:i.BlockSize.Full},a.default.createElement(s.Box,{className:"recovery-phrase__header",display:i.Display.Grid,alignItems:i.AlignItems.center,gap:3,marginBottom:4,width:i.BlockSize.Full},a.default.createElement(s.ButtonIcon,{iconName:s.IconName.ArrowLeft,color:i.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-back-button",onClick:E,ariaLabel:n("back")}),a.default.createElement(s.Text,{variant:i.TextVariant.headingSm,textAlign:i.TextAlign.Center},n("revealSecretRecoveryPhrase")),a.default.createElement(s.ButtonIcon,{iconName:s.IconName.Close,color:i.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-close-button",onClick:E,ariaLabel:n("close")})),a.default.createElement(s.Box,{width:i.BlockSize.Full,as:"form",onSubmit:e=>{e.preventDefault(),b(h)}},a.default.createElement(s.FormTextField,{size:s.FormTextFieldSize.Lg,id:"account-details-authenticate",label:n("enterYourPasswordContinue"),onChange:e=>{y(e.target.value),_(!1)},value:h,error:v,helpText:v?n("unlockPageIncorrectPassword"):null,type:s.TextFieldType.Password,labelProps:{fontWeight:i.FontWeight.Medium},autoFocus:!0}))),a.default.createElement(s.Box,{width:i.BlockSize.Full},a.default.createElement(s.Button,{width:i.BlockSize.Full,variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,"data-testid":"reveal-recovery-phrase-continue",className:"reveal-recovery-phrase__footer--button",onClick:()=>b(h)},n("continue"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),r=e("../../../hooks/useI18nContext"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../store/actions"),c=e("../../../helpers/constants/routes");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/reveal-recovery-phrase.tsx"}],[7852,{"../../../../shared/constants/app":5753,"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/onboarding":5775,"../../../../shared/lib/trace":5873,"../../../../shared/modules/browser-runtime.utils":5884,"../../../components/app/srp-details-modal":6356,"../../../components/component-library":6486,"../../../contexts/metametrics":7005,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../hooks/useI18nContext":7200,"../../../selectors":8035,"../../../store/actions":8065,"./recovery-phrase-chips":7850,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom-v5-compat"),s=e("react-redux"),i=x(e("prop-types")),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/routes"),u=e("../../../components/component-library"),d=e("../../../helpers/constants/design-system"),p=e("../../../../shared/constants/metametrics"),m=e("../../../contexts/metametrics"),f=e("../../../selectors"),g=x(e("../../../components/app/srp-details-modal")),h=e("../../../store/actions"),y=e("../../../../shared/lib/trace"),v=e("../../../../shared/modules/browser-runtime.utils"),_=e("../../../../shared/constants/app"),b=e("../../../../shared/constants/onboarding"),E=x(e("./recovery-phrase-chips"));function x(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function T(e){const t=(0,a.c)(76),{secretRecoveryPhrase:n}=e,i=(0,r.useNavigate)(),x=(0,l.useI18nContext)(),{search:k}=(0,r.useLocation)(),T=(0,s.useDispatch)(),S=(0,s.useSelector)(f.getFirstTimeFlowType),w=(0,o.useContext)(m.MetaMetricsContext),{bufferedEndTrace:C}=w,I=(0,s.useSelector)(f.getHDEntropyIndex),[O,N]=(0,o.useState)(!1),[R,A]=(0,o.useState)(!1);let P,M,B;if(t[0]!==k){const e=new URLSearchParams(k);P=e.get("isFromReminder"),M=e.get("isFromSettingsSecurity");const n=new URLSearchParams;P&&n.set("isFromReminder",P),M&&n.set("isFromSettingsSecurity",M),B=n.toString(),t[0]=k,t[1]=P,t[2]=M,t[3]=B}else P=t[1],M=t[2],B=t[3];const D=B;let L,F,j;t[4]!==i||t[5]!==D||t[6]!==n?(L=()=>{n||i({pathname:c.ONBOARDING_REVEAL_SRP_ROUTE,search:D?`?${D}`:""},{replace:!0})},F=[i,n,D],t[4]=i,t[5]=D,t[6]=n,t[7]=L,t[8]=F):(L=t[7],F=t[8]),(0,o.useEffect)(L,F),t[9]!==I||t[10]!==i||t[11]!==D||t[12]!==w?(j=()=>{w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseWrittenDown,properties:{hd_entropy_index:I}}),i({pathname:c.ONBOARDING_CONFIRM_SRP_ROUTE,search:D?`?${D}`:""})},t[9]=I,t[10]=i,t[11]=D,t[12]=w,t[13]=j):j=t[13];const U=j;let W;t[14]!==w?(W=()=>{w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"review_recovery_phrase"}}),A(!0)},t[14]=w,t[15]=W):W=t[15];const z=W;let $;t[16]!==C||t[17]!==T||t[18]!==S||t[19]!==I||t[20]!==i||t[21]!==w?($=async()=>{await T((0,h.setSeedPhraseBackedUp)(!1)),w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecuritySkipConfirmed,properties:{hd_entropy_index:I}}),null==C||C({name:y.TraceName.OnboardingNewSrpCreateWallet}),null==C||C({name:y.TraceName.OnboardingJourneyOverall}),(0,v.getBrowserName)()===_.PLATFORM_FIREFOX||S===b.FirstTimeFlowType.restore?i(c.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):i(c.ONBOARDING_METAMETRICS,{replace:!0})},t[16]=C,t[17]=T,t[18]=S,t[19]=I,t[20]=i,t[21]=w,t[22]=$):$=t[22];const V=$;let q;t[23]!==i||t[24]!==D?(q=()=>{i(`${c.ONBOARDING_REVEAL_SRP_ROUTE}${D?`?${D}`:""}`,{replace:!0})},t[23]=i,t[24]=D,t[25]=q):q=t[25];const G=q;let H;t[26]!==i?(H=()=>{i(c.REVEAL_SRP_LIST_ROUTE,{replace:!0})},t[26]=i,t[27]=H):H=t[27];const J=H;let K,Y,X,Q,Z,ee,te,ne,ae,oe;t[28]!==R?(K=R&&o.default.createElement(g.default,{onClose:()=>A(!1)}),t[28]=R,t[29]=K):K=t[29],t[30]!==G||t[31]!==P||t[32]!==M||t[33]!==J||t[34]!==x?(Y=P&&M?o.default.createElement(u.Box,{className:"recovery-phrase__header",display:d.Display.Grid,alignItems:d.AlignItems.center,gap:3,marginBottom:4,width:d.BlockSize.Full},o.default.createElement(u.ButtonIcon,{iconName:u.IconName.ArrowLeft,color:d.IconColor.iconDefault,size:u.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-review-back-button",onClick:G,ariaLabel:x("back")}),o.default.createElement(u.Text,{variant:d.TextVariant.headingSm,textAlign:d.TextAlign.Center},x("seedPhraseReviewTitleSettings")),o.default.createElement(u.ButtonIcon,{iconName:u.IconName.Close,color:d.IconColor.iconDefault,size:u.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-review-close-button",onClick:J,ariaLabel:x("close")})):o.default.createElement(u.Box,{justifyContent:d.JustifyContent.flexStart,marginBottom:4,width:d.BlockSize.Full},o.default.createElement(u.Text,{variant:d.TextVariant.headingLg,as:"h2"},x("seedPhraseReviewTitle"))),t[30]=G,t[31]=P,t[32]=M,t[33]=J,t[34]=x,t[35]=Y):Y=t[35],t[36]!==x?(X=x("secretRecoveryPhrase"),t[36]=x,t[37]=X):X=t[37],t[38]!==z||t[39]!==X?(Q=o.default.createElement(u.ButtonLink,{key:"seedPhraseReviewDetails",size:u.ButtonLinkSize.Inherit,onClick:z},X),t[38]=z,t[39]=X,t[40]=Q):Q=t[40],t[41]!==x||t[42]!==Q?(Z=x("seedPhraseReviewDetails",[Q]),t[41]=x,t[42]=Q,t[43]=Z):Z=t[43],t[44]!==Z?(ee=o.default.createElement(u.Box,{marginBottom:6},o.default.createElement(u.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative,marginBottom:6},Z)),t[44]=Z,t[45]=ee):ee=t[45],t[46]!==n?(te=n.split(" "),t[46]=n,t[47]=te):te=t[47],t[48]!==I||t[49]!==w?(ne=()=>{w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseRevealed,properties:{hd_entropy_index:I}}),N(!0)},t[48]=I,t[49]=w,t[50]=ne):ne=t[50],t[51]!==O||t[52]!==te||t[53]!==ne?(ae=o.default.createElement(E.default,{secretRecoveryPhrase:te,phraseRevealed:O,revealPhrase:ne}),t[51]=O,t[52]=te,t[53]=ne,t[54]=ae):ae=t[54],t[55]!==Y||t[56]!==ee||t[57]!==ae||t[58]!==K?(oe=o.default.createElement(u.Box,null,K,Y,ee,ae),t[55]=Y,t[56]=ee,t[57]=ae,t[58]=K,t[59]=oe):oe=t[59];const re=!O;let se,ie,le,ce,ue;return t[60]!==x?(se=x("continue"),t[60]=x,t[61]=se):se=t[61],t[62]!==U||t[63]!==re||t[64]!==se?(ie=o.default.createElement(u.Button,{width:d.BlockSize.Full,variant:u.ButtonVariant.Primary,size:u.ButtonSize.Lg,"data-testid":"recovery-phrase-continue",className:"recovery-phrase__footer--button",disabled:re,onClick:U},se),t[62]=U,t[63]=re,t[64]=se,t[65]=ie):ie=t[65],t[66]!==V||t[67]!==P||t[68]!==x?(le=!P&&o.default.createElement(u.Button,{width:d.BlockSize.Full,variant:u.ButtonVariant.Link,size:u.ButtonSize.Lg,onClick:V,type:"button","data-testid":"recovery-phrase-remind-later"},x("secureWalletRemindLaterButton")),t[66]=V,t[67]=P,t[68]=x,t[69]=le):le=t[69],t[70]!==ie||t[71]!==le?(ce=o.default.createElement(u.Box,{width:d.BlockSize.Full,display:d.Display.Flex,flexDirection:d.FlexDirection.Column,gap:2},ie,le),t[70]=ie,t[71]=le,t[72]=ce):ce=t[72],t[73]!==oe||t[74]!==ce?(ue=o.default.createElement(u.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.spaceBetween,alignItems:d.AlignItems.center,height:d.BlockSize.Full,gap:6,className:"recovery-phrase","data-testid":"recovery-phrase"},oe,ce),t[73]=oe,t[74]=ce,t[75]=ue):ue=t[75],ue}T.propTypes={secretRecoveryPhrase:i.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/review-recovery-phrase.tsx"}],[7853,{"../../../contexts/rive-wasm":7007,"@metamask/design-system-react":1742,"@rive-app/react-canvas":3148,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(31),{isLoader:n,skipTransition:l}=e,p=n!==undefined&&n,m=l!==undefined&&l,f=(0,i.useRiveWasmContext)(),{isWasmReady:g,error:h}=f,{buffer:y,error:v,loading:_}=(0,i.useRiveWasmFile)("./images/riv_animations/fox_appear.riv");let b,E,x;t[0]!==v||t[1]!==h?(b=()=>{h&&console.error("[Rive - FoxAppearAnimation] Failed to load WASM:",h),v&&console.error("[Rive - FoxAppearAnimation] Failed to load buffer:",v)},E=[h,v],t[0]=v,t[1]=h,t[2]=b,t[3]=E):(b=t[2],E=t[3]);(0,o.useEffect)(b,E),t[4]!==y?(x={buffer:y},t[4]=y,t[5]=x):x=t[5];const{riveFile:k,status:T}=(0,r.useRiveFile)(x),S=k??undefined,w=k?"FoxRaiseUp":undefined;let C,I;t[6]===Symbol.for("react.memo_cache_sentinel")?(C=new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center}),t[6]=C):C=t[6];t[7]!==S||t[8]!==w?(I={riveFile:S,stateMachines:w,autoplay:!1,layout:C},t[7]=S,t[8]=w,t[9]=I):I=t[9];const{rive:O,RiveComponent:N}=(0,r.useRive)(I);let R,A;t[10]!==y||t[11]!==_||t[12]!==p||t[13]!==g||t[14]!==O||t[15]!==m?(R=()=>{if(O&&g&&!_&&y){const e=O.stateMachineInputs("FoxRaiseUp");if(e){if(m){const t=e.find(d);t&&t.fire()}else{const t=e.find(u);t&&t.fire()}if(p){const t=e.find(c);t&&t.fire()}O.play()}}},A=[O,p,g,m,_,y],t[10]=y,t[11]=_,t[12]=p,t[13]=g,t[14]=O,t[15]=m,t[16]=R,t[17]=A):(R=t[16],A=t[17]);if((0,o.useEffect)(R,A),!g||_||!y||"loading"===T||"failed"===T){const e=""+(p?"riv-animation__fox-container--loader":"riv-animation__fox-container");let n,a;return t[18]!==p?(n=p&&o.default.createElement("img",{"data-testid":"loading-indicator",className:"riv-animation__spinner",src:"./images/spinner.gif",alt:""}),t[18]=p,t[19]=n):n=t[19],t[20]!==e||t[21]!==n?(a=o.default.createElement(s.Box,{className:e},n),t[20]=e,t[21]=n,t[22]=a):a=t[22],a}const P=""+(p?"riv-animation__fox-container--loader":"riv-animation__fox-container");let M,B,D;t[23]!==N?(M=o.default.createElement(N,{className:"riv-animation__canvas"}),t[23]=N,t[24]=M):M=t[24];t[25]!==p?(B=p&&o.default.createElement("img",{"data-testid":"loading-indicator",className:"riv-animation__spinner",src:"./images/spinner.gif",alt:""}),t[25]=p,t[26]=B):B=t[26];t[27]!==P||t[28]!==M||t[29]!==B?(D=o.default.createElement(s.Box,{className:P},M,B),t[27]=P,t[28]=M,t[29]=B,t[30]=D):D=t[30];return D};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@rive-app/react-canvas"),s=e("@metamask/design-system-react"),i=e("../../../contexts/rive-wasm");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return"Loader2"===e.name}function u(e){return"Start"===e.name}function d(e){return"Wiggle"===e.name}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/fox-appear-animation.tsx"}],[7854,{"../../../../shared/constants/metametrics":5768,"../../../components/component-library":6486,"../../../contexts/metametrics":7005,"../../../helpers/constants/common":7047,"../../../helpers/constants/design-system":7049,"../../../hooks/useI18nContext":7200,"../../../selectors":8035,"./types":7857,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(38),{onDone:n,loginError:f}=e,g=(0,i.useI18nContext)(),h=(0,o.useContext)(d.MetaMetricsContext),y=(0,r.useSelector)(p.getSocialLoginType);let v;t[0]!==f||t[1]!==g?(v=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectTitle"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredTitle"):g("loginErrorGenericTitle"),t[0]=f,t[1]=g,t[2]=v):v=t[2];const _=v;let b;t[3]!==f||t[4]!==y||t[5]!==g||t[6]!==h?(b=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectDescription"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredDescription"):f===m.LOGIN_ERROR.RESET_WALLET&&y?g("loginErrorResetWalletDescription",[y]):g("loginErrorGenericDescription",[o.default.createElement(l.ButtonLink,{key:"loginErrorGenericDescription",size:l.ButtonLinkSize.Inherit,externalLink:!0,href:u.SUPPORT_LINK,onClick:()=>{h({category:c.MetaMetricsEventCategory.Onboarding,event:c.MetaMetricsEventName.SupportLinkClicked,properties:{url:u.SUPPORT_LINK,location:"Welcome page"}},{contextPropsIntoEventProperties:[c.MetaMetricsContextProp.PageTitle]})}},g("loginErrorGenericSupport"))]),t[3]=f,t[4]=y,t[5]=g,t[6]=h,t[7]=b):b=t[7];const E=b;let x;t[8]!==f||t[9]!==g?(x=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectButton"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredButton"):g("loginErrorGenericButton"),t[8]=f,t[9]=g,t[10]=x):x=t[10];const k=x;let T,S,w,C,I,O,N,R,A,P,M,B;t[11]===Symbol.for("react.memo_cache_sentinel")?(T=o.default.createElement(l.ModalOverlay,null),t[11]=T):T=t[11];t[12]===Symbol.for("react.memo_cache_sentinel")?(S=o.default.createElement(l.Icon,{name:l.IconName.Danger,size:l.IconSize.Xl,color:s.IconColor.warningDefault}),t[12]=S):S=t[12];t[13]!==_?(w=_(),t[13]=_,t[14]=w):w=t[14];t[15]!==w?(C=o.default.createElement(l.Box,{textAlign:s.TextAlign.Center},S,o.default.createElement(l.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center,marginTop:4},w)),t[15]=w,t[16]=C):C=t[16];t[17]!==n||t[18]!==C?(I=o.default.createElement(l.ModalHeader,{onClose:n},C),t[17]=n,t[18]=C,t[19]=I):I=t[19];t[20]!==E?(O=E(),t[20]=E,t[21]=O):O=t[21];t[22]!==O?(N=o.default.createElement(l.Text,{variant:s.TextVariant.bodyMd},O),t[22]=O,t[23]=N):N=t[23];t[24]!==k?(R=k(),t[24]=k,t[25]=R):R=t[25];t[26]!==n||t[27]!==R?(A=o.default.createElement(l.Box,{marginTop:6},o.default.createElement(l.Button,{"data-testid":"login-error-modal-button",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,onClick:n,block:!0},R)),t[26]=n,t[27]=R,t[28]=A):A=t[28];t[29]!==N||t[30]!==A?(P=o.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},N,A),t[29]=N,t[30]=A,t[31]=P):P=t[31];t[32]!==P||t[33]!==I?(M=o.default.createElement(l.ModalContent,{alignItems:s.AlignItems.center},I,P),t[32]=P,t[33]=I,t[34]=M):M=t[34];t[35]!==n||t[36]!==M?(B=o.default.createElement(l.Modal,{isOpen:!0,onClose:n,"data-testid":"login-error-modal"},T,M),t[35]=n,t[36]=M,t[37]=B):B=t[37];return B};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),l=e("../../../components/component-library"),c=e("../../../../shared/constants/metametrics"),u=e("../../../helpers/constants/common"),d=e("../../../contexts/metametrics"),p=e("../../../selectors"),m=e("./types");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-error-modal.tsx"}],[7855,{"../../../../shared/constants/preferences":5777,"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../hooks/useI18nContext":7200,"../../../hooks/useTheme":7230,"./types":7857,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SocialButton=void 0,n.default=function(e){const t=(0,o.c)(59),{loginOption:n,handleLogin:a}=e,p=(0,l.useI18nContext)(),f=(0,u.useTheme)(),g=n===d.LOGIN_OPTION.EXISTING?"onboarding-import-with-google-button":"onboarding-create-with-google-button";let h,y,v,_,b;t[0]!==p?(h=p("onboardingOptionIcon",["Google"]),t[0]=p,t[1]=h):h=t[1];t[2]!==h?(y=r.default.createElement("img",{src:"images/icons/google.svg",className:"options-modal__social-icon",alt:h}),t[2]=h,t[3]=y):y=t[3];t[4]!==n||t[5]!==p?(v=n===d.LOGIN_OPTION.EXISTING?p("onboardingSignInWith",["Google"]):p("onboardingContinueWith",["Google"]),t[4]=n,t[5]=p,t[6]=v):v=t[6];t[7]!==a?(_=()=>a(d.LOGIN_TYPE.GOOGLE),t[7]=a,t[8]=_):_=t[8];t[9]!==g||t[10]!==y||t[11]!==v||t[12]!==_?(b=r.default.createElement(m,{"data-testid":g,icon:y,label:v,marginBottom:4,onClick:_}),t[9]=g,t[10]=y,t[11]=v,t[12]=_,t[13]=b):b=t[13];const E=n===d.LOGIN_OPTION.EXISTING?"onboarding-import-with-apple-button":"onboarding-create-with-apple-button";let x,k,T,S,w,C,I;t[14]===Symbol.for("react.memo_cache_sentinel")?(x=r.default.createElement(s.Icon,{name:s.IconName.Apple,color:i.IconColor.infoInverse,size:s.IconSize.Lg}),t[14]=x):x=t[14];t[15]!==n||t[16]!==p?(k=n===d.LOGIN_OPTION.EXISTING?p("onboardingSignInWith",["Apple"]):p("onboardingContinueWith",["Apple"]),t[15]=n,t[16]=p,t[17]=k):k=t[17];t[18]!==a?(T=()=>a(d.LOGIN_TYPE.APPLE),t[18]=a,t[19]=T):T=t[19];t[20]!==T||t[21]!==E||t[22]!==k?(S=r.default.createElement(m,{"data-testid":E,icon:x,label:k,marginBottom:2,onClick:T}),t[20]=T,t[21]=E,t[22]=k,t[23]=S):S=t[23];t[24]===Symbol.for("react.memo_cache_sentinel")?(w={position:"relative",zIndex:1},t[24]=w):w=t[24];t[25]!==p?(C=p("or"),t[25]=p,t[26]=C):C=t[26];t[27]!==C?(I=r.default.createElement(s.Box,{alignItems:i.AlignItems.center,marginBottom:4,className:"options-modal__or"},r.default.createElement(s.Text,{width:i.BlockSize.Min,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium,color:i.TextColor.textAlternative,paddingInline:2,marginInline:"auto",textTransform:i.TextTransform.Lowercase,as:"div",style:w,className:"options-modal__or-text"},C)),t[27]=C,t[28]=I):I=t[28];const O=f===c.ThemeType.dark?c.ThemeType.light:c.ThemeType.dark,N=n===d.LOGIN_OPTION.EXISTING?"onboarding-import-with-srp-button":"onboarding-create-with-srp-button";let R,A,P,M,B,D,L,F,j,U;t[29]!==a?(R=()=>a(d.LOGIN_TYPE.SRP),t[29]=a,t[30]=R):R=t[30];t[31]!==n||t[32]!==p?(A=n===d.LOGIN_OPTION.EXISTING?p("onboardingSrpImport"):p("onboardingSrpCreate"),t[31]=n,t[32]=p,t[33]=A):A=t[33];t[34]!==O||t[35]!==N||t[36]!==R||t[37]!==A?(P=r.default.createElement(s.Button,{"data-theme":O,"data-testid":N,variant:s.ButtonVariant.Primary,width:i.BlockSize.Full,size:s.ButtonSize.Lg,onClick:R},A),t[34]=O,t[35]=N,t[36]=R,t[37]=A,t[38]=P):P=t[38];t[39]!==p?(M=p("onboardingLoginFooterTermsOfUse"),t[39]=p,t[40]=M):M=t[40];t[41]!==M?(B=r.default.createElement(s.Text,{as:"a",href:"https://consensys.io/terms-of-use",target:"_blank",rel:"noopener noreferrer",variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Medium,color:i.TextColor.primaryDefault,key:"onboardingLoginFooterTermsOfUse"},M),t[41]=M,t[42]=B):B=t[42];t[43]!==p?(D=p("onboardingLoginFooterPrivacyNotice"),t[43]=p,t[44]=D):D=t[44];t[45]!==D?(L=r.default.createElement(s.Text,{as:"a",variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Medium,href:"https://consensys.io/privacy-notice",target:"_blank",rel:"noopener noreferrer",color:i.TextColor.primaryDefault,key:"onboardingLoginFooterPrivacyNotice"},D),t[45]=D,t[46]=L):L=t[46];t[47]!==p||t[48]!==B||t[49]!==L?(F=p("onboardingLoginFooter",[B,L]),t[47]=p,t[48]=B,t[49]=L,t[50]=F):F=t[50];t[51]!==F?(j=r.default.createElement(s.Text,{variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Medium,textAlign:i.TextAlign.Center,paddingTop:8,color:i.TextColor.textDefault,width:i.BlockSize.Full,margin:"auto"},F),t[51]=F,t[52]=j):j=t[52];t[53]!==S||t[54]!==I||t[55]!==P||t[56]!==j||t[57]!==b?(U=r.default.createElement(s.Box,null,b,S,I,P,j),t[53]=S,t[54]=I,t[55]=P,t[56]=j,t[57]=b,t[58]=U):U=t[58];return U};var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=e("../../../../shared/constants/preferences"),u=e("../../../hooks/useTheme"),d=e("./types");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(null,arguments)}const m=n.SocialButton=r.default.forwardRef((e,t)=>{const n=(0,o.c)(13);let a,l,c,u,d,m;return n[0]!==e?(({icon:a,label:l,...c}=e),n[0]=e,n[1]=a,n[2]=l,n[3]=c):(a=n[1],l=n[2],c=n[3]),n[4]!==l?(u=r.default.createElement(s.Box,null,l),n[4]=l,n[5]=u):u=n[5],n[6]!==a||n[7]!==u?(d=r.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,gap:2},a,u),n[6]=a,n[7]=u,n[8]=d):d=n[8],n[9]!==c||n[10]!==t||n[11]!==d?(m=r.default.createElement(s.Button,p({ref:t,className:"options-modal__plain-button",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,block:!0},c),d),n[9]=c,n[10]=t,n[11]=d,n[12]=m):m=n[12],m})}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-options.tsx"}],[7856,{"../../../../shared/constants/preferences":5777,"../../../contexts/rive-wasm":7007,"../../../hooks/useTheme":7230,"@metamask/design-system-react":1742,"@rive-app/react-canvas":3148,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(31),{setIsAnimationComplete:n,isAnimationComplete:u,skipTransition:f}=e,g=u!==undefined&&u,h=f!==undefined&&f,y=(0,o.useRef)(null),v=(0,i.useTheme)(),_=(0,c.useRiveWasmContext)(),{isWasmReady:b,error:E,setIsAnimationCompleted:x}=_,{buffer:k,error:T,loading:S}=(0,c.useRiveWasmFile)("./images/riv_animations/metamask_wordmark.riv");let w,C,I;t[0]!==T||t[1]!==n||t[2]!==E?(w=()=>{E&&(console.error("[Rive - MetamaskWordMarkAnimation] Failed to load WASM:",E),n(!0)),T&&(console.error("[Rive - MetamaskWordMarkAnimation] Failed to load buffer:",T),n(!0))},C=[E,T,n],t[0]=T,t[1]=n,t[2]=E,t[3]=w,t[4]=C):(w=t[3],C=t[4]);(0,o.useEffect)(w,C),t[5]!==k?(I={buffer:k},t[5]=k,t[6]=I):I=t[6];const{riveFile:O,status:N}=(0,r.useRiveFile)(I),R=O??undefined,A=O?"WordmarkBuildUp":undefined;let P,M,B;t[7]===Symbol.for("react.memo_cache_sentinel")?(P=new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center}),t[7]=P):P=t[7];t[8]!==g||t[9]!==n?(M=e=>{e.data&&Array.isArray(e.data)&&(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{g||n(!0)},1e3))},t[8]=g,t[9]=n,t[10]=M):M=t[10];t[11]!==R||t[12]!==A||t[13]!==M?(B={riveFile:R,stateMachines:A,autoplay:!1,layout:P,onStateChange:M},t[11]=R,t[12]=A,t[13]=M,t[14]=B):B=t[14];const{rive:D,RiveComponent:L}=(0,r.useRive)(B);let F,j;t[15]!==k||t[16]!==S||t[17]!==b||t[18]!==D||t[19]!==x||t[20]!==h||t[21]!==v?(F=()=>{if(D&&b&&!S&&k){const e=D.stateMachineInputs("WordmarkBuildUp");if(e){const t=e.find(m);if(t&&v===l.ThemeType.dark&&(t.value=!0),h){const t=e.find(p);t&&t.fire()}else{const t=e.find(d);t&&t.fire()}D.play()}}return()=>{y.current&&(clearTimeout(y.current),x("MetamaskWordMarkAnimation",!0))}},j=[D,v,b,h,S,k,x],t[15]=k,t[16]=S,t[17]=b,t[18]=D,t[19]=x,t[20]=h,t[21]=v,t[22]=F,t[23]=j):(F=t[22],j=t[23]);if((0,o.useEffect)(F,j),!b||S||!k||"loading"===N||"failed"===N){"failed"===N&&(g||n(!0));const e="riv-animation__wordmark-container "+("failed"===N?"riv-animation__wordmark-container--complete":"");let a;return t[24]!==e?(a=o.default.createElement(s.Box,{className:e}),t[24]=e,t[25]=a):a=t[25],a}const U=`riv-animation__wordmark-container ${g&&!h?"riv-animation__wordmark-container--complete":""} ${h?"riv-animation__wordmark-container--skip-transition":""} `;let W,z;t[26]!==L?(W=o.default.createElement(L,{className:"riv-animation__canvas"}),t[26]=L,t[27]=W):W=t[27];t[28]!==U||t[29]!==W?(z=o.default.createElement(s.Box,{className:U},W),t[28]=U,t[29]=W,t[30]=z):z=t[30];return z};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@rive-app/react-canvas"),s=e("@metamask/design-system-react"),i=e("../../../hooks/useTheme"),l=e("../../../../shared/constants/preferences"),c=e("../../../contexts/rive-wasm");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return"Start"===e.name}function p(e){return"Still"===e.name}function m(e){return"Dark"===e.name}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/metamask-wordmark-animation.tsx"}],[7857,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LOGIN_TYPE=n.LOGIN_OPTION=n.LOGIN_ERROR=void 0;n.LOGIN_TYPE={GOOGLE:"google",APPLE:"apple",SRP:"srp"},n.LOGIN_OPTION={NEW:"new",EXISTING:"existing"},n.LOGIN_ERROR={UNABLE_TO_CONNECT:"unable_to_connect",GENERIC:"generic",SESSION_EXPIRED:"session_expired",RESET_WALLET:"reset_wallet"}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/types.ts"}],[7858,{"../../../../shared/constants/preferences":5777,"../../../../shared/modules/environment":5891,"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../hooks/useI18nContext":7200,"../../../hooks/useTheme":7230,"../../../store/actions":8065,"./login-options":7855,"./types":7857,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(30),{onLogin:n,isAnimationComplete:a,skipTransition:v}=e,_=v!==undefined&&v,b=(0,u.useI18nContext)(),[E,x]=(0,r.useState)(!1),[k,T]=(0,r.useState)(null),[S,w]=(0,r.useState)(!1);let C;t[0]===Symbol.for("react.memo_cache_sentinel")?(C=(0,d.getIsSeedlessOnboardingFeatureEnabled)(),t[0]=C):C=t[0];const I=C,O=(0,s.useDispatch)(),N=(0,r.useRef)(null),R=(0,f.useTheme)(),A=(0,i.useNavigate)(),[P]=(0,i.useSearchParams)();let M;t[1]!==P?(M=P.get("login"),t[1]=P,t[2]=M):M=t[2];const B=M;let D,L,F,j,U;t[3]===Symbol.for("react.memo_cache_sentinel")?(D=()=>()=>{N.current&&clearTimeout(N.current)},L=[],t[3]=D,t[4]=L):(D=t[3],L=t[4]);(0,r.useEffect)(D,L),t[5]!==B?(F=()=>{B?(x(!0),T(B)):(x(!1),T(null))},j=[B],t[5]=B,t[6]=F,t[7]=j):(F=t[6],j=t[7]);(0,r.useEffect)(F,j),t[8]!==O||t[9]!==k||t[10]!==n?(U=async e=>{k&&(x(!1),await O((0,m.setTermsOfUseLastAgreed)((new Date).getTime())),await n(e,k))},t[8]=O,t[9]=k,t[10]=n,t[11]=U):U=t[11];const W=U;let z;t[12]!==A||t[13]!==n?(z=async(e,t)=>{I?(w(!0),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{x(!0),T(e),w(!1),N.current=null,A(`${g.ONBOARDING_WELCOME_ROUTE}?login=${e}`)},100)):(x(!0),T(e),t&&await n(t,e))},t[12]=A,t[13]=n,t[14]=z):z=t[14];const $=z,V=a?1:0,q=a?"translateY(0) scale(1)":"translateY(80px) scale(0.8)",G=_?"none":"opacity 0.6s ease-out, transform 0.6s ease-out";let H,J,K;t[15]!==V||t[16]!==q||t[17]!==G?(H={opacity:V,transform:q,transition:G},t[15]=V,t[16]=q,t[17]=G,t[18]=H):H=t[18];t[19]!==$||t[20]!==W||t[21]!==S||t[22]!==k||t[23]!==E||t[24]!==b||t[25]!==R?(J=I&&E&&k?r.default.createElement(l.Box,{className:"welcome-login__options welcome-login__options--fade-in"},r.default.createElement(h.default,{loginOption:k,handleLogin:W})):r.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,width:c.BlockSize.Full,gap:4,className:""+(S?"welcome-login__cta--fade-out":"")},r.default.createElement(l.Button,{"data-testid":"onboarding-create-wallet",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,onClick:()=>$(y.LOGIN_OPTION.NEW,y.LOGIN_TYPE.SRP)},b("onboardingCreateWallet")),r.default.createElement(l.Button,{"data-theme":R===p.ThemeType.dark?p.ThemeType.light:p.ThemeType.dark,"data-testid":"onboarding-import-wallet",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,onClick:()=>$(y.LOGIN_OPTION.EXISTING,y.LOGIN_TYPE.SRP)},b(I?"onboardingImportWallet":"onboardingSrpImport"))),t[19]=$,t[20]=W,t[21]=S,t[22]=k,t[23]=E,t[24]=b,t[25]=R,t[26]=J):J=t[26];t[27]!==H||t[28]!==J?(K=r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Box,{"data-testid":"get-started",style:H,className:"welcome-login"},J)),t[27]=H,t[28]=J,t[29]=K):K=t[29];return K};var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("react-router-dom-v5-compat"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../../shared/modules/environment"),p=e("../../../../shared/constants/preferences"),m=e("../../../store/actions"),f=e("../../../hooks/useTheme"),g=e("../../../helpers/constants/routes"),h=(a=e("./login-options"))&&a.__esModule?a:{default:a},y=e("./types");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-login.tsx"}],[7859,{"../../../../shared/constants/app":5753,"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/onboarding":5775,"../../../../shared/lib/trace":5873,"../../../../shared/modules/browser-runtime.utils":5884,"../../../../shared/modules/environment":5891,"../../../../shared/modules/error":5892,"../../../components/component-library":6486,"../../../contexts/metametrics":7005,"../../../contexts/rive-wasm":7007,"../../../ducks/metamask/metamask":7033,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../selectors":8035,"../../../store/actions":8065,"./fox-appear-animation":7853,"./login-error-modal":7854,"./metamask-wordmark-animation":7856,"./types":7857,"./welcome-login":7858,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useDispatch)(),t=(0,r.useNavigate)(),n=(0,o.useSelector)(l.getCurrentKeyring),T=(0,m.getIsSeedlessOnboardingFeatureEnabled)(),S=(0,o.useSelector)(l.getFirstTimeFlowType),w=(0,o.useSelector)(b.getIsWalletResetInProgress),O=(0,o.useSelector)(l.getIsSocialLoginFlow),N=(0,o.useSelector)(l.getIsParticipateInMetaMetricsSet),[R,A]=(0,a.useState)(!1),[P,M]=(0,a.useState)(!1),[B,D]=(0,a.useState)(null),{animationCompleted:L}=(0,_.useRiveWasmContext)(),F=Boolean(null==L?void 0:L.MetamaskWordMarkAnimation),[j,U]=(0,a.useState)(F),W=(0,f.getBrowserName)()===g.PLATFORM_FIREFOX,z=(0,a.useCallback)(async()=>{if(!O)return!0;return await e((0,d.getIsSeedlessOnboardingUserAuthenticated)())},[e,O]);(0,a.useEffect)(()=>{let e=!0;return!n||R||w?O&&(async()=>{const n=await z();e&&n&&(S===c.FirstTimeFlowType.socialCreate?t(i.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0}):t(i.ONBOARDING_UNLOCK_ROUTE,{replace:!0}))})():S===c.FirstTimeFlowType.import||S===c.FirstTimeFlowType.restore?t(N?i.ONBOARDING_COMPLETION_ROUTE:i.ONBOARDING_METAMETRICS,{replace:!0}):S===c.FirstTimeFlowType.socialCreate?t(i.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):t(i.ONBOARDING_REVIEW_SRP_ROUTE,{replace:!0}),()=>{e=!1}},[n,t,S,R,N,z,W,w,O]);const $=(0,a.useContext)(u.MetaMetricsContext),{bufferedTrace:V,bufferedEndTrace:q,onboardingParentContext:G}=$,H=(0,a.useCallback)(async()=>{M(!0),A(!0),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.create)),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:p.MetaMetricsEventAccountType.Default}}),null==V||V({name:y.TraceName.OnboardingNewSrpCreateWallet,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==G?void 0:G.current}),t(i.ONBOARDING_CREATE_PASSWORD_ROUTE)},[e,t,$,G,V]),J=(0,a.useCallback)(async()=>{M(!0),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.import)),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletImportStarted,properties:{account_type:p.MetaMetricsEventAccountType.Imported}}),null==V||V({name:y.TraceName.OnboardingExistingSrpImport,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==G?void 0:G.current}),t(i.ONBOARDING_IMPORT_WITH_SRP_ROUTE)},[e,t,$,G,V]),K=(0,a.useCallback)(async t=>{if(T){null==V||V({name:y.TraceName.OnboardingSocialLoginAttempt,op:y.TraceOperation.OnboardingUserJourney,tags:{provider:t},parentContext:null==G?void 0:G.current});const n=await e((0,d.startOAuthLogin)(t,V,q,$));return null==q||q({name:y.TraceName.OnboardingSocialLoginAttempt}),n}return!0},[e,T,G,V,q,$]),Y=(0,a.useCallback)((e,t)=>{const n=e instanceof Error?e.message:"Unknown error";(0,h.isUserCancelledLoginError)(e)?D(null):(null==V||V({name:y.TraceName.OnboardingSocialLoginError,op:y.TraceOperation.OnboardingError,tags:{provider:t,errorMessage:n},parentContext:null==G?void 0:G.current}),null==q||q({name:y.TraceName.OnboardingSocialLoginError}),null==q||q({name:y.TraceName.OnboardingSocialLoginAttempt,data:{success:!1}}),n!==h.OAuthErrorMessages.INVALID_OAUTH_STATE_ERROR?n!==h.OAuthErrorMessages.NO_REDIRECT_URL_FOUND_ERROR&&n!==h.OAuthErrorMessages.NO_AUTH_CODE_FOUND_ERROR?D(x.LOGIN_ERROR.GENERIC):D(x.LOGIN_ERROR.UNABLE_TO_CONNECT):D(x.LOGIN_ERROR.SESSION_EXPIRED))},[G,V,q]),X=(0,a.useCallback)(async n=>{M(!0),A(!0),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${p.MetaMetricsEventAccountType.Default}_${n}`}});try{const a=await K(n);$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${p.MetaMetricsEventAccountType.Default}_${n}`}}),a?(null==V||V({name:y.TraceName.OnboardingNewSocialCreateWallet,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==G?void 0:G.current}),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialCreate)),t(i.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})):(await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialImport)),t(i.ONBOARDING_ACCOUNT_EXIST,{replace:!0}))}catch(e){Y(e,n)}finally{M(!1)}},[e,K,$,t,G,Y,V]),Q=(0,a.useCallback)(async n=>{M(!0),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${p.MetaMetricsEventAccountType.Imported}_${n}`}});try{const a=await K(n);$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${p.MetaMetricsEventAccountType.Imported}_${n}`}}),a?(await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialCreate)),t(i.ONBOARDING_ACCOUNT_NOT_FOUND)):(null==V||V({name:y.TraceName.OnboardingExistingSocialLogin,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==G?void 0:G.current}),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialImport)),t(i.ONBOARDING_UNLOCK_ROUTE))}catch(e){Y(e,n)}finally{M(!1)}},[K,$,t,G,Y,V,e]),Z=(0,a.useCallback)(e=>{(0,h.isUserCancelledLoginError)(e)?D(null):D(x.LOGIN_ERROR.GENERIC)},[]),ee=(0,a.useCallback)(async(t,n)=>{try{if(W||e((0,d.setParticipateInMetaMetrics)(null)),t===x.LOGIN_TYPE.SRP)return void(n===x.LOGIN_OPTION.NEW?await H():n===x.LOGIN_OPTION.EXISTING&&await J());if(!T)return;n===x.LOGIN_OPTION.NEW?await X(t):n===x.LOGIN_OPTION.EXISTING&&await Q(t),W||(e((0,d.setParticipateInMetaMetrics)(!0)),e((0,d.setPna25Acknowledged)(!0)))}catch(e){Z(e)}},[T,e,H,J,X,W,Q,Z]);return a.default.createElement(s.Box,{display:v.Display.Flex,flexDirection:v.FlexDirection.Column,justifyContent:v.JustifyContent.center,alignItems:v.AlignItems.center,height:v.BlockSize.Full,width:v.BlockSize.Full,className:"welcome-container"},!P&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(s.Box,null)},a.default.createElement(C,{setIsAnimationComplete:U,isAnimationComplete:j,skipTransition:F})),!P&&a.default.createElement(a.default.Fragment,null,a.default.createElement(E.default,{onLogin:ee,isAnimationComplete:j,skipTransition:F}),j&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(s.Box,null)},a.default.createElement(I,{skipTransition:F})),null!==B&&a.default.createElement(k.default,{onDone:()=>D(null),loginError:B})),P&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(s.Box,null)},a.default.createElement(I,{isLoader:!0})))};var a=w(e("react")),o=e("react-redux"),r=e("react-router-dom-v5-compat"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/routes"),l=e("../../../selectors"),c=e("../../../../shared/constants/onboarding"),u=e("../../../contexts/metametrics"),d=e("../../../store/actions"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/modules/environment"),f=e("../../../../shared/modules/browser-runtime.utils"),g=e("../../../../shared/constants/app"),h=e("../../../../shared/modules/error"),y=e("../../../../shared/lib/trace"),v=e("../../../helpers/constants/design-system"),_=e("../../../contexts/rive-wasm"),b=e("../../../ducks/metamask/metamask"),E=T(e("./welcome-login")),x=e("./types"),k=T(e("./login-error-modal"));function T(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const C=(0,a.lazy)(()=>Promise.resolve().then(()=>w(e("./metamask-wordmark-animation")))),I=(0,a.lazy)(()=>Promise.resolve().then(()=>w(e("./fox-appear-animation"))))}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome.tsx"}],[7860,{"../../../components/app/permissions-connect-footer":6190,"../../../components/component-library":6486,"../../../components/ui/account-list":6868,"../../../components/ui/page-container":6948,"../../../helpers/constants/design-system":7049,"../../../hooks/useI18nContext":7200,"@metamask/keyring-api":2173,"@metamask/permission-controller":2401,"prop-types":5052,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=g(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("@metamask/permission-controller"),i=e("@metamask/keyring-api"),l=e("../../../hooks/useI18nContext"),c=g(e("../../../components/app/permissions-connect-footer")),u=g(e("../../../components/ui/account-list")),d=e("../../../components/ui/page-container"),p=e("../../../helpers/constants/design-system"),m=e("../../../components/component-library");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}const h=e=>{const t=(0,a.c)(63),{selectedAccountAddresses:n,addressLastConnectedMap:o,accounts:i,selectAccounts:f,selectNewAccountViaModal:g,cancelPermissionsRequest:h,permissionsRequestId:_,targetSubjectMetadata:b,nativeCurrency:E}=e;let x;t[0]!==o?(x=o===undefined?{}:o,t[0]=o,t[1]=x):x=t[1];const k=x,[T,S]=(0,r.useState)(n);let w;t[2]!==i?(w=i.filter(y),t[2]=i,t[3]=w):w=t[3];const C=w,I=(0,l.useI18nContext)();let O;t[4]!==T?(O=e=>{const t=new Set(T);t.has(e)?t.delete(e):t.add(e),S(t)},t[4]=T,t[5]=O):O=t[5];const N=O;let R;t[6]!==C?(R=()=>{const e=new Set(C.map(v));S(e)},t[6]=C,t[7]=R):R=t[7];const A=R;let P;t[8]===Symbol.for("react.memo_cache_sentinel")?(P=()=>{S(new Set)},t[8]=P):P=t[8];const M=P;let B;t[9]!==C.length||t[10]!==T.size?(B=()=>C.length===T.size,t[9]=C.length,t[10]=T.size,t[11]=B):B=t[11];const D=B;let L;t[12]!==n?(L=Object.keys(n),t[12]=n,t[13]=L):L=t[13];const F=L.length>C.length;let j;if(t[14]!==i.length||t[15]!==I||t[16]!==(null==b?void 0:b.subjectType)){j=(()=>0===i.length?I("connectAccountOrCreate"):(null==b?void 0:b.subjectType)===s.SubjectType.Snap?I("selectAccountsForSnap"):I("selectAccounts"))(),t[14]=i.length,t[15]=I,t[16]=null==b?void 0:b.subjectType,t[17]=j}else j=t[17];const U=j;let W,z,$,V,q,G,H,J,K,Y,X;t[18]!==I?(W=I("connectWithMetaMask"),t[18]=I,t[19]=W):W=t[19],t[20]!==W?(z=r.default.createElement(m.Text,{variant:p.TextVariant.headingMd},W),t[20]=W,t[21]=z):z=t[21],t[22]!==U?($=r.default.createElement(m.Text,{variant:p.TextVariant.bodyMd},U),t[22]=U,t[23]=$):$=t[23],t[24]!==z||t[25]!==$?(V=r.default.createElement(m.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,paddingTop:4,paddingBottom:4},z,$),t[24]=z,t[25]=$,t[26]=V):V=t[26],t[27]!==i||t[28]!==k||t[29]!==D||t[30]!==N||t[31]!==E||t[32]!==A||t[33]!==g||t[34]!==T?(q=r.default.createElement(u.default,{accounts:i,selectNewAccountViaModal:g,addressLastConnectedMap:k,nativeCurrency:E,selectedAccounts:T,allAreSelected:D,deselectAll:M,selectAll:A,handleAccountClick:N}),t[27]=i,t[28]=k,t[29]=D,t[30]=N,t[31]=E,t[32]=A,t[33]=g,t[34]=T,t[35]=q):q=t[35],t[36]!==V||t[37]!==q?(G=r.default.createElement(m.Box,{className:"permissions-connect-choose-account__content",display:p.Display.Flex,flexDirection:p.FlexDirection.Column,backgroundColor:p.BackgroundColor.backgroundAlternative,width:p.BlockSize.Full,height:p.BlockSize.Full,paddingLeft:6,paddingRight:6},V,q),t[36]=V,t[37]=q,t[38]=G):G=t[38],t[39]!==(null==b?void 0:b.subjectType)?(H=(null==b?void 0:b.subjectType)!==s.SubjectType.Snap&&r.default.createElement(c.default,null),t[39]=null==b?void 0:b.subjectType,t[40]=H):H=t[40],t[41]!==h||t[42]!==_?(J=()=>h(_),t[41]=h,t[42]=_,t[43]=J):J=t[43],t[44]!==I?(K=I("cancel"),t[44]=I,t[45]=K):K=t[45],t[46]!==f||t[47]!==T?(Y=()=>f(T),t[46]=f,t[47]=T,t[48]=Y):Y=t[48],t[49]!==I?(X=I("next"),t[49]=I,t[50]=X):X=t[50];const Q=F||0===T.size;let Z,ee,te;return t[51]!==J||t[52]!==K||t[53]!==Y||t[54]!==X||t[55]!==Q?(Z=r.default.createElement(d.PageContainerFooter,{cancelButtonType:"default",onCancel:J,cancelText:K,onSubmit:Y,submitText:X,disabled:Q}),t[51]=J,t[52]=K,t[53]=Y,t[54]=X,t[55]=Q,t[56]=Z):Z=t[56],t[57]!==H||t[58]!==Z?(ee=r.default.createElement(m.Box,{backgroundColor:p.BackgroundColor.backgroundAlternative,className:"permissions-connect-choose-account__footer",paddingTop:4},H,Z),t[57]=H,t[58]=Z,t[59]=ee):ee=t[59],t[60]!==G||t[61]!==ee?(te=r.default.createElement(r.default.Fragment,null,G,ee),t[60]=G,t[61]=ee,t[62]=te):te=t[62],te};h.propTypes={accounts:o.default.arrayOf(o.default.shape({address:o.default.string,addressLabel:o.default.string,lastConnectedDate:o.default.string,balance:o.default.string})).isRequired,selectAccounts:o.default.func.isRequired,selectNewAccountViaModal:o.default.func.isRequired,nativeCurrency:o.default.string.isRequired,addressLastConnectedMap:o.default.object,cancelPermissionsRequest:o.default.func.isRequired,permissionsRequestId:o.default.string.isRequired,selectedAccountAddresses:o.default.object.isRequired,targetSubjectMetadata:o.default.shape({extensionId:o.default.string,iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,subjectType:o.default.string})};n.default=h;function y(e){return(0,i.isEvmAccountType)(e.type)}function v(e){return e.address}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/choose-account.js"}],[7861,{"./choose-account":7860},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./choose-account"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/index.js"}],[7862,{"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/network":5772,"../../../../shared/lib/caip25-caveat-merger":5804,"../../../../shared/modules/selectors/networks":5908,"../../../components/component-library":6486,"../../../components/multichain":6725,"../../../components/multichain/create-solana-account-modal/create-solana-account-modal":6696,"../../../components/multichain/pages/page":6826,"../../../components/multichain/pages/review-permissions-page/site-cell/site-cell":6833,"../../../components/ui/tabs":6973,"../../../contexts/metametrics":7005,"../../../helpers/constants/design-system":7049,"../../../helpers/utils/util":7109,"../../../hooks/useI18nContext":7200,"../../../hooks/useOriginTrustSignals":7220,"../../../hooks/useTrustSignals":7245,"../../../selectors":8035,"../../../selectors/multichain":8044,"./utils":7863,"@metamask/chain-agnostic-permission":1360,"@metamask/utils":3070,lodash:4794,react:5229,"react-redux":5179,"react-tippy":5211},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/chain-agnostic-permission"),s=e("@metamask/utils"),i=e("lodash"),l=e("react-tippy"),c=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),d=e("../../../../shared/modules/selectors/networks"),p=e("../../../components/component-library"),m=e("../../../components/multichain/pages/page"),f=e("../../../components/multichain/pages/review-permissions-page/site-cell/site-cell"),g=e("../../../helpers/constants/design-system"),h=e("../../../../shared/constants/network"),y=e("../../../selectors/multichain"),v=e("../../../components/ui/tabs"),_=e("../../../components/multichain"),b=e("../../../helpers/utils/util"),E=e("../../../../shared/constants/metametrics"),x=e("../../../contexts/metametrics"),k=e("../../../components/multichain/create-solana-account-modal/create-solana-account-modal"),T=e("../../../../shared/lib/caip25-caveat-merger"),S=e("../../../hooks/useOriginTrustSignals"),w=e("../../../hooks/useTrustSignals"),C=e("./utils");function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}n.ConnectPage=({request:e,permissionsRequestId:t,rejectPermissionsRequest:n,approveConnection:I,targetSubjectMetadata:O})=>{const N=(0,c.useI18nContext)(),R=(0,a.useContext)(x.MetaMetricsContext),A=(0,o.useSelector)(t=>{var n;return(0,u.getPermissions)(t,null===(n=e.metadata)||void 0===n?void 0:n.origin)}),P=(0,a.useMemo)(()=>A?(0,C.getCaip25CaveatValueFromPermissions)(A):null,[A]),M=(0,C.getCaip25CaveatValueFromPermissions)(e.permissions),B=P?(0,T.mergeCaip25CaveatValues)(M,P):M,D=(0,r.getCaipAccountIdsFromCaip25CaveatValue)(B),L=(0,r.getAllScopesFromCaip25CaveatValue)(B),{promptToCreateSolanaAccount:F,isEip1193Request:j}=e.metadata??{},U=(0,o.useSelector)(d.getAllNetworkConfigurationsByCaipChainId),[W,z]=(0,a.useMemo)(()=>Object.entries(U).reduce(([e,t],[n,a])=>{const o=n;return(h.CAIP_FORMATTED_EVM_TEST_CHAINS.includes(o)?t:e).push({...a,caipChainId:o}),[e,t]},[[],[]]),[U]),$=(0,a.useMemo)(()=>[...W,...z].map(({caipChainId:e})=>e),[W,z]),[V,q]=(0,a.useState)(!1),[G,H]=(0,a.useState)(!1),[J,K]=(0,a.useState)(!1),Y=(0,o.useSelector)(y.getMultichainNetwork).chainId,X=z.find(e=>e.caipChainId===Y);let Q=X?[...W,X].map(({caipChainId:e})=>e):W.map(({caipChainId:e})=>e),Z=L.filter(e=>$.includes(e));if(j){Q=Q.filter(e=>{const{namespace:t}=(0,s.parseCaipChainId)(e);return t===s.KnownCaipNamespace.Eip155});!Z.some(e=>{const{namespace:t}=(0,s.parseCaipChainId)(e);return t===s.KnownCaipNamespace.Eip155})&&P&&(Z=Array.from(new Set([...Q,...Z])))}const ee=Z.length>0?Z:Q,[te,ne]=(0,a.useState)(ee),ae=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&q(!0),ne(e)},[q,ne]),oe=(0,o.useSelector)(u.getUpdatedAndSortedAccountsWithCaipAccountId),re=(0,r.getAllNamespacesFromCaip25CaveatValue)(B).filter(e=>e!==s.KnownCaipNamespace.Wallet),se=oe.filter(e=>{const{chain:{namespace:t}}=(0,s.parseCaipAccountId)(e.caipAccountId);return re.includes(t)}),ie=se.filter(e=>(0,r.isCaipAccountIdInPermittedAccountIds)(e.caipAccountId,D)),le=(0,C.getDefaultAccounts)(re,ie,se).map(({caipAccountId:e})=>e),[ce,ue]=(0,a.useState)(le),de=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&q(!0);let n=[...te];e.forEach(e=>{const{chain:{namespace:t}}=(0,s.parseCaipAccountId)(e);if(!n.some(e=>{try{const{namespace:n}=(0,s.parseCaipChainId)(e);return t===n}catch(e){return!1}})){const e=$.filter(e=>{try{const{namespace:n}=(0,s.parseCaipChainId)(e);return t===n}catch(e){return!1}});n=Array.from(new Set([...n,...e]))}}),ae(n,{isUserModified:t}),ue(e)},[q,ue,te,ae,$]);(0,a.useEffect)(()=>{V||(0,i.isEqual)(le,ce)||de(le,{isUserModified:!1})},[V,de,ce,JSON.stringify(le)]);const pe=oe.filter(({caipAccountId:e})=>ce.some(t=>t===e)),me=(0,a.useMemo)(()=>oe.some(({caipAccountId:e})=>{const{chain:t}=(0,s.parseCaipAccountId)(e);return t.namespace===s.KnownCaipNamespace.Solana}),[oe]),fe=(0,a.useCallback)(()=>{H(!0),R({category:E.MetaMetricsEventCategory.Navigation,event:E.MetaMetricsEventName.ViewPermissionedAccounts,properties:{location:"Connect view (accounts tab), Permissions toast, Permissions (dapp)"}})},[R]),ge=(0,a.useCallback)(()=>{K(!0)},[]),he=(0,a.useCallback)(()=>{K(!1)},[]),ye=(0,a.useCallback)(()=>{H(!1)},[]),ve=(0,a.useCallback)(()=>{n(t)},[t,n]),_e=(0,a.useCallback)(()=>{const t={...e,permissions:{...e.permissions,...(0,r.generateCaip25Caveat)(B,ce,te)}};I(t)},[e,B,ce,te,I]),be=(0,b.transformOriginToTitle)(O.origin),Ee=(0,S.useOriginTrustSignals)(O.origin);return a.default.createElement(m.Page,{"data-testid":"connect-page",className:"main-container connect-page",backgroundColor:g.BackgroundColor.backgroundDefault},a.default.createElement(m.Header,{paddingTop:8,paddingBottom:4},a.default.createElement(p.Box,{display:g.Display.Flex,justifyContent:g.JustifyContent.center,marginBottom:8},O.iconUrl?a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Box,{style:{filter:"blur(16px) brightness(1.1)",position:"absolute"}},a.default.createElement(p.AvatarFavicon,{backgroundColor:g.BackgroundColor.backgroundMuted,size:p.AvatarFaviconSize.Xl,src:O.iconUrl,name:be})),a.default.createElement(p.AvatarFavicon,{backgroundColor:g.BackgroundColor.backgroundMuted,size:p.AvatarFaviconSize.Lg,src:O.iconUrl,name:be,style:{zIndex:1,background:"transparent"}})):a.default.createElement(p.AvatarBase,{size:p.AvatarBaseSize.Lg,display:g.Display.Flex,alignItems:g.AlignItems.center,justifyContent:g.JustifyContent.center,color:g.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:g.BackgroundColor.backgroundMuted},(0,b.isIpAddress)(be)?"?":(0,b.getAvatarFallbackLetter)(be))),a.default.createElement(p.Box,{display:g.Display.Flex,alignItems:g.AlignItems.center,justifyContent:g.JustifyContent.center,gap:2,marginBottom:1},a.default.createElement(p.Text,{variant:g.TextVariant.headingLg,style:{wordBreak:"break-word",whiteSpace:"normal"}},be),Ee.state===w.TrustSignalDisplayState.Verified&&a.default.createElement(l.Tooltip,{title:N("alertReasonOriginTrustSignalVerified"),position:"bottom",style:{display:"flex"}},a.default.createElement(p.Icon,{name:p.IconName.VerifiedFilled,color:g.IconColor.infoDefault,size:p.IconSize.Sm}))),a.default.createElement(p.Box,{display:g.Display.Flex,justifyContent:g.JustifyContent.center},a.default.createElement(p.Text,{color:g.TextColor.textAlternative},N("connectionDescription")))),a.default.createElement(m.Content,{paddingLeft:4,paddingRight:4,backgroundColor:g.BackgroundColor.transparent},a.default.createElement(v.Tabs,{defaultActiveTabKey:"accounts"},a.default.createElement(v.Tab,{name:N("accounts"),tabKey:"accounts","data-testid":"accounts-tab",className:"flex-1"},a.default.createElement(p.Box,{marginTop:4},a.default.createElement(p.Box,{backgroundColor:g.BackgroundColor.backgroundDefault,borderRadius:g.BorderRadius.XL,style:{overflow:"auto",maxHeight:"268px",scrollbarColor:"var(--color-icon-muted) transparent"}},pe.map(e=>a.default.createElement(_.AccountListItem,{showConnectedStatus:!1,account:e,key:e.caipAccountId,selected:!1})),0===pe.length&&!F&&a.default.createElement(p.Box,{className:"connect-page__accounts-empty",display:g.Display.Flex,justifyContent:g.JustifyContent.center,alignItems:g.AlignItems.center,borderRadius:g.BorderRadius.XL},a.default.createElement(p.ButtonLink,{onClick:fe,"data-testid":"edit"},N("selectAccountToConnect")))),pe.length>0&&a.default.createElement(p.Box,{marginTop:4,display:g.Display.Flex,justifyContent:g.JustifyContent.center},a.default.createElement(p.ButtonLink,{onClick:fe,"data-testid":"edit"},N("editAccounts"))),F&&!me&&a.default.createElement(p.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,justifyContent:g.JustifyContent.center,alignItems:g.AlignItems.center,marginTop:4,gap:2},a.default.createElement(p.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative,textAlign:g.TextAlign.Center},0===pe.length?N("solanaAccountRequired"):N("solanaAccountRequested")),a.default.createElement(p.Button,{variant:p.ButtonVariant.Secondary,width:g.BlockSize.Full,size:p.ButtonSize.Lg,onClick:ge,"data-testid":"create-solana-account"},N("createSolanaAccount"))),J&&a.default.createElement(k.CreateSolanaAccountModal,{onClose:he}),G&&a.default.createElement(_.EditAccountsModal,{accounts:oe,defaultSelectedAccountAddresses:ce,onClose:ye,onSubmit:de}))),a.default.createElement(v.Tab,{name:N("permissions"),tabKey:"permissions","data-testid":"permissions-tab",disabled:F&&!me&&0===pe.length,className:"flex-1"},a.default.createElement(p.Box,{marginTop:4},a.default.createElement(f.SiteCell,{nonTestNetworks:W,testNetworks:z,accounts:oe,onSelectAccountAddresses:de,onSelectChainIds:ae,selectedAccountAddresses:ce,selectedChainIds:te,isConnectFlow:!0}))))),a.default.createElement(m.Footer,null,a.default.createElement(p.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,gap:4,width:g.BlockSize.Full},a.default.createElement(p.Box,{display:g.Display.Flex,gap:4,width:g.BlockSize.Full},a.default.createElement(p.Button,{block:!0,variant:p.ButtonVariant.Secondary,size:p.ButtonSize.Lg,"data-testid":"cancel-btn",onClick:ve},N("cancel")),a.default.createElement(p.Button,{block:!0,"data-testid":"confirm-btn",size:p.ButtonSize.Lg,onClick:_e,disabled:0===ce.length||0===te.length},N("connect"))))))}}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/connect-page.tsx"}],[7863,{"../../../helpers/utils/util":7109,"@metamask/chain-agnostic-permission":1360,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaip25CaveatValueFromPermissions=function(e){var t;return(null==e||null===(t=e[o.Caip25EndowmentPermissionName])||void 0===t||null===(t=t.caveats)||void 0===t||null===(t=t.find(e=>e.type===o.Caip25CaveatType))||void 0===t?void 0:t.value)??{optionalScopes:{},requiredScopes:{},sessionProperties:{},isMultichainOrigin:!1}},n.getCaip25PermissionsResponse=function(e,t,n){const a=(0,o.setPermittedEthChainIds)(e,n),r=(0,o.setEthAccounts)(a,t);return{[o.Caip25EndowmentPermissionName]:{caveats:[{type:o.Caip25CaveatType,value:r}]}}},n.getDefaultAccounts=function(e,t,n){const o=[],s=new Set;t.forEach(t=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(t.caipAccountId);e.includes(n)&&(o.push(t),s.add(n))});const i=e.filter(e=>!s.has(e));if(i.length>0){const e=(0,r.sortSelectedInternalAccounts)(n);for(const t of i){const n=e.find(e=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(e.caipAccountId);return n===t});n&&o.push(n)}}return o};var a=e("@metamask/utils"),o=e("@metamask/chain-agnostic-permission"),r=e("../../../helpers/utils/util")}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/utils.ts"}],[7864,{"./permissions-connect.container":7866},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-connect.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/index.js"}],[7865,{"../../../app/scripts/lib/multichain/address":288,"../../../shared/constants/time":5790,"../../../shared/lib/multichain/scope-utils":5862,"../../components/app/permission-page-container":6184,"../../components/app/snaps/snap-authorship-header/snap-authorship-header":6238,"../../components/component-library":6486,"../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-account-wrapper":6590,"../../components/multichain-accounts/state2-wrapper/state2-wrapper":6597,"../../helpers/constants/routes":7054,"../../hooks/useAccountGroupsForPermissions":7176,"../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page":7793,"../routes/utils":7886,"./choose-account":7861,"./connect-page/connect-page":7862,"./connect-page/utils":7863,"./redirect":7867,"./snaps/snap-install":7869,"./snaps/snap-result":7871,"./snaps/snap-update":7873,"./snaps/snaps-connect":7875,"@metamask/chain-agnostic-permission":1360,"@metamask/permission-controller":2401,"@metamask/rpc-errors":2594,"@metamask/snaps-utils":2902,"@metamask/utils":3070,"prop-types":5052,react:5229,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=A(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom-v5-compat"),s=e("@metamask/rpc-errors"),i=e("@metamask/permission-controller"),l=e("@metamask/snaps-utils"),c=e("@metamask/chain-agnostic-permission"),u=e("@metamask/utils"),d=e("../routes/utils"),p=e("../../../app/scripts/lib/multichain/address"),m=e("../../../shared/constants/time"),f=e("../../helpers/constants/routes"),g=A(e("../../components/app/permission-page-container")),h=e("../../components/component-library"),y=A(e("../../components/app/snaps/snap-authorship-header/snap-authorship-header")),v=e("../../components/multichain-accounts/state2-wrapper/state2-wrapper"),_=e("../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page"),b=e("../../hooks/useAccountGroupsForPermissions"),E=e("../../../shared/lib/multichain/scope-utils"),x=e("../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-account-wrapper"),k=A(e("./choose-account")),T=A(e("./redirect")),S=A(e("./snaps/snaps-connect")),w=A(e("./snaps/snap-install")),C=A(e("./snaps/snap-update")),I=A(e("./snaps/snap-result")),O=e("./connect-page/connect-page"),N=e("./connect-page/utils");function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function A(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M=1200*m.MILLISECOND;function B(e,t){const n=(0,N.getCaip25CaveatValueFromPermissions)(t),a=(0,c.getEthAccounts)(n);return a.length>0?new Set(a.map(e=>e.toLowerCase()).filter(p.isEthAddress)):new Set((0,p.isEthAddress)(e)?[e]:[])}function D(e){const t=(0,N.getCaip25CaveatValueFromPermissions)(e);return(0,c.getPermittedEthChainIds)(t)}class L extends o.Component{constructor(...e){var t;super(...e),P(this,"state",{redirecting:!1,selectedAccountAddresses:B(this.props.currentAddress,null===(t=this.props.permissionsRequest)||void 0===t?void 0:t.permissions),permissionsApproved:null,origin:this.props.origin,targetSubjectMetadata:this.props.targetSubjectMetadata||{},snapsInstallPrivacyWarningShown:this.props.snapsInstallPrivacyWarningShown}),P(this,"selectAccounts",e=>{const{confirmPermissionPath:t,requestType:n,snapsConnectPath:a,snapInstallPath:o,snapUpdatePath:r,snapResultPath:s,navigate:i}=this.props;this.setState({selectedAccountAddresses:e},()=>{switch(n){case"wallet_installSnap":i(o);break;case"wallet_updateSnap":i(r);break;case"wallet_installSnapResult":i(s);break;case"wallet_connectSnaps":i(a,{replace:!0});break;default:i(t)}})}),P(this,"cancelPermissionsRequest",async e=>{const{rejectPermissionsRequest:t}=this.props;e&&(await t(e),this.redirect(!1))}),P(this,"renderSnapChooseAccountState1",()=>{const{accounts:e,nativeCurrency:t,showNewAccountModal:n,newAccountNumber:a,addressLastConnectedMap:r,permissionsRequestId:s,targetSubjectMetadata:i}=this.props,{selectedAccountAddresses:l}=this.state;return o.default.createElement(k.default,{accounts:e,nativeCurrency:t,selectAccounts:e=>this.selectAccounts(e),selectNewAccountViaModal:e=>{n({onCreateNewAccount:t=>e(t),newAccountNumber:a})},addressLastConnectedMap:r,cancelPermissionsRequest:e=>this.cancelPermissionsRequest(e),permissionsRequestId:s,selectedAccountAddresses:l,targetSubjectMetadata:i})}),P(this,"renderSnapChooseAccountState2",()=>{const{permissionsRequestId:e,accountGroups:t,permissionsRequest:n}=this.props,{t:a}=this.context,r=(0,N.getCaip25CaveatValueFromPermissions)(null==n?void 0:n.permissions),s=[],i=(0,c.getAllScopesFromCaip25CaveatValue)(r).filter(e=>{const{namespace:t}=(0,u.parseCaipChainId)(e);return t!==u.KnownCaipNamespace.Wallet}),l=(0,c.getAllNamespacesFromCaip25CaveatValue)(r);return i.length>0&&i.forEach(e=>{s.push(e)}),l.includes(u.KnownCaipNamespace.Eip155)&&s.push(`${u.KnownCaipNamespace.Eip155}:0`),o.default.createElement(x.MultichainEditAccountsPageWrapper,{title:a("connectWithMetaMask"),permissions:null==n?void 0:n.permissions,onSubmit:e=>{const n=t.filter(t=>e.includes(t.id)&&(0,b.supportsChainIds)(t,s)),a=(0,E.getCaip25AccountIdsFromAccountGroupAndScope)(n,s).map(e=>(0,u.parseCaipAccountId)(e).address);this.selectAccounts(new Set(a))},onClose:()=>this.cancelPermissionsRequest(e)})}),P(this,"renderConnectPageState1",()=>{const e={rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),activeTabOrigin:this.state.origin,request:this.props.permissionsRequest||{},permissionsRequestId:this.props.permissionsRequestId,approveConnection:this.approveConnection,targetSubjectMetadata:this.props.targetSubjectMetadata};return o.default.createElement(O.ConnectPage,e)}),P(this,"renderConnectPageState2",()=>{const e={rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),activeTabOrigin:this.state.origin,request:this.props.permissionsRequest||{},permissionsRequestId:this.props.permissionsRequestId,approveConnection:this.approveConnection,targetSubjectMetadata:this.props.targetSubjectMetadata};return o.default.createElement(_.MultichainAccountsConnectPage,e)}),P(this,"approveConnection",(...e)=>{const{approvePermissionsRequest:t}=this.props;t(...e),this.redirect(!0)})}componentDidMount(){const{connectPath:e,confirmPermissionPath:t,snapsConnectPath:n,snapInstallPath:a,snapUpdatePath:o,snapResultPath:r,requestType:s,getRequestAccountTabIds:i,permissionsRequest:l,navigate:c,location:u,isRequestingAccounts:d}=this.props;if(i(),l){if(u.pathname===e&&!d)switch(s){case"wallet_installSnap":c(a,{replace:!0});break;case"wallet_updateSnap":c(o,{replace:!0});break;case"wallet_installSnapResult":c(r,{replace:!0});break;case"wallet_connectSnaps":c(n,{replace:!0});break;default:c(t,{replace:!0})}}else c(f.DEFAULT_ROUTE,{replace:!0})}componentDidUpdate(e){var t;const{permissionsRequest:n,lastConnectedInfo:a,targetSubjectMetadata:o}=this.props,{redirecting:r,origin:s}=this.state;if(null!=o&&o.origin&&(null===(t=e.targetSubjectMetadata)||void 0===t?void 0:t.origin)!==(null==o?void 0:o.origin)&&this.setState({targetSubjectMetadata:o}),!n&&e.permissionsRequest&&!r){var i,l;const t=((null===(i=a[s])||void 0===i?void 0:i.lastApproved)||0)>((null===(l=e.lastConnectedInfo[s])||void 0===l?void 0:l.lastApproved)||0);this.redirect(t)}}redirect(e){const{navigate:t,permissionsRequest:n}=this.props;let a=!0;a=!((null==n?void 0:n.permissions)&&Object.keys(n.permissions).includes("wallet_snap")),this.setState({redirecting:a,permissionsApproved:e}),a&&e?setTimeout(()=>t(f.DEFAULT_ROUTE),M):t(f.DEFAULT_ROUTE)}goBack(){const{navigate:e,connectPath:t}=this.props;e(t)}renderTopBar(e){const{targetSubjectMetadata:t}=this.state;return o.default.createElement(h.Box,{style:{boxShadow:t.subjectType===i.SubjectType.Snap&&"var(--shadow-size-lg) var(--color-shadow-default)"}},t.subjectType===i.SubjectType.Snap&&o.default.createElement(y.default,{snapId:t.origin,boxShadow:"none",onCancel:()=>{this.cancelPermissionsRequest(e)}}))}render(){var e;const{accounts:t,permissionsRequest:n,permissionsRequestId:a,connectPath:i,hideTopBar:c,targetSubjectMetadata:u,requestState:p,approvePendingApproval:m,rejectPendingApproval:h,setSnapsInstallPrivacyWarningShownStatus:y,approvePermissionsRequest:_,navigate:b,location:E}=this.props,{selectedAccountAddresses:x,permissionsApproved:k,redirecting:O,snapsInstallPrivacyWarningShown:N}=this.state,R=(0,l.isSnapId)(null==n||null===(e=n.metadata)||void 0===e?void 0:e.origin),A=(0,d.getRelativeLocationForNestedRoutes)(E,i);return o.default.createElement("div",{className:"permissions-connect"},!c&&this.renderTopBar(a),O&&k?o.default.createElement(T.default,{subjectMetadata:u}):o.default.createElement(r.Routes,{location:A},o.default.createElement(r.Route,{path:"/",element:(()=>R?o.default.createElement(v.State2Wrapper,{state1Component:this.renderSnapChooseAccountState1,state2Component:this.renderSnapChooseAccountState2}):o.default.createElement(v.State2Wrapper,{state1Component:this.renderConnectPageState1,state2Component:this.renderConnectPageState2}))()}),o.default.createElement(r.Route,{path:f.CONNECT_CONFIRM_PERMISSIONS_ROUTE,element:o.default.createElement(g.default,{request:n||{},approvePermissionsRequest:(...e)=>{_(...e),this.redirect(!0)},rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),selectedAccounts:t.filter(e=>x.has(e.address)),requestedChainIds:D(null==n?void 0:n.permissions),targetSubjectMetadata:u,navigate:b,connectPath:i,snapsInstallPrivacyWarningShown:N,setSnapsInstallPrivacyWarningShownStatus:y})}),o.default.createElement(r.Route,{path:f.CONNECT_SNAPS_CONNECT_ROUTE,element:o.default.createElement(S.default,{request:n||{},approveConnection:this.approveConnection,rejectConnection:e=>this.cancelPermissionsRequest(e),targetSubjectMetadata:u,snapsInstallPrivacyWarningShown:N,setSnapsInstallPrivacyWarningShownStatus:y})}),o.default.createElement(r.Route,{path:f.CONNECT_SNAP_INSTALL_ROUTE,element:o.default.createElement(w.default,{request:n||{},requestState:p||{},approveSnapInstall:e=>{m(e,{...n,permissions:p.permissions,approvedAccounts:[...x]}),this.setState({permissionsApproved:!0})},rejectSnapInstall:e=>{h(e,(0,s.serializeError)(s.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!0})},targetSubjectMetadata:u})}),o.default.createElement(r.Route,{path:f.CONNECT_SNAP_UPDATE_ROUTE,element:o.default.createElement(C.default,{request:n||{},requestState:p||{},approveSnapUpdate:e=>{m(e,{...n,permissions:p.permissions,approvedAccounts:[...x]}),this.setState({permissionsApproved:!0})},rejectSnapUpdate:e=>{h(e,(0,s.serializeError)(s.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!1})},targetSubjectMetadata:u})}),o.default.createElement(r.Route,{path:f.CONNECT_SNAP_RESULT_ROUTE,element:o.default.createElement(I.default,{request:n||{},requestState:p||{},approveSnapResult:e=>{m(e),this.setState({permissionsApproved:!0})},targetSubjectMetadata:u})})))}}n.default=L,P(L,"propTypes",{approvePermissionsRequest:a.default.func.isRequired,rejectPermissionsRequest:a.default.func.isRequired,getRequestAccountTabIds:a.default.func.isRequired,accounts:a.default.arrayOf(a.default.shape({id:a.default.string.isRequired,address:a.default.string.isRequired,metadata:a.default.shape({name:a.default.string.isRequired,snap:a.default.shape({id:a.default.string.isRequired,name:a.default.string,enabled:a.default.bool}),keyring:a.default.shape({type:a.default.string.isRequired}).isRequired}).isRequired,addressLabel:a.default.string.isRequired,label:a.default.string.isRequired,balance:a.default.string.isRequired})).isRequired,accountGroups:a.default.arrayOf(a.default.shape({id:a.default.string.isRequired,accounts:a.default.arrayOf(a.default.object.isRequired)})).isRequired,currentAddress:a.default.string.isRequired,origin:a.default.string,showNewAccountModal:a.default.func.isRequired,newAccountNumber:a.default.number.isRequired,nativeCurrency:a.default.string,permissionsRequest:a.default.object,addressLastConnectedMap:a.default.object.isRequired,lastConnectedInfo:a.default.object.isRequired,permissionsRequestId:a.default.string,navigate:a.default.func.isRequired,location:a.default.object.isRequired,connectPath:a.default.string.isRequired,confirmPermissionPath:a.default.string.isRequired,requestType:a.default.string.isRequired,snapsConnectPath:a.default.string.isRequired,snapInstallPath:a.default.string.isRequired,snapUpdatePath:a.default.string.isRequired,snapResultPath:a.default.string.isRequired,requestState:a.default.object.isRequired,approvePendingApproval:a.default.func.isRequired,rejectPendingApproval:a.default.func.isRequired,setSnapsInstallPrivacyWarningShownStatus:a.default.func.isRequired,snapsInstallPrivacyWarningShown:a.default.bool.isRequired,hideTopBar:a.default.bool,targetSubjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,name:a.default.string,origin:a.default.string,subjectType:a.default.string}),isRequestingAccounts:a.default.bool.isRequired}),P(L,"defaultProps",{origin:"",nativeCurrency:"",permissionsRequest:undefined,permissionsRequestId:""}),P(L,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.component.js"}],[7866,{"../../ducks/metamask/metamask":7033,"../../helpers/constants/routes":7054,"../../helpers/utils/util":7109,"../../selectors":8035,"../../selectors/multichain-accounts/account-tree":8039,"../../store/actions":8065,"./permissions-connect.component":7865,"@metamask/chain-agnostic-permission":1360,"@metamask/keyring-api":2173,"@metamask/permission-controller":2401,"@metamask/snaps-rpc-methods":2732,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("@metamask/permission-controller"),r=e("@metamask/snaps-rpc-methods"),s=e("react-redux"),i=e("@metamask/keyring-api"),l=e("@metamask/chain-agnostic-permission"),c=e("../../selectors"),u=e("../../ducks/metamask/metamask"),d=e("../../helpers/utils/util"),p=e("../../store/actions"),m=e("../../helpers/constants/routes"),f=e("../../selectors/multichain-accounts/account-tree"),g=(a=e("./permissions-connect.component"))&&a.__esModule?a:{default:a};const h=(0,s.connect)((e,t)=>{var n,a,s;const{match:{params:{id:p}},location:{pathname:g}}=t;let h=(0,c.getPermissionsRequests)(e);h=[...h,...(0,c.getSnapInstallOrUpdateRequests)(e)];const{address:y}=(0,c.getSelectedInternalAccount)(e),v=h.find(e=>e.metadata.id===p),{metadata:_={},diff:b={}}=v||{},{origin:E}=_,x=(0,u.getNativeCurrency)(e),k=Boolean(null==b?void 0:b.permissionDiffMap),T=Boolean((null==v||null===(n=v.permissions)||void 0===n?void 0:n[l.Caip25EndowmentPermissionName])&&!k),S=(0,c.getTargetSubjectMetadata)(e,E)??{name:(0,d.getURLHostName)(E)||E,origin:E,iconUrl:null,extensionId:null,subjectType:o.SubjectType.Unknown};let w=(0,c.getRequestType)(e,p);v&&1===Object.keys(v.permissions||{}).length&&null!==(a=v.permissions)&&void 0!==a&&a[r.WALLET_SNAP_PERMISSION_KEY]&&(w="wallet_connectSnaps");const C=(0,c.getRequestState)(e,p)||{},I=(0,c.getAccountsWithLabels)(e).filter(e=>(0,i.isEvmAccountType)(e.type)),O=(0,c.getLastConnectedInfo)(e)||{},N=(null===(s=O[E])||void 0===s?void 0:s.accounts)||{};Object.keys(N).forEach(e=>{N[e]=(0,d.formatDate)(N[e],"yyyy-MM-dd")});const R=`${m.CONNECT_ROUTE}/${p}`,A=`${R}${m.CONNECT_CONFIRM_PERMISSIONS_ROUTE}`,P=`${R}${m.CONNECT_SNAPS_CONNECT_ROUTE}`,M=`${R}${m.CONNECT_SNAP_INSTALL_ROUTE}`,B=`${R}${m.CONNECT_SNAP_UPDATE_ROUTE}`,D=`${R}${m.CONNECT_SNAP_RESULT_ROUTE}`,L=g===M||g===B||g===D;let F=1+T;F+=L,F=F.toString();let j="";if(g===R)j="1";else if(g===A)j=T?"2":"1";else if(L)j=T?"3":"2";else{if(g!==P)throw new Error("Incorrect path for permissions-connect component");j=1}return{isRequestingAccounts:T,requestType:w,snapsConnectPath:P,snapInstallPath:M,snapUpdatePath:B,snapResultPath:D,confirmPermissionPath:A,requestState:C,hideTopBar:L,snapsInstallPrivacyWarningShown:(0,c.getSnapsInstallPrivacyWarningShown)(e),permissionsRequest:v,permissionsRequestId:p,accounts:I,accountGroups:(0,f.getAccountGroupWithInternalAccounts)(e),currentAddress:y,origin:E,newAccountNumber:I.length+1,nativeCurrency:x,addressLastConnectedMap:N,lastConnectedInfo:O,connectPath:R,totalPages:F,page:j,targetSubjectMetadata:S}},e=>({approvePermissionsRequest:t=>e((0,p.approvePermissionsRequest)(t)),rejectPermissionsRequest:t=>e((0,p.rejectPermissionsRequest)(t)),approvePendingApproval:(t,n)=>e((0,p.resolvePendingApproval)(t,n)),rejectPendingApproval:(t,n)=>e((0,p.rejectPendingApproval)(t,n)),setSnapsInstallPrivacyWarningShownStatus:t=>{e((0,p.setSnapsInstallPrivacyWarningShownStatus)(t))},showNewAccountModal:({onCreateNewAccount:t,newAccountNumber:n})=>e((0,p.showModal)({name:"NEW_ACCOUNT",onCreateNewAccount:t,newAccountNumber:n})),getRequestAccountTabIds:()=>e((0,p.getRequestAccountTabIds)())}))(g.default);n.default=h}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.container.js"}],[7867,{"./permissions-redirect.component":7868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-redirect.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/index.js"}],[7868,{"../../../components/app/permissions-connect-footer":6190,"../../../components/component-library":6486,"../../../contexts/i18n":7e3,"../../../helpers/constants/design-system":7049,"prop-types":5052,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),s=e("../../../helpers/constants/design-system"),i=e("../../../contexts/i18n"),l=e("../../../components/component-library"),c=u(e("../../../components/app/permissions-connect-footer"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){const t=(0,a.c)(28),{subjectMetadata:n}=e,r=(0,o.useContext)(i.I18nContext),[u,d]=(0,o.useState)(n);let p,m,f,g,h,y,v,_,b,E,x,k,T,S,w;return t[0]!==n?(p=()=>{n&&n.origin&&d(n)},m=[n],t[0]=n,t[1]=p,t[2]=m):(p=t[1],m=t[2]),(0,o.useEffect)(p,m),t[3]!==r?(f=r("connecting"),t[3]=r,t[4]=f):f=t[4],t[5]!==f?(g=o.default.createElement(l.Box,{display:s.Display.Flex,marginBottom:4},o.default.createElement(l.Text,{variant:s.TextVariant.headingMd},f)),t[5]=f,t[6]=g):g=t[6],t[7]!==u.iconUrl||t[8]!==u.name?(h=o.default.createElement(l.AvatarToken,{src:u.iconUrl,name:u.name,size:l.AvatarTokenSize.Lg}),t[7]=u.iconUrl,t[8]=u.name,t[9]=h):h=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(y=o.default.createElement(l.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,paddingLeft:4,paddingRight:4},o.default.createElement(l.Icon,{name:l.IconName.Confirmation,size:l.IconSize.Xl,color:s.IconColor.infoDefault})),v=o.default.createElement(l.AvatarToken,{src:"/images/logo/metamask-fox.svg",size:l.AvatarTokenSize.Lg,name:"metamask-fox"}),t[10]=y,t[11]=v):(y=t[10],v=t[11]),t[12]!==h?(_=o.default.createElement(l.Box,{display:s.Display.Flex,backgroundColor:s.BackgroundColor.infoMuted,borderRadius:s.BorderRadius.pill,padding:2},h,y,v),t[12]=h,t[13]=_):_=t[13],t[14]!==g||t[15]!==_?(b=o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,width:s.BlockSize.Full,height:s.BlockSize.Full,backgroundColor:s.BackgroundColor.backgroundDefault,borderRadius:s.BorderRadius.XS,border:`1px solid ${s.BorderColor.borderMuted}`,boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},g,_),t[14]=g,t[15]=_,t[16]=b):b=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(E=o.default.createElement(c.default,null),t[17]=E):E=t[17],t[18]!==r?(x=r("back"),t[18]=r,t[19]=x):x=t[19],t[20]!==x?(k=o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,size:l.ButtonSize.Lg,width:s.BlockSize.Full,marginRight:2,disabled:!0},x),t[20]=x,t[21]=k):k=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(T=o.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,width:s.BlockSize.Full,marginLeft:2,disabled:!0,loading:!0}),t[22]=T):T=t[22],t[23]!==k?(S=o.default.createElement(l.Box,{backgroundColor:s.BackgroundColor.backgroundDefault,padding:4},o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},E,o.default.createElement(l.Box,{display:s.Display.Flex,paddingTop:4,width:s.BlockSize.Full,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},k,T))),t[23]=k,t[24]=S):S=t[24],t[25]!==S||t[26]!==b?(w=o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,width:s.BlockSize.Full,height:s.BlockSize.Full,justifyContent:s.JustifyContent.spaceBetween},b,S),t[25]=S,t[26]=b,t[27]=w):w=t[27],w}p.propTypes={subjectMetadata:r.default.shape({extensionId:r.default.string,iconUrl:r.default.string,subjectType:r.default.string,name:r.default.string.isRequired,origin:r.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/permissions-redirect.component.js"}],[7869,{"./snap-install":7870},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-install"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/index.js"}],[7870,{"../../../../components/app/permission-connect-header":6182,"../../../../components/app/snaps/install-error/install-error":6229,"../../../../components/app/snaps/snap-authorship-header":6237,"../../../../components/app/snaps/snap-install-warning":6250,"../../../../components/app/snaps/snap-permissions-list":6262,"../../../../components/component-library":6486,"../../../../components/ui/page-container":6948,"../../../../components/ui/pulse-loader/pulse-loader":6957,"../../../../helpers/constants/design-system":7049,"../../../../helpers/utils/util":7109,"../../../../hooks/useI18nContext":7200,"../../../../hooks/useOriginMetadata":7219,"../../../../hooks/useScrollRequired":7224,"../../../../selectors":8035,"../util":7877,"@metamask/snaps-utils":2902,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=S;var a=e("react-compiler-runtime"),o=T(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("@metamask/snaps-utils"),l=e("../../../../components/ui/page-container"),c=e("../../../../hooks/useI18nContext"),u=T(e("../../../../components/app/snaps/snap-install-warning")),d=e("../../../../helpers/constants/design-system"),p=e("../util"),m=T(e("../../../../components/ui/pulse-loader/pulse-loader")),f=T(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../components/component-library"),h=T(e("../../../../components/app/snaps/snap-permissions-list")),y=e("../../../../hooks/useScrollRequired"),v=T(e("../../../../components/app/snaps/install-error/install-error")),_=e("../../../../hooks/useOriginMetadata"),b=e("../../../../selectors"),E=e("../../../../helpers/utils/util"),x=T(e("../../../../components/app/permission-connect-header"));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function T(e){return e&&e.__esModule?e:{default:e}}function S(e){var t,n,o,k,T;const S=(0,a.c)(85),{request:w,requestState:C,approveSnapInstall:I,rejectSnapInstall:O,targetSubjectMetadata:N}=e,R=(0,c.useI18nContext)(),A=(0,_.useOriginMetadata)(null==w||null===(t=w.metadata)||void 0===t?void 0:t.dappOrigin)||{},{origin:P,iconUrl:M}=A,[B,D]=(0,r.useState)(!1),L=(0,s.useSelector)(b.getSnapsMetadata),[F,j]=(0,r.useState)(!1);let U;S[0]!==C?(U=[C],S[0]=C,S[1]=U):U=S[1];const{isScrollable:W,hasScrolledToBottom:z,scrollToBottom:$,ref:V,onScroll:q}=(0,y.useScrollRequired)(U);let G;var H;S[2]!==O||S[3]!==(null==w||null===(n=w.metadata)||void 0===n?void 0:n.id)?(G=()=>{var e;return O(null==w||null===(e=w.metadata)||void 0===e?void 0:e.id)},S[2]=O,S[3]=null==w||null===(H=w.metadata)||void 0===H?void 0:H.id,S[4]=G):G=S[4];const J=G;let K;var Y;S[5]!==I||S[6]!==(null==w||null===(o=w.metadata)||void 0===o?void 0:o.id)?(K=()=>{var e;return I(null==w||null===(e=w.metadata)||void 0===e?void 0:e.id)},S[5]=I,S[6]=null==w||null===(Y=w.metadata)||void 0===Y?void 0:Y.id,S[7]=K):K=S[7];const X=K;let Q;S[8]!==N.origin?(Q=e=>(0,b.getSnapMetadata)(e,N.origin),S[8]=N.origin,S[9]=Q):Q=S[9];const{name:Z}=(0,s.useSelector)(Q),ee=!C.loading&&C.error,te=C.loading,ne=null==w||null===(k=w.metadata)||void 0===k?void 0:k.dappOrigin;let ae;S[10]!==ne?(ae=(0,i.isSnapId)(ne),S[10]=ne,S[11]=ae):ae=S[11];const oe=ae;let re;S[12]!==C.permissions||S[13]!==Z||S[14]!==L||S[15]!==R?(re=(0,p.getSnapInstallWarnings)((null==C?void 0:C.permissions)??{},R,Z,(0,E.getSnapName)(L)),S[12]=C.permissions,S[13]=Z,S[14]=L,S[15]=R,S[16]=re):re=S[16];const se=re,ie=se.length>0;let le;S[17]!==ee||S[18]!==J||S[19]!==X||S[20]!==ie?(le=()=>{!ee&&ie?D(!0):ee?J():X()},S[17]=ee,S[18]=J,S[19]=X,S[20]=ie,S[21]=le):le=S[21];const ce=le;let ue;S[22]!==ee||S[23]!==te?(ue=()=>ee?"ok":te?"connect":"confirm",S[22]=ee,S[23]=te,S[24]=ue):ue=S[24];const de=ue;let pe;S[25]===Symbol.for("react.memo_cache_sentinel")?(pe=()=>{j(!0)},S[25]=pe):pe=S[25];const me=pe;let fe;var ge,he;S[26]!==ee||S[27]!==M||S[28]!==te||S[29]!==oe||S[30]!==J||S[31]!==P||S[32]!==(null==w||null===(T=w.metadata)||void 0===T?void 0:T.dappOrigin)||S[33]!==N.origin?(fe=!te&&!ee||oe?r.default.createElement(f.default,{snapId:te&&oe?null==w||null===(ge=w.metadata)||void 0===ge?void 0:ge.dappOrigin:N.origin,onCancel:J}):r.default.createElement(x.default,{origin:P,iconUrl:M}),S[26]=ee,S[27]=M,S[28]=te,S[29]=oe,S[30]=J,S[31]=P,S[32]=null==w||null===(he=w.metadata)||void 0===he?void 0:he.dappOrigin,S[33]=N.origin,S[34]=fe):fe=S[34];const ye=te||ee?undefined:V,ve=!te&&!ee&&"1";let _e,be,Ee,xe,ke;S[35]!==ve?(_e={overflowY:"auto",flex:ve},S[35]=ve,S[36]=_e):_e=S[36],S[37]!==te?(be=te&&r.default.createElement(g.Box,{display:d.Display.Flex,className:"snap-install__content__loader-container",flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.center},r.default.createElement(m.default,null)),S[37]=te,S[38]=be):be=S[38],S[39]!==ee||S[40]!==C.error||S[41]!==Z||S[42]!==R?(Ee=ee&&r.default.createElement(v.default,{iconName:g.IconName.Warning,title:R("connectionFailed"),description:R("connectionFailedDescription",[r.default.createElement(g.Text,{as:"span",key:"1",fontWeight:d.FontWeight.Medium},Z)]),error:C.error}),S[39]=ee,S[40]=C.error,S[41]=Z,S[42]=R,S[43]=Ee):Ee=S[43],S[44]!==ee||S[45]!==z||S[46]!==te||S[47]!==W||S[48]!==C.connections||S[49]!==C.permissions||S[50]!==$||S[51]!==F||S[52]!==Z||S[53]!==R||S[54]!==N.origin?(xe=!ee&&!te&&r.default.createElement(r.default.Fragment,null,r.default.createElement(g.Text,{variant:d.TextVariant.headingMd,paddingTop:4,paddingBottom:2,textAlign:"center"},R("installRequest")),r.default.createElement(g.Text,{className:"snap-install__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:d.TextAlign.Center},R("snapInstallRequest",[r.default.createElement(g.Text,{as:"span",key:"2",variant:d.TextVariant.bodyMd,fontWeight:d.FontWeight.Medium},Z)])),r.default.createElement(g.Box,{display:d.Display.Flex,backgroundColor:d.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:d.BorderRadius.XL},r.default.createElement(h.default,{snapId:N.origin,snapName:Z,permissions:C.permissions||{},connections:C.connections||{},onShowAllPermissions:me})),r.default.createElement(g.Box,{className:"snap-install__scroll-button-area"},!W||z||F?null:r.default.createElement(g.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-install-scroll",iconName:g.IconName.Arrow2Down,backgroundColor:d.BackgroundColor.infoDefault,color:d.IconColor.primaryInverse,onClick:$,style:{cursor:"pointer"}}))),S[44]=ee,S[45]=z,S[46]=te,S[47]=W,S[48]=C.connections,S[49]=C.permissions,S[50]=$,S[51]=F,S[52]=Z,S[53]=R,S[54]=N.origin,S[55]=xe):xe=S[55],S[56]!==q||S[57]!==ye||S[58]!==_e||S[59]!==be||S[60]!==Ee||S[61]!==xe?(ke=r.default.createElement(g.Box,{ref:ye,onScroll:q,className:"snap-install__content",style:_e,paddingLeft:4,paddingRight:4},be,Ee,xe),S[56]=q,S[57]=ye,S[58]=_e,S[59]=be,S[60]=Ee,S[61]=xe,S[62]=ke):ke=S[62];const Te=te||!ee&&W&&!z;let Se,we,Ce,Ie,Oe;return S[63]!==R?(Se=R("cancel"),S[63]=R,S[64]=Se):Se=S[64],S[65]!==de||S[66]!==R?(we=R(de()),S[65]=de,S[66]=R,S[67]=we):we=S[67],S[68]!==ce||S[69]!==ee||S[70]!==J||S[71]!==Te||S[72]!==Se||S[73]!==we?(Ce=r.default.createElement(g.Box,{className:"snap-install__footer",display:d.Display.Flex,alignItems:d.AlignItems.center,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative},r.default.createElement(l.PageContainerFooter,{cancelButtonType:"default",hideCancel:ee,disabled:Te,onCancel:J,cancelText:Se,onSubmit:ce,submitText:we})),S[68]=ce,S[69]=ee,S[70]=J,S[71]=Te,S[72]=Se,S[73]=we,S[74]=Ce):Ce=S[74],S[75]!==B||S[76]!==X||S[77]!==Z||S[78]!==se?(Ie=B&&r.default.createElement(u.default,{onCancel:()=>D(!1),onSubmit:X,warnings:se,snapName:Z}),S[75]=B,S[76]=X,S[77]=Z,S[78]=se,S[79]=Ie):Ie=S[79],S[80]!==fe||S[81]!==ke||S[82]!==Ce||S[83]!==Ie?(Oe=r.default.createElement(g.Box,{className:"snap-install",display:d.Display.Flex,justifyContent:d.JustifyContent.spaceBetween,height:d.BlockSize.Full,borderStyle:d.BorderStyle.none,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative},fe,ke,Ce,Ie),S[80]=fe,S[81]=ke,S[82]=Ce,S[83]=Ie,S[84]=Oe):Oe=S[84],Oe}S.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapInstall:o.default.func.isRequired,rejectSnapInstall:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/snap-install.js"}],[7871,{"./snap-result":7872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-result"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/index.js"}],[7872,{"../../../../components/app/snaps/install-error/install-error":6229,"../../../../components/app/snaps/snap-authorship-header":6237,"../../../../components/component-library":6486,"../../../../components/ui/box/box":6874,"../../../../components/ui/page-container":6948,"../../../../components/ui/pulse-loader/pulse-loader":6957,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../../../selectors":8035,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=e("react-compiler-runtime"),o=y(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("../../../../components/ui/page-container"),l=e("../../../../hooks/useI18nContext"),c=y(e("../../../../components/ui/box/box")),u=e("../../../../helpers/constants/design-system"),d=e("../../../../components/component-library"),p=y(e("../../../../components/ui/pulse-loader/pulse-loader")),m=y(e("../../../../components/app/snaps/install-error/install-error")),f=y(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../selectors");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function v(e){var t;const n=(0,a.c)(40),{request:o,requestState:h,approveSnapResult:y,targetSubjectMetadata:v}=e,_=(0,l.useI18nContext)();let b;var E;n[0]!==y||n[1]!==(null==o||null===(t=o.metadata)||void 0===t?void 0:t.id)?(b=()=>{var e;return y(null==o||null===(e=o.metadata)||void 0===e?void 0:e.id)},n[0]=y,n[1]=null==o||null===(E=o.metadata)||void 0===E?void 0:E.id,n[2]=b):b=n[2];const x=b,k=!h.loading&&h.error,T=h.loading;let S;n[3]!==v.origin?(S=e=>(0,g.getSnapMetadata)(e,v.origin),n[3]=v.origin,n[4]=S):S=n[4];const{name:w}=(0,s.useSelector)(S);let C;n[5]!==_?(C=function(e,t){let n;e:switch(e){case"wallet_installSnap":n=_("snapInstallSuccess");break e;case"wallet_updateSnap":n=_("snapUpdateSuccess");break e;default:n=_("snapResultSuccess")}return r.default.createElement(c.default,{flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,height:u.BlockSize.Full,paddingTop:2,paddingBottom:2,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(d.AvatarIcon,{className:"snap-result__header__icon",iconName:d.IconName.Confirmation,size:d.AvatarIconSize.Xl,color:u.IconColor.successDefault,backgroundColor:u.BackgroundColor.successMuted}),r.default.createElement(d.Text,{fontWeight:u.FontWeight.Bold,textAlign:u.TextAlign.Center,variant:u.TextVariant.headingLg,paddingBottom:2,marginTop:4},n),r.default.createElement(d.Text,{textAlign:u.TextAlign.Center},_("snapResultSuccessDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)])))},n[5]=_,n[6]=C):C=n[6];const I=C;let O;n[7]!==h.error||n[8]!==_?(O=function(e,t){let n,a;e:switch(e){case"wallet_installSnap":n=_("snapInstallationErrorTitle"),a=_("snapInstallationErrorDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)]);break e;case"wallet_updateSnap":n=_("snapUpdateErrorTitle"),a=_("snapUpdateErrorDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)]);break e;default:n=_("snapResultError")}return r.default.createElement(m.default,{error:h.error,title:n,description:a,iconName:d.IconName.Warning})},n[7]=h.error,n[8]=_,n[9]=O):O=n[9];const N=O;let R,A,P,M,B,D,L,F;return n[10]!==x||n[11]!==v.origin?(R=r.default.createElement(f.default,{snapId:v.origin,onCancel:x}),n[10]=x,n[11]=v.origin,n[12]=R):R=n[12],n[13]!==T?(A=T&&r.default.createElement(c.default,{className:"snap-result__content__loader-container",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,height:u.BlockSize.Full},r.default.createElement(p.default,null)),n[13]=T,n[14]=A):A=n[14],n[15]!==I||n[16]!==k||n[17]!==T||n[18]!==h.type||n[19]!==w?(P=!T&&!k&&I(h.type,w),n[15]=I,n[16]=k,n[17]=T,n[18]=h.type,n[19]=w,n[20]=P):P=n[20],n[21]!==N||n[22]!==k||n[23]!==h.type||n[24]!==w?(M=k&&N(h.type,w),n[21]=N,n[22]=k,n[23]=h.type,n[24]=w,n[25]=M):M=n[25],n[26]!==A||n[27]!==P||n[28]!==M?(B=r.default.createElement(c.default,{className:"snap-result__content",paddingLeft:4,paddingRight:4,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative,height:u.BlockSize.Full,justifyContent:u.JustifyContent.center},A,P,M),n[26]=A,n[27]=P,n[28]=M,n[29]=B):B=n[29],n[30]!==_?(D=_("ok").toUpperCase(),n[30]=_,n[31]=D):D=n[31],n[32]!==T||n[33]!==x||n[34]!==D?(L=r.default.createElement(c.default,{className:"snap-result__footer",alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(i.PageContainerFooter,{hideCancel:!0,disabled:T,onSubmit:x,submitText:D})),n[32]=T,n[33]=x,n[34]=D,n[35]=L):L=n[35],n[36]!==L||n[37]!==R||n[38]!==B?(F=r.default.createElement(c.default,{className:"page-container snap-result",justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},R,B,L),n[36]=L,n[37]=R,n[38]=B,n[39]=F):F=n[39],F}v.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapResult:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/snap-result.js"}],[7873,{"./snap-update":7874},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-update"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/index.js"}],[7874,{"../../../../components/app/snaps/install-error/install-error":6229,"../../../../components/app/snaps/snap-authorship-header":6237,"../../../../components/app/snaps/snap-install-warning":6250,"../../../../components/app/snaps/update-snap-permission-list":6354,"../../../../components/component-library":6486,"../../../../components/ui/page-container":6948,"../../../../components/ui/pulse-loader/pulse-loader":6957,"../../../../helpers/constants/design-system":7049,"../../../../helpers/utils/util":7109,"../../../../hooks/useI18nContext":7200,"../../../../hooks/useScrollRequired":7224,"../../../../selectors":8035,"../util":7877,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=e("react-compiler-runtime"),o=E(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("../../../../components/ui/page-container"),l=e("../../../../hooks/useI18nContext"),c=E(e("../../../../components/app/snaps/snap-install-warning")),u=e("../../../../helpers/constants/design-system"),d=E(e("../../../../components/app/snaps/update-snap-permission-list")),p=e("../util"),m=E(e("../../../../components/ui/pulse-loader/pulse-loader")),f=E(e("../../../../components/app/snaps/install-error/install-error")),g=E(e("../../../../components/app/snaps/snap-authorship-header")),h=e("../../../../components/component-library"),y=e("../../../../hooks/useScrollRequired"),v=e("../../../../selectors"),_=e("../../../../helpers/utils/util");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function E(e){return e&&e.__esModule?e:{default:e}}function x(e){var t,n;const o=(0,a.c)(101),{request:b,requestState:E,approveSnapUpdate:x,rejectSnapUpdate:k,targetSubjectMetadata:T}=e,S=(0,l.useI18nContext)(),[w,C]=(0,r.useState)(!1),[I,O]=(0,r.useState)(!1);let N;o[0]!==E?(N=[E],o[0]=E,o[1]=N):N=o[1];const{isScrollable:R,hasScrolledToBottom:A,scrollToBottom:P,ref:M,onScroll:B}=(0,y.useScrollRequired)(N),D=(0,s.useSelector)(v.getSnapsMetadata);let L;var F;o[2]!==k||o[3]!==(null==b||null===(t=b.metadata)||void 0===t?void 0:t.id)?(L=()=>{var e;return k(null==b||null===(e=b.metadata)||void 0===e?void 0:e.id)},o[2]=k,o[3]=null==b||null===(F=b.metadata)||void 0===F?void 0:F.id,o[4]=L):L=o[4];const j=L;let U;var W;o[5]!==x||o[6]!==(null==b||null===(n=b.metadata)||void 0===n?void 0:n.id)?(U=()=>{var e;return x(null==b||null===(e=b.metadata)||void 0===e?void 0:e.id)},o[5]=x,o[6]=null==b||null===(W=b.metadata)||void 0===W?void 0:W.id,o[7]=U):U=o[7];const z=U;let $;o[8]!==T.origin?($=e=>(0,v.getSnapMetadata)(e,T.origin),o[8]=T.origin,o[9]=$):$=o[9];const{name:V}=(0,s.useSelector)($);let q;o[10]!==E.approvedPermissions?(q=E.approvedPermissions??{},o[10]=E.approvedPermissions,o[11]=q):q=o[11];const G=q;let H;o[12]!==E.unusedPermissions?(H=E.unusedPermissions??{},o[12]=E.unusedPermissions,o[13]=H):H=o[13];const J=H;let K,Y,X,Q,Z,ee,te,ne;if(o[14]!==E||o[15]!==V||o[16]!==D||o[17]!==S){let e,t,n;Z=E.newPermissions??{},o[26]!==E.approvedConnections?(e=E.approvedConnections??{},o[26]=E.approvedConnections,o[27]=e):e=o[27],K=e,o[28]!==E.unusedConnections?(t=E.unusedConnections??{},o[28]=E.unusedConnections,o[29]=t):t=o[29],te=t,o[30]!==E.newConnections?(n=E.newConnections??{},o[30]=E.newConnections,o[31]=n):n=o[31],Q=n,({newVersion:ee}=E),X=E.loading,Y=!X&&E.error,ne=(0,p.getSnapInstallWarnings)(Z,S,V,(0,_.getSnapName)(D)),o[14]=E,o[15]=V,o[16]=D,o[17]=S,o[18]=K,o[19]=Y,o[20]=X,o[21]=Q,o[22]=Z,o[23]=ee,o[24]=te,o[25]=ne}else K=o[18],Y=o[19],X=o[20],Q=o[21],Z=o[22],ee=o[23],te=o[24],ne=o[25];const ae=ne,oe=ae.length>0;let re;o[32]!==Y||o[33]!==j||o[34]!==z||o[35]!==oe?(re=()=>{!Y&&oe?C(!0):Y?j():z()},o[32]=Y,o[33]=j,o[34]=z,o[35]=oe,o[36]=re):re=o[36];const se=re;let ie;o[37]===Symbol.for("react.memo_cache_sentinel")?(ie=()=>{O(!0)},o[37]=ie):ie=o[37];const le=ie;let ce;o[38]!==j||o[39]!==T.origin?(ce=r.default.createElement(g.default,{snapId:T.origin,onCancel:j}),o[38]=j,o[39]=T.origin,o[40]=ce):ce=o[40];const ue=!X&&"1";let de,pe,me,fe,ge,he;o[41]!==ue?(de={overflowY:"auto",flex:ue},o[41]=ue,o[42]=de):de=o[42],o[43]!==Y||o[44]!==X||o[45]!==S?(pe=!X&&!Y&&r.default.createElement(h.Text,{paddingTop:4,paddingBottom:2,variant:u.TextVariant.headingMd,textAlign:"center"},S("updateRequest")),o[43]=Y,o[44]=X,o[45]=S,o[46]=pe):pe=o[46],o[47]!==X?(me=X&&r.default.createElement(h.Box,{className:"snap-update__content__loader-container",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center},r.default.createElement(m.default,null)),o[47]=X,o[48]=me):me=o[48],o[49]!==Y||o[50]!==E.error||o[51]!==V||o[52]!==S?(fe=Y&&r.default.createElement(f.default,{iconName:h.IconName.Warning,error:E.error,title:S("snapUpdateErrorTitle"),description:S("snapUpdateErrorDescription",[r.default.createElement(h.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},V)])}),o[49]=Y,o[50]=E.error,o[51]=V,o[52]=S,o[53]=fe):fe=o[53],o[54]!==K||o[55]!==G||o[56]!==Y||o[57]!==A||o[58]!==X||o[59]!==R||o[60]!==Q||o[61]!==Z||o[62]!==ee||o[63]!==te||o[64]!==J||o[65]!==P||o[66]!==I||o[67]!==V||o[68]!==S||o[69]!==T?(ge=!Y&&!X&&r.default.createElement(r.default.Fragment,null,r.default.createElement(h.Text,{className:"snap-update__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:u.TextAlign.Center},S("snapUpdateRequest",[r.default.createElement(h.Text,{as:"span",key:"2",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},V),r.default.createElement(h.Text,{as:"span",key:"3",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},ee)])),r.default.createElement(h.Box,{display:u.Display.Flex,backgroundColor:u.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:u.BorderRadius.XL},r.default.createElement(d.default,{approvedPermissions:G,revokedPermissions:J,newPermissions:Z,approvedConnections:K,revokedConnections:te,newConnections:Q,targetSubjectMetadata:T,showAllPermissions:le})),r.default.createElement(h.Box,{className:"snap-update__scroll-button-area"},!R||A||I?null:r.default.createElement(h.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-update-scroll",iconName:h.IconName.Arrow2Down,backgroundColor:u.BackgroundColor.infoDefault,color:u.IconColor.primaryInverse,onClick:P,style:{cursor:"pointer"}}))),o[54]=K,o[55]=G,o[56]=Y,o[57]=A,o[58]=X,o[59]=R,o[60]=Q,o[61]=Z,o[62]=ee,o[63]=te,o[64]=J,o[65]=P,o[66]=I,o[67]=V,o[68]=S,o[69]=T,o[70]=ge):ge=o[70],o[71]!==B||o[72]!==M||o[73]!==de||o[74]!==pe||o[75]!==me||o[76]!==fe||o[77]!==ge?(he=r.default.createElement(h.Box,{ref:M,onScroll:B,className:"snap-update__content",style:de,paddingLeft:4,paddingRight:4},pe,me,fe,ge),o[71]=B,o[72]=M,o[73]=de,o[74]=pe,o[75]=me,o[76]=fe,o[77]=ge,o[78]=he):he=o[78];const ye=X||!Y&&R&&!A;let ve;o[79]!==S?(ve=S("cancel"),o[79]=S,o[80]=ve):ve=o[80];const _e=Y?"ok":"confirm";let be,Ee,xe,ke;return o[81]!==S||o[82]!==_e?(be=S(_e),o[81]=S,o[82]=_e,o[83]=be):be=o[83],o[84]!==se||o[85]!==Y||o[86]!==j||o[87]!==ye||o[88]!==ve||o[89]!==be?(Ee=r.default.createElement(h.Box,{className:"snap-update__footer",display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(i.PageContainerFooter,{cancelButtonType:"default",hideCancel:Y,disabled:ye,onCancel:j,cancelText:ve,onSubmit:se,submitText:be})),o[84]=se,o[85]=Y,o[86]=j,o[87]=ye,o[88]=ve,o[89]=be,o[90]=Ee):Ee=o[90],o[91]!==w||o[92]!==z||o[93]!==V||o[94]!==ae?(xe=w&&r.default.createElement(c.default,{onCancel:()=>C(!1),onSubmit:z,snapName:V,warnings:ae}),o[91]=w,o[92]=z,o[93]=V,o[94]=ae,o[95]=xe):xe=o[95],o[96]!==ce||o[97]!==he||o[98]!==Ee||o[99]!==xe?(ke=r.default.createElement(h.Box,{className:"snap-update",display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},ce,he,Ee,xe),o[96]=ce,o[97]=he,o[98]=Ee,o[99]=xe,o[100]=ke):ke=o[100],ke}x.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapUpdate:o.default.func.isRequired,rejectSnapUpdate:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/snap-update.js"}],[7875,{"./snaps-connect":7876},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snaps-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/index.js"}],[7876,{"../../../../components/app/snaps/snap-connect-cell/snap-connect-cell":6241,"../../../../components/app/snaps/snap-icon":6248,"../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning":6265,"../../../../components/component-library":6486,"../../../../components/ui/page-container":6948,"../../../../components/ui/pulse-loader/pulse-loader":6957,"../../../../helpers/constants/design-system":7049,"../../../../helpers/utils/util":7109,"../../../../hooks/useI18nContext":7200,"../../../../hooks/useOriginMetadata":7219,"../../../../selectors":8035,"@metamask/snaps-utils":2902,"prop-types":5052,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=v(e("prop-types")),s=e("@metamask/snaps-utils"),i=e("../../../../hooks/useI18nContext"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/ui/page-container"),d=v(e("../../../../components/app/snaps/snap-connect-cell/snap-connect-cell")),p=e("../../../../helpers/utils/util"),m=v(e("../../../../components/ui/pulse-loader/pulse-loader")),f=v(e("../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning")),g=e("../../../../selectors"),h=e("../../../../hooks/useOriginMetadata"),y=e("../../../../components/app/snaps/snap-icon");function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function b({request:e,approveConnection:t,rejectConnection:n,targetSubjectMetadata:r,snapsInstallPrivacyWarningShown:v,setSnapsInstallPrivacyWarningShownStatus:_}){const b=(0,i.useI18nContext)(),{origin:E}=r,[x,k]=(0,a.useState)(!1),T=(0,o.useSelector)(t=>{var n;return(0,g.getPermissions)(t,null==e||null===(n=e.metadata)||void 0===n?void 0:n.origin)}),S=(0,o.useSelector)(g.getPreinstalledSnaps),w=(0,p.getDedupedSnaps)(e,T),C=w[0],{name:I}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,C)),O=Object.keys(S).includes(C),[N,R]=(0,a.useState)(!O&&!v),A=(0,a.useCallback)(()=>{var t;n(null==e||null===(t=e.metadata)||void 0===t?void 0:t.id)},[e,n]),P=(0,a.useCallback)(()=>{try{k(!0),t(e)}finally{k(!1)}},[e,t]),M=()=>{var e;let t=null===(e=(0,h.useOriginMetadata)(E)||{})||void 0===e?void 0:e.hostname;const{name:n}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,(0,s.isSnapId)(E)?E:`npm:${E}`));return(0,s.isSnapId)(E)&&(t=n),x?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,width:c.BlockSize.Full,height:c.BlockSize.Full},a.default.createElement(m.default,null)):(null==w?void 0:w.length)>1?a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,paddingTop:4,width:c.BlockSize.Full,style:{overflowY:"hidden"},backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:c.TextAlign.Center},b("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center},b("multipleSnapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},null==w?void 0:w.length)])),a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,display:c.Display.Flex,marginTop:4,width:c.BlockSize.Full,style:{overflowY:"auto",flex:1}},w.map(e=>a.default.createElement(d.default,{key:`snaps-connect-${e}`,snapId:e,origin:t})))):1===(null==w?void 0:w.length)?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Box,{paddingBottom:2},a.default.createElement(y.SnapIcon,{snapId:w[0],avatarSize:l.IconSize.Xl})),a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:"center"},b("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center,padding:[0,4],overflowWrap:c.OverflowWrap.Anywhere},b("snapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},I)]))):null};return a.default.createElement(l.Box,{className:"snaps-connect",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,height:c.BlockSize.Full,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundAlternative},N&&a.default.createElement(f.default,{onAccepted:()=>{R(!1),_(!0)},onCanceled:A}),a.default.createElement(l.Box,{display:c.Display.Flex,height:c.BlockSize.Full,width:c.BlockSize.Full,paddingLeft:4,paddingRight:4},a.default.createElement(M,null)),a.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",hideCancel:!1,disabled:x,onCancel:A,cancelText:b("cancel"),onSubmit:P,submitText:b("connect")}))}b.propTypes={request:r.default.object.isRequired,approveConnection:r.default.func.isRequired,rejectConnection:r.default.func.isRequired,targetSubjectMetadata:r.default.shape({extensionId:r.default.string,iconUrl:r.default.string,name:r.default.string,origin:r.default.string,subjectType:r.default.string}),snapsInstallPrivacyWarningShown:r.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:r.default.func}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/snaps-connect.js"}],[7877,{"../../../helpers/utils/permission":7096},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapInstallWarnings=function(e,t,n,o){return Object.entries(e).reduce((e,[r,s])=>{const i=(0,a.getPermissionDescription)({t:t,permissionName:r,permissionValue:s,subjectName:n,getSubjectName:o});return e.concat(i.filter(e=>e.weight<=2))},[])};var a=e("../../../helpers/utils/permission")}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/util.js"}],[7878,{"./remove-snap-account":7879,"./snap-account-card":7880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a={RemoveSnapAccount:!0};Object.defineProperty(n,"RemoveSnapAccount",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./remove-snap-account"))&&o.__esModule?o:{default:o},s=e("./snap-account-card");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/pages/remove-snap-account/index.ts"}],[7879,{"../../components/app/snaps/snap-authorship-header":6237,"../../components/component-library":6486,"../../helpers/constants/design-system":7049,"../../hooks/useI18nContext":7200,"./snap-account-card":7880,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=u(e("react")),r=e("../../components/component-library"),s=e("../../helpers/constants/design-system"),i=e("../../hooks/useI18nContext"),l=u(e("../../components/app/snaps/snap-authorship-header")),c=e("./snap-account-card");function u(e){return e&&e.__esModule?e:{default:e}}n.default=e=>{const t=(0,a.c)(22),{snapId:n,publicAddress:u,onCancel:d}=e,p=(0,i.useI18nContext)();let m,f,g,h,y,v,_,b,E,x;return t[0]!==d||t[1]!==n?(m=o.default.createElement(l.default,{snapId:n,onCancel:d}),t[0]=d,t[1]=n,t[2]=m):m=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(f={flexGrow:1},t[3]=f):f=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(g=o.default.createElement(r.Box,{paddingBottom:2},o.default.createElement(r.AvatarIcon,{iconName:r.IconName.UserCircleRemove,color:s.IconColor.errorDefault,backgroundColor:s.BackgroundColor.errorMuted,size:r.AvatarIconSize.Xl})),t[4]=g):g=t[4],t[5]!==p?(h=p("removeSnapAccountTitle"),t[5]=p,t[6]=h):h=t[6],t[7]!==h?(y=o.default.createElement(r.Text,{textAlign:s.TextAlign.Center,variant:s.TextVariant.headingLg,paddingBottom:2},h),t[7]=h,t[8]=y):y=t[8],t[9]!==u?(v=o.default.createElement(c.SnapAccountCard,{address:u,remove:!0}),t[9]=u,t[10]=v):v=t[10],t[11]!==p?(_=p("removeSnapAccountDescription"),t[11]=p,t[12]=_):_=t[12],t[13]!==_?(b=o.default.createElement(r.Text,{variant:s.TextVariant.bodyMd,textAlign:s.TextAlign.Center,overflowWrap:s.OverflowWrap.Anywhere},_),t[13]=_,t[14]=b):b=t[14],t[15]!==y||t[16]!==v||t[17]!==b?(E=o.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,padding:4,width:s.BlockSize.Full,style:f},o.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,width:s.BlockSize.Full},o.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,width:s.BlockSize.Full},g,y,v,b))),t[15]=y,t[16]=v,t[17]=b,t[18]=E):E=t[18],t[19]!==m||t[20]!==E?(x=o.default.createElement(r.Box,{className:"remove-snap-account-page",height:s.BlockSize.Full,width:s.BlockSize.Full,display:s.Display.Flex,borderStyle:s.BorderStyle.none,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,marginBottom:0},m,E),t[19]=m,t[20]=E,t[21]=x):x=t[21],x}}}},{package:"$root$",file:"ui/pages/remove-snap-account/remove-snap-account.tsx"}],[7880,{"../../components/component-library":6486,"../../components/multichain/account-list-item":6608,"../../helpers/constants/design-system":7049,"../../selectors":8035,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapAccountCard=void 0;var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},s=e("react-redux"),i=e("../../selectors"),l=e("../../helpers/constants/design-system"),c=e("../../components/component-library"),u=e("../../components/multichain/account-list-item");n.SnapAccountCard=e=>{const t=(0,o.c)(12),{address:n,remove:a}=e,d=(0,s.useSelector)(i.getMetaMaskAccountsOrdered);let p;if(t[0]!==d||t[1]!==n){let e;t[3]!==n?(e=e=>e.address===n,t[3]=n,t[4]=e):e=t[4],p=d.find(e),t[0]=d,t[1]=n,t[2]=p}else p=t[2];const m=p,f=a?"snap-account-card-remove":"snap-account-card";let g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g={boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},t[5]=g):g=t[5];const h=a||!1;let y,v;return t[6]!==m||t[7]!==h?(y=r.default.createElement(u.AccountListItem,{account:m,selected:h}),t[6]=m,t[7]=h,t[8]=y):y=t[8],t[9]!==f||t[10]!==y?(v=r.default.createElement(c.Box,{className:f,borderRadius:l.BorderRadius.LG,marginTop:4,marginBottom:4,width:l.BlockSize.Full,style:g},y),t[9]=f,t[10]=y,t[11]=v):v=t[11],v}}}},{package:"$root$",file:"ui/pages/remove-snap-account/snap-account-card.tsx"}],[7881,{"../../components/ui/loading-indicator":6928,"../../ducks/rewards":7037,"../../ducks/rewards/selectors":7038,"../../helpers/constants/routes":7054,"@metamask/design-system-react":1742,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom":5197},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("@metamask/design-system-react"),l=e("react-router-dom"),c=(a=e("../../components/ui/loading-indicator"))&&a.__esModule?a:{default:a},u=e("../../ducks/rewards/selectors"),d=e("../../helpers/constants/routes"),p=e("../../ducks/rewards");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.default=e=>{const t=(0,o.c)(9),{navigate:n,location:a}=e,m=(0,s.useSelector)(u.selectRewardsEnabled),f=(0,l.useLocation)(),g=(0,s.useSelector)(u.selectRewardsOnboardingEnabled),h=(0,s.useDispatch)();let y,v,_;return t[0]!==h||t[1]!==f||t[2]!==a||t[3]!==n||t[4]!==m||t[5]!==g?(y=()=>{if(m&&g){const e=a??f,t=(e?new URLSearchParams(e.search):new URLSearchParams).get("referral");t&&t.length>0?h((0,p.setOnboardingReferralCode)(t)):h((0,p.setOnboardingReferralCode)(null)),h((0,p.setOnboardingModalOpen)(!0))}n(d.DEFAULT_ROUTE,{replace:!0})},v=[n,h,m,g,a,f],t[0]=h,t[1]=f,t[2]=a,t[3]=n,t[4]=m,t[5]=g,t[6]=y,t[7]=v):(y=t[6],v=t[7]),(0,r.useEffect)(y,v),t[8]===Symbol.for("react.memo_cache_sentinel")?(_=r.default.createElement(i.Box,{className:"flex justify-center items-center flex-1"},r.default.createElement(c.default,{alt:"Loading",title:"Loading",isLoading:!0,style:{width:32,height:32,left:5}})),t[8]=_):_=t[8],_}}}},{package:"$root$",file:"ui/pages/rewards/index.tsx"}],[7882,{"../../../app/scripts/lib/util":358,"../../../shared/constants/app":5753,"../../contexts/navigation-state":7006,"../../ducks/swaps/swaps":7045,"../../helpers/constants/routes":7054,"../../hooks/useModalState":7205,"../../selectors":8035,"../confirmations/hooks/useConfirmationNavigation":7693,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom":5197,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmationHandler=void 0;var a=e("react-compiler-runtime"),o=e("react"),r=e("react-router-dom"),s=e("react-router-dom-v5-compat"),i=e("react-redux"),l=e("../../helpers/constants/routes"),c=e("../confirmations/hooks/useConfirmationNavigation"),u=e("../../../app/scripts/lib/util"),d=e("../../../shared/constants/app"),p=e("../../selectors"),m=e("../../ducks/swaps/swaps"),f=e("../../contexts/navigation-state"),g=e("../../hooks/useModalState");const h=[l.ACCOUNT_LIST_PAGE_ROUTE,l.AWAITING_SWAP_ROUTE,l.PREPARE_SWAP_ROUTE,l.CROSS_CHAIN_SWAP_ROUTE,l.UNLOCK_ROUTE,l.CONNECT_ROUTE,l.CONFIRMATION_V_NEXT_ROUTE,l.CONFIRM_TRANSACTION_ROUTE,l.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,l.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,l.SHIELD_PLAN_ROUTE,l.TRANSACTION_SHIELD_ROUTE],y=["wallet_installSnapResult",d.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountCreation,d.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountRemoval,d.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showNameSnapAccount,d.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect];function v(e){return y.includes(e.type)}n.ConfirmationHandler=()=>{var e;const t=(0,a.c)(20),n=(0,s.useNavigate)(),y=(0,r.useLocation)(),{pathname:_}=y,b=(0,f.useNavState)(),{closeModals:E}=(0,g.useModalState)();let x;t[0]===Symbol.for("react.memo_cache_sentinel")?(x=(0,u.getEnvironmentType)(),t[0]=x):x=t[0];const k=x,T=k===d.ENVIRONMENT_TYPE_FULLSCREEN,S=k===d.ENVIRONMENT_TYPE_NOTIFICATION,w=(0,i.useSelector)(m.selectShowAwaitingSwapScreen),C=(0,i.useSelector)(m.selectHasSwapsQuotes),I=(0,i.useSelector)(p.selectHasBridgeQuotes),O=(0,i.useSelector)(m.getFetchParams),N=(0,i.useSelector)(p.selectPendingApprovalsForNavigation),R=(0,i.useSelector)(p.selectHasApprovalFlows),A=Boolean(null===(e=y.state)||void 0===e?void 0:e.stayOnHomePage)||Boolean(null==b?void 0:b.stayOnHomePage),P=!S&&!A;let M;t[1]!==P||t[2]!==E||t[3]!==R||t[4]!==I||t[5]!==C||t[6]!==n||t[7]!==N||t[8]!==w||t[9]!==O?(M=()=>{if(P&&w)E(),n(l.AWAITING_SWAP_ROUTE);else if(P&&(C||O))E(),n(l.PREPARE_SWAP_ROUTE);else if(P&&I)E(),n(l.CROSS_CHAIN_SWAP_ROUTE+l.PREPARE_SWAP_ROUTE);else if(N.length||R){var e;const t=(0,c.getConfirmationRoute)(null==N||null===(e=N[0])||void 0===e?void 0:e.id,N,R,"");t&&(E(),n(t,{replace:!0}))}},t[1]=P,t[2]=E,t[3]=R,t[4]=I,t[5]=C,t[6]=n,t[7]=N,t[8]=w,t[9]=O,t[10]=M):M=t[10];const B=M;let D;t[11]!==_?(D=h.some(e=>_.startsWith(e)),t[11]=_,t[12]=D):D=t[12];const L=D;let F;t[13]!==N?(F=N.some(v),t[13]=N,t[14]=F):F=t[14];const j=T&&!F&&!(w||C||O||I);let U,W;return t[15]!==B||t[16]!==L||t[17]!==j?(U=()=>{L||j||B()},W=[B,L,j],t[15]=B,t[16]=L,t[17]=j,t[18]=U,t[19]=W):(U=t[18],W=t[19]),(0,o.useEffect)(U,W),null}}}},{package:"$root$",file:"ui/pages/routes/confirmation-handler.tsx"}],[7883,{"./routes.component":7885},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./routes.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/routes/index.js"}],[7884,{"../../components/multichain/network-list-menu":6744,"../../hooks/useModalState":7205,"../../store/actions":8065,"../../store/store":8070,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Modals=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../store/store"),i=e("../../store/actions"),l=e("../../components/multichain/network-list-menu"),c=e("../../hooks/useModalState");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){const{appState:t}=e;return t.isNetworkMenuOpen}n.Modals=()=>{const e=(0,a.c)(8),t=(0,r.useDispatch)(),{closeModals:n}=(0,c.useModalState)(),u=(0,s.useAppSelector)(d);let p;e[0]!==n||e[1]!==t?(p=()=>{n(),t((0,i.setEditedNetwork)())},e[0]=n,e[1]=t,e[2]=p):p=e[2];const m=p,f=u?"network":undefined;let g,h;return e[3]!==m||e[4]!==f?(g="network"===f&&o.default.createElement(l.NetworkListMenu,{onClose:m}),e[3]=m,e[4]=f,e[5]=g):g=e[5],e[6]!==g?(h=o.default.createElement(o.default.Fragment,null,g),e[6]=g,e[7]=h):h=e[7],h}}}},{package:"$root$",file:"ui/pages/routes/modals.tsx"}],[7885,{"../../../app/scripts/lib/util":358,"../../../shared/constants/app":5753,"../../../shared/constants/preferences":5777,"../../../shared/lib/confirmation.utils":5805,"../../../shared/modules/selectors/networks":5908,"../../components/app/alerts":5942,"../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal":5979,"../../components/app/assets/nfts/nft-details/nft-full-image.tsx":5984,"../../components/app/basic-configuration-modal":6017,"../../components/app/modals":6126,"../../components/app/modals/keyring-snap-removal-modal":6127,"../../components/app/modals/multichain-accounts/intro-modal":6130,"../../components/app/qr-hardware-popover":6198,"../../components/app/toast-master/toast-master":6375,"../../components/multichain":6725,"../../components/multichain-accounts/multichain-account-list-menu":6565,"../../components/multichain-accounts/permissions/permission-review-page/multichain-review-permissions-page":6592,"../../components/multichain-accounts/state2-wrapper/state2-wrapper":6597,"../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover":6745,"../../components/multichain/pages/connections/index.js":6808,"../../components/multichain/pages/gator-permissions/gator-permissions-page.tsx":6816,"../../components/multichain/pages/gator-permissions/review-permissions/review-gator-permissions-page.tsx":6818,"../../components/multichain/pages/gator-permissions/token-transfer/token-transfer-page.tsx":6819,"../../components/multichain/pages/permissions-page/permissions-page.js":6829,"../../components/multichain/pages/review-permissions-page/review-permissions-page":6830,"../../components/ui/alert":6873,"../../components/ui/loading-screen":6930,"../../ducks/history/history":7030,"../../ducks/metamask/metamask":7033,"../../helpers/constants/routes":7054,"../../helpers/higher-order-components/authenticated/authenticated-v5-compat":7062,"../../helpers/higher-order-components/initialized":7066,"../../helpers/higher-order-components/initialized/initialized-v5-compat":7067,"../../helpers/utils/mm-lazy":7089,"../../hooks/useI18nContext":7200,"../../hooks/useMultichainAccountsIntroModal":7208,"../../layouts/legacy-layout":7250,"../../layouts/root-layout":7251,"../../layouts/route-with-layout":7252,"../../selectors":8035,"../../store/actions":8065,"../../store/store":8070,"../asset/index.js":7271,"../bridge/index.tsx":7283,"../bridge/transaction-details/transaction-details":7311,"../confirm-add-suggested-nft/index.js":7318,"../confirm-add-suggested-token/index.js":7320,"../confirmations/components/confirm/smart-account-update":7480,"../confirmations/confirm-transaction/index.js":7575,"../confirmations/confirmation/index.js":7587,"../confirmations/send/index.ts":7737,"../create-account/create-account.component.js":7761,"../deep-link/deep-link.tsx":7764,"../defi/index.ts":7767,"../home/index.js":7771,"../keychains/restore-vault.js":7773,"../keychains/reveal-seed.js":7774,"../lock/index.js":7775,"../multi-srp/import-srp/index.ts":7779,"../multichain-accounts/account-list":7782,"../multichain-accounts/add-wallet-page":7785,"../multichain-accounts/multichain-account-address-list-page":7786,"../multichain-accounts/multichain-account-details-page/index.ts":7789,"../multichain-accounts/multichain-account-private-key-list-page":7791,"../multichain-accounts/smart-account-page/index.ts":7794,"../multichain-accounts/wallet-details-page":7796,"../nonevm-balance-check/index.tsx":7798,"../notification-details/index.js":7799,"../notifications-settings/index.js":7805,"../notifications/index.js":7811,"../onboarding-flow/index.ts":7841,"../permissions-connect/index.js":7864,"../rewards":7881,"../settings/deprecated-network-modal/DeprecatedNetworkModal":7906,"../settings/index.js":7915,"../shield-plan/index.ts":7962,"../snaps/snap-view/index.js":7977,"../snaps/snaps-list/index.js":7980,"../swaps/index.js":7995,"../unlock-page/index.js":8017,"./confirmation-handler":7882,"./modals":7884,"./utils":7886,classnames:4071,react:5229,"react-compiler-runtime":5128,"react-idle-timer":5150,"react-redux":5179,"react-router-dom":5197},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,s.useDispatch)(),n=(0,i.useHistory)(),a=(0,i.useLocation)(),L=(0,c.useAppSelector)(e=>e.appState.alertOpen),J=(0,c.useAppSelector)(e=>e.appState.alertMessage),K=(0,c.useAppSelector)(e=>e.appState.isLoading),Y=(0,c.useAppSelector)(e=>e.appState.loadingMessage),{autoLockTimeLimit:ae=w.DEFAULT_AUTO_LOCK_TIME_LIMIT,privacyMode:oe}=(0,c.useAppSelector)(b.getPreferences),re=(0,c.useAppSelector)(k.getCompletedOnboarding),se=(0,c.useAppSelector)(b.getNetworkToAutomaticallySwitchTo),qe=(0,c.useAppSelector)(b.oldestPendingConfirmationSelector),Ge=(0,c.useAppSelector)(b.getPendingApprovals),He=(0,c.useAppSelector)(b.getUnapprovedTransactions),Je=(0,c.useAppSelector)(e=>e.metamask.textDirection),Ke=(0,c.useAppSelector)(k.getIsUnlocked),Ye=(0,c.useAppSelector)(e=>e.metamask.currentCurrency),Xe=(0,c.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.os}),Qe=(0,c.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.browser}),Ze=(0,c.useAppSelector)(b.getNetworkIdentifier),{type:et}=(0,c.useAppSelector)(_.getProviderConfig),tt=(0,c.useAppSelector)(b.getTheme),nt=(0,c.useAppSelector)(b.getShowExtensionInFullSizeView),at=(0,c.useAppSelector)(e=>e.metamask.forgottenPassword),ot=(0,c.useAppSelector)(e=>e.appState.isAccountMenuOpen),rt=(0,c.useAppSelector)(e=>e.appState.importTokensModalOpen),st=(0,c.useAppSelector)(e=>e.appState.showBasicFunctionalityModal),it=(0,c.useAppSelector)(e=>e.appState.deprecatedNetworkModalOpen),lt=(0,c.useAppSelector)(e=>e.appState.importNftsModal.open),ct=(0,c.useAppSelector)(e=>e.appState.showIpfsModalOpen),ut=(0,c.useAppSelector)(b.getNumberOfAllUnapprovedTransactionsAndMessages),dt=(0,c.useAppSelector)(e=>e.metamask.currentExtensionPopupId),pt=(0,c.useAppSelector)(e=>e.appState.showKeyringRemovalSnapModal),mt=(0,c.useAppSelector)(b.getUnapprovedConfirmations),{showMultichainIntroModal:ft,setShowMultichainIntroModal:gt}=(0,V.useMultichainAccountsIntroModal)(Ke,a),ht=(0,r.useRef)({isUnlocked:Ke,totalUnapprovedConfirmationCount:ut});(0,r.useEffect)(()=>{const e=ht.current;se&&0===ut&&(e.totalUnapprovedConfirmationCount>0||!1===e.isUnlocked&&Ke)&&t((0,E.automaticallySwitchNetwork)(se)),ht.current={isUnlocked:Ke,totalUnapprovedConfirmationCount:ut}},[se,Ke,ut,t]),(0,r.useEffect)(()=>{dt!==undefined&&"metamask"in global&&"object"==typeof global.metamask&&global.metamask&&"id"in global.metamask&&global.metamask.id!==undefined&&dt!==global.metamask.id&&window.close()},[dt]),(0,r.useEffect)(()=>{const e=(0,I.getEnvironmentType)();var t,n;!nt||e!==C.ENVIRONMENT_TYPE_POPUP&&e!==C.ENVIRONMENT_TYPE_SIDEPANEL||(null===(t=global.platform)||void 0===t||null===(n=t.openExtensionInBrowser)||void 0===n||n.call(t))},[nt]),(0,r.useEffect)(()=>{const e=n.listen((e,n)=>{"PUSH"===n&&t((0,x.pageChanged)(e.pathname))});return()=>{e()}},[n,t]),(0,r.useEffect)(()=>{(0,ee.setTheme)(tt)},[tt]),(0,r.useEffect)(()=>{Ye||t((0,E.setCurrentCurrency)("usd"))},[Ye,t]);const yt=(0,r.useCallback)(()=>{const e=at?i.Route:d.default,n=r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(i.Switch,null,r.default.createElement(Z.RouteWithLayout,{path:v.ONBOARDING_ROUTE,component:ce,layout:Q.LegacyLayout}),r.default.createElement(Z.RouteWithLayout,{path:v.LOCK_ROUTE,component:ue,exact:!0,layout:Q.LegacyLayout}),r.default.createElement(Z.RouteWithLayout,{path:v.UNLOCK_ROUTE,layout:Q.LegacyLayout,exact:!0},le(de,{wrapper:p.default,includeNavigate:!0,includeLocation:!0})),r.default.createElement(Z.RouteWithLayout,{path:v.DEEP_LINK_ROUTE,layout:Q.LegacyLayout},le(je,{includeLocation:!0})),r.default.createElement(e,{path:v.RESTORE_VAULT_ROUTE,component:pe,exact:!0}),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:v.SMART_ACCOUNT_UPDATE,component:U.SmartAccountUpdate,layout:Q.LegacyLayout}),r.default.createElement(Z.RouteWithLayout,{path:`${v.REVEAL_SEED_ROUTE}/:keyringId?`,layout:X.RootLayout},le(fe,{wrapper:u.default,includeNavigate:!0,includeParams:!0})),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:v.IMPORT_SRP_ROUTE,component:me,layout:X.RootLayout}),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:v.SETTINGS_ROUTE,component:ge,layout:X.RootLayout}),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:v.NOTIFICATIONS_SETTINGS_ROUTE,component:he,layout:X.RootLayout}),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:`${v.NOTIFICATIONS_ROUTE}/:uuid`,layout:X.RootLayout,exact:!0},le(ye,{wrapper:u.default,includeParams:!0,includeNavigate:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:v.NOTIFICATIONS_ROUTE,component:ve,layout:X.RootLayout}),r.default.createElement(Z.RouteWithLayout,{path:v.SNAPS_ROUTE,exact:!0,layout:X.RootLayout},le(_e,{wrapper:u.default,includeNavigate:!0,includeLocation:!0})),r.default.createElement(Z.RouteWithLayout,{path:v.SNAPS_VIEW_ROUTE,layout:X.RootLayout},le(be,{wrapper:u.default,includeNavigate:!0,includeLocation:!0,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.SEND_ROUTE}/:page?`,layout:X.RootLayout},le(xe,{wrapper:u.default,includeParams:!0,includeNavigate:!0,includeLocation:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.CONFIRM_TRANSACTION_ROUTE}/:id?`,layout:X.RootLayout},le(Ee,{wrapper:u.default,includeLocation:!0,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:v.SWAPS_ROUTE,layout:Q.LegacyLayout},le(ke,{wrapper:u.default,includeLocation:!0})),r.default.createElement(Z.RouteWithLayout,{path:`${v.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/:srcTxMetaId`,layout:X.RootLayout,exact:!0},le(F.default,{wrapper:u.default,includeNavigate:!0,includeLocation:!0,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:v.CROSS_CHAIN_SWAP_ROUTE,layout:X.RootLayout},le(Te,{wrapper:u.default,includeLocation:!0})),r.default.createElement(Z.RouteWithLayout,{path:v.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,layout:X.RootLayout},le(we,{wrapper:u.default,includeNavigate:!0,includeLocation:!0})),r.default.createElement(Z.RouteWithLayout,{path:v.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,layout:X.RootLayout},le(Ce,{wrapper:u.default,includeNavigate:!0,includeLocation:!0})),r.default.createElement(Z.RouteWithLayout,{path:`${v.CONFIRMATION_V_NEXT_ROUTE}/:id?`,layout:X.RootLayout},le(Ie,{wrapper:u.default,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:v.NEW_ACCOUNT_ROUTE,component:Oe,layout:X.RootLayout}),r.default.createElement(Z.RouteWithLayout,{path:`${v.CONNECT_ROUTE}/:id`,layout:X.RootLayout},le(Se,{wrapper:u.default,includeNavigate:!0,includeLocation:!0,includeMatch:!0})),r.default.createElement(Z.RouteWithLayout,{path:`${v.ASSET_ROUTE}/image/:asset/:id`,layout:X.RootLayout},le(Ne,{wrapper:u.default,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.ASSET_ROUTE}/:chainId/:asset/:id`,layout:X.RootLayout},le(Re,{wrapper:u.default,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.ASSET_ROUTE}/:chainId/:asset/`,layout:X.RootLayout},le(Re,{wrapper:u.default,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.ASSET_ROUTE}/:chainId`,layout:X.RootLayout},le(Re,{wrapper:u.default,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.DEFI_ROUTE}/:chainId/:protocolId`,layout:X.RootLayout},le(Ae,{wrapper:u.default,includeNavigate:!0,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:`${v.CONNECTIONS}/:origin`,layout:Q.LegacyLayout,exact:!0},le(Le,{wrapper:u.default,includeParams:!0,includeNavigate:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:v.PERMISSIONS,component:Pe,exact:!0,layout:X.RootLayout}),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:v.GATOR_PERMISSIONS,component:Me,exact:!0,layout:Q.LegacyLayout}),r.default.createElement(Z.RouteWithLayout,{path:v.TOKEN_TRANSFER_ROUTE,exact:!0,layout:Q.LegacyLayout},le(Be,{wrapper:u.default,includeNavigate:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.TOKEN_TRANSFER_ROUTE}/:origin`,exact:!0,layout:Q.LegacyLayout},le(Be,{wrapper:u.default,includeParams:!0,includeNavigate:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.REVIEW_GATOR_PERMISSIONS_ROUTE}/:chainId/:permissionGroupName`,exact:!0,layout:Q.LegacyLayout},le(De,{wrapper:u.default,includeParams:!0,includeNavigate:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.REVIEW_GATOR_PERMISSIONS_ROUTE}/:chainId/:permissionGroupName/:origin`,exact:!0,layout:Q.LegacyLayout},le(De,{wrapper:u.default,includeParams:!0,includeNavigate:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.REVIEW_PERMISSIONS}/:origin`,exact:!0,layout:X.RootLayout},le(Ve,{wrapper:u.default,includeParams:!0,includeNavigate:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:v.ACCOUNT_LIST_PAGE_ROUTE,exact:!0,layout:X.RootLayout},le(q.AccountList,{wrapper:u.default})),r.default.createElement(Z.RouteWithLayout,{path:`${v.MULTICHAIN_ACCOUNT_ADDRESS_LIST_PAGE_ROUTE}/:accountGroupId`,exact:!0,layout:X.RootLayout},le(W.MultichainAccountAddressListPage,{wrapper:u.default,includeLocation:!0,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.MULTICHAIN_ACCOUNT_PRIVATE_KEY_LIST_PAGE_ROUTE}/:accountGroupId`,exact:!0,layout:X.RootLayout},le(z.MultichainAccountPrivateKeyListPage,{wrapper:u.default,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:v.ADD_WALLET_PAGE_ROUTE,exact:!0,layout:X.RootLayout},le(G.AddWalletPage,{wrapper:u.default})),r.default.createElement(Z.RouteWithLayout,{path:`${v.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE}/:id`,exact:!0,layout:X.RootLayout},le(Ue,{wrapper:u.default,includeParams:!0,paramsAsProps:!0})),r.default.createElement(Z.RouteWithLayout,{path:`${v.MULTICHAIN_SMART_ACCOUNT_PAGE_ROUTE}/:address`,exact:!0,layout:X.RootLayout},le(We,{wrapper:u.default,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{path:`${v.MULTICHAIN_WALLET_DETAILS_PAGE_ROUTE}/:id`,exact:!0,layout:X.RootLayout},le(H.WalletDetailsPage,{wrapper:u.default,includeParams:!0,paramsAsProps:!1})),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:v.NONEVM_BALANCE_CHECK_ROUTE,component:ze,layout:Q.LegacyLayout}),r.default.createElement(Z.RouteWithLayout,{authenticated:!0,path:v.SHIELD_PLAN_ROUTE,component:$e,layout:Q.LegacyLayout}),r.default.createElement(Z.RouteWithLayout,{path:v.REWARDS_ROUTE,layout:X.RootLayout},le(S.default,{wrapper:u.default,includeNavigate:!0,includeLocation:!0})),r.default.createElement(Z.RouteWithLayout,{path:v.DEFAULT_ROUTE,layout:X.RootLayout},le(Fe,{wrapper:u.default,includeNavigate:!0,includeLocation:!0}))));return ae>0?r.default.createElement(l.default,{onAction:()=>t((0,E.setLastActiveTime)()),throttle:1e3},n):n},[ae,at,t]),vt=(0,T.useI18nContext)(),_t=Y?(0,ee.getConnectingLabel)(Y,{providerType:et,providerId:Ze},{t:vt}):null,bt=a.pathname.split("/confirm-transaction/")[1]??(null==qe?void 0:qe.id),Et=Ge.find(e=>e.id===bt),xt=(0,j.isCorrectSignatureApprovalType)(null==Et?void 0:Et.type),kt=(0,j.isCorrectDeveloperTransactionType)(null===(e=He[bt])||void 0===e?void 0:e.type),Tt=a.pathname===v.DEEP_LINK_ROUTE,St=K&&re&&!mt.some(e=>e.type===C.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect)&&!xt&&!kt&&!Tt,wt=r.default.createElement(P.MultichainAccountListMenu,{onClose:()=>t((0,E.toggleAccountMenu)()),privacyMode:oe}),Ct=(0,I.getEnvironmentType)()===C.ENVIRONMENT_TYPE_SIDEPANEL;return r.default.createElement("div",{className:(0,o.default)("app",{[`os-${Xe}`]:Boolean(Xe),[`browser-${Qe}`]:Boolean(Qe),"group app--sidepanel":Ct}),dir:Je},r.default.createElement(te.ConfirmationHandler,null),r.default.createElement(O.default,null),r.default.createElement(f.Modal,null),r.default.createElement(g.default,{visible:L,msg:J}),ot?wt:null,r.default.createElement(B.default,null),lt?r.default.createElement(h.ImportNftsModal,{onClose:()=>t((0,E.hideImportNftsModal)())}):null,ct?r.default.createElement(N.ToggleIpfsModal,{onClose:()=>t((0,E.hideIpfsModal)())}):null,st?r.default.createElement(R.BasicConfigurationModal,null):null,rt?r.default.createElement(h.ImportTokensModal,{onClose:()=>t((0,E.hideImportTokensModal)())}):null,it?r.default.createElement(M.DeprecatedNetworkModal,{onClose:()=>t((0,E.hideDeprecatedNetworkModal)())}):null,pt&&r.default.createElement(A.default,{isOpen:pt,onClose:()=>t((0,E.hideKeyringRemovalResultModal)())}),ft?r.default.createElement($.default,{onClose:()=>gt(!1)}):null,St?r.default.createElement(m.default,{loadingMessage:_t}):null,yt(),Ke?r.default.createElement(y.default,{navigate:ie(n)}):null,r.default.createElement(D.ToastMaster,{location:a}),r.default.createElement(ne.Modals,null))};var a=e("react-compiler-runtime"),o=ae(e("classnames")),r=se(e("react")),s=e("react-redux"),i=e("react-router-dom"),l=ae(e("react-idle-timer")),c=e("../../store/store"),u=ae(e("../../helpers/higher-order-components/authenticated/authenticated-v5-compat")),d=ae(e("../../helpers/higher-order-components/initialized")),p=ae(e("../../helpers/higher-order-components/initialized/initialized-v5-compat")),m=ae(e("../../components/ui/loading-screen")),f=e("../../components/app/modals"),g=ae(e("../../components/ui/alert")),h=e("../../components/multichain"),y=ae(e("../../components/app/alerts")),v=e("../../helpers/constants/routes"),_=e("../../../shared/modules/selectors/networks"),b=e("../../selectors"),E=e("../../store/actions"),x=e("../../ducks/history/history"),k=e("../../ducks/metamask/metamask"),T=e("../../hooks/useI18nContext"),S=ae(e("../rewards")),w=e("../../../shared/constants/preferences"),C=e("../../../shared/constants/app"),I=e("../../../app/scripts/lib/util"),O=ae(e("../../components/app/qr-hardware-popover")),N=e("../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal"),R=e("../../components/app/basic-configuration-modal"),A=ae(e("../../components/app/modals/keyring-snap-removal-modal")),P=e("../../components/multichain-accounts/multichain-account-list-menu"),M=e("../settings/deprecated-network-modal/DeprecatedNetworkModal"),B=ae(e("../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover")),D=e("../../components/app/toast-master/toast-master"),L=e("../../helpers/utils/mm-lazy"),F=ae(e("../bridge/transaction-details/transaction-details")),j=e("../../../shared/lib/confirmation.utils"),U=e("../confirmations/components/confirm/smart-account-update"),W=e("../multichain-accounts/multichain-account-address-list-page"),z=e("../multichain-accounts/multichain-account-private-key-list-page"),$=ae(e("../../components/app/modals/multichain-accounts/intro-modal")),V=e("../../hooks/useMultichainAccountsIntroModal"),q=e("../multichain-accounts/account-list"),G=e("../multichain-accounts/add-wallet-page"),H=e("../multichain-accounts/wallet-details-page"),J=e("../../components/multichain/pages/review-permissions-page/review-permissions-page"),K=e("../../components/multichain-accounts/permissions/permission-review-page/multichain-review-permissions-page"),Y=e("../../components/multichain-accounts/state2-wrapper/state2-wrapper"),X=e("../../layouts/root-layout"),Q=e("../../layouts/legacy-layout"),Z=e("../../layouts/route-with-layout"),ee=e("./utils"),te=e("./confirmation-handler"),ne=e("./modals");function ae(e){return e&&e.__esModule?e:{default:e}}function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oe.apply(null,arguments)}function re(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(re=function(e){return e?n:t})(e)}function se(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=re(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const ie=e=>(t,n)=>{"number"==typeof t?e.go(t):null!=n&&n.replace?e.replace(t,n.state):e.push(t,null==n?void 0:n.state)},le=(e,t={})=>{const{wrapper:n=null,includeNavigate:a=!1,includeLocation:o=!1,includeParams:s=!1,includeMatch:i=!1,paramsAsProps:l=!0}=t;return t=>{const{history:c,location:u,match:d}=t,p={};a&&(p.navigate=ie(c)),o&&(p.location=u),i&&(p.match=d),s&&(l?Object.assign(p,d.params):p.params=d.params);const m=r.default.createElement(e,p);return n?r.default.createElement(n,{children:m}):m}},ce=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../onboarding-flow/index.ts")))),ue=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../lock/index.js")))),de=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../unlock-page/index.js")))),pe=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../keychains/restore-vault.js")))),me=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../multi-srp/import-srp/index.ts")))),fe=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../keychains/reveal-seed.js")))),ge=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../settings/index.js")))),he=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../notifications-settings/index.js")))),ye=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../notification-details/index.js")))),ve=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../notifications/index.js")))),_e=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../snaps/snaps-list/index.js")))),be=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../snaps/snap-view/index.js")))),Ee=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../confirmations/confirm-transaction/index.js")))),xe=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../confirmations/send/index.ts")))),ke=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../swaps/index.js")))),Te=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../bridge/index.tsx")))),Se=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../permissions-connect/index.js")))),we=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../confirm-add-suggested-token/index.js")))),Ce=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../confirm-add-suggested-nft/index.js")))),Ie=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../confirmations/confirmation/index.js")))),Oe=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../create-account/create-account.component.js")))),Ne=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../../components/app/assets/nfts/nft-details/nft-full-image.tsx")))),Re=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../asset/index.js")))),Ae=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../defi/index.ts")))),Pe=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../../components/multichain/pages/permissions-page/permissions-page.js")))),Me=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../../components/multichain/pages/gator-permissions/gator-permissions-page.tsx")))),Be=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../../components/multichain/pages/gator-permissions/token-transfer/token-transfer-page.tsx")))),De=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../../components/multichain/pages/gator-permissions/review-permissions/review-gator-permissions-page.tsx")))),Le=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../../components/multichain/pages/connections/index.js")))),Fe=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../home/index.js")))),je=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../deep-link/deep-link.tsx")))),Ue=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../multichain-accounts/multichain-account-details-page/index.ts")))),We=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../multichain-accounts/smart-account-page/index.ts")))),ze=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../nonevm-balance-check/index.tsx")))),$e=(0,L.mmLazy)(()=>Promise.resolve().then(()=>se(e("../shield-plan/index.ts")))),Ve=r.default.memo(e=>{const t=(0,a.c)(2);let n;return t[0]!==e?(n=r.default.createElement(Y.State2Wrapper,oe({},e,{state1Component:J.ReviewPermissions,state2Component:K.MultichainReviewPermissions})),t[0]=e,t[1]=n):n=t[1],n})}}},{package:"$root$",file:"ui/pages/routes/routes.component.tsx"}],[7886,{"../../../app/scripts/lib/util":358,"../../../shared/constants/app":5753,"../../../shared/constants/network":5772,"../../../shared/constants/preferences":5777,"../../helpers/constants/routes":7054,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extractIdFromPathname=function(e,t){if(!e||!t||!e.includes(t))return null;const n=e.split(t)[1];if(!n)return null;return n.split(/[/?#]/u)[0]||null},n.getConnectingLabel=function(e,t,n){if(e)return e;const{providerType:a,providerId:o}=t,{t:r}=n;switch(a){case s.NETWORK_TYPES.MAINNET:return r("connectingToMainnet");case s.NETWORK_TYPES.GOERLI:return r("connectingToGoerli");case s.NETWORK_TYPES.SEPOLIA:return r("connectingToSepolia");case s.NETWORK_TYPES.LINEA_GOERLI:return r("connectingToLineaGoerli");case s.NETWORK_TYPES.LINEA_SEPOLIA:return r("connectingToLineaSepolia");case s.NETWORK_TYPES.LINEA_MAINNET:return r("connectingToLineaMainnet");default:return r("connectingTo",[o])}},n.getRelativeLocationForNestedRoutes=function(e,t){const n=t.endsWith("/")?t.slice(0,-1):t,a=e.pathname.startsWith(n)?e.pathname.slice(n.length)||"/":e.pathname;return{...e,pathname:a}},n.getThemeFromRawTheme=u,n.hideAppHeader=function(e){const{location:t}=e;if(Boolean((0,a.matchPath)({path:`${l.NOTIFICATIONS_ROUTE}`,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.DEEP_LINK_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.ONBOARDING_ROUTE,end:!1},t.pathname)))return!0;const n=(0,o.getEnvironmentType)();if(n===r.ENVIRONMENT_TYPE_NOTIFICATION)return!0;if(Boolean((0,a.matchPath)({path:l.PERMISSIONS,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.CONNECTIONS,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.REVIEW_PERMISSIONS,end:!1},t.pathname)))return!0;if(n===r.ENVIRONMENT_TYPE_POPUP&&function(e){const{location:t}=e;return Boolean((0,a.matchPath)({path:l.CONFIRM_TRANSACTION_ROUTE,end:!1},t.pathname))}(e))return!0;const s=Boolean((0,a.matchPath)({path:l.CONNECT_ROUTE,end:!1},t.pathname));if(Boolean((0,a.matchPath)({path:l.SEND_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.MULTICHAIN_WALLET_DETAILS_PAGE_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.SNAPS_VIEW_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:`${l.CROSS_CHAIN_SWAP_ROUTE}`,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.ASSET_ROUTE,end:!1},t.pathname)))return!0;const i=Boolean((0,a.matchPath)({path:l.CONFIRMATION_V_NEXT_ROUTE,end:!1},t.pathname)),u=Boolean((0,a.matchPath)({path:l.IMPORT_SRP_ROUTE,end:!1},t.pathname));if(Boolean((0,a.matchPath)({path:l.SHIELD_PLAN_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.GATOR_PERMISSIONS,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.TOKEN_TRANSFER_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.REVIEW_GATOR_PERMISSIONS_ROUTE,end:!1},t.pathname)))return!0;return s||i||c(t.pathname)||u},n.isConfirmTransactionRoute=c,n.setTheme=function(e){document.documentElement.setAttribute("data-theme",u(e))},n.showAppHeader=function(e){const{location:t}=e;return Boolean((0,a.matchPath)({path:l.DEFAULT_ROUTE,end:!0},t.pathname))};var a=e("react-router-dom-v5-compat"),o=e("../../../app/scripts/lib/util"),r=e("../../../shared/constants/app"),s=e("../../../shared/constants/network"),i=e("../../../shared/constants/preferences"),l=e("../../helpers/constants/routes");function c(e){return Boolean((0,a.matchPath)({path:l.CONFIRM_TRANSACTION_ROUTE,end:!1},e))}function u(e){var t;return e===i.ThemeType.os?null!==(t=window)&&void 0!==t&&null!==(t=t.matchMedia("(prefers-color-scheme: dark)"))&&void 0!==t&&t.matches?i.ThemeType.dark:i.ThemeType.light:e}}}},{package:"$root$",file:"ui/pages/routes/utils.js"}],[7887,{"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/preferences":5777,"../../../../shared/constants/smartTransactions":5783,"../../../components/component-library":6486,"../../../components/ui/text-field":6977,"../../../components/ui/toggle-button":6981,"../../../helpers/constants/design-system":7049,"../../../helpers/utils/export-utils":7080,"../../../helpers/utils/settings-search":7099,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../shared/constants/metametrics"),s=e("../../../../shared/constants/preferences"),i=e("../../../../shared/constants/smartTransactions"),l=e("../../../components/component-library"),c=g(e("../../../components/ui/text-field")),u=g(e("../../../components/ui/toggle-button")),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/utils/export-utils"),m=e("../../../helpers/utils/settings-search");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends o.PureComponent{constructor(...e){super(...e),h(this,"state",{autoLockTimeLimit:this.props.autoLockTimeLimit,autoLockTimeLimitBeforeNormalization:this.props.autoLockTimeLimit,lockTimeError:""}),h(this,"settingsRefs",Array((0,m.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("advanced"))).fill(undefined).map(()=>o.default.createRef())),h(this,"backupUserData",async()=>{const{fileName:e,data:t}=await this.props.backupUserData();(0,p.exportAsFile)(e,t,p.ExportableContentType.JSON),this.context.trackEvent({event:"User Data Exported",category:"Backup",properties:{}})})}componentDidUpdate(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context,{hideErrorInSettings:t}=this.props;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs),t()}async getTextFromFile(e){return new Promise((t,n)=>{const a=new window.FileReader;a.onload=e=>{const n=e.target.result;t(n)},a.onerror=e=>{n(e)},a.readAsText(e)})}renderStateLogs(){const{t:e}=this.context,{displayErrorInSettings:t}=this.props;return o.default.createElement(l.Box,{className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,ref:this.settingsRefs[0],"data-testid":"advanced-setting-state-logs"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("stateLogs")),o.default.createElement("span",{className:"settings-page__content-description"},e("stateLogsDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,"data-testid":"advanced-setting-state-logs-button",onClick:()=>{window.logStateString(async(n,a)=>{if(n)t(e("stateLogError"));else try{await(0,p.exportAsFile)(`${e("stateLogFileName")}.json`,a,p.ExportableContentType.JSON)}catch(e){t(e.message)}})}},e("downloadStateLogs")))))}renderResetAccount(){const{t:e}=this.context,{showResetAccountConfirmationModal:t}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,"data-testid":"advanced-setting-reset-account"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("clearActivity")),o.default.createElement("span",{className:"settings-page__content-description"},e("clearActivityDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{danger:!0,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:r.MetaMetricsEventCategory.Settings,event:r.MetaMetricsEventName.AccountReset,properties:{}}),t()}},e("clearActivityButton")))))}renderToggleSmartAccountOptIn(){const{t:e}=this.context,{smartAccountOptIn:t,setSmartAccountOptIn:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:d.TextVariant.bodyMd,alignItems:d.AlignItems.flexStart},as:"a",href:i.SMART_ACCOUNT_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row","data-testid":"advanced-setting-smart-account-optin",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("useSmartAccountTitle")),o.default.createElement("div",{className:"settings-page__content-description"},`${e("useSmartAccountDescription")} `,a)),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-smart-account-optin"})))}renderToggleDismissSmartAccountSuggestion(){const{t:e}=this.context,{dismissSmartAccountSuggestionEnabled:t,setDismissSmartAccountSuggestionEnabled:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-smart-account-suggestion-enabled",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("dismissSmartAccountSuggestionEnabledTitle")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissSmartAccountSuggestionEnabledDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-dismiss-smart-account-suggestion-enabled-toggle"})))}renderToggleStxOptIn(){const{t:e}=this.context,{smartTransactionsEnabled:t,setSmartTransactionsEnabled:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:d.TextVariant.bodyMd,alignItems:d.AlignItems.flexStart},as:"a",href:i.SMART_TRANSACTIONS_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-enable-smart-transactions",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("smartTransactions")),o.default.createElement("div",{className:"settings-page__content-description"},e("stxOptInSupportedNetworksDescription",[a]))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-stx-opt-in-toggle"})))}renderHexDataOptIn(){const{t:e}=this.context,{sendHexData:t,setHexDataFeatureFlag:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-hex-data"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showHexData")),o.default.createElement("div",{className:"settings-page__content-description"},e("showHexDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"hex-data-toggle"})))}renderShowConversionInTestnets(){const{t:e}=this.context,{showFiatInTestnets:t,setShowFiatConversionOnTestnetsPreference:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[6],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-show-testnet-conversion"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showFiatConversionInTestnets")),o.default.createElement("div",{className:"settings-page__content-description"},e("showFiatConversionInTestnetsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"show-fiat-on-testnets-toggle"})))}renderToggleTestNetworks(){const{t:e}=this.context,{showTestNetworks:t,setShowTestNetworks:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showTestnetNetworks")),o.default.createElement("div",{className:"settings-page__content-description"},e("showTestnetNetworksDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderToggleExtensionInFullSizeView(){const{t:e}=this.context,{showExtensionInFullSizeView:t,setShowExtensionInFullSizeView:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-show-extension-in-full-size-view",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showExtensionInFullSizeView")),o.default.createElement("div",{className:"settings-page__content-description"},e("showExtensionInFullSizeViewDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e),this.context.trackEvent({event:r.MetaMetricsEventName.SettingsUpdated,category:r.MetaMetricsEventCategory.Settings,properties:{settings_group:"advanced",settings_type:"open_full_screen",old_value:e,new_value:!e,open_full_screen:!e,location:"Advanced Settings"}})},offLabel:e("off"),onLabel:e("on")})))}renderAutoLockTimeLimit(){const{t:e}=this.context,{lockTimeError:t}=this.state,{setAutoLockTimeLimit:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"advanced-setting-auto-lock",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("autoLockTimeLimit")),o.default.createElement("div",{className:"settings-page__content-description"},e("autoLockTimeLimitDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.default,{id:"autoTimeout","data-testid":"auto-lockout-time",placeholder:"0",value:this.state.autoLockTimeLimitBeforeNormalization,onChange:e=>this.handleLockChange(e.target.value),error:t,fullWidth:!0,margin:"dense",min:0}),o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,"data-testid":"auto-lockout-button",disabled:""!==t,onClick:()=>{n(this.state.autoLockTimeLimit)}},e("save")))))}renderDismissSeedBackupReminderControl(){const{t:e}=this.context,{dismissSeedBackUpReminder:t,setDismissSeedBackUpReminder:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("dismissReminderField")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissReminderDescriptionField"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}handleLockChange(e){const{t:t}=this.context;if(""===e)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:s.DEFAULT_AUTO_LOCK_TIME_LIMIT,lockTimeError:""});const n=Number(e);if(Number.isNaN(n)||n<0||n>10080)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:null,lockTimeError:t("lockTimeInvalid")});const a=n;this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:a,lockTimeError:""})}renderUserDataBackup(){const{t:e}=this.context;return o.default.createElement(l.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row","data-testid":"advanced-setting-data-backup",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("exportYourData")),o.default.createElement("span",{className:"settings-page__content-description"},e("exportYourDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{"data-testid":"export-data-button",variant:l.ButtonVariant.Secondary,large:!0,onClick:this.backupUserData},e("exportYourDataButton")))))}renderManageInstitutionalWallets(){const{t:e}=this.context,{manageInstitutionalWallets:t,setManageInstitutionalWallets:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("manageInstitutionalWallets")),o.default.createElement("div",{className:"settings-page__content-description"},e("manageInstitutionalWalletsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}render(){const{errorInSettings:e}=this.props;return o.default.createElement("div",{className:"settings-page__body"},e?o.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderStateLogs(),this.renderResetAccount(),this.renderToggleSmartAccountOptIn(),this.renderToggleDismissSmartAccountSuggestion(),this.renderToggleStxOptIn(),this.renderHexDataOptIn(),this.renderShowConversionInTestnets(),this.renderToggleTestNetworks(),this.renderManageInstitutionalWallets(),this.renderToggleExtensionInFullSizeView(),this.renderAutoLockTimeLimit(),this.renderUserDataBackup(),this.renderDismissSeedBackupReminderControl())}}n.default=y,h(y,"contextTypes",{t:a.default.func,trackEvent:a.default.func}),h(y,"propTypes",{setHexDataFeatureFlag:a.default.func,displayErrorInSettings:a.default.func,hideErrorInSettings:a.default.func,showResetAccountConfirmationModal:a.default.func,errorInSettings:a.default.string,sendHexData:a.default.bool,showFiatInTestnets:a.default.bool,showTestNetworks:a.default.bool,smartTransactionsEnabled:a.default.bool,autoLockTimeLimit:a.default.number,setAutoLockTimeLimit:a.default.func.isRequired,setShowFiatConversionOnTestnetsPreference:a.default.func.isRequired,setShowTestNetworks:a.default.func.isRequired,setSmartTransactionsEnabled:a.default.func.isRequired,setDismissSeedBackUpReminder:a.default.func.isRequired,dismissSeedBackUpReminder:a.default.bool.isRequired,backupUserData:a.default.func.isRequired,showExtensionInFullSizeView:a.default.bool,setShowExtensionInFullSizeView:a.default.func.isRequired,manageInstitutionalWallets:a.default.bool,setManageInstitutionalWallets:a.default.func.isRequired,dismissSmartAccountSuggestionEnabled:a.default.bool.isRequired,setDismissSmartAccountSuggestionEnabled:a.default.func.isRequired,smartAccountOptIn:a.default.bool.isRequired,setSmartAccountOptIn:a.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.component.js"}],[7888,{"../../../../shared/constants/preferences":5777,"../../../../shared/modules/selectors":5906,"../../../ducks/app/app":7018,"../../../selectors":8035,"../../../store/actions":8065,"./advanced-tab.component":7887,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapStateToProps=n.mapDispatchToProps=n.default=void 0;var a,o=e("react-redux"),r=e("../../../../shared/constants/preferences"),s=e("../../../selectors"),i=e("../../../store/actions"),l=e("../../../../shared/modules/selectors"),c=e("../../../ducks/app/app"),u=(a=e("./advanced-tab.component"))&&a.__esModule?a:{default:a};const d=e=>{const{appState:{errorInSettings:t},metamask:n}=e,{featureFlags:{sendHexData:a}={},dismissSeedBackUpReminder:o,manageInstitutionalWallets:i}=n,{showFiatInTestnets:c,showTestNetworks:u,showExtensionInFullSizeView:d,autoLockTimeLimit:p=r.DEFAULT_AUTO_LOCK_TIME_LIMIT,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}=(0,s.getPreferences)(e);return{errorInSettings:t,sendHexData:a,showFiatInTestnets:c,showTestNetworks:u,showExtensionInFullSizeView:d,smartTransactionsEnabled:(0,l.getSmartTransactionsPreferenceEnabled)(e),autoLockTimeLimit:p,dismissSeedBackUpReminder:o,manageInstitutionalWallets:i,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}};n.mapStateToProps=d;const p=e=>({backupUserData:()=>(0,i.backupUserData)(),setHexDataFeatureFlag:t=>e((0,i.setFeatureFlag)("sendHexData",t)),displayErrorInSettings:t=>e((0,c.displayErrorInSettings)(t)),hideErrorInSettings:()=>e((0,c.hideErrorInSettings)()),showResetAccountConfirmationModal:()=>e((0,i.showModal)({name:"CONFIRM_RESET_ACCOUNT"})),setShowFiatConversionOnTestnetsPreference:t=>e((0,i.setShowFiatConversionOnTestnetsPreference)(t)),setShowTestNetworks:t=>e((0,i.setShowTestNetworks)(t)),setShowExtensionInFullSizeView:t=>e((0,i.setShowExtensionInFullSizeView)(t)),setSmartTransactionsEnabled:t=>e((0,i.setSmartTransactionsPreferenceEnabled)(t)),setAutoLockTimeLimit:t=>e((0,i.setAutoLockTimeLimit)(t)),setDismissSeedBackUpReminder:t=>e((0,i.setDismissSeedBackUpReminder)(t)),setManageInstitutionalWallets:t=>e((0,i.setManageInstitutionalWallets)(t)),setDismissSmartAccountSuggestionEnabled:t=>e((0,i.setDismissSmartAccountSuggestionEnabled)(t)),setSmartAccountOptIn:t=>e((0,i.setSmartAccountOptIn)(t))});n.mapDispatchToProps=p;n.default=(0,o.connect)(d,p)(u.default)}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.container.js"}],[7889,{"./advanced-tab.container":7888},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/index.js"}],[7890,{"../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles":6081,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":6082,"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../helpers/utils/settings-search":7099,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../helpers/utils/settings-search"),i=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles"),u=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,s.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("backupAndSync"))).fill(undefined).map(()=>o.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,s.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,s.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}render(){return o.default.createElement("div",{className:"settings-page__body"},o.default.createElement(u.BackupAndSyncToggle,null),o.default.createElement(l.Box,{borderColor:i.BorderColor.borderMuted,width:i.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),o.default.createElement(c.BackupAndSyncFeaturesToggles,null))}}n.default=m,p(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.component.tsx"}],[7891,{"./backup-and-sync-tab.component":7890,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=(a=e("./backup-and-sync-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.connect)(e=>({}),e=>({}))(r.default)}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.container.ts"}],[7892,{"./backup-and-sync-tab.container":7891},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./backup-and-sync-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/index.ts"}],[7893,{"../../../../../shared/modules/hexstring-utils":5896,"../../../../../shared/modules/selectors/networks":5908,"../../../../components/app/contact-list/utils":6060,"../../../../components/component-library":6486,"../../../../components/multichain/pages/send/components":6838,"../../../../components/ui/page-container/page-container-footer":6949,"../../../../components/ui/text-field":6977,"../../../../contexts/i18n":7e3,"../../../../helpers/constants/design-system":7049,"../../../../helpers/constants/routes":7054,"../../../../helpers/utils/util":7109,"../../../../selectors/multichain":8044,"../../../confirmations/send-legacy/send-content/add-recipient/domain-input":7734,"../../../confirmations/send-legacy/send.constants":7735,"../contact-networks":7898,lodash:4794,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=k(e("prop-types")),s=e("lodash"),i=e("react-redux"),l=k(e("../../../../components/ui/text-field")),c=e("../../../../helpers/constants/routes"),u=e("../../../../helpers/utils/util"),d=k(e("../../../confirmations/send-legacy/send-content/add-recipient/domain-input")),p=k(e("../../../../components/ui/page-container/page-container-footer")),m=e("../../../../../shared/modules/hexstring-utils"),f=e("../../../confirmations/send-legacy/send.constants"),g=e("../../../../components/multichain/pages/send/components"),h=e("../../../../components/app/contact-list/utils"),y=e("../../../../contexts/i18n"),v=e("../../../../components/component-library"),_=e("../../../../helpers/constants/design-system"),b=e("../../../../selectors/multichain"),E=e("../../../../../shared/modules/selectors/networks"),x=e("../contact-networks");function k(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const S=e=>{var t,n;const r=(0,a.c)(112),{addressBook:k,internalAccounts:T,addToAddressBook:S,navigate:I,scanQrCode:O,qrCodeData:N,qrCodeDetected:R,domainResolutions:A,domainError:P,resetDomainResolution:M}=e,B=(0,o.useContext)(y.I18nContext),[D,L]=(0,o.useState)(""),[F,j]=(0,o.useState)(""),[U,W]=(0,o.useState)(""),[z,$]=(0,o.useState)(""),[V,q]=(0,o.useState)(""),G=(0,i.useSelector)(E.getCurrentChainId),[H,J]=(0,o.useState)(G),[K,Y]=(0,o.useState)(!1),X=(0,i.useSelector)(E.getNetworkConfigurationsByChainId);let Q;r[0]===Symbol.for("react.memo_cache_sentinel")?(Q=e=>{const t=!(0,m.isBurnAddress)(e)&&(0,m.isValidHexAddress)(e,{mixedCaseUseChecksum:!0}),n=(0,u.isValidDomainName)(e);W(n||t?null:f.INVALID_RECIPIENT_ADDRESS_ERROR)},r[0]=Q):Q=r[0];const Z=Q;let ee;r[1]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,s.debounce)(Z,500),r[1]=ee):ee=r[1];const te=ee;let ne;r[2]!==k||r[3]!==T||r[4]!==B?(ne=e=>{const t=!(0,h.isDuplicateContact)(k,T,e);$(t?null:B("nameAlreadyInUse")),L(e)},r[2]=k,r[3]=T,r[4]=B,r[5]=ne):ne=r[5];const ae=ne;let oe;r[6]===Symbol.for("react.memo_cache_sentinel")?(oe=e=>{q(e),te(e)},r[6]=oe):oe=r[6];const re=oe;let se;r[7]!==V||r[8]!==M||r[9]!==O||r[10]!==F?(se=()=>o.default.createElement(d.default,{scanQrCode:()=>O(),onChange:re,onPaste:e=>{q(e),Z(e)},onReset:()=>{M(),q(""),j("")},userInput:F||V}),r[7]=V,r[8]=M,r[9]=O,r[10]=F,r[11]=se):se=r[11];const ie=se;let le,ce;r[12]!==A||r[13]!==N||r[14]!==R||r[15]!==F?(le=()=>{if("address"===(null==N?void 0:N.type)){const e=N.values.address.toLowerCase();[...A.map(w),F].filter(Boolean).map(C).includes(e)||(q(e),Z(e),R(null))}},ce=[N,A,F,Z,R],r[12]=A,r[13]=N,r[14]=R,r[15]=F,r[16]=le,r[17]=ce):(le=r[16],ce=r[17]),(0,o.useEffect)(le,ce);const ue=P||U,de=F||V;let pe;r[18]!==de?(pe=!(0,m.isBurnAddress)(de)&&(0,m.isValidHexAddress)(de,{mixedCaseUseChecksum:!0}),r[18]=de,r[19]=pe):pe=r[19];const me=pe;let fe,ge,he,ye,ve,_e,be,Ee,xe;r[20]!==B?(fe=B("userName"),r[20]=B,r[21]=fe):fe=r[21],r[22]!==fe?(ge=o.default.createElement("div",{className:"address-book__view-contact__group__label"},fe),r[22]=fe,r[23]=ge):ge=r[23],r[24]!==B?(he=B("addAlias"),r[24]=B,r[25]=he):he=r[25],r[26]!==ae?(ye=e=>ae(e.target.value),r[26]=ae,r[27]=ye):ye=r[27],r[28]!==z||r[29]!==D||r[30]!==he||r[31]!==ye?(ve=o.default.createElement(l.default,{type:"text",id:"nickname",placeholder:he,value:D,onChange:ye,fullWidth:!0,margin:"dense",error:z}),r[28]=z,r[29]=D,r[30]=he,r[31]=ye,r[32]=ve):ve=r[32],r[33]!==ge||r[34]!==ve?(_e=o.default.createElement("div",{className:"address-book__view-contact__group address-book__add-contact__content__username"},ge,ve),r[33]=ge,r[34]=ve,r[35]=_e):_e=r[35],r[36]!==B?(be=B("ethereumPublicAddress"),r[36]=B,r[37]=be):be=r[37],r[38]!==be?(Ee=o.default.createElement("div",{className:"address-book__view-contact__group__label"},be),r[38]=be,r[39]=Ee):Ee=r[39],r[40]!==ie?(xe=ie(),r[40]=ie,r[41]=xe):xe=r[41];const ke=`address-book__view-contact__group__${1===(null==A?void 0:A.length)?"single-":""}resolution-list`;let Te,Se,we,Ce,Ie,Oe,Ne,Re;r[42]!==A||r[43]!==ae||r[44]!==M?(Te=null==A?void 0:A.map(e=>{const{resolvedAddress:t,resolvingSnap:n,addressBookEntryName:a,protocol:r,domainName:s}=e;return o.default.createElement(g.DomainInputResolutionCell,{key:`${t}${n}${r}`,address:t,domainName:a??s,onClick:()=>{ae(s),q(t),M()},protocol:r,resolvingSnap:n})}),r[42]=A,r[43]=ae,r[44]=M,r[45]=Te):Te=r[45],r[46]!==ke||r[47]!==Te?(Se=o.default.createElement("div",{className:ke},Te),r[46]=ke,r[47]=Te,r[48]=Se):Se=r[48],r[49]!==ue||r[50]!==B?(we=ue&&o.default.createElement("div",{className:"address-book__add-contact__error"},B(ue)),r[49]=ue,r[50]=B,r[51]=we):we=r[51],r[52]!==Ee||r[53]!==xe||r[54]!==Se||r[55]!==we?(Ce=o.default.createElement("div",{className:"address-book__view-contact__group"},Ee,xe,Se,we),r[52]=Ee,r[53]=xe,r[54]=Se,r[55]=we,r[56]=Ce):Ce=r[56],r[57]!==B?(Ie=B("network"),r[57]=B,r[58]=Ie):Ie=r[58],r[59]!==Ie?(Oe=o.default.createElement("div",{className:"address-book__view-contact__group__label"},Ie),r[59]=Ie,r[60]=Oe):Oe=r[60],r[61]===Symbol.for("react.memo_cache_sentinel")?(Ne=()=>Y(!0),r[61]=Ne):Ne=r[61],r[62]!==H?(Re=(0,b.getImageForChainId)(H)||undefined,r[62]=H,r[63]=Re):Re=r[63];const Ae=null==X||null===(t=X[H])||void 0===t?void 0:t.name;let Pe;r[64]!==Re||r[65]!==Ae?(Pe=o.default.createElement(v.AvatarNetwork,{size:v.AvatarNetworkSize.Sm,src:Re,name:Ae}),r[64]=Re,r[65]=Ae,r[66]=Pe):Pe=r[66];const Me=null==X||null===(n=X[H])||void 0===n?void 0:n.name;let Be,De,Le,Fe,je,Ue,We,ze,$e;r[67]!==Me?(Be=o.default.createElement(v.Text,null,Me),r[67]=Me,r[68]=Be):Be=r[68],r[69]!==Pe||r[70]!==Be?(De=o.default.createElement(v.Box,{display:_.Display.Flex,gap:2},Pe,Be),r[69]=Pe,r[70]=Be,r[71]=De):De=r[71],r[72]===Symbol.for("react.memo_cache_sentinel")?(Le=o.default.createElement(v.Icon,{name:v.IconName.ArrowDown,color:_.IconColor.iconDefault,size:v.IconSize.Sm}),r[72]=Le):Le=r[72],r[73]!==De?(Fe=o.default.createElement(v.Box,{as:"button",padding:3,display:_.Display.Flex,alignItems:_.AlignItems.center,backgroundColor:_.BackgroundColor.transparent,borderColor:_.BorderColor.borderDefault,justifyContent:_.JustifyContent.spaceBetween,borderRadius:_.BorderRadius.XL,onClick:Ne,className:"network-selector","data-testid":"network-selector"},De,Le),r[73]=De,r[74]=Fe):Fe=r[74],r[75]!==H||r[76]!==K?(je=K&&o.default.createElement(x.ContactNetworks,{isOpen:!0,onClose:()=>Y(!1),selectedChainId:H,onSelect:e=>J(e)}),r[75]=H,r[76]=K,r[77]=je):je=r[77],r[78]!==Oe||r[79]!==Fe||r[80]!==je?(Ue=o.default.createElement("div",{className:"address-book__view-contact__group"},Oe,Fe,je),r[78]=Oe,r[79]=Fe,r[80]=je,r[81]=Ue):Ue=r[81],r[82]!==_e||r[83]!==Ce||r[84]!==Ue?(We=o.default.createElement("div",{className:"address-book__add-contact__content"},_e,Ce,Ue),r[82]=_e,r[83]=Ce,r[84]=Ue,r[85]=We):We=r[85],r[86]!==B?(ze=B("cancel"),r[86]=B,r[87]=ze):ze=r[87],r[88]!==U||r[89]!==z||r[90]!==D||r[91]!==me?($e=U||z||!me||!D.trim(),r[88]=U,r[89]=z,r[90]=D,r[91]=me,r[92]=$e):$e=r[92];const Ve=Boolean($e);let qe,Ge,He,Je,Ke;return r[93]!==S||r[94]!==I||r[95]!==de||r[96]!==D||r[97]!==H?(qe=async()=>{await S(de,D,"",H),I(c.CONTACT_LIST_ROUTE)},r[93]=S,r[94]=I,r[95]=de,r[96]=D,r[97]=H,r[98]=qe):qe=r[98],r[99]!==I?(Ge=()=>{I(c.CONTACT_LIST_ROUTE)},r[99]=I,r[100]=Ge):Ge=r[100],r[101]!==B?(He=B("save"),r[101]=B,r[102]=He):He=r[102],r[103]!==ze||r[104]!==Ve||r[105]!==qe||r[106]!==Ge||r[107]!==He?(Je=o.default.createElement(p.default,{cancelText:ze,disabled:Ve,onSubmit:qe,onCancel:Ge,submitText:He}),r[103]=ze,r[104]=Ve,r[105]=qe,r[106]=Ge,r[107]=He,r[108]=Je):Je=r[108],r[109]!==We||r[110]!==Je?(Ke=o.default.createElement("div",{className:"settings-page__content-row address-book__add-contact"},We,Je),r[109]=We,r[110]=Je,r[111]=Ke):Ke=r[111],Ke};S.propTypes={addressBook:r.default.array,internalAccounts:r.default.array,addToAddressBook:r.default.func,navigate:r.default.func.isRequired,scanQrCode:r.default.func,qrCodeData:r.default.object,qrCodeDetected:r.default.func,domainResolutions:r.default.arrayOf(r.default.object),domainError:r.default.string,resetDomainResolution:r.default.func};n.default=S;function w(e){const{resolvedAddress:t}=e;return t}function C(e){return e.toLowerCase()}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.component.js"}],[7894,{"../../../../ducks/app/app":7018,"../../../../ducks/domains":7027,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7072,"../../../../selectors":8035,"../../../../store/actions":8065,"./add-contact.component":7893,"react-redux":5179,redux:5273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),o=e("react-redux"),r=d(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),s=e("../../../../store/actions"),i=e("../../../../ducks/app/app"),l=e("../../../../ducks/domains"),c=e("../../../../selectors"),u=d(e("./add-contact.component"));function d(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(r.default,(0,o.connect)(e=>({addressBook:(0,c.getAddressBook)(e),internalAccounts:(0,c.getInternalAccounts)(e),qrCodeData:(0,i.getQrCodeData)(e),domainError:(0,l.getDomainError)(e),domainResolutions:(0,l.getDomainResolutions)(e)}),e=>({addToAddressBook:(t,n,a,o)=>e((0,s.addToAddressBook)(t,n,a,o)),scanQrCode:()=>e((0,s.showQrScanner)()),qrCodeDetected:t=>e((0,s.qrCodeDetected)(t)),resetDomainResolution:()=>e((0,l.resetDomainResolution)())})))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.container.js"}],[7895,{"./add-contact.container":7894},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./add-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/index.js"}],[7896,{"../../../components/app/contact-list":6058,"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../helpers/utils/settings-search":7099,"./add-contact":7895,"./edit-contact":7901,"./view-contact":7903,classnames:4071,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=f(e("prop-types")),r=f(e("classnames")),s=f(e("../../../components/app/contact-list")),i=e("../../../helpers/constants/routes"),l=e("../../../helpers/utils/settings-search"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=f(e("./edit-contact")),p=f(e("./add-contact")),m=f(e("./view-contact"));function f(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{constructor(...e){super(...e),h(this,"settingsRefs",Array((0,l.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("contacts"))).fill(undefined).map(()=>a.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}renderAddresses(){const{completeAddressBook:e,internalAccounts:t,navigate:n,selectedAddress:o}=this.props,r=Object.entries(e).map(([e,t])=>t),l=r.filter(({name:e})=>Boolean(e)),d=r.filter(({name:e})=>!e),{t:p}=this.context;return r.length?a.default.createElement("div",null,a.default.createElement(s.default,{addressBook:r,internalAccounts:t,searchForContacts:()=>l,searchForRecents:()=>d,selectRecipient:e=>{n(`${i.CONTACT_VIEW_ROUTE}/${e}`)},selectedAddress:o})):a.default.createElement("div",{className:"address-book__container"},a.default.createElement("div",null,a.default.createElement(c.Icon,{name:c.IconName.Book,color:u.IconColor.iconMuted,className:"address-book__icon",size:c.IconSize.Xl}),a.default.createElement("h4",{className:"address-book__title"},p("buildContactList")),a.default.createElement("p",{className:"address-book__sub-title"},p("addFriendsAndAddresses")),a.default.createElement("button",{className:"address-book__link",onClick:()=>{n(i.CONTACT_ADD_ROUTE)}},"+ ",p("addContact"))))}renderAddButton(){const{navigate:e,viewingContact:t,editingContact:n}=this.props;return a.default.createElement(c.ButtonPrimary,{className:(0,r.default)("address-book-add-button__button",{"address-book-add-button__button--hidden":t||n}),onClick:()=>{e(i.CONTACT_ADD_ROUTE)},margin:4,size:u.Size.LG},this.context.t("addContact"))}renderContactContent(){const{viewingContact:e,editingContact:t,addingContact:n}=this.props;let o=null;return e?o=m.default:t?o=d.default:n&&(o=p.default),o&&a.default.createElement("div",{className:"address-book-contact-content"},a.default.createElement(o,null))}renderAddressBookContent(){const{hideAddressBook:e}=this.props;return e?null:a.default.createElement("div",{ref:this.settingsRefs[0],className:"address-book"},this.renderAddresses())}render(){const{addingContact:e,currentPath:t,completeAddressBook:n}=this.props,o=n;return a.default.createElement("div",{className:"address-book-wrapper"},this.renderAddressBookContent(),this.renderContactContent(),t===i.CONTACT_LIST_ROUTE&&!e&&o.length>0?this.renderAddButton():null)}}n.default=y,h(y,"contextTypes",{t:o.default.func}),h(y,"propTypes",{completeAddressBook:o.default.array,internalAccounts:o.default.array,navigate:o.default.func.isRequired,selectedAddress:o.default.string,viewingContact:o.default.bool,editingContact:o.default.bool,addingContact:o.default.bool,hideAddressBook:o.default.bool,currentPath:o.default.string})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.component.js"}],[7897,{"../../../helpers/constants/routes":7054,"../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7072,"../../../selectors":8035,"./contact-list-tab.component":7896,"react-redux":5179,redux:5273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),o=e("react-redux"),r=c(e("../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),s=e("../../../selectors"),i=e("../../../helpers/constants/routes"),l=c(e("./contact-list-tab.component"));function c(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(r.default,(0,o.connect)((e,t)=>{const{location:n}=t,{pathname:a}=n,o=a.match(/[^/]+$/u)[0],r=o.includes("0x"),l=Boolean(a.match(i.CONTACT_VIEW_ROUTE)),c=Boolean(a.match(i.CONTACT_EDIT_ROUTE)),u=Boolean(a.match(i.CONTACT_ADD_ROUTE)),d=l||c||u;return{viewingContact:l,editingContact:c,addingContact:u,addressBook:(0,s.getAddressBook)(e),completeAddressBook:(0,s.getCompleteAddressBook)(e),internalAccounts:(0,s.getInternalAccounts)(e),selectedAddress:r?o:"",hideAddressBook:d,currentPath:a}}))(l.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.container.js"}],[7898,{"../../../../shared/constants/bridge":5755,"../../../../shared/constants/network":5772,"../../../../shared/modules/selectors/networks":5908,"../../../components/component-library":6486,"../../../components/multichain":6725,"../../../helpers/constants/design-system":7049,"../../../hooks/useI18nContext":7200,"../../../selectors/multichain":8044,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ContactNetworks=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../../helpers/constants/design-system"),i=e("../../../components/component-library"),l=e("../../../../shared/modules/selectors/networks"),c=e("../../../../shared/constants/network"),u=e("../../../hooks/useI18nContext"),d=e("../../../../shared/constants/bridge"),p=e("../../../components/multichain"),m=e("../../../selectors/multichain");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e,t){const[n,a]=e,[o,r]=t;return(c.TEST_CHAINS.includes(o)?a:n).push(r),[n,a]}n.ContactNetworks=e=>{const t=(0,a.c)(36),{isOpen:n,onClose:c,selectedChainId:f,onSelect:h}=e,y=(0,u.useI18nContext)(),v=(0,r.useSelector)(l.getNetworkConfigurationsByChainId);let _;t[0]!==v?(_=Object.entries(v).reduce(g,[[],[]]),t[0]=v,t[1]=_):_=t[1];const[b,E]=_;let x;t[2]!==c||t[3]!==h||t[4]!==f?(x=e=>e.map(e=>{const{name:t,chainId:n}=e;return o.default.createElement(p.NetworkListItem,{key:n,name:d.NETWORK_TO_SHORT_NETWORK_NAME_MAP[n]??t,selected:f===n,onClick:()=>{null==h||h(n),c()},iconSrc:(0,m.getImageForChainId)(n),iconSize:i.AvatarNetworkSize.Sm,focus:!1,variant:s.TextVariant.bodyMdMedium})}),t[2]=c,t[3]=h,t[4]=f,t[5]=x):x=t[5];const k=x;let T,S,w,C,I,O,N,R,A,P,M,B;return t[6]===Symbol.for("react.memo_cache_sentinel")?(T=o.default.createElement(i.ModalOverlay,null),t[6]=T):T=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(S={padding:0},t[7]=S):S=t[7],t[8]!==y?(w=y("bridgeSelectNetwork"),t[8]=y,t[9]=w):w=t[9],t[10]!==c||t[11]!==w?(C=o.default.createElement(i.ModalHeader,{onBack:c,onClose:c},w),t[10]=c,t[11]=w,t[12]=C):C=t[12],t[13]!==b||t[14]!==k?(I=k(b),t[13]=b,t[14]=k,t[15]=I):I=t[15],t[16]!==y?(O=y("testnets"),t[16]=y,t[17]=O):O=t[17],t[18]!==O?(N=o.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium},O),t[18]=O,t[19]=N):N=t[19],t[20]!==k||t[21]!==E?(R=k(E),t[20]=k,t[21]=E,t[22]=R):R=t[22],t[23]!==R||t[24]!==N?(A=o.default.createElement(i.Box,{padding:4},N,R),t[23]=R,t[24]=N,t[25]=A):A=t[25],t[26]!==A||t[27]!==I?(P=o.default.createElement(i.Box,{className:"multichain-asset-picker__network-list",display:s.Display.Flex},o.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,width:s.BlockSize.Full},I,A)),t[26]=A,t[27]=I,t[28]=P):P=t[28],t[29]!==P||t[30]!==C?(M=o.default.createElement(i.ModalContent,{modalDialogProps:S},C,P),t[29]=P,t[30]=C,t[31]=M):M=t[31],t[32]!==n||t[33]!==c||t[34]!==M?(B=o.default.createElement(i.Modal,{isOpen:n,onClose:c,className:"multichain-asset-picker__network-modal"},T,M),t[32]=n,t[33]=c,t[34]=M,t[35]=B):B=t[35],B}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-networks.tsx"}],[7899,{"../../../../../shared/modules/hexstring-utils":5896,"../../../../components/app/contact-list/utils":6060,"../../../../components/app/preferred-avatar":6194,"../../../../components/component-library":6486,"../../../../components/ui/page-container/page-container-footer":6949,"../../../../components/ui/text-field":6977,"../../../../contexts/i18n":7e3,"../../../../helpers/constants/design-system":7049,"../../../../selectors/multichain":8044,"../contact-networks":7898,"@metamask/design-system-react":1742,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=v(e("prop-types")),s=e("react-router-dom-v5-compat"),i=e("@metamask/design-system-react"),l=v(e("../../../../components/ui/text-field")),c=v(e("../../../../components/ui/page-container/page-container-footer")),u=e("../../../../components/app/preferred-avatar"),d=e("../../../../../shared/modules/hexstring-utils"),p=e("../../../../components/component-library"),m=e("../../../../helpers/constants/design-system"),f=e("../../../../components/app/contact-list/utils"),g=e("../../../../selectors/multichain"),h=e("../../../../contexts/i18n"),y=e("../contact-networks");function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function b(e){var t,n;const r=(0,a.c)(141),{addressBook:v,internalAccounts:_,networkConfigurations:b,addToAddressBook:E,removeFromAddressBook:x,name:k,address:T,contactChainId:S,memo:w,viewRoute:C,listRoute:I}=e,O=k===undefined?"":k,N=w===undefined?"":w,R=(0,o.useContext)(h.I18nContext),A=(0,s.useNavigate)(),[P,M]=(0,o.useState)(O),[B,D]=(0,o.useState)(T),[L,F]=(0,o.useState)(N),[j,U]=(0,o.useState)(""),[W,z]=(0,o.useState)(""),[$,V]=(0,o.useState)(!1),[q,G]=(0,o.useState)(S),H=b;let J;r[0]!==v||r[1]!==_||r[2]!==O?(J=e=>e===O||!(0,f.isDuplicateContact)(v,_,e),r[0]=v,r[1]=_,r[2]=O,r[3]=J):J=r[3];const K=J;let Y;r[4]!==R||r[5]!==K?(Y=e=>{const t=e.target.value;U(K(t)?"":R("nameAlreadyInUse")),M(t)},r[4]=R,r[5]=K,r[6]=Y):Y=r[6];const X=Y;if(!T){let e;return r[7]!==I?(e=o.default.createElement(s.Navigate,{to:{pathname:I}}),r[7]=I,r[8]=e):e=r[8],e}let Q,Z,ee;r[9]===Symbol.for("react.memo_cache_sentinel")?(Q={overflow:"hidden"},r[9]=Q):Q=r[9],r[10]!==T?(Z=o.default.createElement(u.PreferredAvatar,{size:i.AvatarAccountSize.Lg,address:T}),r[10]=T,r[11]=Z):Z=r[11],r[12]===Symbol.for("react.memo_cache_sentinel")?(ee={overflow:"hidden"},r[12]=ee):ee=r[12];const te=O||T;let ne,ae,oe,re,se,ie,le,ce,ue,de,pe,me,fe,ge,he,ye,ve,_e,be,Ee,xe,ke,Te,Se,we,Ce;r[13]!==te?(ne=o.default.createElement(p.Text,{className:"address-book__header__name",variant:m.TextVariant.bodyLgMedium,marginInlineStart:4,style:ee,ellipsis:!0},te),r[13]=te,r[14]=ne):ne=r[14],r[15]!==Z||r[16]!==ne?(ae=o.default.createElement(p.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center,style:Q,paddingRight:2},Z,ne),r[15]=Z,r[16]=ne,r[17]=ae):ae=r[17],r[18]===Symbol.for("react.memo_cache_sentinel")?(oe={display:"contents"},r[18]=oe):oe=r[18],r[19]!==T||r[20]!==S||r[21]!==I||r[22]!==A||r[23]!==x?(re=async()=>{await x(S,T),A(I)},r[19]=T,r[20]=S,r[21]=I,r[22]=A,r[23]=x,r[24]=re):re=r[24],r[25]!==R?(se=R("deleteContact"),r[25]=R,r[26]=se):se=r[26],r[27]!==re||r[28]!==se?(ie=o.default.createElement(p.Box,{className:"settings-page__address-book-button"},o.default.createElement(p.Button,{variant:p.ButtonVariant.Link,danger:!0,style:oe,onClick:re,"data-testid":"delete-contact-button"},se)),r[27]=re,r[28]=se,r[29]=ie):ie=r[29],r[30]!==ae||r[31]!==ie?(le=o.default.createElement(p.Box,{className:"settings-page__header address-book__header--edit",paddingLeft:6,paddingRight:6,width:m.BlockSize.Full,alignItems:m.AlignItems.center},ae,ie),r[30]=ae,r[31]=ie,r[32]=le):le=r[32],r[33]!==R?(ce=R("userName"),r[33]=R,r[34]=ce):ce=r[34],r[35]!==ce?(ue=o.default.createElement("div",{className:"address-book__view-contact__group__label"},ce),r[35]=ce,r[36]=ue):ue=r[36],r[37]!==R?(de=R("addAlias"),r[37]=R,r[38]=de):de=r[38],r[39]!==P||r[40]!==X||r[41]!==j||r[42]!==de?(pe=o.default.createElement(l.default,{id:"nickname","data-testid":"address-book-edit-contact-name",placeholder:de,value:P,onChange:X,error:j,fullWidth:!0,className:"text-field-root",margin:"dense"}),r[39]=P,r[40]=X,r[41]=j,r[42]=de,r[43]=pe):pe=r[43],r[44]!==ue||r[45]!==pe?(me=o.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-alias"},ue,pe),r[44]=ue,r[45]=pe,r[46]=me):me=r[46],r[47]!==R?(fe=R("ethereumPublicAddress"),r[47]=R,r[48]=fe):fe=r[48],r[49]!==fe?(ge=o.default.createElement("div",{className:"address-book__view-contact__group__label"},fe),r[49]=fe,r[50]=ge):ge=r[50],r[51]===Symbol.for("react.memo_cache_sentinel")?(he=e=>D(e.target.value),r[51]=he):he=r[51],r[52]!==W||r[53]!==B?(ye=o.default.createElement(l.default,{id:"address","data-testid":"address-book-edit-contact-address",value:B,onChange:he,error:W,fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"}),r[52]=W,r[53]=B,r[54]=ye):ye=r[54],r[55]!==ge||r[56]!==ye?(ve=o.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-address"},ge,ye),r[55]=ge,r[56]=ye,r[57]=ve):ve=r[57],r[58]!==R?(_e=R("memo"),r[58]=R,r[59]=_e):_e=r[59],r[60]!==_e?(be=o.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},_e),r[60]=_e,r[61]=be):be=r[61],r[62]===Symbol.for("react.memo_cache_sentinel")?(Ee=e=>F(e.target.value),r[62]=Ee):Ee=r[62],r[63]!==N||r[64]!==L?(xe=o.default.createElement(l.default,{id:"memo",placeholder:N,value:L,onChange:Ee,fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"}),r[63]=N,r[64]=L,r[65]=xe):xe=r[65],r[66]!==be||r[67]!==xe?(ke=o.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-memo"},be,xe),r[66]=be,r[67]=xe,r[68]=ke):ke=r[68],r[69]!==R?(Te=R("network"),r[69]=R,r[70]=Te):Te=r[70],r[71]!==Te?(Se=o.default.createElement("div",{className:"address-book__view-contact__group__label"},Te),r[71]=Te,r[72]=Se):Se=r[72],r[73]===Symbol.for("react.memo_cache_sentinel")?(we=()=>V(!0),r[73]=we):we=r[73],r[74]!==q?(Ce=(0,g.getImageForChainId)(q)||undefined,r[74]=q,r[75]=Ce):Ce=r[75];const Ie=null==H||null===(t=H[q])||void 0===t?void 0:t.name;let Oe;r[76]!==Ce||r[77]!==Ie?(Oe=o.default.createElement(p.AvatarNetwork,{size:p.AvatarNetworkSize.Sm,src:Ce,name:Ie}),r[76]=Ce,r[77]=Ie,r[78]=Oe):Oe=r[78];const Ne=null==H||null===(n=H[q])||void 0===n?void 0:n.name;let Re,Ae,Pe,Me,Be,De,Le,Fe,je,Ue,We;r[79]!==Ne?(Re=o.default.createElement(p.Text,{"data-testid":"address-book-edit-contact-network"},Ne),r[79]=Ne,r[80]=Re):Re=r[80],r[81]!==Oe||r[82]!==Re?(Ae=o.default.createElement(p.Box,{display:m.Display.Flex,gap:2},Oe,Re),r[81]=Oe,r[82]=Re,r[83]=Ae):Ae=r[83],r[84]===Symbol.for("react.memo_cache_sentinel")?(Pe=o.default.createElement(p.Icon,{name:p.IconName.ArrowDown,color:m.IconColor.iconDefault,size:p.IconSize.Sm}),r[84]=Pe):Pe=r[84],r[85]!==Ae?(Me=o.default.createElement(p.Box,{as:"button",padding:3,display:m.Display.Flex,alignItems:m.AlignItems.center,backgroundColor:m.BackgroundColor.transparent,borderColor:m.BorderColor.borderDefault,justifyContent:m.JustifyContent.spaceBetween,borderRadius:m.BorderRadius.XL,onClick:we,className:"network-selector","data-testid":"network-selector",marginTop:2},Ae,Pe),r[85]=Ae,r[86]=Me):Me=r[86],r[87]!==Se||r[88]!==Me?(Be=o.default.createElement("div",{className:"address-book__view-contact__group"},Se,Me),r[87]=Se,r[88]=Me,r[89]=Be):Be=r[89],r[90]!==me||r[91]!==ve||r[92]!==ke||r[93]!==Be?(De=o.default.createElement("div",{className:"address-book__edit-contact__content"},me,ve,ke,Be),r[90]=me,r[91]=ve,r[92]=ke,r[93]=Be,r[94]=De):De=r[94],r[95]!==R?(Le=R("cancel"),r[95]=R,r[96]=Le):Le=r[96],r[97]!==E||r[98]!==T||r[99]!==S||r[100]!==P||r[101]!==I||r[102]!==N||r[103]!==O||r[104]!==A||r[105]!==B||r[106]!==L||r[107]!==x||r[108]!==q||r[109]!==R?(Fe=async()=>{const e=q!==S;B&&B!==T?!(0,d.isBurnAddress)(B)&&(0,d.isValidHexAddress)(B,{mixedCaseUseChecksum:!0})?(await x(S,T),await E(B,P||O,L||N,q),A(I)):z(R("invalidAddress")):e?(await x(S,T),await E(T,P||O,L||N,q),A(I)):(await E(T,P||O,L||N,q),A(I))},r[97]=E,r[98]=T,r[99]=S,r[100]=P,r[101]=I,r[102]=N,r[103]=O,r[104]=A,r[105]=B,r[106]=L,r[107]=x,r[108]=q,r[109]=R,r[110]=Fe):Fe=r[110],r[111]!==T||r[112]!==A||r[113]!==C?(je=()=>A(`${C}/${T}`),r[111]=T,r[112]=A,r[113]=C,r[114]=je):je=r[114],r[115]!==R?(Ue=R("save"),r[115]=R,r[116]=Ue):Ue=r[116],r[117]!==T||r[118]!==S||r[119]!==P||r[120]!==N||r[121]!==O||r[122]!==j||r[123]!==B||r[124]!==L||r[125]!==q?(We=P===O&&B===T&&q===S&&L===N||!P.trim()||j,r[117]=T,r[118]=S,r[119]=P,r[120]=N,r[121]=O,r[122]=j,r[123]=B,r[124]=L,r[125]=q,r[126]=We):We=r[126];const ze=Boolean(We);let $e,Ve,qe;return r[127]!==Le||r[128]!==Fe||r[129]!==je||r[130]!==Ue||r[131]!==ze?($e=o.default.createElement(c.default,{cancelText:Le,onSubmit:Fe,onCancel:je,submitText:Ue,disabled:ze}),r[127]=Le,r[128]=Fe,r[129]=je,r[130]=Ue,r[131]=ze,r[132]=$e):$e=r[132],r[133]!==q||r[134]!==$?(Ve=$&&o.default.createElement(y.ContactNetworks,{isOpen:!0,onClose:()=>V(!1),selectedChainId:q,onSelect:e=>G(e)}),r[133]=q,r[134]=$,r[135]=Ve):Ve=r[135],r[136]!==le||r[137]!==De||r[138]!==$e||r[139]!==Ve?(qe=o.default.createElement("div",{className:"settings-page__content-row address-book__edit-contact","data-testid":"edit-contact"},le,De,$e,Ve),r[136]=le,r[137]=De,r[138]=$e,r[139]=Ve,r[140]=qe):qe=r[140],qe}b.propTypes={addressBook:r.default.array,internalAccounts:r.default.array,networkConfigurations:r.default.array,addToAddressBook:r.default.func.isRequired,removeFromAddressBook:r.default.func.isRequired,name:r.default.string,address:r.default.string.isRequired,contactChainId:r.default.string,memo:r.default.string,viewRoute:r.default.string.isRequired,listRoute:r.default.string.isRequired}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.component.js"}],[7900,{"../../../../../shared/modules/selectors/networks":5908,"../../../../helpers/constants/routes":7054,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7072,"../../../../selectors":8035,"../../../../store/actions":8065,"./edit-contact.component":7899,"react-redux":5179,redux:5273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),o=e("react-redux"),r=d(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),s=e("../../../../selectors"),i=e("../../../../../shared/modules/selectors/networks"),l=e("../../../../helpers/constants/routes"),c=e("../../../../store/actions"),u=d(e("./edit-contact.component"));function d(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(r.default,(0,o.connect)((e,t)=>{var n;const{location:a,params:o}=t,r=a.pathname.match(/[^/]+$/u)[0],c=r.includes("0x")?r.toLowerCase():o.id,u=(0,s.getAddressBookEntry)(e,c),d=(0,i.getNetworkConfigurationsByChainId)(e),{memo:p}=u||{},m=(null==u?void 0:u.name)||(null===(n=(0,s.getInternalAccountByAddress)(e,c))||void 0===n?void 0:n.metadata.name),{chainId:f}=(0,i.getProviderConfig)(e),g=(null==u?void 0:u.chainId)||f;return{address:u?c:null,addressBook:(0,s.getAddressBook)(e),internalAccounts:(0,s.getInternalAccounts)(e),contactChainId:g,name:m,memo:p,networkConfigurations:d,viewRoute:l.CONTACT_VIEW_ROUTE,listRoute:l.CONTACT_LIST_ROUTE}},e=>({addToAddressBook:(t,n,a,o)=>e((0,c.addToAddressBook)(t,n,a,o)),removeFromAddressBook:(t,n)=>e((0,c.removeFromAddressBook)(t,n)),toggleNetworkMenu:()=>e((0,c.toggleNetworkMenu)())})))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.container.js"}],[7901,{"./edit-contact.container":7900},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./edit-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/index.js"}],[7902,{"./contact-list-tab.container":7897},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./contact-list-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/index.js"}],[7903,{"./view-contact.container":7905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./view-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/index.js"}],[7904,{"../../../../components/app/preferred-avatar":6194,"../../../../components/component-library":6486,"../../../../components/ui/tooltip":6985,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useCopyToClipboard":7186,"../../../../hooks/useI18nContext":7200,"@metamask/design-system-react":1742,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=f(e("react")),r=f(e("prop-types")),s=e("react-router-dom-v5-compat"),i=e("@metamask/design-system-react"),l=e("../../../../components/component-library"),c=e("../../../../components/app/preferred-avatar"),u=f(e("../../../../components/ui/tooltip")),d=e("../../../../hooks/useI18nContext"),p=e("../../../../hooks/useCopyToClipboard"),m=e("../../../../helpers/constants/design-system");function f(e){return e&&e.__esModule?e:{default:e}}function g(e){const t=(0,a.c)(53),{navigate:n,name:r,address:f,checkSummedAddress:g,memo:h,editRoute:y,listRoute:v}=e,_=(0,d.useI18nContext)(),[b,E]=(0,p.useCopyToClipboard)();if(!f){let e;return t[0]!==v?(e=o.default.createElement(s.Navigate,{to:{pathname:v}}),t[0]=v,t[1]=e):e=t[1],e}let x,k;t[2]!==f?(x=o.default.createElement(c.PreferredAvatar,{size:i.AvatarAccountSize.Lg,address:f}),t[2]=f,t[3]=x):x=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(k={overflow:"hidden"},t[4]=k):k=t[4];const T=r||f;let S,w,C,I,O,N,R,A,P,M,B;t[5]!==T?(S=o.default.createElement(l.Text,{className:"address-book__header__name","data-testid":"address-book-name",variant:m.TextVariant.bodyLgMedium,marginInlineStart:4,style:k,ellipsis:!0},T),t[5]=T,t[6]=S):S=t[6],t[7]!==x||t[8]!==S?(w=o.default.createElement(l.Box,{className:"settings-page__header address-book__header",paddingLeft:6,paddingRight:6},x,S),t[7]=x,t[8]=S,t[9]=w):w=t[9],t[10]!==f||t[11]!==y||t[12]!==n?(C=()=>{n(`${y}/${f}`)},t[10]=f,t[11]=y,t[12]=n,t[13]=C):C=t[13],t[14]!==_?(I=_("edit"),t[14]=_,t[15]=I):I=t[15],t[16]!==C||t[17]!==I?(O=o.default.createElement("div",{className:"address-book__view-contact__group"},o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,onClick:C},I)),t[16]=C,t[17]=I,t[18]=O):O=t[18],t[19]!==_?(N=_("ethereumPublicAddress"),t[19]=_,t[20]=N):N=t[20],t[21]!==N?(R=o.default.createElement("div",{className:"address-book__view-contact__group__label"},N),t[21]=N,t[22]=R):R=t[22],t[23]!==g?(A=function(e){return`0x${e.slice(2).match(/.{1,4}/gu).join("")}`}(g),t[23]=g,t[24]=A):A=t[24],t[25]!==A?(P=o.default.createElement("div",{className:"address-book__view-contact__group__static-address","data-testid":"address-book-view-contact-address"},A),t[25]=A,t[26]=P):P=t[26],t[27]!==b||t[28]!==_?(M=_(b?"copiedExclamation":"copyToClipboard"),t[27]=b,t[28]=_,t[29]=M):M=t[29],t[30]!==g||t[31]!==E?(B=()=>{E(g)},t[30]=g,t[31]=E,t[32]=B):B=t[32];const D=b?l.IconName.CopySuccess:l.IconName.Copy;let L,F,j,U,W,z;return t[33]!==B||t[34]!==D?(L=o.default.createElement(l.ButtonIcon,{ariaLabel:"copy",className:"address-book__view-contact__group__static-address--copy-icon",onClick:B,iconName:D,size:l.ButtonIconSize.Lg,color:m.IconColor.primaryDefault}),t[33]=B,t[34]=D,t[35]=L):L=t[35],t[36]!==M||t[37]!==L?(F=o.default.createElement(u.default,{position:"bottom",title:M},L),t[36]=M,t[37]=L,t[38]=F):F=t[38],t[39]!==P||t[40]!==F?(j=o.default.createElement("div",{className:"address-book__view-contact__group__value"},P,F),t[39]=P,t[40]=F,t[41]=j):j=t[41],t[42]!==R||t[43]!==j?(U=o.default.createElement("div",{className:"address-book__view-contact__group"},R,j),t[42]=R,t[43]=j,t[44]=U):U=t[44],t[45]!==h||t[46]!==_?(W=h.length>0?o.default.createElement("div",{className:"address-book__view-contact__group"},o.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},_("memo")),o.default.createElement("div",{className:"address-book__view-contact__group__static-address"},h)):null,t[45]=h,t[46]=_,t[47]=W):W=t[47],t[48]!==U||t[49]!==W||t[50]!==w||t[51]!==O?(z=o.default.createElement("div",{className:"settings-page__content-row"},o.default.createElement("div",{className:"settings-page__content-item"},w,O,U,W)),t[48]=U,t[49]=W,t[50]=w,t[51]=O,t[52]=z):z=t[52],z}g.propTypes={name:r.default.string,address:r.default.string,navigate:r.default.func.isRequired,checkSummedAddress:r.default.string,memo:r.default.string,editRoute:r.default.string,listRoute:r.default.string.isRequired};n.default=o.default.memo(g)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.component.js"}],[7905,{"../../../../../shared/modules/hexstring-utils":5896,"../../../../helpers/constants/routes":7054,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7072,"../../../../selectors":8035,"./view-contact.component":7904,"react-redux":5179,redux:5273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),o=e("react-redux"),r=u(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),s=e("../../../../selectors"),i=e("../../../../helpers/constants/routes"),l=e("../../../../../shared/modules/hexstring-utils"),c=u(e("./view-contact.component"));function u(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(r.default,(0,o.connect)((e,t)=>{const{location:n,params:a}=t,o=n.pathname.match(/[^/]+$/u)[0],r=o.includes("0x")?o.toLowerCase():a.id,c=(0,s.getInternalAccountByAddress)(e,r),u=(0,s.getAddressBookEntry)(e,r),{memo:d}=u||{};return{name:(null==u?void 0:u.name)||c.metadata.name,address:u?r:null,checkSummedAddress:(0,l.toChecksumHexAddress)(r),memo:d,editRoute:i.CONTACT_EDIT_ROUTE,listRoute:i.CONTACT_LIST_ROUTE}}))(c.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.container.js"}],[7906,{"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/zendesk-url":7061,"../../../hooks/useI18nContext":7200,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DeprecatedNetworkModal=void 0;var a=e("react-compiler-runtime"),o=c(e("react")),r=e("../../../hooks/useI18nContext"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=c(e("../../../helpers/constants/zendesk-url"));function c(e){return e&&e.__esModule?e:{default:e}}n.DeprecatedNetworkModal=e=>{const t=(0,a.c)(28),{onClose:n}=e,c=(0,r.useI18nContext)();let u,d,p,m,f,g,h,y,v,_,b,E,x;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=o.default.createElement(s.ModalOverlay,null),t[0]=u):u=t[0],t[1]!==c?(d=c("deprecatedNetwork"),t[1]=c,t[2]=d):d=t[2],t[3]!==d?(p=o.default.createElement(s.ModalHeader,{paddingTop:2,paddingBottom:2},d),t[3]=d,t[4]=p):p=t[4],t[5]!==c?(m=c("learnMoreUpperCase"),t[5]=c,t[6]=m):m=t[6],t[7]!==m?(f=o.default.createElement(s.ButtonLink,{key:"import-token-fake-token-warning",rel:"noopener noreferrer",target:"_blank",href:l.default.NETWORK_DEPRECATED,variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Normal},m),t[7]=m,t[8]=f):f=t[8],t[9]!==c||t[10]!==f?(g=c("deprecatedNetworkDescription",[f]),t[9]=c,t[10]=f,t[11]=g):g=t[11],t[12]!==g?(h=o.default.createElement(s.ModalBody,null,o.default.createElement(s.Box,{paddingBottom:2},o.default.createElement(s.Text,{textAlign:i.TextAlign.Center,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Normal},g))),t[12]=g,t[13]=h):h=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(y={variant:i.TextVariant.bodyMdMedium},v={fontSize:"14px"},t[14]=y,t[15]=v):(y=t[14],v=t[15]),t[16]!==c?(_=c("deprecatedNetworkButtonMsg"),t[16]=c,t[17]=_):_=t[17],t[18]!==n||t[19]!==_?(b=o.default.createElement(s.Box,{display:i.Display.Flex,paddingLeft:4,paddingRight:4,paddingBottom:2},o.default.createElement(s.ButtonPrimary,{block:!0,size:s.ButtonPrimarySize.Lg,onClick:n,textProps:y,style:v},_)),t[18]=n,t[19]=_,t[20]=b):b=t[20],t[21]!==b||t[22]!==p||t[23]!==h?(E=o.default.createElement(s.ModalContent,null,p,h,b),t[21]=b,t[22]=p,t[23]=h,t[24]=E):E=t[24],t[25]!==n||t[26]!==E?(x=o.default.createElement(s.Modal,{isOpen:!0,isClosedOnOutsideClick:!1,onClose:n},u,E),t[25]=n,t[26]=E,t[27]=x):x=t[27],x}}}},{package:"$root$",file:"ui/pages/settings/deprecated-network-modal/DeprecatedNetworkModal.tsx"}],[7907,{"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../hooks/identity/useAccountSyncing":7135,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDeleteAccountSyncDataProps=n.BackupAndSyncDevSettings=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=e("../../../hooks/identity/useAccountSyncing");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const c=e=>{const t=(0,a.c)(16),{onDelete:n,deleteSuccessful:i,title:l,description:c}=e;let u,d,p,m,f;t[0]!==l?(u=o.default.createElement("span",null,l),t[0]=l,t[1]=u):u=t[1],t[2]!==c?(d=o.default.createElement("div",{className:"settings-page__content-description"},c),t[2]=c,t[3]=d):d=t[3],t[4]!==u||t[5]!==d?(p=o.default.createElement("div",{className:"settings-page__content-item"},u,d),t[4]=u,t[5]=d,t[6]=p):p=t[6],t[7]!==n?(m=o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(r.Button,{variant:r.ButtonVariant.Primary,onClick:n},"Reset")),t[7]=n,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(f={height:"40px",width:"40px"},t[9]=f):f=t[9];const g=!i;let h,y;return t[10]!==g?(h=o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(r.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,paddingLeft:2,paddingRight:2,style:f},o.default.createElement(r.Icon,{className:"settings-page-developer-options__icon-check",name:r.IconName.Check,color:s.IconColor.successDefault,size:r.IconSize.Lg,hidden:g}))),t[10]=g,t[11]=h):h=t[11],t[12]!==p||t[13]!==m||t[14]!==h?(y=o.default.createElement("div",{className:"settings-page__content-padded"},o.default.createElement(r.Box,{className:"settings-page__content-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,gap:4},p,m,h)),t[12]=p,t[13]=m,t[14]=h,t[15]=y):y=t[15],y},u=()=>{const e=(0,a.c)(5),[t,n]=(0,o.useState)(!1),{dispatchDeleteAccountSyncingData:r}=(0,i.useDeleteAccountSyncingDataFromUserStorage)();let s;e[0]!==r?(s=async()=>{await r(),n(!0)},e[0]=r,e[1]=s):s=e[1];const l=s;let c;return e[2]!==t||e[3]!==l?(c={deleteSuccessful:t,onDelete:l,title:"Account syncing",description:"Deletes all user storage entries for the current SRP. This can help if you tested Account Syncing early on and have corrupted data. This will not remove internal accounts already created and renamed. If you want to start from scratch with only the first account and restart syncing from this point on, you will need to reinstall the extension after this action."},e[2]=t,e[3]=l,e[4]=c):c=e[4],c};n.useDeleteAccountSyncDataProps=u;n.BackupAndSyncDevSettings=()=>{const e=(0,a.c)(3);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(r.Text,{className:"settings-page__security-tab-sub-header__bold"},"Backup and sync"),e[0]=t):t=e[0];const n=u();let s;return e[1]!==n?(s=o.default.createElement(o.default.Fragment,null,t,o.default.createElement(c,n)),e[1]=n,e[2]=s):s=e[2],s}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/backup-and-sync.tsx"}],[7908,{"../../../../app/scripts/lib/util":358,"../../../../shared/constants/app":5753,"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../helpers/utils/settings-search":7099,"../../../hooks/useI18nContext":7200,"../../../selectors":8035,"../../../store/actions":8065,"./backup-and-sync":7907,"./developer-options-toggle-row-component":7909,"./sentry-test":7911,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom-v5-compat"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),c=e("../../../helpers/utils/settings-search"),u=e("../../../hooks/useI18nContext"),d=e("../../../store/actions"),p=e("../../../../app/scripts/lib/util"),m=e("../../../../shared/constants/app"),f=e("../../../selectors"),g=v(e("./developer-options-toggle-row-component")),h=v(e("./sentry-test")),y=e("./backup-and-sync");function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,u.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,r.useNavigate)(),[v,_]=(0,a.useState)(!1),[b,E]=(0,a.useState)(!1),[x,k]=(0,a.useState)(!0),T=Array((0,c.getNumberOfSettingRoutesInTab)(e,e("developerOptions"))).fill(undefined).map(()=>a.default.createRef());(0,a.useEffect)(()=>{(0,c.handleSettingsRefs)(e,e("developerOptions"),T)},[e,T]);const S=(0,a.useCallback)(()=>{(0,d.resetViewedNotifications)(),_(!0)},[]),w=(0,a.useCallback)(async()=>{await t((0,d.resetOnboarding)()),E(!0);const e=`${l.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true`;if((0,p.getEnvironmentType)()===m.ENVIRONMENT_TYPE_POPUP){const{platform:t}=global;null!=t&&t.openExtensionInBrowser&&(null==t||t.openExtensionInBrowser(e,null,!0))}else n(e)},[t,n]),C=(0,o.useSelector)(f.getRemoteFeatureFlags);return a.default.createElement("div",{className:"settings-page__body"},a.default.createElement(s.Text,{className:"settings-page__security-tab-sub-header__bold"},"States"),a.default.createElement(s.Text,{className:"settings-page__security-tab-sub-header",color:i.TextColor.textAlternative,paddingTop:6,ref:T[0]},"Current States"),a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(s.Box,{className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,"Remote feature flags"),a.default.createElement("div",{className:"settings-page__content-description"},"Remote feature flag values come from LaunchDarkly by default. If you need to update feature flag values locally for development purposes, you can change feature flag values in .manifest-overrides.json, which will override values coming from LaunchDarkly.")),a.default.createElement("div",{className:"settings-page__content-description","data-testid":"developer-options-remote-feature-flags"},JSON.stringify(C)))),a.default.createElement(s.Text,{className:"settings-page__security-tab-sub-header",color:i.TextColor.textAlternative,paddingTop:6,ref:T[0]},"Reset States"),a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(s.Box,{ref:T[1],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,"Announcements"),a.default.createElement("div",{className:"settings-page__content-description"},"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,onClick:S},"Reset")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(s.Icon,{className:"settings-page-developer-options__icon-check",name:s.IconName.Check,color:i.IconColor.successDefault,size:s.IconSize.Lg,hidden:!v})))),a.default.createElement(s.Box,{ref:T[2],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item",style:{flex:"1 1 auto"}},a.default.createElement("span",null,"Onboarding"),a.default.createElement("div",{className:"settings-page__content-description"},'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.')),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,onClick:w},"Reset")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(s.Icon,{className:"settings-page-developer-options__icon-check",name:s.IconName.Check,color:i.IconColor.successDefault,size:s.IconSize.Lg,hidden:!b})))),a.default.createElement(g.default,{title:"Service Worker Keep Alive",description:"Results in a timestamp being continuously saved to session.storage",isEnabled:x,onToggle:e=>(async e=>{await t((0,d.setServiceWorkerKeepAlivePreference)(e)),k(e)})(!e),dataTestId:"developer-options-service-worker-alive-toggle",settingsRef:T[3]})),a.default.createElement(y.BackupAndSyncDevSettings,null),a.default.createElement(h.default,null))}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-tab.tsx"}],[7909,{"../../../components/component-library":6486,"../../../components/ui/toggle-button":6981,"../../../helpers/constants/design-system":7049,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=l(e("react")),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=l(e("../../../components/ui/toggle-button"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=e=>{const t=(0,a.c)(15),{title:n,description:l,isEnabled:c,onToggle:u,dataTestId:d,settingsRef:p}=e;let m,f,g,h,y;return t[0]!==n?(m=o.default.createElement("span",null,n),t[0]=n,t[1]=m):m=t[1],t[2]!==l?(f=o.default.createElement("div",{className:"settings-page__content-description"},l),t[2]=l,t[3]=f):f=t[3],t[4]!==m||t[5]!==f?(g=o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-description"},m,f)),t[4]=m,t[5]=f,t[6]=g):g=t[6],t[7]!==d||t[8]!==c||t[9]!==u?(h=o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(i.default,{value:c,onToggle:u,offLabel:"Off",onLabel:"On",dataTestId:d})),t[7]=d,t[8]=c,t[9]=u,t[10]=h):h=t[10],t[11]!==p||t[12]!==g||t[13]!==h?(y=o.default.createElement(r.Box,{ref:p,className:"settings-page__content-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,gap:4},g,h),t[11]=p,t[12]=g,t[13]=h,t[14]=y):y=t[14],y}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-toggle-row-component.tsx"}],[7910,{"./developer-options-tab":7908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./developer-options-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/index.tsx"}],[7911,{"../../../../shared/lib/trace":5873,"../../../../shared/modules/i18n":5897,"../../../components/component-library":6486,"../../../components/component-library/button/button.types":6464,"../../../ducks/locale/locale":7032,"../../../helpers/constants/design-system":7049,"../../../store/actions":8065,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../../shared/lib/trace"),c=e("../../../components/component-library/button/button.types"),u=e("../../../store/actions"),d=e("../../../../shared/modules/i18n"),p=e("../../../ducks/locale/locale");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e){return new Promise(t=>setTimeout(t,e))}function g(){const e=(0,a.c)(1),t=h;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(O,{name:"Generate UI Error",description:o.default.createElement("span",null,"Generate an unhandled ",o.default.createElement("b",null,"TestError")," in this window."),onClick:t,expectError:!0}),e[0]=n):n=e[0],n}async function h(){var e,t;await(null===(e=(t=window.stateHooks).throwTestError)||void 0===e?void 0:e.call(t,"Developer Options"))}function y(){const e=(0,a.c)(1),t=v;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(O,{name:"Generate Background Error",description:o.default.createElement("span",null,"Generate an unhandled ",o.default.createElement("b",null,"TestError")," in the service worker."),onClick:t,expectError:!0}),e[0]=n):n=e[0],n}async function v(){var e,t;await(null===(e=(t=window.stateHooks).throwTestBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))}function _(){const e=(0,a.c)(1),t=b;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(O,{name:"Capture UI Error",description:o.default.createElement("span",null,"Capture a ",o.default.createElement("b",null,"TestError")," in this window."),onClick:t}),e[0]=n):n=e[0],n}async function b(){var e,t;await(null===(e=(t=window.stateHooks).captureTestError)||void 0===e?void 0:e.call(t,"Developer Options"))}function E(){const e=(0,a.c)(1),t=x;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(O,{name:"Capture Background Error",description:o.default.createElement("span",null,"Capture a ",o.default.createElement("b",null,"TestError")," in the service worker."),onClick:t}),e[0]=n):n=e[0],n}async function x(){var e,t;await(null===(e=(t=window.stateHooks).captureBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))}function k(){const e=(0,a.c)(1),t=T;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(O,{name:"Generate Trace",description:o.default.createElement("span",null,"Generate a ",o.default.createElement("b",null,"Developer Test")," Sentry trace."),onClick:t}),e[0]=n):n=e[0],n}async function T(){await(0,l.trace)({name:l.TraceName.DeveloperTest,data:{"test.data.number":123},tags:{"test.tag.number":123}},S)}async function S(e){await(0,l.trace)({name:l.TraceName.NestedTest1,data:{"test.data.boolean":!0},tags:{"test.tag.boolean":!0},parentContext:e},C),await(0,l.trace)({name:l.TraceName.NestedTest2,data:{"test.data.string":"test"},tags:{"test.tag.string":"test"},parentContext:e},w)}function w(){return f(500)}function C(){return f(1e3)}function I(e){const t=(0,a.c)(6),{currentLocale:n}=e,s=(0,r.useDispatch)();let i;t[0]!==n||t[1]!==s?(i=async()=>{const e=await(0,d.fetchLocale)(n);await s((0,u.setCurrentLocale)(n,{...e,developerOptions:undefined})),await(0,u.forceUpdateMetamaskState)(s)},t[0]=n,t[1]=s,t[2]=i):i=t[2];const l=i;let c,p;return t[3]===Symbol.for("react.memo_cache_sentinel")?(c=o.default.createElement("span",null,'Trigger the crash on extension to send user feedback to sentry. You can click "Try again" to reload extension'),t[3]=c):c=t[3],t[4]!==l?(p=o.default.createElement(O,{name:"Generate A Page Crash",description:c,onClick:l,expectError:!0,testId:"developer-options-generate-page-crash-button"}),t[4]=l,t[5]=p):p=t[5],p}function O({name:e,description:t,onClick:n,expectError:a,testId:r}){const[l,u]=(0,o.useState)(!1),d=(0,o.useCallback)(async()=>{let e=!1;try{await n()}catch(t){throw e=!0,t}finally{!a&&e||u(!0)}},[n]);return o.default.createElement(s.Box,{className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-description"},t)),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,onClick:d,size:c.ButtonSize.Lg,"data-testid":r},e)),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},o.default.createElement(s.Icon,{className:"settings-page-developer-options__icon-check",name:s.IconName.Check,color:i.IconColor.successDefault,size:s.IconSize.Lg,hidden:!l}))))}n.default=()=>{const e=(0,a.c)(8),t=(0,r.useSelector)(p.getCurrentLocale)||d.FALLBACK_LOCALE;let n,i,l,c,u,m,f;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(s.Text,{className:"settings-page__security-tab-sub-header__bold"},"Sentry"),e[0]=n):n=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(i=o.default.createElement(g,null),l=o.default.createElement(y,null),c=o.default.createElement(_,null),u=o.default.createElement(E,null),m=o.default.createElement(k,null),e[1]=i,e[2]=l,e[3]=c,e[4]=u,e[5]=m):(i=e[1],l=e[2],c=e[3],u=e[4],m=e[5]),e[6]!==t?(f=o.default.createElement(o.default.Fragment,null,n,o.default.createElement("div",{className:"settings-page__content-padded"},i,l,c,u,m,o.default.createElement(I,{currentLocale:t}))),e[6]=t,e[7]=f):f=e[7],f}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/sentry-test.tsx"}],[7912,{"../../../../shared/constants/metametrics":5768,"../../../components/component-library":6486,"../../../components/ui/toggle-button":6981,"../../../helpers/constants/design-system":7049,"../../../helpers/utils/settings-search":7099,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("prop-types")),r=u(e("../../../components/ui/toggle-button")),s=e("../../../helpers/utils/settings-search"),i=e("../../../../shared/constants/metametrics"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,s.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("experimental"))).fill(undefined).map(()=>a.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,s.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,s.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}renderToggleSection({title:e,description:t,toggleValue:n,toggleCallback:o,toggleDataTestId:s,toggleContainerDataTestId:i,toggleOffLabel:c,toggleOnLabel:u}){return a.default.createElement(l.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row settings-page__content-row-experimental"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e),a.default.createElement("div",{className:"settings-page__content-description"},t)),a.default.createElement("div",{className:"settings-page__content-item-col","data-testid":i},a.default.createElement(r.default,{value:n,onToggle:o,offLabel:c,onLabel:u,dataTestId:s})))}renderKeyringSnapsToggle(){const{t:e,trackEvent:t}=this.context,{addSnapAccountEnabled:n,setAddSnapAccountEnabled:o}=this.props;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Text,{variant:c.TextVariant.headingSm,as:"h4",color:c.TextColor.textAlternative,marginBottom:2,fontWeight:c.FontWeight.Bold},e("snaps")),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("snapAccounts")),a.default.createElement("div",{className:"settings-page__content-description"},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.textAlternative},e("snapAccountsDescription")))),this.renderToggleSection({title:e("addSnapAccountToggle"),description:e("addSnapAccountsDescription"),toggleValue:n,toggleCallback:e=>{t({event:i.MetaMetricsEventName.AddSnapAccountEnabled,category:i.MetaMetricsEventCategory.Settings,properties:{enabled:!e}}),o(!e)},toggleContainerDataTestId:"add-account-snap-toggle-div",toggleDataTestId:"add-account-snap-toggle-button",toggleOffLabel:e("off"),toggleOnLabel:e("on")}))}renderNotificationsToggle(){const{t:e}=this.context,{featureNotificationsEnabled:t,setFeatureNotificationsEnabled:n}=this.props;return this.renderToggleSection({title:e("notificationsFeatureToggle"),description:e("notificationsFeatureToggleDescription"),toggleValue:t,toggleCallback:e=>n(!e),toggleDataTestId:"toggle-notifications",toggleOffLabel:e("off"),toggleOnLabel:e("on")})}render(){return a.default.createElement("div",{className:"settings-page__body"},null,this.renderKeyringSnapsToggle())}}n.default=m,p(m,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.component.tsx"}],[7913,{"../../../selectors":8035,"../../../store/actions":8065,"./experimental-tab.component":7912,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("../../../store/actions"),s=e("../../../selectors"),i=(a=e("./experimental-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.connect)(e=>{const t=(0,s.getFeatureNotificationsEnabled)(e);return{watchAccountEnabled:(0,s.getIsWatchEthereumAccountEnabled)(e),addSnapAccountEnabled:(0,s.getIsAddSnapAccountEnabled)(e),featureNotificationsEnabled:t}},e=>({setWatchAccountEnabled:e=>(0,r.setWatchEthereumAccountEnabled)(e),setAddSnapAccountEnabled:e=>(0,r.setAddSnapAccountEnabled)(e),setFeatureNotificationsEnabled:t=>e((0,r.setFeatureNotificationsEnabled)(t))}))(i.default)}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.container.ts"}],[7914,{"./experimental-tab.container":7913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./experimental-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/index.js"}],[7915,{"./settings.container":7942},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./settings.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/index.js"}],[7916,{"./info-tab.component":7917},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./info-tab.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/info-tab/index.js"}],[7917,{"../../../../shared/constants/metametrics":5768,"../../../components/app/modals/visit-support-data-consent-modal":6154,"../../../components/component-library":6486,"../../../components/ui/button":6877,"../../../helpers/constants/common":7047,"../../../helpers/utils/build-types":7075,"../../../helpers/utils/settings-search":7099,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=p(e("prop-types")),r=p(e("../../../components/ui/button")),s=e("../../../components/component-library"),i=e("../../../helpers/constants/common"),l=e("../../../helpers/utils/build-types"),c=e("../../../helpers/utils/settings-search"),u=e("../../../../shared/constants/metametrics"),d=p(e("../../../components/app/modals/visit-support-data-consent-modal"));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.PureComponent{constructor(...e){super(...e),f(this,"state",{version:"13.13.2",isVisitSupportDataConsentModalOpen:!1}),f(this,"settingsRefs",Array((0,c.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("about"))).fill(undefined).map(()=>a.default.createRef())),f(this,"toggleVisitSupportDataConsentModal",()=>{this.setState(e=>({isVisitSupportDataConsentModalOpen:!e.isVisitSupportDataConsentModalOpen}))})}componentDidUpdate(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}renderInfoLinks(){const{t:e}=this.context;return a.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},a.default.createElement("div",{ref:this.settingsRefs[1],className:"info-tab__link-header"},e("links")),a.default.createElement("div",{ref:this.settingsRefs[2],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("privacyMsg"))),a.default.createElement("div",{ref:this.settingsRefs[3],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("terms"))),(0,l.isBeta)()?a.default.createElement("div",{ref:this.settingsRefs[8],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/beta-terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("betaTerms"),a.default.createElement(s.Tag,{label:e("new"),className:"info-tab__tag"}))):null,a.default.createElement("div",{ref:this.settingsRefs[4],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:`https://raw.githubusercontent.com/MetaMask/metamask-extension/v${this.state.version}/attribution.txt`,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("attributions"))),a.default.createElement("hr",{className:"info-tab__separator"}),a.default.createElement("div",{ref:this.settingsRefs[5],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:this.toggleVisitSupportDataConsentModal},e("supportCenter"))),a.default.createElement("div",{ref:this.settingsRefs[6],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("visitWebSite"))),a.default.createElement("div",{ref:this.settingsRefs[7],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:i.SUPPORT_REQUEST_LINK,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.SupportLinkClicked,properties:{url:i.SUPPORT_REQUEST_LINK}},{contextPropsIntoEventProperties:[u.MetaMetricsContextProp.PageTitle]})}},e("contactUs"))))}render(){const{t:e}=this.context;return a.default.createElement("div",{className:"settings-page__body"},a.default.createElement("div",{className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},a.default.createElement("div",{className:"info-tab__item"},a.default.createElement("div",{ref:this.settingsRefs[0],className:"info-tab__version-header"},(0,l.isBeta)()?e("betaMetamaskVersion"):e("metamaskVersion")),a.default.createElement("div",{className:"info-tab__version-number"},this.state.version)),a.default.createElement("div",{className:"info-tab__item"},a.default.createElement("div",{className:"info-tab__about"},e("builtAroundTheWorld")))),this.renderInfoLinks()),a.default.createElement("div",{className:"info-tab__logo-wrapper"},a.default.createElement("img",{src:"./images/logo/metamask-fox.svg",className:"info-tab__logo",alt:"MetaMask Logo"})),this.state.isVisitSupportDataConsentModalOpen&&a.default.createElement(d.default,{isOpen:this.state.isVisitSupportDataConsentModalOpen,onClose:this.toggleVisitSupportDataConsentModal}))}}n.default=g,f(g,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/pages/settings/info-tab/info-tab.component.js"}],[7918,{"./networks-form":7920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./networks-form"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/index.js"}],[7919,{"../../../../../shared/modules/conversion.utils":5887,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNetworkFormState=void 0;var a=e("react-compiler-runtime"),o=e("react"),r=e("../../../../../shared/modules/conversion.utils");n.useNetworkFormState=e=>{const t=(0,a.c)(13),[n,s]=(0,o.useState)(""),[i,l]=(0,o.useState)(""),[c,u]=(0,o.useState)("");let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={rpcEndpoints:[],defaultRpcEndpointIndex:undefined},t[0]=d):d=t[0];const[p,m]=(0,o.useState)(d);let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f={blockExplorerUrls:[],defaultBlockExplorerUrlIndex:undefined},t[1]=f):f=t[1];const[g,h]=(0,o.useState)(f);let y;t[2]!==e?(y=()=>{s((null==e?void 0:e.name)??""),l(e?(0,r.hexToDecimal)(e.chainId):""),u((null==e?void 0:e.nativeCurrency)??""),m({rpcEndpoints:(null==e?void 0:e.rpcEndpoints)??[],defaultRpcEndpointIndex:null==e?void 0:e.defaultRpcEndpointIndex}),h({blockExplorerUrls:(null==e?void 0:e.blockExplorerUrls)??[],defaultBlockExplorerUrlIndex:null==e?void 0:e.defaultBlockExplorerUrlIndex})},t[2]=e,t[3]=y):y=t[3];const v=null==e?void 0:e.chainId;let _,b,E;return t[4]!==v?(_=[v],t[4]=v,t[5]=_):_=t[5],(0,o.useEffect)(y,_),t[6]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{s(""),l(""),u(""),m({rpcEndpoints:[],defaultRpcEndpointIndex:undefined}),h({blockExplorerUrls:[],defaultBlockExplorerUrlIndex:undefined})},t[6]=b):b=t[6],t[7]!==g||t[8]!==i||t[9]!==n||t[10]!==p||t[11]!==c?(E={name:n,setName:s,chainId:i,setChainId:l,ticker:c,setTicker:u,rpcUrls:p,setRpcUrls:m,blockExplorers:g,setBlockExplorers:h,clear:b},t[7]=g,t[8]=i,t[9]=n,t[10]=p,t[11]=c,t[12]=E):E=t[12],E}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/networks-form-state.ts"}],[7920,{"../../../../../shared/constants/metametrics":5768,"../../../../../shared/constants/network":5772,"../../../../../shared/lib/network-utils":5863,"../../../../../shared/lib/only-keep-host":5864,"../../../../../shared/modules/conversion.utils":5887,"../../../../../shared/modules/network.utils":5900,"../../../../../shared/modules/rpc.utils":5903,"../../../../../shared/modules/selectors/networks":5908,"../../../../components/component-library":6486,"../../../../components/multichain/dropdown-editor/dropdown-editor":6704,"../../../../components/multichain/network-list-menu/rpc-list-item":6749,"../../../../contexts/metametrics":7005,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../../../selectors":8035,"../../../../store/actions":8065,"./use-safe-chains":7921,"@metamask/controller-utils":1384,"@metamask/network-controller":2299,"@metamask/utils":3070,loglevel:4802,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.NetworksForm=void 0;var a,o=(a=e("loglevel"))&&a.__esModule?a:{default:a},r=I(e("react")),s=e("react-redux"),i=e("@metamask/network-controller"),l=e("@metamask/utils"),c=e("@metamask/controller-utils"),u=e("../../../../../shared/constants/metametrics"),d=e("../../../../../shared/constants/network"),p=e("../../../../../shared/modules/conversion.utils"),m=e("../../../../../shared/modules/network.utils"),f=e("../../../../../shared/modules/rpc.utils"),g=e("../../../../../shared/lib/network-utils"),h=e("../../../../contexts/metametrics"),y=e("../../../../hooks/useI18nContext"),v=e("../../../../../shared/modules/selectors/networks"),_=e("../../../../store/actions"),b=e("../../../../components/component-library"),E=e("../../../../helpers/constants/design-system"),x=I(e("../../../../components/multichain/network-list-menu/rpc-list-item")),k=e("../../../../components/multichain/dropdown-editor/dropdown-editor"),T=e("../../../../selectors"),S=e("../../../../../shared/lib/only-keep-host"),w=e("./use-safe-chains");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const O=({networkFormState:e,existingNetwork:t,trackRpcUpdateFromBanner:n,onRpcAdd:a,onBlockExplorerAdd:C,toggleNetworkMenuAfterSubmit:I=!0,onComplete:O,onEdit:R})=>{var A,P,M,B,D,L,F,j;const U=(0,y.useI18nContext)(),W=(0,s.useDispatch)(),z=(0,r.useContext)(h.MetaMetricsContext),$=(0,r.useRef)(null),V=(0,s.useSelector)(v.getNetworkConfigurationsByChainId),q=(0,s.useSelector)(T.getIsRpcFailoverEnabled),{name:G,setName:H,chainId:J,setChainId:K,ticker:Y,setTicker:X,rpcUrls:Q,setRpcUrls:Z,blockExplorers:ee,setBlockExplorers:te}=e,ne=Q.defaultRpcEndpointIndex===undefined?undefined:Q.rpcEndpoints[Q.defaultRpcEndpointIndex],{safeChains:ae}=(0,w.useSafeChains)(),[oe,re]=(0,r.useState)({}),[se,ie]=(0,r.useState)({}),[le,ce]=(0,r.useState)(),[ue,de]=(0,r.useState)(),[pe,me]=(0,r.useState)(),fe=(0,s.useSelector)(T.getTokenNetworkFilter);(0,r.useEffect)(()=>{var e,t;const n=J?N(J):undefined,a=n?d.NETWORK_TO_NAME_MAP[n]??(null===(e=c.NETWORKS_BYPASSING_VALIDATION[n])||void 0===e?void 0:e.name)??(null==ae||null===(t=ae.find(e=>N(e.chainId)===n))||void 0===t?void 0:t.name):undefined,o=a&&a!==G;ce(o?a:undefined),ie(e=>({...e,name:o?{key:"wrongNetworkName",msg:U("wrongNetworkName")}:undefined}))},[J,G,ae]),(0,r.useEffect)(()=>{var e,t;const n=J?N(J):undefined,a=n?d.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[n]??(null==ae||null===(e=ae.find(e=>N(e.chainId)===n))||void 0===e||null===(e=e.nativeCurrency)||void 0===e?void 0:e.symbol):undefined,o=!!n&&(null===(t=c.NETWORKS_BYPASSING_VALIDATION[n])||void 0===t||null===(t=t.symbol)||void 0===t?void 0:t.toLowerCase())===(null==Y?void 0:Y.toLowerCase()),r=a&&a!==Y&&!o;de(r?a:undefined),ie(e=>({...e,ticker:r?{key:"chainListReturnedDifferentTickerSymbol",msg:U("chainListReturnedDifferentTickerSymbol")}:undefined}))},[J,Y,ae]),(0,r.useEffect)(()=>{let e;J===undefined||""===J?e=undefined:J.startsWith("0x")?/^0x[0-9a-f]+$/iu.test(J)?(0,m.isPrefixedFormattedHexString)(J)||(e=["invalidHexNumber",U("invalidHexNumberLeadingZeros")]):e=["invalidHexNumber",U("invalidHexNumber")]:/^[0-9]+$/u.test(J)?J.startsWith("0")&&(e=["invalidNumberLeadingZeros",U("invalidNumberLeadingZeros")]):e=["invalidNumber",U("invalidNumber")],!J||e||(0,m.isSafeChainId)(parseInt(J,J.startsWith("0x")?16:10))||(e=["invalidChainIdTooBig",U("invalidChainIdTooBig")]);const n=N(J);if(!e&&!t){const t=n?V[n]:undefined;t&&(e=["existingChainId",U("chainIdExistsErrorMsg",[t.name])])}let a;pe&&n&&pe!==n&&(a=["endpointReturnedDifferentChainId",U("endpointReturnedDifferentChainId",[(0,p.hexToDecimal)(pe)])]),re(t=>({...t,chainId:e?{key:e[0],msg:e[1]}:undefined,rpcUrl:a?{key:a[0],msg:a[1]}:undefined}))},[J,pe,null==t?void 0:t.chainId]),(0,r.useEffect)(()=>{var e;const t=null==Q||null===(e=Q.rpcEndpoints)||void 0===e||null===(e=e[(null==Q?void 0:Q.defaultRpcEndpointIndex)??-1])||void 0===e?void 0:e.url;var n;t&&(0,f.jsonRpcRequest)((n=t,n.endsWith("{infuraProjectId}")?n.replace("{infuraProjectId}",d.infuraProjectId??""):n),"eth_chainId").then(e=>{me(e)}).catch(e=>{me(undefined),o.default.warn("Failed to fetch the chainId from the endpoint.",e),re(e=>({...e,rpcUrl:{key:"failedToFetchChainId",msg:U("failedToFetchChainId")}}))})},[J,Q]);return r.default.createElement(b.Box,{height:E.BlockSize.Full,display:E.Display.Flex,justifyContent:E.JustifyContent.spaceBetween,flexDirection:E.FlexDirection.Column,alignItems:E.AlignItems.center,ref:$,className:"networks-tab__scrollable"},r.default.createElement(b.Box,{width:E.BlockSize.Full,paddingLeft:4,paddingRight:4,paddingBottom:2},r.default.createElement(b.FormTextField,{id:"networkName",size:b.FormTextFieldSize.Lg,placeholder:U("enterNetworkName"),"data-testid":"network-form-name-input",autoFocus:!0,helpText:(G&&(null==se||null===(A=se.name)||void 0===A?void 0:A.msg)||le)&&r.default.createElement(r.default.Fragment,null,G&&(null==se||null===(P=se.name)||void 0===P?void 0:P.msg)&&r.default.createElement(b.HelpText,{variant:E.TextVariant.bodySm,severity:b.HelpTextSeverity.Warning},se.name.msg),le&&r.default.createElement(b.Text,{as:"span",variant:E.TextVariant.bodySm,color:E.TextColor.textDefault,"data-testid":"network-form-name-suggestion"},U("suggestedTokenName"),r.default.createElement(b.ButtonLink,{as:"button",variant:E.TextVariant.bodySm,color:E.TextColor.primaryDefault,onClick:()=>{H(le)},paddingLeft:1,paddingRight:1,style:{verticalAlign:"baseline"}},le))),onChange:e=>{var t;H(null===(t=e.target)||void 0===t?void 0:t.value)},label:U("networkName"),labelProps:{children:undefined,variant:E.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:E.BorderRadius.LG},inputProps:{"data-testid":"network-form-network-name"},value:G}),r.default.createElement(k.DropdownEditor,{title:U("defaultRpcUrl"),placeholder:U("addAUrl"),style:k.DropdownEditorStyle.PopoverStyle,items:Q.rpcEndpoints,itemKey:e=>e.url,selectedItemIndex:Q.defaultRpcEndpointIndex,error:Boolean(oe.rpcUrl),buttonDataTestId:"test-add-rpc-drop-down",renderItem:(e,t)=>t||null!=e&&e.name||(null==e?void 0:e.type)===i.RpcEndpointType.Infura?r.default.createElement(x.default,{rpcEndpoint:e}):r.default.createElement(b.Text,{ellipsis:!0,variant:E.TextVariant.bodyMd,paddingTop:3,paddingBottom:3,display:E.Display.Flex,alignItems:E.AlignItems.center,gap:1},(0,x.stripProtocol)((0,x.stripKeyFromInfuraUrl)(e.url)),q&&e.failoverUrls&&e.failoverUrls.length>0?r.default.createElement(b.Tag,{label:U("failover"),display:E.Display.Inline}):null),renderTooltip:(e,t)=>{const n=(0,x.stripKeyFromInfuraUrl)(e.url);return n.length>(t?37:35)?n:undefined},addButtonText:U("addRpcUrl"),itemIsDeletable:e=>e.type!==i.RpcEndpointType.Infura,onItemAdd:a,onItemSelected:e=>Z(t=>({...t,defaultRpcEndpointIndex:e})),onItemDeleted:(e,t)=>{var n;Z({rpcEndpoints:null===(n=Q.rpcEndpoints)||void 0===n?void 0:n.slice(0,e).concat(Q.rpcEndpoints.slice(e+1)),defaultRpcEndpointIndex:t})}}),(null===(M=oe.rpcUrl)||void 0===M?void 0:M.msg)&&r.default.createElement(b.Box,null,r.default.createElement(b.HelpText,{variant:E.TextVariant.bodySm,severity:b.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},null===(B=oe.rpcUrl)||void 0===B?void 0:B.msg)),q&&ne&&ne.failoverUrls&&ne.failoverUrls.length>0?r.default.createElement(b.FormTextField,{id:"failoverRpcUrl",size:b.FormTextFieldSize.Lg,paddingTop:4,label:U("failoverRpcUrl"),labelProps:{children:undefined,variant:E.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:E.BorderRadius.LG},value:(0,S.onlyKeepHost)(ne.failoverUrls[0]),disabled:!0}):null,r.default.createElement(b.FormTextField,{id:"chainId",size:b.FormTextFieldSize.Lg,placeholder:U("enterChainId"),paddingTop:4,"data-testid":"network-form-chain-id-input",onChange:e=>{var t;K(null===(t=e.target)||void 0===t?void 0:t.value.trim())},error:Boolean(null==oe?void 0:oe.chainId),label:U("chainId"),labelProps:{children:undefined,variant:E.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:E.BorderRadius.LG},inputProps:{"data-testid":"network-form-chain-id"},value:J,disabled:Boolean(t)}),null!==(D=oe.chainId)&&void 0!==D&&D.msg?r.default.createElement(b.HelpText,{variant:E.TextVariant.bodySm,severity:b.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},oe.chainId.msg):null,"existingChainId"===(null===(L=oe.chainId)||void 0===L?void 0:L.key)?r.default.createElement(b.Box,null,r.default.createElement(b.HelpText,{variant:E.TextVariant.bodySm,severity:b.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},U("updateOrEditNetworkInformations")," ",r.default.createElement(b.ButtonLink,{as:"button",variant:E.TextVariant.bodySm,color:E.TextColor.primaryDefault,onClick:()=>{const e=N(J);e&&(W((0,_.setEditedNetwork)({chainId:e})),null==R||R())}},U("editNetworkLink")))):null,r.default.createElement(b.FormTextField,{id:"nativeCurrency",size:b.FormTextFieldSize.Lg,placeholder:U("enterSymbol"),paddingTop:4,"data-testid":"network-form-ticker",helpText:ue?r.default.createElement(b.Text,{as:"span",variant:E.TextVariant.bodySm,color:E.TextColor.textDefault,"data-testid":"network-form-ticker-suggestion"},U("suggestedCurrencySymbol"),r.default.createElement(b.ButtonLink,{as:"button",variant:E.TextVariant.bodySm,color:E.TextColor.primaryDefault,onClick:()=>{X(ue)},paddingLeft:1,paddingRight:1,style:{verticalAlign:"baseline"}},ue)):null,onChange:e=>{var t;X(null===(t=e.target)||void 0===t?void 0:t.value)},label:U("currencySymbol"),labelProps:{children:undefined,variant:E.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:E.BorderRadius.LG},inputProps:{"data-testid":"network-form-ticker-input"},value:Y}),Y&&null!==(F=se.ticker)&&void 0!==F&&F.msg?r.default.createElement(b.HelpText,{variant:E.TextVariant.bodySm,severity:b.HelpTextSeverity.Warning,"data-testid":"network-form-ticker-warning"},se.ticker.msg):null,r.default.createElement(k.DropdownEditor,{title:U("blockExplorerUrl"),placeholder:U("addAUrl"),style:k.DropdownEditorStyle.BoxStyle,items:ee.blockExplorerUrls,itemKey:e=>`${e}`,selectedItemIndex:ee.defaultBlockExplorerUrlIndex,addButtonText:U("addBlockExplorerUrl"),onItemAdd:C,buttonDataTestId:"test-explorer-drop-down",onItemSelected:e=>te(t=>({...t,defaultBlockExplorerUrlIndex:e})),onItemDeleted:(e,t)=>{var n;te({blockExplorerUrls:null===(n=ee.blockExplorerUrls)||void 0===n?void 0:n.slice(0,e).concat(ee.blockExplorerUrls.slice(e+1)),defaultBlockExplorerUrlIndex:t})},onDropdownOpened:()=>{$.current&&($.current.scrollTop=$.current.scrollHeight)},renderItem:e=>r.default.createElement(b.Text,{as:"button",paddingLeft:0,paddingRight:0,paddingTop:3,paddingBottom:3,color:E.TextColor.textDefault,variant:E.TextVariant.bodyMd,backgroundColor:E.BackgroundColor.transparent,ellipsis:!0},(0,x.stripProtocol)(e)),renderTooltip:e=>e.length>36?e:undefined})),r.default.createElement(b.Box,{className:"networks-tab__network-form__footer",backgroundColor:E.BackgroundColor.backgroundDefault,padding:4,width:E.BlockSize.Full},r.default.createElement(b.ButtonPrimary,{disabled:!G||!J||!Y||!(null!=Q&&null!==(j=Q.rpcEndpoints)&&void 0!==j&&j.length)||Object.values(oe).some(e=>e),onClick:async()=>{try{const r=J?N(J):undefined;if(r===d.CHAIN_IDS.GOERLI)W((0,_.showDeprecatedNetworkModal)());else if(r){var e,a;const s={chainId:r,name:G,nativeCurrency:Y,rpcEndpoints:null==Q?void 0:Q.rpcEndpoints,defaultRpcEndpointIndex:(null==Q?void 0:Q.defaultRpcEndpointIndex)??0,blockExplorerUrls:null==ee?void 0:ee.blockExplorerUrls,defaultBlockExplorerUrlIndex:null==ee?void 0:ee.defaultBlockExplorerUrlIndex};if(t){const e={replacementSelectedRpcEndpointIndex:r===t.chainId?null==Q?void 0:Q.defaultRpcEndpointIndex:undefined};if(await W((0,_.updateNetwork)(s,e)),1===Object.keys(fe).length&&(await W((0,_.setTokenNetworkFilter)({[t.chainId]:!0})),await W((0,_.setEnabledNetworks)(t.chainId))),n){var o;const e=s.rpcEndpoints[s.defaultRpcEndpointIndex],n=null===(o=t.rpcEndpoints)||void 0===o?void 0:o[t.defaultRpcEndpointIndex??0],a=(0,l.hexToNumber)(r),i=e=>(0,g.isPublicEndpointUrl)(e,d.infuraProjectId??"")?(0,S.onlyKeepHost)(e):"custom";z({category:u.MetaMetricsEventCategory.Network,event:u.MetaMetricsEventName.NetworkConnectionBannerRpcUpdated,properties:{chain_id_caip:`eip155:${a}`,from_rpc_domain:null!=n&&n.url?i(n.url):"unknown",to_rpc_domain:i(e.url)}})}}else await W((0,_.addNetwork)(s)),await W((0,_.setEnabledNetworks)(s.chainId));z({event:u.MetaMetricsEventName.CustomNetworkAdded,category:u.MetaMetricsEventCategory.Network,properties:{block_explorer_url:null==ee||null===(e=ee.blockExplorerUrls)||void 0===e?void 0:e[(null==ee?void 0:ee.defaultBlockExplorerUrlIndex)??-1],chain_id:r,network_name:G,source_connection_method:u.MetaMetricsNetworkEventSource.CustomNetworkForm,token_symbol:Y},sensitiveProperties:{rpcUrl:(0,w.rpcIdentifierUtility)(null==Q||null===(a=Q.rpcEndpoints[Q.defaultRpcEndpointIndex??-1])||void 0===a?void 0:a.url,ae??[])}}),W((0,_.setEditedNetwork)({chainId:r,nickname:G,editCompleted:!0,newNetwork:!t}))}}catch(e){console.error(e)}finally{I&&W((0,_.toggleNetworkMenu)()),null==O||O()}},size:b.ButtonPrimarySize.Lg,width:E.BlockSize.Full},U("save"))))};function N(e){return(0,l.isStrictHexString)(e)?e:/^\d+$/u.test(e)?`0x${(0,p.decimalToHex)(e)}`:undefined}n.NetworksForm=O;n.default=O}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/networks-form.tsx"}],[7921,{"../../../../../shared/constants/network":5772,"../../../../../shared/constants/time":5790,"../../../../../shared/lib/fetch-with-cache":5847,"../../../../../shared/modules/conversion.utils":5887,"../../../../selectors":8035,"@metamask/utils":3070,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeChains=n.rpcIdentifierUtility=n.getSafeNativeCurrencySymbol=void 0;var a,o=e("react-compiler-runtime"),r=e("react"),s=e("react-redux"),i=e("@metamask/utils"),l=e("../../../../selectors"),c=(a=e("../../../../../shared/lib/fetch-with-cache"))&&a.__esModule?a:{default:a},u=e("../../../../../shared/constants/network"),d=e("../../../../../shared/constants/time"),p=e("../../../../../shared/modules/conversion.utils");n.useSafeChains=()=>{const e=(0,o.c)(4),t=(0,s.useSelector)(l.getUseSafeChainsListValidation);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={safeChains:[]},e[0]=n):n=e[0];const[a,i]=(0,r.useState)(n);let p,m;return e[1]!==t?(p=()=>{let e=!0;return t&&(0,c.default)({url:u.CHAIN_SPEC_URL,functionName:"getSafeChainsList",allowStale:!0,cacheOptions:{cacheRefreshTime:d.DAY}}).then(t=>{e&&i({safeChains:t})}).catch(t=>{e&&i({error:t})}),()=>{e=!1}},m=[t],e[1]=t,e[2]=p,e[3]=m):(p=e[2],m=e[3]),(0,r.useEffect)(p,m),a};n.getSafeNativeCurrencySymbol=(e,t)=>{var n;if(!e||!t)return undefined;const a=(0,i.isStrictHexString)(t)&&parseInt((0,p.hexToDecimal)(t),10);return"number"!=typeof a?undefined:null===(n=e.find(e=>e.chainId===a.toString()))||void 0===n||null===(n=n.nativeCurrency)||void 0===n?void 0:n.symbol};n.rpcIdentifierUtility=(e,t)=>{const{host:n}=new URL(e);for(const e of t)for(const t of e.rpc)try{if(n===new URL(t).host)return n}catch{continue}return"Unknown rpcUrl"}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/use-safe-chains.ts"}],[7922,{"../../../../components/component-library":6486,"../../../../helpers/constants/design-system":7049,"../../../../helpers/constants/zendesk-url":7061,"../../../../hooks/useI18nContext":7200,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(41),{onConfirm:n,onCancel:c}=e,u=(0,r.useI18nContext)();let d,p;t[0]!==u?(d=u("learnMoreUpperCase"),t[0]=u,t[1]=d):d=t[1];t[2]!==d?(p=o.default.createElement("a",{key:"change-password__link-text",href:l.default.PASSWORD_RESET,target:"_blank",rel:"noopener noreferrer"},o.default.createElement("span",{className:"change-password__link-text"},d)),t[2]=d,t[3]=p):p=t[3];const m=p;let f,g,h,y,v,_,b,E,x,k,T,S,w,C,I,O;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=o.default.createElement(i.ModalOverlay,null),t[4]=f):f=t[4];t[5]===Symbol.for("react.memo_cache_sentinel")?(g=o.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.center},o.default.createElement(i.Icon,{name:i.IconName.Danger,size:i.IconSize.Xl,color:s.IconColor.warningDefault})),t[5]=g):g=t[5];t[6]!==u?(h=u("changePasswordWarning"),t[6]=u,t[7]=h):h=t[7];t[8]!==h?(y=o.default.createElement(i.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center,marginTop:4},h),t[8]=h,t[9]=y):y=t[9];t[10]!==u?(v=u("changePasswordWarningDescription"),t[10]=u,t[11]=v):v=t[11];t[12]!==m||t[13]!==v?(_=o.default.createElement(i.Text,{variant:s.TextVariant.bodySm,marginTop:4},v," ",m),t[12]=m,t[13]=v,t[14]=_):_=t[14];t[15]!==y||t[16]!==_?(b=o.default.createElement(i.ModalHeader,null,o.default.createElement(i.Box,null,g,y,_)),t[15]=y,t[16]=_,t[17]=b):b=t[17];t[18]!==c?(E=()=>c(),t[18]=c,t[19]=E):E=t[19];t[20]!==u?(x=u("cancel"),t[20]=u,t[21]=x):x=t[21];t[22]!==E||t[23]!==x?(k=o.default.createElement(i.Button,{variant:i.ButtonVariant.Secondary,"data-testid":"change-password-warning-cancel",size:i.ButtonSize.Lg,block:!0,onClick:E},x),t[22]=E,t[23]=x,t[24]=k):k=t[24];t[25]!==n?(T=()=>n(),t[25]=n,t[26]=T):T=t[26];t[27]!==u?(S=u("confirm"),t[27]=u,t[28]=S):S=t[28];t[29]!==T||t[30]!==S?(w=o.default.createElement(i.Button,{"data-testid":"change-password-warning-confirm",size:i.ButtonSize.Lg,block:!0,onClick:T},S),t[29]=T,t[30]=S,t[31]=w):w=t[31];t[32]!==k||t[33]!==w?(C=o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(i.Box,{display:s.Display.Flex,marginTop:2,gap:4},k,w)),t[32]=k,t[33]=w,t[34]=C):C=t[34];t[35]!==C||t[36]!==b?(I=o.default.createElement(i.ModalContent,{alignItems:s.AlignItems.center},b,C),t[35]=C,t[36]=b,t[37]=I):I=t[37];t[38]!==c||t[39]!==I?(O=o.default.createElement(i.Modal,{isOpen:!0,onClose:c,className:"change-password-warning-modal","data-testid":"change-password-warning-modal"},f,I),t[38]=c,t[39]=I,t[40]=O):O=t[40];return O};var a=e("react-compiler-runtime"),o=c(e("react")),r=e("../../../../hooks/useI18nContext"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library"),l=c(e("../../../../helpers/constants/zendesk-url"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/change-password-warning.tsx"}],[7923,{"../../../../../shared/constants/app-state":5752,"../../../../../shared/constants/metametrics":5768,"../../../../components/app/password-form/password-form":6175,"../../../../components/app/toast-master/utils":6376,"../../../../components/component-library":6486,"../../../../components/ui/mascot":6936,"../../../../components/ui/spinner":6967,"../../../../contexts/metametrics":7005,"../../../../helpers/constants/design-system":7049,"../../../../helpers/constants/routes":7054,"../../../../helpers/constants/zendesk-url":7061,"../../../../helpers/utils/build-types":7075,"../../../../hooks/useI18nContext":7200,"../../../../selectors":8035,"../../../../store/actions":8065,"./change-password-warning":7922,events:4338,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=T(e("events")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),s=e("react-router-dom-v5-compat"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/build-types"),u=T(e("../../../../components/ui/mascot")),d=T(e("../../../../components/ui/spinner")),p=e("../../../../hooks/useI18nContext"),m=e("../../../../store/actions"),f=T(e("../../../../components/app/password-form/password-form")),g=e("../../../../helpers/constants/routes"),h=e("../../../../components/app/toast-master/utils"),y=e("../../../../../shared/constants/app-state"),v=e("../../../../selectors"),_=T(e("../../../../helpers/constants/zendesk-url")),b=e("../../../../contexts/metametrics"),E=e("../../../../../shared/constants/metametrics"),x=T(e("./change-password-warning"));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function T(e){return e&&e.__esModule?e:{default:e}}const S=1,w=2,C=3;n.default=()=>{const e=(0,p.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,s.useNavigate)(),k=(0,o.useContext)(b.MetaMetricsContext),T=(0,r.useSelector)(v.getIsSocialLoginFlow),I=(0,o.useRef)(new a.default),[O,N]=(0,o.useState)(S),[R,A]=(0,o.useState)(""),[P,M]=(0,o.useState)(!1),[B,D]=(0,o.useState)(!1),[L,F]=(0,o.useState)(""),[j,U]=(0,o.useState)(!1),W=async()=>{try{U(!1),N(C),await t((0,m.changePassword)(L,R)),k({category:E.MetaMetricsEventCategory.Settings,event:E.MetaMetricsEventName.PasswordChanged,properties:{biometrics_enabled:!1}}),n(g.SECURITY_ROUTE),t((0,h.setShowPasswordChangeToast)(y.PasswordChangeToastType.Success))}catch(e){console.error(e),N(w),t((0,h.setShowPasswordChangeToast)(y.PasswordChangeToastType.Errored))}},z=o.default.createElement("a",{onClick:e=>{e.stopPropagation(),k({category:E.MetaMetricsEventCategory.Onboarding,event:E.MetaMetricsEventName.ExternalLinkClicked,properties:{text:"Learn More",location:"change_password",url:_.default.PASSWORD_ARTICLE}})},key:"change-password__link-text",href:_.default.PASSWORD_ARTICLE,target:"_blank",rel:"noopener noreferrer"},o.default.createElement("span",{className:"change-password__link-text"},e("learnMoreUpperCaseWithDot")));return(0,o.useEffect)(()=>{(async()=>{T&&await t((0,m.checkIsSeedlessPasswordOutdated)())})()},[t,T]),o.default.createElement(i.Box,{padding:4,className:"change-password"},O===S&&o.default.createElement(i.Box,{as:"form",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:6,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,onSubmit:e=>{e.preventDefault(),(async()=>{try{await(0,m.verifyPassword)(R),M(!1),N(w)}catch(e){M(!0)}})()}},o.default.createElement(i.FormTextField,{id:"current-password",label:e("enterPasswordCurrent"),textFieldProps:{type:i.TextFieldType.Password},size:i.FormTextFieldSize.Lg,labelProps:{marginBottom:1},inputProps:{autoFocus:!0,"data-testid":"verify-current-password-input"},value:R,error:P,helpText:P?e("unlockPageIncorrectPassword"):null,onChange:e=>{A(e.target.value),M(!1)}}),o.default.createElement(i.Button,{type:"submit",block:!0,size:i.ButtonSize.Lg,disabled:P||!R,"data-testid":"verify-current-password-button"},e("continue"))),O===w&&o.default.createElement(i.Box,{as:"form",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:6,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,onSubmit:e=>{e.preventDefault(),T?U(!0):W()}},o.default.createElement(i.Box,null,o.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:4,as:"h2"},e(T?"createPasswordDetailsSocial":"createPasswordDetails")),o.default.createElement(f.default,{onChange:e=>F(e),pwdInputTestId:"change-password-input",confirmPwdInputTestId:"change-password-confirm-input"}),o.default.createElement(i.Box,{className:"create-password__terms-container",alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,marginTop:6},o.default.createElement(i.Checkbox,{inputProps:{"data-testid":"change-password-terms"},alignItems:l.AlignItems.flexStart,isChecked:B,onChange:()=>{D(!B)},label:o.default.createElement(o.default.Fragment,null,e(T?"passwordTermsWarningSocial":"passwordTermsWarning"),"",z)}))),o.default.createElement(i.Button,{type:"submit",disabled:!R||!L||!B,"data-testid":"change-password-button",block:!0},e("save"))),O===C&&o.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,marginTop:12},o.default.createElement("div",null,(0,c.isFlask)()||(0,c.isBeta)()?o.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"100",height:"100"}):o.default.createElement(u.default,{animationEventEmitter:I.current,width:"100",height:"100"})),o.default.createElement(d.default,{className:"change-password__spinner"}),o.default.createElement(i.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},e("changePasswordLoading")),o.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},e("changePasswordLoadingNote"))),j&&o.default.createElement(x.default,{onConfirm:()=>{W()},onCancel:()=>U(!1)}))}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/change-password.tsx"}],[7924,{"./change-password":7923},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./change-password"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/index.ts"}],[7925,{"../../../../../shared/constants/metametrics":5768,"../../../../../shared/lib/ui-utils":5880,"../../../../components/app/clear-metametrics-data":6023,"../../../../components/app/data-deletion-error-modal":6069,"../../../../components/component-library":6486,"../../../../ducks/app/app":7018,"../../../../helpers/constants/design-system":7049,"../../../../helpers/utils/util":7109,"../../../../hooks/useI18nContext":7200,"../../../../selectors":8035,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=h(e("react")),r=e("react-redux"),s=e("../../../../../shared/lib/ui-utils"),i=h(e("../../../../components/app/clear-metametrics-data")),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../selectors"),p=e("../../../../ducks/app/app"),m=h(e("../../../../components/app/data-deletion-error-modal")),f=e("../../../../helpers/utils/util"),g=e("../../../../../shared/constants/metametrics");function h(e){return e&&e.__esModule?e:{default:e}}const y=o.default.forwardRef((e,t)=>{const n=(0,a.c)(47),{defaultPrivacySettings:h}=e,y=(0,u.useI18nContext)(),v=(0,r.useDispatch)(),_=(0,r.useSelector)(d.getMetaMetricsId),b=(0,r.useSelector)(d.getMetaMetricsDataDeletionStatus),E=(0,r.useSelector)(d.getMetaMetricsDataDeletionTimestamp),x=(0,f.formatDate)(E,"d/MM/y"),k=(0,r.useSelector)(d.getShowDeleteMetaMetricsDataModal),T=(0,r.useSelector)(d.getShowDataDeletionErrorModal),S=(0,r.useSelector)(d.getLatestMetricsEventTimestamp);let w,C,I=!(0,r.useSelector)(d.getParticipateInMetaMetrics);if(!I&&b){let e;n[0]!==S||n[1]!==b||n[2]!==E?(e=[g.DeleteRegulationStatus.Initialized,g.DeleteRegulationStatus.Running,g.DeleteRegulationStatus.Finished].includes(b)&&E>S,n[0]=S,n[1]=b,n[2]=E,n[3]=e):e=n[3],I=e}n[4]!==y?(w=y("privacyMsg"),n[4]=y,n[5]=w):w=n[5],n[6]!==w?(C=o.default.createElement("a",{href:s.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"metametrics-consensys-privacy-link"},w),n[6]=w,n[7]=C):C=n[7];const O=C,N=l.Box,R=c.Display,A=c.FlexDirection;let P,M;n[8]!==y?(P=y("deleteMetaMetricsData"),n[8]=y,n[9]=P):P=n[9],n[10]!==P?(M=o.default.createElement("span",null,P),n[10]=P,n[11]=M):M=n[11];const B=I&&Boolean(_)?y("deleteMetaMetricsDataRequestedDescription",[x,O]):y("deleteMetaMetricsDataDescription",[O]);let D,L;n[12]!==B?(D=o.default.createElement("div",{className:"settings-page__content-description"},B),n[12]=B,n[13]=D):D=n[13],n[14]!==D||n[15]!==M?(L=o.default.createElement("div",{className:"settings-page__content-item"},M,D),n[14]=D,n[15]=M,n[16]=L):L=n[16];const F="settings-page__content-item-col "+(h?"settings-page__button-defaut-settings":"");let j,U;n[17]!==_||n[18]!==y?(j=Boolean(!_)&&o.default.createElement(l.Box,{display:c.Display.InlineFlex},o.default.createElement(l.Icon,{name:l.IconName.Info,size:l.IconSize.Sm}),o.default.createElement(l.Text,{variant:c.TextVariant.bodyXs,marginLeft:1,marginBottom:2},y("metaMetricsIdNotAvailableError"))),n[17]=_,n[18]=y,n[19]=j):j=n[19],n[20]!==v?(U=()=>{v((0,p.openDeleteMetaMetricsDataModal)())},n[20]=v,n[21]=U):U=n[21];const W=I;let z,$,V,q,G,H,J;return n[22]!==y?(z=y("deleteMetaMetricsData"),n[22]=y,n[23]=z):z=n[23],n[24]!==I||n[25]!==U||n[26]!==z?($=o.default.createElement(l.ButtonPrimary,{"data-testid":"delete-metametrics-data-button",className:"settings-page__button",width:c.BlockSize.Full,onClick:U,disabled:W},z),n[24]=I,n[25]=U,n[26]=z,n[27]=$):$=n[27],n[28]!==F||n[29]!==j||n[30]!==$?(V=o.default.createElement("div",{className:F},j,$),n[28]=F,n[29]=j,n[30]=$,n[31]=V):V=n[31],n[32]!==N||n[33]!==t||n[34]!==L||n[35]!==V||n[36]!==R.Flex||n[37]!==A.Column?(q=o.default.createElement(N,{ref:t,className:"settings-page__content-row",display:R.Flex,flexDirection:A.Column,gap:4},L,V),n[32]=N,n[33]=t,n[34]=L,n[35]=V,n[36]=R.Flex,n[37]=A.Column,n[38]=q):q=n[38],n[39]!==k?(G=k&&o.default.createElement(i.default,null),n[39]=k,n[40]=G):G=n[40],n[41]!==T?(H=T&&o.default.createElement(m.default,null),n[41]=T,n[42]=H):H=n[42],n[43]!==q||n[44]!==G||n[45]!==H?(J=o.default.createElement(o.default.Fragment,null,q,G,H),n[43]=q,n[44]=G,n[45]=H,n[46]=J):J=n[46],J});n.default=y}}},{package:"$root$",file:"ui/pages/settings/security-tab/delete-metametrics-data-button/delete-metametrics-data-button.tsx"}],[7926,{"./delete-metametrics-data-button":7925},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./delete-metametrics-data-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/security-tab/delete-metametrics-data-button/index.ts"}],[7927,{"./security-tab.container":7933},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./security-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/security-tab/index.js"}],[7928,{"./metametrics-toggle":7929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./metametrics-toggle"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/security-tab/metametrics-toggle/index.ts"}],[7929,{"../../../../../shared/constants/metametrics":5768,"../../../../components/component-library":6486,"../../../../components/ui/toggle-button":6981,"../../../../contexts/metametrics":7005,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../../../hooks/useMetametrics":7203,"../../../../selectors":8035,"../../../../selectors/identity/backup-and-sync":8034,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("../../../../hooks/useI18nContext"),l=e("../../../../contexts/metametrics"),c=e("../../../../hooks/useMetametrics"),u=e("../../../../selectors/identity/backup-and-sync"),d=e("../../../../../shared/constants/metametrics"),p=e("../../../../components/component-library"),m=(a=e("../../../../components/ui/toggle-button"))&&a.__esModule?a:{default:a},f=e("../../../../helpers/constants/design-system"),g=e("../../../../selectors");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=e=>{const t=(0,o.c)(41),{dataCollectionForMarketing:n,setDataCollectionForMarketing:a,fromDefaultSettings:h}=e,y=h!==undefined&&h,v=(0,i.useI18nContext)(),_=(0,r.useContext)(l.MetaMetricsContext),{enableMetametrics:b,error:E}=(0,c.useEnableMetametrics)(),{disableMetametrics:x,error:k}=(0,c.useDisableMetametrics)(),T=E||k,S=(0,s.useSelector)(u.selectIsBackupAndSyncEnabled),w=(0,s.useSelector)(g.getParticipateInMetaMetrics),C=(0,s.useSelector)(g.getUseExternalServices);let I;t[0]!==n||t[1]!==x||t[2]!==b||t[3]!==y||t[4]!==S||t[5]!==w||t[6]!==a||t[7]!==_?(I=async e=>{e?(await b(),_({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.TurnOnMetaMetrics,properties:{isProfileSyncingEnabled:S,participateInMetaMetrics:w,location:y?"Default Settings":"Settings"}})):(n&&await a(!1),await x(),_({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.TurnOffMetaMetrics,properties:{isProfileSyncingEnabled:S,participateInMetaMetrics:w}}),_({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!1,has_marketing_consent:!1,location:"Settings"}}))},t[0]=n,t[1]=x,t[2]=b,t[3]=y,t[4]=S,t[5]=w,t[6]=a,t[7]=_,t[8]=I):I=t[8];const O=I;let N,R,A,P,M;t[9]!==v?(N=v("participateInMetaMetrics"),t[9]=v,t[10]=N):N=t[10],t[11]!==N?(R=r.default.createElement("span",null,N),t[11]=N,t[12]=R):R=t[12],t[13]!==v?(A=v("participateInMetaMetricsDescription"),t[13]=v,t[14]=A):A=t[14],t[15]!==A?(P=r.default.createElement("div",{className:"settings-page__content-description"},A),t[15]=A,t[16]=P):P=t[16],t[17]!==R||t[18]!==P?(M=r.default.createElement("div",{className:"settings-page__content-item"},R,P),t[17]=R,t[18]=P,t[19]=M):M=t[19];const B=!C;let D,L,F,j,U,W,z;return t[20]!==O?(D=e=>O(!e),t[20]=O,t[21]=D):D=t[21],t[22]!==v?(L=v("off"),t[22]=v,t[23]=L):L=t[23],t[24]!==v?(F=v("on"),t[24]=v,t[25]=F):F=t[25],t[26]!==w||t[27]!==L||t[28]!==F||t[29]!==B||t[30]!==D?(j=r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"participate-in-meta-metrics-toggle"},r.default.createElement(m.default,{value:w,disabled:B,onToggle:D,offLabel:L,onLabel:F})),t[26]=w,t[27]=L,t[28]=F,t[29]=B,t[30]=D,t[31]=j):j=t[31],t[32]!==j||t[33]!==M?(U=r.default.createElement(p.Box,{className:"settings-page__content-row",display:f.Display.Flex,flexDirection:f.FlexDirection.Row,justifyContent:f.JustifyContent.spaceBetween,gap:4,"data-testid":"participate-in-meta-metrics-container"},M,j),t[32]=j,t[33]=M,t[34]=U):U=t[34],t[35]!==T||t[36]!==v?(W=T&&r.default.createElement(p.Box,{paddingBottom:4},r.default.createElement(p.Text,{as:"p",color:f.TextColor.errorDefault,variant:f.TextVariant.bodySm},v("notificationsSettingsBoxError"))),t[35]=T,t[36]=v,t[37]=W):W=t[37],t[38]!==U||t[39]!==W?(z=r.default.createElement(p.Box,null,U,W),t[38]=U,t[39]=W,t[40]=z):z=t[40],z}}}},{package:"$root$",file:"ui/pages/settings/security-tab/metametrics-toggle/metametrics-toggle.tsx"}],[7930,{"./reveal-srp-list":7931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RevealSrpList",{enumerable:!0,get:function(){return a.RevealSrpList}});var a=e("./reveal-srp-list")}}},{package:"$root$",file:"ui/pages/settings/security-tab/reveal-srp-list/index.ts"}],[7931,{"../../../../components/app/srp-quiz-modal/SRPQuiz":6367,"../../../../components/component-library":6486,"../../../../components/multichain/multi-srp/srp-list/srp-list":6735,"../../../../components/ui/card":6881,"../../../../helpers/constants/design-system":7049,"../../../../helpers/constants/routes":7054,"../../../../hooks/social-sync/useSyncSRPs":7171,"../../../../hooks/useI18nContext":7200,"../../../../selectors":8035,"@metamask/seedless-onboarding-controller":2614,lodash:4794,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RevealSrpList=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom-v5-compat"),s=e("react-redux"),i=e("@metamask/seedless-onboarding-controller"),l=e("lodash"),c=e("../../../../components/component-library"),u=v(e("../../../../components/app/srp-quiz-modal/SRPQuiz")),d=e("../../../../components/multichain/multi-srp/srp-list/srp-list"),p=e("../../../../helpers/constants/design-system"),m=e("../../../../hooks/useI18nContext"),f=e("../../../../helpers/constants/routes"),g=e("../../../../selectors"),h=v(e("../../../../components/ui/card")),y=e("../../../../hooks/social-sync/useSyncSRPs");function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function b(e){const[t,n]=e.split("@"),a=t.slice(0,1);return`${`${a}${"*".repeat(t.length-a.length)}`}@${n}`}n.RevealSrpList=()=>{const e=(0,a.c)(24),t=(0,m.useI18nContext)(),n=(0,r.useNavigate)(),[v,_]=(0,o.useState)(!1),[E,x]=(0,o.useState)(""),k=(0,s.useSelector)(g.getIsSocialLoginFlow),T=(0,s.useSelector)(g.getSocialLoginType),S=(0,s.useSelector)(g.getSocialLoginEmail);let w;(0,y.useSyncSRPs)(),e[0]!==n?(w=(e,t)=>{if(t){const e=`${f.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true&isFromSettingsSecurity=true`;n(e)}else x(e),_(!0)},e[0]=n,e[1]=w):w=e[1];const C=w,I=b;let O,N,R,A,P,M,B;return e[2]!==k||e[3]!==S||e[4]!==T||e[5]!==t?(O=k&&o.default.createElement(c.Box,{paddingTop:4,paddingLeft:4,paddingRight:4},o.default.createElement(c.Text,{marginBottom:2,variant:p.TextVariant.bodyMd,color:p.TextColor.textAlternative,textTransform:p.TextTransform.Uppercase},t("securitySocialLoginLabel",[T])),o.default.createElement(h.default,{className:"srp-reveal-list__social-login-card",backgroundColor:p.BackgroundColor.backgroundMuted,border:!1},o.default.createElement(c.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Row,alignItems:p.AlignItems.center,gap:3},o.default.createElement(c.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center,gap:2},T===i.AuthConnection.Apple?o.default.createElement(c.Icon,{name:c.IconName.Apple,color:p.IconColor.iconDefault,size:c.IconSize.Lg}):o.default.createElement("img",{src:"images/icons/google.svg",className:"srp-reveal-list__social-icon",alt:"Google icon"})),o.default.createElement(c.Box,{flexDirection:p.FlexDirection.Column},o.default.createElement(c.Text,{fontWeight:p.FontWeight.Medium},t("securitySocialLoginEnabled")),S&&o.default.createElement(c.Text,{variant:p.TextVariant.bodySm,color:p.TextColor.textAlternative},I(S))))),o.default.createElement(c.Text,{marginTop:1,variant:p.TextVariant.bodySm,color:p.TextColor.textAlternative},t("securitySocialLoginEnabledDescription",[(0,l.capitalize)(T)])),o.default.createElement(c.Box,{width:p.BlockSize.Full,className:"srp-reveal-list__divider",marginTop:4})),e[2]=k,e[3]=S,e[4]=T,e[5]=t,e[6]=O):O=e[6],e[7]!==t?(N=t("securitySrpLabel"),e[7]=t,e[8]=N):N=e[8],e[9]!==N?(R=o.default.createElement(c.Text,{marginBottom:2,variant:p.TextVariant.bodyMd,color:p.TextColor.textAlternative,textTransform:p.TextTransform.Uppercase},N),e[9]=N,e[10]=R):R=e[10],e[11]!==C?(A=o.default.createElement(d.SrpList,{onActionComplete:C,hideShowAccounts:!1,isSettingsPage:!0}),e[11]=C,e[12]=A):A=e[12],e[13]!==R||e[14]!==A?(P=o.default.createElement(c.Box,{paddingTop:4,paddingLeft:4,paddingRight:4,paddingBottom:0,className:"srp-reveal-list__srp-list"},R,A),e[13]=R,e[14]=A,e[15]=P):P=e[15],e[16]!==n||e[17]!==E||e[18]!==v?(M=v&&E&&o.default.createElement(u.default,{keyringId:E,isOpen:v,onClose:()=>_(!1),navigate:n}),e[16]=n,e[17]=E,e[18]=v,e[19]=M):M=e[19],e[20]!==O||e[21]!==P||e[22]!==M?(B=o.default.createElement(c.Box,{className:"srp-reveal-list"},O,P,M),e[20]=O,e[21]=P,e[22]=M,e[23]=B):B=e[23],B}}}},{package:"$root$",file:"ui/pages/settings/security-tab/reveal-srp-list/reveal-srp-list.tsx"}]],[],{});