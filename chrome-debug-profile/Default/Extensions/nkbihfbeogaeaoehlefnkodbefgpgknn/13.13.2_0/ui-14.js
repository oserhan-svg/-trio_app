LavaPack.loadBundle([[7578,{"../../../../components/app/alert-system/contexts/alertActionHandler":5933,"../../../../components/app/alert-system/contexts/alertMetricsContext":5934,"../../../../components/app/alert-system/multiple-alert-modal":5938,"../../../../hooks/useAlerts":7179,"../../../../selectors":8035,"./useAlertsActions":7579,"./useTemplateConfirmationAlerts":7580,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTemplateAlertContext=n.TemplateAlertContextProvider=n.TemplateAlertContext=void 0;var s,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}(e("react")),o=e("react-redux"),a=(s=e("../../../../hooks/useAlerts"))&&s.__esModule?s:{default:s},i=e("../../../../components/app/alert-system/contexts/alertActionHandler"),c=e("../../../../components/app/alert-system/contexts/alertMetricsContext"),l=e("../../../../components/app/alert-system/multiple-alert-modal"),u=e("../../../../selectors"),d=e("./useTemplateConfirmationAlerts"),m=e("./useAlertsActions");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=()=>undefined,h=n.TemplateAlertContext=(0,r.createContext)(undefined);n.TemplateAlertContextProvider=({children:e,confirmationId:t,onSubmit:n})=>{const s=(0,o.useSelector)(u.getMemoizedUnapprovedConfirmations),p=(null==s?void 0:s.find(e=>e.id===t))??s[0],[g,v]=(0,r.useState)(!1),T=null==p?void 0:p.id;(0,d.useTemplateConfirmationAlerts)(p);const{hasAlerts:y}=(0,a.default)(T),S=(0,r.useCallback)(()=>{v(!0)},[v]),k=(0,r.useCallback)(()=>{v(!1)},[v]),A=(0,r.useCallback)(()=>{k(),n()},[k,n]),C=(0,m.useAlertsActions)(k,p);return r.default.createElement(c.AlertMetricsProvider,{metrics:{trackAlertActionClicked:f,trackAlertRender:f,trackInlineAlertClicked:f}},r.default.createElement(i.AlertActionHandlerProvider,{onProcessAction:C},r.default.createElement(h.Provider,{value:{hasAlerts:y,showAlertsModal:S}},r.default.createElement(r.default.Fragment,null,g&&r.default.createElement(l.MultipleAlertModal,{ownerId:T,onFinalAcknowledgeClick:A,onClose:k,showCloseIcon:!1,displayAllAlerts:!0}),e))))};n.useTemplateAlertContext=()=>{const e=(0,r.useContext)(h);if(!e)throw new Error("useTemplateAlertContext must be used within an TemplateAlertContextProvider");return e}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/alerts/TemplateAlertContext.tsx"}],[7579,{"../../../../components/app/confirm/info/row/constants":6026,"../../../../selectors":8035,"../../hooks/useConfirmationNavigation":7693,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAlertsActions=void 0;var s=e("react"),r=e("react-redux"),o=e("../../../../components/app/confirm/info/row/constants"),a=e("../../hooks/useConfirmationNavigation"),i=e("../../../../selectors");n.useAlertsActions=(e,t)=>{const n=(0,r.useSelector)(e=>(0,i.getApprovalsByOrigin)(e,null==t?void 0:t.origin)),{getIndex:c,navigateToIndex:l}=(0,a.useConfirmationNavigation)(),u=(0,s.useCallback)(()=>{var s;const{id:r}=t,o=null==n?void 0:n.filter(e=>e.id!==r),a=c(null===(s=o[0])||void 0===s?void 0:s.id);l(a),e()},[c,t,n,e,l]);return(0,s.useCallback)(e=>{if(e===o.AlertActionKey.ShowPendingConfirmation)u();else console.error("Unknown alert action key:",e)},[u])}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/alerts/useAlertsActions.tsx"}],[7580,{"../../../../ducks/confirm-alerts/confirm-alerts":7025,"./useUpdateEthereumChainAlerts":7581,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTemplateConfirmationAlerts=void 0;var s=e("react-redux"),r=e("react"),o=e("../../../../ducks/confirm-alerts/confirm-alerts"),a=e("./useUpdateEthereumChainAlerts");n.useTemplateConfirmationAlerts=e=>{const t=(0,s.useDispatch)(),n=(0,a.useUpdateEthereumChainAlerts)(e),i=(0,r.useMemo)(()=>n,[n]),c=null==e?void 0:e.id;(0,r.useEffect)(()=>{t((0,o.updateAlerts)(c,i))},[i,c,t]),(0,r.useEffect)(()=>()=>{t((0,o.clearAlerts)(c))},[c,t])}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/alerts/useTemplateConfirmationAlerts.ts"}],[7581,{"../../../../components/app/confirm/info/row/constants":6026,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../../../selectors":8035,"@metamask/controller-utils":1384,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUpdateEthereumChainAlerts=function(e){var t;const n=(0,o.useSelector)(t=>(0,c.getApprovalsByOrigin)(t,null==e?void 0:e.origin)),d=(0,l.useI18nContext)();return(0,r.useMemo)(()=>{var t;return(null==n?void 0:n.length)<=1||!u.includes(e.type)&&!0!==(null==e||null===(t=e.requestData)||void 0===t||null===(t=t.metadata)||void 0===t?void 0:t.isSwitchEthereumChain)?[]:[{actions:[{key:a.AlertActionKey.ShowPendingConfirmation,label:d("reviewPendingTransactions")}],key:"pendingConfirmationFromSameOrigin",message:d(e.type===s.ApprovalType.AddEthereumChain?"pendingConfirmationAddNetworkAlertMessage":"pendingConfirmationSwitchNetworkAlertMessage",[n.length-1]),reason:d("areYouSure"),severity:i.Severity.Warning}]},[null==e?void 0:e.type,null==e||null===(t=e.requestData)||void 0===t?void 0:t.metadata,null==n?void 0:n.length,d])};var s=e("@metamask/controller-utils"),r=e("react"),o=e("react-redux"),a=e("../../../../components/app/confirm/info/row/constants"),i=e("../../../../helpers/constants/design-system"),c=e("../../../../selectors"),l=e("../../../../hooks/useI18nContext");const u=[s.ApprovalType.AddEthereumChain,s.ApprovalType.SwitchEthereumChain]}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/alerts/useUpdateEthereumChainAlerts.ts"}],[7582,{"../../../../../components/component-library":6486,"../../alerts/TemplateAlertContext":7578,classnames:4071,"prop-types":5052,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var s=e("react-compiler-runtime"),r=l(e("react")),o=l(e("prop-types")),a=l(e("classnames")),i=e("../../../../../components/component-library"),c=e("../../alerts/TemplateAlertContext");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){const t=(0,s.c)(15),{onSubmit:n,onCancel:o,submitText:l,cancelText:u,alerts:d,loading:m,submitAlerts:p,actionsStyle:f,style:h}=e,{hasAlerts:g,showAlertsModal:v}=(0,c.useTemplateAlertContext)(),T=Boolean(o||n);let y,S;return t[0]!==f||t[1]!==u||t[2]!==g||t[3]!==m||t[4]!==o||t[5]!==n||t[6]!==T||t[7]!==v||t[8]!==l?(y=T&&r.default.createElement("div",{className:"confirmation-footer__actions",style:f},o?r.default.createElement(i.Button,{block:!0,"data-testid":"confirmation-cancel-button",variant:i.ButtonVariant.Secondary,onClick:o,size:i.ButtonSize.Lg},u):null,n&&l?r.default.createElement(i.Button,{block:!0,loading:Boolean(m),"data-testid":"confirmation-submit-button",disabled:Boolean(m),onClick:g?v:n,className:(0,a.default)({centered:!o}),startIconName:g?i.IconName.Info:undefined,size:i.ButtonSize.Lg},l):null),t[0]=f,t[1]=u,t[2]=g,t[3]=m,t[4]=o,t[5]=n,t[6]=T,t[7]=v,t[8]=l,t[9]=y):y=t[9],t[10]!==d||t[11]!==h||t[12]!==p||t[13]!==y?(S=r.default.createElement("div",{className:"confirmation-footer",style:h},d,p,y),t[10]=d,t[11]=h,t[12]=p,t[13]=y,t[14]=S):S=t[14],S}u.propTypes={alerts:o.default.node,onCancel:o.default.func,cancelText:o.default.string,onSubmit:o.default.func.isRequired,submitText:o.default.string.isRequired,loading:o.default.bool,submitAlerts:o.default.node,style:o.default.object,actionsStyle:o.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/components/confirmation-footer/confirmation-footer.js"}],[7583,{"./confirmation-footer":7582},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./confirmation-footer"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/components/confirmation-footer/index.js"}],[7584,{"../../../../../../shared/constants/network":5772,"../../../../../components/component-library":6486,"../../../../../helpers/constants/design-system":7049,"prop-types":5052,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var s=e("react-compiler-runtime"),r=l(e("react")),o=l(e("prop-types")),a=e("../../../../../components/component-library"),i=e("../../../../../helpers/constants/design-system"),c=e("../../../../../../shared/constants/network");function l(e){return e&&e.__esModule?e:{default:e}}const u=e=>({...e,name:e.name??c.NETWORK_TO_NAME_MAP[e.chainId],iconUrl:e.iconUrl??c.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId]});function d(e){const t=(0,s.c)(24),{toNetwork:n,fromNetwork:o}=e;let c;t[0]!==o?(c=u(o),t[0]=o,t[1]=c):c=t[1];const l=c;let d;t[2]!==n?(d=u(n),t[2]=n,t[3]=d):d=t[3];const m=d;let p,f,h,g,v,T,y,S;return t[4]!==l.iconUrl||t[5]!==l.name?(p=r.default.createElement(a.AvatarNetwork,{src:l.iconUrl,name:l.name,size:a.AvatarNetworkSize.Xl,marginBottom:2}),t[4]=l.iconUrl,t[5]=l.name,t[6]=p):p=t[6],t[7]!==l.name?(f=r.default.createElement(a.Text,{display:i.Display.Flex,justifyContent:i.JustifyContent.center,"data-testid":"network-switch-from-network"},l.name),t[7]=l.name,t[8]=f):f=t[8],t[9]!==p||t[10]!==f?(h=r.default.createElement(a.Box,{className:"confirmation-network-switch__icon",display:i.Display.Block},p,f),t[9]=p,t[10]=f,t[11]=h):h=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(g=r.default.createElement(a.Box,{className:"confirmation-network-switch__center-icon",display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},r.default.createElement("i",{className:"fa fa-angle-right fa-lg confirmation-network-switch__check"}),r.default.createElement("div",{className:"confirmation-network-switch__dashed-line"})),t[12]=g):g=t[12],t[13]!==m.iconUrl||t[14]!==m.name?(v=r.default.createElement(a.AvatarNetwork,{src:m.iconUrl,name:m.name,size:a.AvatarNetworkSize.Xl,marginBottom:2}),t[13]=m.iconUrl,t[14]=m.name,t[15]=v):v=t[15],t[16]!==m.name?(T=r.default.createElement(a.Text,{display:i.Display.Flex,justifyContent:i.JustifyContent.center,"data-testid":"network-switch-to-network"},m.name),t[16]=m.name,t[17]=T):T=t[17],t[18]!==v||t[19]!==T?(y=r.default.createElement(a.Box,{className:"confirmation-network-switch__icon",display:i.Display.Block},v,T),t[18]=v,t[19]=T,t[20]=y):y=t[20],t[21]!==h||t[22]!==y?(S=r.default.createElement(a.Box,{className:"confirmation-network-switch",display:i.Display.Flex,height:i.BlockSize.Full,justifyContent:i.JustifyContent.center,marginTop:8},h,g,y),t[21]=h,t[22]=y,t[23]=S):S=t[23],S}d.propTypes={toNetwork:o.default.shape({chainId:o.default.string.isRequired,name:o.default.string.isRequired}),fromNetwork:o.default.shape({chainId:o.default.string.isRequired,name:o.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/components/confirmation-network-switch/confirmation-network-switch.js"}],[7585,{"./confirmation-network-switch":7584},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./confirmation-network-switch"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/components/confirmation-network-switch/index.js"}],[7586,{"../../../../shared/constants/app":5753,"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/network":5772,"../../../../shared/constants/time":5790,"../../../../shared/lib/fetch-with-cache":5847,"../../../../shared/modules/selectors/networks":5908,"../../../components/app/metamask-template-renderer":6091,"../../../components/app/snaps/snap-authorship-header":6237,"../../../components/app/snaps/snap-ui-renderer":6344,"../../../components/component-library":6486,"../../../components/ui/callout":6879,"../../../components/ui/loading-screen":6930,"../../../contexts/metametrics":7005,"../../../helpers/constants/routes":7054,"../../../hooks/useI18nContext":7200,"../../../selectors":8035,"../components/confirm/nav":7467,"../components/confirmation-warning-modal":7495,"../context/confirm":7607,"../hooks/useConfirmationNavigation":7693,"./alerts/TemplateAlertContext":7578,"./components/confirmation-footer":7583,"./templates":7592,"@metamask/controller-utils":1384,"@metamask/snaps-rpc-methods":2732,immer:4572,lodash:4794,loglevel:4802,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=U;var s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}(e("react")),o=F(e("prop-types")),a=e("react-redux"),i=e("react-router-dom-v5-compat"),c=e("lodash"),l=e("immer"),u=F(e("loglevel")),d=e("@metamask/controller-utils"),m=e("@metamask/snaps-rpc-methods"),p=e("../../../../shared/constants/network"),f=F(e("../../../../shared/lib/fetch-with-cache")),h=e("../../../../shared/constants/metametrics"),g=F(e("../../../components/app/metamask-template-renderer")),v=F(e("../components/confirmation-warning-modal")),T=e("../../../helpers/constants/routes"),y=e("../../../hooks/useI18nContext"),S=e("../../../contexts/metametrics"),k=e("../../../selectors"),A=e("../../../../shared/modules/selectors/networks"),C=F(e("../../../components/ui/callout")),w=e("../../../components/component-library"),_=F(e("../../../components/ui/loading-screen")),x=F(e("../../../components/app/snaps/snap-authorship-header")),b=e("../../../components/app/snaps/snap-ui-renderer"),E=e("../../../../shared/constants/app"),P=e("../../../../shared/constants/time"),I=e("../components/confirm/nav"),M=e("../context/confirm"),R=e("../hooks/useConfirmationNavigation"),N=e("./alerts/TemplateAlertContext"),O=F(e("./components/confirmation-footer")),D=e("./templates");function F(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}const L=["result_success","result_error"],$=Object.values(m.DIALOG_APPROVAL_TYPES),B=(0,l.produce)((e,t)=>{var n;switch(t.type){case"dismiss":null!=e&&null!==(n=e[t.confirmationId])&&void 0!==n&&n[t.alertId]&&(e[t.confirmationId][t.alertId].dismissed=!0);break;case"set":e[t.confirmationId]||(e[t.confirmationId]={}),t.alerts.forEach(n=>{e[t.confirmationId][n.id]={...n,dismissed:!1}});break;default:throw new Error("You must provide a type when dispatching an action for alertState")}});function j(e){const t=(0,s.c)(14),{confirmation:n,isSnapCustomUIDialog:o,onCancel:i}=e,{count:c}=(0,R.useConfirmationNavigation)();let l;t[0]!==n?(l=n??{},t[0]=n,t[1]=l):l=t[1];const{origin:u}=l;let d;t[2]!==u?(d=e=>(0,k.getHideSnapBranding)(e,u),t[2]=u,t[3]=d):d=t[3];const m=(0,a.useSelector)(d),p=o&&!m;if(c<=1&&!p)return null;let f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f={width:"100%",position:"relative",overflow:"hidden"},t[4]=f):f=t[4];const h=null==n?void 0:n.id;let g,v,T;return t[5]!==h?(g=r.default.createElement(I.Nav,{confirmationId:h}),t[5]=h,t[6]=g):g=t[6],t[7]!==i||t[8]!==u||t[9]!==p?(v=p&&r.default.createElement(x.default,{snapId:u,onCancel:i}),t[7]=i,t[8]=u,t[9]=p,t[10]=v):v=t[10],t[11]!==g||t[12]!==v?(T=r.default.createElement(w.Box,{style:f},g,v),t[11]=g,t[12]=v,t[13]=T):T=t[13],T}function U({redirectToHomeOnZeroConfirmations:e=!0,params:t}){var n;const o=(0,y.useI18nContext)(),l=(0,r.useContext)(S.MetaMetricsContext),x=(0,a.useDispatch)(),I=(0,i.useNavigate)(),R=(0,a.useSelector)(k.getMemoizedUnapprovedTemplatedConfirmations),F=(0,a.useSelector)(k.getUnapprovedTxCount),G=(0,a.useSelector)(k.getApprovalFlows,c.isEqual),U=(0,a.useSelector)(k.getTotalUnapprovedCount),W=(0,a.useSelector)(k.getUseSafeChainsListValidation),H=(0,a.useSelector)(A.getNetworkConfigurationsByChainId),[V,q]=(0,r.useState)(null),K=(0,i.useParams)(),{id:z}=t||K,Q=R.find(e=>e.id===z)??R[0],[Y,Z]=(0,r.useState)({}),[X,J]=(0,r.useState)(!1),ee=(null==Q?void 0:Q.type)===d.ApprovalType.AddEthereumChain&&!X,[te,ne]=(0,r.useState)(null),[se,re]=(0,r.useState)(null),[oe,ae]=function(e,t){const n=(0,s.c)(16);let o;n[0]!==t?(o=t===undefined?{}:t,n[0]=t,n[1]=o):o=n[1];const{unapprovedTxsCount:a,useSafeChainsListValidation:i,matchedChain:c,providerError:l,preventAlertsForAddChainValidation:u}=o,d=u!==undefined&&u;let m;n[2]===Symbol.for("react.memo_cache_sentinel")?(m={},n[2]=m):m=n[2];const[p,f]=(0,r.useReducer)(B,m);let h,g,v;n[3]!==c||n[4]!==e||n[5]!==d||n[6]!==l||n[7]!==a||n[8]!==i?(h=()=>{let t=!0;return e&&!d&&(0,D.getTemplateAlerts)(e,{unapprovedTxsCount:a,useSafeChainsListValidation:i,matchedChain:c,providerError:l}).then(n=>{t&&n.length>0&&f({type:"set",confirmationId:e.id,alerts:n})}),()=>{t=!1}},g=[e,a,i,c,l,d],n[3]=c,n[4]=e,n[5]=d,n[6]=l,n[7]=a,n[8]=i,n[9]=h,n[10]=g):(h=n[9],g=n[10]),(0,r.useEffect)(h,g),n[11]!==e?(v=t=>{f({type:"dismiss",confirmationId:e.id,alertId:t})},n[11]=e,n[12]=v):v=n[12];const T=v;let y;return n[13]!==p||n[14]!==T?(y=[p,T],n[13]=p,n[14]=T,n[15]=y):y=n[15],y}(Q,{unapprovedTxsCount:F,useSafeChainsListValidation:W,matchedChain:Y,providerError:se,preventAlertsForAddChainValidation:ee}),[ie]=function(e){const t=(0,s.c)(6);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={},t[0]=n):n=t[0];const[o,a]=(0,r.useState)(n);let i,c,l;return t[1]!==e?(i=()=>{let t=!0;return e&&(0,D.getTemplateState)(e).then(n=>{t&&Object.values(n).length>0&&a(t=>({...t,[e.id]:n}))}),()=>{t=!1}},c=[e],t[1]=e,t[2]=i,t[3]=c):(i=t[2],c=t[3]),(0,r.useEffect)(i,c),t[4]!==o?(l=[o],t[4]=o,t[5]=l):l=t[5],l}(Q),[ce,le]=(0,r.useState)(!1),[ue,de]=(0,r.useState)({}),[me,pe]=(0,r.useState)(!1),[fe,he]=(0,r.useState)([]),ge=null===(n=(0,a.useSelector)(k.getSnapsMetadata)[null==Q?void 0:Q.origin])||void 0===n?void 0:n.name,ve=Object.values(m.DIALOG_APPROVAL_TYPES);ve.push(...Object.values(E.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES));const Te=ve.includes(null==Q?void 0:Q.type),ye=$.includes(null==Q?void 0:Q.type),Se=(null==Q?void 0:Q.type)===d.ApprovalType.SnapDialogPrompt,ke=(null==Q?void 0:Q.type)===m.DIALOG_APPROVAL_TYPES.default,Ae=Te&&ge,Ce=Te,we=ye||L.includes(null==Q?void 0:Q.type),_e=[d.ApprovalType.SnapDialogPrompt],xe=(0,r.useMemo)(()=>{var e;return Q?(0,D.getTemplateValues)({snapName:Te&&Ae,...Q},o,x,I,{matchedChain:Y,currencySymbolWarning:te,existingNetworkConfiguration:null==H?void 0:H[null===(e=Q.requestData)||void 0===e?void 0:e.chainId]},{t:o,trackEvent:l}):{}},[Q,o,x,I,Y,te,l,Te,Ae,H]);if((0,r.useEffect)(()=>{xe.onLoad&&xe.onLoad()},[xe]),(0,r.useEffect)(()=>{0!==R.length||0!==G.length&&0===U||!e||I(T.DEFAULT_ROUTE)},[R,G,U,I,e]),(0,r.useEffect)(()=>{const e=G[G.length-1];q((null==e?void 0:e.loadingText)??null)},[G]),(0,r.useEffect)(()=>{(null==Q?void 0:Q.type)===d.ApprovalType.AddEthereumChain&&async function(e){try{if(W){var t,n,s,r,a;const c=(await(0,f.default)({url:p.CHAIN_SPEC_URL,allowStale:!0,cacheOptions:{cacheRefreshTime:P.DAY},functionName:"getSafeChainsList"})).find(t=>t.chainId===parseInt(e.requestData.chainId,16));Z(c),J(!0),re(null);const l=(null===(t=d.NETWORKS_BYPASSING_VALIDATION[null===(n=e.requestData.chainId)||void 0===n?void 0:n.toLowerCase()])||void 0===t||null===(t=t.symbol)||void 0===t?void 0:t.toLowerCase())===(null===(s=e.requestData.ticker)||void 0===s?void 0:s.toLowerCase());var i;(null==c||null===(r=c.nativeCurrency)||void 0===r||null===(r=r.symbol)||void 0===r?void 0:r.toLowerCase())===(null===(a=e.requestData.ticker)||void 0===a?void 0:a.toLowerCase())||l?ne(null):ne(o("chainListReturnedDifferentTickerSymbol",[null==c||null===(i=c.nativeCurrency)||void 0===i?void 0:i.symbol]))}}catch(e){u.default.warn("Failed to fetch the chainList from chainid.network",e),re(e),Z(null),ne(null),J(!0)}}(Q)},[Q,o,W,J]),!Q)return G.length>0?r.default.createElement(_.default,{loadingMessage:V}):null;const be=e=>{(null==e?void 0:e.length)>0?(he(e),pe(!0)):pe(!1)},Ee=async()=>{var e,t,n,s,r;if(pe(!0),null!=Q&&null!==(e=Q.requestData)&&void 0!==e&&null!==(e=e.fromNetworkConfiguration)&&void 0!==e&&e.chainId&&null!=Q&&null!==(t=Q.requestData)&&void 0!==t&&null!==(t=t.toNetworkConfiguration)&&void 0!==t&&t.chainId&&l({category:h.MetaMetricsEventCategory.Network,event:h.MetaMetricsEventName.NavNetworkSwitched,properties:{location:"Switch Modal",from_network:Q.requestData.fromNetworkConfiguration.chainId,to_network:Q.requestData.toNetworkConfiguration.chainId,referrer:{url:window.location.origin}}}),null!==(n=ie[Q.id])&&void 0!==n&&n.useWarningModal)le(!0);else{const e=(r=Q.type,_e.includes(r)?(s=Q.type,ue[s]??""):null),t=await xe.onSubmit(e);be(t)}},Pe=xe.onCancel||((null==Q?void 0:Q.type)===d.ApprovalType.SnapDialogAlert?Ee:null);return r.default.createElement(M.ConfirmContextProvider,{confirmationId:z},r.default.createElement(N.TemplateAlertContextProvider,{confirmationId:Q.id,onSubmit:!xe.hideSubmitButton&&Ee},r.default.createElement("div",{className:"confirmation-page h-full"},r.default.createElement(j,{confirmation:Q,isSnapCustomUIDialog:ye,onCancel:Pe}),r.default.createElement(w.Box,{className:"confirmation-page__content",padding:we||Ce?0:4,style:{overflowY:"auto"}},ye?r.default.createElement(b.SnapUIRenderer,{snapId:null==Q?void 0:Q.origin,interfaceId:null==Q?void 0:Q.requestData.id,isPrompt:Se,inputValue:Se&&ue[null==Q?void 0:Q.type],onInputChange:Se&&(e=>{return t=null==Q?void 0:Q.type,n=e.target.value??"",void de(e=>({...e,[t]:n}));var t,n}),placeholder:Se&&(null==Q?void 0:Q.requestData.placeholder),onCancel:Pe,useFooter:ke}):r.default.createElement(g.default,{sections:xe.content}),ce&&r.default.createElement(v.default,{onSubmit:async()=>{const e=await xe.onSubmit();await be(e),le(!1)},onCancel:xe.onCancel})),!ke&&r.default.createElement(O.default,{alerts:oe[Q.id]&&Object.values(oe[Q.id]).filter(e=>!1===e.dismissed).map((e,t,n)=>r.default.createElement(C.default,{key:e.id,severity:e.severity,dismiss:()=>ae(e.id),isFirst:0===t,isLast:t===n.length-1,isMultiple:n.length>1},r.default.createElement(g.default,{sections:e.content}))),style:Te?{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}:{},actionsStyle:Te?{borderTop:0}:{},onSubmit:!xe.hideSubmitButton&&Ee,onCancel:xe.onCancel,submitText:xe.submitText,cancelText:xe.cancelText,loading:me,submitAlerts:fe.map((e,t)=>r.default.createElement(C.default,{key:e.id,severity:e.severity,isFirst:0===t},r.default.createElement(g.default,{sections:e.content})))}))))}U.propTypes={redirectToHomeOnZeroConfirmations:o.default.bool,params:o.default.shape({id:o.default.string})}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/confirmation.js"}],[7587,{"./confirmation":7586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./confirmation"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/index.js"}],[7603,{"../../../../shared/constants/network":5772},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TypedSignSignaturePrimaryTypes=n.TYPED_SIGNATURE_VERSIONS=n.SPENDING_CAP_UNLIMITED_MSG=n.IGNORE_GAS_LIMIT_CHAIN_IDS=void 0;var s=e("../../../../shared/constants/network");n.IGNORE_GAS_LIMIT_CHAIN_IDS=[s.CHAINLIST_CHAIN_IDS_MAP.MANTLE],n.TYPED_SIGNATURE_VERSIONS={V1:"V1",V3:"V3",V4:"V4"},n.SPENDING_CAP_UNLIMITED_MSG="UNLIMITED MESSAGE",n.TypedSignSignaturePrimaryTypes={PERMIT:"Permit",ORDER:"Order"}}}},{package:"$root$",file:"ui/pages/confirmations/constants/index.ts"}],[7604,{"@metamask/keyring-api":2173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.accountTypeLabel=void 0;var s=e("@metamask/keyring-api");n.accountTypeLabel={[s.BtcAccountType.P2pkh]:"Legacy",[s.BtcAccountType.P2sh]:"Nested SegWit",[s.BtcAccountType.P2wpkh]:"Native SegWit",[s.BtcAccountType.P2tr]:"Taproot"}}}},{package:"$root$",file:"ui/pages/confirmations/constants/network.ts"}],[7605,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPages=void 0;n.SendPages=function(e){return e.ASSET="asset",e.AMOUNTRECIPIENT="amount-recipient",e.LOADER="loader",e}({})}}},{package:"$root$",file:"ui/pages/confirmations/constants/send.ts"}],[7606,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LOWER_CASED_BURN_ADDRESSES=n.ERC20_DEFAULT_DECIMALS=void 0;n.ERC20_DEFAULT_DECIMALS=18,n.LOWER_CASED_BURN_ADDRESSES=["0x0000000000000000000000000000000000000000"]}}},{package:"$root$",file:"ui/pages/confirmations/constants/token.ts"}],[7607,{"../../hooks/useCurrentConfirmation":7696,"../../hooks/useSyncConfirmPath":7720,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useConfirmContext=n.ConfirmContextProvider=n.ConfirmContext=void 0;var s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}(e("react")),o=i(e("../../hooks/useCurrentConfirmation")),a=i(e("../../hooks/useSyncConfirmPath"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const l=n.ConfirmContext=(0,r.createContext)(undefined);n.ConfirmContextProvider=e=>{const t=(0,s.c)(6),{children:n,confirmationId:i}=e,[c,u]=(0,r.useState)(!0),{currentConfirmation:d}=(0,o.default)(i);let m;(0,a.default)(d,i),t[0]!==d||t[1]!==c?(m={currentConfirmation:d,isScrollToBottomCompleted:c,setIsScrollToBottomCompleted:u},t[0]=d,t[1]=c,t[2]=m):m=t[2];const p=m;let f;return t[3]!==n||t[4]!==p?(f=r.default.createElement(l.Provider,{value:p},n),t[3]=n,t[4]=p,t[5]=f):f=t[5],f};n.useConfirmContext=()=>{const e=(0,r.useContext)(l);if(!e)throw new Error("useConfirmContext must be used within an ConfirmContextProvider");return e}}}},{package:"$root$",file:"ui/pages/confirmations/context/confirm/index.tsx"}],[7608,{"../../hooks/useCurrentConfirmation":7696,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapContext=n.DappSwapContextProvider=n.DappSwapContext=void 0;var s,r=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=(s=e("../../hooks/useCurrentConfirmation"))&&s.__esModule?s:{default:s};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}const c=n.DappSwapContext=(0,o.createContext)(undefined);n.DappSwapContextProvider=e=>{const t=(0,r.c)(13),{children:n}=e,{currentConfirmation:s}=(0,a.default)(),[i,l]=(0,o.useState)(undefined),[u,d]=(0,o.useState)(!1);let m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{l(undefined),d(!1)},t[0]=m):m=t[0];const p=null==s?void 0:s.id;let f,h,g;t[1]!==p?(f=[p,l,d],t[1]=p,t[2]=f):f=t[2],(0,o.useEffect)(m,f),t[3]!==i?(h=()=>{i||d(!1)},g=[i,d],t[3]=i,t[4]=h,t[5]=g):(h=t[4],g=t[5]),(0,o.useEffect)(h,g);const v=i!==undefined;let T;t[6]!==u||t[7]!==i||t[8]!==v?(T={isQuotedSwapDisplayedInInfo:u,isQuotedSwapPresent:v,selectedQuote:i,setSelectedQuote:l,setQuotedSwapDisplayedInInfo:d},t[6]=u,t[7]=i,t[8]=v,t[9]=T):T=t[9];const y=T;let S;return t[10]!==n||t[11]!==y?(S=o.default.createElement(c.Provider,{value:y},n),t[10]=n,t[11]=y,t[12]=S):S=t[12],S};n.useDappSwapContext=()=>{const e=(0,o.useContext)(c);if(!e)throw new Error("useDappSwapContext must be used within an DappSwapContextProvider");return e}}}},{package:"$root$",file:"ui/pages/confirmations/context/dapp-swap/index.tsx"}],[7609,{"../../../../../shared/modules/string-utils":5917,"../../../../selectors":8035,"../send":7610,"ethers/lib/utils":4334,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendMetricsContext=n.SendMetricsContextProvider=n.SendMetricsContext=n.RecipientInputMethod=n.AssetFilterMethod=n.AmountInputType=n.AmountInputMethod=void 0;var s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}(e("react")),o=e("ethers/lib/utils"),a=e("react-redux"),i=e("../../../../../shared/modules/string-utils"),c=e("../../../../selectors"),l=e("../send");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=n.AssetFilterMethod={None:"none",Search:"search",Network:"network"},m=n.AmountInputType={Token:"token",Fiat:"fiat"},p=n.AmountInputMethod={Manual:"manual",Pasted:"pasted",PressedMax:"pressed_max"},f=n.RecipientInputMethod={Manual:"manual",Pasted:"pasted",SelectAccount:"select_account",SelectContact:"select_contact"},h=n.SendMetricsContext=(0,r.createContext)({accountType:undefined,assetListSize:"",amountInputMethod:p.Manual,amountInputType:m.Token,assetFilterMethod:[d.None],recipientInputMethod:f.Manual,setAmountInputMethod:()=>undefined,setAmountInputType:()=>undefined,setAssetFilterMethod:()=>undefined,setAssetListSize:()=>undefined,setRecipientInputMethod:()=>undefined});n.SendMetricsContextProvider=e=>{const t=(0,s.c)(14),{children:n}=e,{from:u}=(0,l.useSendContext)(),g=(0,a.useSelector)(c.getInternalAccounts);let v;t[0]===Symbol.for("react.memo_cache_sentinel")?(v=[d.None],t[0]=v):v=t[0];const[T,y]=(0,r.useState)(v),[S,k]=(0,r.useState)(""),[A,C]=(0,r.useState)(p.Manual),[w,_]=(0,r.useState)(m.Token),[x,b]=(0,r.useState)(f.Manual);let E;e:{if(null==g||!g.length||!u||!(0,o.isAddress)(u)){E=undefined;break e}let e;if(t[1]!==u||t[2]!==g){var P;const n=Object.values(g).find(e=>(0,i.isEqualCaseInsensitive)(e.address,u));e=(0,c.getAccountTypeForKeyring)(null==n||null===(P=n.metadata)||void 0===P?void 0:P.keyring),t[1]=u,t[2]=g,t[3]=e}else e=t[3];E=e}const I=E;let M,R;return t[4]!==I||t[5]!==A||t[6]!==w||t[7]!==T||t[8]!==S||t[9]!==x?(M={accountType:I,assetListSize:S,amountInputMethod:A,amountInputType:w,assetFilterMethod:T,recipientInputMethod:x,setAssetListSize:k,setAmountInputMethod:C,setAmountInputType:_,setAssetFilterMethod:y,setRecipientInputMethod:b},t[4]=I,t[5]=A,t[6]=w,t[7]=T,t[8]=S,t[9]=x,t[10]=M):M=t[10],t[11]!==n||t[12]!==M?(R=r.default.createElement(h.Provider,{value:M},n),t[11]=n,t[12]=M,t[13]=R):R=t[13],R};n.useSendMetricsContext=()=>{const e=(0,r.useContext)(h);if(!e)throw new Error("useSendMetricsContext must be used within an SendMetricsContextProvider");return e}}}},{package:"$root$",file:"ui/pages/confirmations/context/send-metrics/index.tsx"}],[7610,{"../../../../selectors/multichain-accounts/account-tree":8039,"@metamask/bridge-controller":1318,"@metamask/controller-utils":1384,"ethereumjs-util":4296,"ethers/lib/utils":4334,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendContext=n.SendContextProvider=n.SendContext=void 0;var s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}(e("react")),o=e("ethers/lib/utils"),a=e("ethereumjs-util"),i=e("@metamask/bridge-controller"),c=e("@metamask/controller-utils"),l=e("react-redux"),u=e("../../../../selectors/multichain-accounts/account-tree");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const m=n.SendContext=(0,r.createContext)({asset:undefined,chainId:undefined,currentPage:undefined,fromAccount:{},from:"",hexData:undefined,maxValueMode:undefined,to:undefined,toResolved:undefined,updateAsset:()=>undefined,updateCurrentPage:()=>undefined,updateHexData:()=>undefined,updateTo:()=>undefined,updateToResolved:()=>undefined,updateValue:()=>undefined,value:undefined});n.SendContextProvider=e=>{const t=(0,s.c)(28),{children:n}=e,[d,p]=(0,r.useState)(),f=(0,l.useSelector)(u.getSelectedAccountGroup),h=(0,l.useSelector)(u.getAccountGroupWithInternalAccounts),[g,v]=(0,r.useState)(),[T,y]=(0,r.useState)(),[S,k]=(0,r.useState)(),[A,C]=(0,r.useState)(),[w,_]=(0,r.useState)(),[x,b]=(0,r.useState)(),[E,P]=(0,r.useState)();let I;t[0]===Symbol.for("react.memo_cache_sentinel")?(I=(e,t)=>{k(t??!1),b(e)},t[0]=I):I=t[0];const M=I;let R;t[1]!==d?(R=e=>{d&&(M("",!1),C(""),_(""),y(undefined)),p(e)},t[1]=d,t[2]=R):R=t[2];const N=R;let O;var D,F;t[3]!==d?(O=null!=d&&d.address&&(0,o.isAddress)(null==d?void 0:d.address)&&d.chainId&&!(0,i.isSolanaChainId)(null===(D=d.chainId)||void 0===D?void 0:D.toString())&&!(0,a.isHexString)(d.chainId.toString())?(0,c.toHex)(d.chainId):null==d||null===(F=d.chainId)||void 0===F?void 0:F.toString(),t[3]=d,t[4]=O):O=t[4];const G=O;let L;t[5]!==h||t[6]!==(null==d?void 0:d.accountId)||t[7]!==f?(L=()=>{if(null!=d&&d.accountId){var e;const t=null===(e=h.find(e=>e.id===f))||void 0===e?void 0:e.accounts,n=null==t?void 0:t.find(e=>e.id===(null==d?void 0:d.accountId));v(n)}},t[5]=h,t[6]=null==d?void 0:d.accountId,t[7]=f,t[8]=L):L=t[8];const $=null==d?void 0:d.accountId;let B;t[9]!==h||t[10]!==f||t[11]!==$?(B=[$,f,h],t[9]=h,t[10]=f,t[11]=$,t[12]=B):B=t[12],(0,r.useEffect)(L,B);const j=null==g?void 0:g.address,U=w??A;let W,H;return t[13]!==d||t[14]!==G||t[15]!==E||t[16]!==g||t[17]!==T||t[18]!==S||t[19]!==j||t[20]!==U||t[21]!==A||t[22]!==N||t[23]!==x?(W={asset:d,chainId:G,currentPage:E,fromAccount:g,from:j,hexData:T,maxValueMode:S,to:A,toResolved:U,updateAsset:N,updateCurrentPage:P,updateHexData:y,updateTo:C,updateToResolved:_,updateValue:M,value:x},t[13]=d,t[14]=G,t[15]=E,t[16]=g,t[17]=T,t[18]=S,t[19]=j,t[20]=U,t[21]=A,t[22]=N,t[23]=x,t[24]=W):W=t[24],t[25]!==n||t[26]!==W?(H=r.default.createElement(m.Provider,{value:W},n),t[25]=n,t[26]=W,t[27]=H):H=t[27],H};n.useSendContext=()=>{const e=(0,r.useContext)(m);if(!e)throw new Error("useSendContext must be used within an SendContextProvider");return e}}}},{package:"$root$",file:"ui/pages/confirmations/context/send/index.tsx"}],[7611,{"../../../../../shared/constants/network":5772,"../../../../../shared/modules/selectors/networks":5908,"../../../../components/app/confirm/info/row":6033,"../../../../components/app/confirm/info/row/alert-row/alert-row":6025,"../../../../components/app/confirm/info/row/constants":6026,"../../../../components/app/confirm/info/row/section":6035,"../../../../components/component-library":6486,"../../../../helpers/constants/design-system":7049,"../../../../helpers/constants/zendesk-url":7061,"../../../../hooks/useI18nContext":7200,"../../../../selectors":8035,"../../context/confirm":7607,"../../utils/confirm":7742,"@metamask/design-system-react":1742,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddEthereumChain=void 0;var s=e("react-compiler-runtime"),r=S(e("react")),o=e("react-redux"),a=e("@metamask/design-system-react"),i=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),l=e("../../../../components/app/confirm/info/row/section"),u=e("../../../../components/app/confirm/info/row"),d=e("../../context/confirm"),m=e("../../../../components/app/confirm/info/row/alert-row/alert-row"),p=e("../../../../../shared/modules/selectors/networks"),f=e("../../../../selectors"),h=e("../../../../hooks/useI18nContext"),g=S(e("../../../../helpers/constants/zendesk-url")),v=e("../../utils/confirm"),T=e("../../../../../shared/constants/network"),y=e("../../../../components/app/confirm/info/row/constants");function S(e){return e&&e.__esModule?e:{default:e}}n.AddEthereumChain=()=>{var e;const t=(0,s.c)(69),n=(0,h.useI18nContext)(),{currentConfirmation:S}=(0,d.useConfirmContext)(),{requestData:k,origin:A}=S,C=(0,o.useSelector)(p.getNetworkConfigurationsByChainId)[k.chainId],w=(0,o.useSelector)(f.getSubjectMetadata);let _;t[0]!==C||t[1]!==k.chainName||t[2]!==n?(_=C?n("updateNetworkConfirmationTitle",[C.name]):n("addNetworkConfirmationTitle",[k.chainName]),t[0]=C,t[1]=k.chainName,t[2]=n,t[3]=_):_=t[3];const x=_,b=T.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[k.chainId];let E,P,I,M,R;t[4]!==x?(E=r.default.createElement(a.Text,{variant:a.TextVariant.HeadingLg,className:"text-balance mb-2"},x),t[4]=x,t[5]=E):E=t[5],t[6]!==n?(P=n("addNetworkDescription"),t[6]=n,t[7]=P):P=t[7],t[8]!==P?(I=r.default.createElement(a.Text,{className:"text-alternative"},P),t[8]=P,t[9]=I):I=t[9],t[10]!==E||t[11]!==I?(M=r.default.createElement(a.Box,{className:"text-center mb-4 mt-8"},E,I),t[10]=E,t[11]=I,t[12]=M):M=t[12],t[13]!==n?(R=n("requestFrom"),t[13]=n,t[14]=R):R=t[14];const N=null===(e=w[A])||void 0===e?void 0:e.iconUrl;let O,D,F,G,L,$,B,j,U,W,H;t[15]!==A||t[16]!==N?(O=r.default.createElement(a.AvatarFavicon,{size:a.AvatarFaviconSize.Sm,src:N,name:A}),t[15]=A,t[16]=N,t[17]=O):O=t[17],t[18]!==A?(D=(0,v.stripProtocol)(A),t[18]=A,t[19]=D):D=t[19],t[20]!==D?(F=r.default.createElement(a.Text,null,D),t[20]=D,t[21]=F):F=t[21],t[22]!==O||t[23]!==F?(G=r.default.createElement(a.Box,{className:"flex gap-1 items-center"},O,F),t[22]=O,t[23]=F,t[24]=G):G=t[24],t[25]!==G||t[26]!==R?(L=r.default.createElement(l.ConfirmInfoSection,null,r.default.createElement(u.ConfirmInfoRow,{label:R,color:c.TextColor.textAlternative},G)),t[25]=G,t[26]=R,t[27]=L):L=t[27],t[28]!==n?($=n("network"),t[28]=n,t[29]=$):$=t[29],t[30]!==b||t[31]!==k.chainName?(B=r.default.createElement(a.AvatarNetwork,{size:a.AvatarNetworkSize.Xs,src:b,name:k.chainName}),t[30]=b,t[31]=k.chainName,t[32]=B):B=t[32],t[33]!==k.chainName?(j=r.default.createElement(a.Text,null,k.chainName),t[33]=k.chainName,t[34]=j):j=t[34],t[35]!==B||t[36]!==j?(U=r.default.createElement(a.Box,{className:"flex items-center gap-1"},B,j),t[35]=B,t[36]=j,t[37]=U):U=t[37],t[38]!==S.id||t[39]!==$||t[40]!==U?(W=r.default.createElement(m.ConfirmInfoAlertRow,{label:$,color:c.TextColor.textAlternative,alertKey:y.RowAlertKey.ChainName,ownerId:S.id},U),t[38]=S.id,t[39]=$,t[40]=U,t[41]=W):W=t[41],t[42]!==n?(H=n("networkURLDefinition"),t[42]=n,t[43]=H):H=t[43];const V=S.id;let q,K,z,Q,Y,Z,X,J,ee;return t[44]!==k.rpcUrl?(q=(0,v.stripProtocol)(k.rpcUrl),t[44]=k.rpcUrl,t[45]=q):q=t[45],t[46]!==q?(K=r.default.createElement(a.Text,null,q),t[46]=q,t[47]=K):K=t[47],t[48]!==S.id||t[49]!==H||t[50]!==K?(z=r.default.createElement(m.ConfirmInfoAlertRow,{label:"RPC",color:c.TextColor.textAlternative,tooltip:H,tooltipIcon:i.IconName.Question,alertKey:y.RowAlertKey.RpcUrl,ownerId:V},K),t[48]=S.id,t[49]=H,t[50]=K,t[51]=z):z=t[51],t[52]!==W||t[53]!==z?(Q=r.default.createElement(l.ConfirmInfoSection,null,W,z),t[52]=W,t[53]=z,t[54]=Q):Q=t[54],t[55]!==n?(Y=n("securityMessageLinkForNetworks"),t[55]=n,t[56]=Y):Y=t[56],t[57]!==Y?(Z=r.default.createElement("a",{key:"securityMessageLinkForNetworks",className:"text-primary-default",href:g.default.USER_GUIDE_CUSTOM_NETWORKS,target:"__blank",rel:"noreferrer"},Y),t[57]=Y,t[58]=Z):Z=t[58],t[59]!==n||t[60]!==Z?(X=n("watchOutMessage",[Z]),t[59]=n,t[60]=Z,t[61]=X):X=t[61],t[62]!==X?(J=r.default.createElement(a.Text,{className:"text-center"},X),t[62]=X,t[63]=J):J=t[63],t[64]!==L||t[65]!==Q||t[66]!==J||t[67]!==M?(ee=r.default.createElement(r.default.Fragment,null,M,L,Q,J),t[64]=L,t[65]=Q,t[66]=J,t[67]=M,t[68]=ee):ee=t[68],ee}}}},{package:"$root$",file:"ui/pages/confirmations/external/add-ethereum-chain/add-ethereum-chain.tsx"}],[7612,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AlertsName=void 0;n.AlertsName=function(e){return e.GasEstimateFailed="gasEstimateFailed",e.GasFeeLow="gasFeeLow",e.GasTooLow="gasTooLow",e.InsufficientBalance="insufficientBalance",e.NetworkBusy="networkBusy",e.NoGasPrice="noGasPrice",e.PendingTransaction="pendingTransactions",e.SigningOrSubmitting="signingOrSubmitting",e.Blockaid="blockaid",e}({})}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/constants.ts"}],[7613,{"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../components/confirm/utils":7493,"../../../context/confirm":7607,"../../../utils":7743,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,s.c)(8),n=(0,a.useI18nContext)(),{currentConfirmation:u}=(0,l.useConfirmContext)(),{from:d}=(0,i.getConfirmationSender)(u),m=(0,c.isSIWESignatureRequest)(u),p=null==u||null===(e=u.msgParams)||void 0===e||null===(e=e.siwe)||void 0===e||null===(e=e.parsedMessage)||void 0===e?void 0:e.address,f=(null==p?void 0:p.toLowerCase())!==(null==d?void 0:d.toLowerCase());let h;e:{if(!m||!f){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0],h=e;break e}let e,s,a;t[1]!==n?(e=n("alertMessageSignInWrongAccount"),t[1]=n,t[2]=e):e=t[2],t[3]!==n?(s=n("alertReasonWrongAccount"),t[3]=n,t[4]=s):s=t[4],t[5]!==e||t[6]!==s?(a=[{field:r.RowAlertKey.SigningInWith,key:"signingInWith",message:e,reason:s,severity:o.Severity.Warning}],t[5]=e,t[6]=s,t[7]=a):a=t[7],h=a}return h};var s=e("react-compiler-runtime"),r=(e("react"),e("../../../../../components/app/confirm/info/row/constants")),o=e("../../../../../helpers/constants/design-system"),a=e("../../../../../hooks/useI18nContext"),i=e("../../../components/confirm/utils"),c=e("../../../utils"),l=e("../../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/signatures/useAccountMismatchAlerts.ts"}],[7614,{"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../context/confirm":7607,"../../../utils":7743,"@metamask/controller-utils":1384,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.c)(8),t=(0,i.useI18nContext)(),{currentConfirmation:n}=(0,l.useConfirmContext)(),{msgParams:u}=n||{},d=(0,c.isSIWESignatureRequest)(n);let m;e:{if(!d||(0,r.isValidSIWEOrigin)(u)){let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],m=t;break e}let n,s,i;e[1]!==t?(n=t("alertMessageSignInDomainMismatch"),e[1]=t,e[2]=n):n=e[2],e[3]!==t?(s=t("alertReasonSignIn"),e[3]=t,e[4]=s):s=e[4],e[5]!==n||e[6]!==s?(i=[{field:o.RowAlertKey.RequestFrom,key:"requestFrom",message:n,reason:s,severity:a.Severity.Danger}],e[5]=n,e[6]=s,e[7]=i):i=e[7],m=i}return m};var s=e("react-compiler-runtime"),r=(e("react"),e("@metamask/controller-utils")),o=e("../../../../../components/app/confirm/info/row/constants"),a=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),c=e("../../../utils"),l=e("../../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/signatures/useDomainMismatchAlerts.ts"}],[7615,{"../../../../../components/component-library":6486,"../../../../../helpers/constants/design-system":7049,"../../../../../helpers/constants/zendesk-url":7061,"../../../../../hooks/useI18nContext":7200,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountTypeMessage=function(){const e=(0,i.useI18nContext)();return s.default.createElement(r.Text,{variant:o.TextVariant.bodyMd,color:o.TextColor.textDefault},e("alertAccountTypeUpgradeMessage",[s.default.createElement(r.ButtonLink,{href:a.default.ACCOUNT_UPGRADE,key:"link",target:"_blank",rel:"noreferrer noopener",color:o.TextColor.primaryDefault},e("learnMoreUpperCase"))]))};var s=c(e("react")),r=e("../../../../../components/component-library"),o=e("../../../../../helpers/constants/design-system"),a=c(e("../../../../../helpers/constants/zendesk-url")),i=e("../../../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/AccountTypeMessage.tsx"}],[7616,{"../../../../../components/component-library":6486,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../context/confirm":7607,"../../../send-legacy/send.utils":7736,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NonContractAddressAlertMessage=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},o=e("../../../../../components/component-library"),a=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),c=e("../../../context/confirm"),l=e("../../../send-legacy/send.utils");n.NonContractAddressAlertMessage=e=>{const t=(0,i.useI18nContext)(),{currentConfirmation:n}=(0,c.useConfirmContext)(),s=(null==n?void 0:n.chainId)&&e[n.chainId].name,u=(0,l.ellipsify)(null==n?void 0:n.txParams.to);return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Text,{variant:a.TextVariant.bodyMd,color:a.TextColor.textDefault,"data-testid":"alert-modal__selected-alert"},t("nonContractAddressAlertDesc")),r.default.createElement(o.Text,{variant:a.TextVariant.bodyMd,color:a.TextColor.textDefault,marginTop:2,"data-testid":"alert-modal__selected-alert"},r.default.createElement("strong",null,"Network:")," ",s),r.default.createElement(o.Text,{variant:a.TextVariant.bodyMd,color:a.TextColor.textDefault,"data-testid":"alert-modal__selected-alert"},r.default.createElement("strong",null,"Address:")," ",u))}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/NonContractAddressAlertMessage.tsx"}],[7617,{"../../../../../components/component-library":6486,"../../../../../helpers/constants/design-system":7049,"../../../../../helpers/constants/zendesk-url":7061,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PendingTransactionAlertMessage=void 0;var s=i(e("react")),r=e("../../../../../components/component-library"),o=e("../../../../../helpers/constants/design-system"),a=i(e("../../../../../helpers/constants/zendesk-url"));function i(e){return e&&e.__esModule?e:{default:e}}n.PendingTransactionAlertMessage=e=>s.default.createElement(r.Text,{variant:o.TextVariant.bodyMd,color:o.TextColor.textDefault,"data-testid":"alert-modal__selected-alert"},e("pendingTransactionAlertMessage",[s.default.createElement(r.ButtonLink,{href:a.default.SPEEDUP_CANCEL,key:"link",target:"_blank",rel:"noreferrer noopener",color:o.TextColor.primaryDefault},e("pendingTransactionAlertMessageHyperlink"))]))}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/PendingTransactionAlertMessage.tsx"}],[7618,{"../../../../../components/component-library":6486,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ShieldCoverageAlertMessage=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},o=e("../../../../../components/component-library"),a=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext");n.ShieldCoverageAlertMessage=({modalBodyStr:e})=>{const t=(0,i.useI18nContext)();return r.default.createElement(o.Text,{variant:a.TextVariant.bodyMd,color:a.TextColor.textDefault,"data-testid":"alert-modal__selected-alert"},t(e,[r.default.createElement(o.ButtonLink,{href:"https://metamask.io/transaction-shield",key:"link",target:"_blank",rel:"noreferrer noopener",color:a.TextColor.primaryDefault,style:{verticalAlign:"baseline"}},t("shieldCoverageAlertMessageLearnHowCoverageWorks")),"$10,000"]))}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/ShieldCoverageAlertMessage.tsx"}],[7619,{"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../components/confirm/info/hooks/useIsUpgradeTransaction":7390,"./AccountTypeMessage":7615,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTypeUpgrade=function(){const e=(0,r.useI18nContext)(),{isUpgrade:t}=(0,i.useIsUpgradeTransaction)();return(0,s.useMemo)(()=>t?[{field:o.RowAlertKey.AccountTypeUpgrade,key:o.RowAlertKey.AccountTypeUpgrade,content:(0,c.AccountTypeMessage)(),reason:e("alertAccountTypeUpgradeTitle"),severity:a.Severity.Info}]:[],[t,e])};var s=e("react"),r=e("../../../../../hooks/useI18nContext"),o=e("../../../../../components/app/confirm/info/row/constants"),a=e("../../../../../helpers/constants/design-system"),i=e("../../../components/confirm/info/hooks/useIsUpgradeTransaction"),c=e("./AccountTypeMessage")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useAccountTypeUpgrade.ts"}],[7620,{"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../components/confirm/info/hooks/useTransferRecipient":7398,"../../../constants/token":7606,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBurnAddressAlert=function(){const e=(0,a.useI18nContext)(),t=(0,c.useTransferRecipient)(),n=(0,c.useNestedTransactionTransferRecipients)(),l=(0,s.useMemo)(()=>{const e=i.LOWER_CASED_BURN_ADDRESSES.includes((null==t?void 0:t.toLowerCase())??""),s=n.some(e=>i.LOWER_CASED_BURN_ADDRESSES.includes(e.toLowerCase()));return e||s},[t,n]);return(0,s.useMemo)(()=>l?[{key:o.AlertActionKey.InteractingWith,field:o.RowAlertKey.InteractingWith,message:e("alertMessageBurnAddress"),reason:e("alertActionBurnAddress"),severity:r.Severity.Danger,isBlocking:!0}]:[],[l,e])};var s=e("react"),r=e("../../../../../helpers/constants/design-system"),o=e("../../../../../components/app/confirm/info/row/constants"),a=e("../../../../../hooks/useI18nContext"),i=e("../../../constants/token"),c=e("../../../components/confirm/info/hooks/useTransferRecipient")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useBurnAddressAlert.ts"}],[7621,{"../../../../../hooks/useAsync":7181,"../../../../../store/actions":8065,"ethereumjs-util":4296,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useContractCode=function(e,t){const n=(0,r.useCallback)(async()=>{if(!t||!e)return{contractCode:null,isContractAddress:null};let n=null;try{const r=await(0,o.getCode)(e,t);n=(0,s.addHexPrefix)((0,s.padToEven)(r.slice(2)))}catch(e){n=null}return{contractCode:n,isContractAddress:!!n&&("0x"!==n&&"0x0"!==n)}},[e,t]);return(0,a.useAsyncResult)(n,[e,t])};var s=e("ethereumjs-util"),r=e("react"),o=e("../../../../../store/actions"),a=e("../../../../../hooks/useAsync")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useContractCode.ts"}],[7622,{"../../../../../../shared/constants/verification":5794,"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../../../hooks/useTrustSignals":7245,"../../../../../selectors":8035,"../../../components/confirm/info/hooks/useTransferRecipient":7398,"../../../context/confirm":7607,"@metamask/name-controller":2287,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFirstTimeInteractionAlert=function(){const e=(0,a.useI18nContext)(),{currentConfirmation:t}=(0,l.useConfirmContext)(),n=(0,o.useSelector)(u.getInternalAccounts),f=(0,d.useTransferRecipient)(),{isFirstTimeInteraction:h,chainId:g,txParams:v}=t??{},T=(null==v?void 0:v.to)??"0x",y=n.some(e=>{var t;return(null===(t=e.address)||void 0===t?void 0:t.toLowerCase())===(null==f?void 0:f.toLowerCase())}),{state:S}=(0,m.useTrustSignal)(T||"",r.NameType.ETHEREUM_ADDRESS,g),k=S===m.TrustSignalDisplayState.Verified,A=Boolean((0,p.getExperience)(T,g)),C=S===m.TrustSignalDisplayState.Loading,w=!y&&h&&!k&&!A&&!C;return(0,s.useMemo)(()=>w?[{actions:[],field:c.RowAlertKey.InteractingWith,isBlocking:!1,key:"firstTimeInteractionTitle",message:e("alertMessageFirstTimeInteraction"),reason:e("alertReasonFirstTimeInteraction"),severity:i.Severity.Warning}]:[],[w,e])};var s=e("react"),r=e("@metamask/name-controller"),o=e("react-redux"),a=e("../../../../../hooks/useI18nContext"),i=e("../../../../../helpers/constants/design-system"),c=e("../../../../../components/app/confirm/info/row/constants"),l=e("../../../context/confirm"),u=e("../../../../../selectors"),d=e("../../../components/confirm/info/hooks/useTransferRecipient"),m=e("../../../../../hooks/useTrustSignals"),p=e("../../../../../../shared/constants/verification")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useFirstTimeInteractionAlert.ts"}],[7623,{"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../context/confirm":7607,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasEstimateFailedAlerts=function(){const e=(0,o.useI18nContext)(),{currentConfirmation:t}=(0,i.useConfirmContext)(),n=Boolean(null==t?void 0:t.simulationFails);return(0,s.useMemo)(()=>n?[{actions:[{key:a.AlertActionKey.ShowAdvancedGasFeeModal,label:e("alertActionUpdateGas")}],field:a.RowAlertKey.EstimatedFee,key:"gasEstimateFailed",message:e("alertMessageGasEstimateFailed"),reason:e("alertReasonGasEstimateFailed"),severity:r.Severity.Warning}]:[],[n])};var s=e("react"),r=e("../../../../../helpers/constants/design-system"),o=e("../../../../../hooks/useI18nContext"),a=e("../../../../../components/app/confirm/info/row/constants"),i=e("../../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useGasEstimateFailedAlerts.ts"}],[7624,{"../../../../../../shared/constants/gas":5761,"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../contexts/gasFee":6999,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../context/confirm":7607,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeLowAlerts=function(){const e=(0,i.useI18nContext)(),{currentConfirmation:t}=(0,l.useConfirmContext)(),{id:n}=t??{},{estimateUsed:u,transaction:d}=(0,r.useGasFeeContext)(),m=n===(null==d?void 0:d.id)&&u===a.PriorityLevels.low;return(0,s.useMemo)(()=>m?[{actions:[{key:c.AlertActionKey.ShowGasFeeModal,label:e("alertActionUpdateGasFeeLevel")}],field:c.RowAlertKey.EstimatedFee,key:"gasFeeLow",message:e("alertMessageGasFeeLow"),reason:e("alertReasonGasFeeLow"),severity:o.Severity.Warning}]:[],[m])};var s=e("react"),r=e("../../../../../contexts/gasFee"),o=e("../../../../../helpers/constants/design-system"),a=e("../../../../../../shared/constants/gas"),i=e("../../../../../hooks/useI18nContext"),c=e("../../../../../components/app/confirm/info/row/constants"),l=e("../../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useGasFeeLowAlerts.ts"}],[7625,{"../../../../../../shared/modules/conversion.utils":5887,"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../context/confirm":7607,"../../../send-legacy/send.constants":7735,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasTooLowAlerts=function(){var e;const t=(0,i.useI18nContext)(),{currentConfirmation:n}=(0,l.useConfirmContext)(),u=null==n||null===(e=n.txParams)||void 0===e?void 0:e.gas,d=u&&Number((0,o.hexToDecimal)(u))<Number(r.MIN_GAS_LIMIT_DEC);return(0,s.useMemo)(()=>d?[{actions:[{key:c.AlertActionKey.ShowAdvancedGasFeeModal,label:t("alertActionUpdateGas")}],field:c.RowAlertKey.EstimatedFee,isBlocking:!0,key:"gasTooLow",message:t("alertMessageGasTooLow"),reason:t("alertReasonGasTooLow"),severity:a.Severity.Warning}]:[],[d])};var s=e("react"),r=e("../../../send-legacy/send.constants"),o=e("../../../../../../shared/modules/conversion.utils"),a=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),c=e("../../../../../components/app/confirm/info/row/constants"),l=e("../../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useGasTooLowAlerts.ts"}],[7626,{"../../../../../../shared/modules/conversion.utils":5887,"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../../../selectors":8035,"../../../context/confirm":7607,"../../../send-legacy/send.utils":7736,"../../gas/useIsGaslessSupported":7646,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useInsufficientBalanceAlerts=function({ignoreGasFeeToken:e}={}){var t,n;const p=(0,c.useI18nContext)(),{currentConfirmation:f}=(0,u.useConfirmContext)(),{id:h,chainId:g,selectedGasFeeToken:v,gasFeeTokens:T,txParams:{value:y="0x0",from:S=""}={}}=f??{},k=(null==f||null===(t=f.nestedTransactions)||void 0===t?void 0:t.map(e=>e.value??0))??[],A=(0,r.useSelector)(l.getUseTransactionSimulations),C=(0,r.useSelector)(e=>(0,l.getNativeTokenCachedBalanceByChainIdByAccountAddress)(e,S??"")),w=(null==C?void 0:C[g])??"0x0",_=(0,o.sumHexes)(y,...k),{hexMaximumTransactionFee:x}=(0,r.useSelector)(e=>(0,l.selectTransactionFeeById)(e,h)),[b,E]=(0,r.useSelector)(l.getMultichainNetworkConfigurationsByChainId),P=null===(n=b[g]??E[g])||void 0===n?void 0:n.nativeCurrency,I=!(0,d.isBalanceSufficient)({amount:_,gasTotal:x,balance:w}),M=null==f?void 0:f.isGasFeeSponsored,{isSupported:R}=(0,m.useIsGaslessSupported)(),N=M&&R,O=e||!A||Boolean(T),D=I&&O&&(e||!v)&&!N;return(0,s.useMemo)(()=>D?[{actions:[{key:a.AlertActionKey.Buy,label:p("alertActionBuyWithNativeCurrency",[P])}],field:a.RowAlertKey.EstimatedFee,isBlocking:!0,key:"insufficientBalance",message:p("alertMessageInsufficientBalanceWithNativeCurrency",[P]),reason:p("alertReasonInsufficientBalance"),severity:i.Severity.Danger}]:[],[P,D,p])};var s=e("react"),r=e("react-redux"),o=e("../../../../../../shared/modules/conversion.utils"),a=e("../../../../../components/app/confirm/info/row/constants"),i=e("../../../../../helpers/constants/design-system"),c=e("../../../../../hooks/useI18nContext"),l=e("../../../../../selectors"),u=e("../../../context/confirm"),d=e("../../../send-legacy/send.utils"),m=e("../../gas/useIsGaslessSupported")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useInsufficientBalanceAlerts.ts"}],[7627,{"../../../../../../shared/constants/transaction":5792,"../../../../../../shared/modules/transaction.utils":5919,"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useAsync":7181,"../../../../../hooks/useI18nContext":7200,"../../../../../selectors":8035,"../../../../../store/actions":8065,"../../../components/confirm/info/hooks/useBatchApproveBalanceChanges":7384,"../../../context/confirm":7607,"@metamask/transaction-controller":2989,"bignumber.js":3926,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultipleApprovalsAlerts=function(){var e,t;const n=(0,m.useI18nContext)(),{currentConfirmation:v}=(0,h.useConfirmContext)(),{value:T}=(0,f.useBatchApproveBalanceChanges)()??{},y=(0,a.useSelector)(g.getUseTransactionSimulations),S=(0,a.useSelector)(g.selectNonZeroUnusedApprovalsAllowList),k=null==v?void 0:v.nestedTransactions,A=null==v?void 0:v.simulationData,C=null==A?void 0:A.tokenBalanceChanges,w=y&&![s.SimulationErrorCode.ChainNotSupported,s.SimulationErrorCode.Disabled].includes(null==A||null===(e=A.error)||void 0===e?void 0:e.code),_=null==S?void 0:S.includes((null==v?void 0:v.origin)??""),x=(0,o.useMemo)(()=>null!=k&&k.length?function(e){const t=new Set;return e.forEach(e=>{const{data:n,to:s}=e;if(!n||!s)return;const r=(0,c.parseApprovalTransactionData)(n);if(!r)return;const{name:o,tokenAddress:a}=r;let i;switch(o){case"approve":i=a||s;break;case"increaseAllowance":case"setApprovalForAll":i=s;break;default:return}t.add(i)}),Array.from(t)}(k):[],[k]),{value:b}=(0,d.useAsyncResult)(async()=>{var e;return async function(e,t,n){if(!e.length||!t||!n)return{};const s={};return await Promise.all(e.map(async e=>{try{const r=await(0,p.getTokenStandardAndDetailsByChain)(e,n,undefined,t),o=null==r?void 0:r.standard;s[e]=Object.values(i.TokenStandard).includes(o)?o:i.TokenStandard.none}catch(t){console.warn(`Failed to get token standard for ${e}:`,t),s[e]=i.TokenStandard.none}})),s}(x,null==v?void 0:v.chainId,null==v||null===(e=v.txParams)||void 0===e?void 0:e.from)},[x,null==v?void 0:v.chainId,null==v||null===(t=v.txParams)||void 0===t?void 0:t.from]),E=(0,o.useMemo)(()=>{if(null==k||!k.length||null==T||!T.length||!b)return[];const e=function(e,t){const n=[];return e.forEach(e=>{const{data:s,to:r}=e;if(!s||!r)return;const o=(0,c.parseApprovalTransactionData)(s);if(!o)return;const{name:a,amountOrTokenId:l,tokenAddress:u}=o;let d,m;switch(a){case"approve":u?(d=u,m=r):d=r;break;case"increaseAllowance":case"setApprovalForAll":d=r;break;default:return}(function(e,t,n){var s;if(!e)return!0;if(e.isRevokeAll)return!0;if(null!==(s=e.amountOrTokenId)&&void 0!==s&&s.isZero()){if(t[n]===i.TokenStandard.ERC20)return!0}return!1})(o,t,d)||n.push({tokenAddress:d,spenderAddress:m,amount:l})}),n}(k,b);return e},[T,k,b]),P=(0,o.useMemo)(()=>C?function(e){return(null==e?void 0:e.filter(e=>e.isDecrease).map(e=>({tokenAddress:e.address.toLowerCase(),amount:new r.BigNumber(e.difference,16),isDecrease:e.isDecrease})))??[]}(C):[],[C]),I=(0,o.useMemo)(()=>function(e,t){if(0===e.length)return[];return e.filter(e=>!t.find(t=>t.tokenAddress.toLowerCase()===e.tokenAddress.toLowerCase()))}(E,P),[E,P]).length>0&&Boolean(null==v?void 0:v.simulationData)&&w&&!_;return(0,o.useMemo)(()=>I?[{field:l.RowAlertKey.EstimatedChangesStatic,isBlocking:!1,key:"multipleApprovals",reason:n("alertReasonMultipleApprovals"),content:n("alertContentMultipleApprovals"),severity:u.Severity.Danger}]:[],[I,n])};var s=e("@metamask/transaction-controller"),r=e("bignumber.js"),o=e("react"),a=e("react-redux"),i=e("../../../../../../shared/constants/transaction"),c=e("../../../../../../shared/modules/transaction.utils"),l=e("../../../../../components/app/confirm/info/row/constants"),u=e("../../../../../helpers/constants/design-system"),d=e("../../../../../hooks/useAsync"),m=e("../../../../../hooks/useI18nContext"),p=e("../../../../../store/actions"),f=e("../../../components/confirm/info/hooks/useBatchApproveBalanceChanges"),h=e("../../../context/confirm"),g=e("../../../../../selectors")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useMultipleApprovalsAlerts.ts"}],[7628,{"../../../../../../shared/modules/transaction.utils":5919,"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../../../selectors":8035,"../../../context/confirm":7607,"@metamask/transaction-controller":2989,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNoGasPriceAlerts=function(){const e=(0,u.useI18nContext)(),t=(0,s.useSelector)(l.getNoGasPriceFetched),{currentConfirmation:n}=(0,d.useConfirmContext)(),m=(null==n?void 0:n.userFeeLevel)&&n.userFeeLevel!==r.UserFeeLevel.CUSTOM&&!(0,a.txParamsAreDappSuggested)(n)&&t;return(0,o.useMemo)(()=>m?[{actions:[{key:c.AlertActionKey.ShowAdvancedGasFeeModal,label:e("alertActionUpdateGasFee")}],field:c.RowAlertKey.EstimatedFee,isBlocking:!0,key:"noGasPrice",message:e("alertMessageNoGasPrice"),reason:e("alertReasonNoGasPrice"),severity:i.Severity.Warning}]:[],[m])};var s=e("react-redux"),r=e("@metamask/transaction-controller"),o=e("react"),a=e("../../../../../../shared/modules/transaction.utils"),i=e("../../../../../helpers/constants/design-system"),c=e("../../../../../components/app/confirm/info/row/constants"),l=e("../../../../../selectors"),u=e("../../../../../hooks/useI18nContext"),d=e("../../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useNoGasPriceAlerts.ts"}],[7629,{"../../../../../../shared/modules/selectors/networks":5908,"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../components/confirm/info/hooks/useIsUpgradeTransaction":7390,"../../../context/confirm":7607,"./NonContractAddressAlertMessage":7616,"./useContractCode":7621,"@metamask/transaction-controller":2989,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNonContractAddressAlerts=function(){var e,t,n;const f=(0,l.useI18nContext)(),{currentConfirmation:h}=(0,u.useConfirmContext)(),g=(0,o.useSelector)(a.getNetworkConfigurationsByChainId),{isUpgrade:v}=(0,d.useIsUpgradeTransaction)(),{pending:T,value:y}=(0,p.useContractCode)(null==h||null===(e=h.txParams)||void 0===e?void 0:e.to,null==h?void 0:h.networkClientId),S=(null==h||null===(t=h.txParams)||void 0===t?void 0:t.data)!==undefined&&"0x"!==(null==h||null===(n=h.txParams)||void 0===n?void 0:n.data),k=null===(null==y?void 0:y.contractCode),A=!T&&!k&&!1===(null==y?void 0:y.isContractAddress),C=(null==h?void 0:h.type)===s.TransactionType.deployContract,w=S&&A&&!C;return(0,r.useMemo)(()=>!w||v?[]:[{field:i.RowAlertKey.InteractingWith,isBlocking:!1,key:"hexDataWhileInteractingWithNonContractAddress",reason:f("nonContractAddressAlertTitle"),content:(0,m.NonContractAddressAlertMessage)(g),severity:c.Severity.Warning}],[w,v,g])};var s=e("@metamask/transaction-controller"),r=e("react"),o=e("react-redux"),a=e("../../../../../../shared/modules/selectors/networks"),i=e("../../../../../components/app/confirm/info/row/constants"),c=e("../../../../../helpers/constants/design-system"),l=e("../../../../../hooks/useI18nContext"),u=e("../../../context/confirm"),d=e("../../../components/confirm/info/hooks/useIsUpgradeTransaction"),m=e("./NonContractAddressAlertMessage"),p=e("./useContractCode")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useNonContractAddressAlerts.ts"}],[7630,{"../../../../../../shared/lib/confirmation.utils":5805,"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../../../selectors":8035,"../../../context/confirm":7607,"./PendingTransactionAlertMessage":7617,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePendingTransactionAlerts=function(){const e=(0,c.useI18nContext)(),{currentConfirmation:t}=(0,u.useConfirmContext)(),{type:n}=t??{},m=(0,r.useSelector)(l.submittedPendingTransactionsSelector),p=(0,o.isCorrectDeveloperTransactionType)(n)&&Boolean(m.length);return(0,s.useMemo)(()=>p?[{field:a.RowAlertKey.Speed,key:"pendingTransactions",content:(0,d.PendingTransactionAlertMessage)(e),reason:e("alertReasonPendingTransactions"),severity:i.Severity.Warning}]:[],[p,e])};var s=e("react"),r=e("react-redux"),o=e("../../../../../../shared/lib/confirmation.utils"),a=e("../../../../../components/app/confirm/info/row/constants"),i=e("../../../../../helpers/constants/design-system"),c=e("../../../../../hooks/useI18nContext"),l=e("../../../../../selectors"),u=e("../../../context/confirm"),d=e("./PendingTransactionAlertMessage")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/usePendingTransactionAlerts.ts"}],[7631,{"../../../../../../shared/constants/app":5753,"../../../../../components/app/confirm/info/row/constants":6026,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../context/confirm":7607,"../../../context/dapp-swap":7608,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useResimulationAlert=function(){var e;const t=(0,o.useI18nContext)(),{currentConfirmation:n}=(0,c.useConfirmContext)(),{isQuotedSwapDisplayedInInfo:u}=(0,l.useDappSwapContext)(),d=n,m=null==d||null===(e=d.simulationData)||void 0===e?void 0:e.isUpdatedAfterSecurityCheck,p=(null==d?void 0:d.origin)===r.ORIGIN_METAMASK;return(0,s.useMemo)(()=>!m||p||u?[]:[{actions:[],field:i.RowAlertKey.Resimulation,isBlocking:!1,key:"simulationDetailsTitle",message:t("alertMessageChangeInSimulationResults"),reason:t("alertReasonChangeInSimulationResults"),severity:a.Severity.Danger}],[u,m,p,t])};var s=e("react"),r=e("../../../../../../shared/constants/app"),o=e("../../../../../hooks/useI18nContext"),a=e("../../../../../helpers/constants/design-system"),i=e("../../../../../components/app/confirm/info/row/constants"),c=e("../../../context/confirm"),l=e("../../../context/dapp-swap")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useResimulationAlert.ts"}],[7632,{"../../../../../../shared/lib/confirmation.utils":5805,"../../../../../helpers/constants/design-system":7049,"../../../../../hooks/useI18nContext":7200,"../../../../../selectors":8035,"../../../context/confirm":7607,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSigningOrSubmittingAlerts=function(){const e=(0,i.useI18nContext)(),{currentConfirmation:t}=(0,c.useConfirmContext)(),{type:n}=t??{},u=(0,r.useSelector)(o.getApprovedAndSignedTransactions),d=(0,l.isCorrectDeveloperTransactionType)(n)&&u.length>0;return(0,s.useMemo)(()=>d?[{isBlocking:!0,key:"signingOrSubmitting",message:e("isSigningOrSubmitting"),severity:a.Severity.Danger}]:[],[d])};var s=e("react"),r=e("react-redux"),o=e("../../../../../selectors"),a=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),c=e("../../../context/confirm"),l=e("../../../../../../shared/lib/confirmation.utils")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/transactions/useSigningOrSubmittingAlerts.ts"}],[7633,{"../../../../../shared/constants/network":5772,"../../../../../shared/modules/rpc.utils":5903,"../../../../components/app/confirm/info/row/constants":6026,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../../settings/networks-tab/networks-form/use-safe-chains":7921,"../../context/confirm":7607,"@metamask/controller-utils":1384,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAddEthereumChainAlerts=function(){var e;const[t,n]=(0,s.useState)([]),m=(0,c.useI18nContext)(),{safeChains:p}=(0,l.useSafeChains)(),{currentConfirmation:f}=(0,a.useConfirmContext)(),h=f,g=null==h||null===(e=h.requestData)||void 0===e?void 0:e.chainId,v=(0,s.useMemo)(()=>p&&g?p.find(e=>Number(e.chainId)===parseInt(g,16)):null,[p,g]);return(0,s.useEffect)(()=>{if(!h)return void n([]);(async()=>{var e,t,s,a,c,l,p,f;const g=[],{requestData:T}=h;if(!v)return void n(g);const y=r.NETWORKS_BYPASSING_VALIDATION[T.chainId.toLowerCase()]||{},S=v.name||T.chainName,k=m("allowAddRpc");g.push({key:"allowAddRpc",message:m("allowAddRpcDescription",[S]),severity:o.Severity.Info,field:d.RowAlertKey.RpcUrl,reason:k,inlineAlertText:"",showArrow:!1}),(null===(e=v.name)||void 0===e?void 0:e.toLowerCase())!==T.chainName.toLowerCase()&&(null==y||null===(t=y.name)||void 0===t?void 0:t.toLowerCase())!==T.chainName.toLowerCase()&&g.push({key:"mismatchedNetworkName",message:m("mismatchedNetworkName"),severity:o.Severity.Warning,field:d.RowAlertKey.ChainName,inlineAlertText:"",showArrow:!1}),(null===(s=v.nativeCurrency)||void 0===s||null===(s=s.symbol)||void 0===s?void 0:s.toLowerCase())!==(null===(a=T.ticker)||void 0===a?void 0:a.toLowerCase())&&(null==y||null===(c=y.symbol)||void 0===c?void 0:c.toLowerCase())!==(null===(l=T.ticker)||void 0===l?void 0:l.toLowerCase())&&g.push({key:"mismatchedNetworkSymbol",message:m("mismatchedNetworkSymbol"),severity:o.Severity.Warning,field:d.RowAlertKey.ChainName,inlineAlertText:"",showArrow:!1});const{origin:A}=new URL(T.rpcUrl);null!==(p=v.rpc)&&void 0!==p&&p.map(e=>new URL(e).origin).includes(A)||null!=y&&null!==(f=y.rpcUrl)&&void 0!==f&&f.includes(A)||g.push({key:"mismatchedRpcUrl",message:m("mismatchedRpcUrl"),severity:o.Severity.Warning,field:d.RowAlertKey.RpcUrl,inlineAlertText:"",showArrow:!1}),i.DEPRECATED_NETWORKS.includes(T.chainId)&&g.push({key:"deprecatedNetwork",message:m("deprecatedNetwork"),severity:o.Severity.Warning,field:d.RowAlertKey.ChainName,inlineAlertText:"",showArrow:!1});try{const e=await(0,u.jsonRpcRequest)(T.rpcUrl,"eth_chainId");T.chainId!==e&&g.push({key:"mismatchedRpcChainId",message:m("mismatchedRpcChainId"),severity:o.Severity.Warning,field:d.RowAlertKey.ChainName,inlineAlertText:"",showArrow:!1})}catch(e){console.error(`Request for method 'eth_chainId' on ${T.rpcUrl} failed`,e),g.push({key:"errorWhileConnectingToRPC",message:m("errorWhileConnectingToRPC"),severity:o.Severity.Warning,field:d.RowAlertKey.RpcUrl,inlineAlertText:"",showArrow:!1})}n(g)})()},[g,v,h,m]),t};var s=e("react"),r=e("@metamask/controller-utils"),o=e("../../../../helpers/constants/design-system"),a=e("../../context/confirm"),i=e("../../../../../shared/constants/network"),c=e("../../../../hooks/useI18nContext"),l=e("../../../settings/networks-tab/networks-form/use-safe-chains"),u=e("../../../../../shared/modules/rpc.utils"),d=e("../../../../components/app/confirm/info/row/constants")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useAddEthereumChainAlerts.ts"}],[7634,{"../../../../../app/scripts/lib/ppom/security-alerts-api":301,"../../../../components/app/confirm/info/row/constants":6026,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../../../hooks/useTrustSignals":7245,"../../context/confirm":7607,"@metamask/name-controller":2287,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAddressTrustSignalAlerts=function(){const{currentConfirmation:e}=(0,i.useConfirmContext)(),t=(0,l.useI18nContext)(),n=(0,s.useMemo)(()=>{var t,n;if(!e)return null;if(null!=e&&null!==(t=e.txParams)&&void 0!==t&&t.to)return e.txParams.to;if(null!=e&&null!==(n=e.msgParams)&&void 0!==n&&n.data)try{var s,r;const t=null==e||null===(s=e.msgParams)||void 0===s?void 0:s.data,n="string"==typeof t?JSON.parse(t):t;if(null!=n&&null!==(r=n.domain)&&void 0!==r&&r.verifyingContract)return n.domain.verifyingContract}catch(e){}return null},[e]),{state:d}=(0,c.useTrustSignal)(n||"",r.NameType.ETHEREUM_ADDRESS,null==e?void 0:e.chainId);return(0,s.useMemo)(()=>{if(!n||!(0,u.isSecurityAlertsAPIEnabled)())return[];const e=[];return d===c.TrustSignalDisplayState.Malicious?e.push({actions:[],field:a.RowAlertKey.InteractingWith,isBlocking:!1,key:"trustSignalMalicious",message:t("alertMessageAddressTrustSignalMalicious"),reason:t("nameModalTitleMalicious"),severity:o.Severity.Danger}):d===c.TrustSignalDisplayState.Warning&&e.push({actions:[],field:a.RowAlertKey.InteractingWith,isBlocking:!1,key:"trustSignalWarning",message:t("alertMessageAddressTrustSignal"),reason:t("nameModalTitleWarning"),severity:o.Severity.Warning}),e},[n,d,t])};var s=e("react"),r=e("@metamask/name-controller"),o=e("../../../../helpers/constants/design-system"),a=e("../../../../components/app/confirm/info/row/constants"),i=e("../../context/confirm"),c=e("../../../../hooks/useTrustSignals"),l=e("../../../../hooks/useI18nContext"),u=e("../../../../../app/scripts/lib/ppom/security-alerts-api")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useAddressTrustSignalAlerts.ts"}],[7635,{"../../../../../shared/constants/network":5772,"../../../../../shared/constants/security-provider":5781,"../../../../../shared/lib/confirmation.utils":5805,"../../../../helpers/constants/zendesk-url":7061,"../../../../hooks/useI18nContext":7200,"../../context/confirm":7607,"../../utils":7743,"../useCurrentSignatureSecurityAlertResponse":7697,"./utils":7643,"@blockaid/ppom_release/package.json":626,react:5229,"react-compiler-runtime":5128,"react-redux":5179,zlib:4032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=h(e("@blockaid/ppom_release/package.json")),o=(e("react"),e("react-redux")),a=e("../../../../../shared/constants/network"),i=e("../../../../../shared/constants/security-provider"),c=h(e("../../../../helpers/constants/zendesk-url")),l=e("../../../../hooks/useI18nContext"),u=e("../../utils"),d=e("../../../../../shared/lib/confirmation.utils"),m=e("../../context/confirm"),p=h(e("../useCurrentSignatureSecurityAlertResponse")),f=e("./utils");function h(e){return e&&e.__esModule?e:{default:e}}const g=e("zlib"),v=[i.BlockaidResultType.Benign,i.BlockaidResultType.Loading];n.default=()=>{var e;const t=(0,s.c)(16),n=(0,l.useI18nContext)(),{currentConfirmation:h}=(0,m.useConfirmContext)(),T=null==h||null===(e=h.securityAlertResponse)||void 0===e?void 0:e.securityAlertId,y=null==h?void 0:h.type,S=(0,p.default)();let k;t[0]!==T?(k=e=>{var t;return null===(t=e.metamask.transactions.find(e=>{var t;return(null===(t=e.securityAlertResponse)||void 0===t?void 0:t.securityAlertId)===T}))||void 0===t?void 0:t.securityAlertResponse},t[0]=T,t[1]=k):k=t[1];const A=(0,o.useSelector)(k),C=S||A,w=(0,d.isCorrectDeveloperTransactionType)(y)||u.SIGNATURE_TRANSACTION_TYPES.includes(y),_=v.includes(null==C?void 0:C.result_type);let x,b;if(t[2]!==h||t[3]!==C){if(C&&h){const{block:e,features:t,reason:n,result_type:s}=C,{chainId:o,msgParams:c,origin:l,type:u,txParams:d}=h,m=s===i.BlockaidResultType.Errored,p={blockNumber:e,blockaidVersion:r.default.version,chain:a.NETWORK_TO_NAME_MAP[o],classification:m?"error":n,domain:l??(null==c?void 0:c.origin)??l,jsonRpcMethod:u,jsonRpcParams:JSON.stringify(d??c),resultType:m?i.BlockaidResultType.Errored:s,reproduce:JSON.stringify(t)};x=JSON.stringify(p)}t[2]=h,t[3]=C,t[4]=x}else x=t[4];e:{if(!w||_||!C){let e;t[5]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[5]=e):e=t[5],b=e;break e}let e,s,r=c.default.SUPPORT_URL;if(x){let e;var E;if(t[6]!==x)e=(null==g||null===(E=g.gzipSync)||void 0===E?void 0:E.call(g,x))??x,t[6]=x,t[7]=e;else e=t[7];const n=e;let s;t[8]!==n?(s=n.toString("base64"),t[8]=n,t[9]=s):s=t[9],r=`${i.FALSE_POSITIVE_REPORT_BASE_URL}?data=${encodeURIComponent(s)}&utm_source=${i.SECURITY_PROVIDER_UTM_SOURCE}`}t[10]!==r||t[11]!==C||t[12]!==n?(e=(0,f.normalizeProviderAlert)(C,n,r),t[10]=r,t[11]=C,t[12]=n,t[13]=e):e=t[13],t[14]!==e?(s=[e],t[14]=e,t[15]=s):s=t[15],b=s}return b}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useBlockaidAlerts.ts"}],[7636,{"../../../../components/app/confirm/info/row/constants":6026,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../context/confirm":7607,"../../utils":7743,"../../utils/confirm":7742,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("../../../../components/app/confirm/info/row/constants")),o=e("../../../../helpers/constants/design-system"),a=e("../../../../hooks/useI18nContext"),i=e("../../utils/confirm"),c=e("../../utils"),l=e("../../context/confirm");n.default=()=>{const e=(0,s.c)(20),t=(0,a.useI18nContext)(),{currentConfirmation:n}=(0,l.useConfirmContext)();let u;var d;e[0]!==n?(u=(0,c.isSignatureTransactionType)(n)?null==n||null===(d=n.msgParams)||void 0===d?void 0:d.origin:null==n?void 0:n.origin,e[0]=n,e[1]=u):u=e[1];const m=u;let p;e:{if(m===undefined||"metamask"===m||(0,i.isValidASCIIURL)(m)){let t;e[2]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[2]=t):t=e[2],p=t;break e}let n,s,a,c,l,u;e[3]!==t?(n=t("addressMismatch"),e[3]=t,e[4]=n):n=e[4],e[5]!==t?(s=t("alertMessageAddressMismatchWarning"),e[5]=t,e[6]=s):s=e[6],e[7]!==m||e[8]!==t?(a=t("addressMismatchOriginal",[m]),e[7]=m,e[8]=t,e[9]=a):a=e[9],e[10]!==m||e[11]!==t?(c=t("addressMismatchPunycode",[m?(0,i.toPunycodeURL)(m):""]),e[10]=m,e[11]=t,e[12]=c):c=e[12],e[13]!==a||e[14]!==c?(l=[a,c],e[13]=a,e[14]=c,e[15]=l):l=e[15],e[16]!==n||e[17]!==s||e[18]!==l?(u=[{key:"originSpecialCharacterWarning",reason:n,field:r.RowAlertKey.RequestFrom,severity:o.Severity.Warning,message:s,alertDetails:l}],e[16]=n,e[17]=s,e[18]=l,e[19]=u):u=e[19],p=u}return p}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useConfirmationOriginAlerts.ts"}],[7637,{"../../../../components/app/confirm/info/row/constants":6026,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../../../selectors":8035,"../../../../store/actions":8065,"../../context/confirm":7607,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNetworkAndOriginSwitchingAlerts=void 0;var s=e("react-compiler-runtime"),r=e("react"),o=e("react-redux"),a=e("../../../../components/app/confirm/info/row/constants"),i=e("../../../../helpers/constants/design-system"),c=e("../../../../store/actions"),l=e("../../../../selectors"),u=e("../../../../hooks/useI18nContext"),d=e("../../context/confirm");n.useNetworkAndOriginSwitchingAlerts=()=>{var e;const t=(0,s.c)(34),n=(0,u.useI18nContext)(),{currentConfirmation:m}=(0,d.useConfirmContext)();let p;t[0]!==m?(p=m??{},t[0]=m,t[1]=p):p=t[1];const{chainId:f,id:h}=p,g=f===undefined?"":f,v=(null==m?void 0:m.origin)??(null==m||null===(e=m.msgParams)||void 0===e?void 0:e.origin)??"";let T;t[2]!==g?(T=e=>(0,l.selectNetworkConfigurationByChainId)(e,g),t[2]=g,t[3]=T):T=t[3];const y=(0,o.useSelector)(T),[S,k]=(0,r.useState)();let A,C,w;if(t[4]!==h||t[5]!==g||t[6]!==v?(A=()=>{let e=!0;return(async()=>{const t=await(0,c.getLastInteractedConfirmationInfo)();if(!e)return;k(t);(!t||(null==t?void 0:t.id)!==h)&&(0,c.setLastInteractedConfirmationInfo)({id:h,chainId:g,origin:v,timestamp:(new Date).getTime()})})(),()=>{e=!1}},C=[h,g,v,k],t[4]=h,t[5]=g,t[6]=v,t[7]=A,t[8]=C):(A=t[7],C=t[8]),(0,r.useEffect)(A,C),null==y||y.name,t[9]!==h||t[10]!==S||t[11]!==g||t[12]!==(null==y?void 0:y.name)||t[13]!==v||t[14]!==n){e:{if(!h||!S){let e;t[16]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[16]=e):e=t[16],w=e;break e}const e=[];if(!((new Date).getTime()-S.timestamp<=6e4)){let e;t[17]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[17]=e):e=t[17],w=e;break e}const{chainId:s,origin:r}=S;if(s!==g){let s;t[18]!==n?(s=n("networkChanged"),t[18]=n,t[19]=s):s=t[19];const r=(null==y?void 0:y.name)??"";let o,c;t[20]!==n||t[21]!==r?(o=n("networkChangedMessage",[r]),t[20]=n,t[21]=r,t[22]=o):o=t[22],t[23]!==s||t[24]!==o?(c={key:"networkSwitchInfo",reason:s,field:a.RowAlertKey.Network,severity:i.Severity.Info,message:o},t[23]=s,t[24]=o,t[25]=c):c=t[25],e.push(c)}if(r!==v){let s;t[26]!==n?(s=n("originChanged"),t[26]=n,t[27]=s):s=t[27];const r=v??"";let o,c;t[28]!==n||t[29]!==r?(o=n("originChangedMessage",[r]),t[28]=n,t[29]=r,t[30]=o):o=t[30],t[31]!==s||t[32]!==o?(c={key:"originSwitchInfo",reason:s,field:a.RowAlertKey.RequestFrom,severity:i.Severity.Info,message:o},t[31]=s,t[32]=o,t[33]=c):c=t[33],e.push(c)}w=e}t[9]=h,t[10]=S,t[11]=g,t[12]=null==y?void 0:y.name,t[13]=v,t[14]=n,t[15]=w}else w=t[15];return w}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useNetworkAndOriginSwitchingAlerts.ts"}],[7638,{"../../../../components/app/confirm/info/row/constants":6026,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../../../hooks/useOriginTrustSignals":7220,"../../../../hooks/useTrustSignals":7245,"../../context/confirm":7607,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginTrustSignalAlerts=function(){var e;const t=(0,s.c)(18),n=(0,a.useI18nContext)(),{currentConfirmation:u}=(0,i.useConfirmContext)(),d=(null==u?void 0:u.origin)??(null==u||null===(e=u.msgParams)||void 0===e?void 0:e.origin)??"",{state:m}=(0,l.useOriginTrustSignals)(d);let p;e:{if(!d){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0],p=e;break e}let e;if(t[1]!==n||t[2]!==m){if(e=[],m===c.TrustSignalDisplayState.Malicious){let s,a,i;t[4]!==n?(s=n("alertReasonOriginTrustSignalMalicious"),t[4]=n,t[5]=s):s=t[5],t[6]!==n?(a=n("alertMessageOriginTrustSignalMalicious"),t[6]=n,t[7]=a):a=t[7],t[8]!==s||t[9]!==a?(i={key:"originTrustSignalMalicious",reason:s,field:r.RowAlertKey.RequestFrom,severity:o.Severity.Danger,message:a},t[8]=s,t[9]=a,t[10]=i):i=t[10],e.push(i)}else if(m===c.TrustSignalDisplayState.Warning){let s,a,i;t[11]!==n?(s=n("alertReasonOriginTrustSignalWarning"),t[11]=n,t[12]=s):s=t[12],t[13]!==n?(a=n("alertMessageOriginTrustSignalWarning"),t[13]=n,t[14]=a):a=t[14],t[15]!==s||t[16]!==a?(i={key:"originTrustSignalWarning",reason:s,field:r.RowAlertKey.RequestFrom,severity:o.Severity.Warning,message:a},t[15]=s,t[16]=a,t[17]=i):i=t[17],e.push(i)}t[1]=n,t[2]=m,t[3]=e}else e=t[3];p=e}return p};var s=e("react-compiler-runtime"),r=(e("react"),e("../../../../components/app/confirm/info/row/constants")),o=e("../../../../helpers/constants/design-system"),a=e("../../../../hooks/useI18nContext"),i=e("../../context/confirm"),c=e("../../../../hooks/useTrustSignals"),l=e("../../../../hooks/useOriginTrustSignals")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useOriginTrustSignalAlerts.ts"}],[7639,{"../../../../components/app/confirm/info/row/constants":6026,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../../../selectors/multichain-accounts/account-tree":8039,"../../context/confirm":7607,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSelectedAccountAlerts=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),o=e("../../../../selectors/multichain-accounts/account-tree"),a=e("../../../../components/app/confirm/info/row/constants"),i=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),l=e("../../context/confirm");n.useSelectedAccountAlerts=()=>{var e,t,n;const u=(0,s.c)(8),d=(0,c.useI18nContext)(),{currentConfirmation:m}=(0,l.useConfirmContext)(),p=(0,r.useSelector)(o.getSelectedAccountGroup),f=null===(e=(0,r.useSelector)(o.getAccountGroupWithInternalAccounts).find(e=>e.id===p))||void 0===e?void 0:e.accounts,h=(null==m||null===(t=m.msgParams)||void 0===t?void 0:t.from)??(null==m||null===(n=m.txParams)||void 0===n?void 0:n.from),g=null==f?void 0:f.find(e=>e.address.toLowerCase()===(null==h?void 0:h.toLowerCase()));let v;e:{if(!h||g){let e;u[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],u[0]=e):e=u[0],v=e;break e}let e,t,n;u[1]!==d?(e=d("selectedAccountMismatch"),u[1]=d,u[2]=e):e=u[2],u[3]!==d?(t=d("alertSelectedAccountWarning"),u[3]=d,u[4]=t):t=u[4],u[5]!==e||u[6]!==t?(n=[{key:"selectedAccountWarning",reason:e,field:a.RowAlertKey.SigningInWith,severity:i.Severity.Info,message:t}],u[5]=e,u[6]=t,u[7]=n):n=u[7],v=n}return v}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useSelectedAccountAlerts.ts"}],[7640,{"../../../../components/app/confirm/info/row/constants":6026,"../../../../components/component-library":6486,"../../../../helpers/constants/design-system":7049,"../../../../helpers/constants/routes":7054,"../../../../hooks/useI18nContext":7200,"../../../../selectors/shield/coverage":8055,"../../context/confirm":7607,"../../utils":7743,"../transactions/useEnableShieldCoverageChecks":7678,"../useSignatureEventFragment":7717,"../useTransactionEventFragment":7722,"./transactions/ShieldCoverageAlertMessage":7618,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShieldCoverageAlert=function(){const e=(0,s.c)(62),t=(0,l.useI18nContext)(),{currentConfirmation:n}=(0,d.useConfirmContext)(),{updateSignatureEventFragment:A}=(0,g.useSignatureEventFragment)(),{updateTransactionEventFragment:C}=(0,v.useTransactionEventFragment)();let w;e[0]!==n?(w=n??{},e[0]=n,e[1]=w):w=e[1];const{id:_}=w;let x;e[2]!==_?(x=e=>(0,u.getCoverageStatus)(e,_),e[2]=_,e[3]=x):x=e[3];const{reasonCode:b,status:E}=(0,o.useSelector)(x);let P;e[4]!==_?(P=e=>(0,u.getCoverageMetrics)(e,_),e[4]=_,e[5]=P):P=e[5];const I=(0,o.useSelector)(P),{isEnabled:M,isPaused:R}=(0,m.useEnableShieldCoverageChecks)(),N="covered"===E;let O;e[6]!==N||e[7]!==R||e[8]!==b?(O=N?"shieldCoverageAlertCovered":S(b),R&&(O="shieldCoverageAlertMessagePaused"),e[6]=N,e[7]=R,e[8]=b,e[9]=O):O=e[9];const D=M&&Boolean(E)||R,F=(0,a.useNavigate)();let G;e[10]!==F?(G=()=>{F(f.TRANSACTION_SHIELD_ROUTE)},e[10]=F,e[11]=G):G=e[11];const L=G;let $;e[12]!==n||e[13]!==_||e[14]!==M||e[15]!==R||e[16]!==(null==I?void 0:I.latency)||e[17]!==O||e[18]!==E||e[19]!==A||e[20]!==C?($=()=>{if(M||R){const e={shield_result:k(E),shield_reason:O,shield_result_response_latency_ms:(null==I?void 0:I.latency)??y};(0,h.isSignatureTransactionType)(n)?A({properties:e}):C({properties:e},_)}},e[12]=n,e[13]=_,e[14]=M,e[15]=R,e[16]=null==I?void 0:I.latency,e[17]=O,e[18]=E,e[19]=A,e[20]=C,e[21]=$):$=e[21];const B=null==I?void 0:I.latency;let j,U;e[22]!==n||e[23]!==_||e[24]!==M||e[25]!==R||e[26]!==O||e[27]!==E||e[28]!==B||e[29]!==A||e[30]!==C?(j=[n,_,M,R,B,O,E,A,C],e[22]=n,e[23]=_,e[24]=M,e[25]=R,e[26]=O,e[27]=E,e[28]=B,e[29]=A,e[30]=C,e[31]=j):j=e[31];(0,r.useEffect)($,j);e:{if(!D){let t;e[32]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[32]=t):t=e[32],U=t;break e}let s,r=c.Severity.Disabled;e[33]!==R||e[34]!==t?(s=t(R?"shieldPaused":"shieldNotCovered"),e[33]=R,e[34]=t,e[35]=s):s=e[35];let o,a=s;e[36]!==n?(o=(0,h.isSignatureTransactionType)(n),e[36]=n,e[37]=o):o=e[37];const l=o;let u;e[38]!==R||e[39]!==t?(u=t(R?"shieldCoverageAlertMessageTitlePaused":"shieldCoverageAlertMessageTitle"),e[38]=R,e[39]=t,e[40]=u):u=e[40];let d,m=u;if(l&&!R){let n;e[41]!==t?(n=t("shieldCoverageAlertMessageTitleSignatureRequest"),e[41]=t,e[42]=n):n=e[42],m=n}let f=c.IconColor.inherit;if(!R)t:switch(E){case"covered":{let n,s;r=c.Severity.Success,e[43]!==t?(n=t("shieldCovered"),e[43]=t,e[44]=n):n=e[44],a=n,f=c.IconColor.successDefault,e[45]!==l||e[46]!==t?(s=t(l?"shieldCoverageAlertMessageTitleSignatureRequestCovered":"shieldCoverageAlertMessageTitleCovered"),e[45]=l,e[46]=t,e[47]=s):s=e[47],m=s;break t}case"malicious":r=c.Severity.Danger,d=c.BackgroundColor.errorMuted,f=c.IconColor.errorDefault}const g=m,v=r;let y,S;e[48]!==O?(y=(0,T.ShieldCoverageAlertMessage)({modalBodyStr:O}),e[48]=O,e[49]=y):y=e[49],e[50]!==R||e[51]!==t?(S=R?t("shieldCoverageAlertMessagePausedAcknowledgeButton"):undefined,e[50]=R,e[51]=t,e[52]=S):S=e[52];const k=R?L:undefined;let A;e[53]!==f||e[54]!==a||e[55]!==d||e[56]!==m||e[57]!==r||e[58]!==y||e[59]!==S||e[60]!==k?(A=[{key:"shieldCoverageAlert",reason:g,field:i.RowAlertKey.ShieldFooterCoverageIndicator,severity:v,content:y,isBlocking:!1,inlineAlertText:a,inlineAlertTextPill:!0,inlineAlertTextBackgroundColor:d,alertDetailsBackgroundColor:c.BackgroundColor.backgroundDefault,inlineAlertIconRight:!0,iconName:p.IconName.Security,iconColor:f,showArrow:!1,isOpenModalOnClick:!0,hideFromAlertNavigation:!0,acknowledgeBypass:!0,customAcknowledgeButtonText:S,customAcknowledgeButtonOnClick:k}],e[53]=f,e[54]=a,e[55]=d,e[56]=m,e[57]=r,e[58]=y,e[59]=S,e[60]=k,e[61]=A):A=e[61],U=A}return U};var s=e("react-compiler-runtime"),r=e("react"),o=e("react-redux"),a=e("react-router-dom-v5-compat"),i=e("../../../../components/app/confirm/info/row/constants"),c=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),u=e("../../../../selectors/shield/coverage"),d=e("../../context/confirm"),m=e("../transactions/useEnableShieldCoverageChecks"),p=e("../../../../components/component-library"),f=e("../../../../helpers/constants/routes"),h=e("../../utils"),g=e("../useSignatureEventFragment"),v=e("../useTransactionEventFragment"),T=e("./transactions/ShieldCoverageAlertMessage");const y="N/A",S=e=>{let t;switch(e){case"E001":case"E002":case"E003":case"E004":case"E005":case"E006":case"E101":case"E102":case"E103":case"E301":case"E302":case"E500":case"E501":case"E600":case"E601":t="shieldCoverageAlertMessagePotentialRisks";break;case"E007":case"E802":case"E803":default:t="shieldCoverageAlertMessageUnknown";break;case"E008":t="shieldCoverageAlertMessageChainNotSupported";break;case"E104":case"E200":case"E300":case"E400":case"E401":case"E402":t="shieldCoverageAlertMessageTxTypeNotSupported";break;case"E700":case"E701":case"E702":case"E703":t="shieldCoverageAlertMessageSignatureNotSupported";break;case"E800":t="shieldCoverageAlertHighRiskTransaction";break;case"E801":t="shieldCoverageAlertMessageTokenTrustSignalWarning"}return t},k=e=>{switch(e){case"covered":return"covered";case"malicious":return"not_covered_malicious";case"unknown":return"not_covered";default:return"loading"}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useShieldCoverageAlert.ts"}],[7641,{"../../../../../shared/constants/signatures":5782,"../../../../../shared/modules/transaction.utils":5919,"../../../../components/app/confirm/info/row/constants":6026,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../../../hooks/useTrustSignals":7245,"../../context/confirm":7607,"../../utils":7743,"@metamask/name-controller":2287,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSpenderAlerts=function(){const e=(0,s.c)(25),t=(0,o.useI18nContext)(),{currentConfirmation:n}=(0,a.useConfirmContext)();let p;e:{var f;if(!n){p=null;break e}const t=null===(f=n.txParams)||void 0===f?void 0:f.data;if(t){const n=t;let s;e[0]!==n?(s=(0,c.parseApprovalTransactionData)(n),e[0]=n,e[1]=s):s=e[1];const r=s;if(null!=r&&r.spender){p=r.spender;break e}}else if((0,i.isSignatureTransactionType)(n)&&"eth_signTypedData"===n.type){var h;const t=null===(h=n.msgParams)||void 0===h?void 0:h.data;if(t){let n,s;if(e[2]!==t){s=(0,c.parseTypedDataMessage)(t);const{primaryType:r}=s;n=l.PRIMARY_TYPES_PERMIT.includes(r),e[2]=t,e[3]=n,e[4]=s}else n=e[3],s=e[4];if(n){var g;p=(null===(g=s.message)||void 0===g?void 0:g.spender)||null;break e}}}p=null}const v=p,{state:T}=(0,m.useTrustSignal)(v||"",r.NameType.ETHEREUM_ADDRESS,null==n?void 0:n.chainId);let y;e:{if(!v){let t;e[5]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[5]=t):t=e[5],y=t;break e}let n;if(e[6]!==t||e[7]!==T){if(n=[],T===m.TrustSignalDisplayState.Malicious){let s,r,o,a;e[9]===Symbol.for("react.memo_cache_sentinel")?(s=[],e[9]=s):s=e[9],e[10]!==t?(r=t("alertMessageAddressTrustSignalMalicious"),e[10]=t,e[11]=r):r=e[11],e[12]!==t?(o=t("nameModalTitleMalicious"),e[12]=t,e[13]=o):o=e[13],e[14]!==r||e[15]!==o?(a={actions:s,field:u.RowAlertKey.Spender,isBlocking:!1,key:"spenderTrustSignalMalicious",message:r,reason:o,severity:d.Severity.Danger},e[14]=r,e[15]=o,e[16]=a):a=e[16],n.push(a)}else if(T===m.TrustSignalDisplayState.Warning){let s,r,o,a;e[17]===Symbol.for("react.memo_cache_sentinel")?(s=[],e[17]=s):s=e[17],e[18]!==t?(r=t("alertMessageAddressTrustSignal"),e[18]=t,e[19]=r):r=e[19],e[20]!==t?(o=t("nameModalTitleWarning"),e[20]=t,e[21]=o):o=e[21],e[22]!==r||e[23]!==o?(a={actions:s,field:u.RowAlertKey.Spender,isBlocking:!1,key:"spenderTrustSignalWarning",message:r,reason:o,severity:d.Severity.Warning},e[22]=r,e[23]=o,e[24]=a):a=e[24],n.push(a)}e[6]=t,e[7]=T,e[8]=n}else n=e[8];y=n}return y};var s=e("react-compiler-runtime"),r=(e("react"),e("@metamask/name-controller")),o=e("../../../../hooks/useI18nContext"),a=e("../../context/confirm"),i=e("../../utils"),c=e("../../../../../shared/modules/transaction.utils"),l=e("../../../../../shared/constants/signatures"),u=e("../../../../components/app/confirm/info/row/constants"),d=e("../../../../helpers/constants/design-system"),m=e("../../../../hooks/useTrustSignals")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useSpenderAlerts.ts"}],[7642,{"../../../../components/app/confirm/info/row/constants":6026,"../../../../helpers/constants/design-system":7049,"../../../../hooks/useI18nContext":7200,"../../../../hooks/useTokenTrustSignals":7242,"../../../../hooks/useTrustSignals":7245,"../../context/confirm":7607,"@metamask/transaction-controller":2989,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTrustSignalAlerts=function(){var e;const t=(0,s.c)(16),n=(0,l.useI18nContext)(),{currentConfirmation:r}=(0,i.useConfirmContext)(),c=r,v=null==c?void 0:c.chainId,T=null==c||null===(e=c.simulationData)||void 0===e?void 0:e.tokenBalanceChanges;let y;e:{if(null==T||!T.length){y=undefined;break e}let e;t[0]!==T?(e=T.filter(g).map(h),t[0]=T,t[1]=e):e=t[1];const n=e;y=n.length?n:undefined}const S=y,k=(0,u.useTokenTrustSignalsForAddresses)(v,S);let A;e:{if(null==S||!S.length){A=d;break e}const e=null==k?void 0:k.some(f),s=null==k?void 0:k.some(p);if(e){let e,s,r;t[2]!==n?(e=n("alertMessageTokenTrustSignalMalicious"),t[2]=n,t[3]=e):e=t[3],t[4]!==n?(s=n("alertReasonTokenTrustSignalMalicious"),t[4]=n,t[5]=s):s=t[5],t[6]!==e||t[7]!==s?(r=[{actions:m,field:a.RowAlertKey.IncomingTokens,isBlocking:!1,key:"tokenTrustSignalMalicious",message:e,reason:s,severity:o.Severity.Danger}],t[6]=e,t[7]=s,t[8]=r):r=t[8],A=r;break e}if(s){let e,s,r;t[9]!==n?(e=n("alertMessageTokenTrustSignalWarning"),t[9]=n,t[10]=e):e=t[10],t[11]!==n?(s=n("alertReasonTokenTrustSignalWarning"),t[11]=n,t[12]=s):s=t[12],t[13]!==e||t[14]!==s?(r=[{actions:m,field:a.RowAlertKey.IncomingTokens,isBlocking:!1,key:"tokenTrustSignalWarning",message:e,reason:s,severity:o.Severity.Warning}],t[13]=e,t[14]=s,t[15]=r):r=t[15],A=r;break e}A=d}return A};var s=e("react-compiler-runtime"),r=(e("react"),e("@metamask/transaction-controller")),o=e("../../../../helpers/constants/design-system"),a=e("../../../../components/app/confirm/info/row/constants"),i=e("../../context/confirm"),c=e("../../../../hooks/useTrustSignals"),l=e("../../../../hooks/useI18nContext"),u=e("../../../../hooks/useTokenTrustSignals");const d=[],m=[];function p(e){return e.state===c.TrustSignalDisplayState.Warning}function f(e){return e.state===c.TrustSignalDisplayState.Malicious}function h(e){return e.address.toLowerCase()}function g(e){return!e.isDecrease&&e.standard===r.SimulationTokenStandard.erc20&&e.address}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/useTokenTrustSignalAlerts.ts"}],[7643,{"../../../../../shared/constants/security-provider":5781,"../../../../helpers/constants/design-system":7049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.REASON_TO_TITLE_TKEY=n.REASON_TO_DESCRIPTION_TKEY=void 0,n.getProviderAlertSeverity=i,n.normalizeProviderAlert=function(e,t,n){return{key:e.securityAlertId||"",reason:t(a[e.reason]||"blockaidTitleDeceptive"),severity:i(e.result_type),alertDetails:e.features,message:t(o[e.reason]||o.other),provider:s.SecurityProvider.Blockaid,reportUrl:n}};var s=e("../../../../../shared/constants/security-provider"),r=e("../../../../helpers/constants/design-system");const o=n.REASON_TO_DESCRIPTION_TKEY=Object.freeze({[s.BlockaidReason.approvalFarming]:"blockaidDescriptionApproveFarming",[s.BlockaidReason.permitFarming]:"blockaidDescriptionApproveFarming",[s.BlockaidReason.setApprovalForAll]:"blockaidDescriptionApproveFarming",[s.BlockaidReason.blurFarming]:"blockaidDescriptionBlurFarming",[s.BlockaidReason.errored]:"blockaidDescriptionErrored",[s.BlockaidReason.seaportFarming]:"blockaidDescriptionSeaportFarming",[s.BlockaidReason.maliciousDomain]:"blockaidDescriptionMaliciousDomain",[s.BlockaidReason.rawSignatureFarming]:"blockaidDescriptionMightLoseAssets",[s.BlockaidReason.tradeOrderFarming]:"blockaidDescriptionMightLoseAssets",[s.BlockaidReason.rawNativeTokenTransfer]:"blockaidDescriptionTransferFarming",[s.BlockaidReason.transferFarming]:"blockaidDescriptionTransferFarming",[s.BlockaidReason.transferFromFarming]:"blockaidDescriptionTransferFarming",[s.BlockaidReason.other]:"blockaidDescriptionMightLoseAssets"}),a=n.REASON_TO_TITLE_TKEY=Object.freeze({[s.BlockaidReason.errored]:"blockaidTitleMayNotBeSafe",[s.BlockaidReason.rawSignatureFarming]:"blockaidTitleSuspicious"});function i(e){switch(e){case s.BlockaidResultType.Malicious:return r.Severity.Danger;case s.BlockaidResultType.Warning:return r.Severity.Warning;default:return r.Severity.Info}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/alerts/utils.ts"}],[7644,{"../../../../../shared/modules/selectors":5906,"../../../../hooks/useAsync":7181,"../../../../store/actions":8065,"../../context/confirm":7607,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGaslessSupportedSmartTransactions=function(){const e=(0,s.c)(11),{currentConfirmation:t}=(0,c.useConfirmContext)();let n;e[0]!==t?(n=t??{},e[0]=t,e[1]=n):n=e[1];const{chainId:l}=n;let u;e[2]!==l?(u=e=>(0,o.getIsSmartTransaction)(e,l),e[2]=l,e[3]=u):u=e[3];const d=(0,r.useSelector)(u);let m,p;e[4]!==l?(m=async()=>!!l&&(0,i.isSendBundleSupported)(l),p=[l],e[4]=l,e[5]=m,e[6]=p):(m=e[5],p=e[6]);const{value:f,pending:h}=(0,a.useAsyncResult)(m,p),g=Boolean(d),v=Boolean(d&&f);let T;e[7]!==h||e[8]!==g||e[9]!==v?(T={isSmartTransaction:g,isSupported:v,pending:h},e[7]=h,e[8]=g,e[9]=v,e[10]=T):T=e[10];return T};var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("../../../../../shared/modules/selectors"),a=e("../../../../hooks/useAsync"),i=e("../../../../store/actions"),c=e("../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/gas/useGaslessSupportedSmartTransactions.ts"}],[7645,{"../../../../selectors":8035,"../../context/confirm":7607,"../useIsInsufficientBalance":7709,"./useIsGaslessSupported":7646,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsGaslessLoading=function(){const e=(0,s.c)(4),{currentConfirmation:t}=(0,o.useConfirmContext)();let n;e[0]!==t?(n=t??{},e[0]=t,e[1]=n):n=e[1];const{gasFeeTokens:l}=n,{isSupported:u}=(0,c.useIsGaslessSupported)(),d=(0,r.useSelector)(a.getUseTransactionSimulations),m=(0,i.useIsInsufficientBalance)(),p=d&&u&&m&&!l;let f;e[2]!==p?(f={isGaslessLoading:p},e[2]=p,e[3]=f):f=e[3];return f};var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("../../context/confirm"),a=e("../../../../selectors"),i=e("../useIsInsufficientBalance"),c=e("./useIsGaslessSupported")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/gas/useIsGaslessLoading.ts"}],[7646,{"../../../../hooks/useAsync":7181,"../../../../store/actions":8065,"../../context/confirm":7607,"./useGaslessSupportedSmartTransactions":7644,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsGaslessSupported=function(){var e;const t=(0,s.c)(9),{currentConfirmation:n}=(0,o.useConfirmContext)();let c;t[0]!==n?(c=n??{},t[0]=n,t[1]=c):c=t[1];const{chainId:l}=c,{isSmartTransaction:u,isSupported:d,pending:m}=(0,i.useGaslessSupportedSmartTransactions)(),p=!m&&!d;let f,h;t[2]!==l||t[3]!==p?(f=async()=>{if(p)return(0,a.isRelaySupported)(l)},h=[l,p],t[2]=l,t[3]=p,t[4]=f,t[5]=h):(f=t[4],h=t[5]);const{value:g}=(0,r.useAsyncResult)(f,h),v=Boolean(g&&(null==n||null===(e=n.txParams)||void 0===e?void 0:e.to)!==undefined),T=Boolean(d||v);let y;t[6]!==u||t[7]!==T?(y={isSupported:T,isSmartTransaction:u},t[6]=u,t[7]=T,t[8]=y):y=t[8];return y};var s=e("react-compiler-runtime"),r=e("../../../../hooks/useAsync"),o=e("../../context/confirm"),a=e("../../../../store/actions"),i=e("./useGaslessSupportedSmartTransactions")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/gas/useIsGaslessSupported.ts"}],[7647,{"../../../../../../shared/constants/metametrics":5768,"../../../../../contexts/metametrics":7005,"../../../context/send":7610,"../../../context/send-metrics":7609,"../useSendType":7669,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAmountSelectionMetrics=void 0;var s=e("react-compiler-runtime"),r=e("react"),o=e("../../../../../../shared/constants/metametrics"),a=e("../../../../../contexts/metametrics"),i=e("../../../context/send"),c=e("../../../context/send-metrics"),l=e("../useSendType");n.useAmountSelectionMetrics=()=>{const e=(0,s.c)(24),t=(0,r.useContext)(a.MetaMetricsContext),{chainId:n}=(0,i.useSendContext)(),{isEvmSendType:u}=(0,l.useSendType)(),{accountType:d,amountInputMethod:m,amountInputType:p,setAmountInputMethod:f,setAmountInputType:h}=(0,c.useSendMetricsContext)();let g;e[0]!==f?(g=()=>{f(c.AmountInputMethod.Manual)},e[0]=f,e[1]=g):g=e[1];const v=g;let T;e[2]!==f?(T=()=>{f(c.AmountInputMethod.Pasted)},e[2]=f,e[3]=T):T=e[3];const y=T;let S;e[4]!==f?(S=()=>{f(c.AmountInputMethod.PressedMax)},e[4]=f,e[5]=S):S=e[5];const k=S;let A;e[6]!==h?(A=()=>{h(c.AmountInputType.Fiat)},e[6]=h,e[7]=A):A=e[7];const C=A;let w;e[8]!==h?(w=()=>{h(c.AmountInputType.Token)},e[8]=h,e[9]=w):w=e[9];const _=w;let x;e[10]!==d||e[11]!==m||e[12]!==p||e[13]!==n||e[14]!==u||e[15]!==t?(x=()=>{t({event:o.MetaMetricsEventName.SendAmountSelected,category:o.MetaMetricsEventCategory.Send,properties:{account_type:d,input_method:m,input_type:p,chain_id:u?n:undefined,chain_id_caip:u?undefined:n}},{excludeMetaMetricsId:!1})},e[10]=d,e[11]=m,e[12]=p,e[13]=n,e[14]=u,e[15]=t,e[16]=x):x=e[16];const b=x;let E;return e[17]!==b||e[18]!==v||e[19]!==y||e[20]!==k||e[21]!==C||e[22]!==_?(E={captureAmountSelected:b,setAmountInputMethodManual:v,setAmountInputMethodPasted:y,setAmountInputMethodPressedMax:k,setAmountInputTypeFiat:C,setAmountInputTypeToken:_},e[17]=b,e[18]=v,e[19]=y,e[20]=k,e[21]=C,e[22]=_,e[23]=E):E=e[23],E}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/metrics/useAmountSelectionMetrics.ts"}],[7648,{"../../../../../../shared/constants/metametrics":5768,"../../../../../contexts/metametrics":7005,"../../../context/send-metrics":7609,"../useSendAssets":7664,"ethers/lib/utils":4334,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAssetSelectionMetrics=void 0;var s=e("react-compiler-runtime"),r=e("react"),o=e("ethers/lib/utils"),a=e("../../../../../../shared/constants/metametrics"),i=e("../../../../../contexts/metametrics"),c=e("../../../context/send-metrics"),l=e("../useSendAssets");const u="nft",d="native",m="token";function p(e){return e!==c.AssetFilterMethod.None}n.useAssetSelectionMetrics=()=>{const e=(0,s.c)(18),t=(0,r.useContext)(i.MetaMetricsContext),{tokens:n,nfts:f}=(0,l.useSendAssets)(),{accountType:h,assetFilterMethod:g,assetListSize:v,setAssetFilterMethod:T,setAssetListSize:y}=(0,c.useSendMetricsContext)();let S;e[0]!==g||e[1]!==T?(S=e=>{const t=new Set([...g,e]),n=Array.from(t).filter(p);T(n)},e[0]=g,e[1]=T,e[2]=S):S=e[2];const k=S;let A;e[3]!==g||e[4]!==T?(A=e=>{const t=g.filter(t=>t!==e);0===t.length&&t.push(c.AssetFilterMethod.None),T(t)},e[3]=g,e[4]=T,e[5]=A):A=e[5];const C=A;let w;e[6]!==h||e[7]!==g||e[8]!==v||e[9]!==f||e[10]!==n||e[11]!==t?(w=e=>{let s=m;null!=e&&e.tokenId?s=u:"isNative"in e&&null!=e&&e.isNative&&(s=d);const r=(null==e?void 0:e.address)||(null==e?void 0:e.assetId),i=(0,o.isAddress)(r),c=[...n,...f].findIndex(t=>e.tokenId?t.address===e.address&&t.chainId===e.chainId&&t.tokenId===e.tokenId:e.isNative?t.isNative===e.isNative&&t.chainId===e.chainId:t.address===e.address&&t.chainId===e.chainId)+1;t({event:a.MetaMetricsEventName.SendAssetSelected,category:a.MetaMetricsEventCategory.Send,properties:{account_type:h,asset_type:s,asset_list_position:c,asset_list_size:v,chain_id:null==e?void 0:e.chainId,chain_id_caip:i?`eip155:${parseInt(null==e?void 0:e.chainId,16)}`:null==e?void 0:e.chainId,filter_method:g}},{excludeMetaMetricsId:!1})},e[6]=h,e[7]=g,e[8]=v,e[9]=f,e[10]=n,e[11]=t,e[12]=w):w=e[12];const _=w;let x;return e[13]!==k||e[14]!==_||e[15]!==C||e[16]!==y?(x={addAssetFilterMethod:k,captureAssetSelected:_,removeAssetFilterMethod:C,setAssetListSize:y},e[13]=k,e[14]=_,e[15]=C,e[16]=y,e[17]=x):x=e[17],x}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/metrics/useAssetSelectionMetrics.ts"}],[7649,{"../../../../../../shared/constants/metametrics":5768,"../../../../../contexts/metametrics":7005,"../../../context/send":7610,"../../../context/send-metrics":7609,"../useSendType":7669,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRecipientSelectionMetrics=void 0;var s=e("react-compiler-runtime"),r=e("react"),o=e("../../../../../../shared/constants/metametrics"),a=e("../../../../../contexts/metametrics"),i=e("../../../context/send-metrics"),c=e("../../../context/send"),l=e("../useSendType");n.useRecipientSelectionMetrics=()=>{const e=(0,s.c)(20),t=(0,r.useContext)(a.MetaMetricsContext),{chainId:n}=(0,c.useSendContext)(),{isEvmSendType:u}=(0,l.useSendType)(),{accountType:d,recipientInputMethod:m,setRecipientInputMethod:p}=(0,i.useSendMetricsContext)();let f;e[0]!==p?(f=()=>{p(i.RecipientInputMethod.Manual)},e[0]=p,e[1]=f):f=e[1];const h=f;let g;e[2]!==p?(g=()=>{p(i.RecipientInputMethod.Pasted)},e[2]=p,e[3]=g):g=e[3];const v=g;let T;e[4]!==p?(T=()=>{p(i.RecipientInputMethod.SelectAccount)},e[4]=p,e[5]=T):T=e[5];const y=T;let S;e[6]!==p?(S=()=>{p(i.RecipientInputMethod.SelectContact)},e[6]=p,e[7]=S):S=e[7];const k=S;let A;e[8]!==d||e[9]!==n||e[10]!==u||e[11]!==m||e[12]!==t?(A=async()=>{t({event:o.MetaMetricsEventName.SendRecipientSelected,category:o.MetaMetricsEventCategory.Send,properties:{account_type:d,input_method:m,chain_id:n,chain_id_caip:u?`eip155:${parseInt(n,16)}`:n}},{excludeMetaMetricsId:!1})},e[8]=d,e[9]=n,e[10]=u,e[11]=m,e[12]=t,e[13]=A):A=e[13];const C=A;let w;return e[14]!==C||e[15]!==h||e[16]!==v||e[17]!==y||e[18]!==k?(w={captureRecipientSelected:C,setRecipientInputMethodManual:h,setRecipientInputMethodPasted:v,setRecipientInputMethodSelectAccount:y,setRecipientInputMethodSelectContact:k},e[14]=C,e[15]=h,e[16]=v,e[17]=y,e[18]=k,e[19]=w):w=e[19],w}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/metrics/useRecipientSelectionMetrics.ts"}],[7650,{"../../../../selectors/multichain-accounts/account-tree":8039,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountAddressSeedIconMap=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),o=e("../../../../selectors/multichain-accounts/account-tree");n.useAccountAddressSeedIconMap=()=>{const e=(0,s.c)(4),t=(0,r.useSelector)(o.getAccountGroupWithInternalAccounts);let n;e[0]!==t?(n=new Map,t.forEach(e=>{const{accounts:t}=e;if(0===t.length)return;const s=t[0].address;t.forEach(e=>{n.set(e.address.toLowerCase(),s)})}),e[0]=t,e[1]=n):n=e[1];const a=n;let i;return e[2]!==a?(i={accountAddressSeedIconMap:a},e[2]=a,e[3]=i):i=e[3],i}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useAccountAddressSeedIconMap.ts"}],[7651,{"../../../../selectors/multichain-accounts/account-tree":8039,"../../context/send":7610,"../../utils/account":7741,"./useAccountAddressSeedIconMap":7650,"./useSendType":7669,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountRecipients=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),o=e("../../../../selectors/multichain-accounts/account-tree"),a=e("../../utils/account"),i=e("../../context/send"),c=e("./useSendType"),l=e("./useAccountAddressSeedIconMap");n.useAccountRecipients=()=>{const e=(0,s.c)(8),{isEvmSendType:t,isSolanaSendType:n,isBitcoinSendType:u,isTronSendType:d}=(0,c.useSendType)(),{from:m}=(0,i.useSendContext)(),{accountAddressSeedIconMap:p}=(0,l.useAccountAddressSeedIconMap)(),f=(0,r.useSelector)(o.getWalletsWithAccounts);let h;return e[0]!==p||e[1]!==m||e[2]!==u||e[3]!==t||e[4]!==n||e[5]!==d||e[6]!==f?(h=[],Object.values(f).forEach(e=>{var s;const r=null===(s=e.metadata)||void 0===s?void 0:s.name;Object.values(e.groups).forEach(e=>{var s;const o=null===(s=e.metadata)||void 0===s?void 0:s.name;e.accounts.forEach(e=>{if(e.address===m)return;(t&&(0,a.isEVMAccountForSend)(e)||n&&(0,a.isSolanaAccountForSend)(e)||u&&(0,a.isBitcoinAccountForSend)(e)||d&&(0,a.isTronAccountForSend)(e))&&h.push({seedIcon:p.get(e.address.toLowerCase()),accountGroupName:o,accountType:e.type,address:e.address,walletName:r})})})}),e[0]=p,e[1]=m,e[2]=u,e[3]=t,e[4]=n,e[5]=d,e[6]=f,e[7]=h):h=e[7],h}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useAccountRecipients.ts"}],[7652,{"../../../../hooks/useI18nContext":7200,"../../context/send":7610,"../../types/send":7740,"../../utils/send":7746,"./useBalance":7653,"./useSendType":7669,"./useSnapAmountOnInput":7670,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAmountValidation=void 0,n.validateERC1155Balance=d,n.validatePositiveNumericString=p,n.validateTokenBalance=m;var s=e("react"),r=e("../../../../hooks/useI18nContext"),o=e("../../utils/send"),a=e("../../context/send"),i=e("../../types/send"),c=e("./useSendType"),l=e("./useSnapAmountOnInput"),u=e("./useBalance");function d(e,t,n){if((null==e?void 0:e.standard)!==i.AssetStandard.ERC1155)return undefined;if(null!=e&&e.balance&&t){if(parseInt(t,10)>parseInt(e.balance.toString(),10))return n("insufficientFundsSend")}return undefined}function m(e,t,n,s){const r=(0,o.fromTokenMinUnitsNumeric)(e,10,n);return t.lessThan(r)?s("insufficientFundsSend"):undefined}function p(e,t){return(0,o.isValidPositiveNumericString)(e)?undefined:t("invalidValue")}n.useAmountValidation=()=>{const e=(0,r.useI18nContext)(),{isNonEvmSendType:t}=(0,c.useSendType)(),{asset:n,value:o}=(0,a.useSendContext)(),{validateAmountWithSnap:i}=(0,l.useSnapAmountOnInput)(),{rawBalanceNumeric:f}=(0,u.useBalance)(),[h,g]=(0,s.useState)(undefined),v=(0,s.useCallback)(e=>(g(e),e),[]),T=(0,s.useCallback)(async()=>{if(!t)return undefined;if(f.isZero())return e("insufficientFundsSend");try{var n;const t=await i(o||"0");return(null===(n=t.errors)||void 0===n?void 0:n.length)>0?function(e,t){if("InsufficientBalance"===e)return t("insufficientFundsSend");return t("invalidValue")}(t.errors[0].code,e):undefined}catch(t){return e("invalidValue")}},[e,o,i,t,f]),y=(0,s.useCallback)(async()=>{if(!o)return v(undefined);const t=[()=>p(o,e),()=>d(n,o,e),()=>m(o,f,null==n?void 0:n.decimals,e),T];for(const e of t){const t=await Promise.resolve(e());if(t)return v(t)}return v(undefined)},[n,f,e,o,T,v]),S=(0,s.useCallback)(async()=>{const e=await T();return v(e)},[T,v]);return(0,s.useEffect)(()=>{y()},[y]),{amountError:h,validateNonEvmAmountAsync:S}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useAmountValidation.ts"}],[7653,{"../../../../../shared/modules/Numeric":5882,"../../context/send":7610,"../../utils/send":7746,"@metamask/controller-utils":1384,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBalance=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/controller-utils"),o=(e("react"),e("../../../../../shared/modules/Numeric")),a=e("../../utils/send"),i=e("../../context/send");n.useBalance=()=>{const e=(0,s.c)(11),{asset:t}=(0,i.useSendContext)();let n;e:{if((null==t?void 0:t.standard)===r.ERC1155){const s=(null==t?void 0:t.balance)??"0";let r,a;e[0]!==s?(r=new o.Numeric(s,10),e[0]=s,e[1]=r):r=e[1],e[2]!==s||e[3]!==r?(a={balance:s,decimals:0,rawBalanceNumeric:r},e[2]=s,e[3]=r,e[4]=a):a=e[4],n=a;break e}let s;e[5]!==t?(s=(e=>{if(!e)return{balance:"0",decimals:0,rawBalanceNumeric:new o.Numeric("0",10)};const t=(null==e?void 0:e.rawBalance)??"0x0";return{balance:(0,a.formatToFixedDecimals)((0,a.toTokenMinimalUnit)(t,e.decimals),e.decimals),decimals:e.decimals,rawBalanceNumeric:new o.Numeric(t,16).toBase(10)}})(t),e[5]=t,e[6]=s):s=e[6],n=s}const{balance:c,decimals:l,rawBalanceNumeric:u}=n;let d;return e[7]!==c||e[8]!==l||e[9]!==u?(d={balance:c,decimals:l,rawBalanceNumeric:u},e[7]=c,e[8]=l,e[9]=u,e[10]=d):d=e[10],d}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useBalance.ts"}],[7654,{"../../../../selectors":8035,"../../context/send":7610,"./useAccountAddressSeedIconMap":7650,"./useSendType":7669,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useContactRecipients=void 0;var s=e("react"),r=e("react-redux"),o=e("../../../../selectors"),a=e("../../context/send"),i=e("./useSendType"),c=e("./useAccountAddressSeedIconMap");n.useContactRecipients=()=>{const{isEvmSendType:e}=(0,i.useSendType)(),t=(0,r.useSelector)(o.getCompleteAddressBook),{accountAddressSeedIconMap:n}=(0,c.useAccountAddressSeedIconMap)(),{chainId:l}=(0,a.useSendContext)();return(0,s.useMemo)(()=>{var s;return e?(null==t||null===(s=t.filter(e=>e.chainId===l))||void 0===s?void 0:s.map(e=>({address:e.address,contactName:e.name,isContact:!0,seedIcon:n.get(e.address.toLowerCase())})))??[]:[]},[t,l,e])}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useContactRecipients.ts"}],[7655,{"../../../../helpers/utils/common.util":7076,"../../../../hooks/useMultichainSelector":7211,"../../../../selectors":8035,"../../../../selectors/multichain":8044,"../../context/send":7610,"../../utils/send":7746,"@metamask/controller-utils":1384,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrencyConversions=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/controller-utils"),o=(e("react"),e("react-redux")),a=e("../../../../selectors"),i=e("../../../../helpers/utils/common.util"),c=e("../../../../selectors/multichain"),l=e("../../../../hooks/useMultichainSelector"),u=e("../../utils/send"),d=e("../../context/send");const m=({amount:e,conversionRate:t})=>e?(0,u.convertedCurrency)(e,t,2)??"0":"0";n.useCurrencyConversions=()=>{const e=(0,s.c)(20),{asset:t,fromAccount:n}=(0,d.useSendContext)(),p=(0,l.useMultichainSelector)(c.getMultichainCurrentCurrency,n),f=(0,o.useSelector)(a.getCrossChainTokenExchangeRates);let h;e:{if(!t){h=1;break e}let n;var g;if(e[0]!==t||e[1]!==f)n=(null===(g=Object.values(f).find(e=>e[t.address]!==undefined))||void 0===g?void 0:g[t.address])??1,e[0]=t,e[1]=f,e[2]=n;else n=e[2];h=n}const v=h;let T;{var y;const e=(null==t?void 0:t.address)??(null==t?void 0:t.assetId);t&&e&&t.standard!==r.ERC1155&&t.standard!==r.ERC721?T=((null==t||null===(y=t.fiat)||void 0===y?void 0:y.conversionRate)??0)*v:T=0}const S=T;let k;e[3]!==S?(k=e=>m({amount:e,conversionRate:S}),e[3]=S,e[4]=k):k=e[4];const A=k;let C;e[5]!==S||e[6]!==p?(C=e=>(({amount:e,conversionRate:t,currentCurrency:n})=>{if(!e)return`${(0,i.getCurrencySymbol)(n)}0.00`;const s=e?(0,u.formatToFixedDecimals)(m({amount:e,conversionRate:t}),2,!1):"0.00";return`${(0,i.getCurrencySymbol)(n)}${s}`})({amount:e,conversionRate:S,currentCurrency:p}),e[5]=S,e[6]=p,e[7]=C):C=e[7];const w=C;let _;e[8]!==t||e[9]!==S?(_=e=>(({asset:e,amount:t,conversionRate:n})=>t?(0,u.convertedCurrency)(t,0===n?0:1/n,null==e?void 0:e.decimals)??"0":"0")({asset:t,amount:e,conversionRate:S}),e[8]=t,e[9]=S,e[10]=_):_=e[10];const x=_,b=0!==S&&(null==t?void 0:t.standard)!==r.ERC1155&&(null==t?void 0:t.standard)!==r.ERC721;let E,P;return e[11]!==p?(E=(0,i.getCurrencySymbol)(p),e[11]=p,e[12]=E):E=e[12],e[13]!==p||e[14]!==w||e[15]!==A||e[16]!==x||e[17]!==b||e[18]!==E?(P={conversionSupportedForAsset:b,fiatCurrencySymbol:E,fiatCurrencyName:p,getFiatValue:A,getFiatDisplayValue:w,getNativeValue:x},e[13]=p,e[14]=w,e[15]=A,e[16]=x,e[17]=b,e[18]=E,e[19]=P):P=e[19],P}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useCurrencyConversions.ts"}],[7656,{"../../../../store/actions":8065,"../../types/send":7740,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useERC1155BalanceChecker=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("../../../../store/actions")),o=e("../../types/send");async function a(e){if(e.standard!==o.AssetStandard.ERC1155)return null;try{const t=await(0,r.findNetworkClientIdByChainId)(e.chainId),n=await(0,r.getERC1155BalanceOf)(e.accountAddress,e.address,e.tokenId,t);return{nft:e,balance:Number(n)}}catch(e){const t=e;return console.error("Error fetching ERC1155 balance:",t),null}}n.useERC1155BalanceChecker=()=>{const e=(0,s.c)(1),t=a;let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n={fetchBalanceForNft:t},e[0]=n):n=e[0],n}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useERC1155BalanceChecker.ts"}],[7657,{"../../../../../shared/modules/Numeric":5882,"../../../../ducks/metamask/metamask":7033,"../../../../hooks/useAsync":7181,"../../context/send":7610,"../../utils/send":7746,"./useBalance":7653,"./useSendType":7669,"@metamask/transaction-controller":2989,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMaxAmount=n.getEstimatedTotalGas=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/transaction-controller"),o=(e("react"),e("react-redux")),a=e("../../../../../shared/modules/Numeric"),i=e("../../../../ducks/metamask/metamask"),c=e("../../../../hooks/useAsync"),l=e("../../utils/send"),u=e("../../context/send"),d=e("./useBalance"),m=e("./useSendType");const p=(e,t)=>{if(!t)return new a.Numeric("0",10);const{medium:{suggestedMaxFeePerGas:n}={suggestedMaxFeePerGas:0}}=t,s=new a.Numeric(21e3*n,10),r=new a.Numeric(1e9,10);return s.times(r).add(new a.Numeric(e,16))};n.getEstimatedTotalGas=p;n.useMaxAmount=()=>{const e=(0,s.c)(22),{asset:t,chainId:n,from:f,value:h}=(0,u.useSendContext)(),{isEvmSendType:g,isEvmNativeSendType:v}=(0,m.useSendType)(),{rawBalanceNumeric:T}=(0,d.useBalance)();let y;e[0]!==n||e[1]!==g?(y=e=>{if(n&&g)return(0,i.getGasFeeEstimatesByChainId)(e,n)},e[0]=n,e[1]=g,e[2]=y):y=e[2];const S=(0,o.useSelector)(y);let k,A;e[3]!==t||e[4]!==n||e[5]!==f||e[6]!==v||e[7]!==h?(k=async()=>v&&(null==t?void 0:t.chainId)!==r.CHAIN_IDS.MAINNET&&f?await(0,l.getLayer1GasFees)({asset:t,chainId:n,from:f,value:h??"0"}):"0x0",e[3]=t,e[4]=n,e[5]=f,e[6]=v,e[7]=h,e[8]=k):k=e[8],e[9]!==t||e[10]!==n||e[11]!==f||e[12]!==h?(A=[t,n,f,h],e[9]=t,e[10]=n,e[11]=f,e[12]=h,e[13]=A):A=e[13];const{value:C}=(0,c.useAsyncResult)(k,A);let w;e[14]!==t||e[15]!==S||e[16]!==v||e[17]!==C||e[18]!==T?(w=()=>(({asset:e,layer1GasFees:t,gasFeeEstimates:n,isEvmNativeSendType:s,rawBalanceNumeric:r})=>{if(!e)return"0";let o=new a.Numeric("0",10);s&&(o=p(t,n));const i=r.minus(o);return i.isZero()||i.isNegative()?"0":(0,l.toTokenMinimalUnit)(i.toString(),e.decimals,10)})({asset:t,gasFeeEstimates:S,isEvmNativeSendType:v,layer1GasFees:C??"0x0",rawBalanceNumeric:T}),e[14]=t,e[15]=S,e[16]=v,e[17]=C,e[18]=T,e[19]=w):w=e[19];const _=w;let x;return e[20]!==_?(x={getMaxAmount:_},e[20]=_,e[21]=x):x=e[21],x}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useMaxAmount.ts"}],[7658,{"../../../../ducks/domains":7027,"../../../../helpers/utils/util":7109,"../../../../hooks/snaps/useSnapNameResolution":7168,"../../utils/sendValidations":7747,"./useSendType":7669,"@metamask/bridge-controller":1318,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNameValidation=void 0;var s=e("@metamask/bridge-controller"),r=e("react-redux"),o=e("react"),a=e("../../../../helpers/utils/util"),i=e("../../../../hooks/snaps/useSnapNameResolution"),c=e("../../utils/sendValidations"),l=e("../../../../ducks/domains"),u=e("./useSendType");n.useNameValidation=()=>{const{fetchResolutions:e}=(0,i.useSnapNameResolution)(),t=(0,r.useDispatch)(),{isEvmSendType:n}=(0,u.useSendType)();return{validateName:(0,o.useCallback)(async(r,o)=>{if((0,a.isValidDomainName)(o)){var i,u;const a=await e((0,s.formatChainIdToCaip)(r),o);if(0===a.length)return{error:"nameResolutionFailedError"};const d=null===(i=a[0])||void 0===i?void 0:i.resolvedAddress,m=null===(u=a[0])||void 0===u?void 0:u.protocol;return n&&t((0,l.lookupDomainName)(o,r)),{resolvedLookup:d,protocol:m,...(0,c.findConfusablesInRecipient)(o)}}return{error:"nameResolutionFailedError"}},[t,e])}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useNameValidation.ts"}],[7659,{"../../../../helpers/constants/routes":7054,"../../constants/send":7605,react:5229,"react-compiler-runtime":5128,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNavigateSendPage=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-router-dom-v5-compat")),o=e("../../../../helpers/constants/routes"),a=e("../../constants/send");n.useNavigateSendPage=()=>{const e=(0,s.c)(8),t=(0,r.useNavigate)(),[n]=(0,r.useSearchParams)();let i;e[0]!==t||e[1]!==n?(i=()=>{t(`${o.SEND_ROUTE}/${a.SendPages.AMOUNTRECIPIENT}?${n.toString()}`)},e[0]=t,e[1]=n,e[2]=i):i=e[2];const c=i;let l;e[3]!==t?(l=()=>{t(o.PREVIOUS_ROUTE)},e[3]=t,e[4]=l):l=e[4];const u=l;let d;return e[5]!==c||e[6]!==u?(d={goToAmountRecipientPage:c,goToPreviousPage:u},e[5]=c,e[6]=u,e[7]=d):d=e[7],d}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useNavigateSendPage.ts"}],[7660,{"../../../../../shared/lib/multichain/accounts":5859,"../../../../../shared/modules/hexstring-utils":5896,"../../../../helpers/utils/util":7109,"../../../../hooks/useI18nContext":7200,"../../context/send":7610,"../../utils/sendValidations":7747,"./useNameValidation":7658,"./useSendType":7669,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRecipientValidation=void 0;var s=e("react-compiler-runtime"),r=e("react"),o=e("../../../../../shared/lib/multichain/accounts"),a=e("../../../../../shared/modules/hexstring-utils"),i=e("../../../../helpers/utils/util"),c=e("../../../../hooks/useI18nContext"),l=e("../../utils/sendValidations"),u=e("../../context/send"),d=e("./useSendType"),m=e("./useNameValidation");n.useRecipientValidation=()=>{const e=(0,s.c)(28),t=(0,c.useI18nContext)(),{asset:n,chainId:p,to:f}=(0,u.useSendContext)(),{isBitcoinSendType:h,isEvmSendType:g,isSolanaSendType:v,isTronSendType:T}=(0,d.useSendType)(),{validateName:y}=(0,m.useNameValidation)();let S;e[0]===Symbol.for("react.memo_cache_sentinel")?(S={},e[0]=S):S=e[0];const[k,A]=(0,r.useState)(S),C=(0,r.useRef)(),w=(0,r.useRef)(!1);let _,x,b;e[1]===Symbol.for("react.memo_cache_sentinel")?(_=()=>()=>{w.current=!0},x=[],e[1]=_,e[2]=x):(_=e[1],x=e[2]),(0,r.useEffect)(_,x),e[3]!==(null==n?void 0:n.address)||e[4]!==p||e[5]!==h||e[6]!==g||e[7]!==v||e[8]!==T||e[9]!==y?(b=async e=>e&&p?g&&(0,a.isValidHexAddress)(e)?await(0,l.validateEvmHexAddress)(e,p,null==n?void 0:n.address):v&&(0,o.isSolanaAddress)(e)?(0,l.validateSolanaAddress)(e):h&&(0,o.isBtcMainnetAddress)(e)?(0,l.validateBtcAddress)(e):T&&(0,o.isTronAddress)(e)?(0,l.validateTronAddress)(e):(0,i.isValidDomainName)(e)?await y(p,e):{error:"invalidAddress"}:{},e[3]=null==n?void 0:n.address,e[4]=p,e[5]=h,e[6]=g,e[7]=v,e[8]=T,e[9]=y,e[10]=b):b=e[10];const E=b;let P,I;e[11]!==f||e[12]!==E?(P=()=>{C.current!==f&&(async()=>{C.current=f;const e=await E(f);w.current||C.current!==f||A({...e,toAddressValidated:f})})()},I=[A,f,E],e[11]=f,e[12]=E,e[13]=P,e[14]=I):(P=e[13],I=e[14]),(0,r.useEffect)(P,I);const M=null==k?void 0:k.confusableCharacters;let R;e[15]!==(null==k?void 0:k.error)||e[16]!==t?(R=null!=k&&k.error?t(null==k?void 0:k.error):undefined,e[15]=null==k?void 0:k.error,e[16]=t,e[17]=R):R=e[17];const N=null==k?void 0:k.resolvedLookup;let O;e[18]!==(null==k?void 0:k.warning)||e[19]!==t?(O=null!=k&&k.warning?t(null==k?void 0:k.warning):undefined,e[18]=null==k?void 0:k.warning,e[19]=t,e[20]=O):O=e[20];const D=null==k?void 0:k.protocol,F=null==k?void 0:k.toAddressValidated;let G;return e[21]!==D||e[22]!==F||e[23]!==M||e[24]!==R||e[25]!==N||e[26]!==O?(G={recipientConfusableCharacters:M,recipientError:R,recipientResolvedLookup:N,recipientWarning:O,resolutionProtocol:D,toAddressValidated:F},e[21]=D,e[22]=F,e[23]=M,e[24]=R,e[25]=N,e[26]=O,e[27]=G):G=e[27],G}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useRecipientValidation.ts"}],[7661,{"./useAccountRecipients":7651,"./useContactRecipients":7654,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRecipients=void 0;var s=e("react-compiler-runtime"),r=e("./useContactRecipients"),o=e("./useAccountRecipients");n.useRecipients=()=>{const e=(0,s.c)(3),t=(0,o.useAccountRecipients)(),n=(0,r.useContactRecipients)();let a;return e[0]!==t||e[1]!==n?(a=[...t],n.forEach(e=>{a.some(t=>t.address.toLowerCase()===e.address.toLowerCase())||a.push(e)}),e[0]=t,e[1]=n,e[2]=a):a=e[2],a}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useRecipients.ts"}],[7662,{"../../../../helpers/constants/routes":7054,"../../../../store/actions":8065,"../../constants/send":7605,"../../context/send":7610,"../../utils/multichain-snaps":7744,"../../utils/send":7746,"./useSendType":7669,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendActions=void 0;var s=e("react"),r=e("react-redux"),o=e("react-router-dom-v5-compat"),a=e("../../../../helpers/constants/routes"),i=e("../../../../store/actions"),c=e("../../constants/send"),l=e("../../utils/multichain-snaps"),u=e("../../utils/send"),d=e("../../context/send"),m=e("./useSendType");n.useSendActions=()=>{const e=(0,r.useDispatch)(),t=(0,o.useNavigate)(),{asset:n,chainId:p,from:f,fromAccount:h,hexData:g,maxValueMode:v,toResolved:T,value:y}=(0,d.useSendContext)(),{isEvmSendType:S}=(0,m.useSendType)(),k=(0,s.useCallback)(async()=>{if(!n)return;const s=T;if(S){e(await(0,u.submitEvmTransaction)({asset:n,chainId:p,from:f,hexData:g,to:s,value:y}));const r=v?`${a.CONFIRM_TRANSACTION_ROUTE}?maxValueMode=${v}`:a.CONFIRM_TRANSACTION_ROUTE;t(r)}else{t(`${a.SEND_ROUTE}/${c.SendPages.LOADER}`),await e((0,i.setDefaultHomeActiveTabName)("activity"));try{await(0,l.sendMultichainTransactionForReview)(h,{fromAccountId:null==h?void 0:h.id,toAddress:s,assetId:n.assetId,amount:(0,u.addLeadingZeroIfNeeded)(y||"0")}),t(a.DEFAULT_ROUTE)}catch(e){}}},[n,p,e,f,h,g,t,S,v,T,y]),A=(0,s.useCallback)(()=>{t(a.PREVIOUS_ROUTE)},[t]);return{handleSubmit:k,handleCancel:(0,s.useCallback)(()=>{t(a.DEFAULT_ROUTE)},[t]),handleBack:A}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendActions.ts"}],[7663,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendAssetFilter=void 0;var s=e("react-compiler-runtime");e("react");function r(e,t){var n,s,r;if(!t.trim())return!0;const o=t.toLowerCase().trim();return!(null===(n=e.name)||void 0===n||!n.toLowerCase().includes(o))||(!(null===(s=e.symbol)||void 0===s||!s.toLowerCase().includes(o))||!(null===(r=e.collection)||void 0===r||null===(r=r.name)||void 0===r||!r.toLowerCase().includes(o)))}n.useSendAssetFilter=e=>{const t=(0,s.c)(23),{tokens:n,nfts:o,selectedChainId:a,searchQuery:i}=e,c=i===undefined?"":i;let l,u=n,d=o;if(null!==a){let e,s;if(t[0]!==a||t[1]!==n){let s;t[3]!==a?(s=e=>e.chainId===a,t[3]=a,t[4]=s):s=t[4],e=n.filter(s),t[0]=a,t[1]=n,t[2]=e}else e=t[2];if(u=e,t[5]!==o||t[6]!==a){let e;t[8]!==a?(e=e=>e.chainId===a,t[8]=a,t[9]=e):e=t[9],s=o.filter(e),t[5]=o,t[6]=a,t[7]=s}else s=t[7];d=s}if(t[10]!==u||t[11]!==c){let e;t[13]!==c?(e=e=>r(e,c),t[13]=c,t[14]=e):e=t[14],l=u.filter(e),t[10]=u,t[11]=c,t[12]=l}else l=t[12];const m=l;let p;if(t[15]!==d||t[16]!==c){let e;t[18]!==c?(e=e=>r(e,c),t[18]=c,t[19]=e):e=t[19],p=d.filter(e),t[15]=d,t[16]=c,t[17]=p}else p=t[17];const f=p;let h;return t[20]!==f||t[21]!==m?(h={filteredTokens:m,filteredNfts:f},t[20]=f,t[21]=m,t[22]=h):h=t[22],h}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendAssetFilter.ts"}],[7664,{"./useSendNfts":7665,"./useSendTokens":7668,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendAssets=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("./useSendTokens")),o=e("./useSendNfts");n.useSendAssets=()=>{const e=(0,s.c)(3),t=(0,r.useSendTokens)(),n=(0,o.useSendNfts)();let a;return e[0]!==n||e[1]!==t?(a={tokens:t,nfts:n},e[0]=n,e[1]=t,e[2]=a):a=e[2],a}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendAssets.ts"}],[7665,{"../../../../selectors/multichain-accounts/account-tree":8039,"../../../../selectors/nft":8047,"../../types/send":7740,"../useChainNetworkNameAndImage":7687,"./useERC1155BalanceChecker":7656,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendNfts=void 0;var s=e("react"),r=e("react-redux"),o=e("../../../../selectors/nft"),a=e("../../../../selectors/multichain-accounts/account-tree"),i=e("../../types/send"),c=e("../useChainNetworkNameAndImage"),l=e("./useERC1155BalanceChecker");n.useSendNfts=()=>{const e=(0,c.useChainNetworkNameAndImageMap)(),t=(0,r.useSelector)(o.getNftsByChainByAccount),[n,u]=(0,s.useState)([]),{fetchBalanceForNft:d}=(0,l.useERC1155BalanceChecker)(),m=(0,r.useSelector)(a.getSelectedAccountGroup),p=(0,r.useSelector)(a.getAccountGroupWithInternalAccounts),f=(0,s.useMemo)(()=>{var n;const s=null==p||null===(n=p.find(e=>e.id===m))||void 0===n?void 0:n.accounts;return function(e,t,n){const s=[];return Object.keys(e).forEach(r=>{const o=null==t?void 0:t.find(e=>e.address===r);o&&Object.keys(e[r]).forEach(t=>{e[r][t].forEach(e=>{const r=n.get(t);s.push({...e,accountId:o.id,accountAddress:o.address,chainId:t,networkImage:null==r?void 0:r.networkImage,networkName:null==r?void 0:r.networkName})})})}),s}(t,s,e)},[null==p?void 0:p.length,e,t,m]),h=(0,s.useCallback)(async e=>{const t=e.filter(e=>e.standard===i.AssetStandard.ERC1155);if(0===t.length)return e;const n=t.map(d),s=await Promise.allSettled(n),r=[...e];return s.forEach(e=>{if("fulfilled"===e.status&&e.value){const{nft:t,balance:n}=e.value,s=r.findIndex(e=>e.address===t.address&&e.tokenId===t.tokenId&&e.chainId===t.chainId&&e.accountId===t.accountId);-1!==s&&(r[s]={...r[s],balance:n})}}),r},[d]);return(0,s.useEffect)(()=>{let e=!1;return(async()=>{const t=(await h(f)).filter(e=>!0===e.isCurrentlyOwned);e||u(t)})(),()=>{e=!0}},[f,h]),n}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendNfts.ts"}],[7666,{"../../../../helpers/constants/routes":7054,"../../../../selectors/assets":8027,"../../constants/send":7605,"../../context/send":7610,"./useSendNfts":7665,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendQueryParams=void 0;var s=e("react-compiler-runtime"),r=e("react"),o=e("react-router-dom-v5-compat"),a=e("react-redux"),i=e("../../../../helpers/constants/routes"),c=e("../../../../selectors/assets"),l=e("../../constants/send"),u=e("../../context/send"),d=e("./useSendNfts");n.useSendQueryParams=()=>{const e=(0,s.c)(79),{asset:t,currentPage:n,hexData:m,maxValueMode:p,to:f,updateValue:h,updateCurrentPage:g,updateAsset:v,updateHexData:T,updateTo:y,value:S}=(0,u.useSendContext)(),k=(0,o.useNavigate)(),{pathname:A}=(0,o.useLocation)(),[C]=(0,o.useSearchParams)(),w=(0,d.useSendNfts)(),_=(0,a.useSelector)(c.getAssetsBySelectedAccountGroup);let x;e[0]!==_?(x=Object.values(_).flat(),e[0]=_,e[1]=x):x=e[1];const b=x;let E;{let t;e[2]!==A?(t=A.split("/").filter(Boolean),e[2]=A,e[3]=t):t=e[3];const n=t[1];Object.values(l.SendPages).includes(n)?E=n:E=undefined}const P=E;let I;e[4]!==C?(I=C.get("asset"),e[4]=C,e[5]=I):I=e[5];const M=I;let R;e[6]!==C?(R=C.get("amount"),e[6]=C,e[7]=R):R=e[7];const N=R;let O;e[8]!==C?(O=C.get("chainId"),e[8]=C,e[9]=O):O=e[9];const D=O;let F;e[10]!==C?(F=C.get("tokenId"),e[10]=C,e[11]=F):F=e[11];const G=F;let L;e[12]!==C?(L=C.get("hexData"),e[12]=C,e[13]=L):L=e[13];const $=L;let B;e[14]!==C?(B=C.get("recipient"),e[14]=C,e[15]=B):B=e[15];const j=B;let U;e[16]!==C?(U=C.get("maxValueMode"),e[16]=C,e[17]=U):U=e[17];const W=U;let H,V,q,K,z,Q,Y,Z,X,J,ee,te;e[18]!==n||e[19]!==P||e[20]!==g?(V=()=>{n!==P&&g(P??l.SendPages.ASSET)},H=[n,P,g],e[18]=n,e[19]=P,e[20]=g,e[21]=H,e[22]=V):(H=e[21],V=e[22]),(0,r.useEffect)(V,H),e[23]!==t||e[24]!==m||e[25]!==p||e[26]!==k||e[27]!==N||e[28]!==M||e[29]!==D||e[30]!==$||e[31]!==W||e[32]!==j||e[33]!==G||e[34]!==C||e[35]!==P||e[36]!==f||e[37]!==S?(q=()=>{if(!P)return;const e=new URLSearchParams(C);S!==undefined&&N!==S&&e.set("amount",S),(null==t?void 0:t.address)!==undefined&&M!==t.address&&e.set("asset",t.assetId??t.address),(null==t?void 0:t.chainId)!==undefined&&D!==t.chainId&&e.set("chainId",t.chainId.toString()),(null==t?void 0:t.tokenId)!==undefined&&G!==t.tokenId&&e.set("tokenId",t.tokenId),p!==undefined&&W!==`${p}`&&e.set("maxValueMode",p.toString()),m!==undefined&&$!==m&&e.set("hexData",m.toString()),f!==undefined&&j!==f&&e.set("recipient",f),k(`${i.SEND_ROUTE}/${P}?${e.toString()}`,{replace:!0})},e[23]=t,e[24]=m,e[25]=p,e[26]=k,e[27]=N,e[28]=M,e[29]=D,e[30]=$,e[31]=W,e[32]=j,e[33]=G,e[34]=C,e[35]=P,e[36]=f,e[37]=S,e[38]=q):q=e[38],e[39]!==t||e[40]!==m||e[41]!==p||e[42]!==k||e[43]!==N||e[44]!==M||e[45]!==D||e[46]!==W||e[47]!==j||e[48]!==G||e[49]!==C||e[50]!==P||e[51]!==f||e[52]!==S?(K=[t,k,m,p,N,M,D,G,W,j,C,P,f,S],e[39]=t,e[40]=m,e[41]=p,e[42]=k,e[43]=N,e[44]=M,e[45]=D,e[46]=W,e[47]=j,e[48]=G,e[49]=C,e[50]=P,e[51]=f,e[52]=S,e[53]=K):K=e[53],(0,r.useEffect)(q,K),e[54]!==j||e[55]!==f||e[56]!==y?(z=()=>{f===undefined&&j&&y(j)},Q=[f,j,y],e[54]=j,e[55]=f,e[56]=y,e[57]=z,e[58]=Q):(z=e[57],Q=e[58]),(0,r.useEffect)(z,Q),e[59]!==m||e[60]!==$||e[61]!==T?(Y=()=>{m===undefined&&$&&T($)},Z=[m,$,T],e[59]=m,e[60]=$,e[61]=T,e[62]=Y,e[63]=Z):(Y=e[62],Z=e[63]),(0,r.useEffect)(Y,Z),e[64]!==N||e[65]!==W||e[66]!==h||e[67]!==S?(X=()=>{S===undefined&&N&&h(N,"true"===W)},J=[N,W,h,S],e[64]=N,e[65]=W,e[66]=h,e[67]=S,e[68]=X,e[69]=J):(X=e[68],J=e[69]),(0,r.useEffect)(X,J),e[70]!==t||e[71]!==b||e[72]!==w||e[73]!==M||e[74]!==D||e[75]!==G||e[76]!==v?(ee=()=>{if(t||!D)return;let e=null==b?void 0:b.find(e=>{const{assetId:t,chainId:n,isNative:s}=e;return D===n&&(M&&(null==t?void 0:t.toLowerCase())===M.toLowerCase()||!M&&s)});e||(e=null==w?void 0:w.find(e=>{const{address:t,chainId:n,isNative:s,tokenId:r}=e;return D===n&&G===r&&(M&&(null==t?void 0:t.toLowerCase())===M.toLowerCase()||!M&&s)})),e&&v(e)},te=[t,b,M,D,G,w,v],e[70]=t,e[71]=b,e[72]=w,e[73]=M,e[74]=D,e[75]=G,e[76]=v,e[77]=ee,e[78]=te):(ee=e[77],te=e[78]),(0,r.useEffect)(ee,te)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendQueryParams.ts"}],[7667,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendRecipientFilter=void 0;var s=e("react-compiler-runtime");e("react");function r(e,t){var n,s,r,o;if(!t.trim())return!0;const a=t.toLowerCase().trim();return!(null===(n=e.contactName)||void 0===n||!n.toLowerCase().includes(a))||(!(null===(s=e.accountGroupName)||void 0===s||!s.toLowerCase().includes(a))||(!(null===(r=e.walletName)||void 0===r||!r.toLowerCase().includes(a))||!(null===(o=e.address)||void 0===o||!o.toLowerCase().includes(a))))}n.useSendRecipientFilter=e=>{const t=(0,s.c)(13),{contactRecipients:n,accountRecipients:o,searchQuery:a}=e,i=a===undefined?"":a,c=n,l=o;let u;if(t[0]!==c||t[1]!==i){let e;t[3]!==i?(e=e=>r(e,i),t[3]=i,t[4]=e):e=t[4],u=c.filter(e),t[0]=c,t[1]=i,t[2]=u}else u=t[2];const d=u;let m;if(t[5]!==l||t[6]!==i){let e;t[8]!==i?(e=e=>r(e,i),t[8]=i,t[9]=e):e=t[9],m=l.filter(e),t[5]=l,t[6]=i,t[7]=m}else m=t[7];const p=m;let f;return t[10]!==p||t[11]!==d?(f={filteredContactRecipients:d,filteredAccountRecipients:p},t[10]=p,t[11]=d,t[12]=f):f=t[12],f}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendRecipientFilter.ts"}],[7668,{"../../../../../shared/constants/network":5772,"../../../../selectors/assets":8027,"../../types/send":7740,"../useChainNetworkNameAndImage":7687,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendTokens=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),o=(e("react"),e("../../../../../shared/constants/network")),a=e("../../../../selectors/assets"),i=e("../../types/send"),c=e("../useChainNetworkNameAndImage");function l(e){const t="0x0"!==e.rawBalance;return e.isNative||t}function u(e,t){var n,s;return((null===(n=t.fiat)||void 0===n?void 0:n.balance)??0)-((null===(s=e.fiat)||void 0===s?void 0:s.balance)??0)}n.useSendTokens=()=>{const e=(0,s.c)(11),t=(0,c.useChainNetworkNameAndImageMap)(),n=(0,r.useSelector)(a.getAssetsBySelectedAccountGroup);let d;e[0]!==n?(d=Object.values(n).flat(),e[0]=n,e[1]=d):d=e[1];const m=d;let p;e[2]!==m?(p=m.filter(l),e[2]=m,e[3]=p):p=e[3];const f=p;let h;if(e[4]!==f||e[5]!==t){let n;e[7]!==t?(n=e=>{const n=t.get(e.chainId);let s;return s=e.isNative?o.CHAIN_ID_TOKEN_IMAGE_MAP[e.chainId]??o.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId]:e.image,{...e,image:s,networkImage:null==n?void 0:n.networkImage,networkName:null==n?void 0:n.networkName,shortenedBalance:e.balance,standard:e.isNative?i.AssetStandard.Native:i.AssetStandard.ERC20}},e[7]=t,e[8]=n):n=e[8],h=f.map(n),e[4]=f,e[5]=t,e[6]=h}else h=e[6];const g=h;let v;return e[9]!==g?(v=g.sort(u),e[9]=g,e[10]=v):v=e[10],v}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendTokens.ts"}],[7669,{"../../context/send":7610,"../../utils/network":7745,"@metamask/bridge-controller":1318,"ethers/lib/utils":4334,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSendType=void 0;var s=e("react-compiler-runtime"),r=e("ethers/lib/utils"),o=e("@metamask/bridge-controller"),a=(e("react"),e("../../context/send")),i=e("../../utils/network");n.useSendType=()=>{const e=(0,s.c)(17),{asset:t,chainId:n}=(0,a.useSendContext)(),c=(null==t?void 0:t.address)||(null==t?void 0:t.assetId);let l;null==t||t.chainId,e[0]!==c||e[1]!==(null==t?void 0:t.chainId)?(l=c&&null!=t&&t.chainId?(0,r.isAddress)(c)&&!(0,o.isSolanaChainId)(null==t?void 0:t.chainId):undefined,e[0]=c,e[1]=null==t?void 0:t.chainId,e[2]=l):l=e[2];const u=l;let d;e[3]!==n?(d=n?(0,o.isSolanaChainId)(n):undefined,e[3]=n,e[4]=d):d=e[4];const m=d;let p;e[5]!==n?(p=n?(0,o.isBitcoinChainId)(n):undefined,e[5]=n,e[6]=p):p=e[6];const f=p;let h;e[7]!==n?(h=n?(0,i.isTronChainId)(n):undefined,e[7]=n,e[8]=h):h=e[8];const g=h,v=t?!0===(null==t?void 0:t.isNative):undefined,T=u&&v,y=m||f||g,S=m&&v||f&&v||g&&v;let k;return e[9]!==f||e[10]!==u||e[11]!==m||e[12]!==g||e[13]!==T||e[14]!==y||e[15]!==S?(k={isBitcoinSendType:f,isEvmSendType:u,isEvmNativeSendType:T,isNonEvmSendType:y,isNonEvmNativeSendType:S,isSolanaSendType:m,isTronSendType:g},e[9]=f,e[10]=u,e[11]=m,e[12]=g,e[13]=T,e[14]=y,e[15]=S,e[16]=k):k=e[16],k}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSendType.ts"}],[7670,{"../../context/send":7610,"../../utils/multichain-snaps":7744,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapAmountOnInput=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("../../context/send")),o=e("../../utils/multichain-snaps");n.useSnapAmountOnInput=()=>{const e=(0,s.c)(5),{asset:t,fromAccount:n,value:a}=(0,r.useSendContext)();let i;e[0]!==(null==t?void 0:t.assetId)||e[1]!==n?(i=async e=>await(0,o.validateAmountMultichain)(n,{value:e,accountId:n.id,assetId:null==t?void 0:t.assetId}),e[0]=null==t?void 0:t.assetId,e[1]=n,e[2]=i):i=e[2];const c=i;let l;return e[3]!==c?(l={validateAmountWithSnap:c},e[3]=c,e[4]=l):l=e[4],l}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/send/useSnapAmountOnInput.ts"}],[7671,{"../../../../../store/actions":8065,"../../../context/confirm":7607,"../../../context/dapp-swap":7608,"./useDappSwapComparisonMetrics":7675,"@metamask/controller-utils":1384,"@metamask/transaction-controller":2989,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapActions=function(){var e;const{currentConfirmation:t}=(0,i.useConfirmContext)(),{isQuotedSwapDisplayedInInfo:n,selectedQuote:u}=(0,c.useDappSwapContext)(),{captureSwapSubmit:d}=(0,l.useDappSwapComparisonMetrics)(),m=(0,o.useCallback)(e=>{if(d(),!n)return;const{value:t,gasLimit:o,data:a,to:i}=null==u?void 0:u.trade;if(e.txParams={...e.txParams,value:t,to:i,gas:(0,r.toHex)(o??0),data:a},null!=u&&u.approval){const{data:t,to:n,gasLimit:o,value:a}=null==u?void 0:u.approval;e.batchTransactions=[{data:t,to:n,gas:(0,r.toHex)(o??0),value:a,type:s.TransactionType.swapApproval,isAfter:!1,maxFeePerGas:e.txParams.maxFeePerGas,maxPriorityFeePerGas:e.txParams.maxPriorityFeePerGas}]}e.batchTransactionsOptions={},e.nestedTransactions=undefined},[d,n,u]),p=(0,o.useCallback)(()=>{var e;const n=null===(e=t.securityAlertResponse)||void 0===e?void 0:e.securityAlertId;n&&(0,a.deleteDappSwapComparisonData)(n)},[null==t||null===(e=t.securityAlertResponse)||void 0===e?void 0:e.securityAlertId]);return{updateSwapWithQuoteDetailsIfRequired:m,onDappSwapCompleted:p}};var s=e("@metamask/transaction-controller"),r=e("@metamask/controller-utils"),o=e("react"),a=e("../../../../../store/actions"),i=e("../../../context/confirm"),c=e("../../../context/dapp-swap"),l=e("./useDappSwapComparisonMetrics")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapActions.ts"}],[7672,{"../../../../../selectors/remote-feature-flags":8049,"../../../context/confirm":7607,"@metamask/transaction-controller":2989,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapCheck=function(){const e=(0,s.c)(13),{currentConfirmation:t}=(0,i.useConfirmContext)(),{dappSwapMetrics:n}=(0,o.useSelector)(a.getRemoteFeatureFlags);let c;e[0]!==n?(c=n===undefined?{}:n,e[0]=n,e[1]=c):c=e[1];const{enabled:l,origins:u}=c;let d;e[2]!==u?(d=u===undefined?[]:u,e[2]=u,e[3]=d):d=e[3];const m=d;let p;e[4]!==t?(p=t??{txParams:{data:""}},e[4]=t,e[5]=p):p=e[5];const{origin:f,type:h}=p;let g;e[6]!==l||e[7]!==f||e[8]!==m||e[9]!==h?(g=l&&f!==undefined&&m.includes(f)&&(h===r.TransactionType.contractInteraction||h===r.TransactionType.batch),e[6]=l,e[7]=f,e[8]=m,e[9]=h,e[10]=g):g=e[10];const v=g;let T;e[11]!==v?(T={isSwapToBeCompared:v},e[11]=v,e[12]=T):T=e[12];return T};var s=e("react-compiler-runtime"),r=e("@metamask/transaction-controller"),o=(e("react"),e("react-redux")),a=e("../../../../../selectors/remote-feature-flags"),i=e("../../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapCheck.ts"}],[7673,{"../../../../../../shared/lib/sentry":5866,"../../../../../../shared/modules/dapp-swap-comparison/dapp-swap-comparison-utils":5889,"../../../../../selectors/remote-feature-flags":8049,"../../../context/confirm":7607,"../../../selectors/confirm":7729,"../../../utils/token":7748,"./useDappSwapComparisonLatencyMetrics":7674,"./useDappSwapComparisonMetrics":7675,"./useDappSwapUSDValues":7677,"bignumber.js":3926,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapComparisonInfo=function(){var e;const{dappSwapQa:t}=(0,o.useSelector)(c.getRemoteFeatureFlags),{currentConfirmation:n}=(0,d.useConfirmContext)(),{quotes:g,latency:v,commands:T,error:y,swapInfo:S}=(0,o.useSelector)(e=>{var t;return(0,u.selectDappSwapComparisonData)(e,(null==n||null===(t=n.securityAlertResponse)||void 0===t?void 0:t.securityAlertId)??"")})??{quotes:undefined},{updateSwapComparisonLatency:k}=(0,m.useDappSwapComparisonLatencyMetrics)(),{captureDappSwapComparisonFailed:A,captureDappSwapComparisonLoading:C,captureDappSwapComparisonMetricsProperties:w}=(0,p.useDappSwapComparisonMetrics)(),{gasUsed:_,gasLimitNoBuffer:x,simulationData:b,txParams:E}=n??{txParams:{}},{gas:P}=E??{};(0,r.useEffect)(()=>{S&&C(T??"")},[C,T,S]),(0,r.useEffect)(()=>{y&&A(y,T)},[A,y,T]);const{fiatRates:I,getGasUSDValue:M,getTokenUSDValue:R,getDestinationTokenUSDValue:N,tokenDetails:O,tokenInfoPending:D}=(0,f.useDappSwapUSDValues)({tokenAddresses:S?[S.srcTokenAddress,S.destTokenAddress]:[],destTokenAddress:null==S?void 0:S.destTokenAddress}),{bestQuote:F,selectedQuote:G}=(0,r.useMemo)(()=>{try{if((null==S?void 0:S.destTokenAmountMin)===undefined||null==g||!g.length||D)return{bestQuote:undefined,selectedQuote:undefined};const{bestQuote:e,bestFilteredQuote:n}=(0,i.getBestQuote)(g,null==S?void 0:S.destTokenAmountMin,N,M);return{bestQuote:e,selectedQuote:n||(null!=t&&t.enabled?e:undefined)}}catch(e){return(0,a.captureException)(e),A(`Error calculating best quote: ${e.message}`,T),{bestQuote:undefined,selectedQuote:undefined}}},[T,A,null==t?void 0:t.enabled,M,N,g,null==S?void 0:S.destTokenAmountMin,D]);(0,r.useEffect)(()=>{try{var e,t;if(!(F&&b&&(null==S?void 0:S.destTokenAmountMin)!==undefined&&S&&O))return;const n=k(),{destTokenAddress:r,srcTokenAddress:o,srcTokenAmount:a}=S,{quote:{destTokenAmount:c,minDestTokenAmount:u}}=F,d=M(h(F)),m=M(new s.BigNumber(_??x??P??"0x0",16)),p=(0,i.getBalanceChangeFromSimulationData)(r,b);w({properties:{swap_dapp_comparison:"completed",swap_dapp_commands:T??"",swap_dapp_from_token_simulated_value_usd:R(a,o),swap_dapp_to_token_simulated_value_usd:N(p),swap_dapp_minimum_received_value_usd:N(null==S?void 0:S.destTokenAmountMin),swap_dapp_network_fee_usd:m,swap_mm_from_token_simulated_value_usd:R(a,o),swap_mm_to_token_simulated_value_usd:N(c),swap_mm_minimum_received_value_usd:N(u),swap_mm_slippage:F.quote.slippage,swap_mm_quote_provider:F.quote.aggregator,swap_mm_network_fee_usd:d,swap_comparison_total_latency_ms:n,swap_mm_quote_response_latency_ms:(null==v?void 0:v.toString())??"N_A"},sensitiveProperties:{swap_from_token_contract:o,swap_from_token_symbol:(null===(e=(0,l.getTokenValueFromRecord)(O,o))||void 0===e?void 0:e.symbol)??"N/A",swap_to_token_contract:r,swap_to_token_symbol:(null===(t=(0,l.getTokenValueFromRecord)(O,r))||void 0===t?void 0:t.symbol)??"N/A"}})}catch(e){(0,a.captureException)(e),A(`Error calculating metrics values: ${e.message}`,T)}},[F,A,w,T,P,N,M,x,R,_,g,v,b,S,O,D,k]);const{selectedQuoteValueDifference:L=0,tokenAmountDifference:$=0}=(0,r.useMemo)(()=>{try{if(!(G&&S&&b&&O))return{};const{destTokenAddress:e}=S,{quote:{destTokenAmount:t}}=G,n=new s.BigNumber(M(h(G))),r=new s.BigNumber(N(t)),o=r.minus(n),a=new s.BigNumber(M(new s.BigNumber(_??x??P??"0x0",16))),c=new s.BigNumber(N((0,i.getBalanceChangeFromSimulationData)(e,b))),l=c.minus(a),u=o.minus(l).toNumber();return{selectedQuoteValueDifference:u,tokenAmountDifference:r.minus(c).toNumber()}}catch(e){return(0,a.captureException)(e),{selectedQuoteValueDifference:0,tokenAmountDifference:0}}},[P,x,_,N,M,G,b,S,O]);return{fiatRates:I,minDestTokenAmountInUSD:N((null==G||null===(e=G.quote)||void 0===e?void 0:e.minDestTokenAmount)??"0",2),selectedQuote:G,selectedQuoteValueDifference:L,sourceTokenAmount:null==S?void 0:S.srcTokenAmount,tokenAmountDifference:$,tokenDetails:O}};var s=e("bignumber.js"),r=e("react"),o=e("react-redux"),a=e("../../../../../../shared/lib/sentry"),i=e("../../../../../../shared/modules/dapp-swap-comparison/dapp-swap-comparison-utils"),c=e("../../../../../selectors/remote-feature-flags"),l=e("../../../utils/token"),u=e("../../../selectors/confirm"),d=e("../../../context/confirm"),m=e("./useDappSwapComparisonLatencyMetrics"),p=e("./useDappSwapComparisonMetrics"),f=e("./useDappSwapUSDValues");const h=e=>{const{approval:t,trade:n}=e,r=(null==t?void 0:t.effectiveGas)??(null==t?void 0:t.gasLimit)??0,o=(null==n?void 0:n.effectiveGas)??(null==n?void 0:n.gasLimit)??0;return new s.BigNumber(r+o)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapComparisonInfo.ts"}],[7674,{react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapComparisonLatencyMetrics=function(){const e=(0,s.useRef)((new Date).getTime()),t=(0,s.useRef)(),n=(0,s.useCallback)(()=>(t.current!==undefined||(t.current=(new Date).getTime()-(e.current??0)),t.current.toString()),[]);return{swapComparisonLatency:(t.current??r).toString(),updateSwapComparisonLatency:n}};var s=e("react");const r="N/A"}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapComparisonLatencyMetrics.ts"}],[7675,{"../../../context/confirm":7607,"../../../context/dapp-swap":7608,"../../useTransactionEventFragment":7722,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapComparisonMetrics=function(){const e=(0,s.c)(21),{currentConfirmation:t}=(0,o.useConfirmContext)(),{isQuotedSwapDisplayedInInfo:n,isQuotedSwapPresent:c}=(0,a.useDappSwapContext)(),{updateTransactionEventFragment:l}=(0,i.useTransactionEventFragment)();let u;e[0]!==t?(u=t??{},e[0]=t,e[1]=u):u=e[1];const{id:d}=u,m=(0,r.useRef)("loading");let p;e[2]!==d||e[3]!==l?(p=e=>{m.current=e.properties.swap_dapp_comparison,l(e,d)},e[2]=d,e[3]=l,e[4]=p):p=e[4];const f=p;let h;e[5]!==f?(h=e=>{f({properties:e})},e[5]=f,e[6]=h):h=e[6];const g=h;let v;e[7]!==f||e[8]!==n||e[9]!==c?(v=()=>{c&&f({properties:{swap_final_selected:n?"metamask":"dapp"}})},e[7]=f,e[8]=n,e[9]=c,e[10]=v):v=e[10];const T=v;let y;e[11]!==f?(y=e=>{f({properties:{swap_dapp_comparison:m.current??"loading",swap_dapp_commands:e}})},e[11]=f,e[12]=y):y=e[12];const S=y;let k;e[13]!==f?(k=(e,t)=>{f({properties:{swap_dapp_comparison:e??"failed",swap_dapp_commands:t??""}})},e[13]=f,e[14]=k):k=e[14];const A=k;let C;e[15]!==g||e[16]!==A||e[17]!==S||e[18]!==f||e[19]!==T?(C={captureDappSwapComparisonDisplayProperties:g,captureDappSwapComparisonFailed:A,captureDappSwapComparisonLoading:S,captureDappSwapComparisonMetricsProperties:f,captureSwapSubmit:T},e[15]=g,e[16]=A,e[17]=S,e[18]=f,e[19]=T,e[20]=C):C=e[20];return C};var s=e("react-compiler-runtime"),r=e("react"),o=e("../../../context/confirm"),a=e("../../../context/dapp-swap"),i=e("../../useTransactionEventFragment")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapComparisonMetrics.ts"}],[7676,{"../../../../../hooks/bridge/useRewards":7123,"../../../../../hooks/useI18nContext":7200,"../../../context/confirm":7607,"../../../context/dapp-swap":7608,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapComparisonRewardText=void 0;var s=e("react-compiler-runtime"),r=e("../../../../../hooks/bridge/useRewards"),o=e("../../../../../hooks/useI18nContext"),a=e("../../../context/confirm"),i=e("../../../context/dapp-swap");n.useDappSwapComparisonRewardText=()=>{var e;const t=(0,s.c)(10),{currentConfirmation:n}=(0,a.useConfirmContext)(),{selectedQuote:c}=(0,i.useDappSwapContext)(),l=(0,o.useI18nContext)(),u=(null==c?void 0:c.quote)??null,d=(null==n||null===(e=n.txParams)||void 0===e?void 0:e.from)??"",m=(null==n?void 0:n.chainId)??"";let p;t[0]!==u||t[1]!==d||t[2]!==m?(p={quote:u,fromAddress:d,chainId:m},t[0]=u,t[1]=d,t[2]=m,t[3]=p):p=t[3];const{shouldShowRewardsRow:f,isLoading:h,estimatedPoints:g,hasError:v,accountOptedIn:T}=(0,r.useRewardsWithQuote)(p);if(!f||v||h||!T)return null;if(g){let e,n;return t[4]!==g||t[5]!==l?(e=l("dappSwapRewardText",[g.toString()]),t[4]=g,t[5]=l,t[6]=e):e=t[6],t[7]!==g||t[8]!==e?(n={text:e,estimatedPoints:g},t[7]=g,t[8]=e,t[9]=n):n=t[9],n}return null}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapComparisonRewardText.ts"}],[7677,{"../../../../../helpers/utils/token-insights":7104,"../../../../../helpers/utils/util":7109,"../../../../../hooks/useAsync":7181,"../../../context/confirm":7607,"../../../utils/token":7748,"@metamask/assets-controllers":1240,"@metamask/bridge-controller":1318,"@metamask/transaction-controller":2989,"bignumber.js":3926,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDappSwapUSDValues=function({tokenAddresses:e=[],destTokenAddress:t}){const{currentConfirmation:n}=(0,m.useConfirmContext)(),{chainId:f,txParams:h}=n??{txParams:{}},{maxFeePerGas:g}=h??{},{value:v,pending:T}=(0,l.useAsyncResult)(async()=>{const t=e.filter(e=>!(0,u.isNativeAddress)(e)),n=await(0,c.fetchTokenExchangeRates)("usd",t,f);if(f===a.CHAIN_IDS.POLYGON){n[(0,o.getNativeAssetForChainId)(f).address]=n[p]}return n},[f,null==e?void 0:e.length]),{value:y,pending:S}=(0,l.useAsyncResult)(async()=>{let t=await(0,d.fetchAllTokenDetails)(e,f);return e.forEach(e=>{(0,u.isNativeAddress)(e)&&(t={...t,[e]:(0,o.getNativeAssetForChainId)(f)})}),t},[f,null==e?void 0:e.length]),k=(0,i.useCallback)((e,t,n)=>{var r;if(!y||!v)return"0";const o=new s.BigNumber(Math.pow(10,parseInt((null===(r=(0,d.getTokenValueFromRecord)(y,t))||void 0===r?void 0:r.decimals)??"18",10))),a=new s.BigNumber((0,d.getTokenValueFromRecord)(v,t)??0),i=new s.BigNumber(e??0).dividedBy(o).times(a);return n?i.toFixed(n):i.toString(10)},[v,y]),A=(0,i.useCallback)((e,n)=>t?k(e,t,n):"0",[k,t]);return{getGasUSDValue:(0,i.useCallback)(e=>{if(!g)return"0";const t=new s.BigNumber(g,16).times(e).toString(10),n=(0,r.getNativeTokenAddress)(f);return k(t,n)},[f,k,g]),getTokenUSDValue:k,getDestinationTokenUSDValue:A,tokenDetails:y,fiatRates:v,tokenInfoPending:T||S}};var s=e("bignumber.js"),r=e("@metamask/assets-controllers"),o=e("@metamask/bridge-controller"),a=e("@metamask/transaction-controller"),i=e("react"),c=e("../../../../../helpers/utils/util"),l=e("../../../../../hooks/useAsync"),u=e("../../../../../helpers/utils/token-insights"),d=e("../../../utils/token"),m=e("../../../context/confirm");const p="0x0000000000000000000000000000000000001010"}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/dapp-swap-comparison/useDappSwapUSDValues.ts"}],[7678,{"../../../../../shared/lib/confirmation.utils":5805,"../../../../../shared/lib/shield":5867,"../../../../hooks/subscription/useSubscription":7174,"../../../../selectors":8035,"../../context/confirm":7607,"../../utils":7743,"@metamask/transaction-controller":2989,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEnableShieldCoverageChecks=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),o=e("@metamask/transaction-controller"),a=e("../../../../hooks/subscription/useSubscription"),i=e("../../../../../shared/lib/shield"),c=e("../../../../selectors"),l=e("../../context/confirm"),u=e("../../utils"),d=e("../../../../../shared/lib/confirmation.utils");n.useEnableShieldCoverageChecks=()=>{const e=(0,s.c)(12),{subscriptions:t}=(0,a.useUserSubscriptions)(),n=(0,r.useSelector)(c.getUseExternalServices),{currentConfirmation:m}=(0,l.useConfirmContext)();let p;e[0]!==m?(p=(0,u.isSignatureTransactionType)(m),e[0]=m,e[1]=p):p=e[1];const f=p,h=null==m?void 0:m.type;let g;e[2]!==h?(g=(0,d.isCorrectDeveloperTransactionType)(h),e[2]=h,e[3]=g):g=e[3];const v=g,T=(null==m?void 0:m.type)===o.TransactionType.shieldSubscriptionApprove;let y;e[4]!==t?(y=(0,i.getIsShieldSubscriptionActive)(t),e[4]=t,e[5]=y):y=e[5];const S=y;let k;e[6]!==t?(k=(0,i.getIsShieldSubscriptionPaused)(t),e[6]=t,e[7]=k):k=e[7];const A=k,C=n&&S,w=(C||A)&&(f||v)&&!T;let _;return e[8]!==C||e[9]!==A||e[10]!==w?(_={isEnabled:C,isPaused:A,isShowCoverageIndicator:w},e[8]=C,e[9]=A,e[10]=w,e[11]=_):_=e[11],_}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/useEnableShieldCoverageChecks.ts"}],[7679,{"../../context/confirm":7607,"@metamask/controller-utils":1384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsEnforcedSimulationsSupported=function(){var e;const{currentConfirmation:t}=(0,r.useConfirmContext)(),{delegationAddress:n,origin:o,simulationData:a}=t;!o||s.ORIGIN_METAMASK,Boolean(n),Boolean(null==a?void 0:a.nativeBalanceChange)||Boolean(null==a||null===(e=a.tokenBalanceChanges)||void 0===e?void 0:e.length);return!1};var s=e("@metamask/controller-utils"),r=e("../../context/confirm")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/useIsEnforcedSimulationsSupported.ts"}],[7680,{"../../../../helpers/constants/routes":7054,"@metamask/transaction-controller":2989,react:5229,"react-compiler-runtime":5128,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShieldConfirm=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/transaction-controller"),o=(e("react"),e("react-router-dom-v5-compat")),a=e("../../../../helpers/constants/routes");n.useShieldConfirm=()=>{const e=(0,s.c)(7),t=(0,o.useNavigate)();let n;e[0]!==t?(n=e=>{e.type===r.TransactionType.shieldSubscriptionApprove&&t(`${a.TRANSACTION_SHIELD_ROUTE}?waitForSubscriptionCreation=true`)},e[0]=t,e[1]=n):n=e[1];const i=n;let c;e[2]!==t?(c=e=>{e.type===r.TransactionType.shieldSubscriptionApprove&&t(a.PREVIOUS_ROUTE)},e[2]=t,e[3]=c):c=e[3];const l=c;let u;return e[4]!==i||e[5]!==l?(u={handleShieldSubscriptionApprovalTransactionAfterConfirm:i,handleShieldSubscriptionApprovalTransactionAfterConfirmErr:l},e[4]=i,e[5]=l,e[6]=u):u=e[6],u}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/useShieldConfirm.ts"}],[7681,{"../../../../selectors":8035,"../../../../store/actions":8065,"../../components/confirm/info/hooks/useGasFeeToken":7389,"../../context/confirm":7607,"../gas/useGaslessSupportedSmartTransactions":7644,"../gas/useIsGaslessSupported":7646,"./dapp-swap-comparison/useDappSwapActions":7671,"./useShieldConfirm":7680,"@metamask/transaction-controller":2989,lodash:4794,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionConfirm=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.getCustomNonceValue),n=(0,l.useSelectedGasFeeToken)(),{currentConfirmation:h}=(0,c.useConfirmContext)(),{isSupported:g}=(0,m.useGaslessSupportedSmartTransactions)(),{isSupported:v}=(0,d.useIsGaslessSupported)(),{onDappSwapCompleted:T,updateSwapWithQuoteDetailsIfRequired:y}=(0,f.useDappSwapActions)(),S=(0,o.useMemo)(()=>(0,r.cloneDeep)(h),[h]),k=(0,o.useCallback)(()=>{n&&(S.batchTransactions=[{...n.transferTransaction,type:s.TransactionType.gasPayment}],S.txParams.gas=n.gas,S.txParams.maxFeePerGas=n.maxFeePerGas,S.isGasFeeSponsored=v&&h.isGasFeeSponsored,S.txParams.maxPriorityFeePerGas=n.maxPriorityFeePerGas)},[v,S,n,null==h?void 0:h.isGasFeeSponsored]),A=(0,o.useCallback)(()=>{S.isExternalSign=!0,S.isGasFeeSponsored=v&&h.isGasFeeSponsored},[v,S,null==h?void 0:h.isGasFeeSponsored]),{handleShieldSubscriptionApprovalTransactionAfterConfirm:C,handleShieldSubscriptionApprovalTransactionAfterConfirmErr:w}=(0,p.useShieldConfirm)();return{onTransactionConfirm:(0,o.useCallback)(async()=>{S.customNonceValue=t,y(S),g?k():n&&A(),C(S);try{await e((0,u.updateAndApproveTx)(S,!0,""))}catch(e){throw w(S),e}T()},[S,t,g,e,k,A,n,C,w,T,y])}};var s=e("@metamask/transaction-controller"),r=e("lodash"),o=e("react"),a=e("react-redux"),i=e("../../../../selectors"),c=e("../../context/confirm"),l=e("../../components/confirm/info/hooks/useGasFeeToken"),u=e("../../../../store/actions"),d=e("../gas/useIsGaslessSupported"),m=e("../gas/useGaslessSupportedSmartTransactions"),p=e("./useShieldConfirm"),f=e("./dapp-swap-comparison/useDappSwapActions")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/transactions/useTransactionConfirm.ts"}],[7682,{"../../../store/actions":8065,"../context/confirm":7607,"@metamask/controller-utils":1384,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isAddEthereumChainType=function(e){return(null==e?void 0:e.type)===o.ApprovalType.AddEthereumChain},n.useAddEthereumChain=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),o=e("@metamask/controller-utils"),a=e("../context/confirm"),i=e("../../../store/actions");n.useAddEthereumChain=()=>{const e=(0,s.c)(8),t=(0,r.useDispatch)(),{currentConfirmation:n}=(0,a.useConfirmContext)();let o;e[0]!==n?(o=n??{},e[0]=n,e[1]=o):o=e[1];const{id:c,origin:l,requestData:u}=o;let d;e[2]!==t||e[3]!==c||e[4]!==u?(d=async()=>{await t((0,i.resolvePendingApproval)(c,u))},e[2]=t,e[3]=c,e[4]=u,e[5]=d):d=e[5];const m=d;let p;return e[6]!==m?(p={onSubmit:m},e[6]=m,e[7]=p):p=e[7],p}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useAddEthereumChain.ts"}],[7683,{"../../../../shared/modules/string-utils":5917,"../../../ducks/metamask/metamask":7033,"../../../helpers/utils/token-util":7105,"../../../hooks/usePrevious":7222,"../../../hooks/useTokenTracker":7241,"../../../selectors":8035,"../../../store/actions":8065,lodash:4794,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAssetDetails=function(e,t,n,f){const h=(0,s.c)(40),g=(0,o.useRef)(!1),v=(0,a.useDispatch)();let T;h[0]!==f?(T=e=>(0,p.selectNftsByChainId)(e,f),h[0]=f,h[1]=T):T=h[1];const y=(0,a.useSelector)(T);let S;h[2]!==f?(S=e=>(0,i.getTokensByChainId)(e,f),h[2]=f,h[3]=S):S=h[3];const k=(0,a.useSelector)(S,r.isEqual);let A;if(h[4]!==e||h[5]!==k){let t;h[7]!==e?(t=t=>(0,u.isEqualCaseInsensitive)(t.address,e),h[7]=e,h[8]=t):t=h[8],A=k.find(t),h[4]=e,h[5]=k,h[6]=A}else A=h[6];const C=A,[w,_]=(0,o.useState)(null);let x;h[9]!==C?(x={tokens:C?[C]:[]},h[9]=C,h[10]=x):x=h[10];const{tokensWithBalances:b}=(0,m.useTokenTracker)(x),E=(0,d.usePrevious)(e),P=(0,d.usePrevious)(t),I=(0,d.usePrevious)(n),M=(0,d.usePrevious)(b);let R,N,O,D,F;h[11]===Symbol.for("react.memo_cache_sentinel")?(R=()=>(g.current=!0,()=>{g.current=!1}),N=[],h[11]=R,h[12]=N):(R=h[11],N=h[12]);(0,o.useEffect)(R,N),h[13]!==f||h[14]!==v||h[15]!==y||h[16]!==E||h[17]!==M||h[18]!==I||h[19]!==P||h[20]!==e||h[21]!==b||h[22]!==n||h[23]!==t?(O=()=>{if(!e&&!t&&!n)return;(e!==E||t!==P||n!==I||M&&M!==b)&&async function(){v((0,l.showLoadingIndication)());try{const s=await(0,c.getAssetDetails)(e,t,n,y,f);g.current&&_(s)}catch(e){const t=e;console.warn("Unable to set asset details",{error:t,transactionData:n})}v((0,l.hideLoadingIndication)())}()},D=[f,v,E,I,P,e,t,n,y,b,M],h[13]=f,h[14]=v,h[15]=y,h[16]=E,h[17]=M,h[18]=I,h[19]=P,h[20]=e,h[21]=b,h[22]=n,h[23]=t,h[24]=O,h[25]=D):(O=h[24],D=h[25]);if((0,o.useEffect)(O,D),!e&&!t&&!n){let e;return h[26]===Symbol.for("react.memo_cache_sentinel")?(e={},h[26]=e):e=h[26],e}if(w){const{standard:t,symbol:n,image:s,name:r,balance:o,tokenId:a,toAddress:i,tokenAmount:c,decimals:l,tokenURI:u}=w,d=n??"";let m;return h[27]!==o||h[28]!==l||h[29]!==s||h[30]!==r||h[31]!==t||h[32]!==d||h[33]!==i||h[34]!==e||h[35]!==c||h[36]!==a||h[37]!==u?(m={toAddress:i,tokenId:a,decimals:l,tokenAmount:c,assetAddress:e,assetStandard:t,tokenSymbol:d,tokenImage:s,userBalance:o,assetName:r,tokenURI:u},h[27]=o,h[28]=l,h[29]=s,h[30]=r,h[31]=t,h[32]=d,h[33]=i,h[34]=e,h[35]=c,h[36]=a,h[37]=u,h[38]=m):m=h[38],m}h[39]===Symbol.for("react.memo_cache_sentinel")?(F={},h[39]=F):F=h[39];return F};var s=e("react-compiler-runtime"),r=e("lodash"),o=e("react"),a=e("react-redux"),i=e("../../../ducks/metamask/metamask"),c=e("../../../helpers/utils/token-util"),l=e("../../../store/actions"),u=e("../../../../shared/modules/string-utils"),d=e("../../../hooks/usePrevious"),m=e("../../../hooks/useTokenTracker"),p=e("../../../selectors")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useAssetDetails.js"}],[7684,{"../../../../shared/constants/transaction":5792,"../../../hooks/useAsync":7181,"../../../store/actions":8065,"../../../store/controller-actions/transaction-controller":8069,"../context/confirm":7607,"./alerts/transactions/useInsufficientBalanceAlerts":7626,"./gas/useIsGaslessSupported":7646,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutomaticGasFeeTokenSelect=function(){var e,t,n;const p=(0,s.c)(15),f=(0,o.useDispatch)(),{isSupported:h,isSmartTransaction:g}=(0,m.useIsGaslessSupported)(),[v,T]=(0,r.useState)(!0),{currentConfirmation:y}=(0,u.useConfirmContext)(),S=Boolean(null===(e=(0,d.useInsufficientBalanceAlerts)())||void 0===e?void 0:e.length),{gasFeeTokens:k,id:A,selectedGasFeeToken:C}=y;let w,_;if(p[0]!==(null==k||null===(t=k[0])||void 0===t?void 0:t.tokenAddress)||p[1]!==(null==k||null===(n=k[1])||void 0===n?void 0:n.tokenAddress)||p[2]!==g){var x,b,E,P;if(w=null==k||null===(x=k[0])||void 0===x?void 0:x.tokenAddress,!g&&w===a.NATIVE_TOKEN_ADDRESS)w=null==k||null===(P=k[1])||void 0===P?void 0:P.tokenAddress;p[0]=null==k||null===(b=k[0])||void 0===b?void 0:b.tokenAddress,p[1]=null==k||null===(E=k[1])||void 0===E?void 0:E.tokenAddress,p[2]=g,p[3]=w}else w=p[3];p[4]!==f||p[5]!==w||p[6]!==A?(_=async()=>{await(0,l.updateSelectedGasFeeToken)(A,w),await(0,c.forceUpdateMetamaskState)(f)},p[4]=f,p[5]=w,p[6]=A,p[7]=_):_=p[7];const I=_,M=h&&S&&!C&&Boolean(w);let R,N;p[8]!==v||p[9]!==k||p[10]!==I||p[11]!==M||p[12]!==A?(R=async()=>{k&&A&&v&&M&&(await I(),T(!1))},N=[M,I,v,k,A],p[8]=v,p[9]=k,p[10]=I,p[11]=M,p[12]=A,p[13]=R,p[14]=N):(R=p[13],N=p[14]);(0,i.useAsyncResult)(R,N)};var s=e("react-compiler-runtime"),r=e("react"),o=e("react-redux"),a=e("../../../../shared/constants/transaction"),i=e("../../../hooks/useAsync"),c=e("../../../store/actions"),l=e("../../../store/controller-actions/transaction-controller"),u=e("../context/confirm"),d=e("./alerts/transactions/useInsufficientBalanceAlerts"),m=e("./gas/useIsGaslessSupported")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useAutomaticGasFeeTokenSelect.ts"}],[7685,{"../../../../shared/constants/network":5772,"../../../hooks/useAccountTotalFiatBalance":7178,"../../../selectors":8035,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBalance=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("../../../selectors"),a=e("../../../../shared/constants/network"),i=e("../../../hooks/useAccountTotalFiatBalance");n.useBalance=e=>{const t=(0,s.c)(5),n=(0,r.useSelector)(o.getShouldHideZeroBalanceTokens);let c;t[0]!==e?(c=t=>(0,o.getInternalAccountByAddress)(t,e),t[0]=e,t[1]=c):c=t[1];const l=(0,r.useSelector)(c),{totalWeiBalance:u}=(0,i.useAccountTotalFiatBalance)(l,n),d=(0,r.useSelector)(o.getCurrentNetwork),m=(0,r.useSelector)(o.getShowFiatInTestnets),p=a.TEST_NETWORKS.includes(null==d?void 0:d.nickname)&&!m;let f=u;const h=(0,r.useSelector)(o.getSelectedAccountCachedBalance);if(!e){let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e={},t[2]=e):e=t[2],e}let g;return p&&(f=h),t[3]!==f?(g={balance:f},t[3]=f,t[4]=g):g=t[4],g}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useBalance.js"}],[7686,{"../../../../shared/constants/transaction":5792,"../../../selectors":8035,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBatchAuthorizationRequests=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("../../../selectors"),a=e("../../../../shared/constants/transaction");n.useBatchAuthorizationRequests=(e,t)=>{const n=(0,s.c)(9),i=(0,r.useSelector)(o.getTransactions);let c;if(n[0]!==t||n[1]!==e||n[2]!==i){let s;n[4]!==t||n[5]!==e?(s=n=>{var s;return n.chainId===t&&a.IN_PROGRESS_TRANSACTION_STATUSES.includes(n.status)&&((null===(s=n.txParams.authorizationList)||void 0===s?void 0:s.length)??0)>0&&n.txParams.from===e},n[4]=t,n[5]=e,n[6]=s):s=n[6],c=i.filter(s),n[0]=t,n[1]=e,n[2]=i,n[3]=c}else c=n[3];const l=c.length>0;let u;return n[7]!==l?(u={hasPendingRequests:l},n[7]=l,n[8]=u):u=n[8],u}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useBatchAuthorizationRequests.ts"}],[7687,{"../../../../shared/modules/selectors/networks":5908,"../../../selectors/multichain":8044,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useChainNetworkNameAndImageMap=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),o=(e("react"),e("../../../selectors/multichain")),a=e("../../../../shared/modules/selectors/networks");n.useChainNetworkNameAndImageMap=()=>{const e=(0,s.c)(2),t=(0,r.useSelector)(a.getAllNetworkConfigurationsByCaipChainId);let n;e[0]!==t?(n=new Map,Object.values(t).forEach(e=>{const t=e.chainId,s=(0,o.getImageForChainId)(t),r=null==e?void 0:e.name;n.set(t,{networkName:r??"",networkImage:s??""})}),e[0]=t,e[1]=n):n=e[1];return n}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useChainNetworkNameAndImage.ts"}],[7688,{"../../../ducks/confirm-transaction/confirm-transaction.duck":7026,"../../../store/actions":8065,"../context/confirm":7607,"./useConfirmSendNavigation":7689,"@metamask/rpc-errors":2594,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useConfirmActions=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/rpc-errors"),o=(e("react"),e("react-redux")),a=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),i=e("../../../store/actions"),c=e("../context/confirm"),l=e("./useConfirmSendNavigation");n.useConfirmActions=()=>{const e=(0,s.c)(15),t=(0,o.useDispatch)(),{currentConfirmation:n}=(0,c.useConfirmContext)(),{navigateBackIfSend:u}=(0,l.useConfirmSendNavigation)();let d;e[0]!==n?(d=n||{},e[0]=n,e[1]=d):d=e[1];const{id:m}=d;let p;e[2]!==m||e[3]!==t?(p=async e=>{const{location:n}=e===undefined?{}:e;if(!m)return;const s=r.providerErrors.userRejectedRequest();s.data={location:n};const o=(0,r.serializeError)(s);await t((0,i.rejectPendingApproval)(m,o))},e[2]=m,e[3]=t,e[4]=p):p=e[4];const f=p;let h;e[5]!==t?(h=()=>{t((0,i.updateCustomNonce)("")),t((0,i.setNextNonce)("")),t((0,a.clearConfirmTransaction)())},e[5]=t,e[6]=h):h=e[6];const g=h;let v;e[7]!==n||e[8]!==u||e[9]!==f||e[10]!==g?(v=async e=>{const{location:t,navigateBackForSend:s}=e,r=s!==undefined&&s;n&&(r&&u(),await f({location:t}),g())},e[7]=n,e[8]=u,e[9]=f,e[10]=g,e[11]=v):v=e[11];const T=v;let y;return e[12]!==T||e[13]!==g?(y={onCancel:T,resetTransactionState:g},e[12]=T,e[13]=g,e[14]=y):y=e[14],y}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmActions.ts"}],[7689,{"../../../helpers/constants/routes":7054,"../context/confirm":7607,"./useRedesignedSendFlow":7715,"@metamask/transaction-controller":2989,react:5229,"react-compiler-runtime":5128,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useConfirmSendNavigation=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/transaction-controller"),o=(e("react"),e("react-router-dom-v5-compat")),a=e("../context/confirm"),i=e("../../../helpers/constants/routes"),c=e("./useRedesignedSendFlow");const l=[r.TransactionType.simpleSend,r.TransactionType.tokenMethodTransfer,r.TransactionType.tokenMethodTransferFrom,r.TransactionType.tokenMethodSafeTransferFrom];n.useConfirmSendNavigation=()=>{const e=(0,s.c)(6),t=(0,o.useNavigate)(),{currentConfirmation:n}=(0,a.useConfirmContext)(),{enabled:r}=(0,c.useRedesignedSendFlow)();let u;e[0]!==n||e[1]!==r||e[2]!==t?(u=()=>{if(!r)return;const{origin:e,type:s}=n;"metamask"===e&&s&&l.includes(s)&&t(i.PREVIOUS_ROUTE)},e[0]=n,e[1]=r,e[2]=t,e[3]=u):u=e[3];const d=u;let m;return e[4]!==d?(m={navigateBackIfSend:d},e[4]=d,e[5]=m):m=e[5],m}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmSendNavigation.ts"}],[7690,{"../../../components/app/confirm/info/row/constants":6026,"../../../contexts/transaction-modal":7013,"../../../hooks/ramps/useRamps/useRamps":7154,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react"),o=e("../../../components/app/confirm/info/row/constants"),a=(s=e("../../../hooks/ramps/useRamps/useRamps"))&&s.__esModule?s:{default:s},i=e("../../../contexts/transaction-modal");n.default=()=>{const{openBuyCryptoInPdapp:e}=(0,a.default)(),{openModal:t}=(0,i.useTransactionModalContext)();return(0,r.useCallback)(n=>{switch(n){case o.AlertActionKey.Buy:e();break;case o.AlertActionKey.ShowAdvancedGasFeeModal:t("advancedGasFee");break;case o.AlertActionKey.ShowGasFeeModal:t("editGasFee");break;default:console.error("Unknown alert action key:",n)}},[e])}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationAlertActions.ts"}],[7691,{"../../../hooks/useAlerts":7179,"../context/confirm":7607,"../utils":7743,"./alerts/constants":7612,"./useSignatureEventFragment":7717,"./useTransactionEventFragment":7722,react:5229,"react-compiler-runtime":5128,uuid:5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ALERTS_NAME_METRICS=void 0,n.useConfirmationAlertMetrics=function(){const e=(0,r.c)(21),{currentConfirmation:t}=(0,l.useConfirmContext)(),n=(null==t?void 0:t.id)??"",{alerts:s,isAlertConfirmed:a}=(0,i.default)(n);let u;e[0]!==s||e[1]!==a?(u=s.length>0?{alert_triggered_count:s.length,alert_triggered:h(s),alert_resolved_count:s.filter(e=>a(e.key)).length,alert_resolved:h(s.filter(e=>a(e.key)))}:undefined,e[0]=s,e[1]=a,e[2]=u):u=e[2];const p=u,{updateSignatureEventFragment:v}=(0,d.useSignatureEventFragment)(),{updateTransactionEventFragment:T}=(0,m.useTransactionEventFragment)();let y,S;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=[],e[3]=y):y=e[3];e[4]===Symbol.for("react.memo_cache_sentinel")?(S={alert_visualized:y,alert_visualized_count:0,alert_key_clicked:[],alert_action_clicked:[]},e[4]=S):S=e[4];const[k,A]=(0,o.useState)(S);let C;e[5]!==p||e[6]!==k?(C=p?{...p,...k}:undefined,e[5]=p,e[6]=k,e[7]=C):C=e[7];const w=C;let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_=e=>{A(t=>{const n={...t},s=g(e);return n.alert_visualized=f(t.alert_visualized,s),n.alert_visualized_count=n.alert_visualized.length,n})},e[8]=_):_=e[8];const x=_;let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=e=>{A(t=>{const n={...t},s=g(e);return n.alert_key_clicked=f(t.alert_key_clicked,s),n})},e[9]=b):b=e[9];const E=b;let P;e[10]===Symbol.for("react.memo_cache_sentinel")?(P=e=>{A(t=>{const n={...t},s=g(e);return n.alert_action_clicked=f(t.alert_action_clicked,s),n})},e[10]=P):P=e[10];const I=P;let M;e[11]!==t||e[12]!==n||e[13]!==w||e[14]!==v||e[15]!==T?(M=()=>{w&&((0,c.isSignatureTransactionType)(t)?v({properties:w}):T({properties:w},n))},e[11]=t,e[12]=n,e[13]=w,e[14]=v,e[15]=T,e[16]=M):M=e[16];const R=M;let N,O,D;e[17]!==R?(N=()=>{R()},O=[R],e[17]=R,e[18]=N,e[19]=O):(N=e[18],O=e[19]);(0,o.useEffect)(N,O),e[20]===Symbol.for("react.memo_cache_sentinel")?(D={trackAlertRender:x,trackInlineAlertClicked:E,trackAlertActionClicked:I},e[20]=D):D=e[20];return D};var s,r=e("react-compiler-runtime"),o=e("react"),a=e("uuid"),i=(s=e("../../../hooks/useAlerts"))&&s.__esModule?s:{default:s},c=e("../utils"),l=e("../context/confirm"),u=e("./alerts/constants"),d=e("./useSignatureEventFragment"),m=e("./useTransactionEventFragment");const p=n.ALERTS_NAME_METRICS={[u.AlertsName.GasEstimateFailed]:"gas_estimate_failed",[u.AlertsName.GasFeeLow]:"gas_fee_low",[u.AlertsName.GasTooLow]:"gas_too_low",[u.AlertsName.InsufficientBalance]:"insufficient_balance",[u.AlertsName.NetworkBusy]:"network_busy",[u.AlertsName.NoGasPrice]:"no_gas_price",[u.AlertsName.PendingTransaction]:"pending_transaction",[u.AlertsName.SigningOrSubmitting]:"signing_or_submitting",[u.AlertsName.Blockaid]:"blockaid"};function f(e,t){return[...new Set([...e,t])]}function h(e){return e.map(e=>g(e.key))}function g(e){return(0,a.validate)(e)?p[u.AlertsName.Blockaid]:p[e]??e}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationAlertMetrics.ts"}],[7692,{"./alerts/signatures/useAccountMismatchAlerts":7613,"./alerts/signatures/useDomainMismatchAlerts":7614,"./alerts/transactions/useAccountTypeUpgrade":7619,"./alerts/transactions/useBurnAddressAlert":7620,"./alerts/transactions/useFirstTimeInteractionAlert":7622,"./alerts/transactions/useGasEstimateFailedAlerts":7623,"./alerts/transactions/useGasFeeLowAlerts":7624,"./alerts/transactions/useGasTooLowAlerts":7625,"./alerts/transactions/useInsufficientBalanceAlerts":7626,"./alerts/transactions/useMultipleApprovalsAlerts":7627,"./alerts/transactions/useNoGasPriceAlerts":7628,"./alerts/transactions/useNonContractAddressAlerts":7629,"./alerts/transactions/usePendingTransactionAlerts":7630,"./alerts/transactions/useResimulationAlert":7631,"./alerts/transactions/useSigningOrSubmittingAlerts":7632,"./alerts/useAddEthereumChainAlerts":7633,"./alerts/useAddressTrustSignalAlerts":7634,"./alerts/useBlockaidAlerts":7635,"./alerts/useConfirmationOriginAlerts":7636,"./alerts/useNetworkAndOriginSwitchingAlerts":7637,"./alerts/useOriginTrustSignalAlerts":7638,"./alerts/useSelectedAccountAlerts":7639,"./alerts/useShieldCoverageAlert":7640,"./alerts/useSpenderAlerts":7641,"./alerts/useTokenTrustSignalAlerts":7642,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.c)(11),t=(0,T.default)(),n=(0,y.default)(),P=function(){const e=(0,s.c)(3),t=(0,r.default)(),n=(0,o.default)();let a;e[0]!==t||e[1]!==n?(a=[...t,...n],e[0]=t,e[1]=n,e[2]=a):a=e[2];return a}(),I=function(){const e=(0,s.c)(16),t=(0,a.useAccountTypeUpgrade)(),n=(0,E.useBurnAddressAlert)(),r=(0,i.useFirstTimeInteractionAlert)(),o=(0,c.useGasEstimateFailedAlerts)(),T=(0,l.useGasFeeLowAlerts)(),y=(0,u.useGasTooLowAlerts)(),S=(0,d.useInsufficientBalanceAlerts)(),k=(0,m.useMultipleApprovalsAlerts)(),A=(0,p.useNoGasPriceAlerts)(),C=(0,f.useNonContractAddressAlerts)(),w=(0,h.usePendingTransactionAlerts)(),b=(0,g.useResimulationAlert)(),P=(0,x.useShieldCoverageAlert)(),I=(0,v.useSigningOrSubmittingAlerts)(),M=(0,_.useTokenTrustSignalAlerts)();let R;e[0]!==t||e[1]!==n||e[2]!==r||e[3]!==o||e[4]!==T||e[5]!==y||e[6]!==S||e[7]!==k||e[8]!==A||e[9]!==C||e[10]!==w||e[11]!==b||e[12]!==P||e[13]!==I||e[14]!==M?(R=[...t,...n,...r,...o,...T,...y,...S,...k,...A,...C,...w,...b,...P,...I,...M],e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=T,e[5]=y,e[6]=S,e[7]=k,e[8]=A,e[9]=C,e[10]=w,e[11]=b,e[12]=P,e[13]=I,e[14]=M,e[15]=R):R=e[15];return R}(),M=(0,k.useSelectedAccountAlerts)(),R=(0,S.useNetworkAndOriginSwitchingAlerts)(),N=(0,A.useAddressTrustSignalAlerts)(),O=(0,C.useOriginTrustSignalAlerts)(),D=(0,w.useSpenderAlerts)(),F=(0,b.useAddEthereumChainAlerts)();let G;e[0]!==F||e[1]!==N||e[2]!==t||e[3]!==n||e[4]!==R||e[5]!==O||e[6]!==M||e[7]!==P||e[8]!==D||e[9]!==I?(G=[...t,...n,...P,...I,...M,...R,...N,...O,...D,...F],e[0]=F,e[1]=N,e[2]=t,e[3]=n,e[4]=R,e[5]=O,e[6]=M,e[7]=P,e[8]=D,e[9]=I,e[10]=G):G=e[10];return G};var s=e("react-compiler-runtime"),r=(e("react"),P(e("./alerts/signatures/useAccountMismatchAlerts"))),o=P(e("./alerts/signatures/useDomainMismatchAlerts")),a=e("./alerts/transactions/useAccountTypeUpgrade"),i=e("./alerts/transactions/useFirstTimeInteractionAlert"),c=e("./alerts/transactions/useGasEstimateFailedAlerts"),l=e("./alerts/transactions/useGasFeeLowAlerts"),u=e("./alerts/transactions/useGasTooLowAlerts"),d=e("./alerts/transactions/useInsufficientBalanceAlerts"),m=e("./alerts/transactions/useMultipleApprovalsAlerts"),p=e("./alerts/transactions/useNoGasPriceAlerts"),f=e("./alerts/transactions/useNonContractAddressAlerts"),h=e("./alerts/transactions/usePendingTransactionAlerts"),g=e("./alerts/transactions/useResimulationAlert"),v=e("./alerts/transactions/useSigningOrSubmittingAlerts"),T=P(e("./alerts/useBlockaidAlerts")),y=P(e("./alerts/useConfirmationOriginAlerts")),S=e("./alerts/useNetworkAndOriginSwitchingAlerts"),k=e("./alerts/useSelectedAccountAlerts"),A=e("./alerts/useAddressTrustSignalAlerts"),C=e("./alerts/useOriginTrustSignalAlerts"),w=e("./alerts/useSpenderAlerts"),_=e("./alerts/useTokenTrustSignalAlerts"),x=e("./alerts/useShieldCoverageAlert"),b=e("./alerts/useAddEthereumChainAlerts"),E=e("./alerts/transactions/useBurnAddressAlert");function P(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationAlerts.ts"}],[7693,{"../../../helpers/constants/routes":7054,"../../../selectors":8035,"../confirmation/templates":7592,"../utils":7743,"@metamask/controller-utils":1384,lodash:4794,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getConfirmationRoute=p,n.useConfirmationNavigation=function(){const e=(0,s.c)(21),t=(0,r.useSelector)(d.selectPendingApprovalsForNavigation),n=(0,r.useSelector)(d.getApprovalFlows,i.isEqual),a=(0,o.useNavigate)(),{search:c}=(0,o.useLocation)(),l=t.length;let u;e[0]!==t?(u=e=>e?t.findIndex(t=>{const{id:n}=t;return n===e}):0,e[0]=t,e[1]=u):u=e[1];const m=u;let f;e[2]!==(null==n?void 0:n.length)||e[3]!==t||e[4]!==a||e[5]!==c?(f=e=>{const s=p(e,t,Boolean(null==n?void 0:n.length),c);s&&a(s,{replace:!0})},e[2]=null==n?void 0:n.length,e[3]=t,e[4]=a,e[5]=c,e[6]=f):f=e[6];null==n||n.length;const h=f;let g;e[7]!==t||e[8]!==h?(g=e=>{const n=t[e];h(null==n?void 0:n.id)},e[7]=t,e[8]=h,e[9]=g):g=e[9];const v=g;let T;e[10]!==t||e[11]!==m||e[12]!==v?(T=e=>{const n=t.filter(t=>t.id!==e);if(n.length>=1){const e=m(n[0].id);v(e)}},e[10]=t,e[11]=m,e[12]=v,e[13]=T):T=e[13];const y=T;let S;e[14]!==t||e[15]!==l||e[16]!==m||e[17]!==y||e[18]!==h||e[19]!==v?(S={confirmations:t,count:l,getIndex:m,navigateToId:h,navigateToIndex:v,navigateNext:y},e[14]=t,e[15]=l,e[16]=m,e[17]=y,e[18]=h,e[19]=v,e[20]=S):S=e[20];return S};var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),o=e("react-router-dom-v5-compat"),a=e("@metamask/controller-utils"),i=e("lodash"),c=e("../confirmation/templates"),l=e("../../../helpers/constants/routes"),u=e("../utils"),d=e("../../../selectors");const m=[a.ApprovalType.WalletRequestPermissions,"wallet_installSnap","wallet_updateSnap","wallet_installSnapResult"];function p(e,t,n,s=""){var r;const o=(null==t?void 0:t.length)<=0||!e;if(n&&o)return l.CONFIRMATION_V_NEXT_ROUTE;if(o)return"";const i=t.find(t=>t.id===e);if(!i)return"";const d=i.type;if(c.TEMPLATED_CONFIRMATION_APPROVAL_TYPES.includes(d))return`${l.CONFIRMATION_V_NEXT_ROUTE}/${e}`;if((0,u.isSignatureTransactionType)(i))return`${l.CONFIRM_TRANSACTION_ROUTE}/${e}${l.SIGNATURE_REQUEST_PATH}`;if(d===a.ApprovalType.Transaction){let t=`${l.CONFIRM_TRANSACTION_ROUTE}/${e}`;return s.length&&(t=`${t}${s}`),t}if(d===a.ApprovalType.AddEthereumChain)return`${l.CONFIRM_TRANSACTION_ROUTE}/${e}`;if(d===a.ApprovalType.EthDecrypt)return`${l.CONFIRM_TRANSACTION_ROUTE}/${e}${l.DECRYPT_MESSAGE_REQUEST_PATH}`;if(d===a.ApprovalType.EthGetEncryptionPublicKey)return`${l.CONFIRM_TRANSACTION_ROUTE}/${e}${l.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH}`;if(m.includes(d))return`${l.CONNECT_ROUTE}/${e}`;const p=null==i||null===(r=i.requestData)||void 0===r||null===(r=r.asset)||void 0===r?void 0:r.tokenId;return d!==a.ApprovalType.WatchAsset||p?d===a.ApprovalType.WatchAsset&&p?l.CONFIRM_ADD_SUGGESTED_NFT_ROUTE:"":l.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationNavigation.ts"}],[7694,{"../../../../shared/constants/network":5772,"../../../hooks/useI18nContext":7200,"../../../selectors":8035,"../context/confirm":7607,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("../../../../shared/constants/network"),a=e("../../../hooks/useI18nContext"),i=e("../context/confirm"),c=e("../../../selectors");n.default=function(){const e=(0,s.c)(9),t=(0,a.useI18nContext)(),{currentConfirmation:n}=(0,i.useConfirmContext)(),l=null==n?void 0:n.chainId;let u;e[0]!==l?(u=e=>(0,c.selectNetworkConfigurationByChainId)(e,l),e[0]=l,e[1]=u):u=e[1];const d=(0,r.useSelector)(u);let m,p="",f="";if(n){let n;e[2]!==l||e[3]!==(null==d?void 0:d.name)||e[4]!==t?(n=(null==d?void 0:d.name)??o.NETWORK_TO_NAME_MAP[l]??t("privateNetwork"),e[2]=l,e[3]=null==d?void 0:d.name,e[4]=t,e[5]=n):n=e[5],p=n,f=o.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[l]}return e[6]!==p||e[7]!==f?(m={networkImageUrl:f,networkDisplayName:p},e[6]=p,e[7]=f,e[8]=m):m=e[8],m}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationNetworkInfo.ts"}],[7695,{"../../../selectors":8035,"../../../selectors/multichain-accounts/account-tree":8039,"../components/confirm/utils":7493,"../context/confirm":7607,"../selectors/accounts":7728,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("../../../selectors"),a=e("../components/confirm/utils"),i=e("../context/confirm"),c=e("../selectors/accounts"),l=e("../../../selectors/multichain-accounts/account-tree");n.default=function(){const e=(0,s.c)(16),{currentConfirmation:t}=(0,i.useConfirmContext)(),n=(0,r.useSelector)(o.getIsMultichainAccountsState2Enabled);let u;e[0]!==t?(u=(0,a.getConfirmationSender)(t),e[0]=t,e[1]=u):u=e[1];const{from:d}=u,m=d??"";let p;e[2]!==m?(p=e=>(0,c.selectAccountGroupNameByInternalAccount)(e,m),e[2]=m,e[3]=p):p=e[3];const f=(0,r.useSelector)(p);let h;e[4]!==m?(h=e=>(0,c.selectInternalAccountNameByAddress)(e,m),e[4]=m,e[5]=h):h=e[5];const g=(0,r.useSelector)(h);let v;e[6]!==m?(v=e=>(0,l.getWalletIdAndNameByAccountAddress)(e,m),e[6]=m,e[7]=v):v=e[7];const T=(0,r.useSelector)(v),y=(0,r.useSelector)(l.getWalletsWithAccounts),S=n?f:g;let k;e[8]!==y?(k=Object.keys(y),e[8]=y,e[9]=k):k=e[9];const A=k.length>1,C=S??"",w=(null==T?void 0:T.name)??"";let _;return e[10]!==A||e[11]!==n||e[12]!==m||e[13]!==C||e[14]!==w?(_={hasMoreThanOneWallet:A,isBIP44:n,senderAddress:m,senderName:C,walletName:w},e[10]=A,e[11]=n,e[12]=m,e[13]=C,e[14]=w,e[15]=_):_=e[15],_}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useConfirmationRecipientInfo.ts"}],[7696,{"../../../../shared/lib/confirmation.utils":5805,"../../../selectors":8035,"../../../selectors/signatures":8056,"@metamask/controller-utils":1384,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/controller-utils"),o=(e("react"),e("react-redux")),a=e("react-router-dom-v5-compat"),i=e("../../../selectors"),c=e("../../../selectors/signatures"),l=e("../../../../shared/lib/confirmation.utils");n.default=e=>{const t=(0,s.c)(11),{id:n}=(0,a.useParams)(),u=(0,o.useSelector)(i.oldestPendingConfirmationSelector),d=e??n??(null==u?void 0:u.id);let m;t[0]!==d?(m=e=>(0,i.selectPendingApproval)(e,d),t[0]=d,t[1]=m):m=t[1];const p=(0,o.useSelector)(m);let f;t[2]!==d?(f=e=>(0,i.getUnapprovedTransaction)(e,d),t[2]=d,t[3]=f):f=t[3];const h=(0,o.useSelector)(f);let g;t[4]!==d?(g=e=>(0,c.selectUnapprovedMessage)(e,d),t[4]=d,t[5]=g):g=t[5];const v=(0,o.useSelector)(g),T=(0,l.shouldUseRedesignForSignatures)({approvalType:null==p?void 0:p.type}),y=(0,l.shouldUseRedesignForTransactions)({transactionMetadataType:null==h?void 0:h.type}),S=T||y;let k;e:{if((null==p?void 0:p.type)===r.ApprovalType.AddEthereumChain){let e;t[6]!==p?(e={currentConfirmation:p},t[6]=p,t[7]=e):e=t[7],k=e;break e}if(!S){let e;t[8]===Symbol.for("react.memo_cache_sentinel")?(e={currentConfirmation:undefined},t[8]=e):e=t[8],k=e;break e}const e=h??v??undefined;let n;t[9]!==e?(n={currentConfirmation:e},t[9]=e,t[10]=n):n=t[10],k=n}return k}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useCurrentConfirmation.ts"}],[7697,{"../context/confirm":7607,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("../context/confirm");n.default=()=>{var e;const t=(0,s.c)(2),{currentConfirmation:n}=(0,o.useConfirmContext)(),a=null==n||null===(e=n.securityAlertResponse)||void 0===e?void 0:e.securityAlertId;let i;t[0]!==a?(i=e=>{var t;if(a!==undefined)return null===(t=e.metamask.signatureSecurityAlertResponses)||void 0===t?void 0:t[a]},t[0]=a,t[1]=i):i=t[1];return(0,r.useSelector)(i)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useCurrentSignatureSecurityAlertResponse.ts"}],[7698,{"../components/simulation-details/useLoadingTime":7556,"../context/confirm":7607,"./useSignatureEventFragment":7717,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDecodedSignatureMetrics=function(e){var t,n;const u=(0,s.c)(18),{updateSignatureEventFragment:d}=(0,i.useSignatureEventFragment)(),{currentConfirmation:m}=(0,o.useConfirmContext)(),{loadingTime:p,setLoadingComplete:f}=(0,a.useLoadingTime)(),{decodingLoading:h,decodingData:g}=m;!1===h&&f();let v,T;u[0]!==(null==g?void 0:g.stateChanges)?(v=(null==g?void 0:g.stateChanges)??[],u[0]=null==g?void 0:g.stateChanges,u[1]=v):v=u[1];u[2]!==v?(T=v.map(l),u[2]=v,u[3]=T):T=u[3];const y=T,S=(null==g||null===(t=g.error)||void 0===t?void 0:t.type)??(y.length?c.Change:c.NoChange);let k,A;if(u[4]!==y||u[5]!==(null==g||null===(n=g.error)||void 0===n?void 0:n.message)||u[6]!==h||u[7]!==S||u[8]!==p||u[9]!==e||u[10]!==d){var C;k=()=>{var t;e&&d(h?{properties:{decoding_response:c.InProgress}}:{properties:{decoding_change_types:y,decoding_description:(null==g||null===(t=g.error)||void 0===t?void 0:t.message)??null,decoding_latency:p??null,decoding_response:S}})},u[4]=y,u[5]=null==g||null===(C=g.error)||void 0===C?void 0:C.message,u[6]=h,u[7]=S,u[8]=p,u[9]=e,u[10]=d,u[11]=k}else k=u[11];u[12]!==y||u[13]!==h||u[14]!==S||u[15]!==p||u[16]!==d?(A=[S,h,y,p,d],u[12]=y,u[13]=h,u[14]=S,u[15]=p,u[16]=d,u[17]=A):A=u[17];(0,r.useEffect)(k,A)};var s=e("react-compiler-runtime"),r=e("react"),o=e("../context/confirm"),a=e("../components/simulation-details/useLoadingTime"),i=e("./useSignatureEventFragment"),c=function(e){return e.Change="CHANGE",e.NoChange="NO_CHANGE",e.InProgress="decoding_in_progress",e}(c||{});function l(e){return e.changeType}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useDecodedSignatureMetrics.ts"}],[7699,{"../../../ducks/send":7041,"../../../selectors":8035,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDraftTransactionWithTxParams=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("../../../ducks/send"),a=e("../../../selectors");n.useDraftTransactionWithTxParams=()=>{const e=(0,s.c)(11),t=(0,r.useSelector)(o.getCurrentDraftTransaction),n=(0,r.useSelector)(a.getUnapprovedTransactions);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={},e[0]=i):i=e[0];let c=i;if(0!==Object.keys(t).length){var l,u,d,m,p,f,h,g,v,T;const s=n[t.id],r=null===(l=t.gas)||void 0===l?void 0:l.gasPrice,o=null!=s&&s.userEditedGasLimit?null==s||null===(u=s.txParams)||void 0===u?void 0:u.gas:null===(d=t.gas)||void 0===d?void 0:d.gasLimit,a=null!=s&&null!==(m=s.txParams)&&void 0!==m&&m.maxFeePerGas?null==s||null===(p=s.txParams)||void 0===p?void 0:p.maxFeePerGas:null===(f=t.gas)||void 0===f?void 0:f.maxFeePerGas,i=null!=s&&null!==(h=s.txParams)&&void 0!==h&&h.maxPriorityFeePerGas?null==s||null===(g=s.txParams)||void 0===g?void 0:g.maxPriorityFeePerGas:null===(v=t.gas)||void 0===v?void 0:v.maxPriorityFeePerGas,y=null===(T=t.amount)||void 0===T?void 0:T.value;let S;e[1]!==t.transactionType||e[2]!==r||e[3]!==o||e[4]!==a||e[5]!==i||e[6]!==y?(S={gasPrice:r,gas:o,maxFeePerGas:a,maxPriorityFeePerGas:i,value:y,type:t.transactionType},e[1]=t.transactionType,e[2]=r,e[3]=o,e[4]=a,e[5]=i,e[6]=y,e[7]=S):S=e[7];const k=null==s?void 0:s.userFeeLevel;let A;e[8]!==S||e[9]!==k?(A={txParams:S,userFeeLevel:k},e[8]=S,e[9]=k,e[10]=A):A=e[10],c=A}return c}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useDraftTransactionWithTxParams.js"}],[7700,{"../../../../shared/lib/eip7702-utils":5844,"../../../selectors":8035,"../../../store/actions":8065,"./useConfirmationNavigation":7693,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"EIP_7702_REVOKE_ADDRESS",{enumerable:!0,get:function(){return a.EIP_7702_REVOKE_ADDRESS}}),n.useEIP7702Account=function(e){const t=(0,s.c)(25);let n;t[0]!==e?(n=e===undefined?{chainId:"0x"}:e,t[0]=e,t[1]=n):n=t[1];const{chainId:u,onRedirect:d}=n,m=(0,o.useDispatch)(),[p,f]=(0,r.useState)(),{confirmations:h,navigateToId:g}=(0,l.useConfirmationNavigation)(),v=(0,o.useSelector)(e=>(0,c.selectDefaultRpcEndpointByChainId)(e,u))??{defaultRpcEndpoint:{}},{networkClientId:T}=v;let y;if(t[2]!==h||t[3]!==p){let e;t[5]!==p?(e=e=>e.id===p,t[5]=p,t[6]=e):e=t[6],y=h.some(e),t[2]=h,t[3]=p,t[4]=y}else y=t[4];const S=y;let k;t[7]!==m||t[8]!==T?(k=async e=>{const t=await(0,a.createEIP7702DowngradeTransaction)({address:e,networkClientId:T},async(e,t)=>await m((0,i.addTransactionAndRouteToConfirmationPage)(e,t)));f(t.transactionId)},t[7]=m,t[8]=T,t[9]=k):k=t[9];const A=k;let C;t[10]!==m||t[11]!==T?(C=async(e,t)=>{const n=await(0,a.createEIP7702UpgradeTransaction)({address:e,upgradeContractAddress:t,networkClientId:T},async(e,t)=>await m((0,i.addTransactionAndRouteToConfirmationPage)(e,t)));f(n.transactionId)},t[10]=m,t[11]=T,t[12]=C):C=t[12];const w=C;let _;t[13]!==T?(_=async e=>(0,a.isAccountUpgraded)(e,T,i.getCode),t[13]=T,t[14]=_):_=t[14];const x=_;let b,E,P;t[15]!==S||t[16]!==g||t[17]!==d||t[18]!==p?(b=()=>{S&&(g(p),null==d||d())},E=[S,g,p,d],t[15]=S,t[16]=g,t[17]=d,t[18]=p,t[19]=b,t[20]=E):(b=t[19],E=t[20]);(0,r.useEffect)(b,E),t[21]!==A||t[22]!==x||t[23]!==w?(P={isUpgraded:x,downgradeAccount:A,upgradeAccount:w},t[21]=A,t[22]=x,t[23]=w,t[24]=P):P=t[24];return P};var s=e("react-compiler-runtime"),r=e("react"),o=e("react-redux"),a=e("../../../../shared/lib/eip7702-utils"),i=e("../../../store/actions"),c=e("../../../selectors"),l=e("./useConfirmationNavigation")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useEIP7702Account.ts"}],[7701,{"../../../../shared/constants/keyring":5764,"../../../../shared/constants/network":5772,"../../../../shared/modules/network.utils":5900,"../../../hooks/useAsync":7181,"../../../selectors":8035,"../../../store/controller-actions/transaction-controller":8069,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEIP7702Networks=void 0;var s=e("react"),r=e("react-redux"),o=e("../../../../shared/constants/keyring"),a=e("../../../../shared/constants/network"),i=e("../../../../shared/modules/network.utils"),c=e("../../../selectors"),l=e("../../../hooks/useAsync"),u=e("../../../store/controller-actions/transaction-controller");n.useEIP7702Networks=e=>{var t;const n=(0,r.useSelector)(t=>(0,c.getMemoizedInternalAccountByAddress)(t,e)),d=null==n||null===(t=n.metadata)||void 0===t||null===(t=t.keyring)||void 0===t?void 0:t.type,m=d&&o.KEYRING_TYPES_SUPPORTING_7702.includes(d),[p]=(0,r.useSelector)(c.getMultichainNetworkConfigurationsByChainId),[f={},h={}]=(0,s.useMemo)(()=>m?Object.entries(p).reduce(([e,t],[n,s])=>{try{const r=s.isEvm?(0,i.convertCaipToHexChainId)(n):n;(a.TEST_CHAINS.includes(r)?t:e)[r]=s}catch(e){}return[e,t]},[{},{}]):[{},{}],[m,p]),g=(0,s.useMemo)(()=>({...f,...h}),[f,h]),{pending:v,value:T}=(0,l.useAsyncResult)(async()=>{if(!m)return[];const t=Object.keys(g);return await(0,u.isAtomicBatchSupported)({address:e,chainIds:t})},[e,m,g]),y=(0,s.useMemo)(()=>{if(!T||!m)return[];const e=[];return Object.values(g).forEach(t=>{try{const n=(0,i.convertCaipToHexChainId)(t.chainId),s=T.find(({chainId:e})=>e===n);s&&e.push({...s,...t,chainIdHex:n})}catch(e){}}),e.sort((e,t)=>parseInt(e.chainIdHex,16)-parseInt(t.chainIdHex,16)),e},[m,g,T]);return{network7702List:y,networkSupporting7702Present:(null==y?void 0:y.length)>0,pending:v&&m}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useEIP7702Networks.ts"}],[7702,{"../../../../shared/constants/gas":5761,"../../../../shared/modules/conversion.utils":5887,"../../../../shared/modules/gas.utils":5895,"../../../helpers/constants/common":7047,"../../../helpers/utils/transactions.util":7106,"../../../hooks/useCurrencyDisplay":7187,"../../../hooks/useUserPreferencedCurrency":7246,"../../../selectors":8035,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasEstimates=function(e){const t=(0,s.c)(19),{editGasMode:n,gasEstimateType:p,gasFeeEstimates:f,gasLimit:h,gasPrice:g,maxFeePerGas:v,maxPriorityFeePerGas:T,minimumGasLimit:y,transaction:S}=e,k=(0,r.useSelector)(e=>(0,c.checkNetworkAndAccountSupports1559)(e,null==S?void 0:S.networkClientId))&&!(0,l.isLegacyTransaction)(null==S?void 0:S.txParams),{currency:A,numberOfDecimals:C}=(0,d.useUserPreferencedCurrency)(i.PRIMARY);let w,_;if(t[0]!==n||t[1]!==p||t[2]!==(null==f?void 0:f.estimatedBaseFee)||t[3]!==h||t[4]!==g||t[5]!==v||t[6]!==T||t[7]!==y||t[8]!==k||t[9]!==(null==S?void 0:S.gasLimitNoBuffer)){let e={gasLimit:(0,m.decimalToHex)(h),gasLimitNoBuffer:null==S?void 0:S.gasLimitNoBuffer};e=k?{...e,maxFeePerGas:(0,m.decGWEIToHexWEI)(v||g||"0"),maxPriorityFeePerGas:(0,m.decGWEIToHexWEI)(T||v||g||"0"),baseFeePerGas:(0,m.decGWEIToHexWEI)((null==f?void 0:f.estimatedBaseFee)??"0")}:{...e,gasPrice:p===o.GasEstimateTypes.none?"0x0":(0,m.decGWEIToHexWEI)(g)},w=(0,a.getMaximumGasTotalInHexWei)(e),n===o.EditGasModes.swaps&&(e={...e,gasLimit:y}),_=(0,a.getMinimumGasTotalInHexWei)(e),t[0]=n,t[1]=p,t[2]=null==f?void 0:f.estimatedBaseFee,t[3]=h,t[4]=g,t[5]=v,t[6]=T,t[7]=y,t[8]=k,t[9]=null==S?void 0:S.gasLimitNoBuffer,t[10]=w,t[11]=_}else w=t[10],_=t[11];const x=_;let b;t[12]!==A||t[13]!==C?(b={numberOfDecimals:C,currency:A},t[12]=A,t[13]=C,t[14]=b):b=t[14];const[E]=(0,u.useCurrencyDisplay)(x,b,null==S?void 0:S.chainId);let P;t[15]!==E||t[16]!==w||t[17]!==x?(P={estimatedMinimumNative:E,maximumCostInHexWei:w,minimumCostInHexWei:x},t[15]=E,t[16]=w,t[17]=x,t[18]=P):P=t[18];return P};var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("../../../../shared/constants/gas"),a=e("../../../../shared/modules/gas.utils"),i=e("../../../helpers/constants/common"),c=e("../../../selectors"),l=e("../../../helpers/utils/transactions.util"),u=e("../../../hooks/useCurrencyDisplay"),d=e("../../../hooks/useUserPreferencedCurrency"),m=e("../../../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useGasEstimates.js"}],[7703,{"../../../../shared/constants/gas":5761,"../../../../shared/modules/Numeric":5882,"../../../helpers/constants/gas":7051,"../../../helpers/constants/transactions":7060,"../../../helpers/utils/transactions.util":7106,"../../../helpers/utils/util":7109,"../../../selectors":8035,"@metamask/transaction-controller":2989,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeErrors=function(e){var t;const n=(0,s.c)(51),{gasEstimateType:l,gasFeeEstimates:u,isGasEstimatesLoading:d,gasLimit:S,gasPrice:k,maxPriorityFeePerGas:A,maxFeePerGas:C,minimumCostInHexWei:w,minimumGasLimit:_,transaction:x}=e,b=(0,r.useSelector)(i.checkNetworkAndAccountSupports1559)&&!(0,c.isLegacyTransaction)(null==x?void 0:x.txParams),E=l===a.GasEstimateTypes.feeMarket;let P;n[0]!==S||n[1]!==_?(P=p(S,_),n[0]=S,n[1]=_,n[2]=P):P=n[2];const I=P;let M,R,N,O,D;if(n[3]!==u||n[4]!==k||n[5]!==E||n[6]!==d||n[7]!==C||n[8]!==A||n[9]!==b||n[10]!==x){let e,t;N=f(A,b),R=h(C,N,A,b),n[16]!==k||n[17]!==E||n[18]!==b||n[19]!==x?(e=g(E,k,b,x),n[16]=k,n[17]=E,n[18]=b,n[19]=x,n[20]=e):e=n[20],M=e,n[21]!==u||n[22]!==E||n[23]!==d||n[24]!==A||n[25]!==b?(t=v(u,E,d,A,b),n[21]=u,n[22]=E,n[23]=d,n[24]=A,n[25]=b,n[26]=t):t=n[26],O=t,D=T(u,d,E,R,N,C,b),n[3]=u,n[4]=k,n[5]=E,n[6]=d,n[7]=C,n[8]=A,n[9]=b,n[10]=x,n[11]=M,n[12]=R,n[13]=N,n[14]=O,n[15]=D}else M=n[11],R=n[12],N=n[13],O=n[14],D=n[15];const F=D;let G;n[27]!==I||n[28]!==M||n[29]!==R||n[30]!==N?(G={},I&&(G.gasLimit=I),N&&(G.maxPriorityFee=N),R&&(G.maxFee=R),M&&(G.gasPrice=M),n[27]=I,n[28]=M,n[29]=R,n[30]=N,n[31]=G):G=n[31];const L=G;let $;n[32]!==F||n[33]!==O?($={},O&&($.maxPriorityFee=O),F&&($.maxFee=F),n[32]=F,n[33]=O,n[34]=$):$=n[34];const B=$;let j;n[35]!==L?(j=Object.keys(L),n[35]=L,n[36]=j):j=n[36];const U=Boolean(j.length);let W;n[37]!==L||n[38]!==B?(W={...B,...L},n[37]=L,n[38]=B,n[39]=W):W=n[39];const H=W;let V;if(n[40]!==(null==x||null===(t=x.txParams)||void 0===t?void 0:t.from)){var q;V=e=>{var t;return(0,i.getTargetAccount)(e,null==x||null===(t=x.txParams)||void 0===t?void 0:t.from)},n[40]=null==x||null===(q=x.txParams)||void 0===q?void 0:q.from,n[41]=V}else V=n[41];const K=(0,r.useSelector)(V,r.shallowEqual);let z;n[42]!==K||n[43]!==w||n[44]!==x?(z=K!==undefined&&(null==x?void 0:x.type)!==o.TransactionType.incoming&&(null==x?void 0:x.status)in m.PENDING_STATUS_HASH&&y(w,x,K.balance),n[42]=K,n[43]=w,n[44]=x,n[45]=z):z=n[45];const Q=z,Y=Boolean(null==x?void 0:x.simulationFails);let Z;n[46]!==Q||n[47]!==H||n[48]!==U||n[49]!==Y?(Z={gasErrors:H,hasGasErrors:U,balanceError:Q,hasSimulationError:Y},n[46]=Q,n[47]=H,n[48]=U,n[49]=Y,n[50]=Z):Z=n[50];return Z};var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),o=e("@metamask/transaction-controller"),a=e("../../../../shared/constants/gas"),i=e("../../../selectors"),c=e("../../../helpers/utils/transactions.util"),l=e("../../../helpers/utils/util"),u=e("../../../helpers/constants/gas"),d=e("../../../../shared/modules/Numeric"),m=e("../../../helpers/constants/transactions");const p=(e,t)=>new d.Numeric(e,10).lessThan(new d.Numeric(t||a.GAS_LIMITS.SIMPLE,16))?u.GAS_FORM_ERRORS.GAS_LIMIT_OUT_OF_BOUNDS:undefined,f=(e,t)=>t&&(0,l.bnLessThan)(e,0)?u.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_BELOW_MINIMUM:undefined,h=(e,t,n,s)=>t||!s?undefined:(0,l.bnGreaterThan)(n,e)?u.GAS_FORM_ERRORS.MAX_FEE_IMBALANCE:undefined,g=(e,t,n,s)=>{var r;return n&&e?undefined:(!n||null!=s&&null!==(r=s.txParams)&&void 0!==r&&r.gasPrice)&&(0,l.bnLessThan)(t||0,0)?u.GAS_FORM_ERRORS.GAS_PRICE_TOO_LOW:undefined},v=(e,t,n,s,r)=>{var o;return r&&t&&!n?(0,l.bnLessThan)(s,null==e||null===(o=e.low)||void 0===o?void 0:o.suggestedMaxPriorityFeePerGas)?u.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW:null!=e&&e.high&&(0,l.bnGreaterThan)(s,1.5*e.high.suggestedMaxPriorityFeePerGas)?u.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_HIGH_WARNING:undefined:undefined},T=(e,t,n,s,r,o,a)=>{var i;return r||s||!n||!a||t?undefined:(0,l.bnLessThan)(o,null==e||null===(i=e.low)||void 0===i?void 0:i.suggestedMaxFeePerGas)?u.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW:null!=e&&e.high&&(0,l.bnGreaterThan)(o,1.5*e.high.suggestedMaxFeePerGas)?u.GAS_FORM_ERRORS.MAX_FEE_HIGH_WARNING:undefined},y=(e,t,n)=>{var s;if(e===undefined||n===undefined)return!1;const r=new d.Numeric(e,16).add(new d.Numeric((null==t||null===(s=t.txParams)||void 0===s?void 0:s.value)||"0x0",16)),o=new d.Numeric(n,16);return r.greaterThan(o)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useGasFeeErrors.js"}],[7704,{"../../../../shared/constants/common":5756,"../../../../shared/constants/gas":5761,"../../../../shared/modules/Numeric":5882,"../../../../shared/modules/conversion.utils":5887,"../../../helpers/constants/gas":7051,"../../../helpers/utils/gas":7082,"../../../helpers/utils/transactions.util":7106,"../../../hooks/useGasFeeEstimates":7197,"../../../selectors":8035,"./useGasEstimates":7702,"./useGasFeeErrors":7703,"./useGasPriceInput":7705,"./useMaxFeePerGasInput":7711,"./useMaxPriorityFeePerGasInput":7712,"./useTransactionFunctions":7724,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeInputs=function(e,t,n,A){var C,w,_,x,b,E,P;const I=(0,s.c)(122),M=e===undefined?a.GasRecommendations.medium:e,R=n===undefined?"0x5208":n,N=A===undefined?a.EditGasModes.modifyInPlace:A,O=null==t?void 0:t.txParams,D=null==t?void 0:t.id,F=null==t?void 0:t.userFeeLevel,G=null==t?void 0:t.originalGasEstimate,L=null==t?void 0:t.userEditedGasLimit;let $;I[0]!==(null==t?void 0:t.previousGas)||I[1]!==O||I[2]!==D||I[3]!==F||I[4]!==G||I[5]!==L?($={txParams:O,id:D,userFeeLevel:F,originalGasEstimate:G,userEditedGasLimit:L},null!=t&&t.previousGas&&($.previousGas=null==t?void 0:t.previousGas),I[0]=null==t?void 0:t.previousGas,I[1]=O,I[2]=D,I[3]=F,I[4]=G,I[5]=L,I[6]=$):$=I[6];const[B,j]=(0,r.useState)($);let U;I[7]!==t||I[8]!==N||I[9]!==B?(U=(0,d.editGasModeIsSpeedUpOrCancel)(N)?B:t,I[7]=t,I[8]=N,I[9]=B,I[10]=U):U=I[10];const W=U;let H;I[11]!==(null==W?void 0:W.chainId)?(H=e=>(0,c.selectNetworkConfigurationByChainId)(e,null==W?void 0:W.chainId),I[11]=null==W?void 0:W.chainId,I[12]=H):H=I[12];const V=(0,o.useSelector)(H),q=null==V||null===(C=V.rpcEndpoints)||void 0===C||null===(C=C[null==V?void 0:V.defaultRpcEndpointIndex])||void 0===C?void 0:C.networkClientId,K=(0,o.useSelector)(c.checkNetworkAndAccountSupports1559)&&!(0,l.isLegacyTransaction)(null==W?void 0:W.txParams),{gasEstimateType:z,gasFeeEstimates:Q,isGasEstimatesLoading:Y,isNetworkBusy:Z}=(0,u.useGasFeeEstimates)(q),X=(0,o.useSelector)(c.getAdvancedInlineGasShown);let J;I[13]!==M||I[14]!==W||I[15]!==X?(J=()=>{var e,t;return X&&null!=W&&null!==(e=W.txParams)&&void 0!==e&&e.maxPriorityFeePerGas&&null!=W&&null!==(t=W.txParams)&&void 0!==t&&t.maxFeePerGas?null:W?(null==W?void 0:W.userFeeLevel)||null:M},I[13]=M,I[14]=W,I[15]=X,I[16]=J):J=I[16];const[ee,te]=(0,r.useState)(J);let ne;I[17]!==ee?(ne=()=>ee||a.PriorityLevels.custom,I[17]=ee,I[18]=ne):ne=I[18];const[se,re]=(0,r.useState)(ne);let oe;if(I[19]!==(null==W||null===(w=W.txParams)||void 0===w?void 0:w.gas)||I[20]!==(null==W||null===(_=W.txParams)||void 0===_?void 0:_.gasLimit)){var ae,ie;oe=()=>{var e,t;return Number((0,m.hexToDecimal)((null==W||null===(e=W.txParams)||void 0===e?void 0:e.gasLimit)??(null==W||null===(t=W.txParams)||void 0===t?void 0:t.gas)??"0x0"))},I[19]=null==W||null===(ae=W.txParams)||void 0===ae?void 0:ae.gas,I[20]=null==W||null===(ie=W.txParams)||void 0===ie?void 0:ie.gasLimit,I[21]=oe}else oe=I[21];const[ce,le]=(0,r.useState)(oe),ue=null==W?void 0:W.originalGasEstimate;let de;I[22]!==ue?(de=(0,m.hexToDecimal)(ue),I[22]=ue,I[23]=de):de=I[23];const me=Number(de);let pe,fe,he;if(I[24]!==K||I[25]!==(null==W||null===(x=W.txParams)||void 0===x?void 0:x.gas)||I[26]!==(null==W||null===(b=W.txParams)||void 0===b?void 0:b.gasLimit)||I[27]!==(null==W||null===(E=W.txParams)||void 0===E?void 0:E.maxFeePerGas)||I[28]!==(null==W?void 0:W.userFeeLevel)){var ge,ve,Te;pe=()=>{if(K){var e,t,n,s;null!=W&&W.userFeeLevel&&te(null==W?void 0:W.userFeeLevel);const r=new p.Numeric((null==W||null===(e=W.txParams)||void 0===e?void 0:e.gas)??"0x0",16).times(new p.Numeric((null==W||null===(t=W.txParams)||void 0===t?void 0:t.maxFeePerGas)??"0x0",16)).toPrefixedHexString(),o=new p.Numeric(r,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toBase(10).toString();Number(o)>Number(k)?re(a.PriorityLevels.dappSuggestedHigh):null!=W&&W.userFeeLevel&&re(null==W?void 0:W.userFeeLevel),le(Number((0,m.hexToDecimal)((null==W||null===(n=W.txParams)||void 0===n?void 0:n.gasLimit)??(null==W||null===(s=W.txParams)||void 0===s?void 0:s.gas)??"0x0")))}},I[24]=K,I[25]=null==W||null===(ge=W.txParams)||void 0===ge?void 0:ge.gas,I[26]=null==W||null===(ve=W.txParams)||void 0===ve?void 0:ve.gasLimit,I[27]=null==W||null===(Te=W.txParams)||void 0===Te?void 0:Te.maxFeePerGas,I[28]=null==W?void 0:W.userFeeLevel,I[29]=pe}else pe=I[29];I[30]!==K||I[31]!==W?(fe=[re,le,te,K,W],I[30]=K,I[31]=W,I[32]=fe):fe=I[32];(0,r.useEffect)(pe,fe),I[33]!==ee||I[34]!==z||I[35]!==Q||I[36]!==W?(he={estimateToUse:ee,gasEstimateType:z,gasFeeEstimates:Q,transaction:W},I[33]=ee,I[34]=z,I[35]=Q,I[36]=W,I[37]=he):he=I[37];const{gasPrice:ye,setGasPrice:Se,setGasPriceHasBeenManuallySet:ke}=(0,g.useGasPriceInput)(he);let Ae;I[38]!==ee||I[39]!==z||I[40]!==Q||I[41]!==W?(Ae={estimateToUse:ee,gasEstimateType:z,gasFeeEstimates:Q,transaction:W},I[38]=ee,I[39]=z,I[40]=Q,I[41]=W,I[42]=Ae):Ae=I[42];const{maxFeePerGas:Ce,setMaxFeePerGas:we}=(0,v.useMaxFeePerGasInput)(Ae);let _e;I[43]!==ee||I[44]!==z||I[45]!==Q||I[46]!==W?(_e={estimateToUse:ee,gasEstimateType:z,gasFeeEstimates:Q,transaction:W},I[43]=ee,I[44]=z,I[45]=Q,I[46]=W,I[47]=_e):_e=I[47];const{maxPriorityFeePerGas:xe,setMaxPriorityFeePerGas:be}=(0,T.useMaxPriorityFeePerGasInput)(_e);let Ee;I[48]!==N||I[49]!==z||I[50]!==Q||I[51]!==ce||I[52]!==ye||I[53]!==Ce||I[54]!==xe||I[55]!==R||I[56]!==W?(Ee={editGasMode:N,gasEstimateType:z,gasFeeEstimates:Q,gasLimit:ce,gasPrice:ye,maxFeePerGas:Ce,maxPriorityFeePerGas:xe,minimumGasLimit:R,transaction:W},I[48]=N,I[49]=z,I[50]=Q,I[51]=ce,I[52]=ye,I[53]=Ce,I[54]=xe,I[55]=R,I[56]=W,I[57]=Ee):Ee=I[57];const{estimatedMinimumNative:Pe,maximumCostInHexWei:Ie,minimumCostInHexWei:Me}=(0,y.useGasEstimates)(Ee);let Re;I[58]!==z||I[59]!==Q||I[60]!==ce||I[61]!==ye||I[62]!==Y||I[63]!==Ce||I[64]!==xe||I[65]!==Me||I[66]!==R||I[67]!==W?(Re={gasEstimateType:z,gasFeeEstimates:Q,isGasEstimatesLoading:Y,gasLimit:ce,gasPrice:ye,maxPriorityFeePerGas:xe,maxFeePerGas:Ce,minimumCostInHexWei:Me,minimumGasLimit:R,transaction:W},I[58]=z,I[59]=Q,I[60]=ce,I[61]=ye,I[62]=Y,I[63]=Ce,I[64]=xe,I[65]=Me,I[66]=R,I[67]=W,I[68]=Re):Re=I[68];const{balanceError:Ne,gasErrors:Oe,hasGasErrors:De,hasSimulationError:Fe}=(0,h.useGasFeeErrors)(Re);let Ge;if(I[69]!==Oe.gasLimit||I[70]!==R||I[71]!==(null==W||null===(P=W.txParams)||void 0===P?void 0:P.gas)){var Le;Ge=()=>{if(Oe.gasLimit===i.GAS_FORM_ERRORS.GAS_LIMIT_OUT_OF_BOUNDS){var e;const t=(0,m.hexToDecimal)(null==W||null===(e=W.txParams)||void 0===e?void 0:e.gas),n=(0,m.hexToDecimal)(R);le(t>n?t:n)}},I[69]=Oe.gasLimit,I[70]=R,I[71]=null==W||null===(Le=W.txParams)||void 0===Le?void 0:Le.gas,I[72]=Ge}else Ge=I[72];const $e=Ge;let Be;I[73]!==M||I[74]!==N||I[75]!==Q||I[76]!==ce||I[77]!==xe||I[78]!==R||I[79]!==W?(Be={defaultEstimateToUse:M,editGasMode:N,gasFeeEstimates:Q,gasLimit:ce,maxPriorityFeePerGas:xe,minimumGasLimit:R,transaction:W,setRetryTxMeta:j},I[73]=M,I[74]=N,I[75]=Q,I[76]=ce,I[77]=xe,I[78]=R,I[79]=W,I[80]=Be):Be=I[80];const{cancelTransaction:je,speedUpTransaction:Ue,updateTransaction:We,updateTransactionToTenPercentIncreasedGasFee:He,updateTransactionUsingDAPPSuggestedValues:Ve,updateTransactionUsingEstimate:qe}=(0,S.useTransactionFunctions)(Be);let Ke;I[81]!==ce||I[82]!==ye||I[83]!==$e||I[84]!==Ce||I[85]!==xe||I[86]!==Se||I[87]!==ke||I[88]!==we||I[89]!==be?(Ke=()=>{te(a.CUSTOM_GAS_ESTIMATE),$e(),Se(ye),le(ce),we(Ce),be(xe),ke(!0),re("custom")},I[81]=ce,I[82]=ye,I[83]=$e,I[84]=Ce,I[85]=xe,I[86]=Se,I[87]=ke,I[88]=we,I[89]=be,I[90]=Ke):Ke=I[90];const ze=Ke;let Qe,Ye;I[91]!==R?(Qe=(0,m.hexToDecimal)(R),I[91]=R,I[92]=Qe):Qe=I[92];I[93]!==Ne||I[94]!==je||I[95]!==N||I[96]!==ee||I[97]!==se||I[98]!==Pe||I[99]!==Oe||I[100]!==Q||I[101]!==ce||I[102]!==ye||I[103]!==De||I[104]!==Fe||I[105]!==Z||I[106]!==Ce||I[107]!==xe||I[108]!==Ie||I[109]!==Me||I[110]!==ze||I[111]!==me||I[112]!==Se||I[113]!==Ue||I[114]!==K||I[115]!==Qe||I[116]!==W||I[117]!==We||I[118]!==He||I[119]!==Ve||I[120]!==qe?(Ye={transaction:W,maxFeePerGas:Ce,maxPriorityFeePerGas:xe,gasPrice:ye,setGasPrice:Se,gasLimit:ce,setGasLimit:le,properGasLimit:me,editGasMode:N,estimateToUse:ee,estimatedMinimumNative:Pe,maximumCostInHexWei:Ie,minimumCostInHexWei:Me,estimateUsed:se,gasFeeEstimates:Q,isNetworkBusy:Z,onManualChange:ze,balanceError:Ne,gasErrors:Oe,hasGasErrors:De,hasSimulationError:Fe,minimumGasLimitDec:Qe,supportsEIP1559:K,cancelTransaction:je,speedUpTransaction:Ue,updateTransaction:We,updateTransactionToTenPercentIncreasedGasFee:He,updateTransactionUsingDAPPSuggestedValues:Ve,updateTransactionUsingEstimate:qe},I[93]=Ne,I[94]=je,I[95]=N,I[96]=ee,I[97]=se,I[98]=Pe,I[99]=Oe,I[100]=Q,I[101]=ce,I[102]=ye,I[103]=De,I[104]=Fe,I[105]=Z,I[106]=Ce,I[107]=xe,I[108]=Ie,I[109]=Me,I[110]=ze,I[111]=me,I[112]=Se,I[113]=Ue,I[114]=K,I[115]=Qe,I[116]=W,I[117]=We,I[118]=He,I[119]=Ve,I[120]=qe,I[121]=Ye):Ye=I[121];return Ye};var s=e("react-compiler-runtime"),r=e("react"),o=e("react-redux"),a=e("../../../../shared/constants/gas"),i=e("../../../helpers/constants/gas"),c=e("../../../selectors"),l=e("../../../helpers/utils/transactions.util"),u=e("../../../hooks/useGasFeeEstimates"),d=e("../../../helpers/utils/gas"),m=e("../../../../shared/modules/conversion.utils"),p=e("../../../../shared/modules/Numeric"),f=e("../../../../shared/constants/common"),h=e("./useGasFeeErrors"),g=e("./useGasPriceInput"),v=e("./useMaxFeePerGasInput"),T=e("./useMaxPriorityFeePerGasInput"),y=e("./useGasEstimates"),S=e("./useTransactionFunctions");const k="1"}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useGasFeeInputs.js"}],[7705,{"../../../../shared/constants/gas":5761,"../../../../shared/modules/conversion.utils":5887,"../../../helpers/utils/transactions.util":7106,"./utils":7727,lodash:4794,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasPriceInput=function(e){const t=(0,s.c)(15),{estimateToUse:n,gasEstimateType:u,gasFeeEstimates:d,transaction:m}=e,[p,f]=(0,r.useState)((null==m?void 0:m.userFeeLevel)===a.CUSTOM_GAS_ESTIMATE);let h;t[0]!==m?(h=()=>{const{gasPrice:e}=(null==m?void 0:m.txParams)||{};return e&&(0,l.feeParamsAreCustom)(m)?Number((0,c.hexWEIToDecGWEI)(e)):null},t[0]=m,t[1]=h):h=t[1];const[g,v]=(0,r.useState)(h),[T]=(0,r.useState)(d);let y;t[2]!==d||t[3]!==T?(y=(0,o.isEqual)(T,d),t[2]=d,t[3]=T,t[4]=y):y=t[4];const S=y;let k;t[5]!==n||t[6]!==u||t[7]!==d||t[8]!==g||t[9]!==S||t[10]!==p||t[11]!==(null==m?void 0:m.txParams)?(k=null!==g&&(p||S||(0,i.isLegacyTransaction)(null==m?void 0:m.txParams))?g:function(e,t,n){if(t===a.GasEstimateTypes.legacy)return(null==e?void 0:e[n])??"0";if(t===a.GasEstimateTypes.ethGasPrice)return(null==e?void 0:e.gasPrice)??"0";return"0"}(d,u,n),t[5]=n,t[6]=u,t[7]=d,t[8]=g,t[9]=S,t[10]=p,t[11]=null==m?void 0:m.txParams,t[12]=k):k=t[12];const A=k;let C;t[13]!==A?(C={gasPrice:A,setGasPrice:v,setGasPriceHasBeenManuallySet:f},t[13]=A,t[14]=C):C=t[14];return C};var s=e("react-compiler-runtime"),r=e("react"),o=e("lodash"),a=e("../../../../shared/constants/gas"),i=e("../../../helpers/utils/transactions.util"),c=e("../../../../shared/modules/conversion.utils"),l=e("./utils")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useGasPriceInput.js"}],[7706,{"../../../../shared/constants/transaction":5792,"../../../hooks/useAsync":7181,"../utils/token":7748,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGetTokenStandardAndDetails=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("../../../../shared/constants/transaction")),o=e("../../../hooks/useAsync"),a=e("../utils/token");n.useGetTokenStandardAndDetails=e=>{const t=(0,s.c)(9);let n,i;t[0]!==e?(n=async()=>e?await(0,a.memoizedGetTokenStandardAndDetails)(e):Promise.resolve(null),i=[e],t[0]=e,t[1]=n,t[2]=i):(n=t[1],i=t[2]);const{value:c}=(0,o.useAsyncResult)(n,i);let l;e:{if(!c){let e;t[3]===Symbol.for("react.memo_cache_sentinel")?(e={decimalsNumber:undefined},t[3]=e):e=t[3],l=e;break e}const{decimals:e,standard:n}=c;if(n===r.TokenStandard.ERC20){let n;t[4]!==e?(n=(0,a.parseTokenDetailDecimals)(e)??a.ERC20_DEFAULT_DECIMALS,t[4]=e,t[5]=n):n=t[5];const s=n;let r;t[6]!==c||t[7]!==s?(r={...c,decimalsNumber:s},t[6]=c,t[7]=s,t[8]=r):r=t[8],l=r;break e}l=c}return l}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useGetTokenStandardAndDetails.ts"}],[7707,{"../../../../shared/modules/conversion.utils":5887,"../../../../shared/modules/transaction.utils":5919,"../../../helpers/utils/gas":7082,"../../../hooks/useGasFeeEstimates":7197,"bignumber.js":3926,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIncrementedGasFees=function(e){var t,n,s,o;const a=(0,r.c)(17),{gasFeeEstimates:c}=(0,l.useGasFeeEstimates)(e.networkClientId);let d;a[0]!==c?(d=c===undefined?{}:c,a[0]=c,a[1]=d):d=a[1];const m=d,p=null===(t=e.txParams)||void 0===t?void 0:t.gas,f=null===(n=e.txParams)||void 0===n?void 0:n.gas;let h;if(a[2]!==(null==m||null===(s=m.medium)||void 0===s?void 0:s.suggestedMaxFeePerGas)||a[3]!==(null==m||null===(o=m.medium)||void 0===o?void 0:o.suggestedMaxPriorityFeePerGas)||a[4]!==p||a[5]!==f||a[6]!==e){var g,v,T,y;h={gasLimit:p,gas:f};const t=(null==m||null===(g=m.medium)||void 0===g?void 0:g.suggestedMaxFeePerGas)??"0",n=(null==m||null===(v=m.medium)||void 0===v?void 0:v.suggestedMaxPriorityFeePerGas)??"0";if((0,i.isEIP1559Transaction)(e)){var S,k;const s=null===(S=e.txParams)||void 0===S?void 0:S.maxFeePerGas,r=null===(k=e.txParams)||void 0===k?void 0:k.maxPriorityFeePerGas;let o,i;a[8]!==t||a[9]!==s?(o=s===undefined||s.startsWith("-")?"0x0":u(s,t),a[8]=t,a[9]=s,a[10]=o):o=a[10],h.maxFeePerGas=o,a[11]!==n||a[12]!==r?(i=r===undefined||r.startsWith("-")?"0x0":u(r,n),a[11]=n,a[12]=r,a[13]=i):i=a[13],h.maxPriorityFeePerGas=i}else{var A;const n=null===(A=e.txParams)||void 0===A?void 0:A.gasPrice;let s;a[14]!==t||a[15]!==n?(s=n===undefined||n.startsWith("-")?"0x0":u(n,t),a[14]=t,a[15]=n,a[16]=s):s=a[16],h.gasPrice=s}a[2]=null==m||null===(T=m.medium)||void 0===T?void 0:T.suggestedMaxFeePerGas,a[3]=null==m||null===(y=m.medium)||void 0===y?void 0:y.suggestedMaxPriorityFeePerGas,a[4]=p,a[5]=f,a[6]=e,a[7]=h}else h=a[7];return h};var s,r=e("react-compiler-runtime"),o=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},a=(e("react"),e("../../../../shared/modules/conversion.utils")),i=e("../../../../shared/modules/transaction.utils"),c=e("../../../helpers/utils/gas"),l=e("../../../hooks/useGasFeeEstimates");function u(e,t){const n=(0,c.addTenPercentAndRound)(e),s=(0,a.decGWEIToHexWEI)(t);return new o.default(n,16).greaterThan(new o.default(s,16))?n:s}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useIncrementedGasFees.js"}],[7708,{"../../../selectors":8035,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsBIP44=void 0;var s=e("react-redux"),r=e("../../../selectors");n.useIsBIP44=()=>(0,s.useSelector)(r.getIsMultichainAccountsState2Enabled)}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useIsBIP44.ts"}],[7709,{"./alerts/transactions/useInsufficientBalanceAlerts":7626,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsInsufficientBalance=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={ignoreGasFeeToken:!0},e[0]=t):t=e[0];return Boolean((0,r.useInsufficientBalanceAlerts)(t).length)};var s=e("react-compiler-runtime"),r=e("./alerts/transactions/useInsufficientBalanceAlerts")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useIsInsufficientBalance.ts"}],[7710,{"../../../../shared/constants/hardware-wallets":5762,"../../../ducks/app/app":7018,"../../../ducks/metamask/metamask":7033,"../../../store/actions":8065,"../context/confirm":7607,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("react-redux"),o=e("../../../../shared/constants/hardware-wallets"),a=e("../../../ducks/app/app"),i=e("../../../ducks/metamask/metamask"),c=e("../../../store/actions"),l=e("../context/confirm");n.default=()=>{var e,t;const n=(0,r.useDispatch)(),{currentConfirmation:u}=(0,l.useConfirmContext)(),d=(0,r.useSelector)(i.getLedgerTransportType),m=(0,r.useSelector)(a.getLedgerTransportStatus),p=(0,r.useSelector)(a.getLedgerWebHidConnectedStatus),f=(null==u||null===(e=u.msgParams)||void 0===e?void 0:e.from)??(null==u||null===(t=u.txParams)||void 0===t?void 0:t.from),h=(0,r.useSelector)(e=>f&&(0,i.isAddressLedger)(e,f));return(0,s.useEffect)(()=>{if(!h)return;(async()=>{if(d===o.LedgerTransportTypes.webhid&&p===o.WebHIDConnectedStatuses.connected&&m===o.HardwareTransportStates.none)try{const e=await(0,c.attemptLedgerTransportCreation)();n((0,a.setLedgerTransportStatus)(e?o.HardwareTransportStates.verified:o.HardwareTransportStates.unknownFailure))}catch(e){e.message.match("Failed to open the device")?n((0,a.setLedgerTransportStatus)(o.HardwareTransportStates.deviceOpenFailure)):e.message.match("the device is already open")?n((0,a.setLedgerTransportStatus)(o.HardwareTransportStates.verified)):n((0,a.setLedgerTransportStatus)(o.HardwareTransportStates.unknownFailure))}})(),(async()=>{if(d===o.LedgerTransportTypes.webhid&&p!==o.WebHIDConnectedStatuses.connected){var e;const t=await(null===(e=window.navigator)||void 0===e||null===(e=e.hid)||void 0===e?void 0:e.getDevices()),s=null==t?void 0:t.some(e=>e.vendorId===Number(o.LEDGER_USB_VENDOR_ID));n((0,a.setLedgerWebHidConnectedStatus)(s?o.WebHIDConnectedStatuses.connected:o.WebHIDConnectedStatuses.notConnected))}})()},[n,d,h,p,m]),(0,s.useEffect)(()=>h?()=>{n((0,a.setLedgerTransportStatus)(o.HardwareTransportStates.none))}:undefined,[n]),{isLedgerWallet:h}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useLedgerConnection.ts"}],[7711,{"../../../../shared/modules/conversion.utils":5887,"../../../helpers/utils/transactions.util":7106,"../../../selectors":8035,"./utils":7727,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMaxFeePerGasInput=function(e){const t=(0,s.c)(19),{estimateToUse:n,gasEstimateType:c,gasFeeEstimates:d,transaction:m}=e,p=(0,o.useSelector)(a.checkNetworkAndAccountSupports1559)&&!(0,i.isLegacyTransaction)(null==m?void 0:m.txParams);let f;t[0]!==d||t[1]!==p||t[2]!==m?(f=p?u(m,d):0,t[0]=d,t[1]=p,t[2]=m,t[3]=f):f=t[3];const h=f;let g;t[4]!==h||t[5]!==m?(g=()=>h&&(0,l.feeParamsAreCustom)(m)?h:null,t[4]=h,t[5]=m,t[6]=g):g=t[6];const[v,T]=(0,r.useState)(g);let y,S,k;t[7]!==h||t[8]!==p?(y=()=>{p&&h&&T(h)},S=[h,T,p],t[7]=h,t[8]=p,t[9]=y,t[10]=S):(y=t[9],S=t[10]);(0,r.useEffect)(y,S),t[11]!==n||t[12]!==c||t[13]!==d||t[14]!==h||t[15]!==v?(k=v??(0,l.getGasFeeEstimate)("suggestedMaxFeePerGas",d,c,n,h||0),t[11]=n,t[12]=c,t[13]=d,t[14]=h,t[15]=v,t[16]=k):k=t[16];const A=k;let C;t[17]!==A?(C={maxFeePerGas:A,setMaxFeePerGas:T},t[17]=A,t[18]=C):C=t[18];return C};var s=e("react-compiler-runtime"),r=e("react"),o=e("react-redux"),a=e("../../../selectors"),i=e("../../../helpers/utils/transactions.util"),c=e("../../../../shared/modules/conversion.utils"),l=e("./utils");const u=(e,t)=>{if(null!=t&&t[null==e?void 0:e.userFeeLevel])return t[e.userFeeLevel].suggestedMaxFeePerGas;const{maxFeePerGas:n,gasPrice:s}=(null==e?void 0:e.txParams)||{};return Number((0,c.hexWEIToDecGWEI)(n||s))}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useMaxFeePerGasInput.js"}],[7712,{"../../../../shared/modules/conversion.utils":5887,"../../../helpers/utils/transactions.util":7106,"../../../selectors":8035,"./utils":7727,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMaxPriorityFeePerGasInput=function(e){const t=(0,s.c)(19),{estimateToUse:n,gasEstimateType:c,gasFeeEstimates:m,transaction:p}=e,f=(0,r.useSelector)(a.checkNetworkAndAccountSupports1559)&&!(0,i.isLegacyTransaction)(null==p?void 0:p.txParams);let h;t[0]!==m||t[1]!==f||t[2]!==p?(h=f?d(p,m):null,t[0]=m,t[1]=f,t[2]=p,t[3]=h):h=t[3];const g=h;let v;t[4]!==g||t[5]!==p?(v=()=>!u(g)&&(0,l.feeParamsAreCustom)(p)?g:null,t[4]=g,t[5]=p,t[6]=v):v=t[6];const[T,y]=(0,o.useState)(v);let S,k,A;t[7]!==g||t[8]!==f?(S=()=>{f&&!u(g)&&y(g)},k=[g,y,f],t[7]=g,t[8]=f,t[9]=S,t[10]=k):(S=t[9],k=t[10]);(0,o.useEffect)(S,k),t[11]!==n||t[12]!==c||t[13]!==m||t[14]!==g||t[15]!==T?(A=T??(0,l.getGasFeeEstimate)("suggestedMaxPriorityFeePerGas",m,c,n,g||0),t[11]=n,t[12]=c,t[13]=m,t[14]=g,t[15]=T,t[16]=A):A=t[16];const C=A;let w;t[17]!==C?(w={maxPriorityFeePerGas:C,setMaxPriorityFeePerGas:y},t[17]=C,t[18]=w):w=t[18];return w};var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("react"),a=e("../../../selectors"),i=e("../../../helpers/utils/transactions.util"),c=e("../../../../shared/modules/conversion.utils"),l=e("./utils");const u=e=>null===e||e===undefined,d=(e,t)=>{if(null!=t&&t[null==e?void 0:e.userFeeLevel])return t[e.userFeeLevel].suggestedMaxPriorityFeePerGas;const{maxPriorityFeePerGas:n,maxFeePerGas:s,gasPrice:r}=(null==e?void 0:e.txParams)||{},o=n||s||r;return o?Number((0,c.hexWEIToDecGWEI)(o)):null}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useMaxPriorityFeePerGasInput.js"}],[7713,{"../../../hooks/useGetAssetImageUrl":7198,"../../../selectors":8035,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftImageUrl=function(e){const t=(0,r.useSelector)(o.getIpfsGateway),n=(0,a.default)(e,t),s=e&&!e.startsWith("ipfs:");return s?e:n};var s,r=e("react-redux"),o=e("../../../selectors"),a=(s=e("../../../hooks/useGetAssetImageUrl"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useNftImageUrl.ts"}],[7714,{"../../../selectors":8035,"../../../store/actions":8065,"./useCurrentConfirmation":7696,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginThrottling=function(){var e;const t=(0,r.c)(9),n=(0,o.useDispatch)(),s=(0,o.useSelector)(i.selectThrottledOrigins),{currentConfirmation:u}=(0,c.default)(),d=(null==u?void 0:u.origin)||(null==u||null===(e=u.messageParams)||void 0===e?void 0:e.origin),m=s[d];let p;t[0]!==m?(p=l(m),t[0]=m,t[1]=p):p=t[1];const f=p;let h;t[2]!==n||t[3]!==d?(h=()=>{n((0,a.updateThrottledOriginState)(d,{rejections:0,lastRejection:0}))},t[2]=n,t[3]=d,t[4]=h):h=t[4];const g=h;let v;t[5]!==d||t[6]!==g||t[7]!==f?(v={origin:d,resetOrigin:g,shouldThrottleOrigin:f},t[5]=d,t[6]=g,t[7]=f,t[8]=v):v=t[8];return v};var s,r=e("react-compiler-runtime"),o=(e("react"),e("react-redux")),a=e("../../../store/actions"),i=e("../../../selectors"),c=(s=e("./useCurrentConfirmation"))&&s.__esModule?s:{default:s};const l=e=>{if(!e)return!1;const t=Date.now(),{rejections:n,lastRejection:s}=e;return n+1>=3&&t-s<=3e4}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useOriginThrottling.ts"}],[7715,{"../../../selectors/remote-feature-flags":8049,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRedesignedSendFlow=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("../../../selectors/remote-feature-flags");n.useRedesignedSendFlow=()=>{const e=(0,s.c)(2),{sendRedesign:t}=(0,r.useSelector)(o.getRemoteFeatureFlags),{enabled:n}=t??{};if(!1===n){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={enabled:!1},e[0]=t):t=e[0],t}let a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a={enabled:!0},e[1]=a):a=e[1],a}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useRedesignedSendFlow.ts"}],[7716,{"../../../ducks/confirm-alerts/confirm-alerts":7025,"../context/confirm":7607,"./useConfirmationAlerts":7692,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-compiler-runtime"),o=e("react"),a=e("react-redux"),i=e("../../../ducks/confirm-alerts/confirm-alerts"),c=e("../context/confirm"),l=(s=e("./useConfirmationAlerts"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.c)(12),t=(0,a.useDispatch)(),{currentConfirmation:n}=(0,c.useConfirmContext)(),s=(0,l.default)(),u=null==n?void 0:n.id;let d,m,p,f;e[0]!==s||e[1]!==t||e[2]!==u?(d=()=>{t((0,i.updateAlerts)(u,s))},e[0]=s,e[1]=t,e[2]=u,e[3]=d):d=e[3],e[4]!==s||e[5]!==u?(m=[s,u],e[4]=s,e[5]=u,e[6]=m):m=e[6],(0,o.useEffect)(d,m),e[7]!==t||e[8]!==u?(p=()=>()=>{t((0,i.clearAlerts)(u))},e[7]=t,e[8]=u,e[9]=p):p=e[9],e[10]!==u?(f=[u],e[10]=u,e[11]=f):f=e[11],(0,o.useEffect)(p,f)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useSetConfirmationAlerts.ts"}],[7717,{"../../../helpers/utils/metrics":7088,"../../../store/actions":8065,"../context/confirm":7607,"../utils":7743,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignatureEventFragment=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("../../../helpers/utils/metrics")),o=e("../../../store/actions"),a=e("../context/confirm"),i=e("../utils");n.useSignatureEventFragment=()=>{const e=(0,s.c)(8),{currentConfirmation:t}=(0,a.useConfirmContext)();let n;var c;e[0]!==t?(n=(0,i.isSignatureTransactionType)(t)&&(null==t||null===(c=t.msgParams)||void 0===c?void 0:c.requestId),e[0]=t,e[1]=n):n=e[1];const l=n;let u;e[2]!==l?(u=l?(0,r.generateSignatureUniqueId)(l):null,e[2]=l,e[3]=u):u=e[3];const d=u;let m;e[4]!==d?(m=async e=>{d&&(0,o.updateEventFragment)(d,e)},e[4]=d,e[5]=m):m=e[5];const p=m;let f;return e[6]!==p?(f={updateSignatureEventFragment:p},e[6]=p,e[7]=f):f=e[7],f}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useSignatureEventFragment.ts"}],[7718,{"../../../../shared/constants/transaction":5792,"../../../store/actions":8065,"../context/confirm":7607,"@metamask/rpc-errors":2594,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSmartAccountActions=function(){const e=(0,s.c)(11),t=(0,o.useDispatch)(),{currentConfirmation:n}=(0,i.useConfirmContext)();let l;e[0]!==n?(l=n??{},e[0]=n,e[1]=l):l=e[1];const{id:u,chainId:d,txParams:m}=l;let p;e[2]!==m?(p=m??{},e[2]=m,e[3]=p):p=e[3];const{from:f}=p;let h;e[4]!==d||e[5]!==u||e[6]!==t||e[7]!==f?(h=async()=>{if(!d||!f)return;const e=new r.JsonRpcError(c.EIP5792ErrorCode.RejectedUpgrade,"User rejected account upgrade"),n=(0,r.serializeError)(e);t((0,a.rejectPendingApproval)(u,n))},e[4]=d,e[5]=u,e[6]=t,e[7]=f,e[8]=h):h=e[8];const g=h;let v;e[9]!==g?(v={handleRejectUpgrade:g},e[9]=g,e[10]=v):v=e[10];return v};var s=e("react-compiler-runtime"),r=e("@metamask/rpc-errors"),o=(e("react"),e("react-redux")),a=e("../../../store/actions"),i=e("../context/confirm"),c=e("../../../../shared/constants/transaction")}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useSmartAccountActions.ts"}],[7719,{"../../../../shared/modules/selectors":5906,"../../../store/actions":8065,"../../swaps/swaps.util":8012,"../context/confirm":7607,loglevel:4802,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSmartTransactionFeatureFlags=function(){const e=(0,r.c)(15),t=(0,o.useDispatch)(),{currentConfirmation:n}=(0,d.useConfirmContext)();let s;e[0]!==n?(s=n??{},e[0]=n,e[1]=s):s=e[1];const{id:i,txParams:p,networkClientId:f}=s,h=Boolean(p),g=(0,o.useSelector)(c.getSmartTransactionsPreferenceEnabled),v=(0,o.useSelector)(c.getChainSupportsSmartTransactions);let T,y;e[2]!==v||e[3]!==t||e[4]!==h||e[5]!==f||e[6]!==g||e[7]!==i?(T=()=>{h&&i&&g&&v&&Promise.all([(0,l.fetchSwapsFeatureFlags)(),(0,u.fetchSmartTransactionsLiveness)({networkClientId:f})()]).then(e=>{var n;const[s]=e;t((0,u.setSwapsFeatureFlags)(s)),t((0,u.setSmartTransactionsRefreshInterval)(null===(n=s.smartTransactions)||void 0===n?void 0:n.batchStatusPollingInterval))}).catch(m)},e[2]=v,e[3]=t,e[4]=h,e[5]=f,e[6]=g,e[7]=i,e[8]=T):T=e[8];e[9]!==v||e[10]!==h||e[11]!==f||e[12]!==g||e[13]!==i?(y=[h,i,g,v,f],e[9]=v,e[10]=h,e[11]=f,e[12]=g,e[13]=i,e[14]=y):y=e[14];(0,a.useEffect)(T,y)};var s,r=e("react-compiler-runtime"),o=e("react-redux"),a=e("react"),i=(s=e("loglevel"))&&s.__esModule?s:{default:s},c=e("../../../../shared/modules/selectors"),l=e("../../swaps/swaps.util"),u=e("../../../store/actions"),d=e("../context/confirm");function m(e){i.default.debug("Error updating smart transaction feature flags",e)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useSmartTransactionFeatureFlags.ts"}],[7720,{"../../../helpers/constants/routes":7054,"./useConfirmationNavigation":7693,react:5229,"react-compiler-runtime":5128,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("react"),o=e("react-router-dom-v5-compat"),a=e("../../../helpers/constants/routes"),i=e("./useConfirmationNavigation");n.default=(e,t)=>{const n=(0,s.c)(6),{navigateToId:c}=(0,i.useConfirmationNavigation)(),l=(0,o.useLocation)(),u=(0,o.useParams)(),d=t||u.id;let m,p;n[0]!==e||n[1]!==l.pathname||n[2]!==c||n[3]!==d?(m=()=>{(l.pathname.startsWith(a.CONFIRM_TRANSACTION_ROUTE)||l.pathname.startsWith(a.CONFIRMATION_V_NEXT_ROUTE))&&!d&&e&&c(e.id)},p=[d,e,c,l.pathname],n[0]=e,n[1]=l.pathname,n[2]=c,n[3]=d,n[4]=m,n[5]=p):(m=n[4],p=n[5]),(0,r.useEffect)(m,p)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useSyncConfirmPath.ts"}],[7721,{"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/transaction":5792,"../../../contexts/metametrics":7005,"../utils/token":7748,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("react"),o=e("../../../../shared/constants/metametrics"),a=e("../../../../shared/constants/transaction"),i=e("../../../contexts/metametrics"),c=e("../utils/token");n.default=(e,t,n,l)=>{const u=(0,s.c)(7),d=l===undefined?o.MetaMetricsEventLocation.SignatureConfirmation:l,m=(0,r.useContext)(i.MetaMetricsContext),p=(0,r.useRef)(!1);let f,h;u[0]!==e||u[1]!==d||u[2]!==t||u[3]!==n||u[4]!==m?(f=()=>{if(e===undefined||n===undefined||p.current)return;const{decimals:s,standard:r}=n||{};if(r!==a.TokenStandard.ERC20)return;(0,c.parseTokenDetailDecimals)(s)===undefined&&(m({event:o.MetaMetricsEventName.SimulationIncompleteAssetDisplayed,category:o.MetaMetricsEventCategory.Confirmations,properties:{token_decimals_available:"not_available",asset_address:t,asset_type:a.TokenStandard.ERC20,chain_id:e,location:d,ui_customizations:[o.MetaMetricsEventUiCustomization.RedesignedConfirmation]}}),p.current=!0)},h=[n,e,d,t,m],u[0]=e,u[1]=d,u[2]=t,u[3]=n,u[4]=m,u[5]=f,u[6]=h):(f=u[5],h=u[6]),(0,r.useEffect)(f,h)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTrackERC20WithoutDecimalInformation.ts"}],[7722,{"../../../contexts/gasFee":6999,"../../../selectors":8035,"../../../store/actions":8065,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionEventFragment=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),o=e("../../../contexts/gasFee"),a=e("../../../store/actions"),i=e("../../../selectors");n.useTransactionEventFragment=()=>{const e=(0,s.c)(7),{transaction:t}=(0,o.useGasFeeContext)();let n;e[0]!==(null==t?void 0:t.id)?(n=e=>(0,i.selectMatchingFragment)(e,{fragmentOptions:{},existingId:`transaction-added-${null==t?void 0:t.id}`}),e[0]=null==t?void 0:t.id,e[1]=n):n=e[1];const c=(0,r.useSelector)(n),l=Boolean(c),u=null==t?void 0:t.id;let d;e[2]!==l||e[3]!==u?(d=async(e,t)=>{const n=t||u;n&&(l||await(0,a.createTransactionEventFragment)(n),(0,a.updateEventFragment)(`transaction-added-${n}`,e),(0,a.updateEventFragment)(`transaction-submitted-${n}`,e))},e[2]=l,e[3]=u,e[4]=d):d=e[4];const m=d;let p;return e[5]!==m?(p={updateTransactionEventFragment:m},e[5]=m,e[6]=p):p=e[6],p}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTransactionEventFragment.js"}],[7723,{"../../../hooks/useWindowFocus":7247,"../../../store/actions":8065,"../context/confirm":7607,"@metamask/transaction-controller":2989,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionFocusEffect=void 0;var s=e("react-compiler-runtime"),r=e("react"),o=e("react-redux"),a=e("@metamask/transaction-controller"),i=e("../../../store/actions"),c=e("../../../hooks/useWindowFocus"),l=e("../context/confirm");const u=new Set([a.TransactionType.batch,a.TransactionType.contractInteraction,a.TransactionType.deployContract,a.TransactionType.simpleSend,a.TransactionType.smart,a.TransactionType.tokenMethodTransfer,a.TransactionType.tokenMethodTransferFrom,a.TransactionType.tokenMethodSafeTransferFrom]);n.useTransactionFocusEffect=()=>{const e=(0,s.c)(11),{currentConfirmation:t}=(0,l.useConfirmContext)();let n;e[0]!==t?(n=t??{},e[0]=t,e[1]=n):n=e[1];const{id:a,type:d}=n,m=(0,c.useWindowFocus)(),p=(0,o.useDispatch)(),[f,h]=(0,r.useState)(null);let g;e[2]!==p?(g=async(e,t)=>{await p((0,i.setTransactionActive)(e,t))},e[2]=p,e[3]=g):g=e[3];const v=g;let T,y;e[4]!==f||e[5]!==a||e[6]!==m||e[7]!==v||e[8]!==d?(T=()=>{u.has(d)?m&&f!==a?(f&&v(f,!1),h(a),v(a,!0)):!m&&f&&(v(f,!1),h(null)):f&&(v(f,!1),h(null))},y=[f,a,m,v,d],e[4]=f,e[5]=a,e[6]=m,e[7]=v,e[8]=d,e[9]=T,e[10]=y):(T=e[9],y=e[10]),(0,r.useEffect)(T,y)}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTransactionFocusEffect.ts"}],[7724,{"../../../../shared/constants/gas":5761,"../../../../shared/modules/conversion.utils":5887,"../../../helpers/utils/gas":7082,"../../../store/actions":8065,"bignumber.js":3926,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionFunctions=void 0;var s,r=e("react"),o=e("react-redux"),a=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},i=e("../../../../shared/constants/gas"),c=e("../../../helpers/utils/gas"),l=e("../../../store/actions"),u=e("../../../../shared/modules/conversion.utils");n.useTransactionFunctions=({defaultEstimateToUse:e,editGasMode:t,estimatedBaseFee:n,gasFeeEstimates:s,gasLimit:d,maxPriorityFeePerGas:m,transaction:p,setRetryTxMeta:f})=>{const h=(0,o.useDispatch)(),g=(0,r.useCallback)(()=>{if(t!==i.EditGasModes.cancel&&t!==i.EditGasModes.speedUp||p.previousGas)return{};const{maxFeePerGas:e,maxPriorityFeePerGas:n,gasLimit:s}=(null==p?void 0:p.txParams)??{};return{previousGas:{maxFeePerGas:e,maxPriorityFeePerGas:n,gasLimit:s}}},[t,null==p?void 0:p.previousGas,null==p?void 0:p.txParams]),v=(0,r.useCallback)(async({estimateUsed:n,gasLimit:s,maxFeePerGas:r,maxPriorityFeePerGas:o,estimateSuggested:a})=>{const v={gas:(0,u.decimalToHex)(s||d),gasLimit:(0,u.decimalToHex)(s||d),estimateSuggested:a||e,estimateUsed:n};r&&(v.maxFeePerGas=r),o&&(v.maxPriorityFeePerGas=o||(0,u.decGWEIToHexWEI)(m));const T=g(),y={...p,userFeeLevel:n||i.PriorityLevels.custom,txParams:{...p.txParams,...v},...T};t===i.EditGasModes.swaps?(h((0,l.updateSwapsUserFeeLevel)(n||i.PriorityLevels.custom)),h((0,l.updateCustomSwapsEIP1559GasParams)(v))):(0,c.editGasModeIsSpeedUpOrCancel)(t)?f(y):(v.userEditedGasLimit=y.userEditedGasLimit,v.userFeeLevel=y.userFeeLevel,T&&T.previousGas&&await h((0,l.updatePreviousGasParams)(y.id,T.previousGas)),await h((0,l.updateTransactionGasFees)(y.id,v)))},[e,h,t,d,g,m,p,f]),T=(0,r.useCallback)(()=>{h((0,l.createCancelTransaction)(p.id,p.txParams,{estimatedBaseFee:n}))},[h,n,p]),y=(0,r.useCallback)(()=>{h((0,l.createSpeedUpTransaction)(p.id,p.txParams,{estimatedBaseFee:n}))},[h,n,p]),S=(0,r.useCallback)((t=!1)=>{const{gas:n,maxFeePerGas:r,maxPriorityFeePerGas:o}=p.previousGas||p.txParams,l=new a.default(o,16).isZero()?(0,u.decGWEIToHexWEI)(s[e].suggestedMaxPriorityFeePerGas):o,d="0x0"===o?i.CUSTOM_GAS_ESTIMATE:i.PriorityLevels.tenPercentIncreased;s&&v({estimateSuggested:t?e:i.PriorityLevels.tenPercentIncreased,estimateUsed:d,gasLimit:n,maxFeePerGas:(0,c.addTenPercentAndRound)(r),maxPriorityFeePerGas:(0,c.addTenPercentAndRound)(l)})},[e,s,p,v]),k=(0,r.useCallback)(e=>{if(null==s||!s[e])return;const{suggestedMaxFeePerGas:t,suggestedMaxPriorityFeePerGas:n}=s[e];v({estimateUsed:e,maxFeePerGas:(0,u.decGWEIToHexWEI)(t),maxPriorityFeePerGas:(0,u.decGWEIToHexWEI)(n)})},[s,v]),A=(0,r.useCallback)(()=>{const{maxFeePerGas:e,maxPriorityFeePerGas:t}=(null==p?void 0:p.dappSuggestedGasFees)??{};v({estimateUsed:i.PriorityLevels.dAppSuggested,maxFeePerGas:e,maxPriorityFeePerGas:t})},[p,v]);return{cancelTransaction:T,speedUpTransaction:y,updateTransaction:v,updateTransactionToTenPercentIncreasedGasFee:S,updateTransactionUsingDAPPSuggestedValues:A,updateTransactionUsingEstimate:k}}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTransactionFunctions.js"}],[7725,{"../../../../shared/constants/app":5753,"../../../../shared/constants/transaction":5792,"../../../../shared/modules/transaction.utils":5919,"../constants":7603,"../utils":7743,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTypedSignSignatureInfo=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("../utils")),o=e("../../../../shared/modules/transaction.utils"),a=e("../../../../shared/constants/transaction"),i=e("../../../../shared/constants/app"),c=e("../constants");n.useTypedSignSignatureInfo=e=>{const t=(0,s.c)(3);let n;n=e&&(0,r.isSignatureTransactionType)(e)&&(null==e?void 0:e.type)===i.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA?(0,r.isPermitSignatureRequest)(e)?c.TypedSignSignaturePrimaryTypes.PERMIT:(0,r.isOrderSignatureRequest)(e)?c.TypedSignSignaturePrimaryTypes.ORDER:undefined:undefined;const l=n;let u;e:{var d;if(l!==c.TypedSignSignaturePrimaryTypes.PERMIT){u=undefined;break e}const{message:t}=(0,o.parseTypedDataMessage)(null==e||null===(d=e.msgParams)||void 0===d?void 0:d.data),{tokenId:n}=t;n===undefined?u=undefined:u=a.TokenStandard.ERC721}const m=u,p=l;let f;return t[0]!==p||t[1]!==m?(f={primaryType:p,tokenStandard:m},t[0]=p,t[1]=m,t[2]=f):f=t[2],f}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTypedSignSignatureInfo.ts"}],[7726,{"../../../../shared/constants/app":5753,"../../../../shared/modules/transaction.utils":5919,"../context/confirm":7607,"../selectors/preferences":7731,"../utils":7743,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTypesSignSimulationEnabledInfo=function(){var e;const t=(0,s.c)(5),{currentConfirmation:n}=(0,l.useConfirmContext)(),a=(0,r.useSelector)(c.selectUseTransactionSimulations),u=null==n||null===(e=n.msgParams)||void 0===e?void 0:e.signatureMethod,m=u===o.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA_V4||u===o.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA_V3;let p;t[0]!==n?(p=(0,i.isPermitSignatureRequest)(n),t[0]=n,t[1]=p):p=t[1];const f=p;let h;t[2]!==n||t[3]!==m?(h=m&&d(n),t[2]=n,t[3]=m,t[4]=h):h=t[4];const g=h;if(!n)return;return a&&m&&(f||g)};var s=e("react-compiler-runtime"),r=e("react-redux"),o=e("../../../../shared/constants/app"),a=e("../../../../shared/modules/transaction.utils"),i=e("../utils"),c=e("../selectors/preferences"),l=e("../context/confirm");const u=[{domainName:"Seaport",primaryTypeList:["BulkOrder"],versionList:["1.4","1.5","1.6"]},{domainName:"Seaport",primaryTypeList:["OrderComponents"]}],d=e=>{var t;const n=null===(t=e.msgParams)||void 0===t?void 0:t.data;if(!n)return!1;const{domain:{name:s,version:r},primaryType:o}=(0,a.parseTypedDataMessage)(n);return u.some(({domainName:e,primaryTypeList:t,versionList:n})=>s===e&&t.includes(o)&&(!n||n.includes(r)))}}}},{package:"$root$",file:"ui/pages/confirmations/hooks/useTypesSignSimulationEnabledInfo.ts"}],[7727,{"../../../../shared/constants/gas":5761},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.feeParamsAreCustom=void 0,n.getGasFeeEstimate=function(e,t,n,r,o="0"){var a;return n===s.GasEstimateTypes.feeMarket?(null==t||null===(a=t[r])||void 0===a?void 0:a[e])??String(o):String(o)};var s=e("../../../../shared/constants/gas");n.feeParamsAreCustom=e=>!(null!=e&&e.userFeeLevel)||(null==e?void 0:e.userFeeLevel)===s.CUSTOM_GAS_ESTIMATE}}},{package:"$root$",file:"ui/pages/confirmations/hooks/utils.js"}],[7728,{"../../../../shared/modules/selectors/util":5910,"../../../helpers/utils/util":7109,"../../../selectors":8035,"../../../selectors/multichain-accounts/account-tree":8039},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectInternalAccountNameByAddress=n.selectAccountGroupNameByInternalAccount=void 0;var s=e("../../../../shared/modules/selectors/util"),r=e("../../../helpers/utils/util"),o=e("../../../selectors/multichain-accounts/account-tree"),a=e("../../../selectors");n.selectAccountGroupNameByInternalAccount=(0,s.createDeepEqualSelector)([(e,t)=>t?{groups:(0,o.getAccountGroupsByAddress)(e,[t]),address:null==t?void 0:t.toLowerCase()}:{groups:[],address:null}],({groups:e,address:t})=>{var n;if(!t||!e.length)return null;const s=e.find(e=>e.accounts.some(e=>{var n;return(null===(n=e.address)||void 0===n?void 0:n.toLowerCase())===t}));return(null==s||null===(n=s.metadata)||void 0===n?void 0:n.name)??null}),n.selectInternalAccountNameByAddress=(0,s.createDeepEqualSelector)([(e,t)=>({accounts:(0,a.accountsWithSendEtherInfoSelector)(e),address:t})],({accounts:e,address:t})=>{var n;if(!t||null==e||!e.length)return null;const s=(0,r.getAccountByAddress)(e,t);return(null==s||null===(n=s.metadata)||void 0===n?void 0:n.name)??null})}}},{package:"$root$",file:"ui/pages/confirmations/selectors/accounts.ts"}],[7730,{"./confirm":7729},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./confirm");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/pages/confirmations/selectors/index.ts"}],[7732,{"../../../../../../app/scripts/lib/util":358,"../../../../../../shared/modules/hexstring-utils":5896,"../../../../../components/app/preferred-avatar":6194,"../../../../../components/component-library":6486,"../../../../../helpers/constants/design-system":7049,"../../../../../helpers/utils/util":7109,"@metamask/utils":3070,classnames:4071,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=p(e("prop-types")),o=p(e("classnames")),a=e("@metamask/utils"),i=e("../../../../../../app/scripts/lib/util"),c=e("../../../../../helpers/utils/util"),l=e("../../../../../../shared/modules/hexstring-utils"),u=e("../../../../../components/component-library"),d=e("../../../../../components/app/preferred-avatar"),m=e("../../../../../helpers/constants/design-system");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends s.Component{constructor(...e){super(...e),h(this,"onPaste",e=>{var t;if(null!==(t=e.clipboardData.items)&&void 0!==t&&t.length){const t=e.clipboardData.items[0];null==t||t.getAsString(e=>{const t=e.trim();!(0,l.isBurnAddress)(t)&&(0,l.isValidHexAddress)(t,{mixedCaseUseChecksum:!0})&&this.props.onPaste((0,i.addHexPrefix)(t))})}}),h(this,"onChange",({target:{value:e}})=>{const{onValidAddressTyped:t,internalSearch:n,onChange:s,lookupDomainName:r,resetDomainResolution:o}=this.props,c=e.trim();if(n)return s(c),null;if((0,a.isHexString)(c))if(o(),t&&!(0,l.isBurnAddress)(c)&&(0,l.isValidHexAddress)(c,{mixedCaseUseChecksum:!0})){const e=(0,i.addHexPrefix)(c);s(e),t(e)}else s(c);else s(c),r(c);return null})}componentDidMount(){this.props.initializeDomainSlice()}render(){const{t:e}=this.context,{className:t,selectedAddress:n,selectedName:r,userInput:a}=this.props,i=Boolean(n),p=r&&n?(0,c.shortenAddress)((0,l.toChecksumHexAddress)(n)):undefined;return s.default.createElement("div",{className:(0,o.default)("ens-input",t)},s.default.createElement("div",{className:(0,o.default)("ens-input__wrapper",{"ens-input__wrapper__status-icon--error":!1,"ens-input__wrapper__status-icon--valid":!1,"ens-input__wrapper--valid":i})},i?s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"ens-input__wrapper__input ens-input__wrapper__input--selected","data-testid":"ens-input-selected"},s.default.createElement(d.PreferredAvatar,{address:n}),s.default.createElement("div",{className:"ens-input__selected-input__title"},r||n,p?s.default.createElement(u.Text,{color:m.TextColor.textAlternative,variant:m.TextVariant.bodySm,ellipsis:!0},p):null)),s.default.createElement(u.ButtonIcon,{iconName:u.IconName.Close,ariaLabel:e("close"),onClick:this.props.onReset,className:"ens-input__wrapper__action-icon-button",size:u.IconSize.Sm})):s.default.createElement(s.default.Fragment,null,s.default.createElement("input",{className:"ens-input__wrapper__input",type:"text",dir:"auto",placeholder:e("recipientAddressPlaceholderNew"),onChange:this.onChange,onPaste:this.onPaste,spellCheck:"false",value:n||a,autoFocus:!0,"data-testid":"ens-input"}),s.default.createElement(u.ButtonIcon,{className:"ens-input__wrapper__action-icon-button",onClick:()=>{(null==a?void 0:a.length)>0?this.props.onReset():this.props.scanQrCode()},iconName:a?u.IconName.Close:u.IconName.Scan,ariaLabel:e(a?"close":"scanQrCode"),color:a?m.IconColor.iconDefault:m.IconColor.primaryDefault,"data-testid":"ens-qr-scan-button"}))))}}n.default=g,h(g,"contextTypes",{t:r.default.func,metricsEvent:r.default.func}),h(g,"propTypes",{className:r.default.string,selectedAddress:r.default.string,selectedName:r.default.string,scanQrCode:r.default.func,onPaste:r.default.func,onValidAddressTyped:r.default.func,internalSearch:r.default.bool,userInput:r.default.string,onChange:r.default.func.isRequired,onReset:r.default.func.isRequired,lookupDomainName:r.default.func.isRequired,initializeDomainSlice:r.default.func.isRequired,resetDomainResolution:r.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/confirmations/send-legacy/send-content/add-recipient/domain-input.component.js"}],[7733,{"../../../../../ducks/domains":7027,"../../../../../selectors":8035,"./domain-input.component":7732,lodash:4794,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("lodash"),o=e("react-redux"),a=e("../../../../../ducks/domains"),i=e("../../../../../selectors"),c=(s=e("./domain-input.component"))&&s.__esModule?s:{default:s};n.default=(0,o.connect)(function(e){return{useBlockie:(0,i.getUseBlockie)(e)}},function(e){return{lookupDomainName:(0,r.debounce)(t=>e((0,a.lookupDomainName)(t)),150),initializeDomainSlice:()=>e((0,a.initializeDomainSlice)()),resetDomainResolution:(0,r.debounce)(()=>e((0,a.resetDomainResolution)()),300)}})(c.default)}}},{package:"$root$",file:"ui/pages/confirmations/send-legacy/send-content/add-recipient/domain-input.container.js"}],[7734,{"./domain-input.container":7733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./domain-input.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/confirmations/send-legacy/send-content/add-recipient/domain-input.js"}],[7737,{"./send":7739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Send",{enumerable:!0,get:function(){return s.Send}});var s=e("./send")}}},{package:"$root$",file:"ui/pages/confirmations/send/index.ts"}],[7738,{"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../components/send/amount-recipient":7520,"../components/send/asset":7527,"../components/send/header":7529,"../components/send/loader":7532,"../constants/send":7605,"../context/send":7610,"../hooks/send/useSendQueryParams":7666,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendInner=void 0;var s,r=e("react-compiler-runtime"),o=(s=e("react"))&&s.__esModule?s:{default:s},a=e("../../../helpers/constants/design-system"),i=e("../../../components/component-library"),c=e("../components/send/amount-recipient"),l=e("../components/send/header"),u=e("../components/send/asset"),d=e("../components/send/loader"),m=e("../constants/send"),p=e("../context/send"),f=e("../hooks/send/useSendQueryParams");const h=e=>{const t=(0,r.c)(4),{children:n}=e;let s,c,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s={flex:"1 0 auto",minHeight:0},t[0]=s):s=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(c=o.default.createElement(i.Box,{className:"redesigned__send__sticky-header"},o.default.createElement(l.Header,null)),t[1]=c):c=t[1],t[2]!==n?(u=o.default.createElement(i.Box,{alignItems:a.AlignItems.center,backgroundColor:a.BackgroundColor.backgroundDefault,className:"redesigned__send__container",display:a.Display.Flex,flexDirection:a.FlexDirection.Column,height:a.BlockSize.Full,justifyContent:a.JustifyContent.center,style:s,width:a.BlockSize.Full},o.default.createElement(i.Box,{backgroundColor:a.BackgroundColor.backgroundSection,className:"redesigned__send__wrapper",display:a.Display.Flex,height:a.BlockSize.Full,justifyContent:a.JustifyContent.center,width:a.BlockSize.Full,borderRadius:a.BorderRadius.LG},o.default.createElement(i.Box,{className:"redesigned__send__content",display:a.Display.Flex,flexDirection:a.FlexDirection.Column,height:a.BlockSize.Full,width:a.BlockSize.Full},c,o.default.createElement(i.Box,{className:"redesigned__send__content-wrapper"},n)))),t[2]=n,t[3]=u):u=t[3],u};n.SendInner=()=>{const e=(0,r.c)(3);(0,f.useSendQueryParams)();const{currentPage:t}=(0,p.useSendContext)();if(t===m.SendPages.LOADER){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(d.Loader,null),e[0]=t):t=e[0],t}if(t===m.SendPages.ASSET){let t;return e[1]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(h,null,o.default.createElement(u.Asset,null)),e[1]=t):t=e[1],t}if(t===m.SendPages.AMOUNTRECIPIENT){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(h,null,o.default.createElement(c.AmountRecipient,null)),e[2]=t):t=e[2],t}return null}}}},{package:"$root$",file:"ui/pages/confirmations/send/send-inner.tsx"}],[7739,{"../../../components/multichain/pages/send":6850,"../context/send":7610,"../context/send-metrics":7609,"../hooks/useRedesignedSendFlow":7715,"./send-inner":7738,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Send=void 0;var s,r=e("react-compiler-runtime"),o=(s=e("react"))&&s.__esModule?s:{default:s},a=e("../../../components/multichain/pages/send"),i=e("../context/send"),c=e("../context/send-metrics"),l=e("../hooks/useRedesignedSendFlow"),u=e("./send-inner");n.Send=()=>{const e=(0,r.c)(2),{enabled:t}=(0,l.useRedesignedSendFlow)();if(t){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(i.SendContextProvider,null,o.default.createElement(c.SendMetricsContextProvider,null,o.default.createElement(u.SendInner,null))),e[0]=t):t=e[0],t}let n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=o.default.createElement(a.SendPage,null),e[1]=n):n=e[1],n}}}},{package:"$root$",file:"ui/pages/confirmations/send/send.tsx"}],[7740,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NFT_STANDARDS=n.AssetStandard=void 0;let s=n.AssetStandard=function(e){return e.Native="native",e.ERC20="ERC20",e.ERC721="ERC721",e.ERC1155="ERC1155",e}({});n.NFT_STANDARDS=[s.ERC721,s.ERC1155]}}},{package:"$root$",file:"ui/pages/confirmations/types/send.ts"}],[7741,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isTronAccountForSend=n.isSolanaAccountForSend=n.isEVMAccountForSend=n.isBitcoinAccountForSend=void 0;n.isEVMAccountForSend=e=>{var t;return!!e&&(!!e.type.startsWith("eip155:")||!(null===(t=e.scopes)||void 0===t||!t.some(e=>e.startsWith("eip155:"))))};n.isSolanaAccountForSend=e=>{var t;return!!e&&(!!e.type.startsWith("solana:")||!(null===(t=e.scopes)||void 0===t||!t.some(e=>e.startsWith("solana:"))))};n.isBitcoinAccountForSend=e=>{var t;return!!e&&(!!e.type.startsWith("bip122:")||!(null===(t=e.scopes)||void 0===t||!t.some(e=>e.startsWith("bip122:"))))};n.isTronAccountForSend=e=>{var t;return!!e&&(!!e.type.startsWith("tron:")||!(null===(t=e.scopes)||void 0===t||!t.some(e=>e.startsWith("tron:"))))}}}},{package:"$root$",file:"ui/pages/confirmations/utils/account.ts"}],[7742,{"../../../../shared/constants/signatures":5782,"../../../../shared/modules/transaction.utils":5919,"../../../helpers/utils/util":7109,"../constants":7603,"@metamask/transaction-controller":2989},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toPunycodeURL=n.stripProtocol=n.parseSanitizeTypedDataMessage=n.isValidASCIIURL=n.isSignatureTransactionType=n.isSIWESignatureRequest=n.isPermitSignatureRequest=n.isOrderSignatureRequest=n.SIGNATURE_TRANSACTION_TYPES=void 0;var s=e("@metamask/transaction-controller"),r=e("../../../../shared/constants/signatures"),o=e("../../../../shared/modules/transaction.utils"),a=e("../../../helpers/utils/util"),i=e("../constants");const c=n.SIGNATURE_TRANSACTION_TYPES=[s.TransactionType.personalSign,s.TransactionType.signTypedData],l=e=>e&&c.includes(e.type);n.isSignatureTransactionType=l;n.parseSanitizeTypedDataMessage=e=>{const{message:t,primaryType:n,types:s}=(0,o.parseTypedDataMessage)(e);return{sanitizedMessage:(0,a.sanitizeMessage)(t,n,s),primaryType:n}};n.isSIWESignatureRequest=e=>{var t;return Boolean(null==e||null===(t=e.msgParams)||void 0===t||null===(t=t.siwe)||void 0===t?void 0:t.isSIWEMessage)};n.isOrderSignatureRequest=e=>{var t,n;if(!e||!l(e)||"eth_signTypedData"!==e.type||(null===(t=e.msgParams)||void 0===t||null===(t=t.version)||void 0===t?void 0:t.toUpperCase())===i.TYPED_SIGNATURE_VERSIONS.V1)return!1;const{primaryType:s}=(0,o.parseTypedDataMessage)(null===(n=e.msgParams)||void 0===n?void 0:n.data);return r.PRIMARY_TYPES_ORDER.includes(s)};n.isPermitSignatureRequest=e=>{var t,n;if(!e||!l(e)||"eth_signTypedData"!==e.type||(null===(t=e.msgParams)||void 0===t||null===(t=t.version)||void 0===t?void 0:t.toUpperCase())===i.TYPED_SIGNATURE_VERSIONS.V1)return!1;const{primaryType:s}=(0,o.parseTypedDataMessage)(null===(n=e.msgParams)||void 0===n?void 0:n.data);return r.PRIMARY_TYPES_PERMIT.includes(s)};n.isValidASCIIURL=e=>{try{return!(!e||0===e.length)&&e.includes(new URL(e).host)}catch(t){return console.error(`Failed to detect if URL hostname contains non-ASCII characters: ${e}. Error: ${t}`),!1}};n.toPunycodeURL=e=>{try{const t=new URL(e);return"/"===t.pathname&&!e.endsWith("/")?t.href.slice(0,-1):t.href}catch(e){return console.error(`Failed to convert URL to Punycode: ${e}`),undefined}};n.stripProtocol=e=>e.replace(/^\w+:\/\//u,"")}}},{package:"$root$",file:"ui/pages/confirmations/utils/confirm.ts"}],[7743,{"./confirm":7742},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./confirm");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/pages/confirmations/utils/index.ts"}],[7744,{"../../../store/actions":8065,"@metamask/snaps-utils":2902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sendMultichainTransactionForReview=async function(e,t){var n;return await(0,r.handleSnapRequest)({snapId:null===(n=e.metadata)||void 0===n||null===(n=n.snap)||void 0===n?void 0:n.id,origin:"metamask",handler:s.HandlerType.OnClientRequest,request:{method:"confirmSend",params:t}})},n.validateAmountMultichain=async function(e,t){var n;return await(0,r.handleSnapRequest)({snapId:null===(n=e.metadata)||void 0===n||null===(n=n.snap)||void 0===n?void 0:n.id,origin:"metamask",handler:s.HandlerType.OnClientRequest,request:{method:"onAmountInput",params:t}})};var s=e("@metamask/snaps-utils"),r=e("../../../store/actions")}}},{package:"$root$",file:"ui/pages/confirmations/utils/multichain-snaps.ts"}],[7745,{"../../../../shared/constants/multichain/networks":5771,"../../../../shared/constants/network":5772,"@metamask/keyring-api":2173,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getImageForChainId=function(e){return{...o.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP,...a.MULTICHAIN_TOKEN_IMAGE_MAP}[e]},n.isTronChainId=void 0;var s=e("@metamask/utils"),r=e("@metamask/keyring-api"),o=e("../../../../shared/constants/network"),a=e("../../../../shared/constants/multichain/networks");n.isTronChainId=e=>(0,s.isCaipChainId)(e)&&[`${r.TrxScope.Mainnet}`,`${r.TrxScope.Nile}`,`${r.TrxScope.Shasta}`].includes(e)}}},{package:"$root$",file:"ui/pages/confirmations/utils/network.ts"}],[7746,{"../../../../shared/modules/Numeric":5882,"../../../helpers/constants/routes":7054,"../../../store/actions":8065,"../send-legacy/send.utils":7736,"@metamask/controller-utils":1384,"@metamask/transaction-controller":2989,"ethereumjs-util":4296},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addLeadingZeroIfNeeded=void 0,n.convertedCurrency=function(e,t,n){if(!v(e))return undefined;return u(d(new a.Numeric(e,10).applyConversionRate(t).toString(),n)??"")},n.formatToFixedDecimals=function(e,t=5,n=!0){if(!e||!v(e))return"0";const s=new a.Numeric(e,10);if(s.isZero())return"0";let r=parseInt(null==t?void 0:t.toString(),10);r=r<5?r:5;const o=1/Math.pow(10,r);if(s.lessThan(new a.Numeric(o,10)))return`< ${o}`;const i=s.toString().split("."),c=i[0];let l=i[1]??"";l=l.length>r?l.slice(0,r):l.padEnd(r,"0");if(!l)return c;return n?u(`${c}.${l}`):`${c}.${l}`},n.getLayer1GasFees=n.getFractionLength=n.fromTokenMinimalUnitsNumeric=n.fromTokenMinimalUnitsHexNumeric=n.fromTokenMinimalUnits=n.fromTokenMinUnitsNumeric=void 0,n.isValidPositiveNumericString=v,n.trimTrailingZeros=n.toTokenMinimalUnitNumeric=n.toTokenMinimalUnit=n.submitEvmTransaction=n.removeAdditionalDecimalPlaces=n.prepareEVMTransaction=n.navigateToSendRoute=void 0;var s=e("@metamask/controller-utils"),r=e("@metamask/transaction-controller"),o=e("ethereumjs-util"),a=e("../../../../shared/modules/Numeric"),i=e("../../../store/actions"),c=e("../send-legacy/send.utils"),l=e("../../../helpers/constants/routes");const u=e=>e.replace(/(\.\d*?[1-9])0+$/gu,"$1").replace(/\.0*$/u,"");n.trimTrailingZeros=u;const d=(e,t)=>{if(!e)return undefined;const n=parseInt((null==t?void 0:t.toString())??"0",10),s=e.replace(/^-/u,"").split("."),r=s[0];let o=s[1]??"";return o.length>n&&(o=o.slice(0,n)),o?`${r}.${o}`:r};n.removeAdditionalDecimalPlaces=d;const m=(e,t,n)=>{const s=parseInt((null==n?void 0:n.toString())??"0",10),r=Math.pow(10,Number(s));return new a.Numeric(e,t).times(r,10)};n.fromTokenMinUnitsNumeric=m;const p=(e,t)=>m(e,10,t);n.fromTokenMinimalUnitsNumeric=p;const f=(e,t)=>(0,o.addHexPrefix)(p(e,t).toBase(16).toString());n.fromTokenMinimalUnits=f;n.fromTokenMinimalUnitsHexNumeric=(e,t)=>m(e,16,t);const h=(e,t=0,n)=>{const s=parseInt((null==t?void 0:t.toString())??"0",10),r=Math.pow(10,Number(s));return new a.Numeric(e,n??16).divide(r,10)};n.toTokenMinimalUnitNumeric=h;n.toTokenMinimalUnit=(e,t=0,n)=>d(h(e,t,n).toBase(10).toString(),t);const g=(e,t,n="0x")=>{const{from:r,to:o,value:a}=t,i={from:r},l=e.tokenId?a:f(a??"0",e.decimals);return e.isNative?(i.data=n,i.to=o,i.value=l,i):e.standard===s.ERC1155?(i.data=(0,c.generateERC1155TransferData)({fromAddress:r,toAddress:o,tokenId:e.tokenId,amount:l}),i.to=e.address,i.value="0x0",i):e.standard===s.ERC721?(i.data=(0,c.generateERC721TransferData)({fromAddress:r,toAddress:o,tokenId:e.tokenId}),i.to=e.address,i.value="0x0",i):(i.data=(0,c.generateERC20TransferData)({toAddress:o,amount:l,sendToken:e}),i.to=e.address,i.value="0x0",i)};n.prepareEVMTransaction=g;n.submitEvmTransaction=async({asset:e,chainId:t,from:n,hexData:o,to:a,value:c})=>{const l=g(e,{from:n,to:a,value:c},o),u=await(0,i.findNetworkClientIdByChainId)(t);let d;return e.isNative?d=r.TransactionType.simpleSend:e.standard===s.ERC20?d=r.TransactionType.tokenMethodTransfer:e.standard===s.ERC721?d=r.TransactionType.tokenMethodTransferFrom:e.standard===s.ERC1155&&(d=r.TransactionType.tokenMethodSafeTransferFrom),(0,i.addTransactionAndRouteToConfirmationPage)(l,{networkClientId:u,type:d})};function v(e){if(!/^(\d+(\.\d+)?|\.\d+)$/u.test(e))return!1;try{return new a.Numeric(e,10).greaterThanOrEqualTo(new a.Numeric("0",10))}catch(e){return!1}}n.getLayer1GasFees=async({asset:e,chainId:t,from:n,value:s})=>await(0,i.getLayer1GasFeeValue)({chainId:t,transactionParams:{value:f(s,e.decimals),from:n}});n.navigateToSendRoute=(e,t,n)=>{if(t)if(n){const t=new URLSearchParams,{address:s,chainId:r,tokenId:o}=n;s&&t.append("asset",s),r&&t.append("chainId",r),o&&t.append("tokenId",o),e(`${l.SEND_ROUTE}/amount-recipient?${t.toString()}`)}else e(`${l.SEND_ROUTE}/asset`);else e(l.SEND_ROUTE)};n.getFractionLength=e=>(e.replace(/^-/u,"").split(".")[1]??"").length;n.addLeadingZeroIfNeeded=e=>{if(!e)return e;const t=e.replace(/^-/u,"").split("."),n=t[0],s=t[1]??"";return n.length?e:`0.${s}`}}}},{package:"$root$",file:"ui/pages/confirmations/utils/send.ts"}],[7747,{"../../../../shared/lib/multichain/accounts":5859,"../../../store/actions":8065,"../constants/token":7606,"unicode-confusables":5672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateTronAddress=n.validateSolanaAddress=n.validateEvmHexAddress=n.validateBtcAddress=n.findConfusablesInRecipient=void 0;var s=e("unicode-confusables"),r=e("../../../../shared/lib/multichain/accounts"),o=e("../../../store/actions"),a=e("../constants/token");n.findConfusablesInRecipient=e=>{const t=(0,s.confusables)(e),n=new Set,r=t.filter(({point:e})=>!n.has(e)&&(n.add(e),!0)).filter(({similarTo:e})=>e!==undefined);if(r.length){return r.some(({similarTo:e})=>""===e)?{error:"invalidAddress",warning:"confusableZeroWidthUnicode"}:{confusableCharacters:r}}return{}};n.validateEvmHexAddress=async(e,t,n)=>{if(a.LOWER_CASED_BURN_ADDRESSES.includes(e.toLowerCase()))return{error:"invalidAddress"};if((null==e?void 0:e.toLowerCase())===(null==n?void 0:n.toLowerCase()))return{error:"contractAddressError"};if(t){const n=await(0,o.getTokenStandardAndDetailsByChain)(e,undefined,undefined,t);if(null!=n&&n.standard)return{error:"tokenContractError"}}return{}};const i=["1nc1nerator11111111111111111111111111111111","So11111111111111111111111111111111111111112"];n.validateSolanaAddress=e=>i.includes(e)?{error:"invalidAddress"}:(0,r.isSolanaAddress)(e)?{}:{error:"invalidAddress"};n.validateBtcAddress=e=>(0,r.isBtcMainnetAddress)(e)?{}:{error:"invalidAddress"};n.validateTronAddress=e=>(0,r.isTronAddress)(e)?{}:{error:"invalidAddress"}}}},{package:"$root$",file:"ui/pages/confirmations/utils/sendValidations.ts"}],[7748,{"../../../store/actions":8065,"bignumber.js":3926,lodash:4794},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchErc20Decimals=n.fetchAllTokenDetails=n.fetchAllErc20Decimals=n.calculateTokenAmount=n.ERC20_DEFAULT_DECIMALS=void 0,n.getTokenValueFromRecord=function(e,t){const n=Object.keys(e).find(e=>e.toLowerCase()===t.toLowerCase());return n?e[n]:undefined},n.parseTokenDetailDecimals=n.memoizedGetTokenStandardAndDetails=void 0;var s=e("bignumber.js"),r=e("lodash"),o=e("../../../store/actions");const a=n.ERC20_DEFAULT_DECIMALS=18,i=e=>{if(!e)return undefined;for(const t of[10,16]){const n=parseInt(e,t);if(isFinite(n))return n}return undefined};n.parseTokenDetailDecimals=i;n.memoizedGetTokenStandardAndDetails=(0,r.memoize)(async(e,t,n)=>{try{return e?await(0,o.getTokenStandardAndDetails)(e,t,n):{}}catch{return{}}});const c=async(e,t)=>{try{const n=await(0,o.getTokenStandardAndDetailsByChain)(e,undefined,undefined,t),{decimals:s}=n;return i(s)??a}catch{return a}};n.fetchErc20Decimals=c;n.fetchAllErc20Decimals=async(e,t)=>{const n=[...new Set(e.map(e=>e.toLowerCase()))],s=await Promise.all(n.map(e=>c(e,t)));return Object.fromEntries(s.map((e,t)=>[n[t],e]))};n.fetchAllTokenDetails=async(e,t)=>{const n=[...new Set(e.map(e=>e.toLowerCase()))],s=await Promise.all(n.map(e=>(0,o.getTokenStandardAndDetailsByChain)(e,undefined,undefined,t)));return Object.fromEntries(s.map((e,t)=>[n[t],e]))};n.calculateTokenAmount=(e,t,n=10,r=1)=>{const o=new s.BigNumber(10).pow(t??0);return new s.BigNumber(String(e),n).div(o).times(new s.BigNumber(r,10))}}}},{package:"$root$",file:"ui/pages/confirmations/utils/token.ts"}],[7749,{"../../components/app/connected-accounts-list":6045,"../../components/app/connected-accounts-permissions":6047,"../../components/app/connected-sites-list/connected-snaps":6051,"../../components/component-library":6486,"../../components/ui/popover":6954,"../../helpers/constants/design-system":7049,"../../helpers/utils/util":7109,"../../hooks/useI18nContext":7200,"../../selectors":8035,"@metamask/snaps-utils":2902,"prop-types":5052,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var s=g(e("prop-types")),r=g(e("react")),o=e("react-redux"),a=e("@metamask/snaps-utils"),i=g(e("../../components/ui/popover")),c=g(e("../../components/app/connected-accounts-list")),l=g(e("../../components/app/connected-accounts-permissions")),u=e("../../helpers/utils/util"),d=e("../../hooks/useI18nContext"),m=g(e("../../components/app/connected-sites-list/connected-snaps")),p=e("../../helpers/constants/design-system"),f=e("../../components/component-library"),h=e("../../selectors");function g(e){return e&&e.__esModule?e:{default:e}}function v({accountToConnect:e=null,activeTabOrigin:t,isActiveTabExtension:n,connectAccount:s,connectedAccounts:g,navigate:v,mostRecentOverviewPage:T,permissions:y=undefined,selectedAddress:S,removePermittedAccount:k,setSelectedAccount:A,subjectMetadata:C,originOfActiveTab:w,permissionSubjects:_}){var x,b,E;const P=(0,d.useI18nContext)(),I=(0,o.useSelector)(h.getInternalAccounts),M=C[w],R=(null===(x=_[w])||void 0===x?void 0:x.origin)===(null==M?void 0:M.origin)&&(null===(b=_[w])||void 0===b?void 0:b.permissions[a.WALLET_SNAP_PERMISSION_KEY]),N=R&&Object.keys(null===(E=_[w])||void 0===E||null===(E=E.permissions)||void 0===E||null===(E=E.wallet_snap)||void 0===E||null===(E=E.caveats[0])||void 0===E?void 0:E.value),O=R&&(null==N?void 0:N.map(e=>C[e])),D=g.length>0?P("connectedAccountsDescriptionPlural",[g.length]):P("connectedAccountsDescriptionSingular");let F;return F=g.length&&!R?D:R&&!g.length?P("connectedSnapAndNoAccountDescription"):g&&R?null:P("connectedAccountsEmptyDescription"),r.default.createElement(i.default,{title:n?P("currentExtension"):(0,u.getURLHost)(t),headerProps:{paddingLeft:4,paddingRight:4},subtitle:F,onClose:()=>v(T),footerClassName:"connected-accounts__footer",ConnectedAccountsPermissions:{},footer:g.length>0&&r.default.createElement(l.default,{permissions:y})},r.default.createElement(f.Box,null,g.length>0?r.default.createElement(f.Box,{marginLeft:4},r.default.createElement(f.Text,{variant:p.TextVariant.bodyMdMedium,color:p.TextColor.textAlternative},P("accountsConnected"),"(",g.length,")")):null,r.default.createElement(c.default,{accountToConnect:e,connectAccount:s,connectedAccounts:g,selectedAddress:S,removePermittedAccount:k,setSelectedAddress:e=>{const{id:t}=I.find(t=>t.address===e);A(t)},shouldRenderListOptions:!0})),R&&O.length>0&&r.default.createElement(r.default.Fragment,null,r.default.createElement(f.Box,{marginLeft:4},r.default.createElement(f.Text,{variant:p.TextVariant.bodyMdMedium,color:p.TextColor.textAlternative},P("snapsConnected"),"(",N.length,")")),r.default.createElement(m.default,{connectedSubjects:O})))}v.propTypes={accountToConnect:s.default.object,activeTabOrigin:s.default.string.isRequired,connectAccount:s.default.func.isRequired,connectedAccounts:s.default.array.isRequired,mostRecentOverviewPage:s.default.string.isRequired,permissions:s.default.array,isActiveTabExtension:s.default.bool.isRequired,selectedAddress:s.default.string.isRequired,removePermittedAccount:s.default.func.isRequired,setSelectedAccount:s.default.func.isRequired,navigate:s.default.func.isRequired,subjectMetadata:s.default.arrayOf(s.default.object).isRequired,originOfActiveTab:s.default.string,permissionSubjects:s.default.object}}}},{package:"$root$",file:"ui/pages/connected-accounts/connected-accounts.component.js"}],[7750,{"../../ducks/history/history":7030,"../../helpers/utils/util":7109,"../../selectors":8035,"../../store/actions":8065,"./connected-accounts.component":7749,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),o=e("../../selectors"),a=e("../../helpers/utils/util"),i=e("../../store/actions"),c=e("../../ducks/history/history"),l=(s=e("./connected-accounts.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)(e=>{var t;const{activeTab:n}=e,s=(0,o.getAccountToConnectToActiveTab)(e),r=(0,o.getOrderedConnectedAccountsForActiveTab)(e),i=(0,o.getInternalAccounts)(e),l=new Map(i.map(e=>[e.address,e])),u=r.map(e=>{var t;return{...e,name:null===(t=l.get(e.address))||void 0===t?void 0:t.metadata.name}}),d=s&&{...s,name:null===(t=i.find(e=>e.address===(null==s?void 0:s.address)))||void 0===t?void 0:t.metadata.name},m=(0,o.getPermissionsForActiveTab)(e),{address:p}=(0,o.getSelectedInternalAccount)(e),f=(0,o.getSubjectMetadata)(e),h=(0,o.getOriginOfCurrentTab)(e),g=(0,o.getPermissionSubjects)(e);return{accountToConnect:d,isActiveTabExtension:(0,a.isExtensionUrl)(n),activeTabOrigin:n.origin,connectedAccounts:u,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),permissions:m,selectedAddress:p,subjectMetadata:f,originOfActiveTab:h,permissionSubjects:g}},e=>({addPermittedAccount:(t,n)=>e((0,i.addPermittedAccount)(t,n)),removePermittedAccount:(t,n)=>e((0,i.removePermittedAccount)(t,n)),setSelectedAccount:t=>e((0,i.setSelectedInternalAccount)(t))}),(e,t,n)=>{const{activeTabOrigin:s}=e;return{...n,...e,...t,connectAccount:e=>t.addPermittedAccount(s,e),removePermittedAccount:e=>t.removePermittedAccount(s,e)}})(l.default)}}},{package:"$root$",file:"ui/pages/connected-accounts/connected-accounts.container.js"}],[7751,{"./connected-accounts.container":7750},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./connected-accounts.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/connected-accounts/index.js"}],[7752,{"../../components/app/connected-sites-list":6052,"../../components/component-library":6486,"../../components/ui/popover/popover.component":6955,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=l(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}(e("react")),o=l(e("../../components/app/connected-sites-list")),a=l(e("../../components/ui/popover/popover.component")),i=e("../../components/component-library");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.Component{constructor(...e){super(...e),u(this,"state",{sitePendingDisconnect:null}),u(this,"setPendingDisconnect",e=>{this.setState({sitePendingDisconnect:{subjectKey:e}})}),u(this,"clearPendingDisconnect",()=>{this.setState({sitePendingDisconnect:null})}),u(this,"disconnectAccount",()=>{const{disconnectAccount:e}=this.props,{sitePendingDisconnect:t}=this.state;e(t.subjectKey),this.clearPendingDisconnect()}),u(this,"disconnectAllAccounts",()=>{const{disconnectAllAccounts:e}=this.props,{sitePendingDisconnect:t}=this.state;e(t.subjectKey),this.clearPendingDisconnect()})}componentDidMount(){const{getOpenMetamaskTabsIds:e}=this.props;e()}renderConnectedSitesList(){return r.default.createElement(o.default,{connectedSubjects:this.props.connectedSubjects,onDisconnect:this.setPendingDisconnect})}renderConnectedSitesPopover(){const{accountLabel:e,closePopover:t,connectedSubjects:n,tabToConnect:s,requestAccountsPermission:o}=this.props,{t:i}=this.context;return r.default.createElement(a.default,{className:"connected-sites",title:i("connectedSites"),subtitle:n.length?i("connectedSitesDescription",[e]):i("connectedSitesEmptyDescription",[e]),onClose:t,footer:s?r.default.createElement("a",{className:"connected-sites__text-button",onClick:o},i("connectManually")):null,footerClassName:"connected-sites__add-site-manually"},this.renderConnectedSitesList())}renderDisconnectPopover(){const{closePopover:e,permittedAccountsByOrigin:t}=this.props,{t:n}=this.context,{sitePendingDisconnect:{subjectKey:s}}=this.state,o=t[s].length;return r.default.createElement(a.default,{className:"connected-sites",title:n("disconnectPrompt",[s]),subtitle:n("disconnectAllAccountsConfirmationDescription"),onClose:e,footer:r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"connected-sites__footer-row"},r.default.createElement(i.Button,{variant:i.ButtonVariant.Secondary,onClick:this.clearPendingDisconnect,block:!0},n("cancel")),r.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,onClick:this.disconnectAccount,block:!0},n("disconnect"))),o>1?r.default.createElement("div",{className:"connected-sites__footer-row"},r.default.createElement("a",{className:"connected-sites__text-button",onClick:this.disconnectAllAccounts},n("disconnectAllAccounts"))):null),footerClassName:"connected-sites__confirmation"})}render(){const{sitePendingDisconnect:e}=this.state;return e?this.renderDisconnectPopover():this.renderConnectedSitesPopover()}}n.default=d,u(d,"contextTypes",{t:s.default.func}),u(d,"defaultProps",{tabToConnect:null}),u(d,"propTypes",{accountLabel:s.default.string.isRequired,closePopover:s.default.func.isRequired,connectedSubjects:s.default.arrayOf(s.default.object).isRequired,disconnectAllAccounts:s.default.func.isRequired,disconnectAccount:s.default.func.isRequired,getOpenMetamaskTabsIds:s.default.func.isRequired,permittedAccountsByOrigin:s.default.objectOf(s.default.arrayOf(s.default.string)).isRequired,tabToConnect:s.default.object,requestAccountsPermission:s.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/connected-sites/connected-sites.component.js"}],[7753,{"../../ducks/history/history":7030,"../../helpers/constants/routes":7054,"../../selectors":8035,"../../store/actions":8065,"./connected-sites.component":7752,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),o=e("../../store/actions"),a=e("../../selectors"),i=e("../../helpers/constants/routes"),c=e("../../ducks/history/history"),l=(s=e("./connected-sites.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)(e=>{var t;const{openMetaMaskTabs:n}=e.appState,{id:s}=e.activeTab,r=(0,a.getConnectedSubjectsForSelectedAddress)(e),o=(0,a.getOriginOfCurrentTab)(e),i=(0,a.getPermittedAccountsByOrigin)(e),{address:l}=(0,a.getSelectedInternalAccount)(e),u=!(null!==(t=i[o])&&void 0!==t&&t.length);let d;return o&&u&&!n[s]&&(d={origin:o}),{accountLabel:(0,a.getSelectedInternalAccount)(e).metadata.name,connectedSubjects:r,subjects:(0,a.getPermissionSubjects)(e),mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),permittedAccountsByOrigin:i,selectedAddress:l,tabToConnect:d}},e=>({getOpenMetamaskTabsIds:()=>e((0,o.getOpenMetamaskTabsIds)()),disconnectAccount:(t,n)=>{e((0,o.removePermittedAccount)(t,n))},disconnectAllAccounts:(t,n)=>{const s=Object.values(n.permissions).map(({parentCapability:e})=>e);e((0,o.removePermissionsFor)({[t]:s}))},requestAccountsAndChainPermissionsWithId:t=>e((0,o.requestAccountsAndChainPermissionsWithId)(t))}),(e,t,n)=>{const{connectedSubjects:s,subjects:r,mostRecentOverviewPage:o,selectedAddress:a,tabToConnect:c}=e,{disconnectAccount:l,disconnectAllAccounts:u,requestAccountsAndChainPermissionsWithId:d}=t,{navigate:m}=n,p=()=>m(o);return{...n,...e,...t,closePopover:p,disconnectAccount:e=>{l(e,a),1===s.length&&p()},disconnectAllAccounts:e=>{u(e,r[e]),1===s.length&&p()},requestAccountsPermission:async()=>{const e=await d(c.origin);m(`${i.CONNECT_ROUTE}/${e}`)}}})(l.default)}}},{package:"$root$",file:"ui/pages/connected-sites/connected-sites.container.js"}],[7754,{"./connected-sites.container":7753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./connected-sites.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/connected-sites/index.js"}],[7755,{"../../../../shared/lib/ui-utils":5880,"../../../hooks/useI18nContext":7200,"@metamask/design-system-react":1742,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HyperliquidReferralConsent=void 0;var s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}(e("react")),o=e("@metamask/design-system-react"),a=e("../../../hooks/useI18nContext"),i=e("../../../../shared/lib/ui-utils");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const l=e=>{const t=(0,s.c)(3),{text:n}=e;let o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o={color:"var(--color-primary-default)",cursor:"pointer"},t[0]=o):o=t[0],t[1]!==n?(a=r.default.createElement("a",{href:i.HYPERLIQUID_REFERRAL_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer",style:o},n),t[1]=n,t[2]=a):a=t[2],a},u=()=>{const e=(0,s.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("img",{src:"./images/hyperliquid-referral.png",alt:"Hyperliquid referral",width:"full"}),e[0]=t):t=e[0],t};n.HyperliquidReferralConsent=e=>{const t=(0,s.c)(41),{onActionComplete:n,selectedAddress:i}=e,c=(0,a.useI18nContext)(),[d,m]=(0,r.useState)(!0);let p;t[0]!==d||t[1]!==n||t[2]!==i?(p=()=>{n({approved:d,selectedAddress:i})},t[0]=d,t[1]=n,t[2]=i,t[3]=p):p=t[3];const f=p;let h;t[4]!==d?(h=()=>{m(!d)},t[4]=d,t[5]=h):h=t[5];const g=h;let v,T,y,S,k,A,C,w,_,x,b,E,P,I,M;return t[6]!==c?(v=c("hyperliquidReferralTitle"),t[6]=c,t[7]=v):v=t[7],t[8]!==v?(T=r.default.createElement(o.Text,{textAlign:o.TextAlign.Center,variant:o.TextVariant.HeadingMd,fontWeight:o.FontWeight.Bold},v),t[8]=v,t[9]=T):T=t[9],t[10]!==c?(y=c("hyperliquidReferralSubtitle"),t[10]=c,t[11]=y):y=t[11],t[12]!==c?(S=c("learnMoreUpperCase"),t[12]=c,t[13]=S):S=t[13],t[14]!==S?(k=r.default.createElement(l,{text:S}),t[14]=S,t[15]=k):k=t[15],t[16]!==y||t[17]!==k?(A=r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,color:o.TextColor.TextAlternative},y," ",k),t[16]=y,t[17]=k,t[18]=A):A=t[18],t[19]!==T||t[20]!==A?(C=r.default.createElement(o.Box,{flexDirection:o.BoxFlexDirection.Column,alignItems:o.BoxAlignItems.Center,gap:4,className:"mb-6"},T,A),t[19]=T,t[20]=A,t[21]=C):C=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(w=r.default.createElement(o.Box,{paddingBottom:6,paddingHorizontal:4},r.default.createElement(u,null)),t[22]=w):w=t[22],t[23]!==c?(_=c("hyperliquidReferralCheckboxLabel"),t[23]=c,t[24]=_):_=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(x={variant:o.TextVariant.BodySm,color:o.TextColor.TextAlternative},t[25]=x):x=t[25],t[26]!==g||t[27]!==d||t[28]!==_?(b=r.default.createElement(o.Box,{backgroundColor:o.BoxBackgroundColor.BackgroundSection,padding:3,className:"rounded-lg"},r.default.createElement(o.Checkbox,{id:"hyperliquid-referral-consent-checkbox",isSelected:d,onChange:g,label:_,labelProps:x,className:"items-start cursor-pointer"})),t[26]=g,t[27]=d,t[28]=_,t[29]=b):b=t[29],t[30]!==c?(E=c("confirm"),t[30]=c,t[31]=E):E=t[31],t[32]!==f||t[33]!==E?(P=r.default.createElement(o.Button,{onClick:f},E),t[32]=f,t[33]=E,t[34]=P):P=t[34],t[35]!==b||t[36]!==P?(I=r.default.createElement(o.Box,{flexDirection:o.BoxFlexDirection.Column,justifyContent:o.BoxJustifyContent.Between,alignItems:o.BoxAlignItems.Center,className:"h-full"},w,r.default.createElement(o.Box,{flexDirection:o.BoxFlexDirection.Column,gap:4},b,P)),t[35]=b,t[36]=P,t[37]=I):I=t[37],t[38]!==I||t[39]!==C?(M=r.default.createElement(o.Box,{flexDirection:o.BoxFlexDirection.Column,className:"h-full"},C,I),t[38]=I,t[39]=C,t[40]=M):M=t[40],M}}}},{package:"$root$",file:"ui/pages/core/hyperliquid-referral-consent/hyperliquid-referral-consent.tsx"}],[7756,{"./hyperliquid-referral-consent":7755},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"HyperliquidReferralConsent",{enumerable:!0,get:function(){return s.HyperliquidReferralConsent}});var s=e("./hyperliquid-referral-consent")}}},{package:"$root$",file:"ui/pages/core/hyperliquid-referral-consent/index.ts"}],[7757,{"../../../../shared/constants/hardware-wallets":5762,"../../../../shared/constants/metametrics":5768,"../../../components/component-library":6486,"../../../components/ui/check-box":6883,"../../../components/ui/dropdown":6900,"../../../helpers/utils/util":7109,"./utils":7760,"@metamask/etherscan-link":2044,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=f(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}(e("react")),o=e("@metamask/etherscan-link"),a=e("../../../components/component-library"),i=f(e("../../../components/ui/check-box")),c=f(e("../../../components/ui/dropdown")),l=e("../../../helpers/utils/util"),u=e("../../../../shared/constants/hardware-wallets"),d=e("../../../../shared/constants/metametrics"),m=e("./utils");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{constructor(...e){super(...e),h(this,"state",{pathValue:null}),h(this,"goToNextPage",()=>{5===this.props.accounts.length?this.props.getPage(this.props.device,1,this.props.selectedPath,!1):this.props.onAccountRestriction()}),h(this,"goToPreviousPage",()=>{this.props.getPage(this.props.device,-1,this.props.selectedPath,!1)})}componentDidMount(){const{device:e}=this.props,{trackEvent:t}=this.context;t({event:d.MetaMetricsEventName.ConnectHardwareWalletAccountSelectorViewed,properties:{device_type:(0,m.capitalizeStr)(e)}})}setPath(e){this.setState({pathValue:e})}isFirstPage(){var e;return 0===(null===(e=this.props.accounts[0])||void 0===e?void 0:e.index)}renderHdPathSelector(){const{device:e,selectedPath:t,hdPaths:n,onPathChange:s}=this.props,{pathValue:o}=this.state;return r.default.createElement("div",null,r.default.createElement("h3",{className:"hw-connect__hdPath__title"},this.context.t("selectHdPath")),r.default.createElement("p",{className:"hw-connect__msg"},this.context.t("selectPathHelp")),r.default.createElement("div",{className:"hw-connect__hdPath"},r.default.createElement(c.default,{className:"hw-connect__hdPath__select",options:n[e],selectedOption:o||t,onChange:e=>{this.setPath(e),s(e)}})))}renderHeader(){const{device:e}=this.props,t=[u.HardwareDeviceNames.ledger,u.HardwareDeviceNames.lattice,u.HardwareDeviceNames.trezor,u.HardwareDeviceNames.oneKey].includes(e);return r.default.createElement("div",{className:"hw-connect"},r.default.createElement("h3",{className:"hw-connect__unlock-title"},this.context.t("selectAnAccount")),t?this.renderHdPathSelector():null,r.default.createElement("h3",{className:"hw-connect__hdPath__title"},this.context.t("selectAnAccount")))}renderAccounts(){const{accounts:e,connectedAccounts:t,rpcPrefs:n,chainId:s}=this.props;return r.default.createElement("div",{className:"hw-account-list"},e.map((e,a)=>{const c=t.includes(e.address.toLowerCase()),u=e.index,m=this.props.selectedAccounts.includes(e.index)||c,p=(0,o.getAccountLink)(e.address,s,n),f=(0,l.getURLHostName)(p);return r.default.createElement("div",{className:"hw-account-list__item",key:e.address,"data-testid":"hw-account-list__item",title:c?this.context.t("selectAnAccountAlreadyConnected"):""},r.default.createElement("div",{className:"hw-account-list__item__checkbox"},r.default.createElement(i.default,{id:`address-${a}`,checked:m,disabled:c,onClick:()=>{this.props.onAccountChange(u)}}),r.default.createElement("label",{className:"hw-account-list__item__label",htmlFor:`address-${a}`},r.default.createElement("span",{className:"hw-account-list__item__index"},e.index+1),`${e.address.slice(0,4)}...${e.address.slice(-4)}`,r.default.createElement("span",{className:"hw-account-list__item__balance"},`${e.balance}`))),r.default.createElement("a",{className:"hw-account-list__item__link",onClick:()=>{this.context.trackEvent({category:d.MetaMetricsEventCategory.Accounts,event:"Clicked Block Explorer Link",properties:{actions:"Hardware Connect",link_type:"Account Tracker",block_explorer_domain:f}}),global.platform.openTab({url:p})},target:"_blank",rel:"noopener noreferrer",title:this.context.t("genericExplorerView",[f])},r.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-default)"}})))}))}renderPagination(){return r.default.createElement("div",{className:"hw-list-pagination"},r.default.createElement("button",{className:"hw-list-pagination__button",disabled:this.isFirstPage(),onClick:this.goToPreviousPage,"data-testid":"hw-list-pagination__prev-button"},`< ${this.context.t("prev")}`),r.default.createElement("button",{className:"hw-list-pagination__button",onClick:this.goToNextPage},`${this.context.t("next")} >`))}renderButtons(){const e=0===this.props.selectedAccounts.length;return e&&({}.disabled=!0),r.default.createElement("div",{className:"new-external-account-form__buttons"},r.default.createElement(a.Button,{variant:a.ButtonVariant.Secondary,size:a.ButtonSize.Lg,block:!0,onClick:this.props.onCancel.bind(this)},this.context.t("cancel")),r.default.createElement(a.Button,{variant:a.ButtonVariant.Primary,size:a.ButtonSize.Lg,block:!0,className:"new-external-account-form__button unlock",disabled:e,onClick:this.props.onUnlockAccounts.bind(this,this.props.device,this.props.selectedPath)},this.context.t("unlock")))}renderForgetDevice(){return r.default.createElement("div",{className:"hw-forget-device-container"},r.default.createElement("a",{onClick:this.props.onForgetDevice.bind(this,this.props.device,this.props.selectedPath)},this.context.t("forgetDevice")))}render(){return r.default.createElement("div",{className:"new-external-account-form account-list"},this.renderHeader(),this.renderAccounts(),this.renderPagination(),this.renderButtons(),this.renderForgetDevice())}}g.propTypes={onPathChange:s.default.func.isRequired,selectedPath:s.default.string.isRequired,device:s.default.string.isRequired,accounts:s.default.array.isRequired,connectedAccounts:s.default.array.isRequired,onAccountChange:s.default.func.isRequired,onForgetDevice:s.default.func.isRequired,getPage:s.default.func.isRequired,chainId:s.default.string,rpcPrefs:s.default.object,selectedAccounts:s.default.array.isRequired,onUnlockAccounts:s.default.func,onCancel:s.default.func,onAccountRestriction:s.default.func,hdPaths:s.default.object.isRequired},g.contextTypes={t:s.default.func,trackEvent:s.default.func};n.default=g}}},{package:"$root$",file:"ui/pages/create-account/connect-hardware/account-list.js"}],[7758,{"../../../../shared/constants/hardware-wallets":5762,"../../../../shared/constants/keyring":5764,"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/time":5790,"../../../../shared/modules/selectors/networks":5908,"../../../components/component-library":6486,"../../../ducks/history/history":7030,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/zendesk-url":7061,"../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7072,"../../../helpers/utils/util":7109,"../../../selectors":8035,"../../../selectors/selectors":8052,"../../../store/actions":8065,"./account-list":7757,"./select-hardware":7759,"./utils":7760,"prop-types":5052,react:5229,"react-redux":5179,redux:5273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.TREZOR_HD_PATHS=n.LEDGER_HD_PATHS=n.LATTICE_HD_PATHS=void 0;var s=x(e("react")),r=w(e("prop-types")),o=e("react-redux"),a=e("redux"),i=x(e("../../../store/actions")),c=e("../../../../shared/modules/selectors/networks"),l=e("../../../selectors"),u=e("../../../helpers/utils/util"),d=e("../../../ducks/history/history"),m=e("../../../../shared/constants/time"),p=e("../../../../shared/constants/hardware-wallets"),f=e("../../../components/component-library"),h=w(e("../../../helpers/constants/zendesk-url")),g=e("../../../helpers/constants/design-system"),v=e("../../../selectors/selectors"),T=w(e("../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),y=e("../../../../shared/constants/keyring"),S=e("../../../../shared/constants/metametrics"),k=w(e("./account-list")),A=w(e("./select-hardware")),C=e("./utils");function w(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=n.LEDGER_HD_PATHS=[{name:"Ledger Live",value:p.LEDGER_LIVE_PATH},{name:"Legacy (MEW / MyCrypto)",value:p.MEW_PATH},{name:"BIP44 Standard (e.g. MetaMask, Trezor)",value:p.BIP44_PATH}],P=n.LATTICE_HD_PATHS=[{name:`Standard (${p.LATTICE_STANDARD_BIP44_PATH})`,value:p.LATTICE_STANDARD_BIP44_PATH},{name:`Ledger Live (${p.LATTICE_LEDGER_LIVE_PATH})`,value:p.LATTICE_LEDGER_LIVE_PATH},{name:`Ledger Legacy (${p.LATTICE_MEW_PATH})`,value:p.LATTICE_MEW_PATH}],I=n.TREZOR_HD_PATHS=[{name:"BIP44 Standard (e.g. MetaMask, Trezor)",value:p.BIP44_PATH},{name:"Legacy (Ledger / MEW / MyCrypto)",value:p.MEW_PATH},{name:"Trezor Testnets",value:p.TREZOR_TESTNET_PATH}],M={ledger:E,lattice:P,trezor:I,oneKey:I},R=(e,t)=>{const n=p.LEDGER_ERRORS_CODES[e];return n!==undefined?t(n):e};class N extends s.Component{constructor(...e){super(...e),b(this,"state",{error:null,selectedAccounts:[],accounts:[],browserSupported:!0,unlocked:!1,device:null,isFirefox:!1}),b(this,"connectToHardwareWallet",e=>{if(this.setState({device:e}),this.state.accounts.length)return;const t=this.getHardwareWalletKeyrings().length;this.context.trackEvent({event:S.MetaMetricsEventName.ConnectHardwareWalletClicked,properties:{device_type:(0,C.capitalizeStr)(e),connected_device_count:t}}),this.getPage(e,0,this.props.defaultHdPaths[e],!0)}),b(this,"onPathChange",e=>{this.props.setHardwareWalletDefaultHdPath({device:this.state.device,path:e}),this.setState({selectedAccounts:[]}),this.getPage(this.state.device,0,e)}),b(this,"onAccountChange",e=>{let{selectedAccounts:t}=this.state;t.includes(e)?t=t.filter(t=>e!==t):t.push(e),this.setState({selectedAccounts:t,error:null})}),b(this,"onAccountRestriction",()=>{this.setState({error:this.context.t("ledgerAccountRestriction")})}),b(this,"getPage",(e,t,n,s)=>{this.props.connectHardware(e,t,n,s,this.context.t).then(t=>{if(t.length){0!==this.state.accounts.length||this.state.unlocked||this.showTemporaryAlert();const n=t.map(e=>{var t;const n=e.address.toLowerCase(),s=(null===(t=this.props.accounts[n])||void 0===t?void 0:t.balance)||null;return e.balance=s?(0,u.formatBalance)(s,6):"...",e});this.setState({accounts:n,unlocked:!0,device:e,error:null})}}).catch(e=>{const t="string"==typeof e?e:e.message,n=Object.keys(p.LEDGER_ERRORS_CODES).find(e=>t.includes(e));"Window blocked"===t?this.setState({browserSupported:!1,error:null}):t.includes(p.U2F_ERROR)?this.setState({error:p.U2F_ERROR}):"LEDGER_LOCKED"===t||"LEDGER_WRONG_APP"===t?this.setState({error:this.context.t("ledgerLocked")}):t.includes("timeout")?this.setState({error:this.context.t("ledgerTimeout")}):n?this.setState({error:`${t} - ${R(n)}`}):t.toLowerCase().includes("KeystoneError#pubkey_account.no_expected_account".toLowerCase())?this.setState({error:this.context.t("QRHardwarePubkeyAccountOutOfRange")}):"Window closed"!==t&&"Popup closed"!==t&&!1===t.toLowerCase().includes("KeystoneError#sync_cancel".toLowerCase())&&this.setState({error:t})})}),b(this,"onForgetDevice",(e,t)=>{const{trackEvent:n}=this.context,{forgetDevice:s}=this.props;s(e).then(t=>{n({event:S.MetaMetricsEventName.HardwareWalletForgotten,properties:{device_type:(0,C.capitalizeStr)(e)}}),this.setState({error:null,selectedAccounts:[],accounts:[],unlocked:!1})}).catch(s=>{n({event:S.MetaMetricsEventName.HardwareWalletConnectionFailed,properties:{hd_path:t,device_type:(0,C.capitalizeStr)(e),error:s.message}}),this.setState({error:s.message})})}),b(this,"onUnlockAccounts",async(e,t)=>{const{navigate:n,mostRecentOverviewPage:s,unlockHardwareWalletAccounts:r,hdEntropyIndex:o}=this.props,{selectedAccounts:a}=this.state,{trackEvent:i}=this.context;0===a.length&&this.setState({error:this.context.t("accountSelectionRequired")});const c=p.MEW_PATH===t?this.context.t("hardwareWalletLegacyDescription"):"";return r(a,e,t||null,c).then(r=>{this.context.trackEvent({category:S.MetaMetricsEventCategory.Accounts,event:S.MetaMetricsEventName.AccountAdded,properties:{account_type:S.MetaMetricsEventAccountType.Hardware,account_hardware_type:e,is_suggested_name:!0}});const o=this.getHardwareWalletKeyrings(),a=o.length,c=o.some(t=>t.type===p.DEVICE_KEYRING_MAP[e]);i({event:S.MetaMetricsEventName.HardwareWalletAccountConnected,properties:{device_type:(0,C.capitalizeStr)(e),hd_path:t,connected_device_count:c?a:a+1}}),n(s)}).catch(n=>{this.context.trackEvent({category:S.MetaMetricsEventCategory.Accounts,event:S.MetaMetricsEventName.AccountAddFailed,properties:{account_type:S.MetaMetricsEventAccountType.Hardware,account_hardware_type:e,error:n.message,hd_entropy_index:o}}),i({event:S.MetaMetricsEventName.HardwareWalletConnectionFailed,properties:{hd_path:t,device_type:(0,C.capitalizeStr)(e),error:n.message}}),this.setState({error:n.message})})}),b(this,"onCancel",()=>{const{navigate:e,mostRecentOverviewPage:t}=this.props;e(t)})}UNSAFE_componentWillReceiveProps(e){const{accounts:t}=e,n=this.state.accounts.map(e=>{var n;const s=e.address.toLowerCase(),r=(null===(n=t[s])||void 0===n?void 0:n.balance)||null;return e.balance=r?(0,u.formatBalance)(r,6):"...",e});this.setState({accounts:n})}componentDidMount(){this.checkIfUnlocked();const e=window.navigator.userAgent;/Firefox/u.test(e)&&this.setState({isFirefox:!0})}getHardwareWalletKeyrings(){const{keyrings:e}=this.props;return e.filter(e=>[y.KeyringType.ledger,y.KeyringType.trezor,y.KeyringType.lattice,y.KeyringType.qr,y.KeyringType.oneKey].includes(e.type)&&e.accounts.length>0)}async checkIfUnlocked(){for(const e of[p.HardwareDeviceNames.trezor,p.HardwareDeviceNames.oneKey,p.HardwareDeviceNames.ledger,p.HardwareDeviceNames.lattice]){const t=this.props.defaultHdPaths[e];await this.props.checkHardwareStatus(e,t)&&this.state.device&&(this.setState({unlocked:!0}),this.getPage(e,0,t))}}showTemporaryAlert(){this.props.showAlert(this.context.t("hardwareWalletConnected")),setTimeout(e=>{this.props.hideAlert()},5*m.SECOND)}renderError(){return this.state.error===p.U2F_ERROR?"ledger"===this.state.device&&this.state.isFirefox?s.default.createElement(s.default.Fragment,null,s.default.createElement(f.Text,{color:g.TextColor.warningDefault,margin:[5,5,2]},this.context.t("troubleConnectingToLedgerU2FOnFirefox",[s.default.createElement(f.Button,{variant:f.BUTTON_VARIANT.LINK,href:h.default.HARDWARE_CONNECTION,size:f.BUTTON_SIZES.INHERIT,key:"u2f-error-1",as:"a",block:!1,target:"_blank",rel:"noopener noreferrer"},this.context.t("troubleConnectingToLedgerU2FOnFirefox2"))])),s.default.createElement(f.Text,{color:g.TextColor.warningDefault,margin:[5,5,2]},this.context.t("troubleConnectingToLedgerU2FOnFirefoxLedgerSolution",[s.default.createElement(f.Button,{variant:f.BUTTON_VARIANT.LINK,href:h.default.LEDGER_FIREFOX_U2F_GUIDE,size:f.BUTTON_SIZES.INHERIT,key:"u2f-error-1",as:"a",target:"_blank",rel:"noopener noreferrer"},this.context.t("troubleConnectingToLedgerU2FOnFirefoxLedgerSolution2"))]))):s.default.createElement(f.Text,{color:g.TextColor.warningDefault,margin:[5,5,2]},this.context.t("troubleConnectingToWallet",[this.state.device,s.default.createElement(f.Button,{variant:f.BUTTON_VARIANT.LINK,href:h.default.HARDWARE_CONNECTION,key:"u2f-error-1"},this.context.t("walletConnectionGuide"))])):this.state.error?s.default.createElement("span",{className:"hw-connect__error"},this.state.error):null}renderContent(){return this.state.accounts.length?s.default.createElement(k.default,{onPathChange:this.onPathChange,selectedPath:this.props.defaultHdPaths[this.state.device],device:this.state.device,accounts:this.state.accounts,connectedAccounts:this.props.connectedAccounts,selectedAccounts:this.state.selectedAccounts,onAccountChange:this.onAccountChange,chainId:this.props.chainId,rpcPrefs:this.props.rpcPrefs,getPage:this.getPage,onUnlockAccounts:this.onUnlockAccounts,onForgetDevice:this.onForgetDevice,onCancel:this.onCancel,onAccountRestriction:this.onAccountRestriction,hdPaths:M}):s.default.createElement(A.default,{connectToHardwareWallet:this.connectToHardwareWallet,browserSupported:this.state.browserSupported,ledgerTransportType:this.props.ledgerTransportType,onCancel:this.onCancel})}render(){return s.default.createElement(s.default.Fragment,null,this.renderError(),this.renderContent())}}b(N,"contextTypes",{t:r.default.func}),N.propTypes={connectHardware:r.default.func,checkHardwareStatus:r.default.func,forgetDevice:r.default.func,showAlert:r.default.func,hideAlert:r.default.func,unlockHardwareWalletAccounts:r.default.func,setHardwareWalletDefaultHdPath:r.default.func,navigate:r.default.func,chainId:r.default.string,rpcPrefs:r.default.object,accounts:r.default.object,connectedAccounts:r.default.array.isRequired,defaultHdPaths:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,ledgerTransportType:r.default.oneOf(Object.values(p.LedgerTransportTypes)),hdEntropyIndex:r.default.number,keyrings:r.default.array.isRequired};N.contextTypes={t:r.default.func,trackEvent:r.default.func};n.default=(0,a.compose)(T.default,(0,o.connect)(e=>({chainId:(0,c.getCurrentChainId)(e),rpcPrefs:(0,l.getRpcPrefsForCurrentProvider)(e),accounts:(0,l.getMetaMaskAccounts)(e),connectedAccounts:(0,l.getMetaMaskAccountsConnected)(e),defaultHdPaths:e.appState.defaultHdPaths,mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),ledgerTransportType:e.metamask.ledgerTransportType,hdEntropyIndex:(0,v.getHDEntropyIndex)(e),keyrings:e.metamask.keyrings}),e=>({setHardwareWalletDefaultHdPath:({device:t,path:n})=>e(i.setHardwareWalletDefaultHdPath({device:t,path:n})),connectHardware:(t,n,s,r,o)=>e(i.connectHardware(t,n,s,r,o)),checkHardwareStatus:(t,n)=>e(i.checkHardwareStatus(t,n)),forgetDevice:t=>e(i.forgetDevice(t)),unlockHardwareWalletAccounts:(t,n,s,r)=>e(i.unlockHardwareWalletAccounts(t,n,s,r)),showAlert:t=>e(i.showAlert(t)),hideAlert:()=>e(i.hideAlert())})))(N)}}},{package:"$root$",file:"ui/pages/create-account/connect-hardware/index.js"}]],[],{});