LavaPack.loadBundle([[7023,{"../../../shared/constants/bridge":5755,"../../../shared/constants/hardware-wallets":5762,"../../../shared/constants/multichain/assets":5770,"../../../shared/constants/network":5772,"../../../shared/lib/asset-utils":5802,"../../../shared/lib/swaps-utils":5870,"../../../shared/modules/Numeric":5882,"../../../shared/modules/selectors":5906,"../../../shared/modules/selectors/util":5910,"../../pages/bridge/utils/quote":7313,"../../selectors/accounts":8024,"../../selectors/assets":8027,"../../selectors/multichain":8044,"../../selectors/multichain-accounts/account-tree":8039,"../../selectors/multichain/networks":8045,"../../selectors/remote-feature-flags":8049,"../../selectors/selectors":8052,"./utils":7024,"@metamask/bridge-controller":1318,"@metamask/keyring-api":2173,"@metamask/notification-services-controller/push-services":2341,"@metamask/utils":3070,"bignumber.js":3926,lodash:4794,reselect:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectNoFeeAssets=n.needsTronAccountForDestination=n.needsSolanaAccountForDestination=n.needsBitcoinAccountForDestination=n.getWasTxDeclined=n.getWarningLabels=n.getValidationErrors=n.getValidatedFromValue=n.getTxAlerts=n.getTopAssetsFromFeatureFlags=n.getToToken=n.getToChains=n.getToChain=n.getToAccounts=n.getSlippage=n.getQuoteRequest=n.getQuoteRefreshRate=n.getPriceImpactThresholds=n.getLastSelectedChainId=n.getIsToOrFromNonEvm=n.getIsSwap=n.getIsStxEnabled=n.getIsSolanaSwap=n.getIsQuoteExpired=n.getIsGasIncluded=n.getHardwareWalletName=n.getFromTokenConversionRate=n.getFromTokenBalance=n.getFromToken=n.getFromChains=n.getFromChain=n.getFromAmountInCurrency=n.getFromAmount=n.getFromAccount=n.getBridgeSortOrder=n.getBridgeQuotes=n.getAccountGroupNameByInternalAccount=void 0;var s=e("@metamask/bridge-controller"),r=e("@metamask/keyring-api"),a=e("lodash"),i=e("reselect"),o=e("bignumber.js"),c=e("@metamask/notification-services-controller/push-services"),u=e("@metamask/utils"),l=e("../../selectors/selectors"),d=e("../../../shared/constants/bridge"),m=e("../../../shared/modules/selectors/util"),p=e("../../../shared/constants/network"),h=e("../../selectors/multichain"),g=e("../../selectors/assets"),f=e("../../../shared/constants/hardware-wallets"),S=e("../../../shared/lib/asset-utils"),y=e("../../../shared/constants/multichain/assets"),b=e("../../../shared/modules/Numeric"),v=e("../../../shared/modules/selectors"),T=e("../../../shared/lib/swaps-utils"),k=e("../../pages/bridge/utils/quote"),w=e("../../selectors/accounts"),_=e("../../selectors/remote-feature-flags"),C=e("../../selectors/multichain-accounts/account-tree"),I=e("../../selectors/multichain/networks"),A=e("./utils");const E=(e,t,n)=>(0,s.isSolanaChainId)(e)?(0,s.isNativeAddress)(t)?y.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19.SOL:n??t:(0,s.isBitcoinChainId)(e)?y.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19.BTC:(0,A.isTronChainId)(e)&&(0,s.isNativeAddress)(t)?y.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19.TRX:n??t,M=e=>{var t;const n=(null===(t=e.metamask.internalAccounts)||void 0===t?void 0:t.accounts)||{};return Object.values(n).some(e=>{const{DataAccount:t}=r.SolAccountType;return Boolean(e&&e.type===t)})},N=e=>{var t;const n=(null===(t=e.metamask.internalAccounts)||void 0===t?void 0:t.accounts)||{};return Object.values(n).some(e=>{const{P2wpkh:t}=r.BtcAccountType;return Boolean(e&&e.type===t)})},P=e=>{var t;const n=(null===(t=e.metamask.internalAccounts)||void 0===t?void 0:t.accounts)||{};return Object.values(n).some(e=>{const{Eoa:t}=r.TrxAccountType;return Boolean(e&&e.type===t)})},R=(0,m.createDeepEqualSelector)([h.getMultichainNetworkConfigurationsByChainId],e=>d.ALLOWED_BRIDGE_CHAIN_IDS.reduce((t,n)=>(e[n]&&(t[(0,s.formatChainIdToCaip)(n)]=e[n]),t),{})),O=(0,m.createDeepEqualSelector)([e=>(0,_.getRemoteFeatureFlags)(e).bridgeConfig],e=>(0,s.selectBridgeFeatureFlags)({remoteFeatureFlags:{bridgeConfig:e}})),D=(n.getPriceImpactThresholds=(0,m.createDeepEqualSelector)([e=>O(e).priceImpactThreshold],e=>e),n.getFromChains=(0,m.createDeepEqualSelector)([R,e=>O(e).chains,e=>M(e),e=>N(e),e=>P(e)],(e,t,n,r,a)=>{const i=[];return Object.entries(t).forEach(([t,{isActiveSrc:o}])=>{if(!o)return;const c=!(0,s.isSolanaChainId)(t)||n,u=!(0,s.isBitcoinChainId)(t)||r,l=!(0,A.isTronChainId)(t)||a,d=e[(0,s.formatChainIdToCaip)(t)];[c,u,l,d].every(Boolean)&&i.push(d)}),i})),x=(n.getLastSelectedChainId=(0,i.createSelector)([I.getAllEnabledNetworksForAllNamespaces,D],(e,t)=>{var n;return e.length>1?p.CHAIN_IDS.MAINNET:null===(n=t.find(({chainId:t})=>t===e[0]))||void 0===n?void 0:n.chainId}),n.getFromChain=(0,m.createDeepEqualSelector)([D,h.getMultichainProviderConfig],(e,t)=>e.find(({chainId:e})=>e===(null==t?void 0:t.chainId)))),U=n.getToChains=(0,m.createDeepEqualSelector)([R,O],(e,t)=>(0,a.uniqBy)([...Object.values(e),...p.FEATURED_RPCS],"chainId").filter(({chainId:e})=>{var n;return null==t||null===(n=t.chains)||void 0===n||null===(n=n[(0,s.formatChainIdToCaip)(e)])||void 0===n?void 0:n.isActiveDest}));n.getTopAssetsFromFeatureFlags=(e,t)=>{var n;if(!t)return undefined;const r=O(e);return null==r||null===(n=r.chains[(0,s.formatChainIdToCaip)(t)])||void 0===n?void 0:n.topAssets};const B=(0,m.createDeepEqualSelector)([e=>{var t;return null===(t=x(e))||void 0===t?void 0:t.chainId},e=>O(e).bip44DefaultPairs],(e,t)=>{var n;if(!e)return null;const{namespace:r}=(0,u.parseCaipChainId)((0,s.formatChainIdToCaip)(e)),a=null==t||null===(n=t[r])||void 0===n?void 0:n.standard;return a?Object.entries(a).flat():null}),L=(0,i.createSelector)([e=>{var t;return null===(t=B(e))||void 0===t?void 0:t[1]}],e=>{var t;return e?null===(t=(0,u.parseCaipAssetType)(e))||void 0===t?void 0:t.chainId:null}),F=n.getToChain=(0,i.createSelector)([x,U,e=>{var t;return null===(t=e.bridge)||void 0===t?void 0:t.toChainId},L],(e,t,n,r)=>n?t.find(({chainId:e})=>e===n||(0,s.formatChainIdToCaip)(e)===n):e&&(0,s.isBitcoinChainId)(e.chainId)?t.find(({chainId:e})=>(0,s.formatChainIdToCaip)(e)===r):e),$=n.getFromToken=(0,i.createSelector)([e=>e.bridge.fromToken,e=>{var t;return null===(t=x(e))||void 0===t?void 0:t.chainId}],(e,t)=>{if(!t)return null;if(null!=e&&e.address)return e;const{iconUrl:n,...r}=(0,s.getNativeAssetForChainId)(t),a=(0,A.toBridgeToken)(r);return a?{...a,chainId:(0,s.formatChainIdToCaip)(t)}:a}),j=(n.getToToken=(0,i.createSelector)([$,F,e=>e.bridge.toToken],(e,t,n)=>{if(!t||!e)return null;if(n)return n;const r=(0,A.getDefaultToToken)((0,s.formatChainIdToCaip)(t.chainId),e);return r?(0,A.toBridgeToken)(r):null}),e=>e.bridge.fromTokenInputValue);n.getFromAmount=j;const G=n.getAccountGroupNameByInternalAccount=(0,i.createSelector)([C.getAllAccountGroups,(e,t)=>t],(e,t)=>{var n,s;return null!=t&&t.id?(null===(n=e.find(({accounts:e})=>e.includes(t.id)))||void 0===n?void 0:n.metadata.name)??(null==t||null===(s=t.metadata)||void 0===s?void 0:s.name):null}),W=n.getFromAccount=(0,i.createSelector)([e=>{var t;return null===(t=x(e))||void 0===t?void 0:t.chainId},e=>e,w.getSelectedInternalAccount],(e,t,n)=>e?(0,C.getInternalAccountBySelectedAccountGroupAndCaip)(t,(0,s.formatChainIdToCaip)(e))??n:null),H=(n.getToAccounts=(0,i.createSelector)([F,C.getWalletsWithAccounts,e=>e],(e,t,n)=>{if(!e)return[];return(0,w.getInternalAccountsByScope)(n,(0,s.formatChainIdToCaip)(e.chainId)).map(e=>{var s,r,a;return{...e,isExternal:!1,walletName:"mnemonic"===(null===(s=e.options.entropy)||void 0===s?void 0:s.type)?null===(r=t[`entropy:${e.options.entropy.id}`])||void 0===r?void 0:r.metadata.name:null===(a=t[`keyring:${e.metadata.keyring.type}`])||void 0===a?void 0:a.metadata.name,displayName:G(n,e)??e.metadata.name??e.address}})}),(0,i.createSelector)([x,e=>e.bridge.fromNativeBalance,h.getMultichainBalances,e=>{var t;return null===(t=W(e))||void 0===t?void 0:t.id}],(e,t,n,r)=>{if(!e||!r)return null;const{chainId:a}=e,{decimals:i,address:o,assetId:c}=(0,s.getNativeAssetForChainId)(a);if((0,A.isNonEvmChain)(a)){var u;const e=E(a,o,c);return(null==n||null===(u=n[r])||void 0===u||null===(u=u[e])||void 0===u?void 0:u.amount)??null}return t?b.Numeric.from(t,10).shiftedBy(i).toString():null})),K=n.getFromTokenBalance=(0,i.createSelector)([$,x,e=>e.bridge.fromTokenBalance,h.getMultichainBalances,W],(e,t,n,s,r)=>{if(!e||!t||!r)return null;const{id:a}=r,{chainId:i,decimals:o,address:c,assetId:u}=e;if((0,A.isNonEvmChain)(i)){var l;const t=E(i,c,u);return(null==s||null===(l=s[a])||void 0===l||null===(l=l[t])||void 0===l?void 0:l.amount)??e.balance??null}return n?b.Numeric.from(n,10).shiftedBy(o).toString():null});n.getSlippage=e=>e.bridge.slippage;const Y=e=>{const{quoteRequest:t}=e.metamask;return t};n.getQuoteRequest=Y;n.getQuoteRefreshRate=(0,i.createSelector)([O,x],(e,t)=>{var n;return(t&&(null===(n=e.chains[(0,s.formatChainIdToCaip)(t.chainId)])||void 0===n?void 0:n.refreshRate))??e.refreshRate});n.getBridgeSortOrder=e=>e.bridge.sortOrder;const V=n.getFromTokenConversionRate=(0,i.createSelector)([x,e=>e.metamask.marketData,g.getAssetsRates,$,h.getMultichainCoinRates,e=>e.metamask.currencyRates,e=>e.bridge.fromTokenExchangeRate],(e,t,n,r,a,i,o)=>{if(null!=e&&e.chainId&&r){var c,u,l,d,m,p,h,g,f;const v=null===(c=(0,s.getNativeAssetForChainId)(e.chainId))||void 0===c?void 0:c.assetId,T=(0,S.toAssetId)(r.address,(0,s.formatChainIdToCaip)(e.chainId)),k=(0,A.isNonEvmChain)(e.chainId)?Number((null==a||null===(u=a[null===(l=e.nativeCurrency)||void 0===l?void 0:l.toLowerCase()])||void 0===u?void 0:u.conversionRate)??(null==n||null===(d=n[v])||void 0===d?void 0:d.rate)??null):(null===(m=i[e.nativeCurrency])||void 0===m?void 0:m.conversionRate)??null,w=(0,A.isNonEvmChain)(e.chainId)?Number((null==a||null===(p=a[null===(h=e.nativeCurrency)||void 0===h?void 0:h.toLowerCase()])||void 0===p?void 0:p.usdConversionRate)??(null==n||null===(g=n[v])||void 0===g?void 0:g.rate)??null):(null===(f=i[e.nativeCurrency])||void 0===f?void 0:f.usdConversionRate)??null;if((0,s.isNativeAddress)(r.address))return{valueInCurrency:k,usd:w};if((0,A.isNonEvmChain)(e.chainId)&&v&&T){var y,b;const e=Number((null==n||null===(y=n[v])||void 0===y?void 0:y.rate)??null),t=(0,A.tokenPriceInNativeAsset)(Number((null==n||null===(b=n[T])||void 0===b?void 0:b.rate)??o??null),e);return(0,A.exchangeRatesFromNativeAndCurrencyRates)(t,Number(k),Number(w))}const _=(0,A.exchangeRateFromMarketData)(e.chainId,r.address,t)??(0,A.tokenPriceInNativeAsset)(o,k);return(0,A.exchangeRatesFromNativeAndCurrencyRates)(_,k,w)}return(0,A.exchangeRatesFromNativeAndCurrencyRates)()});n.getIsQuoteExpired=({metamask:e},t)=>(0,s.selectIsQuoteExpired)(e,{},t);const q=n.getBridgeQuotes=(0,i.createSelector)([({metamask:e})=>e,({bridge:{sortOrder:e}})=>e,({bridge:{selectedQuote:e}})=>e],(e,t,n)=>(0,s.selectBridgeQuotes)(e,{sortOrder:t,selectedQuote:n})),z=(n.getIsSwap=(0,m.createDeepEqualSelector)(Y,({srcChainId:e,destChainId:t})=>Boolean(e&&t&&(0,s.formatChainIdToCaip)(e)===(0,s.formatChainIdToCaip)(t))),n.getValidatedFromValue=(0,i.createSelector)([$,j],(e,t)=>t&&null!=e&&e.decimals?(0,T.calcTokenValue)((0,k.safeAmountForCalc)(t),e.decimals).toFixed().split(".")[0]:undefined)),Q=(0,i.createSelector)([$,z],(e,t)=>t&&null!=e&&e.decimals?(0,c.calcTokenAmount)(t,Number(e.decimals)).toString():undefined),X=(n.getFromAmountInCurrency=(0,i.createSelector)([$,x,Q,V],(e,t,n,{valueInCurrency:s,usd:r})=>null!=e&&e.symbol&&null!=t&&t.chainId&&n&&s?{valueInCurrency:new o.BigNumber(n).mul(new o.BigNumber(s.toString()??1)),usd:new o.BigNumber(n).mul(new o.BigNumber((null==r?void 0:r.toString())??1))}:{valueInCurrency:new o.BigNumber(0),usd:new o.BigNumber(0)}),e=>e.bridge.txAlert);n.getTxAlerts=X;const Z=n.getValidationErrors=(0,m.createDeepEqualSelector)([q,Q,$,j,({metamask:e})=>(0,s.selectMinimumBalanceForRentExemptionInSOL)(e),Y,X,H,K],({activeQuote:e,quotesLastFetchedMs:t,isLoading:n,quotesRefreshCount:r},a,i,c,u,l,d,m,p)=>{var h,g,f;const{gasIncluded:S,gasIncluded7702:y,gasSponsored:b}=(null==e?void 0:e.quote)??{},v=y||S||b,T=l.srcChainId??(null==e||null===(h=e.quote)||void 0===h?void 0:h.srcChainId),k=T&&(0,s.isSolanaChainId)(T)?u:"0";return{isTxAlertPresent:Boolean(d),isNoQuotesAvailable:Boolean(!e&&(0,s.isValidQuoteRequest)(l)&&t&&!n&&r>0),isInsufficientGasBalance:Boolean(m&&!e&&a&&i&&!v&&((0,s.isNativeAddress)(i.address)?new o.BigNumber(m).sub(k).lte(a):new o.BigNumber(m).lte(0))),isInsufficientGasForQuote:Boolean(m&&e&&i&&c&&!v&&((0,s.isNativeAddress)(i.address)?new o.BigNumber(m).sub(e.totalNetworkFee.amount).sub(e.sentAmount.amount).sub(k).lte(0):new o.BigNumber(m).lte(e.totalNetworkFee.amount))),isInsufficientBalance:!(!a||!p||isNaN(Number(p)))&&new o.BigNumber(p).lt(a),isEstimatedReturnLow:!!(null!=e&&null!==(g=e.sentAmount)&&void 0!==g&&g.valueInCurrency&&null!=e&&null!==(f=e.adjustedReturn)&&void 0!==f&&f.valueInCurrency&&c)&&new o.BigNumber(e.adjustedReturn.valueInCurrency).lt(new o.BigNumber(1-s.BRIDGE_QUOTE_MAX_RETURN_DIFFERENCE_PERCENTAGE).times(e.sentAmount.valueInCurrency))}});n.getWarningLabels=(0,i.createSelector)([Z],({isEstimatedReturnLow:e,isNoQuotesAvailable:t,isInsufficientGasBalance:n,isInsufficientGasForQuote:s,isInsufficientBalance:r})=>{const a=[];return e&&a.push("low_return"),t&&a.push("no_quotes"),n&&a.push("insufficient_gas_balance"),s&&a.push("insufficient_gas_for_selected_quote"),r&&a.push("insufficient_balance"),a});n.getWasTxDeclined=e=>e.bridge.wasTxDeclined;n.needsSolanaAccountForDestination=(0,m.createDeepEqualSelector)([F,e=>M(e)],(e,t)=>{if(!e)return!1;return(0,s.isSolanaChainId)(e.chainId)&&!t}),n.needsBitcoinAccountForDestination=(0,m.createDeepEqualSelector)([F,e=>N(e)],(e,t)=>{if(!e)return!1;return(0,s.isBitcoinChainId)(e.chainId)&&!t}),n.needsTronAccountForDestination=(0,m.createDeepEqualSelector)([F,e=>P(e)],(e,t)=>{if(!e)return!1;return(0,A.isTronChainId)(e.chainId)&&!t}),n.getIsToOrFromNonEvm=(0,i.createSelector)([x,F],(e,t)=>{if(null==e||!e.chainId||null==t||!t.chainId)return!1;const n=(0,s.formatChainIdToCaip)(e.chainId),r=(0,s.formatChainIdToCaip)(t.chainId),{namespace:a}=(0,u.parseCaipChainId)(n),{namespace:i}=(0,u.parseCaipChainId)(r);return a!==i}),n.getIsSolanaSwap=(0,i.createSelector)([x,F],(e,t)=>{if(null==e||!e.chainId||null==t||!t.chainId)return!1;const n=(0,s.isSolanaChainId)(e.chainId),r=(0,s.isSolanaChainId)(t.chainId);return n&&r});n.getHardwareWalletName=e=>{switch((0,l.getHardwareWalletType)(e)){case f.HardwareKeyringType.ledger:return f.HardwareKeyringNames.ledger;case f.HardwareKeyringType.trezor:return f.HardwareKeyringNames.trezor;case f.HardwareKeyringType.lattice:return f.HardwareKeyringNames.lattice;case f.HardwareKeyringType.oneKey:return f.HardwareKeyringNames.oneKey;default:return undefined}};n.selectNoFeeAssets=(0,i.createSelector)([O,(e,t)=>t],(e,t)=>{var n;if(!t)return[];const r=(0,s.formatChainIdToCaip)(t);return(null==e||null===(n=e.chains)||void 0===n||null===(n=n[r])||void 0===n?void 0:n.noFeeAssets)??[]});const J=(0,i.createSelector)([e=>{var t;return null===(t=x(e))||void 0===t?void 0:t.chainId},(e,t)=>t],(e,t)=>!!e&&t),ee=n.getIsStxEnabled=(0,i.createSelector)([e=>{var t;return null===(t=x(e))||void 0===t?void 0:t.chainId},e=>e],(e,t)=>(0,v.getIsSmartTransaction)(t,e));n.getIsGasIncluded=(0,i.createSelector)([ee,J],(e,t)=>e&&t)}}},{package:"$root$",file:"ui/ducks/bridge/selectors.ts"}],[7024,{"../../../shared/constants/bridge":5755,"../../../shared/constants/multichain/assets":5770,"../../../shared/constants/multichain/networks":5771,"../../../shared/constants/network":5772,"../../../shared/lib/asset-utils":5802,"../../../shared/modules/Numeric":5882,"../../../shared/modules/conversion.utils":5887,"../../pages/confirmations/utils/network":7745,"../../pages/swaps/swaps.util":8012,"@metamask/bridge-controller":1318,"@metamask/controller-utils":1384,"@metamask/utils":3070,"bignumber.js":3926},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNetworkAdded=n.getTxGasEstimates=n.getTokenExchangeRate=n.getNativeTokenName=n.getHexMaxGasLimit=n.getDefaultToToken=n.exchangeRatesFromNativeAndCurrencyRates=n.exchangeRateFromMarketData=n.bpsToPercentage=void 0,Object.defineProperty(n,"isNonEvmChain",{enumerable:!0,get:function(){return a.isNonEvmChainId}}),Object.defineProperty(n,"isTronChainId",{enumerable:!0,get:function(){return g.isTronChainId}}),n.tokenPriceInNativeAsset=n.tokenAmountToCurrency=n.toBridgeToken=n.isTronEnergyOrBandwidthResource=void 0;var s=e("@metamask/utils"),r=e("bignumber.js"),a=e("@metamask/bridge-controller"),i=e("@metamask/controller-utils"),o=e("../../../shared/modules/conversion.utils"),c=e("../../../shared/modules/Numeric"),u=e("../../pages/swaps/swaps.util"),l=e("../../../shared/lib/asset-utils"),d=e("../../../shared/constants/bridge"),m=e("../../../shared/constants/network"),p=e("../../../shared/constants/multichain/networks"),h=e("../../../shared/constants/multichain/assets"),g=e("../../pages/confirmations/utils/network");n.isTronEnergyOrBandwidthResource=(e,t)=>{var n;return Boolean(null==e||null===(n=e.toString())||void 0===n?void 0:n.includes("tron:"))&&h.TRON_RESOURCE_SYMBOLS_SET.has(null==t?void 0:t.toLowerCase())};n.getNativeTokenName=e=>{try{var t;return null===(t=(0,a.getNativeAssetForChainId)(e))||void 0===t?void 0:t.name}catch{return undefined}};n.getHexMaxGasLimit=e=>new c.Numeric(new r.BigNumber(e).toString(),10).toPrefixedHexString();n.bpsToPercentage=e=>{if(e===undefined||null===e)return undefined;const t="string"==typeof e?parseFloat(e):e;return isNaN(t)?undefined:(t/100).toString()};n.getTxGasEstimates=async({networkAndAccountSupports1559:e,networkGasFeeEstimates:t,txParams:n,hexChainId:s})=>{if(e){var r;const{estimatedBaseFee:e="0"}=t,a=(0,o.decGWEIToHexWEI)(e);return await(0,u.getTransaction1559GasFeeEstimates)({...n,chainId:s,gasLimit:null===(r=n.gasLimit)||void 0===r?void 0:r.toString()},a,s)}return{baseAndPriorityFeePerGas:undefined,maxFeePerGas:undefined,maxPriorityFeePerGas:undefined}};n.getTokenExchangeRate=async e=>{const{chainId:t,tokenAddress:n,currency:s,signal:r}=e,o=await(async(e,t,n,...s)=>{const r=s.map(t=>(0,l.toAssetId)(t,(0,a.formatChainIdToCaip)(e))).filter(Boolean);if(0===r.length)return{};const o=`https://price.api.cx.metamask.io/v3/spot-prices?${new URLSearchParams({assetIds:r.join(","),includeMarketData:"true",vsCurrency:t})}`,c=await(0,i.handleFetch)(o,{method:"GET",headers:{"X-Client-Id":a.BridgeClientId.EXTENSION},signal:n});return Object.entries(c).reduce((e,[t,n])=>(e[t]=n.price,e),{})})(t,s,r,n),c=(0,l.toAssetId)(n,(0,a.formatChainIdToCaip)(t));return c?null==o?void 0:o[c]:undefined};n.exchangeRateFromMarketData=(e,t,n)=>{var r;return(0,s.isStrictHexString)(t)&&(0,s.isStrictHexString)(e)?null==n||null===(r=n[e])||void 0===r||null===(r=r[t])||void 0===r?void 0:r.price:undefined};n.tokenAmountToCurrency=(e,t)=>new c.Numeric(e,10).applyConversionRate(new r.BigNumber(t.toString(),10)).toNumber();n.tokenPriceInNativeAsset=(e,t)=>e&&t?e/t:null;n.exchangeRatesFromNativeAndCurrencyRates=(e,t,n)=>({valueInCurrency:e&&t?e*t:null,usd:e&&n?e*n:null});n.isNetworkAdded=(e,t)=>e.some(e=>e.chainId===t);const f=e=>{if(!e)return"";const{image:t,iconUrl:n,icon:s,chainId:r,address:i,assetId:o}=e,c=(0,a.formatChainIdToCaip)(r);if((0,a.isNativeAddress)(i))return(0,a.isNonEvmChainId)(r)?p.MULTICHAIN_TOKEN_IMAGE_MAP[c]:m.CHAIN_ID_TOKEN_IMAGE_MAP[(0,a.formatChainIdToHex)(r)];const u=t??n??s;if(u)return u;const d=o??(0,l.toAssetId)(i,c);return(d&&(0,l.getAssetImageUrl)(d,c))??""},S=e=>{if(!e)return null;const t=(0,a.formatChainIdToCaip)(e.chainId);return{...e,balance:e.balance??"0",chainId:e.chainId,image:f(e),assetId:e.assetId??(0,l.toAssetId)(e.address,t)}};n.toBridgeToken=S;const y=(e,t)=>{const{assetId:n,...s}=e;return S({...s,chainId:t})};n.getDefaultToToken=(e,t)=>{const n=d.BRIDGE_CHAINID_COMMON_TOKEN_PAIR[e];if(n){var s;if(t.chainId&&(0,a.isBitcoinChainId)(t.chainId)){const t=(0,a.getNativeAssetForChainId)(e);if(t)return y(t,e)}if((0,a.isNativeAddress)(t.address))return y(n,e);if((null===(s=t.address)||void 0===s?void 0:s.toLowerCase())===n.address.toLowerCase()){const t=(0,a.getNativeAssetForChainId)(e);if(t)return y(t,e)}return y(n,e)}const r=(0,a.getNativeAssetForChainId)(e);return r?y(r,e):null}}}},{package:"$root$",file:"ui/ducks/bridge/utils.ts"}],[7025,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.clearAlerts=function(e){return{type:"CLEAR_ALERTS",ownerId:e}},n.default=function(e=s,t){if(t.ownerId===undefined)return e;switch(t.type){case"UPDATE_ALERTS":return{...e,alerts:{...e.alerts,[t.ownerId]:t.alerts}};case"SET_ALERT_CONFIRMED":return{...e,confirmed:{...e.confirmed,[t.ownerId]:{...e.confirmed[t.ownerId],[t.alertKey]:t.isConfirmed}}};case"CLEAR_ALERTS":return{...e,alerts:{...e.alerts,[t.ownerId]:[]},confirmed:{...e.confirmed,[t.ownerId]:{}}};default:return e}},n.setAlertConfirmed=function(e,t,n){return{type:"SET_ALERT_CONFIRMED",ownerId:e,alertKey:t,isConfirmed:n}},n.updateAlerts=function(e,t){return{type:"UPDATE_ALERTS",alerts:t,ownerId:e}};const s={alerts:{},confirmed:{}}}}},{package:"$root$",file:"ui/ducks/confirm-alerts/confirm-alerts.ts"}],[7030,{"../../helpers/constants/routes":7054,"@reduxjs/toolkit":3142},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setRedirectAfterDefaultPage=n.pageChanged=n.getRedirectAfterDefaultPage=n.getMostRecentOverviewPage=n.default=n.clearRedirectAfterDefaultPage=void 0;var s=e("@reduxjs/toolkit"),r=e("../../helpers/constants/routes");const a={mostRecentOverviewPage:r.DEFAULT_ROUTE,redirectAfterDefaultPage:null},i="history",o=(0,s.createSlice)({name:i,initialState:a,reducers:{pageChanged:(e,t)=>{const n=t.payload;var s;(n===r.DEFAULT_ROUTE||n.startsWith(r.ASSET_ROUTE))&&(e.mostRecentOverviewPage=n,n===r.DEFAULT_ROUTE&&null!==(s=e.redirectAfterDefaultPage)&&void 0!==s&&s.shouldRedirect&&(e.redirectAfterDefaultPage.shouldRedirect=!1))},setRedirectAfterDefaultPage:(e,t)=>{const{path:n,address:s}=t.payload;e.redirectAfterDefaultPage={path:n,shouldRedirect:!0,address:s}},clearRedirectAfterDefaultPage:e=>{e.redirectAfterDefaultPage=null}}}),{actions:c,reducer:u}=o;n.default=u;n.getMostRecentOverviewPage=e=>e[i].mostRecentOverviewPage;n.getRedirectAfterDefaultPage=e=>e[i].redirectAfterDefaultPage;const{pageChanged:l,setRedirectAfterDefaultPage:d,clearRedirectAfterDefaultPage:m}=c;n.clearRedirectAfterDefaultPage=m,n.setRedirectAfterDefaultPage=d,n.pageChanged=l}}},{package:"$root$",file:"ui/ducks/history/history.js"}],[7031,{"../../shared/constants/alerts":5751,"./alerts":7015,"./app/app":7018,"./bridge/bridge":7022,"./confirm-alerts/confirm-alerts":7025,"./confirm-transaction/confirm-transaction.duck":7026,"./domains":7027,"./gas/gas.duck":7029,"./history/history":7030,"./locale/locale":7032,"./metamask/metamask":7033,"./ramps/ramps":7036,"./rewards":7037,"./send/send":7042,"./smart-accounts/smart-accounts":7044,"./swaps/swaps":7045,redux:5273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("redux"),r=e("../../shared/constants/alerts"),a=v(e("./metamask/metamask")),i=v(e("./locale/locale")),o=v(e("./send/send")),c=v(e("./domains")),u=v(e("./app/app")),l=v(e("./confirm-transaction/confirm-transaction.duck")),d=v(e("./gas/gas.duck")),m=e("./alerts"),p=v(e("./swaps/swaps")),h=v(e("./bridge/bridge")),g=v(e("./history/history")),f=v(e("./ramps/ramps")),S=v(e("./confirm-alerts/confirm-alerts")),y=v(e("./smart-accounts/smart-accounts")),b=v(e("./rewards"));function v(e){return e&&e.__esModule?e:{default:e}}n.default=(0,s.combineReducers)({[r.AlertTypes.invalidCustomNetwork]:m.invalidCustomNetwork,[r.AlertTypes.unconnectedAccount]:m.unconnectedAccount,activeTab:e=>e===undefined?null:e,metamask:a.default,appState:u.default,DNS:c.default,history:g.default,send:o.default,confirmAlerts:S.default,confirmTransaction:l.default,swaps:p.default,ramps:f.default,bridge:h.default,gas:d.default,localeMessages:i.default,smartAccounts:y.default,rewards:b.default})}}},{package:"$root$",file:"ui/ducks/index.js"}],[7034,{"../../../shared/constants/bridge":5755,"../../../shared/constants/multichain/networks":5771,"../../../shared/constants/network":5772},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultBuyableChains=void 0;var s=e("../../../shared/constants/bridge"),r=e("../../../shared/constants/multichain/networks"),a=e("../../../shared/constants/network");n.defaultBuyableChains=[{active:!0,chainId:r.MultichainNetworks.BITCOIN,chainName:r.MULTICHAIN_NETWORK_TO_NICKNAME[r.MultichainNetworks.BITCOIN],shortName:s.NETWORK_TO_SHORT_NETWORK_NAME_MAP[r.MultichainNetworks.BITCOIN],nativeTokenSupported:!0},{active:!0,chainId:r.MultichainNetworks.SOLANA,chainName:r.MULTICHAIN_NETWORK_TO_NICKNAME[r.MultichainNetworks.SOLANA],shortName:s.NETWORK_TO_SHORT_NETWORK_NAME_MAP[r.MultichainNetworks.SOLANA],nativeTokenSupported:!0},{active:!0,chainId:1,chainName:a.MAINNET_DISPLAY_NAME,shortName:"Ethereum",nativeTokenSupported:!0},{active:!0,chainId:10,chainName:a.OPTIMISM_DISPLAY_NAME,shortName:"Optimism",nativeTokenSupported:!0},{active:!0,chainId:25,chainName:"Cronos Mainnet",shortName:"Cronos",nativeTokenSupported:!0},{active:!0,chainId:56,chainName:a.BNB_DISPLAY_NAME,shortName:"BNB Chain",nativeTokenSupported:!0},{active:!0,chainId:100,chainName:"Gnosis Mainnet",shortName:"Gnosis",nativeTokenSupported:!0},{active:!0,chainId:137,chainName:a.POLYGON_DISPLAY_NAME,shortName:"Polygon",nativeTokenSupported:!0},{active:!0,chainId:250,chainName:"Fantom Mainnet",shortName:"Fantom",nativeTokenSupported:!0},{active:!0,chainId:324,chainName:a.ZK_SYNC_ERA_DISPLAY_NAME,shortName:"zkSync Era",nativeTokenSupported:!0},{active:!0,chainId:1101,chainName:"Polygon zkEVM",shortName:"Polygon zkEVM",nativeTokenSupported:!0},{active:!0,chainId:1284,chainName:"Moonbeam Mainnet",shortName:"Moonbeam",nativeTokenSupported:!0},{active:!0,chainId:1285,chainName:"Moonriver Mainnet",shortName:"Moonriver",nativeTokenSupported:!0},{active:!0,chainId:8453,chainName:a.BASE_DISPLAY_NAME,shortName:"Base",nativeTokenSupported:!0},{active:!0,chainId:42161,chainName:a.ARBITRUM_DISPLAY_NAME,shortName:"Arbitrum",nativeTokenSupported:!0},{active:!0,chainId:42220,chainName:a.CELO_DISPLAY_NAME,shortName:"Celo",nativeTokenSupported:!1},{active:!0,chainId:43114,chainName:a.AVALANCHE_DISPLAY_NAME,shortName:"Avalanche C-Chain",nativeTokenSupported:!0},{active:!0,chainId:59144,chainName:a.LINEA_MAINNET_DISPLAY_NAME,shortName:"Linea",nativeTokenSupported:!0},{active:!0,chainId:1313161554,chainName:"Aurora Mainnet",shortName:"Aurora",nativeTokenSupported:!1},{active:!0,chainId:16666e5,chainName:"Harmony Mainnet (Shard 0)",shortName:"Harmony (Shard 0)",nativeTokenSupported:!0},{active:!0,chainId:11297108109,chainName:"Palm Mainnet",shortName:"Palm",nativeTokenSupported:!1}]}}},{package:"$root$",file:"ui/ducks/ramps/constants.ts"}],[7035,{"./ramps":7036},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./ramps");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/ducks/ramps/index.ts"}],[7036,{"../../../shared/constants/multichain/networks":5771,"../../../shared/modules/conversion.utils":5887,"../../../shared/modules/selectors/networks":5908,"../../helpers/ramps/rampApi/rampAPI":7073,"../../selectors":8035,"../../selectors/multichain":8044,"./constants":7034,"@reduxjs/toolkit":3142,reselect:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsSolanaBuyable=n.getIsNativeTokenBuyable=n.getIsBitcoinBuyable=n.getBuyableChains=n.fetchBuyableChains=n.default=void 0;var s,r=e("reselect"),a=e("@reduxjs/toolkit"),i=e("../../../shared/modules/selectors/networks"),o=e("../../selectors"),c=(s=e("../../helpers/ramps/rampApi/rampAPI"))&&s.__esModule?s:{default:s},u=e("../../../shared/modules/conversion.utils"),l=e("../../selectors/multichain"),d=e("../../../shared/constants/multichain/networks"),m=e("./constants");const p=n.fetchBuyableChains=(0,a.createAsyncThunk)("ramps/fetchBuyableChains",async(e,{getState:t})=>{const n=t(),{isFetched:s}=n.ramps;return(0,o.getUseExternalServices)(n)?s?n.ramps.buyableChains:await c.default.getNetworks():m.defaultBuyableChains}),h=(0,a.createSlice)({name:"ramps",initialState:{buyableChains:m.defaultBuyableChains,isFetched:!1},reducers:{setBuyableChains:(e,t)=>{Array.isArray(t.payload)&&t.payload.length>0&&t.payload.every(e=>null==e?void 0:e.chainId)?(e.buyableChains=t.payload,e.isFetched=!0):e.buyableChains=m.defaultBuyableChains}},extraReducers:e=>{e.addCase(p.fulfilled,(e,t)=>{const n=t.payload;n&&n.length>0?e.buyableChains=n:e.buyableChains=m.defaultBuyableChains,e.isFetched=!0}).addCase(p.rejected,e=>{e.buyableChains=m.defaultBuyableChains,e.isFetched=!0})}}),{reducer:g}=h,f=e=>{var t;return(null===(t=e.ramps)||void 0===t?void 0:t.buyableChains)??m.defaultBuyableChains};n.getBuyableChains=f;const S=n.getIsBitcoinBuyable=(0,r.createSelector)([f],e=>e.filter(Boolean).some(e=>e.chainId===d.MultichainNetworks.BITCOIN&&e.active)),y=n.getIsSolanaBuyable=(0,r.createSelector)([f],e=>e.filter(Boolean).some(e=>e.chainId===d.MultichainNetworks.SOLANA&&e.active));n.getIsNativeTokenBuyable=(0,r.createSelector)([i.getCurrentChainId,f,S,l.getMultichainIsBitcoin,y,l.getMultichainIsSolana],(e,t,n,s,r,a)=>{try{return s?n:a?r:t.filter(Boolean).some(t=>String(t.chainId)===(0,u.hexToDecimal)(e))}catch(e){return!1}});n.default=g}}},{package:"$root$",file:"ui/ducks/ramps/ramps.ts"}],[7037,{"./types":7039,"@reduxjs/toolkit":3142},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setSeasonStatusLoading=n.setSeasonStatusError=n.setSeasonStatus=n.setRewardsGeoMetadataLoading=n.setRewardsGeoMetadataError=n.setRewardsGeoMetadata=n.setRewardsBadgeHidden=n.setRewardsAccountLinkedTimestamp=n.setOnboardingReferralCode=n.setOnboardingModalRendered=n.setOnboardingModalOpen=n.setOnboardingActiveStep=n.setErrorToast=n.setCandidateSubscriptionId=n.resetRewardsState=n.initialState=n.default=void 0;var s=e("@reduxjs/toolkit"),r=e("./types");const a=n.initialState={onboardingModalOpen:!1,onboardingActiveStep:r.OnboardingStep.INTRO,onboardingModalRendered:!0,onboardingReferralCode:"",geoLocation:null,optinAllowedForGeo:null,optinAllowedForGeoLoading:!1,optinAllowedForGeoError:!1,candidateSubscriptionId:"pending",seasonStatus:null,seasonStatusError:null,seasonStatusLoading:!1,rewardsEnabled:!1,errorToast:{isOpen:!1,title:"",description:"",actionText:"",onActionClick:undefined},rewardsBadgeHidden:!0,accountLinkedTimestamp:null},i=(0,s.createSlice)({name:"rewards",initialState:a,reducers:{resetRewardsState:()=>({...a,errorToast:{...a.errorToast}}),setOnboardingModalOpen:(e,t)=>{e.onboardingModalOpen=t.payload},setOnboardingActiveStep:(e,t)=>{e.onboardingActiveStep=t.payload},setOnboardingModalRendered:(e,t)=>{e.onboardingModalRendered=t.payload},setOnboardingReferralCode:(e,t)=>{e.onboardingReferralCode=t.payload},setRewardsGeoMetadata:(e,t)=>{t.payload?(e.geoLocation=t.payload.geoLocation,e.optinAllowedForGeo=t.payload.optinAllowedForGeo,e.optinAllowedForGeoLoading=!1):(e.geoLocation=null,e.optinAllowedForGeo=null,e.optinAllowedForGeoLoading=!1)},setRewardsGeoMetadataLoading:(e,t)=>{e.optinAllowedForGeoLoading=t.payload},setRewardsGeoMetadataError:(e,t)=>{e.optinAllowedForGeoError=t.payload},setCandidateSubscriptionId:(e,t)=>{const n=e.candidateSubscriptionId,s=t.payload;n&&"pending"!==n&&"error"!==n&&"retry"!==n&&n!==s&&(e.seasonStatus=a.seasonStatus,e.seasonStatusError=a.seasonStatusError,e.seasonStatusLoading=a.seasonStatusLoading),e.candidateSubscriptionId=t.payload},setSeasonStatusLoading:(e,t)=>{e.seasonStatusLoading=t.payload},setSeasonStatus:(e,t)=>{e.seasonStatus=t.payload},setSeasonStatusError:(e,t)=>{e.seasonStatusError=t.payload},setErrorToast:(e,t)=>{e.errorToast=t.payload},setRewardsBadgeHidden:(e,t)=>{e.rewardsBadgeHidden=t.payload},setRewardsAccountLinkedTimestamp:(e,t)=>{e.accountLinkedTimestamp=t.payload}}}),{resetRewardsState:o,setOnboardingModalOpen:c,setOnboardingActiveStep:u,setOnboardingModalRendered:l,setOnboardingReferralCode:d,setCandidateSubscriptionId:m,setSeasonStatusLoading:p,setSeasonStatus:h,setSeasonStatusError:g,setRewardsGeoMetadata:f,setRewardsGeoMetadataLoading:S,setRewardsGeoMetadataError:y,setErrorToast:b,setRewardsBadgeHidden:v,setRewardsAccountLinkedTimestamp:T}=i.actions;n.setRewardsAccountLinkedTimestamp=T,n.setRewardsBadgeHidden=v,n.setErrorToast=b,n.setRewardsGeoMetadataError=y,n.setRewardsGeoMetadataLoading=S,n.setRewardsGeoMetadata=f,n.setSeasonStatusError=g,n.setSeasonStatus=h,n.setSeasonStatusLoading=p,n.setCandidateSubscriptionId=m,n.setOnboardingReferralCode=d,n.setOnboardingModalRendered=l,n.setOnboardingActiveStep=u,n.setOnboardingModalOpen=c,n.resetRewardsState=o;n.default=i.reducer}}},{package:"$root$",file:"ui/ducks/rewards/index.ts"}],[7038,{"../../../shared/lib/feature-flags/version-gating":5846,"../../selectors/remote-feature-flags":8049,"../../selectors/selectors":8052,reselect:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectSeasonStatusLoading=n.selectSeasonStatusError=n.selectSeasonStatus=n.selectRewardsOnboardingEnabled=n.selectRewardsEnabled=n.selectRewardsBadgeHidden=n.selectRewardsAccountLinkedTimestamp=n.selectOptinAllowedForGeoLoading=n.selectOptinAllowedForGeoError=n.selectOptinAllowedForGeo=n.selectOnboardingReferralCode=n.selectOnboardingModalRendered=n.selectOnboardingModalOpen=n.selectOnboardingActiveStep=n.selectErrorToast=n.selectCandidateSubscriptionId=void 0;var s=e("reselect"),r=e("../../selectors/remote-feature-flags"),a=e("../../selectors/selectors"),i=e("../../../shared/lib/feature-flags/version-gating");n.selectOnboardingModalOpen=e=>e.rewards.onboardingModalOpen;n.selectOnboardingActiveStep=e=>e.rewards.onboardingActiveStep;n.selectOnboardingModalRendered=e=>e.rewards.onboardingModalRendered;n.selectOnboardingReferralCode=e=>e.rewards.onboardingReferralCode;n.selectOptinAllowedForGeo=e=>e.rewards.optinAllowedForGeo;n.selectOptinAllowedForGeoLoading=e=>e.rewards.optinAllowedForGeoLoading;n.selectOptinAllowedForGeoError=e=>e.rewards.optinAllowedForGeoError;n.selectCandidateSubscriptionId=e=>e.rewards.candidateSubscriptionId;n.selectSeasonStatusLoading=e=>e.rewards.seasonStatusLoading;n.selectSeasonStatus=e=>e.rewards.seasonStatus;n.selectSeasonStatusError=e=>e.rewards.seasonStatusError;n.selectRewardsEnabled=(0,s.createSelector)(r.getRemoteFeatureFlags,a.getUseExternalServices,(e,t)=>{const n=null==e?void 0:e.rewardsEnabled;var s;return("boolean"==typeof(s=n)?s:Boolean((0,i.validatedVersionGatedFeatureFlag)(s)))&&Boolean(t)}),n.selectRewardsOnboardingEnabled=(0,s.createSelector)(r.getRemoteFeatureFlags,a.getUseExternalServices,(e,t)=>{const n=null==e?void 0:e.rewardsOnboardingEnabled;var s;return("boolean"==typeof(s=n)?s:Boolean((0,i.validatedVersionGatedFeatureFlag)(s)))&&Boolean(t)});n.selectErrorToast=e=>e.rewards.errorToast;n.selectRewardsBadgeHidden=e=>e.rewards.rewardsBadgeHidden;n.selectRewardsAccountLinkedTimestamp=e=>{var t;return(null===(t=e.rewards)||void 0===t?void 0:t.accountLinkedTimestamp)??null}}}},{package:"$root$",file:"ui/ducks/rewards/selectors.ts"}],[7039,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnboardingStep=void 0;n.OnboardingStep=function(e){return e.INTRO="INTRO",e.STEP1="STEP_1",e.STEP2="STEP_2",e.STEP3="STEP_3",e.STEP4="STEP_4",e}({})}}},{package:"$root$",file:"ui/ducks/rewards/types.ts"}],[7044,{"@reduxjs/toolkit":3142},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setToggleState=n.selectToggleState=n.default=void 0;const s=(0,e("@reduxjs/toolkit").createSlice)({name:"smartAccounts",initialState:{toggleStates:{}},reducers:{setToggleState:(e,t)=>{const{address:n,chainId:s,value:r}=t.payload;e.toggleStates[n]||(e.toggleStates[n]={}),null===r?(delete e.toggleStates[n][s],0===Object.keys(e.toggleStates[n]).length&&delete e.toggleStates[n]):e.toggleStates[n][s]=r}}}),{setToggleState:r}=s.actions;n.setToggleState=r;n.selectToggleState=(e,t,n)=>{var s;return(null===(s=e.smartAccounts.toggleStates[t])||void 0===s?void 0:s[n])??null};n.default=s.reducer}}},{package:"$root$",file:"ui/ducks/smart-accounts/smart-accounts.ts"}],[7046,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=[{code:"aud",name:"Australian Dollar"},{code:"hkd",name:"Hong Kong Dollar"},{code:"sgd",name:"Singapore Dollar"},{code:"idr",name:"Indonesian Rupiah"},{code:"inr",name:"Indian Rupee"},{code:"nzd",name:"New Zealand Dollar"},{code:"php",name:"Philippine Peso"},{code:"btc",name:"Bitcoin"},{code:"cad",name:"Canadian Dollar"},{code:"eur",name:"Euro"},{code:"gbp",name:"Pound Sterling"},{code:"jpy",name:"Japanese Yen"},{code:"ltc",name:"Litecoin"},{code:"rub",name:"Russian Ruble"},{code:"uah",name:"Ukrainian Hryvnia"},{code:"usd",name:"United States Dollar"},{code:"xlm",name:"Stellar Lumen"},{code:"xrp",name:"Ripple"},{code:"sek",name:"Swedish Krona"},{code:"aed",name:"United Arab Emirates Dirham"},{code:"ars",name:"Argentine Peso"},{code:"bch",name:"Bitcoin Cash"},{code:"bnb",name:"Binance Coin"},{code:"brl",name:"Brazilian Real"},{code:"clp",name:"Chilean Peso"},{code:"cny",name:"Chinese Yuan"},{code:"czk",name:"Czech Koruna"},{code:"dkk",name:"Danish Krone"},{code:"chf",name:"Swiss Franc"},{code:"dot",name:"Polkadot"},{code:"eos",name:"EOS"},{code:"eth",name:"Ethereum"},{code:"gel",name:"Georgian Lari"},{code:"huf",name:"Hungarian Forint"},{code:"ils",name:"Israeli Shekel"},{code:"krw",name:"South Korean Won"},{code:"mxn",name:"Mexican Peso"},{code:"myr",name:"Malaysian Ringgit"},{code:"ngn",name:"Nigerian Naira"},{code:"nok",name:"Norwegian Krone"},{code:"pln",name:"Polish Zloty"},{code:"thb",name:"Thai Baht"},{code:"try",name:"Turkish Lira"},{code:"zar",name:"South African Rand"}]}}},{package:"$root$",file:"ui/helpers/constants/available-conversions.json"}],[7048,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.STATUS_NOT_CONNECTED=n.STATUS_CONNECTED_TO_SNAP=n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT=n.STATUS_CONNECTED=void 0;n.STATUS_CONNECTED="STATUS_CONNECTED",n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT="STATUS_CONNECTED_TO_ANOTHER_ACCOUNT",n.STATUS_NOT_CONNECTED="STATUS_NOT_CONNECTED",n.STATUS_CONNECTED_TO_SNAP="STATUS_CONNECTED_TO_SNAP"}}},{package:"$root$",file:"ui/helpers/constants/connected-sites.js"}],[7051,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PRIORITY_LEVEL_ICON_MAP=n.GAS_FORM_ERRORS=void 0,n.getGasFormErrorText=function(e,t,{minimumGasLimit:n}={}){switch(e){case s.GAS_LIMIT_OUT_OF_BOUNDS:return t("editGasLimitOutOfBounds",[n]);case s.MAX_PRIORITY_FEE_TOO_LOW:return t("editGasMaxPriorityFeeLow");case s.MAX_FEE_TOO_LOW:return t("editGasMaxFeeLow");case s.MAX_PRIORITY_FEE_BELOW_MINIMUM:return t("editGasMaxPriorityFeeBelowMinimum");case s.MAX_PRIORITY_FEE_HIGH_WARNING:return t("editGasMaxPriorityFeeHigh");case s.MAX_FEE_HIGH_WARNING:return t("editGasMaxFeeHigh");case s.MAX_FEE_IMBALANCE:return t("editGasMaxFeePriorityImbalance");case s.GAS_PRICE_TOO_LOW:return t("editGasPriceTooLow");default:return""}};const s=n.GAS_FORM_ERRORS={GAS_LIMIT_OUT_OF_BOUNDS:"editGasLimitOutOfBounds",MAX_PRIORITY_FEE_TOO_LOW:"editGasMaxPriorityFeeLow",MAX_FEE_TOO_LOW:"editGasMaxFeeLow",MAX_PRIORITY_FEE_BELOW_MINIMUM:"editGasMaxPriorityFeeBelowMinimum",MAX_PRIORITY_FEE_HIGH_WARNING:"editGasMaxPriorityFeeHigh",MAX_FEE_HIGH_WARNING:"editGasMaxFeeHigh",MAX_FEE_IMBALANCE:"editGasMaxFeeImbalance",GAS_PRICE_TOO_LOW:"editGasPriceTooLow"};n.PRIORITY_LEVEL_ICON_MAP={low:"ðŸ¢",medium:"ðŸ¦Š",high:"ðŸ¦",dappSuggested:"ðŸŒ",dappSuggestedHigh:"ðŸŒ",swapSuggested:"ðŸ”„",tenPercentIncreased:"â¬†",custom:"âš™ï¸"}}}},{package:"$root$",file:"ui/helpers/constants/gas.js"}],[7053,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PRIVACY_POLICY_DATE=void 0;n.PRIVACY_POLICY_DATE="2024-06-18T12:00:00Z"}}},{package:"$root$",file:"ui/helpers/constants/privacy-policy.ts"}],[7055,{"../../../shared/constants/app":5753,"../../../shared/modules/browser-runtime.utils":5884,"../../components/component-library":6486,"./routes":7054},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("../../../shared/constants/app"),r=e("../../../shared/modules/browser-runtime.utils"),a=e("../../components/component-library"),i=e("./routes");const o=[{tabMessage:e=>e("general"),sectionMessage:e=>e("currencyConversion"),descriptionMessage:e=>e("currencyConversion"),route:`${i.GENERAL_ROUTE}#currency-conversion`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("showNativeTokenAsMainBalance"),descriptionMessage:e=>e("showNativeTokenAsMainBalance"),route:`${i.GENERAL_ROUTE}#show-native-token-as-main-balance`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("currentLanguage"),descriptionMessage:e=>e("currentLanguage"),route:`${i.GENERAL_ROUTE}#current-language`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("theme"),descriptionMessage:e=>e("themeDescription"),route:`${i.GENERAL_ROUTE}#theme`,icon:"fa fa-flask"},{tabMessage:e=>e("general"),sectionMessage:e=>e("accountIdenticon"),descriptionMessage:e=>e("accountIdenticon"),route:`${i.GENERAL_ROUTE}#account-identicon`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("hideZeroBalanceTokens"),descriptionMessage:e=>e("hideZeroBalanceTokens"),route:`${i.GENERAL_ROUTE}#zero-balancetokens`,iconName:a.IconName.Setting},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("stateLogs"),descriptionMessage:e=>e("stateLogsDescription"),route:`${i.ADVANCED_ROUTE}#state-logs`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("clearActivity"),descriptionMessage:e=>e("clearActivityDescription"),route:`${i.ADVANCED_ROUTE}#clear-activity`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("smartTransactions"),descriptionMessage:e=>e("stxOptInSupportedNetworksDescription"),route:`${i.ADVANCED_ROUTE}#smart-transactions`,icon:"fas fa-upload"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showHexData"),descriptionMessage:e=>e("showHexDataDescription"),route:`${i.ADVANCED_ROUTE}#show-hexdata`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showFiatConversionInTestnets"),descriptionMessage:e=>e("showFiatConversionInTestnetsDescription"),route:`${i.ADVANCED_ROUTE}#conversion-testnetworks`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showTestnetNetworks"),descriptionMessage:e=>e("showTestnetNetworksDescription"),route:`${i.ADVANCED_ROUTE}#show-testnets`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("autoLockTimeLimit"),descriptionMessage:e=>e("autoLockTimeLimitDescription"),route:`${i.ADVANCED_ROUTE}#autolock-timer`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showExtensionInFullSizeView"),descriptionMessage:e=>e("showExtensionInFullSizeViewDescription"),route:`${i.ADVANCED_ROUTE}#extension-full-size-view`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("dismissReminderField"),descriptionMessage:e=>e("dismissReminderDescriptionField"),route:`${i.ADVANCED_ROUTE}#dismiss-secretrecovery`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("exportYourData"),descriptionMessage:e=>e("exportYourDataDescription"),route:`${i.ADVANCED_ROUTE}#export-data`,icon:"fas fa-download"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("overrideContentSecurityPolicyHeader"),descriptionMessage:e=>e("overrideContentSecurityPolicyHeaderDescription"),route:`${i.ADVANCED_ROUTE}#override-content-security-policy-header`,icon:"fas fa-sliders-h",hidden:(0,r.getBrowserName)()!==s.PLATFORM_FIREFOX},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncEnable"),descriptionMessage:e=>e("backupAndSyncEnable"),route:`${i.BACKUPANDSYNC_ROUTE}#backup-and-sync-toggle`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncFeatureAccounts"),descriptionMessage:e=>e("backupAndSyncFeatureAccounts"),route:`${i.BACKUPANDSYNC_ROUTE}#backup-and-sync-features-toggles-account-syncing`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncFeatureContacts"),descriptionMessage:e=>e("backupAndSyncFeatureContacts"),route:`${i.BACKUPANDSYNC_ROUTE}#backup-and-sync-features-toggles-contact-syncing`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("contacts"),sectionMessage:e=>e("contacts"),descriptionMessage:e=>e("contacts"),route:i.CONTACT_LIST_ROUTE,iconName:a.IconName.Book},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("basicConfigurationLabel"),descriptionMessage:e=>e("basicConfigurationDescription"),route:`${i.SECURITY_ROUTE}#basic-functionality-toggle`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("revealSeedWords"),descriptionMessage:e=>e("revealSeedWords"),route:`${i.SECURITY_ROUTE}#reveal-secretrecovery`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("securityChangePassword"),descriptionMessage:e=>e("securityChangePassword"),route:i.SECURITY_PASSWORD_CHANGE_ROUTE,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("usePhishingDetection"),descriptionMessage:e=>e("usePhishingDetectionDescription"),route:`${i.SECURITY_ROUTE}#phishing-detection`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("skipDeepLinkInterstitial"),descriptionMessage:e=>e("skipDeepLinkInterstitialDescription"),route:`${i.SECURITY_ROUTE}#skip-deep-link-interstitial`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("use4ByteResolution"),descriptionMessage:e=>e("toggleDecodeDescription"),route:`${i.SECURITY_ROUTE}#decode-smart-contracts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("participateInMetaMetrics"),descriptionMessage:e=>e("participateInMetaMetricsDescription"),route:`${i.SECURITY_ROUTE}#metametrics`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("networkProvider"),descriptionMessage:e=>`${e("chooseYourNetwork")} ${e("chooseYourNetworkDescription")}`,route:`${i.SECURITY_ROUTE}#network-provider`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ipfsGateway"),descriptionMessage:e=>e("ipfsGatewayDescription"),route:`${i.SECURITY_ROUTE}#add-custom-ipfs-gateway`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("autoDetectTokens"),descriptionMessage:e=>e("autoDetectTokensDescription"),route:`${i.SECURITY_ROUTE}#auto-detect-tokens`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useMultiAccountBalanceChecker"),descriptionMessage:e=>e("useMultiAccountBalanceCheckerSettingDescription"),route:`${i.SECURITY_ROUTE}#batch-account-balance-requests`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("currencyRateCheckToggle"),descriptionMessage:e=>e("currencyRateCheckToggleDescription"),route:`${i.SECURITY_ROUTE}#price-checker`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ensDomainsSettingTitle"),descriptionMessage:e=>e("ensDomainsSettingDescriptionIntroduction"),route:`${i.SECURITY_ROUTE}#ens-domains`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("displayNftMedia"),descriptionMessage:e=>e("displayNftMediaDescription"),route:`${i.SECURITY_ROUTE}#display-nft-media`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useNftDetection"),descriptionMessage:e=>e("useNftDetectionDescriptionText"),route:`${i.SECURITY_ROUTE}#autodetect-nfts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useSafeChainsListValidation"),descriptionMessage:e=>e("useSafeChainsListValidationDescription"),route:`${i.SECURITY_ROUTE}#network-details-check`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("externalNameSourcesSetting"),descriptionMessage:e=>e("externalNameSourcesSettingDescription"),route:`${i.SECURITY_ROUTE}#proposed-nicknames`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("securityAlerts"),descriptionMessage:e=>e("securityAlertsDescription"),route:`${i.SECURITY_ROUTE}#security-alerts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("blockaid"),descriptionMessage:e=>e("blockaidMessage"),route:`${i.SECURITY_ROUTE}#security-alerts-blockaid`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("simulationsSettingSubHeader"),descriptionMessage:e=>e("simulationsSettingDescription"),route:`${i.SECURITY_ROUTE}#transaction-simulations`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("dataCollectionForMarketing"),descriptionMessage:e=>e("dataCollectionForMarketingDescription"),route:`${i.SECURITY_ROUTE}#dataCollectionForMarketing`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("deleteMetaMetricsData"),descriptionMessage:e=>e("deleteMetaMetricsDataDescription"),route:`${i.SECURITY_ROUTE}#delete-metametrics-data`,icon:"fa fa-lock"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("mainnet"),descriptionMessage:e=>e("mainnet"),route:`${i.NETWORKS_ROUTE}#networks-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaMainnet"),descriptionMessage:e=>e("lineaMainnet"),route:`${i.NETWORKS_ROUTE}#networks-linea-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("goerli"),descriptionMessage:e=>e("goerli"),route:`${i.NETWORKS_ROUTE}#networks-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("sepolia"),descriptionMessage:e=>e("sepolia"),route:`${i.NETWORKS_ROUTE}#networks-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaGoerli"),descriptionMessage:e=>e("lineaGoerli"),route:`${i.NETWORKS_ROUTE}#networks-linea-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaSepolia"),descriptionMessage:e=>e("lineaSepolia"),route:`${i.NETWORKS_ROUTE}#networks-linea-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("localhost"),descriptionMessage:e=>e("localhost"),route:`${i.NETWORKS_ROUTE}#networks-localhost`,icon:"fa fa-plug"},{tabMessage:e=>e("about"),sectionMessage:e=>e("metamaskVersion"),descriptionMessage:e=>e("builtAroundTheWorld"),route:`${i.ABOUT_US_ROUTE}#version`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("links"),descriptionMessage:e=>e("links"),route:`${i.ABOUT_US_ROUTE}#links`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("privacyMsg"),descriptionMessage:e=>e("privacyMsg"),route:`${i.ABOUT_US_ROUTE}#privacy-policy`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("terms"),descriptionMessage:e=>e("terms"),route:`${i.ABOUT_US_ROUTE}#terms`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("attributions"),descriptionMessage:e=>e("attributions"),route:`${i.ABOUT_US_ROUTE}#attributions`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("supportCenter"),descriptionMessage:e=>e("supportCenter"),route:`${i.ABOUT_US_ROUTE}#supportcenter`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("visitWebSite"),descriptionMessage:e=>e("visitWebSite"),route:`${i.ABOUT_US_ROUTE}#visitwebsite`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("contactUs"),descriptionMessage:e=>e("contactUs"),route:`${i.ABOUT_US_ROUTE}#contactus`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("betaTerms"),descriptionMessage:e=>e("betaTerms"),route:`${i.ABOUT_US_ROUTE}#beta-terms`,iconName:a.IconName.Info},{featureFlag:"METAMASK_SHIELD_ENABLED",tabMessage:e=>e("shieldTx"),sectionMessage:e=>e("shieldTx"),descriptionMessage:e=>e("shieldTx"),route:`${i.TRANSACTION_SHIELD_ROUTE}`,iconName:a.IconName.ShieldLock},{featureFlag:"METAMASK_SHIELD_ENABLED",tabMessage:e=>e("shieldClaim"),sectionMessage:e=>e("shieldClaim"),descriptionMessage:e=>e("shieldClaim"),route:`${i.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL}`,iconName:a.IconName.ShieldLock},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("notificationsFeatureToggle"),descriptionMessage:e=>e("notificationsFeatureToggleDescription"),route:`${i.EXPERIMENTAL_ROUTE}#notifications`,icon:"fas fa-flask"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("snaps"),descriptionMessage:e=>e("addSnapAccountToggle"),route:`${i.EXPERIMENTAL_ROUTE}#snaps`,icon:"fas fa-flask"},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Reset States",descriptionMessage:()=>"Reset States",route:`${i.DEVELOPER_OPTIONS_ROUTE}#reset-states`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Announcements",descriptionMessage:()=>"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.",route:`${i.DEVELOPER_OPTIONS_ROUTE}#reset-states-announcements`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Service Worker Keep Alive",descriptionMessage:()=>'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.',route:`${i.DEVELOPER_OPTIONS_ROUTE}#reset-states-onboarding`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Service Worker Keep Alive",descriptionMessage:()=>"Results in a timestamp being continuously saved to session.storage",route:`${i.DEVELOPER_OPTIONS_ROUTE}#service-worker-keep-alive`,iconName:a.IconName.CodeCircle}];n.default=o}}},{package:"$root$",file:"ui/helpers/constants/settings.js"}],[7056,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDelineatorTitle=n.DelineatorType=void 0;let s=n.DelineatorType=function(e){return e.Content="content",e.Error="error",e.Insights="insights",e.Description="description",e.Warning="warning",e}({});n.getDelineatorTitle=e=>{switch(e){case s.Error:return"errorWithSnap";case s.Insights:return"insightsFromSnap";case s.Description:return"descriptionFromSnap";case s.Warning:return"warningFromSnap";default:return"contentFromSnap"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/delineator.ts"}],[7057,{"./delineator":7056,"./insights":7058},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./delineator");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))});var r=e("./insights");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))})}}},{package:"$root$",file:"ui/helpers/constants/snaps/index.js"}],[7058,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InsightWarningLanguage=void 0;n.InsightWarningLanguage={confirming:{noun:"transaction",imperative:"confirm"},signing:{noun:"signature",imperative:"sign"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/insights.ts"}],[7059,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SURVEY_START_TIME=n.SURVEY_START_HOUR=n.SURVEY_GMT=n.SURVEY_END_TIME=n.SURVEY_END_HOUR=n.SURVEY_DATE=void 0;n.SURVEY_DATE="February 28 2024";const s=n.SURVEY_GMT="GMT-0600",r=n.SURVEY_START_HOUR="12:00:00",a=n.SURVEY_END_HOUR="13:00:00";n.SURVEY_START_TIME=`${r} ${s}`,n.SURVEY_END_TIME=`${a} ${s}`}}},{package:"$root$",file:"ui/helpers/constants/survey.ts"}],[7061,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={ACCOUNT_UPGRADE:"https://support.metamask.io/configure/accounts/what-is-a-smart-account",ADD_CUSTOM_TOKENS:"https://support.metamask.io/managing-my-tokens/custom-tokens/how-to-display-tokens-in-metamask/",ADD_SOLANA_ACCOUNTS:"https://support.metamask.io/configure/accounts/how-to-add-accounts-in-your-wallet/#solana-accounts",ADD_MISSING_ACCOUNTS:"https://support.metamask.io/managing-my-wallet/accounts-and-addresses/how-to-add-missing-accounts-after-restoring-with-secret-recovery-phrase/",BASIC_SAFETY:"https://support.metamask.io/privacy-and-security/basic-safety-and-security-tips-for-metamask/",CUSTOMIZE_NONCE:"https://support.metamask.io/transactions-and-gas/transactions/how-to-customize-a-transaction-nonce/",GAS_FEES:"https://support.metamask.io/transactions-and-gas/gas-fees/",SWAPS_GAS_FEES:"https://support.metamask.io/token-swaps/user-guide-swaps/#gas-fees",HARDWARE_CONNECTION:"https://support.metamask.io/privacy-and-security/hardware-wallet-hub/",IMPORT_ACCOUNTS:"https://support.metamask.io/managing-my-wallet/accounts-and-addresses/how-to-import-an-account/",IMPORTED_ACCOUNTS:"https://support.metamask.io/managing-my-wallet/accounts-and-addresses/what-are-imported-accounts-/",IMPORTED_ACCOUNT_JSON:"https://support.metamask.io/start/how-to-import-an-account/#how-can-i-import-my-private-key-using-a-json-file",IMPORTED_ACCOUNTS_PRIVATE_KEY:"https://support.metamask.io/start/use-an-existing-wallet/#importing-using-a-private-key",INFURA_BLOCKAGE:"https://support.metamask.io/troubleshooting/why-infura-cannot-serve-certain-areas/",LEDGER_FIREFOX_U2F_GUIDE:"https://support.ledger.com/hc/en-us/articles/10371387758493-MetaMask-Firefox-Ledger-Integration-Issue?support=true",LEGACY_WEB3:"https://support.metamask.io/third-party-platforms-and-dapps/metamask-legacy-web3/",PASSWORD_ARTICLE:"https://support.metamask.io/configure/wallet/passwords-and-metamask/",PASSWORD_AND_SRP_ARTICLE:"https://support.metamask.io/getting-started/user-guide-secret-recovery-phrase-password-and-private-keys/",PRIVATE_KEY_GUIDE:"https://support.metamask.io/start/user-guide-secret-recovery-phrase-password-and-private-keys/#private-keys",PASSWORD_RESET:"https://support.metamask.io/configure/wallet/how-can-i-reset-my-password/",RESET_ADD_MISSING_ACCOUNT:"https://support.metamask.io/configure/accounts/how-to-add-missing-accounts-after-restoring-with-secret-recovery-phrase/",RESET_DISPLAY_TOKENS:"https://support.metamask.io/manage-crypto/tokens/how-to-display-tokens-in-metamask/",RESET_IMPORT_AN_ACCOUNT:"https://support.metamask.io/start/how-to-import-an-account/",SECRET_RECOVERY_PHRASE:"https://support.metamask.io/privacy-and-security/what-is-a-secret-recovery-phrase-and-how-to-keep-your-crypto-wallet-secure/",NON_CUSTODIAL_WALLET:"https://support.metamask.io/getting-started/metamask-is-a-self-custodial-wallet/",SPEEDUP_CANCEL:"https://support.metamask.io/transactions-and-gas/transactions/how-to-speed-up-or-cancel-a-pending-transaction/",SUPPORT_URL:"https://support.metamask.io",TOKEN_ALLOWANCE_WITH_SPENDING_CAP:"https://support.metamask.io/privacy-and-security/how-to-customize-token-approvals-with-a-spending-cap/",TOKEN_SAFETY_PRACTICES:"https://support.metamask.io/managing-my-tokens/token-safety-practices/",UNKNOWN_NETWORK:"https://support.metamask.io/networks-and-sidechains/managing-networks/the-risks-of-connecting-to-an-unknown-network/",USER_GUIDE_CUSTOM_NETWORKS:"https://support.metamask.io/networks-and-sidechains/managing-networks/user-guide-custom-networks-and-sidechains/",USER_GUIDE_DAPPS:"https://support.metamask.io/third-party-platforms-and-dapps/user-guide-dapps/",USER_GUIDE_GAS:"https://support.metamask.io/transactions-and-gas/gas-fees/user-guide-gas/",VERIFY_CUSTOM_NETWORK:"https://support.metamask.io/networks-and-sidechains/managing-networks/verifying-custom-network-information/",NETWORK_DEPRECATED:"https://support.metamask.io/networks-and-sidechains/eth-on-testnets/",SOLANA_ACCOUNTS:"https://support.metamask.io/configure/accounts/how-to-add-accounts-in-your-wallet/#solana-accounts"}}}},{package:"$root$",file:"ui/helpers/constants/zendesk-url.js"}],[7062,{"../../constants/routes":7054,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("react-redux"),i=e("react-router-dom-v5-compat"),o=e("../../constants/routes");n.default=({children:e})=>{const t=(0,i.useLocation)(),n=(0,a.useSelector)(e=>e.metamask.isUnlocked);return(0,a.useSelector)(e=>e.metamask.completedOnboarding)?n?r.default.createElement(r.default.Fragment,null,e):r.default.createElement(i.Navigate,{to:o.UNLOCK_ROUTE,replace:!0,state:{from:t}}):r.default.createElement(i.Navigate,{to:o.ONBOARDING_ROUTE,replace:!0})}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated-v5-compat.tsx"}],[7063,{"../../constants/routes":7054,"prop-types":5052,react:5229,"react-router-dom":5197},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var s=o(e("react")),r=o(e("prop-types")),a=e("react-router-dom"),i=e("../../constants/routes");function o(e){return e&&e.__esModule?e:{default:e}}const c={pathname:i.ONBOARDING_ROUTE};function u(e){const{isUnlocked:t,completedOnboarding:n}=e,r=(0,a.useLocation)();switch(!0){case t&&n:return s.default.createElement(a.Route,e);case!n:return s.default.createElement(a.Redirect,{to:c});default:return s.default.createElement(a.Redirect,{to:{pathname:i.UNLOCK_ROUTE,state:{from:r}}})}}u.propTypes={isUnlocked:r.default.bool,completedOnboarding:r.default.bool,path:r.default.string,component:r.default.elementType,exact:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.component.js"}],[7064,{"./authenticated.component":7063,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=(s=e("./authenticated.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)(e=>{const{metamask:{isUnlocked:t,completedOnboarding:n}}=e;return{isUnlocked:t,completedOnboarding:n}})(a.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.container.js"}],[7065,{"prop-types":5052,react:5229,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var s=i(e("react")),r=i(e("prop-types")),a=e("react-router-dom-v5-compat");function i(e){return e&&e.__esModule?e:{default:e}}function o({flag:e,redirectRoute:t,element:n}){return e?n:s.default.createElement(a.Navigate,{to:t,replace:!0})}o.propTypes={flag:r.default.bool.isRequired,redirectRoute:r.default.string.isRequired,element:r.default.node.isRequired}}}},{package:"$root$",file:"ui/helpers/higher-order-components/feature-toggled-route.js"}],[7066,{"./initialized.container":7069},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./initialized.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/index.js"}],[7067,{"../../../ducks/metamask/metamask":7033,"../../constants/routes":7054,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("react-redux"),i=e("react-router-dom-v5-compat"),o=e("../../../ducks/metamask/metamask"),c=e("../../constants/routes");n.default=({children:e})=>(0,a.useSelector)(o.getCompletedOnboarding)?r.default.createElement(r.default.Fragment,null,e):r.default.createElement(i.Navigate,{to:c.ONBOARDING_ROUTE,replace:!0})}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized-v5-compat.tsx"}],[7068,{"../../constants/routes":7054,"prop-types":5052,react:5229,"react-router-dom":5197},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var s=i(e("react")),r=i(e("prop-types")),a=e("react-router-dom");function i(e){return e&&e.__esModule?e:{default:e}}const o={pathname:e("../../constants/routes").ONBOARDING_ROUTE};function c(e){return e.completedOnboarding?s.default.createElement(a.Route,e):s.default.createElement(a.Redirect,{to:o})}c.propTypes={completedOnboarding:r.default.bool,path:r.default.string,component:r.default.func,exact:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.component.js"}],[7069,{"./initialized.component":7068,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=(s=e("./initialized.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)(e=>{const{metamask:{completedOnboarding:t}}=e;return{completedOnboarding:t}})(a.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.container.js"}],[7070,{"./with-modal-props":7071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./with-modal-props"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/index.js"}],[7071,{"../../../store/actions":8065,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,s.connect)(a,i)(e)};var s=e("react-redux"),r=e("../../../store/actions");const a=e=>{const{appState:t}=e,{props:n}=t.modal.modalState;return{...n}},i=e=>({hideModal:()=>e((0,r.hideModal)())})}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/with-modal-props.js"}],[7072,{react:5229,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("react-router-dom-v5-compat");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i.apply(null,arguments)}n.default=function(e){const t=t=>{const n=(0,a.useNavigate)(),s=(0,a.useLocation)(),o=(0,a.useParams)(),c=t.navigate??n,u=t.location??s,l=t.params??o;return r.default.createElement(e,i({},t,{navigate:c,location:u,params:l}))};return t.displayName=`withRouterHooks(${e.displayName||e.name||"Component"})`,t}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-router-hooks/with-router-hooks.tsx"}],[7073,{"../../../../shared/modules/fetch-with-timeout":5894},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var s;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const r=(0,((s=e("../../../../shared/modules/fetch-with-timeout"))&&s.__esModule?s:{default:s}).default)(),a={async getNetworks(){const e=new URL("/regions/networks","https://on-ramp-content.api.cx.metamask.io"),t=await r(e.toString()),{networks:n}=await t.json();return n}};n.default=a}}},{package:"$root$",file:"ui/helpers/ramps/rampApi/rampAPI.ts"}],[7074,{"../../../shared/constants/hardware-wallets":5762,"../../../shared/constants/keyring":5764,"../../../shared/constants/multichain/accounts":5769,"../../../shared/constants/network":5772,"../../../shared/lib/snaps/snaps":5868,"../../../shared/lib/translate":5878,"../../components/component-library":6486,"../constants/design-system":7049,"@metamask/snaps-sdk/jsx":2872,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountLabels=function(e,t,n,a){if(!t)return[];const i=[],o=n.filter(e=>e.type===c.KeyringType.hdKeyTree);switch(e){case c.KeyringType.hdKeyTree:if(o.length>1){const e=o.findIndex(e=>e.accounts.includes(t.address));i.push({label:p(e),icon:null})}break;case c.KeyringType.imported:i.push({label:(0,l.t)("imported"),icon:null});break;case c.KeyringType.qr:i.push({label:u.HardwareKeyringNames.qr,icon:null});break;case c.KeyringType.trezor:i.push({label:u.HardwareKeyringNames.trezor,icon:null});break;case c.KeyringType.ledger:i.push({label:u.HardwareKeyringNames.ledger,icon:null});break;case c.KeyringType.oneKey:i.push({label:u.HardwareKeyringNames.oneKey,icon:null});break;case c.KeyringType.lattice:i.push({label:u.HardwareKeyringNames.lattice,icon:null});break;case c.KeyringType.snap:{const{entropySource:e}=t.options;if(e&&o.length>1){const t=o.findIndex(t=>t.metadata.id===e);i.push({label:p(t),icon:null})}if((0,d.isSnapPreinstalled)(t.metadata.snap.id))break;if(a){i.push({label:`${a} (${(0,l.t)("beta")})`,icon:s.IconName.Snaps});break}i.push({label:`${(0,l.t)("snaps")} (${(0,l.t)("beta")})`,icon:s.IconName.Snaps});break}}const{namespace:h}=(0,r.parseCaipChainId)(t.type);h===r.KnownCaipNamespace.Bip122&&i.push({label:`${m.MULTICHAIN_ACCOUNT_TYPE_TO_NAME[t.type]}`,icon:null});return i},n.getAccountNameErrorMessage=function(e,t,n,s){const r=e.some(e=>{var t;return(null===(t=e.metadata)||void 0===t||null===(t=t.name)||void 0===t?void 0:t.toLowerCase())===(null==n?void 0:n.toLowerCase())}),i=!n||""===n,o=t.t("newAccountNumberName").replace(" $1",""),c=new RegExp(`^\\s*${o} \\d+\\s*$`,"iu").test(n||""),u=(null==n?void 0:n.toLowerCase())===(null==s?void 0:s.toLowerCase())||!r&&!c&&!i;let l;u?l=a.InvisibleCharacter:r?l=t.t("accountNameDuplicate"):c?l=t.t("accountNameReserved"):i&&(l=t.t("required"));return{isValidAccountName:u,errorMessage:l}},n.getAvatarNetworkColor=function(e){switch(e){case i.GOERLI_DISPLAY_NAME:return o.BackgroundColor.goerli;case i.LINEA_GOERLI_DISPLAY_NAME:return o.BackgroundColor.lineaGoerli;case i.LINEA_SEPOLIA_DISPLAY_NAME:return o.BackgroundColor.lineaSepolia;case i.SEPOLIA_DISPLAY_NAME:return o.BackgroundColor.sepolia;default:return undefined}};var s=e("@metamask/snaps-sdk/jsx"),r=e("@metamask/utils"),a=e("../../components/component-library"),i=e("../../../shared/constants/network"),o=e("../constants/design-system"),c=e("../../../shared/constants/keyring"),u=e("../../../shared/constants/hardware-wallets"),l=e("../../../shared/lib/translate"),d=e("../../../shared/lib/snaps/snaps"),m=e("../../../shared/constants/multichain/accounts");const p=e=>`SRP #${e+1}`}}},{package:"$root$",file:"ui/helpers/utils/accounts.js"}],[7076,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.camelCaseToCapitalize=function(e=""){return e.replace(/([A-Z])/gu," $1").replace(/^./u,e=>e.toUpperCase())},n.getCurrencySymbol=function(e){const t={EUR:"â‚¬",HKD:"$",JPY:"Â¥",PHP:"â‚±",RUB:"â‚½",SGD:"$",USD:"$"};if(t[e.toUpperCase()])return t[e.toUpperCase()];return e.toUpperCase()}}}},{package:"$root$",file:"ui/helpers/utils/common.util.js"}],[7078,{"../../../shared/constants/background-liveness-check":5754,"../../../shared/constants/start-up-errors":5785,"../../../shared/constants/state-corruption":5786,"./display-critical-error":7079,"./state-corruption-html":7101,"@metamask/utils":3070,loglevel:4802},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CriticalStartupErrorHandler=void 0;var s,r=e("@metamask/utils"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../../shared/constants/state-corruption"),o=e("../../../shared/constants/background-liveness-check"),c=e("../../../shared/constants/start-up-errors"),u=e("./state-corruption-html"),l=e("./display-critical-error");function d(e,t,n){m(e,t),t.set(e,n)}function m(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function p(e,t){return e.get(g(e,t))}function h(e,t,n){return e.set(g(e,t),n),n}function g(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var f=new WeakMap,S=new WeakMap,y=new WeakMap,b=new WeakMap,v=new WeakSet,T=new WeakMap;async function k(){const{promise:e,resolve:t}=(0,r.createDeferredPromise)();h(b,this,t);const n=new Promise((e,t)=>{h(y,this,setTimeout(()=>t(new Error("Background connection unresponsive")),15e3))});try{await Promise.race([e,n])}catch(e){await(0,l.displayCriticalError)(p(S,this),l.CriticalErrorTranslationKey.TroubleStarting,e)}finally{clearTimeout(p(y,this))}}n.CriticalStartupErrorHandler=class{constructor(e,t){!function(e,t){m(e,t),t.add(e)}(this,v),d(this,f,void 0),d(this,S,void 0),d(this,y,void 0),d(this,b,void 0),d(this,T,async e=>{if(!(0,r.isObject)(e)||!(0,r.hasProperty)(e,"data"))return;const{data:t}=e;if(!(0,r.isObject)(t)||!(0,r.hasProperty)(t,"method"))return;const{method:n}=t;if(n===o.BACKGROUND_LIVENESS_METHOD)p(b,this)?p(b,this).call(this):await(0,l.displayCriticalError)(p(S,this),l.CriticalErrorTranslationKey.TroubleStarting,new Error("Unreachable error, liveness check not initialized"));else if(n===c.RELOAD_WINDOW)window.location.reload();else if(n===i.METHOD_DISPLAY_STATE_CORRUPTION_ERROR){if(!(0,r.hasProperty)(t,"params")||!(0,r.isObject)(t.params))return void a.default.error("Received state corruption error message without valid params:",e);const{error:n,hasBackup:s,currentLocale:i}=t.params;(0,u.displayStateCorruptionError)(p(S,this),p(f,this),n,s,i)}else if(n===c.DISPLAY_GENERAL_STARTUP_ERROR){if(!(0,r.hasProperty)(t,"params")||!(0,r.isObject)(t.params))return void a.default.error("Received general start up error message without valid params:",e);const{error:n,currentLocale:s}=t.params;await(0,l.displayCriticalError)(p(S,this),l.CriticalErrorTranslationKey.TroubleStarting,n,s)}}),h(f,this,e),h(S,this,t)}install(){p(f,this).onMessage.addListener(p(T,this)),g(v,this,k).call(this)}uninstall(){p(f,this).onMessage.removeListener(p(T,this)),clearTimeout(p(y,this)),p(b,this)&&(p(b,this).call(this),h(b,this,undefined))}}}}},{package:"$root$",file:"ui/helpers/utils/critical-startup-error-handler.ts"}],[7079,{"../../../shared/lib/error-utils":5845,"../../../shared/lib/ui-utils":5880,loglevel:4802,uuid:5709,"webextension-polyfill":5741},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CriticalErrorTranslationKey=void 0,n.displayCriticalError=async function(e,t,n,c){const l=await(0,i.maybeGetLocaleContext)(c);e.innerHTML=(0,i.getErrorHtml)(t,n,l,o.SUPPORT_LINK);const d=e.querySelector("#critical-error-button"),m=e.querySelector("#critical-error-checkbox");throw null==d||d.addEventListener("click",async()=>{const e=(null==m?void 0:m.checked)??!1;await async function(e,t){t&&await async function(e){const t=function(){0;return"https://3567c198f8a8412082d32655da2961d0@sentry.io/273505"}();if(!t)return;try{var n,r;const i=(0,a.v4)().replace(/-/gu,""),o={event_id:i,timestamp:Math.floor(Date.now()/1e3),platform:"javascript",level:"error",message:(null==e?void 0:e.message)||"MetaMask extension crash critical error",release:(null===(n=s.default.runtime.getManifest())||void 0===n?void 0:n.version)||"unknown",extra:{error_details:e&&"object"==typeof e?e:{message:String(e)},user_agent:(null===(r=globalThis.navigator)||void 0===r?void 0:r.userAgent)||"unknown"}},c={event_id:i,dsn:t,sent_at:(new Date).toISOString()},l=JSON.stringify(o),d={type:"event",length:l.length},m=`${JSON.stringify(c)}\n${JSON.stringify(d)}\n${l}`,p=u(t);await fetch(p,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:m})}catch(e){console.error("Error sending report to Sentry:",e)}}(e);s.default.runtime.reload()}(n,e)}),r.default.error(n.stack),n},n.extractEnvelopeUrlFromDsn=u;var s=c(e("webextension-polyfill")),r=c(e("loglevel")),a=e("uuid"),i=e("../../../shared/lib/error-utils"),o=e("../../../shared/lib/ui-utils");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){try{const t=new URL(e),n=t.pathname.slice(1),s=t.hostname.split("."),r=s[0];return`https://${r}.${s.slice(1).join(".")}/api/${n}/envelope/`}catch(e){throw new Error("Invalid Sentry DSN format")}}n.CriticalErrorTranslationKey=function(e){return e.TroubleStarting="troubleStarting",e.SomethingIsWrong="somethingIsWrong",e}({})}}},{package:"$root$",file:"ui/helpers/utils/display-critical-error.ts"}],[7080,{buffer:4038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.ExportableContentType=void 0,n.exportAsFile=async function(t,n,r){if(!s[r])throw new Error(`Unsupported file type: ${r}`);"undefined"!=typeof window&&void 0!==window.showSaveFilePicker&&void 0!==window.Blob?await async function(e,t,n){const r=new window.Blob([t],{contentType:n}),a=s[n],i=await window.showSaveFilePicker({suggestedName:e,types:[{description:e,accept:{[n]:[a]}}]}),o=await i.createWritable();await o.write(r),await o.close()}(t,n,r):function(t,n,s){const r=e.from(n,"utf8").toString("base64"),a=document.createElement("a");a.href=`data:${s};Base64,${r}`,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}(t,n,r)};const t=n.ExportableContentType={JSON:"application/json",TXT:"text/plain"},s={[t.JSON]:".json",[t.TXT]:".txt"}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/helpers/utils/export-utils.js"}],[7082,{"../../../shared/constants/gas":5761,"../../../shared/modules/Numeric":5882,"../../../shared/modules/conversion.utils":5887,"./util":7109,"bignumber.js":3926,lodash:4794},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addTenPercentAndRound=d,n.editGasModeIsSpeedUpOrCancel=function(e){return e===i.EditGasModes.cancel||e===i.EditGasModes.speedUp},n.formatGasFeeOrFeeRange=function(e,{precision:t=2}={}){if((0,u.isNullish)(e)||Array.isArray(e)&&0===e.length)return null;const n=Array.isArray(e)?e.slice(0,2):[e],s=Array.isArray(t)?t.slice(0,2):(0,r.times)(n.length,(0,r.constant)(t));return`${(0,r.uniq)((0,r.zip)(n,s).map(([e,t])=>t===undefined?e:(0,u.roundToDecimalPlacesRemovingExtraZeroes)(e,t))).join(" - ")} GWEI`},n.gasEstimateGreaterThanGasUsedPlusTenPercent=void 0,n.isMetamaskSuggestedGasEstimate=function(e){return[i.GasRecommendations.high,i.GasRecommendations.medium,i.GasRecommendations.low].includes(e)};var s,r=e("lodash"),a=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},i=e("../../../shared/constants/gas"),o=e("../../../shared/modules/conversion.utils"),c=e("../../../shared/modules/Numeric"),u=e("./util");const l=new c.Numeric(1.1,10);function d(e){return e===undefined?undefined:new c.Numeric(e,16).times(l).round(0).toPrefixedHexString()}n.gasEstimateGreaterThanGasUsedPlusTenPercent=(e,t,n)=>{var s;let{maxFeePerGas:r}=e;r=new a.default((0,o.hexWEIToDecGWEI)(d(r)));const i=null==t||null===(s=t[n])||void 0===s?void 0:s.suggestedMaxFeePerGas;return(0,u.bnGreaterThan)(i,r)}}}},{package:"$root$",file:"ui/helpers/utils/gas.js"}],[7083,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHardwareKeyring=function(e=""){return e.includes("Hardware")}}}},{package:"$root$",file:"ui/helpers/utils/hardware.js"}],[7085,{"../../../shared/modules/hexstring-utils":5896},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IconFactory=void 0,n.default=function(e){i||(i=new a(e));return i};var s=e("../../../shared/modules/hexstring-utils");function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t=o){r(this,"jazzicon",void 0),r(this,"generateSeed",void 0),r(this,"cache",void 0),this.jazzicon=e,this.generateSeed=t,this.cache={}}iconForAddress(e,t,n){return function(e,t){if(null==t||!t.iconUrl)return!1;return(0,s.isValidHexAddress)(e,{allowNonPrefixed:!1})}(e,n)?function(e){const t=document.createElement("img");return t.src=e.iconUrl,t.style.width="100%",t}(n):this.generateIdenticonSvg(e,t)}generateIdenticonSvg(e,t){const n=`${e}:${t}`;return(this.cache[n]||(this.cache[n]=this.generateNewIdenticon(e,t))).cloneNode(!0)}generateNewIdenticon(e,t){const n=this.generateSeed(e);return this.jazzicon(t,n)}}let i;function o(e){const t=e.slice(2,10);return parseInt(t,16)}n.IconFactory=a}}},{package:"$root$",file:"ui/helpers/utils/icon-factory.ts"}],[7086,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=()=>window.matchMedia("screen and (max-width: 575px)").matches}}},{package:"$root$",file:"ui/helpers/utils/is-mobile-view.js"}],[7087,{"../../../shared/constants/network":5772,"../../../shared/constants/time":5790,"../../../shared/lib/fetch-with-cache":5847},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isOriginalNativeTokenSymbol=n.getOriginalNativeTokenSymbol=void 0;var s,r=e("../../../shared/constants/network"),a=(s=e("../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},i=e("../../../shared/constants/time");const o=async({chainId:e,useAPICall:t=!1})=>{try{var n;const s=r.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e];if(s)return s;const o=r.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[e];if(null!=o&&o[0].currencySymbol)return o[0].currencySymbol;if(!t)return null;const c=(await(0,a.default)({url:r.CHAIN_SPEC_URL,allowStale:!0,cacheOptions:{cacheRefreshTime:i.DAY},functionName:"getSafeChainsList"})).find(t=>t.chainId===parseInt(e,16));return(null==c||null===(n=c.nativeCurrency)||void 0===n?void 0:n.symbol)??null}catch(e){return null}};n.getOriginalNativeTokenSymbol=o;n.isOriginalNativeTokenSymbol=async({ticker:e,chainId:t,useAPICall:n=!1})=>{const s=await o({chainId:t,useAPICall:n});return null===s||s===e}}}},{package:"$root$",file:"ui/helpers/utils/isOriginalNativeTokenSymbol.ts"}],[7089,{"../../../shared/lib/manifestFlags":5855,"../../../shared/lib/trace":5873,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mmLazy=function(e){return a.default.lazy(async()=>{const t=Date.now(),n=await e(),{componentName:s,component:r}=function(e){let t;if(!e.default){const n=Object.keys(e);if(1===n.length)return t=n[0],{componentName:t,component:{default:e[t]}};throw new Error("mmLazy: You cannot lazy-load a component when there are multiple exported components in one file")}t=e.default.WrappedComponent?e.default.WrappedComponent.name:e.default.name||e.default.displayName;return{componentName:t,component:e}}(n);return c&&Math.random()<c&&((0,o.trace)({name:o.TraceName.LazyLoadComponent,data:{componentName:s},startTime:t}),(0,o.endTrace)({name:o.TraceName.LazyLoadComponent})),r})};var s,r,a=(s=e("react"))&&s.__esModule?s:{default:s},i=e("../../../shared/lib/manifestFlags"),o=e("../../../shared/lib/trace");const c=null===(r=(0,i.getManifestFlags)().sentry)||void 0===r?void 0:r.lazyLoadSubSampleRate}}},{package:"$root$",file:"ui/helpers/utils/mm-lazy.ts"}],[7090,{"../../../../app/scripts/lib/multichain/address":288,"../../../../shared/lib/multichain/networks":5861,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMultichainBlockExplorerUrl=n.getMultichainAccountUrl=void 0;var s=e("@metamask/utils"),r=e("../../../../app/scripts/lib/multichain/address"),a=e("../../../../shared/lib/multichain/networks");n.getMultichainBlockExplorerUrl=e=>{var t;return(null===(t=e.network)||void 0===t||null===(t=t.rpcPrefs)||void 0===t?void 0:t.blockExplorerUrl)??""};n.getMultichainAccountUrl=(e,t)=>{const{namespace:n}=(0,s.parseCaipChainId)(t.chainId);if(n===s.KnownCaipNamespace.Eip155){return`https://etherscan.io/address/${(0,r.normalizeSafeAddress)(e)}#asset-multichain`}const{blockExplorerFormatUrls:i}=t.network;return i?(0,a.formatBlockExplorerAddressUrl)(i,e):""}}}},{package:"$root$",file:"ui/helpers/utils/multichain/blockExplorer.ts"}],[7091,{"../../../../shared/constants/common":5756,"../../../../shared/constants/multichain/networks":5771,"../../../../shared/lib/multichain/networks":5861,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBlockExplorerInfo=void 0;var s=e("@metamask/utils"),r=e("../../../../shared/constants/common"),a=e("../../../../shared/constants/multichain/networks"),i=e("../../../../shared/lib/multichain/networks");n.getBlockExplorerInfo=(e,t,n)=>{const{chainId:o,blockExplorerUrl:c}=n;if(o){if(o===a.MultichainNetworks.BITCOIN||o===a.MultichainNetworks.BITCOIN_TESTNET||o===a.MultichainNetworks.BITCOIN_SIGNET){const n=a.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[o];if(n){const s="Blockstream";return{addressUrl:(0,i.formatBlockExplorerAddressUrl)(n,t),name:s,buttonText:e("viewAddressOnExplorer",[s])}}}if(o===a.MultichainNetworks.SOLANA||o===a.MultichainNetworks.SOLANA_DEVNET||o===a.MultichainNetworks.SOLANA_TESTNET){const n=a.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[o];if(n){const s="Solscan";return{addressUrl:(0,i.formatBlockExplorerAddressUrl)(n,t),name:s,buttonText:e("viewAddressOnExplorer",[s])}}}}if(null!=o&&o.startsWith(s.KnownCaipNamespace.Eip155)){const n=`0x${parseInt(o.split(":")[1],10).toString(16)}`;if(c){const s=r.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[n]||"Block Explorer";return{addressUrl:`${c}/address/${t}`,name:s,buttonText:e("viewAddressOnExplorer",[s])}}const s=r.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[n];if(s){var u;const a=null===(u=r.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[n])||void 0===u?void 0:u.replace(/\/$/u,"");if(a)return{addressUrl:`${a}/address/${t}`,name:s,buttonText:e("viewAddressOnExplorer",[s])}}}return null}}}},{package:"$root$",file:"ui/helpers/utils/multichain/getBlockExplorerInfo.ts"}],[7092,{"../../../shared/constants/network":5772,"../../../shared/modules/network.utils":5900,"@metamask/multichain-network-controller":2279,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isTestNetwork=n.getMatchedSymbols=n.getMatchedNames=n.getMatchedChain=void 0;var s=e("@metamask/multichain-network-controller"),r=e("@metamask/utils"),a=e("../../../shared/constants/network"),i=e("../../../shared/modules/network.utils");n.getMatchedChain=(e,t)=>t.find(t=>t.chainId.toString()===e);n.getMatchedSymbols=(e,t)=>t.reduce((t,n)=>{var s;n.chainId.toString()===e&&t.push(null===(s=n.nativeCurrency)||void 0===s?void 0:s.symbol);return t},[]);n.getMatchedNames=(e,t)=>t.reduce((t,n)=>(n.chainId.toString()===e&&t.push(null==n?void 0:n.name),t),[]);n.isTestNetwork=e=>(0,r.isCaipChainId)(e)?e.startsWith("eip155:")?a.TEST_CHAINS.includes((0,i.convertCaipToHexChainId)(e)):s.NON_EVM_TESTNET_IDS.includes(e):a.TEST_CHAINS.includes(e)}}},{package:"$root$",file:"ui/helpers/utils/network-helper.ts"}],[7093,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.nftTruncateAltText=n.getNftImageAlt=n.getNftImage=void 0;const s=(e,t)=>{if(e.length<=t)return e;const n=e.substring(0,t),s=n.lastIndexOf(" ");return s>0?`${n.substring(0,s)}...`:`${n}...`};n.nftTruncateAltText=s;n.getNftImageAlt=({name:e,tokenId:t,description:n})=>{if(!e&&!t&&!n)return"";const r=n??`${e??""} ${t??""}`.trim();return s(r,100)};n.getNftImage=e=>"string"==typeof e?e:Array.isArray(e)?e[0]:undefined}}},{package:"$root$",file:"ui/helpers/utils/nfts.ts"}],[7094,{"../../../shared/constants/network":5772,"../../../shared/lib/transactions-controller-utils":5875,"../../../shared/modules/conversion.utils":5887,"@ethersproject/providers":766,"@metamask/notification-services-controller/notification-services/ui":2336,"bignumber.js":3926},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.formatAmount=n.createTextItems=void 0,n.formatIsoDateString=function(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(t)},n.formatMenuItemDate=function(e){const t=new Date;if(u(t,e))return new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric",hour12:!1}).format(e);if(l(t,e))return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(-1,"day");if(d(t,e))return new Intl.DateTimeFormat("en",{month:"short",day:"numeric"}).format(e);return new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"numeric"}).format(e)},n.getLeadingZeroCount=n.getAmount=void 0,n.getNetworkDetailsByChainId=function(e){const t=e.toString(),n=`0x${(0,c.decimalToHex)(e)}`;if(Object.values(a.NOTIFICATION_CHAINS_ID).includes(t)){const e=t;return{nativeCurrencyName:a.NOTIFICATION_NETWORK_CURRENCY_NAME[e]??"",nativeCurrencySymbol:a.NOTIFICATION_NETWORK_CURRENCY_SYMBOL[e]??"",nativeCurrencyLogo:i.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[n],blockExplorerConfig:a.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS[e]}}return{nativeCurrencyName:i.NETWORK_TO_NAME_MAP[n]??"",nativeCurrencySymbol:i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[n]??"",nativeCurrencyLogo:i.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[n],blockExplorerConfig:a.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS[t]}},n.getRandomKey=n.getNetworkNameByChainId=n.getNetworkFees=void 0,n.getRpcUrlByChainId=g,n.getUsdAmount=void 0,n.hasNetworkFeeFields=f,n.isIpfsURL=void 0;var s=e("bignumber.js"),r=e("@ethersproject/providers"),a=e("@metamask/notification-services-controller/notification-services/ui"),i=e("../../../shared/constants/network"),o=e("../../../shared/lib/transactions-controller-utils"),c=e("../../../shared/modules/conversion.utils");const u=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),l=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()-1),u(n,t)},d=(e,t)=>e.getFullYear()===t.getFullYear();const m={decimalPlaces:4},p=e=>{var t;return(null===(t=(new s.BigNumber(e,10).toString(10).split(".")[1]??"").match(/^0*/u))||void 0===t||null===(t=t[0])||void 0===t?void 0:t.length)||0};n.getLeadingZeroCount=p;const h=(e,t)=>{const n={...m,...t},s=p(e),r=e.toString().includes(".")||s>0||e.toString().includes("e-");if(e>999)return Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:2}).format(e);if(r){const t=(a=n.decimalPlaces,Boolean(null==n?void 0:n.shouldEllipse)&&s>=a),r=Intl.NumberFormat("en-US",{minimumFractionDigits:t?n.decimalPlaces:undefined,maximumFractionDigits:n.decimalPlaces}).format(e);return t?`${r}...`:r}var a;return e.toString()};n.formatAmount=h;n.getRandomKey=(e,t)=>`${e.replace(/\s+/gu,"_").replace(/[^\w-]/gu,"")}-${t}-${Math.random().toString(36).substring(2,15)}`;n.createTextItems=(e,t)=>({items:e.map((e,t)=>({text:e,highlighted:t%2==1})),variant:t});n.getAmount=(e,t,n)=>{if(!e||!t)return"";const s=(0,o.calcTokenAmount)(e,parseFloat(t)).toNumber();return h(s,n)};n.getUsdAmount=(e,t,n)=>{if(!e||!t||!n)return"";const s=(0,o.calcTokenAmount)(e,parseFloat(t)).toNumber(),r=parseFloat(`${s}`)*parseFloat(n);return h(r)};function g(e){const t=i.FEATURED_RPCS.find(t=>t.chainId===e);if(t)return t.rpcEndpoints[0].url;switch(e){case i.CHAIN_IDS.MAINNET:return i.MAINNET_RPC_URL;case i.CHAIN_IDS.GOERLI:return i.GOERLI_RPC_URL;case i.CHAIN_IDS.SEPOLIA:return i.SEPOLIA_RPC_URL;case i.CHAIN_IDS.LINEA_GOERLI:return i.LINEA_GOERLI_RPC_URL;case i.CHAIN_IDS.LINEA_SEPOLIA:return i.LINEA_SEPOLIA_RPC_URL;case i.CHAIN_IDS.LINEA_MAINNET:return i.LINEA_MAINNET_RPC_URL;case i.CHAIN_IDS.LOCALHOST:return i.LOCALHOST_RPC_URL;default:return i.MAINNET_RPC_URL}}function f(e){return"network_fee"in e.payload.data}n.getNetworkNameByChainId=e=>i.NETWORK_TO_NAME_MAP[e];n.getNetworkFees=async e=>{if(!f(e))throw new Error("Invalid notification type");const t=(0,c.decimalToHex)(e.payload.chain_id),n={url:g(`0x${t}`),headers:{"Infura-Source":"metamask/metamask"}},s=new r.JsonRpcProvider(n);if(!s)throw new Error(`No provider found for chainId ${t}`);try{const[t,n,r]=await Promise.all([s.getTransactionReceipt(e.payload.tx_hash),s.getTransaction(e.payload.tx_hash),s.getBlock(e.payload.block_number)]),a=(t,n)=>h(parseFloat(t)*parseFloat(e.payload.data.network_fee.native_token_price_in_usd),{decimalPlaces:n??4}),i=(0,c.hexWEIToDecETH)(t.gasUsed.mul(t.effectiveGasPrice)._hex),o=a(i),u=n.gasLimit.toNumber(),l=t.gasUsed.toNumber(),d=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(r.baseFeePerGas._hex):null,m=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(t.effectiveGasPrice.sub(r.baseFeePerGas)._hex):null;return{transactionFeeInEth:i,transactionFeeInUsd:o,gasLimit:u,gasUsed:l,baseFee:d,priorityFee:m,maxFeePerGas:n.maxFeePerGas?(0,c.hexWEIToDecGWEI)(n.maxFeePerGas._hex):null}}catch(e){throw new Error(`Error fetching network fees for chainId ${t}: ${e}`)}};n.isIpfsURL=e=>e.startsWith("ipfs://")}}},{package:"$root$",file:"ui/helpers/utils/notification.util.ts"}],[7095,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isZeroAmount=function(e){if(null===e||e===undefined)return!0;if("number"==typeof e)return 0===e;const t=e.replace(/\D+/gu,"").trim();return/^0*$/u.test(t)}}}},{package:"$root$",file:"ui/helpers/utils/number-utils.ts"}],[7096,{"../../../app/scripts/controllers/permissions":230,"../../../shared/constants/permissions":5776,"../../components/component-library":6486,"../constants/design-system":7049,"./util":7109,"@metamask/chain-agnostic-permission":1360,"@metamask/controller-utils":1384,"@metamask/snaps-rpc-methods":2732,"@metamask/snaps-utils":2902,"deep-freeze-strict":4190,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionDescription=void 0,n.getWeightedPermissions=function({t:e,isRequestApprovalPermittedChains:t,permissions:n,getSubjectName:s,subjectName:r}){return Object.entries(n).reduce((n,[a,i])=>n.concat(b({t:e,isRequestApprovalPermittedChains:t,permissionName:a,permissionValue:i,subjectName:r,getSubjectName:s})),[]).sort((e,t)=>e.weight-t.weight)};var s=h(e("deep-freeze-strict")),r=h(e("react")),a=e("@metamask/snaps-rpc-methods"),i=e("@metamask/snaps-utils"),o=e("@metamask/controller-utils"),c=e("@metamask/chain-agnostic-permission"),u=e("../../../shared/constants/permissions"),l=e("../../components/component-library"),d=e("../constants/design-system"),m=e("../../../app/scripts/controllers/permissions"),p=e("./util");function h(e){return e&&e.__esModule?e:{default:e}}const g=Symbol("unknown"),f=r.default.createElement(l.Icon,{name:l.IconName.Info,size:l.IconSize.Sm,color:d.IconColor.iconMuted});function S(e){return r.default.createElement(l.Text,{fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},e)}const y=(0,s.default)({[c.Caip25EndowmentPermissionName]:({t:e,isRequestApprovalPermittedChains:t})=>t?{label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}:{label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts},[u.RestrictedMethods.eth_accounts]:({t:e})=>({label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts}),[m.PermissionNames.permittedChains]:({t:e})=>({label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}),[u.RestrictedMethods.snap_dialog]:({t:e,subjectName:t})=>({label:e("permission_dialog"),description:e("permission_dialogDescription",[S(t)]),leftIcon:l.IconName.Messages,weight:u.PermissionWeight.snap_dialog}),[u.RestrictedMethods.snap_notify]:({t:e,subjectName:t})=>({label:e("permission_notifications"),description:e("permission_notificationsDescription",[S(t)]),leftIcon:l.IconName.Notification,weight:u.PermissionWeight.snap_notify}),[u.RestrictedMethods.snap_getBip32PublicKey]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map(({path:t,curve:s},a)=>{var o;const c={leftIcon:l.IconName.SecuritySearch,weight:u.PermissionWeight.snap_getBip32PublicKey,id:`public-key-access-bip32-${null===(o=t.join("-"))||void 0===o?void 0:o.replace(/'/gu,"h")}-${s}-${a}`,warningMessageSubject:(0,i.getSnapDerivationPathName)(t,s)??`${e("unknownNetworkForKeyEntropy")}  ${t.join("/")} (${s})`},m=(0,i.getSnapDerivationPathName)(t,s);return m?{...c,label:e("permission_viewNamedBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},m)]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},m),S(n)])}:{...c,label:e("permission_viewBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} `," ",t.join("/")),s]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},t.join("/")),S(n)])}}),[u.RestrictedMethods.snap_getBip32Entropy]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map(({path:t,curve:s},a)=>{var o;const c={leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip32Entropy,id:`key-access-bip32-${null===(o=t.join("-"))||void 0===o?void 0:o.replace(/'/gu,"h")}-${s}-${a}`,warningMessageSubject:(0,i.getSnapDerivationPathName)(t,s)??`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${s})`},m=(0,i.getSnapDerivationPathName)(t,s);return m?{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},m)]),description:e("permission_manageBip44AndBip32KeysDescription",[S(n)])}:{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${s})`)]),description:e("permission_manageBip44AndBip32KeysDescription",[S(n)])}}),[u.RestrictedMethods.snap_getBip44Entropy]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map(({coinType:t},s)=>({label:e("permission_manageBip44Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`coin-type-${t}`},(0,i.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`)]),description:e("permission_manageBip44AndBip32KeysDescription",[S(n)]),leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip44Entropy,id:`key-access-bip44-${t}-${s}`,warningMessageSubject:(0,i.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`})),[u.RestrictedMethods.snap_getEntropy]:({t:e,subjectName:t})=>({label:e("permission_getEntropy",[S(t)]),description:e("permission_getEntropyDescription",[S(t)]),leftIcon:l.IconName.SecurityKey,weight:u.PermissionWeight.snap_getEntropy}),[u.RestrictedMethods.snap_manageState]:({t:e,subjectName:t})=>({label:e("permission_manageState"),description:e("permission_manageStateDescription",[S(t)]),leftIcon:l.IconName.AddSquare,weight:u.PermissionWeight.snap_manageState}),[u.RestrictedMethods.snap_getLocale]:({t:e,subjectName:t})=>({label:e("permission_getLocale"),description:e("permission_getLocaleDescription",[S(t)]),leftIcon:l.IconName.Global,weight:u.PermissionWeight.snap_getLocale}),[u.RestrictedMethods.snap_getPreferences]:({t:e,subjectName:t})=>({label:e("permission_getPreferences"),description:e("permission_getPreferencesDescription",[S(t)]),leftIcon:l.IconName.Customize,weight:4}),[u.RestrictedMethods.wallet_snap]:({t:e,permissionValue:t,getSubjectName:n})=>{const s=t.caveats[0].value,a={leftIcon:l.IconName.Flash,rightIcon:f,weight:u.PermissionWeight.wallet_snap};return Object.keys(s).map(t=>{const s=n(t);return s?{...a,label:e("permission_accessNamedSnap",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t},s)]),description:e("permission_accessSnapDescription",[s])}:{...a,label:e("permission_accessSnap",[t]),description:e("permission_accessSnapDescription",[t])}})},[u.EndowmentPermissions["endowment:network-access"]]:({t:e,subjectName:t})=>({label:e("permission_accessNetwork"),description:e("permission_accessNetworkDescription",[S(t)]),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.endowment_networkAccess}),[u.EndowmentPermissions["endowment:webassembly"]]:({t:e,subjectName:t})=>({label:e("permission_webAssembly"),description:e("permission_webAssemblyDescription",[S(t)]),leftIcon:l.IconName.DocumentCode,rightIcon:null,weight:u.PermissionWeight.endowment_webassembly}),[u.EndowmentPermissions["endowment:transaction-insight"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Speedometer,weight:u.PermissionWeight.endowment_transactionInsight},r=[{...s,label:e("permission_transactionInsight"),description:e("permission_transactionInsightDescription",[S(n)])}];return(0,o.isNonEmptyArray)(t.caveats)&&t.caveats[0].type===i.SnapCaveatType.TransactionOrigin&&t.caveats[0].value&&r.push({...s,label:e("permission_transactionInsightOrigin"),description:e("permission_transactionInsightOriginDescription",[S(n)]),leftIcon:l.IconName.Explore}),r},[u.EndowmentPermissions["endowment:cronjob"]]:({t:e,subjectName:t})=>({label:e("permission_cronjob"),description:e("permission_cronjobDescription",[S(t)]),leftIcon:l.IconName.Clock,weight:u.PermissionWeight.endowment_cronjob}),[u.EndowmentPermissions["endowment:ethereum-provider"]]:({t:e,subjectName:t})=>({label:e("permission_ethereumProvider"),description:e("permission_ethereumProviderDescription",[S(t)]),leftIcon:l.IconName.Ethereum,weight:u.PermissionWeight.endowment_ethereumProvider,id:"ethereum-provider-access",message:e("ethereumProviderAccess",[S(t)])}),[u.EndowmentPermissions["endowment:rpc"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_rpc},{snaps:i,dapps:o,allowedOrigins:c}=(0,a.getRpcCaveatOrigins)(t),m=[];if(i&&m.push({...s,label:e("permission_rpc",[e("otherSnaps"),S(n)]),description:e("permission_rpcDescription",[e("otherSnaps"),S(n)])}),o&&m.push({...s,label:e("permission_rpc",[e("websites"),S(n)]),description:e("permission_rpcDescription",[e("websites"),S(n)])}),(null==c?void 0:c.length)>0){let t;if(1===c.length)t=r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},c[0]);else{const n=c.slice(-1);t=e("permission_rpcDescriptionOriginList",[c.slice(0,-1).map(e=>r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},e),", ")),r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:"2",style:{lineBreak:"anywhere"}},n)])}m.push({...s,label:e("permission_rpc",[t,S(n)]),description:e("permission_rpcDescription",[t,S(n)])})}return m},[u.EndowmentPermissions["endowment:lifecycle-hooks"]]:({t:e,subjectName:t})=>({label:e("permission_lifecycleHooks"),description:e("permission_lifecycleHooksDescription",[S(t)]),leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_lifecycleHooks}),[u.EndowmentPermissions["endowment:page-home"]]:({t:e,subjectName:t})=>({label:e("permission_homePage"),description:e("permission_homePageDescription",[S(t)]),leftIcon:l.IconName.Home,weight:u.PermissionWeight.endowment_pageHome}),[u.RestrictedMethods.snap_manageAccounts]:({t:e,subjectName:t})=>({label:e("permission_manageAccounts"),description:e("permission_manageAccountsDescription",[S(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.snap_manageAccounts}),[u.EndowmentPermissions["endowment:keyring"]]:({t:e,subjectName:t})=>({label:e("permission_keyring"),description:e("permission_keyringDescription",[S(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.endowment_keyring}),[u.EndowmentPermissions["endowment:name-lookup"]]:({t:e})=>({label:e("permission_nameLookup"),description:e("permission_nameLookupDescription"),leftIcon:l.IconName.Search,weight:u.PermissionWeight.endowment_nameLookup}),[u.EndowmentPermissions["endowment:assets"]]:({t:e,subjectName:t})=>({label:e("permission_assets"),description:e("permission_assetsDescription",[S(t)]),leftIcon:l.IconName.Coin,weight:u.PermissionWeight.endowment_assets}),[u.EndowmentPermissions["endowment:protocol"]]:({t:e,subjectName:t})=>({label:e("permission_protocol"),description:e("permission_protocolDescription",[S(t)]),leftIcon:l.IconName.GlobalSearch,weight:u.PermissionWeight.endowment_protocol}),[u.EndowmentPermissions["endowment:signature-insight"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Warning,weight:u.PermissionWeight.endowment_signatureInsight},r=[{...s,label:e("permission_signatureInsight"),description:e("permission_signatureInsightDescription",[S(n)])}];return(0,o.isNonEmptyArray)(t.caveats)&&t.caveats.find(e=>e.type===i.SnapCaveatType.SignatureOrigin&&e.value)&&r.push({...s,label:e("permission_signatureInsightOrigin"),description:e("permission_signatureInsightOriginDescription",[S(n)]),leftIcon:l.IconName.Explore}),r},[u.ConnectionPermission.connection_permission]:({t:e,permissionValue:t,subjectName:n})=>Object.keys(t).map(t=>{let s=(0,p.getURLHost)(t);return s||(s=t.replace("npm:","")),{label:e("snapConnectTo",[r.default.createElement(l.Text,{key:"connectToMain",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit,style:{lineBreak:"anywhere"}},s)]),description:e("snapConnectionPermissionDescription",[S(n),r.default.createElement(l.Text,{key:"connectToDescription",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},s)]),leftIcon:undefined,connection:t,connectionName:s,subjectName:n,weight:u.PermissionWeight.connection_permission}}),[g]:({t:e,permissionName:t})=>({label:e("permission_unknown",[t??"undefined"]),leftIcon:l.IconName.Question,rightIcon:null,weight:u.PermissionWeight.unknown_permission})}),b=({t:e,isRequestApprovalPermittedChains:t,permissionName:n,permissionValue:s,subjectName:r,getSubjectName:a})=>{let i=y[g];Object.hasOwnProperty.call(y,n)&&(i=y[n]);const o=i({t:e,isRequestApprovalPermittedChains:t,permissionName:n,permissionValue:s,subjectName:r,getSubjectName:a});return Array.isArray(o)?o.map(e=>({...e,permissionName:n,permissionValue:s})):[{...o,permissionName:n,permissionValue:s}]};n.getPermissionDescription=b}}},{package:"$root$",file:"ui/helpers/utils/permission.js"}],[7097,{"../../../shared/constants/permissions":5776,"@metamask/keyring-api":2173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.containsEthPermissionsAndNonEvmAccount=void 0;var s=e("@metamask/keyring-api"),r=e("../../../shared/constants/permissions");n.containsEthPermissionsAndNonEvmAccount=(e,t)=>{const n=Object.keys(r.RestrictedEthMethods),a=Object.keys(t).some(e=>n.includes(e)),i=e.some(e=>!(0,s.isEvmAccountType)(e.type));return a&&i}}}},{package:"$root$",file:"ui/helpers/utils/permissions.ts"}],[7098,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPortfolioUrl=function(e="",t="",n="",s=!1,r=!1,a,i){const o=new URL(e,"https://app.metamask.io");o.searchParams.append("metamaskEntry",t),o.searchParams.append("metametricsId",n),o.searchParams.append("metricsEnabled",String(s)),o.searchParams.append("marketingEnabled",String(r)),a&&o.searchParams.append("accountAddress",a);i&&o.searchParams.append("tab",i);return o.href}}}},{package:"$root$",file:"ui/helpers/utils/portfolio.js"}],[7099,{"../../../shared/modules/environment":5891,"../constants/settings":7055},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.colorText=l,n.escapeRegExp=void 0,n.getNumberOfSettingRoutesInTab=function(e,t){return u(e,t).length},n.getSettingsRoutes=c,n.getSpecificSettingsRoute=function(e,t,n){return c().find(s=>s.tabMessage(e)===t&&s.sectionMessage(e)===n)},n.handleSettingsRefs=function(e,t,n){const s=u(e,t),r=s.findIndex(e=>e.route.substring(1)===window.location.hash.substring(1));if(-1===r)return;const a=1===s.length?n:n[r];if(null!=a&&a.current){a.current.scrollIntoView({behavior:"smooth"}),a.current.focus();const e=window.location.hash.split("#")[1];window.location.hash=e}},n.highlightSearchedText=function(){const e=document.getElementById("search-settings"),t=new RegExp(d(e.value),"gi");[...document.querySelectorAll(".settings-page__header__search__list__item")].forEach(e=>{const n=e.querySelector(".settings-page__header__search__list__item__tab"),s=e.querySelector(".settings-page__header__search__list__item__section");l(n,t),l(s,t)})};var s,r=(s=e("../constants/settings"))&&s.__esModule?s:{default:s},a=e("../../../shared/modules/environment");let i;const o={METAMASK_SHIELD_ENABLED:a.getIsMetaMaskShieldFeatureEnabled,ENABLE_SETTINGS_PAGE_DEV_OPTIONS:a.getIsSettingsPageDevOptionsEnabled};function c(){return i||(i=r.default.filter(e=>(!e.featureFlag||function(e){const t=o[e];return t?t():(console.warn(`Unknown feature flag: ${e}`),!1)}(e.featureFlag))&&!e.hidden),i)}function u(e,t){return c().filter(n=>n.tabMessage(e)===t)}function l(e,t){if(null!==e){let n=e.innerHTML;n=n.replace("&amp;","&"),n=n.replace(/(<span class="settings-page__header__search__list__item__highlight">|<\/span>)/gim,""),e.innerHTML=n.replace(t,'<span class="settings-page__header__search__list__item__highlight">$&</span>')}}const d=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");n.escapeRegExp=d}}},{package:"$root$",file:"ui/helpers/utils/settings-search.js"}],[7101,{"../../../shared/constants/state-corruption":5786,"../../../shared/lib/error-utils":5845,"../../../shared/lib/get-first-preferred-lang-code":5853,"../../../shared/lib/switch-direction":5871,"../../../shared/lib/translate":5878,"../../../shared/lib/ui-utils":5880,lodash:4794,loglevel:4802},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.displayStateCorruptionError=async function(e,t,n,r,i){s.default.error(n);const o=await m(a.VAULT_RECOVERY_LINK,r,i,a.SUPPORT_LINK);e.innerHTML=o;const c=e.querySelector("#critical-error-button");c&&(c.addEventListener("click",function e(){confirm((0,l.t)("stateCorruptionAreYouSure")??"")&&(this.removeEventListener("click",e),this.disabled=!0,this.innerText=r?(0,l.t)("stateCorruptionRestoringDatabase")??"":(0,l.t)("stateCorruptionResettingDatabase")??"",t.postMessage({data:{method:u.METHOD_REPAIR_DATABASE}}))}),setTimeout(()=>{c.disabled=!1},5e3))},n.getStateCorruptionErrorHtml=m;var s=d(e("loglevel")),r=e("lodash"),a=e("../../../shared/lib/ui-utils"),i=e("../../../shared/lib/error-utils"),o=e("../../../shared/lib/switch-direction"),c=d(e("../../../shared/lib/get-first-preferred-lang-code")),u=e("../../../shared/constants/state-corruption"),l=e("../../../shared/lib/translate");function d(e){return e&&e.__esModule?e:{default:e}}async function m(e,t,n,s){let a;n?(a=n,await(0,l.updateCurrentLocale)(n)):(a=await(0,c.default)(),await(0,l.updateCurrentLocale)(a)),(0,o.switchDirectionForPreferredLocale)(a);const u=`<a href="${(0,r.escape)(e)}" title="${(0,r.escape)((0,l.t)("stateCorruptionTheseInstructionsLinkTitle")??"")}" class="critical-error__link" target="_blank" rel="noopener noreferrer">${(0,r.escape)((0,l.t)("stateCorruptionTheseInstructions")??"")}</a>`;let d,m,p;t?(d=(0,l.t)("stateCorruptionDetectedWithBackup")??"",m=(0,l.t)("stateCorruptionCopyAndRestoreBeforeRecovery",u)??"",p=(0,l.t)("stateCorruptionRestoreAccountsFromBackup")??""):(d=(0,l.t)("stateCorruptionDetectedNoBackup")??"",m=(0,l.t)("stateCorruptionCopyAndRestoreBeforeReset",u)??"",p=(0,l.t)("stateCorruptionResetMetaMaskState")??"");const h=`\n    <h1>${(0,l.t)("stateCorruptionMetamaskDatabaseCannotBeAccessed")}</h1>\n  `,g=`\n    <p>${(0,r.escape)(d)}</p>\n    <p>${m}</p>\n    <button disabled id="critical-error-button" class="critical-error__button-restore button btn-primary">\n      ${p}\n    </button>\n  `,f=s?`<p class="critical-error__footer small">${(0,r.escape)((0,l.t)("unexpectedBehavior")??"")} <a\n        href="${(0,r.escape)(s)}"\n        class="critical-error__link"\n        target="_blank"\n        rel="noopener noreferrer">\n          ${(0,r.escape)((0,l.t)("sendBugReport")??"")}\n      </a>\n    </p>`:"";return(0,i.getErrorHtmlBase)(`\n    ${h}\n    ${g}\n    ${f}\n  `)}}}},{package:"$root$",file:"ui/helpers/utils/state-corruption-html.ts"}],[7102,{"../../../app/scripts/lib/util":358,"../../ducks/metamask/metamask":7033,"../../selectors":8035,"../../selectors/metamask-notifications/metamask-notifications":8036,"../../selectors/nft":8047},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getStartupTraceTags=function(e){var t;const n=(0,s.getEnvironmentType)(),c=(0,r.getIsUnlocked)(e),u=(0,a.getInternalAccounts)(e).length,l=(0,o.selectAllNftsFlat)(e).length,d=(0,i.getMetamaskNotifications)(e).length,m=(0,a.selectAllTokensFlat)(e).length,p=(0,a.getTransactions)(e).length,h=(0,a.getPendingApprovals)(e),g=null==h||null===(t=h[0])||void 0===t?void 0:t.type;return{"wallet.account_count":u,"wallet.nft_count":l,"wallet.notification_count":d,"wallet.pending_approval":g,"wallet.token_count":m,"wallet.transaction_count":p,"wallet.unlocked":c,"wallet.ui_type":n}};var s=e("../../../app/scripts/lib/util"),r=e("../../ducks/metamask/metamask"),a=e("../../selectors"),i=e("../../selectors/metamask-notifications/metamask-notifications"),o=e("../../selectors/nft")}}},{package:"$root$",file:"ui/helpers/utils/tags.ts"}],[7104,{"../../../shared/modules/hexstring-utils":5896,"@metamask/bridge-controller":1318,"@metamask/design-system-react":1742,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shouldShowContractAddress=n.isNativeAddress=n.getPriceChangeColor=n.formatPercentage=n.formatContractAddress=n.formatCompactCurrency=void 0;var s=e("@metamask/utils"),r=e("@metamask/bridge-controller"),a=e("@metamask/design-system-react"),i=e("../../../shared/modules/hexstring-utils");const o=e=>{if(!e)return!1;if((0,r.isNativeAddress)(e))return!0;const t=e.toLowerCase();return["0","0x0","0x","0x0000000000000000000000000000000000000000"].includes(t)};n.isNativeAddress=o;n.formatPercentage=e=>{if(e===undefined||null===e)return"â€”";return`${e>0?"+":""}${e.toFixed(2)}%`};n.formatCompactCurrency=(e,t,n="en-US")=>{if(!e)return"â€”";return new Intl.NumberFormat(n,{style:"currency",currency:t,notation:"compact",maximumFractionDigits:2}).format(e)};n.formatContractAddress=e=>{if(!e)return"";if((0,s.isCaipAssetType)(e)){const{assetReference:t}=(0,s.parseCaipAssetType)(e);return(0,s.isStrictHexString)(t)?(0,i.toChecksumHexAddress)(t):t}return(0,s.isStrictHexString)(e)?(0,i.toChecksumHexAddress)(e):e};n.getPriceChangeColor=e=>e>0?a.TextColor.SuccessDefault:e<0?a.TextColor.ErrorDefault:a.TextColor.TextDefault;n.shouldShowContractAddress=e=>{if(!e)return!1;if(o(e))return!1;const t=e.toLowerCase();return!["0","0x0","0x"].includes(t)}}}},{package:"$root$",file:"ui/helpers/utils/token-insights.ts"}],[7107,{"../../components/component-library":6486,"../../hooks/useTrustSignals":7245,"../constants/design-system":7049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTrustSignalIcon=function(e){if(!e)return null;switch(e){case a.TrustSignalDisplayState.Malicious:return{name:s.IconName.Danger,color:r.IconColor.errorDefault};case a.TrustSignalDisplayState.Verified:return{name:s.IconName.VerifiedFilled,color:r.IconColor.infoDefault};case a.TrustSignalDisplayState.Warning:return null;case a.TrustSignalDisplayState.Unknown:return{name:s.IconName.Question,color:undefined};case a.TrustSignalDisplayState.Petname:case a.TrustSignalDisplayState.Recognized:return null;default:return{name:s.IconName.Question,color:undefined}}};var s=e("../../components/component-library"),r=e("../constants/design-system"),a=e("../../hooks/useTrustSignals")}}},{package:"$root$",file:"ui/helpers/utils/trust-signals.ts"}],[7110,{"../../../app/scripts/lib/util":358,"../../../shared/constants/app":5753,"../../../shared/modules/browser-runtime.utils":5884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("../../../shared/constants/app"),r=e("../../../app/scripts/lib/util"),a=e("../../../shared/modules/browser-runtime.utils");n.default=class{static async checkStatus(){const e=(0,r.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP,t=(0,a.getBrowserName)()===(s.PLATFORM_FIREFOX||s.PLATFORM_BRAVE),n=(await window.navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind),i=n.length>0,o=n.some(e=>e.label&&e.label.length>0);if(i){let n=!0;return(t&&e||e&&!o)&&(n=!1),{permissions:o,environmentReady:n}}const c=new Error("No webcam found");throw c.type="NO_WEBCAM_FOUND",c}}}}},{package:"$root$",file:"ui/helpers/utils/webcam-utils.js"}],[7111,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openWindow=void 0;n.openWindow=(e,t)=>{window.open(e,t||"_blank","noopener")}}}},{package:"$root$",file:"ui/helpers/utils/window.ts"}],[7112,{"../../../shared/constants/multichain/networks":5771,"../../selectors":8035,"./useMultichainWalletSnapClient":7114,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountCreationOnNetworkChange=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../../shared/constants/multichain/networks"),i=e("../../selectors"),o=e("./useMultichainWalletSnapClient");n.useAccountCreationOnNetworkChange=()=>{const e=(0,s.c)(8),t=(0,o.useMultichainWalletSnapClient)(o.WalletClientType.Bitcoin),n=(0,o.useMultichainWalletSnapClient)(o.WalletClientType.Solana),c=(0,r.useSelector)(i.getMetaMaskAccountsOrdered);let u;e[0]!==t||e[1]!==n?(u=async e=>{e:switch(e){case a.MultichainNetworks.BITCOIN:await t.createAccount({scope:a.MultichainNetworks.BITCOIN});break e;case a.MultichainNetworks.SOLANA:await n.createAccount({scope:a.MultichainNetworks.SOLANA});break e;default:throw new Error(`Unsupported chainId: ${e}`)}},e[0]=t,e[1]=n,e[2]=u):u=e[2];const l=u;let d;e[3]!==c?(d=e=>c.some(t=>{const{scopes:n}=t;return n.includes(e)}),e[3]=c,e[4]=d):d=e[4];const m=d;let p;return e[5]!==l||e[6]!==m?(p={createAccount:l,hasAnyAccountsInNetwork:m},e[5]=l,e[6]=m,e[7]=p):p=e[7],p}}}},{package:"$root$",file:"ui/hooks/accounts/useAccountCreationOnNetworkChange.ts"}],[7113,{"../../store/actions":8065,"../useI18nContext":7200,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountsOperationsLoadingStates=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("react"),i=e("../useI18nContext"),o=e("../../store/actions");function c(e){return e.metamask.isAccountTreeSyncingInProgress}n.useAccountsOperationsLoadingStates=()=>{const e=(0,s.c)(10),t=(0,i.useI18nContext)(),n=(0,r.useDispatch)(),u=(0,r.useSelector)(c);let l,d;e[0]!==n?(l=()=>{(0,o.forceUpdateMetamaskState)(n)},e[0]=n,e[1]=l):l=e[1],e[2]!==u?(d=[u],e[2]=u,e[3]=d):d=e[3],(0,a.useEffect)(l,d);const m=u;let p;e:{if(!0===u){let n;e[4]!==t?(n=t("syncing"),e[4]=t,e[5]=n):n=e[5],p=n;break e}p=undefined}const h=p;let g;return e[6]!==m||e[7]!==u||e[8]!==h?(g={areAnyOperationsLoading:m,isAccountTreeSyncingInProgress:u,loadingMessage:h},e[6]=m,e[7]=u,e[8]=h,e[9]=g):g=e[9],g}}}},{package:"$root$",file:"ui/hooks/accounts/useAccountsOperationsLoadingStates.ts"}],[7114,{"../../../shared/lib/accounts":5797,"../../../shared/lib/accounts/bitcoin-wallet-snap":5796,"../../../shared/lib/accounts/solana-wallet-snap":5800,"../../../shared/lib/accounts/tron-wallet-snap":5801,"../../store/actions":8065,"@metamask/keyring-controller":2183,"@metamask/snaps-utils":2902,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WalletClientType=n.MultichainWalletSnapSender=n.MultichainWalletSnapClient=n.EVM_WALLET_TYPE=void 0,n.useMultichainWalletSnapClient=function(e){const t=(0,s.c)(2);let n;t[0]!==e?(n=new T(e),t[0]=e,t[1]=n):n=t[1];return n},n.useMultichainWalletSnapSender=function(e){const t=(0,s.c)(2);let n;t[0]!==e?(n=new y(e),t[0]=e,t[1]=n):n=t[1];return n};var s=e("react-compiler-runtime"),r=e("@metamask/keyring-controller"),a=e("@metamask/snaps-utils"),i=(e("react"),e("../../../shared/lib/accounts")),o=e("../../../shared/lib/accounts/bitcoin-wallet-snap"),c=e("../../../shared/lib/accounts/solana-wallet-snap"),u=e("../../../shared/lib/accounts/tron-wallet-snap"),l=e("../../store/actions");function d(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function m(e,t){return e.get(h(e,t))}function p(e,t,n){return e.set(h(e,t),n),n}function h(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let f=n.WalletClientType=function(e){return e.Bitcoin="bitcoin-wallet-snap",e.Solana="solana-wallet-snap",e.Tron="tron-wallet-snap",e}({});n.EVM_WALLET_TYPE="evm";const S={[f.Bitcoin]:{id:o.BITCOIN_WALLET_SNAP_ID,name:o.BITCOIN_WALLET_NAME},[f.Solana]:{id:c.SOLANA_WALLET_SNAP_ID,name:c.SOLANA_WALLET_NAME},[f.Tron]:{id:u.TRON_WALLET_SNAP_ID,name:u.TRON_WALLET_NAME}};class y{constructor(e){g(this,"snapId",void 0),g(this,"send",async e=>await(0,l.handleSnapRequest)({origin:"metamask",snapId:this.snapId,handler:a.HandlerType.OnKeyringRequest,request:e})),this.snapId=e}}n.MultichainWalletSnapSender=y;var b=new WeakMap,v=new WeakMap;class T{constructor(e){d(this,b,void 0),d(this,v,void 0);const{id:t,name:n}=S[e];if(p(b,this,t),p(v,this,n),!m(b,this))throw new Error(`Unsupported client type: ${e}`)}getSnapId(){return m(b,this)}getSnapName(){return m(v,this)}async createAccount(e,t){return await(0,l.createSnapAccount)(m(b,this),e,t)}async getNextAvailableAccountName(e){return(0,i.getNextAvailableSnapAccountName)(async()=>(0,l.getNextAvailableAccountName)(r.KeyringTypes.snap),m(b,this),e)}}n.MultichainWalletSnapClient=T}}},{package:"$root$",file:"ui/hooks/accounts/useMultichainWalletSnapClient.ts"}],[7115,{"../../../shared/constants/bridge":5755,"../../../shared/constants/common":5756,"../../../shared/constants/multichain/networks":5771,"@metamask/bridge-controller":1318,"@metamask/transaction-controller":2989},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeHistoryItem:e,srcTxMeta:t,nonEvmTransaction:n}){var u,l,d,m,p,h;if(!((null==t?void 0:t.type)&&[s.TransactionType.bridge,s.TransactionType.swap].includes(t.type)||n))return{srcNetwork:undefined,destNetwork:undefined};const{srcChainId:g,destChainId:f}=e?c(e):{srcChainId:(null==t?void 0:t.chainId)??(null==n?void 0:n.chain),destChainId:(null==t?void 0:t.chainId)??(null==n?void 0:n.chain)};if(!g||!f)return{srcNetwork:undefined,destNetwork:undefined};let S,y,b,v;try{S=(0,r.formatChainIdToCaip)(g),b=(0,r.getNativeAssetForChainId)(g),y=(0,r.formatChainIdToCaip)(f),v=(0,r.getNativeAssetForChainId)(f)}catch(e){return console.warn("Error getting XChain swaps network info",e),{srcNetwork:undefined,destNetwork:undefined}}const T=(0,r.isNonEvmChainId)(g)?S:(0,r.formatChainIdToHex)(g),k={chainId:S,name:i.NETWORK_TO_SHORT_NETWORK_NAME_MAP[T],...(0,r.isNonEvmChainId)(S)?{isEvm:!1,nativeCurrency:null===(u=b)||void 0===u?void 0:u.assetId,blockExplorerUrl:null===(l=o.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[S])||void 0===l?void 0:l.url}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[a.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[T]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(d=b)||void 0===d?void 0:d.symbol,isEvm:!0}},w=(0,r.isNonEvmChainId)(f)?y:(0,r.formatChainIdToHex)(f),_={chainId:y,name:i.NETWORK_TO_SHORT_NETWORK_NAME_MAP[w],...(0,r.isNonEvmChainId)(y)?{isEvm:!1,nativeCurrency:null===(m=v)||void 0===m?void 0:m.assetId,blockExplorerUrl:null===(p=o.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[y])||void 0===p?void 0:p.url}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[a.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[w]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(h=v)||void 0===h?void 0:h.symbol,isEvm:!0}};return{srcNetwork:k,destNetwork:_}};var s=e("@metamask/transaction-controller"),r=e("@metamask/bridge-controller"),a=e("../../../shared/constants/common"),i=e("../../../shared/constants/bridge"),o=e("../../../shared/constants/multichain/networks");const c=({quote:e})=>{const{srcChainId:t,destChainId:n}=e;return{srcChainId:t,destChainId:n}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeChainInfo.ts"}],[7116,{"../../ducks/bridge/bridge":7022,"../../ducks/bridge/selectors":7023,"../../ducks/bridge/utils":7024,"../../ducks/metamask/metamask":7033,"../../selectors":8035,"../../selectors/multichain":8044,"../useMultichainSelector":7211,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeExchangeRates=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),i=e("../../ducks/bridge/selectors"),o=e("../../selectors"),c=e("../../ducks/metamask/metamask"),u=e("../../ducks/bridge/bridge"),l=e("../../ducks/bridge/utils"),d=e("../useMultichainSelector"),m=e("../../selectors/multichain");n.useBridgeExchangeRates=()=>{const e=(0,s.c)(17),t=(0,d.useMultichainSelector)(m.getMultichainCurrentChainId),n=(0,a.useDispatch)(),p=(0,a.useSelector)(c.getCurrentCurrency),h=(0,a.useSelector)(i.getFromToken),g=(0,a.useSelector)(o.getMarketData);let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=new AbortController,e[0]=f):f=e[0];const S=(0,r.useRef)(f);let y;e[1]!==h||e[2]!==g?(y=h?(0,l.exchangeRateFromMarketData)(h.chainId,h.address,g):undefined,e[1]=h,e[2]=g,e[3]=y):y=e[3];const b=y;let v,T,k,w;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=()=>()=>{var e;null===(e=S.current)||void 0===e||e.abort(),S.current=null},T=[],e[4]=v,e[5]=T):(v=e[4],T=e[5]),(0,r.useEffect)(v,T),e[6]!==b||e[7]!==p||e[8]!==n||e[9]!==h?(k=()=>{var e;null===(e=S.current)||void 0===e||e.abort(),S.current=new AbortController,h&&!b&&n((0,u.setSrcTokenExchangeRates)({chainId:h.chainId,tokenAddress:h.address,currency:p,signal:S.current.signal}))},e[6]=b,e[7]=p,e[8]=n,e[9]=h,e[10]=k):k=e[10],e[11]!==b||e[12]!==p||e[13]!==n||e[14]!==t||e[15]!==h?(w=[p,n,h,t,b],e[11]=b,e[12]=p,e[13]=n,e[14]=t,e[15]=h,e[16]=w):w=e[16],(0,r.useEffect)(k,w)}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeExchangeRates.ts"}],[7117,{"../../../shared/lib/asset-utils":5802,"../../../shared/lib/deep-links/routes/swap":5821,"../../../shared/lib/transactions-controller-utils":5875,"../../ducks/bridge/actions":7021,"../../ducks/bridge/selectors":7023,"@metamask/bridge-controller":1318,"@metamask/utils":3070,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeQueryParams=void 0;var s=e("react"),r=e("react-redux"),a=e("react-router-dom-v5-compat"),i=e("@metamask/utils"),o=e("@metamask/bridge-controller"),c=e("../../../shared/lib/asset-utils"),u=e("../../../shared/lib/deep-links/routes/swap"),l=e("../../../shared/lib/transactions-controller-utils"),d=e("../../ducks/bridge/actions"),m=e("../../ducks/bridge/selectors");const p=e=>{if(!e)return null;try{const t=i.CaipAssetTypeStruct.create(e),{chainId:n,assetReference:s}=(0,i.parseCaipAssetType)(t);return{chainId:n,assetReference:s,assetId:t}}catch{return null}};n.useBridgeQueryParams=()=>{const e=(0,r.useDispatch)(),t=(0,r.useSelector)(m.getFromChains),n=(0,r.useSelector)(m.getFromChain),h=(0,r.useSelector)(m.getFromToken),g=(0,r.useSelector)(m.getFromAccount),f=(0,s.useRef)(new AbortController),{search:S,pathname:y}=(0,a.useLocation)(),b=(0,a.useNavigate)(),v=(0,s.useMemo)(()=>new URLSearchParams(S),[S]),T=(0,s.useCallback)(e=>{const t=new URLSearchParams(S);e.forEach(e=>{t.get(e)&&t.delete(e)}),b({pathname:y,search:t.toString()},{replace:!0})},[S,y,b]),[k,w]=(0,s.useState)(null),[_,C]=(0,s.useState)(null),[I,A]=(0,s.useState)(null);(0,s.useEffect)(()=>()=>{f.current.abort()},[]);const[E,M]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=p(v.get(u.BridgeQueryParams.FROM)),t=p(v.get(u.BridgeQueryParams.TO)),n=v.get(u.BridgeQueryParams.AMOUNT);(e||t||n)&&(C(t),w(e),n&&A(n),T([u.BridgeQueryParams.FROM,u.BridgeQueryParams.TO,u.BridgeQueryParams.AMOUNT]),(null!=t&&t.assetId||null!=e&&e.assetId)&&(f.current.abort(),f.current=new AbortController,(async(e,t,n)=>{const s=[];if(t&&s.push(t),n&&s.push(n),0===s.length)return null;try{return await(0,c.fetchAssetMetadataForAssetIds)(s,e)}catch{return null}})(f.current.signal,null==e?void 0:e.assetId,null==t?void 0:t.assetId).then(e=>{M(e)})))},[v]);const N=(0,s.useCallback)((t,n,s,r)=>{const{chainId:a}=n;if(t){const{chainId:n,assetReference:c}=(0,i.parseCaipAssetType)(t.assetId),u=(0,o.getNativeAssetForChainId)(n),l=null==u?void 0:u.assetId.includes(c),m={...t,chainId:n,address:l||(0,o.isNativeAddress)(c)?(null==u?void 0:u.address)??"":c};if(r&&a===(0,o.formatChainIdToCaip)(r.chainId))e((0,d.setFromToken)(m));else{const t=s.find(e=>(0,o.formatChainIdToCaip)(e.chainId)===a);t&&e((0,d.setFromChain)({chainId:t.chainId,token:m}))}}},[]),P=(0,s.useCallback)(async t=>{const{chainId:n,assetReference:s}=(0,i.parseCaipAssetType)(t.assetId);e((0,d.setToToken)({...t,chainId:n,address:s})),C(null)},[]);(0,s.useEffect)(()=>{if(!k||!E||!t.length)return;const e=(null==E?void 0:E[k.assetId])??(null==E?void 0:E[k.assetId.toLowerCase()]);N(e,k,t,n)},[E,k,t,n]),(0,s.useEffect)(()=>{if(!_)return;const e=(null==E?void 0:E[_.assetId])??(null==E?void 0:E[_.assetId.toLowerCase()]);e&&P(e)},[_,E]),(0,s.useEffect)(()=>{var t;k&&h&&(null===(t=h.assetId)||void 0===t?void 0:t.toLowerCase())===k.assetId.toLowerCase()&&(w(null),I&&(e((0,d.setFromTokenInputValue)((0,l.calcTokenAmount)(I,h.decimals).toFixed(h.decimals))),A(null)))},[I,k,h]),(0,s.useEffect)(()=>{k||v.get(u.BridgeQueryParams.FROM)||!h||(0,o.isCrossChain)(h.chainId,null==n?void 0:n.chainId)||!g||(e((0,d.setEVMSrcTokenBalance)(h,g.address)),e((0,d.setEVMSrcNativeBalance)({selectedAddress:g.address,chainId:h.chainId})))},[k,g,h,n,v])}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeQueryParams.ts"}],[7118,{"../../../shared/lib/bridge-status/utils":5803,"../../ducks/bridge-status/selectors":7020,"../../helpers/constants/routes":7054,"@metamask/bridge-controller":1318,"@metamask/transaction-controller":2989,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FINAL_NON_CONFIRMED_STATUSES=void 0,n.useBridgeTxHistoryData=function(e){const t=(0,s.c)(15),{transactionGroup:n,isEarliestNonce:a}=e,m=(0,i.useNavigate)(),p=n.initialTransaction,h=p.id;let g;t[0]!==h?(g=e=>(0,l.selectBridgeHistoryItemForTxMetaId)(e,h),t[0]=h,t[1]=g):g=t[1];const f=(0,r.useSelector)(g),S=f?(null==f?void 0:f.status.status)===o.StatusTypes.FAILED:null;let y;t[2]!==a||t[3]!==m||t[4]!==h||t[5]!==n||t[6]!==p.status?(y=d.includes(p.status)?undefined:()=>{m(`${u.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/${h}`,{state:{transactionGroup:n,isEarliestNonce:a}})},t[2]=a,t[3]=m,t[4]=h,t[5]=n,t[6]=p.status,t[7]=y):y=t[7];const b=y;let v,T;t[8]!==f?(v=f?(0,c.isBridgeComplete)(f):null,t[8]=f,t[9]=v):v=t[9];t[10]!==f||t[11]!==S||t[12]!==b||t[13]!==v?(T={bridgeTxHistoryItem:f,isBridgeComplete:v,isBridgeFailed:S,showBridgeTxDetails:b},t[10]=f,t[11]=S,t[12]=b,t[13]=v,t[14]=T):T=t[14];return T};var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("@metamask/transaction-controller"),i=e("react-router-dom-v5-compat"),o=e("@metamask/bridge-controller"),c=e("../../../shared/lib/bridge-status/utils"),u=e("../../helpers/constants/routes"),l=e("../../ducks/bridge-status/selectors");const d=n.FINAL_NON_CONFIRMED_STATUSES=[a.TransactionStatus.failed,a.TransactionStatus.dropped,a.TransactionStatus.rejected]}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeTxHistoryData.ts"}],[7119,{"../../../shared/constants/bridge":5755,"../../../shared/constants/metametrics":5768,"../../../shared/constants/network":5772,"../../../shared/lib/asset-utils":5802,"../../../shared/lib/deep-links/routes/swap":5821,"../../../shared/lib/trace":5873,"../../contexts/metametrics":7005,"../../ducks/bridge/actions":7021,"../../ducks/bridge/selectors":7023,"../../helpers/constants/routes":7054,"../../selectors":8035,"@metamask/bridge-controller":1318,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("react-redux"),a=e("react-router-dom-v5-compat"),i=e("@metamask/bridge-controller"),o=e("../../ducks/bridge/actions"),c=e("../../selectors"),u=e("../../contexts/metametrics"),l=e("../../../shared/constants/metametrics"),d=e("../../helpers/constants/routes"),m=e("../../../shared/lib/deep-links/routes/swap"),p=e("../../../shared/lib/trace"),h=e("../../../shared/lib/asset-utils"),g=e("../../../shared/constants/bridge"),f=e("../../ducks/bridge/selectors"),S=e("../../../shared/constants/network");n.default=()=>{const e=(0,a.useNavigate)(),t=(0,r.useDispatch)(),n=(0,s.useContext)(u.MetaMetricsContext),y=(0,r.useSelector)(c.getMetaMetricsId),b=(0,r.useSelector)(c.getParticipateInMetaMetrics),v=(0,r.useSelector)(c.getDataCollectionForMarketing),T=(0,r.useSelector)(f.getLastSelectedChainId),k=(0,r.useSelector)(f.getFromChain),w=(0,r.useSelector)(f.getFromChains),_=(0,s.useCallback)(e=>g.ALL_ALLOWED_BRIDGE_CHAIN_IDS.includes(e)&&w.some(t=>(0,i.formatChainIdToCaip)(t.chainId)===(0,i.formatChainIdToCaip)(e)),[w]);return{openBridgeExperience:(0,s.useCallback)((s,r)=>{let a=null!=r&&r.chainId&&_(r.chainId)?(0,h.toAssetId)(r.address,(0,i.formatChainIdToCaip)(r.chainId)):undefined;const c=T&&_(T)?T:S.CHAIN_IDS.MAINNET;var u;a||c===(null==k?void 0:k.chainId)||(a=null===(u=(0,i.getNativeAssetForChainId)(c))||void 0===u?void 0:u.assetId);(0,p.trace)({name:p.TraceName.SwapViewLoaded,startTime:Date.now()}),n({event:l.MetaMetricsEventName.SwapLinkClicked,category:l.MetaMetricsEventCategory.Navigation,properties:{token_symbol:(null==r?void 0:r.symbol)??"",location:s,text:"Swap",chain_id:(null==r?void 0:r.chainId)??T}}),t((0,o.trackUnifiedSwapBridgeEvent)(i.UnifiedSwapBridgeEventName.ButtonClicked,{location:s,token_symbol_source:(null==r?void 0:r.symbol)??"ETH",token_symbol_destination:""})),t((0,o.resetInputFields)());let g=`${d.CROSS_CHAIN_SWAP_ROUTE}${d.PREPARE_SWAP_ROUTE}`;g+="?",a&&(g+=`${m.BridgeQueryParams.FROM}=${a}`),s===l.MetaMetricsSwapsEventSource.TransactionShield&&(g+=(a?"&":"")+"isFromTransactionShield=true"),e(g)},[e,y,n,b,v,T,null==k?void 0:k.chainId,_])}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridging.ts"}],[7120,{"../../ducks/bridge/selectors":7023,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCountdownTimer=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),i=e("../../ducks/bridge/selectors");const o=1e3;n.useCountdownTimer=()=>{const e=(0,s.c)(9),{quotesLastFetchedMs:t}=(0,a.useSelector)(i.getBridgeQuotes),n=(0,a.useSelector)(i.getQuoteRefreshRate),[c,u]=(0,r.useState)(n+o),l=(0,r.useRef)(n);let d,m,p,h,g,f;return e[0]!==c?(d=()=>{l.current=c},m=[c],e[0]=c,e[1]=d,e[2]=m):(d=e[1],m=e[2]),(0,r.useEffect)(d,m),e[3]!==t||e[4]!==n?(p=()=>{t&&u(n-(Date.now()-t)+o)},h=[t,n],e[3]=t,e[4]=n,e[5]=p,e[6]=h):(p=e[5],h=e[6]),(0,r.useEffect)(p,h),e[7]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{const e=setInterval(()=>{u(Math.max(0,l.current-o))},o);return()=>clearInterval(e)},f=[],e[7]=g,e[8]=f):(g=e[7],f=e[8]),(0,r.useEffect)(g,f),Math.floor(c/1e3)}}}},{package:"$root$",file:"ui/hooks/bridge/useCountdownTimer.ts"}],[7121,{"../../ducks/bridge/selectors":7023,"../../selectors/multichain":8044,"../useMultichainSelector":7211,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsTxSubmittable=void 0;var s=e("react-redux"),r=e("../../ducks/bridge/selectors"),a=e("../../selectors/multichain"),i=e("../useMultichainSelector");n.useIsTxSubmittable=()=>{const e=(0,s.useSelector)(r.getFromToken),t=(0,s.useSelector)(r.getToToken),n=(0,i.useMultichainSelector)(a.getMultichainCurrentChainId),o=(0,s.useSelector)(r.getFromAmount),{activeQuote:c}=(0,s.useSelector)(r.getBridgeQuotes),{isInsufficientBalance:u,isInsufficientGasBalance:l,isInsufficientGasForQuote:d,isTxAlertPresent:m}=(0,s.useSelector)(r.getValidationErrors);return Boolean(e&&t&&n&&o&&c&&!u&&!l&&!d&&!m)}}}},{package:"$root$",file:"ui/hooks/bridge/useIsTxSubmittable.ts"}],[7122,{"../../ducks/bridge/actions":7021,"../../ducks/bridge/selectors":7023,"./useIsTxSubmittable":7121,"@metamask/bridge-controller":1318,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useQuoteFetchEvents=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),i=e("@metamask/bridge-controller"),o=e("../../ducks/bridge/selectors"),c=e("../../ducks/bridge/actions"),u=e("./useIsTxSubmittable");n.useQuoteFetchEvents=()=>{const e=(0,s.c)(11),t=(0,a.useDispatch)(),{isLoading:n,quotesRefreshCount:l,quoteFetchError:d,activeQuote:m,recommendedQuote:p}=(0,a.useSelector)(o.getBridgeQuotes),h=(0,u.useIsTxSubmittable)(),g=(0,a.useSelector)(o.getWarningLabels);let f,S;e[0]!==m||e[1]!==t||e[2]!==n||e[3]!==h||e[4]!==d||e[5]!==l||e[6]!==p||e[7]!==g?(f=()=>{!n&&l>0&&!d&&t((0,c.trackUnifiedSwapBridgeEvent)(i.UnifiedSwapBridgeEventName.QuotesReceived,(0,i.getQuotesReceivedProperties)(m,g,h,p)))},e[0]=m,e[1]=t,e[2]=n,e[3]=h,e[4]=d,e[5]=l,e[6]=p,e[7]=g,e[8]=f):f=e[8],e[9]!==l?(S=[l],e[9]=l,e[10]=S):S=e[10],(0,r.useEffect)(f,S)}}}},{package:"$root$",file:"ui/hooks/bridge/useQuoteFetchEvents.ts"}],[7123,{"../../../shared/modules/hexstring-utils":5896,"../../ducks/bridge/selectors":7023,"../../ducks/rewards/selectors":7038,"../../selectors/multichain":8044,"../../selectors/multichain-accounts/account-tree":8039,"../../store/actions":8065,"../useMultichainSelector":7211,"../usePrevious":7222,"@metamask/bridge-controller":1318,"@metamask/utils":3070,"bignumber.js":3926,lodash:4794,loglevel:4802,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRewardsWithQuote=n.useRewards=n.getUsdPricePerToken=void 0;var s,r=e("react"),a=e("react-redux"),i=e("bignumber.js"),o=e("@metamask/bridge-controller"),c=e("@metamask/utils"),u=(s=e("loglevel"))&&s.__esModule?s:{default:s},l=e("lodash"),d=e("../../ducks/bridge/selectors"),m=e("../../selectors/multichain"),p=e("../usePrevious"),h=e("../useMultichainSelector"),g=e("../../store/actions"),f=e("../../../shared/modules/hexstring-utils"),S=e("../../selectors/multichain-accounts/account-tree"),y=e("../../ducks/rewards/selectors");const b=(e,t,n)=>{try{const s=new i.BigNumber(e),r=new i.BigNumber(t).div(new i.BigNumber(10).pow(n));return s.isZero()||r.isZero()?undefined:s.dividedBy(r).toString()}catch(e){return console.error(e,"useRewards: Error calculating USD price per token"),undefined}};n.getUsdPricePerToken=b;const v=({quote:e,fromAddress:t,fromAddressAccount:n,chainId:s})=>{const i=(0,a.useDispatch)(),[d,m]=(0,r.useState)(!1),[h,S]=(0,r.useState)(null),[v,T]=(0,r.useState)(!1),[k,w]=(0,r.useState)(!1),_=(0,p.usePrevious)(null==e?void 0:e.requestId),[C,I]=(0,r.useState)(null),A=(0,a.useSelector)(y.selectRewardsEnabled),E=(0,a.useSelector)(y.selectRewardsAccountLinkedTimestamp),M=(0,r.useRef)(new Map),[N,P]=(0,r.useState)(null),R=(0,r.useCallback)((0,l.debounce)(async(e,t)=>{if(!e||!t)return S(null),T(!1),m(!1),void w(!1);try{var n;const s=e.srcTokenAmount,r=e.destTokenAmount,a={id:e.srcAsset.assetId,amount:s},o={id:e.destAsset.assetId,amount:r},c={id:e.feeData.metabridge.asset.assetId,amount:e.feeData.metabridge.amount||"0"},u=b((null===(n=e.priceData)||void 0===n?void 0:n.totalFeeAmountUsd)||"0",c.amount,e.feeData.metabridge.asset.decimals),l={activityType:"SWAP",account:t,activityContext:{swapContext:{srcAsset:a,destAsset:o,feeAsset:{...c,...u?{usdPrice:u}:{}}}}},d=await i((0,g.estimateRewardsPoints)(l));S(d.pointsEstimate)}catch(e){u.default.error("[useRewardsWithQuote] Error estimating points:",e),S(null),w(!0)}finally{m(!1)}},750),[i]),O=(0,r.useCallback)(async e=>{if(!(e&&t&&s&&A))return S(null),T(!1),I(null),m(!1),void w(!1);m(!0),w(!1);let r=null;try{if(!await i((0,g.getRewardsCandidateSubscriptionId)()))return S(null),T(!1),I(null),w(!1),void m(!1);if(r=((e,t)=>{try{const n=(0,o.formatChainIdToCaip)(t),{namespace:s,reference:r}=(0,c.parseCaipChainId)(n),a=(0,c.isValidHexAddress)(e)?(0,f.toChecksumHexAddress)(e):e;return(0,c.toCaipAccountId)(s,r,a)}catch(e){return u.default.error("[useRewards] Error formatting account to CAIP-10:",e),null}})(t,s),!r)return S(null),w(!1),T(!1),I(null),void m(!1);const a=await i((0,g.getRewardsHasAccountOptedIn)(r));I(a);let l=a;if(!a&&n){l=await i((0,g.rewardsIsOptInSupported)({account:n}))}if(T(l),S(null),w(!1),!l||!a)return void m(!1);await R(e,r)}catch{m(!1),T(!1),S(null),I(null),w(!1)}},[t,s,A,i,n,R]);return(0,r.useEffect)(()=>{_!==(null==e?void 0:e.requestId)&&O(e)},[O,null==e?void 0:e.requestId,e,_]),(0,r.useEffect)(()=>{if(t&&null!==E)M.current.set(t,E),P(E);else if(t){const e=M.current.get(t);P(e??null)}else P(null)},[E,t]),(0,r.useEffect)(()=>{null!==N&&!1===C&&O(e)},[N,C,O,e]),{shouldShowRewardsRow:v,isLoading:d,estimatedPoints:h,hasError:k,accountOptedIn:C,rewardsAccountScope:e&&v?n:null}};n.useRewardsWithQuote=v;n.useRewards=({activeQuote:e})=>{const t=(0,a.useSelector)(d.getFromToken),n=(0,a.useSelector)(d.getToToken),s=(0,a.useSelector)(d.getQuoteRequest),r=(0,h.useMultichainSelector)(m.getMultichainCurrentChainId),i=r?(0,o.formatChainIdToCaip)(r.toString()):null,c=(0,a.useSelector)(e=>i?(0,S.getInternalAccountBySelectedAccountGroupAndCaip)(e,i):null),u=t&&n&&(null==s?void 0:s.srcTokenAmount)&&(null==c?void 0:c.address);return v({quote:u?e:null,fromAddress:null==c?void 0:c.address,fromAddressAccount:c,chainId:null==r?void 0:r.toString()})}}}},{package:"$root$",file:"ui/hooks/bridge/useRewards.ts"}],[7124,{"../../ducks/bridge/actions":7021,"../../pages/bridge/utils/slippage-service":7314,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSmartSlippage=function(e){const t=(0,s.c)(17),{fromChain:n,toChain:c,fromToken:u,toToken:l,isSwap:d}=e,m=(0,a.useDispatch)();let p;t[0]!==n||t[1]!==u||t[2]!==d||t[3]!==c||t[4]!==l?(p=()=>{const e={fromChain:n,toChain:c,fromToken:u,toToken:l,isSwap:d},t=(0,i.calculateSlippage)(e);return t},t[0]=n,t[1]=u,t[2]=d,t[3]=c,t[4]=l,t[5]=p):p=t[5];const h=p;let g,f;t[6]!==h||t[7]!==m?(g=()=>{const e=h();m((0,o.setSlippage)(e))},t[6]=h,t[7]=m,t[8]=g):g=t[8];t[9]!==h||t[10]!==m||t[11]!==n||t[12]!==u||t[13]!==d||t[14]!==c||t[15]!==l?(f=[n,c,u,l,d,h,m],t[9]=h,t[10]=m,t[11]=n,t[12]=u,t[13]=d,t[14]=c,t[15]=l,t[16]=f):f=t[16];(0,r.useEffect)(g,f)};var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),i=e("../../pages/bridge/utils/slippage-service"),o=e("../../ducks/bridge/actions")}}},{package:"$root$",file:"ui/hooks/bridge/useSmartSlippage.ts"}],[7125,{"../../../shared/modules/bridge-utils/security-alerts-api.util":5883,"../../ducks/bridge/selectors":7023,"../useAsync":7181,"@metamask/bridge-controller":1318,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenAlerts=n.default=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("@metamask/bridge-controller"),i=e("../../ducks/bridge/selectors"),o=e("../../../shared/modules/bridge-utils/security-alerts-api.util"),c=e("../useAsync");const u=()=>{const e=(0,s.c)(10),t=(0,r.useSelector)(i.getFromToken),n=(0,r.useSelector)(i.getFromChain),u=(0,r.useSelector)(i.getToToken),l=(0,r.useSelector)(i.getToChain);let d;e[0]!==n||e[1]!==t||e[2]!==l||e[3]!==u?(d=async()=>{if(t&&n&&u&&l&&!(0,a.isNativeAddress)(u.address)){const e=(0,o.convertChainIdToBlockAidChainName)(null==l?void 0:l.chainId);if(e)return await(0,o.fetchTokenAlert)(e,(0,a.formatAddressToCaipReference)(u.address))}return null},e[0]=n,e[1]=t,e[2]=l,e[3]=u,e[4]=d):d=e[4];const m=null==u?void 0:u.address,p=null==l?void 0:l.chainId;let h;e[5]!==m||e[6]!==p?(h=[m,p],e[5]=m,e[6]=p,e[7]=h):h=e[7];const{value:g}=(0,c.useAsyncResult)(d,h);let f;return e[8]!==g?(f={tokenAlert:g},e[8]=g,e[9]=f):f=e[9],f};n.useTokenAlerts=u;n.default=u}}},{package:"$root$",file:"ui/hooks/bridge/useTokenAlerts.ts"}],[7126,{"../../../shared/constants/bridge":5755,"../../../shared/constants/multichain/networks":5771,"../../../shared/constants/network":5772,"../../../shared/constants/time":5790,"../../../shared/constants/transaction":5792,"../../../shared/lib/asset-utils":5802,"../../../shared/lib/fetch-with-cache":5847,"../../ducks/bridge/selectors":7023,"../../ducks/bridge/utils":7024,"../../pages/swaps/swaps.util":8012,"../useAsync":7181,"../useMultichainBalances":7210,"@metamask/bridge-controller":1318,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokensWithFiltering=void 0;var s,r=e("react"),a=e("react-redux"),i=e("@metamask/bridge-controller"),o=e("../../../shared/constants/transaction"),c=e("../../../shared/constants/network"),u=e("../useMultichainBalances"),l=e("../useAsync"),d=e("../../pages/swaps/swaps.util"),m=e("../../../shared/constants/time"),p=e("../../ducks/bridge/selectors"),h=(s=e("../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},g=e("../../../shared/constants/bridge"),f=e("../../../shared/lib/asset-utils"),S=e("../../../shared/constants/multichain/networks"),y=e("../../ducks/bridge/utils");const b=(e,t)=>{if(!e||!t)return undefined;const n={...t,chainId:(0,i.isNonEvmChainId)(e)?(0,i.formatChainIdToCaip)(e):(0,i.formatChainIdToHex)(e),assetId:"assetId"in t?t.assetId:(0,f.toAssetId)(t.address,(0,i.formatChainIdToCaip)(e))};if((0,i.isNativeAddress)(t.address)){const s=(0,i.isNonEvmChainId)(e)?S.MULTICHAIN_TOKEN_IMAGE_MAP[n.chainId]:c.CHAIN_ID_TOKEN_IMAGE_MAP[n.chainId];return{...n,type:o.AssetType.native,address:"",image:s??(t.iconUrl||("icon"in t?t.icon:"")||""),balance:"0",string:"0"}}return{...n,type:o.AssetType.token,image:t.iconUrl??("icon"in t?t.icon:"")??"",balance:"",string:undefined}};n.useTokensWithFiltering=(e,t,n)=>{const s=(0,a.useSelector)(t=>(0,p.getTopAssetsFromFeatureFlags)(t,e)),{assetsWithBalance:v}=(0,u.useMultichainBalances)(n),T=(0,a.useSelector)(e=>e.metamask.tokensChainsCache),k=(0,r.useMemo)(()=>{var t;if(!e)return undefined;if((0,i.isBitcoinChainId)(e)){const t=(0,i.getNativeAssetForChainId)(e);if(t){const e=t.address??"";return{[e]:t}}return undefined}if((0,i.isSolanaChainId)(e))return undefined;const n=(0,i.formatChainIdToHex)(e);return n?null===(t=T[n])||void 0===t?void 0:t.data:undefined},[e,T]),w=Boolean(k),{value:_,pending:C}=(0,l.useAsyncResult)(async()=>w||!e?{}:await(0,i.fetchBridgeTokens)(e,i.BridgeClientId.EXTENSION,async(e,t)=>{const{headers:n,...s}=t??{};return await(0,h.default)({url:e,...s,fetchOptions:{method:"GET",headers:n},cacheOptions:{cacheRefreshTime:10*m.MINUTE},functionName:"fetchBridgeTokens"})},g.BRIDGE_API_BASE_URL,"13.13.2"),[e,w]),I=(0,r.useMemo)(()=>k??_,[k,_]),{value:A,pending:E}=(0,l.useAsyncResult)(async()=>e?s?s.map(e=>({address:e})):await(0,d.fetchTopAssetsList)(e):[],[e,s]);return{filteredTokenListGenerator:(0,r.useCallback)(n=>function*(){const s=(e,s,r)=>{var a;const o=e=>e&&(0,i.isNativeAddress)(e)?"":e;return n(e,s,r)&&(!t||!r||!(t.symbol===e&&((0,i.isSolanaChainId)(r)?o(t.address)===o(s):(null===(a=t.address)||void 0===a?void 0:a.toLowerCase())===(null==s?void 0:s.toLowerCase()))&&t.chainId===(0,i.formatChainIdToCaip)(r)))};if(e&&A&&I&&0!==Object.keys(I).length){for(const e of v){var r,a,u;if(!(0,y.isTronEnergyOrBandwidthResource)(e.chainId,e.symbol))if(s(e.symbol,e.address,e.chainId))if((0,i.isNativeAddress)(e.address)||e.isNative)yield{symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:"",type:o.AssetType.native,balance:e.balance??"0",string:e.string??undefined,image:c.CHAIN_ID_TOKEN_IMAGE_MAP[e.chainId]??S.MULTICHAIN_TOKEN_IMAGE_MAP[e.chainId]??((null===(r=(0,i.getNativeAssetForChainId)(e.chainId))||void 0===r?void 0:r.icon)||(null===(a=(0,i.getNativeAssetForChainId)(e.chainId))||void 0===a?void 0:a.iconUrl)||(0,f.getAssetImageUrl)(e.address,(0,i.formatChainIdToCaip)(e.chainId))),accountType:e.accountType};else yield{...e,symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:e.address,type:o.AssetType.token,balance:e.balance??"0",string:e.string??undefined,image:(e.image||e.address&&(null==I||null===(u=I[e.address.toLowerCase()])||void 0===u?void 0:u.iconUrl))??(0,f.getAssetImageUrl)(e.address,(0,i.formatChainIdToCaip)(e.chainId))??""}}for(const t of A){const n=(null==I?void 0:I[t.address])??(null==I?void 0:I[t.address.toLowerCase()]),r=b(e,n);r&&!(0,y.isTronEnergyOrBandwidthResource)(e,r.symbol)&&s(r.symbol,r.address??undefined,e)&&(yield r)}for(const t of Object.values(I)){const n=b(e,t);n&&-1===n.symbol.indexOf("$")&&!(0,y.isTronEnergyOrBandwidthResource)(e,n.symbol)&&s(n.symbol,n.address??undefined,e)&&(yield n)}}}(),[v,A,e,I,t]),isLoading:C||E}}}}},{package:"$root$",file:"ui/hooks/bridge/useTokensWithFiltering.ts"}],[7127,{"../../../shared/constants/multichain/networks":5771,"../../ducks/bridge/actions":7021,"../../ducks/bridge/selectors":7023,"@metamask/bridge-controller":1318,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTxAlerts=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),i=e("@metamask/bridge-controller"),o=e("../../../shared/constants/multichain/networks"),c=e("../../ducks/bridge/selectors"),u=e("../../ducks/bridge/actions");n.useTxAlerts=()=>{const e=(0,s.c)(14),t=(0,a.useDispatch)(),n=(0,a.useSelector)(c.getFromChain),{activeQuote:l}=(0,a.useSelector)(c.getBridgeQuotes);let d;e[0]!==l?(d=l??{},e[0]=l,e[1]=d):d=e[1];const{trade:m}=d,p=(0,a.useSelector)(c.getFromAccount);let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=new AbortController,e[2]=h):h=e[2];const g=(0,r.useRef)(h);let f,S,y;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=()=>()=>{var e;null===(e=g.current)||void 0===e||e.abort(),g.current=null},S=[],e[3]=f,e[4]=S):(f=e[3],S=e[4]),(0,r.useEffect)(f,S),e[5]!==p||e[6]!==t||e[7]!==n||e[8]!==m?(y=()=>{var e;null===(e=g.current)||void 0===e||e.abort(),m&&"string"==typeof m&&null!=n&&n.chainId&&(0,i.isSolanaChainId)(n.chainId)&&null!=p&&p.address?(g.current=new AbortController,t((0,u.setTxAlerts)({signal:g.current.signal,chainId:o.MultichainNetworks.SOLANA,trade:m,accountAddress:p.address}))):t((0,u.setTxAlerts)(null))},e[5]=p,e[6]=t,e[7]=n,e[8]=m,e[9]=y):y=e[9];const b=null==n?void 0:n.chainId,v=null==p?void 0:p.address;let T;e[10]!==b||e[11]!==v||e[12]!==m?(T=[m,b,v],e[10]=b,e[11]=v,e[12]=m,e[13]=T):T=e[13],(0,r.useEffect)(y,T)}}}},{package:"$root$",file:"ui/hooks/bridge/useTxAlerts.ts"}],[7128,{"../../store/actions":8065,"../../store/background-connection":8066},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deFiStartPolling=async function(){const e=await(0,r.submitRequestToBackground)("deFiStartPolling",[null]);return await(0,s.addPollingTokenToAppState)(e),e},n.deFiStopPolling=async function(e){await(0,r.submitRequestToBackground)("deFiStopPolling",[e]),await(0,s.removePollingTokenFromAppState)(e)};var s=e("../../store/actions"),r=e("../../store/background-connection")}}},{package:"$root$",file:"ui/hooks/defi/defiPollingActions.ts"}],[7129,{"../../ducks/metamask/metamask":7033,"../useMultiPolling":7206,"./defiPollingActions":7128,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-compiler-runtime"),a=e("react-redux"),i=e("../../ducks/metamask/metamask"),o=(s=e("../useMultiPolling"))&&s.__esModule?s:{default:s},c=e("./defiPollingActions");n.default=()=>{const e=(0,r.c)(3),t=(0,a.useSelector)(i.getCompletedOnboarding),n=(0,a.useSelector)(i.getIsUnlocked),s=t&&n;let u,l;return e[0]!==s?(u={startPolling:c.deFiStartPolling,stopPollingByPollingToken:c.deFiStopPolling,input:s?[null]:[]},e[0]=s,e[1]=u):u=e[1],(0,o.default)(u),e[2]===Symbol.for("react.memo_cache_sentinel")?(l={},e[2]=l):l=e[2],l}}}},{package:"$root$",file:"ui/hooks/defi/useDeFiPolling.ts"}],[7130,{"../../pages/confirmations/hooks/useConfirmationNavigation":7693,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGatorPermissionRedirect=function(e){const t=(0,s.c)(16);let n;t[0]!==e?(n=e===undefined?{}:e,t[0]=e,t[1]=n):n=t[1];const{onRedirect:i}=n,[o,c]=(0,r.useState)(),{confirmations:u,navigateToId:l}=(0,a.useConfirmationNavigation)();let d;if(t[2]!==u||t[3]!==o){let e;t[5]!==o?(e=e=>e.id===o,t[5]=o,t[6]=e):e=t[6],d=u.some(e),t[2]=u,t[3]=o,t[4]=d}else d=t[4];const m=d;let p,h,g;t[7]!==m||t[8]!==l||t[9]!==i||t[10]!==o?(p=()=>{m&&(l(o),null==i||i())},h=[m,l,o,i],t[7]=m,t[8]=l,t[9]=i,t[10]=o,t[11]=p,t[12]=h):(p=t[11],h=t[12]);(0,r.useEffect)(p,h),t[13]!==m||t[14]!==o?(g={transactionId:o,setTransactionId:c,isRedirectPending:m},t[13]=m,t[14]=o,t[15]=g):g=t[15];return g};var s=e("react-compiler-runtime"),r=e("react"),a=e("../../pages/confirmations/hooks/useConfirmationNavigation")}}},{package:"$root$",file:"ui/hooks/gator-permissions/useGatorPermissionRedirect.ts"}],[7131,{"../../selectors/gator-permissions/gator-permissions":8032,"../../store/controller-actions/gator-permissions-controller":8067,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGatorPermissions=function(e={}){const{refreshInBackground:t=!0}=e,n=(0,r.useDispatch)(),o=(0,r.useSelector)(e=>{try{return(0,i.getGatorPermissionsMap)(e)}catch(e){return undefined}}),[c,u]=(0,s.useState)(!o),[l,d]=(0,s.useState)(!1),[m,p]=(0,s.useState)(undefined),h=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{let e=!1;return o&&!t?u(!1):h.current||(async()=>{try{p(undefined),o?d(!0):u(!0),await(0,a.fetchAndUpdateGatorPermissions)({isRevoked:!1})}catch(t){e||p(t)}finally{e||(u(!1),d(!1))}})().then(()=>{h.current=!0}).catch(()=>{}),()=>{e=!0}},[n,t]),{data:o,error:m,loading:c,isRefreshing:l}};var s=e("react"),r=e("react-redux"),a=e("../../store/controller-actions/gator-permissions-controller"),i=e("../../selectors/gator-permissions/gator-permissions")}}},{package:"$root$",file:"ui/hooks/gator-permissions/useGatorPermissions.ts"}],[7132,{"../../../shared/lib/delegation/delegation":5838,"../../selectors/accounts":8024,"../../store/actions":8065,"../../store/controller-actions/gator-permissions-controller":8067,"./useGatorPermissionRedirect":7130,"./utils":7134,"@metamask/transaction-controller":2989,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRevokeGatorPermissions=function({chainId:e,onRedirect:t}){const{setTransactionId:n}=(0,l.useGatorPermissionRedirect)({onRedirect:t}),m=(0,r.useStore)(),p=(0,s.useCallback)(e=>{if(Array.isArray(e)){if(0===e.length)throw new Error("No gator permissions provided");for(const t of e)p(t)}else if(!e)throw new Error("No gator permission provided")},[]),h=(0,s.useCallback)(t=>{if(t.permissionResponse.chainId!==e)throw new Error("Chain ID does not match")},[e]),g=(0,s.useCallback)(e=>{const{permissionResponse:t}=e,n=(0,i.getMemoizedInternalAccountByAddress)(m.getState(),t.address);if(!n)throw new Error("Internal account not found for delegator of permission");return{permissionContext:t.context,delegationManagerAddress:t.signerMeta.delegationManager,accountAddress:n.address}},[m]),f=(0,s.useCallback)(async e=>{const t=e.permissionResponse.chainId;let n;try{n=await(0,o.findNetworkClientIdByChainId)(t)}catch(e){throw new Error(`Failed to find network client for chain ${t}`,{cause:e})}const{permissionContext:s,delegationManagerAddress:r,accountAddress:i}=g(e),l=(0,d.extractDelegationFromGatorPermissionContext)(s),m=(0,c.getDelegationHashOffchain)(l);if(await(0,u.checkDelegationDisabled)(r,m,n))return await(0,u.submitRevocation)({permissionContext:s}),null;const p=(0,c.encodeDisableDelegation)({delegation:l}),h=await(0,o.addTransaction)({from:i,to:r,data:p,value:"0x0"},{networkClientId:n,type:a.TransactionType.contractInteraction});if(!h)throw new Error("No transaction meta found");if(!h.id)throw new Error("No transaction id found");return await(0,u.addPendingRevocation)({txId:h.id,permissionContext:s}),h},[g]),S=(0,s.useCallback)(async e=>{p(e),h(e);const t=await f(e);return n(null==t?void 0:t.id),t},[f,h,p,n]),y=(0,s.useCallback)(async e=>{var t;p(e);for(const t of e)h(t);const s=[];for(const t of e){const e=await f(t);s.push(e)}const r=s.filter(e=>null!==e);return n(null===(t=r[0])||void 0===t?void 0:t.id),r},[f,h,p,n]);return{revokeGatorPermission:S,revokeGatorPermissionBatch:y}};var s=e("react"),r=e("react-redux"),a=e("@metamask/transaction-controller"),i=e("../../selectors/accounts"),o=e("../../store/actions"),c=e("../../../shared/lib/delegation/delegation"),u=e("../../store/controller-actions/gator-permissions-controller"),l=e("./useGatorPermissionRedirect"),d=e("./utils")}}},{package:"$root$",file:"ui/hooks/gator-permissions/useRevokeGatorPermissions.ts"}],[7133,{"../../../shared/lib/delegation/delegation":5838,"../../selectors/accounts":8024,"../../store/actions":8065,"../../store/controller-actions/gator-permissions-controller":8067,"./useGatorPermissionRedirect":7130,"./utils":7134,"@metamask/transaction-controller":2989,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRevokeGatorPermissionsMultiChain=function({onRedirect:e}={}){const{setTransactionId:t}=(0,d.useGatorPermissionRedirect)({onRedirect:e}),n=(0,r.useStore)();return{revokeGatorPermissionsBatchMultiChain:(0,s.useCallback)(async e=>{const s={},r=[];for(const[t,d]of Object.entries(e)){if(s[t]={revoked:[],skipped:[],errors:[]},0===d.length)continue;let e;try{e=await(0,i.findNetworkClientIdByChainId)(t)}catch(e){const n=e instanceof Error?e.message:String(e);s[t].errors.push(new Error(`No network client ID found for chain ${t}: ${n}`));continue}for(const m of d)try{const{permissionResponse:d}=m,p=(0,o.getMemoizedInternalAccountByAddress)(n.getState(),d.address);if(!p){s[t].skipped.push(m);continue}const h=(0,l.extractDelegationFromGatorPermissionContext)(d.context),g=(0,c.encodeDisableDelegation)({delegation:h}),f=await(0,i.addTransaction)({from:p.address,to:d.signerMeta.delegationManager,data:g,value:"0x0"},{networkClientId:e,type:a.TransactionType.contractInteraction});if(!f)throw new Error("No transaction meta found");if(!f.id)throw new Error("No transaction id found");s[t].revoked.push(f),r.push(f.id),await(0,u.addPendingRevocation)({txId:f.id,permissionContext:d.context})}catch(e){s[t].errors.push(e)}}return r.length>0&&t(r[0]),s},[n,t])}};var s=e("react"),r=e("react-redux"),a=e("@metamask/transaction-controller"),i=e("../../store/actions"),o=e("../../selectors/accounts"),c=e("../../../shared/lib/delegation/delegation"),u=e("../../store/controller-actions/gator-permissions-controller"),l=e("./utils"),d=e("./useGatorPermissionRedirect")}}},{package:"$root$",file:"ui/hooks/gator-permissions/useRevokeGatorPermissionsMultiChain.ts"}],[7134,{"@metamask/delegation-core":1397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extractDelegationFromGatorPermissionContext=function(e){const t=(0,s.decodeDelegations)(e),n=t[0];if(!n)throw new Error("No delegation found");if(1!==t.length)throw new Error("Multiple delegations found");return{...n,salt:`0x${n.salt.toString(16)}`}};var s=e("@metamask/delegation-core")}}},{package:"$root$",file:"ui/hooks/gator-permissions/utils.ts"}],[7135,{"./useAccountSyncing":7136},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAccountSyncing",{enumerable:!0,get:function(){return s.useAccountSyncing}}),Object.defineProperty(n,"useDeleteAccountSyncingDataFromUserStorage",{enumerable:!0,get:function(){return s.useDeleteAccountSyncingDataFromUserStorage}}),Object.defineProperty(n,"useShouldDispatchAccountSyncing",{enumerable:!0,get:function(){return s.useShouldDispatchAccountSyncing}});var s=e("./useAccountSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/index.ts"}],[7136,{"../../../ducks/metamask/metamask":7033,"../../../selectors":8035,"../../../selectors/identity/authentication":8033,"../../../selectors/identity/backup-and-sync":8034,"../../../store/actions":8065,loglevel:4802,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldDispatchAccountSyncing=n.useDeleteAccountSyncingDataFromUserStorage=n.useAccountSyncing=void 0;var s,r=e("react-compiler-runtime"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=(e("react"),e("react-redux")),o=e("../../../store/actions"),c=e("../../../selectors/identity/backup-and-sync"),u=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const m=()=>{const e=(0,i.useSelector)(c.selectIsBackupAndSyncEnabled),t=(0,i.useSelector)(c.selectIsAccountSyncingEnabled),n=(0,i.useSelector)(u.getUseExternalServices),s=(0,i.useSelector)(l.getIsUnlocked),r=(0,i.useSelector)(d.selectIsSignedIn),a=(0,i.useSelector)(l.getCompletedOnboarding);return Boolean(n&&e&&t&&s&&r&&a)};n.useShouldDispatchAccountSyncing=m;n.useAccountSyncing=()=>{const e=(0,r.c)(6),t=(0,i.useDispatch)(),n=m();let s;e[0]!==t||e[1]!==n?(s=()=>{try{if(!n)return;t((0,o.syncAccountTreeWithUserStorage)())}catch(e){const t=e;a.default.error(t)}},e[0]=t,e[1]=n,e[2]=s):s=e[2];const c=s;let u;return e[3]!==c||e[4]!==n?(u={dispatchAccountSyncing:c,shouldDispatchAccountSyncing:n},e[3]=c,e[4]=n,e[5]=u):u=e[5],u};n.useDeleteAccountSyncingDataFromUserStorage=()=>{const e=(0,r.c)(4),t=(0,i.useDispatch)();let n;e[0]!==t?(n=async()=>{try{await t((0,o.deleteAccountSyncingDataFromUserStorage)())}catch{}},e[0]=t,e[1]=n):n=e[1];const s=n;let a;return e[2]!==s?(a={dispatchDeleteAccountSyncingData:s},e[2]=s,e[3]=a):a=e[3],a}}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/useAccountSyncing.ts"}],[7137,{"./useAutoSignIn":7138,"./useAutoSignOut":7139,"./useSignIn":7140,"./useSignOut":7141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAutoSignIn",{enumerable:!0,get:function(){return a.useAutoSignIn}}),Object.defineProperty(n,"useAutoSignOut",{enumerable:!0,get:function(){return i.useAutoSignOut}}),Object.defineProperty(n,"useSignIn",{enumerable:!0,get:function(){return s.useSignIn}}),Object.defineProperty(n,"useSignOut",{enumerable:!0,get:function(){return r.useSignOut}});var s=e("./useSignIn"),r=e("./useSignOut"),a=e("./useAutoSignIn"),i=e("./useAutoSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/index.ts"}],[7138,{"../../../ducks/metamask/metamask":7033,"../../../selectors":8035,"../../../selectors/identity/authentication":8033,"./useSignIn":7140,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignIn=function(){const e=(0,s.c)(10),[t,n]=(0,r.useState)(!1),{signIn:l}=(0,u.useSignIn)(),d=Boolean((0,a.useSelector)(i.getIsUnlocked)),m=Boolean((0,a.useSelector)(o.getUseExternalServices)),p=Boolean((0,a.useSelector)(i.getCompletedOnboarding)),h=(0,a.useSelector)(c.selectIsSignedIn),g=(0,a.useSelector)(o.getMetaMaskKeyrings),f=(0,r.useRef)(g.length);let S,y;e[0]!==g.length?(S=()=>{g.length!==f.current&&(f.current=g.length,n(!0))},y=[g.length],e[0]=g.length,e[1]=S,e[2]=y):(S=e[1],y=e[2]);(0,r.useEffect)(S,y);const b=(!h||t)&&d&&m&&p;let v;e[3]!==t||e[4]!==b||e[5]!==l?(v=async()=>{b&&(t&&(await l(!0),n(!1)),await l())},e[3]=t,e[4]=b,e[5]=l,e[6]=v):v=e[6];const T=v;let k;e[7]!==T||e[8]!==b?(k={autoSignIn:T,shouldAutoSignIn:b},e[7]=T,e[8]=b,e[9]=k):k=e[9];return k};var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),i=e("../../../ducks/metamask/metamask"),o=e("../../../selectors"),c=e("../../../selectors/identity/authentication"),u=e("./useSignIn")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignIn.ts"}],[7139,{"../../../ducks/metamask/metamask":7033,"../../../selectors":8035,"../../../selectors/identity/authentication":8033,"./useSignOut":7141,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignOut=function(){const e=(0,s.c)(6),{signOut:t}=(0,c.useSignOut)(),n=Boolean((0,r.useSelector)(a.getIsUnlocked)),u=Boolean((0,r.useSelector)(i.getUseExternalServices)),l=(0,r.useSelector)(o.selectIsSignedIn),d=l&&n&&!u;let m;e[0]!==d||e[1]!==t?(m=async()=>{d&&await t()},e[0]=d,e[1]=t,e[2]=m):m=e[2];const p=m;let h;e[3]!==p||e[4]!==d?(h={autoSignOut:p,shouldAutoSignOut:d},e[3]=p,e[4]=d,e[5]=h):h=e[5];return h};var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("../../../ducks/metamask/metamask"),i=e("../../../selectors"),o=e("../../../selectors/identity/authentication"),c=e("./useSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignOut.ts"}],[7140,{"../../../selectors/identity/authentication":8033,"../../../store/actions":8065,loglevel:4802,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignIn=function(){const e=(0,r.c)(5),t=(0,a.useDispatch)(),n=!(0,a.useSelector)(o.selectIsSignedIn);let s;e[0]!==n||e[1]!==t?(s=async e=>{if(e??n)try{await t((0,c.performSignIn)())}catch(e){const t=e,n=t instanceof Error?t.message:JSON.stringify(t??"");i.default.error(n)}},e[0]=n,e[1]=t,e[2]=s):s=e[2];const u=s;let l;e[3]!==u?(l={signIn:u},e[3]=u,e[4]=l):l=e[4];return l};var s,r=e("react-compiler-runtime"),a=(e("react"),e("react-redux")),i=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignIn.ts"}],[7141,{"../../../selectors/identity/authentication":8033,"../../../store/actions":8065,loglevel:4802,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignOut=function(){const e=(0,r.c)(5),t=(0,a.useDispatch)(),n=(0,a.useSelector)(o.selectIsSignedIn),s=Boolean(n);let u;e[0]!==t||e[1]!==s?(u=async()=>{if(s)try{await t((0,c.performSignOut)())}catch(e){const t=e,n=t instanceof Error?t.message:JSON.stringify(t??"");i.default.error(n)}},e[0]=t,e[1]=s,e[2]=u):u=e[2];const l=u;let d;e[3]!==l?(d={signOut:l},e[3]=l,e[4]=d):d=e[4];return d};var s,r=e("react-compiler-runtime"),a=(e("react"),e("react-redux")),i=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignOut.ts"}],[7142,{"./useBackupAndSync":7143},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useBackupAndSync",{enumerable:!0,get:function(){return s.useBackupAndSync}});var s=e("./useBackupAndSync")}}},{package:"$root$",file:"ui/hooks/identity/useBackupAndSync/index.ts"}],[7143,{"../../../store/actions":8065,loglevel:4802,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBackupAndSync=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null),s=(0,r.useCallback)(async(t,s)=>{n(null);try{await e((0,o.setIsBackupAndSyncFeatureEnabled)(t,s))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");i.default.error(t),n(t)}finally{e((0,o.hideLoadingIndication)())}},[e]);return{error:t,setIsBackupAndSyncFeatureEnabled:s}};var s,r=e("react"),a=e("react-redux"),i=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useBackupAndSync/useBackupAndSync.ts"}],[7144,{"./useContactSyncing":7145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useContactSyncing",{enumerable:!0,get:function(){return s.useContactSyncing}}),Object.defineProperty(n,"useShouldDispatchContactSyncing",{enumerable:!0,get:function(){return s.useShouldDispatchContactSyncing}});var s=e("./useContactSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useContactSyncing/index.ts"}],[7145,{"../../../ducks/metamask/metamask":7033,"../../../selectors":8035,"../../../selectors/identity/authentication":8033,"../../../selectors/identity/backup-and-sync":8034,"../../../store/actions":8065,loglevel:4802,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldDispatchContactSyncing=n.useContactSyncing=void 0;var s,r=e("react-compiler-runtime"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=(e("react"),e("react-redux")),o=e("../../../store/actions"),c=e("../../../selectors/identity/backup-and-sync"),u=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const m=()=>{const e=(0,i.useSelector)(c.selectIsBackupAndSyncEnabled),t=(0,i.useSelector)(c.selectIsContactSyncingEnabled),n=(0,i.useSelector)(u.getUseExternalServices),s=(0,i.useSelector)(l.getIsUnlocked),r=(0,i.useSelector)(d.selectIsSignedIn),a=(0,i.useSelector)(l.getCompletedOnboarding);return Boolean(n&&e&&t&&s&&r&&a)};n.useShouldDispatchContactSyncing=m;n.useContactSyncing=()=>{const e=(0,r.c)(6),t=(0,i.useDispatch)(),n=m();let s;e[0]!==t||e[1]!==n?(s=()=>{try{if(!n)return;t((0,o.syncContactsWithUserStorage)())}catch(e){const t=e;a.default.error(t)}},e[0]=t,e[1]=n,e[2]=s):s=e[2];const c=s;let u;return e[3]!==c||e[4]!==n?(u={dispatchContactSyncing:c,shouldDispatchContactSyncing:n},e[3]=c,e[4]=n,e[5]=u):u=e[5],u}}}},{package:"$root$",file:"ui/hooks/identity/useContactSyncing/useContactSyncing.ts"}],[7146,{"../../selectors/metamask-notifications/metamask-notifications":8036,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useReadNotificationsCounter=function(){const e=(0,s.c)(2),{readSnapNotificationsCount:t}=i(),{featureAnnouncementsReadCount:n}=o(),{onChainMetamaskNotificationsReadCount:r}=c(),a=t+n+r;let u;e[0]!==a?(u={notificationsReadCount:a},e[0]=a,e[1]=u):u=e[1];return u},n.useUnreadNotificationsCounter=function(){const e=(0,s.c)(2),{unreadSnapNotificationsCount:t}=i(),{featureAnnouncementsUnreadCount:n}=o(),{onChainMetamaskNotificationsUnreadCount:r}=c(),a=t+n+r;let u;e[0]!==a?(u={notificationsUnreadCount:a},e[0]=a,e[1]=u):u=e[1];return u};var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("../../selectors/metamask-notifications/metamask-notifications");const i=()=>{const e=(0,s.c)(3),t=(0,r.useSelector)(a.getSnapNotificationsUnreadCount),n=(0,r.useSelector)(a.getSnapNotificationsReadCount);let i;return e[0]!==n||e[1]!==t?(i={unreadSnapNotificationsCount:t,readSnapNotificationsCount:n},e[0]=n,e[1]=t,e[2]=i):i=e[2],i},o=()=>{const e=(0,s.c)(4),t=(0,r.useSelector)(a.selectIsFeatureAnnouncementsEnabled),n=(0,r.useSelector)(a.getFeatureAnnouncementsUnreadCount),i=(0,r.useSelector)(a.getFeatureAnnouncementsReadCount);let o;return e[0]!==i||e[1]!==n||e[2]!==t?(o=t?{featureAnnouncementsUnreadCount:n,featureAnnouncementsReadCount:i}:{featureAnnouncementsUnreadCount:0,featureAnnouncementsReadCount:0},e[0]=i,e[1]=n,e[2]=t,e[3]=o):o=e[3],o},c=()=>{const e=(0,s.c)(4),t=(0,r.useSelector)(a.selectIsMetamaskNotificationsEnabled),n=(0,r.useSelector)(a.getOnChainMetamaskNotificationsUnreadCount),i=(0,r.useSelector)(a.getOnChainMetamaskNotificationsReadCount);let o;return e[0]!==t||e[1]!==i||e[2]!==n?(o=t?{onChainMetamaskNotificationsUnreadCount:n,onChainMetamaskNotificationsReadCount:i}:{onChainMetamaskNotificationsUnreadCount:0,onChainMetamaskNotificationsReadCount:0},e[0]=t,e[1]=i,e[2]=n,e[3]=o):o=e[3],o}}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useCounter.tsx"}],[7147,{"../../contexts/metamask-notifications/notification-storage-keys":7004,"../../store/actions":8065,loglevel:4802,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCreateNotifications=function(){const e=(0,r.c)(5),t=(0,i.useDispatch)(),[n,s]=(0,a.useState)(null);let l;e[0]!==t?(l=async()=>{s(null);try{await t((0,c.createOnChainTriggers)()),await(0,u.updateNotificationSubscriptionExpiration)()}catch(e){const t=e;throw s(t instanceof Error?t.message:"An unexpected error occurred"),o.default.error(t),t}},e[0]=t,e[1]=l):l=e[1];const d=l;let m;e[2]!==d||e[3]!==n?(m={createNotifications:d,error:n},e[2]=d,e[3]=n,e[4]=m):m=e[4];return m},n.useDisableNotifications=function(){const e=(0,r.c)(5),t=(0,i.useDispatch)(),[n,s]=(0,a.useState)(null);let l;e[0]!==t?(l=async()=>{s(null);try{await t((0,c.disableMetamaskNotifications)()),await(0,u.setUserHasTurnedOffNotificationsOnce)()}catch(e){const t=e;throw s(t instanceof Error?t.message:"An unexpected error occurred"),o.default.error(t),t}},e[0]=t,e[1]=l):l=e[1];const d=l;let m;e[2]!==d||e[3]!==n?(m={disableNotifications:d,error:n},e[2]=d,e[3]=n,e[4]=m):m=e[4];return m},n.useEnableNotifications=function(){const e=(0,r.c)(5),t=(0,i.useDispatch)(),[n,s]=(0,a.useState)(null);let l;e[0]!==t?(l=async()=>{s(null);try{await t((0,c.enableMetamaskNotifications)()),await(0,u.updateNotificationSubscriptionExpiration)()}catch(e){const t=e;throw s(t instanceof Error?t.message:"An unexpected error occurred"),o.default.error(t),t}},e[0]=t,e[1]=l):l=e[1];const d=l;let m;e[2]!==d||e[3]!==n?(m={enableNotifications:d,error:n},e[2]=d,e[3]=n,e[4]=m):m=e[4];return m},n.useListNotifications=function(){const e=(0,i.useDispatch)(),[t,n]=(0,a.useState)(!1),[s,r]=(0,a.useState)(null),[u,l]=(0,a.useState)(undefined);return{listNotifications:(0,a.useCallback)(async()=>{n(!0),r(null);const t=new URLSearchParams(window.location.search).get("previewToken");try{const n=await e((0,c.fetchAndUpdateMetamaskNotifications)(t??undefined));return l(n),n}catch(e){throw o.default.error(e),r(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1)}},[e]),notificationsData:u,isLoading:t,error:s}},n.useMarkNotificationAsRead=function(){const e=(0,r.c)(4),t=(0,i.useDispatch)();let n;e[0]!==t?(n=async e=>{try{t((0,c.markMetamaskNotificationsAsRead)(e))}catch(e){const t=e;throw o.default.error(t),t}},e[0]=t,e[1]=n):n=e[1];const s=n;let a;e[2]!==s?(a={markNotificationAsRead:s},e[2]=s,e[3]=a):a=e[3];return a};var s,r=e("react-compiler-runtime"),a=e("react"),i=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},c=e("../../store/actions"),u=e("../../contexts/metamask-notifications/notification-storage-keys")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useNotifications.ts"}],[7148,{"../../selectors/metamask-notifications/metamask-notifications":8036,"../../store/actions":8065,loglevel:4802,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountSettingsProps=function(e){const t=(0,i.useSelector)(u.getIsUpdatingMetamaskNotificationsAccount),n=(0,i.useSelector)(u.selectIsMetamaskNotificationsEnabled),s=function(){const e=(0,i.useDispatch)(),t=(0,a.useCallback)(async t=>{try{return await e((0,c.checkAccountsPresence)(t))}catch{return{}}},[]);return t}(),[r,o]=(0,a.useState)({}),[l,d]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),h=(0,a.useMemo)(()=>JSON.stringify(e),[e]),g=(0,a.useCallback)(async e=>{try{d(!0),p(null);const t=await s(e);o(t)}catch{p("Failed to get account settings")}finally{d(!1)}},[]);return(0,a.useEffect)(()=>{if(!n)return;const e=JSON.parse(h);g(e)},[h,s,n]),{data:r,initialLoading:l,error:m,accountsBeingUpdated:t,update:g}},n.useSwitchAccountNotificationsChange=function(){const e=(0,r.c)(5),t=(0,i.useDispatch)(),[n,s]=(0,a.useState)(null);let u;e[0]!==t?(u=async(e,n)=>{s(null);try{n?await t((0,c.enableAccounts)(e)):await t((0,c.disableAccounts)(e))}catch(e){const t=e,n=t instanceof Error?t.message:JSON.stringify(t??"");o.default.error(n),s(n)}t((0,c.hideLoadingIndication)())},e[0]=t,e[1]=u):u=e[1];const l=u;let d;e[2]!==n||e[3]!==l?(d={onChange:l,error:n},e[2]=n,e[3]=l,e[4]=d):d=e[4];return d},n.useSwitchFeatureAnnouncementsChange=function(){const e=(0,r.c)(5),t=(0,i.useDispatch)(),[n,s]=(0,a.useState)(null);let o;e[0]!==t?(o=async e=>{s(null);try{await t((0,c.setFeatureAnnouncementsEnabled)(e))}catch(e){const t=e,n=t instanceof Error?t.message:JSON.stringify(t??"");s(n)}},e[0]=t,e[1]=o):o=e[1];const u=o;let l;e[2]!==n||e[3]!==u?(l={onChange:u,error:n},e[2]=n,e[3]=u,e[4]=l):l=e[4];return l};var s,r=e("react-compiler-runtime"),a=e("react"),i=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},c=e("../../store/actions"),u=e("../../selectors/metamask-notifications/metamask-notifications")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useSwitchNotifications.ts"}],[7149,{"../../../shared/lib/snaps/snaps":5868,"../../selectors":8035,"../../selectors/accounts":8024,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHdKeyringsWithSnapAccounts=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("../../selectors/accounts"),i=e("../../selectors"),o=e("../../../shared/lib/snaps/snaps");function c(e){return e.address}n.useHdKeyringsWithSnapAccounts=()=>{const e=(0,s.c)(5),t=(0,r.useSelector)(i.getMetaMaskHdKeyrings),n=(0,r.useSelector)(a.getInternalAccounts);let u;if(e[0]!==t||e[1]!==n){let s;e[3]!==n?(s=e=>{const t=n.filter(t=>{var n;return t.metadata.snap&&(0,o.isSnapPreinstalled)(t.metadata.snap.id)&&(null===(n=t.options)||void 0===n?void 0:n.entropySource)===e.metadata.id}).map(c);return{...e,accounts:[...e.accounts,...t]}},e[3]=n,e[4]=s):s=e[4],u=t.map(s),e[0]=t,e[1]=n,e[2]=u}else u=e[2];return u}}}},{package:"$root$",file:"ui/hooks/multi-srp/useHdKeyringsWithSnapAccounts.ts"}],[7150,{"../../components/app/assets/util/formatWithThreshold":6008,"../../ducks/locale/locale":7032,"../../ducks/metamask/metamask":7033,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayBalanceCalc=function(){const e=(0,s.c)(3),t=(0,r.useSelector)(i.getCurrentCurrency),n=(0,r.useSelector)(o.getIntlLocale);let c;e[0]!==t||e[1]!==n?(c=(e,s)=>{const r=e===undefined?0:e,i=s===undefined?t:s;return(0,a.formatWithThreshold)(r,.01,n,{style:"currency",currency:i})},e[0]=t,e[1]=n,e[2]=c):c=e[2];return c};var s=e("react-compiler-runtime"),r=e("react-redux"),a=(e("react"),e("../../components/app/assets/util/formatWithThreshold")),i=e("../../ducks/metamask/metamask"),o=e("../../ducks/locale/locale")}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useAccountBalance.ts"}],[7151,{"../../selectors/assets":8027,"./useAccountBalance":7150,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSingleWalletAccountsBalanceCallback=function(e){const t=(0,s.c)(5);let n;t[0]!==e?(n=(0,a.selectBalanceByWallet)(e),t[0]=e,t[1]=n):n=t[1];const o=n,c=(0,r.useSelector)(o),u=(0,i.useDisplayBalanceCalc)();let l;t[2]!==u||t[3]!==c.groups?(l=e=>{var t;const n=null===(t=c.groups)||void 0===t?void 0:t[e];if(!n)return;return u(null==n?void 0:n.totalBalanceInUserCurrency,null==n?void 0:n.userCurrency)},t[2]=u,t[3]=c.groups,t[4]=l):l=t[4];return l},n.useSingleWalletDisplayBalance=function(e){const t=(0,s.c)(6);let n;t[0]!==e?(n=(0,a.selectBalanceByWallet)(e),t[0]=e,t[1]=n):n=t[1];const o=n,c=(0,r.useSelector)(o),u=(0,i.useDisplayBalanceCalc)();let l;t[2]!==u||t[3]!==c.totalBalanceInUserCurrency||t[4]!==c.userCurrency?(l=u(c.totalBalanceInUserCurrency,c.userCurrency),t[2]=u,t[3]=c.totalBalanceInUserCurrency,t[4]=c.userCurrency,t[5]=l):l=t[5];return l};var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("../../selectors/assets"),i=e("./useAccountBalance")}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useWalletBalance.ts"}],[7152,{"../../ducks/metamask/metamask":7033,"../../selectors/multichain-accounts/account-tree":8039,"../multi-srp/useHdKeyringsWithSnapAccounts":7149,"./utils":7153,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useWalletInfo=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("../multi-srp/useHdKeyringsWithSnapAccounts"),i=e("../../selectors/multichain-accounts/account-tree"),o=e("../../ducks/metamask/metamask"),c=e("./utils");n.useWalletInfo=e=>{const t=(0,s.c)(12),n=(0,a.useHdKeyringsWithSnapAccounts)(),u=(0,r.useSelector)(o.getIsPrimarySeedPhraseBackedUp);let l;t[0]!==e?(l=t=>(0,i.getMultichainAccountsByWalletId)(t,e),t[0]=e,t[1]=l):l=t[1];const d=(0,r.useSelector)(l);let m;t[2]!==d?(m=Object.values(d??{}),t[2]=d,t[3]=m):m=t[3];const p=m;let h;e:{if(0===Object.entries(p||{}).length){let e;t[4]!==p?(e={multichainAccounts:p,keyringId:undefined},t[4]=p,t[5]=e):e=t[5],h=e;break e}const s=n.findIndex(t=>t.metadata.id===(0,c.stripWalletTypePrefixFromWalletId)(e));if(-1===s){let e;t[6]!==p?(e={multichainAccounts:p,keyringId:undefined},t[6]=p,t[7]=e):e=t[7],h=e;break e}const r=n[s],a=(null==r?void 0:r.metadata.id)??undefined,i=1===s+1?u:undefined;let o;t[8]!==i||t[9]!==a||t[10]!==p?(o={multichainAccounts:p,keyringId:a,isSRPBackedUp:i},t[8]=i,t[9]=a,t[10]=p,t[11]=o):o=t[11],h=o}return h}}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useWalletInfo.ts"}],[7154,{"../../../../shared/lib/asset-utils":5802,"../../../../shared/modules/selectors/networks":5908,"../../../selectors":8035,"@metamask/utils":3070,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.RampsMetaMaskEntry=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/utils"),i=e("../../../../shared/modules/selectors/networks"),o=e("../../../selectors"),c=e("../../../../shared/lib/asset-utils");const u="https://app.metamask.io";let l=n.RampsMetaMaskEntry=function(e){return e.BuySellButton="ext_buy_sell_button",e.NftBanner="ext_buy_banner_nfts",e.TokensBanner="ext_buy_banner_tokens",e.ActivityBanner="ext_buy_banner_activity",e.BtcBanner="ext_buy_banner_btc",e}({});n.default=(e=l.BuySellButton)=>{const t=(0,r.useSelector)(i.getCurrentChainId),n=(0,r.useSelector)(o.getMetaMetricsId),d=(0,r.useSelector)(o.getParticipateInMetaMetrics),m=(0,r.useSelector)(o.getDataCollectionForMarketing),p=(0,s.useCallback)(t=>{try{const s=new URLSearchParams;s.set("metamaskEntry",e);let r="";r=(0,c.isEvmChainId)(t)?(0,a.hexToNumber)(t).toString():t,s.set("chainId",r),n&&s.set("metametricsId",n),s.set("metricsEnabled",String(d)),m&&s.set("marketingEnabled",String(m));const i=new URL("https://app.metamask.io");return i.pathname="buy",i.search=s.toString(),i.toString()}catch{return`${u}/buy`}},[m,d,n,e]);return{openBuyCryptoInPdapp:(0,s.useCallback)(e=>{const n=p(e||t);global.platform.openTab({url:n})},[t,p]),getBuyURI:p}}}}},{package:"$root$",file:"ui/hooks/ramps/useRamps/useRamps.ts"}],[7155,{"../../ducks/metamask/metamask":7033,"../../ducks/rewards":7037,"../../ducks/rewards/selectors":7038,"../../store/actions":8065,"../../store/store":8070,loglevel:4802,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCandidateSubscriptionId=void 0;var s,r=e("react"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("react-redux"),o=e("../../store/actions"),c=e("../../ducks/metamask/metamask"),u=e("../../ducks/rewards/selectors"),l=e("../../ducks/rewards"),d=e("../../store/store");n.useCandidateSubscriptionId=()=>{const e=(0,i.useDispatch)(),t=(0,i.useSelector)(c.getIsUnlocked),n=(0,i.useSelector)(u.selectRewardsEnabled),s=(0,i.useSelector)(u.selectCandidateSubscriptionId),m=(0,d.useAppSelector)(e=>{var t;return null===(t=e.metamask.rewardsActiveAccount)||void 0===t?void 0:t.subscriptionId}),p=(0,r.useRef)(!1),h=(0,r.useCallback)(async()=>{try{if(!n)return void e((0,l.setCandidateSubscriptionId)(null));if(m)return p.current=!1,void e((0,l.setCandidateSubscriptionId)(m));if(p.current)return;p.current=!0;const t=await e((0,o.getRewardsCandidateSubscriptionId)());e((0,l.setCandidateSubscriptionId)(t))}catch(t){a.default.error("[useCandidateSubscriptionId] Error fetching candidate subscription ID:",t),e((0,l.setCandidateSubscriptionId)("error"))}finally{p.current=!1}},[n,e,m]);return(0,r.useEffect)(()=>{"retry"===s&&h()},[s,h]),(0,r.useEffect)(()=>{t&&h()},[h,t]),{fetchCandidateSubscriptionId:h}}}}},{package:"$root$",file:"ui/hooks/rewards/useCandidateSubscriptionId.ts"}],[7156,{"../../ducks/rewards":7037,"../../store/actions":8065,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGeoRewardsMetadata=void 0;var s=e("react"),r=e("react-redux"),a=e("../../ducks/rewards"),i=e("../../store/actions");n.useGeoRewardsMetadata=({enabled:e=!0})=>{const t=(0,r.useDispatch)(),n=(0,s.useRef)(!1),o=(0,s.useCallback)(async()=>{if(!n.current&&e){n.current=!0,t((0,a.setRewardsGeoMetadataLoading)(!0)),t((0,a.setRewardsGeoMetadataError)(!1));try{const e=await t((0,i.getRewardsGeoMetadata)());t((0,a.setRewardsGeoMetadata)(e))}catch(e){t((0,a.setRewardsGeoMetadataError)(!0))}finally{n.current=!1,t((0,a.setRewardsGeoMetadataLoading)(!1))}}else e||(t((0,a.setRewardsGeoMetadataError)(!1)),t((0,a.setRewardsGeoMetadataLoading)(!1)),t((0,a.setRewardsGeoMetadata)(null)))},[t,e]);return(0,s.useEffect)(()=>{o()},[o]),{fetchGeoRewardsMetadata:o}}}}},{package:"$root$",file:"ui/hooks/rewards/useGeoRewardsMetadata.ts"}],[7157,{"../../../shared/constants/metametrics":5768,"../../contexts/metametrics":7005,"../../ducks/rewards":7037,"../../pages/multichain-accounts/account-details/account-type-utils":7780,"../../store/actions":8065,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useLinkAccountAddress=void 0;var s=e("react"),r=e("react-redux"),a=e("../../store/actions"),i=e("../../contexts/metametrics"),o=e("../../../shared/constants/metametrics"),c=e("../../pages/multichain-accounts/account-details/account-type-utils"),u=e("../../ducks/rewards");n.useLinkAccountAddress=()=>{const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(!1),[l,d]=(0,s.useState)(!1),m=(0,s.useContext)(i.MetaMetricsContext),p=(0,s.useRef)(!0);(0,s.useEffect)(()=>(p.current=!0,()=>{p.current=!1}),[]);const h=(0,s.useCallback)((e,t)=>{const n={account_type:(0,c.getAccountTypeCategory)(t)};m({category:o.MetaMetricsEventCategory.Rewards,event:e,properties:n})},[m]);return{linkAccountAddress:(0,s.useCallback)(async t=>{if(!p.current)return!1;n(!0),d(!1);try{const n=await e((0,a.rewardsIsOptInSupported)({account:t}));if(!p.current)return!1;if(!n)return d(!0),!1;const s=await e((0,a.rewardsGetOptInStatus)({addresses:[t.address]}));if(!p.current)return!1;if(s.ois[0])return!0;h(o.MetaMetricsEventName.RewardsAccountLinkingStarted,t);try{const n=await e((0,a.rewardsLinkAccountsToSubscriptionCandidate)([t]));if(!p.current)return!1;const s=n[0];return null!=s&&s.success?(h(o.MetaMetricsEventName.RewardsAccountLinkingCompleted,t),e((0,u.setRewardsAccountLinkedTimestamp)(Date.now())),!0):(h(o.MetaMetricsEventName.RewardsAccountLinkingFailed,t),d(!0),!1)}catch(e){return!!p.current&&(h(o.MetaMetricsEventName.RewardsAccountLinkingFailed,t),d(!0),!1)}}catch(e){return!!p.current&&(d(!0),!1)}finally{p.current&&n(!1)}},[h,e]),isLoading:t,isError:l}}}}},{package:"$root$",file:"ui/hooks/rewards/useLinkAccountAddress.ts"}],[7158,{"../../../shared/constants/metametrics":5768,"../../components/app/rewards/utils/handleRewardsErrorMessage":6223,"../../contexts/metametrics":7005,"../../ducks/rewards":7037,"../../selectors":8035,"../../selectors/multichain-accounts/account-tree":8039,"../../store/actions":8065,"../useI18nContext":7200,loglevel:4802,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOptIn=void 0;var s,r=e("react"),a=e("react-redux"),i=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../selectors/multichain-accounts/account-tree"),c=e("../../ducks/rewards"),u=e("../../selectors"),l=e("../../contexts/metametrics"),d=e("../../../shared/constants/metametrics"),m=e("../../store/actions"),p=e("../../components/app/rewards/utils/handleRewardsErrorMessage"),h=e("../useI18nContext");n.useOptIn=e=>{const[t,n]=(0,r.useState)(null),s=(0,a.useDispatch)(),[g,f]=(0,r.useState)(!1),S=(0,r.useContext)(l.MetaMetricsContext),y=(0,h.useI18nContext)(),b=(0,a.useSelector)(o.getSelectedAccountGroup),v=(0,a.useSelector)(u.getSelectedAccount),{id:T}=(0,a.useSelector)(e=>(0,o.getWalletIdAndNameByAccountAddress)(e,v.address))||{walletId:undefined},k=(0,a.useSelector)(e=>T?(0,o.getMultichainAccountsByWalletId)(e,T):{}),w=(0,r.useMemo)(()=>k?Object.keys(k)[0]:undefined,[k]),_=(0,a.useSelector)(e=>w?(0,o.getInternalAccountsFromGroupById)(e,w):[]),C=(0,a.useSelector)(e=>b?(0,o.getInternalAccountsFromGroupById)(e,b):[]);return{optin:(0,r.useCallback)(async t=>{const r={referred:Boolean(t),referral_code_used:t};S({category:d.MetaMetricsEventCategory.Rewards,event:d.MetaMetricsEventName.RewardsOptInStarted,properties:r});let a=null;try{f(!0),n(null);const o=w&&_.length>0?_:C,c=w&&_.length>0?C:_;if(a=await s((0,m.rewardsOptIn)({accounts:o,referralCode:t})),a){if(c.length>0)try{await s((0,m.rewardsLinkAccountsToSubscriptionCandidate)(c))}catch{}S({category:d.MetaMetricsEventCategory.Rewards,event:d.MetaMetricsEventName.RewardsOptInCompleted,properties:r});try{await s((0,m.updateMetaMetricsTraits)({[d.MetaMetricsUserTrait.HasRewardsOptedIn]:"on",...t&&{[d.MetaMetricsUserTrait.RewardsReferred]:!0,[d.MetaMetricsUserTrait.RewardsReferralCodeUsed]:t}}))}catch{}if(null!=e&&e.rewardPoints&&null!=e&&e.shieldSubscriptionId)try{await s((0,m.linkRewardToShieldSubscription)(e.shieldSubscriptionId,e.rewardPoints))}catch(e){i.default.warn("Failed to link reward to shield subscription",e)}}}catch(e){S({category:d.MetaMetricsEventCategory.Rewards,event:d.MetaMetricsEventName.RewardsOptInFailed,properties:r});const t=(0,p.handleRewardsErrorMessage)(e,y);n(t)}a&&s((0,c.setCandidateSubscriptionId)(a)),f(!1)},[S,w,_,C,s,y,null==e?void 0:e.rewardPoints,null==e?void 0:e.shieldSubscriptionId]),optinLoading:g,optinError:t,clearOptinError:(0,r.useCallback)(()=>n(null),[])}}}}},{package:"$root$",file:"ui/hooks/rewards/useOptIn.ts"}],[7159,{"../../../shared/constants/rewards":5780,"../../ducks/metamask/metamask":7033,"../../ducks/rewards":7037,"../../ducks/rewards/selectors":7038,"../../store/actions":8065,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSeasonStatus=void 0;var s=e("react"),r=e("react-redux"),a=e("../../store/actions"),i=e("../../ducks/metamask/metamask"),o=e("../../ducks/rewards/selectors"),c=e("../../ducks/rewards"),u=e("../../../shared/constants/rewards");n.useSeasonStatus=({subscriptionId:e,onAuthorizationError:t})=>{const n=(0,r.useDispatch)(),l=(0,r.useSelector)(i.getIsUnlocked),d=(0,r.useSelector)(o.selectRewardsEnabled),m=(0,s.useRef)(null),p=(0,s.useCallback)(async()=>{if(!e||"pending"===e||"retry"===e||"error"===e||!d)return n((0,c.setSeasonStatus)(null)),n((0,c.setSeasonStatusError)(null)),void n((0,c.setSeasonStatusLoading)(!1));if(!Boolean(m.current)||m.current!==e){m.current=e,n((0,c.setSeasonStatusLoading)(!0));try{const t=await n((0,a.getRewardsSeasonMetadata)("current"));if(!t)throw new Error("No season metadata found");const s=await n((0,a.getRewardsSeasonStatus)(e,t.id));n((0,c.setSeasonStatus)(s)),n((0,c.setSeasonStatusError)(null))}catch(e){const s=e instanceof Error?e.message:"Unknown error";n((0,c.setSeasonStatusError)(s)),(s.includes(u.REWARDS_ERROR_MESSAGES.AUTHORIZATION_FAILED)||s.includes(u.REWARDS_ERROR_MESSAGES.SEASON_NOT_FOUND))&&t&&(await t(),n((0,c.setSeasonStatus)(null)))}finally{m.current=null,n((0,c.setSeasonStatusLoading)(!1))}}},[e,t,d,n]);return(0,s.useEffect)(()=>{l&&e&&p()},[l,p,e]),{fetchSeasonStatus:p}}}}},{package:"$root$",file:"ui/hooks/rewards/useSeasonStatus.ts"}],[7160,{"../../store/actions":8065,lodash:4794,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useValidateReferralCode=void 0;var s=e("react"),r=e("lodash"),a=e("react-redux"),i=e("../../store/actions");n.useValidateReferralCode=(e="",t=1e3)=>{const[n,o]=(0,s.useState)(e),[c,u]=(0,s.useState)(""),[l,d]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),h=(0,s.useRef)(!1),g=(0,a.useDispatch)(),f=(0,s.useCallback)(async e=>{try{return await g((0,i.validateRewardsReferralCode)(e))?"":"Invalid code"}catch(e){return p(!0),"Unknown error"}},[g]),S=(0,s.useCallback)((0,r.debounce)(async e=>{p(!1);const t=await f(e);u(t),d(!1)},t),[t,f]),y=(0,s.useCallback)(e=>{const t=e.trim().toUpperCase();if(o(t),t.length<6)return S.cancel(),d(!1),void u("minLength 6 characters");t&&d(!0),S(t)},[S]);(0,s.useEffect)(()=>{h.current?e!==n&&y(e):(y(e),h.current=!0)},[e]),(0,s.useEffect)(()=>()=>S.cancel(),[S]);const b=Boolean(n)&&!c&&!l;return{referralCode:n,setReferralCode:y,validateCode:f,isValidating:l,isValid:b,isUnknownError:m}}}}},{package:"$root$",file:"ui/hooks/rewards/useValidateReferralCode.ts"}],[7161,{"../../../../shared/constants/metametrics":5768,"../../../../shared/modules/shield":5913,"../../../contexts/metametrics":7005,"../../../selectors":8035,"../../../selectors/multichain-accounts/account-tree":8039,"../../../store/actions":8065,"../../useAccountTotalFiatBalance":7178,"./utils":7162,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSubscriptionMetrics=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),i=e("../../../contexts/metametrics"),o=e("../../../../shared/constants/metametrics"),c=e("../../../selectors"),u=e("../../useAccountTotalFiatBalance"),l=e("../../../../shared/modules/shield"),d=e("../../../store/actions"),m=e("../../../selectors/multichain-accounts/account-tree"),p=e("./utils");function h(e){return(0,m.getInternalAccountBySelectedAccountGroupAndCaip)(e,"eip155:1")}n.useSubscriptionMetrics=()=>{const e=(0,s.c)(77),t=(0,a.useDispatch)(),n=(0,r.useContext)(i.MetaMetricsContext),m=(0,a.useSelector)(h),g=(0,a.useSelector)(c.getMetaMaskHdKeyrings),{totalFiatBalance:f}=(0,u.useAccountTotalFiatBalance)(m,!0,!0);let S;e[0]!==t||e[1]!==f?(S=async e=>{await t((0,d.setShieldSubscriptionMetricsProps)({marketingUtmParams:e.marketingUtmParams,source:e.source,userBalanceInUSD:Number(f),rewardPoints:e.rewardPoints}))},e[0]=t,e[1]=f,e[2]=S):S=e[2];const y=S;let b;e[3]!==g||e[4]!==m||e[5]!==f||e[6]!==n?(b=async(e,t)=>{const s=(0,l.getShieldCommonTrackingProps)(m,g,Number(f)),r=(0,p.formatCaptureShieldEligibilityCohortEventsProps)(e,Number(f));n({event:t,category:o.MetaMetricsEventCategory.Shield,properties:{...s,...r}})},e[3]=g,e[4]=m,e[5]=f,e[6]=n,e[7]=b):b=e[7];const v=b;let T;e[8]!==g||e[9]!==m||e[10]!==f||e[11]!==n?(T=e=>{const t=(0,l.getShieldCommonTrackingProps)(m,g,Number(f));n({event:o.MetaMetricsEventName.ShieldEntryModal,category:o.MetaMetricsEventCategory.Shield,properties:{...t,...(0,l.getShieldMarketingTrackingProps)(e.marketingUtmParams),source:e.source,modal_type:e.type,modal_cta_action_clicked:e.modalCtaActionClicked,post_transaction_type:e.postTransactionType}})},e[8]=g,e[9]=m,e[10]=f,e[11]=n,e[12]=T):T=e[12];const k=T;let w;e[13]!==g||e[14]!==m||e[15]!==f||e[16]!==n?(w=e=>{const t=(0,l.getShieldCommonTrackingProps)(m,g,Number(f)),s=(0,p.formatDefaultShieldSubscriptionRequestEventProps)(e);n({event:o.MetaMetricsEventName.ShieldSubscriptionRequest,category:o.MetaMetricsEventCategory.Shield,properties:{...t,...s}})},e[13]=g,e[14]=m,e[15]=f,e[16]=n,e[17]=w):w=e[17];const _=w;let C;e[18]!==g||e[19]!==m||e[20]!==f||e[21]!==n?(C=e=>{const t=(0,l.getShieldCommonTrackingProps)(m,g,Number(f)),s=(0,l.formatExistingSubscriptionEventProps)(e);n({event:o.MetaMetricsEventName.ShieldMembershipRestartRequest,category:o.MetaMetricsEventCategory.Shield,properties:{...t,...s,status:e.requestStatus,error_message:e.errorMessage}})},e[18]=g,e[19]=m,e[20]=f,e[21]=n,e[22]=C):C=e[22];const I=C;let A;e[23]!==g||e[24]!==m||e[25]!==f||e[26]!==n?(A=e=>{const t=(0,l.getShieldCommonTrackingProps)(m,g,Number(f)),s=(0,l.formatExistingSubscriptionEventProps)(e);n({event:o.MetaMetricsEventName.ShieldMembershipCancelled,category:o.MetaMetricsEventCategory.Shield,properties:{...t,...s,status:e.cancellationStatus,error_message:e.errorMessage,latest_subscription_duration:e.latestSubscriptionDuration}})},e[23]=g,e[24]=m,e[25]=f,e[26]=n,e[27]=A):A=e[27];const E=A;let M;e[28]!==g||e[29]!==m||e[30]!==f||e[31]!==n?(M=e=>{const t=(0,l.getShieldCommonTrackingProps)(m,g,Number(f)),s=(0,p.formatCaptureShieldPaymentMethodChangeEventProps)(e);n({event:o.MetaMetricsEventName.ShieldPaymentMethodChange,category:o.MetaMetricsEventCategory.Shield,properties:{...t,...s,status:e.changeStatus,error:e.errorMessage}})},e[28]=g,e[29]=m,e[30]=f,e[31]=n,e[32]=M):M=e[32];const N=M;let P;e[33]!==g||e[34]!==m||e[35]!==f||e[36]!==n?(P=(e,t)=>{const s=(0,l.getShieldCommonTrackingProps)(m,g,Number(f)),r=(0,l.formatExistingSubscriptionEventProps)(e);n({event:t,category:o.MetaMetricsEventCategory.Shield,properties:{...s,...r}})},e[33]=g,e[34]=m,e[35]=f,e[36]=n,e[37]=P):P=e[37];const R=P;let O;e[38]!==g||e[39]!==m||e[40]!==f||e[41]!==n?(O=e=>{const t=(0,l.getShieldCommonTrackingProps)(m,g,Number(f)),s=(0,p.formatDefaultShieldSubscriptionRequestEventProps)(e);n({event:o.MetaMetricsEventName.ShieldSubscriptionCryptoConfirmation,category:o.MetaMetricsEventCategory.Shield,properties:{...t,...s,has_insufficient_gas:e.hasInsufficientGas}})},e[38]=g,e[39]=m,e[40]=f,e[41]=n,e[42]=O):O=e[42];const D=O;let x;e[43]!==g||e[44]!==m||e[45]!==f||e[46]!==n?(x=e=>{const t=(0,l.getShieldCommonTrackingProps)(m,g,Number(f)),s=(0,p.formatCaptureShieldCtaClickedEventProps)(e);n({event:o.MetaMetricsEventName.ShieldCtaClicked,category:o.MetaMetricsEventCategory.Shield,properties:{...t,...s}})},e[43]=g,e[44]=m,e[45]=f,e[46]=n,e[47]=x):x=e[47];const U=x;let B;e[48]!==g||e[49]!==m||e[50]!==f||e[51]!==n?(B=e=>{const t=(0,l.getShieldCommonTrackingProps)(m,g,Number(f));n({event:o.MetaMetricsEventName.ShieldClaimSubmission,category:o.MetaMetricsEventCategory.Shield,properties:{...t,subscription_status:e.subscriptionStatus,attachments_count:e.attachmentsCount,submission_status:e.submissionStatus,error_message:e.errorMessage}})},e[48]=g,e[49]=m,e[50]=f,e[51]=n,e[52]=B):B=e[52];const L=B;let F;e[53]!==g||e[54]!==m||e[55]!==f||e[56]!==n?(F=e=>{const t=(0,l.getShieldCommonTrackingProps)(m,g,Number(f)),s=(0,l.formatExistingSubscriptionEventProps)(e);n({event:o.MetaMetricsEventName.ShieldMembershipErrorStateClicked,category:o.MetaMetricsEventCategory.Shield,properties:{...t,...s,type:e.errorCause,action:e.actionClicked,location:e.location,view:e.view}})},e[53]=g,e[54]=m,e[55]=f,e[56]=n,e[57]=F):F=e[57];const $=F;let j;e[58]!==g||e[59]!==m||e[60]!==f||e[61]!==n?(j=e=>{const t=(0,l.getShieldCommonTrackingProps)(m,g,Number(f));n({event:o.MetaMetricsEventName.ShieldSubscriptionUnexpectedErrorEvent,category:o.MetaMetricsEventCategory.Shield,properties:{...t,error_message:e.errorMessage,location:e.location}})},e[58]=g,e[59]=m,e[60]=f,e[61]=n,e[62]=j):j=e[62];const G=j;let W;return e[63]!==R||e[64]!==L||e[65]!==D||e[66]!==U||e[67]!==v||e[68]!==k||e[69]!==$||e[70]!==E||e[71]!==N||e[72]!==_||e[73]!==I||e[74]!==G||e[75]!==y?(W={setShieldSubscriptionMetricsPropsToBackground:y,captureShieldEntryModalEvent:k,captureShieldSubscriptionRequestEvent:_,captureShieldMembershipCancelledEvent:E,captureShieldPaymentMethodChangeEvent:N,captureShieldCtaClickedEvent:U,captureShieldClaimSubmissionEvent:L,captureShieldCryptoConfirmationEvent:D,captureShieldEligibilityCohortEvent:v,captureCommonExistingShieldSubscriptionEvents:R,captureShieldErrorStateClickedEvent:$,captureShieldSubscriptionRestartRequestEvent:I,captureShieldUnexpectedErrorEvent:G},e[63]=R,e[64]=L,e[65]=D,e[66]=U,e[67]=v,e[68]=k,e[69]=$,e[70]=E,e[71]=N,e[72]=_,e[73]=I,e[74]=G,e[75]=y,e[76]=W):W=e[76],W}}}},{package:"$root$",file:"ui/hooks/shield/metrics/useSubscriptionMetrics.ts"}],[7162,{"../../../../shared/modules/shield":5913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.formatCaptureShieldCtaClickedEventProps=function(e){return{...(0,s.getShieldMarketingTrackingProps)(e.marketingUtmParams),source:e.source,page:e.redirectToPage,url:e.redirectToUrl,cta_action_clicked:e.ctaActionClicked}},n.formatCaptureShieldEligibilityCohortEventsProps=function(e,t){const n={multi_chain_balance_category:(0,s.getUserBalanceCategory)(Number(t)),number_of_eligible_cohorts:e.numberOfEligibleCohorts,assigned_cohort:e.cohort};"modalType"in e&&(n.modal_type=e.modalType);return n},n.formatCaptureShieldPaymentMethodChangeEventProps=function(e){const t=(0,s.formatExistingSubscriptionEventProps)(e),n=(0,s.getBillingIntervalForMetrics)(e.newBillingInterval);return{...t,new_payment_type:e.newPaymentType,new_billing_interval:n,new_crypto_payment_chain:e.newCryptoPaymentChain,new_payment_currency:e.newPaymentCurrency}},n.formatDefaultShieldSubscriptionRequestEventProps=function(e){const t=(0,s.getBillingIntervalForMetrics)(e.defaultBillingInterval),n=(0,s.getBillingIntervalForMetrics)(e.billingInterval),r=(0,s.getBillingCyclesForMetrics)(e.billingInterval);return{...(0,s.getShieldMarketingTrackingProps)(e.marketingUtmParams),source:e.source,post_transaction_type:e.postTransactionType,subscription_state:e.subscriptionState,default_payment_type:e.defaultPaymentType,default_payment_currency:e.defaultPaymentCurrency,default_billing_interval:t,default_payment_chain:e.defaultPaymentChain,payment_type:e.paymentType,payment_currency:e.paymentCurrency,is_trial:e.isTrialSubscription,billing_interval:n,billing_cycles:r,payment_chain:e.paymentChain,has_sufficient_crypto_balance:e.hasSufficientCryptoBalance,gas_sponsored:e.gasSponsored,error_message:e.errorMessage,status:e.requestStatus}};var s=e("../../../../shared/modules/shield")}}},{package:"$root$",file:"ui/hooks/shield/metrics/utils.ts"}],[7163,{"../../contexts/claims/claims":6998,"../../store/actions":8065,react:5229,"react-compiler-runtime":5128,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useClaimState=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("react-router-dom-v5-compat"),i=e("../../contexts/claims/claims"),o=e("../../store/actions");n.useClaimState=e=>{const t=(0,s.c)(24),n=e!==undefined&&e,{pathname:c}=(0,a.useLocation)(),{claims:u}=(0,i.useClaims)(),[l,d]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[h,g]=(0,r.useState)(""),[f,S]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[v,T]=(0,r.useState)(""),[k,w]=(0,r.useState)();let _;t[0]===Symbol.for("react.memo_cache_sentinel")?(_=[],t[0]=_):_=t[0];const[C,I]=(0,r.useState)(_),[A,E]=(0,r.useState)("");let M;t[1]!==c?(M=c.split("/").pop(),t[1]=c,t[2]=M):M=t[2];const N=M;let P,R,O,D,x,U;return t[3]!==l||t[4]!==h||t[5]!==n?(P=()=>{!n&&l&&h&&(async()=>{const e=await(0,o.generateClaimSignature)(l,h);E(e)})()},R=[n,l,h],t[3]=l,t[4]=h,t[5]=n,t[6]=P,t[7]=R):(P=t[6],R=t[7]),(0,r.useEffect)(P,R),t[8]!==N||t[9]!==u||t[10]!==n?(O=()=>{if(n&&N){const e=u.find(e=>e.id===N);e&&(p(e.email),d(e.chainId),g(e.impactedWalletAddress),S(e.impactedTxHash),b(e.reimbursementWalletAddress),T(e.description),I(e.attachments||[]))}},D=[n,N,u],t[8]=N,t[9]=u,t[10]=n,t[11]=O,t[12]=D):(O=t[11],D=t[12]),(0,r.useEffect)(O,D),t[13]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{d(""),p(""),g(""),S(""),b(""),T(""),w(undefined)},t[13]=x):x=t[13],t[14]!==v||t[15]!==l||t[16]!==A||t[17]!==m||t[18]!==k||t[19]!==f||t[20]!==h||t[21]!==y||t[22]!==C?(U={chainId:l,setChainId:d,email:m,setEmail:p,impactedWalletAddress:h,setImpactedWalletAddress:g,impactedTransactionHash:f,setImpactedTransactionHash:S,reimbursementWalletAddress:y,setReimbursementWalletAddress:b,caseDescription:v,setCaseDescription:T,files:k,setFiles:w,uploadedFiles:C,claimSignature:A,clear:x},t[14]=v,t[15]=l,t[16]=A,t[17]=m,t[18]=k,t[19]=f,t[20]=h,t[21]=y,t[22]=C,t[23]=U):U=t[23],U}}}},{package:"$root$",file:"ui/hooks/shield/useClaimState.ts"}],[7164,{"../../../shared/modules/conversion.utils":5887,"../../../shared/modules/hexstring-utils":5896,"../../selectors":8035,"../../selectors/multichain-accounts/account-tree":8039,"../../selectors/snaps":8060,"@metamask/utils":3070,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=void 0;var s=e("react-compiler-runtime"),r=e("@metamask/utils"),a=e("react-redux"),i=e("../../selectors/snaps"),o=e("../../../shared/modules/hexstring-utils"),c=e("../../../shared/modules/conversion.utils"),u=e("../../selectors/multichain-accounts/account-tree"),l=e("../../selectors");n.useDisplayName=e=>{var t;const n=(0,s.c)(11),{address:d,chain:m}=e,{namespace:p,reference:h}=m,g=p===r.KnownCaipNamespace.Eip155;let f;n[0]!==d||n[1]!==g?(f=g?(0,o.toChecksumHexAddress)(d):d,n[0]=d,n[1]=g,n[2]=f):f=n[2];const S=f,y=(0,a.useSelector)(l.getIsMultichainAccountsState2Enabled);let b;n[3]!==S?(b=e=>(0,u.getAccountGroupsByAddress)(e,[S]),n[3]=S,n[4]=b):b=n[4];const v=null===(t=(0,a.useSelector)(b)[0])||void 0===t?void 0:t.metadata.name;let T;n[5]!==S?(T=e=>(0,i.getMemoizedAccountName)(e,S),n[5]=S,n[6]=T):T=n[6];const k=(0,a.useSelector)(T);let w;n[7]!==g||n[8]!==S||n[9]!==h?(w=e=>(0,i.getAddressBookEntryByNetwork)(e,S,`0x${(0,c.decimalToHex)(g?h:"0")}`),n[7]=g,n[8]=S,n[9]=h,n[10]=w):w=n[10];const _=(0,a.useSelector)(w);return y&&v||k||g&&(null==_?void 0:_.name)||undefined}}}},{package:"$root$",file:"ui/hooks/snaps/useDisplayName.ts"}],[7165,{"../../selectors":8035,"@metamask/snaps-sdk":2788,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useInsightSnaps=function(e){const t=(0,s.c)(9);let n;t[0]!==e?(n=t=>(0,i.getSnapInsights)(t,e),t[0]=e,t[1]=n):n=t[1];const a=(0,r.useSelector)(n);let c;t[2]!==a?(c=a?Object.values(a):[],t[2]=a,t[3]=c):c=t[3];const u=c;let l;t[4]!==u?(l=u.filter(o),t[4]=u,t[5]=l):l=t[5];const d=l;let m;t[6]!==u||t[7]!==d?(m={data:u,warnings:d},t[6]=u,t[7]=d,t[8]=m):m=t[8];return m};var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("@metamask/snaps-sdk"),i=e("../../selectors");function o(e){return e.severity===a.SeverityLevel.Critical}}}},{package:"$root$",file:"ui/hooks/snaps/useInsightSnaps.js"}],[7166,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=e("react");n.default=()=>{const e=(0,s.c)(4),t=(0,r.useRef)(null),[n,a]=(0,r.useState)(!1);let i,o,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{a(t.current&&t.current.offsetHeight<t.current.scrollHeight)},o=[t],e[0]=i,e[1]=o):(i=e[0],o=e[1]),(0,r.useEffect)(i,o),e[2]!==n?(c={contentRef:t,isOverflowing:n},e[2]=n,e[3]=c):c=e[3],c}}}},{package:"$root$",file:"ui/hooks/snaps/useIsOverflowing.js"}],[7167,{"../../store/actions":8065,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeWebsite=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("../../store/actions");n.useSafeWebsite=e=>{const t=(0,s.c)(3),[n,i]=(0,r.useState)();let o,c;return t[0]!==e?(o=()=>{e&&(async()=>{(await(0,a.getPhishingResult)(e)).result||i(new URL(e))})()},c=[e],t[0]=e,t[1]=o,t[2]=c):(o=t[1],c=t[2]),(0,r.useEffect)(o,c),n}}}},{package:"$root$",file:"ui/hooks/snaps/useSafeWebsite.ts"}],[7168,{"../../selectors":8035,"../../store/actions":8065,"@metamask/snaps-rpc-methods":2732,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapNameResolution=function(){const e=(0,s.c)(6),t=(0,r.useSelector)(i.getNameLookupSnaps);let n;e[0]!==t?(n=(e,n)=>t.filter(t=>{const{permission:s}=t,r=(0,a.getChainIdsCaveat)(s);if(r&&!r.includes(e))return!1;const i=(0,a.getLookupMatchersCaveat)(s);if(i){const{tlds:e,schemes:t}=i;return(null==e?void 0:e.some(e=>n.endsWith(`.${e}`)))||(null==t?void 0:t.some(e=>n.startsWith(`${e}:`)))}return!0}).map(l),e[0]=t,e[1]=n):n=e[1];const d=n;let m;e[2]!==d?(m=async(e,t)=>{const n=d(e,t);if(0===n.length)return[];return(await Promise.allSettled(n.map(n=>(0,o.handleSnapRequest)({snapId:n,origin:"metamask",handler:"onNameLookup",request:{jsonrpc:"2.0",method:" ",params:{chainId:e,domain:t}}})))).filter(u).flatMap(c)},e[2]=d,e[3]=m):m=e[3];const p=m;let h;e[4]!==p?(h={fetchResolutions:p},e[4]=p,e[5]=h):h=e[5];return h};var s=e("react-compiler-runtime"),r=(e("react"),e("react-redux")),a=e("@metamask/snaps-rpc-methods"),i=e("../../selectors"),o=e("../../store/actions");function c(e){return e.value.resolvedAddresses}function u(e){return"fulfilled"===e.status&&e.value}function l(e){const{id:t}=e;return t}}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNameResolution.ts"}],[7169,{"../../helpers/utils/util":7109,"@metamask/snaps-utils":2902,react:5229,"react-compiler-runtime":5128,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-compiler-runtime"),r=(e("react"),e("react-router-dom-v5-compat")),a=e("@metamask/snaps-utils"),i=e("../../helpers/utils/util");n.default=()=>{const e=(0,s.c)(4),t=(0,r.useNavigate)();let n;e[0]!==t?(n=e=>{let n;const s=(0,a.parseMetaMaskUrl)(e);n=s.snapId?(0,i.getSnapRoute)(s.snapId):s.path,t(n)},e[0]=t,e[1]=n):n=e[1];const o=n;let c;return e[2]!==o?(c={handleSnapNavigate:o},e[2]=o,e[3]=c):c=e[3],c}}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNavigation.ts"}],[7170,{"../../store/actions":8065,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapSettings=function({snapId:e}){const t=(0,r.useDispatch)(),[n,i]=(0,s.useState)(!0),[o,c]=(0,s.useState)(undefined),[u,l]=(0,s.useState)(undefined);return(0,s.useEffect)(()=>{let n=!1;return e&&async function(e){try{l(undefined),i(!0);const s=await(0,a.handleSnapRequest)({snapId:e,origin:"metamask",handler:"onSettingsPage",request:{jsonrpc:"2.0",method:" "}});n||(c(s),(0,a.forceUpdateMetamaskState)(t))}catch(e){n||l(e)}finally{n||i(!1)}}(e),()=>{n=!0}},[e]),{data:o,error:u,loading:n}};var s=e("react"),r=e("react-redux"),a=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapSettings.ts"}],[7171,{"../../selectors":8035,"../../store/actions":8065,loglevel:4802,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSyncSRPs=void 0;var s,r=e("react"),a=e("react-redux"),i=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../store/actions"),c=e("../../selectors");n.useSyncSRPs=()=>{const e=(0,a.useDispatch)(),t=(0,a.useSelector)(c.getIsSocialLoginFlow),[n,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{if(t)try{s(!0),await e((0,o.syncSeedPhrases)())}catch(e){i.default.error("[useSyncSRPs] error",e)}finally{s(!1)}})()},[e,t]),{loading:n}}}}},{package:"$root$",file:"ui/hooks/social-sync/useSyncSRPs.ts"}],[7172,{"../../../shared/constants/time":5790,"../../../shared/lib/shield":5867,"../../store/actions":8065,"../useAsync":7181,"../useThrottle":7231,"./useSubscription":7174,"./useSubscriptionPricing":7175,"@metamask/subscription-controller":2927,loglevel:4802,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShieldSubscriptionCryptoSufficientBalanceCheck=n.useShieldAddFundTrigger=n.useHandleShieldAddFundTrigger=void 0;var s,r=e("react-compiler-runtime"),a=e("react"),i=e("react-redux"),o=e("@metamask/subscription-controller"),c=(s=e("loglevel"))&&s.__esModule?s:{default:s},u=e("../../store/actions"),l=e("../../../shared/lib/shield"),d=e("../useAsync"),m=e("../../../shared/constants/time"),p=e("../useThrottle"),h=e("./useSubscriptionPricing"),g=e("./useSubscription");const f=()=>{const e=(0,r.c)(19),{subscriptions:t}=(0,g.useUserSubscriptions)(),n=(0,g.useUserSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,t),{subscriptionPricing:s}=(0,h.useSubscriptionPricing)(),a=(0,h.useSubscriptionPaymentMethods)(o.PAYMENT_TYPES.byCrypto,s),i=null==n?void 0:n.paymentMethod;let c;var u;e[0]!==i||e[1]!==(null==a?void 0:a.chains)?(c=i?null==a||null===(u=a.chains)||void 0===u||null===(u=u.find(e=>{var t;return e.chainId.toLowerCase()===(null==i||null===(t=i.crypto)||void 0===t||null===(t=t.chainId)||void 0===t?void 0:t.toLowerCase())}))||void 0===u?void 0:u.tokens.find(e=>{var t;return e.symbol.toLowerCase()===(null==i||null===(t=i.crypto)||void 0===t||null===(t=t.tokenSymbol)||void 0===t?void 0:t.toLowerCase())}):undefined,e[0]=i,e[1]=null==a?void 0:a.chains,e[2]=c):c=e[2];const l=c,d=(0,h.useSubscriptionProductPlans)(o.PRODUCT_TYPES.SHIELD,s);let m;e[3]!==d||e[4]!==(null==n?void 0:n.interval)?(m=null==d?void 0:d.find(e=>e.interval===(null==n?void 0:n.interval)),e[3]=d,e[4]=null==n?void 0:n.interval,e[5]=m):m=e[5];const p=m,f=null==a?void 0:a.chains;let S;e[6]!==p||e[7]!==f?(S={paymentChains:f,price:p,productType:o.PRODUCT_TYPES.SHIELD},e[6]=p,e[7]=f,e[8]=S):S=e[8];const{availableTokenBalances:y}=(0,h.useAvailableTokenBalances)(S);let b;e:{if(!i||!l){b=undefined;break e}let t;if(e[9]!==y||e[10]!==i||e[11]!==l){let n;e[13]!==i||e[14]!==l?(n=e=>{var t,n;return(null===(t=i.crypto)||void 0===t?void 0:t.chainId)===e.chainId&&l.address.toLowerCase()===(null===(n=e.address)||void 0===n?void 0:n.toLowerCase())},e[13]=i,e[14]=l,e[15]=n):n=e[15],t=y.find(n),e[9]=y,e[10]=i,e[11]=l,e[12]=t}else t=e[12];const n=t;n&&n.balance?b=n:b=undefined}const v=b,T=Boolean(v);let k;return e[16]!==T||e[17]!==v?(k={hasAvailableSelectedToken:T,validTokenBalance:v},e[16]=T,e[17]=v,e[18]=k):k=e[18],k};n.useShieldSubscriptionCryptoSufficientBalanceCheck=f;const S=()=>{const e=(0,i.useDispatch)(),{subscriptions:t}=(0,g.useUserSubscriptions)(),n=(0,g.useUserSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,t),s=n&&(0,l.getIsShieldSubscriptionPaused)(n),{subscriptionPricing:r}=(0,h.useSubscriptionPricing)(),m=(0,h.useSubscriptionProductPlans)(o.PRODUCT_TYPES.SHIELD,r),p=(0,a.useMemo)(()=>null==m?void 0:m.find(e=>e.interval===(null==n?void 0:n.interval)),[m,n]),f=null==n?void 0:n.paymentMethod,[S,y]=(0,d.useAsyncCallback)(async()=>{if(!(n&&p&&f&&s))throw new Error("Invalid parameters to handle shield add fund trigger");try{await e((0,u.updateSubscriptionCryptoPaymentMethod)({subscriptionId:n.id,paymentType:o.PAYMENT_TYPES.byCrypto,recurringInterval:n.interval,chainId:f.crypto.chainId,payerAddress:f.crypto.payerAddress,tokenSymbol:f.crypto.tokenSymbol,billingCycles:n.billingCycles??(null==p?void 0:p.minBillingCycles),rawTransaction:undefined})),await e((0,u.getSubscriptions)())}catch(e){c.default.error("[useShieldAddFundTrigger] error triggering subscription check",e)}},[e,n,p,f,s]);return{handleTriggerSubscriptionCheck:S,result:y}};n.useHandleShieldAddFundTrigger=S;const y=5*m.MINUTE;function b(e){c.default.error("[useShieldAddFundTrigger] error triggering subscription check",e)}n.useShieldAddFundTrigger=()=>{var e;const t=(0,r.c)(8),{subscriptions:n}=(0,g.useUserSubscriptions)(),s=(0,g.useUserSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,n);let i;t[0]!==s?(i=s&&(0,l.getIsShieldSubscriptionPaused)(s),t[0]=s,t[1]=i):i=t[1];const c=i,u=null==s?void 0:s.paymentMethod,d=(null==u||null===(e=u.crypto)||void 0===e?void 0:e.error)===o.CRYPTO_PAYMENT_METHOD_ERRORS.INSUFFICIENT_BALANCE,{hasAvailableSelectedToken:m}=f(),h=(0,p.useThrottle)(m,y),{handleTriggerSubscriptionCheck:v}=S();let T,k;t[2]!==v||t[3]!==d||t[4]!==c||t[5]!==h?(T=()=>{c&&d&&h&&v().catch(b)},k=[c,d,h,v],t[2]=v,t[3]=d,t[4]=c,t[5]=h,t[6]=T,t[7]=k):(T=t[6],k=t[7]),(0,a.useEffect)(T,k)}}}},{package:"$root$",file:"ui/hooks/subscription/useAddFundTrigger.ts"}],[7173,{"../../../shared/constants/subscriptions":5787,"../../../shared/lib/shield":5867,"../../helpers/constants/routes":7054,"../../pages/settings/transaction-shield-tab/types":7961,"../../store/actions":8065,"../shield/metrics/useSubscriptionMetrics":7161,"../useAsync":7181,"./useAddFundTrigger":7172,"./useSubscription":7174,"./useSubscriptionPricing":7175,"@metamask/subscription-controller":2927,react:5229,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHandlePayment=void 0;var s=e("react"),r=e("react-router-dom-v5-compat"),a=e("@metamask/subscription-controller"),i=e("../../../shared/lib/shield"),o=e("../shield/metrics/useSubscriptionMetrics"),c=e("../../../shared/constants/subscriptions"),u=e("../../helpers/constants/routes"),l=e("../../pages/settings/transaction-shield-tab/types"),d=e("../useAsync"),m=e("../../store/actions"),p=e("./useSubscriptionPricing"),h=e("./useAddFundTrigger"),g=e("./useSubscription");n.useHandlePayment=({currentShieldSubscription:e,displayedShieldSubscription:t,subscriptions:n,isCancelled:f,subscriptionPricing:S,onOpenAddFundsModal:y})=>{const b=(0,r.useNavigate)(),{captureShieldErrorStateClickedEvent:v}=(0,o.useSubscriptionMetrics)(),T=(0,p.useSubscriptionPaymentMethods)(a.PAYMENT_TYPES.byCrypto,S),k=(0,s.useMemo)(()=>{var e;if(!t||!(0,l.isCryptoPaymentMethod)(t.paymentMethod))return undefined;const n=null==T||null===(e=T.chains)||void 0===e?void 0:e.find(e=>e.chainId===t.paymentMethod.crypto.chainId);return null==n?void 0:n.tokens.find(e=>e.symbol===t.paymentMethod.crypto.tokenSymbol)},[T,t]),{hasAvailableSelectedToken:w}=(0,h.useShieldSubscriptionCryptoSufficientBalanceCheck)(),{handleTriggerSubscriptionCheck:_,result:C}=(0,h.useHandleShieldAddFundTrigger)(),[I,A]=(0,g.useUpdateSubscriptionCardPaymentMethod)({subscription:e,newRecurringInterval:null==e?void 0:e.interval}),{handleClickContactSupport:E}=(0,g.useHandleSubscriptionSupportAction)(),M=(0,s.useMemo)(()=>null==t?void 0:t.products.find(e=>e.name===a.PRODUCT_TYPES.SHIELD),[t]),{value:N}=(0,d.useAsyncResult)(async()=>{if(!k||!t||!(0,l.isCryptoPaymentMethod)(t.paymentMethod))return undefined;return await(0,m.getSubscriptionCryptoApprovalAmount)({chainId:t.paymentMethod.crypto.chainId,paymentTokenAddress:k.address,productType:a.PRODUCT_TYPES.SHIELD,interval:t.interval})},[k,t]),P=(0,s.useMemo)(()=>t&&k&&(0,l.isCryptoPaymentMethod)(t.paymentMethod)&&t.endDate&&M&&N?{chainId:t.paymentMethod.crypto.chainId,address:k.address,symbol:k.symbol,approvalAmount:{approveAmount:N.approveAmount,chainId:t.paymentMethod.crypto.chainId,paymentAddress:t.paymentMethod.crypto.payerAddress,paymentTokenAddress:k.address}}:undefined,[M,k,t,N]),{execute:R}=(0,g.useSubscriptionCryptoApprovalTransaction)(P),{execute:O,result:D}=(0,g.useUpdateSubscriptionCryptoPaymentMethod)({subscription:e}),x=(0,s.useMemo)(()=>(0,i.getIsShieldSubscriptionPaused)(n??[]),[n]),U=(0,s.useMemo)(()=>!!e&&(x&&(0,l.isCryptoPaymentMethod)(e.paymentMethod)&&!e.paymentMethod.crypto.error),[e,x]),B=(0,s.useMemo)(()=>!(!e||!(0,l.isCryptoPaymentMethod)(e.paymentMethod))&&e.paymentMethod.crypto.error===a.CRYPTO_PAYMENT_METHOD_ERRORS.INSUFFICIENT_BALANCE,[e]),L=(0,s.useMemo)(()=>{if(!e||!(0,l.isCryptoPaymentMethod)(e.paymentMethod))return!1;const{error:t}=e.paymentMethod.crypto;return t===a.CRYPTO_PAYMENT_METHOD_ERRORS.INSUFFICIENT_ALLOWANCE||t===a.CRYPTO_PAYMENT_METHOD_ERRORS.APPROVAL_TRANSACTION_TOO_OLD||t===a.CRYPTO_PAYMENT_METHOD_ERRORS.APPROVAL_TRANSACTION_REVERTED||t===a.CRYPTO_PAYMENT_METHOD_ERRORS.APPROVAL_TRANSACTION_MAX_VERIFICATION_ATTEMPTS_REACHED},[e]);return{handlePaymentError:(0,s.useCallback)(async()=>{if(e&&v({subscriptionStatus:e.status,paymentType:e.paymentMethod.type,billingInterval:e.interval,errorCause:"payment_error",actionClicked:c.ShieldErrorStateActionClickedEnum.Cta,location:c.ShieldErrorStateLocationEnum.Settings,view:c.ShieldErrorStateViewEnum.Banner}),f)b({pathname:u.SHIELD_PLAN_ROUTE,search:`?source=${c.EntryModalSourceEnum.Settings}`});else if(U)E();else if(e&&(0,l.isCryptoPaymentMethod)(e.paymentMethod))if(B)y();else{if(!L)throw new Error("Unknown crypto error action");await R()}else await I()},[e,f,U,B,L,y,R,I,E,b,v]),handlePaymentErrorInsufficientFunds:(0,s.useCallback)(async()=>{B&&w&&await _()},[B,w,_]),handlePaymentMethodChange:(0,s.useCallback)(async(e,t)=>{try{if(e===a.PAYMENT_TYPES.byCard)await I();else if(e===a.PAYMENT_TYPES.byCrypto){if(!t)throw new Error("No token selected");O(t)}}catch(e){console.error("Error changing payment method",e)}},[I,O]),isUnexpectedErrorCryptoPayment:U,isInsufficientFundsCrypto:B,isAllowanceNeededCrypto:L,hasAvailableSelectedTokenToTriggerCheckInsufficientFunds:w,resultTriggerSubscriptionCheckInsufficientFunds:C,updateSubscriptionCardPaymentMethodResult:A,updateSubscriptionCryptoPaymentMethodResult:D,currentToken:k}}}}},{package:"$root$",file:"ui/hooks/subscription/useHandlePayment.ts"}],[7174,{"../../../shared/constants/metametrics":5768,"../../../shared/constants/subscriptions":5787,"../../../shared/lib/shield":5867,"../../../shared/lib/ui-utils":5880,"../../../shared/modules/conversion.utils":5887,"../../../shared/modules/selectors/networks":5908,"../../../shared/modules/shield":5913,"../../../shared/modules/string-utils":5917,"../../ducks/metamask/metamask":7033,"../../helpers/constants/routes":7054,"../../helpers/utils/window":7111,"../../pages/confirmations/send-legacy/send.utils":7736,"../../pages/settings/transaction-shield-tab/types":7961,"../../selectors":8035,"../../selectors/identity/authentication":8033,"../../selectors/multichain-accounts/account-tree":8039,"../../selectors/subscription":8061,"../../store/actions":8065,"../shield/metrics/useSubscriptionMetrics":7161,"../useAccountTotalFiatBalance":7178,"../useAsync":7181,"./useSubscriptionPricing":7175,"@metamask/subscription-controller":2927,"@metamask/transaction-controller":2989,loglevel:4802,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserSubscriptions=n.useUserSubscriptionByProduct=n.useUserLastSubscriptionByProduct=n.useUpdateSubscriptionCryptoPaymentMethod=n.useUpdateSubscriptionCardPaymentMethod=n.useUnCancelSubscription=n.useSubscriptionEligibility=n.useSubscriptionCryptoApprovalTransaction=n.useShieldRewards=n.useOpenGetSubscriptionBillingPortal=n.useHandleSubscriptionSupportAction=n.useHandleSubscription=n.useCancelSubscription=void 0;var s,r=e("react-compiler-runtime"),a=e("react-redux"),i=e("react"),o=e("@metamask/subscription-controller"),c=(s=e("loglevel"))&&s.__esModule?s:{default:s},u=e("react-router-dom-v5-compat"),l=e("@metamask/transaction-controller"),d=e("../../selectors/subscription"),m=e("../../store/actions"),p=e("../useAsync"),h=e("../../selectors/identity/authentication"),g=e("../../ducks/metamask/metamask"),f=e("../../../shared/lib/shield"),S=e("../../pages/confirmations/send-legacy/send.utils"),y=e("../../../shared/modules/conversion.utils"),b=e("../../helpers/constants/routes"),v=e("../../selectors/multichain-accounts/account-tree"),T=e("../../selectors"),k=e("../shield/metrics/useSubscriptionMetrics"),w=e("../../../shared/constants/subscriptions"),_=e("../../../shared/modules/shield"),C=e("../../helpers/utils/window"),I=e("../../../shared/lib/ui-utils"),A=e("../../../shared/constants/metametrics"),E=e("../useAccountTotalFiatBalance"),M=e("../../../shared/modules/selectors/networks"),N=e("../../pages/settings/transaction-shield-tab/types"),P=e("../../../shared/modules/string-utils"),R=e("./useSubscriptionPricing");const O=e=>{const t=(0,r.c)(10);let n;t[0]!==e?(n=e===undefined?{refetch:!1}:e,t[0]=e,t[1]=n):n=t[1];const{refetch:s}=n,i=(0,a.useDispatch)(),o=(0,a.useSelector)(d.getUserSubscriptions);let c,u;t[2]!==i||t[3]!==s?(c=async()=>{if(s)return await i((0,m.getSubscriptions)())},u=[s,i],t[2]=i,t[3]=s,t[4]=c,t[5]=u):(c=t[4],u=t[5]);const l=(0,p.useAsyncResult)(c,u);let h;return t[6]!==l.error||t[7]!==l.pending||t[8]!==o?(h={...o,loading:l.pending,error:l.error},t[6]=l.error,t[7]=l.pending,t[8]=o,t[9]=h):h=t[9],h};n.useUserSubscriptions=O;n.useUserSubscriptionByProduct=(e,t)=>{const n=(0,r.c)(3);let s;return n[0]!==e||n[1]!==t?(s=null==t?void 0:t.find(t=>t.products.some(t=>t.name===e)),n[0]=e,n[1]=t,n[2]=s):s=n[2],s};n.useUserLastSubscriptionByProduct=(e,t)=>null!=t&&t.products.some(t=>t.name===e)?t:undefined;n.useCancelSubscription=e=>{const t=(0,r.c)(14),n=(0,a.useDispatch)(),{captureShieldMembershipCancelledEvent:s}=(0,k.useSubscriptionMetrics)();let i;t[0]!==e?(i=e?(0,f.getSubscriptionDurationInDays)(e):0,t[0]=e,t[1]=i):i=t[1];const o=i;let c;t[2]!==s||t[3]!==o||t[4]!==e?(c=(t,n)=>{if(!e)return;const{cryptoPaymentChain:r,cryptoPaymentCurrency:a}=(0,f.getSubscriptionPaymentData)(e);s({subscriptionStatus:e.status,paymentType:e.paymentMethod.type,billingInterval:e.interval,cryptoPaymentChain:r,cryptoPaymentCurrency:a,cancellationStatus:t,errorMessage:n,latestSubscriptionDuration:o})},t[2]=s,t[3]=o,t[4]=e,t[5]=c):c=t[5];const u=c;let l,d;return t[6]!==n||t[7]!==e||t[8]!==u?(l=async()=>{try{if(!e)return;const t=e.id;await n((0,m.cancelSubscription)({subscriptionId:t})),u("succeeded")}catch(e){const t=e,n=t instanceof Error?t.message:"Unknown error";throw u("failed",n),t}},t[6]=n,t[7]=e,t[8]=u,t[9]=l):l=t[9],t[10]!==s||t[11]!==n||t[12]!==e?(d=[n,e,s],t[10]=s,t[11]=n,t[12]=e,t[13]=d):d=t[13],(0,p.useAsyncCallback)(l,d)};n.useUnCancelSubscription=e=>{const t=(0,a.useDispatch)(),{captureShieldSubscriptionRestartRequestEvent:n}=(0,k.useSubscriptionMetrics)(),s=(0,i.useCallback)((t,s)=>{if(!e)return;const{cryptoPaymentChain:r,cryptoPaymentCurrency:a}=(0,f.getSubscriptionPaymentData)(e);n({subscriptionStatus:e.status,paymentType:e.paymentMethod.type,billingInterval:e.interval,cryptoPaymentChain:r,cryptoPaymentCurrency:a,requestStatus:t,errorMessage:s})},[n,e]);return(0,p.useAsyncCallback)(async()=>{try{const n=null==e?void 0:e.id;if(!n)return;await t((0,m.unCancelSubscription)({subscriptionId:n})),s("completed")}catch(e){const t=e instanceof Error?e.message:"Unknown error";throw s("failed",t),e}},[t,e,s])};n.useOpenGetSubscriptionBillingPortal=e=>{const t=(0,r.c)(7),n=(0,a.useDispatch)(),{captureCommonExistingShieldSubscriptionEvents:s}=(0,k.useSubscriptionMetrics)();let i;t[0]!==s||t[1]!==e?(i=()=>{if(!e)return;const{cryptoPaymentChain:t,cryptoPaymentCurrency:n}=(0,f.getSubscriptionPaymentData)(e);s({subscriptionStatus:e.status,paymentType:e.paymentMethod.type,billingInterval:e.interval,cryptoPaymentChain:t,cryptoPaymentCurrency:n},A.MetaMetricsEventName.ShieldBillingHistoryOpened)},t[0]=s,t[1]=e,t[2]=i):i=t[2];const o=i;let c,u;return t[3]!==n||t[4]!==o?(c=async()=>{const{url:e}=await n((0,m.getSubscriptionBillingPortalUrl)());return o(),await platform.openTab({url:e})},u=[n,o],t[3]=n,t[4]=o,t[5]=c,t[6]=u):(c=t[5],u=t[6]),(0,p.useAsyncCallback)(c,u)};n.useUpdateSubscriptionCardPaymentMethod=e=>{const t=(0,r.c)(6),{subscription:n,newRecurringInterval:s}=e,i=(0,a.useDispatch)(),{captureCommonExistingShieldSubscriptionEvents:c}=(0,k.useSubscriptionMetrics)();let u,l;return t[0]!==c||t[1]!==i||t[2]!==s||t[3]!==n?(u=async()=>{if(!n||!s)throw new Error("Subscription ID and recurring interval are required");const e=n.id;await i((0,m.updateSubscriptionCardPaymentMethod)({subscriptionId:e,paymentType:o.PAYMENT_TYPES.byCard,recurringInterval:s})),c({subscriptionStatus:n.status,paymentType:n.paymentMethod.type,billingInterval:s},A.MetaMetricsEventName.ShieldPaymentMethodUpdated)},l=[i,n,s,c],t[0]=c,t[1]=i,t[2]=s,t[3]=n,t[4]=u,t[5]=l):(u=t[4],l=t[5]),(0,p.useAsyncCallback)(u,l)};const D=e=>{const t=(0,r.c)(12),n=(0,u.useNavigate)(),{subscriptionPricing:s}=(0,R.useSubscriptionPricing)(),o=(0,a.useSelector)(x),c=(0,a.useSelector)(M.getNetworkConfigurationsByChainId),d=(0,a.useSelector)(T.getUnapprovedConfirmations).length>0,[p,h]=(0,i.useState)(!1);let g,f,v;t[0]!==d||t[1]!==n||t[2]!==p?(g=()=>{d&&p&&n(b.CONFIRM_TRANSACTION_ROUTE)},f=[d,p,n],t[0]=d,t[1]=n,t[2]=p,t[3]=g,t[4]=f):(g=t[3],f=t[4]),(0,i.useEffect)(g,f),t[5]!==(null==o?void 0:o.address)||t[6]!==c||t[7]!==e||t[8]!==s?(v=async()=>{var t,n;if(!s)throw new Error("Subscription pricing not found");if(!e)throw new Error("No token selected");const r=c[e.chainId],a=null==r||null===(t=r.rpcEndpoints[r.defaultRpcEndpointIndex??0])||void 0===t?void 0:t.networkClientId,i=null==s||null===(n=s.paymentMethods)||void 0===n||null===(n=n.find(U))||void 0===n||null===(n=n.chains)||void 0===n||null===(n=n.find(t=>t.chainId===(null==e?void 0:e.chainId)))||void 0===n?void 0:n.paymentAddress,u=(0,S.generateERC20ApprovalData)({spenderAddress:i,amount:(0,y.decimalToHex)(e.approvalAmount.approveAmount)}),d={from:null==o?void 0:o.address,to:e.address,value:"0x0",data:u};d.gas=await(0,m.estimateGas)(d);const p={type:l.TransactionType.shieldSubscriptionApprove,networkClientId:a};await(0,m.addTransaction)(d,p),h(!0)},t[5]=null==o?void 0:o.address,t[6]=c,t[7]=e,t[8]=s,t[9]=v):v=t[9];const k=v;let w;return t[10]!==k?(w={execute:k},t[10]=k,t[11]=w):w=t[11],w};n.useSubscriptionCryptoApprovalTransaction=D;n.useSubscriptionEligibility=e=>{const t=(0,a.useDispatch)(),n=(0,a.useSelector)(h.selectIsSignedIn),s=(0,a.useSelector)(g.getIsUnlocked),r=(0,a.useSelector)(e=>(0,v.getInternalAccountBySelectedAccountGroupAndCaip)(e,"eip155:1")),{totalFiatBalance:o}=(0,E.useAccountTotalFiatBalance)(r,!1,!0);return{getSubscriptionEligibility:(0,i.useCallback)(async()=>{try{if(!n||!s)return undefined;const r=(0,_.getUserBalanceCategory)(Number(o)),a=await t((0,m.getSubscriptions)());if(!(0,f.getIsShieldSubscriptionActive)(a)){return(await t((0,m.getSubscriptionsEligibilities)({balanceCategory:r}))).find(t=>t.product===e)}return undefined}catch(e){return c.default.warn("[useSubscriptionEligibility] error",e),undefined}},[n,s,t,e,o])}};n.useHandleSubscription=e=>{const t=(0,r.c)(37),{selectedPaymentMethod:n,selectedToken:s,selectedPlan:i,defaultOptions:c,isTrialed:l,useTestClock:d,rewardPoints:h}=e,g=d!==undefined&&d,f=(0,a.useDispatch)(),{search:S}=(0,u.useLocation)(),{execute:y}=D(s),{lastSubscription:b}=O(),{captureShieldSubscriptionRequestEvent:v,setShieldSubscriptionMetricsPropsToBackground:C}=(0,k.useSubscriptionMetrics)(),I=(0,a.useSelector)(T.getModalTypeForShieldEntryModal),A=b?w.ShieldSubscriptionRequestSubscriptionStateEnum.Renew:w.ShieldSubscriptionRequestSubscriptionStateEnum.New;let E;t[0]!==S?(E=()=>{const e=(0,_.getShieldMarketingUtmParamsForMetrics)(S);if(Object.keys(e).length>0)return w.EntryModalSourceEnum.Marketing;switch(new URLSearchParams(S).get("source")){case"homepage":return w.EntryModalSourceEnum.Homepage;case"post_transaction":return w.EntryModalSourceEnum.PostTransaction;case"notification":return w.EntryModalSourceEnum.Notification;case"carousel":return w.EntryModalSourceEnum.Carousel;case"marketing":return w.EntryModalSourceEnum.Marketing;default:return w.EntryModalSourceEnum.Settings}},t[0]=S,t[1]=E):E=t[1];const M=E;let N,P;t[2]!==v||t[3]!==c||t[4]!==M||t[5]!==f||t[6]!==y||t[7]!==l||t[8]!==A||t[9]!==I||t[10]!==h||t[11]!==S||t[12]!==n||t[13]!==i||t[14]!==(null==s?void 0:s.address)||t[15]!==(null==s?void 0:s.symbol)||t[16]!==C||t[17]!==g?(N=async()=>{await f((0,m.setLastUsedSubscriptionPaymentDetails)(o.PRODUCT_TYPES.SHIELD,{type:n,paymentTokenAddress:null==s?void 0:s.address,paymentTokenSymbol:null==s?void 0:s.symbol,plan:i,useTestClock:g}));const e=(0,_.getShieldMarketingUtmParamsForMetrics)(S);await f((0,m.setDefaultSubscriptionPaymentOptions)(c)),await C({source:M(),marketingUtmParams:e,rewardPoints:h});const t=M(),r={subscriptionState:A,defaultPaymentType:c.defaultPaymentType,defaultPaymentCurrency:c.defaultPaymentCurrency,defaultBillingInterval:c.defaultBillingInterval,defaultPaymentChain:c.defaultPaymentChain,paymentType:n,paymentCurrency:"USD",isTrialSubscription:!l,billingInterval:i,source:t,type:I,marketingUtmParams:e};if(n===o.PAYMENT_TYPES.byCard){v({...r,paymentCurrency:"USD",requestStatus:"started"});try{await f((0,m.startSubscriptionWithCard)({products:[o.PRODUCT_TYPES.SHIELD],isTrialRequested:!l,recurringInterval:i,useTestClock:g}))}catch(e){const t=e;if(!(t instanceof Error&&t.message.toLowerCase().includes(_.SHIELD_ERROR.tabActionFailed.toLowerCase())))throw t;console.error("[useHandleSubscription error]:",t)}}else n===o.PAYMENT_TYPES.byCrypto&&await y()},t[2]=v,t[3]=c,t[4]=M,t[5]=f,t[6]=y,t[7]=l,t[8]=A,t[9]=I,t[10]=h,t[11]=S,t[12]=n,t[13]=i,t[14]=null==s?void 0:s.address,t[15]=null==s?void 0:s.symbol,t[16]=C,t[17]=g,t[18]=N):N=t[18],t[19]!==v||t[20]!==c||t[21]!==M||t[22]!==f||t[23]!==y||t[24]!==l||t[25]!==A||t[26]!==I||t[27]!==h||t[28]!==S||t[29]!==n||t[30]!==i||t[31]!==s||t[32]!==g?(P=[f,c,l,n,i,s,y,g,v,A,I,M,S,h],t[19]=v,t[20]=c,t[21]=M,t[22]=f,t[23]=y,t[24]=l,t[25]=A,t[26]=I,t[27]=h,t[28]=S,t[29]=n,t[30]=i,t[31]=s,t[32]=g,t[33]=P):P=t[33];const[R,x]=(0,p.useAsyncCallback)(N,P);let U;return t[34]!==R||t[35]!==x?(U={handleSubscription:R,subscriptionResult:x},t[34]=R,t[35]=x,t[36]=U):U=t[36],U};n.useHandleSubscriptionSupportAction=()=>{var e;const t=(0,r.c)(6),n=(0,a.useSelector)(h.selectSessionData),s=null==n||null===(e=n.profile)||void 0===e?void 0:e.profileId,i=(0,a.useSelector)(T.getMetaMetricsId),{customerId:o}=O();let c;t[0]!==i||t[1]!==s||t[2]!==o?(c=()=>{let e=I.SUPPORT_LINK;const t=new URLSearchParams;t.append("metamask_version","13.13.2"),s&&t.append("metamask_profile_id",s),i&&t.append("metamask_metametrics_id",i),o&&t.append("shield_id",o);const n=t.toString();n&&(e+=`?${n}`),(0,C.openWindow)(e)},t[0]=i,t[1]=s,t[2]=o,t[3]=c):c=t[3];const u=c;let l;return t[4]!==u?(l={handleClickContactSupport:u},t[4]=u,t[5]=l):l=t[5],l};n.useUpdateSubscriptionCryptoPaymentMethod=e=>{const t=(0,r.c)(13),{subscription:n}=e,s=(0,a.useDispatch)(),[c,u]=(0,i.useState)(),{execute:l}=D(c);let d,h;t[0]!==s||t[1]!==l||t[2]!==c||t[3]!==n?(d=async()=>{if(!n)throw new Error("No subscription exist");if(!(0,N.isCryptoPaymentMethod)(n.paymentMethod))throw new Error("Subscription is not a crypto payment method");if(!c)throw new Error("No token selected");await s((0,m.setLastUsedSubscriptionPaymentDetails)(o.PRODUCT_TYPES.SHIELD,{type:o.PAYMENT_TYPES.byCrypto,paymentTokenAddress:c.address,paymentTokenSymbol:c.symbol,plan:n.interval})),await l()},h=[n,l,s,c],t[0]=s,t[1]=l,t[2]=c,t[3]=n,t[4]=d,t[5]=h):(d=t[4],h=t[5]);const[g,f]=(0,p.useAsyncCallback)(d,h),S=null==c?void 0:c.address;let y,b,v;t[6]!==g||t[7]!==S?(y=()=>{S&&g().then(()=>{u(undefined)})},b=[S,g],t[6]=g,t[7]=S,t[8]=y,t[9]=b):(y=t[8],b=t[9]),(0,i.useEffect)(y,b),t[10]===Symbol.for("react.memo_cache_sentinel")?(v=e=>{if(!e)throw new Error("No token selected");u(e)},t[10]=v):v=t[10];const T=v;let k;return t[11]!==f?(k={execute:T,result:f},t[11]=f,t[12]=k):k=t[12],k};function x(e){return(0,v.getInternalAccountBySelectedAccountGroupAndCaip)(e,"eip155:1")}function U(e){return e.type===o.PAYMENT_TYPES.byCrypto}n.useShieldRewards=()=>{const e=(0,r.c)(24),t=(0,a.useDispatch)(),[n]=(0,a.useSelector)(T.getMetaMaskHdKeyrings),s=(0,a.useSelector)(T.getUpdatedAndSortedAccountsWithCaipAccountId);let i;e:{if(!n){i=null;break e}let t;if(e[0]!==s||e[1]!==n){let r;e[3]!==n?(r=e=>{var t;const s=null===(t=e.options)||void 0===t?void 0:t.entropySource;return"string"==typeof s&&(0,P.isEqualCaseInsensitive)(s,n.metadata.id)},e[3]=n,e[4]=r):r=e[4],t=s.find(r),e[0]=s,e[1]=n,e[2]=t}else t=e[2];t?i=t.caipAccountId:i=null}const o=i;let c,u;e[5]!==o||e[6]!==t?(c=async()=>{if(!o)return!1;return await t((0,m.getRewardsHasAccountOptedIn)(o))},e[5]=o,e[6]=t,e[7]=c):c=e[7],e[8]!==o?(u=[o],e[8]=o,e[9]=u):u=e[9];const{value:l,pending:d,error:h}=(0,p.useAsyncResult)(c,u);let g,f;e[10]!==o||e[11]!==t?(g=async()=>{if(!o)return{monthly:null,yearly:null};const[e,n]=await Promise.all([t((0,m.estimateRewardsPoints)({activityType:"SHIELD",account:o,activityContext:{shieldContext:{recurringInterval:"month"}}})),t((0,m.estimateRewardsPoints)({activityType:"SHIELD",account:o,activityContext:{shieldContext:{recurringInterval:"year"}}}))]);return{monthly:(null==e?void 0:e.pointsEstimate)??null,yearly:(null==n?void 0:n.pointsEstimate)??null}},f=[t,o],e[10]=o,e[11]=t,e[12]=g,e[13]=f):(g=e[12],f=e[13]);const{value:S,pending:y,error:b}=(0,p.useAsyncResult)(g,f);let v,k;e[14]!==t?(v=async()=>{const e=await t((0,m.getRewardsSeasonMetadata)("current"));if(!e)return!1;const n=Date.now();return n>=e.startDate&&n<=e.endDate},k=[t],e[14]=t,e[15]=v,e[16]=k):(v=e[15],k=e[16]);const{value:w,pending:_,error:C}=(0,p.useAsyncResult)(v,k);if(b||C||h){let t;return b&&console.error("[useShieldRewards error]:",b),C&&console.error("[useShieldRewards error]:",C),h&&console.error("[useShieldRewards error]:",h),e[17]===Symbol.for("react.memo_cache_sentinel")?(t={pending:!1,pointsMonthly:null,pointsYearly:null,isRewardsSeason:!1,hasAccountOptedIn:!1},e[17]=t):t=e[17],t}const I=y||_||d,A=(null==S?void 0:S.monthly)??null,E=(null==S?void 0:S.yearly)??null,M=w??!1,N=l??!1;let R;return e[18]!==M||e[19]!==N||e[20]!==I||e[21]!==A||e[22]!==E?(R={pending:I,pointsMonthly:A,pointsYearly:E,isRewardsSeason:M,hasAccountOptedIn:N},e[18]=M,e[19]=N,e[20]=I,e[21]=A,e[22]=E,e[23]=R):R=e[23],R}}}},{package:"$root$",file:"ui/hooks/subscription/useSubscription.ts"}],[7175,{"../../../shared/constants/transaction":5792,"../../selectors/assets":8027,"../../selectors/multichain-accounts/account-tree":8039,"../../selectors/subscription":8061,"../../store/actions":8065,"../useAsync":7181,"../useTokenBalances":7233,"bignumber.js":3926,loglevel:4802,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSubscriptionProductPlans=n.useSubscriptionPricing=n.useSubscriptionPaymentMethods=n.useAvailableTokenBalances=void 0;var s,r=e("react-compiler-runtime"),a=(e("react"),e("react-redux")),i=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("bignumber.js"),c=e("../../selectors/subscription"),u=e("../../store/actions"),l=e("../../selectors/assets"),d=e("../useTokenBalances"),m=e("../../../shared/constants/transaction"),p=e("../useAsync"),h=e("../../selectors/multichain-accounts/account-tree");n.useAvailableTokenBalances=e=>{const t=(0,r.c)(27),{paymentChains:n,price:s,productType:c}=e;let y;t[0]!==n?(y=null==n?void 0:n.map(g),t[0]=n,t[1]=y):y=t[1];const b=y;let v;t[2]!==n?(v=null==n?void 0:n.reduce(f,{}),t[2]=n,t[3]=v):v=t[3];const T=v,k=(0,a.useSelector)(h.getSelectedAccountGroup),[w]=(0,a.useSelector)(S),_=(null==w?void 0:w.id)??k;let C;t[4]!==_?(C=e=>(0,h.getInternalAccountByGroupAndCaip)(e,_,"eip155:1"),t[4]=_,t[5]=C):C=t[5];const I=(0,a.useSelector)(C);let A;t[6]!==(null==I?void 0:I.address)?(A=e=>(0,l.getTokenBalancesEvm)(e,null==I?void 0:I.address),t[6]=null==I?void 0:I.address,t[7]=A):A=t[7];const E=(0,a.useSelector)(A);let M,N;if(t[8]!==b?(M={chainIds:b},t[8]=b,t[9]=M):M=t[9],(0,d.useTokenBalances)(M),t[10]!==E||t[11]!==T){let e;t[13]!==T?(e=e=>{const t=null==T?void 0:T[e.chainId];if(!Boolean(t))return!1;if(!(null==t?void 0:t.some(t=>t.address.toLowerCase()===e.address.toLowerCase())))return!1;return!!(e.balance&&parseFloat(e.balance)>0)},t[13]=T,t[14]=e):e=t[14],N=E.filter(e),t[10]=E,t[11]=T,t[12]=N}else N=t[12];const P=N;let R,O;t[15]!==T||t[16]!==s||t[17]!==c||t[18]!==P?(R=async()=>{if(!s||!T)return[];const e=[];return(await Promise.all(P.map(e=>{var t;return(null==T||null===(t=T[e.chainId])||void 0===t?void 0:t.find(t=>t.address.toLowerCase()===e.address.toLowerCase()))?(0,u.getSubscriptionCryptoApprovalAmount)({chainId:e.chainId,paymentTokenAddress:e.address,productType:c,interval:s.interval}):(i.default.error("[useAvailableTokenBalances] tokenPaymentInfo not found",e),null)}))).forEach((t,n)=>{const r=P[n];if(!r.balance)return;const a=new o.BigNumber(r.balance),i=s.minBillingCyclesForBalance??1,c=new o.BigNumber(s.unitAmount).div(new o.BigNumber(10).pow(s.unitDecimals)).mul(i);t&&a.gte(c)&&e.push({...r,approvalAmount:{approveAmount:t.approveAmount,chainId:r.chainId,paymentAddress:t.paymentAddress,paymentTokenAddress:t.paymentTokenAddress},type:r.isNative?m.AssetType.native:m.AssetType.token})}),e},O=[s,c,T,P],t[15]=T,t[16]=s,t[17]=c,t[18]=P,t[19]=R,t[20]=O):(R=t[19],O=t[20]);const{value:D,pending:x,error:U}=(0,p.useAsyncResult)(R,O);let B,L;return t[21]!==D?(B=D??[],t[21]=D,t[22]=B):B=t[22],t[23]!==U||t[24]!==x||t[25]!==B?(L={availableTokenBalances:B,pending:x,error:U},t[23]=U,t[24]=x,t[25]=B,t[26]=L):L=t[26],L};n.useSubscriptionPricing=e=>{const t=(0,r.c)(10);let n;t[0]!==e?(n=e===undefined?{refetch:!1}:e,t[0]=e,t[1]=n):n=t[1];const{refetch:s}=n,i=(0,a.useDispatch)(),o=(0,a.useSelector)(c.getSubscriptionPricing);let l,d;t[2]!==i||t[3]!==s?(l=async()=>{if(s)return await i((0,u.getSubscriptionPricing)())},d=[i,s],t[2]=i,t[3]=s,t[4]=l,t[5]=d):(l=t[4],d=t[5]);const{pending:m,error:h}=(0,p.useAsyncResult)(l,d);let g;return t[6]!==h||t[7]!==m||t[8]!==o?(g={subscriptionPricing:o,loading:m,error:h},t[6]=h,t[7]=m,t[8]=o,t[9]=g):g=t[9],g};n.useSubscriptionProductPlans=(e,t)=>{const n=(0,r.c)(3);let s;var a;n[0]!==(null==t?void 0:t.products)||n[1]!==e?(s=null==t||null===(a=t.products.find(t=>t.name===e))||void 0===a?void 0:a.prices,n[0]=null==t?void 0:t.products,n[1]=e,n[2]=s):s=n[2];return s};function g(e){return e.chainId}function f(e,t){return e[t.chainId]=t.tokens,e}function S(e){return(0,h.getAccountGroupsByAddress)(e,[""])}n.useSubscriptionPaymentMethods=(e,t)=>{const n=(0,r.c)(3);let s;return n[0]!==e||n[1]!==(null==t?void 0:t.paymentMethods)?(s=null==t?void 0:t.paymentMethods.find(t=>t.type===e),n[0]=e,n[1]=null==t?void 0:t.paymentMethods,n[2]=s):s=n[2],s}}}},{package:"$root$",file:"ui/hooks/subscription/useSubscriptionPricing.ts"}],[7176,{"../../shared/lib/multichain/scope-utils":5862,"../selectors/multichain-accounts/account-tree":8039,"@metamask/chain-agnostic-permission":1360,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountGroupsForPermissions=n.supportsNamespaces=n.supportsChainIds=n.hasRequestedAccountIds=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("@metamask/chain-agnostic-permission"),i=(e("react"),e("../selectors/multichain-accounts/account-tree")),o=e("../../shared/lib/multichain/scope-utils");const c=(e,t)=>e.accounts.some(e=>(0,o.hasChainIdSupport)(e.scopes,t));n.supportsChainIds=c;const u=(e,t)=>e.accounts.some(e=>(0,o.hasNamespaceSupport)(e.scopes,t));n.supportsNamespaces=u;const l=(e,t)=>e.accounts.some(e=>{try{return(0,a.isInternalAccountInPermittedAccountIds)(e,t)}catch{return!1}});n.hasRequestedAccountIds=l;n.useAccountGroupsForPermissions=(e,t,n,d)=>{const m=(0,s.c)(19),p=(0,r.useSelector)(i.getSelectedAccountGroup),h=(0,r.useSelector)(i.getAccountGroupWithInternalAccounts);let g;if(m[0]!==h||m[1]!==e||m[2]!==t||m[3]!==n||m[4]!==d||m[5]!==p){let s;m[7]!==p?(s=e=>e.id===p,m[7]=p,m[8]=s):s=m[8];const r=h.find(s),i=(0,a.getCaipAccountIdsFromCaip25CaveatValue)(e),f=new Set(d);let S=h;r&&(S=Array.from(new Set([r,...h])));const y=e=>{return t=i,e.accounts.some(e=>{try{return(0,a.isInternalAccountInPermittedAccountIds)(e,t)}catch{return!1}});var t},b=e=>n.length>0?c(e,n):u(e,f);let v;m[9]!==t?(v=e=>l(e,t),m[9]=t,m[10]=v):v=m[10];const T=v,k=S.filter(y),w=S.filter(e=>b(e)&&!T(e)),_=S.filter(e=>y(e)&&T(e)),C=S.filter(e=>b(e)&&T(e)),I=S.filter(e=>y(e)||T(e)),A=Array.from(new Set([...(0,o.getCaip25AccountIdsFromAccountGroupAndScope)(I,n)])),E=C.length>0,M=w.length>0;let N;m[11]===Symbol.for("react.memo_cache_sentinel")?(N=[],m[11]=N):N=m[11];let P=N;if(!E&&M){const e=r&&(n.length>0?c(r,n):u(r,f))?r:w[0];e&&(P=[e])}const R=new Set([...C,...P]);g={selectedAndRequestedAccountGroups:Array.from(R),supportedAccountGroups:Array.from(new Set([...C,...w])),connectedAccountGroups:Array.from(new Set([..._,...k])),connectedCaipAccountIds:i,connectedAccountGroupWithRequested:Array.from(new Set(I)),caipAccountIdsOfConnectedAndRequestedAccountGroups:A},m[0]=h,m[1]=e,m[2]=t,m[3]=n,m[4]=d,m[5]=p,m[6]=g}else g=m[6];const f=g;let S;return m[12]!==f.caipAccountIdsOfConnectedAndRequestedAccountGroups||m[13]!==f.connectedAccountGroupWithRequested||m[14]!==f.connectedAccountGroups||m[15]!==f.connectedCaipAccountIds||m[16]!==f.selectedAndRequestedAccountGroups||m[17]!==f.supportedAccountGroups?(S={connectedAccountGroups:f.connectedAccountGroups,supportedAccountGroups:f.supportedAccountGroups,existingConnectedCaipAccountIds:f.connectedCaipAccountIds,connectedAccountGroupWithRequested:f.connectedAccountGroupWithRequested,caipAccountIdsOfConnectedAndRequestedAccountGroups:f.caipAccountIdsOfConnectedAndRequestedAccountGroups,selectedAndRequestedAccountGroups:f.selectedAndRequestedAccountGroups},m[12]=f.caipAccountIdsOfConnectedAndRequestedAccountGroups,m[13]=f.connectedAccountGroupWithRequested,m[14]=f.connectedAccountGroups,m[15]=f.connectedCaipAccountIds,m[16]=f.selectedAndRequestedAccountGroups,m[17]=f.supportedAccountGroups,m[18]=S):S=m[18],S}}}},{package:"$root$",file:"ui/hooks/useAccountGroupsForPermissions.ts"}],[7177,{"../../shared/constants/network":5772,"../../shared/modules/conversion.utils":5887,"../../shared/modules/selectors/networks":5908,"../ducks/metamask/metamask":7033,"../helpers/utils/token-util":7105,"../selectors":8035,"ethereumjs-util":4296,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalCrossChainFiatBalance=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("ethereumjs-util"),i=(e("react"),e("../ducks/metamask/metamask")),o=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../helpers/utils/token-util"),l=e("../../shared/modules/selectors/networks"),d=e("../../shared/constants/network");function m(e){return null!==e}function p(e){return e!==undefined}function h(e,t){const n=t.tokenFiatBalances.filter(p),s=(0,c.sumDecimals)(t.nativeFiatValue,...n);return e+(s.toNumber?s.toNumber():Number(s))}n.useAccountTotalCrossChainFiatBalance=(e,t)=>{const n=(0,s.c)(26),p=(0,r.useSelector)(l.getNetworkConfigurationsByChainId),g=(0,r.useSelector)(o.getEnabledNetworks);let f;n[0]!==g?(f=Object.assign({},...Object.values(g??{})),n[0]=g,n[1]=f):f=n[1];const S=f,y=(0,r.useSelector)(i.getCurrencyRates),b=(0,r.useSelector)(i.getCurrentCurrency),v=(0,r.useSelector)(o.getCrossChainTokenExchangeRates,r.shallowEqual),T=(0,r.useSelector)(o.getCrossChainMetaMaskCachedBalances);let k;n[2]!==v?(k={...v},n[2]=v,n[3]=k):k=n[3];const w=k;let _;if(n[4]!==S||n[5]!==t){let e;n[7]!==S?(e=e=>Object.keys(S).includes(e.chainId.toString())?e:null,n[7]=S,n[8]=e):e=n[8],_=t.map(e).filter(m),n[4]=S,n[5]=t,n[6]=_}else _=n[6];const C=_;let I,A;n[9]!==(null==e?void 0:e.address)||n[10]!==p||n[11]!==T||n[12]!==y||n[13]!==b||n[14]!==C||n[15]!==w?(I=()=>C.map(t=>{var n,s;const{tokensWithBalances:r}=t,i=d.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[t.chainId]??p[t.chainId].nativeCurrency,o=null==y||null===(n=y[i])||void 0===n?void 0:n.conversionRate,l=r.map(e=>{var n;const s=null==w||null===(n=w[t.chainId])||void 0===n?void 0:n[(0,a.toChecksumAddress)(e.address)];return(0,u.getTokenFiatAmount)(s,o,b,e.string,e.symbol,!1,!1)}),m=(null==T||null===(s=T[t.chainId])||void 0===s?void 0:s[null==e?void 0:e.address])??0,h=(0,c.getValueFromWeiHex)({value:m,toCurrency:b,conversionRate:o,numberOfDecimals:2});return{...t,tokenFiatBalances:l,nativeFiatValue:h}}),n[9]=null==e?void 0:e.address,n[10]=p,n[11]=T,n[12]=y,n[13]=b,n[14]=C,n[15]=w,n[16]=I):I=n[16],null==e||e.address,n[17]!==I?(A=I(),n[17]=I,n[18]=A):A=n[18];const E=A;let M;n[19]!==E?(M=E.reduce(h,0),n[19]=E,n[20]=M):M=n[20];const N=M;let P,R;return n[21]!==N?(P=N.toString(10),n[21]=N,n[22]=P):P=n[22],n[23]!==P||n[24]!==E?(R={totalFiatBalance:P,tokenFiatBalancesCrossChains:E},n[23]=P,n[24]=E,n[25]=R):R=n[25],R}}}},{package:"$root$",file:"ui/hooks/useAccountTotalCrossChainFiatBalance.ts"}],[7178,{"../../shared/modules/conversion.utils":5887,"../../shared/modules/selectors/networks":5908,"../ducks/metamask/metamask":7033,"../helpers/utils/confirm-tx.util":7077,"../helpers/utils/token-util":7105,"../helpers/utils/util":7109,"../selectors":8035,"./useTokenBalances":7233,"ethereumjs-util":4296,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalFiatBalance=void 0;var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("ethereumjs-util"),i=(e("react"),e("../../shared/modules/selectors/networks")),o=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../ducks/metamask/metamask"),l=e("../helpers/utils/confirm-tx.util"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),p=e("./useTokenBalances");function h(e,t){const n=[];return t.forEach(t=>{const s=null==e?void 0:e[t.address.toLowerCase()];s&&n.push({...s,balance:t.balance,string:t.string,balanceError:t.balanceError})}),n}function g(e,t){return parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance)}n.useAccountTotalFiatBalance=(e,t,n)=>{const f=(0,s.c)(53),S=n!==undefined&&n,y=(0,r.useSelector)(i.getCurrentChainId);let b=(0,r.useSelector)(u.getConversionRate);const v=(0,r.useSelector)(o.getUSDConversionRate);let T=(0,r.useSelector)(u.getCurrentCurrency);S&&(b=v,T="usd");const k=(0,r.useSelector)(o.getTokenExchangeRates,r.shallowEqual),w=(0,r.useSelector)(o.getConfirmationExchangeRates),_=(0,r.useSelector)(o.getMetaMaskCachedBalances),C=(null==_?void 0:_[null==e?void 0:e.address])??0,I=(0,c.getValueFromWeiHex)({value:C,toCurrency:T,conversionRate:b,numberOfDecimals:2}),A=(0,r.useSelector)(o.getAllTokens);let E;var M;(null==e||e.address,f[0]!==(null==e?void 0:e.address)||f[1]!==y||f[2]!==A)?(E=(null==A||null===(M=A[y])||void 0===M?void 0:M[null==e?void 0:e.address])??[],f[0]=null==e?void 0:e.address,f[1]=y,f[2]=A,f[3]=E):E=f[3];const N=E,P=(0,r.useSelector)(o.getTokenList),R=(0,r.useSelector)(o.getNativeCurrencyImage),O=(0,r.useSelector)(u.getNativeCurrency),D=null==e?void 0:e.address;let x;f[4]!==y||f[5]!==t||f[6]!==D||f[7]!==N?(x={chainId:y,tokens:N,address:D,hideZeroBalanceTokens:t},f[4]=y,f[5]=t,f[6]=D,f[7]=N,f[8]=x):x=f[8];const{tokensWithBalances:U}=(0,p.useTokenTracker)(x);let B;f[9]!==w||f[10]!==k?(B={...k,...w},f[9]=w,f[10]=k,f[11]=B):B=f[11];const L=B;let F;if(f[12]!==b||f[13]!==T||f[14]!==L||f[15]!==U){let e;f[17]!==b||f[18]!==T||f[19]!==L?(e=e=>{const t=L[(0,a.toChecksumAddress)(e.address)];return(0,d.getTokenFiatAmount)(t,b,T,e.string,e.symbol,!1,!1)},f[17]=b,f[18]=T,f[19]=L,f[20]=e):e=f[20],F=U.map(e),f[12]=b,f[13]=T,f[14]=L,f[15]=U,f[16]=F}else F=f[16];const $=F,j=h;let G;f[21]!==P||f[22]!==U?(G=j(P,U),f[21]=P,f[22]=U,f[23]=G):G=f[23];const W=G;let H;f[24]!==O||f[25]!==I||f[26]!==R?(H={iconUrl:R,symbol:O,fiatBalance:I},f[24]=O,f[25]=I,f[26]=R,f[27]=H):H=f[27];const K=H;let Y,V;f[28]!==W||f[29]!==$?(Y=W.map((e,t)=>({...e,fiatBalance:$[t]})),f[28]=W,f[29]=$,f[30]=Y):Y=f[30],f[31]!==K||f[32]!==Y?(V=[K,...Y],f[31]=K,f[32]=Y,f[33]=V):V=f[33];const q=V;let z;f[34]!==q?(z=q.sort(g),f[34]=q,f[35]=z):z=f[35];const Q=z;let X,Z,J,ee;f[36]!==b||f[37]!==T||f[38]!==L||f[39]!==I||f[40]!==$||f[41]!==U?(ee=(0,c.sumDecimals)(I,...$).toString(10),U.forEach(e=>{e.string=(0,m.roundToDecimalPlacesRemovingExtraZeroes)(e.string,5);const t=L[(0,a.toChecksumAddress)(e.address)];e.tokenFiatAmount=(0,d.getTokenFiatAmount)(t,b,T,e.string,e.symbol,!1,!1)||"0"}),Z=U,X=(0,l.formatCurrency)(ee,T),J=(0,c.getWeiHexFromDecimalValue)({value:ee,fromCurrency:T,conversionRate:b,invertConversionRate:!0}),f[36]=b,f[37]=T,f[38]=L,f[39]=I,f[40]=$,f[41]=U,f[42]=X,f[43]=Z,f[44]=J,f[45]=ee):(X=f[42],Z=f[43],J=f[44],ee=f[45]);let te,ne=J;return"NaN"===ne&&(ne="0x0"),f[46]!==X||f[47]!==Z||f[48]!==L||f[49]!==Q||f[50]!==ee||f[51]!==ne?(te={formattedFiat:X,totalWeiBalance:ne,totalFiatBalance:ee,tokensWithBalances:Z,loading:!1,orderedTokenList:Q,mergedRates:L},f[46]=X,f[47]=Z,f[48]=L,f[49]=Q,f[50]=ee,f[51]=ne,f[52]=te):te=f[52],te}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[7179,{"../ducks/confirm-alerts/confirm-alerts":7025,"../helpers/constants/design-system":7049,"../selectors/alerts":8025,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-redux"),r=e("react"),a=e("../selectors/alerts"),i=e("../ducks/confirm-alerts/confirm-alerts"),o=e("../helpers/constants/design-system");function c(e){const t={[o.Severity.Danger]:3,[o.Severity.Warning]:2,[o.Severity.Info]:1,[o.Severity.Success]:0,[o.Severity.Disabled]:0};return[...e].sort((e,n)=>t[n.severity]-t[e.severity])}n.default=e=>{const t=(0,s.useDispatch)(),n=c((0,s.useSelector)(t=>(0,a.selectAlerts)(t,e))),u=(0,s.useSelector)(t=>(0,a.selectConfirmedAlertKeys)(t,e)),l=c((0,s.useSelector)(t=>(0,a.selectGeneralAlerts)(t,e))),d=c((0,s.useSelector)(t=>(0,a.selectFieldAlerts)(t,e))),m=n.filter(e=>!e.hideFromAlertNavigation),p=l.filter(e=>!e.hideFromAlertNavigation),h=d.filter(e=>!e.hideFromAlertNavigation),g=(0,r.useCallback)(e=>e?n.filter(t=>t.field===e):[],[n]),f=(0,r.useCallback)(e=>e?n.filter(t=>t.field===e&&!t.hideFromAlertNavigation):[],[n]),S=(0,r.useCallback)((n,s)=>{t((0,i.setAlertConfirmed)(e,n,s))},[t,e]),y=(0,r.useCallback)(e=>u.includes(e),[u]),b=n.filter(e=>!y(e.key)&&e.severity===o.Severity.Danger&&!e.acknowledgeBypass),v=n.length>0,T=n.filter(e=>e.severity===o.Severity.Danger),k=b.length>0,w=d.filter(e=>!y(e.key)&&e.severity===o.Severity.Danger&&!e.acknowledgeBypass);return{alerts:n,fieldAlerts:d,generalAlerts:l,getFieldAlerts:g,getNavigableFieldAlerts:f,hasAlerts:v,dangerAlerts:T,hasDangerAlerts:(null==T?void 0:T.length)>0,hasUnconfirmedDangerAlerts:k,isAlertConfirmed:y,navigableAlerts:m,navigableFieldAlerts:h,navigableGeneralAlerts:p,setAlertConfirmed:S,unconfirmedDangerAlerts:b,unconfirmedFieldDangerAlerts:w,hasUnconfirmedFieldDangerAlerts:w.length>0}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[7180,{"../selectors":8035,"../store/actions":8065,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAssetsUpdateAllAccountBalances=n.default=void 0;var s=e("react-compiler-runtime"),r=e("react"),a=e("react-redux"),i=e("../selectors"),o=e("../store/actions");const c=()=>{const e=(0,s.c)(11),t=(0,a.useSelector)(i.getEnabledChainIds),n=(0,a.useDispatch)();let c;e[0]!==n||e[1]!==t?(c=async()=>{try{t.length>0&&await n((0,o.updateBalancesFoAccounts)(t,!1))}catch(e){const t=e;console.warn("Error updating balances state for all accounts",t)}},e[0]=n,e[1]=t,e[2]=c):c=e[2];const u=c;let l,d,m;return e[3]!==t.length||e[4]!==u?(l=()=>{0!==t.length&&u()},e[3]=t.length,e[4]=u,e[5]=l):l=e[5],e[6]!==t||e[7]!==u?(d=[t,u],e[6]=t,e[7]=u,e[8]=d):d=e[8],(0,r.useEffect)(l,d),e[9]!==u?(m={updateBalances:u},e[9]=u,e[10]=m):m=e[10],m};n.useAssetsUpdateAllAccountBalances=c;n.default=c}}},{package:"$root$",file:"ui/hooks/useAssetsUpdateAllAccountBalances.ts"}],[7181,{react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RESULT_PENDING=n.RESULT_IDLE=n.RESULT_BASE=void 0,n.createErrorResult=c,n.createSuccessResult=o,n.useAsyncCallback=u,n.useAsyncResult=l,n.useAsyncResultOrThrow=function(e,t=[]){const n=l(e,t);if("error"===n.status)throw n.error;return n};var s=e("react");const r=n.RESULT_BASE={idle:!1,pending:!1,value:undefined,error:undefined},a=n.RESULT_IDLE={...r,status:"idle",idle:!0},i=n.RESULT_PENDING={...r,status:"pending",pending:!0};function o(e){return{...r,status:"success",value:e}}function c(e){return{...r,status:"error",error:e}}function u(e,t=[]){const[n,r]=(0,s.useState)(a),u=(0,s.useRef)(!0);(0,s.useEffect)(()=>()=>{u.current=!1},[]);return[(0,s.useCallback)(async()=>{if(u.current){r(i);try{const t=await e();u.current&&r(o(t))}catch(e){u.current&&r(c(e))}}},t),n]}function l(e,t=[]){const[n,r]=u(e,t);return(0,s.useEffect)(()=>{n()},[n]),"idle"===r.status?i:r}}}},{package:"$root$",file:"ui/hooks/useAsync.ts"}],[7182,{react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBrowserSupportsSidePanel=void 0;var s=e("react");n.useBrowserSupportsSidePanel=()=>{const[e,t]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{try{var e;if(null===(e=chrome)||void 0===e||null===(e=e.runtime)||void 0===e||!e.getContexts)return void t(!1);await chrome.runtime.getContexts({contextTypes:["SIDE_PANEL"]}),t(!0)}catch(e){console.log("Browser does not support sidepanel:",e),t(!1)}})()},[]),e}}}},{package:"$root$",file:"ui/hooks/useBrowserSupportsSidePanel.ts"}],[7183,{"../../../package.json":5748,"../../../shared/modules/environment":5891,semver:5561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchCarouselSlidesFromContentful=async function(){var e;const{accessToken:t,domain:n,environment:s,spaceId:r}=c();if(!r||!t)return{prioritySlides:[],regularSlides:[]};const a=new URL(`https://${n}/spaces/${r}/environments/${s}/entries`);a.searchParams.set("access_token",t),a.searchParams.set("content_type",o),a.searchParams.set("fields.showInExtension","true");const i=await fetch(a).then(e=>e.json()),l=(null===(e=i.includes)||void 0===e?void 0:e.Asset)||[],d=e=>{var t;const n=l.find(t=>{var n;return t.sys.id===(null==e||null===(n=e.sys)||void 0===n?void 0:n.id)}),s=(null==n||null===(t=n.fields)||void 0===t||null===(t=t.file)||void 0===t?void 0:t.url)||"";return s.startsWith("//")?`https:${s}`:s},m=[],p=[];for(const e of i.items){const{headline:t,teaser:n,image:s,linkUrl:r,undismissable:a,startDate:i,endDate:o,priorityPlacement:c,variableName:l,cardPlacement:h,extensionMinimumVersionNumber:g}=e.fields,f={id:`contentful-${e.sys.id}`,title:t,description:n,image:d(s),href:r,undismissable:a,dismissed:!1,startDate:i,endDate:o,priorityPlacement:c,variableName:l,cardPlacement:h};u(g)&&(c?m.push(f):p.push(f))}return{prioritySlides:m,regularSlides:p}},n.getContentfulEnvironmentDetails=void 0;var s=a(e("semver")),r=e("../../../shared/modules/environment");function a(e){return e&&e.__esModule?e:{default:e}}const i=a(e("../../../package.json")).default.version,o="promotionalBanner",c=()=>{const e="jdkgyfmyd9sw",t="mAYNB_k65snv4AXW4o8ksZN8BwWDQF9702HKV7yBDZI",n=new URLSearchParams(window.location.search).get("previewToken");if(n)return{environment:"master",domain:"preview.contentful.com",accessToken:n,spaceId:e};return(0,r.isProduction)()?{environment:"master",domain:"cdn.contentful.com",accessToken:t,spaceId:e}:{environment:"dev",domain:"preview.contentful.com",accessToken:t,spaceId:e}};function u(e){if(!e)return!0;try{return s.default.gte(i,e)}catch{return!1}}n.getContentfulEnvironmentDetails=c}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/fetchCarouselSlidesFromContentful.ts"}],[7184,{"./useCarouselManagement":7185},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./useCarouselManagement");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/index.ts"}],[7185,{"../../selectors":8035,"../../store/actions":8065,"./fetchCarouselSlidesFromContentful":7183,"@metamask/profile-sync-controller/sdk":2513,"bignumber.js":3926,lodash:4794,loglevel:4802,react:5229,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isActive=p,n.useCarouselManagement=void 0;var s,r=e("lodash"),a=e("react"),i=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},c=e("bignumber.js"),u=e("@metamask/profile-sync-controller/sdk"),l=e("../../store/actions"),d=e("../../selectors"),m=e("./fetchCarouselSlidesFromContentful");function p(e,t=new Date){const n=e.startDate?new Date(e.startDate):null,s=e.endDate?new Date(e.endDate):null;return!(n&&t<n)&&!(s&&t>s)}n.useCarouselManagement=({testDate:e,enabled:t=!0}={})=>{const n=Boolean(!1),s=(0,i.useDispatch)(),h=(0,i.useSelector)(d.getSlides),g=(0,i.useSelector)(d.getRemoteFeatureFlags),f=(0,i.useSelector)(d.getSelectedAccountCachedBalance),S=(0,i.useSelector)(d.getSelectedInternalAccount),y=(0,i.useSelector)(d.getUseExternalServices),b=(0,i.useSelector)(d.getShowDownloadMobileAppSlide),v=(0,a.useRef)(),T=new c.BigNumber(f??"0x0").eq("0x0"),k=(null==g?void 0:g.contentfulCarouselEnabled)??!1,[w,_]=(0,a.useState)(!1),[C,I]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!(k&&y&&b))return _(!1),I(!0),()=>undefined;I(!1);let e=!1;return(async()=>{try{const n=await(0,l.getUserProfileLineage)();if(!e){var t;const e=Boolean(null==n||null===(t=n.lineage)||void 0===t?void 0:t.some(e=>e.agent===u.Platform.MOBILE));_(!e),I(!0)}}catch(t){e||(o.default.warn("Failed to fetch user profile lineage:",t),_(!1),I(!0))}})(),()=>{e=!0}},[S.address,y,b,k]),(0,a.useEffect)(()=>{if(!C)return;if(!t){const e=[];return void((0,r.isEqual)(v.current,e)||(s((0,l.updateSlides)(e)),v.current=e))}const n=async()=>{if(!k){const e=[];return void((0,r.isEqual)(v.current,e)||(s((0,l.updateSlides)(e)),v.current=e))}if(k)try{const{prioritySlides:t,regularSlides:n}=await(0,m.fetchCarouselSlidesFromContentful)(),a=[...t],i=[...n],o=t=>p(t,e?new Date(e):new Date),c=e=>e.map(e=>((e,t)=>{if(!e)return undefined;const n=t.find(t=>t.id===e.id);return{...e,dismissed:(null==n?void 0:n.dismissed)??!1,undismissable:e.undismissable||(null==n?void 0:n.undismissable)||!1}})(e,h)).filter(e=>Boolean(e)).filter(o),u=e=>"fund"===e.variableName?{...e,undismissable:T||e.undismissable}:e,d=e=>"downloadMobileApp"!==e.variableName||w,g=c(a).map(u).filter(d),f=function(e){const t=[],n=[];for(const s of e){const e=s.cardPlacement,r="string"==typeof e?Number(e):e;if("number"==typeof r&&Number.isFinite(r)){const e=Math.max(0,Math.floor(r)-1);e>=t.length&&(t.length=e+1),t[e]=s}else n.push(s)}let s=0;for(let e=0;e<t.length&&s<n.length;e++)t[e]||(t[e]=n[s],s+=1);for(;s<n.length;)t.push(n[s]),s+=1;return t.filter(Boolean)}(c(i).map(u).filter(d)),S=[...g,...f];(0,r.isEqual)(v.current,S)||(s((0,l.updateSlides)(S)),v.current=S)}catch(e){o.default.warn("Failed to fetch Contentful slides:",e),(0,r.isEqual)(v.current,[])||(s((0,l.updateSlides)([])),v.current=[])}};(async()=>{try{await n()}catch(e){o.default.warn("Failed to load carousel slides:",e)}})()},[t,s,T,k,e,n,h,C]),{slides:h}}}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/useCarouselManagement.ts"}],[7186,{"../../shared/constants/copy":5757,"../../shared/constants/time":5790,"./useTimeout":7232,"copy-to-clipboard":4106,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCopyToClipboard=function(e,t){const n=(0,r.c)(11),s=e===undefined?l:e;let o;n[0]!==t?(o=t===undefined?{expireClipboard:!0}:t,n[0]=t,n[1]=o):o=n[1];const d=o,[m,p]=(0,a.useState)(!1);let h;n[2]!==m||n[3]!==d?(h=()=>{!0===m&&(d.expireClipboard&&(0,i.default)(" ",c.COPY_OPTIONS),p(!1))},n[2]=m,n[3]=d,n[4]=h):h=n[4];const g=(0,u.useTimeout)(h,s,!1);let f;n[5]!==g?(f=e=>{p(!0),g(),(0,i.default)(e,c.COPY_OPTIONS)},n[5]=g,n[6]=f):f=n[6];const S=f;let y;n[7]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{p(!1)},n[7]=y):y=n[7];const b=y;let v;n[8]!==m||n[9]!==S?(v=[m,S,b],n[8]=m,n[9]=S,n[10]=v):v=n[10];return v};var s,r=e("react-compiler-runtime"),a=e("react"),i=(s=e("copy-to-clipboard"))&&s.__esModule?s:{default:s},o=e("../../shared/constants/time"),c=e("../../shared/constants/copy"),u=e("./useTimeout");const l=o.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[7187,{"../../shared/constants/common":5756,"../../shared/constants/network":5772,"../../shared/lib/asset-utils":5802,"../../shared/modules/Numeric":5882,"../../shared/modules/conversion.utils":5887,"../ducks/metamask/metamask":7033,"../helpers/utils/confirm-tx.util":7077,"../helpers/utils/token-util":7105,"../selectors/multichain":8044,"./useFormatters":7196,"./useMultichainSelector":7211,"@metamask/multichain-network-controller":2279,"bignumber.js":3926,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MIN_AMOUNT=n.DEFAULT_PRECISION=void 0,n.useCurrencyDisplay=function(e,t,n){const s=(0,r.c)(45);let a,y,T,k,w,_,C,I;s[0]!==t?(({account:a,displayValue:k,prefix:I,numberOfDecimals:_,denomination:T,currency:y,isAggregatedFiatOverviewBalance:w,...C}=t),s[0]=t,s[1]=a,s[2]=y,s[3]=T,s[4]=k,s[5]=w,s[6]=_,s[7]=C,s[8]=I):(a=s[1],y=s[2],T=s[3],k=s[4],w=s[5],_=s[6],C=s[7],I=s[8]);const A=n===undefined?null:n,{formatCurrency:E}=(0,f.useFormatters)(),M=(0,S.useMultichainSelector)(c.getMultichainIsEvm,a),N=(0,S.useMultichainSelector)(c.getMultichainCurrentCurrency,a),P=(0,S.useMultichainSelector)(c.getMultichainNativeCurrency,a),R=(0,S.useMultichainSelector)(c.getMultichainConversionRate,a),O=(0,S.useMultichainSelector)(g.getCurrencyRates,a),D=y===N,x=y===P||y===l.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[A],U=A?(0,p.isEvmChainId)(A):M;let B;e:{if(k){B=k;break e}if(!U&&!w){var L;const t=A?null==O||null===(L=O[l.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[A]])||void 0===L?void 0:L.conversionRate:R;let n;s[9]!==y||s[10]!==N||s[11]!==e||s[12]!==x||s[13]!==D||s[14]!==P||s[15]!==t?(n=function({tokenSymbol:e,isNativeCurrency:t,isUserPreferredCurrency:n,currency:s,currentCurrency:r,nativeCurrency:a,inputValue:i,conversionRate:c}){if(t||!n&&!a)return new d.Numeric(i,10).toString();if(n&&c){const t=(0,h.getTokenFiatAmount)(1,Number(c),r,i,e,!1,!1)??"0";return(0,o.formatCurrency)(t,s)}return null}({tokenSymbol:P,isNativeCurrency:x,isUserPreferredCurrency:D,currency:y,currentCurrency:N,nativeCurrency:P,inputValue:e,conversionRate:t}),s[9]=y,s[10]=N,s[11]=e,s[12]=x,s[13]=D,s[14]=P,s[15]=t,s[16]=n):n=s[16],B=n;break e}if(w){let t;s[17]!==y||s[18]!==E||s[19]!==e?(t=E(e,y),s[17]=y,s[18]=E,s[19]=e,s[20]=t):t=s[20],B=t;break e}if(!x&&D&&R){let t;if(s[21]!==R||s[22]!==y||s[23]!==T||s[24]!==E||s[25]!==e||s[26]!==P||s[27]!==_){t=E((0,u.getValueFromWeiHex)({value:e,fromCurrency:P,toCurrency:y,conversionRate:R,numberOfDecimals:_||2,toDenomination:T}),y),s[21]=R,s[22]=y,s[23]=T,s[24]=E,s[25]=e,s[26]=P,s[27]=_,s[28]=t}else t=s[28];B=t;break e}let t;s[29]!==T||s[30]!==e||s[31]!==x||s[32]!==D||s[33]!==P||s[34]!==_?(t=function({isNativeCurrency:e,isUserPreferredCurrency:t,nativeCurrency:n,inputValue:s,denomination:r,numberOfDecimals:a}){if(e||!t&&!n){const e=new d.Numeric(s,16,m.EtherDenomination.WEI).toDenomination(r||m.EtherDenomination.ETH).round(a||v).toBase(10).toString();return"0"===e&&s&&0!==Number(s)?b:e}return null}({isNativeCurrency:x,isUserPreferredCurrency:D,nativeCurrency:P,inputValue:e,denomination:T,numberOfDecimals:_}),s[29]=T,s[30]=e,s[31]=x,s[32]=D,s[33]=P,s[34]=_,s[35]=t):t=s[35],B=t}const F=B;let $;const j=w||!x;if(!C.hideLabel&&!j){let e;var G;if(s[36]!==y)e=[...Object.values(l.TEST_NETWORK_TICKER_MAP),...Object.values(i.MULTICHAIN_NETWORK_TICKER)].includes(y)?y:null===(G=y)||void 0===G?void 0:G.toUpperCase(),s[36]=y,s[37]=e;else e=s[37];const t=e;$=C.suffix||t}const W=`${I||""}${F}${$?` ${$}`:""}`;let H,K;s[38]!==I||s[39]!==$||s[40]!==F?(H={prefix:I,value:F,suffix:$},s[38]=I,s[39]=$,s[40]=F,s[41]=H):H=s[41];s[42]!==W||s[43]!==H?(K=[W,H],s[42]=W,s[43]=H,s[44]=K):K=s[44];return K};var s,r=e("react-compiler-runtime"),a=(e("react"),(s=e("bignumber.js"))&&s.__esModule?s:{default:s}),i=e("@metamask/multichain-network-controller"),o=e("../helpers/utils/confirm-tx.util"),c=e("../selectors/multichain"),u=e("../../shared/modules/conversion.utils"),l=e("../../shared/constants/network"),d=e("../../shared/modules/Numeric"),m=e("../../shared/constants/common"),p=e("../../shared/lib/asset-utils"),h=e("../helpers/utils/token-util"),g=e("../ducks/metamask/metamask"),f=e("./useFormatters"),S=e("./useMultichainSelector");const y=n.MIN_AMOUNT=1e-6,b=`<${y}`,v=n.DEFAULT_PRECISION=new a.default(y).decimalPlaces()}}},{package:"$root$",file:"ui/hooks/useCurrencyDisplay.js"}],[7188,{"../../shared/modules/selectors/networks":5908,"../ducks/metamask/metamask":7033,"../helpers/utils/isOriginalNativeTokenSymbol":7087,"../selectors":8035,"../selectors/multichain/networks":8045,"../selectors/selectors":8052,"../store/actions":8065,"./usePolling":7221,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-compiler-runtime"),a=e("react"),i=e("react-redux"),o=e("../selectors"),c=e("../selectors/multichain/networks"),u=e("../store/actions"),l=e("../ducks/metamask/metamask"),d=e("../selectors/selectors"),m=e("../../shared/modules/selectors/networks"),p=e("../helpers/utils/isOriginalNativeTokenSymbol"),h=(s=e("./usePolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.c)(3),t=(()=>{const e=(0,i.useSelector)(l.getCompletedOnboarding),t=(0,i.useSelector)(l.getIsUnlocked),n=(0,i.useSelector)(o.getUseCurrencyRateCheck);return e&&t&&n})(),n=(e=>{const t=(0,r.c)(12),n=(0,i.useSelector)(m.getNetworkConfigurationsByChainId),s=(0,i.useSelector)(o.getUseSafeChainsListValidation);let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],t[0]=u):u=t[0];const[l,h]=(0,a.useState)(u),f=(0,i.useSelector)(o.getChainIdsToPoll),S=(0,i.useSelector)(c.getEnabledChainIds),y=d.isGlobalNetworkSelectorRemoved?S:f;let b,v;return t[1]!==e||t[2]!==n||t[3]!==y||t[4]!==s?(b=()=>{(async()=>{const t=(await Promise.all(Object.values(n).map(async t=>{const n=await(0,p.getOriginalNativeTokenSymbol)({chainId:t.chainId,useAPICall:s&&e});return y.includes(t.chainId)?n??t.nativeCurrency:null}))).filter(g),r=[...new Set(t)];h(r)})()},t[1]=e,t[2]=n,t[3]=y,t[4]=s,t[5]=b):b=t[5],t[6]!==f||t[7]!==e||t[8]!==n||t[9]!==y||t[10]!==s?(v=[f,e,n,y,s],t[6]=f,t[7]=e,t[8]=n,t[9]=y,t[10]=s,t[11]=v):v=t[11],(0,a.useEffect)(b,v),l})(t),s=t&&n.length>0;let f;e[0]!==s||e[1]!==n?(f={startPolling:u.currencyRateStartPolling,stopPollingByPollingToken:u.currencyRateStopPollingByPollingToken,input:n,enabled:s},e[0]=s,e[1]=n,e[2]=f):f=e[2],(0,h.default)(f)};function g(e){return null!==e}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[7189,{"../../shared/constants/swaps":5788,"../../shared/modules/selectors/networks":5908,"../../shared/modules/string-utils":5917,"../ducks/metamask/metamask":7033,"../helpers/constants/routes":7054,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,s.c)(4);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={path:`${c.ASSET_ROUTE}/:asset`,end:!0},t[0]=n):n=t[0];const d=(0,a.useMatch)(n),m=null==d||null===(e=d.params)||void 0===e?void 0:e.asset,p=(0,r.useSelector)(i.getTokens);let h;t[1]!==p||t[2]!==m?(h=m&&p.find(e=>{const{address:t}=e;return(0,l.isEqualCaseInsensitive)(t,m)}),t[1]=p,t[2]=m,t[3]=h):h=t[3];const g=h,f=(0,r.useSelector)(o.getCurrentChainId);return g??(u.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[f]||u.ETH_SWAPS_TOKEN_OBJECT)};var s=e("react-compiler-runtime"),r=e("react-redux"),a=e("react-router-dom-v5-compat"),i=e("../ducks/metamask/metamask"),o=e("../../shared/modules/selectors/networks"),c=e("../helpers/constants/routes"),u=e("../../shared/constants/swaps"),l=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[7190,{"../../shared/modules/transaction.utils":5919,"../store/actions":8065,"./useAsync":7181,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDecodedTransactionData=o,n.useDecodedTransactionDataValue=function(e){var t,n,r;const a=(0,s.c)(9),i=null==e||null===(t=e.txParams)||void 0===t?void 0:t.data,c=null==e||null===(n=e.txParams)||void 0===n?void 0:n.to,l=null==e?void 0:e.chainId;let d;a[0]!==i||a[1]!==c||a[2]!==l?(d={data:i,to:c,chainId:l},a[0]=i,a[1]=c,a[2]=l,a[3]=d):d=a[3];const m=o(d);let p;if(a[4]!==(null==m||null===(r=m.value)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.params)){var h,g;p=null==m||null===(h=m.value)||void 0===h||null===(h=h.data)||void 0===h||null===(h=h[0])||void 0===h||null===(h=h.params)||void 0===h||null===(h=h.find(u))||void 0===h?void 0:h.value,a[4]=null==m||null===(g=m.value)||void 0===g||null===(g=g.data)||void 0===g||null===(g=g[0])||void 0===g?void 0:g.params,a[5]=p}else p=a[5];const f=p;let S;a[6]!==m||a[7]!==f?(S={decodeResponse:m,value:f},a[6]=m,a[7]=f,a[8]=S):S=a[8];return S};var s=e("react-compiler-runtime"),r=(e("react"),e("../../shared/modules/transaction.utils")),a=e("../store/actions"),i=e("./useAsync");function o(e){const t=(0,s.c)(7);let n;t[0]!==e?(n=e===undefined?{}:e,t[0]=e,t[1]=n):n=t[1];const{data:o,to:c,chainId:u}=n;let l,d;return t[2]!==u||t[3]!==o||t[4]!==c?(l=async()=>{if(o&&(0,r.hasTransactionData)(o)&&c&&u)return await(0,a.decodeTransactionData)({transactionData:o,chainId:u,contractAddress:c})},d=[o,c,u],t[2]=u,t[3]=o,t[4]=c,t[5]=l,t[6]=d):(l=t[5],d=t[6]),(0,i.useAsyncResult)(l,d)}const c=["value","_value","value_","amount","_amount","amount_"];function u(e){return c.includes(e.name??"")}}}},{package:"$root$",file:"ui/hooks/useDecodedTransactionData.ts"}]],[],{});