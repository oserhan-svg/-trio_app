LavaPack.loadBundle([[7932,{"../../../../app/scripts/lib/util":358,"../../../../shared/constants/app":5753,"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/network":5772,"../../../../shared/lib/ui-utils":5880,"../../../../shared/modules/environment":5891,"../../../components/app/srp-quiz-modal/SRPQuiz":6367,"../../../components/component-library":6486,"../../../components/ui/popover":6954,"../../../components/ui/text-field":6977,"../../../components/ui/toggle-button":6981,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../helpers/constants/zendesk-url":7061,"../../../helpers/utils/settings-search":7099,"../../../store/actions":8065,"./delete-metametrics-data-button":7926,"./metametrics-toggle":7928,lodash:4794,loglevel:4802,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("lodash"),s=w(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=w(e("loglevel")),l=e("../../../../app/scripts/lib/util"),i=e("../../../../shared/constants/app"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/constants/network"),d=e("../../../../shared/lib/ui-utils"),p=w(e("../../../components/app/srp-quiz-modal/SRPQuiz")),m=e("../../../components/component-library"),f=w(e("../../../components/ui/text-field")),g=w(e("../../../components/ui/toggle-button")),h=w(e("../../../components/ui/popover")),_=e("../../../helpers/constants/design-system"),E=e("../../../helpers/constants/routes"),y=e("../../../helpers/utils/settings-search"),C=e("../../../store/actions"),T=w(e("../../../helpers/constants/zendesk-url")),S=e("../../../../shared/modules/environment"),b=w(e("./metametrics-toggle")),v=w(e("./delete-metametrics-data-button"));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class M extends r.PureComponent{constructor(...e){super(...e),k(this,"state",{ipfsGateway:this.props.ipfsGateway||u.IPFS_DEFAULT_GATEWAY_URL,ipfsGatewayError:"",srpQuizModalVisible:!1,showDataCollectionDisclaimer:!1,ipfsToggle:this.props.ipfsGateway.length>0,hasEmailMarketingConsentError:!1}),k(this,"settingsRefCounter",0),k(this,"settingsRefs",Array((0,y.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("securityAndPrivacy"))).fill(undefined).map(()=>r.default.createRef())),k(this,"hideSrpQuizModal",()=>this.setState({srpQuizModalVisible:!1})),k(this,"renderDataCollectionWarning",()=>{const{t:e}=this.context;return r.default.createElement(h.default,{wrapTitle:!0,centerTitle:!0,onClose:()=>this.setState({showDataCollectionDisclaimer:!1}),title:r.default.createElement(m.Icon,{size:m.IconSize.Xl,name:m.IconName.Danger,color:_.IconColor.warningDefault}),footer:r.default.createElement(m.Button,{width:_.BlockSize.Full,type:"primary",onClick:()=>this.setState({showDataCollectionDisclaimer:!1})},e("dataCollectionWarningPopoverButton"))},r.default.createElement(m.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:2,margin:4},r.default.createElement(m.Text,null,e("dataCollectionWarningPopoverDescription"))))})}componentDidUpdate(e){const{t:t}=this.context;(0,y.handleSettingsRefs)(t,t("securityAndPrivacy"),this.settingsRefs),!0!==e.dataCollectionForMarketing||!0!==this.props.participateInMetaMetrics||!1!==this.props.dataCollectionForMarketing||this.props.socialLoginEnabled||this.setState({showDataCollectionDisclaimer:!0})}async componentDidMount(){const{t:e}=this.context;if((0,y.handleSettingsRefs)(e,e("securityAndPrivacy"),this.settingsRefs),this.props.metaMetricsDataDeletionId&&await(0,C.updateDataDeletionTaskStatus)(),this.props.socialLoginEnabled){const e=await this.props.getMarketingConsent();this.props.setDataCollectionForMarketing(e)}}toggleSetting(e,t){t(!e)}async toggleDataCollectionForMarketing(e){if(this.props.socialLoginEnabled)try{await this.props.setMarketingConsent(e)}catch(e){o.default.error("Error setting marketing consent",e)}this.props.setDataCollectionForMarketing(e),this.props.participateInMetaMetrics?this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!0,has_marketing_consent:Boolean(e),location:"Settings"}}):this.props.socialLoginEnabled||this.props.setParticipateInMetaMetrics(!0)}renderSeedWords(){const{t:e}=this.context,{isSeedPhraseBackedUp:t,socialLoginEnabled:a,socialLoginType:s,navigate:o,hdEntropyIndex:l}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__security-tab-sub-header"},e("secretRecoveryPhrase")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(m.Box,{className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securitySrpDescription")),r.default.createElement(m.BannerAlert,{"data-testid":"backup-state-banner-alert",description:a?e("securityLoginWithSocial",[(0,n.capitalize)(s)]):e(t?"securityLoginWithSrpBackedUp":"securityLoginWithSrpNotBackedUp"),paddingTop:2,paddingBottom:2,marginTop:4,severity:t?m.BannerAlertSeverity.Success:m.BannerAlertSeverity.Danger})),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(m.Button,{"data-testid":"reveal-seed-words",size:m.ButtonSize.Lg,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.KeyExportSelected,properties:{key_type:c.MetaMetricsEventKeyType.Srp,location:"Settings",hd_entropy_index:l}}),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SrpRevealClicked,properties:{key_type:c.MetaMetricsEventKeyType.Srp,location:"Settings"}}),o(E.REVEAL_SRP_LIST_ROUTE)}},e(a?"securitySrpWalletRecovery":"revealSecretRecoveryPhrase")))),this.state.srpQuizModalVisible&&r.default.createElement(p.default,{isOpen:this.state.srpQuizModalVisible,onClose:this.hideSrpQuizModal,navigate:this.props.navigate})))}renderChangePassword(){const{t:e}=this.context,{navigate:t}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__security-tab-sub-header"},e("securityChangePasswordTitle")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(m.Box,{className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securityChangePasswordDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(m.Button,{"data-testid":"change-password-button",size:m.ButtonSize.Lg,onClick:()=>{t(E.SECURITY_PASSWORD_CHANGE_ROUTE)}},e("securityChangePassword"))))))}renderSecurityAlertsToggle(){const{t:e}=this.context,{securityAlertsEnabled:t,hasActiveShieldSubscription:a}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[16]},r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},e("securityAlerts"))),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(m.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securityAlertsDescription",[r.default.createElement("a",{key:"learn_more_link",href:d.SECURITY_ALERTS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"securityAlert"},r.default.createElement(g.default,{value:t,onToggle:this.toggleSecurityAlert.bind(this),offLabel:e("off"),onLabel:e("on"),disabled:a})))))}renderPhishingDetectionToggle(){const{t:e}=this.context,{usePhishDetect:t,setUsePhishDetect:a,hasActiveShieldSubscription:n}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("usePhishingDetection")),r.default.createElement("div",{className:"settings-page__content-description"},e("usePhishingDetectionDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"usePhishingDetection"},r.default.createElement(g.default,{value:t,onToggle:e=>{a(!e)},offLabel:e("off"),onLabel:e("on"),disabled:n})))}renderUse4ByteResolutionToggle(){const{t:e}=this.context,{use4ByteResolution:t,setUse4ByteResolution:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("use4ByteResolution")),r.default.createElement("div",{className:"settings-page__content-description"},e("toggleDecodeDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"4byte-resolution-container"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderDataCollectionForMarketing(){const{t:e}=this.context,{dataCollectionForMarketing:t,useExternalServices:a,socialLoginEnabled:n,participateInMetaMetrics:s}=this.props,o=this.toggleDataCollectionForMarketing.bind(this);return r.default.createElement(m.Box,null,r.default.createElement(m.Box,{ref:this.settingsRefs[19],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("dataCollectionForMarketing")),r.default.createElement("div",{className:"settings-page__content-description"},r.default.createElement("span",null,e(n?"dataCollectionForMarketingDescriptionSocialLogin":"dataCollectionForMarketingDescription")))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"data-collection-for-marketing-toggle"},r.default.createElement(g.default,{value:t,disabled:!a||!s,onToggle:e=>o(!e),offLabel:e("off"),onLabel:e("on")}))),this.state.hasEmailMarketingConsentError&&r.default.createElement(m.Box,{paddingBottom:4},r.default.createElement(m.Text,{as:"p",color:_.TextColor.errorDefault,variant:_.TextVariant.bodySm},e("notificationsSettingsBoxError"))))}renderChooseYourNetworkButton(){const{t:e}=this.context,{navigate:t}=this.props;return r.default.createElement(m.Box,{className:"settings-page__content-row","data-testid":"advanced-setting-choose-your-network",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("chooseYourNetwork")),r.default.createElement("div",{className:"settings-page__content-description"},e("chooseYourNetworkDescription",[r.default.createElement("a",{href:d.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},e("privacyMsg")),r.default.createElement("a",{href:T.default.SOLANA_ACCOUNTS,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link-solana"},e("chooseYourNetworkDescriptionCallToAction"))]))),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(m.Button,{type:"secondary",className:"settings-page__button",onClick:()=>{(0,l.getEnvironmentType)()===i.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(E.ADD_POPULAR_CUSTOM_NETWORK):t(E.ADD_POPULAR_CUSTOM_NETWORK)}},e("addCustomNetwork"))))}renderSafeChainsListValidationToggle(){const{t:e}=this.context,{useSafeChainsListValidation:t,setUseSafeChainsListValidation:a}=this.props,n=e("useSafeChainsListValidationWebsite");return r.default.createElement(m.Box,{ref:this.settingsRefs[14],className:"settings-page__content-row","data-testid":"setting-safe-chains-validation",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement(m.Box,{className:"settings-page__content-row",gap:4,display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useSafeChainsListValidation")),r.default.createElement("div",{className:"settings-page__content-description"},e("useSafeChainsListValidationDescription",[r.default.createElement("b",{key:"safechain-list-validation-website"},n)]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useSafeChainsListValidation"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderIpfsGatewayControl(){const{t:e}=this.context,{setIpfsGateway:t,setIsIpfsGatewayEnabled:a,useAddressBarEnsResolution:n,setUseAddressBarEnsResolution:s}=this.props;let o="";const i=a=>{if(a.length>0)try{const n=(0,l.addUrlProtocolPrefix)(a);n||(o=e("invalidIpfsGateway"));const s=new URL(n);"gateway.ipfs.io"===s.host&&(o=e("forbiddenIpfsGateway")),0===o.length&&t(s.host)}catch(t){o=e("invalidIpfsGateway")}else o=e("invalidIpfsGateway");this.setState({ipfsGateway:a,ipfsGatewayError:o})};return r.default.createElement(m.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"setting-ipfs-gateway",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement(m.Box,{className:"settings-page__content-row",gap:4,display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("ipfsGateway")),r.default.createElement("div",{className:"settings-page__content-description"},e("ipfsGatewayDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"ipfsToggle"},r.default.createElement(g.default,{value:this.state.ipfsToggle,onToggle:e=>{e?(a(!1),t("")):(a(!0),i(this.state.ipfsGateway)),this.setState({ipfsToggle:!e})},offLabel:e("off"),onLabel:e("on")}))),this.state.ipfsToggle&&r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("addIPFSGateway")),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(f.default,{type:"text",value:this.state.ipfsGateway,onChange:e=>i(e.target.value),error:this.state.ipfsGatewayError,fullWidth:!0,margin:"dense"}))),r.default.createElement(m.Box,{className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,ref:this.settingsRefs[11],marginTop:3,id:"ens-domains"},r.default.createElement("div",null,e("ensDomainsSettingTitle"),r.default.createElement("div",{className:"settings-page__content-description"},r.default.createElement(m.Text,{color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),r.default.createElement(m.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},r.default.createElement(m.Text,{as:"li",color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionPart1")),r.default.createElement(m.Text,{as:"li",color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionPart2"))),r.default.createElement(m.Text,{color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"ipfs-gateway-resolution-container"},r.default.createElement(g.default,{value:n,onToggle:e=>s(!e),offLabel:e("off"),onLabel:e("on")}))))}renderAutoDetectTokensToggle(){const{t:e}=this.context,{useTokenDetection:t,setUseTokenDetection:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-gas-fee-estimation",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,id:"advanced-settings-autodetect-tokens"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("autoDetectTokens")),r.default.createElement("div",{className:"settings-page__content-description"},e("autoDetectTokensDescription",[r.default.createElement("a",{href:d.AUTO_DETECT_TOKEN_LEARN_MORE_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},(0,n.startCase)(e("learnMore")))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"autoDetectTokens"},r.default.createElement(g.default,{value:t,onToggle:e=>{this.toggleSetting(e,a)},offLabel:e("off"),onLabel:e("on")})))}renderBatchAccountBalanceRequestsToggle(){const{t:e}=this.context,{useMultiAccountBalanceChecker:t,setUseMultiAccountBalanceChecker:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useMultiAccountBalanceChecker")),r.default.createElement("div",{className:"settings-page__content-description"},e("useMultiAccountBalanceCheckerSettingDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useMultiAccountBalanceChecker"},r.default.createElement(g.default,{value:t,onToggle:e=>{this.toggleSetting(e,a)},offLabel:e("off"),onLabel:e("on")})))}renderCurrencyRateCheckToggle(){const{t:e}=this.context,{useCurrencyRateCheck:t,setUseCurrencyRateCheck:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("currencyRateCheckToggle")),r.default.createElement("div",{className:"settings-page__content-description"},e("currencyRateCheckToggleDescription",[r.default.createElement("a",{key:"coingecko_link",href:d.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),r.default.createElement("a",{key:"cryptocompare_link",href:d.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),r.default.createElement("a",{key:"privacy_policy_link",href:d.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"currencyRateCheckToggle"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderDisplayNftMediaToggle(){const{t:e}=this.context,{openSeaEnabled:t,setOpenSeaEnabled:a,useNftDetection:n,setUseNftDetection:s}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[12],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,id:"display-nft-media"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("displayNftMedia")),r.default.createElement("div",{className:"settings-page__content-description"},e("displayNftMediaDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"displayNftMedia"},r.default.createElement(g.default,{value:t,onToggle:e=>{this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:"Enabled/Disable OpenSea",properties:{action:"Enabled/Disable OpenSea",legacy_event:!0}}),e&&n&&s(!1),a(!e)},offLabel:e("off"),onLabel:e("on")})))}renderNftDetectionToggle(){const{t:e}=this.context,{openSeaEnabled:t,setOpenSeaEnabled:a,useNftDetection:n,setUseNftDetection:s}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[13],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useNftDetection")),r.default.createElement("div",{className:"settings-page__content-description"},e("useNftDetectionDescriptionText"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useNftDetection"},r.default.createElement(g.default,{value:n,onToggle:e=>{this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:"NFT Detected",properties:{action:"NFT Detected",legacy_event:!0}}),e||t||a(!e),s(!e)},offLabel:e("off"),onLabel:e("on")})))}renderExternalNameSourcesToggle(){const{t:e}=this.context,{useExternalNameSources:t,setUseExternalNameSources:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[15],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("externalNameSourcesSetting")),r.default.createElement("div",{className:"settings-page__content-description"},e("externalNameSourcesSettingDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useExternalNameSources"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderSimulationsToggle(){const{t:e}=this.context,{useTransactionSimulations:t,setUseTransactionSimulations:a,hasActiveShieldSubscription:n}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[17],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("simulationsSettingSubHeader")),r.default.createElement("div",{className:"settings-page__content-description"},e("simulationsSettingDescription",[r.default.createElement("a",{key:"learn_more_link",href:d.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useTransactionSimulations"},r.default.createElement(g.default,{value:t,onToggle:e=>{a(!e)},offLabel:e("off"),onLabel:e("on"),disabled:n})))}toggleSecurityAlert(e){const t=!e,{setSecurityAlertsEnabled:a}=this.props;this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SettingsUpdated,properties:{blockaid_alerts_enabled:t}}),a(t)}renderUseExternalServices(){const{t:e}=this.context,{useExternalServices:t,toggleExternalServices:a,setBasicFunctionalityModalOpen:n}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,"data-testid":"advanced-setting-show-testnet-conversion"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement(m.Box,{display:_.Display.Flex,justifyContent:_.JustifyContent.spaceBetween,alignItems:_.AlignItems.center,marginBottom:2},r.default.createElement(m.Text,{variant:_.TextVariant.headingSm},e("basicConfigurationLabel")),r.default.createElement(g.default,{value:t,onToggle:()=>{t?n():(a(!0),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"security_privacy",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_notifications_on:!1,was_profile_syncing_on:!1}}))},offLabel:e("off"),onLabel:e("on")})),r.default.createElement(m.Text,{marginBottom:2,color:_.TextColor.textAlternative},e("basicConfigurationDescription",[r.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))]))),r.default.createElement("div",{className:"settings-page__content-item-col"}))}renderSkipDeepLinkInterstitial(){const{t:e}=this.context,{skipDeepLinkInterstitial:t,setSkipDeepLinkInterstitial:a}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement(m.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"setting-skip-deep-link-interstitial",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4,id:"skip-deep-link-interstitial"},r.default.createElement(m.Box,{className:"settings-page__content-row",gap:4,display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("skipDeepLinkInterstitial")),r.default.createElement("div",{className:"settings-page__content-description"},e("skipDeepLinkInterstitialDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"skipDeepLinkInterstitial"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))))}render(){const{petnamesEnabled:e,dataCollectionForMarketing:t}=this.props,{showDataCollectionDisclaimer:a}=this.state;return r.default.createElement("div",{className:"settings-page__body"},this.renderUseExternalServices(),a?this.renderDataCollectionWarning():null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("security")),this.renderSeedWords(),(0,S.getIsSeedlessOnboardingFeatureEnabled)()&&this.renderChangePassword(),this.renderSecurityAlertsToggle(),r.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("privacy")),r.default.createElement("div",null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("alerts"))),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderPhishingDetectionToggle()),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderSkipDeepLinkInterstitial()),r.default.createElement("div",null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("smartContracts"))),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderUse4ByteResolutionToggle()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("transactions")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderCurrencyRateCheckToggle(),this.renderSimulationsToggle()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header",ref:this.settingsRefs[6]},this.context.t("networkProvider")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderChooseYourNetworkButton(),this.renderSafeChainsListValidationToggle(),this.renderIpfsGatewayControl()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("tokenAutoDetection")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderAutoDetectTokensToggle(),this.renderBatchAccountBalanceRequestsToggle(),this.renderDisplayNftMediaToggle(),this.renderNftDetectionToggle()),e&&r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("settingsSubHeadingSignaturesAndTransactions")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderExternalNameSourcesToggle())),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("metrics")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(b.default,{dataCollectionForMarketing:t,setDataCollectionForMarketing:this.toggleDataCollectionForMarketing.bind(this)}),this.renderDataCollectionForMarketing(),r.default.createElement(v.default,{ref:this.settingsRefs[20]})))}}a.default=M,k(M,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),k(M,"propTypes",{navigate:s.default.func.isRequired,openSeaEnabled:s.default.bool,setOpenSeaEnabled:s.default.func,useNftDetection:s.default.bool,setUseNftDetection:s.default.func,dataCollectionForMarketing:s.default.bool,setDataCollectionForMarketing:s.default.func.isRequired,participateInMetaMetrics:s.default.bool.isRequired,setParticipateInMetaMetrics:s.default.func.isRequired,setUsePhishDetect:s.default.func.isRequired,usePhishDetect:s.default.bool.isRequired,setUse4ByteResolution:s.default.func.isRequired,use4ByteResolution:s.default.bool.isRequired,useTokenDetection:s.default.bool.isRequired,setUseTokenDetection:s.default.func.isRequired,setIpfsGateway:s.default.func.isRequired,setIsIpfsGatewayEnabled:s.default.func.isRequired,ipfsGateway:s.default.string.isRequired,useMultiAccountBalanceChecker:s.default.bool.isRequired,setUseMultiAccountBalanceChecker:s.default.func.isRequired,useSafeChainsListValidation:s.default.bool.isRequired,setUseSafeChainsListValidation:s.default.func.isRequired,useCurrencyRateCheck:s.default.bool.isRequired,setUseCurrencyRateCheck:s.default.func.isRequired,useAddressBarEnsResolution:s.default.bool.isRequired,setUseAddressBarEnsResolution:s.default.func.isRequired,useExternalNameSources:s.default.bool.isRequired,setUseExternalNameSources:s.default.func.isRequired,setBasicFunctionalityModalOpen:s.default.func.isRequired,setUseTransactionSimulations:s.default.func.isRequired,useTransactionSimulations:s.default.bool.isRequired,petnamesEnabled:s.default.bool.isRequired,securityAlertsEnabled:s.default.bool,useExternalServices:s.default.bool,toggleExternalServices:s.default.func,setSkipDeepLinkInterstitial:s.default.func.isRequired,skipDeepLinkInterstitial:s.default.bool,setSecurityAlertsEnabled:s.default.func,metaMetricsDataDeletionId:s.default.string,hdEntropyIndex:s.default.number,isSeedPhraseBackedUp:s.default.bool,socialLoginEnabled:s.default.bool,socialLoginType:s.default.string,setMarketingConsent:s.default.func,getMarketingConsent:s.default.func,hasActiveShieldSubscription:s.default.bool})}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.component.js"}],[7933,{"../../../../shared/modules/selectors/networks":5908,"../../../ducks/app/app":7018,"../../../ducks/metamask/metamask":7033,"../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7072,"../../../selectors":8035,"../../../selectors/subscription":8061,"../../../store/actions":8065,"./security-tab.component":7932,"react-redux":5179,redux:5273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-redux"),s=e("redux"),r=m(e("../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../../store/actions"),l=e("../../../selectors"),i=e("../../../../shared/modules/selectors/networks"),c=e("../../../ducks/app/app"),u=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/subscription"),p=m(e("./security-tab.component"));function m(e){return e&&e.__esModule?e:{default:e}}a.default=(0,s.compose)(r.default,(0,n.connect)(e=>{const{metamask:t}=e,{usePhishDetect:a,useTokenDetection:n,ipfsGateway:s,useMultiAccountBalanceChecker:r,useSafeChainsListValidation:o,useCurrencyRateCheck:c,useAddressBarEnsResolution:p,openSeaEnabled:m,useNftDetection:f,use4ByteResolution:g,useExternalServices:h,useExternalNameSources:_}=t,{skipDeepLinkInterstitial:E}=(0,l.getPreferences)(e);return{networkConfigurations:(0,i.getNetworkConfigurationsByChainId)(e),participateInMetaMetrics:(0,l.getParticipateInMetaMetrics)(e),dataCollectionForMarketing:(0,l.getDataCollectionForMarketing)(e),usePhishDetect:a,useTokenDetection:n,hasActiveShieldSubscription:(0,d.getIsActiveShieldSubscription)(e),ipfsGateway:s,useMultiAccountBalanceChecker:r,useSafeChainsListValidation:o,useCurrencyRateCheck:c,useAddressBarEnsResolution:p,openSeaEnabled:m,useNftDetection:f,use4ByteResolution:g,useExternalNameSources:_,useExternalServices:h,securityAlertsEnabled:(0,l.getIsSecurityAlertsEnabled)(e),useTransactionSimulations:t.useTransactionSimulations,metaMetricsDataDeletionId:(0,l.getMetaMetricsDataDeletionId)(e),hdEntropyIndex:(0,l.getHDEntropyIndex)(e),skipDeepLinkInterstitial:Boolean(E),isSeedPhraseBackedUp:(0,u.getIsPrimarySeedPhraseBackedUp)(e),socialLoginEnabled:(0,l.getIsSocialLoginFlow)(e),socialLoginType:(0,l.getSocialLoginType)(e)}},e=>({setParticipateInMetaMetrics:t=>e((0,o.setParticipateInMetaMetrics)(t)),setDataCollectionForMarketing:t=>e((0,o.setDataCollectionForMarketing)(t)),setUsePhishDetect:t=>e((0,o.setUsePhishDetect)(t)),setUseCurrencyRateCheck:t=>e((0,o.setUseCurrencyRateCheck)(t)),setUseTokenDetection:t=>e((0,o.setUseTokenDetection)(t)),setIpfsGateway:t=>e((0,o.setIpfsGateway)(t)),setIsIpfsGatewayEnabled:t=>e((0,o.setIsIpfsGatewayEnabled)(t)),setUseMultiAccountBalanceChecker:t=>e((0,o.setUseMultiAccountBalanceChecker)(t)),setUseAddressBarEnsResolution:t=>e((0,o.setUseAddressBarEnsResolution)(t)),setUseSafeChainsListValidation:t=>e((0,o.setUseSafeChainsListValidation)(t)),setBasicFunctionalityModalOpen:()=>e((0,c.openBasicFunctionalityModal)()),setSkipDeepLinkInterstitial:t=>e((0,o.setSkipDeepLinkInterstitial)(t)),setOpenSeaEnabled:t=>e((0,o.setOpenSeaEnabled)(t)),setUseNftDetection:t=>e((0,o.setUseNftDetection)(t)),setUse4ByteResolution:t=>e((0,o.setUse4ByteResolution)(t)),setUseExternalNameSources:t=>e((0,o.setUseExternalNameSources)(t)),toggleExternalServices:t=>e((0,o.toggleExternalServices)(t)),setUseTransactionSimulations:t=>e((0,o.setUseTransactionSimulations)(t)),updateDataDeletionTaskStatus:()=>(0,o.updateDataDeletionTaskStatus)(),setSecurityAlertsEnabled:e=>(0,o.setSecurityAlertsEnabled)(e),getMarketingConsent:()=>(0,o.getMarketingConsent)(),setMarketingConsent:t=>e((0,o.setMarketingConsent)(t))})))(p.default)}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.container.js"}],[7934,{"./settings-search-list":7935},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=(n=e("./settings-search-list"))&&n.__esModule?n:{default:n};a.default=s.default}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/index.js"}],[7935,{"../../../components/component-library":6486,"../../../contexts/i18n":7e3,"../../../helpers/constants/design-system":7049,"../../../helpers/utils/settings-search":7099,classnames:4071,"prop-types":5052,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=m;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),l=e("../../../helpers/utils/settings-search"),i=e("../../../contexts/i18n"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e){const t=(0,n.c)(28),{results:a,onClickSetting:r}=e,d=(0,s.useContext)(i.I18nContext);let p,m,f,g,h,_,E,y,C,T;if(t[0]!==a?(p=[a],t[0]=a,t[1]=p):p=t[1],(0,s.useEffect)(l.highlightSearchedText,p),t[2]!==r||t[3]!==a||t[4]!==d){let e;t[6]!==r||t[7]!==d?(e=e=>{const{icon:t,iconName:a,tabMessage:n,sectionMessage:l,route:i}=e;return Boolean(t||n||l)&&s.default.createElement("div",{key:`settings_${i}`},s.default.createElement("div",{className:"settings-page__header__search__list__item",onClick:()=>r(e)},a?s.default.createElement(c.Icon,{name:a}):s.default.createElement("i",{className:(0,o.default)("settings-page__header__search__list__item__icon",t)}),s.default.createElement("span",{id:`menu-tab_${i}`,className:(0,o.default)("settings-page__header__search__list__item__tab",{"settings-page__header__search__list__item__tab-multiple-lines":n(d)===d("securityAndPrivacy")})},n(d)),s.default.createElement(c.Icon,{name:c.IconName.ArrowRight,size:u.Size.SM,className:"settings-page__header__search__list__item__caret"}),s.default.createElement("span",{id:`menu-section_${i}`,className:(0,o.default)("settings-page__header__search__list__item__section",{"settings-page__header__search__list__item__section-multiple-lines":n(d)===d("securityAndPrivacy")||n(d)===d("alerts")})},l(d))))},t[6]=r,t[7]=d,t[8]=e):e=t[8],m=a.slice(0,5).map(e),t[2]=r,t[3]=a,t[4]=d,t[5]=m}else m=t[5];return t[9]!==a.length||t[10]!==d?(f=0===a.length&&s.default.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},s.default.createElement("span",{className:"settings-page__header__search__list__item__no-matching"},d("settingsSearchMatchingNotFound"))),t[9]=a.length,t[10]=d,t[11]=f):f=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(g={cursor:"auto",display:"flex"},t[12]=g):g=t[12],t[13]!==d?(h=d("missingSetting"),t[13]=d,t[14]=h):h=t[14],t[15]!==h?(_=s.default.createElement("span",{className:"settings-page__header__search__list__item__request"},h),t[15]=h,t[16]=_):_=t[16],t[17]!==d?(E=d("missingSettingRequest"),t[17]=d,t[18]=E):E=t[18],t[19]!==E?(y=s.default.createElement("a",{href:"https://community.metamask.io/c/feature-requests-ideas/13",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",className:"settings-page__header__search__list__item__link"},E),t[19]=E,t[20]=y):y=t[20],t[21]!==_||t[22]!==y?(C=s.default.createElement("div",{className:"settings-page__header__search__list__item",style:g},_,y),t[21]=_,t[22]=y,t[23]=C):C=t[23],t[24]!==m||t[25]!==f||t[26]!==C?(T=s.default.createElement("div",{className:"settings-page__header__search__list"},m,f,C),t[24]=m,t[25]=f,t[26]=C,t[27]=T):T=t[27],T}m.propTypes={results:r.default.array,onClickSetting:r.default.func}}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/settings-search-list.js"}],[7936,{"./settings-search":7937},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=(n=e("./settings-search"))&&n.__esModule?n:{default:n};a.default=s.default}}},{package:"$root$",file:"ui/pages/settings/settings-search/index.js"}],[7937,{"../../../../shared/modules/string-utils":5917,"../../../components/component-library":6486,"../../../components/ui/text-field":6977,"../../../contexts/i18n":7e3,"../../../helpers/constants/design-system":7049,"@material-ui/core/InputAdornment":974,"fuse.js":4396,"prop-types":5052,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=g;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=m(e("prop-types")),o=m(e("fuse.js")),l=m(e("@material-ui/core/InputAdornment")),i=m(e("../../../components/ui/text-field")),c=e("../../../contexts/i18n"),u=e("../../../../shared/modules/string-utils"),d=e("../../../components/component-library"),p=e("../../../helpers/constants/design-system");function m(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function g(e){const t=(0,n.c)(30),{onSearch:a,error:r,settingsRoutesList:m}=e,f=(0,s.useContext)(c.I18nContext),[g,h]=(0,s.useState)(""),[_,E]=(0,s.useState)(p.IconColor.iconMuted);let y,C;if(t[0]!==m||t[1]!==f){let e;y=Object.values(m),t[4]!==f?(e=(e,t)=>e[t](f),t[4]=f,t[5]=e):e=t[5],C=new o.default(y,{shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["tabMessage","sectionMessage","descriptionMessage"],getFn:e}),t[0]=m,t[1]=f,t[2]=y,t[3]=C}else y=t[2],C=t[3];const T=C;let S;t[6]!==a||t[7]!==y||t[8]!==T?(S=e=>{const t=e.trimStart();h(t),E(""===t?p.IconColor.iconMuted:p.IconColor.iconDefault);const n=T.search(t),s=[...y.filter(e=>e.tabMessage&&t&&(0,u.isEqualCaseInsensitive)(e.tab,t)),...n];a({searchQuery:t,results:s})},t[6]=a,t[7]=y,t[8]=T,t[9]=S):S=t[9];const b=S;let v;t[10]!==_?(v=()=>s.default.createElement(l.default,{position:"start",style:{marginRight:"12px"}},s.default.createElement(d.Icon,{size:d.IconSize.Sm,name:d.IconName.Search,color:_})),t[10]=_,t[11]=v):v=t[11];const x=v;let w;t[12]!==b||t[13]!==g?(w=()=>s.default.createElement(s.default.Fragment,null,g&&s.default.createElement(l.default,{className:"imageclosectn",position:"end",onClick:()=>b(""),style:{cursor:"pointer"}},s.default.createElement(d.Icon,{name:d.IconName.Close,color:p.IconColor.iconDefault,size:d.IconSize.Xs}))),t[12]=b,t[13]=g,t[14]=w):w=t[14];const k=w;let M,I,N,A,R;return t[15]!==f?(M=f("search"),t[15]=f,t[16]=M):M=t[16],t[17]!==b?(I=e=>b(e.target.value),t[17]=b,t[18]=I):I=t[18],t[19]!==x?(N=x(),t[19]=x,t[20]=N):N=t[20],t[21]!==k?(A=k(),t[21]=k,t[22]=A):A=t[22],t[23]!==r||t[24]!==g||t[25]!==M||t[26]!==I||t[27]!==N||t[28]!==A?(R=s.default.createElement(i.default,{id:"search-settings",placeholder:M,type:"text",value:g,onChange:I,error:r,fullWidth:!0,autoFocus:!0,autoComplete:"off",startAdornment:N,endAdornment:A,theme:"bordered"}),t[23]=r,t[24]=g,t[25]=M,t[26]=I,t[27]=N,t[28]=A,t[29]=R):R=t[29],R}g.propTypes={onSearch:r.default.func,error:r.default.string,settingsRoutesList:r.default.array}}}},{package:"$root$",file:"ui/pages/settings/settings-search/settings-search.js"}],[7938,{"./settings-tab.container":7940},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./settings-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/settings-tab/index.js"}],[7939,{"../../../../app/_locales/index.json":2,"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/preferences":5777,"../../../components/component-library":6486,"../../../components/ui/dropdown":6900,"../../../components/ui/toggle-button":6981,"../../../helpers/constants/available-conversions.json":7046,"../../../helpers/constants/design-system":7049,"../../../helpers/utils/settings-search":7099,"@metamask/design-system-react":1742,classnames:4071,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=h(e("prop-types")),r=h(e("classnames")),o=e("@metamask/design-system-react"),l=h(e("../../../helpers/constants/available-conversions.json")),i=e("../../../helpers/constants/design-system"),c=h(e("../../../components/ui/dropdown")),u=h(e("../../../components/ui/toggle-button")),d=h(e("../../../../app/_locales/index.json")),p=e("../../../../shared/constants/metametrics"),m=e("../../../helpers/utils/settings-search"),f=e("../../../../shared/constants/preferences"),g=e("../../../components/component-library");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function E(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const y=l.default.sort((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase())).map(({code:e,name:t})=>({name:`${e.toUpperCase()} - ${t}`,value:e})),C=d.default.map(e=>({name:`${e.name}`,value:e.code}));class T extends n.PureComponent{constructor(...e){super(...e),E(this,"settingsRefs",Array((0,m.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("general"))).fill(undefined).map(()=>n.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("general"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("general"),this.settingsRefs)}renderCurrentConversion(){const{t:e}=this.context,{currentCurrency:t,setCurrentCurrency:a}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},e("currencyConversion"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{"data-testid":"currency-select",id:"select-currency",options:y,selectedOption:t,onChange:e=>{a(e),this.context.trackEvent({category:p.MetaMetricsEventCategory.Settings,event:p.MetaMetricsEventName.CurrentCurrency,properties:{current_currency:e,location:"settings-page"}})},className:"settings-page__content-item__dropdown"}))))}renderCurrentLocale(){const{t:e}=this.context,{updateCurrentLocale:t,currentLocale:a}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},e("currentLanguage"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{"data-testid":"locale-select",id:"select-locale",options:C,selectedOption:a,onChange:async e=>t(e)}))))}renderHideZeroBalanceTokensOptIn(){const{t:e}=this.context,{hideZeroBalanceTokens:t,setHideZeroBalanceTokens:a}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.center,id:"toggle-zero-balance"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},e("hideZeroBalanceTokens"))),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(u.default,{value:t,onToggle:e=>a(!e),"data-testid":"toggle-zero-balance-button"})))}renderBlockieOptIn(){const{t:e}=this.context,{useBlockie:t,avatarType:a,setAvatarType:s,selectedAddress:l}=this.props;let c;return a!==undefined?c=a:t&&(c="blockies"),n.default.createElement(g.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,id:"blockie-optin"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},e("accountIdenticon")),n.default.createElement(g.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textAlternative,marginBottom:3,className:"settings-page__content-item__description"},e("accountIdenticonDescription")),n.default.createElement("div",{className:"settings-page__content-item__identicon gap-8"},n.default.createElement("button",{"data-testid":"maskicon_icon",onClick:()=>s("maskicon"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{address:l,variant:o.AvatarAccountVariant.Maskicon,className:(0,r.default)({"outline outline-2 outline-primary-default":"maskicon"===c})}),n.default.createElement(g.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodySm,as:"h6"},e("maskicons"))),n.default.createElement("button",{"data-testid":"jazz_icon",onClick:()=>s("jazzicon"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{id:"jazzicon",address:l,variant:o.AvatarAccountVariant.Jazzicon,className:(0,r.default)({"outline outline-2 outline-primary-default":"jazzicon"===c})}),n.default.createElement(g.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodySm,as:"h6"},e("jazzicons"))),n.default.createElement("button",{"data-testid":"blockie_icon",onClick:()=>s("blockies"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{id:"blockies",address:l,variant:o.AvatarAccountVariant.Blockies,className:(0,r.default)({"outline outline-2 outline-primary-default":"blockies"===c})}),n.default.createElement(g.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodySm,as:"h6"},e("blockies"))))))}renderShowNativeTokenAsMainBalance(){const{t:e}=this.context,t=e=>{this.context.trackEvent({category:p.MetaMetricsEventCategory.Settings,event:p.MetaMetricsEventName.SettingsUpdated,properties:{show_native_token_as_main_balance:e}})},{setShowNativeTokenAsMainBalancePreference:a,showNativeTokenAsMainBalance:s}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.center,id:"toggle-show-native-token-as-main-balance"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},e("showNativeTokenAsMainBalance"))),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(u.default,{className:"show-native-token-as-main-balance",value:s,onToggle:e=>{a(!e),t(!e)}})))}renderTheme(){const{t:e}=this.context,{theme:t,setTheme:a}=this.props,s=[{name:e("lightTheme"),value:f.ThemeType.light},{name:e("darkTheme"),value:f.ThemeType.dark},{name:e("osTheme"),value:f.ThemeType.os}];return n.default.createElement(g.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,className:"settings-page__content-item__title"},this.context.t("theme")),n.default.createElement("div",{className:"settings-page__content-description"},this.context.t("themeDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{id:"select-theme",options:s,selectedOption:t,onChange:e=>{this.context.trackEvent({category:p.MetaMetricsEventCategory.Settings,event:"Theme Changed",properties:{theme_selected:e}}),a(e)}}))))}render(){return n.default.createElement("div",{className:"settings-page__body"},this.renderCurrentConversion(),this.renderShowNativeTokenAsMainBalance(),this.renderCurrentLocale(),this.renderTheme(),this.renderBlockieOptIn(),this.renderHideZeroBalanceTokensOptIn())}}a.default=T,E(T,"contextTypes",{t:s.default.func,metricsEvent:s.default.func,trackEvent:s.default.func}),E(T,"propTypes",{avatarType:s.default.string,setAvatarType:s.default.func,setCurrentCurrency:s.default.func,updateCurrentLocale:s.default.func,currentLocale:s.default.string,useBlockie:s.default.bool,currentCurrency:s.default.string,showNativeTokenAsMainBalance:s.default.bool,setShowNativeTokenAsMainBalancePreference:s.default.func,hideZeroBalanceTokens:s.default.bool,setHideZeroBalanceTokens:s.default.func,selectedAddress:s.default.string,theme:s.default.string,setTheme:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.component.js"}],[7940,{"../../../../shared/modules/selectors/networks":5908,"../../../selectors":8035,"../../../store/actions":8065,"./settings-tab.component":7939,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-redux"),r=e("../../../store/actions"),o=e("../../../selectors"),l=e("../../../../shared/modules/selectors/networks"),i=(n=e("./settings-tab.component"))&&n.__esModule?n:{default:n};a.default=(0,s.connect)(e=>{const{metamask:t}=e,{currentCurrency:a,useBlockie:n,currentLocale:s}=t,{ticker:r}=(0,l.getProviderConfig)(e),{address:i}=(0,o.getSelectedInternalAccount)(e),{hideZeroBalanceTokens:c,showNativeTokenAsMainBalance:u,avatarType:d}=(0,o.getPreferences)(e);return{currentLocale:s,currentCurrency:a,nativeCurrency:r,useBlockie:n,avatarType:d,showNativeTokenAsMainBalance:u,hideZeroBalanceTokens:c,selectedAddress:i,tokenList:(0,o.getTokenList)(e),theme:(0,o.getTheme)(e)}},e=>({setCurrentCurrency:t=>e((0,r.setCurrentCurrency)(t)),setAvatarType:t=>e((0,r.setAvatarType)(t)),updateCurrentLocale:t=>e((0,r.updateCurrentLocale)(t)),setShowNativeTokenAsMainBalancePreference:t=>e((0,r.setShowNativeTokenAsMainBalancePreference)(t)),setParticipateInMetaMetrics:t=>e((0,r.setParticipateInMetaMetrics)(t)),setHideZeroBalanceTokens:t=>e((0,r.setHideZeroBalanceTokens)(t)),setTheme:t=>e((0,r.setTheme)(t))}))(i.default)}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.container.js"}],[7941,{"../../../app/scripts/lib/util":358,"../../../shared/constants/app":5753,"../../components/app/password-outdated-modal":6176,"../../components/app/shield-entry-modal":6224,"../../components/app/snaps/snap-icon":6248,"../../components/app/snaps/snap-settings-page":6268,"../../components/app/tab-bar":6370,"../../components/component-library":6486,"../../components/ui/metafox-logo":6942,"../../helpers/constants/design-system":7049,"../../helpers/constants/routes":7054,"../../helpers/utils/settings-search":7099,"./advanced-tab":7889,"./backup-and-sync-tab":7892,"./contact-list-tab":7902,"./developer-options-tab":7910,"./experimental-tab":7914,"./info-tab":7916,"./security-tab":7927,"./security-tab/change-password":7924,"./security-tab/reveal-srp-list":7930,"./settings-search":7936,"./settings-search-list":7934,"./settings-tab":7938,"./transaction-shield-tab":7955,"./transaction-shield-tab/claims-area":7948,classnames:4071,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=O(e("prop-types")),o=e("react-router-dom-v5-compat"),l=O(e("classnames")),i=O(e("../../components/app/tab-bar")),c=e("../../helpers/constants/routes"),u=e("../../helpers/utils/settings-search"),d=e("../../components/component-library"),p=e("../../helpers/constants/design-system"),m=O(e("../../components/ui/metafox-logo")),f=e("../../../app/scripts/lib/util"),g=e("../../../shared/constants/app"),h=e("../../components/app/snaps/snap-icon"),_=e("../../components/app/snaps/snap-settings-page"),E=O(e("../../components/app/password-outdated-modal")),y=O(e("../../components/app/shield-entry-modal")),C=O(e("./settings-tab")),T=O(e("./advanced-tab")),S=O(e("./info-tab")),b=O(e("./security-tab")),v=O(e("./contact-list-tab")),x=(O(e("./developer-options-tab")),O(e("./experimental-tab"))),w=O(e("./settings-search")),k=O(e("./settings-search-list")),M=e("./security-tab/reveal-srp-list"),I=O(e("./backup-and-sync-tab")),N=O(e("./security-tab/change-password")),A=O(e("./transaction-shield-tab/claims-area")),R=O(e("./transaction-shield-tab"));function O(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}function P(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const L=e=>{const t=(0,n.c)(4),{onMount:a}=e;let r,l,i;return t[0]!==a?(r=()=>{a()},l=[a],t[0]=a,t[1]=r,t[2]=l):(r=t[1],l=t[2]),s.default.useEffect(r,l),t[3]===Symbol.for("react.memo_cache_sentinel")?(i=s.default.createElement(o.Navigate,{to:{pathname:c.DEFAULT_ROUTE}}),t[3]=i):i=t[3],i};L.propTypes={onMount:r.default.func.isRequired};class B extends s.PureComponent{constructor(...e){super(...e),P(this,"state",{isSearchList:!1,lastFetchedConversionDate:null,searchResults:[],searchText:"",showShieldEntryModal:!1})}componentDidMount(){this.handleConversionDate(),this.props.shouldShowShieldEntryModal&&(this.props.hasSubscribedToShield?setTimeout(()=>{this.props.navigate(c.TRANSACTION_SHIELD_ROUTE)}):this.setState({showShieldEntryModal:!0}))}componentDidUpdate(){this.handleConversionDate()}handleConversionDate(){const{conversionDate:e}=this.props;null!==e&&this.setState({lastFetchedConversionDate:e})}handleClickSetting(e){const{navigate:t}=this.props;t(e.route),this.setState({isSearchList:"",searchResults:""})}render(){const{navigate:e,backRoute:t,currentPath:a,mostRecentOverviewPage:n,addNewNetwork:r,isPasswordChangePage:o,isRevealSrpListPage:i,isSeedlessPasswordOutdated:u,isTransactionShieldPage:h}=this.props,{t:_}=this.context,C=(0,f.getEnvironmentType)(),T=C===g.ENVIRONMENT_TYPE_POPUP||C===g.ENVIRONMENT_TYPE_SIDEPANEL,S=C===g.ENVIRONMENT_TYPE_SIDEPANEL,b=i||o||h;return s.default.createElement("div",{className:(0,l.default)("main-container main-container--has-shadow settings-page",{"settings-page--selected":a!==c.SETTINGS_ROUTE,"settings-page--sidepanel":S})},this.state.showShieldEntryModal&&s.default.createElement(y.default,{skipEventSubmission:!0,onClose:()=>this.setState({showShieldEntryModal:!1})}),u&&s.default.createElement(E.default,null),s.default.createElement(d.Box,{className:"settings-page__header",padding:4,paddingBottom:2},s.default.createElement("div",{className:(0,l.default)("settings-page__header__title-container",{"settings-page__header__title-container--hide-search":b})},T&&s.default.createElement(s.default.Fragment,null,a===c.SETTINGS_ROUTE?s.default.createElement(m.default,{className:"settings-page__header__title-container__metamask-logo",unsetIconHeight:!0,onClick:()=>e(c.DEFAULT_ROUTE),display:[p.Display.Flex,p.Display.None]}):s.default.createElement(d.ButtonIcon,{ariaLabel:_("back"),iconName:d.IconName.ArrowLeft,className:"settings-page__header__title-container__back-button",color:p.Color.iconDefault,onClick:()=>e(t),display:[p.Display.Flex,p.Display.None],size:d.ButtonIconSize.Md})),this.renderTitle(),this.renderSearch(),s.default.createElement(d.ButtonIcon,{className:"settings-page__header__title-container__close-button",iconName:d.IconName.Close,ariaLabel:_("close"),onClick:()=>{e(r?c.NETWORKS_ROUTE:n)},size:d.ButtonIconSize.Md,marginLeft:"auto"}))),s.default.createElement("div",{className:"settings-page__content"},s.default.createElement("div",{className:"settings-page__content__tabs"},this.renderTabs()),s.default.createElement("div",{className:"settings-page__content__modules"},this.renderSubHeader(),this.renderContent())))}renderTitle(){const{t:e}=this.context,{isPopup:t,pathnameI18nKey:a,addressName:n,snapSettingsTitle:r}=this.props;let o;return o=t&&n?e("details"):a&&t?e(a):r||e("settings"),s.default.createElement("div",{className:"settings-page__header__title-container__title"},s.default.createElement(d.Text,{variant:p.TextVariant.headingMd,ellipsis:!0},o))}renderSearch(){const{isSearchList:e,searchText:t,searchResults:a}=this.state,{isRevealSrpListPage:n,isPasswordChangePage:r,isTransactionShieldPage:o}=this.props;return n||r||o?null:s.default.createElement(d.Box,{className:"settings-page__header__title-container__search",display:[p.Display.Block]},s.default.createElement(w.default,{onSearch:({searchQuery:e="",results:t=[]})=>{this.setState({isSearchList:""!==e,searchResults:t,searchText:e})},settingsRoutesList:(0,u.getSettingsRoutes)()}),e&&t.length>=3&&s.default.createElement(k.default,{results:a,onClickSetting:e=>this.handleClickSetting(e)}))}renderSubHeader(){const{t:e}=this.context,{currentPath:t,isPopup:a,isAddressEntryPage:n,pathnameI18nKey:r,addressName:o,backRoute:l,navigate:i}=this.props;let u;u=e(a&&n?"settings":n?"contacts":r||"general");const m=l!==c.SETTINGS_ROUTE;return!t.startsWith(c.NETWORKS_ROUTE)&&s.default.createElement(d.Box,{className:"settings-page__subheader",padding:4,paddingLeft:6,paddingRight:6,display:p.Display.Flex,flexDirection:p.FlexDirection.Row,alignItems:p.AlignItems.center},m&&s.default.createElement(d.ButtonIcon,{iconName:d.IconName.ArrowLeft,onClick:()=>i(l),marginRight:2,size:d.ButtonIconSize.Md}),s.default.createElement(d.Text,{variant:p.TextVariant.headingSm},u),n&&s.default.createElement("div",{className:"settings-page__subheader--break"},s.default.createElement("span",null," > "),o))}renderTabs(){const{navigate:e,currentPath:t,useExternalServices:a,settingsPageSnaps:n,isMetaMaskShieldFeatureEnabled:r,hasSubscribedToShield:l}=this.props,{t:u}=this.context,p=n.map(({id:e,name:t})=>({content:t,icon:s.default.createElement(h.SnapIcon,{snapId:e,avatarSize:d.IconSize.Md,style:{"--size":"20px"}}),key:`${c.SNAP_SETTINGS_ROUTE}/${encodeURIComponent(e)}`})),m=[{content:u("general"),icon:s.default.createElement(d.Icon,{name:d.IconName.Setting}),key:c.GENERAL_ROUTE},...p,{content:u("advanced"),icon:s.default.createElement("i",{className:"fas fa-sliders-h"}),key:c.ADVANCED_ROUTE},{content:u("backupAndSync"),icon:s.default.createElement(d.Icon,{name:d.IconName.SecurityTime}),key:c.BACKUPANDSYNC_ROUTE},{content:u("contacts"),icon:s.default.createElement(d.Icon,{name:d.IconName.Book}),key:c.CONTACT_LIST_ROUTE},{content:u("securityAndPrivacy"),icon:s.default.createElement(d.Icon,{name:d.IconName.Lock}),key:c.SECURITY_ROUTE},{content:u("experimental"),icon:s.default.createElement(d.Icon,{name:d.IconName.Flask}),key:c.EXPERIMENTAL_ROUTE},{content:u("about"),icon:s.default.createElement(d.Icon,{name:d.IconName.Info}),key:c.ABOUT_US_ROUTE}];return a&&m.splice(4,0,{content:u("notifications"),icon:s.default.createElement(d.Icon,{name:d.IconName.Notification}),key:c.NOTIFICATIONS_SETTINGS_ROUTE}),r&&a&&m.splice(-4,0,{content:u("shieldTx"),icon:s.default.createElement(d.Icon,{name:d.IconName.ShieldLock}),key:c.TRANSACTION_SHIELD_ROUTE}),s.default.createElement(i.default,{tabs:m,isActive:e=>e===c.GENERAL_ROUTE&&t===c.SETTINGS_ROUTE||(!(e!==c.CONTACT_LIST_ROUTE||!t.includes(c.CONTACT_LIST_ROUTE))||(0,o.matchPath)(e,t)),onSelect:t=>{t!==c.TRANSACTION_SHIELD_ROUTE||l?e(t):this.setState({showShieldEntryModal:!0})}})}renderContent(){return s.default.createElement(o.Routes,null,s.default.createElement(o.Route,{path:c.GENERAL_ROUTE,element:s.default.createElement(C.default,{lastFetchedConversionDate:this.state.lastFetchedConversionDate})}),s.default.createElement(o.Route,{path:c.ABOUT_US_ROUTE,element:s.default.createElement(S.default,null)}),s.default.createElement(o.Route,{path:`${c.SNAP_SETTINGS_ROUTE}/:snapId`,element:s.default.createElement(_.SnapSettingsRenderer,null)}),s.default.createElement(o.Route,{path:c.ADVANCED_ROUTE,element:s.default.createElement(T.default,null)}),s.default.createElement(o.Route,{path:c.BACKUPANDSYNC_ROUTE,element:s.default.createElement(I.default,null)}),s.default.createElement(o.Route,{path:c.ADD_NETWORK_ROUTE,element:s.default.createElement(L,{onMount:()=>this.props.toggleNetworkMenu({isAddingNewNetwork:!0})})}),s.default.createElement(o.Route,{path:c.NETWORKS_ROUTE,element:s.default.createElement(L,{onMount:()=>this.props.toggleNetworkMenu()})}),s.default.createElement(o.Route,{path:c.ADD_POPULAR_CUSTOM_NETWORK,element:s.default.createElement(L,{onMount:()=>this.props.toggleNetworkMenu()})}),s.default.createElement(o.Route,{path:c.SECURITY_ROUTE,element:s.default.createElement(b.default,null)}),s.default.createElement(o.Route,{path:c.TRANSACTION_SHIELD_ROUTE,element:s.default.createElement(R.default,null)}),s.default.createElement(o.Route,{path:`${c.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE}/*`,element:s.default.createElement(A.default,null)}),s.default.createElement(o.Route,{path:c.EXPERIMENTAL_ROUTE,element:s.default.createElement(x.default,null)}),!1,s.default.createElement(o.Route,{path:c.CONTACT_LIST_ROUTE,element:s.default.createElement(v.default,null)}),s.default.createElement(o.Route,{path:c.CONTACT_ADD_ROUTE,element:s.default.createElement(v.default,null)}),s.default.createElement(o.Route,{path:`${c.CONTACT_EDIT_ROUTE}/:id`,element:s.default.createElement(v.default,null)}),s.default.createElement(o.Route,{path:`${c.CONTACT_VIEW_ROUTE}/:id`,element:s.default.createElement(v.default,null)}),s.default.createElement(o.Route,{path:c.REVEAL_SRP_LIST_ROUTE,element:s.default.createElement(M.RevealSrpList,null)}),s.default.createElement(o.Route,{path:c.SECURITY_PASSWORD_CHANGE_ROUTE,element:s.default.createElement(N.default,null)}),s.default.createElement(o.Route,{path:"*",element:s.default.createElement(C.default,{lastFetchedConversionDate:this.state.lastFetchedConversionDate})}))}}P(B,"propTypes",{addNewNetwork:r.default.bool,addressName:r.default.string,backRoute:r.default.string,conversionDate:r.default.number,currentPath:r.default.string,hasSubscribedToShield:r.default.bool,isAddressEntryPage:r.default.bool,isMetaMaskShieldFeatureEnabled:r.default.bool,isPasswordChangePage:r.default.bool,isPopup:r.default.bool,isRevealSrpListPage:r.default.bool,isSeedlessPasswordOutdated:r.default.bool,isTransactionShieldPage:r.default.bool,mostRecentOverviewPage:r.default.string.isRequired,navigate:r.default.func.isRequired,pathnameI18nKey:r.default.string,settingsPageSnaps:r.default.array,shouldShowShieldEntryModal:r.default.bool,snapSettingsTitle:r.default.string,toggleNetworkMenu:r.default.func.isRequired,useExternalServices:r.default.bool}),P(B,"contextTypes",{t:r.default.func});a.default=B}}},{package:"$root$",file:"ui/pages/settings/settings.component.js"}],[7942,{"../../../app/scripts/lib/util":358,"../../../shared/constants/app":5753,"../../../shared/lib/deep-links/routes/shield":5820,"../../../shared/modules/environment":5891,"../../../shared/modules/hexstring-utils":5896,"../../../shared/modules/selectors/networks":5908,"../../ducks/history/history":7030,"../../ducks/metamask/metamask":7033,"../../helpers/constants/routes":7054,"../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7072,"../../helpers/utils/snaps":7100,"../../helpers/utils/util":7109,"../../selectors":8035,"../../selectors/subscription/subscription":8062,"../../store/actions":8065,"./settings.component":7941,"./transaction-shield-tab/types":7961,"react-redux":5179,redux:5273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("redux"),s=e("react-redux"),r=S(e("../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../selectors"),l=e("../../../shared/constants/app"),i=e("../../../app/scripts/lib/util"),c=e("../../ducks/history/history"),u=e("../../../shared/modules/hexstring-utils"),d=e("../../helpers/constants/routes"),p=e("../../../shared/modules/selectors/networks"),m=e("../../store/actions"),f=e("../../helpers/utils/util"),g=e("../../helpers/utils/snaps"),h=e("../../ducks/metamask/metamask"),_=e("../../../shared/modules/environment"),E=e("../../selectors/subscription/subscription"),y=e("../../../shared/lib/deep-links/routes/shield"),C=S(e("./settings.component")),T=e("./transaction-shield-tab/types");function S(e){return e&&e.__esModule?e:{default:e}}const b={[d.ABOUT_US_ROUTE]:"about",[d.ADD_NETWORK_ROUTE]:"networks",[d.ADD_POPULAR_CUSTOM_NETWORK]:"addNetwork",[d.ADVANCED_ROUTE]:"advanced",[d.BACKUPANDSYNC_ROUTE]:"backupAndSync",[d.CONTACT_ADD_ROUTE]:"newContact",[d.CONTACT_EDIT_ROUTE]:"editContact",[d.CONTACT_LIST_ROUTE]:"contacts",[d.CONTACT_VIEW_ROUTE]:"viewContact",[d.DEVELOPER_OPTIONS_ROUTE]:"developerOptions",[d.EXPERIMENTAL_ROUTE]:"experimental",[d.GENERAL_ROUTE]:"general",[d.NETWORKS_FORM_ROUTE]:"networks",[d.NETWORKS_ROUTE]:"networks",[d.REVEAL_SRP_LIST_ROUTE]:"revealSecretRecoveryPhrase",[d.SECURITY_PASSWORD_CHANGE_ROUTE]:"securityChangePassword",[d.SECURITY_ROUTE]:"securityAndPrivacy",[d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL]:"shieldClaim",[d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE]:"shieldClaimsListTitle",[d.TRANSACTION_SHIELD_ROUTE]:"shieldTx"};a.default=(0,n.compose)(r.default,(0,s.connect)((e,t)=>{var a,n;const{location:s}=t,{pathname:r,search:m}=s,{ticker:C}=(0,p.getProviderConfig)(e),{metamask:{currencyRates:S,socialLoginEmail:v}}=e,x=(0,o.getSettingsPageSnapsIds)(e),w=(0,o.getSnapsMetadata)(e),k=null===(a=S[C])||void 0===a?void 0:a.conversionDate,M="true"===new URLSearchParams(m).get(y.SHIELD_QUERY_PARAMS.showShieldEntryModal),I=(null===(n=r.match(/[^/]+$/u))||void 0===n?void 0:n[0])||"",N=I.includes("0x"),A=Boolean(r.match(d.CONTACT_ADD_ROUTE)),R=Boolean(r.match(d.CONTACT_EDIT_ROUTE)),O=Boolean(r.match(d.REVEAL_SRP_LIST_ROUTE)),D=Boolean(r.match(d.SECURITY_PASSWORD_CHANGE_ROUTE)),P=Boolean(r.startsWith(d.TRANSACTION_SHIELD_ROUTE)),L=Boolean(r.match(d.NETWORKS_FORM_ROUTE))||Boolean(r.match(d.ADD_NETWORK_ROUTE)),B=Boolean(r.match(d.ADD_NETWORK_ROUTE)),F=Boolean(r.match(d.ADD_POPULAR_CUSTOM_NETWORK)),U=Boolean(r.match(d.SNAP_SETTINGS_ROUTE)),j=Boolean(r.match(d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL)),W=Boolean(r.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_PENDING.FULL)),V=Boolean(r.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_HISTORY.FULL)),$=Boolean(r.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)),H=(0,i.getEnvironmentType)(),z=H===l.ENVIRONMENT_TYPE_POPUP||H===l.ENVIRONMENT_TYPE_SIDEPANEL,G=Boolean(v);let Y=b[r];O&&G&&(Y="securitySrpWalletRecovery"),(W||V)&&(Y="shieldClaimsListTitle");let K=d.SETTINGS_ROUTE;R?K=`${d.CONTACT_VIEW_ROUTE}/${I}`:N||A?K=d.CONTACT_LIST_ROUTE:L||F?K=d.NETWORKS_ROUTE:O||D?K=d.SECURITY_ROUTE:j?K=d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE:W?K=`${d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE}?tab=${T.CLAIMS_TAB_KEYS.PENDING}`:V?K=`${d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE}?tab=${T.CLAIMS_TAB_KEYS.HISTORY}`:$&&(K=d.TRANSACTION_SHIELD_ROUTE);const q=(0,o.getAddressBookEntryOrAccountName)(e,!(0,u.isBurnAddress)(I)&&(0,u.isValidHexAddress)(I,{mixedCaseUseChecksum:!0})?I:""),Z=(0,o.getUseExternalServices)(e),Q=(0,f.getSnapName)(w),X=x.map(e=>({id:e,name:Q(e)})),J=U&&Q((0,g.decodeSnapIdFromPathname)(r));return{addNewNetwork:B,addressName:q,backRoute:K,conversionDate:k,currentPath:r,hasSubscribedToShield:(0,E.getHasSubscribedToShield)(e),isAddressEntryPage:N,isMetaMaskShieldFeatureEnabled:(0,_.getIsMetaMaskShieldFeatureEnabled)(),isPasswordChangePage:D,isPopup:z,isRevealSrpListPage:O,isSeedlessPasswordOutdated:(0,h.getIsSeedlessPasswordOutdated)(e),isTransactionShieldPage:P,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),pathnameI18nKey:Y,settingsPageSnaps:X,shouldShowShieldEntryModal:M,snapSettingsTitle:J,useExternalServices:Z}},function(e){return{toggleNetworkMenu:t=>e((0,m.toggleNetworkMenu)(t))}}))(C.default)}}},{package:"$root$",file:"ui/pages/settings/settings.container.js"}],[7943,{"../../../../components/app/preferred-avatar":6194,"../../../../components/component-library":6486,"../../../../helpers/utils/util":7109,"../../../../selectors/multichain-accounts/account-tree":8039,"@metamask/design-system-react":1742,classnames:4071,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("@metamask/design-system-react"),l=e("react-redux"),i=(n=e("classnames"))&&n.__esModule?n:{default:n},c=e("../../../../components/component-library"),u=e("../../../../components/app/preferred-avatar"),d=e("../../../../selectors/multichain-accounts/account-tree"),p=e("../../../../helpers/utils/util");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,s.c)(40),{label:a,modalTitle:n,onAccountSelect:m,impactedWalletAddress:f,disabled:h}=e,_=h!==undefined&&h,[E,y]=(0,r.useState)(!1),C=(0,l.useSelector)(d.getWalletsWithAccounts);let T;t[0]!==C?(T=Object.values(C).reduce(g,{}),t[0]=C,t[1]=T):T=t[1];const S=T;let b;if(t[2]!==S||t[3]!==f){{const e=Object.values(S).find(e=>e.accounts.some(e=>e.address.toLowerCase()===f.toLowerCase()));e?b=e.accounts.find(e=>e.address.toLowerCase()===f.toLowerCase())??null:b=null}t[2]=S,t[3]=f,t[4]=b}else b=t[4];const v=b;let x,w,k,M,I,N,A,R,O,D,P,L,B,F,U;return t[5]!==_?(x=(0,i.default)("mb-2",{"opacity-50":_}),t[5]=_,t[6]=x):x=t[6],t[7]!==a||t[8]!==x?(w=r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,className:x},a),t[7]=a,t[8]=x,t[9]=w):w=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(k=()=>y(!0),t[10]=k):k=t[10],t[11]!==n||t[12]!==v?(M=v?r.default.createElement(r.default.Fragment,null,r.default.createElement(u.PreferredAvatar,{address:(null==v?void 0:v.address)??"",size:o.AvatarAccountSize.Sm}),r.default.createElement(o.Text,null,null==v?void 0:v.name)):r.default.createElement(o.Text,{color:o.TextColor.TextAlternative},n),t[11]=n,t[12]=v,t[13]=M):M=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(I=r.default.createElement(o.Icon,{className:"ml-auto",size:o.IconSize.Sm,color:o.IconColor.IconDefault,name:o.IconName.ArrowDown}),t[14]=I):I=t[14],t[15]!==_||t[16]!==M?(N=r.default.createElement("button",{"data-testid":"account-selector-button",disabled:_},M,I),t[15]=_,t[16]=M,t[17]=N):N=t[17],t[18]!==n||t[19]!==N?(A=r.default.createElement(o.Box,{asChild:!0,borderColor:o.BoxBorderColor.BorderDefault,className:"w-full flex items-center gap-2 px-4 h-12 border rounded-lg",onClick:k,"aria-label":n},N),t[18]=n,t[19]=N,t[20]=A):A=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(R=()=>y(!1),t[21]=R):R=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(O=r.default.createElement(c.ModalOverlay,null),t[22]=O):O=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(D=()=>y(!1),t[23]=D):D=t[23],t[24]!==n?(P=r.default.createElement(c.ModalHeader,{onClose:D},n),t[24]=n,t[25]=P):P=t[25],t[26]!==S||t[27]!==m||t[28]!==(null==v?void 0:v.address)?(L=r.default.createElement(c.ModalBody,{paddingRight:0,paddingLeft:0},Object.entries(S).map(e=>{const[t,a]=e;return r.default.createElement(o.Box,{key:t},r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,color:o.TextColor.TextAlternative,className:"px-4 py-2"},t),a.accounts.map(e=>r.default.createElement(o.Box,{asChild:!0,key:e.id,className:(0,i.default)("account-selector-modal__account w-full flex items-center gap-4 px-4 py-3",{"account-selector-modal__account--selected":e.address.toLowerCase()===(null==v?void 0:v.address.toLowerCase())}),onClick:()=>{m(e.address),y(!1)}},r.default.createElement("button",{"data-testid":`account-selector-account-item-${e.address.toLowerCase()}`},r.default.createElement(u.PreferredAvatar,{address:e.address??"",size:o.AvatarAccountSize.Lg}),r.default.createElement(o.Box,{className:"text-left"},r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium},e.name),r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,fontWeight:o.FontWeight.Medium,color:o.TextColor.TextAlternative},(0,p.shortenAddress)(e.address)))))))})),t[26]=S,t[27]=m,t[28]=null==v?void 0:v.address,t[29]=L):L=t[29],t[30]!==P||t[31]!==L?(B=r.default.createElement(c.ModalContent,{size:c.ModalContentSize.Sm},P,L),t[30]=P,t[31]=L,t[32]=B):B=t[32],t[33]!==E||t[34]!==B?(F=r.default.createElement(c.Modal,{isOpen:E,isClosedOnEscapeKey:!0,isClosedOnOutsideClick:!0,onClose:R,className:"account-selector-modal","data-testid":"account-selector-modal"},O,B),t[33]=E,t[34]=B,t[35]=F):F=t[35],t[36]!==A||t[37]!==F||t[38]!==w?(U=r.default.createElement(o.Box,null,w,A,F),t[36]=A,t[37]=F,t[38]=w,t[39]=U):U=t[39],U};function f(e){return e.type.startsWith("eip155:")}function g(e,t){const a=t.metadata.name;return e[a]||(e[a]={id:t.id,name:t.metadata.name,accounts:[]}),Object.values(t.groups).forEach(t=>{const n=t.accounts.find(f);n&&e[a].accounts.push({id:t.id,name:t.metadata.name,address:n.address,type:n.type})}),e}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/account-selector/account-selector.tsx"}],[7944,{"./account-selector":7943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./account-selector"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/account-selector/index.ts"}],[7945,{"../../../../shared/lib/shield":5867,"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../hooks/useI18nContext":7200,"../../asset/util":7273,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){const t=(0,s.c)(28),{onConfirm:a,onClose:n,subscription:d}=e,p=(0,i.useI18nContext)();let m;t[0]!==d?(m=(0,u.getIsShieldSubscriptionPaused)(d),t[0]=d,t[1]=m):m=t[1];const f=m;let g,h,_,E,y,C,T,S,b,v;t[2]===Symbol.for("react.memo_cache_sentinel")?(g=r.default.createElement(o.ModalOverlay,null),t[2]=g):g=t[2];t[3]!==p?(h=p("areYouSure"),t[3]=p,t[4]=h):h=t[4];t[5]!==n||t[6]!==h?(_=r.default.createElement(o.ModalHeader,{onClose:n},h),t[5]=n,t[6]=h,t[7]=_):_=t[7];t[8]!==f||t[9]!==d||t[10]!==p?(E=f?p("shieldTxCancelWhenPausedDetails"):p("shieldTxCancelDetails",[r.default.createElement(o.Text,{key:"cancel-date",variant:l.TextVariant.bodyMdMedium,as:"span"},(0,c.getShortDateFormatterV2)().format(new Date(d.currentPeriodEnd)))]),t[8]=f,t[9]=d,t[10]=p,t[11]=E):E=t[11];t[12]!==E?(y=r.default.createElement(o.ModalBody,null,r.default.createElement(o.Text,{variant:l.TextVariant.bodyMd},E)),t[12]=E,t[13]=y):y=t[13];t[14]!==p?(C=p("shieldTxMembershipCancel"),t[14]=p,t[15]=C):C=t[15];t[16]!==C?(T={"data-testid":"cancel-membership-modal-submit-button",children:C,danger:!0},t[16]=C,t[17]=T):T=t[17];t[18]!==a||t[19]!==T?(S=r.default.createElement(o.ModalFooter,{onSubmit:a,submitButtonProps:T}),t[18]=a,t[19]=T,t[20]=S):S=t[20];t[21]!==_||t[22]!==y||t[23]!==S?(b=r.default.createElement(o.ModalContent,{alignItems:l.AlignItems.flexStart},_,y,S),t[21]=_,t[22]=y,t[23]=S,t[24]=b):b=t[24];t[25]!==n||t[26]!==b?(v=r.default.createElement(o.Modal,{isOpen:!0,onClose:n,className:"cancel-membership-modal","data-testid":"cancel-membership-modal"},g,b),t[25]=n,t[26]=b,t[27]=v):v=t[27];return v};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),c=e("../../asset/util"),u=e("../../../../shared/lib/shield")}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/cancel-membership-modal.tsx"}],[7947,{"../../../../contexts/claims/claims":6998,"../../../../helpers/constants/routes":7054,"../claims-form":7951,"../claims-list":7954,react:5229,"react-compiler-runtime":5128,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=u(e("react")),r=e("react-router-dom-v5-compat"),o=e("../../../../contexts/claims/claims"),l=u(e("../claims-list")),i=u(e("../claims-form")),c=e("../../../../helpers/constants/routes");function u(e){return e&&e.__esModule?e:{default:e}}a.default=()=>{const e=(0,n.c)(4);let t,a,u,d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.default.createElement(r.Route,{path:"/",element:s.default.createElement(l.default,null)}),e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(a=s.default.createElement(r.Route,{path:c.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.RELATIVE,element:s.default.createElement(i.default,null)}),e[1]=a):a=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(u=s.default.createElement(r.Route,{path:`${c.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_PENDING.RELATIVE}/:claimId`,element:s.default.createElement(i.default,{isView:!0})}),e[2]=u):u=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(d=s.default.createElement(o.ClaimsProvider,null,s.default.createElement(r.Routes,null,t,a,u,s.default.createElement(r.Route,{path:`${c.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_HISTORY.RELATIVE}/:claimId`,element:s.default.createElement(i.default,{isView:!0})}))),e[3]=d):d=e[3],d}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-area/claims-area.tsx"}],[7948,{"./claims-area":7947},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./claims-area"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-area/index.ts"}],[7949,{"../../../../../app/scripts/lib/util":358,"../../../../../shared/constants/app-state":5752,"../../../../../shared/constants/subscriptions":5787,"../../../../components/app/toast-master/utils":6376,"../../../../components/component-library":6486,"../../../../components/component-library/file-uploader":6472,"../../../../components/component-library/textarea":6549,"../../../../components/ui/loading-screen":6930,"../../../../contexts/claims/claims":6998,"../../../../helpers/constants/common":7047,"../../../../helpers/constants/design-system":7049,"../../../../helpers/constants/routes":7054,"../../../../hooks/shield/metrics/useSubscriptionMetrics":7161,"../../../../hooks/shield/useClaimState":7163,"../../../../hooks/useI18nContext":7200,"../../../../selectors/shield/claims":8054,"../../../../selectors/subscription":8061,"../../../../store/actions":8065,"../account-selector":7944,"../claim-error":7946,"../network-selector":7956,"../types":7961,"./constants":7950,"./utils":7952,"@metamask/controller-utils":1384,"@metamask/design-system-react":1742,classnames:4071,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("@metamask/controller-utils"),r=e("@metamask/design-system-react"),o=e("react-redux"),l=e("react-router-dom-v5-compat"),i=O(e("classnames")),c=e("../../../../hooks/useI18nContext"),u=e("../../../../contexts/claims/claims"),d=e("../../../../components/component-library/textarea"),p=e("../../../../components/component-library"),m=e("../../../../helpers/constants/design-system"),f=e("../../../../hooks/shield/useClaimState"),g=e("../../../../../app/scripts/lib/util"),h=e("../../../../helpers/constants/routes"),_=e("../../../../store/actions"),E=O(e("../../../../components/ui/loading-screen")),y=e("../../../../components/app/toast-master/utils"),C=e("../../../../../shared/constants/app-state"),T=e("../../../../helpers/constants/common"),S=e("../../../../components/component-library/file-uploader"),b=e("../types"),v=e("../claim-error"),x=O(e("../account-selector")),w=O(e("../network-selector")),k=e("../../../../selectors/shield/claims"),M=e("../../../../hooks/shield/metrics/useSubscriptionMetrics"),I=e("../../../../../shared/constants/subscriptions"),N=e("../../../../selectors/subscription"),A=e("./constants"),R=e("./utils");function O(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}a.default=({isView:e=!1})=>{var t,a;const O=(0,c.useI18nContext)(),D=(0,o.useDispatch)(),P=(0,l.useNavigate)(),{refetchClaims:L}=(0,u.useClaims)(),B=(0,o.useSelector)(k.getValidSubmissionWindowDays),F=(0,o.useSelector)(N.getLatestShieldSubscription),{captureShieldCtaClickedEvent:U,captureShieldClaimSubmissionEvent:j}=(0,M.useSubscriptionMetrics)(),[W,V]=(0,n.useState)(!1),{chainId:$,setChainId:H,email:z,setEmail:G,impactedWalletAddress:Y,setImpactedWalletAddress:K,impactedTransactionHash:q,setImpactedTransactionHash:Z,reimbursementWalletAddress:Q,setReimbursementWalletAddress:X,caseDescription:J,setCaseDescription:ee,files:te,setFiles:ae,uploadedFiles:ne,claimSignature:se}=(0,f.useClaimState)(e),[re,oe]=(0,n.useState)({}),le=(0,n.useCallback)((e,t,a)=>{oe(n=>({...n,[e]:t?{key:e,msg:t,params:a}:undefined}))},[oe]),ie=(0,n.useCallback)(()=>{if(z){const e=(0,g.isValidEmail)(z);le(b.SUBMIT_CLAIM_FIELDS.EMAIL,e?undefined:A.FIELD_ERROR_MESSAGE_KEY_MAP[b.SUBMIT_CLAIM_FIELDS.EMAIL])}else{var e;le(b.SUBMIT_CLAIM_FIELDS.EMAIL,null===(e=A.ERROR_MESSAGE_MAP[b.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[z,le]),ce=(0,n.useCallback)(e=>{var t;const a=e??Y;if(!Q||!a)return void le(b.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,undefined);const n=Q.toLowerCase()===a.toLowerCase();le(b.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,n?null===(t=A.ERROR_MESSAGE_MAP[b.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES])||void 0===t?void 0:t.messageKey:undefined)},[Q,Y,le]),ue=(0,n.useCallback)(()=>{if(Q){(0,s.isValidHexAddress)(Q)?ce():le(b.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,A.FIELD_ERROR_MESSAGE_KEY_MAP[b.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS])}else{var e;le(b.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,null===(e=A.ERROR_MESSAGE_MAP[b.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[Q,le,ce]),de=(0,n.useCallback)(()=>{if(q){const e=(0,R.isValidTransactionHash)(q);le(b.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH,e?undefined:A.FIELD_ERROR_MESSAGE_KEY_MAP[b.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH])}else{var e;le(b.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH,null===(e=A.ERROR_MESSAGE_MAP[b.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[q,le]),pe=(0,n.useCallback)(()=>{var e;le(b.SUBMIT_CLAIM_FIELDS.CASE_DESCRIPTION,J?undefined:null===(e=A.ERROR_MESSAGE_MAP[b.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)},[J,le]),me=(0,n.useMemo)(()=>Object.values(re).some(e=>e!==undefined)||!$||!z||!Y||!q||!Q||!J,[re,$,z,Y,q,Q,J]),fe=(0,n.useCallback)(e=>{const{message:t,data:a}=e;if(null!=a&&a.errorsDetails)null==a||a.errorsDetails.forEach(e=>{let t="";var a;b.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED===e.errorCode?t=(null===(a=A.ERROR_MESSAGE_MAP[b.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===a?void 0:a.messageKey)??"":t=A.FIELD_ERROR_MESSAGE_KEY_MAP[e.field]??"";le(e.field,t||e.error)});else{const e=a?A.ERROR_MESSAGE_MAP[null==a?void 0:a.errorCode]:undefined;let n;if((null==a?void 0:a.errorCode)===b.SUBMIT_CLAIM_ERROR_CODES.SUBMISSION_WINDOW_EXPIRED)n=[B];if(null!=e&&e.field)return void le(e.field,e.messageKey,n);let s="";s=t===C.ClaimSubmitToastType.Errored?C.ClaimSubmitToastType.Errored:e?O(e.messageKey,n):t,D((0,y.setShowClaimSubmitToast)(s))}},[D,le,O,B]),ge=(0,n.useCallback)(async()=>{window.open(T.FIND_TRANSACTION_HASH_LINK,"_blank","noopener,noreferrer"),U({source:I.ShieldCtaSourceEnum.Settings,ctaActionClicked:I.ShieldCtaActionClickedEnum.FindingTxHash,redirectToUrl:T.FIND_TRANSACTION_HASH_LINK})},[U]),he=(0,n.useCallback)(async()=>{if(me)return;const e=(e,t)=>{F&&j({subscriptionStatus:F.status,attachmentsCount:(null==te?void 0:te.length)??0,submissionStatus:e,errorMessage:t})};try{V(!0);const t=Number($);e("started"),await(0,_.submitShieldClaim)({chainId:t.toString(),email:z,impactedWalletAddress:Y,impactedTxHash:q,reimbursementWalletAddress:Q,description:J,signature:se,files:te}),e("completed"),D((0,y.setShowClaimSubmitToast)(C.ClaimSubmitToastType.Success)),await L(),P(h.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}catch(t){fe(t);e("failed",t instanceof v.SubmitClaimError?t.message:undefined)}finally{V(!1)}},[me,$,z,Y,q,Q,J,te,D,P,L,se,fe,j,F]);return n.default.createElement(r.Box,{className:"submit-claim-page flex flex-col pt-4 px-4 pb-4","data-testid":"submit-claim-page",gap:4},n.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium},e?O("shieldClaimDetailsViewClaims",[n.default.createElement(r.TextButton,{key:"here-link",className:"min-w-0",asChild:!0},n.default.createElement("a",{href:T.TRANSACTION_SHIELD_SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer"},O("here")))]):O("shieldClaimDetails",[B,n.default.createElement(r.TextButton,{key:"here-link",className:"min-w-0",asChild:!0},n.default.createElement("a",{href:T.TRANSACTION_SHIELD_SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer"},O("shieldClaimViewGuidelines")))])),n.default.createElement(r.Box,null,n.default.createElement(r.Text,{variant:r.TextVariant.HeadingSm,className:"mb-2"},O("shieldClaimPersonalDetails")),n.default.createElement(r.Box,{borderColor:r.BoxBorderColor.BorderMuted,className:"w-full h-[1px] border border-b-0"})),n.default.createElement(p.FormTextField,{label:`${O("shieldClaimEmail")}*`,placeholder:"johncarpenter@sample.com",inputProps:{"data-testid":"shield-claim-email-input"},helpText:re.email?O(re.email.msg,re.email.params):O("shieldClaimEmailHelpText"),helpTextProps:{"data-testid":"shield-claim-help-text",color:m.TextColor.textAlternative},id:"email",name:"email",size:p.FormTextFieldSize.Lg,onChange:e=>G(e.target.value),onBlur:()=>ie(),value:z,error:Boolean(re.email),required:!0,width:m.BlockSize.Full,disabled:e}),n.default.createElement(p.FormTextField,{label:`${O("shieldClaimReimbursementWalletAddress")}*`,placeholder:"e.g. 0x71C...B5f6d",inputProps:{"data-testid":"shield-claim-reimbursement-wallet-address-input"},helpTextProps:{"data-testid":"shield-claim-reimbursement-wallet-address-help-text",color:m.TextColor.textAlternative},helpText:re.reimbursementWalletAddress?O(re.reimbursementWalletAddress.msg,re.reimbursementWalletAddress.params):O("shieldClaimReimbursementWalletAddressHelpText"),id:"reimbursement-wallet-address",name:"reimbursement-wallet-address",size:p.FormTextFieldSize.Lg,onChange:e=>X(e.target.value),onBlur:()=>ue(),value:Q,error:Boolean(re.reimbursementWalletAddress),required:!0,width:m.BlockSize.Full,disabled:e}),n.default.createElement(r.Box,{className:"mt-4"},n.default.createElement(r.Text,{variant:r.TextVariant.HeadingSm,className:"mb-2"},O("shieldClaimIncidentDetails")),n.default.createElement(r.Box,{borderColor:r.BoxBorderColor.BorderMuted,className:"w-full h-[1px] border border-b-0"})),n.default.createElement(x.default,{label:`${O("shieldClaimImpactedWalletAddress")}*`,modalTitle:O("shieldClaimSelectAccount"),impactedWalletAddress:Y,onAccountSelect:e=>{var t;K(e);const a=(null===(t=A.ERROR_MESSAGE_MAP[b.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES])||void 0===t?void 0:t.messageKey)??"";!Q||re.reimbursementWalletAddress&&re.reimbursementWalletAddress.msg!==a||ce(e)},disabled:e}),n.default.createElement(w.default,{label:`${O("shieldClaimNetwork")}*`,modalTitle:O("shieldClaimSelectNetwork"),selectedChainId:$,onNetworkSelect:e=>{H(e)},disabled:e}),n.default.createElement(p.FormTextField,{label:`${O("shieldClaimImpactedTxHash")}*`,placeholder:"e.g. a1084235686add...q46q8wurgw",inputProps:{"data-testid":"shield-claim-impacted-tx-hash-input"},helpText:re.impactedTxHash?n.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.Inherit,"data-testid":"shield-claim-impacted-tx-hash-error"},`${O(null===(t=re.impactedTxHash)||void 0===t?void 0:t.msg,null===(a=re.impactedTxHash)||void 0===a?void 0:a.params)} `,n.default.createElement(r.TextButton,{size:r.TextButtonSize.BodySm,className:"min-w-0",onClick:ge},O("shieldClaimImpactedTxHashHelpTextLink"))):n.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.TextAlternative},`${O("shieldClaimImpactedTxHashHelpText")} `,n.default.createElement(r.TextButton,{size:r.TextButtonSize.BodySm,className:"min-w-0",onClick:ge},O("shieldClaimImpactedTxHashHelpTextLink"))),id:"impacted-tx-hash",name:"impacted-tx-hash",size:p.FormTextFieldSize.Lg,onChange:e=>Z(e.target.value),onBlur:()=>de(),value:q,error:Boolean(re.impactedTxHash),required:!0,width:m.BlockSize.Full,disabled:e}),n.default.createElement(r.Box,{className:"flex flex-col gap-1"},n.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium,className:(0,i.default)({"opacity-50":e})},`${O("shieldClaimDescription")}*`),n.default.createElement(d.Textarea,{id:"description",name:"description","data-testid":"shield-claim-description-textarea",placeholder:O("shieldClaimDescriptionPlaceholder"),onChange:e=>ee(e.target.value),onBlur:()=>pe(),value:J,error:Boolean(re.caseDescription),width:m.BlockSize.Full,rows:4,resize:d.TextareaResize.Vertical,borderRadius:m.BorderRadius.LG,paddingTop:3,paddingBottom:3,maxLength:2e3,disabled:e}),re.caseDescription&&n.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.ErrorDefault,className:"mt-0.5","data-testid":"shield-claim-description-error"},O(re.caseDescription.msg,re.caseDescription.params))),e?n.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Column,gap:1},n.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium},O("shieldClaimFileUploader")),n.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Column,gap:2},ne.map((e,t)=>{var a;return n.default.createElement(r.Box,{asChild:!0,key:e.originalname||t,alignItems:r.BoxAlignItems.Center,flexDirection:r.BoxFlexDirection.Row,backgroundColor:r.BoxBackgroundColor.BackgroundSection,paddingTop:2,paddingBottom:2,paddingLeft:4,paddingRight:4,gap:2,className:"rounded-lg"},n.default.createElement("a",{href:e.publicUrl,target:"_blank",rel:"noopener noreferrer"},n.default.createElement(r.Icon,{name:null!==(a=e.contentType)&&void 0!==a&&a.includes("image")?r.IconName.Image:r.IconName.File,size:r.IconSize.Lg}),n.default.createElement(r.Text,{variant:r.TextVariant.BodySm},e.originalname)))}))):n.default.createElement(S.FileUploader,{id:"upload-images-file-uploader","data-testid":"upload-images-file-uploader",label:O("shieldClaimFileUploader"),onChange:e=>ae(e),accept:["application/pdf","image/png","image/jpeg"].join(","),acceptText:O("shieldClaimFileUploaderAcceptText",[A.MAX_FILE_SIZE_MB]),helpText:O("shieldClaimFileUploaderHelpText"),maxFileSize:A.MAX_FILE_SIZE_BYTES}),!e&&n.default.createElement(r.Box,{className:"settings-page__content-item-col"},n.default.createElement(r.Button,{"data-testid":"shield-claim-submit-button",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,disabled:me||W,onClick:he},O("shieldClaimSubmit"))),W&&n.default.createElement(E.default,null))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/claims-form.tsx"}],[7950,{"../types":7961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.MAX_FILE_SIZE_MB=a.MAX_FILE_SIZE_BYTES=a.FIELD_ERROR_MESSAGE_KEY_MAP=a.ERROR_MESSAGE_MAP=void 0;var n=e("../types");const s=a.MAX_FILE_SIZE_MB=5;a.MAX_FILE_SIZE_BYTES=1024*s*1024,a.ERROR_MESSAGE_MAP={[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_ELIGIBLE]:{messageKey:"shieldClaimImpactedTxHashNotEligible",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[n.SUBMIT_CLAIM_ERROR_CODES.SUBMISSION_WINDOW_EXPIRED]:{messageKey:"shieldClaimSubmissionWindowExpired"},[n.SUBMIT_CLAIM_ERROR_CODES.MAX_CLAIMS_LIMIT_EXCEEDED]:{messageKey:"shieldClaimMaxClaimsLimitExceeded"},[n.SUBMIT_CLAIM_ERROR_CODES.DUPLICATE_CLAIM_EXISTS]:{messageKey:"shieldClaimDuplicateClaimExists"},[n.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES]:{messageKey:"shieldClaimSameWalletAddressesError",field:n.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS},[n.SUBMIT_CLAIM_ERROR_CODES.FILES_SIZE_EXCEEDED]:{messageKey:"shieldClaimFileErrorSizeExceeded"},[n.SUBMIT_CLAIM_ERROR_CODES.FILES_COUNT_EXCEEDED]:{messageKey:"shieldClaimFileErrorCountExceeded"},[n.SUBMIT_CLAIM_ERROR_CODES.INVALID_FILES_TYPE]:{messageKey:"shieldClaimFileErrorInvalidType"},[n.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED]:{messageKey:"shieldClaimInvalidRequired"},[n.SUBMIT_CLAIM_ERROR_CODES.SIGNATURE_COVERAGE_NOT_COVERED]:{messageKey:"shieldClaimSignatureCoverageNotCovered"},[n.SUBMIT_CLAIM_ERROR_CODES.SIGNATURE_VERIFICATION_FAILED]:{messageKey:"shieldClaimWalletOwnershipValidationFailed"},[n.SUBMIT_CLAIM_ERROR_CODES.CHAIN_NOT_SUPPORTED]:{messageKey:"shieldClaimChainNotSupported",field:n.SUBMIT_CLAIM_FIELDS.CHAIN_ID},[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_FOUND]:{messageKey:"shieldClaimTransactionNotFound",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_FROM_WALLET_ADDRESS]:{messageKey:"shieldClaimTransactionNotFromWalletAddress",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_SUCCESSFUL]:{messageKey:"shieldClaimTransactionNotSuccessful",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH}},a.FIELD_ERROR_MESSAGE_KEY_MAP={[n.SUBMIT_CLAIM_FIELDS.CHAIN_ID]:"shieldClaimInvalidChainId",[n.SUBMIT_CLAIM_FIELDS.EMAIL]:"shieldClaimInvalidEmail",[n.SUBMIT_CLAIM_FIELDS.IMPACTED_WALLET_ADDRESS]:"shieldClaimInvalidWalletAddress",[n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH]:"shieldClaimInvalidTxHash",[n.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS]:"shieldClaimInvalidWalletAddress"}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/constants.ts"}],[7951,{"./claims-form":7949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./claims-form"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/index.ts"}],[7952,{"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isValidTransactionHash=function(e){return 66===e.length&&(0,n.isStrictHexString)(e)};var n=e("@metamask/utils")}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/utils.ts"}],[7953,{"../../../../../shared/constants/preferences":5777,"../../../../components/ui/loading-screen":6930,"../../../../components/ui/tabs":6973,"../../../../contexts/claims/claims":6998,"../../../../helpers/constants/routes":7054,"../../../../hooks/useI18nContext":7200,"../../../../hooks/useTheme":7230,"../../../asset/util":7273,"../types":7961,"@metamask/design-system-react":1742,react:5229,"react-compiler-runtime":5128,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("@metamask/design-system-react"),l=e("react-router-dom-v5-compat"),i=(n=e("../../../../components/ui/loading-screen"))&&n.__esModule?n:{default:n},c=e("../../../../hooks/useI18nContext"),u=e("../../../../contexts/claims/claims"),d=e("../../../../helpers/constants/routes"),p=e("../../../../components/ui/tabs"),m=e("../../../asset/util"),f=e("../../../../../shared/constants/preferences"),g=e("../../../../hooks/useTheme"),h=e("../types");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}a.default=()=>{const e=(0,s.c)(42),t=(0,c.useI18nContext)(),a=(0,l.useNavigate)(),n=(0,g.useTheme)(),[_,E]=(0,l.useSearchParams)(),{pendingClaims:y,completedClaims:C,rejectedClaims:T,isLoading:S}=(0,u.useClaims)();let b;e[0]!==_?(b=()=>{const e=_.get("tab");if(e===h.CLAIMS_TAB_KEYS.PENDING||e===h.CLAIMS_TAB_KEYS.HISTORY)return e},e[0]=_,e[1]=b):b=e[1];const[v]=(0,r.useState)(b);let x,w,k;e[2]!==_||e[3]!==E?(x=()=>{_.has("tab")&&(_.delete("tab"),E(_,{replace:!0}))},w=[_,E],e[2]=_,e[3]=E,e[4]=x,e[5]=w):(x=e[4],w=e[5]),(0,r.useEffect)(x,w),e[6]!==a||e[7]!==t?(k=(e,n)=>{const s=(0,m.getShortDateFormatterV2)().format(new Date(e.createdAt));return r.default.createElement(o.Box,{asChild:!0,key:e.id,"data-testid":`claim-item-${e.id}`,backgroundColor:o.BoxBackgroundColor.BackgroundSection,className:"claim-item flex items-center justify-between w-full p-4 rounded-lg",onClick:()=>{const t=n===h.CLAIMS_TAB_KEYS.PENDING?d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_PENDING.FULL:d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_HISTORY.FULL;a(`${t}/${e.id}`)}},r.default.createElement("button",null,r.default.createElement(o.Box,null,r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,textAlign:o.TextAlign.Left},t("shieldClaimsNumber",[e.shortId])),r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,textAlign:o.TextAlign.Left,color:o.TextColor.TextAlternative},s)),r.default.createElement(o.Icon,{name:o.IconName.ArrowRight,size:o.IconSize.Md,color:o.IconColor.IconDefault})))},e[6]=a,e[7]=t,e[8]=k):k=e[8];const M=k;let I;e[9]!==a||e[10]!==t||e[11]!==n?(I=e=>{const s=n===f.ThemeType.dark?"./images/empty-state-activity-dark.png":"./images/empty-state-activity-light.png";return r.default.createElement(o.Box,{className:"h-full flex justify-center items-center"},r.default.createElement(o.Box,{className:"text-center"},r.default.createElement("img",{src:s,alt:t("activity"),className:"mb-2 mx-auto",width:72,height:72}),r.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm,color:o.TextColor.TextAlternative,className:"mb-2"},e===h.CLAIMS_TAB_KEYS.PENDING?t("shieldClaimGroupNoOpenClaims"):t("shieldClaimGroupNoCompletedClaims")),r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,color:o.TextColor.TextAlternative,className:"mb-4"},e===h.CLAIMS_TAB_KEYS.PENDING?t("shieldClaimGroupNoOpenClaimsDescription"):t("shieldClaimGroupNoCompletedClaimsDescription")),e===h.CLAIMS_TAB_KEYS.PENDING&&r.default.createElement(o.Button,{"data-testid":"claims-list-empty-new-claim-button",variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Lg,onClick:()=>{a(d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL)}},t("shieldClaimSubmit"))))},e[9]=a,e[10]=t,e[11]=n,e[12]=I):I=e[12];const N=I;if(S){let t;return e[13]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(i.default,null),e[13]=t):t=e[13],t}let A,R,O,D,P,L,B,F,U;return e[14]===Symbol.for("react.memo_cache_sentinel")?(A={className:"px-4"},R={className:"flex-1 overflow-y-hidden"},e[14]=A,e[15]=R):(A=e[14],R=e[15]),e[16]!==t?(O=t("shieldClaimsTabPending"),e[16]=t,e[17]=O):O=e[17],e[18]!==M||e[19]!==N||e[20]!==a||e[21]!==y||e[22]!==t?(D=y.length>0?r.default.createElement(o.Box,{className:"h-full flex flex-col justify-between"},r.default.createElement(o.Box,{className:"flex-1 overflow-y-auto"},r.default.createElement(o.Box,{padding:4,className:"flex flex-col gap-4"},r.default.createElement(o.Box,null,r.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm,fontWeight:o.FontWeight.Medium,className:"mb-3"},t("shieldClaimGroupActive")),r.default.createElement(o.Box,{className:"flex flex-col gap-2"},y.map(e=>M(e,h.CLAIMS_TAB_KEYS.PENDING)))),r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,color:o.TextColor.TextAlternative},t("shieldClaimGroupActiveNote",[3])))),r.default.createElement(o.Box,{className:"p-4"},r.default.createElement(o.Button,{"data-testid":"claims-list-submit-claim-button",className:"w-full",variant:o.ButtonVariant.Primary,size:o.ButtonSize.Lg,disabled:y.length>=3,onClick:()=>{a(d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL)}},t("shieldClaimSubmit")))):N(h.CLAIMS_TAB_KEYS.PENDING),e[18]=M,e[19]=N,e[20]=a,e[21]=y,e[22]=t,e[23]=D):D=e[23],e[24]!==O||e[25]!==D?(P=r.default.createElement(p.Tab,{name:O,className:"flex-1 px-4 py-2",tabKey:"pending"},D),e[24]=O,e[25]=D,e[26]=P):P=e[26],e[27]!==t?(L=t("shieldClaimsTabHistory"),e[27]=t,e[28]=L):L=e[28],e[29]!==M||e[30]!==C||e[31]!==N||e[32]!==T||e[33]!==t?(B=C.length>0||T.length>0?r.default.createElement(o.Box,{padding:4,className:"flex flex-col gap-4"},C.length>0&&r.default.createElement(o.Box,null,r.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm,fontWeight:o.FontWeight.Medium,className:"mb-3"},t("shieldClaimGroupCompleted")),r.default.createElement(o.Box,{className:"flex flex-col gap-2"},C.map(e=>M(e,h.CLAIMS_TAB_KEYS.HISTORY)))),T.length>0&&r.default.createElement(o.Box,null,r.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm,fontWeight:o.FontWeight.Medium,className:"mb-3"},t("shieldClaimGroupRejected")),r.default.createElement(o.Box,{className:"flex flex-col gap-2"},T.map(e=>M(e,h.CLAIMS_TAB_KEYS.HISTORY))))):N(h.CLAIMS_TAB_KEYS.HISTORY),e[29]=M,e[30]=C,e[31]=N,e[32]=T,e[33]=t,e[34]=B):B=e[34],e[35]!==L||e[36]!==B?(F=r.default.createElement(p.Tab,{name:L,className:"flex-1 px-4 py-2",tabKey:"history"},B),e[35]=L,e[36]=B,e[37]=F):F=e[37],e[38]!==v||e[39]!==F||e[40]!==P?(U=r.default.createElement(p.Tabs,{"data-testid":"claims-list-page",defaultActiveTabKey:v,className:"h-full flex flex-col overflow-y-hidden",tabListProps:A,tabContentProps:R},P,F),e[38]=v,e[39]=F,e[40]=P,e[41]=U):U=e[41],U}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-list/claims-list.tsx"}],[7954,{"./claims-list":7953},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./claims-list"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-list/index.ts"}],[7955,{"./transaction-shield":7960},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./transaction-shield"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/index.ts"}],[7956,{"./network-selector":7957},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./network-selector"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/network-selector/index.ts"}],[7957,{"../../../../../shared/modules/selectors/networks":5908,"../../../../components/component-library":6486,"../../../../components/multichain/network-list-item":6739,"../../../../helpers/constants/design-system":7049,"../../../../selectors/multichain":8044,"../../../../selectors/shield/claims":8054,"@metamask/design-system-react":1742,classnames:4071,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("react-redux"),l=e("@metamask/design-system-react"),i=(n=e("classnames"))&&n.__esModule?n:{default:n},c=e("../../../../components/component-library"),u=e("../../../../../shared/modules/selectors/networks"),d=e("../../../../components/multichain/network-list-item"),p=e("../../../../selectors/multichain"),m=e("../../../../helpers/constants/design-system"),f=e("../../../../selectors/shield/claims");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,s.c)(41),{label:a,modalTitle:n,onNetworkSelect:g,selectedChainId:h,disabled:_}=e,E=_!==undefined&&_,[y,C]=(0,r.useState)(!1),T=(0,o.useSelector)(u.getNetworkConfigurationsByChainId),S=(0,o.useSelector)(f.getSupportedNetworksForClaim);let b;t[0]!==T||t[1]!==S?(b=Object.values(T).filter(e=>S.includes(e.chainId)),t[0]=T,t[1]=S,t[2]=b):b=t[2];const v=b;let x;t[3]!==v||t[4]!==h?(x=v.find(e=>e.chainId===h),t[3]=v,t[4]=h,t[5]=x):x=t[5];const w=x;let k,M,I,N,A,R,O,D,P,L,B,F,U,j,W;return t[6]!==E?(k=(0,i.default)("mb-2",{"opacity-50":E}),t[6]=E,t[7]=k):k=t[7],t[8]!==a||t[9]!==k?(M=r.default.createElement(l.Text,{variant:l.TextVariant.BodyMd,fontWeight:l.FontWeight.Medium,className:k},a),t[8]=a,t[9]=k,t[10]=M):M=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(I=()=>C(!0),t[11]=I):I=t[11],t[12]!==n||t[13]!==w?(N=w?r.default.createElement(r.default.Fragment,null,r.default.createElement(l.AvatarNetwork,{src:(0,p.getImageForChainId)(w.chainId),alt:w.name,size:l.AvatarNetworkSize.Sm}),r.default.createElement(l.Text,null,w.name)):r.default.createElement(l.Text,{color:l.TextColor.TextAlternative},n),t[12]=n,t[13]=w,t[14]=N):N=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(A=r.default.createElement(l.Icon,{className:"ml-auto",size:l.IconSize.Sm,color:l.IconColor.IconDefault,name:l.IconName.ArrowDown}),t[15]=A):A=t[15],t[16]!==E||t[17]!==N?(R=r.default.createElement("button",{"data-testid":"network-selector-button",disabled:E},N,A),t[16]=E,t[17]=N,t[18]=R):R=t[18],t[19]!==n||t[20]!==R?(O=r.default.createElement(l.Box,{asChild:!0,borderColor:l.BoxBorderColor.BorderDefault,className:"w-full flex items-center gap-2 px-4 h-12 border rounded-lg",onClick:I,"aria-label":n},R),t[19]=n,t[20]=R,t[21]=O):O=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(D=()=>C(!1),t[22]=D):D=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(P=r.default.createElement(c.ModalOverlay,null),t[23]=P):P=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(L=()=>C(!1),t[24]=L):L=t[24],t[25]!==n?(B=r.default.createElement(c.ModalHeader,{onClose:L},n),t[25]=n,t[26]=B):B=t[26],t[27]!==v||t[28]!==g||t[29]!==h?(F=r.default.createElement(c.ModalBody,{paddingRight:0,paddingLeft:0},r.default.createElement(l.Box,{className:"flex flex-col w-full"},v.map(e=>{const{name:t,chainId:a}=e;return r.default.createElement(d.NetworkListItem,{key:a,name:t,selected:h===a,onClick:()=>{g(a),C(!1)},iconSrc:(0,p.getImageForChainId)(a),iconSize:l.IconSize.Sm,focus:!1,chainId:a,variant:m.TextVariant.bodyMdMedium})}))),t[27]=v,t[28]=g,t[29]=h,t[30]=F):F=t[30],t[31]!==B||t[32]!==F?(U=r.default.createElement(c.ModalContent,{size:c.ModalContentSize.Sm},B,F),t[31]=B,t[32]=F,t[33]=U):U=t[33],t[34]!==y||t[35]!==U?(j=r.default.createElement(c.Modal,{isOpen:y,isClosedOnEscapeKey:!0,isClosedOnOutsideClick:!0,onClose:D,className:"network-selector-modal","data-testid":"network-selector-modal"},P,U),t[34]=y,t[35]=U,t[36]=j):j=t[36],t[37]!==O||t[38]!==j||t[39]!==M?(W=r.default.createElement(l.Box,null,M,O,j),t[37]=O,t[38]=j,t[39]=M,t[40]=W):W=t[40],W}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/network-selector/network-selector.tsx"}],[7958,{"../../../../shared/lib/shield":5867,"../../../components/ui/tooltip":6985,"../../../hooks/subscription/useSubscriptionPricing":7175,"../../../hooks/useI18nContext":7200,"../../shield-plan/shield-payment-modal":7963,"./types":7961,"@metamask/design-system-react":1742,"@metamask/subscription-controller":2927,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.PaymentMethodRow=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("@metamask/subscription-controller"),l=e("@metamask/design-system-react"),i=e("../../../hooks/useI18nContext"),c=e("../../../hooks/subscription/useSubscriptionPricing"),u=(n=e("../../../components/ui/tooltip"))&&n.__esModule?n:{default:n},d=e("../../shield-plan/shield-payment-modal"),p=e("../../../../shared/lib/shield"),m=e("./types");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function g(e){return e.symbol}function h(e){return e.tokens.map(g)}a.PaymentMethodRow=e=>{const t=(0,s.c)(76),{displayedShieldSubscription:a,subscriptionPricing:n,onPaymentMethodChange:f,showSkeletonLoader:g,isCheckSubscriptionInsufficientFundsDisabled:_,isPaused:E,isUnexpectedErrorCryptoPayment:y,handlePaymentError:C,handlePaymentErrorInsufficientFunds:T}=e,S=(0,i.useI18nContext)(),[b,v]=(0,r.useState)(!1);let x;e:{if(!a){x=!1;break e}let e;t[0]!==a?(e=(0,p.getIsShieldSubscriptionCanChangePaymentMethodToCard)(a),t[0]=a,t[1]=e):e=t[1],x=e}const w=x,k=(null==a?void 0:a.paymentMethod)&&(0,m.isCryptoPaymentMethod)(a.paymentMethod);let M;M=!!a&&(0,p.getIsShieldSubscriptionEndingSoon)(a);const I=M,N=(0,c.useSubscriptionPaymentMethods)(o.PAYMENT_TYPES.byCrypto,n),A=(0,c.useSubscriptionProductPlans)(o.PRODUCT_TYPES.SHIELD,n);let R;e:{if(!a||!A){R=undefined;break e}let e;if(t[2]!==a||t[3]!==A){let n;t[5]!==a?(n=e=>e.interval===a.interval,t[5]=a,t[6]=n):n=t[6],e=A.find(n),t[2]=a,t[3]=A,t[4]=e}else e=t[4];R=e}const O=R,D=null==N?void 0:N.chains;let P;t[7]!==O||t[8]!==D?(P={paymentChains:D,price:O,productType:o.PRODUCT_TYPES.SHIELD},t[7]=O,t[8]=D,t[9]=P):P=t[9];const{availableTokenBalances:L}=(0,c.useAvailableTokenBalances)(P);let B;e:{if(!a||!(0,m.isCryptoPaymentMethod)(a.paymentMethod)){B=L;break e}const e=a.paymentMethod;let n;if(t[10]!==L||t[11]!==e){let a;t[13]!==e?(a=t=>t.symbol!==e.crypto.tokenSymbol||t.chainId.toLowerCase()!==e.crypto.chainId.toLowerCase(),t[13]=e,t[14]=a):a=t[14],n=L.filter(a),t[10]=L,t[11]=e,t[12]=n}else n=t[12];B=n}const F=B,U=F.length>0,j=a&&(0,m.isCryptoPaymentMethod)(a.paymentMethod)&&a.paymentMethod.crypto.error===o.CRYPTO_PAYMENT_METHOD_ERRORS.INSUFFICIENT_BALANCE;let W,V;if(null==N||N.chains,t[15]!==(null==N?void 0:N.chains)){const e=(null==N?void 0:N.chains)??[];W=new Set(e.flatMap(h)),t[15]=null==N?void 0:N.chains,t[16]=W}else W=t[16];t[17]!==W?(V=[...W],t[17]=W,t[18]=V):V=t[18];const $=V;let H;H=a?a.paymentMethod.type:o.PAYMENT_TYPES.byCard;const z=H;let G;e:if(a){if((0,m.isCryptoPaymentMethod)(a.paymentMethod)){const e=a.paymentMethod.crypto;let n;if(t[19]!==F||t[20]!==e){let a;t[22]!==e?(a=t=>t.symbol===e.tokenSymbol&&t.chainId===e.chainId,t[22]=e,t[23]=a):a=t[23],n=F.find(a),t[19]=F,t[20]=e,t[21]=n}else n=t[21];G=n||F[0];break e}G=F[0]}else G=F[0];const Y=G;let K;t[24]===Symbol.for("react.memo_cache_sentinel")?(K=()=>{v(!1)},t[24]=K):K=t[24];const q=K;let Z;t[25]!==f?(Z=e=>{e===o.PAYMENT_TYPES.byCard&&f(e)},t[25]=f,t[26]=Z):Z=t[26];const Q=Z;let X;t[27]!==f?(X=e=>{f(o.PAYMENT_TYPES.byCrypto,e),v(!1)},t[27]=f,t[28]=X):X=t[28];const J=X;let ee;e:{if(!a){ee="";break e}if(E&&!y){let e,n,s,o,i=!1,c=C;k?(e="shieldTxMembershipErrorPausedCryptoTooltip",n="shieldTxMembershipErrorInsufficientToken",j&&(c=T,_&&(i=!0))):(e="shieldTxMembershipErrorPausedCardTooltip",n="shieldTxMembershipErrorUpdateCard"),t[29]!==S||t[30]!==e?(s=S(e),t[29]=S,t[30]=e,t[31]=s):s=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(o={size:l.IconSize.Md},t[32]=o):o=t[32];const d=c,p=i;let f,g,h,E;t[33]!==a?(f=(0,m.isCryptoPaymentMethod)(null==a?void 0:a.paymentMethod)?a.paymentMethod.crypto.tokenSymbol:"",t[33]=a,t[34]=f):f=t[34],t[35]!==n||t[36]!==S||t[37]!==f?(g=S(n,[f]),t[35]=n,t[36]=S,t[37]=f,t[38]=g):g=t[38],t[39]!==i||t[40]!==c||t[41]!==g?(h=r.default.createElement(l.TextButton,{className:"text-error-default decoration-error-default hover:decoration-error-default hover:text-error-default",startIconName:l.IconName.Danger,startIconProps:o,onClick:d,disabled:p},g),t[39]=i,t[40]=c,t[41]=g,t[42]=h):h=t[42],t[43]!==s||t[44]!==h?(E=r.default.createElement(u.default,{position:"top",title:s},h),t[43]=s,t[44]=h,t[45]=E):E=t[45],ee=E;break e}if(I&&a){let e,n,s;t[46]===Symbol.for("react.memo_cache_sentinel")?(e={size:l.IconSize.Md},t[46]=e):e=t[46],t[47]!==a.paymentMethod?(n=(0,m.isCryptoPaymentMethod)(a.paymentMethod)?a.paymentMethod.crypto.tokenSymbol:"",t[47]=a.paymentMethod,t[48]=n):n=t[48],t[49]!==C||t[50]!==n?(s=r.default.createElement(l.TextButton,{className:"text-warning-default decoration-warning-default hover:decoration-warning-default hover:text-warning-default",startIconName:l.IconName.Danger,startIconProps:e,onClick:C},n),t[49]=C,t[50]=n,t[51]=s):s=t[51],ee=s;break e}if((0,m.isCryptoPaymentMethod)(a.paymentMethod)){let e;t[52]===Symbol.for("react.memo_cache_sentinel")?(e=()=>v(!0),t[52]=e):e=t[52];const n=a.status===o.SUBSCRIPTION_STATUSES.canceled||a.status===o.SUBSCRIPTION_STATUSES.provisional;let s;t[53]!==a.paymentMethod.crypto.tokenSymbol||t[54]!==n?(s=r.default.createElement(l.TextButton,{className:"text-default decoration-text-default hover:decoration-text-default hover:text-default",onClick:e,endIconName:l.IconName.ArrowRight,disabled:n},a.paymentMethod.crypto.tokenSymbol),t[53]=a.paymentMethod.crypto.tokenSymbol,t[54]=n,t[55]=s):s=t[55],ee=s;break e}let e;t[56]!==a.paymentMethod.card.brand?(e=a.paymentMethod.card.brand.charAt(0).toUpperCase(),t[56]=a.paymentMethod.card.brand,t[57]=e):e=t[57],ee=`${e+a.paymentMethod.card.brand.slice(1)} - ${a.paymentMethod.card.last4}`}const te=ee;if(g){let e;return t[58]===Symbol.for("react.memo_cache_sentinel")?(e=r.default.createElement(l.Text,{variant:l.TextVariant.BodyMd,fontWeight:l.FontWeight.Medium},"-"),t[58]=e):e=t[58],e}if(E&&!y||I){let e;return t[59]!==te?(e=r.default.createElement(r.default.Fragment,null,te),t[59]=te,t[60]=e):e=t[60],e}let ae;t[61]!==te?(ae=r.default.createElement(l.Box,null,te),t[61]=te,t[62]=ae):ae=t[62];const ne=!w;let se,re;return t[63]!==F||t[64]!==Q||t[65]!==J||t[66]!==U||t[67]!==z||t[68]!==Y||t[69]!==b||t[70]!==ne||t[71]!==$?(se=r.default.createElement(d.ShieldPaymentModal,{disableCardOption:ne,isOpen:b,onClose:q,selectedPaymentMethod:z,setSelectedPaymentMethod:Q,availableTokenBalances:F,selectedToken:Y,onAssetChange:J,hasStableTokenWithBalance:U,tokensSupported:$}),t[63]=F,t[64]=Q,t[65]=J,t[66]=U,t[67]=z,t[68]=Y,t[69]=b,t[70]=ne,t[71]=$,t[72]=se):se=t[72],t[73]!==ae||t[74]!==se?(re=r.default.createElement(r.default.Fragment,null,ae,se),t[73]=ae,t[74]=se,t[75]=re):re=t[75],re}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/payment-method-row.tsx"}],[7959,{"../../../contexts/rive-wasm":7007,"@metamask/design-system-react":1742,"@rive-app/react-canvas":3148,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@rive-app/react-canvas"),o=e("@metamask/design-system-react"),l=e("../../../contexts/rive-wasm");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,n.c)(25),{containerClassName:a,canvasClassName:i,isInactive:d}=e,p=d!==undefined&&d,m=Boolean(!1),f=(0,l.useRiveWasmContext)(),{isWasmReady:g,error:h}=f,{buffer:_,error:E,loading:y}=(0,l.useRiveWasmFile)("./images/riv_animations/shield_banner.riv");let C,T,S;t[0]!==E||t[1]!==h?(C=()=>{h&&console.error("[Rive] Failed to load WASM:",h),E&&console.error("[Rive] Failed to load buffer:",E)},T=[h,E],t[0]=E,t[1]=h,t[2]=C,t[3]=T):(C=t[2],T=t[3]),(0,s.useEffect)(C,T),t[4]!==_?(S={buffer:_},t[4]=_,t[5]=S):S=t[5];const{riveFile:b,status:v}=(0,r.useRiveFile)(S),x=b??undefined,w=b?"shield_banner_illustration":undefined;let k,M;t[6]===Symbol.for("react.memo_cache_sentinel")?(k=new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center}),t[6]=k):k=t[6],t[7]!==x||t[8]!==w?(M={riveFile:x,stateMachines:w,autoplay:!1,layout:k},t[7]=x,t[8]=w,t[9]=M):M=t[9];const{rive:I,RiveComponent:N}=(0,r.useRive)(M);let A,R,O,D;if(t[10]!==_||t[11]!==y||t[12]!==p||t[13]!==g||t[14]!==I?(R=()=>{if(I&&g&&!y&&_){const e=I.stateMachineInputs("shield_banner_illustration");if(e){const t=e.find(c);t&&(t.value=p);const a=e.find(u);a&&a.fire(),I.play()}}},A=[I,g,y,_,p],t[10]=_,t[11]=y,t[12]=p,t[13]=g,t[14]=I,t[15]=A,t[16]=R):(A=t[15],R=t[16]),(0,s.useEffect)(R,A),!g||y||!_||"loading"===v||m||"failed"===v){let e;return t[17]!==a?(e=s.default.createElement(o.Box,{className:a}),t[17]=a,t[18]=e):e=t[18],e}return t[19]!==N||t[20]!==i?(O=s.default.createElement(N,{className:i}),t[19]=N,t[20]=i,t[21]=O):O=t[21],t[22]!==a||t[23]!==O?(D=s.default.createElement(o.Box,{className:a},O),t[22]=a,t[23]=O,t[24]=D):D=t[24],D};function c(e){return"Dark"===e.name}function u(e){return"Start"===e.name}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/shield-banner-animation.tsx"}],[7960,{"../../../../shared/constants/preferences":5777,"../../../../shared/constants/subscriptions":5787,"../../../../shared/constants/time":5790,"../../../../shared/lib/shield":5867,"../../../components/app/api-error-handler":5946,"../../../components/app/confirm/info/row":6033,"../../../components/app/modals/add-funds-modal/add-funds-modal":6101,"../../../components/app/rewards/onboarding/OnboardingModal":6215,"../../../components/component-library":6486,"../../../components/component-library/skeleton":6532,"../../../components/ui/loading-screen":6930,"../../../ducks/locale/locale":7032,"../../../ducks/rewards":7037,"../../../helpers/constants/common":7047,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../hooks/shield/metrics/useSubscriptionMetrics":7161,"../../../hooks/subscription/useHandlePayment":7173,"../../../hooks/subscription/useSubscription":7174,"../../../hooks/subscription/useSubscriptionPricing":7175,"../../../hooks/useFormatters":7196,"../../../hooks/useI18nContext":7200,"../../../hooks/useTheme":7230,"../../../hooks/useTimeout":7232,"../../../store/actions":8065,"../../asset/util":7273,"../../shield-plan/utils":7966,"./cancel-membership-modal":7945,"./payment-method-row":7958,"./shield-banner-animation":7959,"./types":7961,"@metamask/design-system-react":1742,"@metamask/subscription-controller":2927,classnames:4071,loglevel:4802,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=$(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=V(e("classnames")),o=e("@metamask/subscription-controller"),l=e("react-router-dom-v5-compat"),i=e("@metamask/design-system-react"),c=e("react-redux"),u=V(e("loglevel")),d=e("../../../components/component-library"),p=e("../../../helpers/constants/design-system"),m=e("../../../components/component-library/skeleton"),f=e("../../../hooks/useI18nContext"),g=e("../../../hooks/subscription/useSubscription"),h=e("../../asset/util"),_=e("../../../helpers/constants/routes"),E=e("../../../helpers/constants/common"),y=e("../../shield-plan/utils"),C=e("../../../hooks/useFormatters"),T=V(e("../../../components/ui/loading-screen")),S=V(e("../../../components/app/modals/add-funds-modal/add-funds-modal")),b=e("../../../hooks/subscription/useSubscriptionPricing"),v=e("../../../components/app/confirm/info/row"),x=V(e("../../../components/app/rewards/onboarding/OnboardingModal")),w=e("../../../../shared/lib/shield"),k=e("../../../hooks/useTimeout"),M=e("../../../../shared/constants/time"),I=e("../../../hooks/shield/metrics/useSubscriptionMetrics"),N=e("../../../../shared/constants/subscriptions"),A=e("../../../../shared/constants/preferences"),R=e("../../../hooks/useTheme"),O=V(e("../../../components/app/api-error-handler")),D=e("../../../hooks/subscription/useHandlePayment"),P=e("../../../ducks/rewards"),L=e("../../../ducks/locale/locale"),B=e("../../../store/actions"),F=V(e("./cancel-membership-modal")),U=e("./types"),j=V(e("./shield-banner-animation")),W=e("./payment-method-row");function V(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return($=function(e){return e?a:t})(e)}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},H.apply(null,arguments)}a.default=()=>{const e=(0,n.c)(220),t=(0,f.useI18nContext)(),a=(0,c.useSelector)(L.getIntlLocale),V=(0,c.useDispatch)(),$=(0,l.useNavigate)(),{search:G}=(0,l.useLocation)(),{captureShieldCtaClickedEvent:Y}=(0,I.useSubscriptionMetrics)();let K;if(e[0]!==G){K=new URLSearchParams(G).get("waitForSubscriptionCreation"),e[0]=G,e[1]=K}else K=e[1];const q="true"===K,{formatCurrency:Z}=(0,C.useFormatters)(),Q=(0,R.useTheme)(),X=Q===A.ThemeType.light,J=!q;let ee;e[2]!==J?(ee={refetch:J},e[2]=J,e[3]=ee):ee=e[3];const{customerId:te,subscriptions:ae,lastSubscription:ne,loading:se,error:re}=(0,g.useUserSubscriptions)(ee),oe=(0,g.useUserSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,ae),le=(0,g.useUserLastSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,ne),ie=oe??le,[ce,ue]=(0,s.useState)(!1);let de,pe,me,fe,ge;e[4]===Symbol.for("react.memo_cache_sentinel")?(de=()=>()=>{ue(!0)},pe=[],e[4]=de,e[5]=pe):(de=e[4],pe=e[5]),(0,s.useEffect)(de,pe),e[6]!==oe?(me=()=>{oe&&ue(!0)},fe=[oe],e[6]=oe,e[7]=me,e[8]=fe):(me=e[7],fe=e[8]),(0,s.useEffect)(me,fe),e[9]!==$||e[10]!==ce?(ge=()=>{ce||$(_.DEFAULT_ROUTE)},e[9]=$,e[10]=ce,e[11]=ge):ge=e[11];const he=(0,k.useTimeout)(ge,M.MINUTE,!1);let _e,Ee,ye;e[12]!==q||e[13]!==he?(_e=()=>{q&&(null==he||he())},Ee=[q,he],e[12]=q,e[13]=he,e[14]=_e,e[15]=Ee):(_e=e[14],Ee=e[15]),(0,s.useEffect)(_e,Ee),e[16]===Symbol.for("react.memo_cache_sentinel")?(ye={refetch:!0},e[16]=ye):ye=e[16];const{subscriptionPricing:Ce,loading:Te,error:Se}=(0,b.useSubscriptionPricing)(ye),be=(null==ie?void 0:ie.status)===o.SUBSCRIPTION_STATUSES.canceled;let ve;e[17]!==ae?(ve=(0,w.getIsShieldSubscriptionPaused)(ae),e[17]=ae,e[18]=ve):ve=e[18];const xe=ve;let we;e[19]!==ae?(we=(0,w.getIsShieldSubscriptionTrialing)(ae),e[19]=ae,e[20]=we):we=e[20];const ke=we,Me=be||xe,Ie=(0,w.getIsShieldSubscriptionEndingSoon)(ae),Ne=!(be||null!=oe&&oe.cancelAtPeriodEnd);let Ae;e[21]!==(null==ie?void 0:ie.paymentMethod)?(Ae=(null==ie?void 0:ie.paymentMethod)&&(0,U.isCryptoPaymentMethod)(null==ie?void 0:ie.paymentMethod),e[21]=null==ie?void 0:ie.paymentMethod,e[22]=Ae):Ae=e[22];const Re=Ae;let Oe;e[23]!==(null==ie?void 0:ie.products)?(Oe=null==ie?void 0:ie.products.find(z),e[23]=null==ie?void 0:ie.products,e[24]=Oe):Oe=e[24];const De=Oe,[Pe,Le]=(0,g.useCancelSubscription)(oe),[Be,Fe]=(0,g.useUnCancelSubscription)(oe),[Ue,je]=(0,g.useOpenGetSubscriptionBillingPortal)(ie),{pointsMonthly:We,pointsYearly:Ve,isRewardsSeason:$e,hasAccountOptedIn:He,pending:ze}=(0,g.useShieldRewards)(),Ge=q&&!oe||se||Te||ze;let Ye,Ke;e[25]!==ie||e[26]!==$||e[27]!==q?(Ye=()=>{q||ie||$({pathname:_.SHIELD_PLAN_ROUTE,search:`?source=${N.EntryModalSourceEnum.Settings}`})},Ke=[q,$,ie],e[25]=ie,e[26]=$,e[27]=q,e[28]=Ye,e[29]=Ke):(Ye=e[28],Ke=e[29]),(0,s.useEffect)(Ye,Ke);const[qe,Ze]=(0,s.useState)(!1),[Qe,Xe]=(0,s.useState)(!1);let Je;e[30]!==V?(Je=()=>{V((0,P.setOnboardingModalOpen)(!0))},e[30]=V,e[31]=Je):Je=e[31];const et=Je;null==ie||ie.interval;const tt=(null==ie?void 0:ie.interval)===o.RECURRING_INTERVALS.year?Ve:We;let at;e:{if(!tt||!$e){at="";break e}let t;e[32]!==tt||e[33]!==a?(t=new Intl.NumberFormat(a).format(tt),e[32]=tt,e[33]=a,e[34]=t):t=e[34],at=t}const nt=at;let st,rt,ot,lt,it,ct,ut;e[35]!==t?(st=t("shieldTxDetails1Title"),e[35]=t,e[36]=st):st=e[36],e[37]!==t?(rt=t("shieldTxDetails1Description"),e[37]=t,e[38]=rt):rt=e[38],e[39]!==st||e[40]!==rt?(ot={icon:i.IconName.Cash,title:st,description:rt},e[39]=st,e[40]=rt,e[41]=ot):ot=e[41],e[42]!==t?(lt=t("shieldTxDetails2Title"),e[42]=t,e[43]=lt):lt=e[43],e[44]!==t?(it=t("shieldTxDetails2Description"),e[44]=t,e[45]=it):it=e[45],e[46]!==lt||e[47]!==it?(ct={icon:i.IconName.Sms,title:lt,description:it},e[46]=lt,e[47]=it,e[48]=ct):ct=e[48],e[49]!==ot||e[50]!==ct?(ut=[ot,ct],e[49]=ot,e[50]=ct,e[51]=ut):ut=e[51];const dt=ut;let pt;e[52]===Symbol.for("react.memo_cache_sentinel")?(pt={display:p.Display.Flex,backgroundColor:p.BackgroundColor.backgroundSection,padding:4},e[52]=pt):pt=e[52];const mt=pt;let ft;e[53]!==V?(ft=async(e,t)=>{try{await V((0,B.linkRewardToShieldSubscription)(e,t))}catch(e){const t=e;u.default.warn("Failed to link reward to shield subscription",t)}},e[53]=V,e[54]=ft):ft=e[54];const gt=ft;let ht;e[55]!==Ge?(ht=(e,t,a)=>s.default.createElement(d.Box,H({as:"button","data-testid":a,className:"transaction-shield-page__row"},mt,{justifyContent:p.JustifyContent.spaceBetween,alignItems:p.AlignItems.center,width:p.BlockSize.Full,onClick:t}),Ge?s.default.createElement(m.Skeleton,{width:"50%",height:20}):s.default.createElement(d.Text,{variant:p.TextVariant.bodyMdMedium},e),Ge?s.default.createElement(m.Skeleton,{width:24,height:24,borderRadius:p.BorderRadius.full}):s.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Lg,color:i.IconColor.IconAlternative})),e[55]=Ge,e[56]=ht):ht=e[56];const _t=ht;let Et;e[57]!==Ge?(Et=(e,t,a)=>s.default.createElement(d.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center,gap:2,justifyContent:p.JustifyContent.spaceBetween,"data-testid":a},Ge?s.default.createElement(m.Skeleton,{width:"40%",height:24}):s.default.createElement(d.Text,{variant:p.TextVariant.bodyMdMedium,color:p.TextColor.textAlternative},e),Ge?s.default.createElement(m.Skeleton,{width:"30%",height:24}):s.default.createElement(d.Text,{variant:p.TextVariant.bodyMdMedium,className:"flex-shrink-0"},t)),e[57]=Ge,e[58]=Et):Et=e[58];const yt=Et,Ct=oe&&(0,U.isCardPaymentMethod)(oe.paymentMethod),Tt=be??!1;let St,bt;e[59]===Symbol.for("react.memo_cache_sentinel")?(St=()=>Xe(!0),e[59]=St):St=e[59],e[60]!==oe||e[61]!==ie||e[62]!==Ce||e[63]!==ae||e[64]!==Tt?(bt={currentShieldSubscription:oe,displayedShieldSubscription:ie,subscriptions:ae,isCancelled:Tt,subscriptionPricing:Ce,onOpenAddFundsModal:St},e[60]=oe,e[61]=ie,e[62]=Ce,e[63]=ae,e[64]=Tt,e[65]=bt):bt=e[65];const{handlePaymentError:vt,handlePaymentErrorInsufficientFunds:xt,handlePaymentMethodChange:wt,isUnexpectedErrorCryptoPayment:kt,hasAvailableSelectedTokenToTriggerCheckInsufficientFunds:Mt,resultTriggerSubscriptionCheckInsufficientFunds:It,updateSubscriptionCardPaymentMethodResult:Nt,updateSubscriptionCryptoPaymentMethodResult:At,currentToken:Rt}=(0,D.useHandlePayment)(bt),Ot=re||Se||Le.error||Fe.error||je.error||Nt.error||At.error||It.error,Dt=Le.pending||Fe.pending||je.pending||Nt.pending||At.pending||It.pending;let Pt;e:{if(xe){let a,n,r,o="shieldTxMembershipErrorPausedUnexpected",l="shieldTxMembershipErrorPausedUnexpectedAction";Re?(o="shieldTxMembershipErrorPausedCryptoInsufficientFunds",l="shieldTxMembershipErrorPausedCryptoInsufficientFundsAction"):Ct&&(o="shieldTxMembershipErrorPausedCard",l="shieldTxMembershipErrorPausedCardAction"),e[66]!==o||e[67]!==t?(a=t(o,[24]),e[66]=o,e[67]=t,e[68]=a):a=e[68],e[69]!==l||e[70]!==t?(n=t(l),e[69]=l,e[70]=t,e[71]=n):n=e[71],e[72]!==vt||e[73]!==a||e[74]!==n?(r=s.default.createElement(d.BannerAlert,{description:a,severity:d.BannerAlertSeverity.Danger,marginBottom:4,actionButtonLabel:n,actionButtonOnClick:vt}),e[72]=vt,e[73]=a,e[74]=n,e[75]=r):r=e[75],Pt=r;break e}if(oe&&Ie){let a,n,r;e[76]!==oe.currentPeriodEnd||e[77]!==t?(a=t("shieldTxMembershipErrorInsufficientFunds",[(0,h.getShortDateFormatterV2)().format(new Date(oe.currentPeriodEnd))]),e[76]=oe.currentPeriodEnd,e[77]=t,e[78]=a):a=e[78],e[79]!==t?(n=t("shieldTxMembershipRenew"),e[79]=t,e[80]=n):n=e[80],e[81]!==vt||e[82]!==a||e[83]!==n?(r=s.default.createElement(d.BannerAlert,{description:a,severity:d.BannerAlertSeverity.Warning,marginBottom:4,actionButtonLabel:n,actionButtonOnClick:vt}),e[81]=vt,e[82]=a,e[83]=n,e[84]=r):r=e[84],Pt=r;break e}Pt=null}const Lt=Pt;let Bt;e[85]!==Y?(Bt=()=>{window.open(E.TRANSACTION_SHIELD_LINK,"_blank","noopener noreferrer"),Y({source:N.ShieldCtaSourceEnum.Settings,ctaActionClicked:N.ShieldCtaActionClickedEnum.ViewFullBenefits,redirectToUrl:E.TRANSACTION_SHIELD_LINK})},e[85]=Y,e[86]=Bt):Bt=e[86];const Ft=Bt;if(!Dt&&Ot){let t;return e[87]!==Ot?(t=s.default.createElement(d.Box,{className:"transaction-shield-page","data-testid":"transaction-shield-page",width:p.BlockSize.Full,padding:4},s.default.createElement(O.default,{className:"transaction-shield-page__error-content mx-auto",error:Ot,location:N.ShieldUnexpectedErrorEventLocationEnum.TransactionShieldTab})),e[87]=Ot,e[88]=t):t=e[88],t}let Ut;e[89]!==oe||e[90]!==t?(Ut=(null==oe?void 0:oe.cancelAtPeriodEnd)&&s.default.createElement(d.Box,{className:"transaction-shield-page__notification-banner",backgroundColor:p.BackgroundColor.warningMuted,paddingTop:1,paddingBottom:1,paddingInline:4,display:p.Display.Flex,alignItems:p.AlignItems.center,gap:2,marginBottom:4},s.default.createElement(i.Icon,{name:i.IconName.Info,size:i.IconSize.Lg}),s.default.createElement(d.Text,{variant:p.TextVariant.bodySm},t("shieldTxMembershipCancelNotification",[(0,h.getShortDateFormatterV2)().format(new Date(oe.currentPeriodEnd))]))),e[89]=oe,e[90]=t,e[91]=Ut):Ut=e[91];const jt=Me?Q:A.ThemeType.dark,Wt=Me&&!Ge,Vt=!Me&&!Ge,$t=X&&Me&&!Ge;let Ht;e[92]!==Ge||e[93]!==Wt||e[94]!==Vt||e[95]!==$t?(Ht=(0,r.default)("transaction-shield-page__row transaction-shield-page__membership",{"transaction-shield-page__membership--loading":Ge,"transaction-shield-page__membership--inactive":Wt,"transaction-shield-page__membership--active":Vt,"transaction-shield-page__membership--inactive-light":$t}),e[92]=Ge,e[93]=Wt,e[94]=Vt,e[95]=$t,e[96]=Ht):Ht=e[96];const zt=Ge?2:0;let Gt,Yt,Kt,qt,Zt,Qt,Xt,Jt,ea,ta,aa,na,sa,ra,oa,la,ia,ca,ua,da,pa,ma;e[97]!==Me||e[98]!==xe||e[99]!==ke||e[100]!==Ge||e[101]!==t?(Gt=Ge?s.default.createElement(m.Skeleton,{width:"60%",height:20}):s.default.createElement(d.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center,gap:3},s.default.createElement(d.Text,{variant:p.TextVariant.bodyMdBold,className:"transaction-shield-page__membership-text","data-testid":"shield-detail-membership-status"},t(Me?"shieldTxMembershipInactive":"shieldTxMembershipActive")),ke&&s.default.createElement(d.Tag,{label:t("shieldTxMembershipFreeTrial"),labelProps:{variant:p.TextVariant.bodySmMedium,color:p.TextColor.successDefault},borderStyle:p.BorderStyle.none,borderRadius:p.BorderRadius.SM,backgroundColor:p.BackgroundColor.successMuted,"data-testid":"shield-detail-trial-tag"}),xe&&s.default.createElement(d.Tag,{label:t("shieldTxMembershipPaused"),labelProps:{variant:p.TextVariant.bodySmMedium,color:p.TextColor.textAlternative},borderStyle:p.BorderStyle.none,borderRadius:p.BorderRadius.SM,backgroundColor:p.BackgroundColor.backgroundMuted,"data-testid":"shield-detail-paused-tag"})),e[97]=Me,e[98]=xe,e[99]=ke,e[100]=Ge,e[101]=t,e[102]=Gt):Gt=e[102],e[103]!==te||e[104]!==Ge||e[105]!==t?(Yt=Ge?s.default.createElement(m.Skeleton,{width:"60%",height:16}):s.default.createElement(d.Text,{variant:p.TextVariant.bodyXs,className:"transaction-shield-page__membership-text","data-testid":"shield-detail-customer-id"},t("shieldTxMembershipId"),": ",te),e[103]=te,e[104]=Ge,e[105]=t,e[106]=Yt):Yt=e[106],e[107]!==zt||e[108]!==Gt||e[109]!==Yt?(Kt=s.default.createElement(d.Box,{width:p.BlockSize.Full,gap:zt,display:p.Display.Flex,flexDirection:p.FlexDirection.Column},Gt,Yt),e[107]=zt,e[108]=Gt,e[109]=Yt,e[110]=Kt):Kt=e[110],e[111]!==Me||e[112]!==Ge?(qt=!Ge&&s.default.createElement(j.default,{containerClassName:"transaction-shield-page-shield-banner__container",canvasClassName:"transaction-shield-page-shield-banner__canvas",isInactive:Me}),e[111]=Me,e[112]=Ge,e[113]=qt):qt=e[113],e[114]!==jt||e[115]!==Ht||e[116]!==Kt||e[117]!==qt?(Zt=s.default.createElement(d.Box,H({"data-theme":jt,className:Ht},mt,{alignItems:p.AlignItems.center,justifyContent:p.JustifyContent.spaceBetween,paddingRight:2}),Kt,qt),e[114]=jt,e[115]=Ht,e[116]=Kt,e[117]=qt,e[118]=Zt):Zt=e[118],e[119]!==dt||e[120]!==Ge?(Qt=dt.map((e,t)=>s.default.createElement(d.Box,{key:t,display:p.Display.Flex,alignItems:p.AlignItems.center,gap:2,paddingTop:2,paddingBottom:2},Ge?s.default.createElement(m.Skeleton,{width:32,height:32,borderRadius:p.BorderRadius.full,style:{flexShrink:0}}):s.default.createElement(i.Icon,{name:e.icon,size:i.IconSize.Xl}),s.default.createElement(d.Box,{width:p.BlockSize.Full,display:p.Display.Flex,flexDirection:p.FlexDirection.Column,gap:Ge?2:0},Ge?s.default.createElement(m.Skeleton,{width:"100%",height:18}):s.default.createElement(d.Text,{variant:p.TextVariant.bodySmBold},e.title),Ge?s.default.createElement(m.Skeleton,{width:"100%",height:18}):s.default.createElement(d.Text,{variant:p.TextVariant.bodySm,color:p.TextColor.textAlternative},e.description)))),e[119]=dt,e[120]=Ge,e[121]=Qt):Qt=e[121],e[122]!==tt||e[123]!==(null==ie?void 0:ie.id)||e[124]!==(null==ie?void 0:ie.interval)||e[125]!==(null==ie?void 0:ie.rewardAccountId)||e[126]!==nt||e[127]!==gt||e[128]!==He||e[129]!==et||e[130]!==Ge||e[131]!==t?(Xt=nt&&!Ge&&s.default.createElement(d.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center,gap:2,paddingTop:2,paddingBottom:2},s.default.createElement(i.Icon,{name:i.IconName.MetamaskFoxOutline,size:i.IconSize.Xl}),s.default.createElement(d.Box,{width:p.BlockSize.Full,display:p.Display.Flex,flexDirection:p.FlexDirection.Column},s.default.createElement(d.Text,{variant:p.TextVariant.bodySmBold},t("shieldTxDetails3Title")),s.default.createElement(d.Text,{variant:p.TextVariant.bodySm,color:p.TextColor.textAlternative},t("shieldTxDetails3Description",[nt,(null==ie?void 0:ie.interval)===o.RECURRING_INTERVALS.year?t("year"):t("month")]))),!He&&s.default.createElement(d.Box,{className:"flex-shrink-0"},s.default.createElement(i.Button,{className:"px-3",variant:i.ButtonVariant.Secondary,size:i.ButtonSize.Sm,onClick:()=>{et()}},t("shieldTxDetails3DescriptionSignUp"))),He&&(null==ie?void 0:ie.id)&&tt&&!(null!=ie&&ie.rewardAccountId)&&s.default.createElement(d.Box,{className:"flex-shrink-0"},s.default.createElement(i.Button,{className:"px-3",variant:i.ButtonVariant.Secondary,size:i.ButtonSize.Sm,onClick:async()=>gt(null==ie?void 0:ie.id,tt)},t("shieldTxDetails3DescriptionLinkReward")))),e[122]=tt,e[123]=null==ie?void 0:ie.id,e[124]=null==ie?void 0:ie.interval,e[125]=null==ie?void 0:ie.rewardAccountId,e[126]=nt,e[127]=gt,e[128]=He,e[129]=et,e[130]=Ge,e[131]=t,e[132]=Xt):Xt=e[132],e[133]!==Qt||e[134]!==Xt?(Jt=s.default.createElement(d.Box,H({className:"transaction-shield-page__row"},mt,{flexDirection:p.FlexDirection.Column,paddingTop:2,paddingBottom:2}),Qt,Xt),e[133]=Qt,e[134]=Xt,e[135]=Jt):Jt=e[135],e[136]!==_t||e[137]!==Ft||e[138]!==t?(ea=_t(t("shieldTxMembershipViewFullBenefits"),Ft,"shield-detail-view-benefits-button"),e[136]=_t,e[137]=Ft,e[138]=t,e[139]=ea):ea=e[139],e[140]!==_t||e[141]!==(null==ie?void 0:ie.isEligibleForSupport)||e[142]!==$||e[143]!==t?(ta=(null==ie?void 0:ie.isEligibleForSupport)&&_t(t("shieldTxMembershipSubmitCase"),()=>{$(_.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)},"shield-detail-submit-case-button"),e[140]=_t,e[141]=null==ie?void 0:ie.isEligibleForSupport,e[142]=$,e[143]=t,e[144]=ta):ta=e[144],e[145]!==_t||e[146]!==(null==oe?void 0:oe.cancelAtPeriodEnd)||e[147]!==Be||e[148]!==Me||e[149]!==t?(aa=!Me&&(null==oe?void 0:oe.cancelAtPeriodEnd)&&_t(t("shieldTxMembershipResubscribe"),()=>{Be()},"shield-tx-membership-uncancel-button"),e[145]=_t,e[146]=null==oe?void 0:oe.cancelAtPeriodEnd,e[147]=Be,e[148]=Me,e[149]=t,e[150]=aa):aa=e[150],e[151]!==_t||e[152]!==Ne||e[153]!==t?(na=Ne&&_t(t("shieldTxMembershipCancel"),()=>{Ze(!0)},"shield-tx-membership-cancel-button"),e[151]=_t,e[152]=Ne,e[153]=t,e[154]=na):na=e[154],e[155]!==_t||e[156]!==vt||e[157]!==be||e[158]!==t?(sa=be&&_t(t("shieldTxMembershipRenew"),vt,"shield-detail-renew-button"),e[155]=_t,e[156]=vt,e[157]=be,e[158]=t,e[159]=sa):sa=e[159],e[160]!==Zt||e[161]!==Jt||e[162]!==ea||e[163]!==ta||e[164]!==aa||e[165]!==na||e[166]!==sa?(ra=s.default.createElement(d.Box,{className:"transaction-shield-page__container",marginBottom:4},Zt,Jt,ea,ta,aa,na,sa),e[160]=Zt,e[161]=Jt,e[162]=ea,e[163]=ta,e[164]=aa,e[165]=na,e[166]=sa,e[167]=ra):ra=e[167],e[168]!==Ge||e[169]!==t?(oa=Ge?s.default.createElement(m.Skeleton,{width:"60%",height:24}):s.default.createElement(d.Text,{variant:p.TextVariant.headingSm,"data-testid":"shield-detail-billing-details-title"},t("shieldTxMembershipBillingDetails")),e[168]=Ge,e[169]=t,e[170]=oa):oa=e[170],e[171]!==yt||e[172]!==ie||e[173]!==Z||e[174]!==vt||e[175]!==xt||e[176]!==wt||e[177]!==Mt||e[178]!==be||e[179]!==Re||e[180]!==xe||e[181]!==kt||e[182]!==De||e[183]!==Ge||e[184]!==Ce||e[185]!==t?(la=ie?s.default.createElement(s.default.Fragment,null,yt(t("shieldTxMembershipBillingDetailsNextBilling"),be||null!=ie&&ie.cancelAtPeriodEnd?"-":(0,h.getShortDateFormatterV2)().format(new Date(ie.currentPeriodEnd)),"shield-detail-next-billing"),yt(t("shieldTxMembershipBillingDetailsCharges"),(0,U.isCryptoPaymentMethod)(ie.paymentMethod)?`${(0,y.getProductPrice)(De)} ${ie.paymentMethod.crypto.tokenSymbol.toUpperCase()} (${ie.interval===o.RECURRING_INTERVALS.year?t("shieldPlanAnnual"):t("shieldPlanMonthly")})`:`${Z((0,y.getProductPrice)(De),null==De?void 0:De.currency.toUpperCase(),{maximumFractionDigits:2,minimumFractionDigits:0})} (${ie.interval===o.RECURRING_INTERVALS.year?t("shieldPlanAnnual"):t("shieldPlanMonthly")})`,"shield-detail-charges"),Re&&yt(t("shieldTxMembershipBillingDetailsBillingAccount"),(0,U.isCryptoPaymentMethod)(ie.paymentMethod)?s.default.createElement(v.ConfirmInfoRowAddress,{address:ie.paymentMethod.crypto.payerAddress,chainId:ie.paymentMethod.crypto.chainId,showFullName:!0}):"","shield-detail-billing-account"),yt(t("shieldTxMembershipBillingDetailsPaymentMethod"),s.default.createElement(W.PaymentMethodRow,{displayedShieldSubscription:ie,subscriptionPricing:Ce,onPaymentMethodChange:wt,showSkeletonLoader:Ge,isCheckSubscriptionInsufficientFundsDisabled:!Mt,handlePaymentErrorInsufficientFunds:xt,isPaused:xe,isUnexpectedErrorCryptoPayment:kt,handlePaymentError:vt}),"shield-detail-payment-method")):s.default.createElement(m.Skeleton,{width:"60%",height:24}),e[171]=yt,e[172]=ie,e[173]=Z,e[174]=vt,e[175]=xt,e[176]=wt,e[177]=Mt,e[178]=be,e[179]=Re,e[180]=xe,e[181]=kt,e[182]=De,e[183]=Ge,e[184]=Ce,e[185]=t,e[186]=la):la=e[186],e[187]!==oa||e[188]!==la?(ia=s.default.createElement(d.Box,H({className:"transaction-shield-page__row"},mt,{flexDirection:p.FlexDirection.Column,gap:2}),oa,la),e[187]=oa,e[188]=la,e[189]=ia):ia=e[189],e[190]!==_t||e[191]!==(null==ie?void 0:ie.status)||e[192]!==Ue||e[193]!==t?(ca=(null==ie?void 0:ie.status)!==o.SUBSCRIPTION_STATUSES.provisional&&_t(t("shieldTxMembershipBillingDetailsViewBillingHistory"),Ue,"shield-detail-view-billing-history-button"),e[190]=_t,e[191]=null==ie?void 0:ie.status,e[192]=Ue,e[193]=t,e[194]=ca):ca=e[194],e[195]!==ia||e[196]!==ca?(ua=s.default.createElement(d.Box,{className:"transaction-shield-page__container"},ia,ca),e[195]=ia,e[196]=ca,e[197]=ua):ua=e[197],e[198]!==oe||e[199]!==Pe||e[200]!==qe?(da=oe&&qe&&s.default.createElement(F.default,{onClose:()=>Ze(!1),onConfirm:async()=>{Ze(!1),await Pe()},subscription:oe}),e[198]=oe,e[199]=Pe,e[200]=qe,e[201]=da):da=e[201],e[202]!==Dt?(pa=Dt&&s.default.createElement(T.default,null),e[202]=Dt,e[203]=pa):pa=e[203],e[204]!==oe||e[205]!==Rt||e[206]!==Qe?(ma=Rt&&Qe&&oe&&(0,U.isCryptoPaymentMethod)(oe.paymentMethod)&&s.default.createElement(S.default,{onClose:()=>{Xe(!1)},token:Rt,chainId:oe.paymentMethod.crypto.chainId,payerAddress:oe.paymentMethod.crypto.payerAddress}),e[204]=oe,e[205]=Rt,e[206]=Qe,e[207]=ma):ma=e[207];const fa=tt??undefined,ga=null==ie?void 0:ie.id;let ha,_a;return e[208]!==fa||e[209]!==ga?(ha=s.default.createElement(x.default,{rewardPoints:fa,shieldSubscriptionId:ga}),e[208]=fa,e[209]=ga,e[210]=ha):ha=e[210],e[211]!==Lt||e[212]!==Ut||e[213]!==ra||e[214]!==ua||e[215]!==da||e[216]!==pa||e[217]!==ma||e[218]!==ha?(_a=s.default.createElement(d.Box,{className:"transaction-shield-page","data-testid":"transaction-shield-page",width:p.BlockSize.Full,flexDirection:p.FlexDirection.Column,padding:4},Ut,Lt,ra,ua,da,pa,ma,ha),e[211]=Lt,e[212]=Ut,e[213]=ra,e[214]=ua,e[215]=da,e[216]=pa,e[217]=ma,e[218]=ha,e[219]=_a):_a=e[219],_a};function z(e){return e.name===o.PRODUCT_TYPES.SHIELD}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/transaction-shield.tsx"}],[7961,{"@metamask/subscription-controller":2927},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SUBMIT_CLAIM_FIELDS=a.SUBMIT_CLAIM_ERROR_CODES=a.SHIELD_ICON_ARTBOARD_NAMES=a.CLAIMS_TAB_KEYS=void 0,a.isCardPaymentMethod=function(e){return e.type===n.PAYMENT_TYPES.byCard},a.isCryptoPaymentMethod=function(e){return e.type===n.PAYMENT_TYPES.byCrypto};var n=e("@metamask/subscription-controller");a.SUBMIT_CLAIM_FIELDS={CHAIN_ID:"chainId",EMAIL:"email",IMPACTED_WALLET_ADDRESS:"impactedWalletAddress",IMPACTED_TRANSACTION_HASH:"impactedTxHash",REIMBURSEMENT_WALLET_ADDRESS:"reimbursementWalletAddress",CASE_DESCRIPTION:"caseDescription",FILES:"files"},a.SUBMIT_CLAIM_ERROR_CODES={INTERNAL_SERVER_ERROR:"E001",VALIDATION_ERROR:"E002",RESOURCE_NOT_FOUND:"E003",DATABASE_FAILED:"E004",COVERAGE_API_NOT_CONFIGURED:"E101",TRANSACTION_NOT_ELIGIBLE:"E102",SUBMISSION_WINDOW_EXPIRED:"E103",TRANSACTION_NOT_COVERED:"E104",COVERAGE_VALIDATION_FAILED:"E105",SIGNATURE_COVERAGE_NOT_COVERED:"E106",CLAIM_VALIDATION_FAILED:"E201",MAX_CLAIMS_LIMIT_EXCEEDED:"E202",DUPLICATE_CLAIM_EXISTS:"E203",INVALID_WALLET_ADDRESSES:"E204",SIGNATURE_VERIFICATION_FAILED:"E205",FIELD_REQUIRED:"E250",FIELD_IS_NOT_STRING:"E251",FIELD_IS_NOT_NUMBER:"E252",FIELD_IS_NOT_OBJECT:"E253",FIELD_INVALID_EMAIL:"E254",FIELD_INVALID_UUID:"E255",FIELD_INVALID_TYPE:"E256",FIELD_INVALID_VALUE:"E257",FIELD_INVALID_FORMAT:"E258",FIELD_INVALID_ETHEREUM_ADDRESS:"E259",FILES_SIZE_EXCEEDED:"E301",FILES_COUNT_EXCEEDED:"E302",INVALID_FILES_TYPE:"E303",CHAIN_NOT_SUPPORTED:"E401",TRANSACTION_NOT_FOUND:"E402",TRANSACTION_NOT_FROM_WALLET_ADDRESS:"E403",TRANSACTION_NOT_SUCCESSFUL:"E404"},a.SHIELD_ICON_ARTBOARD_NAMES={PROTECTION:"Protection",PRIORITY:"Priority"},a.CLAIMS_TAB_KEYS={PENDING:"pending",HISTORY:"history"}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/types.ts"}],[7962,{"./shield-plan":7964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./shield-plan"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/shield-plan/index.ts"}],[7963,{"../../../shared/constants/network":5772,"../../../shared/constants/subscriptions":5787,"../../components/component-library":6486,"../../components/multichain/asset-picker-amount/asset-picker-modal":6650,"../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6647,"../../helpers/constants/design-system":7049,"../../hooks/useI18nContext":7200,"@metamask/subscription-controller":2927,classnames:4071,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ShieldPaymentModal=void 0;var n,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=(n=e("classnames"))&&n.__esModule?n:{default:n},o=e("@metamask/subscription-controller"),l=e("../../components/component-library"),i=e("../../helpers/constants/design-system"),c=e("../../components/multichain/asset-picker-amount/asset-picker-modal"),u=e("../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),d=e("../../hooks/useI18nContext"),p=e("../../../shared/constants/network"),m=e("../../../shared/constants/subscriptions");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}a.ShieldPaymentModal=({isOpen:e,onClose:t,selectedPaymentMethod:a,setSelectedPaymentMethod:n,availableTokenBalances:f,selectedToken:g,onAssetChange:h,hasStableTokenWithBalance:_,tokensSupported:E,disableCardOption:y})=>{const C=(0,d.useI18nContext)(),[T,S]=(0,s.useState)(!1),b=(0,s.useMemo)(()=>f.length>1,[f]),v=(0,s.useCallback)(e=>{if(n(e),e===o.PAYMENT_TYPES.byCrypto){if(b)return void S(!0);h(f[0])}t()},[n,t,b,h,f]),x=(0,s.useMemo)(()=>function*(e){for(const t of f)e(t.symbol,t.address,t.chainId)&&(yield t)},[f]),w=(0,s.useMemo)(()=>[...E].map(e=>s.default.createElement(l.BadgeWrapper,{key:e,badge:s.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,name:p.NETWORK_TO_NAME_MAP[p.CHAIN_IDS.MAINNET],src:p.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[p.CHAIN_IDS.MAINNET],borderColor:i.BorderColor.borderMuted})},s.default.createElement(l.AvatarToken,{name:e,src:m.SUPPORTED_PAYMENT_TOKEN_IMAGES[e],size:l.AvatarTokenSize.Sm}))),[E]);return s.default.createElement(l.Modal,{isOpen:e,onClose:()=>undefined,className:"shield-payment-modal","data-testid":"shield-payment-modal"},s.default.createElement(l.ModalOverlay,null),s.default.createElement(l.ModalContent,{modalDialogProps:{padding:0}},s.default.createElement(l.ModalHeader,{onClose:t},C("shieldPlanPaymentTitle")),s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full},s.default.createElement(l.Box,{"data-testid":"shield-payment-method-token-button",as:"button",className:(0,r.default)("payment-method-item",{"payment-method-item--selected":a===o.PAYMENT_TYPES.byCrypto}),padding:4,gap:4,backgroundColor:a===o.PAYMENT_TYPES.byCrypto?i.BackgroundColor.primaryMuted:i.BackgroundColor.transparent,display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full,onClick:()=>{v(o.PAYMENT_TYPES.byCrypto)},disabled:!_},a===o.PAYMENT_TYPES.byCrypto&&s.default.createElement(l.Box,{className:"payment-method-item__selected-indicator",borderRadius:i.BorderRadius.pill,backgroundColor:i.BackgroundColor.primaryDefault}),s.default.createElement(l.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full},s.default.createElement(l.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,gap:4},_?s.default.createElement(l.BadgeWrapper,{badge:s.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,name:p.NETWORK_TO_NAME_MAP[p.CHAIN_IDS.MAINNET],src:p.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[p.CHAIN_IDS.MAINNET],borderColor:i.BorderColor.borderMuted})},s.default.createElement(l.AvatarToken,{name:null==g?void 0:g.symbol,src:null==g?void 0:g.image,marginTop:1,borderColor:i.BorderColor.borderMuted})):s.default.createElement(l.Icon,{size:l.IconSize.Xl,name:l.IconName.Coin}),s.default.createElement(l.Box,{textAlign:i.TextAlign.Left},s.default.createElement(l.Text,{variant:i.TextVariant.bodyMdMedium},C("shieldPlanPayWithToken",[_?(null==g?void 0:g.symbol)??"":"crypto"])),s.default.createElement(l.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative},_?`${C("balance")}: ${(null==g?void 0:g.string)??""} ${(null==g?void 0:g.symbol)??""}`:s.default.createElement(l.Box,{display:i.Display.Flex,gap:2},w)))),_&&b&&s.default.createElement(l.Icon,{size:l.IconSize.Md,name:l.IconName.ArrowDown}))),!y&&s.default.createElement(l.Box,{"data-testid":"shield-payment-method-card-button",as:"button",className:(0,r.default)("payment-method-item",{"payment-method-item--selected":a===o.PAYMENT_TYPES.byCard}),padding:4,gap:4,backgroundColor:a===o.PAYMENT_TYPES.byCard?i.BackgroundColor.primaryMuted:i.BackgroundColor.transparent,display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full,onClick:()=>v(o.PAYMENT_TYPES.byCard)},a===o.PAYMENT_TYPES.byCard&&s.default.createElement(l.Box,{className:"payment-method-item__selected-indicator",borderRadius:i.BorderRadius.pill,backgroundColor:i.BackgroundColor.primaryDefault}),s.default.createElement(l.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full},s.default.createElement(l.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,gap:4},s.default.createElement(l.Icon,{size:l.IconSize.Xl,name:l.IconName.Card}),s.default.createElement(l.Box,{textAlign:i.TextAlign.Left},s.default.createElement(l.Text,{variant:i.TextVariant.bodyMdMedium},C("shieldPlanPayWithCard")),s.default.createElement(l.Box,{display:i.Display.Flex,gap:1,alignItems:i.AlignItems.center},s.default.createElement("img",{src:"./images/card-mc.svg",alt:"Mastercard"}),s.default.createElement("img",{src:"./images/card-visa.svg",alt:"Visa"}),s.default.createElement("img",{src:"./images/card-amex.svg",alt:"American Express"}))))))),s.default.createElement(c.AssetPickerModal,{isOpen:T,onClose:()=>{S(!1)},asset:g,onAssetChange:e=>{h(e),S(!1),t()},header:C("shieldPlanSelectToken"),autoFocus:!1,visibleTabs:[u.TabName.TOKENS],customTokenListGenerator:x,hideSearch:!0})))}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-payment-modal.tsx"}],[7964,{"../../../shared/constants/network":5772,"../../../shared/constants/subscriptions":5787,"../../../shared/modules/shield":5913,"../../components/app/api-error-handler":5946,"../../components/app/rewards/RewardsBadge":6209,"../../components/component-library":6486,"../../components/multichain/pages/page":6826,"../../components/ui/loading-screen":6930,"../../ducks/locale/locale":7032,"../../helpers/constants/design-system":7049,"../../helpers/constants/routes":7054,"../../hooks/subscription/useSubscription":7174,"../../hooks/subscription/useSubscriptionPricing":7175,"../../hooks/useI18nContext":7200,"../../selectors/subscription":8061,"../../store/actions":8065,"./shield-payment-modal":7963,"./shield-rewards-modal":7965,"./utils":7966,"@metamask/design-system-react":1742,"@metamask/subscription-controller":2927,classnames:4071,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=N(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=I(e("classnames")),o=e("@metamask/subscription-controller"),l=e("react-redux"),i=e("react-router-dom-v5-compat"),c=e("@metamask/design-system-react"),u=e("../../../shared/constants/network"),d=e("../../components/component-library"),p=e("../../components/multichain/pages/page"),m=I(e("../../components/ui/loading-screen")),f=e("../../helpers/constants/design-system"),g=e("../../helpers/constants/routes"),h=e("../../hooks/subscription/useSubscriptionPricing"),_=e("../../hooks/subscription/useSubscription"),E=e("../../hooks/useI18nContext"),y=e("../../selectors/subscription"),C=e("../../../shared/constants/subscriptions"),T=e("../../../shared/modules/shield"),S=I(e("../../components/app/api-error-handler")),b=e("../../store/actions"),v=e("../../components/app/rewards/RewardsBadge"),x=e("../../ducks/locale/locale"),w=e("./shield-payment-modal"),k=e("./shield-rewards-modal"),M=e("./utils");function I(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(N=function(e){return e?a:t})(e)}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},A.apply(null,arguments)}a.default=()=>{var e,t;const a=(0,n.c)(125),I=(0,i.useNavigate)(),{search:N}=(0,i.useLocation)(),R=(0,l.useSelector)(x.getIntlLocale),L=(0,E.useI18nContext)(),B=(0,l.useDispatch)(),F=(0,l.useSelector)(y.getLastUsedShieldSubscriptionPaymentDetails),{isRewardsSeason:U,pointsMonthly:j,pointsYearly:W,pending:V}=(0,_.useShieldRewards)(),[$,H]=(0,s.useState)((null==F?void 0:F.useTestClock)??!1);let z;a[0]===Symbol.for("react.memo_cache_sentinel")?(z=(0,T.isDevOrUatBuild)()||(0,T.isDevOrTestEnvironment)(),a[0]=z):z=a[0];const G=z;let Y;a[1]===Symbol.for("react.memo_cache_sentinel")?(Y={refetch:!0},a[1]=Y):Y=a[1];const{subscriptions:K,trialedProducts:q,loading:Z,error:Q}=(0,_.useUserSubscriptions)(Y),X=(0,_.useUserSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,K);let J;a[2]!==q?(J=(0,T.getIsTrialedSubscription)(q,o.PRODUCT_TYPES.SHIELD),a[2]=q,a[3]=J):J=a[3];const ee=J;let te,ae;a[4]!==I||a[5]!==X?(te=()=>{X&&I(g.TRANSACTION_SHIELD_ROUTE)},ae=[I,X],a[4]=I,a[5]=X,a[6]=te,a[7]=ae):(te=a[6],ae=a[7]),(0,s.useEffect)(te,ae);const[ne,se]=(0,s.useState)((null==F?void 0:F.plan)||o.RECURRING_INTERVALS.year);let re;a[8]===Symbol.for("react.memo_cache_sentinel")?(re={refetch:!0},a[8]=re):re=a[8];const{subscriptionPricing:oe,loading:le,error:ie}=(0,h.useSubscriptionPricing)(re),ce=(0,h.useSubscriptionProductPlans)(o.PRODUCT_TYPES.SHIELD,oe),ue=(0,h.useSubscriptionPaymentMethods)("crypto",oe);let de;a[9]!==ce||a[10]!==ne?(de=null==ce?void 0:ce.find(e=>e.interval===ne),a[9]=ce,a[10]=ne,a[11]=de):de=a[11];const pe=de,me=null==ue?void 0:ue.chains;let fe;a[12]!==pe||a[13]!==me?(fe={paymentChains:me,price:pe,productType:o.PRODUCT_TYPES.SHIELD},a[12]=pe,a[13]=me,a[14]=fe):fe=a[14];const{availableTokenBalances:ge,pending:he,error:_e}=(0,h.useAvailableTokenBalances)(fe),Ee=ge.length>0;let ye;a[15]!==Ee||a[16]!==F?(ye=()=>Ee?null!=F&&F.type?F.type:o.PAYMENT_TYPES.byCrypto:o.PAYMENT_TYPES.byCard,a[15]=Ee,a[16]=F,a[17]=ye):ye=a[17];const[Ce,Te]=(0,s.useState)(ye),Se=ge.length>0?o.PAYMENT_TYPES.byCrypto:o.PAYMENT_TYPES.byCard,be=(null===(e=ge[0])||void 0===e?void 0:e.symbol)||"USD",ve=null===(t=ge[0])||void 0===t?void 0:t.chainId;let xe;a[18]!==be||a[19]!==Se||a[20]!==ve?(xe={defaultPaymentType:Se,defaultPaymentCurrency:be,defaultBillingInterval:o.RECURRING_INTERVALS.year,defaultPaymentChain:ve},a[18]=be,a[19]=Se,a[20]=ve,a[21]=xe):xe=a[21];const we=xe;let ke;a[22]!==ge[0]?(ke=()=>ge[0],a[22]=ge[0],a[23]=ke):ke=a[23];const[Me,Ie]=(0,s.useState)(ke);let Ne,Ae,Re,Oe;a[24]!==ge||a[25]!==(null==F?void 0:F.paymentTokenAddress)||a[26]!==(null==F?void 0:F.plan)||a[27]!==(null==F?void 0:F.type)||a[28]!==he||a[29]!==ne||a[30]!==Me?(Ne=()=>{if(he||Me||0===ge.length)return;const e=null==F?void 0:F.paymentTokenAddress,t=null==F?void 0:F.type,a=null==F?void 0:F.plan;let n=ge[0];e&&t===o.PAYMENT_TYPES.byCrypto&&a===ne&&(n=ge.find(t=>t.address===e)||ge[0]),Ie(n)},a[24]=ge,a[25]=null==F?void 0:F.paymentTokenAddress,a[26]=null==F?void 0:F.plan,a[27]=null==F?void 0:F.type,a[28]=he,a[29]=ne,a[30]=Me,a[31]=Ne):Ne=a[31],a[32]!==ge||a[33]!==F||a[34]!==he||a[35]!==ne||a[36]!==Me?(Ae=[he,ge,Me,Ie,F,ne],a[32]=ge,a[33]=F,a[34]=he,a[35]=ne,a[36]=Me,a[37]=Ae):Ae=a[37],(0,s.useEffect)(Ne,Ae),a[38]===Symbol.for("react.memo_cache_sentinel")?(Re=()=>{Ie(undefined)},a[38]=Re):Re=a[38],a[39]!==ne?(Oe=[ne,Ie],a[39]=ne,a[40]=Oe):Oe=a[40],(0,s.useEffect)(Re,Oe);const De=null==Me?void 0:Me.address;let Pe,Le,Be,Fe;if(a[41]!==(null==F?void 0:F.type)||a[42]!==De?(Pe=()=>{const e=null==F?void 0:F.type;De&&e!==o.PAYMENT_TYPES.byCard?Te(o.PAYMENT_TYPES.byCrypto):Te(o.PAYMENT_TYPES.byCard)},a[41]=null==F?void 0:F.type,a[42]=De,a[43]=Pe):Pe=a[43],a[44]!==F||a[45]!==De?(Le=[De,Te,F],a[44]=F,a[45]=De,a[46]=Le):Le=a[46],(0,s.useEffect)(Pe,Le),null==ue||ue.chains,a[47]!==(null==ue?void 0:ue.chains)){const e=(null==ue?void 0:ue.chains)??[];Be=new Set(e.flatMap(O)),a[47]=null==ue?void 0:ue.chains,a[48]=Be}else Be=a[48];a[49]!==Be?(Fe=[...Be],a[49]=Be,a[50]=Fe):Fe=a[50];const Ue=Fe,je=ne===o.RECURRING_INTERVALS.year?W:j,We=je??undefined;let Ve;a[51]!==we||a[52]!==$||a[53]!==ee||a[54]!==Ce||a[55]!==ne||a[56]!==Me||a[57]!==We?(Ve={selectedPaymentMethod:Ce,selectedToken:Me,selectedPlan:ne,defaultOptions:we,isTrialed:ee,useTestClock:$,rewardPoints:We},a[51]=we,a[52]=$,a[53]=ee,a[54]=Ce,a[55]=ne,a[56]=Me,a[57]=We,a[58]=Ve):Ve=a[58];const{handleSubscription:$e,subscriptionResult:He}=(0,_.useHandleSubscription)(Ve);let ze;a[59]!==B||a[60]!==$||a[61]!==ne?(ze=async e=>{Ie(e),await B((0,b.setLastUsedSubscriptionPaymentDetails)(o.PRODUCT_TYPES.SHIELD,{type:o.PAYMENT_TYPES.byCrypto,paymentTokenAddress:e.address,paymentTokenSymbol:e.symbol,plan:ne,useTestClock:$}))},a[59]=B,a[60]=$,a[61]=ne,a[62]=ze):ze=a[62];const Ge=ze,Ye=Z||le||He.pending||V,Ke=Q||ie||_e||He.error;let qe;a[63]!==ce||a[64]!==Ce||a[65]!==L?(qe=(null==ce?void 0:ce.map(e=>{const t=e.interval===o.RECURRING_INTERVALS.year,a=(0,M.getProductPrice)(e);return{id:e.interval,label:t?L("shieldPlanAnnual"):`${L("shieldPlanMonthly")}${Ce===o.PAYMENT_TYPES.byCrypto?"*":""}`,price:L(t?"shieldPlanAnnualPrice":"shieldPlanMonthlyPrice",[`$${a}`])}}).sort(D))??[],a[63]=ce,a[64]=Ce,a[65]=L,a[66]=qe):qe=a[66];const Ze=qe;let Qe;if(a[67]!==ee||a[68]!==(null==pe?void 0:pe.trialPeriodDays)||a[69]!==L){if(Qe=[],!ee){const e=(null==pe?void 0:pe.trialPeriodDays)??C.SUBSCRIPTION_DEFAULT_TRIAL_PERIOD_DAYS;let t;a[71]!==L||a[72]!==e?(t=L("shieldPlanDetails1",[e]),a[71]=L,a[72]=e,a[73]=t):t=a[73],Qe.push(t)}let e,t;a[74]!==L?(e=L("shieldPlanDetails2",["$10k"]),a[74]=L,a[75]=e):e=a[75],Qe.push(e),a[76]!==L?(t=L("shieldPlanDetails3"),a[76]=L,a[77]=t):t=a[77],Qe.push(t),a[67]=ee,a[68]=null==pe?void 0:pe.trialPeriodDays,a[69]=L,a[70]=Qe}else Qe=a[70];const Xe=Qe;let Je;if(a[78]!==je||a[79]!==R||a[80]!==ne||a[81]!==L){e:{const e=ne===o.RECURRING_INTERVALS.year?L("year"):L("month");if(!je){Je="";break e}const t=new Intl.NumberFormat(R).format(je);Je=L("shieldPlanDetailsRewards",[t,e])}a[78]=je,a[79]=R,a[80]=ne,a[81]=L,a[82]=Je}else Je=a[82];const et=Je,[tt,at]=(0,s.useState)(!1),[nt,st]=(0,s.useState)(!1);let rt;a[83]!==I||a[84]!==N?(rt=()=>{new URLSearchParams(N).get("source")===C.EntryModalSourceEnum.Settings?I(g.SETTINGS_ROUTE,{replace:!0}):I(g.DEFAULT_ROUTE,{replace:!0})},a[83]=I,a[84]=N,a[85]=rt):rt=a[85];const ot=rt;let lt;a[86]===Symbol.for("react.memo_cache_sentinel")?(lt={display:f.Display.Flex,justifyContent:f.JustifyContent.spaceBetween,alignItems:f.AlignItems.center,backgroundColor:f.BackgroundColor.backgroundSection,padding:4},a[86]=lt):lt=a[86];const it=lt;let ct,ut,dt,pt,mt,ft,gt,ht;return a[87]===Symbol.for("react.memo_cache_sentinel")?(ct={variant:f.TextVariant.headingSm},a[87]=ct):ct=a[87],a[88]!==L?(ut=L("back"),a[88]=L,a[89]=ut):ut=a[89],a[90]!==ot||a[91]!==ut?(dt=s.default.createElement(d.ButtonIcon,{size:d.ButtonIconSize.Md,ariaLabel:ut,iconName:d.IconName.ArrowLeft,onClick:ot,"data-testid":"shield-plan-back-button"}),a[90]=ot,a[91]=ut,a[92]=dt):dt=a[92],a[93]!==L?(pt=L("shieldPlanTitle"),a[93]=L,a[94]=pt):pt=a[94],a[95]!==dt||a[96]!==pt?(mt=s.default.createElement(p.Header,{textProps:ct,startAccessory:dt},pt),a[95]=dt,a[96]=pt,a[97]=mt):mt=a[97],a[98]!==Ke||a[99]!==Ye?(ft=Ye&&!Ke&&s.default.createElement(m.default,null),a[98]=Ke,a[99]=Ye,a[100]=ft):ft=a[100],a[101]!==ge||a[102]!==$||a[103]!==$e||a[104]!==Ge||a[105]!==Ke||a[106]!==Ee||a[107]!==U||a[108]!==Ye||a[109]!==Xe||a[110]!==et||a[111]!==Ze||a[112]!==Ce||a[113]!==ne||a[114]!==Me||a[115]!==tt||a[116]!==nt||a[117]!==oe||a[118]!==L||a[119]!==Ue?(gt=!Ye&&Ke?s.default.createElement(p.Content,{justifyContent:f.JustifyContent.flexStart,alignItems:f.AlignItems.center},s.default.createElement(S.default,{className:"shield-plan-page__error-content",error:Ke,location:C.ShieldUnexpectedErrorEventLocationEnum.ShieldPlanPage})):oe&&s.default.createElement(s.default.Fragment,null,s.default.createElement(p.Content,null,s.default.createElement(d.Box,{display:f.Display.Grid,gap:2,marginBottom:4,paddingTop:2,className:"shield-plan-page__plans"},Ze.map(e=>s.default.createElement(d.Box,A({as:"button",key:e.id},it,{borderRadius:f.BorderRadius.LG,className:(0,r.default)("shield-plan-page__plan",{"shield-plan-page__plan--selected":e.id===ne}),"data-testid":`shield-plan-${e.label.toLowerCase()}-button`,onClick:()=>se(e.id)}),s.default.createElement("div",{className:"shield-plan-page__radio"}),s.default.createElement(d.Box,{textAlign:f.TextAlign.Left,className:"shield-plan-page__radio-label"},s.default.createElement(d.Text,{variant:f.TextVariant.bodySm},e.label),s.default.createElement(d.Text,{variant:f.TextVariant.headingMd,className:"shield-plan-page__plan-price"},e.price)),e.id===o.RECURRING_INTERVALS.year&&s.default.createElement(d.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.center,paddingInline:2,borderRadius:f.BorderRadius.SM,className:"shield-plan-page__save-badge"},s.default.createElement(d.Text,{variant:f.TextVariant.bodyXsMedium,color:f.TextColor.iconInverse},L("shieldPlanSave")))))),s.default.createElement(d.Box,{className:"shield-plan-page__group",marginBottom:4},s.default.createElement(d.Box,A({as:"button",className:"shield-plan-page__row"},it,{onClick:()=>at(!0),width:f.BlockSize.Full}),s.default.createElement(d.Text,{variant:f.TextVariant.bodyLgMedium},L("shieldPlanPayWith")),s.default.createElement(d.Box,{display:f.Display.Flex,gap:2,alignItems:f.AlignItems.center},Ce===o.PAYMENT_TYPES.byCrypto&&Me?s.default.createElement(d.BadgeWrapper,{badge:s.default.createElement(d.AvatarNetwork,{size:d.AvatarNetworkSize.Xs,name:u.NETWORK_TO_NAME_MAP[Me.chainId],src:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[Me.chainId],borderColor:f.BorderColor.borderMuted})},s.default.createElement(d.AvatarToken,{name:(null==Me?void 0:Me.symbol)||"",src:(null==Me?void 0:Me.image)||"",borderColor:f.BorderColor.borderMuted})):s.default.createElement(d.Icon,{size:d.IconSize.Xl,name:d.IconName.Card}),s.default.createElement(d.Text,{variant:f.TextVariant.bodyLgMedium},Ce===o.PAYMENT_TYPES.byCrypto?(null==Me?void 0:Me.symbol)||"":L("shieldPlanCard")),s.default.createElement(d.Icon,{size:d.IconSize.Md,name:d.IconName.ArrowDown})))),s.default.createElement(d.Box,{className:"shield-plan-page__group"},s.default.createElement(d.Box,A({className:"shield-plan-page__row"},it,{display:f.Display.Block}),s.default.createElement(d.Text,{variant:f.TextVariant.bodyLgMedium,marginBottom:4},L("shieldPlanDetails")),s.default.createElement(d.Box,{display:f.Display.Flex,flexDirection:f.FlexDirection.Column,gap:2},Xe.map(P),U&&et&&s.default.createElement(d.Box,null,s.default.createElement(v.RewardsBadge,{boxClassName:"gap-1 px-2 py-0.5 bg-background-muted rounded-lg w-fit",textClassName:"font-medium",withPointsSuffix:!1,formattedPoints:et,onClick:()=>{st(!0)}})))),Ce===o.PAYMENT_TYPES.byCrypto&&ne===o.RECURRING_INTERVALS.month&&s.default.createElement(d.Text,{variant:f.TextVariant.bodySm,color:f.TextColor.textAlternative,marginTop:4},"* ",L("shieldPlanCryptoMonthlyNote"))),s.default.createElement(w.ShieldPaymentModal,{isOpen:tt,onClose:()=>at(!1),selectedToken:Me,selectedPaymentMethod:Ce,hasStableTokenWithBalance:Ee,setSelectedPaymentMethod:Te,onAssetChange:Ge,availableTokenBalances:ge,tokensSupported:Ue}),s.default.createElement(k.ShieldRewardsModal,{isOpen:nt,rewardsText:et,onClose:()=>st(!1)})),s.default.createElement(p.Footer,{className:"shield-plan-page__footer",flexDirection:f.FlexDirection.Column,gap:3,backgroundColor:f.BackgroundColor.backgroundMuted},G&&s.default.createElement(c.Checkbox,{label:"Enable Stripe Test clocks (for development and testing only)",labelProps:{variant:c.TextVariant.BodySm},onChange:()=>H(!$),id:"stripe-test-clocks",isSelected:$}),s.default.createElement(d.Button,{size:d.ButtonSize.Lg,variant:d.ButtonVariant.Primary,block:!0,onClick:$e,"data-testid":"shield-plan-continue-button"},L("continue")),s.default.createElement(d.Text,{variant:f.TextVariant.bodySm,color:f.TextColor.textAlternative,textAlign:f.TextAlign.Center},ne===o.RECURRING_INTERVALS.year?L("shieldPlanFooterNoteYearly"):L("shieldPlanFooterNoteMonthly")))),a[101]=ge,a[102]=$,a[103]=$e,a[104]=Ge,a[105]=Ke,a[106]=Ee,a[107]=U,a[108]=Ye,a[109]=Xe,a[110]=et,a[111]=Ze,a[112]=Ce,a[113]=ne,a[114]=Me,a[115]=tt,a[116]=nt,a[117]=oe,a[118]=L,a[119]=Ue,a[120]=gt):gt=a[120],a[121]!==mt||a[122]!==ft||a[123]!==gt?(ht=s.default.createElement(p.Page,{className:"shield-plan-page","data-testid":"shield-plan-page"},mt,ft,gt),a[121]=mt,a[122]=ft,a[123]=gt,a[124]=ht):ht=a[124],ht};function R(e){return e.symbol}function O(e){return e.tokens.map(R)}function D(e,t){return e.id===o.RECURRING_INTERVALS.year?-1:1}function P(e,t){return s.default.createElement(d.Box,{key:t,display:f.Display.Flex,gap:2},s.default.createElement(d.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,style:{height:"1lh"}},s.default.createElement(d.Icon,{size:d.IconSize.Sm,name:d.IconName.Check,color:f.IconColor.primaryDefault})),s.default.createElement(d.Text,{variant:f.TextVariant.bodyMd},e))}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-plan.tsx"}],[7965,{"../../components/app/rewards/RewardsBadge":6209,"../../components/component-library":6486,"../../helpers/constants/design-system":7049,"../../hooks/useI18nContext":7200,"@metamask/design-system-react":1742,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ShieldRewardsModal=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("@metamask/design-system-react"),l=e("../../components/component-library"),i=e("../../components/app/rewards/RewardsBadge"),c=e("../../hooks/useI18nContext"),u=e("../../helpers/constants/design-system");a.ShieldRewardsModal=e=>{const t=(0,s.c)(34),{isOpen:a,onClose:n,rewardsText:d}=e,p=(0,c.useI18nContext)();let m,f,g,h,_,E,y,C,T,S,b,v,x,w;return t[0]===Symbol.for("react.memo_cache_sentinel")?(m=r.default.createElement(l.ModalOverlay,null),t[0]=m):m=t[0],t[1]!==p?(f=p("shieldPlanDetailsRewardsTitle"),t[1]=p,t[2]=f):f=t[2],t[3]!==n||t[4]!==f?(g=r.default.createElement(l.ModalHeader,{onClose:n},f),t[3]=n,t[4]=f,t[5]=g):g=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(h={width:"auto",height:"170px"},t[6]=h):h=t[6],t[7]!==p?(_=p("shieldPlanDetailsRewardsTitle"),t[7]=p,t[8]=_):_=t[8],t[9]!==_?(E=r.default.createElement("img",{src:"./images/shield-reward.png",style:h,alt:_}),t[9]=_,t[10]=E):E=t[10],t[11]!==d?(y=r.default.createElement(i.RewardsBadge,{boxClassName:"gap-1 px-2 py-0.5 bg-background-muted rounded-lg w-fit",textClassName:"font-medium",withPointsSuffix:!1,formattedPoints:d}),t[11]=d,t[12]=y):y=t[12],t[13]!==p?(C=p("shieldPlanDetailsRewardsDescription"),t[13]=p,t[14]=C):C=t[14],t[15]!==C?(T=r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,color:o.TextColor.TextAlternative},C),t[15]=C,t[16]=T):T=t[16],t[17]!==p?(S=p("gotIt"),t[17]=p,t[18]=S):S=t[18],t[19]!==n||t[20]!==S?(b=r.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,size:o.ButtonSize.Lg,onClick:n,className:"w-full"},S),t[19]=n,t[20]=S,t[21]=b):b=t[21],t[22]!==b||t[23]!==E||t[24]!==y||t[25]!==T?(v=r.default.createElement(l.ModalBody,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,gap:4},E,y,T,b),t[22]=b,t[23]=E,t[24]=y,t[25]=T,t[26]=v):v=t[26],t[27]!==v||t[28]!==g?(x=r.default.createElement(l.ModalContent,null,g,v),t[27]=v,t[28]=g,t[29]=x):x=t[29],t[30]!==a||t[31]!==n||t[32]!==x?(w=r.default.createElement(l.Modal,{isOpen:a,onClose:n,autoFocus:!1,className:"shield-rewards-modal","data-testid":"shield-rewards-modal"},m,x),t[30]=a,t[31]=n,t[32]=x,t[33]=w):w=t[33],w}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-rewards-modal.tsx"}],[7966,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getProductPrice=function(e){return e.unitAmount/10**e.unitDecimals}}}},{package:"$root$",file:"ui/pages/shield-plan/utils.ts"}],[7967,{"./smart-transaction-status-page":7969},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"SmartTransactionStatusPage",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./smart-transaction-status-page"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/index.ts"}],[7968,{"../../../components/component-library":6486,"../../../components/component-library/lottie-animation":6492,"../../../helpers/constants/design-system":7049,"@metamask/smart-transactions-controller":2645,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SmartTransactionStatusAnimation=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/smart-transactions-controller"),o=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),i=e("../../../components/component-library/lottie-animation");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const u="images/animations/smart-transaction-status",d={Failed:{path:`${u}/failed.lottie.json`,loop:!1},Confirmed:{path:`${u}/confirmed.lottie.json`,loop:!1},SubmittingIntro:{path:`${u}/submitting-intro.lottie.json`,loop:!1},SubmittingLoop:{path:`${u}/submitting-loop.lottie.json`,loop:!0},Processing:{path:`${u}/processing.lottie.json`,loop:!0}};a.SmartTransactionStatusAnimation=e=>{const t=(0,n.c)(8),{status:a}=e,[c,u]=(0,s.useState)(!0);let p,m;if(a===r.SmartTransactionStatuses.PENDING)p=c?d.SubmittingIntro:d.SubmittingLoop;else e:switch(a){case r.SmartTransactionStatuses.SUCCESS:p=d.Confirmed;break e;case r.SmartTransactionStatuses.REVERTED:case r.SmartTransactionStatuses.UNKNOWN:p=d.Failed;break e;default:p=d.Processing}t[0]!==c||t[1]!==a?(m=()=>{a===r.SmartTransactionStatuses.PENDING&&c&&u(!1)},t[0]=c,t[1]=a,t[2]=m):m=t[2];const f=m;let g,h;return t[3]===Symbol.for("react.memo_cache_sentinel")?(g={width:"96px",height:"96px"},t[3]=g):g=t[3],t[4]!==p.loop||t[5]!==p.path||t[6]!==f?(h=s.default.createElement(o.Box,{display:l.Display.Flex,style:g},s.default.createElement(i.LottieAnimation,{path:p.path,loop:p.loop,autoplay:!0,onComplete:f})),t[4]=p.loop,t[5]=p.path,t[6]=f,t[7]=h):h=t[7],h}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/smart-transaction-status-animation.tsx"}],[7969,{"../../../../shared/constants/notifications":5773,"../../../../shared/constants/urls":5793,"../../../../shared/modules/conversion.utils":5887,"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../hooks/useI18nContext":7200,"../../../selectors":8035,"../../../store/actions":8065,"../../confirmations/components/simulation-details":7551,"./smart-transaction-status-animation":7968,"@metamask/smart-transactions-controller":2645,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.showRemainingTimeInMinAndSec=a.default=a.SmartTransactionStatusPage=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("@metamask/smart-transactions-controller"),l=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),d=e("../../../../shared/constants/urls"),p=e("../../../store/actions"),m=e("../../../../shared/modules/conversion.utils"),f=e("../../confirmations/components/simulation-details"),g=e("../../../../shared/constants/notifications"),h=e("./smart-transaction-status-animation");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}a.showRemainingTimeInMinAndSec=e=>{if(!Number.isInteger(e))return"0:00";return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`};const E=e=>{const t=(0,n.c)(2),{description:a}=e;if(!a)return null;let r;return t[0]!==a?(r=s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,className:"smart-transaction-status-page__description"},s.default.createElement(l.Text,{marginTop:2,color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm},a)),t[0]=a,t[1]=r):r=t[1],r},y=e=>{const t=(0,n.c)(9),{portfolioSmartTransactionStatusUrl:a,isSmartTransactionPending:r,onCloseExtension:o}=e,u=(0,c.useI18nContext)();let d;t[0]!==r||t[1]!==o||t[2]!==a?(d=()=>{if(!a)return;const e=window.innerWidth>g.NOTIFICATION_WIDTH;r&&!e||o(),global.platform.openTab({url:a})},t[0]=r,t[1]=o,t[2]=a,t[3]=d):d=t[3];const p=d;if(!a)return null;let m,f;return t[4]!==u?(m=u("viewTransaction"),t[4]=u,t[5]=m):m=t[5],t[6]!==p||t[7]!==m?(f=s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,marginTop:2},s.default.createElement(l.Button,{type:"link",variant:l.ButtonVariant.Link,onClick:p},m)),t[6]=p,t[7]=m,t[8]=f):f=t[8],f},C=e=>{const t=(0,n.c)(5),{isDapp:a,onCloseExtension:r}=e,o=(0,c.useI18nContext)();if(!a)return null;let u,d;return t[0]!==o?(u=o("closeExtension"),t[0]=o,t[1]=u):u=t[1],t[2]!==r||t[3]!==u?(d=s.default.createElement(l.ButtonSecondary,{"data-testid":"smart-transaction-status-page-footer-close-button",onClick:r,width:i.BlockSize.Full,marginTop:3},u),t[2]=r,t[3]=u,t[4]=d):d=t[4],d},T=e=>{const t=(0,n.c)(4),{isDapp:a,isSmartTransactionPending:r}=e,o=(0,c.useI18nContext)();if(!a||!r)return null;let u,d;return t[0]!==o?(u=o("closeWindowAnytime"),t[0]=o,t[1]=u):u=t[1],t[2]!==u?(d=s.default.createElement(l.Text,{marginTop:2,color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm},u),t[2]=u,t[3]=d):d=t[3],d},S=e=>{const t=(0,n.c)(5),{isDapp:a,onViewActivity:r}=e,o=(0,c.useI18nContext)();if(a)return null;let u,d;return t[0]!==o?(u=o("viewActivity"),t[0]=o,t[1]=u):u=t[1],t[2]!==r||t[3]!==u?(d=s.default.createElement(l.ButtonSecondary,{"data-testid":"smart-transaction-status-page-footer-close-button",onClick:r,width:i.BlockSize.Full,marginTop:3},u),t[2]=r,t[3]=u,t[4]=d):d=t[4],d},b=e=>{const t=(0,n.c)(13),{isDapp:a,isSmartTransactionPending:r,onCloseExtension:o,onViewActivity:c}=e;let u,d,p,m;return t[0]!==a||t[1]!==r?(u=s.default.createElement(T,{isDapp:a,isSmartTransactionPending:r}),t[0]=a,t[1]=r,t[2]=u):u=t[2],t[3]!==a||t[4]!==o?(d=s.default.createElement(C,{isDapp:a,onCloseExtension:o}),t[3]=a,t[4]=o,t[5]=d):d=t[5],t[6]!==a||t[7]!==c?(p=s.default.createElement(S,{isDapp:a,onViewActivity:c}),t[6]=a,t[7]=c,t[8]=p):p=t[8],t[9]!==u||t[10]!==d||t[11]!==p?(m=s.default.createElement(l.Box,{className:"smart-transaction-status-page__footer",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,padding:4,paddingBottom:0},u,d,p),t[9]=u,t[10]=d,t[11]=p,t[12]=m):m=t[12],m},v=e=>{const t=(0,n.c)(2),{title:a}=e;let r;return t[0]!==a?(r=s.default.createElement(l.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.headingMd,as:"h4",fontWeight:i.FontWeight.Bold},a),t[0]=a,t[1]=r):r=t[1],r},x=e=>{var t,a;const g=(0,n.c)(44),{requestState:_,onCloseExtension:C,onViewActivity:T}=e,S=C===undefined?w:C,x=T===undefined?k:T,M=(0,c.useI18nContext)(),I=(0,r.useDispatch)(),{smartTransaction:N,isDapp:A,txId:R}=_,O=!N||N.status===o.SmartTransactionStatuses.PENDING,D=(null==N?void 0:N.status)===o.SmartTransactionStatuses.SUCCESS;let P;var L;g[0]!==(null==N?void 0:N.status)?(P=null==N||null===(L=N.status)||void 0===L?void 0:L.startsWith(o.SmartTransactionStatuses.CANCELLED),g[0]=null==N?void 0:N.status,g[1]=P):P=g[1];const B=Boolean(P),F=null==N?void 0:N.chainId,U=(0,r.useSelector)(e=>(0,u.getFullTxData)(e,R))||{};let j;g[2]!==B||g[3]!==O||g[4]!==D||g[5]!==M?(j=(({t:e,isSmartTransactionPending:t,isSmartTransactionSuccess:a,isSmartTransactionCancelled:n})=>t?{title:e("smartTransactionPending"),iconName:l.IconName.Clock,iconColor:i.IconColor.primaryDefault}:a?{title:e("smartTransactionSuccess"),iconName:l.IconName.Confirmation,iconColor:i.IconColor.successDefault}:n?{title:e("smartTransactionCancelled"),description:e("smartTransactionCancelledDescription"),iconName:l.IconName.Danger,iconColor:i.IconColor.errorDefault}:{title:e("smartTransactionError"),description:e("smartTransactionErrorDescription"),iconName:l.IconName.Danger,iconColor:i.IconColor.errorDefault})({t:M,isSmartTransactionPending:O,isSmartTransactionSuccess:D,isSmartTransactionCancelled:B}),g[2]=B,g[3]=O,g[4]=D,g[5]=M,g[6]=j):j=g[6];const{title:W,description:V}=j;let $,H;g[7]!==I?($=()=>{I((0,p.hideLoadingIndication)())},H=[I],g[7]=I,g[8]=$,g[9]=H):($=g[8],H=g[9]),(0,s.useEffect)($,H);const z=(null===(t=U.simulationData)||void 0===t||null===(t=t.tokenBalanceChanges)||void 0===t?void 0:t.length)>0||(null===(a=U.simulationData)||void 0===a?void 0:a.nativeBalanceChange),G=null==N?void 0:N.uuid;let Y;g[10]!==F||g[11]!==G?(Y=G&&F?`${d.BaseUrl.Portfolio}/networks/${Number((0,m.hexToDecimal)(F))}/smart-transactions/${G}`:undefined,g[10]=F,g[11]=G,g[12]=Y):Y=g[12];const K=Y;let q;g[13]===Symbol.for("react.memo_cache_sentinel")?(q={flexGrow:1},g[13]=q):q=g[13];const Z=null==N?void 0:N.status;let Q,X,J,ee,te,ae;var ne;(g[14]!==Z?(Q=s.default.createElement(h.SmartTransactionStatusAnimation,{status:Z}),g[14]=Z,g[15]=Q):Q=g[15],g[16]!==W?(X=s.default.createElement(v,{title:W}),g[16]=W,g[17]=X):X=g[17],g[18]!==V?(J=s.default.createElement(E,{description:V}),g[18]=V,g[19]=J):J=g[19],g[20]!==O||g[21]!==S||g[22]!==K?(ee=s.default.createElement(y,{portfolioSmartTransactionStatusUrl:K,isSmartTransactionPending:O,onCloseExtension:S}),g[20]=O,g[21]=S,g[22]=K,g[23]=ee):ee=g[23],g[24]!==Q||g[25]!==X||g[26]!==J||g[27]!==ee?(te=s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,width:i.BlockSize.Full},Q,X,J,ee),g[24]=Q,g[25]=X,g[26]=J,g[27]=ee,g[28]=te):te=g[28],g[29]!==z||g[30]!==U||g[31]!==(null==N?void 0:N.status))?(ae=z&&s.default.createElement(l.Box,{width:i.BlockSize.Full},s.default.createElement(f.SimulationDetails,{transaction:U,smartTransactionStatus:null==N||null===(ne=N.status)||void 0===ne?void 0:ne.toLowerCase()})),g[29]=z,g[30]=U,g[31]=null==N?void 0:N.status,g[32]=ae):ae=g[32];let se,re,oe;return g[33]!==te||g[34]!==ae?(se=s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,style:q},te,ae),g[33]=te,g[34]=ae,g[35]=se):se=g[35],g[36]!==A||g[37]!==O||g[38]!==S||g[39]!==x?(re=s.default.createElement(b,{isDapp:A,isSmartTransactionPending:O,onCloseExtension:S,onViewActivity:x}),g[36]=A,g[37]=O,g[38]=S,g[39]=x,g[40]=re):re=g[40],g[41]!==se||g[42]!==re?(oe=s.default.createElement(l.Box,{className:"smart-transaction-status-page",height:i.BlockSize.Full,width:i.BlockSize.Full,display:i.Display.Flex,borderStyle:i.BorderStyle.none,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,marginBottom:0},se,re),g[41]=se,g[42]=re,g[43]=oe):oe=g[43],oe};a.SmartTransactionStatusPage=x;a.default=x;function w(){return null}function k(){return null}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/smart-transaction-status-page.tsx"}],[7970,{"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system");const i=e=>{const t=(0,s.c)(3),{url:a,onSubmit:n}=e;let i;return t[0]!==n||t[1]!==a?(i=r.default.createElement(o.ButtonIcon,{"data-testid":"snap-account-redirect-url-icon",onClick:()=>{global.platform.openTab({url:a}),null==n||n()},iconName:o.IconName.Export,color:l.IconColor.primaryDefault,size:o.ButtonIconSize.Sm,ariaLabel:""}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i};a.default=r.default.memo(i)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/redirect-url-icon.tsx"}],[7971,{"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../hooks/useI18nContext":7200,"./snap-account-redirect-message":7972,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),i=c(e("./snap-account-redirect-message"));function c(e){return e&&e.__esModule?e:{default:e}}a.default=e=>{const t=(0,n.c)(22),{url:a,snapName:c,isBlockedUrl:d,message:p,onSubmit:m}=e,f=(0,l.useI18nContext)();let g,h,_,E,y,C;return t[0]!==f?(g=f("snapAccountRedirectFinishSigningTitle"),t[0]=f,t[1]=g):g=t[1],t[2]!==g?(h=s.default.createElement(r.Text,{"data-testid":"snap-account-redirect-content-title",textAlign:o.TextAlign.Center,variant:o.TextVariant.headingLg,paddingBottom:2},g),t[2]=g,t[3]=h):h=t[3],t[4]!==d||t[5]!==f?(_=d?s.default.createElement(r.Box,{display:o.Display.Flex,paddingLeft:4,paddingRight:4},s.default.createElement(r.BannerAlert,{severity:r.BannerAlertSeverity.Danger,"data-testid":"snap-account-redirect-content-blocked-url-banner"},s.default.createElement(r.Text,null,f("snapUrlIsBlocked",[s.default.createElement(r.Button,{variant:r.ButtonVariant.Link,size:r.ButtonSize.Inherit,onClick:u,key:"snap-url-is-blocked-learn-more-button"},f("learnMore"))])))):null,t[4]=d,t[5]=f,t[6]=_):_=t[6],t[7]!==d||t[8]!==c||t[9]!==f?(E=!1===d?s.default.createElement(r.Text,{"data-testid":"snap-account-redirect-content-description",textAlign:o.TextAlign.Center,variant:o.TextVariant.bodyMd},f("snapAccountRedirectSiteDescription",[c])):null,t[7]=d,t[8]=c,t[9]=f,t[10]=E):E=t[10],t[11]!==d||t[12]!==p||t[13]!==m||t[14]!==c||t[15]!==a?(y=(a.length>0||p.length>0)&&!1===d?s.default.createElement(i.default,{snapName:c,url:a,message:p,onSubmit:m}):null,t[11]=d,t[12]=p,t[13]=m,t[14]=c,t[15]=a,t[16]=y):y=t[16],t[17]!==h||t[18]!==_||t[19]!==E||t[20]!==y?(C=s.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Row,justifyContent:o.JustifyContent.spaceBetween,paddingTop:4},s.default.createElement(r.Box,{gap:4,display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center},h,_,E,y)),t[17]=h,t[18]=_,t[19]=E,t[20]=y,t[21]=C):C=t[21],C};function u(){return global.platform.openTab({url:"https://support.metamask.io/troubleshooting/deceptive-site-ahead-when-trying-to-connect-to-a-site/"})}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-context.tsx"}],[7972,{"../../../components/app/snaps/snap-delineator":6242,"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"./url-display-box":7973,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../../helpers/constants/design-system"),o=e("../../../components/component-library"),l=e("../../../components/app/snaps/snap-delineator"),i=c(e("./url-display-box"));function c(e){return e&&e.__esModule?e:{default:e}}const u=e=>{const t=(0,n.c)(9),{snapName:a,url:c,message:u,onSubmit:d}=e;let p,m,f;return t[0]!==u?(p=""!==u?s.default.createElement(o.Text,{variant:r.TextVariant.bodyMd,"data-testid":"snap-account-redirect-message"},u):null,t[0]=u,t[1]=p):p=t[1],t[2]!==d||t[3]!==c?(m=c.length>0?s.default.createElement(o.Box,{paddingTop:2,display:r.Display.Flex},s.default.createElement(i.default,{url:c,onSubmit:d})):null,t[2]=d,t[3]=c,t[4]=m):m=t[4],t[5]!==a||t[6]!==p||t[7]!==m?(f=s.default.createElement(l.SnapDelineator,{"data-testid":"snap-account-redirect-message-container",snapName:a},p,m),t[5]=a,t[6]=p,t[7]=m,t[8]=f):f=t[8],f};a.default=s.default.memo(u)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-message.tsx"}],[7973,{"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"./redirect-url-icon":7970,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=i(e("react")),r=e("../../../helpers/constants/design-system"),o=e("../../../components/component-library"),l=i(e("./redirect-url-icon"));function i(e){return e&&e.__esModule?e:{default:e}}const c=e=>{const t=(0,n.c)(8),{url:a,onSubmit:i}=e;let c,u,d;return t[0]!==a?(c=s.default.createElement(o.Text,{"data-testid":"snap-account-redirect-url-display-box",padding:2,variant:r.TextVariant.bodyMd,color:r.TextColor.primaryDefault},a),t[0]=a,t[1]=c):c=t[1],t[2]!==i||t[3]!==a?(u=s.default.createElement(l.default,{url:a,onSubmit:i}),t[2]=i,t[3]=a,t[4]=u):u=t[4],t[5]!==c||t[6]!==u?(d=s.default.createElement(o.Box,{display:r.Display.InlineFlex,backgroundColor:r.BackgroundColor.backgroundDefault,alignItems:r.AlignItems.center,borderWidth:1,borderRadius:r.BorderRadius.SM,borderColor:r.BorderColor.borderDefault,paddingRight:4},c,u),t[5]=c,t[6]=u,t[7]=d):d=t[7],d};a.default=s.default.memo(c)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/url-display-box.tsx"}],[7974,{"./snap-account-redirect":7975},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"SnapAccountRedirect",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-account-redirect"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/index.ts"}],[7975,{"../../components/app/snaps/snap-authorship-header":6237,"../../components/component-library":6486,"../../helpers/constants/design-system":7049,"./components/snap-account-redirect-context":7971,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../components/component-library"),o=e("../../helpers/constants/design-system"),l=c(e("../../components/app/snaps/snap-authorship-header")),i=c(e("./components/snap-account-redirect-context"));function c(e){return e&&e.__esModule?e:{default:e}}a.default=e=>{const t=(0,n.c)(12),{url:a,snapId:c,snapName:u,isBlockedUrl:d,message:p,onSubmit:m}=e;let f,g,h;return t[0]!==c?(f=s.default.createElement(l.default,{snapId:c}),t[0]=c,t[1]=f):f=t[1],t[2]!==d||t[3]!==p||t[4]!==m||t[5]!==c||t[6]!==u||t[7]!==a?(g=s.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,height:o.BlockSize.Full,padding:4},s.default.createElement(i.default,{url:a,onSubmit:m,snapId:c,snapName:u,isBlockedUrl:d,message:p})),t[2]=d,t[3]=p,t[4]=m,t[5]=c,t[6]=u,t[7]=a,t[8]=g):g=t[8],t[9]!==f||t[10]!==g?(h=s.default.createElement(r.Box,{className:"create-snap-account-page",height:o.BlockSize.Full,width:o.BlockSize.Full,borderStyle:o.BorderStyle.none,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center},f,g),t[9]=f,t[10]=g,t[11]=h):h=t[11],h}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/snap-account-redirect.tsx"}],[7976,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.KeyringSnapRemovalResultStatus=void 0;a.KeyringSnapRemovalResultStatus={Success:"success",Failed:"failed",None:"none"}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/constants.ts"}],[7977,{"./snap-view":7979},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-view"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/index.js"}],[7978,{"../../../components/app/connected-sites-list":6052,"../../../components/app/snaps/keyring-snap-removal-warning":6230,"../../../components/app/snaps/show-more":6233,"../../../components/app/snaps/snap-authorship-expanded":6235,"../../../components/app/snaps/snap-delineator":6242,"../../../components/app/snaps/snap-permissions-list":6262,"../../../components/app/snaps/snap-remove-warning":6266,"../../../components/app/snaps/snap-update-alert":6351,"../../../components/component-library":6486,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../helpers/constants/snaps":7057,"../../../hooks/useI18nContext":7200,"../../../selectors":8035,"../../../store/actions":8065,"./constants":7976,"@metamask/snaps-utils":2902,"prop-types":5052,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192,semver:5561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=x(e("prop-types")),o=e("react-router-dom-v5-compat"),l=x(e("semver")),i=e("@metamask/snaps-utils"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=x(e("../../../components/app/snaps/snap-authorship-expanded")),p=x(e("../../../components/app/snaps/snap-remove-warning")),m=x(e("../../../components/app/connected-sites-list")),f=x(e("../../../components/app/snaps/keyring-snap-removal-warning")),g=e("../../../store/actions"),h=e("../../../selectors"),_=e("../../../components/component-library"),E=x(e("../../../components/app/snaps/snap-permissions-list")),y=e("../../../components/app/snaps/snap-delineator"),C=e("../../../helpers/constants/snaps"),T=x(e("../../../components/app/snaps/snap-update-alert")),S=e("../../../helpers/constants/routes"),b=e("../../../components/app/snaps/show-more"),v=e("./constants");function x(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function k({snapId:e,initRemove:t,resetInitRemove:a}){const r=(0,o.useNavigate)(),x=(0,c.useI18nContext)(),w=(0,s.useSelector)(h.getSnaps),k=(0,s.useDispatch)(),M=Object.entries(w).map(([e,t])=>t).find(t=>t.id===e),[I,N]=(0,n.useState)(!1),[A,R]=(0,n.useState)(!1),[O,D]=(0,n.useState)([]),P=(0,s.useSelector)(h.getMemoizedMetaMaskInternalAccounts),L=(0,s.useSelector)(e=>(0,h.getSubjectsWithSnapPermission)(e,null==M?void 0:M.id)),B=(0,s.useSelector)(e=>M&&(0,h.getPermissions)(e,M.id)),{name:F,description:U}=(0,s.useSelector)(t=>(0,h.getSnapMetadata)(t,e));let j=!1;j=Boolean(null==B?void 0:B.snap_manageAccounts),(0,n.useEffect)(()=>{j&&(async()=>{const e=await(0,g.getSnapAccountsById)(M.id),t=Object.values(P).filter(t=>e.includes(t.address.toLowerCase()));D(t)})()},[null==M?void 0:M.id,P,j]);const W=(0,s.useSelector)(e=>M?(0,h.getSnapLatestVersion)(e,null==M?void 0:M.id):null),V=!!W&&l.default.gt(W,M.version);return(0,n.useEffect)(()=>{t&&(N(!0),a())},[t,a]),n.default.createElement(_.Box,null,V&&n.default.createElement(T.default,{snapName:F,onUpdateClick:async()=>{const e={[M.id]:{version:W}},t=await k((0,g.updateSnap)("MetaMask",e));t&&r(`${S.CONNECT_ROUTE}/${t}`)},bannerAlertProps:{marginBottom:4}}),n.default.createElement(d.default,{snapId:M.id,snap:M}),n.default.createElement(_.Box,{className:"snap-view__content__description",marginTop:[4,7]},n.default.createElement(y.SnapDelineator,{type:C.DelineatorType.Description,snapName:F},n.default.createElement(b.ShowMore,{buttonBackground:u.BackgroundColor.backgroundDefault},n.default.createElement(_.Text,null,U)))),n.default.createElement(_.Box,{className:"snap-view__content__permissions",marginTop:12},n.default.createElement(_.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:1},x("permissions")),n.default.createElement(E.default,{snapId:e,snapName:F,permissions:B??{},showOptions:!0,showAllPermissions:!0})),n.default.createElement(_.Box,{className:"snap-view__content__connected-sites",marginTop:12},n.default.createElement(_.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:2},L.every(e=>(0,i.isSnapId)(e.origin))?x("connectedSnaps"):L.some(e=>(0,i.isSnapId)(e.origin))?x("connectedSitesAndSnaps"):x("connectedSites")),n.default.createElement(m.default,{connectedSubjects:L,onDisconnect:e=>{var t;t=e,M.id,k((0,g.disconnectOriginFromSnap)(t,M.id))}})),n.default.createElement(_.Box,{className:"snap-view__content__remove",marginTop:12},n.default.createElement(_.Text,{variant:u.TextVariant.bodyLgMedium,color:u.TextColor.textDefault},x("removeSnap")),n.default.createElement(_.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textDefault},x("removeSnapDescription")),n.default.createElement(_.Box,{marginTop:4,display:u.Display.Flex,justifyContent:u.JustifyContent.center},n.default.createElement(_.Button,{className:"snap-view__content__remove-button",danger:"true",variant:_.ButtonVariant.Secondary,width:u.BlockSize.Full,size:_.ButtonSize.Lg,onClick:()=>N(!0),"data-testid":"remove-snap-button",disabled:M.preinstalled&&!1===M.removable},n.default.createElement(_.Text,{color:u.TextColor.inherit,variant:u.TextVariant.bodyMd,flexWrap:u.FlexWrap.NoWrap,ellipsis:!0,style:{overflow:"hidden"},paddingTop:3,paddingBottom:3},`${x("remove")} ${F}`)),n.default.createElement(p.default,{isOpen:I&&(!j||0===O.length)&&!A,onCancel:()=>N(!1),onSubmit:async()=>{await k((0,g.removeSnap)(M.id))},snapName:F}),n.default.createElement(n.default.Fragment,null,n.default.createElement(f.default,{snap:M,keyringAccounts:O,snapUrl:M.url,onCancel:()=>N(!1),onClose:()=>N(!1),onBack:()=>N(!1),onSubmit:async()=>{try{R(!0),await k((0,g.removeSnap)(M.id)),N(!1),k((0,g.showKeyringSnapRemovalModal)({snapName:F,result:v.KeyringSnapRemovalResultStatus.Success}))}catch{N(!1),k((0,g.showKeyringSnapRemovalModal)({snapName:F,result:v.KeyringSnapRemovalResultStatus.Failed}))}finally{R(!1)}},isOpen:I&&j&&O.length>0})))))}k.propTypes={snapId:r.default.string.isRequired,initRemove:r.default.bool,resetInitRemove:r.default.func};a.default=k}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-settings.js"}],[7979,{"../../../components/app/snaps/snap-authorship-header":6237,"../../../components/app/snaps/snap-home-menu":6244,"../../../components/app/snaps/snap-home-page/snap-home-renderer":6246,"../../../components/component-library":6486,"../../../components/multichain/pages/page":6826,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../selectors":8035,"./snap-settings":7978,"@metamask/utils":3070,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=E(e("prop-types")),o=e("react-redux"),l=e("@metamask/utils"),i=e("react-router-dom-v5-compat"),c=e("../../../helpers/constants/design-system"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../components/component-library"),m=e("../../../components/multichain/pages/page"),f=E(e("../../../components/app/snaps/snap-authorship-header")),g=E(e("../../../components/app/snaps/snap-home-menu")),h=e("../../../components/app/snaps/snap-home-page/snap-home-renderer"),_=E(e("./snap-settings"));function E(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function C(e){const t=(0,n.c)(42),{navigate:a,location:r}=e,E=(0,i.useNavigate)(),y=(0,i.useLocation)(),C=a??E,S=r??y,{pathname:b}=S;let v;if(t[0]!==b){let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=/[^/]+$/u,t[2]=e):e=t[2],v=b.match(e),t[0]=b,t[1]=v}else v=t[1];const x=decodeURIComponent(v[0]),w=(0,o.useSelector)(d.getSnaps);let k,M;t[3]!==w?(k=Object.entries(w).map(T),t[3]=w,t[4]=k):k=t[4],t[5]!==x||t[6]!==k?(M=k.find(e=>e.id===x),t[5]=x,t[6]=k,t[7]=M):M=t[7];const I=M;let N,A,R;t[8]!==C||t[9]!==I?(N=()=>{I||C(u.SNAPS_ROUTE)},A=[C,I],t[8]=C,t[9]=I,t[10]=N,t[11]=A):(N=t[10],A=t[11]),(0,s.useEffect)(N,A),t[12]!==I?(R=e=>I&&(0,d.getPermissions)(e,I.id),t[12]=I,t[13]=R):R=t[13];const O=(0,o.useSelector)(R);let D;t[14]!==O?(D=O&&(0,l.hasProperty)(O,"endowment:page-home"),t[14]=O,t[15]=D):D=t[15];const P=D,[L,B]=(0,s.useState)(!P),[F,U]=(0,s.useState)(!1);if(!I)return null;let j;t[16]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{B(!0)},t[16]=j):j=t[16];const W=j;let V;t[17]===Symbol.for("react.memo_cache_sentinel")?(V=()=>{U(!0),B(!0)},t[17]=V):V=t[17];const $=V;let H;t[18]===Symbol.for("react.memo_cache_sentinel")?(H=()=>{U(!1)},t[18]=H):H=t[18];const z=H;let G;if(t[19]!==P||t[20]!==C||t[21]!==L||t[22]!==I.hidden||t[23]!==I.preinstalled){const e=()=>{I.preinstalled&&I.hidden?C(u.DEFAULT_ROUTE):L&&P?B(!1):C(u.SNAPS_ROUTE)};G=()=>s.default.createElement(p.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center},s.default.createElement(p.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:p.ButtonIconSize.Md,onClick:e})),t[19]=P,t[20]=C,t[21]=L,t[22]=I.hidden,t[23]=I.preinstalled,t[24]=G}else G=t[24];const Y=G;let K;t[25]!==Y||t[26]!==I.hidden||t[27]!==I.hideSnapBranding||t[28]!==I.preinstalled||t[29]!==x?(K=!I.hideSnapBranding&&s.default.createElement(f.default,{snapId:x,showInfo:!1,startAccessory:Y(),endAccessory:!I.hidden&&s.default.createElement(g.default,{snapId:x,onSettingsClick:W,onRemoveClick:$,isSettingsAvailable:!I.preinstalled})}),t[25]=Y,t[26]=I.hidden,t[27]=I.hideSnapBranding,t[28]=I.preinstalled,t[29]=x,t[30]=K):K=t[30];const q=L?4:0,Z=L?4:0;let Q,X,J;return t[31]!==F||t[32]!==L||t[33]!==x?(Q=L?s.default.createElement(_.default,{snapId:x,initRemove:F,resetInitRemove:z}):s.default.createElement(h.SnapHomeRenderer,{snapId:x}),t[31]=F,t[32]=L,t[33]=x,t[34]=Q):Q=t[34],t[35]!==q||t[36]!==Z||t[37]!==Q?(X=s.default.createElement(m.Content,{backgroundColor:c.BackgroundColor.backgroundDefault,className:"snap-view__content",marginTop:q,padding:Z},Q),t[35]=q,t[36]=Z,t[37]=Q,t[38]=X):X=t[38],t[39]!==K||t[40]!==X?(J=s.default.createElement("div",{className:"snap-view"},s.default.createElement(m.Page,{backgroundColor:c.BackgroundColor.backgroundDefault},K,X)),t[39]=K,t[40]=X,t[41]=J):J=t[41],J}function T(e){const[,t]=e;return t}C.propTypes={navigate:r.default.func,location:r.default.object};a.default=C}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-view.js"}],[7980,{"./snap-list":7981},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-list"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/index.js"}],[7981,{"../../../components/app/snaps/snap-list-item":6254,"../../../components/component-library":6486,"../../../components/multichain/pages/page":6826,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../helpers/utils/settings-search":7099,"../../../helpers/utils/util":7109,"../../../hooks/useI18nContext":7200,"../../../selectors":8035,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=_(e("prop-types")),o=e("react-redux"),l=e("react-router-dom-v5-compat"),i=_(e("../../../components/app/snaps/snap-list-item")),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),m=e("../../../helpers/utils/settings-search"),f=e("../../../components/component-library"),g=e("../../../components/multichain/pages/page"),h=e("../../../helpers/utils/util");function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}const y=e=>{const t=(0,n.c)(25),{navigate:a}=e,r=(0,c.useI18nContext)(),_=(0,s.useRef)(),E=(0,l.useNavigate)(),y=a??E;let C;t[0]!==y?(C=e=>{y((0,h.getSnapRoute)(e.id))},t[0]=y,t[1]=C):C=t[1];const T=C;let S,b;t[2]!==r?(S=()=>{(0,m.handleSettingsRefs)(r,r("snaps"),_)},b=[_,r],t[2]=r,t[3]=S,t[4]=b):(S=t[3],b=t[4]),(0,s.useEffect)(S,b);const v=(0,o.useSelector)(p.getSnapsList),x=(0,o.useSelector)(p.getAllSnapAvailableUpdates);let w,k,M,I,N,A,R;return t[5]!==y?(w=s.default.createElement(f.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:"sm",onClick:()=>y(d.DEFAULT_ROUTE)}),t[5]=y,t[6]=w):w=t[6],t[7]!==r?(k=r("snaps"),t[7]=r,t[8]=k):k=t[8],t[9]!==w||t[10]!==k?(M=s.default.createElement(g.Header,{backgroundColor:u.BackgroundColor.backgroundDefault,startAccessory:w},k),t[9]=w,t[10]=k,t[11]=M):M=t[11],t[12]!==T||t[13]!==x||t[14]!==v?(I=v.length>0&&s.default.createElement("div",{className:"snaps__content__list__body"},s.default.createElement("div",{className:"snaps__content__list__wrapper"},v.map(e=>s.default.createElement(i.default,{className:"snaps__content__list-item",key:e.key,packageName:e.packageName,name:e.name,onClick:()=>{T(e)},snapId:e.id,showUpdateDot:x.get(e.id)})))),t[12]=T,t[13]=x,t[14]=v,t[15]=I):I=t[15],t[16]!==v.length||t[17]!==r?(N=v.length<=5&&s.default.createElement(f.Box,{display:u.Display.Flex,height:u.BlockSize.Full,flexDirection:u.FlexDirection.Row,flexWrap:u.FlexWrap.Wrap,justifyContent:u.JustifyContent.center,className:"snaps__content__list__container--snaps-info-content"},v.length<1&&s.default.createElement(f.Box,{className:"snaps__content__list__container--no-snaps_inner",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.center,alignItems:u.AlignItems.center},s.default.createElement(f.Icon,{name:f.IconName.Snaps,color:u.IconColor.iconMuted,className:"snaps__content__list__no-snaps_icon",size:f.IconSize.Inherit}),s.default.createElement(f.Text,{color:u.Color.textMuted,align:u.TextAlign.Center,marginTop:4},r("noSnaps"))),s.default.createElement(f.Box,{display:u.Display.Flex,width:u.BlockSize.Full,height:u.BlockSize.Min}),s.default.createElement(f.Box,{className:"snaps__content__list__container--no-snaps_banner-tip",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.flexEnd,paddingLeft:4,paddingRight:4,paddingBottom:4},s.default.createElement(f.BannerTip,{logoType:f.BannerTipLogoType.Greeting,description:r("extendWalletWithSnaps"),descriptionProps:{variant:u.TextVariant.bodyMd}},s.default.createElement(f.ButtonLink,{size:u.Size.auto,href:"https://snaps.metamask.io/",target:"_blank",endIconName:f.IconName.Export},`${r("discoverSnaps")}`)))),t[16]=v.length,t[17]=r,t[18]=N):N=t[18],t[19]!==I||t[20]!==N?(A=s.default.createElement(g.Content,{backgroundColor:u.BackgroundColor.backgroundDefault,className:"snaps__content"},s.default.createElement(f.Box,{className:"snaps__content__list",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,height:u.BlockSize.Full},I,N)),t[19]=I,t[20]=N,t[21]=A):A=t[21],t[22]!==M||t[23]!==A?(R=s.default.createElement("div",{className:"snaps"},s.default.createElement(g.Page,{backgroundColor:u.BackgroundColor.backgroundDefault},M,A)),t[22]=M,t[23]=A,t[24]=R):R=t[24],R};y.propTypes={navigate:r.default.func};a.default=y}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/snap-list.js"}],[7982,{"../../../shared/constants/metametrics":5768,"../../components/app/srp-details-modal":6356,"../../components/app/srp-input-import":6358,"../../components/component-library":6486,"../../contexts/metametrics":7005,"../../helpers/constants/design-system":7049,"../../hooks/useI18nContext":7200,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("../../components/component-library"),o=e("../../helpers/constants/design-system"),l=e("../../hooks/useI18nContext"),i=p(e("../../components/app/srp-input-import")),c=p(e("../../components/app/srp-details-modal")),u=e("../../../shared/constants/metametrics"),d=e("../../contexts/metametrics");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,n.c)(27),{error:a,setSecretRecoveryPhrase:p,onClearCallback:m}=e,g=(0,l.useI18nContext)(),h=(0,s.useContext)(d.MetaMetricsContext),[_,E]=(0,s.useState)(!1);let y;t[0]!==h?(y=()=>{h({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"import_srp"}}),E(!0)},t[0]=h,t[1]=y):y=t[1];const C=y;let T,S,b,v,x,w,k,M,I,N;return t[2]!==_?(T=_&&s.default.createElement(c.default,{onClose:()=>E(!1)}),t[2]=_,t[3]=T):T=t[3],t[4]!==g?(S=g("typeYourSRP"),t[4]=g,t[5]=S):S=t[5],t[6]!==S?(b=s.default.createElement(r.Text,{variant:o.TextVariant.bodyMd,color:o.TextColor.textAlternative},S),t[6]=S,t[7]=b):b=t[7],t[8]!==C?(v=s.default.createElement(r.ButtonIcon,{iconName:r.IconName.Info,size:r.ButtonIconSize.Sm,color:o.IconColor.iconAlternative,onClick:C,ariaLabel:"info"}),t[8]=C,t[9]=v):v=t[9],t[10]!==b||t[11]!==v?(x=s.default.createElement(r.Box,{display:o.Display.Flex,alignItems:o.AlignItems.center},b,v),t[10]=b,t[11]=v,t[12]=x):x=t[12],t[13]!==m||t[14]!==p?(w=s.default.createElement(i.default,{onChange:p,onClearCallback:m}),t[13]=m,t[14]=p,t[15]=w):w=t[15],t[16]!==a?(k=a&&s.default.createElement(r.Box,{marginTop:2},s.default.createElement(r.Text,{"data-testid":"import-srp-error",variant:o.TextVariant.bodySm,color:o.TextColor.errorDefault},a)),t[16]=a,t[17]=k):k=t[17],t[18]!==w||t[19]!==k?(M=s.default.createElement(r.Box,{width:o.BlockSize.Full},s.default.createElement("form",{onSubmit:f},w,k)),t[18]=w,t[19]=k,t[20]=M):M=t[20],t[21]!==x||t[22]!==M?(I=s.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,gap:4,height:o.BlockSize.Full},x,M),t[21]=x,t[22]=M,t[23]=I):I=t[23],t[24]!==I||t[25]!==T?(N=s.default.createElement(s.default.Fragment,null,T,I),t[24]=I,t[25]=T,t[26]=N):N=t[26],N};function f(e){return e.preventDefault()}}}},{package:"$root$",file:"ui/pages/srp-input-form/index.tsx"}],[7983,{"../../../../shared/constants/metametrics":5768,"../../../../shared/modules/selectors":5906,"../../../components/component-library":6486,"../../../components/ui/box":6875,"../../../components/ui/pulse-loader":6956,"../../../contexts/i18n":7e3,"../../../contexts/metametrics":7005,"../../../ducks/swaps/swaps":7045,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../selectors/selectors":8052,"../swaps-footer":8009,"./swap-step-icon":7985,"lodash/isEqual":4781,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,n.c)(41),t=(0,s.useContext)(i.I18nContext),a=(0,o.useNavigate)(),T=(0,r.useDispatch)(),S=(0,r.useSelector)(c.getFetchParams,l.default);let b;e[0]!==(null==S?void 0:S.metaData)?(b=(null==S?void 0:S.metaData)||{},e[0]=null==S?void 0:S.metaData,e[1]=b):b=e[1];const{destinationTokenInfo:v,sourceTokenInfo:x}=b,w=(0,r.useSelector)(c.getApproveTxParams,r.shallowEqual),k=(0,r.useSelector)(u.isHardwareWallet),M=(0,r.useSelector)(u.getHardwareWalletType),I=(0,r.useSelector)(d.getSmartTransactionsOptInStatusForMetrics),N=(0,r.useSelector)(d.getSmartTransactionsEnabled),A=(0,r.useSelector)(c.getCurrentSmartTransactionsEnabled),R=Boolean(w),O=(0,s.useContext)(_.MetaMetricsContext);let D,P,L;e[2]!==A||e[3]!==(null==v?void 0:v.symbol)||e[4]!==(null==S?void 0:S.balanceError)||e[5]!==(null==S?void 0:S.slippage)||e[6]!==(null==S?void 0:S.value)||e[7]!==M||e[8]!==k||e[9]!==R||e[10]!==N||e[11]!==I||e[12]!==(null==x?void 0:x.symbol)||e[13]!==O?(D=()=>{O({event:"Awaiting Signature(s) on a HW wallet",category:E.MetaMetricsEventCategory.Swaps,sensitiveProperties:{needs_two_confirmations:R,token_from:null==x?void 0:x.symbol,token_from_amount:null==S?void 0:S.value,token_to:null==v?void 0:v.symbol,request_type:null!=S&&S.balanceError?"Quote":"Order",slippage:null==S?void 0:S.slippage,custom_slippage:2===(null==S?void 0:S.slippage),is_hardware_wallet:k,hardware_wallet_type:M,stx_enabled:N,current_stx_enabled:A,stx_user_opt_in:I}})},e[2]=A,e[3]=null==v?void 0:v.symbol,e[4]=null==S?void 0:S.balanceError,e[5]=null==S?void 0:S.slippage,e[6]=null==S?void 0:S.value,e[7]=M,e[8]=k,e[9]=R,e[10]=N,e[11]=I,e[12]=null==x?void 0:x.symbol,e[13]=O,e[14]=D):D=e[14];e[15]===Symbol.for("react.memo_cache_sentinel")?(P=[],e[15]=P):P=e[15];(0,s.useEffect)(D,P),e[16]!==R||e[17]!==t?(L=t(R?"swapTwoTransactions":"swapConfirmWithHwWallet"),e[16]=R,e[17]=t,e[18]=L):L=e[18];const B=L;let F,U,j,W,V,$,H,z;e[19]===Symbol.for("react.memo_cache_sentinel")?(F=s.default.createElement(f.default,{marginTop:3,marginBottom:4},s.default.createElement(m.default,null)),e[19]=F):F=e[19];e[20]!==B?(U=s.default.createElement(y.Text,{color:g.TextColor.textDefault,variant:g.TextVariant.headingMd,as:"h3"},B),e[20]=B,e[21]=U):U=e[21];e[22]!==(null==v?void 0:v.symbol)||e[23]!==R||e[24]!==(null==x?void 0:x.symbol)||e[25]!==t?(j=R&&s.default.createElement(s.default.Fragment,null,s.default.createElement(y.Text,{variant:g.TextVariant.bodyMdBold,marginTop:2},t("swapToConfirmWithHwWallet")),s.default.createElement("ul",{className:"awaiting-signatures__steps"},s.default.createElement("li",null,s.default.createElement(C.default,{stepNumber:1}),t("swapAllowSwappingOf",[s.default.createElement(y.Text,{as:"span",variant:g.TextVariant.bodyMdBold,key:"allowToken"},null==v?void 0:v.symbol)])),s.default.createElement("li",null,s.default.createElement(C.default,{stepNumber:2}),t("swapFromTo",[s.default.createElement(y.Text,{as:"span",variant:g.TextVariant.bodyMdBold,key:"tokenFrom"},null==x?void 0:x.symbol),s.default.createElement(y.Text,{as:"span",variation:g.TextVariant.bodyMdBold,key:"tokenTo"},null==v?void 0:v.symbol)]))),s.default.createElement(y.Text,{variant:g.TextVariant.bodyMd},t("swapGasFeesSplit"))),e[22]=null==v?void 0:v.symbol,e[23]=R,e[24]=null==x?void 0:x.symbol,e[25]=t,e[26]=j):j=e[26];e[27]!==U||e[28]!==j?(W=s.default.createElement(f.default,{paddingLeft:8,paddingRight:8,height:g.BLOCK_SIZES.FULL,justifyContent:g.JustifyContent.center,display:g.DISPLAY.FLEX,className:"awaiting-signatures__content"},F,U,j),e[27]=U,e[28]=j,e[29]=W):W=e[29];e[30]!==T||e[31]!==a?(V=async()=>{await T((0,c.prepareToLeaveSwaps)()),a(p.PREPARE_SWAP_ROUTE)},e[30]=T,e[31]=a,e[32]=V):V=e[32];e[33]!==t?($=t("cancel"),e[33]=t,e[34]=$):$=e[34];e[35]!==V||e[36]!==$?(H=s.default.createElement(h.default,{onSubmit:V,submitText:$,hideCancel:!0}),e[35]=V,e[36]=$,e[37]=H):H=e[37];e[38]!==H||e[39]!==W?(z=s.default.createElement("div",{className:"awaiting-signatures"},W,H),e[38]=H,e[39]=W,e[40]=z):z=e[40];return z};var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom-v5-compat"),l=T(e("lodash/isEqual")),i=e("../../../contexts/i18n"),c=e("../../../ducks/swaps/swaps"),u=e("../../../selectors/selectors"),d=e("../../../../shared/modules/selectors"),p=e("../../../helpers/constants/routes"),m=T(e("../../../components/ui/pulse-loader")),f=T(e("../../../components/ui/box")),g=e("../../../helpers/constants/design-system"),h=T(e("../swaps-footer")),_=e("../../../contexts/metametrics"),E=e("../../../../shared/constants/metametrics"),y=e("../../../components/component-library"),C=T(e("./swap-step-icon"));function T(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/awaiting-signatures.js"}],[7984,{"./awaiting-signatures":7983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./awaiting-signatures"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/index.js"}],[7985,{"prop-types":5052,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=l;var n=e("react-compiler-runtime"),s=o(e("react")),r=o(e("prop-types"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){const t=(0,n.c)(2),{stepNumber:a}=e;switch(a===undefined?1:a){case 1:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),s.default.createElement("path",{d:"M6.50983 5.192H5.27783L6.14183 4H7.71783V9.68H6.50983V5.192Z",fill:"var(--color-primary-default)"})),t[0]=e):e=t[0],e}case 2:{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=s.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),s.default.createElement("path",{d:"M8.92 9.776H5V9.368C5 9.048 5.056 8.77067 5.168 8.536C5.28 8.296 5.42133 8.08533 5.592 7.904C5.768 7.71733 5.96267 7.54933 6.176 7.4C6.39467 7.25067 6.608 7.10133 6.816 6.952C6.928 6.872 7.03467 6.78933 7.136 6.704C7.24267 6.61867 7.33333 6.53067 7.408 6.44C7.488 6.34933 7.552 6.256 7.6 6.16C7.648 6.064 7.672 5.96533 7.672 5.864C7.672 5.67733 7.616 5.52 7.504 5.392C7.39733 5.25867 7.22933 5.192 7 5.192C6.88267 5.192 6.776 5.21333 6.68 5.256C6.584 5.29333 6.50133 5.344 6.432 5.408C6.368 5.472 6.31733 5.54667 6.28 5.632C6.248 5.71733 6.232 5.808 6.232 5.904H5.024C5.024 5.62667 5.07467 5.37067 5.176 5.136C5.27733 4.90133 5.41867 4.70133 5.6 4.536C5.78133 4.36533 5.99467 4.23467 6.24 4.144C6.48533 4.048 6.752 4 7.04 4C7.28 4 7.50933 4.03733 7.728 4.112C7.952 4.18667 8.14933 4.29867 8.32 4.448C8.49067 4.59733 8.62667 4.784 8.728 5.008C8.82933 5.22667 8.88 5.48267 8.88 5.776C8.88 6.032 8.85067 6.25867 8.792 6.456C8.73333 6.648 8.65067 6.824 8.544 6.984C8.44267 7.13867 8.32 7.28 8.176 7.408C8.032 7.536 7.87733 7.66133 7.712 7.784C7.64267 7.832 7.55733 7.888 7.456 7.952C7.36 8.016 7.26133 8.08267 7.16 8.152C7.064 8.22133 6.97333 8.29333 6.888 8.368C6.80267 8.44267 6.74133 8.51467 6.704 8.584H8.92V9.776Z",fill:"var(--color-primary-default)"})),t[1]=e):e=t[1],e}default:return}}l.propTypes={stepNumber:r.default.number}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/swap-step-icon.js"}],[7986,{"../../../../shared/constants/common":5756,"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/swaps":5788,"../../../../shared/lib/ui-utils":5880,"../../../../shared/modules/selectors":5906,"../../../../shared/modules/selectors/networks":5908,"../../../../shared/modules/swaps.utils":5918,"../../../components/ui/mascot":6936,"../../../components/ui/pulse-loader":6956,"../../../contexts/i18n":7e3,"../../../contexts/metametrics":7005,"../../../ducks/metamask/metamask":7033,"../../../ducks/swaps/swaps":7045,"../../../helpers/constants/routes":7054,"../../../helpers/utils/build-types":7075,"../../../selectors":8035,"../../../selectors/selectors":8052,"../../../store/actions":8065,"../create-new-swap":7992,"../swaps-footer":8009,"../swaps.util":8012,"../view-on-block-explorer":8013,"./quotes-timeout-icon":7988,"./swap-failure-icon":7989,"./swap-success-icon":7990,"@metamask/etherscan-link":2044,events:4338,"lodash/isEqual":4781,"prop-types":5052,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=B;var n=L(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=L(e("prop-types")),l=e("react-router-dom-v5-compat"),i=L(e("lodash/isEqual")),c=e("@metamask/etherscan-link"),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/modules/selectors/networks"),f=e("../../../ducks/metamask/metamask"),g=e("../../../selectors"),h=e("../../../selectors/selectors"),_=e("../../../../shared/modules/selectors"),E=e("../../../ducks/swaps/swaps"),y=L(e("../../../components/ui/mascot")),C=e("../../../../shared/constants/swaps"),T=e("../../../../shared/constants/common"),S=e("../../../../shared/modules/swaps.utils"),b=L(e("../../../components/ui/pulse-loader")),v=e("../../../helpers/utils/build-types"),x=e("../../../helpers/constants/routes"),w=e("../../../store/actions"),k=e("../swaps.util"),M=L(e("../swaps-footer")),I=L(e("../create-new-swap")),N=L(e("../view-on-block-explorer")),A=e("../../../../shared/lib/ui-utils"),R=L(e("./swap-failure-icon")),O=L(e("./swap-success-icon")),D=L(e("./quotes-timeout-icon"));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function L(e){return e&&e.__esModule?e:{default:e}}function B({swapComplete:e,errorKey:t,txHash:a,tokensReceived:o,submittingSwap:P,txId:L}){var B,F;const U=(0,s.useContext)(u.I18nContext),j=(0,s.useContext)(d.MetaMetricsContext),W=(0,l.useNavigate)(),V=(0,r.useDispatch)(),$=(0,r.useSelector)(h.getHDEntropyIndex),H=(0,s.useRef)(new n.default),{swapMetaData:z}=(0,r.useSelector)(e=>(0,g.getFullTxData)(e,L))||{},G=(0,r.useSelector)(E.getFetchParams,i.default),Y=(0,r.useSelector)(E.getFromTokenInputValue),K=(0,r.useSelector)(E.getMaxSlippage),q=(0,r.useSelector)(E.getUsedQuote,i.default),Z=(0,r.useSelector)(E.getApproveTxParams,r.shallowEqual),Q=(0,r.useSelector)(E.getUsedSwapsGasPrice),X=(0,r.useSelector)(f.getCurrentCurrency),J=(0,r.useSelector)(g.getUSDConversionRate),ee=(0,r.useSelector)(m.getCurrentChainId),te=(0,r.useSelector)(g.getRpcPrefsForCurrentProvider,r.shallowEqual),[ae,ne]=(0,s.useState)(!1),se=(null==q||null===(B=q.destinationTokenInfo)||void 0===B?void 0:B.symbol)||(null==z?void 0:z.token_to);let re;if(q&&Q){var oe,le;re=(0,k.getRenderableNetworkFeesForQuote)({tradeGas:q.gasEstimateWithRefund||q.averageGas,approveGas:(null==Z?void 0:Z.gas)||"0x0",gasPrice:Q,currentCurrency:X,conversionRate:J,tradeValue:null==q||null===(oe=q.trade)||void 0===oe?void 0:oe.value,sourceSymbol:null==q||null===(le=q.sourceTokenInfo)||void 0===le?void 0:le.symbol,sourceAmount:q.sourceAmount,chainId:ee}).rawNetworkFees}const ie=(0,r.useSelector)(g.isHardwareWallet),ce=(0,r.useSelector)(g.getHardwareWalletType),ue=(0,r.useSelector)(_.getSmartTransactionsOptInStatusForMetrics),de=(0,r.useSelector)(_.getSmartTransactionsEnabled),pe=(0,r.useSelector)(E.getCurrentSmartTransactionsEnabled),me=(null==z?void 0:z.slippage)||(null==q?void 0:q.slippage),fe={token_from:(null==z?void 0:z.token_from)||(null==q||null===(F=q.sourceTokenInfo)||void 0===F?void 0:F.symbol),token_from_amount:null==z?void 0:z.token_from_amount,token_to:se,request_type:null!=G&&G.balanceError?"Quote":"Order",slippage:me,custom_slippage:2===me,gas_fees:re,is_hardware_wallet:ie,hardware_wallet_type:ce,stx_enabled:de,current_stx_enabled:pe,stx_user_opt_in:ue},ge=te.blockExplorerUrl??T.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[ee]??null,he=(0,c.getBlockExplorerLink)({hash:a,chainId:ee},{blockExplorerUrl:ge});let _e,Ee,ye,Ce,Te;t===C.OFFLINE_FOR_MAINTENANCE?(_e=U("offlineForMaintenance"),ye=U("metamaskSwapsOfflineDescription"),Ce=U("close"),Ee=s.default.createElement(R.default,null)):t===C.SWAP_FAILED_ERROR?(_e=U("swapFailedErrorTitle"),ye=U("swapFailedErrorDescriptionWithSupportLink",[s.default.createElement("a",{className:"awaiting-swap__support-link",key:"awaiting-swap-support-link",href:A.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",onClick:()=>{j({category:p.MetaMetricsEventCategory.Swaps,event:p.MetaMetricsEventName.SupportLinkClicked,properties:{url:A.SUPPORT_LINK}},{contextPropsIntoEventProperties:[p.MetaMetricsContextProp.PageTitle]})}},new URL(A.SUPPORT_LINK).hostname)]),Ce=U("tryAgain"),Ee=s.default.createElement(R.default,null),Te=he&&s.default.createElement(N.default,{blockExplorerUrl:he,sensitiveTrackingProperties:fe})):t===C.QUOTES_EXPIRED_ERROR?(_e=U("swapQuotesExpiredErrorTitle"),ye=U("swapQuotesExpiredErrorDescription"),Ce=U("tryAgain"),Ee=s.default.createElement(D.default,null),ae||(ne(!0),j({event:"Quotes Timed Out",category:p.MetaMetricsEventCategory.Swaps,sensitiveProperties:fe,properties:{hd_entropy_index:$}}))):t===C.ERROR_FETCHING_QUOTES?(_e=U("swapFetchingQuotesErrorTitle"),ye=U("swapFetchingQuotesErrorDescription"),Ce=U("back"),Ee=s.default.createElement(R.default,null)):t===C.QUOTES_NOT_AVAILABLE_ERROR?(_e=U("swapQuotesNotAvailableErrorTitle"),ye=U("swapQuotesNotAvailableErrorDescription"),Ce=U("tryAgain"),Ee=s.default.createElement(R.default,null)):t===C.CONTRACT_DATA_DISABLED_ERROR?(_e=U("swapContractDataDisabledErrorTitle"),ye=U("swapContractDataDisabledErrorDescription"),Ce=U("tryAgain"),Ee=s.default.createElement(R.default,null)):t||e?!t&&e&&(_e=U("swapTransactionComplete"),Ee=s.default.createElement(O.default,null),Ce=U("close"),ye=U("swapTokenAvailable",[s.default.createElement("span",{key:"swapTokenAvailable-2",className:"awaiting-swap__amount-and-symbol"},`${o||""} ${se}`)]),Te=he&&s.default.createElement(N.default,{blockExplorerUrl:he,sensitiveTrackingProperties:fe})):(_e=U("swapProcessing"),Ee=s.default.createElement(b.default,null),Ce=U("swapsViewInActivity"),ye=U("swapOnceTransactionHasProcess",[s.default.createElement("span",{key:"swapOnceTransactionHasProcess-1",className:"awaiting-swap__amount-and-symbol","data-testid":"awaiting-swap-amount-and-symbol"},se)]),Te=he&&s.default.createElement(N.default,{blockExplorerUrl:he,sensitiveTrackingProperties:fe})),(0,s.useEffect)(()=>{t&&V((0,w.stopPollingForQuotes)())},[V,t]);return s.default.createElement("div",{className:"awaiting-swap"},s.default.createElement("div",{className:"awaiting-swap__content"},!(e||t)&&((0,v.isFlask)()||(0,v.isBeta)()?s.default.createElement("div",{className:"awaiting-swap__mascot"},s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"90",height:"90"})):s.default.createElement(y.default,{animationEventEmitter:H.current,width:"90",height:"90"})),s.default.createElement("div",{className:"awaiting-swap__status-image"},Ee),s.default.createElement("div",{className:"awaiting-swap__header","data-testid":"awaiting-swap-header"},_e),s.default.createElement("div",{className:"awaiting-swap__main-description","data-testid":"awaiting-swap-main-description"},ye),Te),!t&&e?s.default.createElement(I.default,{sensitiveTrackingProperties:fe}):null,s.default.createElement(M.default,{onSubmit:async()=>{t===C.OFFLINE_FOR_MAINTENANCE?(await V((0,E.prepareToLeaveSwaps)()),W(x.DEFAULT_ROUTE)):t===C.QUOTES_EXPIRED_ERROR?(V((0,E.prepareForRetryGetQuotes)()),await V((0,E.fetchQuotesAndSetQuoteState)(W,Y,K,j))):t?await V((0,E.navigateBackToPrepareSwap)(W)):((0,S.isSwapsDefaultTokenSymbol)(se,ee)||e||await V((0,w.setDefaultHomeActiveTabName)("activity")),W(x.DEFAULT_ROUTE))},onCancel:async()=>await V((0,E.navigateBackToPrepareSwap)(W)),submitText:Ce,disabled:P,hideCancel:t!==C.QUOTES_EXPIRED_ERROR}))}B.propTypes={swapComplete:o.default.bool,txHash:o.default.string,tokensReceived:o.default.string,errorKey:o.default.oneOf([C.QUOTES_EXPIRED_ERROR,C.SWAP_FAILED_ERROR,C.ERROR_FETCHING_QUOTES,C.QUOTES_NOT_AVAILABLE_ERROR,C.OFFLINE_FOR_MAINTENANCE,C.CONTRACT_DATA_DISABLED_ERROR]),submittingSwap:o.default.bool,txId:o.default.string}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/awaiting-swap.js"}],[7987,{"./awaiting-swap":7986},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./awaiting-swap"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/index.js"}],[7988,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22 0C9.96768 0 0.178406 9.78928 0.178406 21.8216C0.178406 33.8539 9.96768 43.6432 22 43.6432C34.0323 43.6432 43.8216 33.8539 43.8216 21.8216C43.8216 9.78929 34.0323 0 22 0ZM22 3.27324C32.2633 3.27324 40.5484 11.5583 40.5484 21.8216C40.5484 32.0849 32.2633 40.3699 22 40.3699C11.7367 40.3699 3.45164 32.0849 3.45164 21.8216C3.45164 11.5583 11.7367 3.27324 22 3.27324ZM22 6.00094C21.0961 6.00094 20.3634 6.73371 20.3634 7.63756V21.8216C20.3634 22.4269 20.6932 22.9534 21.1817 23.2366L32.5187 29.783C33.3014 30.235 34.3001 29.9692 34.752 29.1864C35.2039 28.4036 34.938 27.405 34.1553 26.953L23.6366 20.8839V7.63756C23.6366 6.73371 22.9039 6.00094 22 6.00094Z",fill:"var(--color-primary-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/quotes-timeout-icon.js"}],[7989,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"45",height:"39",viewBox:"0 0 45 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22.203 0.424438L0.285706 38.2816H44.1203L22.203 0.424438ZM22.203 8.39436L37.2064 34.2966H7.19961L22.203 8.39436ZM20.2105 16.3643V24.3342H24.1955V16.3643H20.2105ZM20.2105 28.3192V32.3041H24.1955V28.3192",fill:"var(--color-error-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-failure-icon.js"}],[7990,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.1429 19C34.1429 23.0161 32.5474 26.8678 29.7076 29.7076C26.8678 32.5474 23.0161 34.1428 19 34.1428C14.9839 34.1428 11.1322 32.5474 8.29238 29.7076C5.45254 26.8678 3.85714 23.0161 3.85714 19C3.85714 14.9838 5.45254 11.1322 8.29238 8.29237C11.1322 5.45253 14.9839 3.85713 19 3.85713C20.4386 3.85713 21.8393 4.06534 23.1643 4.44391L26.1361 1.47213C23.9404 0.563554 21.5364 0.0714111 19 0.0714111C16.5143 0.0714111 14.0529 0.561013 11.7563 1.51226C9.45983 2.46351 7.37316 3.85778 5.61548 5.61546C2.06568 9.16526 0.0714264 13.9798 0.0714264 19C0.0714264 24.0201 2.06568 28.8347 5.61548 32.3845C7.37316 34.1422 9.45983 35.5364 11.7563 36.4877C14.0529 37.4389 16.5143 37.9286 19 37.9286C24.0202 37.9286 28.8347 35.9343 32.3845 32.3845C35.9343 28.8347 37.9286 24.0201 37.9286 19H34.1429ZM11.2582 15.3657L8.58928 18.0536L17.1071 26.5714L36.0357 7.64284L33.3668 4.95498L17.1071 21.2146L11.2582 15.3657Z",fill:"var(--color-success-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-success-icon.js"}],[7991,{"../../../../shared/constants/metametrics":5768,"../../../components/ui/box":6875,"../../../contexts/i18n":7e3,"../../../contexts/metametrics":7005,"../../../ducks/swaps/swaps":7045,"../../../helpers/constants/routes":7054,"../../../selectors":8035,"../../../selectors/selectors":8052,"lodash/isEqual":4781,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=y;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=_(e("prop-types")),l=e("react-router-dom-v5-compat"),i=_(e("lodash/isEqual")),c=_(e("../../../components/ui/box")),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../ducks/swaps/swaps"),f=e("../../../helpers/constants/routes"),g=e("../../../selectors"),h=e("../../../selectors/selectors");function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function y(e){const t=(0,n.c)(12),{sensitiveTrackingProperties:a}=e,o=(0,s.useContext)(u.I18nContext),_=(0,s.useContext)(d.MetaMetricsContext),E=(0,r.useSelector)(h.getHDEntropyIndex),y=(0,r.useDispatch)(),C=(0,l.useNavigate)(),T=(0,r.useSelector)(g.getSwapsDefaultToken,i.default);let S,b,v;return t[0]!==T||t[1]!==y||t[2]!==E||t[3]!==C||t[4]!==a||t[5]!==_?(S=async()=>{_({event:p.MetaMetricsEventName.MakeAnotherSwap,category:p.MetaMetricsEventCategory.Swaps,sensitiveProperties:a,properties:{hd_entropy_index:E}}),C(f.DEFAULT_ROUTE),await y((0,m.navigateBackToPrepareSwap)(C)),y((0,m.setSwapsFromToken)(T))},t[0]=T,t[1]=y,t[2]=E,t[3]=C,t[4]=a,t[5]=_,t[6]=S):S=t[6],t[7]!==o?(b=o("makeAnotherSwap"),t[7]=o,t[8]=b):b=t[8],t[9]!==S||t[10]!==b?(v=s.default.createElement(c.default,{marginBottom:3,className:"create-new-swap"},s.default.createElement("button",{onClick:S},b)),t[9]=S,t[10]=b,t[11]=v):v=t[11],v}y.propTypes={sensitiveTrackingProperties:o.default.object.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/create-new-swap.js"}],[7992,{"./create-new-swap":7991},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./create-new-swap"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/index.js"}],[7993,{"../../../ducks/swaps/swaps":7045,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useSwapsFeatureFlags=function(){const e=(0,n.c)(3),t=(0,r.useDispatch)();let a,l;e[0]!==t?(a=()=>{(async()=>{await t((0,o.fetchSwapsLivenessAndFeatureFlags)())})()},l=[t],e[0]=t,e[1]=a,e[2]=l):(a=e[1],l=e[2]);(0,s.useEffect)(a,l)};var n=e("react-compiler-runtime"),s=e("react"),r=e("react-redux"),o=e("../../../ducks/swaps/swaps")}}},{package:"$root$",file:"ui/pages/swaps/hooks/useSwapsFeatureFlags.ts"}],[7994,{"../../../../shared/modules/selectors/networks":5908,"../../../ducks/swaps/swaps":7045,"../../../selectors":8035,"../../../store/actions":8065,"../swaps.util":8012,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,n.c)(7),t=(0,r.useDispatch)(),a=(0,r.useSelector)(c.getCurrentChainId),p=(0,r.useSelector)(u.getIsSwapsChain),m=(0,r.useSelector)(u.checkNetworkAndAccountSupports1559),f=(0,r.useSelector)(u.getUseExternalServices);let g,h;e[0]!==a||e[1]!==t||e[2]!==f||e[3]!==p||e[4]!==m?(g=()=>{if(p&&f)return(0,o.fetchTokens)(a).then(e=>{t((0,i.setSwapsTokens)(e))}).catch(d),(0,o.fetchTopAssets)(a).then(e=>{t((0,l.setTopAssets)(e))}),(0,o.fetchAggregatorMetadata)(a).then(e=>{t((0,l.setAggregatorMetadata)(e))}),m||t((0,l.fetchAndSetSwapsGasPriceInfo)()),()=>{t((0,l.prepareToLeaveSwaps)())}},h=[t,a,m,p,f],e[0]=a,e[1]=t,e[2]=f,e[3]=p,e[4]=m,e[5]=g,e[6]=h):(g=e[5],h=e[6]);(0,s.useEffect)(g,h)};var n=e("react-compiler-runtime"),s=e("react"),r=e("react-redux"),o=e("../swaps.util"),l=e("../../../ducks/swaps/swaps"),i=e("../../../store/actions"),c=e("../../../../shared/modules/selectors/networks"),u=e("../../../selectors");function d(e){return console.error(e)}}}},{package:"$root$",file:"ui/pages/swaps/hooks/useUpdateSwapsState.ts"}],[7995,{"../../../shared/constants/metametrics":5768,"../../../shared/constants/swaps":5788,"../../../shared/lib/transactions-controller-utils":5875,"../../../shared/modules/selectors":5906,"../../../shared/modules/selectors/networks":5908,"../../components/component-library":6486,"../../components/ui/box":6875,"../../contexts/i18n":7e3,"../../contexts/metametrics":7005,"../../ducks/swaps/swaps":7045,"../../helpers/constants/design-system":7049,"../../helpers/constants/routes":7054,"../../helpers/higher-order-components/feature-toggled-route":7065,"../../hooks/useGasFeeEstimates":7197,"../../hooks/useSafeNavigation":7223,"../../selectors":8035,"../../selectors/selectors":8052,"../../store/actions":8065,"./awaiting-signatures":7984,"./awaiting-swap":7987,"./hooks/useUpdateSwapsState":7994,"./loading-swaps-quotes":7997,"./notification-page/notification-page":8e3,"./smart-transaction-status":8003,"@metamask/transaction-controller":2989,lodash:4794,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=L;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=D(e("prop-types")),o=e("react-redux"),l=e("react-router-dom-v5-compat"),i=e("lodash"),c=e("@metamask/transaction-controller"),u=e("../../contexts/i18n"),d=e("../../hooks/useSafeNavigation"),p=e("../../selectors/selectors"),m=e("../../../shared/modules/selectors/networks"),f=e("../../ducks/swaps/swaps"),g=e("../../selectors"),h=e("../../../shared/modules/selectors"),_=e("../../helpers/constants/routes"),E=e("../../../shared/constants/swaps"),y=e("../../store/actions"),C=e("../../hooks/useGasFeeEstimates"),T=D(e("../../helpers/higher-order-components/feature-toggled-route")),S=e("../../../shared/constants/metametrics"),b=e("../../contexts/metametrics"),v=e("../../../shared/lib/transactions-controller-utils"),x=e("../../components/component-library"),w=D(e("../../components/ui/box")),k=e("../../helpers/constants/design-system"),M=D(e("./hooks/useUpdateSwapsState")),I=D(e("./awaiting-signatures")),N=D(e("./smart-transaction-status")),A=D(e("./awaiting-swap")),R=D(e("./loading-swaps-quotes")),O=D(e("./notification-page/notification-page"));function D(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function L(e){var t,a,r,D,P,L,B,F;const U=(0,n.c)(166),{location:j}=e,W=(0,s.useContext)(u.I18nContext),{navigate:V,location:$}=(0,d.useSafeNavigation)(),H=j||$,z=(0,o.useDispatch)(),G=(0,s.useContext)(b.MetaMetricsContext),Y=(0,o.useSelector)(p.getHDEntropyIndex),{pathname:K}=H,q=K===_.AWAITING_SWAP_ROUTE,Z=K===_.AWAITING_SIGNATURES_ROUTE,Q=K===_.SWAPS_ERROR_ROUTE,X=K===_.LOADING_QUOTES_ROUTE,J=K===_.SMART_TRANSACTION_STATUS_ROUTE,ee=K===_.PREPARE_SWAP_ROUTE,[te,ae]=(0,s.useState)(!1),ne=(0,o.useSelector)(f.getFetchParams,i.isEqual);let se;U[0]!==(null==ne?void 0:ne.metaData)?(se=(null==ne?void 0:ne.metaData)||{},U[0]=null==ne?void 0:ne.metaData,U[1]=se):se=U[1];const{destinationTokenInfo:re}=se;let oe;U[2]!==re?(oe=re===undefined?{}:re,U[2]=re,U[3]=oe):oe=U[3];const le=oe,ie=(0,o.useSelector)(f.getBackgroundSwapRouteState),ce=(0,o.useSelector)(p.getSelectedAccount,o.shallowEqual),ue=(0,o.useSelector)(f.getQuotes,i.isEqual),de=(0,o.useSelector)(f.getLatestAddedTokenTo,i.isEqual),pe=(0,o.useSelector)(g.getCurrentNetworkTransactions,o.shallowEqual),me=(0,o.useSelector)(f.getTradeTxId),fe=(0,o.useSelector)(f.getApproveTxId),ge=(0,o.useSelector)(f.getAggregatorMetadata,o.shallowEqual),he=(0,o.useSelector)(f.getFetchingQuotes);let _e=(0,o.useSelector)(f.getSwapsErrorKey);const Ee=(0,o.useSelector)(f.getSwapsFeatureIsLive),ye=(0,o.useSelector)(m.getCurrentChainId),Ce=(0,o.useSelector)(p.getIsSwapsChain),Te=(0,o.useSelector)(f.getReviewSwapClickedTimestamp),Se=Boolean(Te),be=(0,o.useSelector)(h.getSmartTransactionsOptInStatusForMetrics),ve=(0,o.useSelector)(h.getSmartTransactionsEnabled),xe=(0,o.useSelector)(f.getCurrentSmartTransactionsEnabled),we=(0,o.useSelector)(f.getCurrentSmartTransactionsError),ke=(0,o.useSelector)(m.getSelectedNetworkClientId);let Me,Ie;U[4]!==z||U[5]!==Ce||U[6]!==V?(Me=()=>{Ce||(async()=>{await z((0,f.prepareToLeaveSwaps)()),V(_.DEFAULT_ROUTE)})()},Ie=[Ce,z,V],U[4]=z,U[5]=Ce,U[6]=V,U[7]=Me,U[8]=Ie):(Me=U[7],Ie=U[8]),(0,s.useEffect)(Me,Ie),(0,C.useGasFeeEstimates)();const{address:Ne}=ce;let Ae;U[9]!==fe||U[10]!==pe?(Ae=fe&&pe.find(e=>{const{id:t}=e;return fe===t}),U[9]=fe,U[10]=pe,U[11]=Ae):Ae=U[11];const Re=Ae;let Oe;U[12]!==me||U[13]!==pe?(Oe=me&&pe.find(e=>{const{id:t}=e;return me===t}),U[12]=me,U[13]=pe,U[14]=Oe):Oe=U[14];const De=Oe;let Pe;U[15]!==Re||U[16]!==ye||U[17]!==(null==le?void 0:le.address)||U[18]!==(null==le?void 0:le.decimals)||U[19]!==(null==le?void 0:le.symbol)||U[20]!==Ne||U[21]!==De?(Pe=(null==De?void 0:De.txReceipt)&&(0,v.getSwapsTokensReceivedFromTxMeta)(null==le?void 0:le.symbol,De,null==le?void 0:le.address,Ne,null==le?void 0:le.decimals,Re,ye),U[15]=Re,U[16]=ye,U[17]=null==le?void 0:le.address,U[18]=null==le?void 0:le.decimals,U[19]=null==le?void 0:le.symbol,U[20]=Ne,U[21]=De,U[22]=Pe):Pe=U[22];const Le=Pe,Be=(null==De?void 0:De.status)===c.TransactionStatus.confirmed,Fe=(null==Re?void 0:Re.status)===c.TransactionStatus.failed||"0x0"===(null==Re||null===(t=Re.txReceipt)||void 0===t?void 0:t.status),Ue=(null==De?void 0:De.status)===c.TransactionStatus.failed||"0x0"===(null==De||null===(a=De.txReceipt)||void 0===a?void 0:a.status),je=Fe||Ue;je&&_e!==E.CONTRACT_DATA_DISABLED_ERROR&&(_e=E.SWAP_FAILED_ERROR);const We=(0,s.useRef)();let Ve,$e,He,ze;U[23]!==je||U[24]!==z||U[25]!==q||U[26]!==de||U[27]!==ke?(Ve=()=>{We.current=()=>{!de||q&&!je||z((0,y.ignoreTokens)({tokensToIgnore:de,dontShowLoadingIndicator:!0,networkClientId:ke}))}},U[23]=je,U[24]=z,U[25]=q,U[26]=de,U[27]=ke,U[28]=Ve):Ve=U[28],U[29]!==je||U[30]!==le||U[31]!==z||U[32]!==ne||U[33]!==q||U[34]!==de||U[35]!==ke?($e=[je,z,de,le,ne,q,ke],U[29]=je,U[30]=le,U[31]=z,U[32]=ne,U[33]=q,U[34]=de,U[35]=ke,U[36]=$e):$e=U[36],(0,s.useEffect)(Ve,$e),U[37]===Symbol.for("react.memo_cache_sentinel")?(He=()=>()=>{We.current()},ze=[],U[37]=He,U[38]=ze):(He=U[37],ze=U[38]),(0,s.useEffect)(He,ze),(0,M.default)();const Ge=(0,o.useSelector)(p.isHardwareWallet),Ye=(0,o.useSelector)(p.getHardwareWalletType);let Ke;var qe,Ze;U[39]!==xe||U[40]!==(null==ne?void 0:ne.balanceError)||U[41]!==(null==ne||null===(r=ne.destinationTokenInfo)||void 0===r?void 0:r.symbol)||U[42]!==(null==ne?void 0:ne.slippage)||U[43]!==(null==ne||null===(D=ne.sourceTokenInfo)||void 0===D?void 0:D.symbol)||U[44]!==(null==ne?void 0:ne.value)||U[45]!==Ye||U[46]!==Ge||U[47]!==Y||U[48]!==K||U[49]!==ve||U[50]!==be||U[51]!==G?(Ke=()=>{var e,t;G({event:S.MetaMetricsEventName.ExitedSwaps,category:S.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==ne||null===(e=ne.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==ne?void 0:ne.value,request_type:null==ne?void 0:ne.balanceError,token_to:null==ne||null===(t=ne.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==ne?void 0:ne.slippage,custom_slippage:2!==(null==ne?void 0:ne.slippage),current_screen:K.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:Ge,hardware_wallet_type:Ye,stx_enabled:ve,current_stx_enabled:xe,stx_user_opt_in:be},properties:{hd_entropy_index:Y}})},U[39]=xe,U[40]=null==ne?void 0:ne.balanceError,U[41]=null==ne||null===(qe=ne.destinationTokenInfo)||void 0===qe?void 0:qe.symbol,U[42]=null==ne?void 0:ne.slippage,U[43]=null==ne||null===(Ze=ne.sourceTokenInfo)||void 0===Ze?void 0:Ze.symbol,U[44]=null==ne?void 0:ne.value,U[45]=Ye,U[46]=Ge,U[47]=Y,U[48]=K,U[49]=ve,U[50]=be,U[51]=G,U[52]=Ke):Ke=U[52];const Qe=Ke,Xe=(0,s.useRef)();let Je,et,tt,at,nt;U[53]!==Qe?(Je=()=>{Xe.current=()=>{Qe()}},U[53]=Qe,U[54]=Je):Je=U[54],(0,s.useEffect)(Je),U[55]!==z?(et=()=>((async()=>{await z((0,f.fetchSwapsLivenessAndFeatureFlags)())})(),()=>{Xe.current()}),tt=[z],U[55]=z,U[56]=et,U[57]=tt):(et=U[56],tt=U[57]),(0,s.useEffect)(et,tt),U[58]!==Q||U[59]!==V||U[60]!==Se||U[61]!==_e?(at=()=>{_e&&!Q&&Se&&V(_.SWAPS_ERROR_ROUTE)},U[58]=Q,U[59]=V,U[60]=Se,U[61]=_e,U[62]=at):at=U[62],U[63]!==Q||U[64]!==V||U[65]!==Se||U[66]!==_e?(nt=[V,_e,Q,Se],U[63]=Q,U[64]=V,U[65]=Se,U[66]=_e,U[67]=nt):nt=U[67],(0,s.useEffect)(at,nt);const st=(0,s.useRef)();let rt,ot,lt;var it,ct;(U[68]!==z||U[69]!==X?(rt=()=>{const e=()=>(We.current(),X&&z((0,f.prepareToLeaveSwaps)()),null);return X&&!st.current&&(st.current=!0,window.addEventListener("beforeunload",e)),()=>window.removeEventListener("beforeunload",e)},ot=[z,X],U[68]=z,U[69]=X,U[70]=rt,U[71]=ot):(rt=U[70],ot=U[71]),(0,s.useEffect)(rt,ot),U[72]!==xe||U[73]!==we||U[74]!==(null==ne?void 0:ne.balanceError)||U[75]!==(null==ne||null===(P=ne.destinationTokenInfo)||void 0===P?void 0:P.symbol)||U[76]!==(null==ne?void 0:ne.slippage)||U[77]!==(null==ne||null===(L=ne.sourceTokenInfo)||void 0===L?void 0:L.symbol)||U[78]!==(null==ne?void 0:ne.value)||U[79]!==Ye||U[80]!==Ge||U[81]!==K||U[82]!==ve||U[83]!==be||U[84]!==G)?(lt=()=>{var e,t;G({event:"Error Smart Transactions",category:S.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==ne||null===(e=ne.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==ne?void 0:ne.value,request_type:null==ne?void 0:ne.balanceError,token_to:null==ne||null===(t=ne.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==ne?void 0:ne.slippage,custom_slippage:2!==(null==ne?void 0:ne.slippage),current_screen:K.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:Ge,hardware_wallet_type:Ye,stx_enabled:ve,current_stx_enabled:xe,stx_user_opt_in:be,stx_error:we}})},U[72]=xe,U[73]=we,U[74]=null==ne?void 0:ne.balanceError,U[75]=null==ne||null===(it=ne.destinationTokenInfo)||void 0===it?void 0:it.symbol,U[76]=null==ne?void 0:ne.slippage,U[77]=null==ne||null===(ct=ne.sourceTokenInfo)||void 0===ct?void 0:ct.symbol,U[78]=null==ne?void 0:ne.value,U[79]=Ye,U[80]=Ge,U[81]=K,U[82]=ve,U[83]=be,U[84]=G,U[85]=lt):lt=U[85];null==ne||ne.balanceError,null==ne||null===(B=ne.destinationTokenInfo)||void 0===B||B.symbol,null==ne||ne.slippage,null==ne||null===(F=ne.sourceTokenInfo)||void 0===F||F.symbol,null==ne||ne.value;const ut=lt;let dt,pt,mt;if(U[86]!==we||U[87]!==te||U[88]!==ut?(dt=()=>{we&&!te&&(ae(!0),ut())},pt=[we,ut,te],U[86]=we,U[87]=te,U[88]=ut,U[89]=dt,U[90]=pt):(dt=U[89],pt=U[90]),(0,s.useEffect)(dt,pt),!Ce){let e;return U[91]===Symbol.for("react.memo_cache_sentinel")?(e=s.default.createElement(s.default.Fragment,null),U[91]=e):e=U[91],e}U[92]!==z||U[93]!==V?(mt=async()=>{We.current(),V(_.DEFAULT_ROUTE,{state:{stayOnHomePage:!0}}),z((0,f.clearSwapsState)()),await z((0,y.resetBackgroundSwapsState)())},U[92]=z,U[93]=V,U[94]=mt):mt=U[94];const ft=mt;let gt,ht,_t,Et,yt,Ct,Tt,St,bt,vt,xt,wt,kt,Mt,It,Nt,At;U[95]!==ft?(gt=e=>{"Enter"===e.key&&ft()},U[95]=ft,U[96]=gt):gt=U[96],U[97]!==Z||U[98]!==q||U[99]!==J||U[100]!==ft||U[101]!==W?(ht=!q&&!Z&&!J&&s.default.createElement(x.Icon,{name:x.IconName.Arrow2Left,size:x.IconSize.Lg,color:k.IconColor.iconAlternative,onClick:ft,style:{cursor:"pointer"},title:W("cancel")}),U[97]=Z,U[98]=q,U[99]=J,U[100]=ft,U[101]=W,U[102]=ht):ht=U[102],U[103]!==gt||U[104]!==ht?(_t=s.default.createElement(w.default,{display:k.DISPLAY.FLEX,justifyContent:k.JustifyContent.center,marginLeft:4,width:k.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:gt},ht),U[103]=gt,U[104]=ht,U[105]=_t):_t=U[105],U[106]!==W?(Et=W("swap"),U[106]=W,U[107]=Et):Et=U[107],U[108]!==Et?(yt=s.default.createElement("div",{className:"swaps__title"},Et),U[108]=Et,U[109]=yt):yt=U[109],U[110]!==z?(Ct=e=>{"Enter"===e.key&&z((0,f.setTransactionSettingsOpened)(!0))},U[110]=z,U[111]=Ct):Ct=U[111],U[112]!==z||U[113]!==ee||U[114]!==W?(Tt=ee&&s.default.createElement(x.Icon,{name:x.IconName.Setting,size:x.IconSize.Lg,color:k.IconColor.iconAlternative,onClick:()=>{z((0,f.setTransactionSettingsOpened)(!0))},style:{cursor:"pointer"},title:W("transactionSettings")}),U[112]=z,U[113]=ee,U[114]=W,U[115]=Tt):Tt=U[115],U[116]!==Ct||U[117]!==Tt?(St=s.default.createElement(w.default,{display:k.DISPLAY.FLEX,justifyContent:k.JustifyContent.center,marginRight:4,width:k.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:Ct},Tt),U[116]=Ct,U[117]=Tt,U[118]=St):St=U[118],U[119]!==_t||U[120]!==yt||U[121]!==St?(bt=s.default.createElement("div",{className:"swaps__header"},_t,yt,St),U[119]=_t,U[120]=yt,U[121]=St,U[122]=bt):bt=U[122],U[123]===Symbol.for("react.memo_cache_sentinel")?(vt=s.default.createElement(l.Navigate,{to:`${_.CROSS_CHAIN_SWAP_ROUTE}${_.PREPARE_SWAP_ROUTE}`,replace:!0}),U[123]=vt):vt=U[123],U[124]!==Ee?(xt=s.default.createElement(l.Route,{path:_.PREPARE_SWAP_ROUTE,element:s.default.createElement(T.default,{redirectRoute:_.SWAPS_MAINTENANCE_ROUTE,flag:Ee,element:vt})}),U[124]=Ee,U[125]=xt):xt=U[125],U[126]!==_e||U[127]!==(null==De?void 0:De.hash)||U[128]!==(null==De?void 0:De.id)||U[129]!==(null==De?void 0:De.submittedTime)?(wt=s.default.createElement(l.Route,{path:_.SWAPS_ERROR_ROUTE,element:_e?s.default.createElement(A.default,{swapComplete:!1,errorKey:_e,txHash:null==De?void 0:De.hash,txId:null==De?void 0:De.id,submittedTime:null==De?void 0:De.submittedTime}):s.default.createElement(l.Navigate,{to:_.PREPARE_SWAP_ROUTE,replace:!0})}),U[126]=_e,U[127]=null==De?void 0:De.hash,U[128]=null==De?void 0:De.id,U[129]=null==De?void 0:De.submittedTime,U[130]=wt):wt=U[130],U[131]!==_e?(kt=s.default.createElement(l.Route,{path:_.SWAPS_NOTIFICATION_ROUTE,element:_e?s.default.createElement(O.default,{notificationKey:_e}):s.default.createElement(l.Navigate,{to:_.PREPARE_SWAP_ROUTE,replace:!0})}),U[131]=_e,U[132]=kt):kt=U[132],U[133]!==ge||U[134]!==z||U[135]!==he||U[136]!==V||U[137]!==ue||U[138]!==_e?(Mt=ge?s.default.createElement(R.default,{loadingComplete:!he&&Boolean(Object.values(ue).length),onDone:async()=>{await z((0,y.setBackgroundSwapRouteState)("")),_e===E.ERROR_FETCHING_QUOTES||_e===E.QUOTES_NOT_AVAILABLE_ERROR?(z((0,y.setSwapsErrorKey)(E.QUOTES_NOT_AVAILABLE_ERROR)),V(_.SWAPS_ERROR_ROUTE)):V(_.PREPARE_SWAP_ROUTE)},aggregatorMetadata:ge}):s.default.createElement(l.Navigate,{to:_.PREPARE_SWAP_ROUTE,replace:!0}),U[133]=ge,U[134]=z,U[135]=he,U[136]=V,U[137]=ue,U[138]=_e,U[139]=Mt):Mt=U[139],U[140]!==Ee||U[141]!==Mt?(It=s.default.createElement(l.Route,{path:_.LOADING_QUOTES_ROUTE,element:s.default.createElement(T.default,{redirectRoute:_.SWAPS_MAINTENANCE_ROUTE,flag:Ee,element:Mt})}),U[140]=Ee,U[141]=Mt,U[142]=It):It=U[142],U[143]!==Ee?(Nt=s.default.createElement(l.Route,{path:_.SWAPS_MAINTENANCE_ROUTE,element:!1===Ee?s.default.createElement(A.default,{errorKey:E.OFFLINE_FOR_MAINTENANCE}):s.default.createElement(l.Navigate,{to:_.PREPARE_SWAP_ROUTE,replace:!0})}),U[143]=Ee,U[144]=Nt):Nt=U[144],U[145]===Symbol.for("react.memo_cache_sentinel")?(At=s.default.createElement(l.Route,{path:_.AWAITING_SIGNATURES_ROUTE,element:s.default.createElement(I.default,null)}),U[145]=At):At=U[145];const Rt=null==De?void 0:De.id;let Ot,Dt,Pt,Lt;return U[146]!==Rt?(Ot=s.default.createElement(l.Route,{path:_.SMART_TRANSACTION_STATUS_ROUTE,element:s.default.createElement(N.default,{txId:Rt})}),U[146]=Rt,U[147]=Ot):Ot=U[147],U[148]!==fe||U[149]!==ie||U[150]!==Le||U[151]!==Be||U[152]!==De||U[153]!==me?(Dt=s.default.createElement(l.Route,{path:_.AWAITING_SWAP_ROUTE,element:"awaiting"===ie||De?s.default.createElement(A.default,{swapComplete:Be,txHash:null==De?void 0:De.hash,tokensReceived:Le,txId:null==De?void 0:De.id,submittingSwap:"awaiting"===ie&&!(fe||me)}):s.default.createElement(l.Navigate,{to:_.DEFAULT_ROUTE,replace:!0})}),U[148]=fe,U[149]=ie,U[150]=Le,U[151]=Be,U[152]=De,U[153]=me,U[154]=Dt):Dt=U[154],U[155]!==xt||U[156]!==wt||U[157]!==kt||U[158]!==It||U[159]!==Nt||U[160]!==Ot||U[161]!==Dt?(Pt=s.default.createElement("div",{className:"swaps__content"},s.default.createElement(l.Routes,null,xt,wt,kt,It,Nt,At,Ot,Dt)),U[155]=xt,U[156]=wt,U[157]=kt,U[158]=It,U[159]=Nt,U[160]=Ot,U[161]=Dt,U[162]=Pt):Pt=U[162],U[163]!==bt||U[164]!==Pt?(Lt=s.default.createElement("div",{className:"swaps"},s.default.createElement("div",{className:"swaps__container"},bt,Pt)),U[163]=bt,U[164]=Pt,U[165]=Lt):Lt=U[165],Lt}L.propTypes={location:r.default.object}}}},{package:"$root$",file:"ui/pages/swaps/index.js"}],[7996,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(26);let t,a,n,o,l,i,c,u,d,p,m,f,g,h,_,E,y,C,T,S,b,v,x,w,k,M;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),a=r.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),n=r.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),o=r.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),l=r.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),i=r.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),c=r.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),u=r.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),d=r.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),p=r.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),e[0]=t,e[1]=a,e[2]=n,e[3]=o,e[4]=l,e[5]=i,e[6]=c,e[7]=u,e[8]=d,e[9]=p):(t=e[0],a=e[1],n=e[2],o=e[3],l=e[4],i=e[5],c=e[6],u=e[7],d=e[8],p=e[9]);e[10]===Symbol.for("react.memo_cache_sentinel")?(m=r.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[10]=m):m=e[10];e[11]===Symbol.for("react.memo_cache_sentinel")?(f=r.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[11]=f):f=e[11];e[12]===Symbol.for("react.memo_cache_sentinel")?(g=r.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[12]=g):g=e[12];e[13]===Symbol.for("react.memo_cache_sentinel")?(h=r.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[13]=h):h=e[13];e[14]===Symbol.for("react.memo_cache_sentinel")?(_=r.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[14]=_):_=e[14];e[15]===Symbol.for("react.memo_cache_sentinel")?(E=r.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[15]=E):E=e[15];e[16]===Symbol.for("react.memo_cache_sentinel")?(y=r.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),e[16]=y):y=e[16];e[17]===Symbol.for("react.memo_cache_sentinel")?(C=r.default.createElement("div",{className:"loading-swaps-quotes__background-1","data-testid":"loading-swaps-quotes-background-1"},r.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,a,n,o,l,i,c,u,d,p,r.default.createElement("defs",null,m,f,g,h,_,E,y,r.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),e[17]=C):C=e[17];e[18]===Symbol.for("react.memo_cache_sentinel")?(T=r.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),S=r.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),b=r.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),v=r.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),x=r.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),w=r.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),e[18]=T,e[19]=S,e[20]=b,e[21]=v,e[22]=x,e[23]=w):(T=e[18],S=e[19],b=e[20],v=e[21],x=e[22],w=e[23]);e[24]===Symbol.for("react.memo_cache_sentinel")?(k=r.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#FFE466"}),r.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),e[24]=k):k=e[24];e[25]===Symbol.for("react.memo_cache_sentinel")?(M=r.default.createElement(r.default.Fragment,null,C,r.default.createElement("div",{className:"loading-swaps-quotes__background-2","data-testid":"loading-swaps-quotes-background-2"},r.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T,S,b,v,x,w,r.default.createElement("defs",null,k,r.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),r.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"})))))),e[25]=M):M=e[25];return M};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/background-animation.js"}],[7997,{"./loading-swaps-quotes":7998},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./loading-swaps-quotes"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/index.js"}],[7998,{"../../../../shared/constants/metametrics":5768,"../../../../shared/modules/selectors":5906,"../../../components/component-library":6486,"../../../components/ui/mascot":6936,"../../../contexts/i18n":7e3,"../../../contexts/metametrics":7005,"../../../ducks/swaps/swaps":7045,"../../../helpers/constants/design-system":7049,"../../../helpers/utils/build-types":7075,"../../../selectors/selectors":8052,"../swaps-footer":8009,"./background-animation":7996,events:4338,lodash:4794,"lodash/isEqual":4781,"prop-types":5052,react:5229,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=v;var n=b(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=b(e("prop-types")),l=e("lodash"),i=e("react-router-dom-v5-compat"),c=b(e("lodash/isEqual")),u=e("../../../ducks/swaps/swaps"),d=e("../../../selectors/selectors"),p=e("../../../../shared/modules/selectors"),m=e("../../../contexts/i18n"),f=e("../../../contexts/metametrics"),g=b(e("../../../components/ui/mascot")),h=e("../../../../shared/constants/metametrics"),_=b(e("../swaps-footer")),E=e("../../../components/component-library"),y=e("../../../helpers/constants/design-system"),C=e("../../../helpers/utils/build-types"),T=b(e("./background-animation"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}function v({aggregatorMetadata:e,loadingComplete:t,onDone:a}){var o,S;const b=(0,s.useContext)(m.I18nContext),v=(0,s.useContext)(f.MetaMetricsContext),x=(0,r.useDispatch)(),w=(0,r.useSelector)(d.getHDEntropyIndex),k=(0,i.useNavigate)(),M=(0,s.useRef)(new n.default),I=(0,r.useSelector)(u.getFetchParams,c.default),N=(0,r.useSelector)(u.getQuotesFetchStartTime),A=(0,r.useSelector)(d.isHardwareWallet),R=(0,r.useSelector)(d.getHardwareWalletType),O=(0,r.useSelector)(p.getSmartTransactionsOptInStatusForMetrics),D=(0,r.useSelector)(p.getSmartTransactionsEnabled),P=(0,r.useSelector)(u.getCurrentSmartTransactionsEnabled),L={event:"Quotes Request Cancelled",category:h.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==I||null===(o=I.sourceTokenInfo)||void 0===o?void 0:o.symbol,token_from_amount:null==I?void 0:I.value,request_type:null==I?void 0:I.balanceError,token_to:null==I||null===(S=I.destinationTokenInfo)||void 0===S?void 0:S.symbol,slippage:null==I?void 0:I.slippage,custom_slippage:2!==(null==I?void 0:I.slippage),response_time:Date.now()-N,is_hardware_wallet:A,hardware_wallet_type:R,stx_enabled:D,current_stx_enabled:P,stx_user_opt_in:O},properties:{hd_entropy_index:w}},[B]=(0,s.useState)(()=>(0,l.shuffle)(Object.keys(e))),F=B.length,U=(0,s.useRef)(),j=U.current,[W,V]=(0,s.useState)(0),[$,H]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e;e=t?20:500+Math.floor(1500*Math.random());const n=setTimeout(()=>{W<F?V(W+1):W===F&&t&&a()},e);return function(){clearTimeout(n)}},[W,t,a,F]),(0,s.useEffect)(()=>{if(j){const{top:e,left:t,width:a,height:n}=j.getBoundingClientRect();H({x:t+a/2,y:e+n/2})}},[j]),s.default.createElement("div",{className:"loading-swaps-quotes"},s.default.createElement("div",{className:"loading-swaps-quotes__content"},s.default.createElement(s.default.Fragment,null,s.default.createElement(E.Text,{variant:y.TextVariant.bodyXs,"data-testid":"loading-swaps-quotes-quote-counter",color:y.TextColor.textAlternative,marginTop:1,display:y.Display.Flex,justifyContent:y.JustifyContent.center,width:y.BlockSize.Full,marginBottom:1},s.default.createElement("span",null,b("swapFetchingQuoteNofN",[Math.min(W+1,F),F]))),s.default.createElement(E.Text,{variant:y.TextVariant.headingSm,"data-testid":"loading-swaps-quotes-quote-name-check",color:y.TextColor.textDefault,display:y.Display.Flex,justifyContent:y.JustifyContent.center,width:y.BlockSize.Full,textTransform:y.TextTransform.Capitalize},s.default.createElement("span",null,b("swapFetchingQuotes"))),s.default.createElement("div",{className:"loading-swaps-quotes__loading-bar-container"},s.default.createElement("div",{className:"loading-swaps-quotes__loading-bar",style:{width:100/F*W+"%"}}))),s.default.createElement("div",{className:"loading-swaps-quotes__animation"},s.default.createElement(T.default,null),s.default.createElement("div",{className:"loading-swaps-quotes__mascot-container",ref:U},(0,C.isFlask)()||(0,C.isBeta)()?s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"90",height:"90"}):s.default.createElement(g.default,{animationEventEmitter:M.current,width:"90",height:"90",lookAtTarget:$})))),s.default.createElement(_.default,{submitText:b("back"),onSubmit:async()=>{v(L),await x((0,u.navigateBackToPrepareSwap)(k))},hideCancel:!0}))}v.propTypes={loadingComplete:o.default.bool.isRequired,onDone:o.default.func.isRequired,aggregatorMetadata:o.default.objectOf(o.default.shape({title:o.default.string,color:o.default.string,icon:o.default.string}))}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/loading-swaps-quotes.js"}],[7999,{"../../../components/ui/mascot":6936,"../../../helpers/utils/build-types":7075,events:4338,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;var n=c(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=c(e("prop-types")),o=c(e("../../../components/ui/mascot")),l=e("../../../helpers/utils/build-types");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function u({height:e,width:t}){const a=(0,s.useRef)(new n.default);return s.default.createElement("div",{className:"mascot-background-animation__animation"},s.default.createElement("div",{className:"mascot-background-animation__background-1","data-testid":"mascot-background-animation-background-1"},s.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),s.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),s.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),s.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),s.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),s.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),s.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),s.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),s.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),s.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),s.default.createElement("defs",null,s.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),s.default.createElement("div",{className:"mascot-background-animation__background-2","data-testid":"mascot-background-animation-background-2"},s.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),s.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),s.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),s.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),s.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),s.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),s.default.createElement("defs",null,s.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#FFE466"}),s.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),s.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),s.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"}))))),s.default.createElement("div",{className:"mascot-background-animation__mascot-container","data-testid":"mascot-background-animation-mascot-container"},(0,l.isFlask)()||(0,l.isBeta)()?s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:t??"42",height:e??"42"}):s.default.createElement(o.default,{animationEventEmitter:a.current,width:t??"42",height:e??"42",followMouse:!1})))}u.propTypes={height:r.default.string,width:r.default.string}}}},{package:"$root$",file:"ui/pages/swaps/mascot-background-animation/mascot-background-animation.js"}],[8e3,{"../../../../shared/constants/swaps":5788,"../../../components/component-library":6486,"../../../components/ui/box":6875,"../../../contexts/i18n":7e3,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../store/actions":8065,"../swaps-footer":8009,"prop-types":5052,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=E;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom-v5-compat"),l=h(e("prop-types")),i=e("../../../contexts/i18n"),c=e("../../../store/actions"),u=h(e("../../../components/ui/box")),d=e("../../../helpers/constants/design-system"),p=e("../../../components/component-library"),m=e("../../../helpers/constants/routes"),f=h(e("../swaps-footer")),g=e("../../../../shared/constants/swaps");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function E(e){const t=(0,n.c)(23),{notificationKey:a}=e,l=(0,s.useContext)(i.I18nContext),h=(0,o.useNavigate)(),_=(0,r.useDispatch)();let E,y,C,T,S,b,v,x="",w="",k="";if(a===g.QUOTES_EXPIRED_ERROR){let e,a,n;t[0]!==l?(e=l("swapAreYouStillThere"),t[0]=l,t[1]=e):e=t[1],x=e,t[2]!==l?(a=l("swapAreYouStillThereDescription"),t[2]=l,t[3]=a):a=t[3],w=a,t[4]!==l?(n=l("swapShowLatestQuotes"),t[4]=l,t[5]=n):n=t[5],k=n}return t[6]===Symbol.for("react.memo_cache_sentinel")?(E=s.default.createElement(u.default,{marginTop:8,marginBottom:4},s.default.createElement(p.Icon,{name:p.IconName.Warning,color:d.IconColor.iconMuted,className:"notification-page__warning-icon"})),t[6]=E):E=t[6],t[7]!==x?(y=s.default.createElement(p.Text,{variant:d.TextVariant.bodyLgMedium,as:"h2"},x),t[7]=x,t[8]=y):y=t[8],t[9]!==w?(C=s.default.createElement(p.Text,{variant:d.TextVariant.bodyMd,as:"h6"},w),t[9]=w,t[10]=C):C=t[10],t[11]!==y||t[12]!==C?(T=s.default.createElement(u.default,{alignItems:d.AlignItems.center,display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.COLUMN,marginTop:10,marginLeft:4,marginRight:4,textAlign:d.TEXT_ALIGN.CENTER,className:"notification-page__content"},E,y,C),t[11]=y,t[12]=C,t[13]=T):T=t[13],t[14]!==_||t[15]!==h?(S=async()=>{await _((0,c.setSwapsErrorKey)("")),h(m.PREPARE_SWAP_ROUTE)},t[14]=_,t[15]=h,t[16]=S):S=t[16],t[17]!==k||t[18]!==S?(b=s.default.createElement(f.default,{onSubmit:S,submitText:k,hideCancel:!0,showTermsOfService:!0}),t[17]=k,t[18]=S,t[19]=b):b=t[19],t[20]!==T||t[21]!==b?(v=s.default.createElement("div",{className:"notification-page"},T,b),t[20]=T,t[21]=b,t[22]=v):v=t[22],v}E.propTypes={notificationKey:l.default.oneOf([g.QUOTES_EXPIRED_ERROR])}}}},{package:"$root$",file:"ui/pages/swaps/notification-page/notification-page.js"}],[8001,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M14.4946 6.14779C14.4863 5.93594 14.3991 5.69108 14.2539 5.53666L9.51334 0.49958C9.1921 0.21091 8.57613 0.0917437 8.21709 0.425509C7.86344 0.754237 7.87396 1.39178 8.22627 1.72181L11.5595 5.25889L1.1618 5.25889C0.670919 5.25889 0.272949 5.65687 0.272949 6.14779C0.272949 6.6387 0.670919 7.03668 1.1618 7.03668L11.5595 7.03668L8.22627 10.5738C7.92297 10.8776 7.86691 11.5376 8.21709 11.8701C8.56718 12.2025 9.20529 12.0963 9.51334 11.796L14.2539 6.75891C14.4161 6.58653 14.4952 6.38428 14.4946 6.14779Z",fill:"var(--color-text-muted)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/arrow-icon.js"}],[8002,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"41",height:"39",viewBox:"0 0 41 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.5805 6.55143C36.1394 8.11033 37.3994 9.91222 38.3237 11.8681C38.7066 12.6782 39.0318 13.5148 39.2968 14.3714L39.3242 14.4606C39.4816 14.9785 39.6171 15.5037 39.73 16.0347C40.6511 20.3654 40.0335 24.9029 37.9511 28.8509C35.6001 33.308 31.5749 36.6487 26.7609 38.138C24.3773 38.8754 21.8717 39.1361 19.3873 38.9052C16.9029 38.6743 14.4883 37.9563 12.2813 36.7922C10.2608 35.7264 8.52045 34.3588 7.08333 32.7636C5.61245 31.1448 4.43054 29.2824 3.59178 27.2574C3.32329 26.6092 2.89685 25.2767 2.89685 25.2767H6.89583C7.68667 27.4068 8.96033 29.362 10.6288 30.9609L10.6318 30.96C11.5096 31.8005 12.501 32.5516 13.595 33.1786C15.8742 34.483 18.4736 35.1864 21.1455 35.1864C25.1768 35.1864 29.0429 33.585 31.8935 30.7345C34.744 27.8839 36.3455 24.0177 36.3455 19.9865C36.3455 18.7267 36.1891 17.483 35.8871 16.2814C35.8206 16.017 35.7471 15.7546 35.6666 15.4945C34.4752 11.6432 31.8027 8.42306 28.237 6.54231C24.6713 4.66156 20.5045 4.27429 16.6533 5.46571C12.8837 6.63189 9.71868 9.21706 7.82253 12.6699L12.8961 15.307L3.28331 18.3447L0.245605 8.73191L4.45005 10.9171C6.81537 6.56278 10.7905 3.30177 15.5303 1.83546C17.3658 1.26761 19.2587 0.986653 21.1455 0.986694C26.1846 0.986694 31.0173 2.98824 34.5805 6.55143Z",fill:"var(--color-primary-default)"}),r.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1252 22.1036L14.7107 18.689L12.0926 21.3257L18.1252 27.3584L30.2322 15.2515L27.614 12.6148L18.1252 22.1036Z",fill:"var(--color-primary-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/canceled-icon.js"}],[8003,{"./smart-transaction-status":8005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./smart-transaction-status"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/index.js"}],[8004,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"41",height:"39",viewBox:"0 0 41 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.6806 6.55143C36.2395 8.11033 37.4995 9.91222 38.4238 11.8681C38.8067 12.6782 39.1319 13.5148 39.3969 14.3714L39.4243 14.4606C39.5817 14.9785 39.7172 15.5037 39.8301 16.0347C40.7512 20.3654 40.1336 24.9029 38.0512 28.8509C35.7002 33.308 31.675 36.6487 26.861 38.138C24.4773 38.8754 21.9718 39.1361 19.4874 38.9052C17.003 38.6743 14.5884 37.9563 12.3814 36.7922C10.3609 35.7264 8.62055 34.3588 7.18343 32.7636C5.71254 31.1448 4.53064 29.2824 3.69188 27.2574C3.42339 26.6092 2.99695 25.2767 2.99695 25.2767H6.99592C7.78677 27.4068 9.06042 29.362 10.7289 30.9609L10.7319 30.96C11.6097 31.8005 12.6011 32.5516 13.6951 33.1786C15.9743 34.483 18.5737 35.1864 21.2456 35.1864C25.2769 35.1864 29.143 33.585 31.9936 30.7345C34.8441 27.8839 36.4456 24.0177 36.4456 19.9865C36.4456 18.7267 36.2892 17.483 35.9872 16.2814C35.9207 16.017 35.8471 15.7546 35.7667 15.4945C34.5753 11.6432 31.9028 8.42306 28.3371 6.54231C24.7714 4.66156 20.6046 4.27429 16.7534 5.46571C12.9838 6.63189 9.81878 9.21706 7.92263 12.6699L12.9962 15.307L3.3834 18.3447L0.345703 8.73191L4.55015 10.9171C6.91547 6.56278 10.8906 3.30177 15.6304 1.83546C17.4659 1.26761 19.3588 0.986653 21.2456 0.986694C26.2847 0.986694 31.1174 2.98824 34.6806 6.55143Z",fill:"var(--color-error-default)"}),r.default.createElement("path",{d:"M18.5849 19.9869L15.1454 23.4264L17.9845 26.2655L21.424 22.826L24.8635 26.2655L27.7026 23.4264L24.2631 19.9869L27.7026 16.5473L24.8635 13.7082L21.424 17.1478L17.9845 13.7082L15.1454 16.5473L18.5849 19.9869Z",fill:"var(--color-error-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/reverted-icon.js"}],[8005,{"../../../../shared/constants/common":5756,"../../../../shared/constants/metametrics":5768,"../../../../shared/constants/transaction":5792,"../../../../shared/lib/transactions-controller-utils":5875,"../../../../shared/modules/selectors":5906,"../../../../shared/modules/selectors/networks":5908,"../../../components/component-library":6486,"../../../components/ui/box":6875,"../../../components/ui/url-icon":6994,"../../../contexts/i18n":7e3,"../../../contexts/metametrics":7005,"../../../ducks/swaps/swaps":7045,"../../../helpers/constants/design-system":7049,"../../../helpers/constants/routes":7054,"../../../selectors":8035,"../../../selectors/selectors":8052,"../../../store/actions":8065,"../create-new-swap":7992,"../swaps-footer":8009,"../swaps.util":8012,"../view-on-block-explorer":8013,"./arrow-icon":8001,"./canceled-icon":8002,"./reverted-icon":8004,"./success-icon":8006,"./timer-icon":8007,"./unknown-icon":8008,"@metamask/etherscan-link":2044,lodash:4794,react:5229,"react-compiler-runtime":5128,"react-redux":5179,"react-router-dom-v5-compat":5192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){var e,t,a,L,B,F;const U=(0,n.c)(124),[j,W]=(0,s.useState)(!1),V=(0,s.useContext)(c.I18nContext),$=(0,o.useNavigate)(),H=(0,r.useDispatch)(),z=(0,r.useSelector)(I.getHDEntropyIndex),G=(0,r.useSelector)(u.getFetchParams,i.isEqual)||{},{destinationTokenInfo:Y,sourceTokenInfo:K}=(null==G?void 0:G.metaData)||{},q=Y===undefined?{}:Y,Z=K===undefined?{}:K,Q=(0,r.useSelector)(p.isHardwareWallet),X=(0,r.useSelector)(p.getHardwareWalletType),J=(0,r.useSelector)(u.getUsedQuote,i.isEqual),ee=(0,r.useSelector)(u.getCurrentSmartTransactions,i.isEqual),te=(0,r.useSelector)(d.getCurrentChainId),ae=(0,r.useSelector)(p.getRpcPrefsForCurrentProvider,r.shallowEqual),ne=(0,r.useSelector)(u.getSwapsNetworkConfig,r.shallowEqual),se=(0,r.useSelector)(m.getSmartTransactionsEnabled),re=(0,r.useSelector)(u.getCurrentSmartTransactionsEnabled),oe=ae.blockExplorerUrl??f.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[te]??null;let le,ie,ce=S.SmartTransactionStatus.pending,ue={};if(ee&&ee.length>0){var de,pe,me;ue=ee[ee.length-1],le=null===(de=ue)||void 0===de?void 0:de.uuid,ce=(null===(pe=ue)||void 0===pe?void 0:pe.status)||S.SmartTransactionStatus.pending,ie=null===(me=ue)||void 0===me||null===(me=me.statusMetadata)||void 0===me?void 0:me.cancellationFeeWei}const[fe,ge]=(0,s.useState)(ne.stxStatusDeadline),he={needs_two_confirmations:!0,token_from:Z.symbol??(null===(e=ue)||void 0===e?void 0:e.sourceTokenSymbol),token_from_amount:(null==G?void 0:G.value)??(null===(t=ue)||void 0===t?void 0:t.swapTokenValue),token_to:q.symbol??(null===(a=ue)||void 0===a?void 0:a.destinationTokenSymbol),request_type:null!=G&&G.balanceError?"Quote":"Order",slippage:null==G?void 0:G.slippage,custom_slippage:2===(null==G?void 0:G.slippage),is_hardware_wallet:Q,hardware_wallet_type:X,stx_enabled:se,current_stx_enabled:re,stx_user_opt_in:(0,r.useSelector)(m.getSmartTransactionsOptInStatusForMetrics)};let _e;var Ee;null!=J&&J.destinationAmount&&(_e=(0,M.calcTokenAmount)(null==J?void 0:J.destinationAmount,q.decimals??(null===(Ee=ue)||void 0===Ee?void 0:Ee.destinationTokenDecimals)).toPrecision(8));const ye=(0,s.useContext)(x.MetaMetricsContext),Ce=ce===S.SmartTransactionStatus.pending,Te=Ce||ce===S.SmartTransactionStatus.success,Se=null===(L=ue)||void 0===L||null===(L=L.statusMetadata)||void 0===L?void 0:L.minedHash;let be,ve,xe,we;U[0]===Symbol.for("react.memo_cache_sentinel")?(be=[],U[0]=be):be=U[0];(0,s.useEffect)(()=>{ye({event:"STX Status Page Loaded",category:T.MetaMetricsEventCategory.Swaps,sensitiveProperties:he,properties:{hd_entropy_index:z}})},be),(0,s.useEffect)(()=>{let e;if(Ce&&le){const t=()=>{const t=Math.round((Date.now()-ue.time)/1e3);if(t>ne.stxStatusDeadline)return ge(0),void clearInterval(e);ge(ne.stxStatusDeadline-t)};e=setInterval(t,1e3),t()}return()=>clearInterval(e)},[H,Ce,le,ue.time,ne.stxStatusDeadline]),U[1]!==H?(ve=()=>{H((0,C.setBackgroundSwapRouteState)("smartTransactionStatus")),setTimeout(()=>{H((0,C.stopPollingForQuotes)())},1e3)},xe=[H],U[1]=H,U[2]=ve,U[3]=xe):(ve=U[2],xe=U[3]);(0,s.useEffect)(ve,xe),U[4]!==V?(we=V("stxPendingPrivatelySubmittingSwap"),U[4]=V,U[5]=we):we=U[5];let ke,Me,Ie,Ne,Ae=we;if(Ce)if(j){let e;U[6]!==V?(e=V("stxTryingToCancel"),U[6]=V,U[7]=e):e=U[7],Ae=e}else if(ie>0){let e;U[8]!==V?(e=V("stxPendingPubliclySubmittingSwap"),U[8]=V,U[9]=e):e=U[9],Ae=e}if(ce===S.SmartTransactionStatus.success){var Re;let e;var Oe;if(U[10]!==V?(e=V("stxSuccess"),U[10]=V,U[11]=e):e=U[11],Ae=e,q.symbol||null!==(Re=ue)&&void 0!==Re&&Re.destinationTokenSymbol)ke=V("stxSuccessDescription",[q.symbol??(null===(Oe=ue)||void 0===Oe?void 0:Oe.destinationTokenSymbol)]);let t;U[12]===Symbol.for("react.memo_cache_sentinel")?(t=s.default.createElement(N.default,null),U[12]=t):t=U[12],Ie=t}else{var De;if("cancelled_user_cancelled"===ce||(null===(De=ue)||void 0===De||null===(De=De.statusMetadata)||void 0===De?void 0:De.minedTx)===S.SmartTransactionStatus.cancelled){let e,t,a;U[13]!==V?(e=V("stxUserCancelled"),U[13]=V,U[14]=e):e=U[14],Ae=e,U[15]!==V?(t=V("stxUserCancelledDescription"),U[15]=V,U[16]=t):t=U[16],ke=t,U[17]===Symbol.for("react.memo_cache_sentinel")?(a=s.default.createElement(R.default,null),U[17]=a):a=U[17],Ie=a}else if(ce.startsWith("cancelled")||ce.includes("deadline_missed")){let e,t,a,n;U[18]!==V?(e=V("stxCancelled"),U[18]=V,U[19]=e):e=U[19],Ae=e,U[20]!==V?(t=V("stxCancelledDescription"),U[20]=V,U[21]=t):t=U[21],ke=t,U[22]!==V?(a=V("stxCancelledSubDescription"),U[22]=V,U[23]=a):a=U[23],Me=a,U[24]===Symbol.for("react.memo_cache_sentinel")?(n=s.default.createElement(R.default,null),U[24]=n):n=U[24],Ie=n}else if("unknown"===ce){let e,t,a;U[25]!==V?(e=V("stxUnknown"),U[25]=V,U[26]=e):e=U[26],Ae=e,U[27]!==V?(t=V("stxUnknownDescription"),U[27]=V,U[28]=t):t=U[28],ke=t,U[29]===Symbol.for("react.memo_cache_sentinel")?(a=s.default.createElement(O.default,null),U[29]=a):a=U[29],Ie=a}else if("reverted"===ce){let e,t,a,n,r;U[30]!==V?(e=V("stxFailure"),U[30]=V,U[31]=e):e=U[31],Ae=e,U[32]!==V?(t=V("customerSupport"),U[32]=V,U[33]=t):t=U[33],U[34]!==t?(a=s.default.createElement("a",{className:"smart-transaction-status__support-link",key:"smart-transaction-status-support-link",href:"https://support.metamask.io",target:"_blank",rel:"noopener noreferrer"},t),U[34]=t,U[35]=a):a=U[35],U[36]!==V||U[37]!==a?(n=V("stxFailureDescription",[a]),U[36]=V,U[37]=a,U[38]=n):n=U[38],ke=n,U[39]===Symbol.for("react.memo_cache_sentinel")?(r=s.default.createElement(A.default,null),U[39]=r):r=U[39],Ie=r}}Se&&le&&(Ne=(0,l.getBlockExplorerLink)({hash:Se,chainId:te},{blockExplorerUrl:oe}));const Pe=ue.cancellable&&!j,Le=()=>s.default.createElement(_.default,{marginBottom:0},s.default.createElement("a",{className:"smart-transaction-status__cancel-swap-link",href:"#",onClick:e=>{null==e||e.preventDefault(),W(!0),ye({event:"Cancel STX",category:T.MetaMetricsEventCategory.Swaps,sensitiveProperties:he,properties:{hd_entropy_index:z}}),H((0,u.cancelSwapsSmartTransaction)(le))}},V("attemptToCancelSwapForFree")));let Be;U[40]!==G?(Be=(null==G?void 0:G.value)&&Number(G.value).toFixed(5),U[40]=G,U[41]=Be):Be=U[41];const Fe=`${Be} `;let Ue;U[42]!==Fe?(Ue=s.default.createElement(h.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySm,as:"h6"},Fe),U[42]=Fe,U[43]=Ue):Ue=U[43];const je=Z.symbol??(null===(B=ue)||void 0===B?void 0:B.sourceTokenSymbol);let We,Ve,$e,He,ze;U[44]!==je?(We=s.default.createElement(h.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySmBold,as:"h6",marginLeft:1,marginRight:2},je),U[44]=je,U[45]=We):We=U[45];if(U[46]!==Z.iconUrl||U[47]!==Z.symbol||U[48]!==ue){var Ge;Ve=Z.iconUrl?s.default.createElement(E.default,{url:Z.iconUrl,className:"smart-transactions-status-summary__icon",name:Z.symbol??(null===(Ge=ue)||void 0===Ge?void 0:Ge.destinationTokenSymbol),fallbackClassName:"smart-transactions-status-summary__icon-fallback"}):null,U[46]=Z.iconUrl,U[47]=Z.symbol,U[48]=ue,U[49]=Ve}else Ve=U[49];U[50]===Symbol.for("react.memo_cache_sentinel")?($e=s.default.createElement(_.default,{display:y.DISPLAY.BLOCK,marginLeft:2,marginRight:2},s.default.createElement(D.default,null)),U[50]=$e):$e=U[50];if(U[51]!==q.iconUrl||U[52]!==q.symbol||U[53]!==ue){var Ye;He=q.iconUrl?s.default.createElement(E.default,{url:q.iconUrl,className:"smart-transactions-status-summary__icon",name:q.symbol??(null===(Ye=ue)||void 0===Ye?void 0:Ye.destinationTokenSymbol),fallbackClassName:"smart-transactions-status-summary__icon-fallback"}):null,U[51]=q.iconUrl,U[52]=q.symbol,U[53]=ue,U[54]=He}else He=U[54];U[55]!==_e?(ze=_e&&Number(_e).toFixed(5),U[55]=_e,U[56]=ze):ze=U[56];const Ke=`~${ze} `;let qe;U[57]!==Ke?(qe=s.default.createElement(h.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySm,as:"h6",marginLeft:2},Ke),U[57]=Ke,U[58]=qe):qe=U[58];const Ze=q.symbol??(null===(F=ue)||void 0===F?void 0:F.destinationTokenSymbol);let Qe,Xe,Je,et,tt,at,nt,st;U[59]!==Ze?(Qe=s.default.createElement(h.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySmBold,as:"h6",marginLeft:1},Ze),U[59]=Ze,U[60]=Qe):Qe=U[60];U[61]!==We||U[62]!==Ve||U[63]!==He||U[64]!==qe||U[65]!==Qe||U[66]!==Ue?(Xe=s.default.createElement(_.default,{marginTop:10,marginBottom:0,display:y.DISPLAY.FLEX,justifyContent:y.JustifyContent.center,alignItems:y.AlignItems.center},Ue,We,Ve,$e,He,qe,Qe),U[61]=We,U[62]=Ve,U[63]=He,U[64]=qe,U[65]=Qe,U[66]=Ue,U[67]=Xe):Xe=U[67];U[68]===Symbol.for("react.memo_cache_sentinel")?(Je=s.default.createElement(_.default,{marginTop:3,className:"smart-transaction-status__spacer-box--top"}),U[68]=Je):Je=U[68];U[69]!==Ie?(et=Ie&&s.default.createElement(_.default,{marginTop:3,marginBottom:2},Ie),U[69]=Ie,U[70]=et):et=U[70];U[71]!==Ce||U[72]!==V||U[73]!==fe?(tt=Ce&&s.default.createElement(_.default,{marginTop:7,marginBottom:1,display:y.DISPLAY.FLEX,justifyContent:y.JustifyContent.center,alignItems:y.AlignItems.center},s.default.createElement(P.default,null),s.default.createElement(h.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySm,as:"h6",marginLeft:1},`${V("stxSwapCompleteIn")} `),s.default.createElement(h.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySmBold,as:"h6",marginLeft:1,className:"smart-transaction-status__remaining-time"},(0,v.showRemainingTimeInMinAndSec)(fe))),U[71]=Ce,U[72]=V,U[73]=fe,U[74]=tt):tt=U[74];U[75]!==Ae?(at=s.default.createElement(h.Text,{"data-testid":"swap-smart-transaction-status-header",color:y.TextColor.textDefault,variant:y.TextVariant.headingSm,as:"h4",fontWeight:y.FontWeight.Bold},Ae),U[75]=Ae,U[76]=at):at=U[76];U[77]!==Ce||U[78]!==ne.stxStatusDeadline||U[79]!==fe?(nt=Ce&&s.default.createElement("div",{className:"smart-transaction-status__loading-bar-container"},s.default.createElement("div",{className:"smart-transaction-status__loading-bar",style:{width:100/ne.stxStatusDeadline*(ne.stxStatusDeadline-fe)+"%"}})),U[77]=Ce,U[78]=ne.stxStatusDeadline,U[79]=fe,U[80]=nt):nt=U[80];U[81]!==Ne||U[82]!==ke?(st=ke&&s.default.createElement(h.Text,{"data-testid":"swap-smart-transaction-status-description",variant:y.TextVariant.bodySm,as:"h6",marginTop:Ne&&1,color:y.TextColor.textAlternative},ke),U[81]=Ne,U[82]=ke,U[83]=st):st=U[83];const rt=Ne&&s.default.createElement(k.default,{blockExplorerUrl:Ne,sensitiveTrackingProperties:he});let ot,lt,it,ct;U[84]===Symbol.for("react.memo_cache_sentinel")?(ot=s.default.createElement(_.default,{marginTop:3,className:"smart-transaction-status__spacer-box--bottom"}),U[84]=ot):ot=U[84];U[85]!==Me?(lt=Me&&s.default.createElement(h.Text,{variant:y.TextVariant.bodySm,as:"h6",marginTop:8,color:y.TextColor.textAlternative},Me),U[85]=Me,U[86]=lt):lt=U[86];U[87]!==Xe||U[88]!==et||U[89]!==tt||U[90]!==at||U[91]!==nt||U[92]!==st||U[93]!==rt||U[94]!==lt?(it=s.default.createElement(_.default,{paddingLeft:8,paddingRight:8,height:y.BLOCK_SIZES.FULL,justifyContent:y.JustifyContent.flexStart,display:y.DISPLAY.FLEX,className:"smart-transaction-status__content"},Xe,Je,et,tt,at,nt,st,rt,ot,lt),U[87]=Xe,U[88]=et,U[89]=tt,U[90]=at,U[91]=nt,U[92]=st,U[93]=rt,U[94]=lt,U[95]=it):it=U[95];U[96]!==Le||U[97]!==Ce||U[98]!==le||U[99]!==Pe?(ct=Pe&&le&&Ce&&s.default.createElement(Le,null),U[96]=Le,U[97]=Ce,U[98]=le,U[99]=Pe,U[100]=ct):ct=U[100];const ut=ce===S.SmartTransactionStatus.success?s.default.createElement(w.default,{sensitiveTrackingProperties:he}):null;let dt,pt,mt,ft,gt,ht;U[101]!==H||U[102]!==$||U[103]!==Te?(dt=async()=>{Te?(await H((0,u.prepareToLeaveSwaps)()),$(g.DEFAULT_ROUTE)):$(g.PREPARE_SWAP_ROUTE)},U[101]=H,U[102]=$,U[103]=Te,U[104]=dt):dt=U[104];U[105]!==H||U[106]!==$?(pt=async()=>{await H((0,u.prepareToLeaveSwaps)()),$(g.DEFAULT_ROUTE)},U[105]=H,U[106]=$,U[107]=pt):pt=U[107];U[108]!==Te||U[109]!==V?(mt=V(Te?"close":"tryAgain"),U[108]=Te,U[109]=V,U[110]=mt):mt=U[110];U[111]!==V?(ft=V("close"),U[111]=V,U[112]=ft):ft=U[112];U[113]!==Te||U[114]!==dt||U[115]!==pt||U[116]!==mt||U[117]!==ft?(gt=s.default.createElement(b.default,{onSubmit:dt,onCancel:pt,submitText:mt,hideCancel:Te,cancelText:ft,className:"smart-transaction-status__swaps-footer"}),U[113]=Te,U[114]=dt,U[115]=pt,U[116]=mt,U[117]=ft,U[118]=gt):gt=U[118];U[119]!==it||U[120]!==ct||U[121]!==ut||U[122]!==gt?(ht=s.default.createElement("div",{className:"smart-transaction-status"},it,ct,ut,gt),U[119]=it,U[120]=ct,U[121]=ut,U[122]=gt,U[123]=ht):ht=U[123];return ht};var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom-v5-compat"),l=e("@metamask/etherscan-link"),i=e("lodash"),c=e("../../../contexts/i18n"),u=e("../../../ducks/swaps/swaps"),d=e("../../../../shared/modules/selectors/networks"),p=e("../../../selectors"),m=e("../../../../shared/modules/selectors"),f=e("../../../../shared/constants/common"),g=e("../../../helpers/constants/routes"),h=e("../../../components/component-library"),_=L(e("../../../components/ui/box")),E=L(e("../../../components/ui/url-icon")),y=e("../../../helpers/constants/design-system"),C=e("../../../store/actions"),T=e("../../../../shared/constants/metametrics"),S=e("../../../../shared/constants/transaction"),b=L(e("../swaps-footer")),v=e("../swaps.util"),x=e("../../../contexts/metametrics"),w=L(e("../create-new-swap")),k=L(e("../view-on-block-explorer")),M=e("../../../../shared/lib/transactions-controller-utils"),I=e("../../../selectors/selectors"),N=L(e("./success-icon")),A=L(e("./reverted-icon")),R=L(e("./canceled-icon")),O=L(e("./unknown-icon")),D=L(e("./arrow-icon")),P=L(e("./timer-icon"));function L(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/smart-transaction-status.js"}],[8006,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.5457 19.8983C34.5457 23.9296 32.9443 27.7958 30.0937 30.6463C27.2432 33.4969 23.377 35.0983 19.3457 35.0983C15.3144 35.0983 11.4482 33.4969 8.59768 30.6463C5.74713 27.7958 4.1457 23.9296 4.1457 19.8983C4.1457 15.867 5.74713 12.0008 8.59768 9.15029C11.4482 6.29974 15.3144 4.69832 19.3457 4.69832C20.7897 4.69832 22.1957 4.90732 23.5257 5.28732L26.5087 2.30432C24.3047 1.39232 21.8917 0.898315 19.3457 0.898315C16.8506 0.898315 14.3799 1.38977 12.0747 2.3446C9.76953 3.29944 7.67499 4.69897 5.91067 6.46329C2.34748 10.0265 0.345703 14.8592 0.345703 19.8983C0.345703 24.9374 2.34748 29.7702 5.91067 33.3333C7.67499 35.0977 9.76953 36.4972 12.0747 37.452C14.3799 38.4069 16.8506 38.8983 19.3457 38.8983C24.3848 38.8983 29.2175 36.8965 32.7807 33.3333C36.3439 29.7702 38.3457 24.9374 38.3457 19.8983H34.5457ZM11.5747 16.2503L8.8957 18.9483L17.4457 27.4983L36.4457 8.49832L33.7667 5.80032L17.4457 22.1213L11.5747 16.2503Z",fill:"var(--color-success-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/success-icon.js"}],[8007,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M7.36621 0.0810547C3.62012 0.0810547 0.584961 3.11621 0.584961 6.8623C0.584961 10.6084 3.62012 13.6436 7.36621 13.6436C11.1123 13.6436 14.1475 10.6084 14.1475 6.8623C14.1475 3.11621 11.1123 0.0810547 7.36621 0.0810547ZM7.36621 12.3311C4.33105 12.3311 1.89746 9.89746 1.89746 6.8623C1.89746 3.85449 4.33105 1.39355 7.36621 1.39355C10.374 1.39355 12.835 3.85449 12.835 6.8623C12.835 9.89746 10.374 12.3311 7.36621 12.3311ZM9.03418 9.4873C9.19824 9.59668 9.38965 9.56934 9.49902 9.40527L10.0186 8.72168C10.1279 8.55762 10.1006 8.36621 9.93652 8.25684L8.13184 6.91699V3.03418C8.13184 2.87012 7.96777 2.70605 7.80371 2.70605H6.92871C6.7373 2.70605 6.60059 2.87012 6.60059 3.03418V7.5459C6.60059 7.62793 6.62793 7.7373 6.70996 7.79199L9.03418 9.4873Z",fill:"var(--color-primary-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/timer-icon.js"}],[8008,{react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("circle",{cx:"19.1533",cy:"19.2715",r:"17.1",stroke:"var(--color-primary-default)",strokeWidth:"3.8"}),r.default.createElement("path",{d:"M16.712 21.5034C16.712 20.7834 16.88 20.1834 17.216 19.7034C17.568 19.2074 18.08 18.7274 18.752 18.2634C19.008 18.0874 19.264 17.9274 19.52 17.7834C19.776 17.6394 20 17.4874 20.192 17.3274C20.4 17.1514 20.56 16.9674 20.672 16.7754C20.8 16.5674 20.864 16.3194 20.864 16.0314C20.864 15.5354 20.688 15.1594 20.336 14.9034C20 14.6474 19.592 14.5194 19.112 14.5194C18.616 14.5194 18.16 14.6794 17.744 14.9994C17.344 15.3034 17.144 15.7674 17.144 16.3914H13.52C13.52 15.6394 13.664 14.9354 13.952 14.2794C14.24 13.6074 14.632 13.0314 15.128 12.5514C15.64 12.0554 16.232 11.6634 16.904 11.3754C17.592 11.0874 18.328 10.9434 19.112 10.9434C19.896 10.9434 20.616 11.0794 21.272 11.3514C21.944 11.6234 22.512 11.9834 22.976 12.4314C23.456 12.8794 23.824 13.3994 24.08 13.9914C24.352 14.5674 24.488 15.1754 24.488 15.8154C24.488 16.2314 24.456 16.6234 24.392 16.9914C24.344 17.3594 24.24 17.7114 24.08 18.0474C23.936 18.3834 23.728 18.7114 23.456 19.0314C23.184 19.3514 22.84 19.6634 22.424 19.9674C21.784 20.4474 21.272 20.8234 20.888 21.0954C20.52 21.3674 20.336 21.6474 20.336 21.9354V21.9594H16.712V21.5034ZM18.512 28.4634C18.16 28.4634 17.824 28.3994 17.504 28.2714C17.2 28.1274 16.928 27.9434 16.688 27.7194C16.464 27.4794 16.28 27.2074 16.136 26.9034C16.008 26.5834 15.944 26.2474 15.944 25.8954C15.944 25.5434 16.008 25.2154 16.136 24.9114C16.28 24.5914 16.464 24.3194 16.688 24.0954C16.928 23.8554 17.2 23.6714 17.504 23.5434C17.824 23.3994 18.16 23.3274 18.512 23.3274C18.864 23.3274 19.192 23.3994 19.496 23.5434C19.816 23.6714 20.088 23.8554 20.312 24.0954C20.552 24.3194 20.736 24.5914 20.864 24.9114C21.008 25.2154 21.08 25.5434 21.08 25.8954C21.08 26.2474 21.008 26.5834 20.864 26.9034C20.736 27.2074 20.552 27.4794 20.312 27.7194C20.088 27.9434 19.816 28.1274 19.496 28.2714C19.192 28.3994 18.864 28.4634 18.512 28.4634Z",fill:"var(--color-primary-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/unknown-icon.js"}],[8009,{"./swaps-footer":8010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./swaps-footer"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/swaps-footer/index.js"}],[8010,{"../../../components/ui/page-container/page-container-footer":6949,"../../../contexts/i18n":7e3,classnames:4071,"prop-types":5052,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=d;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=c(e("prop-types")),o=c(e("classnames")),l=e("../../../contexts/i18n"),i=c(e("../../../components/ui/page-container/page-container-footer"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function d(e){const t=(0,n.c)(28),{onCancel:a,hideCancel:r,onSubmit:c,submitText:u,disabled:d,showTermsOfService:m,showTopBorder:f,className:g,cancelText:h}=e,_=g===undefined?"":g,E=(0,s.useContext)(l.I18nContext);let y,C,T,S,b,v,x,w;return t[0]!==_||t[1]!==f?(y=(0,o.default)("swaps-footer__buttons",_,{"swaps-footer__buttons--border":f}),t[0]=_,t[1]=f,t[2]=y):y=t[2],t[3]!==h||t[4]!==E?(C=h||E("back"),t[3]=h,t[4]=E,t[5]=C):C=t[5],t[6]!==_?(T=(0,o.default)("swaps-footer__custom-page-container-footer-class",_),t[6]=_,t[7]=T):T=t[7],t[8]!==r?(S=(0,o.default)("swaps-footer__custom-page-container-footer-button-class",{"swaps-footer__custom-page-container-footer-button-class--single":r}),t[8]=r,t[9]=S):S=t[9],t[10]!==d||t[11]!==r||t[12]!==a||t[13]!==c||t[14]!==u||t[15]!==C||t[16]!==T||t[17]!==S?(b=s.default.createElement(i.default,{onCancel:a,hideCancel:r,cancelText:C,onSubmit:c,submitText:u,footerClassName:T,footerButtonClassName:S,disabled:d}),t[10]=d,t[11]=r,t[12]=a,t[13]=c,t[14]=u,t[15]=C,t[16]=T,t[17]=S,t[18]=b):b=t[18],t[19]!==y||t[20]!==b?(v=s.default.createElement("div",{className:y},b),t[19]=y,t[20]=b,t[21]=v):v=t[21],t[22]!==m||t[23]!==E?(x=m&&s.default.createElement("div",{className:"swaps-footer__bottom-text",onClick:p},E("termsOfService")),t[22]=m,t[23]=E,t[24]=x):x=t[24],t[25]!==v||t[26]!==x?(w=s.default.createElement("div",{className:"swaps-footer"},v,x),t[25]=v,t[26]=x,t[27]=w):w=t[27],w}function p(){return global.platform.openTab({url:"https://metamask.io/terms.html"})}d.propTypes={onCancel:r.default.func,hideCancel:r.default.bool,onSubmit:r.default.func,submitText:r.default.string,disabled:r.default.bool,showTermsOfService:r.default.bool,showTopBorder:r.default.bool,className:r.default.string,cancelText:r.default.string}}}},{package:"$root$",file:"ui/pages/swaps/swaps-footer/swaps-footer.js"}],[8013,{"./view-on-block-explorer":8014},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./view-on-block-explorer"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/view-on-block-explorer/index.js"}],[8014,{"../../../../shared/constants/metametrics":5768,"../../../components/ui/box":6875,"../../../contexts/i18n":7e3,"../../../contexts/metametrics":7005,"../../../helpers/utils/util":7109,"prop-types":5052,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=m;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=d(e("prop-types")),o=d(e("../../../components/ui/box")),l=e("../../../contexts/i18n"),i=e("../../../helpers/utils/util"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e){const t=(0,n.c)(17),{blockExplorerUrl:a,sensitiveTrackingProperties:r}=e,d=(0,s.useContext)(l.I18nContext),p=(0,s.useContext)(c.MetaMetricsContext);let m,f,g,h,_,E,y;if(t[0]!==a||t[1]!==r||t[2]!==d||t[3]!==p){const e=(0,i.getURLHostName)(a);m=o.default,h=6,_="view-on-block-explorer",f=()=>{p({event:u.MetaMetricsEventName.ExternalLinkClicked,category:u.MetaMetricsEventCategory.Swaps,sensitiveProperties:r,properties:{link_type:u.MetaMetricsEventLinkType.TransactionBlockExplorer,location:"Swap Transaction",url_domain:e}}),global.platform.openTab({url:a})},g=d("viewOnCustomBlockExplorer",[d("blockExplorerSwapAction"),e]),t[0]=a,t[1]=r,t[2]=d,t[3]=p,t[4]=m,t[5]=f,t[6]=g,t[7]=h,t[8]=_}else m=t[4],f=t[5],g=t[6],h=t[7],_=t[8];return t[9]!==f||t[10]!==g?(E=s.default.createElement("button",{onClick:f},g),t[9]=f,t[10]=g,t[11]=E):E=t[11],t[12]!==m||t[13]!==h||t[14]!==_||t[15]!==E?(y=s.default.createElement(m,{marginTop:h,className:_},E),t[12]=m,t[13]=h,t[14]=_,t[15]=E,t[16]=y):y=t[16],y}m.propTypes={blockExplorerUrl:r.default.string.isRequired,sensitiveTrackingProperties:r.default.object.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/view-on-block-explorer/view-on-block-explorer.js"}],[8015,{"../../../../shared/lib/trust-signals":5879,"../../../selectors":8035,"../../confirmations/context/confirm":7607,"../../confirmations/hooks/useSignatureEventFragment":7717,"../../confirmations/hooks/useTransactionEventFragment":7722,"../../confirmations/utils":7743,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useTrustSignalMetrics=function(){const e=(0,n.c)(23),{currentConfirmation:t}=(0,l.useConfirmContext)(),{updateSignatureEventFragment:a}=(0,d.useSignatureEventFragment)(),{updateTransactionEventFragment:p}=(0,u.useTransactionEventFragment)();let m;e[0]!==t?(m=function(e){if(!e)return null;if(!(0,i.isSignatureTransactionType)(e)){var t;return(null===(t=e.txParams)||void 0===t?void 0:t.to)??null}try{var a,n;const t=null==e||null===(a=e.msgParams)||void 0===a?void 0:a.data,s="string"==typeof t?JSON.parse(t):t;if(null!=s&&null!==(n=s.domain)&&void 0!==n&&n.verifyingContract)return s.domain.verifyingContract}catch(e){}return null}(t),e[0]=t,e[1]=m):m=e[1];const f=m,g=null==t?void 0:t.chainId;let h;e[2]!==f||e[3]!==g?(h=e=>{if(!f||!g)return;const t=(0,c.mapChainIdToSupportedEVMChain)(g);if(!t)return;const a=(0,c.createCacheKey)(t,f);return(0,o.getAddressSecurityAlertResponse)(e,a)},e[2]=f,e[3]=g,e[4]=h):h=e[4];const _=(0,r.useSelector)(h);let E;e:{if(!_){let t;e[5]===Symbol.for("react.memo_cache_sentinel")?(t={properties:{},anonymousProperties:{}},e[5]=t):t=e[5],E=t;break e}let t;e[6]!==_.result_type?(t={address_alert_response:_.result_type},e[6]=_.result_type,e[7]=t):t=e[7];const a=_.label||undefined;let n,s;e[8]!==a?(n={address_label:a},e[8]=a,e[9]=n):n=e[9],e[10]!==t||e[11]!==n?(s={properties:t,anonymousProperties:n},e[10]=t,e[11]=n,e[12]=s):s=e[12],E=s}const{properties:y,anonymousProperties:C}=E;let T;e[13]!==_||e[14]!==C||e[15]!==t||e[16]!==y||e[17]!==a||e[18]!==p?(T=()=>{if(!_||!t)return;const e=(null==t?void 0:t.id)??"";(0,i.isSignatureTransactionType)(t)?(a({properties:y}),C.address_label&&a({sensitiveProperties:C})):(p({properties:y},e),C.address_label&&p({sensitiveProperties:C},e))},e[13]=_,e[14]=C,e[15]=t,e[16]=y,e[17]=a,e[18]=p,e[19]=T):T=e[19];const S=T;let b,v;e[20]!==S?(b=()=>{S()},v=[S],e[20]=S,e[21]=b,e[22]=v):(b=e[21],v=e[22]);(0,s.useEffect)(b,v)};var n=e("react-compiler-runtime"),s=e("react"),r=e("react-redux"),o=e("../../../selectors"),l=e("../../confirmations/context/confirm"),i=e("../../confirmations/utils"),c=e("../../../../shared/lib/trust-signals"),u=e("../../confirmations/hooks/useTransactionEventFragment"),d=e("../../confirmations/hooks/useSignatureEventFragment")}}},{package:"$root$",file:"ui/pages/trust-signals/hooks/useTrustSignalMetrics.ts"}],[8016,{"../../components/component-library":6486,"../../helpers/constants/design-system":7049,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){const t=(0,n.c)(7),{startFrom:a,onCountdownEnd:l}=e,[c,u]=(0,s.useState)(a);let d,p,m,f;t[0]!==l?(d=()=>{const e=setInterval(()=>{u(t=>t<=0?(clearInterval(e),l(),0):t-1)},1e3);return()=>clearInterval(e)},p=[l],t[0]=l,t[1]=d,t[2]=p):(d=t[1],p=t[2]);(0,s.useEffect)(d,p),t[3]!==c?(m=i(c),t[3]=c,t[4]=m):m=t[4];t[5]!==m?(f=s.default.createElement(o.Text,{variant:r.TextVariant.inherit,color:r.TextColor.inherit,as:"span"},m),t[5]=m,t[6]=f):f=t[6];return f};var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("../../helpers/constants/design-system"),o=e("../../components/component-library");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}const i=e=>{if(e<=60)return`${e} seconds.`;const t=e%60;return`${Math.floor(e/3600)}:${Math.floor(e%3600/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}.`}}}},{package:"$root$",file:"ui/pages/unlock-page/formatted-counter.tsx"}],[8017,{"./unlock-page.container":8021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=(n=e("./unlock-page.container"))&&n.__esModule?n:{default:n};a.default=s.default}}},{package:"$root$",file:"ui/pages/unlock-page/index.js"}],[8018,{"../../components/ui/metafox-logo/horizontal-logo":6941,"../../hooks/useTheme":7230,react:5229,"react-compiler-runtime":5128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.MetamaskWordmarkLogo=void 0;var n=e("react-compiler-runtime"),s=l(e("react")),r=e("../../hooks/useTheme"),o=l(e("../../components/ui/metafox-logo/horizontal-logo"));function l(e){return e&&e.__esModule?e:{default:e}}a.MetamaskWordmarkLogo=e=>{const t=(0,n.c)(3),{isPopup:a}=e,l=(0,r.useTheme)(),i="unlock-page__mascot-container__horizontal-logo "+(a?"unlock-page__mascot-container__horizontal-logo--popup":"");let c;return t[0]!==i||t[1]!==l?(c=s.default.createElement(o.default,{theme:l,className:i}),t[0]=i,t[1]=l,t[2]=c):c=t[2],c}}}},{package:"$root$",file:"ui/pages/unlock-page/metamask-wordmark-logo.tsx"}],[8019,{"../../components/component-library":6486,"../../helpers/constants/design-system":7049,"../../hooks/useI18nContext":7200,"../../selectors":8035,react:5229,"react-compiler-runtime":5128,"react-redux":5179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){const t=(0,s.c)(22),{onClose:a,onRestore:n}=e,d=(0,l.useI18nContext)(),p=(0,o.useSelector)(u.getIsSocialLoginFlow);let m;t[0]!==n||t[1]!==d?(m=()=>r.default.createElement(i.Box,{paddingInline:4},r.default.createElement(i.Text,{variant:c.TextVariant.bodyMd,marginBottom:4},d("forgotPasswordSocialDescription")),r.default.createElement(i.Box,{as:"ul",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4,marginBottom:6},r.default.createElement(i.Box,{display:c.Display.Flex,gap:4,as:"li"},r.default.createElement(i.Icon,{name:i.IconName.FaceId,size:i.IconSize.Md,color:c.IconColor.iconMuted,style:{marginTop:"2px"}}),r.default.createElement(i.Text,{variant:c.TextVariant.bodyMd},d("forgotPasswordSocialStep1",[r.default.createElement(i.Text,{variant:c.TextVariant.inherit,fontWeight:c.FontWeight.Bold,key:"reset-password-step-1-biometrics"},d("forgotPasswordSocialStep1Biometrics"))]))),r.default.createElement(i.Box,{display:c.Display.Flex,gap:4,as:"li"},r.default.createElement(i.Icon,{name:i.IconName.SecurityKey,size:i.IconSize.Md,color:c.IconColor.iconMuted,style:{marginTop:"2px"}}),r.default.createElement(i.Text,{variant:c.TextVariant.bodyMd},d("forgotPasswordSocialStep2",[r.default.createElement(i.Text,{variant:c.TextVariant.inherit,fontWeight:c.FontWeight.Bold,key:"reset-password-step-2-srp"},d("secretRecoveryPhrase"))])))),r.default.createElement(i.Button,{"data-testid":"reset-password-modal-button",variant:i.ButtonVariant.Primary,onClick:n,size:i.ButtonSize.Lg,block:!0,danger:!0},d("forgotPasswordModalButton"))),t[0]=n,t[1]=d,t[2]=m):m=t[2];const f=m;let g;t[3]!==n||t[4]!==d?(g=()=>r.default.createElement(i.Box,{paddingInline:4},r.default.createElement(i.Box,{width:c.BlockSize.Full,display:c.Display.Flex,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,marginBottom:2},r.default.createElement("img",{src:"images/forgot-password-lock.png",width:154,height:154,alt:d("forgotPasswordModalTitle"),style:{alignSelf:"center"}})),r.default.createElement(i.Text,{variant:c.TextVariant.bodyMd,marginBottom:4},d("forgotPasswordModalDescription1")),r.default.createElement(i.Text,{variant:c.TextVariant.bodyMd,marginBottom:6},d("forgotPasswordModalDescription2")),r.default.createElement(i.Button,{"data-testid":"reset-password-modal-button",variant:i.ButtonVariant.Primary,onClick:n,size:i.ButtonSize.Lg,block:!0,danger:!0},d("forgotPasswordModalButton"))),t[3]=n,t[4]=d,t[5]=g):g=t[5];const h=g;let _,E,y,C,T,S;t[6]===Symbol.for("react.memo_cache_sentinel")?(_=r.default.createElement(i.ModalOverlay,null),t[6]=_):_=t[6];t[7]!==d?(E=d("forgotPasswordModalTitle"),t[7]=d,t[8]=E):E=t[8];t[9]!==a||t[10]!==E?(y=r.default.createElement(i.ModalHeader,{onClose:a},E),t[9]=a,t[10]=E,t[11]=y):y=t[11];t[12]!==p||t[13]!==f||t[14]!==h?(C=p?f():h(),t[12]=p,t[13]=f,t[14]=h,t[15]=C):C=t[15];t[16]!==y||t[17]!==C?(T=r.default.createElement(i.ModalContent,{alignItems:c.AlignItems.center},y,C),t[16]=y,t[17]=C,t[18]=T):T=t[18];t[19]!==a||t[20]!==T?(S=r.default.createElement(i.Modal,{isOpen:!0,onClose:a,className:"reset-password-modal","data-testid":"reset-password-modal"},_,T),t[19]=a,t[20]=T,t[21]=S):S=t[21];return S};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("react-redux"),l=e("../../hooks/useI18nContext"),i=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),u=e("../../selectors")}}},{package:"$root$",file:"ui/pages/unlock-page/reset-password-modal.tsx"}],[8020,{"../../../shared/constants/metametrics":5768,"../../../shared/constants/onboarding":5775,"../../../shared/lib/trace":5873,"../../../shared/lib/ui-utils":5880,"../../components/app/connections-removed-modal":6056,"../../components/component-library":6486,"../../components/ui/mascot":6936,"../../contexts/metametrics":7005,"../../helpers/constants/design-system":7049,"../../helpers/constants/routes":7054,"../../helpers/utils/build-types":7075,"../onboarding-flow/welcome/fox-appear-animation":7853,"../onboarding-flow/welcome/login-error-modal":7854,"../onboarding-flow/welcome/types":7857,"./formatted-counter":8016,"./metamask-wordmark-logo":8018,"./reset-password-modal":8019,"./unlock-page.util":8022,"@metamask/seedless-onboarding-controller":2614,events:4338,"prop-types":5052,react:5229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("events"),s=k(e("react")),r=v(e("prop-types")),o=e("@metamask/seedless-onboarding-controller"),l=e("../../components/component-library"),i=e("../../helpers/constants/design-system"),c=v(e("../../components/ui/mascot")),u=e("../../helpers/constants/routes"),d=e("../../../shared/constants/metametrics"),p=e("../../helpers/utils/build-types"),m=e("../../../shared/lib/ui-utils"),f=e("../../../shared/lib/trace"),g=e("../../../shared/constants/onboarding"),h=e("../../contexts/metametrics"),_=v(e("../onboarding-flow/welcome/login-error-modal")),E=e("../onboarding-flow/welcome/types"),y=v(e("../../components/app/connections-removed-modal")),C=e("./unlock-page.util"),T=v(e("./reset-password-modal")),S=v(e("./formatted-counter")),b=e("./metamask-wordmark-logo");function v(e){return e&&e.__esModule?e:{default:e}}function x(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}const M=(0,s.lazy)(()=>Promise.resolve().then(()=>k(e("../onboarding-flow/welcome/fox-appear-animation"))));class I extends s.Component{constructor(...e){super(...e),x(this,"state",{password:"",error:null,showResetPasswordModal:!1,isLocked:!1,isSubmitting:!1,unlockDelayPeriod:0,showLoginErrorModal:!1,showConnectionsRemovedModal:!1}),x(this,"failed_attempts",0),x(this,"animationEventEmitter",new n.EventEmitter),x(this,"handleSubmit",async e=>{e.preventDefault(),e.stopPropagation();const{password:t,isSubmitting:a}=this.state,{onSubmit:n,isOnboardingCompleted:s}=this.props;if(""===t||a)return;this.setState({error:null,isSubmitting:!0});const r=this.isSocialImportRehydration();if(r)this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.RehydrationPasswordAttempted,properties:{account_type:"social",biometrics:!1}});else if(!s){var o,l,i;null===(o=(l=this.context).bufferedTrace)||void 0===o||o.call(l,{name:f.TraceName.OnboardingPasswordLoginAttempt,op:f.TraceOperation.OnboardingUserJourney,parentContext:null===(i=this.props.onboardingParentContext)||void 0===i?void 0:i.current})}try{var c,u,p,m,g,h;if(await n(t),r)this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.RehydrationCompleted,properties:{account_type:"social",biometrics:!1,failed_attempts:this.failed_attempts}}),null===(c=(u=this.context).bufferedEndTrace)||void 0===c||c.call(u,{name:f.TraceName.OnboardingExistingSocialLogin});if(!s)null===(p=(m=this.context).bufferedEndTrace)||void 0===p||p.call(m,{name:f.TraceName.OnboardingPasswordLoginAttempt}),null===(g=(h=this.context).bufferedEndTrace)||void 0===g||g.call(h,{name:f.TraceName.OnboardingJourneyOverall});this.context.trackEvent({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.AppUnlocked,properties:{failed_attempts:this.failed_attempts}},{isNewVisit:!0})}catch(e){await this.handleLoginError(e,r)}finally{this.setState({isSubmitting:!1})}}),x(this,"handleLoginError",async(e,t=!1)=>{const{t:a}=this.context,{message:n,data:s}=e,{isOnboardingCompleted:r}=this.props;(null==s?void 0:s.numberOfAttempts)!==undefined&&(this.failed_attempts=s.numberOfAttempts);let l,i=n,c=0,u=!1,p=!1;var m,g,h,_;r||(null===(m=(g=this.context).bufferedTrace)||void 0===m||m.call(g,{name:f.TraceName.OnboardingPasswordLoginError,op:f.TraceOperation.OnboardingError,tags:{errorMessage:n},parentContext:this.props.onboardingParentContext.current}),null===(h=(_=this.context).bufferedEndTrace)||void 0===h||h.call(_,{name:f.TraceName.OnboardingPasswordLoginError}));switch(n){case"Incorrect password":case o.SeedlessOnboardingControllerErrorMessage.IncorrectPassword:i=a("unlockPageIncorrectPassword"),l="incorrect_password";break;case o.SeedlessOnboardingControllerErrorMessage.TooManyLoginAttempts:this.setState({isLocked:!0}),i=a("unlockPageTooManyFailedAttempts"),l="too_many_login_attempts",c=s.remainingTime;break;case o.SeedlessOnboardingControllerErrorMessage.OutdatedPassword:i=a("passwordChangedRecently"),l="outdated_password";break;case o.SeedlessOnboardingControllerErrorMessage.AuthenticationError:case o.SeedlessOnboardingControllerErrorMessage.InvalidRevokeToken:case o.SeedlessOnboardingControllerErrorMessage.InvalidRefreshToken:r&&(i=n,u=!0);break;case o.SeedlessOnboardingControllerErrorMessage.MaxKeyChainLengthExceeded:i=n,p=!0;break;default:i=n}l&&(await this.props.forceUpdateMetamaskState(),t&&this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.RehydrationPasswordFailed,properties:{account_type:"social",failed_attempts:this.failed_attempts,error_type:l}}),this.context.trackEvent({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.AppUnlockedFailed,properties:{reason:l,failed_attempts:this.failed_attempts}})),this.setState({error:i,unlockDelayPeriod:c,showLoginErrorModal:u,showConnectionsRemovedModal:p})}),x(this,"renderMascot",()=>(0,p.isFlask)()||(0,p.isBeta)()?s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"115",height:"115"}):s.default.createElement(c.default,{animationEventEmitter:this.animationEventEmitter,width:"170",height:"170"})),x(this,"renderHelpText",()=>{const{error:e,unlockDelayPeriod:t}=this.state;return e?s.default.createElement(l.Box,{className:"unlock-page__help-text",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},e&&s.default.createElement(l.Text,{"data-testid":"unlock-page-help-text",variant:i.TextVariant.bodySm,textAlign:i.TextAlign.Left,color:i.TextColor.errorDefault},e,t>0&&s.default.createElement(S.default,{startFrom:t,onCountdownEnd:()=>this.setState({isLocked:!1,error:null,unlockDelayPeriod:0})}))):null}),x(this,"onForgotPasswordOrLoginWithDiffMethods",async()=>{const{isSocialLoginFlow:e,navigate:t,isOnboardingCompleted:a}=this.props;if(!a&&e)return this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.UseDifferentLoginMethodClicked,properties:{account_type:"social"}}),await this.props.loginWithDifferentMethod(),await this.props.forceUpdateMetamaskState(),void t(u.ONBOARDING_WELCOME_ROUTE,{replace:!0});this.context.trackEvent({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.ForgotPasswordClicked,properties:{account_type:e?"social":"metamask"}}),this.setState({showResetPasswordModal:!0})}),x(this,"onRestoreWallet",async()=>{const{isSocialLoginFlow:e}=this.props;this.context.trackEvent({category:d.MetaMetricsEventCategory.Accounts,event:d.MetaMetricsEventName.ResetWallet,properties:{account_type:e?"social":"metamask"}}),this.props.onRestore()}),x(this,"onResetWallet",async()=>{this.setState({showLoginErrorModal:!1,showConnectionsRemovedModal:!1,showResetPasswordModal:!1}),await this.props.resetWallet(),await this.props.forceUpdateMetamaskState(),this.props.navigate(u.DEFAULT_ROUTE,{replace:!0})})}isSocialImportRehydration(){return this.props.firstTimeFlowType===g.FirstTimeFlowType.socialImport&&!this.props.isOnboardingCompleted}UNSAFE_componentWillMount(){const{isUnlocked:e,navigate:t,location:a,navState:n}=this.props;if(e){var s;let e=u.DEFAULT_ROUTE;const r=(null===(s=a.state)||void 0===s?void 0:s.from)||(null==n?void 0:n.from);if(null!=r&&r.pathname){const t=r.search||"";e=r.pathname+t}t(e)}}async componentDidMount(){const{isOnboardingCompleted:e,isSocialLoginFlow:t}=this.props;if(e)await this.props.checkIsSeedlessPasswordOutdated();else if(t){await this.props.getIsSeedlessOnboardingUserAuthenticated()||this.props.navigate(u.ONBOARDING_WELCOME_ROUTE,{replace:!0})}}handleInputChange(e){const{target:t}=e;this.setState({password:t.value,error:null});const a=t,n=a.getBoundingClientRect(),s=(0,C.getCaretCoordinates)(a,a.selectionEnd??0);this.animationEventEmitter.emit("point",{x:n.left+s.left-a.scrollLeft,y:n.top+s.top-a.scrollTop})}render(){const{password:e,error:t,isLocked:a,showResetPasswordModal:n,showLoginErrorModal:r,showConnectionsRemovedModal:o}=this.state,{isOnboardingCompleted:c,isSocialLoginFlow:u}=this.props,{t:f}=this.context,g=f("needHelpLinkText"),h=u&&!c;return s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,backgroundColor:i.BackgroundColor.backgroundDefault,width:i.BlockSize.Full,paddingBottom:12},n&&s.default.createElement(T.default,{onClose:()=>this.setState({showResetPasswordModal:!1}),onRestore:this.onRestoreWallet}),r&&s.default.createElement(_.default,{onDone:this.onResetWallet,loginError:E.LOGIN_ERROR.RESET_WALLET}),o&&s.default.createElement(y.default,{onConfirm:this.onResetWallet}),s.default.createElement(l.Box,{as:"form",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,padding:4,width:i.BlockSize.Full,className:"unlock-page","data-testid":"unlock-page",onSubmit:this.handleSubmit},s.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,alignItems:i.AlignItems.center},s.default.createElement(l.Box,{className:"unlock-page__mascot-container",marginBottom:(0,p.isBeta)()||(0,p.isFlask)()?6:0},h?this.renderMascot():s.default.createElement(b.MetamaskWordmarkLogo,{isPopup:this.props.isPopup}),(0,p.isBeta)()?s.default.createElement(l.Text,{className:"unlock-page__mascot-container__beta",backgroundColor:i.BackgroundColor.primaryDefault,color:i.TextColor.primaryInverse,padding:1,borderRadius:i.BorderRadius.LG,textTransform:i.TextTransform.Uppercase,fontWeight:i.FontWeight.Medium},f("beta")):null),h&&s.default.createElement(l.Text,{"data-testid":"unlock-page-title",as:"h1",variant:i.TextVariant.displayMd,marginBottom:12,fontWeight:i.FontWeight.Medium,color:i.TextColor.textDefault,textAlign:i.TextAlign.Center},f("welcomeBack")),s.default.createElement(l.FormTextField,{id:"password",placeholder:this.props.isSocialLoginFlow?f("enterYourPasswordSocialLoginFlow"):f("enterYourPassword"),size:l.FormTextFieldSize.Lg,placeholderColor:i.TextColor.textDefault,inputProps:{"data-testid":"unlock-password","aria-label":f("password")},textFieldProps:{disabled:a},onChange:e=>this.handleInputChange(e),type:l.TextFieldType.Password,value:e,error:Boolean(t),helpText:this.renderHelpText(),autoComplete:!0,autoFocus:!0,width:i.BlockSize.Full,marginBottom:4}),s.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,type:"submit","data-testid":"unlock-submit",disabled:!e||a,marginBottom:6},this.context.t("unlock")),s.default.createElement(l.Button,{variant:l.ButtonVariant.Link,"data-testid":"unlock-forgot-password-button",key:"import-account",type:"button",onClick:this.onForgotPasswordOrLoginWithDiffMethods,marginBottom:4,color:h?i.TextColor.textDefault:i.TextColor.primaryDefault},f(h?"useDifferentLoginMethod":"forgotPassword")),s.default.createElement(l.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault},f("needHelp",[s.default.createElement(l.Button,{variant:l.ButtonVariant.Link,color:i.TextColor.primaryDefault,href:m.SUPPORT_LINK,type:"button",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",onClick:()=>{this.context.trackEvent({category:d.MetaMetricsEventCategory.Navigation,event:d.MetaMetricsEventName.SupportLinkClicked,properties:{url:m.SUPPORT_LINK}},{contextPropsIntoEventProperties:[d.MetaMetricsContextProp.PageTitle]})}},g)])))),!h&&s.default.createElement(s.Suspense,{fallback:s.default.createElement(l.Box,null)},s.default.createElement(M,null)))}}x(I,"contextTypes",{trackEvent:r.default.func,bufferedTrace:r.default.func,bufferedEndTrace:r.default.func,t:r.default.func}),x(I,"propTypes",{navigate:r.default.func.isRequired,location:r.default.object.isRequired,navState:r.default.object,isUnlocked:r.default.bool,isOnboardingCompleted:r.default.bool,onRestore:r.default.func,onSubmit:r.default.func,checkIsSeedlessPasswordOutdated:r.default.func,getIsSeedlessOnboardingUserAuthenticated:r.default.func,forceUpdateMetamaskState:r.default.func,isSocialLoginFlow:r.default.bool,onboardingParentContext:r.default.object,loginWithDifferentMethod:r.default.func,firstTimeFlowType:r.default.string,resetWallet:r.default.func,isPopup:r.default.bool});a.default=(0,h.withMetaMetrics)(I)}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.component.js"}],[8021,{"../../../app/scripts/lib/util":358,"../../../shared/constants/app":5753,"../../contexts/navigation-state":7006,"../../ducks/metamask/metamask":7033,"../../helpers/constants/routes":7054,"../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7072,"../../selectors":8035,"../../store/actions":8065,"./unlock-page.component":8020,"prop-types":5052,react:5229,"react-redux":5179,redux:5273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.UnlockPageConnected=void 0;var n=e("react-redux"),s=h(e("react")),r=h(e("prop-types")),o=e("redux"),l=e("../../../app/scripts/lib/util"),i=e("../../../shared/constants/app"),c=e("../../helpers/constants/routes"),u=e("../../store/actions"),d=e("../../selectors"),p=e("../../ducks/metamask/metamask"),m=h(e("../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),f=e("../../contexts/navigation-state"),g=h(e("./unlock-page.component"));function h(e){return e&&e.__esModule?e:{default:e}}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_.apply(null,arguments)}const E=a.UnlockPageConnected=(0,o.compose)(m.default,(0,n.connect)(e=>{const{metamask:{isUnlocked:t}}=e;return{isUnlocked:t,isSocialLoginFlow:(0,d.getIsSocialLoginFlow)(e),isOnboardingCompleted:(0,p.getCompletedOnboarding)(e),firstTimeFlowType:(0,d.getFirstTimeFlowType)(e)}},e=>({tryUnlockMetamask:t=>e((0,u.tryUnlockMetamask)(t)),markPasswordForgotten:()=>e((0,u.markPasswordForgotten)()),forceUpdateMetamaskState:()=>(0,u.forceUpdateMetamaskState)(e),loginWithDifferentMethod:()=>e((0,u.resetOnboarding)()),checkIsSeedlessPasswordOutdated:()=>e((0,u.checkIsSeedlessPasswordOutdated)()),resetWallet:()=>e((0,u.resetWallet)()),getIsSeedlessOnboardingUserAuthenticated:()=>e((0,u.getIsSeedlessOnboardingUserAuthenticated)())}),(e,t,a)=>{const{markPasswordForgotten:n,tryUnlockMetamask:s,...r}=t,{navigate:o,onSubmit:u,location:d,navState:p,...m}=a,f=(0,l.getEnvironmentType)()===i.ENVIRONMENT_TYPE_POPUP;return{...e,...r,...m,onRestore:async()=>{var e,t;(await n(),o(c.RESTORE_VAULT_ROUTE),f)&&(null===(e=(t=global.platform).openExtensionInBrowser)||void 0===e||e.call(t,c.RESTORE_VAULT_ROUTE))},onSubmit:u||(async e=>{var t;await s(e);let a=c.DEFAULT_ROUTE;const n=(null===(t=d.state)||void 0===t?void 0:t.from)||(null==p?void 0:p.from);if(null!=n&&n.pathname){const e=n.search||"";a=n.pathname+e}o(a)}),navigate:o,location:d,navState:p,isPopup:f}}))(g.default),y=e=>{const t=(0,f.useNavState)();return s.default.createElement(E,_({},e,{navState:t}))};y.propTypes={navigate:r.default.func.isRequired,location:r.default.object.isRequired,onSubmit:r.default.func};a.default=y}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.container.js"}],[8022,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getCaretCoordinates=function(e,t){const a=document.createElement("div");a.id="password-mirror-div",document.body.appendChild(a);const n=window.getComputedStyle(e);a.textContent=new Array(t+1).join("");const s=document.createElement("span");s.textContent="",a.appendChild(s);const r={top:s.offsetTop+parseInt(n.borderTopWidth,10),left:s.offsetLeft+parseInt(n.borderLeftWidth,10)};return document.body.removeChild(a),r}}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.util.js"}],[8023,{reselect:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getIsUsingPaymaster=function(e){var t;const a=o(e);if(!a)return!1;const n=null===(t=a.userOperation)||void 0===t?void 0:t.paymasterAndData;return Boolean(null==n?void 0:n.length)&&"0x"!==n},a.getUserOperation=o,a.getUserOperations=s,a.selectUserOperationMetadata=a.selectPaymasterData=a.selectPaymasterAddress=void 0;var n=e("reselect");function s(e){return e.metamask.userOperations||{}}const r=a.selectUserOperationMetadata=(0,n.createSelector)(s,(e,t)=>t,(e,t)=>e[t]);function o(e){var t;const a=null===(t=e.confirmTransaction)||void 0===t?void 0:t.txData;if(!a)return undefined;const{id:n,isUserOperation:r}=a;if(!r)return undefined;return s(e)[n]}const l=a.selectPaymasterData=(0,n.createSelector)(r,e=>{var t;const a=null==e||null===(t=e.userOperation)||void 0===t?void 0:t.paymasterAndData;return"0x"===a?undefined:a});a.selectPaymasterAddress=(0,n.createSelector)(l,e=>null==e?void 0:e.slice(0,42))}}},{package:"$root$",file:"ui/selectors/account-abstraction.ts"}],[8025,{"./shared":8053,reselect:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.selectAlerts=r,a.selectConfirmedAlertKeys=function(e,t){const{confirmed:a}=e.confirmAlerts??{},n=(null==a?void 0:a[t])||{};return Object.keys(n).filter(e=>n[e])},a.selectGeneralAlerts=a.selectFieldAlerts=void 0;var n=e("reselect"),s=e("./shared");function r(e,t){var a;return(null===(a=e.confirmAlerts)||void 0===a?void 0:a.alerts[t])??s.EMPTY_ARRAY}a.selectGeneralAlerts=(0,n.createSelector)((e,t)=>r(e,t),e=>e.filter(e=>!e.field)),a.selectFieldAlerts=(0,n.createSelector)((e,t)=>r(e,t),e=>e.filter(e=>e.field))}}},{package:"$root$",file:"ui/selectors/alerts.ts"}]],[],{});