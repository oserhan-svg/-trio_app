LavaPack.loadBundle([[2763,{"../restricted/manageState.cjs":2782,"../utils.cjs":2784,"@metamask/rpc-errors":2594,"@metamask/snaps-utils":2902,"@metamask/superstruct":2931,"@metamask/utils":3070,"async-mutex":3860},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.set=n.setStateHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),i=e("@metamask/superstruct"),a=e("@metamask/utils"),o=e("async-mutex"),c=e("../restricted/manageState.cjs"),u=e("../utils.cjs");n.setStateHandler={methodNames:["snap_setState"],implementation:async function(e,t,n,u,{hasPermission:m,getSnapState:f,getUnlockPromise:h,updateSnapState:g,getSnap:y}){const{params:S}=e;if(!m(c.manageStateBuilder.targetName))return u(r.providerErrors.unauthorized());try{const n=function(e){try{return(0,i.create)(e,d)}catch(e){if(e instanceof i.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(S),{key:m,value:b,encrypted:k=!0}=n;if(m===undefined&&!(0,a.isObject)(b))return u(r.rpcErrors.invalidParams("Invalid params: Value must be an object if key is not provided."));k&&await h(!0);const v=e.origin,j=function(e){l.has(e)||l.set(e,new o.Mutex);return l.get(e)}(v);await j.runExclusive(async()=>{const e=await async function(e,t,n,r){if(e===undefined)return(0,a.assert)((0,a.isObject)(t)),t;const s=await r(n);return p(s,e,t)}(m,b,k,f),n=y(v);if(null==n||!n.preinstalled){if((0,s.getJsonSizeUnsafe)(e,!0)>c.STORAGE_SIZE_LIMIT)throw r.rpcErrors.invalidParams({message:`Invalid params: The new state must not exceed ${c.STORAGE_SIZE_LIMIT/1e6} MB in size.`})}await g(e,k),t.result=null})}catch(e){return u(e)}return u()},hookNames:{hasPermission:!0,getSnapState:!0,getUnlockPromise:!0,updateSnapState:!0,getSnap:!0}};const l=new Map;const d=(0,i.object)({key:(0,i.optional)(u.StateKeyStruct),value:a.JsonStruct,encrypted:(0,i.optional)((0,i.boolean)())});function p(e,t,n){const s=t.split("."),i=e??{};let o=i;for(let e=0;e<s.length;e++){const t=s[e];if(u.FORBIDDEN_KEYS.includes(t))throw r.rpcErrors.invalidParams("Invalid params: Key contains forbidden characters.");if(e===s.length-1)return o[t]=n,i;if((0,a.hasProperty)(o,t)&&null!==o[t]){if(!(0,a.isObject)(o[t]))throw r.rpcErrors.invalidParams("Invalid params: Cannot overwrite non-object value.")}else o[t]={};o=o[t]}throw new Error("Unexpected error while setting the state.")}n.set=p}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/setState.cjs"}],[2764,{"@metamask/rpc-errors":2594,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.startTraceHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/superstruct"),i=e("@metamask/utils"),a=(0,s.object)({data:(0,s.exactOptional)((0,s.record)((0,s.string)(),(0,s.union)([(0,s.string)(),(0,s.number)(),(0,s.boolean)()]))),id:(0,s.exactOptional)((0,s.string)()),name:(0,s.string)(),parentContext:(0,s.exactOptional)(i.JsonStruct),startTime:(0,s.exactOptional)((0,s.number)()),tags:(0,s.exactOptional)((0,s.record)((0,s.string)(),(0,s.union)([(0,s.string)(),(0,s.number)(),(0,s.boolean)()])))});n.startTraceHandler={methodNames:["snap_startTrace"],implementation:function(e,t,n,i,{startTrace:o,getSnap:c}){const u=c(e.origin);if(null==u||!u.preinstalled)return i(r.rpcErrors.methodNotFound());const{params:l}=e;try{const e=function(e){try{return(0,s.create)(e,a)}catch(e){if(e instanceof s.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(l);t.result=o(e)}catch(e){return i(e)}return i()},hookNames:{startTrace:!0,getSnap:!0}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/startTrace.cjs"}],[2765,{"@metamask/rpc-errors":2594,"@metamask/snaps-utils":2902,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.trackErrorHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),i=e("@metamask/superstruct"),a=(0,i.object)({error:s.TrackableErrorStruct});function o(e){const t=new Error(e.message);return t.name=e.name,t.stack=e.stack??undefined,t.cause=e.cause?o(e.cause):undefined,t}n.trackErrorHandler={methodNames:["snap_trackError"],implementation:function(e,t,n,s,{trackError:c,getSnap:u}){const l=u(e.origin);if(null==l||!l.preinstalled)return s(r.rpcErrors.methodNotFound());const{params:d}=e;try{const e=function(e){try{return(0,i.create)(e,a)}catch(e){if(e instanceof i.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(d),n=o(e.error);t.result=c(n)}catch(e){return s(e)}return s()},hookNames:{trackError:!0,getSnap:!0}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/trackError.cjs"}],[2766,{"@metamask/rpc-errors":2594,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.trackEventHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/superstruct"),i=e("@metamask/utils"),a=(0,s.optional)((0,s.record)((0,s.string)(),i.JsonStruct)),o=/^[a-z][a-z0-9]*(?:_[a-z0-9]+)*$/u,c=(0,s.refine)(a,"snake_case_keys",e=>!e||Object.keys(e).every(e=>o.test(e))),u=(0,s.object)({event:(0,s.object)({event:(0,s.string)(),properties:c,sensitiveProperties:c})});n.trackEventHandler={methodNames:["snap_trackEvent"],implementation:function(e,t,n,i,{trackEvent:a,getSnap:o}){const c=o(e.origin);if(null==c||!c.preinstalled)return i(r.rpcErrors.methodNotFound());const{params:l}=e;try{const e=function(e){try{return(0,s.create)(e,u)}catch(e){if(e instanceof s.StructError){if("snake_case_keys"===e.refinement)throw r.rpcErrors.invalidParams({message:`Invalid params: All property keys must be in snake_case format. The following key contains invalid properties: "${e.key}".`});throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`})}throw r.rpcErrors.internal()}}(l);a(e.event),t.result=null}catch(e){return i(e)}return i()},hookNames:{trackEvent:!0,getSnap:!0}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/trackEvent.cjs"}],[2767,{"@metamask/rpc-errors":2594,"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.updateInterfaceHandler=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct");n.updateInterfaceHandler={methodNames:["snap_updateInterface"],implementation:function(e,t,n,s,{updateInterface:o}){const{params:c}=e;try{const e=function(e){try{return(0,i.create)(e,a)}catch(e){if(e instanceof i.StructError)throw r.rpcErrors.invalidParams({message:`Invalid params: ${e.message}.`});throw r.rpcErrors.internal()}}(c),{id:n,ui:s,context:u}=e;o(n,s,u),t.result=null}catch(e){return s(e)}return s()},hookNames:{updateInterface:!0}};const a=(0,i.object)({id:(0,i.string)(),ui:s.ComponentOrElementStruct,context:(0,i.optional)(s.InterfaceContextStruct)})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/permitted/updateInterface.cjs"}],[2768,{"../getBip32Entropy.cjs":2773,"../getBip32PublicKey.cjs":2774,"../getBip44Entropy.cjs":2775,"../invokeSnap.cjs":2780,"./permittedCoinTypes.cjs":2769,"./permittedDerivationPaths.cjs":2770,"./snapIds.cjs":2771},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.caveatMappers=n.caveatSpecifications=void 0;const r=e("./permittedCoinTypes.cjs"),s=e("./permittedDerivationPaths.cjs"),i=e("./snapIds.cjs"),a=e("../getBip32Entropy.cjs"),o=e("../getBip32PublicKey.cjs"),c=e("../getBip44Entropy.cjs"),u=e("../invokeSnap.cjs");n.caveatSpecifications={...s.PermittedDerivationPathsCaveatSpecification,...r.PermittedCoinTypesCaveatSpecification,...i.SnapIdsCaveatSpecification},n.caveatMappers={[a.getBip32EntropyBuilder.targetName]:s.permittedDerivationPathsCaveatMapper,[o.getBip32PublicKeyBuilder.targetName]:s.permittedDerivationPathsCaveatMapper,[c.getBip44EntropyBuilder.targetName]:r.permittedCoinTypesCaveatMapper,[u.invokeSnapBuilder.targetName]:i.snapIdsCaveatMapper}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/caveats/index.cjs"}],[2769,{"@metamask/rpc-errors":2594,"@metamask/snaps-utils":2902,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermittedCoinTypesCaveatSpecification=n.validateBIP44Caveat=n.validateBIP44Params=n.permittedCoinTypesCaveatMapper=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),i=e("@metamask/utils");function a(e){if(!(0,i.isPlainObject)(e)||!(0,i.hasProperty)(e,"coinType"))throw r.rpcErrors.invalidParams({message:"Expected a plain object containing a coin type."});if("number"!=typeof e.coinType||!Number.isInteger(e.coinType)||e.coinType<0||e.coinType>2147483647)throw r.rpcErrors.invalidParams({message:'Invalid "coinType" parameter. Coin type must be a non-negative integer.'});if((0,i.hasProperty)(e,"source")&&void 0!==e.source&&"string"!=typeof e.source)throw r.rpcErrors.invalidParams({message:'Invalid "source" parameter. Source must be a string if provided.'});if(s.FORBIDDEN_COIN_TYPES.includes(e.coinType))throw r.rpcErrors.invalidParams({message:`Coin type ${e.coinType} is forbidden.`})}function o(e){if(!(0,i.hasProperty)(e,"value")||!Array.isArray(e.value)||0===e.value.length)throw r.rpcErrors.invalidParams({message:"Expected non-empty array of coin types."});e.value.forEach(a)}n.permittedCoinTypesCaveatMapper=function(e){return{caveats:[{type:s.SnapCaveatType.PermittedCoinTypes,value:e}]}},n.validateBIP44Params=a,n.validateBIP44Caveat=o,n.PermittedCoinTypesCaveatSpecification={[s.SnapCaveatType.PermittedCoinTypes]:Object.freeze({type:s.SnapCaveatType.PermittedCoinTypes,decorator:(e,t)=>async n=>{const{params:s}=n;a(s);if(!t.value.find(e=>e.coinType===s.coinType))throw r.providerErrors.unauthorized({message:"The requested coin type is not permitted. Allowed coin types must be specified in the snap manifest."});return await e(n)},validator:e=>o(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/caveats/permittedCoinTypes.cjs"}],[2770,{"@metamask/rpc-errors":2594,"@metamask/snaps-utils":2902,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermittedDerivationPathsCaveatSpecification=n.validateBIP32CaveatPaths=n.validateBIP32Path=n.permittedDerivationPathsCaveatMapper=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),i=e("@metamask/superstruct"),a=e("@metamask/utils");function o(e){(0,a.assertStruct)(e,s.Bip32EntropyStruct,"Invalid BIP-32 entropy path definition",r.rpcErrors.invalidParams)}function c(e){(0,a.assertStruct)(e,(0,i.type)({value:(0,i.size)((0,i.array)(s.Bip32EntropyStruct),1,Infinity)}),"Invalid BIP-32 entropy caveat",r.rpcErrors.internal)}n.permittedDerivationPathsCaveatMapper=function(e){return{caveats:[{type:s.SnapCaveatType.PermittedDerivationPaths,value:e}]}},n.validateBIP32Path=o,n.validateBIP32CaveatPaths=c,n.PermittedDerivationPathsCaveatSpecification={[s.SnapCaveatType.PermittedDerivationPaths]:Object.freeze({type:s.SnapCaveatType.PermittedDerivationPaths,decorator:(e,t)=>async n=>{const{params:i}=n;o(i);if(!t.value.find(e=>(0,s.isEqual)(i.path.slice(0,e.path.length),e.path)&&e.curve===i.curve))throw r.providerErrors.unauthorized({message:"The requested path is not permitted. Allowed paths must be specified in the snap manifest."});return await e(n)},validator:e=>c(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/caveats/permittedDerivationPaths.cjs"}],[2771,{"@metamask/rpc-errors":2594,"@metamask/snaps-utils":2902,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapIdsCaveatSpecification=n.validateSnapIdsCaveat=n.snapIdsCaveatMapper=void 0;const r=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),i=e("@metamask/superstruct"),a=e("@metamask/utils");function o(e){(0,a.assertStruct)(e,(0,i.type)({value:s.SnapIdsStruct}),"Expected caveat to have a value property of a non-empty object of snap IDs.",r.rpcErrors.invalidParams)}n.snapIdsCaveatMapper=function(e){return{caveats:[{type:s.SnapCaveatType.SnapIds,value:e}]}},n.validateSnapIdsCaveat=o,n.SnapIdsCaveatSpecification={[s.SnapCaveatType.SnapIds]:Object.freeze({type:s.SnapCaveatType.SnapIds,validator:e=>o(e),decorator:(e,t)=>async n=>{const{params:r,context:{origin:s}}=n,i=t.value,{snapId:o}=r;if(!(0,a.hasProperty)(i,o))throw new Error(`${s} does not have permission to invoke ${o} snap.`);return await e(n)}})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/caveats/snapIds.cjs"}],[2772,{"@metamask/permission-controller":2401,"@metamask/rpc-errors":2594,"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDialogImplementation=n.dialogBuilder=n.DIALOG_APPROVAL_TYPES=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),i=e("@metamask/snaps-sdk"),a=e("@metamask/superstruct"),o=e("@metamask/utils"),c="snap_dialog";n.DIALOG_APPROVAL_TYPES={[i.DialogType.Alert]:`${c}:alert`,[i.DialogType.Confirmation]:`${c}:confirmation`,[i.DialogType.Prompt]:`${c}:prompt`,default:c};const u=(0,a.optional)((0,a.size)((0,a.string)(),1,40));n.dialogBuilder=Object.freeze({targetName:c,specificationBuilder:({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:c,allowedCaveats:e,methodImplementation:w(t),subjectTypes:[r.SubjectType.Snap]}),methodHooks:{requestUserApproval:!0,createInterface:!0,getInterface:!0}});const l=(0,a.object)({type:(0,i.enumValue)(i.DialogType.Alert),content:i.ComponentOrElementStruct}),d=(0,a.object)({type:(0,i.enumValue)(i.DialogType.Alert),id:(0,a.string)()}),p=(0,i.selectiveUnion)(e=>(0,o.isPlainObject)(e)&&(0,o.hasProperty)(e,"id")?d:l),m=(0,a.object)({type:(0,i.enumValue)(i.DialogType.Confirmation),content:i.ComponentOrElementStruct}),f=(0,a.object)({type:(0,i.enumValue)(i.DialogType.Confirmation),id:(0,a.string)()}),h=(0,i.selectiveUnion)(e=>(0,o.isPlainObject)(e)&&(0,o.hasProperty)(e,"id")?f:m),g=(0,a.object)({type:(0,i.enumValue)(i.DialogType.Prompt),content:i.ComponentOrElementStruct,placeholder:u}),y=(0,a.object)({type:(0,i.enumValue)(i.DialogType.Prompt),id:(0,a.string)(),placeholder:u}),S=(0,i.selectiveUnion)(e=>(0,o.isPlainObject)(e)&&(0,o.hasProperty)(e,"id")?y:g),b=(0,a.object)({content:i.ComponentOrElementStruct}),k=(0,a.object)({id:(0,a.string)()}),v=(0,i.selectiveUnion)(e=>(0,o.isPlainObject)(e)&&(0,o.hasProperty)(e,"id")?k:b),j=(0,i.selectiveUnion)(e=>{if((0,o.isPlainObject)(e)&&(0,o.hasProperty)(e,"type"))switch(e.type){case i.DialogType.Alert:return p;case i.DialogType.Confirmation:return h;case i.DialogType.Prompt:return S;default:throw new Error(`The "type" property must be one of: ${Object.values(i.DialogType).join(", ")}.`)}return v});function w({requestUserApproval:e,createInterface:t,getInterface:r}){return async function(c){const{params:u,context:{origin:l}}=c;if(!(0,o.isObject)(u))throw s.rpcErrors.invalidParams({message:"Invalid params: Expected params to be a single object."});const d=function(e){try{return(0,a.create)(e,j)}catch(e){throw s.rpcErrors.invalidParams({message:`Invalid params: ${e.message}`})}}(u),p=function(e){return function(e){return(0,o.hasProperty)(e,"type")?e.type:undefined}(e)===i.DialogType.Prompt}(d)?d.placeholder:undefined,m=(0,o.hasProperty)(d,"type")?d.type:"default",f=n.DIALOG_APPROVAL_TYPES[m];if((0,o.hasProperty)(d,"content")){const r=await t(l,d.content);return e({id:f===n.DIALOG_APPROVAL_TYPES.default?r:undefined,origin:l,type:f,requestData:{id:r,placeholder:p}})}return function(e,t,n){try{n(e,t)}catch(e){throw s.rpcErrors.invalidParams({message:`Invalid params: ${e.message}`})}}(l,d.id,r),e({id:f===n.DIALOG_APPROVAL_TYPES.default?d.id:undefined,origin:l,type:f,requestData:{id:d.id,placeholder:p}})}}n.getDialogImplementation=w}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/dialog.cjs"}],[2773,{"../utils.cjs":2784,"@metamask/permission-controller":2401,"@metamask/rpc-errors":2594,"@metamask/snaps-utils":2902,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBip32EntropyImplementation=n.getBip32EntropyBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),i=e("@metamask/snaps-utils"),a=e("@metamask/utils"),o=e("../utils.cjs"),c="snap_getBip32Entropy";function u({getMnemonic:e,getMnemonicSeed:t,getUnlockPromise:n,getClientCryptography:r}){return async function(s){await n(!0);const{params:i}=s;if((0,a.assert)(i),"secp256k1"===i.curve||"ed25519"===i.curve){const e=await(0,o.getValueFromEntropySource)(t,i.source);return(await(0,o.getNodeFromSeed)({curve:i.curve,path:i.path,seed:e,cryptographicFunctions:r()})).toJSON()}const c=await(0,o.getValueFromEntropySource)(e,i.source);return(await(0,o.getNodeFromMnemonic)({curve:i.curve,path:i.path,secretRecoveryPhrase:c,cryptographicFunctions:r()})).toJSON()}}n.getBip32EntropyBuilder=Object.freeze({targetName:c,specificationBuilder:({methodHooks:e})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:c,allowedCaveats:[i.SnapCaveatType.PermittedDerivationPaths],methodImplementation:u(e),validator:({caveats:e})=>{if(1!==(null==e?void 0:e.length)||e[0].type!==i.SnapCaveatType.PermittedDerivationPaths)throw s.rpcErrors.invalidParams({message:`Expected a single "${i.SnapCaveatType.PermittedDerivationPaths}" caveat.`})},subjectTypes:[r.SubjectType.Snap]}),methodHooks:{getMnemonic:!0,getMnemonicSeed:!0,getUnlockPromise:!0,getClientCryptography:!0}}),n.getBip32EntropyImplementation=u}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getBip32Entropy.cjs"}],[2774,{"../utils.cjs":2784,"@metamask/permission-controller":2401,"@metamask/rpc-errors":2594,"@metamask/snaps-utils":2902,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBip32PublicKeyImplementation=n.getBip32PublicKeyBuilder=n.Bip32PublicKeyArgsStruct=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),i=e("@metamask/snaps-utils"),a=e("@metamask/superstruct"),o=e("@metamask/utils"),c=e("../utils.cjs"),u="snap_getBip32PublicKey";n.Bip32PublicKeyArgsStruct=(0,i.bip32entropy)((0,a.object)({path:i.Bip32PathStruct,curve:i.CurveStruct,compressed:(0,a.optional)((0,a.boolean)()),source:(0,a.optional)((0,a.string)())}));function l({getMnemonic:e,getMnemonicSeed:t,getUnlockPromise:r,getClientCryptography:i}){return async function(a){await r(!0),(0,o.assertStruct)(a.params,n.Bip32PublicKeyArgsStruct,"Invalid BIP-32 public key params",s.rpcErrors.invalidParams);const{params:u}=a;if("secp256k1"===u.curve||"ed25519"===u.curve){const e=await(0,c.getValueFromEntropySource)(t,u.source),n=await(0,c.getNodeFromSeed)({curve:u.curve,path:u.path,seed:e,cryptographicFunctions:i()});return u.compressed?n.compressedPublicKey:n.publicKey}const l=await(0,c.getValueFromEntropySource)(e,u.source),d=await(0,c.getNodeFromMnemonic)({curve:u.curve,path:u.path,secretRecoveryPhrase:l,cryptographicFunctions:i()});return u.compressed?d.compressedPublicKey:d.publicKey}}n.getBip32PublicKeyBuilder=Object.freeze({targetName:u,specificationBuilder:({methodHooks:e})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:u,allowedCaveats:[i.SnapCaveatType.PermittedDerivationPaths],methodImplementation:l(e),validator:({caveats:e})=>{if(1!==(null==e?void 0:e.length)||e[0].type!==i.SnapCaveatType.PermittedDerivationPaths)throw s.rpcErrors.invalidParams({message:`Expected a single "${i.SnapCaveatType.PermittedDerivationPaths}" caveat.`})},subjectTypes:[r.SubjectType.Snap]}),methodHooks:{getMnemonic:!0,getMnemonicSeed:!0,getUnlockPromise:!0,getClientCryptography:!0}}),n.getBip32PublicKeyImplementation=l}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getBip32PublicKey.cjs"}],[2775,{"../utils.cjs":2784,"@metamask/key-tree":2137,"@metamask/permission-controller":2401,"@metamask/rpc-errors":2594,"@metamask/snaps-utils":2902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBip44EntropyImplementation=n.getBip44EntropyBuilder=void 0;const r=e("@metamask/key-tree"),s=e("@metamask/permission-controller"),i=e("@metamask/rpc-errors"),a=e("@metamask/snaps-utils"),o=e("../utils.cjs"),c="snap_getBip44Entropy";function u({getMnemonicSeed:e,getUnlockPromise:t,getClientCryptography:n}){return async function(s){await t(!0);const i=s.params,a=await(0,o.getValueFromEntropySource)(e,i.source);return(await r.BIP44CoinTypeNode.fromSeed({derivationPath:[a,"bip32:44'",`bip32:${i.coinType}'`],network:"mainnet"},n())).toJSON()}}n.getBip44EntropyBuilder=Object.freeze({targetName:c,specificationBuilder:({methodHooks:e})=>({permissionType:s.PermissionType.RestrictedMethod,targetName:c,allowedCaveats:[a.SnapCaveatType.PermittedCoinTypes],methodImplementation:u(e),validator:({caveats:e})=>{if(1!==(null==e?void 0:e.length)||e[0].type!==a.SnapCaveatType.PermittedCoinTypes)throw i.rpcErrors.invalidParams({message:`Expected a single "${a.SnapCaveatType.PermittedCoinTypes}" caveat.`})},subjectTypes:[s.SubjectType.Snap]}),methodHooks:{getMnemonicSeed:!0,getUnlockPromise:!0,getClientCryptography:!0}}),n.getBip44EntropyImplementation=u}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getBip44Entropy.cjs"}],[2776,{"../utils.cjs":2784,"@metamask/permission-controller":2401,"@metamask/rpc-errors":2594,"@metamask/snaps-utils":2902,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getEntropyBuilder=n.GetEntropyArgsStruct=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),i=e("@metamask/snaps-utils"),a=e("@metamask/superstruct"),o=e("@metamask/utils"),c=e("../utils.cjs"),u="snap_getEntropy";n.GetEntropyArgsStruct=(0,a.object)({version:(0,a.literal)(1),salt:(0,a.optional)((0,a.string)()),source:(0,a.optional)((0,a.string)())});function l({getMnemonicSeed:e,getUnlockPromise:t,getClientCryptography:r}){return async function(a){const{params:u,context:{origin:l}}=a;(0,o.assertStruct)(u,n.GetEntropyArgsStruct,'Invalid "snap_getEntropy" parameters',s.rpcErrors.invalidParams),await t(!0);const d=await(0,c.getValueFromEntropySource)(e,u.source);return(0,c.deriveEntropyFromSeed)({input:l,salt:u.salt,seed:d,magic:i.SIP_6_MAGIC_VALUE,cryptographicFunctions:r()})}}n.getEntropyBuilder=Object.freeze({targetName:u,specificationBuilder:({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:u,allowedCaveats:e,methodImplementation:l(t),subjectTypes:[r.SubjectType.Snap]}),methodHooks:{getMnemonicSeed:!0,getUnlockPromise:!0,getClientCryptography:!0}})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getEntropy.cjs"}],[2777,{"@metamask/permission-controller":2401},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getImplementation=n.getLocaleBuilder=n.specificationBuilder=void 0;const r=e("@metamask/permission-controller"),s="snap_getLocale";n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:s,allowedCaveats:e,methodImplementation:i(t),subjectTypes:[r.SubjectType.Snap]});function i({getPreferences:e}){return async function(t){return e().locale}}n.getLocaleBuilder=Object.freeze({targetName:s,specificationBuilder:n.specificationBuilder,methodHooks:{getPreferences:!0}}),n.getImplementation=i}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getLocale.cjs"}],[2778,{"@metamask/permission-controller":2401},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getImplementation=n.getPreferencesBuilder=n.specificationBuilder=void 0;const r=e("@metamask/permission-controller"),s="snap_getPreferences";n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:s,allowedCaveats:e,methodImplementation:i(t),subjectTypes:[r.SubjectType.Snap]});function i({getPreferences:e}){return async function(t){return e()}}n.getPreferencesBuilder=Object.freeze({targetName:s,specificationBuilder:n.specificationBuilder,methodHooks:{getPreferences:!0}}),n.getImplementation=i}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/getPreferences.cjs"}],[2779,{"./caveats/index.cjs":2768,"./dialog.cjs":2772,"./getBip32Entropy.cjs":2773,"./getBip32PublicKey.cjs":2774,"./getBip44Entropy.cjs":2775,"./getEntropy.cjs":2776,"./getLocale.cjs":2777,"./getPreferences.cjs":2778,"./invokeSnap.cjs":2780,"./manageAccounts.cjs":2781,"./manageState.cjs":2782,"./notify.cjs":2783},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.DIALOG_APPROVAL_TYPES=n.restrictedMethodPermissionBuilders=n.getEncryptionEntropy=n.WALLET_SNAP_PERMISSION_KEY=void 0;const i=e("./dialog.cjs"),a=e("./getBip32Entropy.cjs"),o=e("./getBip32PublicKey.cjs"),c=e("./getBip44Entropy.cjs"),u=e("./getEntropy.cjs"),l=e("./getLocale.cjs"),d=e("./getPreferences.cjs"),p=e("./invokeSnap.cjs"),m=e("./manageAccounts.cjs"),f=e("./manageState.cjs"),h=e("./notify.cjs");var g=e("./invokeSnap.cjs");Object.defineProperty(n,"WALLET_SNAP_PERMISSION_KEY",{enumerable:!0,get:function(){return g.WALLET_SNAP_PERMISSION_KEY}});var y=e("./manageState.cjs");Object.defineProperty(n,"getEncryptionEntropy",{enumerable:!0,get:function(){return y.getEncryptionEntropy}}),n.restrictedMethodPermissionBuilders={[i.dialogBuilder.targetName]:i.dialogBuilder,[a.getBip32EntropyBuilder.targetName]:a.getBip32EntropyBuilder,[o.getBip32PublicKeyBuilder.targetName]:o.getBip32PublicKeyBuilder,[c.getBip44EntropyBuilder.targetName]:c.getBip44EntropyBuilder,[u.getEntropyBuilder.targetName]:u.getEntropyBuilder,[p.invokeSnapBuilder.targetName]:p.invokeSnapBuilder,[f.manageStateBuilder.targetName]:f.manageStateBuilder,[h.notifyBuilder.targetName]:h.notifyBuilder,[m.manageAccountsBuilder.targetName]:m.manageAccountsBuilder,[l.getLocaleBuilder.targetName]:l.getLocaleBuilder,[d.getPreferencesBuilder.targetName]:d.getPreferencesBuilder},s(e("./caveats/index.cjs"),n);var S=e("./dialog.cjs");Object.defineProperty(n,"DIALOG_APPROVAL_TYPES",{enumerable:!0,get:function(){return S.DIALOG_APPROVAL_TYPES}})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/index.cjs"}],[2780,{"@metamask/permission-controller":2401,"@metamask/rpc-errors":2594,"@metamask/snaps-utils":2902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getInvokeSnapImplementation=n.invokeSnapBuilder=n.handleSnapInstall=n.WALLET_SNAP_PERMISSION_KEY=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),i=e("@metamask/snaps-utils");n.WALLET_SNAP_PERMISSION_KEY="wallet_snap";n.handleSnapInstall=async({requestData:e,messenger:t})=>{var r;const s=null===(r=e.permissions[n.WALLET_SNAP_PERMISSION_KEY].caveats)||void 0===r?void 0:r[0].value,i=t.call("SnapController:getPermitted",e.metadata.origin),a=Object.keys(s).reduce((e,t)=>(i[t]||(e[t]=s[t]),e),{});return t.call("SnapController:install",e.metadata.origin,a)};function a({handleSnapRpcRequest:e}){return async function(t){const{params:n={},context:r}=t,{snapId:s,request:a}=n,{origin:o}=r;return await e({snapId:s,origin:o,request:a,handler:i.HandlerType.OnRpcRequest})}}n.invokeSnapBuilder=Object.freeze({targetName:n.WALLET_SNAP_PERMISSION_KEY,specificationBuilder:({methodHooks:e})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:n.WALLET_SNAP_PERMISSION_KEY,allowedCaveats:[i.SnapCaveatType.SnapIds],methodImplementation:a(e),validator:({caveats:e})=>{if(1!==(null==e?void 0:e.length)||e[0].type!==i.SnapCaveatType.SnapIds)throw s.rpcErrors.invalidParams({message:`Expected a single "${i.SnapCaveatType.SnapIds}" caveat.`})},sideEffect:{onPermitted:n.handleSnapInstall}}),methodHooks:{handleSnapRpcRequest:!0}}),n.getInvokeSnapImplementation=a}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/invokeSnap.cjs"}],[2781,{"@metamask/permission-controller":2401,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.manageAccountsBuilder=n.manageAccountsImplementation=n.specificationBuilder=n.methodName=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/superstruct"),i=e("@metamask/utils"),a=(0,s.union)([(0,s.object)({method:(0,s.string)()}),(0,s.object)({method:(0,s.string)(),params:(0,s.union)([(0,s.array)(i.JsonStruct),(0,s.record)((0,s.string)(),i.JsonStruct)])})]);n.methodName="snap_manageAccounts";function o({getSnapKeyring:e,getUnlockPromise:t}){return async function(n){const{context:{origin:r},params:i}=n;(0,s.assert)(i,a),await t(!0);const o=await e(r);return await o.handleKeyringSnapMessage(r,i)}}n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:n.methodName,allowedCaveats:e,methodImplementation:o(t),subjectTypes:[r.SubjectType.Snap]}),n.manageAccountsImplementation=o,n.manageAccountsBuilder=Object.freeze({targetName:n.methodName,specificationBuilder:n.specificationBuilder,methodHooks:{getSnapKeyring:!0,getUnlockPromise:!0}})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/manageAccounts.cjs"}],[2782,{"../utils.cjs":2784,"@metamask/permission-controller":2401,"@metamask/rpc-errors":2594,"@metamask/snaps-sdk":2788,"@metamask/snaps-utils":2902,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getValidatedParams=n.getManageStateImplementation=n.getEncryptionEntropy=n.STORAGE_SIZE_LIMIT=n.manageStateBuilder=n.specificationBuilder=n.STATE_ENCRYPTION_SALT=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),i=e("@metamask/snaps-sdk"),a=e("@metamask/snaps-utils"),o=e("@metamask/utils"),c=e("../utils.cjs");n.STATE_ENCRYPTION_SALT="snap_manageState encryption";const u="snap_manageState";n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:u,allowedCaveats:e,methodImplementation:l(t),subjectTypes:[r.SubjectType.Snap]});function l({getUnlockPromise:e,clearSnapState:t,getSnapState:r,updateSnapState:o,getSnap:c}){return async function(u){const{params:l={},method:p,context:{origin:m}}=u,f=d(l,p),h=c(m);if((null==h||!h.preinstalled)&&f.operation===i.ManageStateOperation.UpdateState){if((0,a.getJsonSizeUnsafe)(f.newState,!0)>n.STORAGE_SIZE_LIMIT)throw s.rpcErrors.invalidParams({message:`Invalid ${p} "newState" parameter: The new state must not exceed ${n.STORAGE_SIZE_LIMIT/1e6} MB in size.`})}const g=f.encrypted??!0;switch(g&&f.operation!==i.ManageStateOperation.ClearState&&await e(!0),f.operation){case i.ManageStateOperation.ClearState:return t(m,g),null;case i.ManageStateOperation.GetState:return await r(m,g);case i.ManageStateOperation.UpdateState:return await o(m,f.newState,g),null;default:throw s.rpcErrors.invalidParams(`Invalid ${p} operation: "${f.operation}"`)}}}function d(e,t){if(!(0,o.isObject)(e))throw s.rpcErrors.invalidParams({message:"Expected params to be a single object."});const{operation:n,newState:r,encrypted:a}=e;if(!n||"string"!=typeof n||!Object.values(i.ManageStateOperation).includes(n))throw s.rpcErrors.invalidParams({message:'Must specify a valid manage state "operation".'});if(a!==undefined&&"boolean"!=typeof a)throw s.rpcErrors.invalidParams({message:'"encrypted" parameter must be a boolean if specified.'});if(n===i.ManageStateOperation.UpdateState){if(!(0,o.isObject)(r))throw s.rpcErrors.invalidParams({message:`Invalid ${t} "newState" parameter: The new state must be a plain object.`});if(!(0,o.isValidJson)(r))throw s.rpcErrors.invalidParams({message:`Invalid ${t} "newState" parameter: The new state must be JSON serializable.`})}return e}n.manageStateBuilder=Object.freeze({targetName:u,specificationBuilder:n.specificationBuilder,methodHooks:{getUnlockPromise:!0,clearSnapState:!0,getSnapState:!0,updateSnapState:!0,getSnap:!0}}),n.STORAGE_SIZE_LIMIT=64e6,n.getEncryptionEntropy=async function({seed:e,snapId:t,cryptographicFunctions:r}){return await(0,c.deriveEntropyFromSeed)({seed:e,input:t,salt:n.STATE_ENCRYPTION_SALT,magic:a.STATE_ENCRYPTION_MAGIC_VALUE,cryptographicFunctions:r})},n.getManageStateImplementation=l,n.getValidatedParams=d}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/manageState.cjs"}],[2783,{"@metamask/permission-controller":2401,"@metamask/rpc-errors":2594,"@metamask/snaps-sdk":2788,"@metamask/snaps-utils":2902,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getValidatedParams=n.getImplementation=n.notifyBuilder=n.specificationBuilder=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),i=e("@metamask/snaps-sdk"),a=e("@metamask/snaps-utils"),o=e("@metamask/superstruct"),c=e("@metamask/utils"),u="snap_notify",l=(0,o.object)({type:(0,i.enumValue)(i.NotificationType.Native),message:(0,o.string)()}),d=(0,o.object)({type:(0,i.enumValue)(i.NotificationType.InApp),message:(0,o.string)()}),p=(0,o.object)({type:(0,i.enumValue)(i.NotificationType.InApp),message:(0,o.string)(),content:i.ComponentOrElementStruct,title:(0,o.string)(),footerLink:(0,o.optional)((0,o.object)({href:(0,o.string)(),text:(0,o.string)()}))}),m=(0,i.union)([d,p,l]);n.specificationBuilder=({allowedCaveats:e=null,methodHooks:t})=>({permissionType:r.PermissionType.RestrictedMethod,targetName:u,allowedCaveats:e,methodImplementation:f(t),subjectTypes:[r.SubjectType.Snap]});function f({showNativeNotification:e,showInAppNotification:t,isOnPhishingList:n,maybeUpdatePhishingList:r,createInterface:a,getSnap:o}){return async function(u){const{params:l,context:{origin:d}}=u;await r();const p=h(l,n,o);if((0,c.hasProperty)(p,"content")){const e=await a(d,p.content,undefined,i.ContentType.Notification);p.content=e}switch(p.type){case i.NotificationType.Native:return await e(d,p);case i.NotificationType.InApp:return await t(d,p);default:throw s.rpcErrors.invalidParams({message:'Must specify a valid notification "type".'})}}}function h(e,t,n){if(!(0,c.isObject)(e))throw s.rpcErrors.invalidParams({message:"Expected params to be a single object."});const{type:r,message:o}=e;if(!r||"string"!=typeof r||!Object.values(i.NotificationType).includes(r))throw s.rpcErrors.invalidParams({message:'Must specify a valid notification "type".'});const u=!o||"string"!=typeof o;if(r===i.NotificationType.Native&&(u||o.length>=50))throw s.rpcErrors.invalidParams({message:'Must specify a non-empty string "message" less than 50 characters long.'});if(r===i.NotificationType.InApp&&(u||o.length>=500))throw s.rpcErrors.invalidParams({message:'Must specify a non-empty string "message" less than 500 characters long.'});try{const r=(0,a.createUnion)(e,m,"type");return(0,a.validateTextLinks)(r.message,t,n),(0,c.hasProperty)(r,"footerLink")&&(0,a.validateLink)(r.footerLink.href,t,n),r}catch(e){throw s.rpcErrors.invalidParams({message:`Invalid params: ${(0,i.getErrorMessage)(e)}`})}}n.notifyBuilder=Object.freeze({targetName:u,specificationBuilder:n.specificationBuilder,methodHooks:{showNativeNotification:!0,showInAppNotification:!0,isOnPhishingList:!0,maybeUpdatePhishingList:!0,createInterface:!0,getSnap:!0}}),n.getImplementation=f,n.getValidatedParams=h}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/restricted/notify.cjs"}],[2784,{"@metamask/key-tree":2137,"@metamask/rpc-errors":2594,"@metamask/superstruct":2931,"@metamask/utils":3070,"@noble/hashes/sha3":3124},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getValueFromEntropySource=n.StateKeyStruct=n.isValidStateKey=n.getNodeFromSeed=n.getNodeFromMnemonic=n.getPathPrefix=n.deriveEntropyFromSeed=n.selectHooks=n.FORBIDDEN_KEYS=void 0;const r=e("@metamask/key-tree"),s=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),a=e("@metamask/utils"),o=e("@noble/hashes/sha3"),c=2147483648;function u({input:e,salt:t,magic:n}){const r=(0,a.stringToBytes)(e),s=(0,a.stringToBytes)(t),i=function(e){const t=[],n=(0,a.createDataView)(e);for(let e=0;e<8;e++){const r=(n.getUint32(4*e)|c)>>>0;t.push(`bip32:${r-c}'`)}return t}((0,o.keccak_256)((0,a.concatBytes)([r,(0,o.keccak_256)(s)])));return[`bip32:${n}`,...i]}function l(e){switch(e){case"secp256k1":return"bip32";case"ed25519":return"slip10";case"ed25519Bip32":return"cip3";default:return(0,a.assertExhaustive)(e)}}function d(e){return e===undefined||e.split(".").every(e=>e.length>0)}n.FORBIDDEN_KEYS=["constructor","__proto__","prototype"],n.selectHooks=function(e,t){return t?Object.keys(t).reduce((t,n)=>{const r=n;return t[r]=e[r],t},{}):undefined},n.deriveEntropyFromSeed=async function({input:e,salt:t="",seed:n,magic:s,cryptographicFunctions:i}){const o=u({input:e,salt:t,magic:s}),{privateKey:c}=await r.SLIP10Node.fromSeed({derivationPath:[n,...o],curve:"secp256k1"},i);return(0,a.assert)(c,"Failed to derive the entropy."),(0,a.add0x)(c)},n.getPathPrefix=l,n.getNodeFromMnemonic=async function({curve:e,secretRecoveryPhrase:t,path:n,cryptographicFunctions:s}){const i=l(e);return await r.SLIP10Node.fromDerivationPath({curve:e,derivationPath:[t,...n.slice(1).map(e=>`${i}:${e}`)]},s)},n.getNodeFromSeed=async function({curve:e,seed:t,path:n,cryptographicFunctions:s}){const i=l(e);return await r.SLIP10Node.fromSeed({curve:e,derivationPath:[t,...n.slice(1).map(e=>`${i}:${e}`)]},s)},n.isValidStateKey=d,n.StateKeyStruct=(0,i.refine)((0,i.string)(),"state key",e=>!!d(e)||"Invalid state key. Each part of the key must be non-empty."),n.getValueFromEntropySource=async function(e,t){try{return await e(t)}catch(e){if(e instanceof Error)throw s.rpcErrors.invalidParams({message:e.message});throw s.rpcErrors.internal({message:"An unknown error occurred.",data:{error:e.toString()}})}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/utils.cjs"}],[2785,{"./internals/index.cjs":2791,"@metamask/rpc-errors":2594},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UserRejectedRequestError=n.UnsupportedMethodError=n.UnauthorizedError=n.DisconnectedError=n.ChainDisconnectedError=n.TransactionRejected=n.ResourceUnavailableError=n.ResourceNotFoundError=n.ParseError=n.MethodNotSupportedError=n.MethodNotFoundError=n.LimitExceededError=n.InvalidRequestError=n.InvalidParamsError=n.InvalidInputError=n.InternalError=void 0;const r=e("@metamask/rpc-errors"),s=e("./internals/index.cjs");n.InternalError=(0,s.createSnapError)(r.rpcErrors.internal),n.InvalidInputError=(0,s.createSnapError)(r.rpcErrors.invalidInput),n.InvalidParamsError=(0,s.createSnapError)(r.rpcErrors.invalidParams),n.InvalidRequestError=(0,s.createSnapError)(r.rpcErrors.invalidRequest),n.LimitExceededError=(0,s.createSnapError)(r.rpcErrors.limitExceeded),n.MethodNotFoundError=(0,s.createSnapError)(r.rpcErrors.methodNotFound),n.MethodNotSupportedError=(0,s.createSnapError)(r.rpcErrors.methodNotSupported),n.ParseError=(0,s.createSnapError)(r.rpcErrors.parse),n.ResourceNotFoundError=(0,s.createSnapError)(r.rpcErrors.resourceNotFound),n.ResourceUnavailableError=(0,s.createSnapError)(r.rpcErrors.resourceUnavailable),n.TransactionRejected=(0,s.createSnapError)(r.rpcErrors.transactionRejected),n.ChainDisconnectedError=(0,s.createSnapError)(r.providerErrors.chainDisconnected),n.DisconnectedError=(0,s.createSnapError)(r.providerErrors.disconnected),n.UnauthorizedError=(0,s.createSnapError)(r.providerErrors.unauthorized),n.UnsupportedMethodError=(0,s.createSnapError)(r.providerErrors.unsupportedMethod),n.UserRejectedRequestError=(0,s.createSnapError)(r.providerErrors.userRejectedRequest)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/error-wrappers.cjs"}],[2786,{"./internals/index.cjs":2791,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function s(e,t){return e.get(a(e,t))}function i(e,t,n){return e.set(a(e,t),n),n}function a(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonError=n.SnapError=void 0;const o=e("@metamask/utils"),c=e("./internals/index.cjs");var u=new WeakMap,l=new WeakMap,d=new WeakMap,p=new WeakMap;class m extends Error{constructor(e,t={}){const n=(0,c.getErrorMessage)(e);super(n),r(this,u,void 0),r(this,l,void 0),r(this,d,void 0),r(this,p,void 0),i(l,this,n),i(u,this,(0,c.getErrorCode)(e));const s={...(0,c.getErrorData)(e),...t};Object.keys(s).length>0&&i(d,this,s),i(p,this,super.stack)}get name(){return"SnapError"}get code(){return s(u,this)}get message(){return s(l,this)}get data(){return s(d,this)}get stack(){return s(p,this)}toJSON(){return{code:c.SNAP_ERROR_CODE,message:c.SNAP_ERROR_MESSAGE,data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}}n.SnapError=m,n.getJsonError=function e(t){if("string"==typeof t)return{name:"Error",message:t,stack:null,cause:null};if((0,o.isJsonRpcError)(t))return{name:"JsonRpcError",message:(0,c.getErrorMessage)(t),stack:(0,c.getErrorStack)(t)??(0,c.getErrorStack)(t.data)??null,cause:null};const n=(0,c.getErrorCause)(t);return{name:(0,c.getErrorName)(t),message:(0,c.getErrorMessage)(t),stack:(0,c.getErrorStack)(t)??null,cause:null===n?null:e(n)}}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/errors.cjs"}],[2787,{"./ui/index.cjs":2869,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getImageComponent=n.getImageData=void 0;const r=e("@metamask/utils"),s=e("./ui/index.cjs");async function i(e,t){const n=await async function(e,t){if("function"!=typeof fetch)throw new Error(`Failed to fetch image data from "${e}": Using this function requires the "endowment:network-access" permission.`);return fetch(e,t).then(async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from "${e}": ${t.status} ${t.statusText}`);const n=await t.blob();return(0,r.assert)("image/jpeg"===n.type||"image/png"===n.type,"Expected image data to be a JPEG or PNG image."),n})}(e,t),s=new Uint8Array(await n.arrayBuffer());return`data:${n.type};base64,${(0,r.bytesToBase64)(s)}`}n.getImageData=i,n.getImageComponent=async function(e,{width:t,height:n=t,request:a}){(0,r.assert)("number"==typeof t&&t>0,"Expected width to be a number greater than 0."),(0,r.assert)("number"==typeof n&&n>0,"Expected height to be a number greater than 0.");const o=await i(e,a),c=`width="${t}" height="${n}"`;return(0,s.image)(`<svg ${c.trim()} xmlns="http://www.w3.org/2000/svg"><image ${c.trim()} href="${o}" /></svg>`)}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/images.cjs"}],[2788,{"./error-wrappers.cjs":2785,"./errors.cjs":2786,"./images.cjs":2787,"./internals/index.cjs":2791,"./types/index.cjs":2847,"./ui/index.cjs":2869,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.assert=n.nonEmptyRecord=n.selectiveUnion=n.typedUnion=n.enumValue=n.union=n.literal=n.SNAP_ERROR_MESSAGE=n.SNAP_ERROR_CODE=n.getErrorStack=n.getErrorMessage=n.getErrorData=void 0;var i=e("./internals/index.cjs");Object.defineProperty(n,"getErrorData",{enumerable:!0,get:function(){return i.getErrorData}}),Object.defineProperty(n,"getErrorMessage",{enumerable:!0,get:function(){return i.getErrorMessage}}),Object.defineProperty(n,"getErrorStack",{enumerable:!0,get:function(){return i.getErrorStack}}),Object.defineProperty(n,"SNAP_ERROR_CODE",{enumerable:!0,get:function(){return i.SNAP_ERROR_CODE}}),Object.defineProperty(n,"SNAP_ERROR_MESSAGE",{enumerable:!0,get:function(){return i.SNAP_ERROR_MESSAGE}}),Object.defineProperty(n,"literal",{enumerable:!0,get:function(){return i.literal}}),Object.defineProperty(n,"union",{enumerable:!0,get:function(){return i.union}}),Object.defineProperty(n,"enumValue",{enumerable:!0,get:function(){return i.enumValue}}),Object.defineProperty(n,"typedUnion",{enumerable:!0,get:function(){return i.typedUnion}}),Object.defineProperty(n,"selectiveUnion",{enumerable:!0,get:function(){return i.selectiveUnion}}),Object.defineProperty(n,"nonEmptyRecord",{enumerable:!0,get:function(){return i.nonEmptyRecord}});var a=e("@metamask/utils");Object.defineProperty(n,"assert",{enumerable:!0,get:function(){return a.assert}}),s(e("./errors.cjs"),n),s(e("./error-wrappers.cjs"),n),s(e("./images.cjs"),n),s(e("./types/index.cjs"),n),s(e("./ui/index.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/index.cjs"}],[2789,{"../errors.cjs":2786},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapError=void 0;const r=e("../errors.cjs");n.createSnapError=function(e){return class extends r.SnapError{constructor(t,n){if("object"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/error-wrappers.cjs"}],[2790,{"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getErrorData=n.getErrorCause=n.getErrorCode=n.getErrorName=n.getErrorStack=n.getErrorMessage=n.SNAP_ERROR_MESSAGE=n.SNAP_ERROR_CODE=void 0;const r=e("@metamask/utils");function s(e,t,n=null){return(0,r.isObject)(e)&&(0,r.hasProperty)(e,t)?e[t]:n}function i(e,t,n=String(e)){const r=s(e,t);return"string"==typeof r?r:n}n.SNAP_ERROR_CODE=-31002,n.SNAP_ERROR_MESSAGE="Snap Error",n.getErrorMessage=function(e){return i(e,"message")},n.getErrorStack=function(e){return i(e,"stack",null)},n.getErrorName=function(e){return i(e,"name",e instanceof Error?e.name:"Error")},n.getErrorCode=function(e){const t=s(e,"code");return"number"==typeof t&&Number.isInteger(t)?t:-32603},n.getErrorCause=function(e){return s(e,"cause")},n.getErrorData=function(e){const t=s(e,"data");return null!==t&&(0,r.isValidJson)(t)&&!Array.isArray(t)?t:{}}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/errors.cjs"}],[2791,{"./error-wrappers.cjs":2789,"./errors.cjs":2790,"./jsx.cjs":2792,"./structs.cjs":2793,"./svg.cjs":2794},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./error-wrappers.cjs"),n),s(e("./errors.cjs"),n),s(e("./structs.cjs"),n),s(e("./jsx.cjs"),n),s(e("./svg.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/index.cjs"}],[2792,{"./structs.cjs":2793},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.nullUnion=void 0;const r=e("./structs.cjs");n.nullUnion=function(e){return(0,r.union)(e)}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/jsx.cjs"}],[2793,{"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.nonEmptyRecord=n.selectiveUnion=n.typedUnion=n.enumValue=n.union=n.literal=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils");function i(e){return(0,r.define)(JSON.stringify(e),(0,r.literal)(e).validator)}n.literal=i,n.union=function([e,...t]){const n=(0,r.union)([e,...t]);return new r.Struct({...n,schema:[e,...t]})},n.enumValue=function(e){return i(e)},n.typedUnion=function(e){const t=e.map(e=>"union"===e.type&&Array.isArray(e.schema)?e.schema:e).flat(Infinity),n=t.map(({schema:e})=>e.type.type),i=t.reduce((e,t)=>(e[JSON.parse(t.schema.type.type)]=t,e),{});return new r.Struct({type:"union",schema:t,*entries(e,t){if(!(0,s.isObject)(e)||!(0,s.hasProperty)(e,"type")||"string"!=typeof e.type)return;const{type:n}=e,r=i[n];if(r)for(const n of r.entries(e,t))yield n},coercer(e,t){if(!(0,s.isObject)(e)||!(0,s.hasProperty)(e,"type")||"string"!=typeof e.type)return e;const{type:n}=e,r=i[n];return r?r.coercer(e,t):e},*refiner(e,t){const n=i[e.type];yield*n.refiner(e,t)},validator(e,t){if(!(0,s.isObject)(e)||!(0,s.hasProperty)(e,"type")||"string"!=typeof e.type)return`Expected type to be one of: ${n.join(", ")}, but received: undefined`;const{type:r}=e,a=i[r];return a?a.validator(e,t):`Expected type to be one of: ${n.join(", ")}, but received: "${r}"`}})},n.selectiveUnion=function(e){return new r.Struct({type:"union",schema:null,*entries(t,n){const r=e(t);for(const e of r.entries(t,n))yield e},*refiner(t,n){const r=e(t);yield*r.refiner(t,n)},coercer:(t,n)=>e(t).coercer(t,n),validator:(t,n)=>e(t).validator(t,n)})},n.nonEmptyRecord=function(e,t){return(0,r.refine)((0,r.record)(e,t),"Non-empty record",e=>!Array.isArray(e)&&Object.keys(e).length>0)}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/structs.cjs"}],[2794,{"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.svg=void 0;const r=e("@metamask/superstruct");n.svg=function(){return(0,r.refine)((0,r.string)(),"SVG",e=>!!e.includes("<svg")||"Value is not a valid SVG.")}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/internals/svg.cjs"}],[2795,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return Object.fromEntries(Object.entries(e).filter(([,e])=>e!==undefined))}Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapComponent=void 0,n.createSnapComponent=function(e){return t=>{const{key:n=null,...s}=t;return{type:e,props:r(s),key:n}}}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/component.cjs"}],[2796,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Address=void 0;const r=e("../component.cjs");n.Address=(0,r.createSnapComponent)("Address")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Address.cjs"}],[2797,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Avatar=void 0;const r=e("../component.cjs");n.Avatar=(0,r.createSnapComponent)("Avatar")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Avatar.cjs"}],[2798,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Banner=void 0;const r=e("../component.cjs");n.Banner=(0,r.createSnapComponent)("Banner")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Banner.cjs"}],[2799,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Box=void 0;const r=e("../component.cjs");n.Box=(0,r.createSnapComponent)("Box")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Box.cjs"}],[2800,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Card=void 0;const r=e("../component.cjs");n.Card=(0,r.createSnapComponent)("Card")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Card.cjs"}],[2801,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Container=void 0;const r=e("../component.cjs");n.Container=(0,r.createSnapComponent)("Container")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Container.cjs"}],[2802,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Copyable=void 0;const r=e("../component.cjs");n.Copyable=(0,r.createSnapComponent)("Copyable")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Copyable.cjs"}],[2803,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Divider=void 0;const r=e("../component.cjs");n.Divider=(0,r.createSnapComponent)("Divider")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Divider.cjs"}],[2804,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Footer=void 0;const r=e("../component.cjs");n.Footer=(0,r.createSnapComponent)("Footer")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Footer.cjs"}],[2805,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Heading=void 0;const r=e("../component.cjs");n.Heading=(0,r.createSnapComponent)("Heading")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Heading.cjs"}],[2806,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Icon=n.IconName=void 0;const r=e("../component.cjs");var s;!function(e){e.Accessibility="accessibility",e.Activity="activity",e.AddCard="add-card",e.AddCircle="add-circle",e.AddSquare="add-square",e.Add="add",e.Ai="ai",e.AlternateEmail="alternate-email",e.Apple="apple",e.Apps="apps",e.Arrow2Down="arrow-2-down",e.Arrow2Left="arrow-2-left",e.Arrow2Right="arrow-2-right",e.Arrow2UpRight="arrow-2-up-right",e.Arrow2Up="arrow-2-up",e.ArrowCircleDown="arrow-circle-down",e.ArrowCircleUp="arrow-circle-up",e.ArrowDoubleLeft="arrow-double-left",e.ArrowDoubleRight="arrow-double-right",e.ArrowDown="arrow-down",e.ArrowDropDownCircle="arrow-drop-down-circle",e.ArrowLeft="arrow-left",e.ArrowRight="arrow-right",e.ArrowUp="arrow-up",e.Attachment="attachment",e.Ban="ban",e.BankAssured="bank-assured",e.Bank="bank",e.Bold="bold",e.Book="book",e.Bookmark="bookmark",e.Bridge="bridge",e.Briefcase="briefcase",e.Bulb="bulb",e.BuySell="buy-sell",e.Cake="cake",e.Calculator="calculator",e.Calendar="calendar",e.Call="call",e.Camera="camera",e.Campaign="campaign",e.CardPos="card-pos",e.Card="card",e.Cash="cash",e.Category="category",e.Chart="chart",e.CheckBold="check-bold",e.Check="check",e.CircleX="circle-x",e.ClockFilled="clock-filled",e.Clock="clock",e.Close="close",e.CloudDownload="cloud-download",e.CloudUpload="cloud-upload",e.Cloud="cloud",e.CodeCircle="code-circle",e.Code="code",e.Coin="coin",e.Collapse="collapse",e.Confirmation="confirmation",e.Connect="connect",e.CopySuccess="copy-success",e.Copy="copy",e.CreditCheck="credit-check",e.CurrencyFranc="currency-franc",e.CurrencyLira="currency-lira",e.CurrencyPound="currency-pound",e.CurrencyYuan="currency-yuan",e.Customize="customize",e.Danger="danger",e.DarkFilled="dark-filled",e.Dark="dark",e.Data="data",e.Description="description",e.Details="details",e.Diagram="diagram",e.DocumentCode="document-code",e.Download="download",e.Draft="draft",e.EcoLeaf="eco-leaf",e.EditSquare="edit-square",e.Edit="edit",e.EncryptedAdd="encrypted-add",e.Eraser="eraser",e.Error="error",e.Ethereum="ethereum",e.Exchange="exchange",e.ExpandVertical="expand-vertical",e.Expand="expand",e.ExploreFilled="explore-filled",e.Explore="explore",e.Export="export",e.Extension="extension",e.EyeSlash="eye-slash",e.Eye="eye",e.FaceId="face-id",e.Feedback="feedback",e.File="file",e.Filter="filter",e.Fingerprint="fingerprint",e.Fire="fire",e.FirstPage="first-page",e.Flag="flag",e.FlashSlash="flash-slash",e.Flash="flash",e.Flask="flask",e.Flower="flower",e.Folder="folder",e.Forest="forest",e.FullCircle="full-circle",e.Gas="gas",e.Gift="gift",e.GlobalSearch="global-search",e.Global="global",e.Graph="graph",e.Hardware="hardware",e.HashTag="hash-tag",e.HeartFilled="heart-filled",e.Heart="heart",e.Hierarchy="hierarchy",e.HomeFilled="home-filled",e.Home="home",e.Image="image",e.Info="info",e.Inventory="inventory",e.Joystick="joystick",e.KeepFilled="keep-filled",e.Keep="keep",e.Key="key",e.LastPage="last-page",e.LightFilled="light-filled",e.Light="light",e.Link="link",e.Loading="loading",e.Location="location",e.LockSlash="lock-slash",e.Lock="lock",e.LockedFilled="locked-filled",e.Login="login",e.Logout="logout",e.Mail="mail",e.Map="map",e.Menu="menu",e.MessageQuestion="message-question",e.Messages="messages",e.Mic="mic",e.MinusBold="minus-bold",e.MinusSquare="minus-square",e.Minus="minus",e.Mobile="mobile",e.MoneyBag="money-bag",e.Money="money",e.Monitor="monitor",e.MoreHorizontal="more-horizontal",e.MoreVertical="more-vertical",e.MountainFlag="mountain-flag",e.MusicNote="music-note",e.Notification="notification",e.PageInfo="page-info",e.Palette="palette",e.PasswordCheck="password-check",e.Pending="pending",e.People="people",e.PersonCancel="person-cancel",e.Pin="pin",e.Plant="plant",e.Plug="plug",e.PlusAndMinus="plus-and-minus",e.PolicyAlert="policy-alert",e.Print="print",e.PriorityHigh="priority-high",e.PrivacyTip="privacy-tip",e.ProgrammingArrows="programming-arrows",e.Publish="publish",e.QrCode="qr-code",e.Question="question",e.Receive="receive",e.Received="received",e.Refresh="refresh",e.RemoveMinus="remove-minus",e.Report="report",e.Rocket="rocket",e.SaveFilled="save-filled",e.Save="save",e.Saving="saving",e.ScanBarcode="scan-barcode",e.ScanFocus="scan-focus",e.Scan="scan",e.Search="search",e.SecurityAlert="security-alert",e.SecurityCross="security-cross",e.SecurityKey="security-key",e.SecuritySearch="security-search",e.SecuritySlash="security-slash",e.SecurityTick="security-tick",e.SecurityTime="security-time",e.SecurityUser="security-user",e.Security="security",e.Send="send",e.SentimentDissatisfied="sentiment-dissatisfied",e.SentimentNeutral="sentiment-neutral",e.SentimentSatisfied="sentiment-satisfied",e.SentimentVerySatisfied="sentiment-very-satisfied",e.SettingFilled="setting-filled",e.Setting="setting",e.Share="share",e.ShieldLock="shield-lock",e.ShoppingBag="shopping-bag",e.ShoppingCart="shopping-cart",e.SignalCellular="signal-cellular",e.Slash="slash",e.Sms="sms",e.SnapsMobile="snaps-mobile",e.SnapsPlus="snaps-plus",e.SnapsRound="snaps-round",e.Snaps="snaps",e.SortByAlpha="sort-by-alpha",e.Sort="sort",e.Sparkle="sparkle",e.Speed="speed",e.Speedometer="speedometer",e.Square="square",e.Stake="stake",e.StarFilled="star-filled",e.Star="star",e.Start="start",e.Storefront="storefront",e.Student="student",e.SwapHorizontal="swap-horizontal",e.SwapVertical="swap-vertical",e.TabClose="tab-close",e.TableRow="table-row",e.Tablet="tablet",e.Tag="tag",e.ThumbDownFilled="thumb-down-filled",e.ThumbDown="thumb-down",e.ThumbUpFilled="thumb-up-filled",e.ThumbUp="thumb-up",e.Tint="tint",e.Tooltip="tooltip",e.Translate="translate",e.Trash="trash",e.TrendDown="trend-down",e.TrendUp="trend-up",e.TriangleUp="triangle-up",e.TriangleDown="triangle-down",e.Undo="undo",e.Unfold="unfold",e.UnlockedFilled="unlocked-filled",e.Unpin="unpin",e.UploadFile="upload-file",e.Upload="upload",e.Usb="usb",e.UserCheck="user-check",e.UserCircleAdd="user-circle-add",e.UserCircleRemove="user-circle-remove",e.UserCircle="user-circle",e.User="user",e.VerifiedFilled="verified-filled",e.Verified="verified",e.Videocam="videocam",e.ViewColumn="view-column",e.ViewInAr="view-in-ar",e.VolumeOff="volume-off",e.VolumeUp="volume-up",e.WalletFilled="wallet-filled",e.Wallet="wallet",e.Warning="warning",e.WebTraffic="web-traffic",e.Widgets="widgets",e.WifiOff="wifi-off",e.Wifi="wifi",e.X="x"}(s||(n.IconName=s={}));n.Icon=(0,r.createSnapComponent)("Icon")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Icon.cjs"}],[2807,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Image=void 0;const r=e("../component.cjs");n.Image=(0,r.createSnapComponent)("Image")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Image.cjs"}],[2808,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Link=void 0;const r=e("../component.cjs");n.Link=(0,r.createSnapComponent)("Link")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Link.cjs"}],[2809,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Row=void 0;const r=e("../component.cjs");n.Row=(0,r.createSnapComponent)("Row")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Row.cjs"}],[2810,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Section=void 0;const r=e("../component.cjs");n.Section=(0,r.createSnapComponent)("Section")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Section.cjs"}],[2811,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Skeleton=void 0;const r=e("../component.cjs");n.Skeleton=(0,r.createSnapComponent)("Skeleton")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Skeleton.cjs"}],[2812,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Spinner=void 0;const r=e("../component.cjs");n.Spinner=(0,r.createSnapComponent)("Spinner")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Spinner.cjs"}],[2813,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Text=void 0;const r=e("../component.cjs");n.Text=(0,r.createSnapComponent)("Text")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Text.cjs"}],[2814,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Tooltip=void 0;const r=e("../component.cjs");n.Tooltip=(0,r.createSnapComponent)("Tooltip")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Tooltip.cjs"}],[2815,{"../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Value=void 0;const r=e("../component.cjs");n.Value=(0,r.createSnapComponent)("Value")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/Value.cjs"}],[2816,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountSelector=void 0;const r=e("../../component.cjs");n.AccountSelector=(0,r.createSnapComponent)("AccountSelector")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/AccountSelector.cjs"}],[2817,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddressInput=void 0;const r=e("../../component.cjs");n.AddressInput=(0,r.createSnapComponent)("AddressInput")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/AddressInput.cjs"}],[2818,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetSelector=void 0;const r=e("../../component.cjs");n.AssetSelector=(0,r.createSnapComponent)("AssetSelector")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/AssetSelector.cjs"}],[2819,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Button=void 0;const r=e("../../component.cjs");n.Button=(0,r.createSnapComponent)("Button")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Button.cjs"}],[2820,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Checkbox=void 0;const r=e("../../component.cjs");n.Checkbox=(0,r.createSnapComponent)("Checkbox")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Checkbox.cjs"}],[2821,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Dropdown=void 0;const r=e("../../component.cjs");n.Dropdown=(0,r.createSnapComponent)("Dropdown")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Dropdown.cjs"}],[2822,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Field=void 0;const r=e("../../component.cjs");n.Field=(0,r.createSnapComponent)("Field")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Field.cjs"}],[2823,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FileInput=void 0;const r=e("../../component.cjs");n.FileInput=(0,r.createSnapComponent)("FileInput")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/FileInput.cjs"}],[2824,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Form=void 0;const r=e("../../component.cjs");n.Form=(0,r.createSnapComponent)("Form")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Form.cjs"}],[2825,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Input=void 0;const r=e("../../component.cjs");n.Input=(0,r.createSnapComponent)("Input")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Input.cjs"}],[2826,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Option=void 0;const r=e("../../component.cjs");n.Option=(0,r.createSnapComponent)("Option")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Option.cjs"}],[2827,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Radio=void 0;const r=e("../../component.cjs");n.Radio=(0,r.createSnapComponent)("Radio")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Radio.cjs"}],[2828,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RadioGroup=void 0;const r=e("../../component.cjs");n.RadioGroup=(0,r.createSnapComponent)("RadioGroup")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/RadioGroup.cjs"}],[2829,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Selector=void 0;const r=e("../../component.cjs");n.Selector=(0,r.createSnapComponent)("Selector")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/Selector.cjs"}],[2830,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SelectorOption=void 0;const r=e("../../component.cjs");n.SelectorOption=(0,r.createSnapComponent)("SelectorOption")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/SelectorOption.cjs"}],[2831,{"./AccountSelector.cjs":2816,"./AddressInput.cjs":2817,"./AssetSelector.cjs":2818,"./Button.cjs":2819,"./Checkbox.cjs":2820,"./Dropdown.cjs":2821,"./Field.cjs":2822,"./FileInput.cjs":2823,"./Form.cjs":2824,"./Input.cjs":2825,"./Option.cjs":2826,"./Radio.cjs":2827,"./RadioGroup.cjs":2828,"./Selector.cjs":2829,"./SelectorOption.cjs":2830},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./AccountSelector.cjs"),n),s(e("./AddressInput.cjs"),n),s(e("./AssetSelector.cjs"),n),s(e("./Button.cjs"),n),s(e("./Checkbox.cjs"),n),s(e("./Dropdown.cjs"),n),s(e("./Option.cjs"),n),s(e("./Radio.cjs"),n),s(e("./RadioGroup.cjs"),n),s(e("./Field.cjs"),n),s(e("./FileInput.cjs"),n),s(e("./Form.cjs"),n),s(e("./Input.cjs"),n),s(e("./Selector.cjs"),n),s(e("./SelectorOption.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/form/index.cjs"}],[2832,{"../../component.cjs":2795,"../Text.cjs":2813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Bold=void 0;const r=e("../../component.cjs");e("../Text.cjs");n.Bold=(0,r.createSnapComponent)("Bold")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/formatting/Bold.cjs"}],[2833,{"../../component.cjs":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Italic=void 0;const r=e("../../component.cjs");n.Italic=(0,r.createSnapComponent)("Italic")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/formatting/Italic.cjs"}],[2834,{"./Bold.cjs":2832,"./Italic.cjs":2833},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./Bold.cjs"),n),s(e("./Italic.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/formatting/index.cjs"}],[2835,{"./Address.cjs":2796,"./Avatar.cjs":2797,"./Banner.cjs":2798,"./Box.cjs":2799,"./Card.cjs":2800,"./Container.cjs":2801,"./Copyable.cjs":2802,"./Divider.cjs":2803,"./Footer.cjs":2804,"./Heading.cjs":2805,"./Icon.cjs":2806,"./Image.cjs":2807,"./Link.cjs":2808,"./Row.cjs":2809,"./Section.cjs":2810,"./Skeleton.cjs":2811,"./Spinner.cjs":2812,"./Text.cjs":2813,"./Tooltip.cjs":2814,"./Value.cjs":2815,"./form/index.cjs":2831,"./formatting/index.cjs":2834},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./form/index.cjs"),n),s(e("./formatting/index.cjs"),n),s(e("./Address.cjs"),n),s(e("./Avatar.cjs"),n),s(e("./Box.cjs"),n),s(e("./Card.cjs"),n),s(e("./Copyable.cjs"),n),s(e("./Divider.cjs"),n),s(e("./Value.cjs"),n),s(e("./Heading.cjs"),n),s(e("./Icon.cjs"),n),s(e("./Image.cjs"),n),s(e("./Link.cjs"),n),s(e("./Row.cjs"),n),s(e("./Spinner.cjs"),n),s(e("./Text.cjs"),n),s(e("./Tooltip.cjs"),n),s(e("./Footer.cjs"),n),s(e("./Container.cjs"),n),s(e("./Section.cjs"),n),s(e("./Banner.cjs"),n),s(e("./Skeleton.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/components/index.cjs"}],[2836,{"./component.cjs":2795,"./components/index.cjs":2835,"./jsx-dev-runtime.cjs":2837,"./jsx-runtime.cjs":2838,"./validation.cjs":2839},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldChildUnionStruct=n.FormChildStruct=n.BoxChildStruct=n.assertJSXElement=n.isJSXElementUnsafe=n.isJSXElement=n.RootJSXElementStruct=n.JSXElementStruct=void 0,s(e("./component.cjs"),n),s(e("./components/index.cjs"),n),s(e("./jsx-runtime.cjs"),n),s(e("./jsx-dev-runtime.cjs"),n);var i=e("./validation.cjs");Object.defineProperty(n,"JSXElementStruct",{enumerable:!0,get:function(){return i.JSXElementStruct}}),Object.defineProperty(n,"RootJSXElementStruct",{enumerable:!0,get:function(){return i.RootJSXElementStruct}}),Object.defineProperty(n,"isJSXElement",{enumerable:!0,get:function(){return i.isJSXElement}}),Object.defineProperty(n,"isJSXElementUnsafe",{enumerable:!0,get:function(){return i.isJSXElementUnsafe}}),Object.defineProperty(n,"assertJSXElement",{enumerable:!0,get:function(){return i.assertJSXElement}}),Object.defineProperty(n,"BoxChildStruct",{enumerable:!0,get:function(){return i.BoxChildStruct}}),Object.defineProperty(n,"FormChildStruct",{enumerable:!0,get:function(){return i.FormChildStruct}}),Object.defineProperty(n,"FieldChildUnionStruct",{enumerable:!0,get:function(){return i.FieldChildUnionStruct}})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/index.cjs"}],[2837,{"./jsx-runtime.cjs":2838,"./validation.cjs":2839},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.jsxDEV=void 0;const r=e("./jsx-runtime.cjs"),s=e("./validation.cjs");n.jsxDEV=function(e,t,n){const i=(0,r.jsx)(e,t,n);return(0,s.assertJSXElement)(i),i}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/jsx-dev-runtime.cjs"}],[2838,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){if("string"==typeof e)throw new Error(`An HTML element ("${String(e)}") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error("A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.");return e({...t,key:n})}Object.defineProperty(n,"__esModule",{value:!0}),n.jsxs=n.jsx=void 0,n.jsx=r,n.jsxs=function(e,t,n){return r(e,t,n)}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/jsx-runtime.cjs"}],[2839,{"../internals/index.cjs":2791,"../types/index.cjs":2847,"./components/index.cjs":2835,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RowStruct=n.BannerStruct=n.TooltipStruct=n.TooltipContentStruct=n.TooltipChildStruct=n.ValueStruct=n.TextStruct=n.SkeletonStruct=n.LinkStruct=n.HeadingStruct=n.DividerStruct=n.CopyableStruct=n.FooterStruct=n.FooterChildStruct=n.SectionStruct=n.FormStruct=n.FormChildStruct=n.BoxStruct=n.BoxChildrenStruct=n.AvatarStruct=n.FormattingStruct=n.ItalicStruct=n.BoldStruct=n.FieldStruct=n.FieldChildUnionStruct=n.FileInputStruct=n.RadioGroupStruct=n.RadioStruct=n.AssetSelectorStruct=n.SelectorStruct=n.SelectorOptionStruct=n.CardStruct=n.AccountSelectorStruct=n.AddressStruct=n.DropdownStruct=n.OptionStruct=n.AddressInputStruct=n.InputStruct=n.NumberInputPropsStruct=n.PasswordInputPropsStruct=n.TextInputPropsStruct=n.GenericInputPropsStruct=n.CheckboxStruct=n.ButtonStruct=n.IconStruct=n.ImageStruct=n.BorderRadiusStruct=n.ElementStruct=n.StringElementStruct=n.KeyStruct=void 0,n.assertJSXElement=n.isJSXElementUnsafe=n.isJSXElement=n.JSXElementStruct=n.RootJSXElementStruct=n.ContainerStruct=n.BoxChildStruct=n.SpinnerStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),i=e("./components/index.cjs"),a=e("../internals/index.cjs"),o=e("../types/index.cjs");function c(e){const t=1===e.length?e[0]:(0,a.nullUnion)(e);return function(e){const t=(0,a.selectiveUnion)(n=>Array.isArray(n)?(0,r.array)((0,r.lazy)(()=>t)):e);return t}((0,r.nullable)((0,a.selectiveUnion)(e=>"boolean"==typeof e?(0,r.boolean)():t)))}function u(e){return(0,r.nullable)((0,a.selectiveUnion)(t=>"boolean"==typeof t?(0,r.boolean)():e))}function l(e,t={}){return(0,r.object)({type:(0,a.literal)(e),props:(0,r.object)(t),key:(0,r.nullable)(n.KeyStruct)})}n.KeyStruct=(0,a.nullUnion)([(0,r.string)(),(0,r.number)()]),n.StringElementStruct=c([(0,r.string)()]),n.ElementStruct=(0,r.object)({type:(0,r.string)(),props:(0,r.record)((0,r.string)(),s.JsonStruct),key:(0,r.nullable)(n.KeyStruct)}),n.BorderRadiusStruct=(0,a.nullUnion)([(0,a.literal)("none"),(0,a.literal)("medium"),(0,a.literal)("full")]),n.ImageStruct=l("Image",{src:(0,a.svg)(),alt:(0,r.optional)((0,r.string)()),borderRadius:(0,r.optional)(n.BorderRadiusStruct)});const d=(0,a.nullUnion)(Object.values(i.IconName).map(e=>(0,a.literal)(e)));var p,m;n.IconStruct=l("Icon",{name:d,color:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("default"),(0,a.literal)("primary"),(0,a.literal)("muted")])),size:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("md"),(0,a.literal)("inherit")]))}),n.ButtonStruct=l("Button",{children:c([n.StringElementStruct,n.ImageStruct,n.IconStruct]),name:(0,r.optional)((0,r.string)()),type:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("button"),(0,a.literal)("submit")])),variant:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("primary"),(0,a.literal)("destructive")])),size:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("sm"),(0,a.literal)("md")])),disabled:(0,r.optional)((0,r.boolean)()),loading:(0,r.optional)((0,r.boolean)()),form:(0,r.optional)((0,r.string)())}),n.CheckboxStruct=l("Checkbox",{name:(0,r.string)(),checked:(0,r.optional)((0,r.boolean)()),label:(0,r.optional)((0,r.string)()),variant:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("default"),(0,a.literal)("toggle")])),disabled:(0,r.optional)((0,r.boolean)())}),n.GenericInputPropsStruct=(0,r.object)({name:(0,r.string)(),value:(0,r.optional)((0,r.string)()),placeholder:(0,r.optional)((0,r.string)()),disabled:(0,r.optional)((0,r.boolean)())}),n.TextInputPropsStruct=(0,r.assign)(n.GenericInputPropsStruct,(0,r.object)({type:(0,a.literal)("text")})),n.PasswordInputPropsStruct=(0,r.assign)(n.GenericInputPropsStruct,(0,r.object)({type:(0,a.literal)("password")})),n.NumberInputPropsStruct=(0,r.assign)(n.GenericInputPropsStruct,(0,r.object)({type:(0,a.literal)("number"),min:(0,r.optional)((0,r.number)()),max:(0,r.optional)((0,r.number)()),step:(0,r.optional)((0,r.number)())})),n.InputStruct=(p="Input",m=e=>{if((0,s.isPlainObject)(e)&&(0,s.hasProperty)(e,"type"))switch(e.type){case"text":return n.TextInputPropsStruct;case"password":return n.PasswordInputPropsStruct;case"number":return n.NumberInputPropsStruct;default:return n.GenericInputPropsStruct}return n.GenericInputPropsStruct},(0,r.object)({type:(0,a.literal)(p),props:(0,a.selectiveUnion)(m),key:(0,r.nullable)(n.KeyStruct)})),n.AddressInputStruct=l("AddressInput",{name:(0,r.string)(),chainId:s.CaipChainIdStruct,value:(0,r.optional)((0,r.string)()),placeholder:(0,r.optional)((0,r.string)()),disabled:(0,r.optional)((0,r.boolean)()),displayAvatar:(0,r.optional)((0,r.boolean)())}),n.OptionStruct=l("Option",{value:(0,r.string)(),children:(0,r.string)(),disabled:(0,r.optional)((0,r.boolean)())}),n.DropdownStruct=l("Dropdown",{name:(0,r.string)(),value:(0,r.optional)((0,r.string)()),children:c([n.OptionStruct]),disabled:(0,r.optional)((0,r.boolean)())}),n.AddressStruct=l("Address",{address:(0,a.selectiveUnion)(e=>"string"==typeof e&&e.startsWith("0x")?s.HexChecksumAddressStruct:s.CaipAccountIdStruct),truncate:(0,r.optional)((0,r.boolean)()),displayName:(0,r.optional)((0,r.boolean)()),avatar:(0,r.optional)((0,r.boolean)())}),n.AccountSelectorStruct=l("AccountSelector",{name:(0,r.string)(),hideExternalAccounts:(0,r.optional)((0,r.boolean)()),chainIds:(0,r.optional)((0,r.array)(s.CaipChainIdStruct)),switchGlobalAccount:(0,r.optional)((0,r.boolean)()),value:(0,r.optional)(s.CaipAccountIdStruct),disabled:(0,r.optional)((0,r.boolean)())}),n.CardStruct=l("Card",{image:(0,r.optional)((0,r.string)()),title:(0,a.selectiveUnion)(e=>"object"==typeof e?n.AddressStruct:(0,r.string)()),description:(0,r.optional)((0,r.string)()),value:(0,r.string)(),extra:(0,r.optional)((0,r.string)())}),n.SelectorOptionStruct=l("SelectorOption",{value:(0,r.string)(),children:n.CardStruct,disabled:(0,r.optional)((0,r.boolean)())}),n.SelectorStruct=l("Selector",{name:(0,r.string)(),title:(0,r.string)(),value:(0,r.optional)((0,r.string)()),children:c([n.SelectorOptionStruct]),disabled:(0,r.optional)((0,r.boolean)())}),n.AssetSelectorStruct=l("AssetSelector",{name:(0,r.string)(),addresses:o.NonEip155CaipAccountIdsMatchedByAddressAndNamespaceStruct,chainIds:(0,r.optional)((0,r.array)(o.NonEip155ChainIdStruct)),value:(0,r.optional)(o.NonEip155AssetTypeStruct),disabled:(0,r.optional)((0,r.boolean)())}),n.RadioStruct=l("Radio",{value:(0,r.string)(),children:(0,r.string)(),disabled:(0,r.optional)((0,r.boolean)())}),n.RadioGroupStruct=l("RadioGroup",{name:(0,r.string)(),value:(0,r.optional)((0,r.string)()),children:c([n.RadioStruct]),disabled:(0,r.optional)((0,r.boolean)())}),n.FileInputStruct=l("FileInput",{name:(0,r.string)(),accept:(0,a.nullUnion)([(0,r.optional)((0,r.array)((0,r.string)()))]),compact:(0,r.optional)((0,r.boolean)()),disabled:(0,r.optional)((0,r.boolean)())});const f=[u((0,r.lazy)(()=>n.BoxChildStruct)),n.InputStruct],h=[n.InputStruct,u((0,r.lazy)(()=>n.BoxChildStruct))],g=[u((0,r.lazy)(()=>n.BoxChildStruct)),n.InputStruct,u((0,r.lazy)(()=>n.BoxChildStruct))],y=[n.AssetSelectorStruct,n.AddressInputStruct,n.AccountSelectorStruct,n.InputStruct,n.DropdownStruct,n.RadioGroupStruct,n.FileInputStruct,n.CheckboxStruct,n.SelectorStruct];n.FieldChildUnionStruct=(0,a.nullUnion)([...y,...f,...h,...g]);const S=(0,a.selectiveUnion)(e=>{const t=Array.isArray(e);return t&&3===e.length?(0,r.tuple)(g):t&&2===e.length?"Box"===(null===(n=e[0])||void 0===n?void 0:n.type)?(0,r.tuple)(f):(0,r.tuple)(h):(0,a.typedUnion)(y);var n});n.FieldStruct=l("Field",{label:(0,r.optional)((0,r.string)()),error:(0,r.optional)((0,r.string)()),children:S}),n.BoldStruct=l("Bold",{children:c([(0,a.selectiveUnion)(e=>"string"==typeof e?(0,r.string)():n.ItalicStruct)])}),n.ItalicStruct=l("Italic",{children:c([(0,a.selectiveUnion)(e=>"string"==typeof e?(0,r.string)():n.BoldStruct)])}),n.FormattingStruct=(0,a.typedUnion)([n.BoldStruct,n.ItalicStruct]),n.AvatarStruct=l("Avatar",{address:s.CaipAccountIdStruct,size:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("sm"),(0,a.literal)("md"),(0,a.literal)("lg")]))}),n.BoxChildrenStruct=c([(0,r.lazy)(()=>n.BoxChildStruct)]),n.BoxStruct=l("Box",{children:n.BoxChildrenStruct,direction:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("horizontal"),(0,a.literal)("vertical")])),alignment:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("start"),(0,a.literal)("center"),(0,a.literal)("end"),(0,a.literal)("space-between"),(0,a.literal)("space-around")])),crossAlignment:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("start"),(0,a.literal)("center"),(0,a.literal)("end")])),center:(0,r.optional)((0,r.boolean)())}),n.FormChildStruct=n.BoxChildrenStruct,n.FormStruct=l("Form",{children:n.FormChildStruct,name:(0,r.string)()});const b=(0,r.refine)(n.ButtonStruct,"FooterButton",e=>{if("string"==typeof e.props.children||"boolean"==typeof e.props.children||null===e.props.children)return!0;if(Array.isArray(e.props.children)){if(!e.props.children.some(e=>"string"!=typeof e&&"boolean"!=typeof e&&null!==e))return!0}return"Footer buttons may only contain text."});function k(e){return(0,r.is)(e,n.JSXElementStruct)}n.SectionStruct=l("Section",{children:n.BoxChildrenStruct,direction:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("horizontal"),(0,a.literal)("vertical")])),alignment:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("start"),(0,a.literal)("center"),(0,a.literal)("end"),(0,a.literal)("space-between"),(0,a.literal)("space-around")]))}),n.FooterChildStruct=(0,a.selectiveUnion)(e=>Array.isArray(e)?(0,r.tuple)([b,b]):b),n.FooterStruct=l("Footer",{children:n.FooterChildStruct}),n.CopyableStruct=l("Copyable",{value:(0,r.string)(),sensitive:(0,r.optional)((0,r.boolean)())}),n.DividerStruct=l("Divider"),n.HeadingStruct=l("Heading",{children:n.StringElementStruct,size:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("sm"),(0,a.literal)("md"),(0,a.literal)("lg")]))}),n.LinkStruct=l("Link",{href:(0,r.string)(),children:c([(0,a.selectiveUnion)(e=>"string"==typeof e?(0,r.string)():(0,a.typedUnion)([n.FormattingStruct,n.IconStruct,n.ImageStruct,n.AddressStruct]))])}),n.SkeletonStruct=l("Skeleton",{width:(0,r.optional)((0,r.union)([(0,r.number)(),(0,r.string)()])),height:(0,r.optional)((0,r.union)([(0,r.number)(),(0,r.string)()])),borderRadius:(0,r.optional)(n.BorderRadiusStruct)}),n.TextStruct=l("Text",{children:c([(0,a.selectiveUnion)(e=>"string"==typeof e?(0,r.string)():(0,a.typedUnion)([n.BoldStruct,n.ItalicStruct,n.LinkStruct,n.IconStruct,n.SkeletonStruct]))]),alignment:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("start"),(0,a.literal)("center"),(0,a.literal)("end")])),color:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("default"),(0,a.literal)("alternative"),(0,a.literal)("muted"),(0,a.literal)("error"),(0,a.literal)("success"),(0,a.literal)("warning")])),size:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("sm"),(0,a.literal)("md")])),fontWeight:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("regular"),(0,a.literal)("medium"),(0,a.literal)("bold")]))}),n.ValueStruct=l("Value",{value:(0,a.selectiveUnion)(e=>"string"==typeof e?(0,r.string)():n.TextStruct),extra:(0,a.selectiveUnion)(e=>"string"==typeof e?(0,r.string)():n.TextStruct)}),n.TooltipChildStruct=(0,a.selectiveUnion)(e=>"boolean"==typeof e?(0,r.boolean)():(0,a.typedUnion)([n.TextStruct,n.BoldStruct,n.ItalicStruct,n.LinkStruct,n.ImageStruct,n.IconStruct])),n.TooltipContentStruct=(0,a.selectiveUnion)(e=>"string"==typeof e?(0,r.string)():(0,a.typedUnion)([n.TextStruct,n.BoldStruct,n.ItalicStruct,n.LinkStruct,n.IconStruct])),n.TooltipStruct=l("Tooltip",{children:(0,r.nullable)(n.TooltipChildStruct),content:n.TooltipContentStruct}),n.BannerStruct=l("Banner",{children:c([(0,a.typedUnion)([n.TextStruct,n.LinkStruct,n.IconStruct,n.ButtonStruct,n.BoldStruct,n.ItalicStruct,n.SkeletonStruct])]),title:(0,r.string)(),severity:(0,r.union)([(0,a.literal)("danger"),(0,a.literal)("info"),(0,a.literal)("success"),(0,a.literal)("warning")])}),n.RowStruct=l("Row",{label:(0,r.string)(),children:(0,r.lazy)(()=>(0,a.typedUnion)([n.ValueStruct,n.BoxChildStruct])),variant:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("default"),(0,a.literal)("warning"),(0,a.literal)("critical")])),tooltip:(0,r.optional)((0,r.string)())}),n.SpinnerStruct=l("Spinner"),n.BoxChildStruct=(0,a.typedUnion)([n.AccountSelectorStruct,n.AddressStruct,n.AssetSelectorStruct,n.AddressInputStruct,n.BoldStruct,n.BoxStruct,n.ButtonStruct,n.CopyableStruct,n.DividerStruct,n.DropdownStruct,n.RadioGroupStruct,n.FieldStruct,n.FileInputStruct,n.FormStruct,n.HeadingStruct,n.InputStruct,n.ImageStruct,n.ItalicStruct,n.LinkStruct,n.RowStruct,n.SpinnerStruct,n.TextStruct,n.TooltipStruct,n.CheckboxStruct,n.CardStruct,n.IconStruct,n.SelectorStruct,n.SectionStruct,n.AvatarStruct,n.BannerStruct,n.SkeletonStruct]),n.ContainerStruct=l("Container",{children:(0,a.selectiveUnion)(e=>Array.isArray(e)?(0,r.tuple)([n.BoxChildStruct,n.FooterStruct]):n.BoxChildStruct),backgroundColor:(0,r.optional)((0,a.nullUnion)([(0,a.literal)("default"),(0,a.literal)("alternative")]))}),n.RootJSXElementStruct=(0,a.typedUnion)([n.BoxChildStruct,n.ContainerStruct]),n.JSXElementStruct=(0,a.typedUnion)([n.AssetSelectorStruct,n.AddressInputStruct,n.AccountSelectorStruct,n.ButtonStruct,n.InputStruct,n.FileInputStruct,n.FieldStruct,n.FormStruct,n.BoldStruct,n.ItalicStruct,n.AddressStruct,n.BoxStruct,n.CopyableStruct,n.DividerStruct,n.HeadingStruct,n.ImageStruct,n.LinkStruct,n.RowStruct,n.SpinnerStruct,n.TextStruct,n.DropdownStruct,n.OptionStruct,n.RadioGroupStruct,n.RadioStruct,n.ValueStruct,n.TooltipStruct,n.CheckboxStruct,n.FooterStruct,n.ContainerStruct,n.CardStruct,n.IconStruct,n.SelectorStruct,n.SelectorOptionStruct,n.SectionStruct,n.AvatarStruct,n.BannerStruct,n.SkeletonStruct]),n.isJSXElement=k,n.isJSXElementUnsafe=function(e){return(0,s.isPlainObject)(e)&&(0,s.hasProperty)(e,"type")&&(0,s.hasProperty)(e,"props")&&(0,s.hasProperty)(e,"key")},n.assertJSXElement=function(e){if(!k(e))throw new Error(`Expected a JSX element, but received ${JSON.stringify(e)}. Please refer to the documentation for the supported JSX elements and their props.`)}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/validation.cjs"}],[2840,{"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NonEip155AssetTypeStruct=n.NonEip155ChainIdStruct=n.NonEip155CaipAccountIdsMatchedByAddressAndNamespaceStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils");n.NonEip155CaipAccountIdsMatchedByAddressAndNamespaceStruct=(0,r.refine)((0,r.array)(s.CaipAccountIdStruct),"Non-EIP-155 Matching Addresses Account ID List",e=>{const t=e.map(e=>(0,s.parseCaipAccountId)(e));if(!t.every(({address:e,chain:{namespace:n}})=>e===t[0].address&&n===t[0].chain.namespace))return"All account IDs must have the same address and namespace.";return!t.some(({chain:{namespace:e}})=>e===s.KnownCaipNamespace.Eip155)||"All account IDs must have non-EIP-155 namespaces."}),n.NonEip155ChainIdStruct=(0,r.refine)(s.CaipChainIdStruct,"Non-EIP-155 Chain ID",e=>{const{namespace:t}=(0,s.parseCaipChainId)(e);return t!==s.KnownCaipNamespace.Eip155||"Chain ID must not be an EIP-155 chain ID."}),n.NonEip155AssetTypeStruct=(0,r.refine)(s.CaipAssetTypeStruct,"Non-EIP-155 Asset Type",e=>{const{chain:{namespace:t}}=(0,s.parseCaipAssetType)(e);return t!==s.KnownCaipNamespace.Eip155||"Asset type must not be an EIP-155 asset type."})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/caip.cjs"}],[2841,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/global.cjs"}],[2842,{"../../internals/index.cjs":2791,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnAssetsLookupResponseStruct=n.AssetMetadataStruct=n.NonFungibleAssetMetadataStruct=n.NonFungibleAssetCollectionStruct=n.FungibleAssetMetadataStruct=n.AssetIconUrlStruct=n.FungibleAssetUnitStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),i=e("../../internals/index.cjs");n.FungibleAssetUnitStruct=(0,r.object)({name:(0,r.optional)((0,r.string)()),symbol:(0,r.optional)((0,r.string)()),decimals:(0,r.number)()}),n.AssetIconUrlStruct=(0,r.refine)((0,r.string)(),"Asset URL",e=>{try{const t=new URL(e);return(0,s.assert)("https:"===t.protocol||e.startsWith("data:image/svg+xml;base64,")),!0}catch{return"Invalid URL"}}),n.FungibleAssetMetadataStruct=(0,r.object)({name:(0,r.optional)((0,r.string)()),symbol:(0,r.optional)((0,r.string)()),fungible:(0,r.literal)(!0),iconUrl:n.AssetIconUrlStruct,units:(0,r.size)((0,r.array)(n.FungibleAssetUnitStruct),1,Infinity)}),n.NonFungibleAssetCollectionStruct=(0,r.object)({name:(0,r.string)(),address:s.CaipAccountIdStruct,symbol:(0,r.string)(),tokenCount:(0,r.optional)((0,r.number)()),creator:(0,r.optional)(s.CaipAccountIdStruct),imageUrl:(0,r.optional)(n.AssetIconUrlStruct)}),n.NonFungibleAssetMetadataStruct=(0,r.object)({fungible:(0,r.literal)(!1),name:(0,r.optional)((0,r.string)()),symbol:(0,r.optional)((0,r.string)()),imageUrl:(0,r.optional)(n.AssetIconUrlStruct),description:(0,r.optional)((0,r.string)()),acquiredAt:(0,r.optional)((0,r.number)()),isPossibleSpam:(0,r.optional)((0,r.boolean)()),attributes:(0,r.optional)((0,r.record)((0,r.string)(),(0,r.union)([(0,r.string)(),(0,r.number)()]))),collection:(0,r.optional)(n.NonFungibleAssetCollectionStruct)}),n.AssetMetadataStruct=(0,i.selectiveUnion)(e=>(0,s.isObject)(e)&&e.fungible?n.FungibleAssetMetadataStruct:n.NonFungibleAssetMetadataStruct),n.OnAssetsLookupResponseStruct=(0,r.object)({assets:(0,r.record)(s.CaipAssetTypeOrIdStruct,(0,r.nullable)(n.AssetMetadataStruct))})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/assets-lookup.cjs"}],[2843,{"./assets-lookup.cjs":2842,"./transaction.cjs":2844,"./user-input.cjs":2845},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./assets-lookup.cjs"),n),s(e("./transaction.cjs"),n),s(e("./user-input.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/index.cjs"}],[2844,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.SeverityLevel=void 0,function(e){e.Critical="critical"}(r||(n.SeverityLevel=r={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/transaction.cjs"}],[2845,{"../../internals/index.cjs":2791,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UserInputEventStruct=n.FileUploadEventStruct=n.InputChangeEventStruct=n.FormSubmitEventStruct=n.AssetSelectorStateStruct=n.FileStruct=n.AccountSelectorStateStruct=n.ButtonClickEventStruct=n.GenericEventStruct=n.UserInputEventType=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),i=e("../../internals/index.cjs");var a;!function(e){e.ButtonClickEvent="ButtonClickEvent",e.FormSubmitEvent="FormSubmitEvent",e.InputChangeEvent="InputChangeEvent",e.FileUploadEvent="FileUploadEvent"}(a||(n.UserInputEventType=a={})),n.GenericEventStruct=(0,r.object)({type:(0,r.string)(),name:(0,r.optional)((0,r.string)())}),n.ButtonClickEventStruct=(0,r.assign)(n.GenericEventStruct,(0,r.object)({type:(0,i.literal)(a.ButtonClickEvent),name:(0,r.optional)((0,r.string)())})),n.AccountSelectorStateStruct=(0,r.object)({accountId:(0,r.string)(),addresses:(0,r.array)(s.CaipAccountIdStruct)}),n.FileStruct=(0,r.object)({name:(0,r.string)(),size:(0,r.number)(),contentType:(0,r.string)(),contents:(0,r.string)()}),n.AssetSelectorStateStruct=(0,r.object)({asset:s.CaipAssetTypeStruct,name:(0,r.string)(),symbol:(0,r.string)()}),n.FormSubmitEventStruct=(0,r.assign)(n.GenericEventStruct,(0,r.object)({type:(0,i.literal)(a.FormSubmitEvent),value:(0,r.record)((0,r.string)(),(0,r.nullable)((0,r.union)([(0,r.string)(),n.FileStruct,(0,r.boolean)(),n.AccountSelectorStateStruct,n.AssetSelectorStateStruct]))),name:(0,r.string)()})),n.InputChangeEventStruct=(0,r.assign)(n.GenericEventStruct,(0,r.object)({type:(0,i.literal)(a.InputChangeEvent),name:(0,r.string)(),value:(0,r.nullable)((0,r.union)([(0,r.string)(),(0,r.boolean)(),n.AccountSelectorStateStruct,n.AssetSelectorStateStruct]))})),n.FileUploadEventStruct=(0,r.assign)(n.GenericEventStruct,(0,r.object)({type:(0,i.literal)(a.FileUploadEvent),name:(0,r.string)(),file:(0,r.nullable)(n.FileStruct)})),n.UserInputEventStruct=(0,i.typedUnion)([n.ButtonClickEventStruct,n.FormSubmitEventStruct,n.InputChangeEventStruct,n.FileUploadEventStruct])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/handlers/user-input.cjs"}],[2846,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/images.cjs"}],[2847,{"./caip.cjs":2840,"./global.cjs":2841,"./handlers/index.cjs":2843,"./images.cjs":2846,"./interface.cjs":2848,"./methods/index.cjs":2851},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),e("./global.cjs"),e("./images.cjs"),s(e("./caip.cjs"),n),s(e("./handlers/index.cjs"),n),s(e("./methods/index.cjs"),n),s(e("./interface.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/index.cjs"}],[2848,{"../internals/index.cjs":2791,"../jsx/index.cjs":2836,"../ui/index.cjs":2869,"./handlers/index.cjs":2843,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ContentType=n.InterfaceContextStruct=n.ComponentOrElementStruct=n.InterfaceStateStruct=n.FormStateStruct=n.StateStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),i=e("./handlers/index.cjs"),a=e("../internals/index.cjs"),o=e("../jsx/index.cjs"),c=e("../ui/index.cjs");var u;n.StateStruct=(0,r.union)([i.AccountSelectorStateStruct,i.AssetSelectorStateStruct,i.FileStruct,(0,r.string)(),(0,r.boolean)(),s.CaipAccountIdStruct]),n.FormStateStruct=(0,r.record)((0,r.string)(),(0,r.nullable)(n.StateStruct)),n.InterfaceStateStruct=(0,r.record)((0,r.string)(),(0,r.union)([n.FormStateStruct,(0,r.nullable)(n.StateStruct)])),n.ComponentOrElementStruct=(0,a.selectiveUnion)(e=>(0,s.isObject)(e)&&!(0,s.hasProperty)(e,"props")?c.ComponentStruct:o.RootJSXElementStruct),n.InterfaceContextStruct=(0,r.record)((0,r.string)(),s.JsonStruct),function(e){e.Insight="Insight",e.Dialog="Dialog",e.Notification="Notification",e.HomePage="HomePage"}(u||(n.ContentType=u={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/interface.cjs"}],[2849,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.DialogType=void 0,function(e){e.Alert="alert",e.Confirmation="confirmation",e.Prompt="prompt"}(r||(n.DialogType=r={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/dialog.cjs"}],[2850,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.AuxiliaryFileEncoding=void 0,function(e){e.Base64="base64",e.Hex="hex",e.Utf8="utf8"}(r||(n.AuxiliaryFileEncoding=r={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/get-file.cjs"}],[2851,{"./dialog.cjs":2849,"./get-file.cjs":2850,"./manage-state.cjs":2852,"./notify.cjs":2853},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./dialog.cjs"),n),s(e("./get-file.cjs"),n),s(e("./manage-state.cjs"),n),s(e("./notify.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/index.cjs"}],[2852,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.ManageStateOperation=void 0,function(e){e.ClearState="clear",e.GetState="get",e.UpdateState="update"}(r||(n.ManageStateOperation=r={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/manage-state.cjs"}],[2853,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationType=void 0,function(e){e.InApp="inApp",e.Native="native"}(r||(n.NotificationType=r={}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/types/methods/notify.cjs"}],[2854,{"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createBuilder=void 0;const r=e("@metamask/utils");n.createBuilder=function(e,t,n=[]){return(...s)=>{if(1===s.length&&(0,r.isPlainObject)(s[0])){const n={...s[0],type:e};return(0,r.assertStruct)(n,t,`Invalid ${e} component`),n}const i=n.reduce((e,t,n)=>s[n]!==undefined?{...e,[t]:s[n]}:e,{type:e});return(0,r.assertStruct)(i,t,`Invalid ${e} component`),i}}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/builder.cjs"}],[2855,{"./components/index.cjs":2863,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsComponent=n.isComponent=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),i=e("./components/index.cjs");n.isComponent=function(e){return(0,r.is)(e,i.ComponentStruct)},n.assertIsComponent=function(e){(0,s.assertStruct)(e,i.ComponentStruct,"Invalid component")}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/component.cjs"}],[2856,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.address=n.AddressStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),i=e("../../internals/index.cjs"),a=e("../builder.cjs"),o=e("../nodes.cjs");n.AddressStruct=(0,r.assign)(o.LiteralStruct,(0,r.object)({type:(0,i.literal)(o.NodeType.Address),value:s.HexChecksumAddressStruct})),n.address=(0,a.createBuilder)(o.NodeType.Address,n.AddressStruct,["value"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/address.cjs"}],[2857,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.button=n.ButtonStruct=n.ButtonType=n.ButtonVariant=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),i=e("../builder.cjs"),a=e("../nodes.cjs");var o,c;!function(e){e.Primary="primary",e.Secondary="secondary"}(o||(n.ButtonVariant=o={})),function(e){e.Button="button",e.Submit="submit"}(c||(n.ButtonType=c={})),n.ButtonStruct=(0,r.assign)(a.LiteralStruct,(0,r.object)({type:(0,s.literal)(a.NodeType.Button),value:(0,r.string)(),variant:(0,r.optional)((0,r.union)([(0,s.enumValue)(o.Primary),(0,s.enumValue)(o.Secondary)])),buttonType:(0,r.optional)((0,r.union)([(0,s.enumValue)(c.Button),(0,s.enumValue)(c.Submit)])),name:(0,r.optional)((0,r.string)())})),n.button=(0,i.createBuilder)(a.NodeType.Button,n.ButtonStruct,["value","buttonType","name","variant"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/button.cjs"}],[2858,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.copyable=n.CopyableStruct=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),i=e("../builder.cjs"),a=e("../nodes.cjs");n.CopyableStruct=(0,r.assign)(a.LiteralStruct,(0,r.object)({type:(0,s.literal)(a.NodeType.Copyable),value:(0,r.string)(),sensitive:(0,r.optional)((0,r.boolean)())})),n.copyable=(0,i.createBuilder)(a.NodeType.Copyable,n.CopyableStruct,["value","sensitive"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/copyable.cjs"}],[2859,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.divider=n.DividerStruct=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),i=e("../builder.cjs"),a=e("../nodes.cjs");n.DividerStruct=(0,r.assign)(a.NodeStruct,(0,r.object)({type:(0,s.literal)(a.NodeType.Divider)})),n.divider=(0,i.createBuilder)(a.NodeType.Divider,n.DividerStruct)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/divider.cjs"}],[2860,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"./button.cjs":2857,"./input.cjs":2864,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.form=n.FormStruct=n.FormComponentStruct=void 0;const r=e("@metamask/superstruct"),s=e("./button.cjs"),i=e("./input.cjs"),a=e("../../internals/index.cjs"),o=e("../builder.cjs"),c=e("../nodes.cjs");n.FormComponentStruct=(0,r.union)([i.InputStruct,s.ButtonStruct]),n.FormStruct=(0,r.assign)(c.NodeStruct,(0,r.object)({type:(0,a.literal)(c.NodeType.Form),children:(0,r.array)(n.FormComponentStruct),name:(0,r.string)()})),n.form=(0,o.createBuilder)(c.NodeType.Form,n.FormStruct,["name","children"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/form.cjs"}],[2861,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.heading=n.HeadingStruct=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),i=e("../builder.cjs"),a=e("../nodes.cjs");n.HeadingStruct=(0,r.assign)(a.LiteralStruct,(0,r.object)({type:(0,s.literal)(a.NodeType.Heading),value:(0,r.string)()})),n.heading=(0,i.createBuilder)(a.NodeType.Heading,n.HeadingStruct,["value"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/heading.cjs"}],[2862,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.image=n.ImageStruct=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),i=e("../builder.cjs"),a=e("../nodes.cjs");n.ImageStruct=(0,r.assign)(a.NodeStruct,(0,r.object)({type:(0,s.literal)(a.NodeType.Image),value:(0,s.svg)()})),n.image=(0,i.createBuilder)(a.NodeType.Image,n.ImageStruct,["value"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/image.cjs"}],[2863,{"./address.cjs":2856,"./button.cjs":2857,"./copyable.cjs":2858,"./divider.cjs":2859,"./form.cjs":2860,"./heading.cjs":2861,"./image.cjs":2862,"./input.cjs":2864,"./panel.cjs":2865,"./row.cjs":2866,"./spinner.cjs":2867,"./text.cjs":2868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.PanelStruct=n.panel=n.ComponentStruct=n.ImageStruct=n.image=void 0,s(e("./address.cjs"),n),s(e("./copyable.cjs"),n),s(e("./divider.cjs"),n),s(e("./heading.cjs"),n);var i=e("./image.cjs");Object.defineProperty(n,"image",{enumerable:!0,get:function(){return i.image}}),Object.defineProperty(n,"ImageStruct",{enumerable:!0,get:function(){return i.ImageStruct}});var a=e("./panel.cjs");Object.defineProperty(n,"ComponentStruct",{enumerable:!0,get:function(){return a.ComponentStruct}}),Object.defineProperty(n,"panel",{enumerable:!0,get:function(){return a.panel}}),Object.defineProperty(n,"PanelStruct",{enumerable:!0,get:function(){return a.PanelStruct}}),s(e("./spinner.cjs"),n),s(e("./text.cjs"),n),s(e("./row.cjs"),n),s(e("./button.cjs"),n),s(e("./input.cjs"),n),s(e("./form.cjs"),n)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/index.cjs"}],[2864,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.input=n.InputStruct=n.InputType=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),i=e("../builder.cjs"),a=e("../nodes.cjs");var o;!function(e){e.Text="text",e.Number="number",e.Password="password"}(o||(n.InputType=o={})),n.InputStruct=(0,r.assign)(a.LiteralStruct,(0,r.object)({type:(0,s.literal)(a.NodeType.Input),value:(0,r.optional)((0,r.string)()),name:(0,r.string)(),inputType:(0,r.optional)((0,r.union)([(0,s.enumValue)(o.Text),(0,s.enumValue)(o.Password),(0,s.enumValue)(o.Number)])),placeholder:(0,r.optional)((0,r.string)()),label:(0,r.optional)((0,r.string)()),error:(0,r.optional)((0,r.string)())})),n.input=(0,i.createBuilder)(a.NodeType.Input,n.InputStruct,["name","inputType","placeholder","value","label"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/input.cjs"}],[2865,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"./address.cjs":2856,"./button.cjs":2857,"./copyable.cjs":2858,"./divider.cjs":2859,"./form.cjs":2860,"./heading.cjs":2861,"./image.cjs":2862,"./input.cjs":2864,"./row.cjs":2866,"./spinner.cjs":2867,"./text.cjs":2868,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentStruct=n.panel=n.PanelStruct=n.ParentStruct=void 0;const r=e("@metamask/superstruct"),s=e("./address.cjs"),i=e("./button.cjs"),a=e("./copyable.cjs"),o=e("./divider.cjs"),c=e("./form.cjs"),u=e("./heading.cjs"),l=e("./image.cjs"),d=e("./input.cjs"),p=e("./row.cjs"),m=e("./spinner.cjs"),f=e("./text.cjs"),h=e("../../internals/index.cjs"),g=e("../builder.cjs"),y=e("../nodes.cjs");n.ParentStruct=(0,r.assign)(y.NodeStruct,(0,r.object)({children:(0,r.array)((0,r.lazy)(()=>n.ComponentStruct))})),n.PanelStruct=(0,r.assign)(n.ParentStruct,(0,r.object)({type:(0,h.literal)(y.NodeType.Panel)})),n.panel=(0,g.createBuilder)(y.NodeType.Panel,n.PanelStruct,["children"]),n.ComponentStruct=(0,h.typedUnion)([a.CopyableStruct,o.DividerStruct,u.HeadingStruct,l.ImageStruct,n.PanelStruct,m.SpinnerStruct,f.TextStruct,p.RowStruct,s.AddressStruct,d.InputStruct,c.FormStruct,i.ButtonStruct])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/panel.cjs"}],[2866,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"./address.cjs":2856,"./image.cjs":2862,"./text.cjs":2868,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.row=n.RowStruct=n.RowVariant=void 0;const r=e("@metamask/superstruct"),s=e("./address.cjs"),i=e("./image.cjs"),a=e("./text.cjs"),o=e("../../internals/index.cjs"),c=e("../builder.cjs"),u=e("../nodes.cjs");var l;!function(e){e.Default="default",e.Critical="critical",e.Warning="warning"}(l||(n.RowVariant=l={}));const d=(0,r.union)([i.ImageStruct,a.TextStruct,s.AddressStruct]);n.RowStruct=(0,r.assign)(u.LiteralStruct,(0,r.object)({type:(0,o.literal)(u.NodeType.Row),variant:(0,r.optional)((0,r.union)([(0,o.enumValue)(l.Default),(0,o.enumValue)(l.Critical),(0,o.enumValue)(l.Warning)])),label:(0,r.string)(),value:d})),n.row=(0,c.createBuilder)(u.NodeType.Row,n.RowStruct,["label","value","variant"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/row.cjs"}],[2867,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.spinner=n.SpinnerStruct=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),i=e("../builder.cjs"),a=e("../nodes.cjs");n.SpinnerStruct=(0,r.assign)(a.NodeStruct,(0,r.object)({type:(0,s.literal)(a.NodeType.Spinner)})),n.spinner=(0,i.createBuilder)(a.NodeType.Spinner,n.SpinnerStruct)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/spinner.cjs"}],[2868,{"../../internals/index.cjs":2791,"../builder.cjs":2854,"../nodes.cjs":2870,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.text=n.TextStruct=void 0;const r=e("@metamask/superstruct"),s=e("../../internals/index.cjs"),i=e("../builder.cjs"),a=e("../nodes.cjs");n.TextStruct=(0,r.assign)(a.LiteralStruct,(0,r.object)({type:(0,s.literal)(a.NodeType.Text),value:(0,r.string)(),markdown:(0,r.optional)((0,r.boolean)())})),n.text=(0,i.createBuilder)(a.NodeType.Text,n.TextStruct,["value","markdown"])}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/components/text.cjs"}],[2869,{"./component.cjs":2855,"./components/index.cjs":2863,"./nodes.cjs":2870},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.NodeType=void 0,s(e("./components/index.cjs"),n),s(e("./component.cjs"),n);var i=e("./nodes.cjs");Object.defineProperty(n,"NodeType",{enumerable:!0,get:function(){return i.NodeType}})}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/index.cjs"}],[2870,{"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LiteralStruct=n.NodeStruct=n.NodeType=void 0;const r=e("@metamask/superstruct");var s;!function(e){e.Copyable="copyable",e.Divider="divider",e.Heading="heading",e.Panel="panel",e.Spinner="spinner",e.Text="text",e.Image="image",e.Row="row",e.Address="address",e.Button="button",e.Input="input",e.Form="form"}(s||(n.NodeType=s={})),n.NodeStruct=(0,r.object)({type:(0,r.string)()}),n.LiteralStruct=(0,r.assign)(n.NodeStruct,(0,r.object)({value:(0,r.unknown)()}))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/ui/nodes.cjs"}],[2871,{"./dist/jsx/jsx-runtime.cjs":2838},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./dist/jsx/jsx-runtime.cjs")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/jsx-runtime.js"}],[2872,{"./dist/jsx/index.cjs":2836},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./dist/jsx/index.cjs")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/jsx.js"}],[2873,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={name:"@metamask/snaps-sdk",version:"10.1.0",description:"A library containing the core functionality for building MetaMask Snaps",keywords:["MetaMask","Snaps","Ethereum"],homepage:"https://github.com/MetaMask/snaps/tree/main/packages/snaps-sdk#readme",bugs:{url:"https://github.com/MetaMask/snaps/issues"},repository:{type:"git",url:"https://github.com/MetaMask/snaps.git"},license:"ISC",sideEffects:!1,exports:{".":{import:{types:"./dist/index.d.mts",default:"./dist/index.mjs"},require:{types:"./dist/index.d.cts",default:"./dist/index.cjs"}},"./jsx":{import:{types:"./dist/jsx/index.d.mts",default:"./dist/jsx/index.mjs"},require:{types:"./dist/jsx/index.d.cts",default:"./dist/jsx/index.cjs"}},"./jsx-runtime":{import:{types:"./dist/jsx/jsx-runtime.d.mts",default:"./dist/jsx/jsx-runtime.mjs"},require:{types:"./dist/jsx/jsx-runtime.d.cts",default:"./dist/jsx/jsx-runtime.cjs"}},"./jsx-dev-runtime":{import:{types:"./dist/jsx/jsx-dev-runtime.d.mts",default:"./dist/jsx/jsx-dev-runtime.mjs"},require:{types:"./dist/jsx/jsx-dev-runtime.d.cts",default:"./dist/jsx/jsx-dev-runtime.cjs"}},"./package.json":"./package.json"},main:"./dist/index.cjs",module:"./dist/index.mjs",types:"./dist/index.d.cts",files:["dist","jsx.js","jsx-dev-runtime.js","jsx-runtime.js","jsx.d.ts","jsx-dev-runtime.d.ts","jsx-runtime.d.ts"],scripts:{build:"ts-bridge --project tsconfig.build.json --verbose --clean --no-references","changelog:update":"../../scripts/update-changelog.sh @metamask/snaps-sdk","changelog:validate":"../../scripts/validate-changelog.sh @metamask/snaps-sdk",lint:"yarn lint:eslint && yarn lint:misc --check && yarn changelog:validate && yarn lint:dependencies","lint:ci":"yarn lint","lint:dependencies":"depcheck","lint:eslint":"eslint . --cache","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":'prettier --no-error-on-unmatched-pattern --log-level warn "**/*.json" "**/*.md" "**/*.html" "!CHANGELOG.md" --ignore-path ../../.gitignore',"publish:preview":"yarn npm publish --tag preview","since-latest-release":"../../scripts/since-latest-release.sh",test:"jest --reporters=jest-silent-reporter","test:clean":"jest --clearCache","test:post":"jest-it-up","test:verbose":"jest --verbose","test:watch":"jest --watch"},dependencies:{"@metamask/key-tree":"^10.1.1","@metamask/providers":"^22.1.1","@metamask/rpc-errors":"^7.0.3","@metamask/superstruct":"^3.2.1","@metamask/utils":"^11.8.1"},devDependencies:{"@lavamoat/allow-scripts":"^3.4.0","@metamask/auto-changelog":"^5.0.2","@ts-bridge/cli":"^0.6.1","@types/jest":"^27.5.1",deepmerge:"^4.2.2",depcheck:"^1.4.7",eslint:"^9.11.0","expect-type":"^0.17.3",jest:"^29.0.2","jest-fetch-mock":"^3.0.3","jest-it-up":"^2.0.0","jest-silent-reporter":"^0.6.0",prettier:"^3.3.3","ts-jest":"^29.1.1",typescript:"~5.3.3"},engines:{node:"^20 || >=22"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"}}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/package.json"}],[2874,{"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.snapOwnsAccount=n.createChainIdList=n.createAccountList=void 0;const r=e("@metamask/utils");n.createAccountList=function(e,t){return t.map(t=>`${t}:${e}`)},n.createChainIdList=function(e,t){return t&&0!==t.length?e.reduce((e,n)=>{if("eip155:0"===n){const n=t.filter(e=>{const{namespace:t}=(0,r.parseCaipChainId)(e);return t===r.KnownCaipNamespace.Eip155});e.push(...n)}else t.includes(n)&&e.push(n);return e},[]):e},n.snapOwnsAccount=function(e,t){var n;return(null===(n=t.metadata.snap)||void 0===n?void 0:n.id)===e}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/account.cjs"}],[2875,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEqual=void 0,n.isEqual=function(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/array.cjs"}],[2876,{"./base64.cjs":2877,"./constants.cjs":2881,"@metamask/snaps-sdk":2788,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateAuxiliaryFiles=n.encodeAuxiliaryFile=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/utils"),i=e("./base64.cjs"),a=e("./constants.cjs");n.encodeAuxiliaryFile=async function(e,t){if(t===r.AuxiliaryFileEncoding.Base64)return e;const n=await(0,i.decodeBase64)(e);return t===r.AuxiliaryFileEncoding.Utf8?(0,s.bytesToString)(n):(0,s.bytesToHex)(n)},n.validateAuxiliaryFiles=function(e){for(const t of e)(0,s.assert)(t.size<a.MAX_FILE_SIZE,"Static files required by the Snap must be smaller than 64 MB.")}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/auxiliary-files.cjs"}],[2877,{"./bytes.cjs":2878,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeBase64=n.encodeBase64=void 0;const r=e("@metamask/utils"),s=e("./bytes.cjs");n.encodeBase64=async function(e){const t=(0,s.getBytes)(e),n="undefined"!=typeof navigator&&"ReactNative"===navigator.product;return"FileReader"in globalThis&&!n?await new Promise((e,n)=>{const r=Object.assign(new FileReader,{onload:()=>e(r.result.replace("data:application/octet-stream;base64,","")),onerror:()=>n(r.error)});r.readAsDataURL(new File([t],"",{type:"application/octet-stream"}))}):(0,r.bytesToBase64)(t)},n.decodeBase64=async function(e){const t=await fetch(`data:application/octet-stream;base64,${e}`);return new Uint8Array(await t.arrayBuffer())}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/base64.cjs"}],[2878,{"./virtual-file/VirtualFile.cjs":2921,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBytes=void 0;const r=e("@metamask/utils"),s=e("./virtual-file/VirtualFile.cjs");n.getBytes=function(e){const t=e instanceof s.VirtualFile?e.value:e;return"string"==typeof t?(0,r.stringToBytes)(t):t}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/bytes.cjs"}],[2879,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.SnapCaveatType=void 0,function(e){e.PermittedDerivationPaths="permittedDerivationPaths",e.PermittedCoinTypes="permittedCoinTypes",e.SnapCronjob="snapCronjob",e.TransactionOrigin="transactionOrigin",e.SignatureOrigin="signatureOrigin",e.RpcOrigin="rpcOrigin",e.KeyringOrigin="keyringOrigin",e.SnapIds="snapIds",e.ChainIds="chainIds",e.LookupMatchers="lookupMatchers",e.MaxRequestTime="maxRequestTime",e.ProtocolSnapScopes="protocolSnapScopes"}(r||(n.SnapCaveatType=r={}))}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/caveats.cjs"}],[288,{"../../../../shared/modules/hexstring-utils":5896,"@metamask/eth-sig-util":1974,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEthAddress=a,n.normalizeAddress=function(e){return a(e)?(0,s.normalize)(e):e},n.normalizeSafeAddress=function(e){return a(e)?(0,i.toChecksumHexAddress)(e):e};var r=e("@metamask/utils"),s=e("@metamask/eth-sig-util"),i=e("../../../../shared/modules/hexstring-utils");function a(e){return(0,r.isValidHexAddress)(e)}}}},{package:"$root$",file:"app/scripts/lib/multichain/address.ts"}],[2880,{"./bytes.cjs":2878,"@metamask/utils":3070,"@noble/hashes/sha256":3123},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.checksumFiles=n.checksum=void 0;const r=e("@metamask/utils"),s=e("@noble/hashes/sha256"),i=e("./bytes.cjs");async function a(e){var t;const n=(0,i.getBytes)(e);return"crypto"in globalThis&&"object"==typeof globalThis.crypto&&null!==(t=crypto.subtle)&&void 0!==t&&t.digest?new Uint8Array(await crypto.subtle.digest("SHA-256",n)):(0,s.sha256)(n)}n.checksum=a,n.checksumFiles=async function(e){const t=await Promise.all([...e].sort((e,t)=>((0,r.assert)(e.path!==t.path,"Tried to sort files with non-unique paths."),e.path<t.path?-1:1)).map(async e=>a(e)));return a((0,r.concatBytes)(t))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/checksum.cjs"}],[2881,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MAX_FILE_SIZE=void 0,n.MAX_FILE_SIZE=64e6}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/constants.cjs"}],[2882,{"./time.cjs":2915,"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931,"@metamask/utils":3070,"cron-parser":4143},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCronjobSpecificationArray=n.CronjobSpecificationArrayStruct=n.isCronjobSpecification=n.CronjobSpecificationStruct=n.CronExpressionStruct=n.CronjobRpcRequestStruct=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct"),i=e("@metamask/utils"),a=e("cron-parser"),o=e("./time.cjs");n.CronjobRpcRequestStruct=(0,s.object)({jsonrpc:(0,s.optional)(i.JsonRpcVersionStruct),id:(0,s.optional)(i.JsonRpcIdStruct),method:(0,s.string)(),params:(0,s.optional)(i.JsonRpcParamsStruct)}),n.CronExpressionStruct=(0,s.refine)((0,s.string)(),"cronjob expression",e=>{try{return(0,a.parseExpression)(e),!0}catch{return`Expected a cronjob expression, but received: "${e}"`}});const c=(0,s.object)({expression:n.CronExpressionStruct,request:n.CronjobRpcRequestStruct}),u=(0,s.object)({duration:o.ISO8601DurationStruct,request:n.CronjobRpcRequestStruct});n.CronjobSpecificationStruct=(0,r.selectiveUnion)(e=>(0,i.isObject)(e)&&(0,i.hasProperty)(e,"duration")?u:c),n.isCronjobSpecification=function(e){try{return(0,s.create)(e,n.CronjobSpecificationStruct),!0}catch{return!1}},n.CronjobSpecificationArrayStruct=(0,s.array)(n.CronjobSpecificationStruct),n.isCronjobSpecificationArray=function(e){try{return(0,s.create)(e,n.CronjobSpecificationArrayStruct),!0}catch{return!1}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/cronjob.cjs"}],[2883,{"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.currency=void 0;const r=e("@metamask/superstruct");n.currency=function(e){const t=e.toLowerCase();return(0,r.coerce)((0,r.literal)(t),(0,r.literal)(e.toUpperCase()),e=>(0,r.create)(e.toLowerCase(),(0,r.literal)(t)))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/currency.cjs"}],[2884,{rfdc:5285},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.deepClone=void 0;const s=r(e("rfdc"));n.deepClone=(0,s.default)({proto:!1,circles:!1})}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/deep-clone.cjs"}],[2885,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_ENDOWMENTS=void 0,n.DEFAULT_ENDOWMENTS=Object.freeze(["atob","btoa","BigInt","console","crypto","Date","Math","setTimeout","clearTimeout","SubtleCrypto","TextDecoder","TextEncoder","URL","URLSearchParams","setInterval","clearInterval","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","isSecureContext","Intl","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","DataView","ArrayBuffer","AbortController","AbortSignal"])}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/default-endowments.cjs"}],[2886,{"./array.cjs":2875,"@metamask/slip44":2642},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getSlip44ProtocolName=n.getSnapDerivationPathName=n.SNAPS_DERIVATION_PATHS=void 0;const s=r(e("@metamask/slip44")),i=e("./array.cjs");function a(e){var t;return"1"===String(e)?"Test Networks":(null===(t=s.default[e])||void 0===t?void 0:t.name)??null}n.SNAPS_DERIVATION_PATHS=[{path:["m","44'","0'"],curve:"ed25519",name:"Test BIP-32 Path (ed25519)"},{path:["m","44'","1'"],curve:"secp256k1",name:"Testnet"},{path:["m","44'","0'"],curve:"secp256k1",name:"Bitcoin Legacy"},{path:["m","49'","0'"],curve:"secp256k1",name:"Bitcoin Nested SegWit"},{path:["m","49'","1'"],curve:"secp256k1",name:"Bitcoin Testnet Nested SegWit"},{path:["m","84'","0'"],curve:"secp256k1",name:"Bitcoin Native SegWit"},{path:["m","84'","1'"],curve:"secp256k1",name:"Bitcoin Testnet Native SegWit"},{path:["m","86'","0'"],curve:"secp256k1",name:"Bitcoin Taproot"},{path:["m","86'","1'"],curve:"secp256k1",name:"Bitcoin Testnet Taproot"},{path:["m","44'","501'"],curve:"ed25519",name:"Solana"},{path:["m","44'","501'","0'","0'"],curve:"ed25519",name:"Solana"},{path:["m","44'","2'"],curve:"secp256k1",name:"Litecoin"},{path:["m","44'","3'"],curve:"secp256k1",name:"Dogecoin"},{path:["m","44'","60'"],curve:"secp256k1",name:"Ethereum"},{path:["m","44'","118'"],curve:"secp256k1",name:"Atom"},{path:["m","44'","145'"],curve:"secp256k1",name:"Bitcoin Cash"},{path:["m","44'","637'"],curve:"ed25519",name:"Aptos"},{path:["m","44'","714'"],curve:"secp256k1",name:"Binance (BNB)"},{path:["m","44'","784'"],curve:"ed25519",name:"Sui"},{path:["m","44'","931'"],curve:"secp256k1",name:"THORChain (RUNE)"},{path:["m","44'","330'"],curve:"secp256k1",name:"Terra (LUNA)"},{path:["m","44'","459'"],curve:"secp256k1",name:"Kava"},{path:["m","44'","529'"],curve:"secp256k1",name:"Secret Network"},{path:["m","44'","397'","0'"],curve:"ed25519",name:"NEAR Protocol"},{path:["m","44'","1'","0'"],curve:"ed25519",name:"Testnet"},{path:["m","44'","472'"],curve:"ed25519",name:"Arweave"},{path:["m","44'","12586'"],curve:"secp256k1",name:"Mina"},{path:["m","44'","242'"],curve:"ed25519",name:"Nimiq"},{path:["m","44'","1729'","0'","0'"],curve:"ed25519",name:"Tezos"},{path:["m","1789'","0'"],curve:"ed25519",name:"Vega"},{path:["m","1852'","1815'"],curve:"ed25519Bip32",name:"Cardano"},{path:["m","44'","508'","0'","0'","0'"],curve:"ed25519",name:"MultiversX"},{path:["m","44'","709'"],curve:"secp256k1",name:"Avail"},{path:["m","44'","626'"],curve:"ed25519",name:"Kadena"},{path:["m","44'","632'"],curve:"ed25519",name:"Massa"},{path:["m","44'","4218'"],curve:"ed25519",name:"IOTA"}],n.getSnapDerivationPathName=function(e,t){const r=n.SNAPS_DERIVATION_PATHS.find(n=>n.curve===t&&(0,i.isEqual)(n.path,e));if(r)return r.name;if("secp256k1"===t&&"m"===e[0]&&"44'"===e[1]&&e[2].endsWith("'")){return a(e[2].slice(0,-1))??null}return null},n.getSlip44ProtocolName=a}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/derivation-paths.cjs"}],[2887,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.STATE_ENCRYPTION_MAGIC_VALUE=n.SIP_6_MAGIC_VALUE=void 0,n.SIP_6_MAGIC_VALUE="1399742832'",n.STATE_ENCRYPTION_MAGIC_VALUE="572232532'"}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/entropy.cjs"}],[2888,{"@metamask/rpc-errors":2594,"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function s(e,t){return e.get(a(e,t))}function i(e,t,n){return e.set(a(e,t),n),n}function a(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Object.defineProperty(n,"__esModule",{value:!0}),n.TrackableErrorStruct=n.unwrapError=n.isWrappedSnapError=n.isSerializedSnapError=n.isSnapError=n.WrappedSnapError=n.SNAP_ERROR_WRAPPER_MESSAGE=n.SNAP_ERROR_WRAPPER_CODE=void 0;const o=e("@metamask/rpc-errors"),c=e("@metamask/snaps-sdk"),u=e("@metamask/superstruct"),l=e("@metamask/utils");n.SNAP_ERROR_WRAPPER_CODE=-31001,n.SNAP_ERROR_WRAPPER_MESSAGE="Wrapped Snap Error";var d=new WeakMap,p=new WeakMap,m=new WeakMap;class f extends Error{constructor(e){const t=(0,c.getErrorMessage)(e);super(t),r(this,d,void 0),r(this,p,void 0),r(this,m,void 0),i(d,this,e),i(p,this,t),i(m,this,(0,c.getErrorStack)(e)??undefined)}get name(){return"WrappedSnapError"}get message(){return s(p,this)}get stack(){return s(m,this)}toJSON(){const e=h(s(d,this))?s(d,this).serialize():(0,o.serializeCause)(s(d,this));return{code:n.SNAP_ERROR_WRAPPER_CODE,message:n.SNAP_ERROR_WRAPPER_MESSAGE,data:{cause:e}}}serialize(){return this.toJSON()}}function h(e){if((0,l.isObject)(e)&&"serialize"in e&&"function"==typeof e.serialize){const t=e.serialize();return(0,l.isJsonRpcError)(t)&&g(t)}return!1}function g(e){return e.code===c.SNAP_ERROR_CODE&&e.message===c.SNAP_ERROR_MESSAGE}function y(e){return(0,l.isJsonRpcError)(e)&&e.code===n.SNAP_ERROR_WRAPPER_CODE&&e.message===n.SNAP_ERROR_WRAPPER_MESSAGE}function S(e,t,n,r){const s=new o.JsonRpcError(e,t,r);return s.stack=n??undefined,s}n.WrappedSnapError=f,n.isSnapError=h,n.isSerializedSnapError=g,n.isWrappedSnapError=y,n.unwrapError=function(e){if(y(e)){if((0,l.isJsonRpcError)(e.data.cause)){if(g(e.data.cause)){const{code:t,message:n,stack:r,data:s}=e.data.cause.data.cause;return[S(t,n,r,s),!0]}if((0,l.isObject)(e.data.cause.data)&&(0,l.isObject)(e.data.cause.data.cause)&&e.data.cause.message===e.data.cause.data.cause.message){const t=e.data.cause.data.cause,{code:n,message:r}=e.data.cause;return[S(n,r,(0,c.getErrorStack)(t)),!1]}const{code:t,message:n,stack:r,data:s}=e.data.cause;return[S(t,n,r,s),!1]}return[S(o.errorCodes.rpc.internal,(0,c.getErrorMessage)(e.data.cause),(0,c.getErrorStack)(e.data.cause)),!1]}if((0,l.isJsonRpcError)(e)){const{code:t,message:n,stack:r,data:s}=e;return[S(t,n,r,s),!1]}return[S(o.errorCodes.rpc.internal,(0,c.getErrorMessage)(e),(0,c.getErrorStack)(e)),!1]},n.TrackableErrorStruct=(0,u.object)({name:(0,u.string)(),message:(0,u.string)(),stack:(0,u.nullable)((0,u.string)()),cause:(0,u.nullable)((0,u.lazy)(()=>n.TrackableErrorStruct))})}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/errors.cjs"}],[2889,{"../time.cjs":2915,"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnAssetHistoricalPriceResponseStruct=n.AssetHistoricalPriceStruct=n.HistoricalPriceStruct=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct"),i=e("../time.cjs");n.HistoricalPriceStruct=(0,r.nonEmptyRecord)((0,s.union)([(0,s.literal)("all"),i.ISO8601DurationStruct]),(0,s.array)((0,s.tuple)([(0,s.number)(),(0,s.string)()]))),n.AssetHistoricalPriceStruct=(0,s.nullable)((0,s.object)({intervals:n.HistoricalPriceStruct,updateTime:(0,s.number)(),expirationTime:(0,s.optional)((0,s.number)())})),n.OnAssetHistoricalPriceResponseStruct=(0,s.object)({historicalPrice:n.AssetHistoricalPriceStruct})}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers/asset-historical-price.cjs"}],[2890,{"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnAssetsConversionResponseStruct=n.AssetConversionStruct=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils");n.AssetConversionStruct=(0,r.object)({rate:(0,r.string)(),conversionTime:(0,r.number)(),expirationTime:(0,r.optional)((0,r.number)())}),n.OnAssetsConversionResponseStruct=(0,r.object)({conversionRates:(0,r.record)(s.CaipAssetTypeStruct,(0,r.record)(s.CaipAssetTypeStruct,(0,r.nullable)(n.AssetConversionStruct)))})}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers/assets-conversion.cjs"}],[2891,{"../time.cjs":2915,"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnAssetsMarketDataResponseStruct=n.AssetMarketDataStruct=n.NonFungibleAssetMarketDataStruct=n.AssetValueStruct=n.FungibleAssetMarketDataStruct=n.PricePercentChangeStruct=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct"),i=e("@metamask/utils"),a=e("../time.cjs");n.PricePercentChangeStruct=(0,r.nonEmptyRecord)((0,s.union)([(0,s.literal)("all"),a.ISO8601DurationStruct]),(0,s.number)()),n.FungibleAssetMarketDataStruct=(0,s.object)({fungible:(0,s.literal)(!0),marketCap:(0,s.optional)((0,s.string)()),totalVolume:(0,s.optional)((0,s.string)()),circulatingSupply:(0,s.optional)((0,s.string)()),allTimeHigh:(0,s.optional)((0,s.string)()),allTimeLow:(0,s.optional)((0,s.string)()),pricePercentChange:(0,s.optional)(n.PricePercentChangeStruct)}),n.AssetValueStruct=(0,s.object)({asset:i.CaipAssetTypeOrIdStruct,amount:(0,s.string)()}),n.NonFungibleAssetMarketDataStruct=(0,s.object)({fungible:(0,s.literal)(!1),lastSale:(0,s.optional)(n.AssetValueStruct),topBid:(0,s.optional)(n.AssetValueStruct),floorPrice:(0,s.optional)(n.AssetValueStruct),rarity:(0,s.optional)((0,s.object)({ranking:(0,s.optional)((0,s.object)({source:(0,s.string)(),rank:(0,s.number)()})),metadata:(0,s.optional)((0,s.record)((0,s.string)(),(0,s.number)()))}))}),n.AssetMarketDataStruct=(0,r.selectiveUnion)(e=>(0,i.isObject)(e)&&e.fungible?n.FungibleAssetMarketDataStruct:n.NonFungibleAssetMarketDataStruct),n.OnAssetsMarketDataResponseStruct=(0,s.object)({marketData:(0,s.record)(i.CaipAssetTypeOrIdStruct,(0,s.record)(i.CaipAssetTypeStruct,(0,s.nullable)(n.AssetMarketDataStruct)))})}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers/assets-market-data.cjs"}],[2892,{"./types.cjs":2899},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SNAP_EXPORT_NAMES=n.SNAP_EXPORTS=void 0;const r=e("./types.cjs");n.SNAP_EXPORTS={[r.HandlerType.OnRpcRequest]:{type:r.HandlerType.OnRpcRequest,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnTransaction]:{type:r.HandlerType.OnTransaction,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnCronjob]:{type:r.HandlerType.OnCronjob,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnNameLookup]:{type:r.HandlerType.OnNameLookup,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnInstall]:{type:r.HandlerType.OnInstall,required:!1,validator:e=>"function"==typeof e},[r.HandlerType.OnUpdate]:{type:r.HandlerType.OnUpdate,required:!1,validator:e=>"function"==typeof e},[r.HandlerType.OnStart]:{type:r.HandlerType.OnStart,required:!1,validator:e=>"function"==typeof e},[r.HandlerType.OnActive]:{type:r.HandlerType.OnActive,required:!1,validator:e=>"function"==typeof e},[r.HandlerType.OnInactive]:{type:r.HandlerType.OnInactive,required:!1,validator:e=>"function"==typeof e},[r.HandlerType.OnKeyringRequest]:{type:r.HandlerType.OnKeyringRequest,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnHomePage]:{type:r.HandlerType.OnHomePage,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnSettingsPage]:{type:r.HandlerType.OnSettingsPage,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnSignature]:{type:r.HandlerType.OnSignature,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnUserInput]:{type:r.HandlerType.OnUserInput,required:!1,validator:e=>"function"==typeof e},[r.HandlerType.OnAssetHistoricalPrice]:{type:r.HandlerType.OnAssetHistoricalPrice,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnAssetsLookup]:{type:r.HandlerType.OnAssetsLookup,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnAssetsConversion]:{type:r.HandlerType.OnAssetsConversion,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnAssetsMarketData]:{type:r.HandlerType.OnAssetsMarketData,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnProtocolRequest]:{type:r.HandlerType.OnProtocolRequest,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnClientRequest]:{type:r.HandlerType.OnClientRequest,required:!0,validator:e=>"function"==typeof e},[r.HandlerType.OnWebSocketEvent]:{type:r.HandlerType.OnWebSocketEvent,required:!0,validator:e=>"function"==typeof e}},n.SNAP_EXPORT_NAMES=Object.values(r.HandlerType)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers/exports.cjs"}],[2893,{"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnHomePageResponseStruct=n.OnHomePageResponseWithIdStruct=n.OnHomePageResponseWithContentStruct=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct");n.OnHomePageResponseWithContentStruct=(0,s.object)({content:r.ComponentOrElementStruct}),n.OnHomePageResponseWithIdStruct=(0,s.object)({id:(0,s.string)()}),n.OnHomePageResponseStruct=(0,s.union)([n.OnHomePageResponseWithContentStruct,n.OnHomePageResponseWithIdStruct])}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers/home-page.cjs"}],[2894,{"./asset-historical-price.cjs":2889,"./assets-conversion.cjs":2890,"./assets-market-data.cjs":2891,"./exports.cjs":2892,"./home-page.cjs":2893,"./name-lookup.cjs":2895,"./settings-page.cjs":2896,"./signature.cjs":2897,"./transaction.cjs":2898,"./types.cjs":2899},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./asset-historical-price.cjs"),n),s(e("./assets-conversion.cjs"),n),s(e("./assets-market-data.cjs"),n),s(e("./exports.cjs"),n),s(e("./home-page.cjs"),n),s(e("./name-lookup.cjs"),n),s(e("./settings-page.cjs"),n),s(e("./signature.cjs"),n),s(e("./transaction.cjs"),n),s(e("./types.cjs"),n)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers/index.cjs"}],[2895,{"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnNameLookupResponseStruct=n.DomainResolutionResponseStruct=n.AddressResolutionResponseStruct=n.DomainResolutionStruct=n.AddressResolutionStruct=void 0;const r=e("@metamask/superstruct");n.AddressResolutionStruct=(0,r.object)({protocol:(0,r.string)(),resolvedDomain:(0,r.string)()}),n.DomainResolutionStruct=(0,r.object)({protocol:(0,r.string)(),resolvedAddress:(0,r.string)(),domainName:(0,r.string)()}),n.AddressResolutionResponseStruct=(0,r.object)({resolvedDomains:(0,r.size)((0,r.array)(n.AddressResolutionStruct),1,Infinity)}),n.DomainResolutionResponseStruct=(0,r.object)({resolvedAddresses:(0,r.size)((0,r.array)(n.DomainResolutionStruct),1,Infinity)}),n.OnNameLookupResponseStruct=(0,r.nullable)((0,r.union)([n.AddressResolutionResponseStruct,n.DomainResolutionResponseStruct]))}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers/name-lookup.cjs"}],[2896,{"./home-page.cjs":2893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnSettingsPageResponseStruct=void 0;const r=e("./home-page.cjs");n.OnSettingsPageResponseStruct=r.OnHomePageResponseStruct}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers/settings-page.cjs"}],[2897,{"./transaction.cjs":2898},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnSignatureResponseStruct=void 0;const r=e("./transaction.cjs");n.OnSignatureResponseStruct=r.OnTransactionResponseStruct}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers/signature.cjs"}],[2898,{"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OnTransactionResponseStruct=n.OnTransactionResponseWithContentStruct=n.OnTransactionResponseWithIdStruct=n.OnTransactionSeverityResponseStruct=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct");n.OnTransactionSeverityResponseStruct=(0,s.object)({severity:(0,s.optional)((0,s.literal)(r.SeverityLevel.Critical))}),n.OnTransactionResponseWithIdStruct=(0,s.assign)(n.OnTransactionSeverityResponseStruct,(0,s.object)({id:(0,s.string)()})),n.OnTransactionResponseWithContentStruct=(0,s.assign)(n.OnTransactionSeverityResponseStruct,(0,s.object)({content:r.ComponentOrElementStruct})),n.OnTransactionResponseStruct=(0,s.nullable)((0,s.union)([n.OnTransactionResponseWithContentStruct,n.OnTransactionResponseWithIdStruct]))}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers/transaction.cjs"}],[2899,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.HandlerType=void 0,function(e){e.OnRpcRequest="onRpcRequest",e.OnSignature="onSignature",e.OnTransaction="onTransaction",e.OnCronjob="onCronjob",e.OnInstall="onInstall",e.OnUpdate="onUpdate",e.OnStart="onStart",e.OnActive="onActive",e.OnInactive="onInactive",e.OnNameLookup="onNameLookup",e.OnKeyringRequest="onKeyringRequest",e.OnHomePage="onHomePage",e.OnSettingsPage="onSettingsPage",e.OnUserInput="onUserInput",e.OnAssetsLookup="onAssetsLookup",e.OnAssetsConversion="onAssetsConversion",e.OnAssetHistoricalPrice="onAssetHistoricalPrice",e.OnAssetsMarketData="onAssetsMarketData",e.OnProtocolRequest="onProtocolRequest",e.OnClientRequest="onClientRequest",e.OnWebSocketEvent="onWebSocketEvent"}(r||(n.HandlerType=r={}))}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/handlers/types.cjs"}],[2900,{"./svg.cjs":2914,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSvgDimensions=n.assertIsSnapIcon=n.SVG_MAX_BYTE_SIZE_TEXT=n.SVG_MAX_BYTE_SIZE=void 0;const r=e("@metamask/utils"),s=e("./svg.cjs");n.SVG_MAX_BYTE_SIZE=1e5,n.SVG_MAX_BYTE_SIZE_TEXT=`${Math.floor(n.SVG_MAX_BYTE_SIZE/1e3)}kb`,n.assertIsSnapIcon=function(e){(0,r.assert)(e.path.endsWith(".svg"),'Expected snap icon to end in ".svg".');const t="string"==typeof e.value?(0,r.stringToBytes)(e.value).byteLength:e.value.byteLength;(0,r.assert)(t<=n.SVG_MAX_BYTE_SIZE,`The specified SVG icon exceeds the maximum size of ${n.SVG_MAX_BYTE_SIZE_TEXT}.`),(0,r.assert)((0,s.isSvg)(e.toString()),"Snap icon must be a valid SVG.")},n.getSvgDimensions=function(e){try{const t=(0,s.parseSvg)(e),n=t["@_height"],i=t["@_width"];if(n&&i)return{height:n,width:i};const a=t["@_viewBox"];if(a){const[e,t,n,s]=a.split(" ");if(n&&s){const e=parseInt(n,10),t=parseInt(s,10);return(0,r.assert)(Number.isInteger(e)&&e>0),(0,r.assert)(Number.isInteger(t)&&t>0),{width:e,height:t}}}}catch{throw new Error("Snap icon must be a valid SVG.")}return null}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/icon.cjs"}],[2901,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createWindow=void 0,n.createWindow=async function({uri:e,id:t,sandbox:n=!0,testId:r="snaps-iframe"}){return await new Promise((s,i)=>{const a=document.createElement("iframe");a.setAttribute("id",t),a.setAttribute("data-testid",r),n&&a.setAttribute("sandbox","allow-scripts"),a.setAttribute("src",e),document.body.appendChild(a),a.addEventListener("load",()=>{a.contentWindow?s(a.contentWindow):i(new Error(`iframe.contentWindow not present on load for job "${t}".`))})})}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/iframe.cjs"}],[2902,{"./account.cjs":2874,"./array.cjs":2875,"./auxiliary-files.cjs":2876,"./base64.cjs":2877,"./bytes.cjs":2878,"./caveats.cjs":2879,"./checksum.cjs":2880,"./constants.cjs":2881,"./cronjob.cjs":2882,"./currency.cjs":2883,"./deep-clone.cjs":2884,"./default-endowments.cjs":2885,"./derivation-paths.cjs":2886,"./entropy.cjs":2887,"./errors.cjs":2888,"./handlers/index.cjs":2894,"./iframe.cjs":2901,"./json-rpc.cjs":2903,"./json.cjs":2904,"./localization.cjs":2905,"./logging.cjs":2906,"./manifest/index.cjs":2907,"./path.cjs":2909,"./platform-version.cjs":2910,"./snaps.cjs":2911,"./strings.cjs":2912,"./structs.cjs":2913,"./time.cjs":2915,"./types.cjs":2916,"./ui.cjs":2917,"./url.cjs":2918,"./validation.cjs":2919,"./versions.cjs":2920,"./virtual-file/index.cjs":2922},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./account.cjs"),n),s(e("./array.cjs"),n),s(e("./auxiliary-files.cjs"),n),s(e("./base64.cjs"),n),s(e("./bytes.cjs"),n),s(e("./caveats.cjs"),n),s(e("./checksum.cjs"),n),s(e("./constants.cjs"),n),s(e("./cronjob.cjs"),n),s(e("./currency.cjs"),n),s(e("./deep-clone.cjs"),n),s(e("./default-endowments.cjs"),n),s(e("./derivation-paths.cjs"),n),s(e("./entropy.cjs"),n),s(e("./errors.cjs"),n),s(e("./handlers/index.cjs"),n),s(e("./iframe.cjs"),n),s(e("./json.cjs"),n),s(e("./json-rpc.cjs"),n),s(e("./localization.cjs"),n),s(e("./logging.cjs"),n),s(e("./manifest/index.cjs"),n),s(e("./path.cjs"),n),s(e("./platform-version.cjs"),n),s(e("./snaps.cjs"),n),s(e("./strings.cjs"),n),s(e("./structs.cjs"),n),s(e("./time.cjs"),n),s(e("./types.cjs"),n),s(e("./ui.cjs"),n),s(e("./url.cjs"),n),s(e("./validation.cjs"),n),s(e("./versions.cjs"),n),s(e("./virtual-file/index.cjs"),n)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/index.cjs"}],[2903,{"@metamask/permission-controller":2401,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsJsonRpcSuccess=n.isOriginAllowed=n.assertIsKeyringOrigins=n.KeyringOriginsStruct=n.assertIsRpcOrigins=n.RpcOriginsStruct=void 0;const r=e("@metamask/permission-controller"),s=e("@metamask/superstruct"),i=e("@metamask/utils"),a=(0,s.array)((0,s.refine)((0,s.string)(),"Allowed origin",e=>!(e.split("*").length-1>2)||'No more than two wildcards ("*") are allowed in an origin specifier.'));function o(e,t){if("*"===e||e===t)return!0;const n=function(e){const t=e.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*");return RegExp(`^${t}$`,"u")}(e);return n.test(t)}n.RpcOriginsStruct=(0,s.refine)((0,s.object)({dapps:(0,s.optional)((0,s.boolean)()),snaps:(0,s.optional)((0,s.boolean)()),allowedOrigins:(0,s.optional)(a)}),"RPC origins",e=>!!Boolean(!0===e.snaps||!0===e.dapps||e.allowedOrigins&&e.allowedOrigins.length>0)||"Must specify at least one JSON-RPC origin."),n.assertIsRpcOrigins=function(e,t){(0,i.assertStruct)(e,n.RpcOriginsStruct,"Invalid JSON-RPC origins",t)},n.KeyringOriginsStruct=(0,s.object)({allowedOrigins:(0,s.optional)(a)}),n.assertIsKeyringOrigins=function(e,t){(0,i.assertStruct)(e,n.KeyringOriginsStruct,"Invalid keyring origins",t)},n.isOriginAllowed=function(e,t,n){var s;return"metamask"===n||(!(null===(s=e.allowedOrigins)||void 0===s||!s.some(e=>o(e,n)))||(!(t!==r.SubjectType.Website||!e.dapps)||Boolean(t===r.SubjectType.Snap&&e.snaps)))},n.assertIsJsonRpcSuccess=function(e){if(!(0,i.isJsonRpcSuccess)(e)){if((0,i.isJsonRpcFailure)(e))throw new Error(`JSON-RPC request failed: ${e.error.message}`);throw new Error("Invalid JSON-RPC response.")}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/json-rpc.cjs"}],[2904,{"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonSizeUnsafe=n.parseJson=void 0;const r=e("@metamask/utils");n.parseJson=function(e){return(0,r.getSafeJson)(JSON.parse(e))},n.getJsonSizeUnsafe=function(e,t=!1){const n=JSON.stringify(e);return t?(new TextEncoder).encode(n).byteLength:n.length}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/json.cjs"}],[2905,{"./json.cjs":2904,"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateSnapManifestLocalizations=n.getLocalizedSnapManifest=n.translate=n.TRANSLATION_REGEX=n.getLocalizationFile=n.getValidatedLocalizationFiles=n.LocalizationFileStruct=n.LOCALIZABLE_FIELDS=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct"),i=e("./json.cjs");function a(e,t){const n=t.find(t=>t.locale===e);return n||t.find(e=>"en"===e.locale)}function o(e,t){const r=e.matchAll(n.TRANSLATION_REGEX);return Array.from(r).reduce((n,[r,s])=>{if(!t)throw new Error(`Failed to translate "${e}": No localization file found.`);const i=t.messages[s.trim()];if(!i)throw new Error(`Failed to translate "${e}": No translation found for "${s.trim()}" in "${t.locale}" file.`);return n.replace(r,i.message)},e)}function c(e,t,r){const s=a(t,r);return n.LOCALIZABLE_FIELDS.reduce((e,t)=>{const n=o(e[t],s);return{...e,[t]:n}},e)}n.LOCALIZABLE_FIELDS=["description","proposedName"],n.LocalizationFileStruct=(0,s.object)({locale:(0,s.string)(),messages:(0,s.record)((0,s.string)(),(0,s.object)({message:(0,s.string)(),description:(0,s.optional)((0,s.string)())}))}),n.getValidatedLocalizationFiles=function(e){for(const t of e)try{t.result=(0,s.create)((0,i.parseJson)(t.toString()),n.LocalizationFileStruct)}catch(e){if(e instanceof s.StructError)throw new Error(`Failed to validate localization file "${t.path}": ${e.message}.`);if(e instanceof SyntaxError)throw new Error(`Failed to parse localization file "${t.path}" as JSON.`);throw e}return e},n.getLocalizationFile=a,n.TRANSLATION_REGEX=/\{\{\s?([a-zA-Z0-9-_\s]+)\s?\}\}/gu,n.translate=o,n.getLocalizedSnapManifest=c,n.validateSnapManifestLocalizations=function(e,t){try{t.filter(e=>"en"!==e.locale).forEach(n=>{c(e,n.locale,t)}),c(e,"en",t)}catch(e){throw new Error(`Failed to localize Snap manifest: ${(0,r.getErrorMessage)(e)}`)}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/localization.cjs"}],[2906,{"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.logWarning=n.logError=n.logInfo=n.snapsLogger=void 0;const r=e("@metamask/utils");n.snapsLogger=(0,r.createProjectLogger)("snaps"),n.logInfo=function(e,...t){console.log(e,...t)},n.logError=function(e,...t){console.error(e,...t)},n.logWarning=function(e,...t){console.warn(e,...t)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/logging.cjs"}],[2907,{"./validation.cjs":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./validation.cjs"),n)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/manifest/index.cjs"}],[2908,{"../array.cjs":2875,"../cronjob.cjs":2882,"../entropy.cjs":2887,"../json-rpc.cjs":2903,"../snaps.cjs":2911,"../structs.cjs":2913,"../types.cjs":2916,"@metamask/key-tree":2137,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapManifest=n.assertIsSnapManifest=n.isSnapManifest=n.SnapManifestStruct=n.InitialConnectionsStruct=n.SnapAuxilaryFilesStruct=n.SnapAuxiliaryFilesStruct=n.PermissionsStruct=n.EmptyObjectStruct=n.HandlerCaveatsStruct=n.ProtocolScopesStruct=n.MaxRequestTimeStruct=n.MAXIMUM_REQUEST_TIMEOUT=n.MINIMUM_REQUEST_TIMEOUT=n.LookupMatchersStruct=n.ChainIdsStruct=n.SnapIdsStruct=n.SemVerRangeStruct=n.SnapGetBip32EntropyPermissionsStruct=n.Bip32EntropyStruct=n.CurveStruct=n.bip32entropy=n.Bip32PathStruct=n.FORBIDDEN_COIN_TYPES=void 0;const r=e("@metamask/key-tree"),s=e("@metamask/superstruct"),i=e("@metamask/utils"),a=e("../array.cjs"),o=e("../cronjob.cjs"),c=e("../entropy.cjs"),u=e("../json-rpc.cjs"),l=e("../snaps.cjs"),d=e("../structs.cjs"),p=e("../types.cjs"),m=[c.SIP_6_MAGIC_VALUE,c.STATE_ENCRYPTION_MAGIC_VALUE];n.FORBIDDEN_COIN_TYPES=[60];const f=n.FORBIDDEN_COIN_TYPES.map(e=>["m","44'",`${e}'`]);n.Bip32PathStruct=(0,s.refine)((0,s.array)((0,s.string)()),"BIP-32 path",e=>0===e.length?"Path must be a non-empty BIP-32 derivation path array":"m"!==e[0]?'Path must start with "m".':e.length<3?"Paths must have a length of at least three.":e.slice(1).some(e=>!(0,r.isValidBIP32PathSegment)(e))?"Path must be a valid BIP-32 derivation path array.":m.includes(e[1])?`The purpose "${e[1]}" is not allowed for entropy derivation.`:!f.some(t=>(0,a.isEqual)(e.slice(0,t.length),t))||`The path "${e.join("/")}" is not allowed for entropy derivation.`);n.bip32entropy=e=>(0,s.refine)(e,"BIP-32 entropy",e=>"ed25519"!==e.curve||!e.path.slice(1).some(e=>!e.endsWith("'"))||"Ed25519 does not support unhardened paths."),n.CurveStruct=(0,s.enums)(["ed25519","secp256k1","ed25519Bip32"]),n.Bip32EntropyStruct=(0,n.bip32entropy)((0,s.type)({path:n.Bip32PathStruct,curve:n.CurveStruct})),n.SnapGetBip32EntropyPermissionsStruct=(0,s.size)((0,s.array)(n.Bip32EntropyStruct),1,Infinity),n.SemVerRangeStruct=(0,s.refine)((0,s.string)(),"SemVer range",e=>!!(0,i.isValidSemVerRange)(e)||"Expected a valid SemVer range."),n.SnapIdsStruct=(0,s.refine)((0,s.record)(l.SnapIdStruct,(0,s.object)({version:(0,s.optional)(n.SemVerRangeStruct)})),"SnapIds",e=>0!==Object.keys(e).length),n.ChainIdsStruct=(0,s.size)((0,s.array)(i.CaipChainIdStruct),1,Infinity),n.LookupMatchersStruct=(0,s.union)([(0,s.object)({tlds:(0,s.size)((0,s.array)((0,s.string)()),1,Infinity)}),(0,s.object)({schemes:(0,s.size)((0,s.array)((0,s.string)()),1,Infinity)}),(0,s.object)({tlds:(0,s.size)((0,s.array)((0,s.string)()),1,Infinity),schemes:(0,s.size)((0,s.array)((0,s.string)()),1,Infinity)})]),n.MINIMUM_REQUEST_TIMEOUT=(0,i.inMilliseconds)(5,i.Duration.Second),n.MAXIMUM_REQUEST_TIMEOUT=(0,i.inMilliseconds)(3,i.Duration.Minute),n.MaxRequestTimeStruct=(0,s.size)((0,s.integer)(),n.MINIMUM_REQUEST_TIMEOUT,n.MAXIMUM_REQUEST_TIMEOUT),n.ProtocolScopesStruct=(0,s.record)(i.CaipChainIdStruct,(0,s.object)({methods:(0,s.array)((0,s.string)())})),n.HandlerCaveatsStruct=(0,s.object)({maxRequestTime:(0,s.optional)(n.MaxRequestTimeStruct)}),n.EmptyObjectStruct=(0,s.object)({}),n.PermissionsStruct=(0,s.type)({"endowment:assets":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({scopes:n.ChainIdsStruct}))),"endowment:cronjob":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({jobs:(0,s.optional)(o.CronjobSpecificationArrayStruct)}))),"endowment:ethereum-provider":(0,s.optional)(n.EmptyObjectStruct),"endowment:keyring":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,u.KeyringOriginsStruct)),"endowment:protocol":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({scopes:n.ProtocolScopesStruct}))),"endowment:lifecycle-hooks":(0,s.optional)(n.HandlerCaveatsStruct),"endowment:name-lookup":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({chains:(0,s.optional)(n.ChainIdsStruct),matchers:(0,s.optional)(n.LookupMatchersStruct)}))),"endowment:network-access":(0,s.optional)(n.EmptyObjectStruct),"endowment:page-home":(0,s.optional)(n.HandlerCaveatsStruct),"endowment:rpc":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,u.RpcOriginsStruct)),"endowment:signature-insight":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({allowSignatureOrigin:(0,s.optional)((0,s.boolean)())}))),"endowment:transaction-insight":(0,s.optional)((0,d.mergeStructs)(n.HandlerCaveatsStruct,(0,s.object)({allowTransactionOrigin:(0,s.optional)((0,s.boolean)())}))),"endowment:webassembly":(0,s.optional)(n.EmptyObjectStruct),snap_dialog:(0,s.optional)(n.EmptyObjectStruct),snap_manageState:(0,s.optional)(n.EmptyObjectStruct),snap_manageAccounts:(0,s.optional)(n.EmptyObjectStruct),snap_notify:(0,s.optional)(n.EmptyObjectStruct),snap_getBip32Entropy:(0,s.optional)(n.SnapGetBip32EntropyPermissionsStruct),snap_getBip32PublicKey:(0,s.optional)(n.SnapGetBip32EntropyPermissionsStruct),snap_getBip44Entropy:(0,s.optional)((0,s.size)((0,s.array)((0,s.object)({coinType:(0,s.size)((0,s.integer)(),0,2**32-1)})),1,Infinity)),snap_getEntropy:(0,s.optional)(n.EmptyObjectStruct),snap_getLocale:(0,s.optional)(n.EmptyObjectStruct),wallet_snap:(0,s.optional)(n.SnapIdsStruct)}),n.SnapAuxiliaryFilesStruct=(0,s.array)((0,s.string)()),n.SnapAuxilaryFilesStruct=n.SnapAuxiliaryFilesStruct,n.InitialConnectionsStruct=(0,s.record)((0,s.intersection)([(0,s.string)(),(0,p.uri)()]),(0,s.object)({})),n.SnapManifestStruct=(0,s.object)({version:i.VersionStruct,description:(0,s.size)((0,s.string)(),1,280),proposedName:(0,s.size)((0,s.string)(),1,214),repository:(0,s.optional)((0,s.type)({type:(0,s.size)((0,s.string)(),1,Infinity),url:(0,s.size)((0,s.string)(),1,Infinity)})),source:(0,s.object)({shasum:i.ChecksumStruct,location:(0,s.object)({npm:(0,s.object)({filePath:(0,s.size)((0,s.string)(),1,Infinity),iconPath:(0,s.optional)((0,s.size)((0,s.string)(),1,Infinity)),packageName:p.NameStruct,registry:(0,s.union)([(0,s.literal)("https://registry.npmjs.org"),(0,s.literal)("https://registry.npmjs.org/")])})}),files:(0,s.optional)(n.SnapAuxiliaryFilesStruct),locales:(0,s.optional)(n.SnapAuxiliaryFilesStruct)}),initialConnections:(0,s.optional)(n.InitialConnectionsStruct),initialPermissions:n.PermissionsStruct,manifestVersion:(0,s.literal)("0.1"),platformVersion:(0,s.optional)(i.VersionStruct),$schema:(0,s.optional)((0,s.string)())}),n.isSnapManifest=function(e){return(0,s.is)(e,n.SnapManifestStruct)},n.assertIsSnapManifest=function(e){(0,i.assertStruct)(e,n.SnapManifestStruct,`"${p.NpmSnapFileNames.Manifest}" is invalid`)},n.createSnapManifest=function(e){return(0,s.create)(e,n.SnapManifestStruct)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/manifest/validation.cjs"}],[2909,{"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeRelative=void 0;const r=e("@metamask/utils");n.normalizeRelative=function(e){return(0,r.assert)(!e.startsWith("/")),(0,r.assert)(-1===e.search(/:|\/\//u),`Path "${e}" potentially an URI instead of local relative`),e.startsWith("./")?e.slice(2):e}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/path.cjs"}],[2910,{"@metamask/snaps-sdk/package.json":2873},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getPlatformVersion=void 0;const s=r(e("@metamask/snaps-sdk/package.json"));n.getPlatformVersion=function(){return s.default.version}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/platform-version.cjs"}],[2911,{"./caveats.cjs":2879,"./checksum.cjs":2880,"./types.cjs":2916,"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931,"@metamask/utils":3070,"@scure/base":3149,"fast-json-stable-stringify":4352,"validate-npm-package-name":5725},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.verifyRequestedSnapPermissions=n.isSnapPermitted=n.assertIsValidSnapId=n.isSnapId=n.stripSnapPrefix=n.getSnapPrefix=n.SnapIdStruct=n.SnapIdPrefixStruct=n.HttpSnapIdStruct=n.NpmSnapIdStruct=n.LocalSnapIdStruct=n.BaseSnapIdStruct=n.LOCALHOST_HOSTNAMES=n.validateSnapShasum=n.getSnapChecksum=n.SnapStatusEvents=n.SnapStatus=n.PROPOSED_NAME_REGEX=void 0;const s=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct"),a=e("@metamask/utils"),o=e("@scure/base"),c=r(e("fast-json-stable-stringify")),u=r(e("validate-npm-package-name")),l=e("./caveats.cjs"),d=e("./checksum.cjs"),p=e("./types.cjs");var m,f;function h(e){const t=e.clone();return delete t.result.source.shasum,t.value=(0,c.default)(t.result),t}async function g(e){const{manifest:t,sourceCode:n,svgIcon:r,auxiliaryFiles:s,localizationFiles:i}=e,a=[h(t),n,r,...s,...i].filter(e=>e!==undefined);return o.base64.encode(await(0,d.checksumFiles)(a))}n.PROPOSED_NAME_REGEX=/^(?:[A-Za-z0-9-_]+( [A-Za-z0-9-_]+)*)|(?:(?:@[A-Za-z0-9-*~][A-Za-z0-9-*._~]*\/)?[A-Za-z0-9-~][A-Za-z0-9-._~]*)$/u,function(e){e.Installing="installing",e.Updating="updating",e.Running="running",e.Stopped="stopped",e.Crashed="crashed"}(m||(n.SnapStatus=m={})),function(e){e.Start="START",e.Stop="STOP",e.Crash="CRASH",e.Update="UPDATE"}(f||(n.SnapStatusEvents=f={})),n.getSnapChecksum=g,n.validateSnapShasum=async function(e,t="Invalid Snap manifest: manifest shasum does not match computed shasum."){if(e.manifest.result.source.shasum!==await g(e))throw new Error(t)},n.LOCALHOST_HOSTNAMES=["localhost","127.0.0.1","[::1]"],n.BaseSnapIdStruct=(0,a.definePattern)("Base Snap Id",/^[\x21-\x7E]*$/u);const y=(0,p.uri)({protocol:(0,i.enums)(["http:","https:"]),hostname:(0,i.enums)(n.LOCALHOST_HOSTNAMES),hash:(0,i.empty)((0,i.string)()),search:(0,i.empty)((0,i.string)())});function S(e){const t=Object.values(p.SnapIdPrefixes).find(t=>e.startsWith(t));if(t!==undefined)return t;throw new Error(`Invalid or no prefix found for "${e}"`)}n.LocalSnapIdStruct=(0,i.refine)(n.BaseSnapIdStruct,"local Snap Id",e=>{if(!e.startsWith(p.SnapIdPrefixes.local))return`Expected local snap ID, got "${e}".`;const[t]=(0,i.validate)(e.slice(p.SnapIdPrefixes.local.length),y);return t??!0}),n.NpmSnapIdStruct=(0,i.intersection)([n.BaseSnapIdStruct,(0,p.uri)({protocol:(0,i.literal)(p.SnapIdPrefixes.npm),pathname:(0,i.refine)((0,i.string)(),"package name",function*(e){const t=e.startsWith("/")?e.slice(1):e,{errors:n,validForNewPackages:r,warnings:s}=(0,u.default)(t);return r||(n===undefined?((0,a.assert)(s!==undefined),yield*s):yield*n),!0}),search:(0,i.empty)((0,i.string)()),hash:(0,i.empty)((0,i.string)())})]),n.HttpSnapIdStruct=(0,i.intersection)([n.BaseSnapIdStruct,(0,p.uri)({protocol:(0,i.enums)(["http:","https:"]),search:(0,i.empty)((0,i.string)()),hash:(0,i.empty)((0,i.string)())})]),n.SnapIdPrefixStruct=(0,i.refine)((0,i.string)(),"Snap ID prefix",e=>{if(Object.values(p.SnapIdPrefixes).some(t=>e.startsWith(t)))return!0;return`Invalid or no prefix found. Expected Snap ID to start with one of: ${Object.values(p.SnapIdPrefixes).map(e=>`"${e}"`).join(", ")}, but received: "${e}"`}),n.SnapIdStruct=(0,s.selectiveUnion)(e=>"string"==typeof e&&e.startsWith(p.SnapIdPrefixes.npm)?n.NpmSnapIdStruct:"string"==typeof e&&e.startsWith(p.SnapIdPrefixes.local)?n.LocalSnapIdStruct:n.SnapIdPrefixStruct),n.getSnapPrefix=S,n.stripSnapPrefix=function(e){return e.replace(S(e),"")},n.isSnapId=function(e){return(0,i.is)(e,n.SnapIdStruct)},n.assertIsValidSnapId=function(e){(0,a.assertStruct)(e,n.SnapIdStruct,"Invalid snap ID")},n.isSnapPermitted=function(e,t){var n,r;return Boolean(null===(n=((null==e||null===(r=e.wallet_snap)||void 0===r||null===(r=r.caveats)||void 0===r?void 0:r.find(e=>e.type===l.SnapCaveatType.SnapIds))??{}).value)||void 0===n?void 0:n[t])},n.verifyRequestedSnapPermissions=function(e){(0,a.assert)((0,a.isObject)(e),"Requested permissions must be an object.");const{wallet_snap:t}=e;(0,a.assert)((0,a.isObject)(t),"wallet_snap is missing from the requested permissions.");const{caveats:n}=t;(0,a.assert)(Array.isArray(n)&&1===n.length,"wallet_snap must have a caveat property with a single-item array value.");const[r]=n;(0,a.assert)((0,a.isObject)(r)&&r.type===l.SnapCaveatType.SnapIds&&(0,a.isObject)(r.value),`The requested permissions do not have a valid ${l.SnapCaveatType.SnapIds} caveat.`)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/snaps.cjs"}],[2912,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.indent=void 0,n.indent=function(e,t=2){return e.replace(/^/gmu," ".repeat(t))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/strings.cjs"}],[2913,{"./strings.cjs":2912,"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931,"@metamask/utils":3070,chalk:4060},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeStructs=n.createUnion=n.validateUnion=n.getStructErrorMessage=n.getStructFailureMessage=n.getStructErrorPrefix=n.getUnionStructNames=n.getStructFromPath=n.createFromStruct=n.getError=n.arrayToGenerator=n.SnapsStructError=n.named=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct"),i=e("@metamask/utils"),a=e("chalk"),o=e("./strings.cjs");function c(e,t,n){return n?t(e):e}n.named=function(e,t){return new s.Struct({...t,type:e})};class u extends s.StructError{constructor(e,t,n,r,s,i=!0){super(r,s),this.name="SnapsStructError",this.message=`${t}.\n\n${g(e,[...s()],i)}${n?`\n\n${n}`:""}`}}function*l(e){for(const t of e)yield t}function d({struct:e,prefix:t,suffix:n="",error:r,colorize:s}){return new u(e,t,n,r,()=>l(r.failures()),s)}function p(e,t){return t.reduce((t,n)=>(0,i.isObject)(e.schema)&&e.schema[n]?e.schema[n]:t,e)}function m(e,t=!0){return Array.isArray(e.schema)?e.schema.map(({type:e})=>c(e,a.green,t)):null}function f(e,t=!0){return"never"===e.type||0===e.path.length?"":`At path: ${c(e.path.join("."),a.bold,t)}  `}function h(e,t,n=!0){const r=c(JSON.stringify(t.value),a.red,n),s=f(t,n);if("union"===t.type){const i=m(p(e,t.path),n);return i?`${s}Expected the value to be one of: ${i.join(", ")}, but received: ${r}.`:`${s}${t.message}.`}if("literal"===t.type){return`${s}${t.message.replace(/the literal `(.+)`,/u,`the value to be \`${c("$1",a.green,n)}\`,`).replace(/, but received: (.+)/u,`, but received: ${c("$1",a.red,n)}`)}.`}if("never"===t.type)return`Unknown key: ${c(t.path.join("."),a.bold,n)}, received: ${r}.`;if("size"===t.refinement){return`${s}${t.message.replace(/length between `(\d+)` and `(\d+)`/u,`length between ${c("$1",a.green,n)} and ${c("$2",a.green,n)},`).replace(/length of `(\d+)`/u,`length of ${c("$1",a.red,n)}`).replace(/a array/u,"an array")}.`}return t.refinement!==undefined?`${s}${t.message}.`:`${s}Expected a value of type ${c(t.type,a.green,n)}, but received: ${r}.`}function g(e,t,n=!0){return t.map(t=>(0,o.indent)(` ${h(e,t,n)}`)).join("\n")}function y(e,t,n,a=!1){(0,i.assert)(t.schema,"Expected a struct with a schema. Make sure to use `union` from `@metamask/snaps-sdk`."),(0,i.assert)(t.schema.length>0,"Expected a non-empty array of structs.");const o=t.schema.map(e=>e.schema[n]),c=(0,s.type)({[n]:(0,r.union)(o)}),[u]=(0,s.validate)(e,c,{coerce:a});if(u)throw new Error(h(c,u.failures()[0],!1));const l=e,d=t.schema.filter(e=>(0,s.is)(l[n],e.schema[n]));(0,i.assert)(d.length>0,"Expected a struct to match the value.");const p=d.map(e=>(0,s.validate)(l,e,{coerce:a})),m=p.find(([e])=>!e);if(m)return m[1];(0,i.assert)(p[0][0],"Expected at least one error.");const f=p.reduce((e,[t])=>((0,i.assert)(t,"Expected an error."),t.failures().length<e.failures().length?t:e),p[0][0]);throw new Error(h(t,f.failures()[0],!1))}n.SnapsStructError=u,n.arrayToGenerator=l,n.getError=d,n.createFromStruct=function(e,t,n,r=""){try{return(0,s.create)(e,t)}catch(e){if(e instanceof s.StructError)throw d({struct:t,prefix:n,suffix:r,error:e});throw e}},n.getStructFromPath=p,n.getUnionStructNames=m,n.getStructErrorPrefix=f,n.getStructFailureMessage=h,n.getStructErrorMessage=g,n.validateUnion=y,n.createUnion=function(e,t,n){return y(e,t,n,!0)},n.mergeStructs=function(...e){const t=s.assign(...e);return new s.Struct({...t,*refiner(t,n){for(const r of e)yield*r.refiner(t,n)}})}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/structs.cjs"}],[2914,{"@metamask/utils":3070,"fast-xml-parser":4354},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSvg=n.parseSvg=void 0;const r=e("@metamask/utils"),s=e("fast-xml-parser");function i(e){try{const t=e.trim();(0,r.assert)(t.length>0);const n=new s.XMLParser({ignoreAttributes:!1,parseAttributeValue:!0}).parse(t,!0);return(0,r.assert)((0,r.hasProperty)(n,"svg")),(0,r.isObject)(n.svg)?n.svg:{}}catch{throw new Error("Snap icon must be a valid SVG.")}}n.parseSvg=i,n.isSvg=function(e){try{return i(e),!0}catch{return!1}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/svg.cjs"}],[2915,{"@metamask/superstruct":2931,luxon:4805},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toCensoredISO8601String=n.ISO8601DateStruct=n.ISO8601DurationStruct=void 0;const r=e("@metamask/superstruct"),s=e("luxon");n.ISO8601DurationStruct=(0,r.refine)((0,r.string)(),"ISO 8601 duration",e=>!!s.Duration.fromISO(e).isValid||"Not a valid ISO 8601 duration");const i=/Z|([+-]\d{2}:?\d{2})$/u;n.ISO8601DateStruct=(0,r.refine)((0,r.string)(),"ISO 8601 date",e=>s.DateTime.fromISO(e).isValid?!!i.test(e)||"ISO 8601 date must have timezone information":"Not a valid ISO 8601 date"),n.toCensoredISO8601String=function(e){return s.DateTime.fromISO(e,{setZone:!0}).startOf("second").toISO({suppressMilliseconds:!0})}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/time.cjs"}],[2916,{"@metamask/snaps-sdk":2788,"@metamask/superstruct":2931,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WALLET_SNAP_PERMISSION_KEY=n.isValidUrl=n.uri=n.SNAP_STREAM_NAMES=n.SnapIdPrefixes=n.NpmSnapPackageJsonStruct=n.NameStruct=n.NpmSnapFileNames=void 0;const r=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct"),i=e("@metamask/utils");var a,o,c;!function(e){e.PackageJson="package.json",e.Manifest="snap.manifest.json"}(a||(n.NpmSnapFileNames=a={})),n.NameStruct=(0,s.size)((0,i.definePattern)("Snap Name",/^(?:@[a-z0-9-*~][a-z0-9-*._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/u),1,214),n.NpmSnapPackageJsonStruct=(0,s.type)({version:i.VersionStruct,name:n.NameStruct,main:(0,s.optional)((0,s.size)((0,s.string)(),1,Infinity)),repository:(0,s.optional)((0,s.type)({type:(0,s.size)((0,s.string)(),1,Infinity),url:(0,s.size)((0,s.string)(),1,Infinity)}))}),function(e){e.npm="npm:",e.local="local:"}(o||(n.SnapIdPrefixes=o={})),function(e){e.JSON_RPC="jsonRpc",e.COMMAND="command"}(c||(n.SNAP_STREAM_NAMES=c={}));n.uri=(e={})=>(0,s.refine)((0,s.string)(),"uri",t=>{try{const n=new URL(t),r=(0,s.type)(e);return(0,s.assert)(n,r),!0}catch(e){return e instanceof s.StructError?(0,r.getErrorMessage)(e):`Expected URL, got "${t.toString()}"`}}),n.isValidUrl=function(e,t={}){return(0,s.is)(e,(0,n.uri)(t))},n.WALLET_SNAP_PERMISSION_KEY="wallet_snap"}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/types.cjs"}],[2917,{"./url.cjs":2918,"@metamask/snaps-sdk":2788,"@metamask/snaps-sdk/jsx":2872,"@metamask/snaps-sdk/jsx-runtime":2871,"@metamask/utils":3070,marked:4806},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.serialiseJsx=n.walkJsx=n.getJsxChildren=n.hasChildren=n.getTotalTextLength=n.validateJsxElements=n.validateAssetSelector=n.validateTextLinks=n.validateLink=n.getJsxElementFromComponent=n.getTextChildren=void 0;const r=e("@metamask/snaps-sdk/jsx-runtime"),s=e("@metamask/snaps-sdk"),i=e("@metamask/snaps-sdk/jsx"),a=e("@metamask/utils"),o=e("marked"),c=e("./url.cjs"),u=["https:","mailto:","metamask:"];function l(e){switch(e){case"primary":return"primary";case"secondary":return"destructive";default:return undefined}}function d(e){return 1===e.length?e[0]:e}function p(e){return e.tokens&&e.tokens.length>0?d(e.tokens.flatMap(f)):e.href}function m(e){return d(e.flatMap(f))}function f(e){switch(e.type){case"link":return(0,r.jsx)(i.Link,{href:e.href,children:p(e)});case"text":return e.text;case"strong":return(0,r.jsx)(i.Bold,{children:m(e.tokens)});case"em":return(0,r.jsx)(i.Italic,{children:m(e.tokens)});default:return null}}function h(e){const t=(0,o.lexer)(e,{gfm:!1}),n=[];return(0,o.walkTokens)(t,e=>{if("paragraph"===e.type){n.length>0&&n.push("\n\n");const{tokens:t}=e;n.push(...t.flatMap(f))}}),n.filter(e=>null!==e)}function g(e,t,n){try{const r=new URL(e);if((0,a.assert)(u.includes(r.protocol),`Protocol must be one of: ${u.join(", ")}.`),"metamask:"===r.protocol){const t=(0,c.parseMetaMaskUrl)(e);t.snapId&&(0,a.assert)(n(t.snapId),"The Snap being navigated to is not installed.")}else if("mailto:"===r.protocol){const e=r.pathname.split(",");for(const n of e){const e=n.split("@")[1];(0,a.assert)(!e.includes(":"));const r=`https://${e}`;(0,a.assert)(!t(r),"The specified URL is not allowed.")}return}(0,a.assert)(!t(r.href),"The specified URL is not allowed.")}catch(e){throw new Error(`Invalid URL: ${"ERR_ASSERTION"===(null==e?void 0:e.code)?e.message:"Unable to parse URL."}`)}}function y(e,t){const n=t(e);(0,a.assert)(n,`Could not find account for address: ${e}`)}function S(e){const{type:t}=e;switch(t){case s.NodeType.Panel:return e.children.reduce((e,t)=>e+S(t),0);case s.NodeType.Row:return S(e.value);case s.NodeType.Text:return e.value.length;default:return 0}}function b(e){return(0,a.hasProperty)(e.props,"children")}function k(e){return Boolean(e)&&!0!==e}function v(e){if(b(e)){if(Array.isArray(e.props.children))return e.props.children.filter(k).flat(Infinity);if(e.props.children)return[e.props.children]}return[]}function j(e,t,n=0){if(Array.isArray(e)){for(const r of e){const e=j(r,t,n);if(e!==undefined)return e}return undefined}const r=t(e,n);if(r!==undefined)return r;if((0,a.hasProperty)(e,"props")&&(0,a.isPlainObject)(e.props)&&(0,a.hasProperty)(e.props,"children")){const r=v(e);for(const e of r)if((0,a.isPlainObject)(e)){const r=j(e,t,n+1);if(r!==undefined)return r}}return undefined}function w(e){return Object.entries(e).filter(([e])=>"children"!==e).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>{return` ${e}=${n=t,"string"==typeof n?`"${n}"`:`{${JSON.stringify(n)}}`}`;var n}).join("")}n.getTextChildren=h,n.getJsxElementFromComponent=function(e){return function(e){const t=S(e);(0,a.assert)(t<=5e4,"The text in a Snap UI may not be larger than 50 kB.")}(e),function e(t){switch(t.type){case s.NodeType.Address:return(0,r.jsx)(i.Address,{address:t.value});case s.NodeType.Button:return(0,r.jsx)(i.Button,{name:t.name,variant:l(t.variant),type:t.buttonType,children:t.value});case s.NodeType.Copyable:return(0,r.jsx)(i.Copyable,{value:t.value,sensitive:t.sensitive});case s.NodeType.Divider:return(0,r.jsx)(i.Divider,{});case s.NodeType.Form:return(0,r.jsx)(i.Form,{name:t.name,children:d(t.children.map(e))});case s.NodeType.Heading:return(0,r.jsx)(i.Heading,{children:t.value});case s.NodeType.Image:return(0,r.jsx)(i.Image,{src:t.value});case s.NodeType.Input:return(0,r.jsx)(i.Field,{label:t.label,error:t.error,children:(0,r.jsx)(i.Input,{name:t.name,type:t.inputType,value:t.value,placeholder:t.placeholder})});case s.NodeType.Panel:return(0,r.jsx)(i.Box,{children:d(t.children.map(e))});case s.NodeType.Row:return(0,r.jsx)(i.Row,{label:t.label,variant:t.variant,children:e(t.value)});case s.NodeType.Spinner:return(0,r.jsx)(i.Spinner,{});case s.NodeType.Text:return(0,r.jsx)(i.Text,{children:d(h(t.value))});default:return(0,a.assertExhaustive)(t)}}(e)},n.validateLink=g,n.validateTextLinks=function(e,t,n){const r=function(e){const t=(0,o.lexer)(e,{gfm:!1}),n=[];return(0,o.walkTokens)(t,e=>{"link"===e.type&&n.push(e)}),n}(e);for(const e of r)g(e.href,t,n)},n.validateAssetSelector=y,n.validateJsxElements=function(e,{isOnPhishingList:t,getSnap:n,getAccountByAddress:r}){j(e,e=>{switch(e.type){case"Link":g(e.props.href,t,n);break;case"AssetSelector":y(e.props.addresses[0],r)}})},n.getTotalTextLength=S,n.hasChildren=b,n.getJsxChildren=v,n.walkJsx=j,n.serialiseJsx=function e(t,n=0){if(Array.isArray(t))return t.map(t=>e(t,n)).join("");const r="  ".repeat(n);if("string"==typeof t)return`${r}${t}\n`;if(!t)return"";const{type:s,props:i}=t,o=n>0?"\n":"";if((0,a.hasProperty)(i,"children")){const t=e(i.children,n+1);return`${r}<${s}${w(i)}>\n${t}${r}</${s}>${o}`}return`${r}<${s}${w(i)} />${o}`}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/ui.cjs"}],[2918,{"./snaps.cjs":2911,"@metamask/utils":3070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseMetaMaskUrl=n.SNAP_PATHS=n.CLIENT_PATHS=void 0;const r=e("@metamask/utils"),s=e("./snaps.cjs");n.CLIENT_PATHS=["/"],n.SNAP_PATHS=["/home"],n.parseMetaMaskUrl=function(e){const t=new URL(e),{protocol:i}=t;if("metamask:"!==i)throw new Error(`Unable to parse URL. Expected the protocol to be "metamask:", but received "${i}".`);const[a,...o]=t.href.replace("metamask://","").split("/"),c=`/${o.join("/")}`;switch(a){case"client":return(0,r.assert)(n.CLIENT_PATHS.includes(c),`Unable to navigate to "${c}". The provided path is not allowed.`),{authority:a,path:c};case"snap":return function(e){const t="Invalid MetaMask url:",i=(0,s.stripSnapPrefix)(e.slice(1)),a=e.slice(1).startsWith("npm:")?"npm:":"local:",o=i.startsWith("@"),c=i.split("/"),u=`/${c[c.length-1]}`;let l;if("local:"===a){const[e,,...s]=c.slice(0,-1);l=`${e}//${s.join("/")}`,(0,r.assert)(n.SNAP_PATHS.includes(u),`${t} invalid snap path.`)}else l=o?`${c[0]}/${c[1]}`:c[0],(0,r.assert)(o?3===c.length&&n.SNAP_PATHS.includes(u):2===c.length&&n.SNAP_PATHS.includes(u),`${t} invalid snap path.`);const d=`${a}${l}`;return(0,s.assertIsValidSnapId)(d),{authority:"snap",snapId:d,path:u}}(c);default:throw new Error(`Expected "metamask:" URL to start with "client" or "snap", but received "${a}".`)}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/url.cjs"}],[2919,{"./icon.cjs":2900,"./localization.cjs":2905,"./manifest/validation.cjs":2908,"./snaps.cjs":2911},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateFetchedSnap=void 0;const r=e("./icon.cjs"),s=e("./localization.cjs"),i=e("./manifest/validation.cjs"),a=e("./snaps.cjs");n.validateFetchedSnap=async function(e){(0,i.assertIsSnapManifest)(e.manifest.result),await(0,a.validateSnapShasum)(e),(0,s.validateSnapManifestLocalizations)(e.manifest.result,e.localizationFiles.map(e=>e.result)),e.svgIcon&&(0,r.assertIsSnapIcon)(e.svgIcon)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/validation.cjs"}],[2920,{"@metamask/superstruct":2931,"@metamask/utils":3070,semver:5561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.resolveVersionRange=n.getTargetVersion=n.DEFAULT_REQUESTED_SNAP_VERSION=void 0;const r=e("@metamask/superstruct"),s=e("@metamask/utils"),i=e("semver");n.DEFAULT_REQUESTED_SNAP_VERSION="*",n.getTargetVersion=function(e,t){const n=(0,i.maxSatisfying)(e,t);return n||(0,i.maxSatisfying)(e,t,{includePrerelease:!0})},n.resolveVersionRange=function(e){return e===undefined||"latest"===e?[undefined,n.DEFAULT_REQUESTED_SNAP_VERSION]:(0,r.validate)(e,s.VersionRangeStruct)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/versions.cjs"}],[2921,{"../deep-clone.cjs":2884,"@metamask/utils":3070,"@scure/base":3149},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.VirtualFile=void 0;const s=e("@metamask/utils"),i=e("@scure/base"),a=e("../deep-clone.cjs");class o{constructor(e){var t,n,s,i;let a;r(this,"value",void 0),r(this,"result",void 0),r(this,"data",void 0),r(this,"path",void 0),a="string"==typeof e||e instanceof Uint8Array?{value:e}:e,this.value=(null===(t=a)||void 0===t?void 0:t.value)??"",this.result=(null===(n=a)||void 0===n?void 0:n.result)??undefined,this.data=(null===(s=a)||void 0===s?void 0:s.data)??{},this.path=(null===(i=a)||void 0===i?void 0:i.path)??"/"}get size(){return"string"==typeof this.value?this.value.length:this.value.byteLength}toString(e){if("string"==typeof this.value)return(0,s.assert)(e===undefined,"Tried to encode string."),this.value;if(this.value instanceof Uint8Array&&"hex"===e)return(0,s.bytesToHex)(this.value);if(this.value instanceof Uint8Array&&"base64"===e)return i.base64.encode(this.value);return new TextDecoder(e).decode(this.value)}clone(){const e=new o;return"string"==typeof this.value?e.value=this.value:e.value=this.value.slice(0),e.result=(0,a.deepClone)(this.result),e.data=(0,a.deepClone)(this.data),e.path=this.path,e}}n.VirtualFile=o}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/virtual-file/VirtualFile.cjs"}],[2922,{"./VirtualFile.cjs":2921},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./VirtualFile.cjs"),n)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/virtual-file/index.cjs"}],[2923,{"./constants.cjs":2925,"./types.cjs":2928,"@metamask/polling-controller":2421,"@metamask/transaction-controller":2989,"bignumber.js":2929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i,a,o,c,u,l,d,p,m,f,h,g,y,S,b=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},k=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SubscriptionController=n.getDefaultSubscriptionControllerState=void 0;const v=e("@metamask/polling-controller"),j=e("@metamask/transaction-controller"),w=e("bignumber.js"),T=e("./constants.cjs"),E=e("./types.cjs");function P(){return{subscriptions:[],trialedProducts:[]}}n.getDefaultSubscriptionControllerState=P;const _={subscriptions:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},lastSubscription:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},customerId:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},trialedProducts:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},pricing:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},lastSelectedPaymentMethod:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0}};class O extends((0,v.StaticIntervalPollingController)()){constructor({messenger:e,state:t,subscriptionService:n,pollingInterval:a=T.DEFAULT_POLLING_INTERVAL}){super({name:T.controllerName,metadata:_,state:{subscriptions:[],trialedProducts:[],...t},messenger:e}),r.add(this),s.set(this,void 0),this.setIntervalLength(a),b(this,s,n,"f"),k(this,r,"m",i).call(this)}async getPricing(){const e=await k(this,s,"f").getPricing();return this.update(t=>{t.pricing=e}),e}async getSubscriptions(){const e=this.state.subscriptions,t=this.state.trialedProducts,n=this.state.customerId,i=this.state.lastSubscription,{customerId:a,subscriptions:o,trialedProducts:c,lastSubscription:u}=await k(this,s,"f").getSubscriptions(),l=k(this,r,"m",g).call(this,e,o),d=k(this,r,"m",h).call(this,t,c),p=k(this,r,"m",y).call(this,i,u);return l&&p&&d&&n===a||(this.update(e=>{e.subscriptions=o,e.customerId=a,e.trialedProducts=c,e.lastSubscription=u}),this.triggerAccessTokenRefresh()),o}getSubscriptionByProduct(e){return this.state.subscriptions.find(t=>t.products.some(t=>t.name===e))}async getSubscriptionsEligibilities(e){return await k(this,s,"f").getSubscriptionsEligibilities(e)}async cancelSubscription(e){k(this,r,"m",d).call(this,{subscriptionId:e.subscriptionId});const t=await k(this,s,"f").cancelSubscription({subscriptionId:e.subscriptionId});this.update(n=>{n.subscriptions=n.subscriptions.map(n=>n.id===e.subscriptionId?{...n,...t}:n)}),this.triggerAccessTokenRefresh()}async unCancelSubscription(e){k(this,r,"m",d).call(this,{subscriptionId:e.subscriptionId});const t=await k(this,s,"f").unCancelSubscription({subscriptionId:e.subscriptionId});this.update(n=>{n.subscriptions=n.subscriptions.map(n=>n.id===e.subscriptionId?{...n,...t}:n)}),this.triggerAccessTokenRefresh()}async startShieldSubscriptionWithCard(e){k(this,r,"m",l).call(this,{products:e.products});return await k(this,s,"f").startSubscriptionWithCard(e)}async startSubscriptionWithCrypto(e){k(this,r,"m",l).call(this,{products:e.products});return await k(this,s,"f").startSubscriptionWithCrypto(e)}async submitShieldSubscriptionCryptoApproval(e,t,n){if(e.type!==j.TransactionType.shieldSubscriptionApprove)return;const{chainId:s,rawTx:i}=e;if(!s||!i)throw new Error("Chain ID or raw transaction not found");const{pricing:a,trialedProducts:o,lastSelectedPaymentMethod:l}=this.state;if(!a)throw new Error("Subscription pricing not found");if(!l)throw new Error("Last selected payment method not found");const d=l[E.PRODUCT_TYPES.SHIELD];k(this,r,"m",p).call(this,d);const m=k(this,r,"m",c).call(this,E.PRODUCT_TYPES.SHIELD,d.plan),f=o?.includes(E.PRODUCT_TYPES.SHIELD);await this.getSubscriptions();const h=this.state.subscriptions.find(e=>e.products.some(e=>e.name===E.PRODUCT_TYPES.SHIELD));k(this,r,"m",u).call(this,{product:E.PRODUCT_TYPES.SHIELD});if(Boolean(h))await this.updatePaymentMethod({paymentType:E.PAYMENT_TYPES.byCrypto,subscriptionId:h.id,chainId:s,payerAddress:e.txParams.from,tokenSymbol:d.paymentTokenSymbol,rawTransaction:i,recurringInterval:m.interval,billingCycles:m.minBillingCycles});else{const r={products:[E.PRODUCT_TYPES.SHIELD],isTrialRequested:!f,recurringInterval:m.interval,billingCycles:m.minBillingCycles,chainId:s,payerAddress:e.txParams.from,tokenSymbol:d.paymentTokenSymbol,rawTransaction:i,isSponsored:t,useTestClock:d.useTestClock,rewardAccountId:n};await this.startSubscriptionWithCrypto(r)}await this.getSubscriptions()}getCryptoApproveTransactionParams(e){const{pricing:t}=this.state;if(!t)throw new Error("Subscription pricing not found");const n=t.products.find(t=>t.name===e.productType);if(!n)throw new Error("Product price not found");const r=n.prices.find(t=>t.interval===e.interval);if(!r)throw new Error("Price not found");const s=t.paymentMethods.find(e=>e.type===E.PAYMENT_TYPES.byCrypto);if(!s)throw new Error("Chains payment info not found");const i=s.chains?.find(t=>t.chainId===e.chainId);if(!i)throw new Error("Invalid chain id");const a=i.tokens.find(t=>t.address===e.paymentTokenAddress);if(!a)throw new Error("Invalid token address");return{approveAmount:this.getTokenApproveAmount(r,a),paymentAddress:i.paymentAddress,paymentTokenAddress:e.paymentTokenAddress,chainId:e.chainId}}async updatePaymentMethod(e){if(e.paymentType===E.PAYMENT_TYPES.byCard){const{paymentType:t,...n}=e;return await k(this,s,"f").updatePaymentMethodCard(n)}if(e.paymentType===E.PAYMENT_TYPES.byCrypto){const{paymentType:t,...n}=e;return await k(this,s,"f").updatePaymentMethodCrypto(n),await this.getSubscriptions()}throw new Error("Invalid payment type")}async getBillingPortalUrl(){return await k(this,s,"f").getBillingPortalUrl()}cacheLastSelectedPaymentMethod(e,t){if(!(t.type!==E.PAYMENT_TYPES.byCrypto||t.paymentTokenAddress&&t.paymentTokenSymbol))throw new Error(T.SubscriptionControllerErrorMessage.PaymentTokenAddressAndSymbolRequiredForCrypto);this.update(n=>{n.lastSelectedPaymentMethod={...n.lastSelectedPaymentMethod,[e]:t}})}async submitSponsorshipIntents(e){if(0===e.products.length)throw new Error(T.SubscriptionControllerErrorMessage.SubscriptionProductsEmpty);k(this,r,"m",l).call(this,{products:e.products});const t=this.state.lastSelectedPaymentMethod?.[e.products[0]];k(this,r,"m",p).call(this,t);if(!k(this,r,"m",m).call(this,e.chainId,e.products))return!1;const{paymentTokenSymbol:n,plan:i}=t,a=k(this,r,"m",c).call(this,e.products[0],i).minBillingCycles;return await k(this,s,"f").submitSponsorshipIntents({...e,paymentTokenSymbol:n,billingCycles:a,recurringInterval:i}),!0}async submitUserEvent(e){await k(this,s,"f").submitUserEvent(e)}async assignUserToCohort(e){await k(this,s,"f").assignUserToCohort(e)}async linkRewards(e){k(this,r,"m",d).call(this,{subscriptionId:e.subscriptionId});if(!(await k(this,s,"f").linkRewards({rewardAccountId:e.rewardAccountId})).success)throw new Error(T.SubscriptionControllerErrorMessage.LinkRewardsFailed)}async _executePoll(){await this.getSubscriptions()}getTokenApproveAmount(e,t){const n=t.conversionRate[e.currency];if(!n)throw new Error("Conversion rate not found");const s=new w.BigNumber(k(this,r,"m",a).call(this,e)),i=new w.BigNumber(10).pow(t.decimals);return s.multipliedBy(i).div(n).toFixed(0)}getTokenMinimumBalanceAmount(e,t){const n=t.conversionRate[e.currency];if(!n)throw new Error("Conversion rate not found");const s=new w.BigNumber(k(this,r,"m",o).call(this,e)),i=new w.BigNumber(10).pow(t.decimals);return s.multipliedBy(i).div(n).toFixed(0)}triggerAccessTokenRefresh(){this.messenger.call("AuthenticationController:performSignOut")}}n.SubscriptionController=O,s=new WeakMap,r=new WeakSet,i=function(){this.messenger.registerActionHandler("SubscriptionController:getSubscriptions",this.getSubscriptions.bind(this)),this.messenger.registerActionHandler("SubscriptionController:getSubscriptionByProduct",this.getSubscriptionByProduct.bind(this)),this.messenger.registerActionHandler("SubscriptionController:cancelSubscription",this.cancelSubscription.bind(this)),this.messenger.registerActionHandler("SubscriptionController:startShieldSubscriptionWithCard",this.startShieldSubscriptionWithCard.bind(this)),this.messenger.registerActionHandler("SubscriptionController:getPricing",this.getPricing.bind(this)),this.messenger.registerActionHandler("SubscriptionController:getCryptoApproveTransactionParams",this.getCryptoApproveTransactionParams.bind(this)),this.messenger.registerActionHandler("SubscriptionController:startSubscriptionWithCrypto",this.startSubscriptionWithCrypto.bind(this)),this.messenger.registerActionHandler("SubscriptionController:updatePaymentMethod",this.updatePaymentMethod.bind(this)),this.messenger.registerActionHandler("SubscriptionController:getBillingPortalUrl",this.getBillingPortalUrl.bind(this)),this.messenger.registerActionHandler(`${T.controllerName}:submitSponsorshipIntents`,this.submitSponsorshipIntents.bind(this)),this.messenger.registerActionHandler(`${T.controllerName}:submitShieldSubscriptionCryptoApproval`,this.submitShieldSubscriptionCryptoApproval.bind(this)),this.messenger.registerActionHandler(`${T.controllerName}:linkRewards`,this.linkRewards.bind(this))},a=function(e){return new w.BigNumber(e.unitAmount).div(10**e.unitDecimals).multipliedBy(e.minBillingCycles).toString()},o=function(e){return new w.BigNumber(e.unitAmount).div(10**e.unitDecimals).multipliedBy(e.minBillingCyclesForBalance).toString()},c=function(e,t){const{pricing:n}=this.state,r=n?.products.find(t=>t.name===e),s=r?.prices.find(e=>e.interval===t);if(!s)throw new Error(T.SubscriptionControllerErrorMessage.ProductPriceNotFound);return s},u=function({product:e}){const t=this.state.subscriptions.find(t=>t.products.some(t=>t.name===e));if(!(!t||[E.SUBSCRIPTION_STATUSES.pastDue,E.SUBSCRIPTION_STATUSES.unpaid,E.SUBSCRIPTION_STATUSES.paused,E.SUBSCRIPTION_STATUSES.provisional,E.SUBSCRIPTION_STATUSES.active,E.SUBSCRIPTION_STATUSES.trialing].includes(t.status)))throw new Error(T.SubscriptionControllerErrorMessage.SubscriptionNotValidForCryptoApproval)},l=function({products:e}){const t=this.state.subscriptions.find(t=>t.products.some(t=>e.includes(t.name)));if(t&&T.ACTIVE_SUBSCRIPTION_STATUSES.includes(t.status))throw new Error(T.SubscriptionControllerErrorMessage.UserAlreadySubscribed)},d=function(e){if(!this.state.subscriptions.find(t=>t.id===e.subscriptionId))throw new Error(T.SubscriptionControllerErrorMessage.UserNotSubscribed)},p=function(e){if(!e||e.type!==E.PAYMENT_TYPES.byCrypto||!e.paymentTokenAddress||!e.paymentTokenSymbol)throw new Error(T.SubscriptionControllerErrorMessage.PaymentMethodNotCrypto)},m=function(e,t){const n=k(this,r,"m",f).call(this,e),s=this.state.trialedProducts.some(e=>t.includes(e));return n&&!s},f=function(e){const t=this.state.pricing?.paymentMethods.find(e=>e.type===E.PAYMENT_TYPES.byCrypto),n=t?.chains?.find(t=>t.chainId===e)?.isSponsorshipSupported;return Boolean(n)},h=function(e,t){return e.length===t?.length&&e.every(e=>t?.includes(e))},g=function(e,t){if(e.length!==t.length)return!1;const n=[...e].sort((e,t)=>e.id.localeCompare(t.id)),s=[...t].sort((e,t)=>e.id.localeCompare(t.id));return n.every((e,t)=>{const n=s[t];return k(this,r,"m",y).call(this,e,n)})},y=function(e,t){return e&&t?k(this,r,"m",S).call(this,e)===k(this,r,"m",S).call(this,t):!e&&!t},S=function(e){const t={...e,products:[...e.products].sort((e,t)=>e.name.localeCompare(t.name))};return JSON.stringify(t)}}}},{package:"@metamask/subscription-controller",file:"node_modules/@metamask/subscription-controller/dist/SubscriptionController.cjs"}],[2924,{"./constants.cjs":2925,"./errors.cjs":2926,"@metamask/controller-utils":1384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i,a,o=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SubscriptionService=n.SUBSCRIPTION_URL=void 0;const u=e("@metamask/controller-utils"),l=e("./constants.cjs"),d=e("./errors.cjs");n.SUBSCRIPTION_URL=(e,t)=>`${(0,l.getEnvUrls)(e).subscriptionApiUrl}/v1/${t}`;n.SubscriptionService=class{constructor(e){r.add(this),s.set(this,void 0),o(this,s,e.env,"f"),this.authUtils=e.auth}async getSubscriptions(){return await c(this,r,"m",i).call(this,"subscriptions")}async cancelSubscription(e){const t=`subscriptions/${e.subscriptionId}/cancel`;return await c(this,r,"m",i).call(this,t,"POST",{})}async unCancelSubscription(e){const t=`subscriptions/${e.subscriptionId}/uncancel`;return await c(this,r,"m",i).call(this,t,"POST",{})}async startSubscriptionWithCard(e){if(0===e.products.length)throw new d.SubscriptionServiceError(l.SubscriptionControllerErrorMessage.SubscriptionProductsEmpty);return await c(this,r,"m",i).call(this,"subscriptions/card","POST",e)}async startSubscriptionWithCrypto(e){return await c(this,r,"m",i).call(this,"subscriptions/crypto","POST",e)}async updatePaymentMethodCard(e){const t=`subscriptions/${e.subscriptionId}/payment-method/card`;return await c(this,r,"m",i).call(this,t,"PATCH",{...e,subscriptionId:undefined})}async updatePaymentMethodCrypto(e){const t=`subscriptions/${e.subscriptionId}/payment-method/crypto`;await c(this,r,"m",i).call(this,t,"PATCH",{...e,subscriptionId:undefined})}async getSubscriptionsEligibilities(e){let t;e?.balanceCategory!==undefined&&(t={balanceCategory:e.balanceCategory});return(await c(this,r,"m",i).call(this,"subscriptions/eligibility","GET",undefined,t)).map(e=>({...e,canSubscribe:e.canSubscribe||!1,canViewEntryModal:e.canViewEntryModal||!1,cohorts:e.cohorts||[],assignedCohort:e.assignedCohort||null,hasAssignedCohortExpired:e.hasAssignedCohortExpired||!1}))}async submitUserEvent(e){await c(this,r,"m",i).call(this,"user-events","POST",e)}async assignUserToCohort(e){await c(this,r,"m",i).call(this,"cohorts/assign","POST",e)}async submitSponsorshipIntents(e){await c(this,r,"m",i).call(this,"transaction-sponsorship/intents","POST",e)}async linkRewards(e){return await c(this,r,"m",i).call(this,"rewards/link","POST",e)}async getPricing(){return await c(this,r,"m",i).call(this,"pricing")}async getBillingPortalUrl(){return await c(this,r,"m",i).call(this,"billing-portal")}},s=new WeakMap,r=new WeakSet,i=async function(e,t="GET",i,o){try{const l=await c(this,r,"m",a).call(this),d=new URL((0,n.SUBSCRIPTION_URL)(c(this,s,"f"),e));o&&Object.entries(o).forEach(([e,t])=>{d.searchParams.append(e,t)});return await(0,u.handleFetch)(d.toString(),{method:t,headers:{"Content-Type":"application/json",...l},body:i?JSON.stringify(i):undefined})}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e);throw new d.SubscriptionServiceError(`failed to make request. ${t}`)}},a=async function(){return{Authorization:`Bearer ${await this.authUtils.getAccessToken()}`}}}}},{package:"@metamask/subscription-controller",file:"node_modules/@metamask/subscription-controller/dist/SubscriptionService.cjs"}],[2925,{"./types.cjs":2928},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ACTIVE_SUBSCRIPTION_STATUSES=n.DEFAULT_POLLING_INTERVAL=n.SubscriptionControllerErrorMessage=n.getEnvUrls=n.Env=n.controllerName=void 0;const r=e("./types.cjs");var s;n.controllerName="SubscriptionController",function(e){e.DEV="dev",e.UAT="uat",e.PRD="prd"}(s||(n.Env=s={}));const i={dev:{subscriptionApiUrl:"https://subscription.dev-api.cx.metamask.io"},uat:{subscriptionApiUrl:"https://subscription.uat-api.cx.metamask.io"},prd:{subscriptionApiUrl:"https://subscription.api.cx.metamask.io"}};var a;n.getEnvUrls=function(e){if(!i[e])throw new Error("invalid environment configuration");return i[e]},function(e){e.UserAlreadySubscribed="SubscriptionController - User is already subscribed",e.UserNotSubscribed="SubscriptionController - User is not subscribed",e.SubscriptionProductsEmpty="SubscriptionController - Subscription products array cannot be empty",e.PaymentTokenAddressAndSymbolRequiredForCrypto="SubscriptionController - Payment token address and symbol are required for crypto payment",e.PaymentMethodNotCrypto="SubscriptionController - Payment method is not crypto",e.ProductPriceNotFound="SubscriptionController - Product price not found",e.SubscriptionNotValidForCryptoApproval="SubscriptionController - Subscription is not valid for crypto approval",e.LinkRewardsFailed="SubscriptionController - Failed to link rewards"}(a||(n.SubscriptionControllerErrorMessage=a={})),n.DEFAULT_POLLING_INTERVAL=3e5,n.ACTIVE_SUBSCRIPTION_STATUSES=[r.SUBSCRIPTION_STATUSES.active,r.SUBSCRIPTION_STATUSES.trialing,r.SUBSCRIPTION_STATUSES.provisional]}}},{package:"@metamask/subscription-controller",file:"node_modules/@metamask/subscription-controller/dist/constants.cjs"}],[2926,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SubscriptionServiceError=void 0;class r extends Error{constructor(e){super(e),this.name="SubscriptionServiceError"}}n.SubscriptionServiceError=r}}},{package:"@metamask/subscription-controller",file:"node_modules/@metamask/subscription-controller/dist/errors.cjs"}],[2927,{"./SubscriptionController.cjs":2923,"./SubscriptionService.cjs":2924,"./constants.cjs":2925,"./errors.cjs":2926,"./types.cjs":2928},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SubscriptionService=n.SubscriptionControllerErrorMessage=n.Env=n.SubscriptionServiceError=n.MODAL_TYPE=n.BALANCE_CATEGORIES=n.COHORT_NAMES=n.SubscriptionUserEvent=n.PAYMENT_TYPES=n.RECURRING_INTERVALS=n.PRODUCT_TYPES=n.SUBSCRIPTION_STATUSES=n.CRYPTO_PAYMENT_METHOD_ERRORS=n.getDefaultSubscriptionControllerState=n.SubscriptionController=void 0;var r=e("./SubscriptionController.cjs");Object.defineProperty(n,"SubscriptionController",{enumerable:!0,get:function(){return r.SubscriptionController}}),Object.defineProperty(n,"getDefaultSubscriptionControllerState",{enumerable:!0,get:function(){return r.getDefaultSubscriptionControllerState}});var s=e("./types.cjs");Object.defineProperty(n,"CRYPTO_PAYMENT_METHOD_ERRORS",{enumerable:!0,get:function(){return s.CRYPTO_PAYMENT_METHOD_ERRORS}}),Object.defineProperty(n,"SUBSCRIPTION_STATUSES",{enumerable:!0,get:function(){return s.SUBSCRIPTION_STATUSES}}),Object.defineProperty(n,"PRODUCT_TYPES",{enumerable:!0,get:function(){return s.PRODUCT_TYPES}}),Object.defineProperty(n,"RECURRING_INTERVALS",{enumerable:!0,get:function(){return s.RECURRING_INTERVALS}}),Object.defineProperty(n,"PAYMENT_TYPES",{enumerable:!0,get:function(){return s.PAYMENT_TYPES}}),Object.defineProperty(n,"SubscriptionUserEvent",{enumerable:!0,get:function(){return s.SubscriptionUserEvent}}),Object.defineProperty(n,"COHORT_NAMES",{enumerable:!0,get:function(){return s.COHORT_NAMES}}),Object.defineProperty(n,"BALANCE_CATEGORIES",{enumerable:!0,get:function(){return s.BALANCE_CATEGORIES}}),Object.defineProperty(n,"MODAL_TYPE",{enumerable:!0,get:function(){return s.MODAL_TYPE}});var i=e("./errors.cjs");Object.defineProperty(n,"SubscriptionServiceError",{enumerable:!0,get:function(){return i.SubscriptionServiceError}});var a=e("./constants.cjs");Object.defineProperty(n,"Env",{enumerable:!0,get:function(){return a.Env}}),Object.defineProperty(n,"SubscriptionControllerErrorMessage",{enumerable:!0,get:function(){return a.SubscriptionControllerErrorMessage}});var o=e("./SubscriptionService.cjs");Object.defineProperty(n,"SubscriptionService",{enumerable:!0,get:function(){return o.SubscriptionService}})}}},{package:"@metamask/subscription-controller",file:"node_modules/@metamask/subscription-controller/dist/index.cjs"}],[2928,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SubscriptionUserEvent=n.BALANCE_CATEGORIES=n.COHORT_NAMES=n.MODAL_TYPE=n.CRYPTO_PAYMENT_METHOD_ERRORS=n.SUBSCRIPTION_STATUSES=n.RECURRING_INTERVALS=n.PAYMENT_TYPES=n.PRODUCT_TYPES=void 0,n.PRODUCT_TYPES={SHIELD:"shield"},n.PAYMENT_TYPES={byCard:"card",byCrypto:"crypto"},n.RECURRING_INTERVALS={month:"month",year:"year"},n.SUBSCRIPTION_STATUSES={incomplete:"incomplete",incompleteExpired:"incomplete_expired",provisional:"provisional",trialing:"trialing",active:"active",pastDue:"past_due",unpaid:"unpaid",canceled:"canceled",paused:"paused"},n.CRYPTO_PAYMENT_METHOD_ERRORS={APPROVAL_TRANSACTION_TOO_OLD:"approval_transaction_too_old",APPROVAL_TRANSACTION_REVERTED:"approval_transaction_reverted",APPROVAL_TRANSACTION_MAX_VERIFICATION_ATTEMPTS_REACHED:"approval_transaction_max_verification_attempts_reached",INSUFFICIENT_BALANCE:"insufficient_balance",INSUFFICIENT_ALLOWANCE:"insufficient_allowance"},n.MODAL_TYPE={A:"A",B:"B"},n.COHORT_NAMES={POST_TX:"post_tx",WALLET_HOME:"wallet_home"},n.BALANCE_CATEGORIES={RANGE_0_99:"0-99",RANGE_100_999:"100-999",RANGE_1K_9_9K:"1k-9.9k",RANGE_10K_99_9K:"10k-99.9k",RANGE_100K_999_9K:"100k-999.9k",RANGE_1M_PLUS:"1M+"},n.SubscriptionUserEvent={ShieldEntryModalViewed:"shield_entry_modal_viewed",ShieldCohortAssigned:"shield_cohort_assigned"}}}},{package:"@metamask/subscription-controller",file:"node_modules/@metamask/subscription-controller/dist/types.cjs"}],[2929,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,i=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,m=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function h(e){for(var t,n,r=1,s=e.length,i=e[0]+"";r<s;){for(t=e[r++]+"",n=u-t.length;n--;t="0"+t);i+=t}for(s=i.length;48===i.charCodeAt(--s););return i.slice(0,s+1||1)}function g(e,t){var n,r,s=e.c,i=t.c,a=e.s,o=t.s,c=e.e,u=t.e;if(!a||!o)return null;if(n=s&&!s[0],r=i&&!i[0],n||r)return n?r?0:-o:a;if(a!=o)return a;if(n=a<0,r=c==u,!s||!i)return r?0:!s^n?1:-1;if(!r)return c>u^n?1:-1;for(o=(c=s.length)<(u=i.length)?c:u,a=0;a<o;a++)if(s[a]!=i[a])return s[a]>i[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function y(e,t,n,r){if(e<t||e>n||e!==i(e))throw Error(a+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function S(e){var t=e.c.length-1;return f(e.e/u)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function k(e,t,n){var r,s;if(t<0){for(s=n+".";++t;s+=n);e=s+e}else if(++t>(r=e.length)){for(s=n,t-=r;--t;s+=n);e+=s}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,v,j,w,T,E,P,_,O,I,C=V.prototype={constructor:V,toString:null,valueOf:null},A=new V(1),R=20,x=4,M=-7,N=21,B=-1e7,D=1e7,U=!1,L=1,F=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},K="0123456789abcdefghijklmnopqrstuvwxyz",$=!0;function V(e,t){var n,s,a,c,d,p,m,f,h=this;if(!(h instanceof V))return new V(e,t);if(null==t){if(e&&!0===e._isBigNumber)return h.s=e.s,void(!e.c||e.e>D?h.c=h.e=null:e.e<B?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice()));if((p="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>D?h.c=h.e=null:(h.e=c,h.c=[e]))}f=String(e)}else{if(!r.test(f=String(e)))return j(h,f,p);h.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(c=f.indexOf("."))>-1&&(f=f.replace(".","")),(d=f.search(/e/i))>0?(c<0&&(c=d),c+=+f.slice(d+1),f=f.substring(0,d)):c<0&&(c=f.length)}else{if(y(t,2,K.length,"Base"),10==t&&$)return G(h=new V(e),R+h.e+1,x);if(f=String(e),p="number"==typeof e){if(0*e!=0)return j(h,f,p,t);if(h.s=1/e<0?(f=f.slice(1),-1):1,V.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(o+e)}else h.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(n=K.slice(0,t),c=d=0,m=f.length;d<m;d++)if(n.indexOf(s=f.charAt(d))<0){if("."==s){if(d>c){c=m;continue}}else if(!a&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){a=!0,d=-1,c=0;continue}return j(h,String(e),p,t)}p=!1,(c=(f=v(f,t,10,h.s)).indexOf("."))>-1?f=f.replace(".",""):c=f.length}for(d=0;48===f.charCodeAt(d);d++);for(m=f.length;48===f.charCodeAt(--m););if(f=f.slice(d,++m)){if(m-=d,p&&V.DEBUG&&m>15&&(e>l||e!==i(e)))throw Error(o+h.s*e);if((c=c-d-1)>D)h.c=h.e=null;else if(c<B)h.c=[h.e=0];else{if(h.e=c,h.c=[],d=(c+1)%u,c<0&&(d+=u),d<m){for(d&&h.c.push(+f.slice(0,d)),m-=u;d<m;)h.c.push(+f.slice(d,d+=u));d=u-(f=f.slice(d)).length}else d-=m;for(;d--;f+="0");h.c.push(+f)}}else h.c=[h.e=0]}function q(e,t,n,r){var s,i,a,o,c;if(null==n?n=x:y(n,0,8),!e.c)return e.toString();if(s=e.c[0],a=e.e,null==t)c=h(e.c),c=1==r||2==r&&(a<=M||a>=N)?b(c,a):k(c,a,"0");else if(i=(e=G(new V(e),t,n)).e,o=(c=h(e.c)).length,1==r||2==r&&(t<=i||i<=M)){for(;o<t;c+="0",o++);c=b(c,i)}else if(t-=a,c=k(c,i,"0"),i+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=i-o)>0)for(i+1==o&&(c+=".");t--;c+="0");return e.s<0&&s?"-"+c:c}function J(e,t){for(var n,r,s=1,i=new V(e[0]);s<e.length;s++)(!(r=new V(e[s])).s||(n=g(i,r))===t||0===n&&i.s===t)&&(i=r);return i}function z(e,t,n){for(var r=1,s=t.length;!t[--s];t.pop());for(s=t[0];s>=10;s/=10,r++);return(n=r+n*u-1)>D?e.c=e.e=null:n<B?e.c=[e.e=0]:(e.e=n,e.c=t),e}function G(e,t,n,r){var a,o,l,p,m,f,h,g=e.c,y=d;if(g){e:{for(a=1,p=g[0];p>=10;p/=10,a++);if((o=t-a)<0)o+=u,l=t,m=g[f=0],h=i(m/y[a-l-1]%10);else if((f=s((o+1)/u))>=g.length){if(!r)break e;for(;g.length<=f;g.push(0));m=h=0,a=1,l=(o%=u)-u+1}else{for(m=p=g[f],a=1;p>=10;p/=10,a++);h=(l=(o%=u)-u+a)<0?0:i(m/y[a-l-1]%10)}if(r=r||t<0||null!=g[f+1]||(l<0?m:m%y[a-l-1]),r=n<4?(h||r)&&(0==n||n==(e.s<0?3:2)):h>5||5==h&&(4==n||r||6==n&&(o>0?l>0?m/y[a-l]:0:g[f-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=y[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==o?(g.length=f,p=1,f--):(g.length=f+1,p=y[u-o],g[f]=l>0?i(m/y[a-l]%y[l])*p:0),r)for(;;){if(0==f){for(o=1,l=g[0];l>=10;l/=10,o++);for(l=g[0]+=p,p=1;l>=10;l/=10,p++);o!=p&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[f]+=p,g[f]!=c)break;g[f--]=0,p=1}for(o=g.length;0===g[--o];g.pop());}e.e>D?e.c=e.e=null:e.e<B&&(e.c=[e.e=0])}return e}function W(e){var t,n=e.e;return null===n?e.toString():(t=h(e.c),t=n<=M||n>=N?b(t,n):k(t,n,"0"),e.s<0?"-"+t:t)}return V.clone=e,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(n=e[t],0,m,t),R=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(n=e[t],0,8,t),x=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(y(n[0],-m,0,t),y(n[1],0,m,t),M=n[0],N=n[1]):(y(n,-m,m,t),M=-(N=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)y(n[0],-m,-1,t),y(n[1],1,m,t),B=n[0],D=n[1];else{if(y(n,-m,m,t),!n)throw Error(a+t+" cannot be zero: "+n);B=-(D=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!n,Error(a+"crypto unavailable");U=n}else U=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(n=e[t],0,9,t),L=n),e.hasOwnProperty(t="POW_PRECISION")&&(y(n=e[t],0,m,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);H=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);$="0123456789"==n.slice(0,10),K=n}}return{DECIMAL_PLACES:R,ROUNDING_MODE:x,EXPONENTIAL_AT:[M,N],RANGE:[B,D],CRYPTO:U,MODULO_MODE:L,POW_PRECISION:F,FORMAT:H,ALPHABET:K}},V.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!V.DEBUG)return!0;var t,n,r=e.c,s=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&s>=-m&&s<=m&&s===i(s)){if(0===r[0]){if(0===s&&1===r.length)return!0;break e}if((t=(s+1)%u)<1&&(t+=u),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==i(n))break e;if(0!==n)return!0}}}else if(null===r&&null===s&&(null===o||1===o||-1===o))return!0;throw Error(a+"Invalid BigNumber: "+e)},V.maximum=V.max=function(){return J(arguments,-1)},V.minimum=V.min=function(){return J(arguments,1)},V.random=(w=9007199254740992,T=Math.random()*w&2097151?function(){return i(Math.random()*w)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,c,l=0,p=[],f=new V(A);if(null==e?e=R:y(e,0,m),o=s(e/u),U)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));l<o;)(c=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(p.push(c%1e14),l+=2);l=o/2}else{if(!crypto.randomBytes)throw U=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(o*=7);l<o;)(c=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(p.push(c%1e14),l+=7);l=o/7}if(!U)for(;l<o;)(c=T())<9e15&&(p[l++]=c%1e14);for(o=p[--l],e%=u,o&&e&&(c=d[u-e],p[l]=i(o/c)*c);0===p[l];p.pop(),l--);if(l<0)p=[r=0];else{for(r=-1;0===p[0];p.splice(0,1),r-=u);for(l=1,c=p[0];c>=10;c/=10,l++);l<u&&(r-=u-l)}return f.e=r,f.c=p,f}),V.sum=function(){for(var e=1,t=arguments,n=new V(t[0]);e<t.length;)n=n.plus(t[e++]);return n},v=function(){var e="0123456789";function t(e,t,n,r){for(var s,i,a=[0],o=0,c=e.length;o<c;){for(i=a.length;i--;a[i]*=t);for(a[0]+=r.indexOf(e.charAt(o++)),s=0;s<a.length;s++)a[s]>n-1&&(null==a[s+1]&&(a[s+1]=0),a[s+1]+=a[s]/n|0,a[s]%=n)}return a.reverse()}return function(r,s,i,a,o){var c,u,l,d,p,m,f,g,y=r.indexOf("."),S=R,b=x;for(y>=0&&(d=F,F=0,r=r.replace(".",""),m=(g=new V(s)).pow(r.length-y),F=d,g.c=t(k(h(m.c),m.e,"0"),10,i,e),g.e=g.c.length),l=d=(f=t(r,s,i,o?(c=K,e):(c=e,K))).length;0==f[--d];f.pop());if(!f[0])return c.charAt(0);if(y<0?--l:(m.c=f,m.e=l,m.s=a,f=(m=n(m,g,S,b,i)).c,p=m.r,l=m.e),y=f[u=l+S+1],d=i/2,p=p||u<0||null!=f[u+1],p=b<4?(null!=y||p)&&(0==b||b==(m.s<0?3:2)):y>d||y==d&&(4==b||p||6==b&&1&f[u-1]||b==(m.s<0?8:7)),u<1||!f[0])r=p?k(c.charAt(1),-S,c.charAt(0)):c.charAt(0);else{if(f.length=u,p)for(--i;++f[--u]>i;)f[u]=0,u||(++l,f=[1].concat(f));for(d=f.length;!f[--d];);for(y=0,r="";y<=d;r+=c.charAt(f[y++]));r=k(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,s,i,a,o=0,c=e.length,u=t%p,l=t/p|0;for(e=e.slice();c--;)o=((s=u*(i=e[c]%p)+(r=l*i+(a=e[c]/p|0)*u)%p*p+o)/n|0)+(r/p|0)+l*a,e[c]=s%n;return o&&(e=[o].concat(e)),e}function t(e,t,n,r){var s,i;if(n!=r)i=n>r?1:-1;else for(s=i=0;s<n;s++)if(e[s]!=t[s]){i=e[s]>t[s]?1:-1;break}return i}function n(e,t,n,r){for(var s=0;n--;)e[n]-=s,s=e[n]<t[n]?1:0,e[n]=s*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,s,a,o,l){var d,p,m,h,g,y,S,b,k,v,j,w,T,E,P,_,O,I=r.s==s.s?1:-1,C=r.c,A=s.c;if(!(C&&C[0]&&A&&A[0]))return new V(r.s&&s.s&&(C?!A||C[0]!=A[0]:A)?C&&0==C[0]||!A?0*I:I/0:NaN);for(k=(b=new V(I)).c=[],I=a+(p=r.e-s.e)+1,l||(l=c,p=f(r.e/u)-f(s.e/u),I=I/u|0),m=0;A[m]==(C[m]||0);m++);if(A[m]>(C[m]||0)&&p--,I<0)k.push(1),h=!0;else{for(E=C.length,_=A.length,m=0,I+=2,(g=i(l/(A[0]+1)))>1&&(A=e(A,g,l),C=e(C,g,l),_=A.length,E=C.length),T=_,j=(v=C.slice(0,_)).length;j<_;v[j++]=0);O=A.slice(),O=[0].concat(O),P=A[0],A[1]>=l/2&&P++;do{if(g=0,(d=t(A,v,_,j))<0){if(w=v[0],_!=j&&(w=w*l+(v[1]||0)),(g=i(w/P))>1)for(g>=l&&(g=l-1),S=(y=e(A,g,l)).length,j=v.length;1==t(y,v,S,j);)g--,n(y,_<S?O:A,S,l),S=y.length,d=1;else 0==g&&(d=g=1),S=(y=A.slice()).length;if(S<j&&(y=[0].concat(y)),n(v,y,j,l),j=v.length,-1==d)for(;t(A,v,_,j)<1;)g++,n(v,_<j?O:A,j,l),j=v.length}else 0===d&&(g++,v=[0]);k[m++]=g,v[0]?v[j++]=C[T]||0:(v=[C[T]],j=1)}while((T++<E||null!=v[0])&&I--);h=null!=v[0],k[0]||k.splice(0,1)}if(l==c){for(m=1,I=k[0];I>=10;I/=10,m++);G(b,a+(b.e=m+p*u-1)+1,o,h)}else b.e=p,b.r=+h;return b}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,_=/^\.([^.]+)$/,O=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,j=function(e,t,n,r){var s,i=n?t:t.replace(I,"");if(O.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(E,function(e,t,n){return s="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=s?e:t}),r&&(s=r,i=i.replace(P,"$1").replace(_,"0.$1")),t!=i))return new V(i,s);if(V.DEBUG)throw Error(a+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},C.absoluteValue=C.abs=function(){var e=new V(this);return e.s<0&&(e.s=1),e},C.comparedTo=function(e,t){return g(this,new V(e,t))},C.decimalPlaces=C.dp=function(e,t){var n,r,s,i=this;if(null!=e)return y(e,0,m),null==t?t=x:y(t,0,8),G(new V(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((s=n.length-1)-f(this.e/u))*u,s=n[s])for(;s%10==0;s/=10,r--);return r<0&&(r=0),r},C.dividedBy=C.div=function(e,t){return n(this,new V(e,t),R,x)},C.dividedToIntegerBy=C.idiv=function(e,t){return n(this,new V(e,t),0,1)},C.exponentiatedBy=C.pow=function(e,t){var n,r,o,c,l,d,p,m,f=this;if((e=new V(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+W(e));if(null!=t&&(t=new V(t)),l=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return m=new V(Math.pow(+W(f),l?e.s*(2-S(e)):+W(e))),t?m.mod(t):m;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new V(NaN);(r=!d&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||l&&f.c[1]>=24e7:f.c[0]<8e13||l&&f.c[0]<=9999975e7)))return c=f.s<0&&S(e)?-0:0,f.e>-1&&(c=1/c),new V(d?1/c:c);F&&(c=s(F/u+2))}for(l?(n=new V(.5),d&&(e.s=1),p=S(e)):p=(o=Math.abs(+W(e)))%2,m=new V(A);;){if(p){if(!(m=m.times(f)).c)break;c?m.c.length>c&&(m.c.length=c):r&&(m=m.mod(t))}if(o){if(0===(o=i(o/2)))break;p=o%2}else if(G(e=e.times(n),e.e+1,1),e.e>14)p=S(e);else{if(0===(o=+W(e)))break;p=o%2}f=f.times(f),c?f.c&&f.c.length>c&&(f.c.length=c):r&&(f=f.mod(t))}return r?m:(d&&(m=A.div(m)),t?m.mod(t):c?G(m,F,x,undefined):m)},C.integerValue=function(e){var t=new V(this);return null==e?e=x:y(e,0,8),G(t,t.e+1,e)},C.isEqualTo=C.eq=function(e,t){return 0===g(this,new V(e,t))},C.isFinite=function(){return!!this.c},C.isGreaterThan=C.gt=function(e,t){return g(this,new V(e,t))>0},C.isGreaterThanOrEqualTo=C.gte=function(e,t){return 1===(t=g(this,new V(e,t)))||0===t},C.isInteger=function(){return!!this.c&&f(this.e/u)>this.c.length-2},C.isLessThan=C.lt=function(e,t){return g(this,new V(e,t))<0},C.isLessThanOrEqualTo=C.lte=function(e,t){return-1===(t=g(this,new V(e,t)))||0===t},C.isNaN=function(){return!this.s},C.isNegative=function(){return this.s<0},C.isPositive=function(){return this.s>0},C.isZero=function(){return!!this.c&&0==this.c[0]},C.minus=function(e,t){var n,r,s,i,a=this,o=a.s;if(t=(e=new V(e,t)).s,!o||!t)return new V(NaN);if(o!=t)return e.s=-t,a.plus(e);var l=a.e/u,d=e.e/u,p=a.c,m=e.c;if(!l||!d){if(!p||!m)return p?(e.s=-t,e):new V(m?a:NaN);if(!p[0]||!m[0])return m[0]?(e.s=-t,e):new V(p[0]?a:3==x?-0:0)}if(l=f(l),d=f(d),p=p.slice(),o=l-d){for((i=o<0)?(o=-o,s=p):(d=l,s=m),s.reverse(),t=o;t--;s.push(0));s.reverse()}else for(r=(i=(o=p.length)<(t=m.length))?o:t,o=t=0;t<r;t++)if(p[t]!=m[t]){i=p[t]<m[t];break}if(i&&(s=p,p=m,m=s,e.s=-e.s),(t=(r=m.length)-(n=p.length))>0)for(;t--;p[n++]=0);for(t=c-1;r>o;){if(p[--r]<m[r]){for(n=r;n&&!p[--n];p[n]=t);--p[n],p[r]+=c}p[r]-=m[r]}for(;0==p[0];p.splice(0,1),--d);return p[0]?z(e,p,d):(e.s=3==x?-1:1,e.c=[e.e=0],e)},C.modulo=C.mod=function(e,t){var r,s,i=this;return e=new V(e,t),!i.c||!e.s||e.c&&!e.c[0]?new V(NaN):!e.c||i.c&&!i.c[0]?new V(i):(9==L?(s=e.s,e.s=1,r=n(i,e,0,3),e.s=s,r.s*=s):r=n(i,e,0,L),(e=i.minus(r.times(e))).c[0]||1!=L||(e.s=i.s),e)},C.multipliedBy=C.times=function(e,t){var n,r,s,i,a,o,l,d,m,h,g,y,S,b,k,v=this,j=v.c,w=(e=new V(e,t)).c;if(!(j&&w&&j[0]&&w[0]))return!v.s||!e.s||j&&!j[0]&&!w||w&&!w[0]&&!j?e.c=e.e=e.s=null:(e.s*=v.s,j&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=f(v.e/u)+f(e.e/u),e.s*=v.s,(l=j.length)<(h=w.length)&&(S=j,j=w,w=S,s=l,l=h,h=s),s=l+h,S=[];s--;S.push(0));for(b=c,k=p,s=h;--s>=0;){for(n=0,g=w[s]%k,y=w[s]/k|0,i=s+(a=l);i>s;)n=((d=g*(d=j[--a]%k)+(o=y*d+(m=j[a]/k|0)*g)%k*k+S[i]+n)/b|0)+(o/k|0)+y*m,S[i--]=d%b;S[i]=n}return n?++r:S.splice(0,1),z(e,S,r)},C.negated=function(){var e=new V(this);return e.s=-e.s||null,e},C.plus=function(e,t){var n,r=this,s=r.s;if(t=(e=new V(e,t)).s,!s||!t)return new V(NaN);if(s!=t)return e.s=-t,r.minus(e);var i=r.e/u,a=e.e/u,o=r.c,l=e.c;if(!i||!a){if(!o||!l)return new V(s/0);if(!o[0]||!l[0])return l[0]?e:new V(o[0]?r:0*s)}if(i=f(i),a=f(a),o=o.slice(),s=i-a){for(s>0?(a=i,n=l):(s=-s,n=o),n.reverse();s--;n.push(0));n.reverse()}for((s=o.length)-(t=l.length)<0&&(n=l,l=o,o=n,t=s),s=0;t;)s=(o[--t]=o[t]+l[t]+s)/c|0,o[t]=c===o[t]?0:o[t]%c;return s&&(o=[s].concat(o),++a),z(e,o,a)},C.precision=C.sd=function(e,t){var n,r,s,i=this;if(null!=e&&e!==!!e)return y(e,1,m),null==t?t=x:y(t,0,8),G(new V(i),e,t);if(!(n=i.c))return null;if(r=(s=n.length-1)*u+1,s=n[s]){for(;s%10==0;s/=10,r--);for(s=n[0];s>=10;s/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},C.shiftedBy=function(e){return y(e,-9007199254740991,l),this.times("1e"+e)},C.squareRoot=C.sqrt=function(){var e,t,r,s,i,a=this,o=a.c,c=a.s,u=a.e,l=R+4,d=new V("0.5");if(1!==c||!o||!o[0])return new V(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);if(0==(c=Math.sqrt(+W(a)))||c==1/0?(((t=h(o)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=f((u+1)/2)-(u<0||u%2),r=new V(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new V(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=d.times(i.plus(n(a,i,l,1))),h(i.c).slice(0,c)===(t=h(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(G(r,r.e+R+2,1),e=!r.times(r).eq(a));break}if(!s&&(G(i,i.e+R+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,s=1}return G(r,r.e+R+1,x,e)},C.toExponential=function(e,t){return null!=e&&(y(e,0,m),e++),q(this,e,t,1)},C.toFixed=function(e,t){return null!=e&&(y(e,0,m),e=e+this.e+1),q(this,e,t)},C.toFormat=function(e,t,n){var r,s=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=H;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=s.toFixed(e,t),s.c){var i,o=r.split("."),c=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||"",d=o[0],p=o[1],m=s.s<0,f=m?d.slice(1):d,h=f.length;if(u&&(i=c,c=u,u=i,h-=i),c>0&&h>0){for(i=h%c||c,d=f.substr(0,i);i<h;i+=c)d+=l+f.substr(i,c);u>0&&(d+=l+f.slice(i)),m&&(d="-"+d)}r=p?d+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?p.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):p):d}return(n.prefix||"")+r+(n.suffix||"")},C.toFraction=function(e){var t,r,s,i,o,c,l,p,m,f,g,y,S=this,b=S.c;if(null!=e&&(!(l=new V(e)).isInteger()&&(l.c||1!==l.s)||l.lt(A)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+W(l));if(!b)return new V(S);for(t=new V(A),m=r=new V(A),s=p=new V(A),y=h(b),o=t.e=y.length-S.e-1,t.c[0]=d[(c=o%u)<0?u+c:c],e=!e||l.comparedTo(t)>0?o>0?t:m:l,c=D,D=1/0,l=new V(y),p.c[0]=0;f=n(l,t,0,1),1!=(i=r.plus(f.times(s))).comparedTo(e);)r=s,s=i,m=p.plus(f.times(i=m)),p=i,t=l.minus(f.times(i=t)),l=i;return i=n(e.minus(r),s,0,1),p=p.plus(i.times(m)),r=r.plus(i.times(s)),p.s=m.s=S.s,g=n(m,s,o*=2,x).minus(S).abs().comparedTo(n(p,r,o,x).minus(S).abs())<1?[m,s]:[p,r],D=c,g},C.toNumber=function(){return+W(this)},C.toPrecision=function(e,t){return null!=e&&y(e,1,m),q(this,e,t,2)},C.toString=function(e){var t,n=this,r=n.s,s=n.e;return null===s?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=s<=M||s>=N?b(h(n.c),s):k(h(n.c),s,"0"):10===e&&$?t=k(h((n=G(new V(n),R+s+1,x)).c),n.e,"0"):(y(e,2,K.length,"Base"),t=v(k(h(n.c),s,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},C.valueOf=C.toJSON=function(){return W(this)},C._isBigNumber=!0,null!=t&&V.set(t),V}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"@metamask/subscription-controller>bignumber.js",file:"node_modules/@metamask/subscription-controller/node_modules/bignumber.js/bignumber.js"}],[2930,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StructError=void 0;class r extends TypeError{constructor(e,t){let n;const{message:r,explanation:s,...i}=e,{path:a}=e,o=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(s??o),null!==s&&s!==undefined&&(this.cause=o),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}n.StructError=r}}},{package:"@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/error.cjs"}],[2931,{"./error.cjs":2930,"./struct.cjs":2932,"./structs/coercions.cjs":2933,"./structs/refinements.cjs":2934,"./structs/types.cjs":2935,"./structs/utilities.cjs":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./error.cjs"),n),s(e("./struct.cjs"),n),s(e("./structs/coercions.cjs"),n),s(e("./structs/refinements.cjs"),n),s(e("./structs/types.cjs"),n),s(e("./structs/utilities.cjs"),n)}}},{package:"@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/index.cjs"}],[2932,{"./error.cjs":2930,"./utils.cjs":2937},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validate=n.is=n.mask=n.create=n.assert=n.ExactOptionalStruct=n.Struct=void 0;const r=e("./error.cjs"),s=e("./utils.cjs");class i{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:a=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=n,this.entries=o,this.coercer=a,this.validator=r?(e,t)=>{const n=r(e,t);return(0,s.toFailures)(n,t,this,e)}:()=>[],this.refiner=i?(e,t)=>{const n=i(e,t);return(0,s.toFailures)(n,t,this,e)}:()=>[]}assert(e,t){return o(e,this,t)}create(e,t){return c(e,this,t)}is(e){return l(e,this)}mask(e,t){return u(e,this,t)}validate(e,t={}){return d(e,this,t)}}n.Struct=i;const a="EXACT_OPTIONAL";function o(e,t,n){const r=d(e,t,{message:n});if(r[0])throw r[0]}function c(e,t,n){const r=d(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function u(e,t,n){const r=d(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function l(e,t){return!d(e,t)[0]}function d(e,t,n={}){const i=(0,s.run)(e,t,n),a=(0,s.shiftIterator)(i);if(a[0]){return[new r.StructError(a[0],function*(){for(const e of i)e[0]&&(yield e[0])}),undefined]}const o=a[1];return[undefined,o]}n.ExactOptionalStruct=class extends i{constructor(e){super({...e,type:`exact optional ${e.type}`}),this.brand=a}static isExactOptional(e){return(0,s.isObject)(e)&&"brand"in e&&e.brand===a}},n.assert=o,n.create=c,n.mask=u,n.is=l,n.validate=d}}},{package:"@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/struct.cjs"}],[2933,{"../struct.cjs":2932,"../utils.cjs":2937,"./types.cjs":2935},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.trimmed=n.defaulted=n.coerce=void 0;const r=e("../struct.cjs"),s=e("../utils.cjs"),i=e("./types.cjs");function a(e,t,n){return new r.Struct({...e,coercer:(s,i)=>(0,r.is)(s,t)?e.coercer(n(s,i),i):e.coercer(s,i)})}n.coerce=a,n.defaulted=function(e,t,n={}){return a(e,(0,i.unknown)(),e=>{const r="function"==typeof t?t():t;if(e===undefined)return r;if(!n.strict&&(0,s.isPlainObject)(e)&&(0,s.isPlainObject)(r)){const t={...e};let n=!1;for(const e in r)t[e]===undefined&&(t[e]=r[e],n=!0);if(n)return t}return e})},n.trimmed=function(e){return a(e,(0,i.string)(),e=>e.trim())}}}},{package:"@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/coercions.cjs"}],[2934,{"../struct.cjs":2932,"../utils.cjs":2937},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.refine=n.size=n.pattern=n.nonempty=n.min=n.max=n.empty=void 0;const r=e("../struct.cjs"),s=e("../utils.cjs");function i(e){return e instanceof Map||e instanceof Set?e.size:e.length}function a(e,t,n){return new r.Struct({...e,*refiner(r,i){yield*e.refiner(r,i);const a=n(r,i),o=(0,s.toFailures)(a,i,e,r);for(const e of o)yield{...e,refinement:t}}})}n.empty=function(e){return a(e,"empty",t=>{const n=i(t);return 0===n||`Expected an empty ${e.type} but received one with a size of \`${n}\``})},n.max=function(e,t,n={}){const{exclusive:r}=n;return a(e,"max",n=>r?n<t:n<=t||`Expected a ${e.type} less than ${r?"":"or equal to "}${t} but received \`${n}\``)},n.min=function(e,t,n={}){const{exclusive:r}=n;return a(e,"min",n=>r?n>t:n>=t||`Expected a ${e.type} greater than ${r?"":"or equal to "}${t} but received \`${n}\``)},n.nonempty=function(e){return a(e,"nonempty",t=>i(t)>0||`Expected a nonempty ${e.type} but received an empty one`)},n.pattern=function(e,t){return a(e,"pattern",n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`)},n.size=function(e,t,n=t){const r=`Expected a ${e.type}`,s=t===n?`of \`${t}\``:`between \`${t}\` and \`${n}\``;return a(e,"size",e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=n||`${r} ${s} but received \`${e}\``;if(e instanceof Map||e instanceof Set){const{size:i}=e;return t<=i&&i<=n||`${r} with a size ${s} but received one with a size of \`${i}\``}const{length:i}=e;return t<=i&&i<=n||`${r} with a length ${s} but received one with a length of \`${i}\``})},n.refine=a}}},{package:"@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/refinements.cjs"}],[2935,{"../struct.cjs":2932,"../utils.cjs":2937,"./utilities.cjs":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unknown=n.union=n.type=n.tuple=n.string=n.set=n.regexp=n.record=n.exactOptional=n.optional=n.object=n.number=n.nullable=n.never=n.map=n.literal=n.intersection=n.integer=n.instance=n.func=n.enums=n.date=n.boolean=n.bigint=n.array=n.any=void 0;const r=e("../struct.cjs"),s=e("../utils.cjs"),i=e("./utilities.cjs");function a(){return(0,i.define)("never",()=>!1)}n.any=function(){return(0,i.define)("any",()=>!0)},n.array=function(e){return new r.Struct({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${(0,s.print)(e)}`})},n.bigint=function(){return(0,i.define)("bigint",e=>"bigint"==typeof e)},n.boolean=function(){return(0,i.define)("boolean",e=>"boolean"==typeof e)},n.date=function(){return(0,i.define)("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${(0,s.print)(e)}`)},n.enums=function(e){const t={},n=e.map(e=>(0,s.print)(e)).join();for(const n of e)t[n]=n;return new r.Struct({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${n}\`, but received: ${(0,s.print)(t)}`})},n.func=function(){return(0,i.define)("func",e=>"function"==typeof e||`Expected a function, but received: ${(0,s.print)(e)}`)},n.instance=function(e){return(0,i.define)("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${(0,s.print)(t)}`)},n.integer=function(){return(0,i.define)("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${(0,s.print)(e)}`)},n.intersection=function(e){return new r.Struct({type:"intersection",schema:null,*entries(t,n){for(const{entries:r}of e)yield*r(t,n)},*validator(t,n){for(const{validator:r}of e)yield*r(t,n)},*refiner(t,n){for(const{refiner:r}of e)yield*r(t,n)}})},n.literal=function(e){const t=(0,s.print)(e),n=typeof e;return new r.Struct({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${(0,s.print)(n)}`})},n.map=function(e,t){return new r.Struct({type:"map",schema:null,*entries(n){if(e&&t&&n instanceof Map)for(const[r,s]of n.entries())yield[r,r,e],yield[r,s,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${(0,s.print)(e)}`})},n.never=a,n.nullable=function(e){return new r.Struct({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})},n.number=function(){return(0,i.define)("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${(0,s.print)(e)}`)},n.object=function(e){const t=e?Object.keys(e):[],n=a();return new r.Struct({type:"object",schema:e??null,*entries(i){if(e&&(0,s.isObject)(i)){const s=new Set(Object.keys(i));for(const n of t){s.delete(n);const t=e[n];r.ExactOptionalStruct.isExactOptional(t)&&!Object.prototype.hasOwnProperty.call(i,n)||(yield[n,i[n],e[n]])}for(const e of s)yield[e,i[e],n]}},validator:e=>(0,s.isObject)(e)||`Expected an object, but received: ${(0,s.print)(e)}`,coercer:e=>(0,s.isObject)(e)?{...e}:e})},n.optional=function(e){return new r.Struct({...e,validator:(t,n)=>t===undefined||e.validator(t,n),refiner:(t,n)=>t===undefined||e.refiner(t,n)})},n.exactOptional=function(e){return new r.ExactOptionalStruct(e)},n.record=function(e,t){return new r.Struct({type:"record",schema:null,*entries(n){if((0,s.isObject)(n))for(const r in n){const s=n[r];yield[r,r,e],yield[r,s,t]}},validator:e=>(0,s.isObject)(e)||`Expected an object, but received: ${(0,s.print)(e)}`})},n.regexp=function(){return(0,i.define)("regexp",e=>e instanceof RegExp)},n.set=function(e){return new r.Struct({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const n of t)yield[n,n,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${(0,s.print)(e)}`})},n.string=function(){return(0,i.define)("string",e=>"string"==typeof e||`Expected a string, but received: ${(0,s.print)(e)}`)},n.tuple=function(e){const t=a();return new r.Struct({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],e[s]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${(0,s.print)(e)}`})},n.type=function(e){const t=Object.keys(e);return new r.Struct({type:"type",schema:e,*entries(n){if((0,s.isObject)(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>(0,s.isObject)(e)||`Expected an object, but received: ${(0,s.print)(e)}`,coercer:e=>(0,s.isObject)(e)?{...e}:e})},n.union=function(e){const t=e.map(e=>e.type).join(" | ");return new r.Struct({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const i=[];for(const t of e){const[...e]=(0,s.run)(n,t,r),[a]=e;if(!a?.[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${(0,s.print)(n)}`,...i]}})},n.unknown=function(){return(0,i.define)("unknown",()=>!0)}}}},{package:"@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/types.cjs"}],[2936,{"../struct.cjs":2932,"./types.cjs":2935},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pick=n.partial=n.omit=n.lazy=n.dynamic=n.deprecated=n.define=n.assign=void 0;const r=e("../struct.cjs"),s=e("./types.cjs");n.assign=function(...e){const t="type"===e[0]?.type,n=e.map(({schema:e})=>e),r=Object.assign({},...n);return t?(0,s.type)(r):(0,s.object)(r)},n.define=function(e,t){return new r.Struct({type:e,schema:null,validator:t})},n.deprecated=function(e,t){return new r.Struct({...e,refiner:(t,n)=>t===undefined||e.refiner(t,n),validator:(n,r)=>n===undefined||(t(n,r),e.validator(n,r))})},n.dynamic=function(e){return new r.Struct({type:"dynamic",schema:null,*entries(t,n){const r=e(t,n);yield*r.entries(t,n)},validator:(t,n)=>e(t,n).validator(t,n),coercer:(t,n)=>e(t,n).coercer(t,n),refiner:(t,n)=>e(t,n).refiner(t,n)})},n.lazy=function(e){let t;return new r.Struct({type:"lazy",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator:(n,r)=>(t??(t=e()),t.validator(n,r)),coercer:(n,r)=>(t??(t=e()),t.coercer(n,r)),refiner:(n,r)=>(t??(t=e()),t.refiner(n,r))})},n.omit=function(e,t){const{schema:n}=e,r={...n};for(const e of t)delete r[e];return"type"===e.type?(0,s.type)(r):(0,s.object)(r)},n.partial=function(e){const t=e instanceof r.Struct,n=t?{...e.schema}:{...e};for(const e in n)n[e]=(0,s.optional)(n[e]);return t&&"type"===e.type?(0,s.type)(n):(0,s.object)(n)},n.pick=function(e,t){const{schema:n}=e,r={};for(const e of t)r[e]=n[e];return"type"===e.type?(0,s.type)(r):(0,s.object)(r)}}}},{package:"@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/utilities.cjs"}],[2937,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return"object"==typeof e&&null!==e}function s(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function i(e,t,n,r){if(!0===e)return undefined;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:a}=t,{type:o}=n,{refinement:c,message:u=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${s(r)}\``}=e;return{value:r,type:o,refinement:c,key:i[i.length-1],path:i,branch:a,...e,message:u}}Object.defineProperty(n,"__esModule",{value:!0}),n.run=n.toFailures=n.toFailure=n.shiftIterator=n.print=n.isPlainObject=n.isObject=void 0,n.isObject=r,n.isPlainObject=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},n.print=s,n.shiftIterator=function(e){const{done:t,value:n}=e.next();return t?undefined:n},n.toFailure=i,n.toFailures=function*(e,t,n,s){(function(e){return r(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const r of e){const e=i(r,t,n,s);e&&(yield e)}},n.run=function*e(t,n,s={}){const{path:i=[],branch:a=[t],coerce:o=!1,mask:c=!1}=s,u={path:i,branch:a};if(o&&(t=n.coercer(t,u),c&&"type"!==n.type&&r(n.schema)&&r(t)&&!Array.isArray(t)))for(const e in t)n.schema[e]===undefined&&delete t[e];let l="valid";for(const e of n.validator(t,u))e.explanation=s.message,l="not_valid",yield[e,undefined];for(let[d,p,m]of n.entries(t,u)){const n=e(p,m,{path:d===undefined?i:[...i,d],branch:d===undefined?a:[...a,p],coerce:o,mask:c,message:s.message});for(const e of n)e[0]?(l=null===e[0].refinement||e[0].refinement===undefined?"not_valid":"not_refined",yield[e[0],undefined]):o&&(p=e[1],d===undefined?t=p:t instanceof Map?t.set(d,p):t instanceof Set?t.add(p):r(t)&&(p!==undefined||d in t)&&(t[d]=p))}if("not_valid"!==l)for(const e of n.refiner(t,u))e.explanation=s.message,l="not_refined",yield[e,undefined];"valid"===l&&(yield[undefined,t])}}}},{package:"@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/utils.cjs"}],[2938,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createEventEmitterProxy=void 0;const r=()=>!0,s=["newListener","removeListener"],i=e=>!s.includes(e);n.createEventEmitterProxy=function(e,{eventFilter:t=r}={}){const n="skipInternal"===t?i:t;if("function"!=typeof n)throw new Error("createEventEmitterProxy - Invalid eventFilter");let s=[],a=e,o=e=>{const t=a;a=e,s.forEach(({name:n,handler:r,addedWith:s,filtered:i})=>{i||e[s](n,r),t.off(n,r)})};const c=(e,t)=>{s=s.filter(n=>e!==n.name||t!==n.handler&&t!==n.unwrappedHandler)};return new Proxy(a,{get(e,t,r){if("setTarget"===t)return o;const i=a[t];return"function"==typeof i?function(...e){const o=e[1];if("once"===t){const t=(...n)=>(c(e[0],t),o(...n));e[1]=t}if("on"===t||"addListener"===t||"prependListener"===t||"once"===t)s.push({addedWith:t,name:e[0],unwrappedHandler:o,handler:e[1],filtered:!n(e[0])});else if("off"===t||"removeListener"===t){const t=s.find(({name:t,unwrappedHandler:n})=>t===e[0]&&n===e[1]);if(t===undefined)return a;c(e[0],e[1]),e[1]=t.handler}return i.apply(this===r?a:this,e)}:i},set:(e,t,n)=>"setTarget"===t?(o=n,!0):(a[t]=n,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createEventEmitterProxy.js"}],[2939,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSwappableProxy=void 0,n.createSwappableProxy=function(e){let t=e,n=e=>{t=e};return new Proxy(t,{get(e,r,s){if("setTarget"===r)return n;const i=t[r];return i instanceof Function?function(...e){return i.apply(this===s?t:this,e)}:i},set:(e,r,s)=>"setTarget"===r?(n=s,!0):(t[r]=s,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createSwappableProxy.js"}],[2940,{"./createEventEmitterProxy":2938,"./createSwappableProxy":2939,"./types":2941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./createEventEmitterProxy"),n),s(e("./createSwappableProxy"),n),s(e("./types"),n)}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/index.js"}],[2941,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/types.js"}],[2942,{"./constants.cjs":2944,"./errors.cjs":2945,"./utils.cjs":2955,"@metamask/auth-network-utils":2960,"@toruslabs/http-helpers":2965},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.authenticateUser=n.createAuthResponseHandler=void 0;const r=e("@metamask/auth-network-utils"),s=e("@toruslabs/http-helpers"),i=e("./constants.cjs"),a=e("./errors.cjs"),o=e("./utils.cjs");n.createAuthResponseHandler=(e,t)=>{let n=null;return async()=>{const s=(0,r.filterCompletedRequests)(e);if(s.length>=i.AUTHENTICATION_THRESHOLD){n??(n=Date.now());const e=Date.now()-n>1e3;if(t||e){const e=s.map(e=>{const{pubKey:t,keyIndex:n}=e.result;return{pubKey:t,keyIndex:n}}),t=(0,r.thresholdSame)(e,i.AUTHENTICATION_THRESHOLD);if(!t)throw a.TOPRFError.invalidAuthenticateResults(`Authentication threshold met, but pubKey/keyIndex data inconsistent: ${JSON.stringify(e)}`);return{authRequestResults:s.map(e=>e.result),isNewUser:!t.pubKey}}return undefined}if(t)throw a.TOPRFError.invalidAuthenticateResults(`Authentication threshold not met after all requests processed. Expected: ${i.AUTHENTICATION_THRESHOLD}, got: ${s.length}`);return undefined}};n.authenticateUser=async e=>{const{idToken:t,nodeEndpointsMap:c,authConnectionId:u,userId:l,commitmentSignatures:d,groupedAuthConnectionId:p,hashedIdToken:m,sessionPrivateKey:f}=e,h=(e=>{const t=e.groupedAuthConnectionId?{subVerifierAuthParams:[{subVerifierIdToken:e.idToken,subVerifier:e.authConnectionId}]}:undefined;if(e.groupedAuthConnectionId&&!e.hashedIdToken)throw a.TOPRFError.fromCode(a.TOPRFErrorCode.NoHashedIdToken);return{authData:{authenticationContext:{idToken:e.groupedAuthConnectionId&&e.hashedIdToken?e.hashedIdToken:e.idToken,verifier:e.groupedAuthConnectionId??e.authConnectionId,verifierId:e.userId},singleIdVerifierParams:t},commitmentSignatures:e.commitmentSignatures,clientTime:Math.floor(Date.now()/1e3).toString()}})({idToken:t,authConnectionId:u,userId:l,commitmentSignatures:d,groupedAuthConnectionId:p,hashedIdToken:m}),g=Object.values(c).map(async e=>(async(e,t)=>{const n=(0,s.generateJsonRPCObject)(i.JRPC_METHODS.AUTHENTICATE_REQUEST,t);return(0,o.postJRPCRequest)(e,n)})(e,h)),y=await(0,r.Some)(g,async(e,t)=>(0,n.createAuthResponseHandler)(e,t.allSettled)());return{authTokensData:await Promise.all(y.authRequestResults.map(async e=>{const{authToken:t,nodeIndex:n,nodePubKey:r,pubKey:s,keyIndex:i}=e;return{authToken:await(0,o.decryptAuthToken)(t,f),nodeIndex:n,nodePubKey:r,pubKey:s,keyIndex:i}})),isNewUser:y.isNewUser}}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/authenticateRequest.cjs"}],[2943,{"./constants.cjs":2944,"./errors.cjs":2945,"./utils.cjs":2955,"@metamask/auth-network-utils":2960,"@noble/hashes/utils":3126,"@toruslabs/http-helpers":2965},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.commitIdToken=n.createHandleCommitmentResponses=void 0;const r=e("@metamask/auth-network-utils"),s=e("@noble/hashes/utils"),i=e("@toruslabs/http-helpers"),a=e("./constants.cjs"),o=e("./errors.cjs"),c=e("./utils.cjs");n.createHandleCommitmentResponses=(e,t)=>{let n=null;return async()=>{const s=(0,r.filterCompletedRequests)(e);if(s.length>=a.COMMIT_RESPONSE_THRESHOLD){n??(n=Date.now());const e=Date.now()-n>1e3;return t||e?s.map(e=>e.result):undefined}if(t)throw o.TOPRFError.invalidCommitResults(`Threshold not met after all requests processed. Expected: ${a.COMMIT_RESPONSE_THRESHOLD}, got: ${s.length}`);return undefined}};n.commitIdToken=async e=>{const{idToken:t,endpoints:o,authConnectionId:u,sessionPubKeyX:l,sessionPubKeyY:d}=e,p=((e,t,n,r)=>({tokenCommitment:e,verifier:t,tempPubKeyX:n,tempPubKeyY:r}))((0,r.keccak256AndHexify)((0,s.utf8ToBytes)(t)).slice(2),u,l,d),m=o.map(async e=>(async(e,t)=>{const n=(0,i.generateJsonRPCObject)(a.JRPC_METHODS.COMMITMENT_REQUEST,t);return(0,c.postJRPCRequest)(e,n)})(e,p));return(0,r.Some)(m,async(e,t)=>(0,n.createHandleCommitmentResponses)(e,t.allSettled)())}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/commitRequest.cjs"}],[2944,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.JsonRpcErrorCodes=n.PW_BACKUP_ITEM_ID=n.MAX_PASSWORD_CHAIN_LENGTH=n.FIRST_KEY_INDEX=n.GENERATE_SHARE_THRESHOLD=n.GET_PUB_KEY_THRESHOLD=n.TOPRF_EVAL_THRESHOLD=n.AUTHENTICATION_THRESHOLD=n.COMMIT_RESPONSE_THRESHOLD=n.JRPC_METHODS=void 0,n.JRPC_METHODS={COMMITMENT_REQUEST:"TOPRFCommitmentRequest",AUTHENTICATE_REQUEST:"TOPRFAuthenticateRequest",STORE_KEY_SHARES_REQUEST:"TOPRFStoreKeyShareRequest",RESET_RATE_LIMIT_REQUEST:"TOPRFResetRateLimitRequest",TOPRF_EVAL_REQUEST:"TOPRFEvalRequest",GET_PUB_KEY_REQUEST:"TOPRFGetPubKeyRequest"},n.COMMIT_RESPONSE_THRESHOLD=4,n.AUTHENTICATION_THRESHOLD=4,n.TOPRF_EVAL_THRESHOLD=3,n.GET_PUB_KEY_THRESHOLD=3,n.GENERATE_SHARE_THRESHOLD=3,n.FIRST_KEY_INDEX=1,n.MAX_PASSWORD_CHAIN_LENGTH=10,n.PW_BACKUP_ITEM_ID="PW_BACKUP",function(e){e[e.ErrorCodeInvalidParams=-32602]="ErrorCodeInvalidParams",e[e.ErrorCodeInternal=-32603]="ErrorCodeInternal"}(r||(n.JsonRpcErrorCodes=r={}))}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/constants.cjs"}],[2945,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.TOPRFError=n.TOPRFErrorCode=void 0,function(e){e[e.Default=1e3]="Default",e[e.InvalidAuthenticateResults=1001]="InvalidAuthenticateResults",e[e.InvalidCommitResults=1002]="InvalidCommitResults",e[e.PwdInputRateLimitExceeded=1003]="PwdInputRateLimitExceeded",e[e.InsufficientValidResponses=1004]="InsufficientValidResponses",e[e.CouldNotDeriveThresholdAuthPubKey=1005]="CouldNotDeriveThresholdAuthPubKey",e[e.CouldNotDeriveEncryptionKey=1006]="CouldNotDeriveEncryptionKey",e[e.EndpointNotFound=1007]="EndpointNotFound",e[e.InsufficientAuthTokens=1008]="InsufficientAuthTokens",e[e.RateLimitExceeded=1009]="RateLimitExceeded",e[e.InvalidAuthToken=1010]="InvalidAuthToken",e[e.AuthTokenExpired=1011]="AuthTokenExpired",e[e.JsonRpcError=1012]="JsonRpcError",e[e.CouldNotFetchPassword=1013]="CouldNotFetchPassword",e[e.NoHashedIdToken=1014]="NoHashedIdToken",e[e.MaxKeyChainLengthExceeded=1015]="MaxKeyChainLengthExceeded"}(r||(n.TOPRFErrorCode=r={}));class s extends Error{constructor(e,t,n){super(t),this.code=e,this.meta=n,Object.defineProperty(this,"name",{value:"TOPRFError"})}static fromCode(e,t="",n){const i=t?` ${t}`:"";return s.messages[e]?new s(e,`${s.messages[e]}${i}`,n):new s(1e3,`${s.messages[r.Default]}${i}`,n)}static default(e=""){return new s(r.Default,`${s.messages[r.Default]} ${e}`)}static invalidAuthenticateResults(e=""){return s.fromCode(r.InvalidAuthenticateResults,e)}static invalidCommitResults(e=""){return s.fromCode(r.InvalidCommitResults,e)}static pwdInputRateLimitExceeded(e=""){return s.fromCode(r.PwdInputRateLimitExceeded,e)}static insufficientValidResponses(e=""){return s.fromCode(r.InsufficientValidResponses,e)}static couldNotDeriveThresholdAuthPubKey(e=""){return s.fromCode(r.CouldNotDeriveThresholdAuthPubKey,e)}static couldNotDeriveEncryptionKey(e=""){return s.fromCode(r.CouldNotDeriveEncryptionKey,e)}static endpointNotFound(e=""){return s.fromCode(r.EndpointNotFound,e)}static insufficientAuthTokens(e=""){return s.fromCode(r.InsufficientAuthTokens,e)}static rateLimitExceeded(e,t=""){return s.fromCode(r.RateLimitExceeded,t||e.message,{rateLimitDetails:e})}static invalidAuthToken(e=""){return s.fromCode(r.InvalidAuthToken,e)}static authTokenExpired(e=""){return s.fromCode(r.AuthTokenExpired,e)}static jsonRpcError(e){return s.fromCode(r.JsonRpcError,e)}static couldNotFetchPassword(e=""){return s.fromCode(r.CouldNotFetchPassword,e)}static maxKeyChainLengthExceeded(e=""){return s.fromCode(r.MaxKeyChainLengthExceeded,e)}toJSON(){return{name:this.name,code:this.code,message:this.message,meta:this.meta}}toString(){return JSON.stringify(this.toJSON())}}n.TOPRFError=s,s.messages={[r.Default]:"Something went wrong.",[r.InvalidAuthenticateResults]:"Invalid authenticate results.",[r.InvalidCommitResults]:"Invalid commit results.",[r.PwdInputRateLimitExceeded]:"Rate limit exceeded for password input attempts.",[r.InsufficientValidResponses]:"Insufficient valid responses.",[r.CouldNotDeriveThresholdAuthPubKey]:"Could not derive threshold auth pub key.",[r.CouldNotDeriveEncryptionKey]:"Could not derive encryption key.",[r.EndpointNotFound]:"Endpoint not found.",[r.InsufficientAuthTokens]:"Insufficient number of auth tokens.",[r.RateLimitExceeded]:"Rate limit error from server.",[r.InvalidAuthToken]:"Invalid auth token.",[r.AuthTokenExpired]:"Auth token expired.",[r.JsonRpcError]:"Json rpc error.",[r.CouldNotFetchPassword]:"Could not fetch password.",[r.MaxKeyChainLengthExceeded]:"Exceeded maximum key chain length.",[r.NoHashedIdToken]:"hashedIdToken is required when using single-id(aggregate) verifier."}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/errors.cjs"}],[2946,{"./constants.cjs":2944,"./errors.cjs":2945,"./utils.cjs":2955,"@metamask/auth-network-utils":2960,"@noble/hashes/utils":3126,"@toruslabs/http-helpers":2965},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPubKey=n.validatePubKey=void 0;const r=e("@metamask/auth-network-utils"),s=e("@noble/hashes/utils"),i=e("@toruslabs/http-helpers"),a=e("./constants.cjs"),o=e("./errors.cjs"),c=e("./utils.cjs");n.validatePubKey=async e=>{const t=(0,c.checkAuthTokenErrors)(e);if(t)throw t;const n=(0,r.filterCompletedRequests)(e);if(n.length<a.GET_PUB_KEY_THRESHOLD)throw o.TOPRFError.insufficientValidResponses(`Insufficient get pub key request results, expected ${a.GET_PUB_KEY_THRESHOLD} but got ${n.length}`);const i=(0,r.thresholdSame)(n.map(e=>({pubKey:e.result?.pubKey,keyIndex:e.result?.keyIndex})),a.GET_PUB_KEY_THRESHOLD);if(!i?.pubKey||!i?.keyIndex)throw o.TOPRFError.couldNotDeriveThresholdAuthPubKey();return{authPubKey:(0,s.hexToBytes)(i.pubKey),keyIndex:i.keyIndex}};n.getPubKey=async e=>{const{authTokens:t,nodeEndpointsMap:s,authConnectionId:u,userId:l,groupedAuthConnectionId:d}=e;if(t.length<a.GET_PUB_KEY_THRESHOLD)throw o.TOPRFError.insufficientAuthTokens(`At least ${a.GET_PUB_KEY_THRESHOLD} auth tokens are required.`);const p=(0,c.mergeEndpointsWithAuthTokens)(t,s).map(async({endpoint:e,authToken:t})=>{const n=((e,t,n,r)=>({authToken:e,verifier:r??t,verifierId:n}))(t.authToken,u,l,d);return(async(e,t)=>{const n=(0,i.generateJsonRPCObject)(a.JRPC_METHODS.GET_PUB_KEY_REQUEST,t);return(0,c.postJRPCRequest)(e,n)})(e,n)});return(0,r.Some)(p,async e=>(0,n.validatePubKey)(e))}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/getPubKeyRequest.cjs"}],[2947,{"./errors.cjs":2945,"./toprfSecureBackup.cjs":2954,"./utils.cjs":2955},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.TOPRFErrorCode=n.TOPRFError=void 0,s(e("./toprfSecureBackup.cjs"),n);var i=e("./errors.cjs");Object.defineProperty(n,"TOPRFError",{enumerable:!0,get:function(){return i.TOPRFError}}),Object.defineProperty(n,"TOPRFErrorCode",{enumerable:!0,get:function(){return i.TOPRFErrorCode}}),s(e("./utils.cjs"),n)}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/index.cjs"}],[2948,{"@noble/curves/abstract/utils":3108,"@noble/curves/secp256k1":3111,"@noble/hashes/hkdf":3116,"@noble/hashes/sha2":3122},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.derivePwEncKey=n.deriveEncryptionKey=n.deriveAuthenticationKeyPair=void 0;const r=e("@noble/curves/abstract/utils"),s=e("@noble/curves/secp256k1"),i=e("@noble/hashes/hkdf"),a=e("@noble/hashes/sha2");n.deriveAuthenticationKeyPair=function(e){const t=(0,i.hkdf)(a.sha256,e,undefined,"authentication-key",32),n=(0,r.bytesToNumberBE)(t)%s.secp256k1.CURVE.n;return{sk:n,pk:s.secp256k1.getPublicKey(n,!1)}},n.deriveEncryptionKey=function(e){return(0,i.hkdf)(a.sha256,e,undefined,"encryption-key",32)},n.derivePwEncKey=function(e){return(0,i.hkdf)(a.sha256,e,undefined,"pwd-encryption-key",32)}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/keyDerivation.cjs"}],[2949,{"./constants.cjs":2944,"@metamask/auth-network-utils":2960,"@noble/ciphers/aes":3098,"@noble/ciphers/webcrypto":3101,"@noble/curves/secp256k1":3111,"@noble/hashes/sha3":3124,"@noble/hashes/utils":3126,buffer:4038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r,s,i,a,o,c,u,l,d,p,m,f,h,g,y,S=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},b=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.MetadataStore=n.MetadataStoreError=n.MetadataLockStatus=void 0;const k=e("@metamask/auth-network-utils"),v=e("@noble/ciphers/aes"),j=e("@noble/ciphers/webcrypto"),w=e("@noble/curves/secp256k1"),T=e("@noble/hashes/sha3"),E=e("@noble/hashes/utils"),P=e("./constants.cjs");var _;!function(e){e[e.FAILED=0]="FAILED",e[e.SUCCESS=1]="SUCCESS"}(_||(n.MetadataLockStatus=_={}));class O extends Error{constructor(e){super(e),this.name="MetadataStoreError",Object.setPrototypeOf(this,O.prototype)}}n.MetadataStoreError=O;n.MetadataStore=class{constructor(e){r.add(this),s.set(this,"srp-backup"),i.set(this,void 0),a.set(this,void 0),S(this,i,e.metadataEndpoint,"f"),S(this,a,e.fetchMetadataAccessCreds,"f")}async addSecretDataItem(e){try{const{secretData:t,encKey:n,authKeyPair:s}=e;await b(this,r,"m",o).call(this,{secretData:t,encKey:n,authKeyPair:s,metadataEndpoint:b(this,i,"f")})}catch(e){throw new O(`failed to add metadata: ${e.message}`)}}async batchAddSecretData(e){try{const{secretData:t,encKey:n,authKeyPair:s}=e;await b(this,r,"m",c).call(this,{secretData:t,encKey:n,authKeyPair:s,metadataEndpoint:b(this,i,"f")})}catch(e){throw new O(`failed to add batch metadata: ${e.message}`)}}async fetchAllSecretDataItems(e,t,n){try{return await b(this,r,"m",u).call(this,{encKey:e,authKeyPair:t,metadataEndpoint:b(this,i,"f"),itemId:n})}catch(e){throw new O(`failed to fetch metadata: ${e.message}`)}}async acquireMetadataLock(e){const{status:t,id:n}=await b(this,r,"m",l).call(this,b(this,i,"f"),e);if(t!==_.SUCCESS)throw new O("Failed to acquire metadata lock");if(!n)throw new O("Failed to acquire metadata lock. Missing lock id");return n}async releaseMetadataLock(e,t){const n=await b(this,r,"m",d).call(this,b(this,i,"f"),e,t);if(n!==_.SUCCESS)throw new O(`Failed to release metadata lock with id ${t}`);return n}},s=new WeakMap,i=new WeakMap,a=new WeakMap,r=new WeakSet,o=async function(e){try{const t=`${e.metadataEndpoint}/enc_account_data/set`,n=b(this,r,"m",g).call(this,e.secretData.data,e.encKey),s=await b(this,r,"m",p).call(this,{itemId:e.secretData.itemId,data:n},e.authKeyPair),i=JSON.stringify(s),a=await fetch(t,{headers:{"Content-Type":"application/json"},method:"POST",body:i});if(!a.ok){const e=await a.json();throw new Error(`HTTP error message: ${e.error}`)}return(await a.json()).success}catch(e){const t=e.message||"Unknown error";throw new O(`failed to upsert metadata: ${t}`)}},c=async function(e){const t=Array.isArray(e.encKey)?e.encKey:e.secretData.map(()=>e.encKey);if(t.length!==e.secretData.length)throw new O("encKey must be of same length as secretData");try{const n=`${e.metadataEndpoint}/enc_account_data/batch_set`,s=e.secretData.map((e,n)=>({data:b(this,r,"m",g).call(this,e.data,t[n]),itemId:e.itemId})),i=await b(this,r,"m",p).call(this,s,e.authKeyPair),a=await fetch(n,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(i)});if(!a.ok){const e=await a.json();throw new Error(`HTTP error message: ${e.error}`)}return(await a.json()).success}catch(e){const t=e.message||"Unknown error";throw new O(`failed to upsert metadata: ${t}`)}},u=async function(e){try{const n=`${e.metadataEndpoint}/enc_account_data/get`,s=await b(this,r,"m",m).call(this,e.authKeyPair,e.itemId),i=await fetch(n,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(s)});if(!i.ok){const e=await i.json();throw new Error(`HTTP error message: ${e.error}`)}const a=await i.json();if(!a.data)throw new O("Failed to fetch metadata");return a.data.filter((t,n)=>e.itemId?a.ids[n]===e.itemId:a.ids[n]!==P.PW_BACKUP_ITEM_ID).map((n,s)=>{const i=new Uint8Array(t.from(n,"base64"));return{itemId:a.ids[s],data:b(this,r,"m",y).call(this,i,e.encKey)}}).filter(e=>e.data.length>0)}catch(e){const t=e.message||"Unknown error";throw new O(`failed to fetch metadata: ${t}`)}},l=async function(e,t){try{const n=b(this,r,"m",f).call(this,t),s=`${e}/acquireLock`,i=await fetch(s,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});if(!i.ok){const e=await i.json();throw new Error(`HTTP error message: ${e.error}`)}const a=await i.json();return{status:a.status,id:a.id}}catch(e){const t=e.message||"Unknown error";throw new O(`failed to acquire metadata lock: ${t}`)}},d=async function(e,t,n){try{const s=b(this,r,"m",f).call(this,t,n),i=`${e}/releaseLock`,a=await fetch(i,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(s)});if(!a.ok){const e=await a.json();throw new Error(`HTTP error message: ${e.error}`)}return(await a.json()).status}catch(e){const t=e.message||"Unknown error";throw new O(`failed to release metadata lock: ${t}`)}},p=async function(e,n){const i=Date.now().toString(),o=b(this,s,"f"),{metadataAccessToken:c}=await b(this,a,"f").call(this),u={timestamp:i,feature:o,authToken:c};Array.isArray(e)?u.data=e.map(e=>{const n=e.data;return{data:t.from(n).toString("base64"),itemId:e.itemId}}):(u.data=t.from(e.data).toString("base64"),u.itemId=e.itemId);const{pk:l,sk:d}=n,p=b(this,r,"m",h).call(this,u,d),m=(0,E.bytesToHex)(l);return{...u,signature:p,pubKey:m}},m=async function(e,t){const n=Date.now().toString(),i=b(this,s,"f"),{pk:o,sk:c}=e,{metadataAccessToken:u}=await b(this,a,"f").call(this),l={feature:i,timestamp:n,itemId:t,authToken:u},d=b(this,r,"m",h).call(this,l,c),p=(0,E.bytesToHex)(o);return{...l,pubKey:p,signature:d}},f=function(e,t){const{pk:n,sk:s}=e,i={timestamp:Date.now()};return{data:i,signature:b(this,r,"m",h).call(this,i,s,!0),key:(0,E.bytesToHex)(n),id:t}},h=function(e,t,n=!1){const r=(0,k.safeStringify)(e),s=(0,T.keccak_256)(r),i=w.secp256k1.sign(s,t);return n?i.toDERHex():i.toCompactHex()},g=function(e,t){return(0,j.managedNonce)(v.gcm)(t).encrypt(e)},y=function(e,t){return(0,j.managedNonce)(v.gcm)(t).decrypt(e)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/metadata.cjs"}],[2950,{"@noble/curves/abstract/modular":3106,"@noble/curves/abstract/utils":3108,"@noble/curves/secp256k1":3111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OPRF=n.generateRandomScalar=void 0;const r=e("@noble/curves/abstract/modular"),s=e("@noble/curves/abstract/utils"),i=e("@noble/curves/secp256k1");function a(){return(0,s.bytesToNumberBE)(i.secp256k1.utils.randomPrivateKey())}n.generateRandomScalar=a;const o=(0,r.Field)(i.secp256k1.CURVE.n);n.OPRF=class{static blind(e){const t=a(),n=(0,i.hashToCurve)(e).multiply(t);return{a:i.secp256k1.ProjectivePoint.fromAffine(n.toAffine()),r:t}}static blindEval(e,t){return t.multiply(e)}static async unblindAndHash(e,t,n,r){const s=o.inv(n),a=t.multiply(s);let c=i.secp256k1.CURVE.hash(new Uint8Array([...e,...a.toRawBytes()]));if(r){const e=c.length;c=await r.deriveKey(c.slice(0,e/2),c.slice(e/2))}return c}static async localEval(e,t,n){const{a:r,r:s}=this.blind(t),i=r.multiply(e);return this.unblindAndHash(t,i,s,n)}}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/oprf.cjs"}],[2951,{"./constants.cjs":2944,"./errors.cjs":2945,"./utils.cjs":2955,"@metamask/auth-network-utils":2960,"@noble/hashes/sha3":3124,"@toruslabs/http-helpers":2965},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.resetRateLimits=n.validateThresholdResetRateLimitResponses=n.sendResetRateLimitRequest=void 0;const r=e("@metamask/auth-network-utils"),s=e("@noble/hashes/sha3"),i=e("@toruslabs/http-helpers"),a=e("./constants.cjs"),o=e("./errors.cjs"),c=e("./utils.cjs");n.sendResetRateLimitRequest=async(e,t)=>{const n=(0,i.generateJsonRPCObject)(a.JRPC_METHODS.RESET_RATE_LIMIT_REQUEST,t);return(0,c.postJRPCRequest)(e,n)};n.validateThresholdResetRateLimitResponses=(e,t)=>{const n=(0,c.checkAuthTokenErrors)(e);if(n)throw n;const s=(0,r.filterCompletedRequests)(e);if(s.length<t)throw o.TOPRFError.insufficientValidResponses(`invalid reset rate limit results, expected ${t} but got ${s.length}`);return!0};n.resetRateLimits=async e=>{const{authTokens:t,nodeEndpointsMap:i,authConnectionId:a,groupedAuthConnectionId:o,userId:u,authPrivKey:l}=e,d=(0,c.mergeEndpointsWithAuthTokens)(t,i).map(async({endpoint:e,authToken:t})=>{const i=(0,r.toSnakeCaseKeys)({timestamp:Date.now(),nodeIndex:t.nodeIndex,action:"reset_ratelimit"}),d=(0,r.safeStringify)(i,{cmp:c.preserveKeyOrder}),p=(0,s.keccak_256)(d),m=(0,c.createEthereumSignature)(p,l),f=((e,t,n,r,s,i)=>({authToken:e,signature:t,signedData:n,verifier:i??r,verifierId:s}))(t.authToken,m,d,a,u,o);return(0,n.sendResetRateLimitRequest)(e,f)});return(0,r.Some)(d,async e=>(0,n.validateThresholdResetRateLimitResponses)(e,t.length))}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/resetRateLimits.cjs"}],[2952,{"./constants.cjs":2944,"./utils.cjs":2955,"@metamask/auth-network-utils":2960,"@toruslabs/http-helpers":2965},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.changeKeyShares=n.createKeyChangeRequestParams=n.storeKeyShares=n.sendStoreKeySharesRequest=n.createStoreKeySharesRequestParams=void 0;const r=e("@metamask/auth-network-utils"),s=e("@toruslabs/http-helpers"),i=e("./constants.cjs"),a=e("./utils.cjs");n.createStoreKeySharesRequestParams=async e=>{const{nodeEndpointsMap:t,authTokens:n,authConnectionId:s,groupedAuthConnectionId:i,userId:o,keyShareIndex:c,oprfKey:u,authPubKey:l}=e,d=await(0,a.generateShareImportItems)(t,n,u,c);return{verifier:i??s,verifierId:o,pubKey:(0,r.uint8ArrayToHex)(l),shareImportItems:d}};n.sendStoreKeySharesRequest=async(e,t)=>{const n=(0,s.generateJsonRPCObject)(i.JRPC_METHODS.STORE_KEY_SHARES_REQUEST,(0,r.toSnakeCaseKeys)(t));return(0,a.postJRPCRequest)(e,n)};n.storeKeyShares=async e=>{const{authTokens:t,nodeEndpointsMap:s,authConnectionId:i,groupedAuthConnectionId:o,userId:c,keyShareIndex:u,oprfKey:l,authPubKey:d}=e,p=await(0,n.createStoreKeySharesRequestParams)({nodeEndpointsMap:s,authTokens:t,authConnectionId:i,groupedAuthConnectionId:o,userId:c,keyShareIndex:u,oprfKey:l,authPubKey:d}),m=s[(0,r.getProxyCoordinatorNodeIndex)(t.map(e=>e.nodeIndex),o??i,c)],f=await(0,n.sendStoreKeySharesRequest)(m,p);if((0,r.isJSONRPCError)(f.error)){throw(0,a.parseJsonRpcError)(f.error)}return f};n.createKeyChangeRequestParams=async e=>{const{nodeEndpointsMap:t,authTokens:n,keyShareIndex:s,newOprfKey:i,newAuthPubKey:o,oldAuthPrivKey:c,authConnectionId:u,groupedAuthConnectionId:l,userId:d}=e,p=await(0,a.generateShareImportItems)(t,n,i,s,c);return{pubKey:(0,r.uint8ArrayToHex)(o),shareImportItems:p,verifier:l??u,verifierId:d}};n.changeKeyShares=async e=>{const{nodeEndpointsMap:t,authTokens:s,keyShareIndex:i,newOprfKey:o,newAuthPubKey:c,oldAuthPrivKey:u,authConnectionId:l,groupedAuthConnectionId:d,userId:p}=e,m=await(0,n.createKeyChangeRequestParams)({nodeEndpointsMap:t,authTokens:s,keyShareIndex:i,newOprfKey:o,newAuthPubKey:c,oldAuthPrivKey:u,authConnectionId:l,groupedAuthConnectionId:d,userId:p}),f=t[(0,r.getProxyCoordinatorNodeIndex)(s.map(e=>e.nodeIndex),l,p)],h=await(0,n.sendStoreKeySharesRequest)(f,m);if((0,r.isJSONRPCError)(h.error)){throw(0,a.parseJsonRpcError)(h.error)}return h}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/storeSharesRequest.cjs"}],[2953,{"./constants.cjs":2944,"./errors.cjs":2945,"./keyDerivation.cjs":2948,"./oprf.cjs":2950,"./utils.cjs":2955,"@metamask/auth-network-utils":2960,"@noble/curves/secp256k1":3111,"@toruslabs/http-helpers":2965},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.recoverTOPRFSeed=n.validateSeed=void 0;const r=e("@metamask/auth-network-utils"),s=e("@noble/curves/secp256k1"),i=e("@toruslabs/http-helpers"),a=e("./constants.cjs"),o=e("./errors.cjs"),c=e("./keyDerivation.cjs"),u=e("./oprf.cjs"),l=e("./utils.cjs");n.validateSeed=async(e,t,n,i)=>{const d=(0,l.checkAuthTokenErrors)(n);if(d)throw d;let p=(0,l.checkRateLimitErrors)(n);if(p)throw o.TOPRFError.rateLimitExceeded(p);const m=(0,r.filterCompletedRequests)(n);if(m.length<a.TOPRF_EVAL_THRESHOLD)throw o.TOPRFError.insufficientValidResponses(`Insufficient toprf eval request results, expected ${a.TOPRF_EVAL_THRESHOLD} but got ${m.length}`);const f=(0,r.thresholdSame)(m.map(e=>e.result?.pubKey),a.TOPRF_EVAL_THRESHOLD);if(!f)throw o.TOPRFError.couldNotDeriveThresholdAuthPubKey();const h=m.reduce((e,t)=>{const n=t.result;if(!("object"==typeof(r=n)&&null!==r&&"blindedOutputX"in r&&"string"==typeof r.blindedOutputX&&"blindedOutputY"in r&&"string"==typeof r.blindedOutputY&&"nodeIndex"in r&&"number"==typeof r.nodeIndex&&"keyShareIndex"in r&&"number"==typeof r.keyShareIndex&&"pubKey"in r&&"string"==typeof r.pubKey))return e;var r;const{blindedOutputX:i,blindedOutputY:a,nodeIndex:o,keyShareIndex:c}=n;return e.push({blindedOutput:s.secp256k1.ProjectivePoint.fromAffine({x:BigInt(`0x${i}`),y:BigInt(`0x${a}`)}),nodeIndex:o,keyShareIndex:c}),e},[]);if(h.length<a.TOPRF_EVAL_THRESHOLD)throw o.TOPRFError.insufficientValidResponses(`Insufficient valid blinded outputs, expected: ${a.TOPRF_EVAL_THRESHOLD}, received: ${h.length}`);const g=await(async(e,t,n,i,o)=>{const l=(0,r.kCombinations)(e.length,a.TOPRF_EVAL_THRESHOLD);for(const a of l){const l=e.filter((e,t)=>a.includes(t)),d=l.map(e=>e.blindedOutput),p=l.map(e=>BigInt(e.nodeIndex)),m=(0,r.lagrangeInterpolationForPoints)(s.secp256k1.CURVE.n,d,p),f=await u.OPRF.unblindAndHash(t,m,n,o),{pk:h}=(0,c.deriveAuthenticationKeyPair)(f),g=s.secp256k1.ProjectivePoint.fromHex(h),y=s.secp256k1.ProjectivePoint.fromHex(i);if(g.equals(y))return{seed:f,keyShareIndex:l[0].keyShareIndex}}return null})(h,e,t,f,i);if(!g){if(p=(0,l.extractRateLimitErrorFromResults)(n),p)throw o.TOPRFError.rateLimitExceeded(p);throw o.TOPRFError.couldNotDeriveEncryptionKey()}return g};n.recoverTOPRFSeed=async e=>{const{authTokens:t,nodeEndpointsMap:s,authConnectionId:c,groupedAuthConnectionId:d,userId:p,userInput:m,keyDeriver:f}=e;if(t.length<a.TOPRF_EVAL_THRESHOLD)throw o.TOPRFError.insufficientAuthTokens(`At least ${a.TOPRF_EVAL_THRESHOLD} auth tokens are required.`);const{a:h,r:g}=u.OPRF.blind(m),y=(0,l.mergeEndpointsWithAuthTokens)(t,s).map(async({endpoint:e,authToken:t})=>{const n=((e,t,n,r,s,i)=>({authToken:e,shareCoefficient:"1",blindedInputX:t,blindedInputY:n,verifier:i??r,verifierId:s}))(t.authToken,h.x.toString(16),h.y.toString(16),c,p,d);return(async(e,t)=>{const n=(0,i.generateJsonRPCObject)(a.JRPC_METHODS.TOPRF_EVAL_REQUEST,t);return(0,l.postJRPCRequest)(e,n)})(e,n)});try{return await(0,r.Some)(y,async e=>(0,n.validateSeed)(m,g,e,f))}catch(e){throw(0,l.getTOPRFError)(e)}}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/toprfEvalRequest.cjs"}],[2954,{"./authenticateRequest.cjs":2942,"./commitRequest.cjs":2943,"./constants.cjs":2944,"./errors.cjs":2945,"./getPubKeyRequest.cjs":2946,"./keyDerivation.cjs":2948,"./metadata.cjs":2949,"./oprf.cjs":2950,"./resetRateLimits.cjs":2951,"./storeSharesRequest.cjs":2952,"./toprfEvalRequest.cjs":2953,"./utils.cjs":2955,"@metamask/auth-network-utils":2960,"@noble/ciphers/utils":3100,"@noble/curves/abstract/utils":3108,"@noble/curves/secp256k1":3111,"@noble/hashes/utils":3126,"@toruslabs/fetch-node-details":3173,buffer:4038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r,s,i,a,o,c,u,l,d,p,m,f,h=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},g=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.ToprfSecureBackup=void 0;const y=e("@metamask/auth-network-utils"),S=e("@noble/ciphers/utils"),b=e("@noble/curves/abstract/utils"),k=e("@noble/curves/secp256k1"),v=e("@noble/hashes/utils"),j=e("@toruslabs/fetch-node-details"),w=e("./authenticateRequest.cjs"),T=e("./commitRequest.cjs"),E=e("./constants.cjs"),P=e("./errors.cjs"),_=e("./getPubKeyRequest.cjs"),O=e("./keyDerivation.cjs"),I=e("./metadata.cjs"),C=e("./oprf.cjs"),A=e("./resetRateLimits.cjs"),R=e("./storeSharesRequest.cjs"),x=e("./toprfEvalRequest.cjs"),M=e("./utils.cjs");class N{constructor(e){r.add(this),i.set(this,void 0),a.set(this,void 0),o.set(this,void 0),c.set(this,void 0),u.set(this,void 0),h(this,i,new j.NodeDetailManager({network:e.network}),"f"),h(this,a,e.nodeDetailsOverride,"f"),h(this,o,e.keyDeriver,"f"),h(this,c,e.fetchMetadataAccessCreds,"f")}async authenticate(e){const{nodeEndpoints:n,nodeEndpointsMap:s}=await g(this,r,"m",l).call(this);let i=k.secp256k1.utils.randomPrivateKey();try{const r=k.secp256k1.ProjectivePoint.fromPrivateKey(i),a=r.x.toString(16),o=r.y.toString(16);let c;e.groupedAuthConnectionId&&(c=(0,y.remove0x)((0,y.keccak256AndHexify)(t.from(e.idTokens[0],"utf8"))));const u=await(0,T.commitIdToken)({idToken:c??e.idTokens[0],authConnectionId:e.groupedAuthConnectionId??e.authConnectionId,sessionPubKeyX:a,sessionPubKeyY:o,endpoints:n}),l=u.reduce((e,t)=>(e[t.nodeIndex]=s[t.nodeIndex],e),{}),{authTokensData:d,isNewUser:p}=await(0,w.authenticateUser)({idToken:e.idTokens[0],authConnectionId:e.authConnectionId,userId:e.userId,sessionPrivateKey:i,nodeEndpointsMap:l,commitmentSignatures:u,groupedAuthConnectionId:e.groupedAuthConnectionId,hashedIdToken:c});return{nodeAuthTokens:d.map(e=>({authToken:e.authToken,nodeIndex:e.nodeIndex,nodePubKey:e.nodePubKey})),isNewUser:p}}finally{i.fill(0),i=null}}async createLocalKey(e){const{password:t,oprfKey:n=(0,C.generateRandomScalar)()}=e;let r=null;try{r=(0,b.utf8ToBytes)(t);const e=await C.OPRF.localEval(n,r,g(this,o,"f")),s=(0,O.deriveAuthenticationKeyPair)(e),i=(0,O.deriveEncryptionKey)(e);return{oprfKey:n,seed:e,authKeyPair:s,encKey:i,pwEncKey:(0,O.derivePwEncKey)(e)}}finally{r&&(r.fill(0),r=null)}}async persistLocalKey(e){const{nodeAuthTokens:t,oprfKey:n,authPubKey:s,authConnectionId:i,groupedAuthConnectionId:a,userId:o,keyShareIndex:c=E.FIRST_KEY_INDEX,oldAuthKeyPair:u}=e,{nodeEndpointsMap:d}=await g(this,r,"m",l).call(this),p=t.reduce((e,t)=>(e[t.nodeIndex]=d[t.nodeIndex],e),{});u?await(0,R.changeKeyShares)({nodeEndpointsMap:p,authConnectionId:i,groupedAuthConnectionId:a,userId:o,authTokens:t,keyShareIndex:c,newOprfKey:n,newAuthPubKey:s,oldAuthPrivKey:u.sk}):await(0,R.storeKeyShares)({nodeEndpointsMap:p,authConnectionId:i,groupedAuthConnectionId:a,userId:o,authTokens:t,keyShareIndex:c,oprfKey:n,authPubKey:s})}async createAndPersistEncKey(e){const{nodeAuthTokens:t,password:n,authConnectionId:r,userId:s}=e,{oprfKey:i,authKeyPair:a,encKey:o,pwEncKey:c}=await this.createLocalKey({password:n});return await this.persistLocalKey({nodeAuthTokens:t,oprfKey:i,authPubKey:a.pk,authConnectionId:r,userId:s}),{authKeyPair:{sk:a.sk,pk:a.pk},encKey:o,pwEncKey:c}}async recoverEncKey(e){const{nodeAuthTokens:t,password:n,authConnectionId:s,groupedAuthConnectionId:i,userId:a}=e;let c=null,u=null;try{const{nodeEndpointsMap:e}=await g(this,r,"m",l).call(this);c=(0,b.utf8ToBytes)(n);const{seed:d,keyShareIndex:p}=await(0,x.recoverTOPRFSeed)({authTokens:t,nodeEndpointsMap:e,authConnectionId:s,groupedAuthConnectionId:i,userId:a,userInput:c,keyDeriver:g(this,o,"f")});u=d;const m=(0,O.deriveAuthenticationKeyPair)(u),f=(0,O.deriveEncryptionKey)(u),h=(0,O.derivePwEncKey)(u),y=new Promise((n,r)=>{(0,A.resetRateLimits)({authTokens:t,nodeEndpointsMap:e,authConnectionId:s,groupedAuthConnectionId:i,userId:a,authPrivKey:m.sk}).then(()=>n()).catch(e=>{r(e)})});return{authKeyPair:m,encKey:f,pwEncKey:h,keyShareIndex:p,rateLimitResetResult:y}}finally{c&&(c.fill(0),c=null),u&&(u.fill(0),u=null)}}async changeEncKey(e){const{nodeAuthTokens:t,authConnectionId:n,groupedAuthConnectionId:s,userId:i,oldEncKey:a,oldPwEncKey:o,oldAuthKeyPair:c,newPassword:u,newKeyShareIndex:l,pregeneratedOprfKey:p}=e;if(!p&&!u)throw new Error("Either newPassword or pregeneratedOprfKey is required");if(p&&u)throw new Error("Only one of newPassword or pregeneratedOprfKey is allowed");const{oprfKey:m,authKeyPair:f,encKey:h,pwEncKey:y}=u?await this.createLocalKey({password:u}):p;let S,b,k;try{S=await g(this,r,"m",d).call(this),[b,k]=await Promise.all([S.acquireMetadataLock(c),S.acquireMetadataLock(f)]);const e=(await S.fetchAllSecretDataItems(a,c)).map(e=>({data:e.data}));if(!e||0===e.length)throw new Error("No existing data found to change key");const u=[{data:B("",o,c),itemId:E.PW_BACKUP_ITEM_ID},...e],p=[y,...e.map(()=>h)];return await S.batchAddSecretData({secretData:u,encKey:p,authKeyPair:f}),await this.persistLocalKey({nodeAuthTokens:t,oprfKey:m,authPubKey:f.pk,authConnectionId:n,groupedAuthConnectionId:s,userId:i,keyShareIndex:l,oldAuthKeyPair:c}),{authKeyPair:f,encKey:h,pwEncKey:y}}finally{if(S&&b&&k)try{await Promise.all([S.releaseMetadataLock(c,b),S.releaseMetadataLock(f,k)])}catch(e){console.error("Failed to release metadata lock:",e)}}}async addSecretDataItem(e){const t=await g(this,r,"m",d).call(this);await t.addSecretDataItem({...e,secretData:{data:e.secretData}})}async batchAddSecretDataItems(e){const t=await g(this,r,"m",d).call(this);let n;try{n=await t.acquireMetadataLock(e.authKeyPair),await t.batchAddSecretData({...e,secretData:e.secretData.map(e=>({data:e}))})}finally{if(n)try{await t.releaseMetadataLock(e.authKeyPair,n)}catch(e){console.error("Failed to release metadata lock:",e)}}}async fetchAllSecretDataItems(e){const t=await g(this,r,"m",d).call(this);return(await t.fetchAllSecretDataItems(e.decKey,e.authKeyPair)).map(e=>e.data)}async fetchAuthPubKey(e){const{nodeAuthTokens:t,authConnectionId:n,userId:s,groupedAuthConnectionId:i}=e,{nodeEndpointsMap:a}=await g(this,r,"m",l).call(this);return(0,_.getPubKey)({authTokens:t,nodeEndpointsMap:a,authConnectionId:n,userId:s,groupedAuthConnectionId:i})}async recoverPwEncKey(e){const{targetAuthPubKey:t,curPwEncKey:n,curAuthKeyPair:s,maxPwChainLength:i=E.MAX_PASSWORD_CHAIN_LENGTH}=e;let a={password:"",encKey:n,authKeyPair:s};for(let e=0;e<i;e++)try{if(a=await g(this,r,"m",m).call(this,{encKey:a.encKey,authKeyPair:a.authKeyPair}),(0,S.equalBytes)(a.authKeyPair.pk,t))return{pwEncKey:a.encKey}}catch(e){throw P.TOPRFError.couldNotFetchPassword(e.message)}throw P.TOPRFError.maxKeyChainLengthExceeded()}async getNodeDetails(){return g(this,r,"m",l).call(this)}}function B(e,t,n){return(0,b.utf8ToBytes)(JSON.stringify({pw:e,encKey:(0,v.bytesToHex)(t),authKeyPair:{sk:n.sk.toString(),pk:(0,v.bytesToHex)(n.pk)}}))}n.ToprfSecureBackup=N,s=N,i=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,r=new WeakSet,l=async function(){let e=g(this,a,"f")?.indexes,t=g(this,a,"f")?.pubKeys,n=g(this,a,"f")?.endpoints;if(e&&t&&Array.isArray(n))return g(s,s,"m",f).call(s,e,t,n),{nodeEndpoints:n,nodeEndpointsMap:(0,M.createNodeEndpointsMap)(n,e),nodeIndexes:e,nodePubkeys:t};const{torusNodeSSSEndpoints:r,torusIndexes:o,torusNodePub:c}=await g(this,i,"f").getNodeDetails({verifier:"auth-connection-id",verifierId:"user-id"});if(e??(e=o),t??(t=c),!Array.isArray(n)){if(!r){throw new Error("Failed to get node details")}n=n?r.map(e=>{const t=new URL(e);return t.pathname=n,t.href}):r}return g(s,s,"m",f).call(s,e,t,n),{nodeEndpoints:n,nodeEndpointsMap:(0,M.createNodeEndpointsMap)(n,e),nodeIndexes:e,nodePubkeys:t}},d=async function(){if(g(this,u,"f"))return g(this,u,"f");const{nodeEndpointsMap:e}=await g(this,r,"m",l).call(this),t=(await g(this,r,"m",p).call(this,e))[1],n=new I.MetadataStore({metadataEndpoint:t,fetchMetadataAccessCreds:g(this,c,"f")});return h(this,u,n,"f"),n},p=async function(e){const t={};return Object.entries(e).forEach(([e,n])=>{const r=new URL(n);t[e]=`${r.origin}/metadata`}),t},m=async function(e){const t=await g(this,r,"m",d).call(this),n=await t.fetchAllSecretDataItems(e.encKey,e.authKeyPair,E.PW_BACKUP_ITEM_ID);if(0===n.length)throw new Error("Failed to get previous password and keys");const s=function(e){const t=JSON.parse((0,S.bytesToUtf8)(e));return{pw:t.pw,encKey:(0,v.hexToBytes)(t.encKey),authKeyPair:{sk:BigInt(t.authKeyPair.sk),pk:(0,v.hexToBytes)(t.authKeyPair.pk)}}}(n[0].data);return{password:s.pw,encKey:s.encKey,authKeyPair:s.authKeyPair}},f=function(e,t,n){if(e.length!==t.length||e.length!==n.length){throw new Error("Node details arrays (indexes, pubKeys, endpoints) must have equal lengths")}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/toprfSecureBackup.cjs"}],[2955,{"./constants.cjs":2944,"./errors.cjs":2945,"@metamask/auth-network-utils":2960,"@noble/curves/secp256k1":3111,"@noble/hashes/sha3":3124,"@toruslabs/eccrypto":3172,"@toruslabs/http-helpers":2965,"bn.js":3977,buffer:4038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.preserveKeyOrder=n.getTOPRFError=n.parseJsonRpcError=n.mergeEndpointsWithAuthTokens=n.checkAuthTokenErrors=n.checkRateLimitErrors=n.extractRateLimitErrorFromResults=n.getMaxRateLimitError=n.createNodeEndpointsMap=n.generateShareImportItems=n.createKeyChangeShareImportItems=n.createNewUserShareImportItems=n.createKeyChangeProof=n.createEthereumSignature=n.prepareNodeShares=n.decryptAuthToken=n.postJRPCRequest=n.bigIntToBN=void 0;const s=e("@metamask/auth-network-utils"),i=e("@noble/curves/secp256k1"),a=e("@noble/hashes/sha3"),o=e("@toruslabs/eccrypto"),c=e("@toruslabs/http-helpers"),u=r(e("bn.js")),l=e("./constants.cjs"),d=e("./errors.cjs");n.bigIntToBN=e=>new u.default(e.toString());n.postJRPCRequest=async(e,t)=>{const n={...t};return n.params=(0,s.toSnakeCaseKeys)(t.params),(0,c.post)(e,n,{},{logTracingHeader:!1}).then(e=>(e.result&&(e.result=(0,s.toCamelCaseKeys)(e.result)),e)).catch(e=>({id:t.id,jsonrpc:"2.0",error:{code:-32e3,message:"Internal error",data:e}}))};n.decryptAuthToken=async(e,n)=>{const r=JSON.parse(e),i=(0,s.encParamsHexToBuf)(r.metadata),a=await(0,o.decrypt)(t.from(n),{...i,ciphertext:t.from(r.data,"hex")});return t.from(a).toString("base64")};const p=async(e,n)=>{const r=await(0,o.encrypt)(n,e,{padding:!0}),i=(0,s.encryptedParamsBufToHex)(r);return{data:t.from(r.ciphertext).toString("hex"),metadata:{...i}}};n.prepareNodeShares=(e,t)=>{const r=(0,n.bigIntToBN)(t),i=(0,s.getSecp256K1Curve)(),a=Object.keys(e).map(e=>parseInt(e,10)),o=((e,t,n,r)=>{const i=t.map(e=>new u.default(e)),a=r-1;return(0,s.generateRandomPolynomial)(e,a,n).generateShares(i)})(i,a,r,l.GENERATE_SHARE_THRESHOLD);return{shares:o,nodeIndexes:a}};n.createEthereumSignature=(e,t)=>{const n=t.toString(16).padStart(64,"0"),r=i.secp256k1.sign(e,n);return r.toCompactHex()+(r.recovery+27).toString(16).padStart(2,"0")};n.createKeyChangeProof=(e,r,i,o)=>{const c=Math.floor(Date.now()/1e3),u=(e=>e.toArrayLike(t,"be",32).toString("base64"))(e),l=(0,s.toSnakeCaseKeys)({shareData:u,keyShareIndex:r,nodeIndex:i,timestamp:c}),d=JSON.stringify(l),p=(0,a.keccak_256)(d);return{oldKeySignature:(0,n.createEthereumSignature)(p,o),signatureTimestamp:c}};n.createNewUserShareImportItems=async(e,n,r,s)=>Promise.all(r.map(async r=>{const{nodePubKey:i,nodeIndex:a,authToken:o}=r,c=new u.default(a).toString("hex",64),l=e[c].toJSON(),d=await p(t.from(l.share,"hex"),t.from(i,"hex")),m=await p(t.from(o,"base64"),t.from(i,"hex"));return{encryptedShare:JSON.stringify(d),encryptedAuthToken:JSON.stringify(m),keyShareIndex:s,nodeIndex:a,sssEndpoint:n[a]}}));n.createKeyChangeShareImportItems=async(e,r,s,i,a)=>Promise.all(s.map(async s=>{const{nodePubKey:o,nodeIndex:c,authToken:l}=s,d=new u.default(c).toString("hex",64),m=e[d].toJSON(),f=new u.default(m.share,16),h=(0,n.createKeyChangeProof)(f,i,c,a),g=await p(t.from(m.share,"hex"),t.from(o,"hex")),y=await p(t.from(l,"base64"),t.from(o,"hex"));return{encryptedShare:JSON.stringify(g),encryptedAuthToken:JSON.stringify(y),keyShareIndex:i,nodeIndex:c,sssEndpoint:r[c],...h}}));n.generateShareImportItems=async(e,t,r,s,...i)=>{const{shares:a}=(0,n.prepareNodeShares)(e,r),o=i[0];return o!==undefined?(0,n.createKeyChangeShareImportItems)(a,e,t,s,o):(0,n.createNewUserShareImportItems)(a,e,t,s)};function m(e,t){return e.remainingTime>t.remainingTime?e:t}function f(e){if(!(0,s.isJSONRPCError)(e)||-32602!==e.code||"Rate limit exceeded"!==e.message||!e.data)return undefined;const t=(0,s.toCamelCaseKeys)(e.data);return"string"!=typeof t?.message||"number"!=typeof t?.remainingTime||"number"!=typeof t?.lockTime||"number"!=typeof t?.guessCount?undefined:{message:t.message,remainingTime:t.remainingTime,lockTime:t.lockTime,guessCount:t.guessCount}}function h(e){if(e.code===l.JsonRpcErrorCodes.ErrorCodeInvalidParams){if(e.message.toLowerCase().includes("auth token expired"))return d.TOPRFError.authTokenExpired();if(e.message.toLowerCase().includes("invalid auth token"))return d.TOPRFError.invalidAuthToken();let t=e.message;if("string"==typeof e.data)t=e.data;else if(e.data){const n=(0,s.toCamelCaseKeys)(e.data);t=JSON.stringify(n)}return d.TOPRFError.jsonRpcError(t)}if(e.code===l.JsonRpcErrorCodes.ErrorCodeInternal){const t=e.data??e.message;return d.TOPRFError.jsonRpcError(t)}return d.TOPRFError.default(e.message)}n.createNodeEndpointsMap=(e,t)=>t.reduce((t,n)=>(t[n]=e[n-1],t),{}),n.getMaxRateLimitError=m,n.extractRateLimitErrorFromResults=function(e){let t;for(const n of e)if(n.result?.lockTimeSeconds&&n.result.lockTimeSeconds>0&&n.result.guessCount){const e={remainingTime:n.result.lockTimeSeconds,message:"Rate limit exceeded",lockTime:n.result.lockTimeSeconds,guessCount:n.result.guessCount};t=t?m(t,e):e}return t},n.checkRateLimitErrors=function(e){const t=(0,s.filterErrorResponses)(e);let n;for(const e of t){const t=f(e.error);t&&(n=n?m(n,t):t)}return n},n.checkAuthTokenErrors=function(e){const t=(0,s.filterErrorResponses)(e);for(const e of t)if((0,s.isJSONRPCError)(e.error)){const t=h(e.error);if(t.code===d.TOPRFErrorCode.AuthTokenExpired||t.code===d.TOPRFErrorCode.InvalidAuthToken)return t}return undefined},n.mergeEndpointsWithAuthTokens=function(e,t){return e.map(e=>{const n=t[e.nodeIndex];if(!n)throw d.TOPRFError.endpointNotFound(`Endpoint not found for node index ${e.nodeIndex}`);return{endpoint:n,authToken:e}})},n.parseJsonRpcError=h,n.getTOPRFError=function(e){return e instanceof s.SomeError&&e.predicate&&e.predicate instanceof d.TOPRFError?e.predicate:e},n.preserveKeyOrder=function(e,t){return 0}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup",file:"node_modules/@metamask/toprf-secure-backup/dist/utils.cjs"}],[2956,{"./errors.cjs":2958,"@noble/hashes/sha3":3124,"bn.js":3977,buffer:4038,"json-stable-stringify-without-jsonify":4611},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.toSnakeCaseKeys=n.toCamelCaseKeys=n.convertKeys=n.toSnake=n.toCamel=n.isJSONRPCError=n.filterErrorResponses=n.filterCompletedRequests=n.Some=n.getProxyCoordinatorNodeIndex=n.kCombinations=n.thresholdSame=n.safeStringify=n.add0x=n.remove0x=n.keccak256AndHexify=void 0;const s=e("@noble/hashes/sha3"),i=r(e("bn.js")),a=r(e("json-stable-stringify-without-jsonify")),o=e("./errors.cjs");function c(e){return`0x${t.from((0,s.keccak_256)(e)).toString("hex")}`}n.keccak256AndHexify=c,n.remove0x=function(e){return e.startsWith("0x")?e.slice(2):e},n.add0x=function(e){return e.startsWith("0x")?e:`0x${e}`},n.safeStringify=function(e,t){const n=(0,a.default)(e,t);if(!n)throw new Error("Failed to stringify");return n},n.thresholdSame=function(e,t){const n={};for(const r of e){const e=(0,a.default)(r);if(e&&(n[e]=n[e]?n[e]+1:1,n[e]===t))return r}return undefined},n.kCombinations=function*e(t,n){let r=t;if("number"==typeof r&&(r=Array.from({length:r},(e,t)=>t)),n>r.length||n<=0)return;if(n===r.length)return void(yield r);if(1===n){for(const e of r)yield[e];return}const s=Array.from({length:r.length-n+2},(e,t)=>t);for(const t of s)for(const s of e(r.slice(t+1),n-1))yield[r[t],...s]};function u(e){return e.replace(/_([a-z])/gu,(e,t)=>t.toUpperCase())}function l(e){return e.replace(/([A-Z])/gu,"_$1").toLowerCase()}function d(e,t){if(Array.isArray(e))return e.map(e=>d(e,t));if(null!==e&&"object"==typeof e){const n={};for(const[r,s]of Object.entries(e))n[t(r)]=d(s,t);return n}return e}n.getProxyCoordinatorNodeIndex=(e,n,r)=>{const s=`${n}${r}`,a=c(t.from(s,"utf8")).slice(2);return e[new i.default(a,"hex").mod(new i.default(e.length)).toNumber()]},n.Some=async function(e,t){let n;const r=new Array(e.length).fill(undefined),s=new Array(e.length).fill(undefined);for(const[i,a]of e.entries()){let e;try{const t=new Promise((t,n)=>{e=setTimeout(()=>n(new Error("Promise timed out")),1e4)});r[i]=await Promise.race([a,t])}catch(e){s[i]=e}finally{e&&clearTimeout(e)}try{const e=r.every(e=>e!==undefined),n=await t(r,{allSettled:e});if(n)return n}catch(e){n=e}}!function(e,t,n){let r=e.some(e=>e!==undefined);if(r)throw new o.SomeError({errors:e,responses:t,predicate:n});if(r=t.some(e=>Boolean(e?.error)),r){const e=t.map(e=>{const{error:t}=e;return t?.data&&t.data.length>0?new Error(t.data):undefined});throw new o.SomeError({errors:e,responses:t,predicate:n})}throw new o.SomeError({errors:e,responses:t,predicate:n})}(s,r,n)},n.filterCompletedRequests=function(e){return e.filter(e=>{const t=e&&"object"==typeof e,n=e,r=!n?.error,s=Boolean(n?.result);return t&&r&&s})},n.filterErrorResponses=function(e){return e.filter(e=>{const t=e&&"object"==typeof e,n=e,r=Boolean(n?.error);return t&&r})},n.isJSONRPCError=function(e){const t=e;return Boolean(e&&"object"==typeof e)&&"number"==typeof t?.code&&"string"==typeof t?.message},n.toCamel=u,n.toSnake=l,n.convertKeys=d;n.toCamelCaseKeys=e=>d(e,u);n.toSnakeCaseKeys=e=>d(e,l)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@metamask/auth-network-utils",file:"node_modules/@metamask/toprf-secure-backup/node_modules/@metamask/auth-network-utils/dist/common.cjs"}],[2957,{"./common.cjs":2956,buffer:4038,elliptic:4211},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.uint8ArrayToHex=n.derivePubKey=n.toChecksumAddress=n.encParamsHexToBuf=n.encryptedParamsBufToHex=n.generatePrivateKey=n.getSecp256K1Curve=void 0;const r=e("elliptic"),s=e("./common.cjs");let i=null;n.getSecp256K1Curve=function(){return i=i??new r.ec("secp256k1"),i},n.generatePrivateKey=function(e){return e.genKeyPair().getPrivate()},n.encryptedParamsBufToHex=function(e){return{iv:t.from(e.iv).toString("hex"),ephemPublicKey:t.from(e.ephemPublicKey).toString("hex"),mac:t.from(e.mac).toString("hex"),mode:"AES256"}},n.encParamsHexToBuf=function(e){return{iv:t.from(e.iv,"hex"),ephemPublicKey:t.from(e.ephemPublicKey,"hex"),mac:t.from(e.mac,"hex")}},n.toChecksumAddress=function(e){const n=(r=e,r.startsWith("0x")||r.startsWith("0X")?r.slice(2):r).toLowerCase();var r;const i=t.from(n,"utf8"),a=(0,s.keccak256AndHexify)(i).slice(2);let o="0x";for(let e=0;e<n.length;e++)parseInt(a[e],16)>=8?o+=n[e].toUpperCase():o+=n[e];return o},n.derivePubKey=function(e,t){const n=t.toString(16,64);return e.keyFromPrivate(n,"hex").getPublic()},n.uint8ArrayToHex=function(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@metamask/auth-network-utils",file:"node_modules/@metamask/toprf-secure-backup/node_modules/@metamask/auth-network-utils/dist/cryptoUtils.cjs"}],[2958,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SomeError=void 0;class r extends Error{constructor({errors:e,responses:t,predicate:n}){const s=n?.message??"unknown error";super(`Unable to resolve enough promises. \n      errors: ${e.map(e=>e?.message??e).join(", ")}, \n      predicate error: ${s},\n      ${t.length} responses,\n      responses: ${JSON.stringify(t)}`),this.errors=e,this.responses=t,this.predicate=n,Object.setPrototypeOf(this,r.prototype)}toString(){return this.message}}n.SomeError=r}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@metamask/auth-network-utils",file:"node_modules/@metamask/toprf-secure-backup/node_modules/@metamask/auth-network-utils/dist/errors.cjs"}],[2959,{"bn.js":3977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.waitFor=n.capitalizeFirstLetter=n.generateEmptyBNArray=void 0;const s=r(e("bn.js"));n.generateEmptyBNArray=function(e){return Array.from({length:e},()=>new s.default(0))},n.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.waitFor=async function(e=2e3){return new Promise(t=>{setTimeout(t,e)})}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@metamask/auth-network-utils",file:"node_modules/@metamask/toprf-secure-backup/node_modules/@metamask/auth-network-utils/dist/helpers.cjs"}],[2960,{"./common.cjs":2956,"./cryptoUtils.cjs":2957,"./errors.cjs":2958,"./helpers.cjs":2959,"./lagrangeInterpolation.cjs":2961,"./point.cjs":2962,"./polynomial.cjs":2963,"./share.cjs":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Share=n.Polynomial=n.Point=void 0;var a=e("./point.cjs");Object.defineProperty(n,"Point",{enumerable:!0,get:function(){return i(a).default}});var o=e("./polynomial.cjs");Object.defineProperty(n,"Polynomial",{enumerable:!0,get:function(){return i(o).default}});var c=e("./share.cjs");Object.defineProperty(n,"Share",{enumerable:!0,get:function(){return i(c).default}}),s(e("./errors.cjs"),n),s(e("./common.cjs"),n),s(e("./lagrangeInterpolation.cjs"),n),s(e("./cryptoUtils.cjs"),n),s(e("./helpers.cjs"),n)}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@metamask/auth-network-utils",file:"node_modules/@metamask/toprf-secure-backup/node_modules/@metamask/auth-network-utils/dist/index.cjs"}],[2961,{"./cryptoUtils.cjs":2957,"./helpers.cjs":2959,"./point.cjs":2962,"./polynomial.cjs":2963,"@noble/curves/abstract/modular":3106,"@noble/curves/abstract/utils":3108,"@noble/curves/secp256k1":3111,"@noble/hashes/utils":3126,"bn.js":3977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.lagrangeInterpolation=n.lagrangeInterpolationForScalars=n.lagrangeInterpolationForPoints=n.lagrangeInterpolationNoble=n.generateRandomScalar=n.generateRandomPolynomialNoble=n.generateRandomPolynomial=n.lagrangeInterpolatePolynomial=void 0;const o=e("@noble/curves/abstract/modular"),c=e("@noble/curves/abstract/utils"),u=e("@noble/curves/secp256k1"),l=e("@noble/hashes/utils"),d=a(e("bn.js")),p=e("./cryptoUtils.cjs"),m=e("./helpers.cjs"),f=a(e("./point.cjs")),h=i(e("./polynomial.cjs"));function g(e,t){const n=(0,p.generatePrivateKey)(t);return e.find(e=>e.eq(n))?g(e,t):n}function y(e,t,n){const r=(0,m.generateEmptyBNArray)(e.length+t.length-1);for(let s=0;s<e.length;s++)for(let i=0;i<t.length;i++)r[s+i]=r[s+i].add(e[s].mul(t[i])).umod(n);return r}function S(e,t){const n=t.length,r=(0,m.generateEmptyBNArray)(n);if(!e.n)throw new Error("Curve is not set");for(let s=0;s<n;s++){let i=[new d.default(1)];for(let r=0;r<n;r++){if(r===s)continue;const n=t[s].xCoordinate.sub(t[r].xCoordinate).umod(e.n).invm(e.n);i=y(i,[t[r].xCoordinate.neg().umod(e.n).mul(n).umod(e.n),n],e.n)}for(let n=0;n<i.length;n++)r[n]=r[n].add(i[n].mul(t[s].yCoordinate)).umod(e.n)}return new h.default(r,e)}function b(e=u.secp256k1.CURVE.n){const t=(0,o.getMinHashLength)(e),n=(0,l.randomBytes)(t);return(0,c.bytesToNumberBE)(n)%e}function k(e,t,n){if(t.length!==n.length)throw new Error("Values and nodeIndex arrays must have the same length");if(0===t.length)throw new Error("Cannot interpolate with empty arrays");const r=(0,o.Field)(e),s="bigint"==typeof t[0];let i=s?0n:u.secp256k1.ProjectivePoint.ZERO;for(let e=0;e<t.length;e++){let a=1n,o=1n;for(let t=0;t<n.length;t++){if(e===t)continue;const s=n[e],i=n[t],c=r.neg(i),u=r.sub(s,i);a=r.mul(a,c),o=r.mul(o,u)}const c=r.mul(a,r.inv(o));if(s){const n=t[e],s=r.mul(n,c);i=r.add(i,s)}else{const n=t[e].multiply(c);i=i.add(n)}}return i}n.lagrangeInterpolatePolynomial=S,n.generateRandomPolynomial=function(e,t,n,r){let s;if(s=n||g([new d.default(0)],e),!r){const n=[s];for(let r=0;r<t;r+=1){const t=g(n,e);n.push(t)}return new h.default(n,e)}if(!Array.isArray(r))throw new Error("deterministic shares in generateRandomPolynomial should be an array");if(r.length>t)throw new Error("deterministicShares in generateRandomPolynomial should be less or equal than degree to ensure an element of randomness");const i={};r.forEach(t=>{i[t.shareIndex.toString("hex",64)]=new f.default(t.shareIndex,t.share,e)});for(let n=0;n<t-r.length;n+=1){const t=[new d.default(0)];Object.keys(i).forEach(e=>{t.push(new d.default(e,"hex"))});const n=g(t,e);i[n.toString("hex",64)]=new f.default(n,(0,p.generatePrivateKey)(e),e)}return i[0]=new f.default(new d.default(0),s,e),S(e,Object.values(i))},n.generateRandomPolynomialNoble=function(e,t,n){const r=[n??b(e)];for(let n=1;n<=t;n++)r[n]=b(e);return new h.PolynomialNoble(r,e)},n.generateRandomScalar=b,n.lagrangeInterpolationNoble=k,n.lagrangeInterpolationForPoints=function(e,t,n){return k(e,t,n)},n.lagrangeInterpolationForScalars=function(e,t,n){return k(e,t,n)},n.lagrangeInterpolation=function(e,t,n){if(t.length!==n.length)throw new Error("shares not equal to nodeIndex length in lagrangeInterpolation");const r=t.map((t,r)=>new f.default(n[r],t,e));return S(e,r).polynomial[0]}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@metamask/auth-network-utils",file:"node_modules/@metamask/toprf-secure-backup/node_modules/@metamask/auth-network-utils/dist/lagrangeInterpolation.cjs"}],[2962,{"bn.js":3977,buffer:4038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const s=r(e("bn.js"));n.default=class{constructor(e,t,n){this.xCoordinate=new s.default(e,"hex"),this.yCoordinate=new s.default(t,"hex"),this.ecCurve=n}encode(e){switch(e){case"arr":return t.concat([t.from("04","hex"),t.from(this.xCoordinate.toString("hex",64),"hex"),t.from(this.yCoordinate.toString("hex",64),"hex")]);case"elliptic-compressed":{const e=this.ecCurve.keyFromPublic({x:this.xCoordinate.toString("hex",64),y:this.yCoordinate.toString("hex",64)},"hex");return t.from(e.getPublic(!0,"hex"),"hex")}default:throw new Error("encoding doesn't exist in Point")}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@metamask/auth-network-utils",file:"node_modules/@metamask/toprf-secure-backup/node_modules/@metamask/auth-network-utils/dist/point.cjs"}],[2963,{"./share.cjs":2964,"@noble/curves/abstract/modular":3106,"bn.js":3977,elliptic:4211},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PolynomialNoble=void 0;const c=e("@noble/curves/abstract/modular"),u=o(e("bn.js")),l=e("elliptic"),d=o(e("./share.cjs"));class p{constructor(e,t,n){r.set(this,void 0),s.set(this,void 0),n?(i(this,r,e,"f"),i(this,s,(0,c.Field)(n.curveN),"f"),this.polynomial=a(this,r,"f").map(e=>new u.default(e.toString()))):this.polynomial=e,this.ecCurve=t}getThreshold(){return this.polynomial.length}polyEval(e){const t=new u.default(e,"hex");let n=new u.default(t),r=new u.default(0);r=r.add(this.polynomial[0]);const{n:s}=this.ecCurve;if(!s)throw new Error("Curve is not set");for(const e of this.polynomial.slice(1)){const i=n.mul(e);r=r.add(i),r=r.umod(s),n=n.mul(new u.default(t)),n=n.umod(s)}return r}polyEvalNoble(e){if(!a(this,r,"f")||!a(this,s,"f"))throw new Error("Noble implementation not initialized");if(0===a(this,r,"f").length)return 0n;let t=a(this,r,"f")[0],n=e;for(let i=1;i<a(this,r,"f").length;i++)t=a(this,s,"f").add(t,a(this,s,"f").mul(a(this,r,"f")[i],n)),n=a(this,s,"f").mul(n,e);return t}generateShares(e){const t=e.map(e=>{if("bigint"==typeof e)return new u.default(e.toString());if("number"==typeof e)return new u.default(e);if(e instanceof u.default)return e;if("string"==typeof e)return new u.default(e,"hex");throw new Error("Invalid share index")}),n={};for(const e of t)n[e.toString("hex",64)]=new d.default(e,this.polyEval(e));return n}}r=new WeakMap,s=new WeakMap,n.default=p;n.PolynomialNoble=class extends p{constructor(e,t){super(e,new l.ec("secp256k1"),{curveN:t})}}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@metamask/auth-network-utils",file:"node_modules/@metamask/toprf-secure-backup/node_modules/@metamask/auth-network-utils/dist/polynomial.cjs"}],[2964,{"bn.js":3977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const s=r(e("bn.js"));class i{constructor(e,t){this.share=new s.default(t,"hex"),this.shareIndex=new s.default(e,"hex")}static fromJSON(e){const{share:t,shareIndex:n}=e;return new i(n,t)}toJSON(){return{share:this.share.toString("hex",64),shareIndex:this.shareIndex.toString("hex",64)}}}n.default=i}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@metamask/auth-network-utils",file:"node_modules/@metamask/toprf-secure-backup/node_modules/@metamask/auth-network-utils/dist/share.cjs"}],[2965,{"@babel/runtime/helpers/objectSpread2":613,deepmerge:4191,loglevel:4802},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@babel/runtime/helpers/objectSpread2"),s=e("deepmerge"),i=e("loglevel");const a=i.getLogger("http-helpers");a.setLevel(i.levels.INFO);let o="torus-default",c="";const u="x-api-key",l="x-embed-host";let d=null;const p=[],m=[];async function f(e,t){let n=null;try{n=new URL(e)}catch{}if(d&&n&&(p.includes(n.origin)||m.includes(n.pathname))){return await d.startSpan({name:e,op:"http.client"},async()=>await fetch(e,t))}return fetch(e,t)}function h(){const e={};return o&&(e[u]=o),c&&(e[l]=c),e}function g(e){a.info(`Response: ${e.status} ${e.statusText}`),a.info(`Url: ${e.url}`)}const y=async(e,t)=>{let n=null;try{const r=new Promise((t,r)=>{n=setTimeout(()=>{r(new Error(`Timed out in ${e}ms`))},e)}),s=await Promise.race([t,r]);return null!=n&&clearTimeout(n),s}catch(e){throw null!=n&&clearTimeout(n),e}},S=async(e,t={},n={})=>{const i={mode:"cors",headers:{}};n.useAPIKey&&(i.headers=r(r({},i.headers),h())),t.method="GET";const a=s(i,t),o=await f(e,a);if(o.ok){const e=o.headers.get("content-type");return null!=e&&e.includes("application/json")?o.json():o.text()}throw g(o),o};n.clearAPIKey=function(){o="torus-default"},n.clearEmbedHost=function(){c=""},n.enableSentryTracing=function(e,t,n){d=e,p.push(...t),m.push(...n)},n.gatewayAuthHeader=u,n.gatewayEmbedHostHeader=l,n.generateJsonRPCObject=(e,t)=>({jsonrpc:"2.0",method:e,id:10,params:t}),n.get=S,n.getAPIKey=function(){return o},n.getEmbedHost=function(){return c},n.patch=async(e,t={},n={},i={})=>{const a={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(a.headers=r(r({},a.headers),h())),n.method="PATCH";const o=s(a,n);i.isUrlEncodedData?(o.body=t,"application/json; charset=utf-8"===o.headers["Content-Type"]&&delete o.headers["Content-Type"]):o.body=JSON.stringify(t);const c=await f(e,o);if(c.ok){const e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw g(c),c},n.post=(e,t={},n={},i={})=>{const o={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(o.headers=r(r({},o.headers),h())),n.method="POST";const c=s(o,n);return i.isUrlEncodedData?(c.body=t,"application/json; charset=utf-8"===c.headers["Content-Type"]&&delete c.headers["Content-Type"]):c.body=JSON.stringify(t),y(i.timeout||6e4,f(e,c).then(e=>{if(i.logTracingHeader&&function(e){const t=e.headers.get("x-web3-correlation-id");t&&a.info(`Request tracing with traceID = ${t}`)}(e),e.ok){const t=e.headers.get("content-type");return null!=t&&t.includes("application/json")?e.json():e.text()}throw g(e),e}))},n.promiseRace=(e,t,n=6e4)=>Promise.race([S(e,t),new Promise((e,t)=>{setTimeout(()=>{t(new Error("timed out"))},n)})]),n.promiseTimeout=y,n.put=async(e,t={},n={},i={})=>{const a={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(a.headers=r(r({},a.headers),h())),n.method="PUT";const o=s(a,n);i.isUrlEncodedData?(o.body=t,"application/json; charset=utf-8"===o.headers["Content-Type"]&&delete o.headers["Content-Type"]):o.body=JSON.stringify(t);const c=await f(e,o);if(c.ok){const e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw g(c),c},n.remove=async(e,t={},n={},i={})=>{const a={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(a.headers=r(r({},a.headers),h())),n.method="DELETE";const o=s(a,n);i.isUrlEncodedData?(o.body=t,"application/json; charset=utf-8"===o.headers["Content-Type"]&&delete o.headers["Content-Type"]):o.body=JSON.stringify(t);const c=await f(e,o);if(c.ok){const e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw g(c),c},n.setAPIKey=function(e){o=e},n.setEmbedHost=function(e){c=e},n.setLogLevel=function(e){a.setLevel(e)}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/http-helpers",file:"node_modules/@metamask/toprf-secure-backup/node_modules/@toruslabs/http-helpers/dist/lib.cjs/index.js"}]],[],{});