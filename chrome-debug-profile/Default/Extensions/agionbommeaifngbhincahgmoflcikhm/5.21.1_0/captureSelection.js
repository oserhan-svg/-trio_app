!function(){if(!0===window.hasRun)return!0;window.hasRun=!0;var t={origin:null,canvas:null,context:null,init:function(){return chrome.runtime.onMessage.addListener((function(i,e,n){"initSelection"!==i.msg||document.querySelector(".captureSelectionShowing")||(console.log("initSelection Start"),t.start(),n()),"clearCaptureSelection"===i.msg&&t.removeCanvas()})),console.log("captureSelectionInitiated"),"selectionInitiated"},createCanvas:function(){var t=this;console.log("createCanvas"),this.canvas=document.createElement("canvas"),this.canvas.style.position="fixed",this.canvas.style.zIndex=1e5,this.canvas.style.left=this.canvas.style.top="0px",this.canvas.style.cursor="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='32' height='32' xmlns:v='https://vecta.io/nano'%3E%3Cdefs%3E%3Cpath id='A' d='M0 0h32v32H0z'/%3E%3C/defs%3E%3CclipPath id='B'%3E%3Cuse xlink:href='%23A'/%3E%3C/clipPath%3E%3Cg clip-path='url(%23B)'%3E%3Cdefs%3E%3Cpath id='C' d='M0 0h32v32H0z'/%3E%3C/defs%3E%3CclipPath id='D'%3E%3Cuse xlink:href='%23C'/%3E%3C/clipPath%3E%3Cg opacity='.85' clip-path='url(%23D)'%3E%3Cdefs%3E%3Cpath id='E' d='M4 4h23v23H4z'/%3E%3C/defs%3E%3CclipPath id='F'%3E%3Cuse xlink:href='%23E'/%3E%3C/clipPath%3E%3Cg clip-path='url(%23F)'%3E%3Cdefs%3E%3Cpath id='G' d='M4 4h23v23H4z'/%3E%3C/defs%3E%3CclipPath id='H'%3E%3Cuse xlink:href='%23G'/%3E%3C/clipPath%3E%3Cg opacity='.85' clip-path='url(%23H)'%3E%3Cdefs%3E%3Cpath id='I' d='M15 4h1v23h-1z'/%3E%3C/defs%3E%3CclipPath id='J'%3E%3Cuse xlink:href='%23I'/%3E%3C/clipPath%3E%3Cg fill='%23FFFFFF'%3E%3Cpath clip-path='url(%23J)' d='M15 4h1v11h-1zm0 12h1v11h-1z'/%3E%3C/g%3E%3C/g%3E%3Cg opacity='.85' clip-path='url(%23H)'%3E%3Cdefs%3E%3Cpath id='K' d='M4 15h23v1H4z'/%3E%3C/defs%3E%3CclipPath id='L'%3E%3Cuse xlink:href='%23K'/%3E%3C/clipPath%3E%3Cg fill='%23FFFFFF'%3E%3Cpath clip-path='url(%23L)' d='M4 15h11v1H4zm12 0h11v1H16z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3Cg opacity='.15' clip-path='url(%23D)'%3E%3Cdefs%3E%3Cpath id='M' d='M10 10h11v11H10z'/%3E%3C/defs%3E%3CclipPath id='N'%3E%3Cuse xlink:href='%23M'/%3E%3C/clipPath%3E%3Cg clip-path='url(%23N)'%3E%3Cdefs%3E%3Cpath id='O' d='M10 10h11v11H10z'/%3E%3C/defs%3E%3CclipPath id='P'%3E%3Cuse xlink:href='%23O'/%3E%3C/clipPath%3E%3Cpath clip-path='url(%23P)' fill='%23FFFFFF' d='M21 15.5c0 3-2.5 5.5-5.5 5.5S10 18.5 10 15.5s2.5-5.5 5.5-5.5 5.5 2.5 5.5 5.5'/%3E%3C/g%3E%3C/g%3E%3Cg opacity='.3' clip-path='url(%23D)'%3E%3Cdefs%3E%3Cpath id='Q' d='M9.5 9.5h12v12h-12z'/%3E%3C/defs%3E%3CclipPath id='R'%3E%3Cuse xlink:href='%23Q'/%3E%3C/clipPath%3E%3Cg clip-path='url(%23R)'%3E%3Cdefs%3E%3Cpath id='S' d='M9.5 9.5h12v12h-12z'/%3E%3C/defs%3E%3CclipPath id='T'%3E%3Cuse xlink:href='%23S'/%3E%3C/clipPath%3E%3Ccircle clip-path='url(%23T)' fill='none' stroke='%23FFFFFF' cx='15.5' cy='15.5' r='5.5'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\") 16 16, crosshair",this.canvas.style.imageRendering="pixelated",this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.canvas.onmousedown=function(i){t.origin={x:i.offsetX,y:i.offsetY}},this.canvas.onmouseup=function(i){t.selectionStop(i)},this.canvas.onmousemove=function(i){t.render(i)},document.body.appendChild(this.canvas),this.context=this.canvas.getContext("2d")},start:function(){this.createCanvas(),this.context.beginPath(),this.context.rect(0,0,window.innerWidth,window.innerHeight),this.context.fillStyle="rgba(0,0,0,0.7)",this.context.fill(),this.canvasText=document.createElement("div"),this.canvasText.className="captureSelectionShowing",this.canvasText.style.cssText='pointer-events: none;width: auto;z-index:100001;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font:15px "Helvetica neue", Helvetica, Arial, sans-serif;color:#fff;',this.canvasText.innerHTML="select the area that you want to capture...",document.body.appendChild(this.canvasText),console.log("captureSelection Started")},render:function(t){this.origin&&this.drawSelection(t)},drawSelection:function(t){this.canvasText.remove(),this.context.clearRect(0,0,window.innerWidth,window.innerHeight),this.context.beginPath(),this.context.rect(0,0,window.innerWidth,window.innerHeight),this.context.fillStyle="rgba(0,0,0,0.7)",this.context.fill(),this.context.globalCompositeOperation="destination-out",this.context.beginPath(),this.context.rect(this.origin.x,this.origin.y,t.offsetX-this.origin.x,t.offsetY-this.origin.y),this.context.fill(),this.context.globalCompositeOperation="source-over"},selectionStop:function(t){var i=Math.min(this.origin.x,t.offsetX),e=Math.min(this.origin.y,t.offsetY),n=Math.max(this.origin.x,t.offsetX),a=Math.max(this.origin.y,t.offsetY),s={x:(i-window.visualViewport.offsetLeft)*window.devicePixelRatio*window.visualViewport.scale,y:(e-window.visualViewport.offsetTop)*window.devicePixelRatio*window.visualViewport.scale,width:Math.abs(i-n)*window.devicePixelRatio*window.visualViewport.scale,height:Math.abs(e-a)*window.devicePixelRatio*window.visualViewport.scale};this.removeCanvas(),chrome.runtime.sendMessage({msg:"returnSelection",rect:s},(function(){}))},removeCanvas:function(){var t,i;null===(t=this.canvas)||void 0===t||t.remove(),null===(i=this.canvasText)||void 0===i||i.remove(),this.canvas=this.context=this.origin=this.canvasText=null}};t.init()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FwdHVyZVNlbGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ltYWdleWUvLi9zcmMvbGVnYWN5L2NhcHR1cmVTZWxlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGFrZXMgYSBzY3JlZW5zaG90IG9mIHRoZSBzZWxlY3RlZCBhcmVhXG4vLyBDYWxsaW5nIGJ5IHBvcHVwLmpzXG5cbihmdW5jdGlvbiAoKSB7XG4gIGlmICh3aW5kb3cuaGFzUnVuID09PSB0cnVlKSByZXR1cm4gdHJ1ZTsgLy8gV2lsbCB1bHRpbWF0ZWx5IGJlIHBhc3NlZCBiYWNrIHRvIGV4ZWN1dGVTY3JpcHRcbiAgd2luZG93Lmhhc1J1biA9IHRydWU7XG5cbiAgdmFyIGNhcHR1cmVTZWxlY3Rpb24gPSB7XG4gICAgb3JpZ2luOiBudWxsLFxuICAgIGNhbnZhczogbnVsbCxcbiAgICBjb250ZXh0OiBudWxsLFxuICAgIGluaXQoKSB7XG4gICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChyZXF1ZXN0Lm1zZyA9PT0gJ2luaXRTZWxlY3Rpb24nICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FwdHVyZVNlbGVjdGlvblNob3dpbmcnKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdpbml0U2VsZWN0aW9uIFN0YXJ0Jyk7XG4gICAgICAgICAgY2FwdHVyZVNlbGVjdGlvbi5zdGFydCgpO1xuICAgICAgICAgIHNlbmRSZXNwb25zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlcXVlc3QubXNnID09PSAnY2xlYXJDYXB0dXJlU2VsZWN0aW9uJykge1xuICAgICAgICAgIGNhcHR1cmVTZWxlY3Rpb24ucmVtb3ZlQ2FudmFzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ2NhcHR1cmVTZWxlY3Rpb25Jbml0aWF0ZWQnKTtcbiAgICAgIHJldHVybiAnc2VsZWN0aW9uSW5pdGlhdGVkJztcbiAgICB9LFxuICAgIGNyZWF0ZUNhbnZhcygpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdjcmVhdGVDYW52YXMnKTtcbiAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS56SW5kZXggPSAxMDAwMDA7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5sZWZ0ID0gdGhpcy5jYW52YXMuc3R5bGUudG9wID0gJzBweCc7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3IgPVxuICAgICAgICBcInVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB3aWR0aD0nMzInIGhlaWdodD0nMzInIHhtbG5zOnY9J2h0dHBzOi8vdmVjdGEuaW8vbmFubyclM0UlM0NkZWZzJTNFJTNDcGF0aCBpZD0nQScgZD0nTTAgMGgzMnYzMkgweicvJTNFJTNDL2RlZnMlM0UlM0NjbGlwUGF0aCBpZD0nQiclM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzQScvJTNFJTNDL2NsaXBQYXRoJTNFJTNDZyBjbGlwLXBhdGg9J3VybCglMjNCKSclM0UlM0NkZWZzJTNFJTNDcGF0aCBpZD0nQycgZD0nTTAgMGgzMnYzMkgweicvJTNFJTNDL2RlZnMlM0UlM0NjbGlwUGF0aCBpZD0nRCclM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzQycvJTNFJTNDL2NsaXBQYXRoJTNFJTNDZyBvcGFjaXR5PScuODUnIGNsaXAtcGF0aD0ndXJsKCUyM0QpJyUzRSUzQ2RlZnMlM0UlM0NwYXRoIGlkPSdFJyBkPSdNNCA0aDIzdjIzSDR6Jy8lM0UlM0MvZGVmcyUzRSUzQ2NsaXBQYXRoIGlkPSdGJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNFJy8lM0UlM0MvY2xpcFBhdGglM0UlM0NnIGNsaXAtcGF0aD0ndXJsKCUyM0YpJyUzRSUzQ2RlZnMlM0UlM0NwYXRoIGlkPSdHJyBkPSdNNCA0aDIzdjIzSDR6Jy8lM0UlM0MvZGVmcyUzRSUzQ2NsaXBQYXRoIGlkPSdIJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNHJy8lM0UlM0MvY2xpcFBhdGglM0UlM0NnIG9wYWNpdHk9Jy44NScgY2xpcC1wYXRoPSd1cmwoJTIzSCknJTNFJTNDZGVmcyUzRSUzQ3BhdGggaWQ9J0knIGQ9J00xNSA0aDF2MjNoLTF6Jy8lM0UlM0MvZGVmcyUzRSUzQ2NsaXBQYXRoIGlkPSdKJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNJJy8lM0UlM0MvY2xpcFBhdGglM0UlM0NnIGZpbGw9JyUyM0ZGRkZGRiclM0UlM0NwYXRoIGNsaXAtcGF0aD0ndXJsKCUyM0opJyBkPSdNMTUgNGgxdjExaC0xem0wIDEyaDF2MTFoLTF6Jy8lM0UlM0MvZyUzRSUzQy9nJTNFJTNDZyBvcGFjaXR5PScuODUnIGNsaXAtcGF0aD0ndXJsKCUyM0gpJyUzRSUzQ2RlZnMlM0UlM0NwYXRoIGlkPSdLJyBkPSdNNCAxNWgyM3YxSDR6Jy8lM0UlM0MvZGVmcyUzRSUzQ2NsaXBQYXRoIGlkPSdMJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNLJy8lM0UlM0MvY2xpcFBhdGglM0UlM0NnIGZpbGw9JyUyM0ZGRkZGRiclM0UlM0NwYXRoIGNsaXAtcGF0aD0ndXJsKCUyM0wpJyBkPSdNNCAxNWgxMXYxSDR6bTEyIDBoMTF2MUgxNnonLyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDZyBvcGFjaXR5PScuMTUnIGNsaXAtcGF0aD0ndXJsKCUyM0QpJyUzRSUzQ2RlZnMlM0UlM0NwYXRoIGlkPSdNJyBkPSdNMTAgMTBoMTF2MTFIMTB6Jy8lM0UlM0MvZGVmcyUzRSUzQ2NsaXBQYXRoIGlkPSdOJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNNJy8lM0UlM0MvY2xpcFBhdGglM0UlM0NnIGNsaXAtcGF0aD0ndXJsKCUyM04pJyUzRSUzQ2RlZnMlM0UlM0NwYXRoIGlkPSdPJyBkPSdNMTAgMTBoMTF2MTFIMTB6Jy8lM0UlM0MvZGVmcyUzRSUzQ2NsaXBQYXRoIGlkPSdQJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNPJy8lM0UlM0MvY2xpcFBhdGglM0UlM0NwYXRoIGNsaXAtcGF0aD0ndXJsKCUyM1ApJyBmaWxsPSclMjNGRkZGRkYnIGQ9J00yMSAxNS41YzAgMy0yLjUgNS41LTUuNSA1LjVTMTAgMTguNSAxMCAxNS41czIuNS01LjUgNS41LTUuNSA1LjUgMi41IDUuNSA1LjUnLyUzRSUzQy9nJTNFJTNDL2clM0UlM0NnIG9wYWNpdHk9Jy4zJyBjbGlwLXBhdGg9J3VybCglMjNEKSclM0UlM0NkZWZzJTNFJTNDcGF0aCBpZD0nUScgZD0nTTkuNSA5LjVoMTJ2MTJoLTEyeicvJTNFJTNDL2RlZnMlM0UlM0NjbGlwUGF0aCBpZD0nUiclM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzUScvJTNFJTNDL2NsaXBQYXRoJTNFJTNDZyBjbGlwLXBhdGg9J3VybCglMjNSKSclM0UlM0NkZWZzJTNFJTNDcGF0aCBpZD0nUycgZD0nTTkuNSA5LjVoMTJ2MTJoLTEyeicvJTNFJTNDL2RlZnMlM0UlM0NjbGlwUGF0aCBpZD0nVCclM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzUycvJTNFJTNDL2NsaXBQYXRoJTNFJTNDY2lyY2xlIGNsaXAtcGF0aD0ndXJsKCUyM1QpJyBmaWxsPSdub25lJyBzdHJva2U9JyUyM0ZGRkZGRicgY3g9JzE1LjUnIGN5PScxNS41JyByPSc1LjUnLyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKSAxNiAxNiwgY3Jvc3NoYWlyXCI7XG5cbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmltYWdlUmVuZGVyaW5nID0gJ3BpeGVsYXRlZCc7XG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICB0aGlzLmNhbnZhcy5vbm1vdXNlZG93biA9IGUgPT4ge1xuICAgICAgICB0aGlzLm9yaWdpbiA9IHsgeDogZS5vZmZzZXRYLCB5OiBlLm9mZnNldFkgfTtcbiAgICAgIH07XG4gICAgICB0aGlzLmNhbnZhcy5vbm1vdXNldXAgPSBlID0+IHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdG9wKGUpO1xuICAgICAgfTtcbiAgICAgIHRoaXMuY2FudmFzLm9ubW91c2Vtb3ZlID0gZSA9PiB7XG4gICAgICAgIHRoaXMucmVuZGVyKGUpO1xuICAgICAgfTtcblxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7XG5cbiAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgfSxcbiAgICBzdGFydCgpIHtcbiAgICAgIHRoaXMuY3JlYXRlQ2FudmFzKCk7XG4gICAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICB0aGlzLmNvbnRleHQucmVjdCgwLCAwLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjcpJztcbiAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XG4gICAgICB0aGlzLmNhbnZhc1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMuY2FudmFzVGV4dC5jbGFzc05hbWUgPSAnY2FwdHVyZVNlbGVjdGlvblNob3dpbmcnO1xuICAgICAgdGhpcy5jYW52YXNUZXh0LnN0eWxlLmNzc1RleHQgPVxuICAgICAgICAncG9pbnRlci1ldmVudHM6IG5vbmU7d2lkdGg6IGF1dG87ei1pbmRleDoxMDAwMDE7cG9zaXRpb246Zml4ZWQ7dG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7Zm9udDoxNXB4IFwiSGVsdmV0aWNhIG5ldWVcIiwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtjb2xvcjojZmZmOyc7XG4gICAgICB0aGlzLmNhbnZhc1RleHQuaW5uZXJIVE1MID0gJ3NlbGVjdCB0aGUgYXJlYSB0aGF0IHlvdSB3YW50IHRvIGNhcHR1cmUuLi4nO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhc1RleHQpO1xuXG4gICAgICBjb25zb2xlLmxvZygnY2FwdHVyZVNlbGVjdGlvbiBTdGFydGVkJyk7XG4gICAgfSxcbiAgICByZW5kZXIoZSkge1xuICAgICAgaWYgKHRoaXMub3JpZ2luKSB0aGlzLmRyYXdTZWxlY3Rpb24oZSk7XG4gICAgfSxcbiAgICBkcmF3U2VsZWN0aW9uKGUpIHtcbiAgICAgIHRoaXMuY2FudmFzVGV4dC5yZW1vdmUoKTtcbiAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICB0aGlzLmNvbnRleHQucmVjdCgwLCAwLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjcpJztcbiAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XG5cbiAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tb3V0JztcbiAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuY29udGV4dC5yZWN0KHRoaXMub3JpZ2luLngsIHRoaXMub3JpZ2luLnksIGUub2Zmc2V0WCAtIHRoaXMub3JpZ2luLngsIGUub2Zmc2V0WSAtIHRoaXMub3JpZ2luLnkpO1xuICAgICAgdGhpcy5jb250ZXh0LmZpbGwoKTtcbiAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInO1xuICAgIH0sXG4gICAgc2VsZWN0aW9uU3RvcChlKSB7XG4gICAgICBjb25zdCBvcmlnaW5YID0gTWF0aC5taW4odGhpcy5vcmlnaW4ueCwgZS5vZmZzZXRYKTtcbiAgICAgIGNvbnN0IG9yaWdpblkgPSBNYXRoLm1pbih0aGlzLm9yaWdpbi55LCBlLm9mZnNldFkpO1xuICAgICAgY29uc3QgZXZlbnRYID0gTWF0aC5tYXgodGhpcy5vcmlnaW4ueCwgZS5vZmZzZXRYKTtcbiAgICAgIGNvbnN0IGV2ZW50WSA9IE1hdGgubWF4KHRoaXMub3JpZ2luLnksIGUub2Zmc2V0WSk7XG4gICAgICBjb25zdCByZWN0ID0ge1xuICAgICAgICB4OiAob3JpZ2luWCAtIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0KSAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICogd2luZG93LnZpc3VhbFZpZXdwb3J0LnNjYWxlLFxuICAgICAgICB5OiAob3JpZ2luWSAtIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3ApICogd2luZG93LmRldmljZVBpeGVsUmF0aW8gKiB3aW5kb3cudmlzdWFsVmlld3BvcnQuc2NhbGUsXG4gICAgICAgIHdpZHRoOiBNYXRoLmFicyhvcmlnaW5YIC0gZXZlbnRYKSAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICogd2luZG93LnZpc3VhbFZpZXdwb3J0LnNjYWxlLFxuICAgICAgICBoZWlnaHQ6IE1hdGguYWJzKG9yaWdpblkgLSBldmVudFkpICogd2luZG93LmRldmljZVBpeGVsUmF0aW8gKiB3aW5kb3cudmlzdWFsVmlld3BvcnQuc2NhbGUsXG4gICAgICB9O1xuXG4gICAgICB0aGlzLnJlbW92ZUNhbnZhcygpO1xuICAgICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2UoeyBtc2c6ICdyZXR1cm5TZWxlY3Rpb24nLCByZWN0IH0sICgpID0+IHt9KTtcbiAgICB9LFxuICAgIHJlbW92ZUNhbnZhcygpIHtcbiAgICAgIHRoaXMuY2FudmFzPy5yZW1vdmUoKTtcbiAgICAgIHRoaXMuY2FudmFzVGV4dD8ucmVtb3ZlKCk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbXVsdGktYXNzaWduXG4gICAgICB0aGlzLmNhbnZhcyA9IHRoaXMuY29udGV4dCA9IHRoaXMub3JpZ2luID0gdGhpcy5jYW52YXNUZXh0ID0gbnVsbDtcbiAgICB9LFxuICB9O1xuICBjYXB0dXJlU2VsZWN0aW9uLmluaXQoKTtcbn0pKCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=