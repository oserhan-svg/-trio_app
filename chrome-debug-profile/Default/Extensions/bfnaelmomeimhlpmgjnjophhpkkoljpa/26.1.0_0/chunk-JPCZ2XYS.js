import{a as ib,b as ob,c as pr,d as Ru,e as Ta,f as cs,g as wn,i as Rn,j as sb,k as D6,l as fs,n as oX,o as ab,w as cb,x as fb,y as U6,z as sX}from"./chunk-ZRKH4SQM.js";import{$ as YOe,D as b_,F as cX,O as GOe,P as $Oe,Q as JC,R as QC,S as ek,T as WOe,a as lo,aa as XOe,b as M0,ca as ZOe,da as Z6,ea as JOe,fa as QOe,ia as nZ,j as be,ja as tk,k as ih,ka as eNe,la as tNe,m as ub,ma as rNe,n as $C,na as iZ,o as Ja,oa as nNe,pa as iNe,q as lb,qa as oNe,r as F6,ra as sNe,s as WC,sa as rk,ta as oZ,u as aX,ua as aNe,va as cNe}from"./chunk-TVPT7M2T.js";import{e as rZ}from"./chunk-FNC6PQ53.js";import{$ as LX,A as vX,Aa as X6,B as _X,Ba as ZX,C as wX,Ca as JX,D as V6,Da as QX,E as ZC,F as EX,I as hb,J as SX,K as AX,L as IX,M as Fs,N as TX,O as RX,P as j6,Q as z6,R as v_,T as OX,U as NX,V as MX,W as CX,X as pb,Y as kX,Z as BX,_ as PX,a as ho,aa as DX,b as fX,ba as k0,bb as eZ,c as uX,ca as K6,cb as tZ,d as Bl,da as UX,e as lX,ea as FX,f as H6,fa as HX,g as dX,ga as qX,h as C0,ha as VX,i as hX,j as pX,ja as G6,k as mX,ka as jX,l as YC,la as oh,m as db,ma as zX,n as gX,o as ui,oa as $6,p as x_,pa as mb,q as yX,qa as KX,ra as GX,s as q6,sa as $X,ta as WX,u as Lc,ua as W6,w as XC,wa as YX,x as bX,xa as gb,ya as Y6,z as xX,za as XX}from"./chunk-5QQLABHI.js";import{a as o,b as nX,d as j,e as iX,f as N0,g as Ze,i as m,j as R,l as fi,m as Buffer,n as g}from"./chunk-WKJYWAXG.js";var Q6=j(Pl=>{"use strict";m();g();Object.defineProperty(Pl,"__esModule",{value:!0});Pl.isBytes=aZ;Pl.number=J6;Pl.bool=sZ;Pl.bytes=nk;Pl.hash=cZ;Pl.exists=fZ;Pl.output=uZ;function J6(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}o(J6,"number");function sZ(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}o(sZ,"bool");function aZ(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(aZ,"isBytes");function nk(t,...e){if(!aZ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}o(nk,"bytes");function cZ(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");J6(t.outputLen),J6(t.blockLen)}o(cZ,"hash");function fZ(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(fZ,"exists");function uZ(t,e){nk(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(uZ,"output");var fNe={number:J6,bool:sZ,bytes:nk,hash:cZ,exists:fZ,output:uZ};Pl.default=fNe});var lZ=j(eA=>{"use strict";m();g();Object.defineProperty(eA,"__esModule",{value:!0});eA.crypto=void 0;eA.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var B0=j(Cr=>{"use strict";m();g();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.Hash=Cr.nextTick=Cr.byteSwapIfBE=Cr.byteSwap=Cr.isLE=Cr.rotl=Cr.rotr=Cr.createView=Cr.u32=Cr.u8=void 0;Cr.isBytes=uNe;Cr.byteSwap32=yNe;Cr.bytesToHex=xNe;Cr.hexToBytes=vNe;Cr.asyncLoop=wNe;Cr.utf8ToBytes=hZ;Cr.toBytes=tA;Cr.concatBytes=ENe;Cr.checkOpts=ANe;Cr.wrapConstructor=INe;Cr.wrapConstructorWithOpts=TNe;Cr.wrapXOFConstructorWithOpts=RNe;Cr.randomBytes=ONe;var yb=lZ(),ok=Q6();function uNe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(uNe,"isBytes");var lNe=o(t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),"u8");Cr.u8=lNe;var dNe=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32");Cr.u32=dNe;var hNe=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");Cr.createView=hNe;var pNe=o((t,e)=>t<<32-e|t>>>e,"rotr");Cr.rotr=pNe;var mNe=o((t,e)=>t<<e|t>>>32-e>>>0,"rotl");Cr.rotl=mNe;Cr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;var gNe=o(t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,"byteSwap");Cr.byteSwap=gNe;Cr.byteSwapIfBE=Cr.isLE?t=>t:t=>(0,Cr.byteSwap)(t);function yNe(t){for(let e=0;e<t.length;e++)t[e]=(0,Cr.byteSwap)(t[e])}o(yNe,"byteSwap32");var bNe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xNe(t){(0,ok.bytes)(t);let e="";for(let r=0;r<t.length;r++)e+=bNe[t[r]];return e}o(xNe,"bytesToHex");var sh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function dZ(t){if(t>=sh._0&&t<=sh._9)return t-sh._0;if(t>=sh._A&&t<=sh._F)return t-(sh._A-10);if(t>=sh._a&&t<=sh._f)return t-(sh._a-10)}o(dZ,"asciiToBase16");function vNe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=dZ(t.charCodeAt(s)),c=dZ(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o(vNe,"hexToBytes");var _Ne=o(async()=>{},"nextTick");Cr.nextTick=_Ne;async function wNe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Cr.nextTick)(),n+=s)}}o(wNe,"asyncLoop");function hZ(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(hZ,"utf8ToBytes");function tA(t){return typeof t=="string"&&(t=hZ(t)),(0,ok.bytes)(t),t}o(tA,"toBytes");function ENe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];(0,ok.bytes)(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(ENe,"concatBytes");var ik=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};Cr.Hash=ik;var SNe={}.toString;function ANe(t,e){if(e!==void 0&&SNe.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(ANe,"checkOpts");function INe(t){let e=o(n=>t().update(tA(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(INe,"wrapConstructor");function TNe(t){let e=o((n,i)=>t(i).update(tA(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(TNe,"wrapConstructorWithOpts");function RNe(t){let e=o((n,i)=>t(i).update(tA(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(RNe,"wrapXOFConstructorWithOpts");function ONe(t=32){if(yb.crypto&&typeof yb.crypto.getRandomValues=="function")return yb.crypto.getRandomValues(new Uint8Array(t));if(yb.crypto&&typeof yb.crypto.randomBytes=="function")return yb.crypto.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}o(ONe,"randomBytes")});var ck=j(P0=>{"use strict";m();g();Object.defineProperty(P0,"__esModule",{value:!0});P0.HashMD=P0.Maj=P0.Chi=void 0;var sk=Q6(),__=B0();function NNe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(NNe,"setBigUint64");var MNe=o((t,e,r)=>t&e^~t&r,"Chi");P0.Chi=MNe;var CNe=o((t,e,r)=>t&e^t&r^e&r,"Maj");P0.Maj=CNe;var ak=class extends __.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,__.createView)(this.buffer)}update(e){(0,sk.exists)(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,__.toBytes)(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=(0,__.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,sk.exists)(this),(0,sk.output)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let p=a;p<i;p++)r[p]=0;NNe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,__.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};P0.HashMD=ak});var PZ=j(nr=>{"use strict";m();g();Object.defineProperty(nr,"__esModule",{value:!0});nr.add5L=nr.add5H=nr.add4H=nr.add4L=nr.add3H=nr.add3L=nr.rotlBL=nr.rotlBH=nr.rotlSL=nr.rotlSH=nr.rotr32L=nr.rotr32H=nr.rotrBL=nr.rotrBH=nr.rotrSL=nr.rotrSH=nr.shrSL=nr.shrSH=nr.toBig=void 0;nr.fromBig=uk;nr.split=pZ;nr.add=RZ;var rA=BigInt(2**32-1),fk=BigInt(32);function uk(t,e=!1){return e?{h:Number(t&rA),l:Number(t>>fk&rA)}:{h:Number(t>>fk&rA)|0,l:Number(t&rA)|0}}o(uk,"fromBig");function pZ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=uk(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(pZ,"split");var mZ=o((t,e)=>BigInt(t>>>0)<<fk|BigInt(e>>>0),"toBig");nr.toBig=mZ;var gZ=o((t,e,r)=>t>>>r,"shrSH");nr.shrSH=gZ;var yZ=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");nr.shrSL=yZ;var bZ=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");nr.rotrSH=bZ;var xZ=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");nr.rotrSL=xZ;var vZ=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");nr.rotrBH=vZ;var _Z=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");nr.rotrBL=_Z;var wZ=o((t,e)=>e,"rotr32H");nr.rotr32H=wZ;var EZ=o((t,e)=>t,"rotr32L");nr.rotr32L=EZ;var SZ=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");nr.rotlSH=SZ;var AZ=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");nr.rotlSL=AZ;var IZ=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");nr.rotlBH=IZ;var TZ=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");nr.rotlBL=TZ;function RZ(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(RZ,"add");var OZ=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");nr.add3L=OZ;var NZ=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");nr.add3H=NZ;var MZ=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");nr.add4L=MZ;var CZ=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");nr.add4H=CZ;var kZ=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");nr.add5L=kZ;var BZ=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");nr.add5H=BZ;var kNe={fromBig:uk,split:pZ,toBig:mZ,shrSH:gZ,shrSL:yZ,rotrSH:bZ,rotrSL:xZ,rotrBH:vZ,rotrBL:_Z,rotr32H:wZ,rotr32L:EZ,rotlSH:SZ,rotlSL:AZ,rotlBH:IZ,rotlBL:TZ,add:RZ,add3L:OZ,add3H:NZ,add4L:MZ,add4H:CZ,add5H:BZ,add5L:kZ};nr.default=kNe});var LZ=j(zo=>{"use strict";m();g();Object.defineProperty(zo,"__esModule",{value:!0});zo.sha384=zo.sha512_256=zo.sha512_224=zo.sha512=zo.SHA384=zo.SHA512_256=zo.SHA512_224=zo.SHA512=void 0;var BNe=ck(),wr=PZ(),sA=B0(),[PNe,LNe]=wr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),L0=new Uint32Array(80),D0=new Uint32Array(80),Sg=class extends BNe.HashMD{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:p,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k]}set(e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=p|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)L0[M]=e.getUint32(r),D0[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let P=L0[M-15]|0,H=D0[M-15]|0,F=wr.default.rotrSH(P,H,1)^wr.default.rotrSH(P,H,8)^wr.default.shrSH(P,H,7),J=wr.default.rotrSL(P,H,1)^wr.default.rotrSL(P,H,8)^wr.default.shrSL(P,H,7),W=L0[M-2]|0,X=D0[M-2]|0,S=wr.default.rotrSH(W,X,19)^wr.default.rotrBH(W,X,61)^wr.default.shrSH(W,X,6),f=wr.default.rotrSL(W,X,19)^wr.default.rotrBL(W,X,61)^wr.default.shrSL(W,X,6),d=wr.default.add4L(J,f,D0[M-7],D0[M-16]),b=wr.default.add4H(d,F,S,L0[M-7],L0[M-16]);L0[M]=b|0,D0[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:p,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let P=wr.default.rotrSH(p,E,14)^wr.default.rotrSH(p,E,18)^wr.default.rotrBH(p,E,41),H=wr.default.rotrSL(p,E,14)^wr.default.rotrSL(p,E,18)^wr.default.rotrBL(p,E,41),F=p&I^~p&N,J=E&O^~E&k,W=wr.default.add5L(L,H,J,LNe[M],D0[M]),X=wr.default.add5H(W,C,P,F,PNe[M],L0[M]),S=W|0,f=wr.default.rotrSH(n,i,28)^wr.default.rotrBH(n,i,34)^wr.default.rotrBH(n,i,39),d=wr.default.rotrSL(n,i,28)^wr.default.rotrBL(n,i,34)^wr.default.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=p|0,O=E|0,{h:p,l:E}=wr.default.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=wr.default.add3L(S,d,x);n=wr.default.add3H(_,X,f,b),i=_|0}({h:n,l:i}=wr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=wr.default.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=wr.default.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=wr.default.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:p,l:E}=wr.default.add(this.Eh|0,this.El|0,p|0,E|0),{h:I,l:O}=wr.default.add(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=wr.default.add(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=wr.default.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,c,l,h,y,p,E,I,O,N,k,C,L)}roundClean(){L0.fill(0),D0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};zo.SHA512=Sg;var nA=class extends Sg{static{o(this,"SHA512_224")}constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}};zo.SHA512_224=nA;var iA=class extends Sg{static{o(this,"SHA512_256")}constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}};zo.SHA512_256=iA;var oA=class extends Sg{static{o(this,"SHA384")}constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};zo.SHA384=oA;zo.sha512=(0,sA.wrapConstructor)(()=>new Sg);zo.sha512_224=(0,sA.wrapConstructor)(()=>new nA);zo.sha512_256=(0,sA.wrapConstructor)(()=>new iA);zo.sha384=(0,sA.wrapConstructor)(()=>new oA)});var Ou=j(En=>{"use strict";m();g();Object.defineProperty(En,"__esModule",{value:!0});En.notImplemented=En.bitMask=void 0;En.isBytes=cA;En.abytes=fA;En.abool=UNe;En.bytesToHex=pk;En.numberToHexUnpadded=FZ;En.hexToNumber=mk;En.hexToBytes=uA;En.bytesToNumberBE=HNe;En.bytesToNumberLE=qNe;En.numberToBytesBE=HZ;En.numberToBytesLE=VNe;En.numberToVarBytesBE=jNe;En.ensureBytes=zNe;En.concatBytes=qZ;En.equalBytes=KNe;En.utf8ToBytes=GNe;En.inRange=VZ;En.aInRange=$Ne;En.bitLen=WNe;En.bitGet=YNe;En.bitSet=XNe;En.createHmacDrbg=JNe;En.validateObject=eMe;En.memoized=rMe;var hk=BigInt(0),aA=BigInt(1),DNe=BigInt(2);function cA(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(cA,"isBytes");function fA(t){if(!cA(t))throw new Error("Uint8Array expected")}o(fA,"abytes");function UNe(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}o(UNe,"abool");var FNe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function pk(t){fA(t);let e="";for(let r=0;r<t.length;r++)e+=FNe[t[r]];return e}o(pk,"bytesToHex");function FZ(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(FZ,"numberToHexUnpadded");function mk(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}o(mk,"hexToNumber");var ah={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function DZ(t){if(t>=ah._0&&t<=ah._9)return t-ah._0;if(t>=ah._A&&t<=ah._F)return t-(ah._A-10);if(t>=ah._a&&t<=ah._f)return t-(ah._a-10)}o(DZ,"asciiToBase16");function uA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=DZ(t.charCodeAt(s)),c=DZ(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o(uA,"hexToBytes");function HNe(t){return mk(pk(t))}o(HNe,"bytesToNumberBE");function qNe(t){return fA(t),mk(pk(Uint8Array.from(t).reverse()))}o(qNe,"bytesToNumberLE");function HZ(t,e){return uA(t.toString(16).padStart(e*2,"0"))}o(HZ,"numberToBytesBE");function VNe(t,e){return HZ(t,e).reverse()}o(VNe,"numberToBytesLE");function jNe(t){return uA(FZ(t))}o(jNe,"numberToVarBytesBE");function zNe(t,e,r){let n;if(typeof e=="string")try{n=uA(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(cA(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}o(zNe,"ensureBytes");function qZ(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];fA(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(qZ,"concatBytes");function KNe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}o(KNe,"equalBytes");function GNe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(GNe,"utf8ToBytes");var lk=o(t=>typeof t=="bigint"&&hk<=t,"isPosBig");function VZ(t,e,r){return lk(t)&&lk(e)&&lk(r)&&e<=t&&t<r}o(VZ,"inRange");function $Ne(t,e,r,n){if(!VZ(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}o($Ne,"aInRange");function WNe(t){let e;for(e=0;t>hk;t>>=aA,e+=1);return e}o(WNe,"bitLen");function YNe(t,e){return t>>BigInt(e)&aA}o(YNe,"bitGet");function XNe(t,e,r){return t|(r?aA:hk)<<BigInt(e)}o(XNe,"bitSet");var ZNe=o(t=>(DNe<<BigInt(t-1))-aA,"bitMask");En.bitMask=ZNe;var dk=o(t=>new Uint8Array(t),"u8n"),UZ=o(t=>Uint8Array.from(t),"u8fr");function JNe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=dk(t),i=dk(t),s=0,a=o(()=>{n.fill(1),i.fill(0),s=0},"reset"),c=o((...p)=>r(i,n,...p),"h"),l=o((p=dk())=>{i=c(UZ([0]),p),n=c(),p.length!==0&&(i=c(UZ([1]),p),n=c())},"reseed"),h=o(()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,E=[];for(;p<e;){n=c();let I=n.slice();E.push(I),p+=n.length}return qZ(...E)},"gen");return o((p,E)=>{a(),l(p);let I;for(;!(I=E(h()));)l();return a(),I},"genUntil")}o(JNe,"createHmacDrbg");var QNe={bigint:o(t=>typeof t=="bigint","bigint"),function:o(t=>typeof t=="function","function"),boolean:o(t=>typeof t=="boolean","boolean"),string:o(t=>typeof t=="string","string"),stringOrUint8Array:o(t=>typeof t=="string"||cA(t),"stringOrUint8Array"),isSafeInteger:o(t=>Number.isSafeInteger(t),"isSafeInteger"),array:o(t=>Array.isArray(t),"array"),field:o((t,e)=>e.Fp.isValid(t),"field"),hash:o(t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen),"hash")};function eMe(t,e,r={}){let n=o((i,s,a)=>{let c=QNe[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);let l=t[i];if(!(a&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)},"checkField");for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}o(eMe,"validateObject");var tMe=o(()=>{throw new Error("not implemented")},"notImplemented");En.notImplemented=tMe;function rMe(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let s=t(r,...n);return e.set(r,s),s}}o(rMe,"memoized")});var F0=j(vi=>{"use strict";m();g();Object.defineProperty(vi,"__esModule",{value:!0});vi.isNegativeLE=void 0;vi.mod=Dc;vi.pow=KZ;vi.pow2=sMe;vi.invert=lA;vi.tonelliShanks=GZ;vi.FpSqrt=$Z;vi.validateField=fMe;vi.FpPow=WZ;vi.FpInvertBatch=YZ;vi.FpDiv=uMe;vi.FpLegendre=XZ;vi.FpIsSquare=lMe;vi.nLength=yk;vi.Field=dMe;vi.FpSqrtOdd=hMe;vi.FpSqrtEven=pMe;vi.hashToPrivateScalar=mMe;vi.getFieldBytesLength=bk;vi.getMinHashLength=ZZ;vi.mapHashToField=gMe;var Uc=Ou(),Ao=BigInt(0),$n=BigInt(1),U0=BigInt(2),nMe=BigInt(3),gk=BigInt(4),jZ=BigInt(5),zZ=BigInt(8),iMe=BigInt(9),oMe=BigInt(16);function Dc(t,e){let r=t%e;return r>=Ao?r:e+r}o(Dc,"mod");function KZ(t,e,r){if(r<=Ao||e<Ao)throw new Error("Expected power/modulo > 0");if(r===$n)return Ao;let n=$n;for(;e>Ao;)e&$n&&(n=n*t%r),t=t*t%r,e>>=$n;return n}o(KZ,"pow");function sMe(t,e,r){let n=t;for(;e-- >Ao;)n*=n,n%=r;return n}o(sMe,"pow2");function lA(t,e){if(t===Ao||e<=Ao)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Dc(t,e),n=e,i=Ao,s=$n,a=$n,c=Ao;for(;r!==Ao;){let h=n/r,y=n%r,p=i-a*h,E=s-c*h;n=r,r=y,i=a,s=c,a=p,c=E}if(n!==$n)throw new Error("invert: does not exist");return Dc(i,e)}o(lA,"invert");function GZ(t){let e=(t-$n)/U0,r,n,i;for(r=t-$n,n=0;r%U0===Ao;r/=U0,n++);for(i=U0;i<t&&KZ(i,e,t)!==t-$n;i++);if(n===1){let a=(t+$n)/gk;return o(function(l,h){let y=l.pow(h,a);if(!l.eql(l.sqr(y),h))throw new Error("Cannot find square root");return y},"tonelliFast")}let s=(r+$n)/U0;return o(function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=n,y=c.pow(c.mul(c.ONE,i),r),p=c.pow(l,s),E=c.pow(l,r);for(;!c.eql(E,c.ONE);){if(c.eql(E,c.ZERO))return c.ZERO;let I=1;for(let N=c.sqr(E);I<h&&!c.eql(N,c.ONE);I++)N=c.sqr(N);let O=c.pow(y,$n<<BigInt(h-I-1));y=c.sqr(O),p=c.mul(p,O),E=c.mul(E,y),h=I}return p},"tonelliSlow")}o(GZ,"tonelliShanks");function $Z(t){if(t%gk===nMe){let e=(t+$n)/gk;return o(function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s},"sqrt3mod4")}if(t%zZ===jZ){let e=(t-jZ)/zZ;return o(function(n,i){let s=n.mul(i,U0),a=n.pow(s,e),c=n.mul(i,a),l=n.mul(n.mul(c,U0),a),h=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(h),i))throw new Error("Cannot find square root");return h},"sqrt5mod8")}return t%oMe,GZ(t)}o($Z,"FpSqrt");var aMe=o((t,e)=>(Dc(t,e)&$n)===$n,"isNegativeLE");vi.isNegativeLE=aMe;var cMe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fMe(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=cMe.reduce((n,i)=>(n[i]="function",n),e);return(0,Uc.validateObject)(t,r)}o(fMe,"validateField");function WZ(t,e,r){if(r<Ao)throw new Error("Expected power > 0");if(r===Ao)return t.ONE;if(r===$n)return e;let n=t.ONE,i=e;for(;r>Ao;)r&$n&&(n=t.mul(n,i)),i=t.sqr(i),r>>=$n;return n}o(WZ,"FpPow");function YZ(t,e){let r=new Array(e.length),n=e.reduce((s,a,c)=>t.is0(a)?s:(r[c]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,c)=>t.is0(a)?s:(r[c]=t.mul(s,r[c]),t.mul(s,a)),i),r}o(YZ,"FpInvertBatch");function uMe(t,e,r){return t.mul(e,typeof r=="bigint"?lA(r,t.ORDER):t.inv(r))}o(uMe,"FpDiv");function XZ(t){let e=(t-$n)/U0;return(r,n)=>r.pow(n,e)}o(XZ,"FpLegendre");function lMe(t){let e=XZ(t.ORDER);return r=>{let n=e(t,r);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}}o(lMe,"FpIsSquare");function yk(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(yk,"nLength");function dMe(t,e,r=!1,n={}){if(t<=Ao)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=yk(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=$Z(t),c=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:(0,Uc.bitMask)(i),ZERO:Ao,ONE:$n,create:o(l=>Dc(l,t),"create"),isValid:o(l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Ao<=l&&l<t},"isValid"),is0:o(l=>l===Ao,"is0"),isOdd:o(l=>(l&$n)===$n,"isOdd"),neg:o(l=>Dc(-l,t),"neg"),eql:o((l,h)=>l===h,"eql"),sqr:o(l=>Dc(l*l,t),"sqr"),add:o((l,h)=>Dc(l+h,t),"add"),sub:o((l,h)=>Dc(l-h,t),"sub"),mul:o((l,h)=>Dc(l*h,t),"mul"),pow:o((l,h)=>WZ(c,l,h),"pow"),div:o((l,h)=>Dc(l*lA(h,t),t),"div"),sqrN:o(l=>l*l,"sqrN"),addN:o((l,h)=>l+h,"addN"),subN:o((l,h)=>l-h,"subN"),mulN:o((l,h)=>l*h,"mulN"),inv:o(l=>lA(l,t),"inv"),sqrt:n.sqrt||(l=>a(c,l)),invertBatch:o(l=>YZ(c,l),"invertBatch"),cmov:o((l,h,y)=>y?h:l,"cmov"),toBytes:o(l=>r?(0,Uc.numberToBytesLE)(l,s):(0,Uc.numberToBytesBE)(l,s),"toBytes"),fromBytes:o(l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return r?(0,Uc.bytesToNumberLE)(l):(0,Uc.bytesToNumberBE)(l)},"fromBytes")});return Object.freeze(c)}o(dMe,"Field");function hMe(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}o(hMe,"FpSqrtOdd");function pMe(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}o(pMe,"FpSqrtEven");function mMe(t,e,r=!1){t=(0,Uc.ensureBytes)("privateHash",t);let n=t.length,i=yk(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?(0,Uc.bytesToNumberLE)(t):(0,Uc.bytesToNumberBE)(t);return Dc(s,e-$n)+$n}o(mMe,"hashToPrivateScalar");function bk(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}o(bk,"getFieldBytesLength");function ZZ(t){let e=bk(t);return e+Math.ceil(e/2)}o(ZZ,"getMinHashLength");function gMe(t,e,r=!1){let n=t.length,i=bk(e),s=ZZ(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=r?(0,Uc.bytesToNumberBE)(t):(0,Uc.bytesToNumberLE)(t),c=Dc(a,e-$n)+$n;return r?(0,Uc.numberToBytesLE)(c,i):(0,Uc.numberToBytesBE)(c,i)}o(gMe,"mapHashToField")});var _k=j(w_=>{"use strict";m();g();Object.defineProperty(w_,"__esModule",{value:!0});w_.wNAF=bMe;w_.pippenger=xMe;w_.validateBasic=vMe;var JZ=F0(),eJ=Ou(),yMe=BigInt(0),xk=BigInt(1),vk=new WeakMap,QZ=new WeakMap;function bMe(t,e){let r=o((s,a)=>{let c=a.negate();return s?c:a},"constTimeNegate"),n=o(s=>{if(!Number.isSafeInteger(s)||s<=0||s>e)throw new Error(`Wrong window size=${s}, should be [1..${e}]`)},"validateW"),i=o(s=>{n(s);let a=Math.ceil(e/s)+1,c=2**(s-1);return{windows:a,windowSize:c}},"opts");return{constTimeNegate:r,unsafeLadder(s,a){let c=t.ZERO,l=s;for(;a>yMe;)a&xk&&(c=c.add(l)),l=l.double(),a>>=xk;return c},precomputeWindow(s,a){let{windows:c,windowSize:l}=i(a),h=[],y=s,p=y;for(let E=0;E<c;E++){p=y,h.push(p);for(let I=1;I<l;I++)p=p.add(y),h.push(p);y=p.double()}return h},wNAF(s,a,c){let{windows:l,windowSize:h}=i(s),y=t.ZERO,p=t.BASE,E=BigInt(2**s-1),I=2**s,O=BigInt(s);for(let N=0;N<l;N++){let k=N*h,C=Number(c&E);c>>=O,C>h&&(C-=I,c+=xk);let L=k,M=k+Math.abs(C)-1,P=N%2!==0,H=C<0;C===0?p=p.add(r(P,a[L])):y=y.add(r(H,a[M]))}return{p:y,f:p}},wNAFCached(s,a,c){let l=QZ.get(s)||1,h=vk.get(s);return h||(h=this.precomputeWindow(s,l),l!==1&&vk.set(s,c(h))),this.wNAF(l,h,a)},setWindowSize(s,a){n(a),QZ.set(s,a),vk.delete(s)}}}o(bMe,"wNAF");function xMe(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((y,p)=>{if(!e.isValid(y))throw new Error(`wrong scalar at index ${p}`)}),r.forEach((y,p)=>{if(!(y instanceof t))throw new Error(`wrong point at index ${p}`)});let i=(0,eJ.bitLen)(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=(1<<s)-1,c=new Array(a+1).fill(t.ZERO),l=Math.floor((e.BITS-1)/s)*s,h=t.ZERO;for(let y=l;y>=0;y-=s){c.fill(t.ZERO);for(let E=0;E<n.length;E++){let I=n[E],O=Number(I>>BigInt(y)&BigInt(a));c[O]=c[O].add(r[E])}let p=t.ZERO;for(let E=c.length-1,I=t.ZERO;E>0;E--)I=I.add(c[E]),p=p.add(I);if(h=h.add(p),y!==0)for(let E=0;E<s;E++)h=h.double()}return h}o(xMe,"pippenger");function vMe(t){return(0,JZ.validateField)(t.Fp),(0,eJ.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,JZ.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}o(vMe,"validateBasic")});var rJ=j(Ek=>{"use strict";m();g();Object.defineProperty(Ek,"__esModule",{value:!0});Ek.twistedEdwards=SMe;var wk=_k(),tJ=F0(),ec=Ou(),Fc=Ou(),Nu=BigInt(0),Qa=BigInt(1),dA=BigInt(2),_Me=BigInt(8),wMe={zip215:!0};function EMe(t){let e=(0,wk.validateBasic)(t);return ec.validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}o(EMe,"validateOpts");function SMe(t){let e=EMe(t),{Fp:r,n,prehash:i,hash:s,randomBytes:a,nByteLength:c,h:l}=e,h=dA<<BigInt(c*8)-Qa,y=r.create,p=(0,tJ.Field)(e.n,e.nBitLength),E=e.uvRatio||((A,T)=>{try{return{isValid:!0,value:r.sqrt(A*r.inv(T))}}catch{return{isValid:!1,value:Nu}}}),I=e.adjustScalarBytes||(A=>A),O=e.domain||((A,T,v)=>{if((0,Fc.abool)("phflag",v),T.length||v)throw new Error("Contexts/pre-hash are not supported");return A});function N(A,T){ec.aInRange("coordinate "+A,T,Nu,h)}o(N,"aCoordinate");function k(A){if(!(A instanceof M))throw new Error("ExtendedPoint expected")}o(k,"assertPoint");let C=(0,Fc.memoized)((A,T)=>{let{ex:v,ey:u,ez:w}=A,V=A.is0();T==null&&(T=V?_Me:r.inv(w));let q=y(v*T),U=y(u*T),$=y(w*T);if(V)return{x:Nu,y:Qa};if($!==Qa)throw new Error("invZ was invalid");return{x:q,y:U}}),L=(0,Fc.memoized)(A=>{let{a:T,d:v}=e;if(A.is0())throw new Error("bad point: ZERO");let{ex:u,ey:w,ez:V,et:q}=A,U=y(u*u),$=y(w*w),ee=y(V*V),re=y(ee*ee),Oe=y(U*T),ae=y(ee*y(Oe+$)),le=y(re+y(v*y(U*$)));if(ae!==le)throw new Error("bad point: equation left != right (1)");let ye=y(u*w),he=y(V*q);if(ye!==he)throw new Error("bad point: equation left != right (2)");return!0});class M{static{o(this,"Point")}constructor(T,v,u,w){this.ex=T,this.ey=v,this.ez=u,this.et=w,N("x",T),N("y",v),N("z",u),N("t",w),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(T){if(T instanceof M)throw new Error("extended point not allowed");let{x:v,y:u}=T||{};return N("x",v),N("y",u),new M(v,u,Qa,y(v*u))}static normalizeZ(T){let v=r.invertBatch(T.map(u=>u.ez));return T.map((u,w)=>u.toAffine(v[w])).map(M.fromAffine)}static msm(T,v){return(0,wk.pippenger)(M,p,T,v)}_setWindowSize(T){F.setWindowSize(this,T)}assertValidity(){L(this)}equals(T){k(T);let{ex:v,ey:u,ez:w}=this,{ex:V,ey:q,ez:U}=T,$=y(v*U),ee=y(V*w),re=y(u*U),Oe=y(q*w);return $===ee&&re===Oe}is0(){return this.equals(M.ZERO)}negate(){return new M(y(-this.ex),this.ey,this.ez,y(-this.et))}double(){let{a:T}=e,{ex:v,ey:u,ez:w}=this,V=y(v*v),q=y(u*u),U=y(dA*y(w*w)),$=y(T*V),ee=v+u,re=y(y(ee*ee)-V-q),Oe=$+q,ae=Oe-U,le=$-q,ye=y(re*ae),he=y(Oe*le),ge=y(re*le),ur=y(ae*Oe);return new M(ye,he,ur,ge)}add(T){k(T);let{a:v,d:u}=e,{ex:w,ey:V,ez:q,et:U}=this,{ex:$,ey:ee,ez:re,et:Oe}=T;if(v===BigInt(-1)){let Ue=y((V-w)*(ee+$)),Pe=y((V+w)*(ee-$)),Kn=y(Pe-Ue);if(Kn===Nu)return this.double();let Be=y(q*dA*Oe),Le=y(U*dA*re),Jr=Le+Be,Z=Pe+Ue,Q=Le-Be,pe=y(Jr*Kn),ne=y(Z*Q),de=y(Jr*Q),yt=y(Kn*Z);return new M(pe,ne,yt,de)}let ae=y(w*$),le=y(V*ee),ye=y(U*u*Oe),he=y(q*re),ge=y((w+V)*($+ee)-ae-le),ur=he-ye,Ae=he+ye,Ne=y(le-v*ae),jn=y(ge*ur),qe=y(Ae*Ne),ke=y(ge*Ne),zn=y(ur*Ae);return new M(jn,qe,zn,ke)}subtract(T){return this.add(T.negate())}wNAF(T){return F.wNAFCached(this,T,M.normalizeZ)}multiply(T){let v=T;ec.aInRange("scalar",v,Qa,n);let{p:u,f:w}=this.wNAF(v);return M.normalizeZ([u,w])[0]}multiplyUnsafe(T){let v=T;return ec.aInRange("scalar",v,Nu,n),v===Nu?H:this.equals(H)||v===Qa?this:this.equals(P)?this.wNAF(v).p:F.unsafeLadder(this,v)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return F.unsafeLadder(this,n).is0()}toAffine(T){return C(this,T)}clearCofactor(){let{h:T}=e;return T===Qa?this:this.multiplyUnsafe(T)}static fromHex(T,v=!1){let{d:u,a:w}=e,V=r.BYTES;T=(0,Fc.ensureBytes)("pointHex",T,V),(0,Fc.abool)("zip215",v);let q=T.slice(),U=T[V-1];q[V-1]=U&-129;let $=ec.bytesToNumberLE(q),ee=v?h:r.ORDER;ec.aInRange("pointHex.y",$,Nu,ee);let re=y($*$),Oe=y(re-Qa),ae=y(u*re-w),{isValid:le,value:ye}=E(Oe,ae);if(!le)throw new Error("Point.fromHex: invalid y coordinate");let he=(ye&Qa)===Qa,ge=(U&128)!==0;if(!v&&ye===Nu&&ge)throw new Error("Point.fromHex: x=0 and x_0=1");return ge!==he&&(ye=y(-ye)),M.fromAffine({x:ye,y:$})}static fromPrivateKey(T){return X(T).point}toRawBytes(){let{x:T,y:v}=this.toAffine(),u=ec.numberToBytesLE(v,r.BYTES);return u[u.length-1]|=T&Qa?128:0,u}toHex(){return ec.bytesToHex(this.toRawBytes())}}M.BASE=new M(e.Gx,e.Gy,Qa,y(e.Gx*e.Gy)),M.ZERO=new M(Nu,Qa,Qa,Nu);let{BASE:P,ZERO:H}=M,F=(0,wk.wNAF)(M,c*8);function J(A){return(0,tJ.mod)(A,n)}o(J,"modN");function W(A){return J(ec.bytesToNumberLE(A))}o(W,"modN_LE");function X(A){let T=c;A=(0,Fc.ensureBytes)("private key",A,T);let v=(0,Fc.ensureBytes)("hashed private key",s(A),2*T),u=I(v.slice(0,T)),w=v.slice(T,2*T),V=W(u),q=P.multiply(V),U=q.toRawBytes();return{head:u,prefix:w,scalar:V,point:q,pointBytes:U}}o(X,"getExtendedPublicKey");function S(A){return X(A).pointBytes}o(S,"getPublicKey");function f(A=new Uint8Array,...T){let v=ec.concatBytes(...T);return W(s(O(v,(0,Fc.ensureBytes)("context",A),!!i)))}o(f,"hashDomainToScalar");function d(A,T,v={}){A=(0,Fc.ensureBytes)("message",A),i&&(A=i(A));let{prefix:u,scalar:w,pointBytes:V}=X(T),q=f(v.context,u,A),U=P.multiply(q).toRawBytes(),$=f(v.context,U,V,A),ee=J(q+$*w);ec.aInRange("signature.s",ee,Nu,n);let re=ec.concatBytes(U,ec.numberToBytesLE(ee,r.BYTES));return(0,Fc.ensureBytes)("result",re,c*2)}o(d,"sign");let b=wMe;function x(A,T,v,u=b){let{context:w,zip215:V}=u,q=r.BYTES;A=(0,Fc.ensureBytes)("signature",A,2*q),T=(0,Fc.ensureBytes)("message",T),V!==void 0&&(0,Fc.abool)("zip215",V),i&&(T=i(T));let U=ec.bytesToNumberLE(A.slice(q,2*q)),$,ee,re;try{$=M.fromHex(v,V),ee=M.fromHex(A.slice(0,q),V),re=P.multiplyUnsafe(U)}catch{return!1}if(!V&&$.isSmallOrder())return!1;let Oe=f(w,ee.toRawBytes(),$.toRawBytes(),T);return ee.add($.multiplyUnsafe(Oe)).subtract(re).clearCofactor().equals(M.ZERO)}return o(x,"verify"),P._setWindowSize(8),{CURVE:e,getPublicKey:S,sign:d,verify:x,ExtendedPoint:M,utils:{getExtendedPublicKey:X,randomPrivateKey:o(()=>a(r.BYTES),"randomPrivateKey"),precompute(A=8,T=M.BASE){return T._setWindowSize(A),T.multiply(BigInt(3)),T}}}}o(SMe,"twistedEdwards")});var Ak=j(Ag=>{"use strict";m();g();Object.defineProperty(Ag,"__esModule",{value:!0});Ag.expand_message_xmd=nJ;Ag.expand_message_xof=iJ;Ag.hash_to_field=Sk;Ag.isogenyMap=RMe;Ag.createHasher=OMe;var AMe=F0(),Hs=Ou(),IMe=Hs.bytesToNumberBE;function H0(t,e){if(E_(t),E_(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}o(H0,"i2osp");function TMe(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}o(TMe,"strxor");function E_(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}o(E_,"anum");function nJ(t,e,r,n){(0,Hs.abytes)(t),(0,Hs.abytes)(e),E_(r),e.length>255&&(e=n((0,Hs.concatBytes)((0,Hs.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");let c=(0,Hs.concatBytes)(e,H0(e.length,1)),l=H0(0,s),h=H0(r,2),y=new Array(a),p=n((0,Hs.concatBytes)(l,t,h,H0(0,1),c));y[0]=n((0,Hs.concatBytes)(p,H0(1,1),c));for(let I=1;I<=a;I++){let O=[TMe(p,y[I-1]),H0(I+1,1),c];y[I]=n((0,Hs.concatBytes)(...O))}return(0,Hs.concatBytes)(...y).slice(0,r)}o(nJ,"expand_message_xmd");function iJ(t,e,r,n,i){if((0,Hs.abytes)(t),(0,Hs.abytes)(e),E_(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update((0,Hs.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(H0(r,2)).update(e).update(H0(e.length,1)).digest()}o(iJ,"expand_message_xof");function Sk(t,e,r){(0,Hs.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:a,expand:c,DST:l}=r;(0,Hs.abytes)(t),E_(e);let h=typeof l=="string"?(0,Hs.utf8ToBytes)(l):l,y=n.toString(2).length,p=Math.ceil((y+i)/8),E=e*s*p,I;if(c==="xmd")I=nJ(t,h,E,a);else if(c==="xof")I=iJ(t,h,E,i,a);else if(c==="_internal_pass")I=t;else throw new Error('expand must be "xmd" or "xof"');let O=new Array(e);for(let N=0;N<e;N++){let k=new Array(s);for(let C=0;C<s;C++){let L=p*(C+N*s),M=I.subarray(L,L+p);k[C]=(0,AMe.mod)(IMe(M),n)}O[N]=k}return O}o(Sk,"hash_to_field");function RMe(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,a,c,l]=r.map(h=>h.reduce((y,p)=>t.add(t.mul(y,n),p)));return n=t.div(s,a),i=t.mul(i,t.div(c,l)),{x:n,y:i}}}o(RMe,"isogenyMap");function OMe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=Sk(n,2,{...r,DST:r.DST,...i}),a=t.fromAffine(e(s[0])),c=t.fromAffine(e(s[1])),l=a.add(c).clearCofactor();return l.assertValidity(),l},encodeToCurve(n,i){let s=Sk(n,1,{...r,DST:r.encodeDST,...i}),a=t.fromAffine(e(s[0])).clearCofactor();return a.assertValidity(),a},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(let s of n)if(typeof s!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${s} in array`);let i=t.fromAffine(e(n)).clearCofactor();return i.assertValidity(),i}}}o(OMe,"createHasher")});var sJ=j(Tk=>{"use strict";m();g();Object.defineProperty(Tk,"__esModule",{value:!0});Tk.montgomery=MMe;var oJ=F0(),q0=Ou(),bb=BigInt(0),Ik=BigInt(1);function NMe(t){return(0,q0.validateObject)(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}o(NMe,"validateOpts");function MMe(t){let e=NMe(t),{P:r}=e,n=o(L=>(0,oJ.mod)(L,r),"modP"),i=e.montgomeryBits,s=Math.ceil(i/8),a=e.nByteLength,c=e.adjustScalarBytes||(L=>L),l=e.powPminus2||(L=>(0,oJ.pow)(L,r-BigInt(2),r));function h(L,M,P){let H=n(L*(M-P));return M=n(M-H),P=n(P+H),[M,P]}o(h,"cswap");let y=(e.a-BigInt(2))/BigInt(4);function p(L,M){(0,q0.aInRange)("u",L,bb,r),(0,q0.aInRange)("scalar",M,bb,r);let P=M,H=L,F=Ik,J=bb,W=L,X=Ik,S=bb,f;for(let b=BigInt(i-1);b>=bb;b--){let x=P>>b&Ik;S^=x,f=h(S,F,W),F=f[0],W=f[1],f=h(S,J,X),J=f[0],X=f[1],S=x;let _=F+J,A=n(_*_),T=F-J,v=n(T*T),u=A-v,w=W+X,V=W-X,q=n(V*_),U=n(w*T),$=q+U,ee=q-U;W=n($*$),X=n(H*n(ee*ee)),F=n(A*v),J=n(u*(A+n(y*u)))}f=h(S,F,W),F=f[0],W=f[1],f=h(S,J,X),J=f[0],X=f[1];let d=l(J);return n(F*d)}o(p,"montgomeryLadder");function E(L){return(0,q0.numberToBytesLE)(n(L),s)}o(E,"encodeUCoordinate");function I(L){let M=(0,q0.ensureBytes)("u coordinate",L,s);return a===32&&(M[31]&=127),(0,q0.bytesToNumberLE)(M)}o(I,"decodeUCoordinate");function O(L){let M=(0,q0.ensureBytes)("scalar",L),P=M.length;if(P!==s&&P!==a)throw new Error(`Expected ${s} or ${a} bytes, got ${P}`);return(0,q0.bytesToNumberLE)(c(M))}o(O,"decodeScalar");function N(L,M){let P=I(M),H=O(L),F=p(P,H);if(F===bb)throw new Error("Invalid private or public key received");return E(F)}o(N,"scalarMult");let k=E(e.Gu);function C(L){return N(L,k)}return o(C,"scalarMultBase"),{scalarMult:N,scalarMultBase:C,getSharedSecret:o((L,M)=>N(L,M),"getSharedSecret"),getPublicKey:o(L=>C(L),"getPublicKey"),utils:{randomPrivateKey:o(()=>e.randomBytes(e.nByteLength),"randomPrivateKey")},GuBytes:k}}o(MMe,"montgomery")});var bJ=j(ir=>{"use strict";m();g();Object.defineProperty(ir,"__esModule",{value:!0});ir.hash_to_ristretto255=ir.hashToRistretto255=ir.RistrettoPoint=ir.encodeToCurve=ir.hashToCurve=ir.edwardsToMontgomery=ir.x25519=ir.ed25519ph=ir.ed25519ctx=ir.ed25519=ir.ED25519_TORSION_SUBGROUP=void 0;ir.edwardsToMontgomeryPub=gJ;ir.edwardsToMontgomeryPriv=BMe;var pA=LZ(),S_=B0(),Ck=rJ(),uJ=Ak(),Sn=F0(),CMe=sJ(),Ig=Ou(),A_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Nk=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),kMe=BigInt(0),Ll=BigInt(1),hA=BigInt(2),lJ=BigInt(3),dJ=BigInt(5),kk=BigInt(8);function hJ(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=A_,c=t*t%s*t%s,l=(0,Sn.pow2)(c,hA,s)*c%s,h=(0,Sn.pow2)(l,Ll,s)*t%s,y=(0,Sn.pow2)(h,dJ,s)*h%s,p=(0,Sn.pow2)(y,e,s)*y%s,E=(0,Sn.pow2)(p,r,s)*p%s,I=(0,Sn.pow2)(E,n,s)*E%s,O=(0,Sn.pow2)(I,i,s)*I%s,N=(0,Sn.pow2)(O,i,s)*I%s,k=(0,Sn.pow2)(N,e,s)*y%s;return{pow_p_5_8:(0,Sn.pow2)(k,hA,s)*t%s,b2:c}}o(hJ,"ed25519_pow_2_252_3");function pJ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}o(pJ,"adjustScalarBytes");function Bk(t,e){let r=A_,n=(0,Sn.mod)(e*e*e,r),i=(0,Sn.mod)(n*n*e,r),s=hJ(t*i).pow_p_5_8,a=(0,Sn.mod)(t*n*s,r),c=(0,Sn.mod)(e*a*a,r),l=a,h=(0,Sn.mod)(a*Nk,r),y=c===t,p=c===(0,Sn.mod)(-t,r),E=c===(0,Sn.mod)(-t*Nk,r);return y&&(a=l),(p||E)&&(a=h),(0,Sn.isNegativeLE)(a,r)&&(a=(0,Sn.mod)(-a,r)),{isValid:y||p,value:a}}o(Bk,"uvRatio");ir.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];var bt=(0,Sn.Field)(A_,void 0,!0),I_={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:bt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:kk,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:pA.sha512,randomBytes:S_.randomBytes,adjustScalarBytes:pJ,uvRatio:Bk};ir.ed25519=(0,Ck.twistedEdwards)(I_);function mJ(t,e,r){if(e.length>255)throw new Error("Context is too big");return(0,S_.concatBytes)((0,S_.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}o(mJ,"ed25519_domain");ir.ed25519ctx=(0,Ck.twistedEdwards)({...I_,domain:mJ});ir.ed25519ph=(0,Ck.twistedEdwards)(Object.assign({},I_,{domain:mJ,prehash:pA.sha512}));ir.x25519=(0,CMe.montgomery)({P:A_,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:o(t=>{let e=A_,{pow_p_5_8:r,b2:n}=hJ(t);return(0,Sn.mod)((0,Sn.pow2)(r,lJ,e)*n,e)},"powPminus2"),adjustScalarBytes:pJ,randomBytes:S_.randomBytes});function gJ(t){let{y:e}=ir.ed25519.ExtendedPoint.fromHex(t),r=BigInt(1);return bt.toBytes(bt.create((r+e)*bt.inv(r-e)))}o(gJ,"edwardsToMontgomeryPub");ir.edwardsToMontgomery=gJ;function BMe(t){let e=I_.hash(t.subarray(0,32));return I_.adjustScalarBytes(e).subarray(0,32)}o(BMe,"edwardsToMontgomeryPriv");var PMe=(bt.ORDER+lJ)/kk,LMe=bt.pow(hA,PMe),aJ=bt.sqrt(bt.neg(bt.ONE));function DMe(t){let e=(bt.ORDER-dJ)/kk,r=BigInt(486662),n=bt.sqr(t);n=bt.mul(n,hA);let i=bt.add(n,bt.ONE),s=bt.neg(r),a=bt.sqr(i),c=bt.mul(a,i),l=bt.mul(n,r);l=bt.mul(l,s),l=bt.add(l,a),l=bt.mul(l,s);let h=bt.sqr(c);a=bt.sqr(h),h=bt.mul(h,c),h=bt.mul(h,l),a=bt.mul(a,h);let y=bt.pow(a,e);y=bt.mul(y,h);let p=bt.mul(y,aJ);a=bt.sqr(y),a=bt.mul(a,c);let E=bt.eql(a,l),I=bt.cmov(p,y,E),O=bt.mul(s,n),N=bt.mul(y,t);N=bt.mul(N,LMe);let k=bt.mul(N,aJ),C=bt.mul(l,n);a=bt.sqr(N),a=bt.mul(a,c);let L=bt.eql(a,C),M=bt.cmov(k,N,L);a=bt.sqr(I),a=bt.mul(a,c);let P=bt.eql(a,l),H=bt.cmov(O,s,P),F=bt.cmov(M,I,P),J=bt.isOdd(F);return F=bt.cmov(F,bt.neg(F),P!==J),{xMn:H,xMd:i,yMn:F,yMd:Ll}}o(DMe,"map_to_curve_elligator2_curve25519");var UMe=(0,Sn.FpSqrtEven)(bt,bt.neg(BigInt(486664)));function FMe(t){let{xMn:e,xMd:r,yMn:n,yMd:i}=DMe(t),s=bt.mul(e,i);s=bt.mul(s,UMe);let a=bt.mul(r,n),c=bt.sub(e,r),l=bt.add(e,r),h=bt.mul(a,l),y=bt.eql(h,bt.ZERO);s=bt.cmov(s,bt.ZERO,y),a=bt.cmov(a,bt.ONE,y),c=bt.cmov(c,bt.ONE,y),l=bt.cmov(l,bt.ONE,y);let p=bt.invertBatch([a,l]);return{x:bt.mul(s,p[0]),y:bt.mul(c,p[1])}}o(FMe,"map_to_curve_elligator2_edwards25519");var yJ=(0,uJ.createHasher)(ir.ed25519.ExtendedPoint,t=>FMe(t[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:bt.ORDER,m:1,k:128,expand:"xmd",hash:pA.sha512});ir.hashToCurve=yJ.hashToCurve;ir.encodeToCurve=yJ.encodeToCurve;function Rk(t){if(!(t instanceof Mu))throw new Error("RistrettoPoint expected")}o(Rk,"assertRstPoint");var Mk=Nk,HMe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),qMe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),VMe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),jMe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),cJ=o(t=>Bk(Ll,t),"invertSqrt"),zMe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ok=o(t=>ir.ed25519.CURVE.Fp.create((0,Ig.bytesToNumberLE)(t)&zMe),"bytes255ToNumberLE");function fJ(t){let{d:e}=ir.ed25519.CURVE,r=ir.ed25519.CURVE.Fp.ORDER,n=ir.ed25519.CURVE.Fp.create,i=n(Mk*t*t),s=n((i+Ll)*VMe),a=BigInt(-1),c=n((a-e*i)*n(i+e)),{isValid:l,value:h}=Bk(s,c),y=n(h*t);(0,Sn.isNegativeLE)(y,r)||(y=n(-y)),l||(h=y),l||(a=i);let p=n(a*(i-Ll)*jMe-c),E=h*h,I=n((h+h)*c),O=n(p*HMe),N=n(Ll-E),k=n(Ll+E);return new ir.ed25519.ExtendedPoint(n(I*k),n(N*O),n(O*k),n(I*N))}o(fJ,"calcElligatorRistrettoMap");var Mu=class t{static{o(this,"RistPoint")}constructor(e){this.ep=e}static fromAffine(e){return new t(ir.ed25519.ExtendedPoint.fromAffine(e))}static hashToCurve(e){e=(0,Ig.ensureBytes)("ristrettoHash",e,64);let r=Ok(e.slice(0,32)),n=fJ(r),i=Ok(e.slice(32,64)),s=fJ(i);return new t(n.add(s))}static fromHex(e){e=(0,Ig.ensureBytes)("ristrettoHex",e,32);let{a:r,d:n}=ir.ed25519.CURVE,i=ir.ed25519.CURVE.Fp.ORDER,s=ir.ed25519.CURVE.Fp.create,a="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",c=Ok(e);if(!(0,Ig.equalBytes)((0,Ig.numberToBytesLE)(c,32),e)||(0,Sn.isNegativeLE)(c,i))throw new Error(a);let l=s(c*c),h=s(Ll+r*l),y=s(Ll-r*l),p=s(h*h),E=s(y*y),I=s(r*n*p-E),{isValid:O,value:N}=cJ(s(I*E)),k=s(N*y),C=s(N*k*I),L=s((c+c)*k);(0,Sn.isNegativeLE)(L,i)&&(L=s(-L));let M=s(h*C),P=s(L*M);if(!O||(0,Sn.isNegativeLE)(P,i)||M===kMe)throw new Error(a);return new t(new ir.ed25519.ExtendedPoint(L,M,Ll,P))}toRawBytes(){let{ex:e,ey:r,ez:n,et:i}=this.ep,s=ir.ed25519.CURVE.Fp.ORDER,a=ir.ed25519.CURVE.Fp.create,c=a(a(n+r)*a(n-r)),l=a(e*r),h=a(l*l),{value:y}=cJ(a(c*h)),p=a(y*c),E=a(y*l),I=a(p*E*i),O;if((0,Sn.isNegativeLE)(i*I,s)){let k=a(r*Mk),C=a(e*Mk);e=k,r=C,O=a(p*qMe)}else O=E;(0,Sn.isNegativeLE)(e*I,s)&&(r=a(-r));let N=a((n-r)*O);return(0,Sn.isNegativeLE)(N,s)&&(N=a(-N)),(0,Ig.numberToBytesLE)(N,32)}toHex(){return(0,Ig.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(e){Rk(e);let{ex:r,ey:n}=this.ep,{ex:i,ey:s}=e.ep,a=ir.ed25519.CURVE.Fp.create,c=a(r*s)===a(n*i),l=a(n*s)===a(r*i);return c||l}add(e){return Rk(e),new t(this.ep.add(e.ep))}subtract(e){return Rk(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}double(){return new t(this.ep.double())}negate(){return new t(this.ep.negate())}};ir.RistrettoPoint=(Mu.BASE||(Mu.BASE=new Mu(ir.ed25519.ExtendedPoint.BASE)),Mu.ZERO||(Mu.ZERO=new Mu(ir.ed25519.ExtendedPoint.ZERO)),Mu);var KMe=o((t,e)=>{let r=e.DST,n=typeof r=="string"?(0,S_.utf8ToBytes)(r):r,i=(0,uJ.expand_message_xmd)(t,n,64,pA.sha512);return Mu.hashToCurve(i)},"hashToRistretto255");ir.hashToRistretto255=KMe;ir.hash_to_ristretto255=ir.hashToRistretto255});var xJ=j(mA=>{"use strict";m();g();Object.defineProperty(mA,"__esModule",{value:!0});mA.crypto=void 0;mA.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var yA=j(Kt=>{"use strict";m();g();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.wrapXOFConstructorWithOpts=Kt.wrapConstructorWithOpts=Kt.wrapConstructor=Kt.Hash=Kt.nextTick=Kt.swap32IfBE=Kt.byteSwapIfBE=Kt.swap8IfBE=Kt.isLE=void 0;Kt.isBytes=_J;Kt.anumber=Pk;Kt.abytes=vb;Kt.ahash=GMe;Kt.aexists=$Me;Kt.aoutput=WMe;Kt.u8=YMe;Kt.u32=XMe;Kt.clean=ZMe;Kt.createView=JMe;Kt.rotr=QMe;Kt.rotl=eCe;Kt.byteSwap=Dk;Kt.byteSwap32=wJ;Kt.bytesToHex=rCe;Kt.hexToBytes=nCe;Kt.asyncLoop=oCe;Kt.utf8ToBytes=Uk;Kt.bytesToUtf8=sCe;Kt.toBytes=gA;Kt.kdfInputToBytes=aCe;Kt.concatBytes=cCe;Kt.checkOpts=fCe;Kt.createHasher=SJ;Kt.createOptHasher=AJ;Kt.createXOFer=IJ;Kt.randomBytes=uCe;var xb=xJ();function _J(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(_J,"isBytes");function Pk(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(Pk,"anumber");function vb(t,...e){if(!_J(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(vb,"abytes");function GMe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Pk(t.outputLen),Pk(t.blockLen)}o(GMe,"ahash");function $Me(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o($Me,"aexists");function WMe(t,e){vb(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(WMe,"aoutput");function YMe(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(YMe,"u8");function XMe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(XMe,"u32");function ZMe(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(ZMe,"clean");function JMe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(JMe,"createView");function QMe(t,e){return t<<32-e|t>>>e}o(QMe,"rotr");function eCe(t,e){return t<<e|t>>>32-e>>>0}o(eCe,"rotl");Kt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Dk(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(Dk,"byteSwap");Kt.swap8IfBE=Kt.isLE?t=>t:t=>Dk(t);Kt.byteSwapIfBE=Kt.swap8IfBE;function wJ(t){for(let e=0;e<t.length;e++)t[e]=Dk(t[e]);return t}o(wJ,"byteSwap32");Kt.swap32IfBE=Kt.isLE?t=>t:wJ;var EJ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",tCe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rCe(t){if(vb(t),EJ)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=tCe[t[r]];return e}o(rCe,"bytesToHex");var ch={_0:48,_9:57,A:65,F:70,a:97,f:102};function vJ(t){if(t>=ch._0&&t<=ch._9)return t-ch._0;if(t>=ch.A&&t<=ch.F)return t-(ch.A-10);if(t>=ch.a&&t<=ch.f)return t-(ch.a-10)}o(vJ,"asciiToBase16");function nCe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(EJ)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=vJ(t.charCodeAt(s)),c=vJ(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o(nCe,"hexToBytes");var iCe=o(async()=>{},"nextTick");Kt.nextTick=iCe;async function oCe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Kt.nextTick)(),n+=s)}}o(oCe,"asyncLoop");function Uk(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(Uk,"utf8ToBytes");function sCe(t){return new TextDecoder().decode(t)}o(sCe,"bytesToUtf8");function gA(t){return typeof t=="string"&&(t=Uk(t)),vb(t),t}o(gA,"toBytes");function aCe(t){return typeof t=="string"&&(t=Uk(t)),vb(t),t}o(aCe,"kdfInputToBytes");function cCe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];vb(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(cCe,"concatBytes");function fCe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(fCe,"checkOpts");var Lk=class{static{o(this,"Hash")}};Kt.Hash=Lk;function SJ(t){let e=o(n=>t().update(gA(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(SJ,"createHasher");function AJ(t){let e=o((n,i)=>t(i).update(gA(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(AJ,"createOptHasher");function IJ(t){let e=o((n,i)=>t(i).update(gA(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(IJ,"createXOFer");Kt.wrapConstructor=SJ;Kt.wrapConstructorWithOpts=AJ;Kt.wrapXOFConstructorWithOpts=IJ;function uCe(t=32){if(xb.crypto&&typeof xb.crypto.getRandomValues=="function")return xb.crypto.getRandomValues(new Uint8Array(t));if(xb.crypto&&typeof xb.crypto.randomBytes=="function")return Uint8Array.from(xb.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(uCe,"randomBytes")});var RJ=j(Ra=>{"use strict";m();g();Object.defineProperty(Ra,"__esModule",{value:!0});Ra.SHA512_IV=Ra.SHA384_IV=Ra.SHA224_IV=Ra.SHA256_IV=Ra.HashMD=void 0;Ra.setBigUint64=TJ;Ra.Chi=lCe;Ra.Maj=dCe;var Dl=yA();function TJ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(TJ,"setBigUint64");function lCe(t,e,r){return t&e^~t&r}o(lCe,"Chi");function dCe(t,e,r){return t&e^t&r^e&r}o(dCe,"Maj");var Fk=class extends Dl.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,Dl.createView)(this.buffer)}update(e){(0,Dl.aexists)(this),e=(0,Dl.toBytes)(e),(0,Dl.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=(0,Dl.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Dl.aexists)(this),(0,Dl.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,Dl.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let p=a;p<i;p++)r[p]=0;TJ(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,Dl.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};Ra.HashMD=Fk;Ra.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Ra.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Ra.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Ra.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var Vk=j(or=>{"use strict";m();g();Object.defineProperty(or,"__esModule",{value:!0});or.toBig=or.shrSL=or.shrSH=or.rotrSL=or.rotrSH=or.rotrBL=or.rotrBH=or.rotr32L=or.rotr32H=or.rotlSL=or.rotlSH=or.rotlBL=or.rotlBH=or.add5L=or.add5H=or.add4L=or.add4H=or.add3L=or.add3H=void 0;or.add=jJ;or.fromBig=qk;or.split=OJ;var bA=BigInt(2**32-1),Hk=BigInt(32);function qk(t,e=!1){return e?{h:Number(t&bA),l:Number(t>>Hk&bA)}:{h:Number(t>>Hk&bA)|0,l:Number(t&bA)|0}}o(qk,"fromBig");function OJ(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=qk(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(OJ,"split");var NJ=o((t,e)=>BigInt(t>>>0)<<Hk|BigInt(e>>>0),"toBig");or.toBig=NJ;var MJ=o((t,e,r)=>t>>>r,"shrSH");or.shrSH=MJ;var CJ=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");or.shrSL=CJ;var kJ=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");or.rotrSH=kJ;var BJ=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");or.rotrSL=BJ;var PJ=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");or.rotrBH=PJ;var LJ=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");or.rotrBL=LJ;var DJ=o((t,e)=>e,"rotr32H");or.rotr32H=DJ;var UJ=o((t,e)=>t,"rotr32L");or.rotr32L=UJ;var FJ=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");or.rotlSH=FJ;var HJ=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");or.rotlSL=HJ;var qJ=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");or.rotlBH=qJ;var VJ=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");or.rotlBL=VJ;function jJ(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(jJ,"add");var zJ=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");or.add3L=zJ;var KJ=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");or.add3H=KJ;var GJ=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");or.add4L=GJ;var $J=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");or.add4H=$J;var WJ=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");or.add5L=WJ;var YJ=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");or.add5H=YJ;var hCe={fromBig:qk,split:OJ,toBig:NJ,shrSH:MJ,shrSL:CJ,rotrSH:kJ,rotrSL:BJ,rotrBH:PJ,rotrBL:LJ,rotr32H:DJ,rotr32L:UJ,rotlSH:FJ,rotlSL:HJ,rotlBH:qJ,rotlBL:VJ,add:jJ,add3L:zJ,add3H:KJ,add4L:GJ,add4H:$J,add5H:YJ,add5L:WJ};or.default=hCe});var ZJ=j(Zn=>{"use strict";m();g();Object.defineProperty(Zn,"__esModule",{value:!0});Zn.sha512_224=Zn.sha512_256=Zn.sha384=Zn.sha512=Zn.sha224=Zn.sha256=Zn.SHA512_256=Zn.SHA512_224=Zn.SHA384=Zn.SHA512=Zn.SHA224=Zn.SHA256=void 0;var qt=RJ(),Er=Vk(),po=yA(),pCe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),V0=new Uint32Array(64),T_=class extends qt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=qt.SHA256_IV[0]|0,this.B=qt.SHA256_IV[1]|0,this.C=qt.SHA256_IV[2]|0,this.D=qt.SHA256_IV[3]|0,this.E=qt.SHA256_IV[4]|0,this.F=qt.SHA256_IV[5]|0,this.G=qt.SHA256_IV[6]|0,this.H=qt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let p=0;p<16;p++,r+=4)V0[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let E=V0[p-15],I=V0[p-2],O=(0,po.rotr)(E,7)^(0,po.rotr)(E,18)^E>>>3,N=(0,po.rotr)(I,17)^(0,po.rotr)(I,19)^I>>>10;V0[p]=N+V0[p-7]+O+V0[p-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let p=0;p<64;p++){let E=(0,po.rotr)(c,6)^(0,po.rotr)(c,11)^(0,po.rotr)(c,25),I=y+E+(0,qt.Chi)(c,l,h)+pCe[p]+V0[p]|0,N=((0,po.rotr)(n,2)^(0,po.rotr)(n,13)^(0,po.rotr)(n,22))+(0,qt.Maj)(n,i,s)|0;y=h,h=l,l=c,c=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){(0,po.clean)(V0)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,po.clean)(this.buffer)}};Zn.SHA256=T_;var xA=class extends T_{static{o(this,"SHA224")}constructor(){super(28),this.A=qt.SHA224_IV[0]|0,this.B=qt.SHA224_IV[1]|0,this.C=qt.SHA224_IV[2]|0,this.D=qt.SHA224_IV[3]|0,this.E=qt.SHA224_IV[4]|0,this.F=qt.SHA224_IV[5]|0,this.G=qt.SHA224_IV[6]|0,this.H=qt.SHA224_IV[7]|0}};Zn.SHA224=xA;var XJ=Er.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),mCe=XJ[0],gCe=XJ[1],j0=new Uint32Array(80),z0=new Uint32Array(80),Tg=class extends qt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=qt.SHA512_IV[0]|0,this.Al=qt.SHA512_IV[1]|0,this.Bh=qt.SHA512_IV[2]|0,this.Bl=qt.SHA512_IV[3]|0,this.Ch=qt.SHA512_IV[4]|0,this.Cl=qt.SHA512_IV[5]|0,this.Dh=qt.SHA512_IV[6]|0,this.Dl=qt.SHA512_IV[7]|0,this.Eh=qt.SHA512_IV[8]|0,this.El=qt.SHA512_IV[9]|0,this.Fh=qt.SHA512_IV[10]|0,this.Fl=qt.SHA512_IV[11]|0,this.Gh=qt.SHA512_IV[12]|0,this.Gl=qt.SHA512_IV[13]|0,this.Hh=qt.SHA512_IV[14]|0,this.Hl=qt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:p,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k]}set(e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=p|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)j0[M]=e.getUint32(r),z0[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let P=j0[M-15]|0,H=z0[M-15]|0,F=Er.rotrSH(P,H,1)^Er.rotrSH(P,H,8)^Er.shrSH(P,H,7),J=Er.rotrSL(P,H,1)^Er.rotrSL(P,H,8)^Er.shrSL(P,H,7),W=j0[M-2]|0,X=z0[M-2]|0,S=Er.rotrSH(W,X,19)^Er.rotrBH(W,X,61)^Er.shrSH(W,X,6),f=Er.rotrSL(W,X,19)^Er.rotrBL(W,X,61)^Er.shrSL(W,X,6),d=Er.add4L(J,f,z0[M-7],z0[M-16]),b=Er.add4H(d,F,S,j0[M-7],j0[M-16]);j0[M]=b|0,z0[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:p,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let P=Er.rotrSH(p,E,14)^Er.rotrSH(p,E,18)^Er.rotrBH(p,E,41),H=Er.rotrSL(p,E,14)^Er.rotrSL(p,E,18)^Er.rotrBL(p,E,41),F=p&I^~p&N,J=E&O^~E&k,W=Er.add5L(L,H,J,gCe[M],z0[M]),X=Er.add5H(W,C,P,F,mCe[M],j0[M]),S=W|0,f=Er.rotrSH(n,i,28)^Er.rotrBH(n,i,34)^Er.rotrBH(n,i,39),d=Er.rotrSL(n,i,28)^Er.rotrBL(n,i,34)^Er.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=p|0,O=E|0,{h:p,l:E}=Er.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=Er.add3L(S,d,x);n=Er.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Er.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Er.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=Er.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=Er.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:p,l:E}=Er.add(this.Eh|0,this.El|0,p|0,E|0),{h:I,l:O}=Er.add(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=Er.add(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=Er.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,c,l,h,y,p,E,I,O,N,k,C,L)}roundClean(){(0,po.clean)(j0,z0)}destroy(){(0,po.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Zn.SHA512=Tg;var vA=class extends Tg{static{o(this,"SHA384")}constructor(){super(48),this.Ah=qt.SHA384_IV[0]|0,this.Al=qt.SHA384_IV[1]|0,this.Bh=qt.SHA384_IV[2]|0,this.Bl=qt.SHA384_IV[3]|0,this.Ch=qt.SHA384_IV[4]|0,this.Cl=qt.SHA384_IV[5]|0,this.Dh=qt.SHA384_IV[6]|0,this.Dl=qt.SHA384_IV[7]|0,this.Eh=qt.SHA384_IV[8]|0,this.El=qt.SHA384_IV[9]|0,this.Fh=qt.SHA384_IV[10]|0,this.Fl=qt.SHA384_IV[11]|0,this.Gh=qt.SHA384_IV[12]|0,this.Gl=qt.SHA384_IV[13]|0,this.Hh=qt.SHA384_IV[14]|0,this.Hl=qt.SHA384_IV[15]|0}};Zn.SHA384=vA;var qs=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),Vs=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),_A=class extends Tg{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=qs[0]|0,this.Al=qs[1]|0,this.Bh=qs[2]|0,this.Bl=qs[3]|0,this.Ch=qs[4]|0,this.Cl=qs[5]|0,this.Dh=qs[6]|0,this.Dl=qs[7]|0,this.Eh=qs[8]|0,this.El=qs[9]|0,this.Fh=qs[10]|0,this.Fl=qs[11]|0,this.Gh=qs[12]|0,this.Gl=qs[13]|0,this.Hh=qs[14]|0,this.Hl=qs[15]|0}};Zn.SHA512_224=_A;var wA=class extends Tg{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=Vs[0]|0,this.Al=Vs[1]|0,this.Bh=Vs[2]|0,this.Bl=Vs[3]|0,this.Ch=Vs[4]|0,this.Cl=Vs[5]|0,this.Dh=Vs[6]|0,this.Dl=Vs[7]|0,this.Eh=Vs[8]|0,this.El=Vs[9]|0,this.Fh=Vs[10]|0,this.Fl=Vs[11]|0,this.Gh=Vs[12]|0,this.Gl=Vs[13]|0,this.Hh=Vs[14]|0,this.Hl=Vs[15]|0}};Zn.SHA512_256=wA;Zn.sha256=(0,po.createHasher)(()=>new T_);Zn.sha224=(0,po.createHasher)(()=>new xA);Zn.sha512=(0,po.createHasher)(()=>new Tg);Zn.sha384=(0,po.createHasher)(()=>new vA);Zn.sha512_256=(0,po.createHasher)(()=>new wA);Zn.sha512_224=(0,po.createHasher)(()=>new _A)});var JJ=j(Ul=>{"use strict";m();g();Object.defineProperty(Ul,"__esModule",{value:!0});Ul.sha224=Ul.SHA224=Ul.sha256=Ul.SHA256=void 0;var EA=ZJ();Ul.SHA256=EA.SHA256;Ul.sha256=EA.sha256;Ul.SHA224=EA.SHA224;Ul.sha224=EA.sha224});var QJ=j(Kk=>{"use strict";m();g();function fh(t,e,r){return e<=t&&t<=r}o(fh,"inRange");function RA(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}o(RA,"ToDictionary");function yCe(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var a=t.charCodeAt(n+1);if(56320<=a&&a<=57343){var c=s&1023,l=a&1023;i.push(65536+(c<<10)+l),n+=1}else i.push(65533)}n+=1}return i}o(yCe,"stringToCodePoints");function bCe(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}o(bCe,"codePointsToString");var SA=-1;function zk(t){this.tokens=[].slice.call(t)}o(zk,"Stream");zk.prototype={endOfStream:o(function(){return!this.tokens.length},"endOfStream"),read:o(function(){return this.tokens.length?this.tokens.shift():SA},"read"),prepend:o(function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},"prepend"),push:o(function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)},"push")};var _b=-1;function jk(t,e){if(t)throw TypeError("Decoder error");return e||65533}o(jk,"decoderError");var AA="utf-8";function IA(t,e){if(!(this instanceof IA))return new IA(t,e);if(t=t!==void 0?String(t).toLowerCase():AA,t!==AA)throw new Error("Encoding not supported. Only utf-8 is supported");e=RA(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}o(IA,"TextDecoder");IA.prototype={decode:o(function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=RA(r),this._streaming||(this._decoder=new xCe({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new zk(n),s=[],a;!i.endOfStream()&&(a=this._decoder.handler(i,i.read()),a!==_b);)a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a));if(!this._streaming){do{if(a=this._decoder.handler(i,i.read()),a===_b)break;a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),bCe(s)},"decode")};function TA(t,e){if(!(this instanceof TA))return new TA(t,e);if(t=t!==void 0?String(t).toLowerCase():AA,t!==AA)throw new Error("Encoding not supported. Only utf-8 is supported");e=RA(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}o(TA,"TextEncoder");TA.prototype={encode:o(function(e,r){e=e?String(e):"",r=RA(r),this._streaming||(this._encoder=new vCe(this._options)),this._streaming=!!r.stream;for(var n=[],i=new zk(yCe(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==_b);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==_b;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)},"encode")};function xCe(t){var e=t.fatal,r=0,n=0,i=0,s=128,a=191;this.handler=function(c,l){if(l===SA&&i!==0)return i=0,jk(e);if(l===SA)return _b;if(i===0){if(fh(l,0,127))return l;if(fh(l,194,223))i=1,r=l-192;else if(fh(l,224,239))l===224&&(s=160),l===237&&(a=159),i=2,r=l-224;else if(fh(l,240,244))l===240&&(s=144),l===244&&(a=143),i=3,r=l-240;else return jk(e);return r=r<<6*i,null}if(!fh(l,s,a))return r=i=n=0,s=128,a=191,c.prepend(l),jk(e);if(s=128,a=191,n+=1,r+=l-128<<6*(i-n),n!==i)return null;var h=r;return r=i=n=0,h}}o(xCe,"UTF8Decoder");function vCe(t){var e=t.fatal;this.handler=function(r,n){if(n===SA)return _b;if(fh(n,0,127))return n;var i,s;fh(n,128,2047)?(i=1,s=192):fh(n,2048,65535)?(i=2,s=224):fh(n,65536,1114111)&&(i=3,s=240);for(var a=[(n>>6*i)+s];i>0;){var c=n>>6*(i-1);a.push(128|c&63),i-=1}return a}}o(vCe,"UTF8Encoder");Kk.TextEncoder=TA;Kk.TextDecoder=IA});var iQ=j(Bn=>{"use strict";m();g();var _Ce=Bn&&Bn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:o(function(){return e[r]},"get")})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wCe=Bn&&Bn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fl=Bn&&Bn.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},ECe=Bn&&Bn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&_Ce(e,t,r);return wCe(e,t),e},eQ=Bn&&Bn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.deserializeUnchecked=Bn.deserialize=Bn.serialize=Bn.BinaryReader=Bn.BinaryWriter=Bn.BorshError=Bn.baseDecode=Bn.baseEncode=void 0;var K0=eQ(ob()),tQ=eQ(Ru()),SCe=ECe(QJ()),ACe=typeof TextDecoder!="function"?SCe.TextDecoder:TextDecoder,ICe=new ACe("utf-8",{fatal:!0});function TCe(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),tQ.default.encode(Buffer.from(t))}o(TCe,"baseEncode");Bn.baseEncode=TCe;function RCe(t){return Buffer.from(tQ.default.decode(t))}o(RCe,"baseDecode");Bn.baseDecode=RCe;var Gk=1024,us=class extends Error{static{o(this,"BorshError")}constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Bn.BorshError=us;var OA=class{static{o(this,"BinaryWriter")}constructor(){this.buf=Buffer.alloc(Gk),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Gk)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new K0.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new K0.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new K0.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new K0.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Gk)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};Bn.BinaryWriter=OA;function Hl(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){let a=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new us("Reached the end of buffer when deserializing")}throw s}}}o(Hl,"handlingRangeError");var Oa=class{static{o(this,"BinaryReader")}constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new K0.default(e,"le")}readU128(){let e=this.readBuffer(16);return new K0.default(e,"le")}readU256(){let e=this.readBuffer(32);return new K0.default(e,"le")}readU512(){let e=this.readBuffer(64);return new K0.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new us(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return ICe.decode(r)}catch(n){throw new us(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Fl([Hl],Oa.prototype,"readU8",null);Fl([Hl],Oa.prototype,"readU16",null);Fl([Hl],Oa.prototype,"readU32",null);Fl([Hl],Oa.prototype,"readU64",null);Fl([Hl],Oa.prototype,"readU128",null);Fl([Hl],Oa.prototype,"readU256",null);Fl([Hl],Oa.prototype,"readU512",null);Fl([Hl],Oa.prototype,"readString",null);Fl([Hl],Oa.prototype,"readFixedArray",null);Fl([Hl],Oa.prototype,"readArray",null);Bn.BinaryReader=Oa;function rQ(t){return t.charAt(0).toUpperCase()+t.slice(1)}o(rQ,"capitalizeFirstLetter");function Rg(t,e,r,n,i){try{if(typeof n=="string")i[`write${rQ(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new us(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new us(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)Rg(t,null,r[s],n[0],i)}else i.writeArray(r,s=>{Rg(t,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Rg(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,a)=>{Rg(t,e,a,n.key,i),Rg(t,e,s,n.value,i)});break}default:throw new us(`FieldType ${n} unrecognized`)}else nQ(t,r,i)}catch(s){throw s instanceof us&&s.addToFieldPath(e),s}}o(Rg,"serializeField");function nQ(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new us(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{Rg(t,i,e[i],s,r)});else if(n.kind==="enum"){let i=e[n.field];for(let s=0;s<n.values.length;++s){let[a,c]=n.values[s];if(a===i){r.writeU8(s),Rg(t,a,e[a],c,r);break}}}else throw new us(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o(nQ,"serializeStruct");function OCe(t,e,r=OA){let n=new r;return nQ(t,e,n),n.toArray()}o(OCe,"serialize");Bn.serialize=OCe;function Og(t,e,r,n){try{if(typeof r=="string")return n[`read${rQ(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let s=0;s<r[1];s++)i.push(Og(t,null,r[0],n));return i}else return n.readArray(()=>Og(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Og(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,s=n.readU32();for(let a=0;a<s;a++){let c=Og(t,e,r.key,n),l=Og(t,e,r.value,n);i.set(c,l)}return i}return $k(t,r,n)}catch(i){throw i instanceof us&&i.addToFieldPath(e),i}}o(Og,"deserializeField");function $k(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new us(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[s,a]of t.get(e).fields)i[s]=Og(t,s,a,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new us(`Enum index: ${i} is out of range`);let[s,a]=n.values[i],c=Og(t,s,a,r);return new e({[s]:c})}throw new us(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o($k,"deserializeStruct");function NCe(t,e,r,n=Oa){let i=new n(r),s=$k(t,e,i);if(i.offset<r.length)throw new us(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}o(NCe,"deserialize");Bn.deserialize=NCe;function MCe(t,e,r,n=Oa){let i=new n(r);return $k(t,e,i)}o(MCe,"deserializeUnchecked");Bn.deserializeUnchecked=MCe});var Zk=j(Te=>{"use strict";m();g();Object.defineProperty(Te,"__esModule",{value:!0});Te.s16=Te.s8=Te.nu64be=Te.u48be=Te.u40be=Te.u32be=Te.u24be=Te.u16be=Te.nu64=Te.u48=Te.u40=Te.u32=Te.u24=Te.u16=Te.u8=Te.offset=Te.greedy=Te.Constant=Te.UTF8=Te.CString=Te.Blob=Te.Boolean=Te.BitField=Te.BitStructure=Te.VariantLayout=Te.Union=Te.UnionLayoutDiscriminator=Te.UnionDiscriminator=Te.Structure=Te.Sequence=Te.DoubleBE=Te.Double=Te.FloatBE=Te.Float=Te.NearInt64BE=Te.NearInt64=Te.NearUInt64BE=Te.NearUInt64=Te.IntBE=Te.Int=Te.UIntBE=Te.UInt=Te.OffsetLayout=Te.GreedyCount=Te.ExternalLayout=Te.bindConstructorLayout=Te.nameWithProperty=Te.Layout=Te.uint8ArrayToBuffer=Te.checkUint8Array=void 0;Te.constant=Te.utf8=Te.cstr=Te.blob=Te.unionLayoutDiscriminator=Te.union=Te.seq=Te.bits=Te.struct=Te.f64be=Te.f64=Te.f32be=Te.f32=Te.ns64be=Te.s48be=Te.s40be=Te.s32be=Te.s24be=Te.s16be=Te.ns64=Te.s48=Te.s40=Te.s32=Te.s24=void 0;var Yk=fi();function Sb(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}o(Sb,"checkUint8Array");Te.checkUint8Array=Sb;function sn(t){return Sb(t),Yk.Buffer.from(t.buffer,t.byteOffset,t.length)}o(sn,"uint8ArrayToBuffer");Te.uint8ArrayToBuffer=sn;var bn=class{static{o(this,"Layout")}constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Te.Layout=bn;function Xk(t,e){return e.property?t+"["+e.property+"]":t}o(Xk,"nameWithProperty");Te.nameWithProperty=Xk;function CCe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof bn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}o(CCe,"bindConstructorLayout");Te.bindConstructorLayout=CCe;var js=class extends bn{static{o(this,"ExternalLayout")}isCount(){throw new Error("ExternalLayout is abstract")}};Te.ExternalLayout=js;var NA=class extends js{static{o(this,"GreedyCount")}constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){Sb(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};Te.GreedyCount=NA;var R_=class extends js{static{o(this,"OffsetLayout")}constructor(e,r=0,n){if(!(e instanceof bn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof tc||this.layout instanceof Hc}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};Te.OffsetLayout=R_;var tc=class extends bn{static{o(this,"UInt")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return sn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return sn(r).writeUIntLE(e,n,this.span),this.span}};Te.UInt=tc;var Hc=class extends bn{static{o(this,"UIntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return sn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return sn(r).writeUIntBE(e,n,this.span),this.span}};Te.UIntBE=Hc;var uh=class extends bn{static{o(this,"Int")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return sn(e).readIntLE(r,this.span)}encode(e,r,n=0){return sn(r).writeIntLE(e,n,this.span),this.span}};Te.Int=uh;var G0=class extends bn{static{o(this,"IntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return sn(e).readIntBE(r,this.span)}encode(e,r,n=0){return sn(r).writeIntBE(e,n,this.span),this.span}};Te.IntBE=G0;var Wk=Math.pow(2,32);function $A(t){let e=Math.floor(t/Wk),r=t-e*Wk;return{hi32:e,lo32:r}}o($A,"divmodInt64");function WA(t,e){return t*Wk+e}o(WA,"roundedInt64");var MA=class extends bn{static{o(this,"NearUInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=sn(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return WA(s,i)}encode(e,r,n=0){let i=$A(e),s=sn(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};Te.NearUInt64=MA;var CA=class extends bn{static{o(this,"NearUInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=sn(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return WA(i,s)}encode(e,r,n=0){let i=$A(e),s=sn(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Te.NearUInt64BE=CA;var kA=class extends bn{static{o(this,"NearInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=sn(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return WA(s,i)}encode(e,r,n=0){let i=$A(e),s=sn(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};Te.NearInt64=kA;var BA=class extends bn{static{o(this,"NearInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=sn(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return WA(i,s)}encode(e,r,n=0){let i=$A(e),s=sn(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Te.NearInt64BE=BA;var PA=class extends bn{static{o(this,"Float")}constructor(e){super(4,e)}decode(e,r=0){return sn(e).readFloatLE(r)}encode(e,r,n=0){return sn(r).writeFloatLE(e,n),4}};Te.Float=PA;var LA=class extends bn{static{o(this,"FloatBE")}constructor(e){super(4,e)}decode(e,r=0){return sn(e).readFloatBE(r)}encode(e,r,n=0){return sn(r).writeFloatBE(e,n),4}};Te.FloatBE=LA;var DA=class extends bn{static{o(this,"Double")}constructor(e){super(8,e)}decode(e,r=0){return sn(e).readDoubleLE(r)}encode(e,r,n=0){return sn(r).writeDoubleLE(e,n),8}};Te.Double=DA;var UA=class extends bn{static{o(this,"DoubleBE")}constructor(e){super(8,e)}decode(e,r=0){return sn(e).readDoubleBE(r)}encode(e,r,n=0){return sn(r).writeDoubleBE(e,n),8}};Te.DoubleBE=UA;var FA=class extends bn{static{o(this,"Sequence")}constructor(e,r,n){if(!(e instanceof bn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof js&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof js)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof js&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){let n=[],i=0,s=this.count;for(s instanceof js&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,s=e.reduce((a,c)=>a+i.encode(c,r,n+a),0);return this.count instanceof js&&this.count.encode(e.length,r,n),s}};Te.Sequence=FA;var HA=class extends bn{static{o(this,"Structure")}constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof bn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let a=s.getSpan(e,r);return r+=a,i+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){Sb(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,s=0,a=0;for(let c of this.fields){let l=c.span;if(a=0<l?l:0,c.property!==void 0){let h=e[c.property];h!==void 0&&(a=c.encode(h,r,n),0>l&&(l=c.getSpan(r,n)))}s=n,n+=l}return s+a-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Te.Structure=HA;var O_=class{static{o(this,"UnionDiscriminator")}constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};Te.UnionDiscriminator=O_;var Eb=class extends O_{static{o(this,"UnionLayoutDiscriminator")}constructor(e,r){if(!(e instanceof js&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};Te.UnionLayoutDiscriminator=Eb;var N_=class extends bn{static{o(this,"Union")}constructor(e,r,n){let i;if(e instanceof tc||e instanceof Hc)i=new Eb(new R_(e));else if(e instanceof js&&e.isCount())i=new Eb(e);else if(e instanceof O_)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof bn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof tc||e instanceof Hc)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof tc||e instanceof Hc,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,s=i.decode(e,r),a=this.registry[s];if(a===void 0){let c=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[c.property]=c.decode(e,r+l)}else n=a.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,a=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new qA(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};Te.Union=N_;var qA=class extends bn{static{o(this,"VariantLayout")}constructor(e,r,n,i){if(!(e instanceof N_))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof bn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Te.VariantLayout=qA;function wb(t){return 0>t&&(t+=4294967296),t}o(wb,"fixBitwiseResult");var M_=class extends bn{static{o(this,"BitStructure")}constructor(e,r,n){if(!(e instanceof tc||e instanceof Hc))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=wb(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new C_(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new VA(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};Te.BitStructure=M_;var C_=class{static{o(this,"BitField")}constructor(e,r,n){if(!(e instanceof M_))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=wb(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return wb(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==wb(e&this.valueMask))throw new TypeError(Xk("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=wb(e<<this.start);this.container._packedSetValue(wb(r&~this.wordMask)|n)}};Te.BitField=C_;var VA=class extends C_{static{o(this,"Boolean")}constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Te.Boolean=VA;var jA=class extends bn{static{o(this,"Blob")}constructor(e,r){if(!(e instanceof js&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof js||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),sn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof js&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Xk("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let s=sn(e);return sn(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof js&&this.length.encode(i,r,n),i}};Te.Blob=jA;var zA=class extends bn{static{o(this,"CString")}constructor(e){super(-1,e)}getSpan(e,r=0){Sb(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return sn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=Yk.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");let a=sn(r);return i.copy(a,n),a[n+s]=0,s+1}};Te.CString=zA;var KA=class extends bn{static{o(this,"UTF8")}constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return Sb(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return sn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=Yk.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(sn(r),n),s}};Te.UTF8=KA;var GA=class extends bn{static{o(this,"Constant")}constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};Te.Constant=GA;Te.greedy=(t,e)=>new NA(t,e);Te.offset=(t,e,r)=>new R_(t,e,r);Te.u8=t=>new tc(1,t);Te.u16=t=>new tc(2,t);Te.u24=t=>new tc(3,t);Te.u32=t=>new tc(4,t);Te.u40=t=>new tc(5,t);Te.u48=t=>new tc(6,t);Te.nu64=t=>new MA(t);Te.u16be=t=>new Hc(2,t);Te.u24be=t=>new Hc(3,t);Te.u32be=t=>new Hc(4,t);Te.u40be=t=>new Hc(5,t);Te.u48be=t=>new Hc(6,t);Te.nu64be=t=>new CA(t);Te.s8=t=>new uh(1,t);Te.s16=t=>new uh(2,t);Te.s24=t=>new uh(3,t);Te.s32=t=>new uh(4,t);Te.s40=t=>new uh(5,t);Te.s48=t=>new uh(6,t);Te.ns64=t=>new kA(t);Te.s16be=t=>new G0(2,t);Te.s24be=t=>new G0(3,t);Te.s32be=t=>new G0(4,t);Te.s40be=t=>new G0(5,t);Te.s48be=t=>new G0(6,t);Te.ns64be=t=>new BA(t);Te.f32=t=>new PA(t);Te.f32be=t=>new LA(t);Te.f64=t=>new DA(t);Te.f64be=t=>new UA(t);Te.struct=(t,e,r)=>new HA(t,e,r);Te.bits=(t,e,r)=>new M_(t,e,r);Te.seq=(t,e,r)=>new FA(t,e,r);Te.union=(t,e,r)=>new N_(t,e,r);Te.unionLayoutDiscriminator=(t,e)=>new Eb(t,e);Te.blob=(t,e)=>new jA(t,e);Te.cstr=t=>new zA(t);Te.utf8=(t,e)=>new KA(t,e);Te.constant=(t,e)=>new GA(t,e)});var EB=j(fe=>{"use strict";m();g();var oQ=1,sQ=2,aQ=3,cQ=4,fQ=5,uQ=6,lQ=7,dQ=8,hQ=9,Jk=10,Qk=-32700,eB=-32603,tB=-32602,rB=-32601,nB=-32600,pQ=-32016,iB=-32015,oB=-32014,mQ=-32013,sB=-32012,gQ=-32011,aB=-32010,cB=-32009,yQ=-32008,fB=-32007,uB=-32006,bQ=-32005,lB=-32004,xQ=-32003,YA=-32002,dB=-32001,vQ=28e5,_Q=2800001,wQ=2800002,EQ=2800003,SQ=2800004,AQ=2800005,IQ=2800006,TQ=2800007,RQ=2800008,OQ=2800009,NQ=2800010,MQ=2800011,CQ=323e4,kQ=32300001,BQ=3230002,PQ=3230003,LQ=3230004,DQ=361e4,UQ=3610001,FQ=3610002,HQ=3610003,qQ=3610004,VQ=3610005,jQ=3610006,zQ=3610007,KQ=3611e3,GQ=3704e3,$Q=3704001,WQ=3704002,YQ=3704003,XQ=3704004,ZQ=4128e3,JQ=4128001,QQ=4128002,hB=4615e3,eee=4615001,tee=4615002,ree=4615003,nee=4615004,iee=4615005,oee=4615006,see=4615007,aee=4615008,cee=4615009,fee=4615010,uee=4615011,lee=4615012,dee=4615013,hee=4615014,pee=4615015,mee=4615016,gee=4615017,yee=4615018,bee=4615019,xee=4615020,vee=4615021,_ee=4615022,wee=4615023,Eee=4615024,See=4615025,pB=4615026,Aee=4615027,Iee=4615028,Tee=4615029,Ree=4615030,Oee=4615031,Nee=4615032,Mee=4615033,Cee=4615034,kee=4615035,Bee=4615036,Pee=4615037,Lee=4615038,Dee=4615039,Uee=4615040,Fee=4615041,Hee=4615042,qee=4615043,Vee=4615044,mB=4615045,jee=4615046,zee=4615047,Kee=4615048,Gee=4615049,$ee=4615050,Wee=4615051,Yee=4615052,Xee=4615053,Zee=4615054,Jee=5508e3,Qee=5508001,ete=5508002,tte=5508003,rte=5508004,nte=5508005,ite=5508006,ote=5508007,ste=5508008,ate=5508009,cte=5508010,fte=5508011,ute=5663e3,lte=5663001,dte=5663002,hte=5663003,pte=5663004,mte=5663005,gte=5663006,yte=5663007,bte=5663008,xte=5663009,vte=5663010,_te=5663011,wte=5663012,Ete=5663013,Ste=5663014,Ate=5663015,Ite=5663016,Tte=5663017,Rte=5663018,Ote=5663019,Nte=5663020,gB=705e4,Mte=7050001,Cte=7050002,kte=7050003,Bte=7050004,Pte=7050005,Lte=7050006,Dte=7050007,Ute=7050008,Fte=7050009,Hte=7050010,qte=7050011,Vte=7050012,jte=7050013,zte=7050014,Kte=7050015,Gte=7050016,$te=7050017,Wte=7050018,Yte=7050019,Xte=7050020,Zte=7050021,Jte=7050022,Qte=7050023,ere=7050024,tre=7050025,rre=7050026,nre=7050027,ire=7050028,ore=7050029,yB=7050030,bB=7050031,sre=7050032,are=7050033,cre=7050034,xB=7050035,fre=7050036,ure=8078e3,lre=8078001,dre=8078002,hre=8078003,pre=8078004,mre=8078005,gre=8078006,yre=8078007,bre=8078008,xre=8078009,vre=8078010,_re=8078011,wre=8078012,Ere=8078013,Sre=8078014,Are=8078015,Ire=8078016,Tre=8078017,Rre=8078018,Ore=8078019,Nre=8078020,Mre=8078021,Cre=8078022,kre=81e5,Bre=8100001,Pre=8100002,Lre=8100003,Dre=819e4,Ure=8190001,Fre=8190002,Hre=8190003,qre=8190004,Vre=99e5,jre=9900001,zre=9900002,Kre=9900003,Gre=9900004;function $re(t){return Array.isArray(t)?"%5B"+t.map($re).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}o($re,"encodeValue");function kCe([t,e]){return`${t}=${$re(e)}`}o(kCe,"encodeObjectContextEntry");function BCe(t){let e=Object.entries(t).map(kCe).join("&");return btoa(e)}o(BCe,"encodeContextObject");var PCe={[CQ]:"Account not found at address: $address",[LQ]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[PQ]:"Expected decoded account at address: $address",[BQ]:"Failed to decode account data at address: $address",[kQ]:"Accounts not found at addresses: $addresses",[OQ]:"Unable to find a viable program address bump seed.",[wQ]:"$putativeAddress is not a base58-encoded address.",[vQ]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[EQ]:"The `CryptoKey` must be an `Ed25519` public key.",[MQ]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[RQ]:"Invalid seeds; point must fall off the Ed25519 curve.",[SQ]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[IQ]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[TQ]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[AQ]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[NQ]:"Program address cannot end with PDA marker.",[_Q]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[cQ]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[oQ]:"The network has progressed past the last block for which this transaction could have been committed.",[ure]:"Codec [$codecDescription] cannot decode empty byte arrays.",[Cre]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[Nre]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[mre]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[gre]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[pre]:"Encoder and decoder must either both be fixed-size or variable-size.",[bre]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[dre]:"Expected a fixed-size codec, got a variable-size one.",[Ere]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[hre]:"Expected a variable-size codec, got a fixed-size one.",[Ore]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[lre]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[Rre]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[xre]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[vre]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[Are]:"Invalid literal union variant. Expected one of [$variants], got $value.",[yre]:"Expected [$codecDescription] to have $expected items, got $actual.",[wre]:"Invalid value $value for base $base with alphabet $alphabet.",[Ire]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[_re]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[Sre]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[Mre]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[Tre]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[KQ]:"No random values implementation could be found.",[cee]:"instruction requires an uninitialized account",[wee]:"instruction tries to borrow reference for an account which is already borrowed",[Eee]:"instruction left account with an outstanding borrowed reference",[vee]:"program other than the account's owner changed the size of the account data",[iee]:"account data too small for instruction",[_ee]:"instruction expected an executable account",[jee]:"An account does not have enough lamports to be rent-exempt",[Kee]:"Program arithmetic overflowed",[mB]:"Failed to serialize or deserialize account data: $encodedData",[Zee]:"Builtin programs must consume compute units",[Nee]:"Cross-program invocation call depth too deep",[Lee]:"Computational budget exceeded",[pB]:"custom program error: #$code",[gee]:"instruction contains duplicate accounts",[See]:"instruction modifications of multiply-passed account differ",[Ree]:"executable accounts must be rent exempt",[Iee]:"instruction changed executable accounts data",[Tee]:"instruction changed the balance of an executable account",[yee]:"instruction changed executable bit of an account",[hee]:"instruction modified data of an account it does not own",[dee]:"instruction spent from the balance of an account it does not own",[eee]:"generic instruction error",[$ee]:"Provided owner is not allowed",[qee]:"Account is immutable",[Vee]:"Incorrect authority provided",[see]:"incorrect program id for instruction",[oee]:"insufficient funds for instruction",[nee]:"invalid account data for instruction",[zee]:"Invalid account owner",[tee]:"invalid program argument",[Aee]:"program returned invalid error code",[ree]:"invalid instruction data",[Pee]:"Failed to reallocate account data",[Bee]:"Provided seeds do not result in a valid address",[Wee]:"Accounts data allocations exceeded the maximum allowed per transaction",[Yee]:"Max accounts exceeded",[Xee]:"Max instruction trace length exceeded",[kee]:"Length of the seed is too long for address generation",[Mee]:"An account required by the instruction is missing",[aee]:"missing required signature for instruction",[lee]:"instruction illegally modified the program id of an account",[xee]:"insufficient account keys for instruction",[Dee]:"Cross-program invocation with unauthorized signer or writable account",[Uee]:"Failed to create program execution environment",[Hee]:"Program failed to compile",[Fee]:"Program failed to complete",[mee]:"instruction modified data of a read-only account",[pee]:"instruction changed the balance of a read-only account",[Cee]:"Cross-program invocation reentrancy not allowed for this instruction",[bee]:"instruction modified rent epoch of an account",[uee]:"sum of account balances before and after instruction do not match",[fee]:"instruction requires an initialized account",[hB]:"",[Oee]:"Unsupported program id",[Gee]:"Unsupported sysvar",[ZQ]:"The instruction does not have any accounts.",[JQ]:"The instruction does not have any data.",[QQ]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[fQ]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[sQ]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[zre]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Gre]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[jre]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Vre]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Kre]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[eB]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[tB]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[nB]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[rB]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[Qk]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[sB]:"$__serverMessage",[dB]:"$__serverMessage",[lB]:"$__serverMessage",[oB]:"$__serverMessage",[aB]:"$__serverMessage",[cB]:"$__serverMessage",[pQ]:"Minimum context slot has not been reached",[bQ]:"Node is unhealthy; behind by $numSlotsBehind slots",[yQ]:"No snapshot",[YA]:"Transaction simulation failed",[fB]:"$__serverMessage",[gQ]:"Transaction history is not available from this node",[uB]:"$__serverMessage",[mQ]:"Transaction signature length mismatch",[xQ]:"Transaction signature verification failure",[iB]:"$__serverMessage",[GQ]:"Key pair bytes must be of length 64, got $byteLength.",[$Q]:"Expected private key bytes with length 32. Actual length: $actualLength.",[WQ]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[XQ]:"The provided private key does not match the provided public key.",[YQ]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[uQ]:"Lamports value must be in the range [0, 2e64-1]",[lQ]:"`$value` cannot be parsed as a `BigInt`",[Jk]:"$message",[dQ]:"`$value` cannot be parsed as a `Number`",[aQ]:"No nonce account could be found at address `$nonceAccountAddress`",[Dre]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[Fre]:"WebSocket was closed before payload could be added to the send buffer",[Hre]:"WebSocket connection closed",[qre]:"WebSocket failed to connect",[Ure]:"Failed to obtain a subscription id from the server",[Lre]:"Could not find an API plan for RPC method: `$method`",[kre]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[Pre]:"HTTP error ($statusCode): $message",[Bre]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[Jee]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[Qee]:"The provided value does not implement the `KeyPairSigner` interface",[tte]:"The provided value does not implement the `MessageModifyingSigner` interface",[rte]:"The provided value does not implement the `MessagePartialSigner` interface",[ete]:"The provided value does not implement any of the `MessageSigner` interfaces",[ite]:"The provided value does not implement the `TransactionModifyingSigner` interface",[ote]:"The provided value does not implement the `TransactionPartialSigner` interface",[ste]:"The provided value does not implement the `TransactionSendingSigner` interface",[nte]:"The provided value does not implement any of the `TransactionSigner` interfaces",[ate]:"More than one `TransactionSendingSigner` was identified.",[cte]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[fte]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[zQ]:"Cannot export a non-extractable key.",[UQ]:"No digest implementation could be found.",[DQ]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[FQ]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[HQ]:"No signature verification implementation could be found.",[qQ]:"No key generation implementation could be found.",[VQ]:"No signing implementation could be found.",[jQ]:"No key export implementation could be found.",[hQ]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[Gte]:"Transaction processing left an account with an outstanding borrowed reference",[Mte]:"Account in use",[Cte]:"Account loaded twice",[kte]:"Attempt to debit an account but found no record of a prior credit.",[Qte]:"Transaction loads an address table account that doesn't exist",[Dte]:"This transaction has already been processed",[Ute]:"Blockhash not found",[Fte]:"Loader call chain is too deep",[Kte]:"Transactions are currently disabled due to cluster maintenance",[yB]:"Transaction contains a duplicate instruction ($index) that is not allowed",[Pte]:"Insufficient funds for fee",[bB]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[Lte]:"This account may not be used to pay transaction fees",[qte]:"Transaction contains an invalid account reference",[tre]:"Transaction loads an address table account with invalid data",[rre]:"Transaction address table lookup uses an invalid index",[ere]:"Transaction loads an address table account with an invalid owner",[are]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[jte]:"This program may not be used for executing instructions",[nre]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[Yte]:"Transaction loads a writable account that cannot be written",[sre]:"Transaction exceeded max loaded accounts data size cap",[Hte]:"Transaction requires a fee but has no signature present",[Bte]:"Attempt to load a program that does not exist",[xB]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[cre]:"ResanitizationNeeded",[zte]:"Transaction failed to sanitize accounts offsets correctly",[Vte]:"Transaction did not pass signature verification",[Jte]:"Transaction locked too many accounts",[fre]:"Sum of account balances before and after transaction do not match",[gB]:"The transaction failed with the error `$errorName`",[Wte]:"Transaction version is unsupported",[Zte]:"Transaction would exceed account data limit within the block",[ore]:"Transaction would exceed total account data limit",[Xte]:"Transaction would exceed max account limit within the block",[$te]:"Transaction would exceed max Block Cost Limit",[ire]:"Transaction would exceed max Vote Cost Limit",[Ate]:"Attempted to sign a transaction with an address that is not a signer for it",[vte]:"Transaction is missing an address at index: $index.",[Ite]:"Transaction has no expected signers therefore it cannot be encoded",[Nte]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[dte]:"Transaction does not have a blockhash lifetime",[hte]:"Transaction is not a durable nonce transaction",[mte]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[gte]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[bte]:"No fee payer set in CompiledTransaction",[yte]:"Could not find program address at index $index",[Rte]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[Ote]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[_te]:"Transaction is missing a fee payer.",[wte]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[Ste]:"Transaction first instruction is not advance nonce account instruction.",[Ete]:"Transaction with no instructions cannot be durable nonce transaction.",[ute]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[lte]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[Tte]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[xte]:"Transaction is missing signatures for addresses: $addresses.",[pte]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},lh="i",ql="t";function LCe(t,e={}){let r=PCe[t];if(r.length===0)return"";let n;function i(a){if(n[ql]===2){let c=r.slice(n[lh]+1,a);s.push(c in e?`${e[c]}`:`$${c}`)}else n[ql]===1&&s.push(r.slice(n[lh],a))}o(i,"commitStateUpTo");let s=[];return r.split("").forEach((a,c)=>{if(c===0){n={[lh]:0,[ql]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let l;switch(n[ql]){case 0:l={[lh]:c,[ql]:1};break;case 1:a==="\\"?l={[lh]:c,[ql]:0}:a==="$"&&(l={[lh]:c,[ql]:2});break;case 2:a==="\\"?l={[lh]:c,[ql]:0}:a==="$"?l={[lh]:c,[ql]:2}:a.match(/\w/)||(l={[lh]:c,[ql]:1});break}l&&(n!==l&&i(c),n=l)}),i(),s.join("")}o(LCe,"getHumanReadableErrorMessage");function DCe(t,e={}){if(R.NODE_ENV!=="production")return LCe(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${BCe(e)}'`),`${r}\``}}o(DCe,"getErrorMessage");function UCe(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}o(UCe,"isSolanaError");var k_=class extends Error{static{o(this,"SolanaError")}cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){let{cause:s,...a}=e;s&&(n={cause:s}),Object.keys(a).length>0&&(r=a)}let i=DCe(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}};function vB(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}o(vB,"safeCaptureStackTrace");function Wre({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:r,rpcEnumError:n},i){let s,a;typeof n=="string"?s=n:(s=Object.keys(n)[0],a=n[s]);let c=r.indexOf(s),l=t+c,h=e(l,s,a),y=new k_(l,h);return vB(y,i),y}o(Wre,"getSolanaErrorFromRpcError");var FCe=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function _B(t,e){let r=Number(t);return Wre({errorCodeBaseOffset:4615001,getErrorContext(n,i,s){return n===hB?{errorName:i,index:r,...s!==void 0?{instructionErrorContext:s}:null}:n===pB?{code:Number(s),index:r}:n===mB?{encodedData:s,index:r}:{index:r}},orderedErrorNames:FCe,rpcEnumError:e},_B)}o(_B,"getSolanaErrorFromInstructionError");var HCe=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function wB(t){return typeof t=="object"&&"InstructionError"in t?_B(...t.InstructionError):Wre({errorCodeBaseOffset:7050001,getErrorContext(e,r,n){if(e===gB)return{errorName:r,...n!==void 0?{transactionErrorContext:n}:null};if(e===yB)return{index:Number(n)};if(e===bB||e===xB)return{accountIndex:Number(n.account_index)}},orderedErrorNames:HCe,rpcEnumError:t},wB)}o(wB,"getSolanaErrorFromTransactionError");function Yre(t){let e;if(qCe(t)){let{code:r,data:n,message:i}=t,s=Number(r);if(s===YA){let{err:a,...c}=n,l=a?{cause:wB(a)}:null;e=new k_(YA,{...c,...l})}else{let a;switch(s){case eB:case tB:case nB:case rB:case Qk:case sB:case dB:case lB:case oB:case aB:case cB:case fB:case uB:case iB:a={__serverMessage:i};break;default:typeof n=="object"&&!Array.isArray(n)&&(a=n)}e=new k_(s,a)}}else{let r=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new k_(Jk,{error:t,message:r})}return vB(e,Yre),e}o(Yre,"getSolanaErrorFromJsonRpcError");function qCe(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}o(qCe,"isRpcErrorResponse");fe.SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND=CQ;fe.SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED=LQ;fe.SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT=PQ;fe.SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT=BQ;fe.SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND=kQ;fe.SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED=OQ;fe.SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS=wQ;fe.SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH=vQ;fe.SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY=EQ;fe.SOLANA_ERROR__ADDRESSES__INVALID_OFF_CURVE_ADDRESS=MQ;fe.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE=RQ;fe.SOLANA_ERROR__ADDRESSES__MALFORMED_PDA=SQ;fe.SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED=IQ;fe.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED=TQ;fe.SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE=AQ;fe.SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER=NQ;fe.SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE=_Q;fe.SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE=cQ;fe.SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED=oQ;fe.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY=ure;fe.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS=Cre;fe.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL=Nre;fe.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH=mre;fe.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH=gre;fe.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH=pre;fe.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE=bre;fe.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH=dre;fe.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH=Ere;fe.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH=hre;fe.SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE=Ore;fe.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH=lre;fe.SOLANA_ERROR__CODECS__INVALID_CONSTANT=Rre;fe.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT=xre;fe.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT=vre;fe.SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT=Are;fe.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS=yre;fe.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE=wre;fe.SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE=Ire;fe.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE=_re;fe.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE=Sre;fe.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES=Mre;fe.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE=Tre;fe.SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED=KQ;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED=cee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED=wee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=Eee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED=vee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL=iee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE=_ee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT=jee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW=Kee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR=mB;fe.SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS=Zee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH=Nee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED=Lee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM=pB;fe.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX=gee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC=See;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT=Ree;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED=Iee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE=Tee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED=yee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED=hee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND=dee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR=eee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER=$ee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE=qee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY=Vee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID=see;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS=oee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA=nee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER=zee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT=tee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR=Aee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA=ree;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC=Pee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS=Bee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED=Wee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED=Yee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED=Xee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED=kee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT=Mee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE=aee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID=lee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS=xee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION=Dee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE=Uee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE=Hee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE=Fee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED=mee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE=pee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED=Cee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED=bee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION=uee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT=fee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN=hB;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID=Oee;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR=Gee;fe.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS=ZQ;fe.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA=JQ;fe.SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH=QQ;fe.SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH=fQ;fe.SOLANA_ERROR__INVALID_NONCE=sQ;fe.SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING=zre;fe.SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED=Gre;fe.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE=jre;fe.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING=Vre;fe.SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE=Kre;fe.SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR=eB;fe.SOLANA_ERROR__JSON_RPC__INVALID_PARAMS=tB;fe.SOLANA_ERROR__JSON_RPC__INVALID_REQUEST=nB;fe.SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND=rB;fe.SOLANA_ERROR__JSON_RPC__PARSE_ERROR=Qk;fe.SOLANA_ERROR__JSON_RPC__SCAN_ERROR=sB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP=dB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE=lB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET=oB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX=aB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED=cB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED=pQ;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY=bQ;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT=yQ;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE=YA;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED=fB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE=gQ;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE=uB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH=mQ;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE=xQ;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION=iB;fe.SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH=GQ;fe.SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH=$Q;fe.SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH=WQ;fe.SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY=XQ;fe.SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE=YQ;fe.SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE=uQ;fe.SOLANA_ERROR__MALFORMED_BIGINT_STRING=lQ;fe.SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR=Jk;fe.SOLANA_ERROR__MALFORMED_NUMBER_STRING=dQ;fe.SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND=aQ;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN=Dre;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED=Fre;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED=Hre;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT=qre;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID=Ure;fe.SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD=Lre;fe.SOLANA_ERROR__RPC__INTEGER_OVERFLOW=kre;fe.SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR=Pre;fe.SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN=Bre;fe.SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS=Jee;fe.SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER=Qee;fe.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER=tte;fe.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER=rte;fe.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER=ete;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER=ite;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER=ote;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER=ste;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER=nte;fe.SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS=ate;fe.SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING=cte;fe.SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED=fte;fe.SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY=zQ;fe.SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED=UQ;fe.SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT=DQ;fe.SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED=FQ;fe.SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED=HQ;fe.SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED=qQ;fe.SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED=VQ;fe.SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED=jQ;fe.SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE=hQ;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=Gte;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE=Mte;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE=Cte;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND=kte;fe.SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND=Qte;fe.SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED=Dte;fe.SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND=Ute;fe.SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP=Fte;fe.SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE=Kte;fe.SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION=yB;fe.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE=Pte;fe.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT=bB;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE=Lte;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX=qte;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA=tre;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX=rre;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER=ere;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT=are;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION=jte;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT=nre;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT=Yte;fe.SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED=sre;fe.SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE=Hte;fe.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND=Bte;fe.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED=xB;fe.SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED=cre;fe.SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE=zte;fe.SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE=Vte;fe.SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS=Jte;fe.SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION=fre;fe.SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN=gB;fe.SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION=Wte;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT=Zte;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT=ore;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT=Xte;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT=$te;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT=ire;fe.SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION=Ate;fe.SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING=vte;fe.SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES=Ite;fe.SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT=Nte;fe.SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME=dte;fe.SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME=hte;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING=mte;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE=gte;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING=bte;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND=yte;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT=Rte;fe.SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT=Ote;fe.SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING=_te;fe.SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING=wte;fe.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE=Ste;fe.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING=Ete;fe.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES=ute;fe.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE=lte;fe.SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH=Tte;fe.SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING=xte;fe.SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE=pte;fe.SolanaError=k_;fe.getSolanaErrorFromInstructionError=_B;fe.getSolanaErrorFromJsonRpcError=Yre;fe.getSolanaErrorFromTransactionError=wB;fe.isSolanaError=UCe;fe.safeCaptureStackTrace=vB});var yne=j(sr=>{"use strict";m();g();var Jn=EB(),VCe=o(t=>{let e=t.filter(s=>s.length);if(e.length===0)return t.length?t[0]:new Uint8Array;if(e.length===1)return e[0];let r=e.reduce((s,a)=>s+a.length,0),n=new Uint8Array(r),i=0;return e.forEach(s=>{n.set(s,i),i+=s.length}),n},"mergeBytes"),Xre=o((t,e)=>{if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r},"padBytes"),Zre=o((t,e)=>Xre(t.length<=e?t:t.slice(0,e),e),"fixBytes");function Jre(t,e,r){let n=r===0&&t.length===e.length?t:t.slice(r,r+e.length);return n.length!==e.length?!1:e.every((i,s)=>i===n[s])}o(Jre,"containsBytes");function B_(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}o(B_,"getEncodedSize");function Cu(t){return Object.freeze({...t,encode:o(e=>{let r=new Uint8Array(B_(e,t));return t.write(e,r,0),r},"encode")})}o(Cu,"createEncoder");function Vl(t){return Object.freeze({...t,decode:o((e,r=0)=>t.read(e,r)[0],"decode")})}o(Vl,"createDecoder");function Qre(t){return Object.freeze({...t,decode:o((e,r=0)=>t.read(e,r)[0],"decode"),encode:o(e=>{let r=new Uint8Array(B_(e,t));return t.write(e,r,0),r},"encode")})}o(Qre,"createCodec");function zi(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}o(zi,"isFixedSize");function SB(t){if(!zi(t))throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH)}o(SB,"assertIsFixedSize");function AB(t){return!zi(t)}o(AB,"isVariableSize");function jCe(t){if(!AB(t))throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH)}o(jCe,"assertIsVariableSize");function dh(t,e){if(zi(t)!==zi(e))throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(zi(t)&&zi(e)&&t.fixedSize!==e.fixedSize)throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!zi(t)&&!zi(e)&&t.maxSize!==e.maxSize)throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}o(dh,"combineCodec");function ene(t,e){let r=o((n,i,s)=>{let a=t.encode(n);if(rne(a,e)>=0)throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,{encodedBytes:a,hexEncodedBytes:XA(a),hexSentinel:XA(e),sentinel:e});return i.set(a,s),s+=a.length,i.set(e,s),s+=e.length,s},"write");return zi(t)?Cu({...t,fixedSize:t.fixedSize+e.length,write:r}):Cu({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},getSizeFromValue:o(n=>t.getSizeFromValue(n)+e.length,"getSizeFromValue"),write:r})}o(ene,"addEncoderSentinel");function tne(t,e){let r=o((n,i)=>{let s=i===0?n:n.slice(i),a=rne(s,e);if(a===-1)throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,{decodedBytes:s,hexDecodedBytes:XA(s),hexSentinel:XA(e),sentinel:e});let c=s.slice(0,a);return[t.decode(c),i+c.length+e.length]},"read");return zi(t)?Vl({...t,fixedSize:t.fixedSize+e.length,read:r}):Vl({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},read:r})}o(tne,"addDecoderSentinel");function zCe(t,e){return dh(ene(t,e),tne(t,e))}o(zCe,"addCodecSentinel");function rne(t,e){return t.findIndex((r,n,i)=>e.length===1?r===e[0]:Jre(i,e,n))}o(rne,"findSentinelIndex");function XA(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}o(XA,"hexBytes");function KCe(t,e,r=0){if(e.length-r<=0)throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:t})}o(KCe,"assertByteArrayIsNotEmptyForCodec");function IB(t,e,r,n=0){let i=r.length-n;if(i<e)throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:i,codecDescription:t,expected:e})}o(IB,"assertByteArrayHasEnoughBytesForCodec");function P_(t,e,r){if(e<0||e>r)throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,{bytesLength:r,codecDescription:t,offset:e})}o(P_,"assertByteArrayOffsetIsNotOutOfRange");function nne(t,e){let r=o((a,c,l)=>{let h=t.encode(a);return l=e.write(h.length,c,l),c.set(h,l),l+h.length},"write");if(zi(e)&&zi(t))return Cu({...t,fixedSize:e.fixedSize+t.fixedSize,write:r});let n=zi(e)?e.fixedSize:e.maxSize??null,i=zi(t)?t.fixedSize:t.maxSize??null,s=n!==null&&i!==null?n+i:null;return Cu({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:o(a=>{let c=B_(a,t);return B_(c,e)+c},"getSizeFromValue"),write:r})}o(nne,"addEncoderSizePrefix");function ine(t,e){let r=o((a,c)=>{let[l,h]=e.read(a,c),y=Number(l);return c=h,(c>0||a.length>y)&&(a=a.slice(c,c+y)),IB("addDecoderSizePrefix",y,a),[t.decode(a),c+y]},"read");if(zi(e)&&zi(t))return Vl({...t,fixedSize:e.fixedSize+t.fixedSize,read:r});let n=zi(e)?e.fixedSize:e.maxSize??null,i=zi(t)?t.fixedSize:t.maxSize??null,s=n!==null&&i!==null?n+i:null;return Vl({...t,...s!==null?{maxSize:s}:{},read:r})}o(ine,"addDecoderSizePrefix");function GCe(t,e){return dh(nne(t,e),ine(t,e))}o(GCe,"addCodecSizePrefix");function one(t,e){return Cu({fixedSize:e,write:o((r,n,i)=>{let s=t.encode(r),a=s.length>e?s.slice(0,e):s;return n.set(a,i),i+e},"write")})}o(one,"fixEncoderSize");function sne(t,e){return Vl({fixedSize:e,read:o((r,n)=>{IB("fixCodecSize",e,r,n),(n>0||r.length>e)&&(r=r.slice(n,n+e)),zi(t)&&(r=Zre(r,t.fixedSize));let[i]=t.read(r,0);return[i,n+e]},"read")})}o(sne,"fixDecoderSize");function $Ce(t,e){return dh(one(t,e),sne(t,e))}o($Ce,"fixCodecSize");function ZA(t,e){return Cu({...t,write:o((r,n,i)=>{let s=o(h=>ane(h,n.length),"wrapBytes"),a=e.preOffset?e.preOffset({bytes:n,preOffset:i,wrapBytes:s}):i;P_("offsetEncoder",a,n.length);let c=t.write(r,n,a),l=e.postOffset?e.postOffset({bytes:n,newPreOffset:a,postOffset:c,preOffset:i,wrapBytes:s}):c;return P_("offsetEncoder",l,n.length),l},"write")})}o(ZA,"offsetEncoder");function JA(t,e){return Vl({...t,read:o((r,n)=>{let i=o(h=>ane(h,r.length),"wrapBytes"),s=e.preOffset?e.preOffset({bytes:r,preOffset:n,wrapBytes:i}):n;P_("offsetDecoder",s,r.length);let[a,c]=t.read(r,s),l=e.postOffset?e.postOffset({bytes:r,newPreOffset:s,postOffset:c,preOffset:n,wrapBytes:i}):c;return P_("offsetDecoder",l,r.length),[a,l]},"read")})}o(JA,"offsetDecoder");function WCe(t,e){return dh(ZA(t,e),JA(t,e))}o(WCe,"offsetCodec");function ane(t,e){return e===0?0:(t%e+e)%e}o(ane,"modulo");function QA(t,e){if(zi(t)){let r=e(t.fixedSize);if(r<0)throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeEncoder"});return Cu({...t,fixedSize:r})}return Cu({...t,getSizeFromValue:o(r=>{let n=e(t.getSizeFromValue(r));if(n<0)throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:n,codecDescription:"resizeEncoder"});return n},"getSizeFromValue")})}o(QA,"resizeEncoder");function e4(t,e){if(zi(t)){let r=e(t.fixedSize);if(r<0)throw new Jn.SolanaError(Jn.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeDecoder"});return Vl({...t,fixedSize:r})}return t}o(e4,"resizeDecoder");function YCe(t,e){return dh(QA(t,e),e4(t,e))}o(YCe,"resizeCodec");function cne(t,e){return ZA(QA(t,r=>r+e),{preOffset:o(({preOffset:r})=>r+e,"preOffset")})}o(cne,"padLeftEncoder");function fne(t,e){return ZA(QA(t,r=>r+e),{postOffset:o(({postOffset:r})=>r+e,"postOffset")})}o(fne,"padRightEncoder");function une(t,e){return JA(e4(t,r=>r+e),{preOffset:o(({preOffset:r})=>r+e,"preOffset")})}o(une,"padLeftDecoder");function lne(t,e){return JA(e4(t,r=>r+e),{postOffset:o(({postOffset:r})=>r+e,"postOffset")})}o(lne,"padRightDecoder");function XCe(t,e){return dh(cne(t,e),une(t,e))}o(XCe,"padLeftCodec");function ZCe(t,e){return dh(fne(t,e),lne(t,e))}o(ZCe,"padRightCodec");function dne(t,e,r,n,i=0){for(;r<--n;){let s=t[r];e[r+i]=t[n],e[n+i]=s,r++}r===n&&(e[r+i]=t[r])}o(dne,"copySourceToTargetInReverse");function hne(t){return SB(t),Cu({...t,write:o((e,r,n)=>{let i=t.write(e,r,n);return dne(r,r,n,n+t.fixedSize),i},"write")})}o(hne,"reverseEncoder");function pne(t){return SB(t),Vl({...t,read:o((e,r)=>{let n=e.slice();return dne(e,n,r,r+t.fixedSize),t.read(n,r)},"read")})}o(pne,"reverseDecoder");function JCe(t){return dh(hne(t),pne(t))}o(JCe,"reverseCodec");function mne(t,e){return Cu({...AB(t)?{...t,getSizeFromValue:o(r=>t.getSizeFromValue(e(r)),"getSizeFromValue")}:t,write:o((r,n,i)=>t.write(e(r),n,i),"write")})}o(mne,"transformEncoder");function gne(t,e){return Vl({...t,read:o((r,n)=>{let[i,s]=t.read(r,n);return[e(i,r,n),s]},"read")})}o(gne,"transformDecoder");function QCe(t,e,r){return Qre({...mne(t,e),read:r?gne(t,r).read:t.read})}o(QCe,"transformCodec");sr.addCodecSentinel=zCe;sr.addCodecSizePrefix=GCe;sr.addDecoderSentinel=tne;sr.addDecoderSizePrefix=ine;sr.addEncoderSentinel=ene;sr.addEncoderSizePrefix=nne;sr.assertByteArrayHasEnoughBytesForCodec=IB;sr.assertByteArrayIsNotEmptyForCodec=KCe;sr.assertByteArrayOffsetIsNotOutOfRange=P_;sr.assertIsFixedSize=SB;sr.assertIsVariableSize=jCe;sr.combineCodec=dh;sr.containsBytes=Jre;sr.createCodec=Qre;sr.createDecoder=Vl;sr.createEncoder=Cu;sr.fixBytes=Zre;sr.fixCodecSize=$Ce;sr.fixDecoderSize=sne;sr.fixEncoderSize=one;sr.getEncodedSize=B_;sr.isFixedSize=zi;sr.isVariableSize=AB;sr.mergeBytes=VCe;sr.offsetCodec=WCe;sr.offsetDecoder=JA;sr.offsetEncoder=ZA;sr.padBytes=Xre;sr.padLeftCodec=XCe;sr.padLeftDecoder=une;sr.padLeftEncoder=cne;sr.padRightCodec=ZCe;sr.padRightDecoder=lne;sr.padRightEncoder=fne;sr.resizeCodec=YCe;sr.resizeDecoder=e4;sr.resizeEncoder=QA;sr.reverseCodec=JCe;sr.reverseDecoder=pne;sr.reverseEncoder=hne;sr.transformCodec=QCe;sr.transformDecoder=gne;sr.transformEncoder=mne});var $ne=j(mr=>{"use strict";m();g();var bne=EB(),Io=yne();function TB(t,e,r,n){if(n<e||n>r)throw new bne.SolanaError(bne.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,{codecDescription:t,max:r,min:e,value:n})}o(TB,"assertNumberIsBetweenForCodec");var xne=(t=>(t[t.Little=0]="Little",t[t.Big=1]="Big",t))(xne||{});function vne(t){return t?.endian!==1}o(vne,"isLittleEndian");function _f(t){return Io.createEncoder({fixedSize:t.size,write(e,r,n){t.range&&TB(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,vne(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}o(_f,"numberEncoderFactory");function wf(t){return Io.createDecoder({fixedSize:t.size,read(e,r=0){Io.assertByteArrayIsNotEmptyForCodec(t.name,e,r),Io.assertByteArrayHasEnoughBytesForCodec(t.name,t.size,e,r);let n=new DataView(eke(e,r,t.size));return[t.get(n,vne(t.config)),r+t.size]}})}o(wf,"numberDecoderFactory");function eke(t,e,r){let n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}o(eke,"toArrayBuffer");var _ne=o((t={})=>_f({config:t,name:"f32",set:o((e,r,n)=>e.setFloat32(0,Number(r),n),"set"),size:4}),"getF32Encoder"),wne=o((t={})=>wf({config:t,get:o((e,r)=>e.getFloat32(0,r),"get"),name:"f32",size:4}),"getF32Decoder"),tke=o((t={})=>Io.combineCodec(_ne(t),wne(t)),"getF32Codec"),Ene=o((t={})=>_f({config:t,name:"f64",set:o((e,r,n)=>e.setFloat64(0,Number(r),n),"set"),size:8}),"getF64Encoder"),Sne=o((t={})=>wf({config:t,get:o((e,r)=>e.getFloat64(0,r),"get"),name:"f64",size:8}),"getF64Decoder"),rke=o((t={})=>Io.combineCodec(Ene(t),Sne(t)),"getF64Codec"),Ane=o((t={})=>_f({config:t,name:"i128",range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:o((e,r,n)=>{let i=n?8:0,s=n?0:8,a=0xffffffffffffffffn;e.setBigInt64(i,BigInt(r)>>64n,n),e.setBigUint64(s,BigInt(r)&a,n)},"set"),size:16}),"getI128Encoder"),Ine=o((t={})=>wf({config:t,get:o((e,r)=>{let n=r?8:0,i=r?0:8,s=e.getBigInt64(n,r),a=e.getBigUint64(i,r);return(s<<64n)+a},"get"),name:"i128",size:16}),"getI128Decoder"),nke=o((t={})=>Io.combineCodec(Ane(t),Ine(t)),"getI128Codec"),Tne=o((t={})=>_f({config:t,name:"i16",range:[-+"0x7fff"-1,+"0x7fff"],set:o((e,r,n)=>e.setInt16(0,Number(r),n),"set"),size:2}),"getI16Encoder"),Rne=o((t={})=>wf({config:t,get:o((e,r)=>e.getInt16(0,r),"get"),name:"i16",size:2}),"getI16Decoder"),ike=o((t={})=>Io.combineCodec(Tne(t),Rne(t)),"getI16Codec"),One=o((t={})=>_f({config:t,name:"i32",range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:o((e,r,n)=>e.setInt32(0,Number(r),n),"set"),size:4}),"getI32Encoder"),Nne=o((t={})=>wf({config:t,get:o((e,r)=>e.getInt32(0,r),"get"),name:"i32",size:4}),"getI32Decoder"),oke=o((t={})=>Io.combineCodec(One(t),Nne(t)),"getI32Codec"),Mne=o((t={})=>_f({config:t,name:"i64",range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:o((e,r,n)=>e.setBigInt64(0,BigInt(r),n),"set"),size:8}),"getI64Encoder"),Cne=o((t={})=>wf({config:t,get:o((e,r)=>e.getBigInt64(0,r),"get"),name:"i64",size:8}),"getI64Decoder"),ske=o((t={})=>Io.combineCodec(Mne(t),Cne(t)),"getI64Codec"),kne=o(()=>_f({name:"i8",range:[-+"0x7f"-1,+"0x7f"],set:o((t,e)=>t.setInt8(0,Number(e)),"set"),size:1}),"getI8Encoder"),Bne=o(()=>wf({get:o(t=>t.getInt8(0),"get"),name:"i8",size:1}),"getI8Decoder"),ake=o(()=>Io.combineCodec(kne(),Bne()),"getI8Codec"),Pne=o(()=>Io.createEncoder({getSizeFromValue:o(t=>t<=127?1:t<=16383?2:3,"getSizeFromValue"),maxSize:3,write:o((t,e,r)=>{TB("shortU16",0,65535,t);let n=[0];for(let i=0;;i+=1){let s=Number(t)>>i*7;if(s===0)break;let a=127&s;n[i]=a,i>0&&(n[i-1]|=128)}return e.set(n,r),r+n.length},"write")}),"getShortU16Encoder"),Lne=o(()=>Io.createDecoder({maxSize:3,read:o((t,e)=>{let r=0,n=0;for(;++n;){let i=n-1,s=t[e+i],a=127&s;if(r|=a<<i*7,!(s&128))break}return[r,e+n]},"read")}),"getShortU16Decoder"),cke=o(()=>Io.combineCodec(Pne(),Lne()),"getShortU16Codec"),Dne=o((t={})=>_f({config:t,name:"u128",range:[0n,BigInt("0xffffffffffffffffffffffffffffffff")],set:o((e,r,n)=>{let i=n?8:0,s=n?0:8,a=0xffffffffffffffffn;e.setBigUint64(i,BigInt(r)>>64n,n),e.setBigUint64(s,BigInt(r)&a,n)},"set"),size:16}),"getU128Encoder"),Une=o((t={})=>wf({config:t,get:o((e,r)=>{let n=r?8:0,i=r?0:8,s=e.getBigUint64(n,r),a=e.getBigUint64(i,r);return(s<<64n)+a},"get"),name:"u128",size:16}),"getU128Decoder"),fke=o((t={})=>Io.combineCodec(Dne(t),Une(t)),"getU128Codec"),Fne=o((t={})=>_f({config:t,name:"u16",range:[0,+"0xffff"],set:o((e,r,n)=>e.setUint16(0,Number(r),n),"set"),size:2}),"getU16Encoder"),Hne=o((t={})=>wf({config:t,get:o((e,r)=>e.getUint16(0,r),"get"),name:"u16",size:2}),"getU16Decoder"),uke=o((t={})=>Io.combineCodec(Fne(t),Hne(t)),"getU16Codec"),qne=o((t={})=>_f({config:t,name:"u32",range:[0,+"0xffffffff"],set:o((e,r,n)=>e.setUint32(0,Number(r),n),"set"),size:4}),"getU32Encoder"),Vne=o((t={})=>wf({config:t,get:o((e,r)=>e.getUint32(0,r),"get"),name:"u32",size:4}),"getU32Decoder"),lke=o((t={})=>Io.combineCodec(qne(t),Vne(t)),"getU32Codec"),jne=o((t={})=>_f({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:o((e,r,n)=>e.setBigUint64(0,BigInt(r),n),"set"),size:8}),"getU64Encoder"),zne=o((t={})=>wf({config:t,get:o((e,r)=>e.getBigUint64(0,r),"get"),name:"u64",size:8}),"getU64Decoder"),dke=o((t={})=>Io.combineCodec(jne(t),zne(t)),"getU64Codec"),Kne=o(()=>_f({name:"u8",range:[0,+"0xff"],set:o((t,e)=>t.setUint8(0,Number(e)),"set"),size:1}),"getU8Encoder"),Gne=o(()=>wf({get:o(t=>t.getUint8(0),"get"),name:"u8",size:1}),"getU8Decoder"),hke=o(()=>Io.combineCodec(Kne(),Gne()),"getU8Codec");mr.Endian=xne;mr.assertNumberIsBetweenForCodec=TB;mr.getF32Codec=tke;mr.getF32Decoder=wne;mr.getF32Encoder=_ne;mr.getF64Codec=rke;mr.getF64Decoder=Sne;mr.getF64Encoder=Ene;mr.getI128Codec=nke;mr.getI128Decoder=Ine;mr.getI128Encoder=Ane;mr.getI16Codec=ike;mr.getI16Decoder=Rne;mr.getI16Encoder=Tne;mr.getI32Codec=oke;mr.getI32Decoder=Nne;mr.getI32Encoder=One;mr.getI64Codec=ske;mr.getI64Decoder=Cne;mr.getI64Encoder=Mne;mr.getI8Codec=ake;mr.getI8Decoder=Bne;mr.getI8Encoder=kne;mr.getShortU16Codec=cke;mr.getShortU16Decoder=Lne;mr.getShortU16Encoder=Pne;mr.getU128Codec=fke;mr.getU128Decoder=Une;mr.getU128Encoder=Dne;mr.getU16Codec=uke;mr.getU16Decoder=Hne;mr.getU16Encoder=Fne;mr.getU32Codec=lke;mr.getU32Decoder=Vne;mr.getU32Encoder=qne;mr.getU64Codec=dke;mr.getU64Decoder=zne;mr.getU64Encoder=jne;mr.getU8Codec=hke;mr.getU8Decoder=Gne;mr.getU8Encoder=Kne});var Yne=j((t4,Wne)=>{m();g();(function(t,e){typeof t4=="object"&&typeof Wne<"u"?e(t4):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.Superstruct={}))})(t4,function(t){"use strict";class e extends TypeError{static{o(this,"StructError")}constructor(Q,pe){let ne,{message:de,explanation:yt,...ve}=Q,{path:Se}=Q,tr=Se.length===0?de:`At path: ${Se.join(".")} -- ${de}`;super(yt??tr),yt!=null&&(this.cause=tr),Object.assign(this,ve),this.name=this.constructor.name,this.failures=()=>ne??(ne=[Q,...pe()])}}function r(Z){return n(Z)&&typeof Z[Symbol.iterator]=="function"}o(r,"isIterable");function n(Z){return typeof Z=="object"&&Z!=null}o(n,"isObject");function i(Z){return n(Z)&&!Array.isArray(Z)}o(i,"isNonArrayObject");function s(Z){if(Object.prototype.toString.call(Z)!=="[object Object]")return!1;let Q=Object.getPrototypeOf(Z);return Q===null||Q===Object.prototype}o(s,"isPlainObject");function a(Z){return typeof Z=="symbol"?Z.toString():typeof Z=="string"?JSON.stringify(Z):`${Z}`}o(a,"print");function c(Z){let{done:Q,value:pe}=Z.next();return Q?void 0:pe}o(c,"shiftIterator");function l(Z,Q,pe,ne){if(Z===!0)return;Z===!1?Z={}:typeof Z=="string"&&(Z={message:Z});let{path:de,branch:yt}=Q,{type:ve}=pe,{refinement:Se,message:tr=`Expected a value of type \`${ve}\`${Se?` with refinement \`${Se}\``:""}, but received: \`${a(ne)}\``}=Z;return{value:ne,type:ve,refinement:Se,key:de[de.length-1],path:de,branch:yt,...Z,message:tr}}o(l,"toFailure");function*h(Z,Q,pe,ne){r(Z)||(Z=[Z]);for(let de of Z){let yt=l(de,Q,pe,ne);yt&&(yield yt)}}o(h,"toFailures");function*y(Z,Q,pe={}){let{path:ne=[],branch:de=[Z],coerce:yt=!1,mask:ve=!1}=pe,Se={path:ne,branch:de,mask:ve};yt&&(Z=Q.coercer(Z,Se));let tr="valid";for(let Ie of Q.validator(Z,Se))Ie.explanation=pe.message,tr="not_valid",yield[Ie,void 0];for(let[Ie,Me,ci]of Q.entries(Z,Se)){let Fe=y(Me,ci,{path:Ie===void 0?ne:[...ne,Ie],branch:Ie===void 0?de:[...de,Me],coerce:yt,mask:ve,message:pe.message});for(let De of Fe)De[0]?(tr=De[0].refinement!=null?"not_refined":"not_valid",yield[De[0],void 0]):yt&&(Me=De[1],Ie===void 0?Z=Me:Z instanceof Map?Z.set(Ie,Me):Z instanceof Set?Z.add(Me):n(Z)&&(Me!==void 0||Ie in Z)&&(Z[Ie]=Me))}if(tr!=="not_valid")for(let Ie of Q.refiner(Z,Se))Ie.explanation=pe.message,tr="not_refined",yield[Ie,void 0];tr==="valid"&&(yield[void 0,Z])}o(y,"run");class p{static{o(this,"Struct")}constructor(Q){let{type:pe,schema:ne,validator:de,refiner:yt,coercer:ve=o(tr=>tr,"coercer"),entries:Se=o(function*(){},"entries")}=Q;this.type=pe,this.schema=ne,this.entries=Se,this.coercer=ve,de?this.validator=(tr,Ie)=>{let Me=de(tr,Ie);return h(Me,Ie,this,tr)}:this.validator=()=>[],yt?this.refiner=(tr,Ie)=>{let Me=yt(tr,Ie);return h(Me,Ie,this,tr)}:this.refiner=()=>[]}assert(Q,pe){return E(Q,this,pe)}create(Q,pe){return I(Q,this,pe)}is(Q){return N(Q,this)}mask(Q,pe){return O(Q,this,pe)}validate(Q,pe={}){return k(Q,this,pe)}}function E(Z,Q,pe){let ne=k(Z,Q,{message:pe});if(ne[0])throw ne[0]}o(E,"assert");function I(Z,Q,pe){let ne=k(Z,Q,{coerce:!0,message:pe});if(ne[0])throw ne[0];return ne[1]}o(I,"create");function O(Z,Q,pe){let ne=k(Z,Q,{coerce:!0,mask:!0,message:pe});if(ne[0])throw ne[0];return ne[1]}o(O,"mask");function N(Z,Q){return!k(Z,Q)[0]}o(N,"is");function k(Z,Q,pe={}){let ne=y(Z,Q,pe),de=c(ne);return de[0]?[new e(de[0],function*(){for(let ve of ne)ve[0]&&(yield ve[0])}),void 0]:[void 0,de[1]]}o(k,"validate");function C(...Z){let Q=Z[0].type==="type",pe=Z.map(de=>de.schema),ne=Object.assign({},...pe);return Q?ge(ne):ee(ne)}o(C,"assign");function L(Z,Q){return new p({type:Z,schema:null,validator:Q})}o(L,"define");function M(Z,Q){return new p({...Z,refiner:o((pe,ne)=>pe===void 0||Z.refiner(pe,ne),"refiner"),validator(pe,ne){return pe===void 0?!0:(Q(pe,ne),Z.validator(pe,ne))}})}o(M,"deprecated");function P(Z){return new p({type:"dynamic",schema:null,*entries(Q,pe){yield*Z(Q,pe).entries(Q,pe)},validator(Q,pe){return Z(Q,pe).validator(Q,pe)},coercer(Q,pe){return Z(Q,pe).coercer(Q,pe)},refiner(Q,pe){return Z(Q,pe).refiner(Q,pe)}})}o(P,"dynamic");function H(Z){let Q;return new p({type:"lazy",schema:null,*entries(pe,ne){Q??(Q=Z()),yield*Q.entries(pe,ne)},validator(pe,ne){return Q??(Q=Z()),Q.validator(pe,ne)},coercer(pe,ne){return Q??(Q=Z()),Q.coercer(pe,ne)},refiner(pe,ne){return Q??(Q=Z()),Q.refiner(pe,ne)}})}o(H,"lazy");function F(Z,Q){let{schema:pe}=Z,ne={...pe};for(let de of Q)delete ne[de];switch(Z.type){case"type":return ge(ne);default:return ee(ne)}}o(F,"omit");function J(Z){let Q=Z instanceof p,pe=Q?{...Z.schema}:{...Z};for(let ne in pe)pe[ne]=re(pe[ne]);return Q&&Z.type==="type"?ge(pe):ee(pe)}o(J,"partial");function W(Z,Q){let{schema:pe}=Z,ne={};for(let de of Q)ne[de]=pe[de];switch(Z.type){case"type":return ge(ne);default:return ee(ne)}}o(W,"pick");function X(Z,Q){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),L(Z,Q)}o(X,"struct");function S(){return L("any",()=>!0)}o(S,"any");function f(Z){return new p({type:"array",schema:Z,*entries(Q){if(Z&&Array.isArray(Q))for(let[pe,ne]of Q.entries())yield[pe,ne,Z]},coercer(Q){return Array.isArray(Q)?Q.slice():Q},validator(Q){return Array.isArray(Q)||`Expected an array value, but received: ${a(Q)}`}})}o(f,"array");function d(){return L("bigint",Z=>typeof Z=="bigint")}o(d,"bigint");function b(){return L("boolean",Z=>typeof Z=="boolean")}o(b,"boolean");function x(){return L("date",Z=>Z instanceof Date&&!isNaN(Z.getTime())||`Expected a valid \`Date\` object, but received: ${a(Z)}`)}o(x,"date");function _(Z){let Q={},pe=Z.map(ne=>a(ne)).join();for(let ne of Z)Q[ne]=ne;return new p({type:"enums",schema:Q,validator(ne){return Z.includes(ne)||`Expected one of \`${pe}\`, but received: ${a(ne)}`}})}o(_,"enums");function A(){return L("func",Z=>typeof Z=="function"||`Expected a function, but received: ${a(Z)}`)}o(A,"func");function T(Z){return L("instance",Q=>Q instanceof Z||`Expected a \`${Z.name}\` instance, but received: ${a(Q)}`)}o(T,"instance");function v(){return L("integer",Z=>typeof Z=="number"&&!isNaN(Z)&&Number.isInteger(Z)||`Expected an integer, but received: ${a(Z)}`)}o(v,"integer");function u(Z){return new p({type:"intersection",schema:null,*entries(Q,pe){for(let ne of Z)yield*ne.entries(Q,pe)},*validator(Q,pe){for(let ne of Z)yield*ne.validator(Q,pe)},*refiner(Q,pe){for(let ne of Z)yield*ne.refiner(Q,pe)}})}o(u,"intersection");function w(Z){let Q=a(Z),pe=typeof Z;return new p({type:"literal",schema:pe==="string"||pe==="number"||pe==="boolean"?Z:null,validator(ne){return ne===Z||`Expected the literal \`${Q}\`, but received: ${a(ne)}`}})}o(w,"literal");function V(Z,Q){return new p({type:"map",schema:null,*entries(pe){if(Z&&Q&&pe instanceof Map)for(let[ne,de]of pe.entries())yield[ne,ne,Z],yield[ne,de,Q]},coercer(pe){return pe instanceof Map?new Map(pe):pe},validator(pe){return pe instanceof Map||`Expected a \`Map\` object, but received: ${a(pe)}`}})}o(V,"map");function q(){return L("never",()=>!1)}o(q,"never");function U(Z){return new p({...Z,validator:o((Q,pe)=>Q===null||Z.validator(Q,pe),"validator"),refiner:o((Q,pe)=>Q===null||Z.refiner(Q,pe),"refiner")})}o(U,"nullable");function $(){return L("number",Z=>typeof Z=="number"&&!isNaN(Z)||`Expected a number, but received: ${a(Z)}`)}o($,"number");function ee(Z){let Q=Z?Object.keys(Z):[],pe=q();return new p({type:"object",schema:Z||null,*entries(ne){if(Z&&n(ne)){let de=new Set(Object.keys(ne));for(let yt of Q)de.delete(yt),yield[yt,ne[yt],Z[yt]];for(let yt of de)yield[yt,ne[yt],pe]}},validator(ne){return i(ne)||`Expected an object, but received: ${a(ne)}`},coercer(ne,de){if(!i(ne))return ne;let yt={...ne};if(de.mask&&Z)for(let ve in yt)Z[ve]===void 0&&delete yt[ve];return yt}})}o(ee,"object");function re(Z){return new p({...Z,validator:o((Q,pe)=>Q===void 0||Z.validator(Q,pe),"validator"),refiner:o((Q,pe)=>Q===void 0||Z.refiner(Q,pe),"refiner")})}o(re,"optional");function Oe(Z,Q){return new p({type:"record",schema:null,*entries(pe){if(n(pe))for(let ne in pe){let de=pe[ne];yield[ne,ne,Z],yield[ne,de,Q]}},validator(pe){return i(pe)||`Expected an object, but received: ${a(pe)}`},coercer(pe){return i(pe)?{...pe}:pe}})}o(Oe,"record");function ae(){return L("regexp",Z=>Z instanceof RegExp)}o(ae,"regexp");function le(Z){return new p({type:"set",schema:null,*entries(Q){if(Z&&Q instanceof Set)for(let pe of Q)yield[pe,pe,Z]},coercer(Q){return Q instanceof Set?new Set(Q):Q},validator(Q){return Q instanceof Set||`Expected a \`Set\` object, but received: ${a(Q)}`}})}o(le,"set");function ye(){return L("string",Z=>typeof Z=="string"||`Expected a string, but received: ${a(Z)}`)}o(ye,"string");function he(Z){let Q=q();return new p({type:"tuple",schema:null,*entries(pe){if(Array.isArray(pe)){let ne=Math.max(Z.length,pe.length);for(let de=0;de<ne;de++)yield[de,pe[de],Z[de]||Q]}},validator(pe){return Array.isArray(pe)||`Expected an array, but received: ${a(pe)}`},coercer(pe){return Array.isArray(pe)?pe.slice():pe}})}o(he,"tuple");function ge(Z){let Q=Object.keys(Z);return new p({type:"type",schema:Z,*entries(pe){if(n(pe))for(let ne of Q)yield[ne,pe[ne],Z[ne]]},validator(pe){return i(pe)||`Expected an object, but received: ${a(pe)}`},coercer(pe){return i(pe)?{...pe}:pe}})}o(ge,"type");function ur(Z){let Q=Z.map(pe=>pe.type).join(" | ");return new p({type:"union",schema:null,coercer(pe,ne){for(let de of Z){let[yt,ve]=de.validate(pe,{coerce:!0,mask:ne.mask});if(!yt)return ve}return pe},validator(pe,ne){let de=[];for(let yt of Z){let[...ve]=y(pe,yt,ne),[Se]=ve;if(Se[0])for(let[tr]of ve)tr&&de.push(tr);else return[]}return[`Expected the value to satisfy a union of \`${Q}\`, but received: ${a(pe)}`,...de]}})}o(ur,"union");function Ae(){return L("unknown",()=>!0)}o(Ae,"unknown");function Ne(Z,Q,pe){return new p({...Z,coercer:o((ne,de)=>N(ne,Q)?Z.coercer(pe(ne,de),de):Z.coercer(ne,de),"coercer")})}o(Ne,"coerce");function jn(Z,Q,pe={}){return Ne(Z,Ae(),ne=>{let de=typeof Q=="function"?Q():Q;if(ne===void 0)return de;if(!pe.strict&&s(ne)&&s(de)){let yt={...ne},ve=!1;for(let Se in de)yt[Se]===void 0&&(yt[Se]=de[Se],ve=!0);if(ve)return yt}return ne})}o(jn,"defaulted");function qe(Z){return Ne(Z,ye(),Q=>Q.trim())}o(qe,"trimmed");function ke(Z){return Jr(Z,"empty",Q=>{let pe=zn(Q);return pe===0||`Expected an empty ${Z.type} but received one with a size of \`${pe}\``})}o(ke,"empty");function zn(Z){return Z instanceof Map||Z instanceof Set?Z.size:Z.length}o(zn,"getSize");function Ue(Z,Q,pe={}){let{exclusive:ne}=pe;return Jr(Z,"max",de=>ne?de<Q:de<=Q||`Expected a ${Z.type} less than ${ne?"":"or equal to "}${Q} but received \`${de}\``)}o(Ue,"max");function Pe(Z,Q,pe={}){let{exclusive:ne}=pe;return Jr(Z,"min",de=>ne?de>Q:de>=Q||`Expected a ${Z.type} greater than ${ne?"":"or equal to "}${Q} but received \`${de}\``)}o(Pe,"min");function Kn(Z){return Jr(Z,"nonempty",Q=>zn(Q)>0||`Expected a nonempty ${Z.type} but received an empty one`)}o(Kn,"nonempty");function Be(Z,Q){return Jr(Z,"pattern",pe=>Q.test(pe)||`Expected a ${Z.type} matching \`/${Q.source}/\` but received "${pe}"`)}o(Be,"pattern");function Le(Z,Q,pe=Q){let ne=`Expected a ${Z.type}`,de=Q===pe?`of \`${Q}\``:`between \`${Q}\` and \`${pe}\``;return Jr(Z,"size",yt=>{if(typeof yt=="number"||yt instanceof Date)return Q<=yt&&yt<=pe||`${ne} ${de} but received \`${yt}\``;if(yt instanceof Map||yt instanceof Set){let{size:ve}=yt;return Q<=ve&&ve<=pe||`${ne} with a size ${de} but received one with a size of \`${ve}\``}else{let{length:ve}=yt;return Q<=ve&&ve<=pe||`${ne} with a length ${de} but received one with a length of \`${ve}\``}})}o(Le,"size");function Jr(Z,Q,pe){return new p({...Z,*refiner(ne,de){yield*Z.refiner(ne,de);let yt=pe(ne,de),ve=h(yt,de,Z,ne);for(let Se of ve)yield{...Se,refinement:Q}}})}o(Jr,"refine"),t.Struct=p,t.StructError=e,t.any=S,t.array=f,t.assert=E,t.assign=C,t.bigint=d,t.boolean=b,t.coerce=Ne,t.create=I,t.date=x,t.defaulted=jn,t.define=L,t.deprecated=M,t.dynamic=P,t.empty=ke,t.enums=_,t.func=A,t.instance=T,t.integer=v,t.intersection=u,t.is=N,t.lazy=H,t.literal=w,t.map=V,t.mask=O,t.max=Ue,t.min=Pe,t.never=q,t.nonempty=Kn,t.nullable=U,t.number=$,t.object=ee,t.omit=F,t.optional=re,t.partial=J,t.pattern=Be,t.pick=W,t.record=Oe,t.refine=Jr,t.regexp=ae,t.set=le,t.size=Le,t.string=ye,t.struct=X,t.trimmed=qe,t.tuple=he,t.type=ge,t.union=ur,t.unknown=Ae,t.validate=k})});var OB=j(RB=>{"use strict";m();g();Object.defineProperty(RB,"__esModule",{value:!0});RB.default=mke;var r4,pke=new Uint8Array(16);function mke(){if(!r4&&(r4=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!r4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r4(pke)}o(mke,"rng")});var Xne=j(n4=>{"use strict";m();g();Object.defineProperty(n4,"__esModule",{value:!0});n4.default=void 0;var gke=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;n4.default=gke});var L_=j(i4=>{"use strict";m();g();Object.defineProperty(i4,"__esModule",{value:!0});i4.default=void 0;var yke=bke(Xne());function bke(t){return t&&t.__esModule?t:{default:t}}o(bke,"_interopRequireDefault");function xke(t){return typeof t=="string"&&yke.default.test(t)}o(xke,"validate");var vke=xke;i4.default=vke});var U_=j(D_=>{"use strict";m();g();Object.defineProperty(D_,"__esModule",{value:!0});D_.default=void 0;D_.unsafeStringify=Zne;var _ke=wke(L_());function wke(t){return t&&t.__esModule?t:{default:t}}o(wke,"_interopRequireDefault");var ls=[];for(let t=0;t<256;++t)ls.push((t+256).toString(16).slice(1));function Zne(t,e=0){return ls[t[e+0]]+ls[t[e+1]]+ls[t[e+2]]+ls[t[e+3]]+"-"+ls[t[e+4]]+ls[t[e+5]]+"-"+ls[t[e+6]]+ls[t[e+7]]+"-"+ls[t[e+8]]+ls[t[e+9]]+"-"+ls[t[e+10]]+ls[t[e+11]]+ls[t[e+12]]+ls[t[e+13]]+ls[t[e+14]]+ls[t[e+15]]}o(Zne,"unsafeStringify");function Eke(t,e=0){let r=Zne(t,e);if(!(0,_ke.default)(r))throw TypeError("Stringified UUID is invalid");return r}o(Eke,"stringify");var Ske=Eke;D_.default=Ske});var Qne=j(o4=>{"use strict";m();g();Object.defineProperty(o4,"__esModule",{value:!0});o4.default=void 0;var Ake=Tke(OB()),Ike=U_();function Tke(t){return t&&t.__esModule?t:{default:t}}o(Tke,"_interopRequireDefault");var Jne,NB,MB=0,CB=0;function Rke(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||Jne,a=t.clockseq!==void 0?t.clockseq:NB;if(s==null||a==null){let E=t.random||(t.rng||Ake.default)();s==null&&(s=Jne=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),a==null&&(a=NB=(E[6]<<8|E[7])&16383)}let c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:CB+1,h=c-MB+(l-CB)/1e4;if(h<0&&t.clockseq===void 0&&(a=a+1&16383),(h<0||c>MB)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");MB=c,CB=l,NB=a,c+=122192928e5;let y=((c&268435455)*1e4+l)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=y&255;let p=c/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=p&255,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(let E=0;E<6;++E)i[n+E]=s[E];return e||(0,Ike.unsafeStringify)(i)}o(Rke,"v1");var Oke=Rke;o4.default=Oke});var kB=j(s4=>{"use strict";m();g();Object.defineProperty(s4,"__esModule",{value:!0});s4.default=void 0;var Nke=Mke(L_());function Mke(t){return t&&t.__esModule?t:{default:t}}o(Mke,"_interopRequireDefault");function Cke(t){if(!(0,Nke.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}o(Cke,"parse");var kke=Cke;s4.default=kke});var BB=j(Ng=>{"use strict";m();g();Object.defineProperty(Ng,"__esModule",{value:!0});Ng.URL=Ng.DNS=void 0;Ng.default=Uke;var Bke=U_(),Pke=Lke(kB());function Lke(t){return t&&t.__esModule?t:{default:t}}o(Lke,"_interopRequireDefault");function Dke(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}o(Dke,"stringToBytes");var eie="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ng.DNS=eie;var tie="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ng.URL=tie;function Uke(t,e,r){function n(i,s,a,c){var l;if(typeof i=="string"&&(i=Dke(i)),typeof s=="string"&&(s=(0,Pke.default)(s)),((l=s)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+i.length);if(h.set(s),h.set(i,s.length),h=r(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,a){c=c||0;for(let y=0;y<16;++y)a[c+y]=h[y];return a}return(0,Bke.unsafeStringify)(h)}o(n,"generateUUID");try{n.name=t}catch{}return n.DNS=eie,n.URL=tie,n}o(Uke,"v35")});var nie=j(c4=>{"use strict";m();g();Object.defineProperty(c4,"__esModule",{value:!0});c4.default=void 0;function Fke(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return Hke(qke(Vke(t),t.length*8))}o(Fke,"md5");function Hke(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){let s=t[i>>5]>>>i%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(a)}return e}o(Hke,"md5ToHexEncodedArray");function rie(t){return(t+64>>>9<<4)+14+1}o(rie,"getOutputLength");function qke(t,e){t[e>>5]|=128<<e%32,t[rie(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,s=271733878;for(let a=0;a<t.length;a+=16){let c=r,l=n,h=i,y=s;r=zs(r,n,i,s,t[a],7,-680876936),s=zs(s,r,n,i,t[a+1],12,-389564586),i=zs(i,s,r,n,t[a+2],17,606105819),n=zs(n,i,s,r,t[a+3],22,-1044525330),r=zs(r,n,i,s,t[a+4],7,-176418897),s=zs(s,r,n,i,t[a+5],12,1200080426),i=zs(i,s,r,n,t[a+6],17,-1473231341),n=zs(n,i,s,r,t[a+7],22,-45705983),r=zs(r,n,i,s,t[a+8],7,1770035416),s=zs(s,r,n,i,t[a+9],12,-1958414417),i=zs(i,s,r,n,t[a+10],17,-42063),n=zs(n,i,s,r,t[a+11],22,-1990404162),r=zs(r,n,i,s,t[a+12],7,1804603682),s=zs(s,r,n,i,t[a+13],12,-40341101),i=zs(i,s,r,n,t[a+14],17,-1502002290),n=zs(n,i,s,r,t[a+15],22,1236535329),r=Ks(r,n,i,s,t[a+1],5,-165796510),s=Ks(s,r,n,i,t[a+6],9,-1069501632),i=Ks(i,s,r,n,t[a+11],14,643717713),n=Ks(n,i,s,r,t[a],20,-373897302),r=Ks(r,n,i,s,t[a+5],5,-701558691),s=Ks(s,r,n,i,t[a+10],9,38016083),i=Ks(i,s,r,n,t[a+15],14,-660478335),n=Ks(n,i,s,r,t[a+4],20,-405537848),r=Ks(r,n,i,s,t[a+9],5,568446438),s=Ks(s,r,n,i,t[a+14],9,-1019803690),i=Ks(i,s,r,n,t[a+3],14,-187363961),n=Ks(n,i,s,r,t[a+8],20,1163531501),r=Ks(r,n,i,s,t[a+13],5,-1444681467),s=Ks(s,r,n,i,t[a+2],9,-51403784),i=Ks(i,s,r,n,t[a+7],14,1735328473),n=Ks(n,i,s,r,t[a+12],20,-1926607734),r=Gs(r,n,i,s,t[a+5],4,-378558),s=Gs(s,r,n,i,t[a+8],11,-2022574463),i=Gs(i,s,r,n,t[a+11],16,1839030562),n=Gs(n,i,s,r,t[a+14],23,-35309556),r=Gs(r,n,i,s,t[a+1],4,-1530992060),s=Gs(s,r,n,i,t[a+4],11,1272893353),i=Gs(i,s,r,n,t[a+7],16,-155497632),n=Gs(n,i,s,r,t[a+10],23,-1094730640),r=Gs(r,n,i,s,t[a+13],4,681279174),s=Gs(s,r,n,i,t[a],11,-358537222),i=Gs(i,s,r,n,t[a+3],16,-722521979),n=Gs(n,i,s,r,t[a+6],23,76029189),r=Gs(r,n,i,s,t[a+9],4,-640364487),s=Gs(s,r,n,i,t[a+12],11,-421815835),i=Gs(i,s,r,n,t[a+15],16,530742520),n=Gs(n,i,s,r,t[a+2],23,-995338651),r=$s(r,n,i,s,t[a],6,-198630844),s=$s(s,r,n,i,t[a+7],10,1126891415),i=$s(i,s,r,n,t[a+14],15,-1416354905),n=$s(n,i,s,r,t[a+5],21,-57434055),r=$s(r,n,i,s,t[a+12],6,1700485571),s=$s(s,r,n,i,t[a+3],10,-1894986606),i=$s(i,s,r,n,t[a+10],15,-1051523),n=$s(n,i,s,r,t[a+1],21,-2054922799),r=$s(r,n,i,s,t[a+8],6,1873313359),s=$s(s,r,n,i,t[a+15],10,-30611744),i=$s(i,s,r,n,t[a+6],15,-1560198380),n=$s(n,i,s,r,t[a+13],21,1309151649),r=$s(r,n,i,s,t[a+4],6,-145523070),s=$s(s,r,n,i,t[a+11],10,-1120210379),i=$s(i,s,r,n,t[a+2],15,718787259),n=$s(n,i,s,r,t[a+9],21,-343485551),r=$0(r,c),n=$0(n,l),i=$0(i,h),s=$0(s,y)}return[r,n,i,s]}o(qke,"wordsToMd5");function Vke(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array(rie(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}o(Vke,"bytesToWords");function $0(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}o($0,"safeAdd");function jke(t,e){return t<<e|t>>>32-e}o(jke,"bitRotateLeft");function a4(t,e,r,n,i,s){return $0(jke($0($0(e,t),$0(n,s)),i),r)}o(a4,"md5cmn");function zs(t,e,r,n,i,s,a){return a4(e&r|~e&n,t,e,i,s,a)}o(zs,"md5ff");function Ks(t,e,r,n,i,s,a){return a4(e&n|r&~n,t,e,i,s,a)}o(Ks,"md5gg");function Gs(t,e,r,n,i,s,a){return a4(e^r^n,t,e,i,s,a)}o(Gs,"md5hh");function $s(t,e,r,n,i,s,a){return a4(r^(e|~n),t,e,i,s,a)}o($s,"md5ii");var zke=Fke;c4.default=zke});var oie=j(f4=>{"use strict";m();g();Object.defineProperty(f4,"__esModule",{value:!0});f4.default=void 0;var Kke=iie(BB()),Gke=iie(nie());function iie(t){return t&&t.__esModule?t:{default:t}}o(iie,"_interopRequireDefault");var $ke=(0,Kke.default)("v3",48,Gke.default),Wke=$ke;f4.default=Wke});var sie=j(u4=>{"use strict";m();g();Object.defineProperty(u4,"__esModule",{value:!0});u4.default=void 0;var Yke=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),Xke={randomUUID:Yke};u4.default=Xke});var fie=j(l4=>{"use strict";m();g();Object.defineProperty(l4,"__esModule",{value:!0});l4.default=void 0;var aie=cie(sie()),Zke=cie(OB()),Jke=U_();function cie(t){return t&&t.__esModule?t:{default:t}}o(cie,"_interopRequireDefault");function Qke(t,e,r){if(aie.default.randomUUID&&!e&&!t)return aie.default.randomUUID();t=t||{};let n=t.random||(t.rng||Zke.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,Jke.unsafeStringify)(n)}o(Qke,"v4");var eBe=Qke;l4.default=eBe});var uie=j(d4=>{"use strict";m();g();Object.defineProperty(d4,"__esModule",{value:!0});d4.default=void 0;function tBe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}o(tBe,"f");function PB(t,e){return t<<e|t>>>32-e}o(PB,"ROTL");function rBe(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let a=unescape(encodeURIComponent(t));t=[];for(let c=0;c<a.length;++c)t.push(a.charCodeAt(c))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,i=Math.ceil(n/16),s=new Array(i);for(let a=0;a<i;++a){let c=new Uint32Array(16);for(let l=0;l<16;++l)c[l]=t[a*64+l*4]<<24|t[a*64+l*4+1]<<16|t[a*64+l*4+2]<<8|t[a*64+l*4+3];s[a]=c}s[i-1][14]=(t.length-1)*8/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=(t.length-1)*8&4294967295;for(let a=0;a<i;++a){let c=new Uint32Array(80);for(let I=0;I<16;++I)c[I]=s[a][I];for(let I=16;I<80;++I)c[I]=PB(c[I-3]^c[I-8]^c[I-14]^c[I-16],1);let l=r[0],h=r[1],y=r[2],p=r[3],E=r[4];for(let I=0;I<80;++I){let O=Math.floor(I/20),N=PB(l,5)+tBe(O,h,y,p)+E+e[O]+c[I]>>>0;E=p,p=y,y=PB(h,30)>>>0,h=l,l=N}r[0]=r[0]+l>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+y>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+E>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}o(rBe,"sha1");var nBe=rBe;d4.default=nBe});var die=j(h4=>{"use strict";m();g();Object.defineProperty(h4,"__esModule",{value:!0});h4.default=void 0;var iBe=lie(BB()),oBe=lie(uie());function lie(t){return t&&t.__esModule?t:{default:t}}o(lie,"_interopRequireDefault");var sBe=(0,iBe.default)("v5",80,oBe.default),aBe=sBe;h4.default=aBe});var hie=j(p4=>{"use strict";m();g();Object.defineProperty(p4,"__esModule",{value:!0});p4.default=void 0;var cBe="00000000-0000-0000-0000-000000000000";p4.default=cBe});var pie=j(m4=>{"use strict";m();g();Object.defineProperty(m4,"__esModule",{value:!0});m4.default=void 0;var fBe=uBe(L_());function uBe(t){return t&&t.__esModule?t:{default:t}}o(uBe,"_interopRequireDefault");function lBe(t){if(!(0,fBe.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}o(lBe,"version");var dBe=lBe;m4.default=dBe});var g4=j(ku=>{"use strict";m();g();Object.defineProperty(ku,"__esModule",{value:!0});Object.defineProperty(ku,"NIL",{enumerable:!0,get:o(function(){return yBe.default},"get")});Object.defineProperty(ku,"parse",{enumerable:!0,get:o(function(){return _Be.default},"get")});Object.defineProperty(ku,"stringify",{enumerable:!0,get:o(function(){return vBe.default},"get")});Object.defineProperty(ku,"v1",{enumerable:!0,get:o(function(){return hBe.default},"get")});Object.defineProperty(ku,"v3",{enumerable:!0,get:o(function(){return pBe.default},"get")});Object.defineProperty(ku,"v4",{enumerable:!0,get:o(function(){return mBe.default},"get")});Object.defineProperty(ku,"v5",{enumerable:!0,get:o(function(){return gBe.default},"get")});Object.defineProperty(ku,"validate",{enumerable:!0,get:o(function(){return xBe.default},"get")});Object.defineProperty(ku,"version",{enumerable:!0,get:o(function(){return bBe.default},"get")});var hBe=hh(Qne()),pBe=hh(oie()),mBe=hh(fie()),gBe=hh(die()),yBe=hh(hie()),bBe=hh(pie()),xBe=hh(L_()),vBe=hh(U_()),_Be=hh(kB());function hh(t){return t&&t.__esModule?t:{default:t}}o(hh,"_interopRequireDefault")});var gie=j((A8t,mie)=>{"use strict";m();g();var wBe=g4().v4,EBe=o(function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){let a=typeof n.generator=="function"?n.generator:function(){return wBe()};s.id=a(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s},"generateRequest");mie.exports=EBe});var bie=j((O8t,yie)=>{"use strict";m();g();var SBe=g4().v4,ABe=gie(),F_=o(function(t,e){if(!(this instanceof F_))return new F_(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return SBe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t},"ClientBrowser");yie.exports=F_;F_.prototype.request=function(t,e,r,n){let i=this,s=null,a=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);let h=typeof n=="function";try{s=ABe(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(y){if(h)return n(y);throw y}if(!h)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(h){return n(h)}return this.callServer(l,function(h,y){i._parseResponse(h,y,n)}),s};F_.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){let i=o(function(a){return typeof a.error<"u"},"isError"),s=o(function(a){return!i(a)},"isNotError");return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)}});var vie=j((k8t,LB)=>{"use strict";m();g();var IBe=Object.prototype.hasOwnProperty,Na="~";function H_(){}o(H_,"Events");Object.create&&(H_.prototype=Object.create(null),new H_().__proto__||(Na=!1));function TBe(t,e,r){this.fn=t,this.context=e,this.once=r||!1}o(TBe,"EE");function xie(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new TBe(r,n||t,i),a=Na?Na+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}o(xie,"addListener");function y4(t,e){--t._eventsCount===0?t._events=new H_:delete t._events[e]}o(y4,"clearEvent");function Ws(){this._events=new H_,this._eventsCount=0}o(Ws,"EventEmitter");Ws.prototype.eventNames=o(function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)IBe.call(r,n)&&e.push(Na?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e},"eventNames");Ws.prototype.listeners=o(function(e){var r=Na?Na+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=new Array(s);i<s;i++)a[i]=n[i].fn;return a},"listeners");Ws.prototype.listenerCount=o(function(e){var r=Na?Na+e:e,n=this._events[r];return n?n.fn?1:n.length:0},"listenerCount");Ws.prototype.emit=o(function(e,r,n,i,s,a){var c=Na?Na+e:e;if(!this._events[c])return!1;var l=this._events[c],h=arguments.length,y,p;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,r),!0;case 3:return l.fn.call(l.context,r,n),!0;case 4:return l.fn.call(l.context,r,n,i),!0;case 5:return l.fn.call(l.context,r,n,i,s),!0;case 6:return l.fn.call(l.context,r,n,i,s,a),!0}for(p=1,y=new Array(h-1);p<h;p++)y[p-1]=arguments[p];l.fn.apply(l.context,y)}else{var E=l.length,I;for(p=0;p<E;p++)switch(l[p].once&&this.removeListener(e,l[p].fn,void 0,!0),h){case 1:l[p].fn.call(l[p].context);break;case 2:l[p].fn.call(l[p].context,r);break;case 3:l[p].fn.call(l[p].context,r,n);break;case 4:l[p].fn.call(l[p].context,r,n,i);break;default:if(!y)for(I=1,y=new Array(h-1);I<h;I++)y[I-1]=arguments[I];l[p].fn.apply(l[p].context,y)}}return!0},"emit");Ws.prototype.on=o(function(e,r,n){return xie(this,e,r,n,!1)},"on");Ws.prototype.once=o(function(e,r,n){return xie(this,e,r,n,!0)},"once");Ws.prototype.removeListener=o(function(e,r,n,i){var s=Na?Na+e:e;if(!this._events[s])return this;if(!r)return y4(this,s),this;var a=this._events[s];if(a.fn)a.fn===r&&(!i||a.once)&&(!n||a.context===n)&&y4(this,s);else{for(var c=0,l=[],h=a.length;c<h;c++)(a[c].fn!==r||i&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[s]=l.length===1?l[0]:l:y4(this,s)}return this},"removeListener");Ws.prototype.removeAllListeners=o(function(e){var r;return e?(r=Na?Na+e:e,this._events[r]&&y4(this,r)):(this._events=new H_,this._eventsCount=0),this},"removeAllListeners");Ws.prototype.off=Ws.prototype.removeListener;Ws.prototype.addListener=Ws.prototype.on;Ws.prefixed=Na;Ws.EventEmitter=Ws;typeof LB<"u"&&(LB.exports=Ws)});var Aie=j(q_=>{"use strict";m();g();var RBe=fi(),_ie=vie(),OBe=class extends _ie.EventEmitter{static{o(this,"WebSocketBrowserImpl")}socket;constructor(t,e,r){super(),this.socket=new self.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(t,e,r){let n=r||e;try{this.socket.send(t),n()}catch(i){n(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};function wie(t,e){return new OBe(t,e)}o(wie,"WebSocket");var Eie=class{static{o(this,"DefaultDataPack")}encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Sie=class extends _ie.EventEmitter{static{o(this,"CommonClient")}address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...a}={},c,l){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new Eie,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,n){return!n&&typeof r=="object"&&(n=r,r=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));let a=this.generate_request_id(t,e),c={jsonrpc:"2.0",method:t,params:e||void 0,id:a};this.socket.send(this.dataPack.encode(c),n,l=>{if(l)return s(l);this.queue[a]={promise:[i,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(t){let e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));let i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),s=>{if(s)return n(s);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=RBe.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);let n=[r.notification];if(r.params.constructor===Object)n.push(r.params);else for(let i=0;i<r.params.length;i++)n.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r?.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}},NBe=class extends Sie{static{o(this,"Client")}constructor(t="ws://localhost:8080",{autoconnect:e=!0,reconnect:r=!0,reconnect_interval:n=1e3,max_reconnects:i=5}={},s){super(wie,t,{autoconnect:e,reconnect:r,reconnect_interval:n,max_reconnects:i},s)}};q_.Client=NBe;q_.CommonClient=Sie;q_.DefaultDataPack=Eie;q_.WebSocket=wie});var Bie=j(li=>{"use strict";m();g();Object.defineProperty(li,"__esModule",{value:!0});li.shake256=li.shake128=li.keccak_512=li.keccak_384=li.keccak_256=li.keccak_224=li.sha3_512=li.sha3_384=li.sha3_256=li.sha3_224=li.Keccak=void 0;li.keccakP=Cie;var j_=Vk(),Ys=yA(),MBe=BigInt(0),V_=BigInt(1),CBe=BigInt(2),kBe=BigInt(7),BBe=BigInt(256),PBe=BigInt(113),Rie=[],Oie=[],Nie=[];for(let t=0,e=V_,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Rie.push(2*(5*n+r)),Oie.push((t+1)*(t+2)/2%64);let i=MBe;for(let s=0;s<7;s++)e=(e<<V_^(e>>kBe)*PBe)%BBe,e&CBe&&(i^=V_<<(V_<<BigInt(s))-V_);Nie.push(i)}var Mie=(0,j_.split)(Nie,!0),LBe=Mie[0],DBe=Mie[1],Iie=o((t,e,r)=>r>32?(0,j_.rotlBH)(t,e,r):(0,j_.rotlSH)(t,e,r),"rotlH"),Tie=o((t,e,r)=>r>32?(0,j_.rotlBL)(t,e,r):(0,j_.rotlSL)(t,e,r),"rotlL");function Cie(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let c=(a+8)%10,l=(a+2)%10,h=r[l],y=r[l+1],p=Iie(h,y,1)^r[c],E=Tie(h,y,1)^r[c+1];for(let I=0;I<50;I+=10)t[a+I]^=p,t[a+I+1]^=E}let i=t[2],s=t[3];for(let a=0;a<24;a++){let c=Oie[a],l=Iie(i,s,c),h=Tie(i,s,c),y=Rie[a];i=t[y],s=t[y+1],t[y]=l,t[y+1]=h}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)r[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=LBe[n],t[1]^=DBe[n]}(0,Ys.clean)(r)}o(Cie,"keccakP");var z_=class t extends Ys.Hash{static{o(this,"Keccak")}constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,(0,Ys.anumber)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,Ys.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,Ys.swap32IfBE)(this.state32),Cie(this.state32,this.rounds),(0,Ys.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,Ys.aexists)(this),e=(0,Ys.toBytes)(e),(0,Ys.abytes)(e);let{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(r-this.pos,i-s);for(let c=0;c<a;c++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,Ys.aexists)(this,!1),(0,Ys.abytes)(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Ys.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Ys.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,Ys.clean)(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};li.Keccak=z_;var W0=o((t,e,r)=>(0,Ys.createHasher)(()=>new z_(e,t,r)),"gen");li.sha3_224=W0(6,144,224/8);li.sha3_256=W0(6,136,256/8);li.sha3_384=W0(6,104,384/8);li.sha3_512=W0(6,72,512/8);li.keccak_224=W0(1,144,224/8);li.keccak_256=W0(1,136,256/8);li.keccak_384=W0(1,104,384/8);li.keccak_512=W0(1,72,512/8);var kie=o((t,e,r)=>(0,Ys.createXOFer)((n={})=>new z_(e,t,n.dkLen===void 0?r:n.dkLen,!0)),"genShake");li.shake128=kie(31,168,128/8);li.shake256=kie(31,136,256/8)});var Pie=j(Z0=>{"use strict";m();g();Object.defineProperty(Z0,"__esModule",{value:!0});Z0.sha224=Z0.sha256=Z0.SHA256=void 0;var DB=ck(),Ef=B0(),UBe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Y0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),X0=new Uint32Array(64),K_=class extends DB.HashMD{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=Y0[0]|0,this.B=Y0[1]|0,this.C=Y0[2]|0,this.D=Y0[3]|0,this.E=Y0[4]|0,this.F=Y0[5]|0,this.G=Y0[6]|0,this.H=Y0[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let p=0;p<16;p++,r+=4)X0[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let E=X0[p-15],I=X0[p-2],O=(0,Ef.rotr)(E,7)^(0,Ef.rotr)(E,18)^E>>>3,N=(0,Ef.rotr)(I,17)^(0,Ef.rotr)(I,19)^I>>>10;X0[p]=N+X0[p-7]+O+X0[p-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let p=0;p<64;p++){let E=(0,Ef.rotr)(c,6)^(0,Ef.rotr)(c,11)^(0,Ef.rotr)(c,25),I=y+E+(0,DB.Chi)(c,l,h)+UBe[p]+X0[p]|0,N=((0,Ef.rotr)(n,2)^(0,Ef.rotr)(n,13)^(0,Ef.rotr)(n,22))+(0,DB.Maj)(n,i,s)|0;y=h,h=l,l=c,c=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){X0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};Z0.SHA256=K_;var UB=class extends K_{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Z0.sha256=(0,Ef.wrapConstructor)(()=>new K_);Z0.sha224=(0,Ef.wrapConstructor)(()=>new UB)});var Die=j(Mg=>{"use strict";m();g();Object.defineProperty(Mg,"__esModule",{value:!0});Mg.hmac=Mg.HMAC=void 0;var b4=Q6(),Lie=B0(),G_=class extends Lie.Hash{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,b4.hash)(e);let n=(0,Lie.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,b4.exists)(this),this.iHash.update(e),this}digestInto(e){(0,b4.exists)(this),(0,b4.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Mg.HMAC=G_;var FBe=o((t,e,r)=>new G_(t,e).update(r).digest(),"hmac");Mg.hmac=FBe;Mg.hmac.create=(t,e)=>new G_(t,e)});var FB=j(hs=>{"use strict";m();g();Object.defineProperty(hs,"__esModule",{value:!0});hs.DER=void 0;hs.weierstrassPoints=Hie;hs.weierstrass=zBe;hs.SWUFpSqrtRatio=qie;hs.mapToCurveSimpleSWU=KBe;var x4=_k(),Cg=F0(),zr=Ou(),ds=Ou();function Uie(t){t.lowS!==void 0&&(0,ds.abool)("lowS",t.lowS),t.prehash!==void 0&&(0,ds.abool)("prehash",t.prehash)}o(Uie,"validateSigVerOpts");function HBe(t){let e=(0,x4.validateBasic)(t);zr.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}o(HBe,"validatePointOpts");var{bytesToNumberBE:qBe,hexToBytes:VBe}=zr;hs.DER={Err:class extends Error{static{o(this,"DERErr")}constructor(e=""){super(e)}},_tlv:{encode:o((t,e)=>{let{Err:r}=hs.DER;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=zr.numberToHexUnpadded(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?zr.numberToHexUnpadded(i.length/2|128):"";return`${zr.numberToHexUnpadded(t)}${s}${i}${e}`},"encode"),decode(t,e){let{Err:r}=hs.DER,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],s=!!(i&128),a=0;if(!s)a=i;else{let l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");let h=e.subarray(n,n+l);if(h.length!==l)throw new r("tlv.decode: length bytes not complete");if(h[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let y of h)a=a<<8|y;if(n+=l,a<128)throw new r("tlv.decode(long): not minimal encoding")}let c=e.subarray(n,n+a);if(c.length!==a)throw new r("tlv.decode: wrong value length");return{v:c,l:e.subarray(n+a)}}},_int:{encode(t){let{Err:e}=hs.DER;if(t<Bu)throw new e("integer: negative integers are not allowed");let r=zr.numberToHexUnpadded(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected assertion");return r},decode(t){let{Err:e}=hs.DER;if(t[0]&128)throw new e("Invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return qBe(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=hs.DER,i=typeof t=="string"?VBe(t):t;zr.abytes(i);let{v:s,l:a}=n.decode(48,i);if(a.length)throw new e("Invalid signature: left bytes after parsing");let{v:c,l}=n.decode(2,s),{v:h,l:y}=n.decode(2,l);if(y.length)throw new e("Invalid signature: left bytes after parsing");return{r:r.decode(c),s:r.decode(h)}},hexFromSig(t){let{_tlv:e,_int:r}=hs.DER,n=`${e.encode(2,r.encode(t.r))}${e.encode(2,r.encode(t.s))}`;return e.encode(48,n)}};var Bu=BigInt(0),Pn=BigInt(1),J0=BigInt(2),v4=BigInt(3),Fie=BigInt(4);function Hie(t){let e=HBe(t),{Fp:r}=e,n=Cg.Field(e.n,e.nBitLength),i=e.toBytes||((N,k,C)=>{let L=k.toAffine();return zr.concatBytes(Uint8Array.from([4]),r.toBytes(L.x),r.toBytes(L.y))}),s=e.fromBytes||(N=>{let k=N.subarray(1),C=r.fromBytes(k.subarray(0,r.BYTES)),L=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:C,y:L}});function a(N){let{a:k,b:C}=e,L=r.sqr(N),M=r.mul(L,N);return r.add(r.add(M,r.mul(N,k)),C)}if(o(a,"weierstrassEquation"),!r.eql(r.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function c(N){return zr.inRange(N,Pn,e.n)}o(c,"isWithinCurveOrder");function l(N){let{allowedPrivateKeyLengths:k,nByteLength:C,wrapPrivateKey:L,n:M}=e;if(k&&typeof N!="bigint"){if(zr.isBytes(N)&&(N=zr.bytesToHex(N)),typeof N!="string"||!k.includes(N.length))throw new Error("Invalid key");N=N.padStart(C*2,"0")}let P;try{P=typeof N=="bigint"?N:zr.bytesToNumberBE((0,ds.ensureBytes)("private key",N,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof N}`)}return L&&(P=Cg.mod(P,M)),zr.aInRange("private key",P,Pn,M),P}o(l,"normPrivateKeyToScalar");function h(N){if(!(N instanceof E))throw new Error("ProjectivePoint expected")}o(h,"assertPrjPoint");let y=(0,ds.memoized)((N,k)=>{let{px:C,py:L,pz:M}=N;if(r.eql(M,r.ONE))return{x:C,y:L};let P=N.is0();k==null&&(k=P?r.ONE:r.inv(M));let H=r.mul(C,k),F=r.mul(L,k),J=r.mul(M,k);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(J,r.ONE))throw new Error("invZ was invalid");return{x:H,y:F}}),p=(0,ds.memoized)(N=>{if(N.is0()){if(e.allowInfinityPoint&&!r.is0(N.py))return;throw new Error("bad point: ZERO")}let{x:k,y:C}=N.toAffine();if(!r.isValid(k)||!r.isValid(C))throw new Error("bad point: x or y not FE");let L=r.sqr(C),M=a(k);if(!r.eql(L,M))throw new Error("bad point: equation left != right");if(!N.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class E{static{o(this,"Point")}constructor(k,C,L){if(this.px=k,this.py=C,this.pz=L,k==null||!r.isValid(k))throw new Error("x required");if(C==null||!r.isValid(C))throw new Error("y required");if(L==null||!r.isValid(L))throw new Error("z required");Object.freeze(this)}static fromAffine(k){let{x:C,y:L}=k||{};if(!k||!r.isValid(C)||!r.isValid(L))throw new Error("invalid affine point");if(k instanceof E)throw new Error("projective point not allowed");let M=o(P=>r.eql(P,r.ZERO),"is0");return M(C)&&M(L)?E.ZERO:new E(C,L,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){let C=r.invertBatch(k.map(L=>L.pz));return k.map((L,M)=>L.toAffine(C[M])).map(E.fromAffine)}static fromHex(k){let C=E.fromAffine(s((0,ds.ensureBytes)("pointHex",k)));return C.assertValidity(),C}static fromPrivateKey(k){return E.BASE.multiply(l(k))}static msm(k,C){return(0,x4.pippenger)(E,n,k,C)}_setWindowSize(k){O.setWindowSize(this,k)}assertValidity(){p(this)}hasEvenY(){let{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){h(k);let{px:C,py:L,pz:M}=this,{px:P,py:H,pz:F}=k,J=r.eql(r.mul(C,F),r.mul(P,M)),W=r.eql(r.mul(L,F),r.mul(H,M));return J&&W}negate(){return new E(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:C}=e,L=r.mul(C,v4),{px:M,py:P,pz:H}=this,F=r.ZERO,J=r.ZERO,W=r.ZERO,X=r.mul(M,M),S=r.mul(P,P),f=r.mul(H,H),d=r.mul(M,P);return d=r.add(d,d),W=r.mul(M,H),W=r.add(W,W),F=r.mul(k,W),J=r.mul(L,f),J=r.add(F,J),F=r.sub(S,J),J=r.add(S,J),J=r.mul(F,J),F=r.mul(d,F),W=r.mul(L,W),f=r.mul(k,f),d=r.sub(X,f),d=r.mul(k,d),d=r.add(d,W),W=r.add(X,X),X=r.add(W,X),X=r.add(X,f),X=r.mul(X,d),J=r.add(J,X),f=r.mul(P,H),f=r.add(f,f),X=r.mul(f,d),F=r.sub(F,X),W=r.mul(f,S),W=r.add(W,W),W=r.add(W,W),new E(F,J,W)}add(k){h(k);let{px:C,py:L,pz:M}=this,{px:P,py:H,pz:F}=k,J=r.ZERO,W=r.ZERO,X=r.ZERO,S=e.a,f=r.mul(e.b,v4),d=r.mul(C,P),b=r.mul(L,H),x=r.mul(M,F),_=r.add(C,L),A=r.add(P,H);_=r.mul(_,A),A=r.add(d,b),_=r.sub(_,A),A=r.add(C,M);let T=r.add(P,F);return A=r.mul(A,T),T=r.add(d,x),A=r.sub(A,T),T=r.add(L,M),J=r.add(H,F),T=r.mul(T,J),J=r.add(b,x),T=r.sub(T,J),X=r.mul(S,A),J=r.mul(f,x),X=r.add(J,X),J=r.sub(b,X),X=r.add(b,X),W=r.mul(J,X),b=r.add(d,d),b=r.add(b,d),x=r.mul(S,x),A=r.mul(f,A),b=r.add(b,x),x=r.sub(d,x),x=r.mul(S,x),A=r.add(A,x),d=r.mul(b,A),W=r.add(W,d),d=r.mul(T,A),J=r.mul(_,J),J=r.sub(J,d),d=r.mul(_,b),X=r.mul(T,X),X=r.add(X,d),new E(J,W,X)}subtract(k){return this.add(k.negate())}is0(){return this.equals(E.ZERO)}wNAF(k){return O.wNAFCached(this,k,E.normalizeZ)}multiplyUnsafe(k){zr.aInRange("scalar",k,Bu,e.n);let C=E.ZERO;if(k===Bu)return C;if(k===Pn)return this;let{endo:L}=e;if(!L)return O.unsafeLadder(this,k);let{k1neg:M,k1:P,k2neg:H,k2:F}=L.splitScalar(k),J=C,W=C,X=this;for(;P>Bu||F>Bu;)P&Pn&&(J=J.add(X)),F&Pn&&(W=W.add(X)),X=X.double(),P>>=Pn,F>>=Pn;return M&&(J=J.negate()),H&&(W=W.negate()),W=new E(r.mul(W.px,L.beta),W.py,W.pz),J.add(W)}multiply(k){let{endo:C,n:L}=e;zr.aInRange("scalar",k,Pn,L);let M,P;if(C){let{k1neg:H,k1:F,k2neg:J,k2:W}=C.splitScalar(k),{p:X,f:S}=this.wNAF(F),{p:f,f:d}=this.wNAF(W);X=O.constTimeNegate(H,X),f=O.constTimeNegate(J,f),f=new E(r.mul(f.px,C.beta),f.py,f.pz),M=X.add(f),P=S.add(d)}else{let{p:H,f:F}=this.wNAF(k);M=H,P=F}return E.normalizeZ([M,P])[0]}multiplyAndAddUnsafe(k,C,L){let M=E.BASE,P=o((F,J)=>J===Bu||J===Pn||!F.equals(M)?F.multiplyUnsafe(J):F.multiply(J),"mul"),H=P(this,C).add(P(k,L));return H.is0()?void 0:H}toAffine(k){return y(this,k)}isTorsionFree(){let{h:k,isTorsionFree:C}=e;if(k===Pn)return!0;if(C)return C(E,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:k,clearCofactor:C}=e;return k===Pn?this:C?C(E,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return(0,ds.abool)("isCompressed",k),this.assertValidity(),i(E,this,k)}toHex(k=!0){return(0,ds.abool)("isCompressed",k),zr.bytesToHex(this.toRawBytes(k))}}E.BASE=new E(e.Gx,e.Gy,r.ONE),E.ZERO=new E(r.ZERO,r.ONE,r.ZERO);let I=e.nBitLength,O=(0,x4.wNAF)(E,e.endo?Math.ceil(I/2):I);return{CURVE:e,ProjectivePoint:E,normPrivateKeyToScalar:l,weierstrassEquation:a,isWithinCurveOrder:c}}o(Hie,"weierstrassPoints");function jBe(t){let e=(0,x4.validateBasic)(t);return zr.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}o(jBe,"validateOpts");function zBe(t){let e=jBe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function a(x){return Cg.mod(x,n)}o(a,"modN");function c(x){return Cg.invert(x,n)}o(c,"invN");let{ProjectivePoint:l,normPrivateKeyToScalar:h,weierstrassEquation:y,isWithinCurveOrder:p}=Hie({...e,toBytes(x,_,A){let T=_.toAffine(),v=r.toBytes(T.x),u=zr.concatBytes;return(0,ds.abool)("isCompressed",A),A?u(Uint8Array.from([_.hasEvenY()?2:3]),v):u(Uint8Array.from([4]),v,r.toBytes(T.y))},fromBytes(x){let _=x.length,A=x[0],T=x.subarray(1);if(_===i&&(A===2||A===3)){let v=zr.bytesToNumberBE(T);if(!zr.inRange(v,Pn,r.ORDER))throw new Error("Point is not on curve");let u=y(v),w;try{w=r.sqrt(u)}catch(U){let $=U instanceof Error?": "+U.message:"";throw new Error("Point is not on curve"+$)}let V=(w&Pn)===Pn;return(A&1)===1!==V&&(w=r.neg(w)),{x:v,y:w}}else if(_===s&&A===4){let v=r.fromBytes(T.subarray(0,r.BYTES)),u=r.fromBytes(T.subarray(r.BYTES,2*r.BYTES));return{x:v,y:u}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),E=o(x=>zr.bytesToHex(zr.numberToBytesBE(x,e.nByteLength)),"numToNByteStr");function I(x){let _=n>>Pn;return x>_}o(I,"isBiggerThanHalfOrder");function O(x){return I(x)?a(-x):x}o(O,"normalizeS");let N=o((x,_,A)=>zr.bytesToNumberBE(x.slice(_,A)),"slcNum");class k{static{o(this,"Signature")}constructor(_,A,T){this.r=_,this.s=A,this.recovery=T,this.assertValidity()}static fromCompact(_){let A=e.nByteLength;return _=(0,ds.ensureBytes)("compactSignature",_,A*2),new k(N(_,0,A),N(_,A,2*A))}static fromDER(_){let{r:A,s:T}=hs.DER.toSig((0,ds.ensureBytes)("DER",_));return new k(A,T)}assertValidity(){zr.aInRange("r",this.r,Pn,n),zr.aInRange("s",this.s,Pn,n)}addRecoveryBit(_){return new k(this.r,this.s,_)}recoverPublicKey(_){let{r:A,s:T,recovery:v}=this,u=F((0,ds.ensureBytes)("msgHash",_));if(v==null||![0,1,2,3].includes(v))throw new Error("recovery id invalid");let w=v===2||v===3?A+e.n:A;if(w>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let V=v&1?"03":"02",q=l.fromHex(V+E(w)),U=c(w),$=a(-u*U),ee=a(T*U),re=l.BASE.multiplyAndAddUnsafe(q,$,ee);if(!re)throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return I(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return zr.hexToBytes(this.toDERHex())}toDERHex(){return hs.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return zr.hexToBytes(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}let C={isValidPrivateKey(x){try{return h(x),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:o(()=>{let x=Cg.getMinHashLength(e.n);return Cg.mapHashToField(e.randomBytes(x),e.n)},"randomPrivateKey"),precompute(x=8,_=l.BASE){return _._setWindowSize(x),_.multiply(BigInt(3)),_}};function L(x,_=!0){return l.fromPrivateKey(x).toRawBytes(_)}o(L,"getPublicKey");function M(x){let _=zr.isBytes(x),A=typeof x=="string",T=(_||A)&&x.length;return _?T===i||T===s:A?T===2*i||T===2*s:x instanceof l}o(M,"isProbPub");function P(x,_,A=!0){if(M(x))throw new Error("first arg must be private key");if(!M(_))throw new Error("second arg must be public key");return l.fromHex(_).multiply(h(x)).toRawBytes(A)}o(P,"getSharedSecret");let H=e.bits2int||function(x){let _=zr.bytesToNumberBE(x),A=x.length*8-e.nBitLength;return A>0?_>>BigInt(A):_},F=e.bits2int_modN||function(x){return a(H(x))},J=zr.bitMask(e.nBitLength);function W(x){return zr.aInRange(`num < 2^${e.nBitLength}`,x,Bu,J),zr.numberToBytesBE(x,e.nByteLength)}o(W,"int2octets");function X(x,_,A=S){if(["recovered","canonical"].some(ae=>ae in A))throw new Error("sign() legacy options not supported");let{hash:T,randomBytes:v}=e,{lowS:u,prehash:w,extraEntropy:V}=A;u==null&&(u=!0),x=(0,ds.ensureBytes)("msgHash",x),Uie(A),w&&(x=(0,ds.ensureBytes)("prehashed msgHash",T(x)));let q=F(x),U=h(_),$=[W(U),W(q)];if(V!=null&&V!==!1){let ae=V===!0?v(r.BYTES):V;$.push((0,ds.ensureBytes)("extraEntropy",ae))}let ee=zr.concatBytes(...$),re=q;function Oe(ae){let le=H(ae);if(!p(le))return;let ye=c(le),he=l.BASE.multiply(le).toAffine(),ge=a(he.x);if(ge===Bu)return;let ur=a(ye*a(re+ge*U));if(ur===Bu)return;let Ae=(he.x===ge?0:2)|Number(he.y&Pn),Ne=ur;return u&&I(ur)&&(Ne=O(ur),Ae^=1),new k(ge,Ne,Ae)}return o(Oe,"k2sig"),{seed:ee,k2sig:Oe}}o(X,"prepSig");let S={lowS:e.lowS,prehash:!1},f={lowS:e.lowS,prehash:!1};function d(x,_,A=S){let{seed:T,k2sig:v}=X(x,_,A),u=e;return zr.createHmacDrbg(u.hash.outputLen,u.nByteLength,u.hmac)(T,v)}o(d,"sign"),l.BASE._setWindowSize(8);function b(x,_,A,T=f){let v=x;if(_=(0,ds.ensureBytes)("msgHash",_),A=(0,ds.ensureBytes)("publicKey",A),"strict"in T)throw new Error("options.strict was renamed to lowS");Uie(T);let{lowS:u,prehash:w}=T,V,q;try{if(typeof v=="string"||zr.isBytes(v))try{V=k.fromDER(v)}catch(he){if(!(he instanceof hs.DER.Err))throw he;V=k.fromCompact(v)}else if(typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint"){let{r:he,s:ge}=v;V=new k(he,ge)}else throw new Error("PARSE");q=l.fromHex(A)}catch(he){if(he.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&V.hasHighS())return!1;w&&(_=e.hash(_));let{r:U,s:$}=V,ee=F(_),re=c($),Oe=a(ee*re),ae=a(U*re),le=l.BASE.multiplyAndAddUnsafe(q,Oe,ae)?.toAffine();return le?a(le.x)===U:!1}return o(b,"verify"),{CURVE:e,getPublicKey:L,getSharedSecret:P,sign:d,verify:b,ProjectivePoint:l,Signature:k,utils:C}}o(zBe,"weierstrass");function qie(t,e){let r=t.ORDER,n=Bu;for(let O=r-Pn;O%J0===Bu;O/=J0)n+=Pn;let i=n,s=J0<<i-Pn-Pn,a=s*J0,c=(r-Pn)/a,l=(c-Pn)/J0,h=a-Pn,y=s,p=t.pow(e,c),E=t.pow(e,(c+Pn)/J0),I=o((O,N)=>{let k=p,C=t.pow(N,h),L=t.sqr(C);L=t.mul(L,N);let M=t.mul(O,L);M=t.pow(M,l),M=t.mul(M,C),C=t.mul(M,N),L=t.mul(M,O);let P=t.mul(L,C);M=t.pow(P,y);let H=t.eql(M,t.ONE);C=t.mul(L,E),M=t.mul(P,k),L=t.cmov(C,L,H),P=t.cmov(M,P,H);for(let F=i;F>Pn;F--){let J=F-J0;J=J0<<J-Pn;let W=t.pow(P,J),X=t.eql(W,t.ONE);C=t.mul(L,k),k=t.mul(k,k),W=t.mul(P,k),L=t.cmov(C,L,X),P=t.cmov(W,P,X)}return{isValid:H,value:L}},"sqrtRatio");if(t.ORDER%Fie===v4){let O=(t.ORDER-v4)/Fie,N=t.sqrt(t.neg(e));I=o((k,C)=>{let L=t.sqr(C),M=t.mul(k,C);L=t.mul(L,M);let P=t.pow(L,O);P=t.mul(P,M);let H=t.mul(P,N),F=t.mul(t.sqr(P),C),J=t.eql(F,k),W=t.cmov(H,P,J);return{isValid:J,value:W}},"sqrtRatio")}return I}o(qie,"SWUFpSqrtRatio");function KBe(t,e){if(Cg.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=qie(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,a,c,l,h,y,p;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),a=t.add(s,t.ONE),a=t.mul(a,e.B),c=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),c=t.mul(c,e.A),s=t.sqr(a),h=t.sqr(c),l=t.mul(h,e.A),s=t.add(s,l),s=t.mul(s,a),h=t.mul(h,c),l=t.mul(h,e.B),s=t.add(s,l),y=t.mul(i,a);let{isValid:E,value:I}=r(s,h);p=t.mul(i,n),p=t.mul(p,I),y=t.cmov(y,a,E),p=t.cmov(p,I,E);let O=t.isOdd(n)===t.isOdd(p);return p=t.cmov(t.neg(p),p,O),y=t.div(y,c),{x:y,y:p}}}o(KBe,"mapToCurveSimpleSWU")});var zie=j(_4=>{"use strict";m();g();Object.defineProperty(_4,"__esModule",{value:!0});_4.getHash=jie;_4.createCurve=WBe;var GBe=Die(),Vie=B0(),$Be=FB();function jie(t){return{hash:t,hmac:o((e,...r)=>(0,GBe.hmac)(t,e,(0,Vie.concatBytes)(...r)),"hmac"),randomBytes:Vie.randomBytes}}o(jie,"getHash");function WBe(t,e){let r=o(n=>(0,$Be.weierstrass)({...t,...jie(n)}),"create");return Object.freeze({...r(e),create:r})}o(WBe,"createCurve")});var eoe=j(nc=>{"use strict";m();g();Object.defineProperty(nc,"__esModule",{value:!0});nc.encodeToCurve=nc.hashToCurve=nc.schnorr=nc.secp256k1=void 0;var w4=Pie(),YBe=B0(),XBe=zie(),$ie=Ak(),Ko=F0(),rc=Ou(),ZBe=FB(),Y_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),E4=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),$_=BigInt(1),S4=BigInt(2),Kie=o((t,e)=>(t+e/S4)/e,"divNearest");function Wie(t){let e=Y_,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),l=BigInt(88),h=t*t*t%e,y=h*h*t%e,p=(0,Ko.pow2)(y,r,e)*y%e,E=(0,Ko.pow2)(p,r,e)*y%e,I=(0,Ko.pow2)(E,S4,e)*h%e,O=(0,Ko.pow2)(I,i,e)*I%e,N=(0,Ko.pow2)(O,s,e)*O%e,k=(0,Ko.pow2)(N,c,e)*N%e,C=(0,Ko.pow2)(k,l,e)*k%e,L=(0,Ko.pow2)(C,c,e)*N%e,M=(0,Ko.pow2)(L,r,e)*y%e,P=(0,Ko.pow2)(M,a,e)*O%e,H=(0,Ko.pow2)(P,n,e)*h%e,F=(0,Ko.pow2)(H,S4,e);if(!Q0.eql(Q0.sqr(F),t))throw new Error("Cannot find square root");return F}o(Wie,"sqrtMod");var Q0=(0,Ko.Field)(Y_,void 0,void 0,{sqrt:Wie});nc.secp256k1=(0,XBe.createCurve)({a:BigInt(0),b:BigInt(7),Fp:Q0,n:E4,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:o(t=>{let e=E4,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-$_*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=Kie(s*t,e),l=Kie(-n*t,e),h=(0,Ko.mod)(t-c*r-l*i,e),y=(0,Ko.mod)(-c*n-l*s,e),p=h>a,E=y>a;if(p&&(h=e-h),E&&(y=e-y),h>a||y>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:h,k2neg:E,k2:y}},"splitScalar")}},w4.sha256);var Yie=BigInt(0),Gie={};function A4(t,...e){let r=Gie[t];if(r===void 0){let n=(0,w4.sha256)(Uint8Array.from(t,i=>i.charCodeAt(0)));r=(0,rc.concatBytes)(n,n),Gie[t]=r}return(0,w4.sha256)((0,rc.concatBytes)(r,...e))}o(A4,"taggedHash");var jB=o(t=>t.toRawBytes(!0).slice(1),"pointToBytes"),qB=o(t=>(0,rc.numberToBytesBE)(t,32),"numTo32b"),HB=o(t=>(0,Ko.mod)(t,Y_),"modP"),W_=o(t=>(0,Ko.mod)(t,E4),"modN"),zB=nc.secp256k1.ProjectivePoint,JBe=o((t,e,r)=>zB.BASE.multiplyAndAddUnsafe(t,e,r),"GmulAdd");function VB(t){let e=nc.secp256k1.utils.normPrivateKeyToScalar(t),r=zB.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:W_(-e),bytes:jB(r)}}o(VB,"schnorrGetExtPubKey");function Xie(t){(0,rc.aInRange)("x",t,$_,Y_);let e=HB(t*t),r=HB(e*t+BigInt(7)),n=Wie(r);n%S4!==Yie&&(n=HB(-n));let i=new zB(t,n,$_);return i.assertValidity(),i}o(Xie,"lift_x");var Ab=rc.bytesToNumberBE;function Zie(...t){return W_(Ab(A4("BIP0340/challenge",...t)))}o(Zie,"challenge");function QBe(t){return VB(t).bytes}o(QBe,"schnorrGetPublicKey");function ePe(t,e,r=(0,YBe.randomBytes)(32)){let n=(0,rc.ensureBytes)("message",t),{bytes:i,scalar:s}=VB(e),a=(0,rc.ensureBytes)("auxRand",r,32),c=qB(s^Ab(A4("BIP0340/aux",a))),l=A4("BIP0340/nonce",c,i,n),h=W_(Ab(l));if(h===Yie)throw new Error("sign failed: k is zero");let{bytes:y,scalar:p}=VB(h),E=Zie(y,i,n),I=new Uint8Array(64);if(I.set(y,0),I.set(qB(W_(p+E*s)),32),!Jie(I,n,i))throw new Error("sign: Invalid signature produced");return I}o(ePe,"schnorrSign");function Jie(t,e,r){let n=(0,rc.ensureBytes)("signature",t,64),i=(0,rc.ensureBytes)("message",e),s=(0,rc.ensureBytes)("publicKey",r,32);try{let a=Xie(Ab(s)),c=Ab(n.subarray(0,32));if(!(0,rc.inRange)(c,$_,Y_))return!1;let l=Ab(n.subarray(32,64));if(!(0,rc.inRange)(l,$_,E4))return!1;let h=Zie(qB(c),jB(a),i),y=JBe(a,l,W_(-h));return!(!y||!y.hasEvenY()||y.toAffine().x!==c)}catch{return!1}}o(Jie,"schnorrVerify");nc.schnorr={getPublicKey:QBe,sign:ePe,verify:Jie,utils:{randomPrivateKey:nc.secp256k1.utils.randomPrivateKey,lift_x:Xie,pointToBytes:jB,numberToBytesBE:rc.numberToBytesBE,bytesToNumberBE:rc.bytesToNumberBE,taggedHash:A4,mod:Ko.mod}};var tPe=(0,$ie.isogenyMap)(Q0,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),rPe=(0,ZBe.mapToCurveSimpleSWU)(Q0,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Q0.create(BigInt("-11"))}),Qie=(0,$ie.createHasher)(nc.secp256k1.ProjectivePoint,t=>{let{x:e,y:r}=rPe(Q0.create(t[0]));return tPe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Q0.ORDER,m:1,k:128,expand:"xmd",hash:w4.sha256});nc.hashToCurve=Qie.hashToCurve;nc.encodeToCurve=Qie.encodeToCurve});var V4=j(pt=>{"use strict";m();g();var Xt=fi(),Cb=bJ(),nPe=ob(),iPe=Ru(),toe=JJ(),KB=iQ(),Eoe=Zk(),Soe=$ne(),B=Yne(),oPe=bie(),roe=Aie(),noe=Bie(),yP=eoe();function bP(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}o(bP,"_interopDefaultCompat");function sPe(t){if(t&&typeof t=="object"&&"default"in t)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:o(function(){return t[r]},"get")})}}),e.default=t,Object.freeze(e)}o(sPe,"_interopNamespaceCompat");var ioe=bP(nPe),ps=bP(iPe),oe=sPe(Eoe),aPe=bP(oPe),cPe=Cb.ed25519.utils.randomPrivateKey,ooe=o(()=>{let t=Cb.ed25519.utils.randomPrivateKey(),e=O4(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},"generateKeypair"),O4=Cb.ed25519.getPublicKey;function soe(t){try{return Cb.ed25519.ExtendedPoint.fromHex(t),!0}catch{return!1}}o(soe,"isOnCurve");var xP=o((t,e)=>Cb.ed25519.sign(t,e.slice(0,32)),"sign"),fPe=Cb.ed25519.verify,Ar=o(t=>Xt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Xt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Xt.Buffer.from(t),"toBuffer"),J_=class{static{o(this,"Struct")}constructor(e){Object.assign(this,e)}encode(){return Xt.Buffer.from(KB.serialize(Z_,this))}static decode(e){return KB.deserialize(Z_,this,e)}static decodeUnchecked(e){return KB.deserializeUnchecked(Z_,this,e)}},JB=class extends J_{static{o(this,"Enum")}constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},Z_=new Map,Aoe,Ioe=32,$l=32;function uPe(t){return t._bn!==void 0}o(uPe,"isPublicKeyData");var aoe=1,ht=class t extends J_{static{o(this,"PublicKey")}constructor(e){if(super({}),this._bn=void 0,uPe(e))this._bn=e._bn;else{if(typeof e=="string"){let r=ps.default.decode(e);if(r.length!=$l)throw new Error("Invalid public key input");this._bn=new ioe.default(r)}else this._bn=new ioe.default(e);if(this._bn.byteLength()>$l)throw new Error("Invalid public key input")}}static unique(){let e=new t(aoe);return aoe+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ps.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Xt.Buffer);if(e.length===$l)return e;let r=Xt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Xt.Buffer.concat([e.toBuffer(),Xt.Buffer.from(r),n.toBuffer()]),s=toe.sha256(i);return new t(s)}static createProgramAddressSync(e,r){let n=Xt.Buffer.alloc(0);e.forEach(function(s){if(s.length>Ioe)throw new TypeError("Max seed length exceeded");n=Xt.Buffer.concat([n,Ar(s)])}),n=Xt.Buffer.concat([n,r.toBuffer(),Xt.Buffer.from("ProgramDerivedAddress")]);let i=toe.sha256(n);if(soe(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let s=e.concat(Xt.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return soe(r.toBytes())}};Aoe=ht;ht.default=new Aoe("11111111111111111111111111111111");Z_.set(ht,{kind:"struct",fields:[["_bn","u256"]]});var QB=class{static{o(this,"Account")}constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=Ar(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Ar(cPe()),this._publicKey=Ar(O4(this._secretKey))}get publicKey(){return new ht(this._publicKey)}get secretKey(){return Xt.Buffer.concat([this._secretKey,this._publicKey],64)}},lPe=new ht("BPFLoader1111111111111111111111111111111111"),tp=1232,F4=127,Q_=64,ew=class extends Error{static{o(this,"TransactionExpiredBlockheightExceededError")}constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(ew.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var tw=class extends Error{static{o(this,"TransactionExpiredTimeoutError")}constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(tw.prototype,"name",{value:"TransactionExpiredTimeoutError"});var ep=class extends Error{static{o(this,"TransactionExpiredNonceInvalidError")}constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(ep.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Pg=class{static{o(this,"MessageAccountKeys")}constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,a)=>{n.set(s.toBase58(),a)});let i=o(s=>{let a=n.get(s.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a},"findKeyIndex");return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(a=>i(a.pubkey)),data:s.data}))}},Pr=o((t="publicKey")=>oe.blob(32,t),"publicKey"),dPe=o((t="signature")=>oe.blob(64,t),"signature"),Bg=o((t="string")=>{let e=oe.struct([oe.u32("length"),oe.u32("lengthPadding"),oe.blob(oe.offset(oe.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,a)=>r(s,a).chars.toString(),i.encode=(s,a,c)=>{let l={chars:Xt.Buffer.from(s,"utf8")};return n(l,a,c)},i.alloc=s=>oe.u32().span+oe.u32().span+Xt.Buffer.from(s,"utf8").length,i},"rustString"),hPe=o((t="authorized")=>oe.struct([Pr("staker"),Pr("withdrawer")],t),"authorized"),pPe=o((t="lockup")=>oe.struct([oe.ns64("unixTimestamp"),oe.ns64("epoch"),Pr("custodian")],t),"lockup"),mPe=o((t="voteInit")=>oe.struct([Pr("nodePubkey"),Pr("authorizedVoter"),Pr("authorizedWithdrawer"),oe.u8("commission")],t),"voteInit"),gPe=o((t="voteAuthorizeWithSeedArgs")=>oe.struct([oe.u32("voteAuthorizationType"),Pr("currentAuthorityDerivedKeyOwnerPubkey"),Bg("currentAuthorityDerivedKeySeed"),Pr("newAuthorized")],t),"voteAuthorizeWithSeedArgs");function Toe(t,e){let r=o(i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return Toe({layout:i},e[i.property]);return 0},"getItemAlloc"),n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}o(Toe,"getAlloc");function ic(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}o(ic,"decodeLength");function qc(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}o(qc,"encodeLength");function an(t,e){if(!t)throw new Error(e||"Assertion failed")}o(an,"assert");var N4=class t{static{o(this,"CompiledKeys")}constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=o(a=>{let c=a.toBase58(),l=n.get(c);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,l)),l},"getOrInsertDefault"),s=i(r);s.isSigner=!0,s.isWritable=!0;for(let a of e){i(a.programId).isInvoked=!0;for(let c of a.keys){let l=i(c.pubkey);l.isSigner||=c.isSigner,l.isWritable||=c.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];an(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{an(r.length>0,"Expected at least one writable signer key");let[l]=r[0];an(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let c=[...r.map(([l])=>new ht(l)),...n.map(([l])=>new ht(l)),...i.map(([l])=>new ht(l)),...s.map(([l])=>new ht(l))];return[a,c]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[s,a]of this.keyMetaMap.entries())if(r(a)){let c=new ht(s),l=e.findIndex(h=>h.equals(c));l>=0&&(an(l<256,"Max lookup table index exceeded"),n.push(l),i.push(c),this.keyMetaMap.delete(s))}return[n,i]}},Roe="Reached end of buffer unexpectedly";function zl(t){if(t.length===0)throw new Error(Roe);return t.shift()}o(zl,"guardedShift");function oc(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(Roe);return t.splice(...e)}o(oc,"guardedSplice");var Wl=class t{static{o(this,"Message")}constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new ht(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ps.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Pg(this.staticAccountKeys)}static compile(e){let r=N4.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),a=new Pg(i).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:ps.default.encode(c.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];qc(r,e);let n=this.instructions.map(p=>{let{accounts:E,programIdIndex:I}=p,O=Array.from(ps.default.decode(p.data)),N=[];qc(N,E.length);let k=[];return qc(k,O.length),{programIdIndex:I,keyIndicesCount:Xt.Buffer.from(N),keyIndices:E,dataLength:Xt.Buffer.from(k),data:O}}),i=[];qc(i,n.length);let s=Xt.Buffer.alloc(tp);Xt.Buffer.from(i).copy(s);let a=i.length;n.forEach(p=>{let I=oe.struct([oe.u8("programIdIndex"),oe.blob(p.keyIndicesCount.length,"keyIndicesCount"),oe.seq(oe.u8("keyIndex"),p.keyIndices.length,"keyIndices"),oe.blob(p.dataLength.length,"dataLength"),oe.seq(oe.u8("userdatum"),p.data.length,"data")]).encode(p,s,a);a+=I}),s=s.slice(0,a);let c=oe.struct([oe.blob(1,"numRequiredSignatures"),oe.blob(1,"numReadonlySignedAccounts"),oe.blob(1,"numReadonlyUnsignedAccounts"),oe.blob(r.length,"keyCount"),oe.seq(Pr("key"),e,"keys"),Pr("recentBlockhash")]),l={numRequiredSignatures:Xt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Xt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Xt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Xt.Buffer.from(r),keys:this.accountKeys.map(p=>Ar(p.toBytes())),recentBlockhash:ps.default.decode(this.recentBlockhash)},h=Xt.Buffer.alloc(2048),y=c.encode(l,h);return s.copy(h,y),h.slice(0,y+s.length)}static from(e){let r=[...e],n=zl(r);if(n!==(n&F4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=zl(r),s=zl(r),a=ic(r),c=[];for(let E=0;E<a;E++){let I=oc(r,0,$l);c.push(new ht(Xt.Buffer.from(I)))}let l=oc(r,0,$l),h=ic(r),y=[];for(let E=0;E<h;E++){let I=zl(r),O=ic(r),N=oc(r,0,O),k=ic(r),C=oc(r,0,k),L=ps.default.encode(Xt.Buffer.from(C));y.push({programIdIndex:I,accounts:N,data:L})}let p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:ps.default.encode(Xt.Buffer.from(l)),accountKeys:c,instructions:y};return new t(p)}},Ib=class t{static{o(this,"MessageV0")}constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Pg(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,s=this.addressTableLookups.reduce((a,c)=>a+c.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){let i=e-r,a=n-r-this.header.numReadonlyUnsignedAccounts;return i<a}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=N4.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let y of s){let p=r.extractTableLookup(y);if(p!==void 0){let[E,{writable:I,readonly:O}]=p;n.push(E),i.writable.push(...I),i.readonly.push(...O)}}let[a,c]=r.getMessageComponents(),h=new Pg(c,i).compileInstructions(e.instructions);return new t({header:a,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:h,addressTableLookups:n})}serialize(){let e=Array();qc(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();qc(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),s=Array();qc(s,this.addressTableLookups.length);let a=oe.struct([oe.u8("prefix"),oe.struct([oe.u8("numRequiredSignatures"),oe.u8("numReadonlySignedAccounts"),oe.u8("numReadonlyUnsignedAccounts")],"header"),oe.blob(e.length,"staticAccountKeysLength"),oe.seq(Pr(),this.staticAccountKeys.length,"staticAccountKeys"),Pr("recentBlockhash"),oe.blob(n.length,"instructionsLength"),oe.blob(r.length,"serializedInstructions"),oe.blob(s.length,"addressTableLookupsLength"),oe.blob(i.length,"serializedAddressTableLookups")]),c=new Uint8Array(tp),h=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(y=>y.toBytes()),recentBlockhash:ps.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},c);return c.slice(0,h)}serializeInstructions(){let e=0,r=new Uint8Array(tp);for(let n of this.compiledInstructions){let i=Array();qc(i,n.accountKeyIndexes.length);let s=Array();qc(s,n.data.length);let a=oe.struct([oe.u8("programIdIndex"),oe.blob(i.length,"encodedAccountKeyIndexesLength"),oe.seq(oe.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),oe.blob(s.length,"encodedDataLength"),oe.blob(n.data.length,"data")]);e+=a.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(tp);for(let n of this.addressTableLookups){let i=Array();qc(i,n.writableIndexes.length);let s=Array();qc(s,n.readonlyIndexes.length);let a=oe.struct([Pr("accountKey"),oe.blob(i.length,"encodedWritableIndexesLength"),oe.seq(oe.u8(),n.writableIndexes.length,"writableIndexes"),oe.blob(s.length,"encodedReadonlyIndexesLength"),oe.seq(oe.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=zl(r),i=n&F4;an(n!==i,"Expected versioned message but received legacy message");let s=i;an(s===0,`Expected versioned message with version 0 but found version ${s}`);let a={numRequiredSignatures:zl(r),numReadonlySignedAccounts:zl(r),numReadonlyUnsignedAccounts:zl(r)},c=[],l=ic(r);for(let O=0;O<l;O++)c.push(new ht(oc(r,0,$l)));let h=ps.default.encode(oc(r,0,$l)),y=ic(r),p=[];for(let O=0;O<y;O++){let N=zl(r),k=ic(r),C=oc(r,0,k),L=ic(r),M=new Uint8Array(oc(r,0,L));p.push({programIdIndex:N,accountKeyIndexes:C,data:M})}let E=ic(r),I=[];for(let O=0;O<E;O++){let N=new ht(oc(r,0,$l)),k=ic(r),C=oc(r,0,k),L=ic(r),M=oc(r,0,L);I.push({accountKey:N,writableIndexes:C,readonlyIndexes:M})}return new t({header:a,staticAccountKeys:c,recentBlockhash:h,compiledInstructions:p,addressTableLookups:I})}},vP={deserializeMessageVersion(t){let e=t[0],r=e&F4;return r===e?"legacy":r},deserialize:o(t=>{let e=vP.deserializeMessageVersion(t);if(e==="legacy")return Wl.from(t);if(e===0)return Ib.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)},"deserialize")},ph=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({}),yPe=Xt.Buffer.alloc(Q_).fill(0),On=class{static{o(this,"TransactionInstruction")}constructor(e){this.keys=void 0,this.programId=void 0,this.data=Xt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},In=class t{static{o(this,"Transaction")}get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new On(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let N=0;N<r.length;N++)if(r[N].programId===void 0)throw new Error(`Transaction instruction index ${N} has undefined program id`);let i=[],s=[];r.forEach(N=>{N.keys.forEach(C=>{s.push({...C})});let k=N.programId.toString();i.includes(k)||i.push(k)}),i.forEach(N=>{s.push({pubkey:new ht(N),isSigner:!1,isWritable:!1})});let a=[];s.forEach(N=>{let k=N.pubkey.toString(),C=a.findIndex(L=>L.pubkey.toString()===k);C>-1?(a[C].isWritable=a[C].isWritable||N.isWritable,a[C].isSigner=a[C].isSigner||N.isSigner):a.push(N)}),a.sort(function(N,k){if(N.isSigner!==k.isSigner)return N.isSigner?-1:1;if(N.isWritable!==k.isWritable)return N.isWritable?-1:1;let C={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return N.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",C)});let c=a.findIndex(N=>N.pubkey.equals(n));if(c>-1){let[N]=a.splice(c,1);N.isSigner=!0,N.isWritable=!0,a.unshift(N)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let N of this.signatures){let k=a.findIndex(C=>C.pubkey.equals(N.publicKey));if(k>-1)a[k].isSigner||(a[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${N.publicKey.toString()}`)}let l=0,h=0,y=0,p=[],E=[];a.forEach(({pubkey:N,isSigner:k,isWritable:C})=>{k?(p.push(N.toString()),l+=1,C||(h+=1)):(E.push(N.toString()),C||(y+=1))});let I=p.concat(E),O=r.map(N=>{let{data:k,programId:C}=N;return{programIdIndex:I.indexOf(C.toString()),accounts:N.keys.map(L=>I.indexOf(L.pubkey.toString())),data:ps.default.encode(k)}});return O.forEach(N=>{an(N.programIdIndex>=0),N.accounts.forEach(k=>an(k>=0))}),new Wl({header:{numRequiredSignatures:l,numReadonlySignedAccounts:h,numReadonlyUnsignedAccounts:y},accountKeys:I,recentBlockhash:e,instructions:O})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let s of e){let a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let s of e){let a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let s=xP(n,i.secretKey);this._addSignature(i.publicKey,Ar(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){an(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Xt.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){let n={};for(let{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||=[]).push(s):fPe(i,e,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){let s=this._getMessageSignednessErrors(i,r);if(s){let a="Signature verification failed.";throw s.invalid&&(a+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),s.missing&&(a+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(a)}}return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];qc(n,r.length);let i=n.length+r.length*64+e.length,s=Xt.Buffer.alloc(i);return an(r.length<256),Xt.Buffer.from(n).copy(s,0),r.forEach(({signature:a},c)=>{a!==null&&(an(a.length===64,"signature has invalid length"),Xt.Buffer.from(a).copy(s,n.length+c*64))}),e.copy(s,n.length+r.length*64),an(s.length<=tp,`Transaction too large: ${s.length} > ${tp}`),s}get keys(){return an(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return an(this.instructions.length===1),this.instructions[0].programId}get data(){return an(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=ic(r),i=[];for(let s=0;s<n;s++){let a=oc(r,0,Q_);i.push(ps.default.encode(Xt.Buffer.from(a)))}return t.populate(Wl.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{let a={signature:i==ps.default.encode(yPe)?null:ps.default.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(a)}),e.instructions.forEach(i=>{let s=i.accounts.map(a=>{let c=e.accountKeys[a];return{pubkey:c,isSigner:n.signatures.some(l=>l.publicKey.toString()===c.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});n.instructions.push(new On({keys:s,programId:e.accountKeys[i.programIdIndex],data:ps.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},eP=class t{static{o(this,"TransactionMessage")}constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l}=n,h=a-c;an(h>0,"Message header is invalid");let y=e.staticAccountKeys.length-a-l;an(y>=0,"Message header is invalid");let p=e.getAccountKeys(r),E=p.get(0);if(E===void 0)throw new Error("Failed to decompile message because no account keys were found");let I=[];for(let O of i){let N=[];for(let C of O.accountKeyIndexes){let L=p.get(C);if(L===void 0)throw new Error(`Failed to find key for account key index ${C}`);let M=C<a,P;M?P=C<h:C<p.staticAccountKeys.length?P=C-a<y:P=C-p.staticAccountKeys.length<p.accountKeysFromLookups.writable.length,N.push({pubkey:L,isSigner:C<n.numRequiredSignatures,isWritable:P})}let k=p.get(O.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${O.programIdIndex}`);I.push(new On({programId:k,data:Ar(O.data),keys:N}))}return new t({payerKey:E,instructions:I,recentBlockhash:s})}compileToLegacyMessage(){return Wl.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Ib.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},tP=class t{static{o(this,"VersionedTransaction")}get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)an(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(Q_));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();qc(r,this.signatures.length);let n=oe.struct([oe.blob(r.length,"encodedSignaturesLength"),oe.seq(dPe(),this.signatures.length,"signatures"),oe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e],n=[],i=ic(r);for(let a=0;a<i;a++)n.push(new Uint8Array(oc(r,0,Q_)));let s=vP.deserialize(new Uint8Array(r));return new t(s,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let s=n.findIndex(a=>a.equals(i.publicKey));an(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=xP(r,i.secretKey)}}addSignature(e,r){an(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));an(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},bPe=160,xPe=64,vPe=bPe/xPe,Ooe=1e3/vPe,jl=new ht("SysvarC1ock11111111111111111111111111111111"),_Pe=new ht("SysvarEpochSchedu1e111111111111111111111111"),wPe=new ht("Sysvar1nstructions1111111111111111111111111"),T4=new ht("SysvarRecentB1ockHashes11111111111111111111"),Tb=new ht("SysvarRent111111111111111111111111111111111"),EPe=new ht("SysvarRewards111111111111111111111111111111"),SPe=new ht("SysvarS1otHashes111111111111111111111111111"),APe=new ht("SysvarS1otHistory11111111111111111111111111"),R4=new ht("SysvarStakeHistory1111111111111111111111111"),Lg=class extends Error{static{o(this,"SendTransactionError")}constructor({action:e,signature:r,transactionMessage:n,logs:i}){let s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",c;switch(e){case"send":c=`Transaction ${r} resulted in an error. 
${n}. `+s+a;break;case"simulate":c=`Simulation failed. 
Message: ${n}. 
`+s+a;break;default:c=`Unknown action '${(l=>l)(e)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}},IPe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Bt=class extends Error{static{o(this,"SolanaJSONRPCError")}constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}};async function rP(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i),a;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)a=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:c}=e.nonceInfo,l=c.keys[0].pubkey;a=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),a=(await t.confirmTransaction(s,n&&n.commitment)).value;if(a.err)throw s!=null?new Lg({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(a)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(a)})`);return s}o(rP,"sendAndConfirmTransaction");function kg(t){return new Promise(e=>setTimeout(e,t))}o(kg,"sleep");function Xr(t,e){let r=t.layout.span>=0?t.layout.span:Toe(t,e),n=Xt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}o(Xr,"encodeData");function An(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}o(An,"decodeData$1");var Noe=oe.nu64("lamportsPerSignature"),Moe=oe.struct([oe.u32("version"),oe.u32("state"),Pr("authorizedPubkey"),Pr("nonce"),oe.struct([Noe],"feeCalculator")]),nP=Moe.span,M4=class t{static{o(this,"NonceAccount")}constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=Moe.decode(Ar(e),0);return new t({authorizedPubkey:new ht(r.authorizedPubkey),nonce:new ht(r.nonce).toString(),feeCalculator:r.feeCalculator})}};function Rb(t){let e=Eoe.blob(8,t),r=e.decode.bind(e),n=e.encode.bind(e),i=e,s=Soe.getU64Codec();return i.decode=(a,c)=>{let l=r(a,c);return s.decode(l)},i.encode=(a,c,l)=>{let h=s.encode(a);return n(h,c,l)},i}o(Rb,"u64");var iP=class{static{o(this,"SystemInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(ei))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=An(ei.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new ht(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=An(ei.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=An(ei.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new ht(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=An(ei.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:s}=An(ei.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ht(r),seed:n,space:i,programId:new ht(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=An(ei.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ht(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=An(ei.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ht(r),seed:n,programId:new ht(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:s,programId:a}=An(ei.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ht(r),seed:n,lamports:i,space:s,programId:new ht(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=An(ei.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ht(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),An(ei.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=An(ei.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=An(ei.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ht(r)}}static checkProgramId(e){if(!e.equals(ms.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ei=Object.freeze({Create:{index:0,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports"),oe.ns64("space"),Pr("programId")])},Assign:{index:1,layout:oe.struct([oe.u32("instruction"),Pr("programId")])},Transfer:{index:2,layout:oe.struct([oe.u32("instruction"),Rb("lamports")])},CreateWithSeed:{index:3,layout:oe.struct([oe.u32("instruction"),Pr("base"),Bg("seed"),oe.ns64("lamports"),oe.ns64("space"),Pr("programId")])},AdvanceNonceAccount:{index:4,layout:oe.struct([oe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:oe.struct([oe.u32("instruction"),Pr("authorized")])},AuthorizeNonceAccount:{index:7,layout:oe.struct([oe.u32("instruction"),Pr("authorized")])},Allocate:{index:8,layout:oe.struct([oe.u32("instruction"),oe.ns64("space")])},AllocateWithSeed:{index:9,layout:oe.struct([oe.u32("instruction"),Pr("base"),Bg("seed"),oe.ns64("space"),Pr("programId")])},AssignWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),Pr("base"),Bg("seed"),Pr("programId")])},TransferWithSeed:{index:11,layout:oe.struct([oe.u32("instruction"),Rb("lamports"),Bg("seed"),Pr("programId")])},UpgradeNonceAccount:{index:12,layout:oe.struct([oe.u32("instruction")])}}),ms=class t{static{o(this,"SystemProgram")}constructor(){}static createAccount(e){let r=ei.Create,n=Xr(r,{lamports:e.lamports,space:e.space,programId:Ar(e.programId.toBuffer())});return new On({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=ei.TransferWithSeed;r=Xr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ar(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=ei.Transfer;r=Xr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new On({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=ei.AssignWithSeed;r=Xr(i,{base:Ar(e.basePubkey.toBuffer()),seed:e.seed,programId:Ar(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ei.Assign;r=Xr(i,{programId:Ar(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new On({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=ei.CreateWithSeed,n=Xr(r,{base:Ar(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ar(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new On({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new In;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:nP,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:nP,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=ei.InitializeNonceAccount,n=Xr(r,{authorized:Ar(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:T4,isSigner:!1,isWritable:!1},{pubkey:Tb,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new On(i)}static nonceAdvance(e){let r=ei.AdvanceNonceAccount,n=Xr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:T4,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new On(i)}static nonceWithdraw(e){let r=ei.WithdrawNonceAccount,n=Xr(r,{lamports:e.lamports});return new On({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:T4,isSigner:!1,isWritable:!1},{pubkey:Tb,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=ei.AuthorizeNonceAccount,n=Xr(r,{authorized:Ar(e.newAuthorizedPubkey.toBuffer())});return new On({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=ei.AllocateWithSeed;r=Xr(i,{base:Ar(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ar(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ei.Allocate;r=Xr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new On({keys:n,programId:this.programId,data:r})}};ms.programId=new ht("11111111111111111111111111111111");var TPe=tp-300,Ob=class t{static{o(this,"Loader")}constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,s){{let p=await e.getMinimumBalanceForRentExemption(s.length),E=await e.getAccountInfo(n.publicKey,"confirmed"),I=null;if(E!==null){if(E.executable)return console.error("Program load failed, account is already executable"),!1;E.data.length!==s.length&&(I=I||new In,I.add(ms.allocate({accountPubkey:n.publicKey,space:s.length}))),E.owner.equals(i)||(I=I||new In,I.add(ms.assign({accountPubkey:n.publicKey,programId:i}))),E.lamports<p&&(I=I||new In,I.add(ms.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:p-E.lamports})))}else I=new In().add(ms.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:p>0?p:1,space:s.length,programId:i}));I!==null&&await rP(e,I,[r,n],{commitment:"confirmed"})}let a=oe.struct([oe.u32("instruction"),oe.u32("offset"),oe.u32("bytesLength"),oe.u32("bytesLengthPadding"),oe.seq(oe.u8("byte"),oe.offset(oe.u32(),-8),"bytes")]),c=t.chunkSize,l=0,h=s,y=[];for(;h.length>0;){let p=h.slice(0,c),E=Xt.Buffer.alloc(c+16);a.encode({instruction:0,offset:l,bytes:p,bytesLength:0,bytesLengthPadding:0},E);let I=new In().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:E});y.push(rP(e,I,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await kg(1e3/4),l+=c,h=h.slice(c)}await Promise.all(y);{let p=oe.struct([oe.u32("instruction")]),E=Xt.Buffer.alloc(p.span);p.encode({instruction:1},E);let I=new In().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Tb,isSigner:!1,isWritable:!1}],programId:i,data:E}),O="processed",N=await e.sendTransaction(I,[r,n],{preflightCommitment:O}),{context:k,value:C}=await e.confirmTransaction({signature:N,lastValidBlockHeight:I.lastValidBlockHeight,blockhash:I.recentBlockhash},O);if(C.err)throw new Error(`Transaction ${N} failed (${JSON.stringify(C)})`);for(;;){try{if(await e.getSlot({commitment:O})>k.slot)break}catch{}await new Promise(L=>setTimeout(L,Math.round(Ooe/2)))}}return!0}};Ob.chunkSize=TPe;var RPe=new ht("BPFLoader2111111111111111111111111111111111"),oP=class{static{o(this,"BpfLoader")}static getMinNumSignatures(e){return Ob.getMinNumSignatures(e)}static load(e,r,n,i,s){return Ob.load(e,r,n,s,i)}};function OPe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}o(OPe,"getDefaultExportFromCjs");var GB,coe;function NPe(){if(coe)return GB;coe=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,a,c,l,h,y,p;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(p=t.call(n),p==="[object Array]"){for(c="[",a=n.length-1,s=0;s<a;s++)c+=r(n[s],!0)+",";return a>-1&&(c+=r(n[s],!0)),c+"]"}else if(p==="[object Object]"){for(l=e(n).sort(),a=l.length,c="",s=0;s<a;)h=l[s],y=r(n[h],!1),y!==void 0&&(c&&(c+=","),c+=JSON.stringify(h)+":"+y),s++;return"{"+c+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return o(r,"stringify"),GB=o(function(n){var i=r(n,!1);if(i!==void 0)return""+i},"fastStableStringify$1"),GB}o(NPe,"requireFastStableStringify");var MPe=NPe(),foe=OPe(MPe),X_=32;function $B(t){let e=0;for(;t>1;)t/=2,e++;return e}o($B,"trailingZeros");function CPe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}o(CPe,"nextPowerOfTwo");var C4=class{static{o(this,"EpochSchedule")}constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=$B(CPe(e+X_+1))-$B(X_)-1,n=this.getSlotsInEpoch(r),i=e-(n-X_);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*X_:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+$B(X_)):this.slotsPerEpoch}},kPe=globalThis.fetch,sP=class extends roe.CommonClient{static{o(this,"RpcWebSocketClient")}constructor(e,r,n){let i=o(s=>{let a=roe.WebSocket(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in a?this.underlyingSocket=a.socket:this.underlyingSocket=a,a},"webSocketFactory");super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}};function BPe(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}o(BPe,"decodeData");var uoe=56,rw=class{static{o(this,"AddressLookupTableAccount")}constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=BPe(PPe,e),n=e.length-uoe;an(n>=0,"lookup table is invalid"),an(n%32===0,"lookup table is invalid");let i=n/32,{addresses:s}=oe.struct([oe.seq(Pr(),i,"addresses")]).decode(e.slice(uoe));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new ht(r.authority[0]):void 0,addresses:s.map(a=>new ht(a))}}},PPe={index:1,layout:oe.struct([oe.u32("typeIndex"),Rb("deactivationSlot"),oe.nu64("lastExtendedSlot"),oe.u8("lastExtendedStartIndex"),oe.u8(),oe.seq(Pr(),oe.offset(oe.u8(),-1),"authority")])},LPe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function DPe(t){let e=t.match(LPe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,s]=e,a=t.startsWith("https:")?"wss:":"ws:",c=i==null?null:parseInt(i.slice(1),10),l=c==null?"":`:${c+1}`;return`${a}//${n}${l}${s}`}o(DPe,"makeWebsocketUrl");var Ni=B.coerce(B.instance(ht),B.string(),t=>new ht(t)),Coe=B.tuple([B.string(),B.literal("base64")]),_P=B.coerce(B.instance(Xt.Buffer),Coe,t=>Xt.Buffer.from(t[0],"base64")),koe=30*1e3;function UPe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}o(UPe,"assertEndpointUrl");function Qn(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}o(Qn,"extractCommitmentFromConfig");function loe(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}o(loe,"applyDefaultMemcmpEncodingToFilters");function Boe(t){return B.union([B.type({jsonrpc:B.literal("2.0"),id:B.string(),result:t}),B.type({jsonrpc:B.literal("2.0"),id:B.string(),error:B.type({code:B.unknown(),message:B.string(),data:B.optional(B.any())})})])}o(Boe,"createRpcResult");var FPe=Boe(B.unknown());function Sr(t){return B.coerce(Boe(t),FPe,e=>"error"in e?e:{...e,result:B.create(e.result,t)})}o(Sr,"jsonRpcResult");function to(t){return Sr(B.type({context:B.type({slot:B.number()}),value:t}))}o(to,"jsonRpcResultAndContext");function H4(t){return B.type({context:B.type({slot:B.number()}),value:t})}o(H4,"notificationResultAndContext");function WB(t,e){return t===0?new Ib({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new ht(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:ps.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Wl(e)}o(WB,"versionedMessageFromResponse");var HPe=B.type({foundation:B.number(),foundationTerm:B.number(),initial:B.number(),taper:B.number(),terminal:B.number()}),qPe=Sr(B.array(B.nullable(B.type({epoch:B.number(),effectiveSlot:B.number(),amount:B.number(),postBalance:B.number(),commission:B.optional(B.nullable(B.number()))})))),VPe=B.array(B.type({slot:B.number(),prioritizationFee:B.number()})),jPe=B.type({total:B.number(),validator:B.number(),foundation:B.number(),epoch:B.number()}),zPe=B.type({epoch:B.number(),slotIndex:B.number(),slotsInEpoch:B.number(),absoluteSlot:B.number(),blockHeight:B.optional(B.number()),transactionCount:B.optional(B.number())}),KPe=B.type({slotsPerEpoch:B.number(),leaderScheduleSlotOffset:B.number(),warmup:B.boolean(),firstNormalEpoch:B.number(),firstNormalSlot:B.number()}),GPe=B.record(B.string(),B.array(B.number())),Ug=B.nullable(B.union([B.type({}),B.string()])),$Pe=B.type({err:Ug}),WPe=B.literal("receivedSignature"),YPe=B.type({"solana-core":B.string(),"feature-set":B.optional(B.number())}),XPe=B.type({program:B.string(),programId:Ni,parsed:B.unknown()}),ZPe=B.type({programId:Ni,accounts:B.array(Ni),data:B.string()}),doe=to(B.type({err:B.nullable(B.union([B.type({}),B.string()])),logs:B.nullable(B.array(B.string())),accounts:B.optional(B.nullable(B.array(B.nullable(B.type({executable:B.boolean(),owner:B.string(),lamports:B.number(),data:B.array(B.string()),rentEpoch:B.optional(B.number())}))))),unitsConsumed:B.optional(B.number()),returnData:B.optional(B.nullable(B.type({programId:B.string(),data:B.tuple([B.string(),B.literal("base64")])}))),innerInstructions:B.optional(B.nullable(B.array(B.type({index:B.number(),instructions:B.array(B.union([XPe,ZPe]))}))))})),JPe=to(B.type({byIdentity:B.record(B.string(),B.array(B.number())),range:B.type({firstSlot:B.number(),lastSlot:B.number()})}));function QPe(t,e,r,n,i,s){let a=r||kPe,c;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return n&&(l=o(async(y,p)=>{let E=await new Promise((I,O)=>{try{n(y,p,(N,k)=>I([N,k]))}catch(N){O(N)}});return await a(...E)},"fetchWithMiddleware")),new aPe.default(async(y,p)=>{let E={method:"POST",body:y,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},QLe)};try{let I=5,O,N=500;for(;l?O=await l(t,E):O=await a(t,E),!(O.status!==429||i===!0||(I-=1,I===0));)console.error(`Server responded with ${O.status} ${O.statusText}.  Retrying after ${N}ms delay...`),await kg(N),N*=2;let k=await O.text();O.ok?p(null,k):p(new Error(`${O.status} ${O.statusText}: ${k}`))}catch(I){I instanceof Error&&p(I)}},{})}o(QPe,"createRpcClient");function eLe(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,a)=>{if(s){i(s);return}n(a)})})}o(eLe,"createRpcRequest");function tLe(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,a)=>{if(s){n(s);return}r(a)})})}o(tLe,"createRpcBatchRequest");var rLe=Sr(HPe),nLe=Sr(jPe),iLe=Sr(VPe),oLe=Sr(zPe),sLe=Sr(KPe),aLe=Sr(GPe),cLe=Sr(B.number()),fLe=to(B.type({total:B.number(),circulating:B.number(),nonCirculating:B.number(),nonCirculatingAccounts:B.array(Ni)})),aP=B.type({amount:B.string(),uiAmount:B.nullable(B.number()),decimals:B.number(),uiAmountString:B.optional(B.string())}),uLe=to(B.array(B.type({address:Ni,amount:B.string(),uiAmount:B.nullable(B.number()),decimals:B.number(),uiAmountString:B.optional(B.string())}))),lLe=to(B.array(B.type({pubkey:Ni,account:B.type({executable:B.boolean(),owner:Ni,lamports:B.number(),data:_P,rentEpoch:B.number()})}))),cP=B.type({program:B.string(),parsed:B.unknown(),space:B.number()}),dLe=to(B.array(B.type({pubkey:Ni,account:B.type({executable:B.boolean(),owner:Ni,lamports:B.number(),data:cP,rentEpoch:B.number()})}))),hLe=to(B.array(B.type({lamports:B.number(),address:Ni}))),nw=B.type({executable:B.boolean(),owner:Ni,lamports:B.number(),data:_P,rentEpoch:B.number()}),pLe=B.type({pubkey:Ni,account:nw}),mLe=B.coerce(B.union([B.instance(Xt.Buffer),cP]),B.union([Coe,cP]),t=>Array.isArray(t)?B.create(t,_P):t),fP=B.type({executable:B.boolean(),owner:Ni,lamports:B.number(),data:mLe,rentEpoch:B.number()}),gLe=B.type({pubkey:Ni,account:fP}),yLe=B.type({state:B.union([B.literal("active"),B.literal("inactive"),B.literal("activating"),B.literal("deactivating")]),active:B.number(),inactive:B.number()}),bLe=Sr(B.array(B.type({signature:B.string(),slot:B.number(),err:Ug,memo:B.nullable(B.string()),blockTime:B.optional(B.nullable(B.number()))}))),xLe=Sr(B.array(B.type({signature:B.string(),slot:B.number(),err:Ug,memo:B.nullable(B.string()),blockTime:B.optional(B.nullable(B.number()))}))),vLe=B.type({subscription:B.number(),result:H4(nw)}),_Le=B.type({pubkey:Ni,account:nw}),wLe=B.type({subscription:B.number(),result:H4(_Le)}),ELe=B.type({parent:B.number(),slot:B.number(),root:B.number()}),SLe=B.type({subscription:B.number(),result:ELe}),ALe=B.union([B.type({type:B.union([B.literal("firstShredReceived"),B.literal("completed"),B.literal("optimisticConfirmation"),B.literal("root")]),slot:B.number(),timestamp:B.number()}),B.type({type:B.literal("createdBank"),parent:B.number(),slot:B.number(),timestamp:B.number()}),B.type({type:B.literal("frozen"),slot:B.number(),timestamp:B.number(),stats:B.type({numTransactionEntries:B.number(),numSuccessfulTransactions:B.number(),numFailedTransactions:B.number(),maxTransactionsPerEntry:B.number()})}),B.type({type:B.literal("dead"),slot:B.number(),timestamp:B.number(),err:B.string()})]),ILe=B.type({subscription:B.number(),result:ALe}),TLe=B.type({subscription:B.number(),result:H4(B.union([$Pe,WPe]))}),RLe=B.type({subscription:B.number(),result:B.number()}),OLe=B.type({pubkey:B.string(),gossip:B.nullable(B.string()),tpu:B.nullable(B.string()),rpc:B.nullable(B.string()),version:B.nullable(B.string())}),hoe=B.type({votePubkey:B.string(),nodePubkey:B.string(),activatedStake:B.number(),epochVoteAccount:B.boolean(),epochCredits:B.array(B.tuple([B.number(),B.number(),B.number()])),commission:B.number(),lastVote:B.number(),rootSlot:B.nullable(B.number())}),NLe=Sr(B.type({current:B.array(hoe),delinquent:B.array(hoe)})),MLe=B.union([B.literal("processed"),B.literal("confirmed"),B.literal("finalized")]),CLe=B.type({slot:B.number(),confirmations:B.nullable(B.number()),err:Ug,confirmationStatus:B.optional(MLe)}),kLe=to(B.array(B.nullable(CLe))),BLe=Sr(B.number()),Poe=B.type({accountKey:Ni,writableIndexes:B.array(B.number()),readonlyIndexes:B.array(B.number())}),wP=B.type({signatures:B.array(B.string()),message:B.type({accountKeys:B.array(B.string()),header:B.type({numRequiredSignatures:B.number(),numReadonlySignedAccounts:B.number(),numReadonlyUnsignedAccounts:B.number()}),instructions:B.array(B.type({accounts:B.array(B.number()),data:B.string(),programIdIndex:B.number()})),recentBlockhash:B.string(),addressTableLookups:B.optional(B.array(Poe))})}),Loe=B.type({pubkey:Ni,signer:B.boolean(),writable:B.boolean(),source:B.optional(B.union([B.literal("transaction"),B.literal("lookupTable")]))}),Doe=B.type({accountKeys:B.array(Loe),signatures:B.array(B.string())}),Uoe=B.type({parsed:B.unknown(),program:B.string(),programId:Ni}),Foe=B.type({accounts:B.array(Ni),data:B.string(),programId:Ni}),PLe=B.union([Foe,Uoe]),LLe=B.union([B.type({parsed:B.unknown(),program:B.string(),programId:B.string()}),B.type({accounts:B.array(B.string()),data:B.string(),programId:B.string()})]),Hoe=B.coerce(PLe,LLe,t=>"accounts"in t?B.create(t,Foe):B.create(t,Uoe)),qoe=B.type({signatures:B.array(B.string()),message:B.type({accountKeys:B.array(Loe),instructions:B.array(Hoe),recentBlockhash:B.string(),addressTableLookups:B.optional(B.nullable(B.array(Poe)))})}),k4=B.type({accountIndex:B.number(),mint:B.string(),owner:B.optional(B.string()),programId:B.optional(B.string()),uiTokenAmount:aP}),Voe=B.type({writable:B.array(Ni),readonly:B.array(Ni)}),q4=B.type({err:Ug,fee:B.number(),innerInstructions:B.optional(B.nullable(B.array(B.type({index:B.number(),instructions:B.array(B.type({accounts:B.array(B.number()),data:B.string(),programIdIndex:B.number()}))})))),preBalances:B.array(B.number()),postBalances:B.array(B.number()),logMessages:B.optional(B.nullable(B.array(B.string()))),preTokenBalances:B.optional(B.nullable(B.array(k4))),postTokenBalances:B.optional(B.nullable(B.array(k4))),loadedAddresses:B.optional(Voe),computeUnitsConsumed:B.optional(B.number()),costUnits:B.optional(B.number())}),EP=B.type({err:Ug,fee:B.number(),innerInstructions:B.optional(B.nullable(B.array(B.type({index:B.number(),instructions:B.array(Hoe)})))),preBalances:B.array(B.number()),postBalances:B.array(B.number()),logMessages:B.optional(B.nullable(B.array(B.string()))),preTokenBalances:B.optional(B.nullable(B.array(k4))),postTokenBalances:B.optional(B.nullable(B.array(k4))),loadedAddresses:B.optional(Voe),computeUnitsConsumed:B.optional(B.number()),costUnits:B.optional(B.number())}),kb=B.union([B.literal(0),B.literal("legacy")]),Fg=B.type({pubkey:B.string(),lamports:B.number(),postBalance:B.nullable(B.number()),rewardType:B.nullable(B.string()),commission:B.optional(B.nullable(B.number()))}),DLe=Sr(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),transactions:B.array(B.type({transaction:wP,meta:B.nullable(q4),version:B.optional(kb)})),rewards:B.optional(B.array(Fg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),ULe=Sr(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),rewards:B.optional(B.array(Fg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),FLe=Sr(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),transactions:B.array(B.type({transaction:Doe,meta:B.nullable(q4),version:B.optional(kb)})),rewards:B.optional(B.array(Fg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),HLe=Sr(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),transactions:B.array(B.type({transaction:qoe,meta:B.nullable(EP),version:B.optional(kb)})),rewards:B.optional(B.array(Fg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),qLe=Sr(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),transactions:B.array(B.type({transaction:Doe,meta:B.nullable(EP),version:B.optional(kb)})),rewards:B.optional(B.array(Fg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),VLe=Sr(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),rewards:B.optional(B.array(Fg)),blockTime:B.nullable(B.number()),blockHeight:B.nullable(B.number())}))),jLe=Sr(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),transactions:B.array(B.type({transaction:wP,meta:B.nullable(q4)})),rewards:B.optional(B.array(Fg)),blockTime:B.nullable(B.number())}))),poe=Sr(B.nullable(B.type({blockhash:B.string(),previousBlockhash:B.string(),parentSlot:B.number(),signatures:B.array(B.string()),blockTime:B.nullable(B.number())}))),YB=Sr(B.nullable(B.type({slot:B.number(),meta:B.nullable(q4),blockTime:B.optional(B.nullable(B.number())),transaction:wP,version:B.optional(kb)}))),I4=Sr(B.nullable(B.type({slot:B.number(),transaction:qoe,meta:B.nullable(EP),blockTime:B.optional(B.nullable(B.number())),version:B.optional(kb)}))),zLe=to(B.type({blockhash:B.string(),lastValidBlockHeight:B.number()})),KLe=to(B.boolean()),GLe=B.type({slot:B.number(),numTransactions:B.number(),numSlots:B.number(),samplePeriodSecs:B.number()}),$Le=Sr(B.array(GLe)),WLe=to(B.nullable(B.type({feeCalculator:B.type({lamportsPerSignature:B.number()})}))),YLe=Sr(B.string()),XLe=Sr(B.string()),ZLe=B.type({err:Ug,logs:B.array(B.string()),signature:B.string()}),JLe=B.type({result:H4(ZLe),subscription:B.number()}),QLe={"solana-client":"js/1.0.0-maintenance"},uP=class{static{o(this,"Connection")}constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let h={};return async y=>{let{commitment:p,config:E}=Qn(y),I=this._buildArgs([],p,void 0,E),O=foe(I);return h[O]=h[O]??(async()=>{try{let N=await this._rpcRequest("getBlockHeight",I),k=B.create(N,Sr(B.number()));if("error"in k)throw new Bt(k.error,"failed to get block height information");return k.result}finally{delete h[O]}})(),await h[O]}})();let n,i,s,a,c,l;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,a=r.fetchMiddleware,c=r.disableRetryOnRateLimit,l=r.httpAgent),this._rpcEndpoint=UPe(e),this._rpcWsEndpoint=n||DPe(e),this._rpcClient=QPe(e,i,s,a,c,l),this._rpcRequest=eLe(this._rpcClient),this._rpcBatchRequest=tLe(this._rpcClient),this._rpcWebSocket=new sP(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=Qn(r),s=this._buildArgs([e.toBase58()],n,void 0,i),a=await this._rpcRequest("getBalance",s),c=B.create(a,to(B.number()));if("error"in c)throw new Bt(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=B.create(r,Sr(B.nullable(B.number())));if("error"in n)throw new Bt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=B.create(e,Sr(B.number()));if("error"in r)throw new Bt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=B.create(e,cLe);if("error"in r)throw new Bt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=B.create(n,fLe);if("error"in i)throw new Bt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=B.create(i,to(aP));if("error"in s)throw new Bt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=B.create(i,to(aP));if("error"in s)throw new Bt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:s}=Qn(n),a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});let c=this._buildArgs(a,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",c),h=B.create(l,lLe);if("error"in h)throw new Bt(h.error,`failed to get token accounts owned by account ${e.toBase58()}`);return h.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let s=this._buildArgs(i,n,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",s),c=B.create(a,dLe);if("error"in c)throw new Bt(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=B.create(i,hLe);if("error"in s)throw new Bt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=B.create(i,uLe);if("error"in s)throw new Bt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=Qn(r),s=this._buildArgs([e.toBase58()],n,"base64",i),a=await this._rpcRequest("getAccountInfo",s),c=B.create(a,to(B.nullable(nw)));if("error"in c)throw new Bt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=Qn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getAccountInfo",s),c=B.create(a,to(B.nullable(fP)));if("error"in c)throw new Bt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=Qn(r),s=e.map(h=>h.toBase58()),a=this._buildArgs([s],n,"jsonParsed",i),c=await this._rpcRequest("getMultipleAccounts",a),l=B.create(c,to(B.array(B.nullable(fP))));if("error"in l)throw new Bt(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=Qn(r),s=e.map(h=>h.toBase58()),a=this._buildArgs([s],n,"base64",i),c=await this._rpcRequest("getMultipleAccounts",a),l=B.create(c,to(B.array(B.nullable(nw))));if("error"in l)throw new Bt(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:s}=Qn(r),a=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??s?.epoch}),c=await this._rpcRequest("getStakeActivation",a),l=B.create(c,Sr(yLe));if("error"in l)throw new Bt(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=Qn(r),{encoding:s,...a}=i||{},c=this._buildArgs([e.toBase58()],n,s||"base64",{...a,...a.filters?{filters:loe(a.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",c),h=B.array(pLe),y=a.withContext===!0?B.create(l,to(h)):B.create(l,Sr(h));if("error"in y)throw new Bt(y.error,`failed to get accounts owned by program ${e.toBase58()}`);return y.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=Qn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getProgramAccounts",s),c=B.create(a,Sr(B.array(gLe)));if("error"in c)throw new Bt(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let s=e;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);n=s.signature}let i;try{i=ps.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return an(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1,a=new Promise((l,h)=>{try{n=this.onSignature(r,(p,E)=>{n=void 0;let I={context:E,value:p};l({__type:ph.PROCESSED,response:I})},e);let y=new Promise(p=>{n==null?p():i=this._onSubscriptionStateChange(n,E=>{E==="subscribed"&&p()})});(async()=>{if(await y,s)return;let p=await this.getSignatureStatus(r);if(s||p==null)return;let{context:E,value:I}=p;if(I!=null)if(I?.err)h(I.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(I.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(I.confirmationStatus==="processed"||I.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:ph.PROCESSED,response:{context:E,value:I}})}})()}catch(y){h(y)}});return{abortConfirmation:o(()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},"abortConfirmation"),confirmationPromise:a}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1,a=new Promise(p=>{let E=o(async()=>{try{return await this.getBlockHeight(e)}catch{return-1}},"checkBlockHeight");(async()=>{let I=await E();if(!s){for(;I<=n;)if(await kg(1e3),s||(I=await E(),s))return;p({__type:ph.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),h=this.getCancellationPromise(r),y;try{let p=await Promise.race([h,l,a]);if(p.__type===ph.PROCESSED)y=p.response;else throw new ew(i)}finally{s=!0,c()}return y}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:a}}){let c=!1,l=new Promise(I=>{let O=s,N=null,k=o(async()=>{try{let{context:C,value:L}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return N=C.slot,L?.nonce}catch{return O}},"getCurrentNonceValue");(async()=>{if(O=await k(),!c)for(;;){if(s!==O){I({__type:ph.NONCE_INVALID,slotInWhichNonceDidAdvance:N});return}if(await kg(2e3),c||(O=await k(),c))return}})()}),{abortConfirmation:h,confirmationPromise:y}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),p=this.getCancellationPromise(r),E;try{let I=await Promise.race([p,y,l]);if(I.__type===ph.PROCESSED)E=I.response;else{let O;for(;;){let N=await this.getSignatureStatus(a);if(N==null)break;if(N.context.slot<(I.slotInWhichNonceDidAdvance??n)){await kg(400);continue}O=N;break}if(O?.value){let N=e||"finalized",{confirmationStatus:k}=O.value;switch(N){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new ep(a);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new ep(a);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new ep(a);break;default:}E={context:O.context,value:{err:O.value.err}}}else throw new ep(a)}}finally{c=!0,h()}return E}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(l=>{let h=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{h=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>l({__type:ph.TIMED_OUT,timeoutMs:h}),h)}),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),c;try{let l=await Promise.race([a,i]);if(l.__type===ph.PROCESSED)c=l.response;else throw new tw(r,l.timeoutMs/1e3)}finally{clearTimeout(n),s()}return c}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=B.create(e,Sr(B.array(OLe)));if("error"in r)throw new Bt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=B.create(n,NLe);if("error"in i)throw new Bt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),a=B.create(s,Sr(B.number()));if("error"in a)throw new Bt(a.error,"failed to get slot");return a.result}async getSlotLeader(e){let{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),a=B.create(s,Sr(B.string()));if("error"in a)throw new Bt(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=B.create(i,Sr(B.array(Ni)));if("error"in s)throw new Bt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);an(i.length===1);let s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),s=B.create(i,kLe);if("error"in s)throw new Bt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){let{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),a=B.create(s,Sr(B.number()));if("error"in a)throw new Bt(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=B.create(n,rLe);if("error"in i)throw new Bt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:s}=Qn(n),a=this._buildArgs([e.map(h=>h.toBase58())],i,void 0,{...s,epoch:r??s?.epoch}),c=await this._rpcRequest("getInflationReward",a),l=B.create(c,qPe);if("error"in l)throw new Bt(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=B.create(e,nLe);if("error"in r)throw new Bt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),a=B.create(s,oLe);if("error"in a)throw new Bt(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=B.create(e,sLe);if("error"in r)throw new Bt(r.error,"failed to get epoch schedule");let n=r.result;return new C4(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=B.create(e,aLe);if("error"in r)throw new Bt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=B.create(i,BLe);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){let{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=B.create(r,$Le);if("error"in n)throw new Bt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=B.create(i,WLe);if("error"in s)throw new Bt(s.error,"failed to get fee calculator");let{context:a,value:c}=s.result;return{context:a,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,r){let n=Ar(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),a=B.create(s,to(B.nullable(B.number())));if("error"in a)throw new Bt(a.error,"failed to get fee for message");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){let r=e?.lockedWritableAccounts?.map(a=>a.toBase58()),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=B.create(i,iLe);if("error"in s)throw new Bt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),a=B.create(s,zLe);if("error"in a)throw new Bt(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,r){let{commitment:n,config:i}=Qn(r),s=this._buildArgs([e],n,void 0,i),a=await this._rpcRequest("isBlockhashValid",s),c=B.create(a,KLe);if("error"in c)throw new Bt(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=B.create(e,Sr(YPe));if("error"in r)throw new Bt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=B.create(e,Sr(B.string()));if("error"in r)throw new Bt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=Qn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{let c=B.create(a,FLe);if("error"in c)throw c.error;return c.result}case"none":{let c=B.create(a,ULe);if("error"in c)throw c.error;return c.result}default:{let c=B.create(a,DLe);if("error"in c)throw c.error;let{result:l}=c;return l?{...l,transactions:l.transactions.map(({transaction:h,meta:y,version:p})=>({meta:y,transaction:{...h,message:WB(p,h.message)},version:p}))}:null}}}catch(c){throw new Bt(c,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=Qn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{let c=B.create(a,qLe);if("error"in c)throw c.error;return c.result}case"none":{let c=B.create(a,VLe);if("error"in c)throw c.error;return c.result}default:{let c=B.create(a,HLe);if("error"in c)throw c.error;return c.result}}}catch(c){throw new Bt(c,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:c,...l}=e;n=c,r=l}let i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),a=B.create(s,JPe);if("error"in a)throw new Bt(a.error,"failed to get block production information");return a.result}async getTransaction(e,r){let{commitment:n,config:i}=Qn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getTransaction",s),c=B.create(a,YB);if("error"in c)throw new Bt(c.error,"failed to get transaction");let l=c.result;return l&&{...l,transaction:{...l.transaction,message:WB(l.version,l.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=Qn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getTransaction",s),c=B.create(a,I4);if("error"in c)throw new Bt(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=Qn(r),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{let h=B.create(l,I4);if("error"in h)throw new Bt(h.error,"failed to get transactions");return h.result})}async getTransactions(e,r){let{commitment:n,config:i}=Qn(r),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{let h=B.create(l,YB);if("error"in h)throw new Bt(h.error,"failed to get transactions");let y=h.result;return y&&{...y,transaction:{...y.transaction,message:WB(y.version,y.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getBlock",n),s=B.create(i,jLe);if("error"in s)throw new Bt(s.error,"failed to get confirmed block");let a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");let c={...a,transactions:a.transactions.map(({transaction:l,meta:h})=>{let y=new Wl(l.message);return{meta:h,transaction:{...l,message:y}}})};return{...c,transactions:c.transactions.map(({transaction:l,meta:h})=>({meta:h,transaction:In.populate(l.message,l.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),a=B.create(s,Sr(B.array(B.number())));if("error"in a)throw new Bt(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=B.create(i,poe);if("error"in s)throw new Bt(s.error,"failed to get block");let a=s.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=B.create(i,poe);if("error"in s)throw new Bt(s.error,"failed to get confirmed block");let a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getTransaction",n),s=B.create(i,YB);if("error"in s)throw new Bt(s.error,"failed to get transaction");let a=s.result;if(!a)return a;let c=new Wl(a.transaction.message),l=a.transaction.signatures;return{...a,transaction:In.populate(c,l)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=B.create(i,I4);if("error"in s)throw new Bt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){let n=e.map(a=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([a],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(a=>{let c=B.create(a,I4);if("error"in c)throw new Bt(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{let l=await this.getConfirmedBlockSignatures(r,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let a=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>a));)try{let l=await this.getConfirmedBlockSignatures(n);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),a=B.create(s,bLe);if("error"in a)throw new Bt(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),a=B.create(s,xLe);if("error"in a)throw new Bt(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),s=null;return i!==null&&(s=new rw({key:e,state:rw.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),s=null;return i!==null&&(s=M4.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=B.create(n,YLe);if("error"in i)throw new Bt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await kg(100);let n=Date.now()-this._blockhashInfo.lastFetch>=koe;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await kg(Ooe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=Qn(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),a=B.create(s,to(B.number()));if("error"in a)throw new Bt(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,r,n){if("message"in e){let N=e.serialize(),k=Xt.Buffer.from(N).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let C=r||{};C.encoding="base64","commitment"in C||(C.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(C.innerInstructions=r.innerInstructions);let L=[k,C],M=await this._rpcRequest("simulateTransaction",L),P=B.create(M,doe);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let i;if(e instanceof In){let O=e;i=new In,i.feePayer=O.feePayer,i.instructions=e.instructions,i.nonceInfo=O.nonceInfo,i.signatures=O.signatures}else i=In.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let s=r;if(i.nonceInfo&&s)i.sign(...s);else{let O=this._disableBlockhashCaching;for(;;){let N=await this._blockhashWithExpiryBlockHeight(O);if(i.lastValidBlockHeight=N.lastValidBlockHeight,i.recentBlockhash=N.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");let k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else O=!0}}let a=i._compile(),c=a.serialize(),h=i._serialize(c).toString("base64"),y={encoding:"base64",commitment:this.commitment};if(n){let O=(Array.isArray(n)?n:a.nonProgramIds()).map(N=>N.toBase58());y.accounts={encoding:"base64",addresses:O}}s&&(y.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(y.innerInstructions=r.innerInstructions);let p=[h,y],E=await this._rpcRequest("simulateTransaction",p),I=B.create(E,doe);if("error"in I){let O;if("data"in I.error&&(O=I.error.data.logs,O&&Array.isArray(O))){let N=`
    `,k=N+O.join(N);console.error(I.error.message,k)}throw new Lg({action:"simulate",signature:"",transactionMessage:I.error.message,logs:O})}return I.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let a=e.serialize();return await this.sendRawTransaction(a,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let a=this._disableBlockhashCaching;for(;;){let c=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))a=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}let s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){let n=Ar(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);let a=[e,n],c=await this._rpcRequest("sendTransaction",a),l=B.create(c,XLe);if("error"in l){let h;throw"data"in l.error&&(h=l.error.data.logs),new Lg({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:h})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(s=>{try{s(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=o(()=>e===this._rpcWebSocketGeneration,"isCurrentConnectionStillActive");await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:s,method:a}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let c=await this._rpcWebSocket.call(a,s);this._setSubscription(n,{...i,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=i.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${a}\``,{args:s,error:c}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:s,unsubscribeMethod:a}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(a,[s])}catch(c){if(c instanceof Error&&console.error(`${a} error:`,c.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=B.create(e,vLe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=foe([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let a=this._subscriptionsByHash[i];an(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let{commitment:i,config:s}=Qn(n),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},a)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=B.create(e,wLe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let{commitment:s,config:a}=Qn(n),c=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",a||(i?{filters:loe(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=B.create(e,JLe);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=B.create(e,SLe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=B.create(e,ILe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let s=r||this._commitment;if(s||n||i){let a={};n&&(a.encoding=n),s&&(a.commitment=s),i&&(a=Object.assign(a,i)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=B.create(e,TLe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:o((a,c)=>{if(a.type==="status"){r(a.result,c);try{this.removeSignatureListener(s)}catch{}}},"callback"),method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){let{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},a=this._buildArgs([e],i,void 0,s),c=this._makeSubscription({callback:o((l,h)=>{r(l,h);try{this.removeSignatureListener(c)}catch{}},"callback"),method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=B.create(e,RLe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},B4=class t{static{o(this,"Keypair")}constructor(e){this._keypair=void 0,this._keypair=e??ooe()}static generate(){return new t(ooe())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),s=O4(i);for(let a=0;a<32;a++)if(n[a]!==s[a])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=O4(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new ht(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},mh=Object.freeze({CreateLookupTable:{index:0,layout:oe.struct([oe.u32("instruction"),Rb("recentSlot"),oe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:oe.struct([oe.u32("instruction")])},ExtendLookupTable:{index:2,layout:oe.struct([oe.u32("instruction"),Rb(),oe.seq(Pr(),oe.offset(oe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:oe.struct([oe.u32("instruction")])},CloseLookupTable:{index:4,layout:oe.struct([oe.u32("instruction")])}}),lP=class{static{o(this,"AddressLookupTableInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(mh))if(a.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=An(mh.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=An(mh.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new ht(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(iw.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},iw=class{static{o(this,"AddressLookupTableProgram")}constructor(){}static createLookupTable(e){let[r,n]=ht.findProgramAddressSync([e.authority.toBuffer(),Soe.getU64Encoder().encode(e.recentSlot)],this.programId),i=mh.CreateLookupTable,s=Xr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ms.programId,isSigner:!1,isWritable:!1}];return[new On({programId:this.programId,keys:a,data:s}),r]}static freezeLookupTable(e){let r=mh.FreezeLookupTable,n=Xr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new On({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=mh.ExtendLookupTable,n=Xr(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ms.programId,isSigner:!1,isWritable:!1}),new On({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=mh.DeactivateLookupTable,n=Xr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new On({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=mh.CloseLookupTable,n=Xr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new On({programId:this.programId,keys:i,data:n})}};iw.programId=new ht("AddressLookupTab1e1111111111111111111111111");var dP=class{static{o(this,"ComputeBudgetInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u8("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Kl))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=An(Kl.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=An(Kl.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=An(Kl.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=An(Kl.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(ow.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Kl=Object.freeze({RequestUnits:{index:0,layout:oe.struct([oe.u8("instruction"),oe.u32("units"),oe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:oe.struct([oe.u8("instruction"),oe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:oe.struct([oe.u8("instruction"),oe.u32("units")])},SetComputeUnitPrice:{index:3,layout:oe.struct([oe.u8("instruction"),Rb("microLamports")])}}),ow=class{static{o(this,"ComputeBudgetProgram")}constructor(){}static requestUnits(e){let r=Kl.RequestUnits,n=Xr(r,e);return new On({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Kl.RequestHeapFrame,n=Xr(r,e);return new On({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Kl.SetComputeUnitLimit,n=Xr(r,e);return new On({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Kl.SetComputeUnitPrice,n=Xr(r,{microLamports:BigInt(e.microLamports)});return new On({keys:[],programId:this.programId,data:n})}};ow.programId=new ht("ComputeBudget111111111111111111111111111111");var moe=64,goe=32,yoe=64,boe=oe.struct([oe.u8("numSignatures"),oe.u8("padding"),oe.u16("signatureOffset"),oe.u16("signatureInstructionIndex"),oe.u16("publicKeyOffset"),oe.u16("publicKeyInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u16("messageInstructionIndex")]),P4=class t{static{o(this,"Ed25519Program")}constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:s}=e;an(r.length===goe,`Public Key must be ${goe} bytes but received ${r.length} bytes`),an(i.length===yoe,`Signature must be ${yoe} bytes but received ${i.length} bytes`);let a=boe.span,c=a+r.length,l=c+i.length,h=1,y=Xt.Buffer.alloc(l+n.length),p=s??65535;return boe.encode({numSignatures:h,padding:0,signatureOffset:c,signatureInstructionIndex:p,publicKeyOffset:a,publicKeyInstructionIndex:p,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:p},y),y.fill(r,a),y.fill(i,c),y.fill(n,l),new On({keys:[],programId:t.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;an(r.length===moe,`Private key must be ${moe} bytes but received ${r.length} bytes`);try{let s=B4.fromSecretKey(r),a=s.publicKey.toBytes(),c=xP(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:c,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};P4.programId=new ht("Ed25519SigVerify111111111111111111111111111");var eDe=o((t,e)=>{let r=yP.secp256k1.sign(t,e);return[r.toCompactRawBytes(),r.recovery]},"ecdsaSign");yP.secp256k1.utils.isValidPrivateKey;var tDe=yP.secp256k1.getPublicKey,xoe=32,XB=20,voe=64,rDe=11,ZB=oe.struct([oe.u8("numSignatures"),oe.u16("signatureOffset"),oe.u8("signatureInstructionIndex"),oe.u16("ethAddressOffset"),oe.u8("ethAddressInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u8("messageInstructionIndex"),oe.blob(20,"ethAddress"),oe.blob(64,"signature"),oe.u8("recoveryId")]),L4=class t{static{o(this,"Secp256k1Program")}constructor(){}static publicKeyToEthAddress(e){an(e.length===voe,`Public key must be ${voe} bytes but received ${e.length} bytes`);try{return Xt.Buffer.from(noe.keccak_256(Ar(e))).slice(-XB)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:a}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:a=0}=e,c;typeof r=="string"?r.startsWith("0x")?c=Xt.Buffer.from(r.substr(2),"hex"):c=Xt.Buffer.from(r,"hex"):c=r,an(c.length===XB,`Address must be ${XB} bytes but received ${c.length} bytes`);let l=1+rDe,h=l,y=l+c.length,p=y+i.length+1,E=1,I=Xt.Buffer.alloc(ZB.span+n.length);return ZB.encode({numSignatures:E,signatureOffset:y,signatureInstructionIndex:a,ethAddressOffset:h,ethAddressInstructionIndex:a,messageDataOffset:p,messageDataSize:n.length,messageInstructionIndex:a,signature:Ar(i),ethAddress:Ar(c),recoveryId:s},I),I.fill(Ar(n),ZB.span),new On({keys:[],programId:t.programId,data:I})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;an(r.length===xoe,`Private key must be ${xoe} bytes but received ${r.length} bytes`);try{let s=Ar(r),a=tDe(s,!1).slice(1),c=Xt.Buffer.from(noe.keccak_256(Ar(n))),[l,h]=eDe(c,s);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:l,recoveryId:h,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};L4.programId=new ht("KeccakSecp256k11111111111111111111111111111");var joe,zoe=new ht("StakeConfig11111111111111111111111111111111"),D4=class{static{o(this,"Authorized")}constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},Dg=class{static{o(this,"Lockup")}constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};joe=Dg;Dg.default=new joe(0,0,ht.default);var hP=class{static{o(this,"StakeInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Go))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=An(Go.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new D4(new ht(r.staker),new ht(r.withdrawer)),lockup:new Dg(n.unixTimestamp,n.epoch,new ht(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),An(Go.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=An(Go.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ht(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=An(Go.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ht(s),newAuthorizedPubkey:new ht(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=An(Go.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),An(Go.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=An(Go.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),An(Go.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Nb.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Go=Object.freeze({Initialize:{index:0,layout:oe.struct([oe.u32("instruction"),hPe(),pPe()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Pr("newAuthorized"),oe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:oe.struct([oe.u32("instruction")])},Split:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Withdraw:{index:4,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Deactivate:{index:5,layout:oe.struct([oe.u32("instruction")])},Merge:{index:7,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:oe.struct([oe.u32("instruction"),Pr("newAuthorized"),oe.u32("stakeAuthorizationType"),Bg("authoritySeed"),Pr("authorityOwner")])}}),nDe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Nb=class{static{o(this,"StakeProgram")}constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,s=i||Dg.default,a=Go.Initialize,c=Xr(a,{authorized:{staker:Ar(n.staker.toBuffer()),withdrawer:Ar(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Ar(s.custodian.toBuffer())}}),l={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Tb,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new On(l)}static createAccountWithSeed(e){let r=new In;r.add(ms.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){let r=new In;r.add(ms.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=Go.Delegate,a=Xr(s);return new In().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:jl,isSigner:!1,isWritable:!1},{pubkey:R4,isSigner:!1,isWritable:!1},{pubkey:zoe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=e,c=Go.Authorize,l=Xr(c,{newAuthorized:Ar(i.toBuffer()),stakeAuthorizationType:s.index}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:jl,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!0,isWritable:!1}),new In().add({keys:h,programId:this.programId,data:l})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:c,custodianPubkey:l}=e,h=Go.AuthorizeWithSeed,y=Xr(h,{newAuthorized:Ar(a.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:i,authorityOwner:Ar(s.toBuffer())}),p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:jl,isSigner:!1,isWritable:!1}];return l&&p.push({pubkey:l,isSigner:!0,isWritable:!1}),new In().add({keys:p,programId:this.programId,data:y})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,a=Go.Split,c=Xr(a,{lamports:s});return new On({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e,r){let n=new In;return n.add(ms.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:a,seed:c,lamports:l}=e,h=new In;return h.add(ms.allocate({accountPubkey:s,basePubkey:a,seed:c,space:this.space,programId:this.programId})),r&&r>0&&h.add(ms.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),h.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:l}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=Go.Merge,a=Xr(s);return new In().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:jl,isSigner:!1,isWritable:!1},{pubkey:R4,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:a}=e,c=Go.Withdraw,l=Xr(c,{lamports:s}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:jl,isSigner:!1,isWritable:!1},{pubkey:R4,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!0,isWritable:!1}),new In().add({keys:h,programId:this.programId,data:l})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=Go.Deactivate,s=Xr(i);return new In().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:jl,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Nb.programId=new ht("Stake11111111111111111111111111111111111111");Nb.space=200;var U4=class{static{o(this,"VoteInit")}constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},pP=class{static{o(this,"VoteInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Gl))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=An(Gl.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new U4(new ht(r.nodePubkey),new ht(r.authorizedVoter),new ht(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=An(Gl.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ht(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=An(Gl.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ht(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new ht(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=An(Gl.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Mb.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Gl=Object.freeze({InitializeAccount:{index:0,layout:oe.struct([oe.u32("instruction"),mPe()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Pr("newAuthorized"),oe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),gPe()])}}),iDe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),Mb=class t{static{o(this,"VoteProgram")}constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=Gl.InitializeAccount,a=Xr(s,{voteInit:{nodePubkey:Ar(i.nodePubkey.toBuffer()),authorizedVoter:Ar(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Ar(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Tb,isSigner:!1,isWritable:!1},{pubkey:jl,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new On(c)}static createAccount(e){let r=new In;return r.add(ms.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,a=Gl.Authorize,c=Xr(a,{newAuthorized:Ar(i.toBuffer()),voteAuthorizationType:s.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:jl,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new In().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:c}=e,l=Gl.AuthorizeWithSeed,h=Xr(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ar(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Ar(s.toBuffer()),voteAuthorizationType:a.index}}),y=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:jl,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new In().add({keys:y,programId:this.programId,data:h})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,a=Gl.Withdraw,c=Xr(a,{lamports:i}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new In().add({keys:l,programId:this.programId,data:c})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return t.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=Gl.UpdateValidatorIdentity,a=Xr(s),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new In().add({keys:c,programId:this.programId,data:a})}};Mb.programId=new ht("Vote111111111111111111111111111111111111111");Mb.space=3762;var Koe=new ht("Va1idator1nfo111111111111111111111111111111"),oDe=B.type({name:B.string(),website:B.optional(B.string()),details:B.optional(B.string()),iconUrl:B.optional(B.string()),keybaseUsername:B.optional(B.string())}),mP=class t{static{o(this,"ValidatorInfo")}constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(ic(r)!==2)return null;let i=[];for(let s=0;s<2;s++){let a=new ht(oc(r,0,$l)),c=zl(r)===1;i.push({publicKey:a,isSigner:c})}if(i[0].publicKey.equals(Koe)&&i[1].isSigner){let s=Bg().decode(Xt.Buffer.from(r)),a=JSON.parse(s);return B.assert(a,oDe),new t(i[1].publicKey,a)}return null}},sDe=new ht("Vote111111111111111111111111111111111111111"),aDe=oe.struct([Pr("nodePubkey"),Pr("authorizedWithdrawer"),oe.u8("commission"),oe.nu64(),oe.seq(oe.struct([oe.nu64("slot"),oe.u32("confirmationCount")]),oe.offset(oe.u32(),-8),"votes"),oe.u8("rootSlotValid"),oe.nu64("rootSlot"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),Pr("authorizedVoter")]),oe.offset(oe.u32(),-8),"authorizedVoters"),oe.struct([oe.seq(oe.struct([Pr("authorizedPubkey"),oe.nu64("epochOfLastAuthorizedSwitch"),oe.nu64("targetEpoch")]),32,"buf"),oe.nu64("idx"),oe.u8("isEmpty")],"priorVoters"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),oe.nu64("credits"),oe.nu64("prevCredits")]),oe.offset(oe.u32(),-8),"epochCredits"),oe.struct([oe.nu64("slot"),oe.nu64("timestamp")],"lastTimestamp")]),gP=class t{static{o(this,"VoteAccount")}constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=aDe.decode(Ar(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new ht(n.nodePubkey),authorizedWithdrawer:new ht(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(cDe),priorVoters:fDe(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function cDe({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new ht(t)}}o(cDe,"parseAuthorizedVoter");function _oe({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new ht(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}o(_oe,"parsePriorVoters");function fDe({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(_oe),...t.slice(0,e).map(_oe)]}o(fDe,"getPriorVoters");var woe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function uDe(t,e){let r=e===!1?"http":"https";if(!t)return woe[r].devnet;let n=woe[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}o(uDe,"clusterApiUrl");async function lDe(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;let a=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},c=await t.sendRawTransaction(e,a),l=s&&s.commitment,y=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(c,l))).value;if(y.err)throw c!=null?new Lg({action:a?.skipPreflight?"send":"simulate",signature:c,transactionMessage:`Status: (${JSON.stringify(y)})`}):new Error(`Raw transaction ${c} failed (${JSON.stringify(y)})`);return c}o(lDe,"sendAndConfirmRawTransaction");var dDe=1e9;pt.Account=QB;pt.AddressLookupTableAccount=rw;pt.AddressLookupTableInstruction=lP;pt.AddressLookupTableProgram=iw;pt.Authorized=D4;pt.BLOCKHASH_CACHE_TIMEOUT_MS=koe;pt.BPF_LOADER_DEPRECATED_PROGRAM_ID=lPe;pt.BPF_LOADER_PROGRAM_ID=RPe;pt.BpfLoader=oP;pt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Kl;pt.ComputeBudgetInstruction=dP;pt.ComputeBudgetProgram=ow;pt.Connection=uP;pt.Ed25519Program=P4;pt.Enum=JB;pt.EpochSchedule=C4;pt.FeeCalculatorLayout=Noe;pt.Keypair=B4;pt.LAMPORTS_PER_SOL=dDe;pt.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=mh;pt.Loader=Ob;pt.Lockup=Dg;pt.MAX_SEED_LENGTH=Ioe;pt.Message=Wl;pt.MessageAccountKeys=Pg;pt.MessageV0=Ib;pt.NONCE_ACCOUNT_LENGTH=nP;pt.NonceAccount=M4;pt.PACKET_DATA_SIZE=tp;pt.PUBLIC_KEY_LENGTH=$l;pt.PublicKey=ht;pt.SIGNATURE_LENGTH_IN_BYTES=Q_;pt.SOLANA_SCHEMA=Z_;pt.STAKE_CONFIG_ID=zoe;pt.STAKE_INSTRUCTION_LAYOUTS=Go;pt.SYSTEM_INSTRUCTION_LAYOUTS=ei;pt.SYSVAR_CLOCK_PUBKEY=jl;pt.SYSVAR_EPOCH_SCHEDULE_PUBKEY=_Pe;pt.SYSVAR_INSTRUCTIONS_PUBKEY=wPe;pt.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=T4;pt.SYSVAR_RENT_PUBKEY=Tb;pt.SYSVAR_REWARDS_PUBKEY=EPe;pt.SYSVAR_SLOT_HASHES_PUBKEY=SPe;pt.SYSVAR_SLOT_HISTORY_PUBKEY=APe;pt.SYSVAR_STAKE_HISTORY_PUBKEY=R4;pt.Secp256k1Program=L4;pt.SendTransactionError=Lg;pt.SolanaJSONRPCError=Bt;pt.SolanaJSONRPCErrorCode=IPe;pt.StakeAuthorizationLayout=nDe;pt.StakeInstruction=hP;pt.StakeProgram=Nb;pt.Struct=J_;pt.SystemInstruction=iP;pt.SystemProgram=ms;pt.Transaction=In;pt.TransactionExpiredBlockheightExceededError=ew;pt.TransactionExpiredNonceInvalidError=ep;pt.TransactionExpiredTimeoutError=tw;pt.TransactionInstruction=On;pt.TransactionMessage=eP;pt.TransactionStatus=ph;pt.VALIDATOR_INFO_KEY=Koe;pt.VERSION_PREFIX_MASK=F4;pt.VOTE_PROGRAM_ID=sDe;pt.ValidatorInfo=mP;pt.VersionedMessage=vP;pt.VersionedTransaction=tP;pt.VoteAccount=gP;pt.VoteAuthorizationLayout=iDe;pt.VoteInit=U4;pt.VoteInstruction=pP;pt.VoteProgram=Mb;pt.clusterApiUrl=uDe;pt.sendAndConfirmRawTransaction=lDe;pt.sendAndConfirmTransaction=rP});var lse=j(Re=>{"use strict";m();g();Object.defineProperty(Re,"__esModule",{value:!0});Re.s16=Re.s8=Re.nu64be=Re.u48be=Re.u40be=Re.u32be=Re.u24be=Re.u16be=Re.nu64=Re.u48=Re.u40=Re.u32=Re.u24=Re.u16=Re.u8=Re.offset=Re.greedy=Re.Constant=Re.UTF8=Re.CString=Re.Blob=Re.Boolean=Re.BitField=Re.BitStructure=Re.VariantLayout=Re.Union=Re.UnionLayoutDiscriminator=Re.UnionDiscriminator=Re.Structure=Re.Sequence=Re.DoubleBE=Re.Double=Re.FloatBE=Re.Float=Re.NearInt64BE=Re.NearInt64=Re.NearUInt64BE=Re.NearUInt64=Re.IntBE=Re.Int=Re.UIntBE=Re.UInt=Re.OffsetLayout=Re.GreedyCount=Re.ExternalLayout=Re.bindConstructorLayout=Re.nameWithProperty=Re.Layout=Re.uint8ArrayToBuffer=Re.checkUint8Array=void 0;Re.constant=Re.utf8=Re.cstr=Re.blob=Re.unionLayoutDiscriminator=Re.union=Re.seq=Re.bits=Re.struct=Re.f64be=Re.f64=Re.f32be=Re.f32=Re.ns64be=Re.s48be=Re.s40be=Re.s32be=Re.s24be=Re.s16be=Re.ns64=Re.s48=Re.s40=Re.s32=Re.s24=void 0;var CP=fi();function Db(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}o(Db,"checkUint8Array");Re.checkUint8Array=Db;function cn(t){return Db(t),CP.Buffer.from(t.buffer,t.byteOffset,t.length)}o(cn,"uint8ArrayToBuffer");Re.uint8ArrayToBuffer=cn;var xn=class{static{o(this,"Layout")}constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Re.Layout=xn;function kP(t,e){return e.property?t+"["+e.property+"]":t}o(kP,"nameWithProperty");Re.nameWithProperty=kP;function mDe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof xn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}o(mDe,"bindConstructorLayout");Re.bindConstructorLayout=mDe;var Xs=class extends xn{static{o(this,"ExternalLayout")}isCount(){throw new Error("ExternalLayout is abstract")}};Re.ExternalLayout=Xs;var K4=class extends Xs{static{o(this,"GreedyCount")}constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){Db(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};Re.GreedyCount=K4;var sw=class extends Xs{static{o(this,"OffsetLayout")}constructor(e,r=0,n){if(!(e instanceof xn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof sc||this.layout instanceof Vc}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};Re.OffsetLayout=sw;var sc=class extends xn{static{o(this,"UInt")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return cn(r).writeUIntLE(e,n,this.span),this.span}};Re.UInt=sc;var Vc=class extends xn{static{o(this,"UIntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return cn(r).writeUIntBE(e,n,this.span),this.span}};Re.UIntBE=Vc;var yh=class extends xn{static{o(this,"Int")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readIntLE(r,this.span)}encode(e,r,n=0){return cn(r).writeIntLE(e,n,this.span),this.span}};Re.Int=yh;var rp=class extends xn{static{o(this,"IntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readIntBE(r,this.span)}encode(e,r,n=0){return cn(r).writeIntBE(e,n,this.span),this.span}};Re.IntBE=rp;var MP=Math.pow(2,32);function c8(t){let e=Math.floor(t/MP),r=t-e*MP;return{hi32:e,lo32:r}}o(c8,"divmodInt64");function f8(t,e){return t*MP+e}o(f8,"roundedInt64");var G4=class extends xn{static{o(this,"NearUInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=cn(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return f8(s,i)}encode(e,r,n=0){let i=c8(e),s=cn(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};Re.NearUInt64=G4;var $4=class extends xn{static{o(this,"NearUInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=cn(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return f8(i,s)}encode(e,r,n=0){let i=c8(e),s=cn(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Re.NearUInt64BE=$4;var W4=class extends xn{static{o(this,"NearInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=cn(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return f8(s,i)}encode(e,r,n=0){let i=c8(e),s=cn(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};Re.NearInt64=W4;var Y4=class extends xn{static{o(this,"NearInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=cn(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return f8(i,s)}encode(e,r,n=0){let i=c8(e),s=cn(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Re.NearInt64BE=Y4;var X4=class extends xn{static{o(this,"Float")}constructor(e){super(4,e)}decode(e,r=0){return cn(e).readFloatLE(r)}encode(e,r,n=0){return cn(r).writeFloatLE(e,n),4}};Re.Float=X4;var Z4=class extends xn{static{o(this,"FloatBE")}constructor(e){super(4,e)}decode(e,r=0){return cn(e).readFloatBE(r)}encode(e,r,n=0){return cn(r).writeFloatBE(e,n),4}};Re.FloatBE=Z4;var J4=class extends xn{static{o(this,"Double")}constructor(e){super(8,e)}decode(e,r=0){return cn(e).readDoubleLE(r)}encode(e,r,n=0){return cn(r).writeDoubleLE(e,n),8}};Re.Double=J4;var Q4=class extends xn{static{o(this,"DoubleBE")}constructor(e){super(8,e)}decode(e,r=0){return cn(e).readDoubleBE(r)}encode(e,r,n=0){return cn(r).writeDoubleBE(e,n),8}};Re.DoubleBE=Q4;var e8=class extends xn{static{o(this,"Sequence")}constructor(e,r,n){if(!(e instanceof xn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Xs&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Xs)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Xs&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){let n=[],i=0,s=this.count;for(s instanceof Xs&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,s=e.reduce((a,c)=>a+i.encode(c,r,n+a),0);return this.count instanceof Xs&&this.count.encode(e.length,r,n),s}};Re.Sequence=e8;var t8=class extends xn{static{o(this,"Structure")}constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof xn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let a=s.getSpan(e,r);return r+=a,i+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){Db(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,s=0,a=0;for(let c of this.fields){let l=c.span;if(a=0<l?l:0,c.property!==void 0){let h=e[c.property];h!==void 0&&(a=c.encode(h,r,n),0>l&&(l=c.getSpan(r,n)))}s=n,n+=l}return s+a-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Re.Structure=t8;var aw=class{static{o(this,"UnionDiscriminator")}constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};Re.UnionDiscriminator=aw;var Lb=class extends aw{static{o(this,"UnionLayoutDiscriminator")}constructor(e,r){if(!(e instanceof Xs&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};Re.UnionLayoutDiscriminator=Lb;var cw=class extends xn{static{o(this,"Union")}constructor(e,r,n){let i;if(e instanceof sc||e instanceof Vc)i=new Lb(new sw(e));else if(e instanceof Xs&&e.isCount())i=new Lb(e);else if(e instanceof aw)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof xn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof sc||e instanceof Vc)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof sc||e instanceof Vc,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,s=i.decode(e,r),a=this.registry[s];if(a===void 0){let c=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[c.property]=c.decode(e,r+l)}else n=a.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,a=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new r8(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};Re.Union=cw;var r8=class extends xn{static{o(this,"VariantLayout")}constructor(e,r,n,i){if(!(e instanceof cw))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof xn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Re.VariantLayout=r8;function Pb(t){return 0>t&&(t+=4294967296),t}o(Pb,"fixBitwiseResult");var fw=class extends xn{static{o(this,"BitStructure")}constructor(e,r,n){if(!(e instanceof sc||e instanceof Vc))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Pb(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new uw(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new n8(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};Re.BitStructure=fw;var uw=class{static{o(this,"BitField")}constructor(e,r,n){if(!(e instanceof fw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=Pb(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return Pb(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Pb(e&this.valueMask))throw new TypeError(kP("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=Pb(e<<this.start);this.container._packedSetValue(Pb(r&~this.wordMask)|n)}};Re.BitField=uw;var n8=class extends uw{static{o(this,"Boolean")}constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Re.Boolean=n8;var i8=class extends xn{static{o(this,"Blob")}constructor(e,r){if(!(e instanceof Xs&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Xs||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),cn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Xs&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(kP("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let s=cn(e);return cn(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof Xs&&this.length.encode(i,r,n),i}};Re.Blob=i8;var o8=class extends xn{static{o(this,"CString")}constructor(e){super(-1,e)}getSpan(e,r=0){Db(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return cn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=CP.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");let a=cn(r);return i.copy(a,n),a[n+s]=0,s+1}};Re.CString=o8;var s8=class extends xn{static{o(this,"UTF8")}constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return Db(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return cn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=CP.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(cn(r),n),s}};Re.UTF8=s8;var a8=class extends xn{static{o(this,"Constant")}constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};Re.Constant=a8;Re.greedy=(t,e)=>new K4(t,e);Re.offset=(t,e,r)=>new sw(t,e,r);Re.u8=t=>new sc(1,t);Re.u16=t=>new sc(2,t);Re.u24=t=>new sc(3,t);Re.u32=t=>new sc(4,t);Re.u40=t=>new sc(5,t);Re.u48=t=>new sc(6,t);Re.nu64=t=>new G4(t);Re.u16be=t=>new Vc(2,t);Re.u24be=t=>new Vc(3,t);Re.u32be=t=>new Vc(4,t);Re.u40be=t=>new Vc(5,t);Re.u48be=t=>new Vc(6,t);Re.nu64be=t=>new $4(t);Re.s8=t=>new yh(1,t);Re.s16=t=>new yh(2,t);Re.s24=t=>new yh(3,t);Re.s32=t=>new yh(4,t);Re.s40=t=>new yh(5,t);Re.s48=t=>new yh(6,t);Re.ns64=t=>new W4(t);Re.s16be=t=>new rp(2,t);Re.s24be=t=>new rp(3,t);Re.s32be=t=>new rp(4,t);Re.s40be=t=>new rp(5,t);Re.s48be=t=>new rp(6,t);Re.ns64be=t=>new Y4(t);Re.f32=t=>new X4(t);Re.f32be=t=>new Z4(t);Re.f64=t=>new J4(t);Re.f64be=t=>new Q4(t);Re.struct=(t,e,r)=>new t8(t,e,r);Re.bits=(t,e,r)=>new fw(t,e,r);Re.seq=(t,e,r)=>new e8(t,e,r);Re.union=(t,e,r)=>new cw(t,e,r);Re.unionLayoutDiscriminator=(t,e)=>new Lb(t,e);Re.blob=(t,e)=>new i8(t,e);Re.cstr=t=>new o8(t);Re.utf8=(t,e)=>new s8(t,e);Re.constant=(t,e)=>new a8(t,e)});var jg=j((yIt,HP)=>{"use strict";m();g();var FP=65536,xDe=4294967295;function vDe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}o(vDe,"oldBrowser");var _De=pr().Buffer,d8=self.crypto||self.msCrypto;d8&&d8.getRandomValues?HP.exports=wDe:HP.exports=vDe;function wDe(t,e){if(t>xDe)throw new RangeError("requested too many random bytes");var r=_De.allocUnsafe(t);if(t>0)if(t>FP)for(var n=0;n<t;n+=FP)d8.getRandomValues(r.slice(n,n+FP));else d8.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}o(wDe,"randomBytes")});var Zt=j((_It,qP)=>{m();g();typeof Object.create=="function"?qP.exports=o(function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):qP.exports=o(function(e,r){if(r){e.super_=r;var n=o(function(){},"TempCtor");n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}},"inherits")});var Hb=j((AIt,VP)=>{"use strict";m();g();var Fb=typeof Reflect=="object"?Reflect:null,pse=Fb&&typeof Fb.apply=="function"?Fb.apply:o(function(e,r,n){return Function.prototype.apply.call(e,r,n)},"ReflectApply"),h8;Fb&&typeof Fb.ownKeys=="function"?h8=Fb.ownKeys:Object.getOwnPropertySymbols?h8=o(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):h8=o(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys");function EDe(t){console&&console.warn&&console.warn(t)}o(EDe,"ProcessEmitWarning");var gse=Number.isNaN||o(function(e){return e!==e},"NumberIsNaN");function Ln(){Ln.init.call(this)}o(Ln,"EventEmitter");VP.exports=Ln;VP.exports.once=TDe;Ln.EventEmitter=Ln;Ln.prototype._events=void 0;Ln.prototype._eventsCount=0;Ln.prototype._maxListeners=void 0;var mse=10;function p8(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}o(p8,"checkListener");Object.defineProperty(Ln,"defaultMaxListeners",{enumerable:!0,get:o(function(){return mse},"get"),set:o(function(t){if(typeof t!="number"||t<0||gse(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");mse=t},"set")});Ln.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ln.prototype.setMaxListeners=o(function(e){if(typeof e!="number"||e<0||gse(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners");function yse(t){return t._maxListeners===void 0?Ln.defaultMaxListeners:t._maxListeners}o(yse,"_getMaxListeners");Ln.prototype.getMaxListeners=o(function(){return yse(this)},"getMaxListeners");Ln.prototype.emit=o(function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")pse(l,this,r);else for(var h=l.length,y=wse(l,h),n=0;n<h;++n)pse(y[n],this,r);return!0},"emit");function bse(t,e,r,n){var i,s,a;if(p8(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]),a===void 0)a=s[e]=r,++t._eventsCount;else if(typeof a=="function"?a=s[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=yse(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,EDe(c)}return t}o(bse,"_addListener");Ln.prototype.addListener=o(function(e,r){return bse(this,e,r,!1)},"addListener");Ln.prototype.on=Ln.prototype.addListener;Ln.prototype.prependListener=o(function(e,r){return bse(this,e,r,!0)},"prependListener");function SDe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}o(SDe,"onceWrapper");function xse(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=SDe.bind(n);return i.listener=r,n.wrapFn=i,i}o(xse,"_onceWrap");Ln.prototype.once=o(function(e,r){return p8(r),this.on(e,xse(this,e,r)),this},"once");Ln.prototype.prependOnceListener=o(function(e,r){return p8(r),this.prependListener(e,xse(this,e,r)),this},"prependOnceListener");Ln.prototype.removeListener=o(function(e,r){var n,i,s,a,c;if(p8(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){c=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():ADe(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,c||r)}return this},"removeListener");Ln.prototype.off=Ln.prototype.removeListener;Ln.prototype.removeAllListeners=o(function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this},"removeAllListeners");function vse(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?IDe(i):wse(i,i.length)}o(vse,"_listeners");Ln.prototype.listeners=o(function(e){return vse(this,e,!0)},"listeners");Ln.prototype.rawListeners=o(function(e){return vse(this,e,!1)},"rawListeners");Ln.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):_se.call(t,e)};Ln.prototype.listenerCount=_se;function _se(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}o(_se,"listenerCount");Ln.prototype.eventNames=o(function(){return this._eventsCount>0?h8(this._events):[]},"eventNames");function wse(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}o(wse,"arrayClone");function ADe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}o(ADe,"spliceOne");function IDe(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}o(IDe,"unwrapListeners");function TDe(t,e){return new Promise(function(r,n){function i(a){t.removeListener(e,s),n(a)}o(i,"errorListener");function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}o(s,"resolver"),Ese(t,e,s,{once:!0}),e!=="error"&&RDe(t,i,{once:!0})})}o(TDe,"once");function RDe(t,e,r){typeof t.on=="function"&&Ese(t,"error",e,r)}o(RDe,"addErrorHandlerIfEventEmitter");function Ese(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,o(function i(s){n.once&&t.removeEventListener(e,i),r(s)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}o(Ese,"eventTargetAgnosticAddListener")});var jP=j((OIt,Sse)=>{m();g();Sse.exports=Hb().EventEmitter});var dw=j(()=>{m();g()});var Rse=j((LIt,Tse)=>{"use strict";m();g();function Ase(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}o(Ase,"ownKeys");function ODe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ase(Object(r),!0).forEach(function(n){NDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ase(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}o(ODe,"_objectSpread");function NDe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(NDe,"_defineProperty");function MDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(MDe,"_classCallCheck");function Ise(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o(Ise,"_defineProperties");function CDe(t,e,r){return e&&Ise(t.prototype,e),r&&Ise(t,r),t}o(CDe,"_createClass");var kDe=fi(),m8=kDe.Buffer,BDe=dw(),zP=BDe.inspect,PDe=zP&&zP.custom||"inspect";function LDe(t,e,r){m8.prototype.copy.call(t,e,r)}o(LDe,"copyBuffer");Tse.exports=function(){function t(){MDe(this,t),this.head=null,this.tail=null,this.length=0}return o(t,"BufferList"),CDe(t,[{key:"push",value:o(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:o(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:o(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift")},{key:"clear",value:o(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:o(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join")},{key:"concat",value:o(function(r){if(this.length===0)return m8.alloc(0);for(var n=m8.allocUnsafe(r>>>0),i=this.head,s=0;i;)LDe(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat")},{key:"consume",value:o(function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i},"consume")},{key:"first",value:o(function(){return this.head.data},"first")},{key:"_getString",value:o(function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var a=n.data,c=r>a.length?a.length:r;if(c===a.length?s+=a:s+=a.slice(0,r),r-=c,r===0){c===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(c));break}++i}return this.length-=i,s},"_getString")},{key:"_getBuffer",value:o(function(r){var n=m8.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,c=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,c),r-=c,r===0){c===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(c));break}++s}return this.length-=s,n},"_getBuffer")},{key:PDe,value:o(function(r,n){return zP(this,ODe({},n,{depth:0,customInspect:!1}))},"value")}]),t}()});var GP=j((HIt,Nse)=>{"use strict";m();g();function DDe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(KP,this,t)):process.nextTick(KP,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(g8,r):(r._writableState.errorEmitted=!0,process.nextTick(Ose,r,s)):process.nextTick(Ose,r,s):e?(process.nextTick(g8,r),e(s)):process.nextTick(g8,r)}),this)}o(DDe,"destroy");function Ose(t,e){KP(t,e),g8(t)}o(Ose,"emitErrorAndCloseNT");function g8(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}o(g8,"emitCloseNT");function UDe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}o(UDe,"undestroy");function KP(t,e){t.emit("error",e)}o(KP,"emitErrorNT");function FDe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}o(FDe,"errorOrDestroy");Nse.exports={destroy:DDe,undestroy:UDe,errorOrDestroy:FDe}});var zg=j((zIt,kse)=>{"use strict";m();g();function HDe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}o(HDe,"_inheritsLoose");var Cse={};function If(t,e,r){r||(r=Error);function n(s,a,c){return typeof e=="string"?e:e(s,a,c)}o(n,"getMessage");var i=function(s){HDe(a,s);function a(c,l,h){return s.call(this,n(c,l,h))||this}return o(a,"NodeError"),a}(r);i.prototype.name=r.name,i.prototype.code=t,Cse[t]=i}o(If,"createErrorType");function Mse(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(Mse,"oneOf");function qDe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(qDe,"startsWith");function VDe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(VDe,"endsWith");function jDe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(jDe,"includes");If("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);If("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&qDe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(VDe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Mse(e,"type"));else{var s=jDe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Mse(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);If("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");If("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});If("ERR_STREAM_PREMATURE_CLOSE","Premature close");If("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});If("ERR_MULTIPLE_CALLBACK","Callback called multiple times");If("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");If("ERR_STREAM_WRITE_AFTER_END","write after end");If("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);If("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);If("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");kse.exports.codes=Cse});var $P=j((WIt,Bse)=>{"use strict";m();g();var zDe=zg().codes.ERR_INVALID_OPT_VALUE;function KDe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}o(KDe,"highWaterMarkFrom");function GDe(t,e,r,n){var i=KDe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new zDe(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}o(GDe,"getHighWaterMark");Bse.exports={getHighWaterMark:GDe}});var YP=j((JIt,Pse)=>{m();g();Pse.exports=$De;function $De(t,e){if(WP("noDeprecation"))return t;var r=!1;function n(){if(!r){if(WP("throwDeprecation"))throw new Error(e);WP("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return o(n,"deprecated"),n}o($De,"deprecate");function WP(t){try{if(!self.localStorage)return!1}catch{return!1}var e=self.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}o(WP,"config")});var x8=j((rTt,qse)=>{"use strict";m();g();qse.exports=Ki;function Dse(t){var e=this;this.next=null,this.entry=null,this.finish=function(){vUe(e,t)}}o(Dse,"CorkedRequest");var qb;Ki.WritableState=pw;var WDe={deprecate:YP()},Use=jP(),b8=fi().Buffer,YDe=self.Uint8Array||function(){};function XDe(t){return b8.from(t)}o(XDe,"_uint8ArrayToBuffer");function ZDe(t){return b8.isBuffer(t)||t instanceof YDe}o(ZDe,"_isUint8Array");var ZP=GP(),JDe=$P(),QDe=JDe.getHighWaterMark,sp=zg().codes,eUe=sp.ERR_INVALID_ARG_TYPE,tUe=sp.ERR_METHOD_NOT_IMPLEMENTED,rUe=sp.ERR_MULTIPLE_CALLBACK,nUe=sp.ERR_STREAM_CANNOT_PIPE,iUe=sp.ERR_STREAM_DESTROYED,oUe=sp.ERR_STREAM_NULL_VALUES,sUe=sp.ERR_STREAM_WRITE_AFTER_END,aUe=sp.ERR_UNKNOWN_ENCODING,Vb=ZP.errorOrDestroy;Zt()(Ki,Use);function cUe(){}o(cUe,"nop");function pw(t,e,r){qb=qb||ap(),t=t||{},typeof r!="boolean"&&(r=e instanceof qb),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=QDe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){mUe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Dse(this)}o(pw,"WritableState");pw.prototype.getBuffer=o(function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r},"getBuffer");(function(){try{Object.defineProperty(pw.prototype,"buffer",{get:WDe.deprecate(o(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var y8;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y8=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ki,Symbol.hasInstance,{value:o(function(e){return y8.call(this,e)?!0:this!==Ki?!1:e&&e._writableState instanceof pw},"value")})):y8=o(function(e){return e instanceof this},"realHasInstance");function Ki(t){qb=qb||ap();var e=this instanceof qb;if(!e&&!y8.call(Ki,this))return new Ki(t);this._writableState=new pw(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Use.call(this)}o(Ki,"Writable");Ki.prototype.pipe=function(){Vb(this,new nUe)};function fUe(t,e){var r=new sUe;Vb(t,r),process.nextTick(e,r)}o(fUe,"writeAfterEnd");function uUe(t,e,r,n){var i;return r===null?i=new oUe:typeof r!="string"&&!e.objectMode&&(i=new eUe("chunk",["string","Buffer"],r)),i?(Vb(t,i),process.nextTick(n,i),!1):!0}o(uUe,"validChunk");Ki.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&ZDe(t);return s&&!b8.isBuffer(t)&&(t=XDe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=cUe),n.ending?fUe(this,r):(s||uUe(this,n,t,r))&&(n.pendingcb++,i=dUe(this,n,s,t,e,r)),i};Ki.prototype.cork=function(){this._writableState.corked++};Ki.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Fse(this,t))};Ki.prototype.setDefaultEncoding=o(function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new aUe(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");Object.defineProperty(Ki.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function lUe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=b8.from(e,r)),e}o(lUe,"decodeChunk");Object.defineProperty(Ki.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});function dUe(t,e,r,n,i,s){if(!r){var a=lUe(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var c=e.objectMode?1:n.length;e.length+=c;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else XP(t,e,!1,c,n,i,s);return l}o(dUe,"writeOrBuffer");function XP(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new iUe("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}o(XP,"doWrite");function hUe(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(hw,t,e),t._writableState.errorEmitted=!0,Vb(t,n)):(i(n),t._writableState.errorEmitted=!0,Vb(t,n),hw(t,e))}o(hUe,"onwriteError");function pUe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}o(pUe,"onwriteStateUpdate");function mUe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new rUe;if(pUe(r),e)hUe(t,r,n,e,i);else{var s=Hse(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Fse(t,r),n?process.nextTick(Lse,t,r,s,i):Lse(t,r,s,i)}}o(mUe,"onwrite");function Lse(t,e,r,n){r||gUe(t,e),e.pendingcb--,n(),hw(t,e)}o(Lse,"afterWrite");function gUe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}o(gUe,"onwriteDrain");function Fse(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,XP(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Dse(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,y=r.callback,p=e.objectMode?1:l.length;if(XP(t,e,!1,p,l,h,y),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}o(Fse,"clearBuffer");Ki.prototype._write=function(t,e,r){r(new tUe("_write()"))};Ki.prototype._writev=null;Ki.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||xUe(this,n,r),this};Object.defineProperty(Ki.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function Hse(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}o(Hse,"needFinish");function yUe(t,e){t._final(function(r){e.pendingcb--,r&&Vb(t,r),e.prefinished=!0,t.emit("prefinish"),hw(t,e)})}o(yUe,"callFinal");function bUe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(yUe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}o(bUe,"prefinish");function hw(t,e){var r=Hse(e);if(r&&(bUe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}o(hw,"finishMaybe");function xUe(t,e,r){e.ending=!0,hw(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}o(xUe,"endWritable");function vUe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}o(vUe,"onCorkedFinish");Object.defineProperty(Ki.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:o(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});Ki.prototype.destroy=ZP.destroy;Ki.prototype._undestroy=ZP.undestroy;Ki.prototype._destroy=function(t,e){e(t)}});var ap=j((sTt,jse)=>{"use strict";m();g();var _Ue=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};jse.exports=Yl;var Vse=w8(),QP=x8();Zt()(Yl,Vse);for(JP=_Ue(QP.prototype),v8=0;v8<JP.length;v8++)_8=JP[v8],Yl.prototype[_8]||(Yl.prototype[_8]=QP.prototype[_8]);var JP,_8,v8;function Yl(t){if(!(this instanceof Yl))return new Yl(t);Vse.call(this,t),QP.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",wUe)))}o(Yl,"Duplex");Object.defineProperty(Yl.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(Yl.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(Yl.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function wUe(){this._writableState.ended||process.nextTick(EUe,this)}o(wUe,"onend");function EUe(t){t.end()}o(EUe,"onEndNT");Object.defineProperty(Yl.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:o(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")})});var jb=j(Kse=>{"use strict";m();g();var tL=pr().Buffer,zse=tL.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function SUe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}o(SUe,"_normalizeEncoding");function AUe(t){var e=SUe(t);if(typeof e!="string"&&(tL.isEncoding===zse||!zse(t)))throw new Error("Unknown encoding: "+t);return e||t}o(AUe,"normalizeEncoding");Kse.StringDecoder=mw;function mw(t){this.encoding=AUe(t);var e;switch(this.encoding){case"utf16le":this.text=MUe,this.end=CUe,e=4;break;case"utf8":this.fillLast=RUe,e=4;break;case"base64":this.text=kUe,this.end=BUe,e=3;break;default:this.write=PUe,this.end=LUe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=tL.allocUnsafe(e)}o(mw,"StringDecoder");mw.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};mw.prototype.end=NUe;mw.prototype.text=OUe;mw.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function eL(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}o(eL,"utf8CheckByte");function IUe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=eL(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=eL(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=eL(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}o(IUe,"utf8CheckIncomplete");function TUe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}o(TUe,"utf8CheckExtraBytes");function RUe(t){var e=this.lastTotal-this.lastNeed,r=TUe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}o(RUe,"utf8FillLast");function OUe(t,e){var r=IUe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}o(OUe,"utf8Text");function NUe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}o(NUe,"utf8End");function MUe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}o(MUe,"utf16Text");function CUe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}o(CUe,"utf16End");function kUe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}o(kUe,"base64Text");function BUe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}o(BUe,"base64End");function PUe(t){return t.toString(this.encoding)}o(PUe,"simpleWrite");function LUe(t){return t&&t.length?this.write(t):""}o(LUe,"simpleEnd")});var gw=j((pTt,Wse)=>{"use strict";m();g();var Gse=zg().codes.ERR_STREAM_PREMATURE_CLOSE;function DUe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}o(DUe,"once");function UUe(){}o(UUe,"noop");function FUe(t){return t.setHeader&&typeof t.abort=="function"}o(FUe,"isRequest");function $se(t,e,r){if(typeof e=="function")return $se(t,null,e);e||(e={}),r=DUe(r||UUe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=o(function(){t.writable||c()},"onlegacyfinish"),a=t._writableState&&t._writableState.finished,c=o(function(){i=!1,a=!0,n||r.call(t)},"onfinish"),l=t._readableState&&t._readableState.endEmitted,h=o(function(){n=!1,l=!0,i||r.call(t)},"onend"),y=o(function(O){r.call(t,O)},"onerror"),p=o(function(){var O;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(O=new Gse),r.call(t,O);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(O=new Gse),r.call(t,O)},"onclose"),E=o(function(){t.req.on("finish",c)},"onrequest");return FUe(t)?(t.on("complete",c),t.on("abort",p),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",c),e.error!==!1&&t.on("error",y),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",E),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",h),t.removeListener("error",y),t.removeListener("close",p)}}o($se,"eos");Wse.exports=$se});var Xse=j((bTt,Yse)=>{"use strict";m();g();var E8;function cp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(cp,"_defineProperty");var HUe=gw(),fp=Symbol("lastResolve"),Kg=Symbol("lastReject"),yw=Symbol("error"),S8=Symbol("ended"),Gg=Symbol("lastPromise"),rL=Symbol("handlePromise"),$g=Symbol("stream");function up(t,e){return{value:t,done:e}}o(up,"createIterResult");function qUe(t){var e=t[fp];if(e!==null){var r=t[$g].read();r!==null&&(t[Gg]=null,t[fp]=null,t[Kg]=null,e(up(r,!1)))}}o(qUe,"readAndResolve");function VUe(t){process.nextTick(qUe,t)}o(VUe,"onReadable");function jUe(t,e){return function(r,n){t.then(function(){if(e[S8]){r(up(void 0,!0));return}e[rL](r,n)},n)}}o(jUe,"wrapForNext");var zUe=Object.getPrototypeOf(function(){}),KUe=Object.setPrototypeOf((E8={get stream(){return this[$g]},next:o(function(){var e=this,r=this[yw];if(r!==null)return Promise.reject(r);if(this[S8])return Promise.resolve(up(void 0,!0));if(this[$g].destroyed)return new Promise(function(a,c){process.nextTick(function(){e[yw]?c(e[yw]):a(up(void 0,!0))})});var n=this[Gg],i;if(n)i=new Promise(jUe(n,this));else{var s=this[$g].read();if(s!==null)return Promise.resolve(up(s,!1));i=new Promise(this[rL])}return this[Gg]=i,i},"next")},cp(E8,Symbol.asyncIterator,function(){return this}),cp(E8,"return",o(function(){var e=this;return new Promise(function(r,n){e[$g].destroy(null,function(i){if(i){n(i);return}r(up(void 0,!0))})})},"_return")),E8),zUe),GUe=o(function(e){var r,n=Object.create(KUe,(r={},cp(r,$g,{value:e,writable:!0}),cp(r,fp,{value:null,writable:!0}),cp(r,Kg,{value:null,writable:!0}),cp(r,yw,{value:null,writable:!0}),cp(r,S8,{value:e._readableState.endEmitted,writable:!0}),cp(r,rL,{value:o(function(s,a){var c=n[$g].read();c?(n[Gg]=null,n[fp]=null,n[Kg]=null,s(up(c,!1))):(n[fp]=s,n[Kg]=a)},"value"),writable:!0}),r));return n[Gg]=null,HUe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Kg];s!==null&&(n[Gg]=null,n[fp]=null,n[Kg]=null,s(i)),n[yw]=i;return}var a=n[fp];a!==null&&(n[Gg]=null,n[fp]=null,n[Kg]=null,a(up(void 0,!0))),n[S8]=!0}),e.on("readable",VUe.bind(null,n)),n},"createReadableStreamAsyncIterator");Yse.exports=GUe});var Jse=j((wTt,Zse)=>{m();g();Zse.exports=function(){throw new Error("Readable.from is not available in the browser")}});var w8=j((ITt,cae)=>{"use strict";m();g();cae.exports=tn;var zb;tn.ReadableState=rae;var ATt=Hb().EventEmitter,tae=o(function(e,r){return e.listeners(r).length},"EElistenerCount"),xw=jP(),A8=fi().Buffer,$Ue=self.Uint8Array||function(){};function WUe(t){return A8.from(t)}o(WUe,"_uint8ArrayToBuffer");function YUe(t){return A8.isBuffer(t)||t instanceof $Ue}o(YUe,"_isUint8Array");var nL=dw(),kr;nL&&nL.debuglog?kr=nL.debuglog("stream"):kr=o(function(){},"debug");var XUe=Rse(),uL=GP(),ZUe=$P(),JUe=ZUe.getHighWaterMark,I8=zg().codes,QUe=I8.ERR_INVALID_ARG_TYPE,eFe=I8.ERR_STREAM_PUSH_AFTER_EOF,tFe=I8.ERR_METHOD_NOT_IMPLEMENTED,rFe=I8.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Kb,iL,oL;Zt()(tn,xw);var bw=uL.errorOrDestroy,sL=["error","close","destroy","pause","resume"];function nFe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}o(nFe,"prependListener");function rae(t,e,r){zb=zb||ap(),t=t||{},typeof r!="boolean"&&(r=e instanceof zb),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=JUe(this,t,"readableHighWaterMark",r),this.buffer=new XUe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Kb||(Kb=jb().StringDecoder),this.decoder=new Kb(t.encoding),this.encoding=t.encoding)}o(rae,"ReadableState");function tn(t){if(zb=zb||ap(),!(this instanceof tn))return new tn(t);var e=this instanceof zb;this._readableState=new rae(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),xw.call(this)}o(tn,"Readable");Object.defineProperty(tn.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:o(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});tn.prototype.destroy=uL.destroy;tn.prototype._undestroy=uL.undestroy;tn.prototype._destroy=function(t,e){e(t)};tn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=A8.from(t,e),e=""),n=!0),nae(this,t,e,!1,n)};tn.prototype.unshift=function(t){return nae(this,t,null,!0,!1)};function nae(t,e,r,n,i){kr("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,sFe(t,s);else{var a;if(i||(a=iFe(s,e)),a)bw(t,a);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==A8.prototype&&(e=WUe(e)),n)s.endEmitted?bw(t,new rFe):aL(t,s,e,!0);else if(s.ended)bw(t,new eFe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?aL(t,s,e,!1):fL(t,s)):aL(t,s,e,!1)}else n||(s.reading=!1,fL(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}o(nae,"readableAddChunk");function aL(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&T8(t)),fL(t,e)}o(aL,"addChunk");function iFe(t,e){var r;return!YUe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new QUe("chunk",["string","Buffer","Uint8Array"],e)),r}o(iFe,"chunkInvalid");tn.prototype.isPaused=function(){return this._readableState.flowing===!1};tn.prototype.setEncoding=function(t){Kb||(Kb=jb().StringDecoder);var e=new Kb(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Qse=1073741824;function oFe(t){return t>=Qse?t=Qse:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}o(oFe,"computeNewHighWaterMark");function eae(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=oFe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}o(eae,"howMuchToRead");tn.prototype.read=function(t){kr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return kr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?cL(this):T8(this),null;if(t=eae(t,e),t===0&&e.ended)return e.length===0&&cL(this),null;var n=e.needReadable;kr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,kr("length less than watermark",n)),e.ended||e.reading?(n=!1,kr("reading or ended",n)):n&&(kr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=eae(r,e)));var i;return t>0?i=sae(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&cL(this)),i!==null&&this.emit("data",i),i};function sFe(t,e){if(kr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?T8(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,iae(t)))}}o(sFe,"onEofChunk");function T8(t){var e=t._readableState;kr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(kr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(iae,t))}o(T8,"emitReadable");function iae(t){var e=t._readableState;kr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,lL(t)}o(iae,"emitReadable_");function fL(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(aFe,t,e))}o(fL,"maybeReadMore");function aFe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(kr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}o(aFe,"maybeReadMore_");tn.prototype._read=function(t){bw(this,new tFe("_read()"))};tn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,kr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?c:N;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(k,C){kr("onunpipe"),k===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,y())}o(a,"onunpipe");function c(){kr("onend"),t.end()}o(c,"onend");var l=cFe(r);t.on("drain",l);var h=!1;function y(){kr("cleanup"),t.removeListener("close",I),t.removeListener("finish",O),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",N),r.removeListener("data",p),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}o(y,"cleanup"),r.on("data",p);function p(k){kr("ondata");var C=t.write(k);kr("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&aae(n.pipes,t)!==-1)&&!h&&(kr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}o(p,"ondata");function E(k){kr("onerror",k),N(),t.removeListener("error",E),tae(t,"error")===0&&bw(t,k)}o(E,"onerror"),nFe(t,"error",E);function I(){t.removeListener("finish",O),N()}o(I,"onclose"),t.once("close",I);function O(){kr("onfinish"),t.removeListener("close",I),N()}o(O,"onfinish"),t.once("finish",O);function N(){kr("unpipe"),r.unpipe(t)}return o(N,"unpipe"),t.emit("pipe",r),n.flowing||(kr("pipe resume"),r.resume()),t};function cFe(t){return o(function(){var r=t._readableState;kr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&tae(t,"data")&&(r.flowing=!0,lL(t))},"pipeOnDrainFunctionResult")}o(cFe,"pipeOnDrain");tn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=aae(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};tn.prototype.on=function(t,e){var r=xw.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,kr("on readable",n.length,n.reading),n.length?T8(this):n.reading||process.nextTick(fFe,this)),r};tn.prototype.addListener=tn.prototype.on;tn.prototype.removeListener=function(t,e){var r=xw.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(oae,this),r};tn.prototype.removeAllListeners=function(t){var e=xw.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(oae,this),e};function oae(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}o(oae,"updateReadableListening");function fFe(t){kr("readable nexttick read 0"),t.read(0)}o(fFe,"nReadingNextTick");tn.prototype.resume=function(){var t=this._readableState;return t.flowing||(kr("resume"),t.flowing=!t.readableListening,uFe(this,t)),t.paused=!1,this};function uFe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(lFe,t,e))}o(uFe,"resume");function lFe(t,e){kr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),lL(t),e.flowing&&!e.reading&&t.read(0)}o(lFe,"resume_");tn.prototype.pause=function(){return kr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(kr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function lL(t){var e=t._readableState;for(kr("flow",e.flowing);e.flowing&&t.read()!==null;);}o(lL,"flow");tn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(kr("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(kr("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var c=e.push(a);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=o(function(c){return o(function(){return t[c].apply(t,arguments)},"methodWrapReturnFunction")},"methodWrap")(i));for(var s=0;s<sL.length;s++)t.on(sL[s],this.emit.bind(this,sL[s]));return this._read=function(a){kr("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(tn.prototype[Symbol.asyncIterator]=function(){return iL===void 0&&(iL=Xse()),iL(this)});Object.defineProperty(tn.prototype,"readableHighWaterMark",{enumerable:!1,get:o(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(tn.prototype,"readableBuffer",{enumerable:!1,get:o(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(tn.prototype,"readableFlowing",{enumerable:!1,get:o(function(){return this._readableState.flowing},"get"),set:o(function(e){this._readableState&&(this._readableState.flowing=e)},"set")});tn._fromList=sae;Object.defineProperty(tn.prototype,"readableLength",{enumerable:!1,get:o(function(){return this._readableState.length},"get")});function sae(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}o(sae,"fromList");function cL(t){var e=t._readableState;kr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(dFe,e,t))}o(cL,"endReadable");function dFe(t,e){if(kr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}o(dFe,"endReadableNT");typeof Symbol=="function"&&(tn.from=function(t,e){return oL===void 0&&(oL=Jse()),oL(tn,t,e)});function aae(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}o(aae,"indexOf")});var N8=j((NTt,uae)=>{"use strict";m();g();uae.exports=vh;var R8=zg().codes,hFe=R8.ERR_METHOD_NOT_IMPLEMENTED,pFe=R8.ERR_MULTIPLE_CALLBACK,mFe=R8.ERR_TRANSFORM_ALREADY_TRANSFORMING,gFe=R8.ERR_TRANSFORM_WITH_LENGTH_0,O8=ap();Zt()(vh,O8);function yFe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new pFe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}o(yFe,"afterTransform");function vh(t){if(!(this instanceof vh))return new vh(t);O8.call(this,t),this._transformState={afterTransform:yFe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",bFe)}o(vh,"Transform");function bFe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){fae(t,e,r)}):fae(this,null,null)}o(bFe,"prefinish");vh.prototype.push=function(t,e){return this._transformState.needTransform=!1,O8.prototype.push.call(this,t,e)};vh.prototype._transform=function(t,e,r){r(new hFe("_transform()"))};vh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};vh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};vh.prototype._destroy=function(t,e){O8.prototype._destroy.call(this,t,function(r){e(r)})};function fae(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new gFe;if(t._transformState.transforming)throw new mFe;return t.push(null)}o(fae,"done")});var dL=j((BTt,dae)=>{"use strict";m();g();dae.exports=vw;var lae=N8();Zt()(vw,lae);function vw(t){if(!(this instanceof vw))return new vw(t);lae.call(this,t)}o(vw,"PassThrough");vw.prototype._transform=function(t,e,r){r(null,t)}});var pL=j((UTt,gae)=>{"use strict";m();g();var hL;function xFe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}o(xFe,"once");var mae=zg().codes,vFe=mae.ERR_MISSING_ARGS,_Fe=mae.ERR_STREAM_DESTROYED;function hae(t){if(t)throw t}o(hae,"noop");function wFe(t){return t.setHeader&&typeof t.abort=="function"}o(wFe,"isRequest");function EFe(t,e,r,n){n=xFe(n);var i=!1;t.on("close",function(){i=!0}),hL===void 0&&(hL=gw()),hL(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,wFe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new _Fe("pipe"))}}}o(EFe,"destroyer");function pae(t){t()}o(pae,"call");function SFe(t,e){return t.pipe(e)}o(SFe,"pipe");function AFe(t){return!t.length||typeof t[t.length-1]!="function"?hae:t.pop()}o(AFe,"popCallback");function IFe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=AFe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new vFe("streams");var i,s=e.map(function(a,c){var l=c<e.length-1,h=c>0;return EFe(a,l,h,function(y){i||(i=y),y&&s.forEach(pae),!l&&(s.forEach(pae),n(i))})});return e.reduce(SFe)}o(IFe,"pipeline");gae.exports=IFe});var bae=j((Tf,yae)=>{m();g();Tf=yae.exports=w8();Tf.Stream=Tf;Tf.Readable=Tf;Tf.Writable=x8();Tf.Duplex=ap();Tf.Transform=N8();Tf.PassThrough=dL();Tf.finished=gw();Tf.pipeline=pL()});var mL=j((zTt,vae)=>{"use strict";m();g();var M8=pr().Buffer,xae=bae().Transform,TFe=Zt();function RFe(t,e){if(!M8.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}o(RFe,"throwIfNotStringOrBuffer");function lp(t){xae.call(this),this._block=M8.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o(lp,"HashBase");TFe(lp,xae);lp.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};lp.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};lp.prototype.update=function(t,e){if(RFe(t,"Data"),this._finalized)throw new Error("Digest already called");M8.isBuffer(t)||(t=M8.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this};lp.prototype._update=function(){throw new Error("_update is not implemented")};lp.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};lp.prototype._digest=function(){throw new Error("_digest is not implemented")};vae.exports=lp});var B8=j((WTt,wae)=>{"use strict";m();g();var OFe=Zt(),_ae=mL(),NFe=pr().Buffer,MFe=new Array(16);function C8(){_ae.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}o(C8,"MD5");OFe(C8,_ae);C8.prototype._update=function(){for(var t=MFe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d;r=Zs(r,n,i,s,t[0],3614090360,7),s=Zs(s,r,n,i,t[1],3905402710,12),i=Zs(i,s,r,n,t[2],606105819,17),n=Zs(n,i,s,r,t[3],3250441966,22),r=Zs(r,n,i,s,t[4],4118548399,7),s=Zs(s,r,n,i,t[5],1200080426,12),i=Zs(i,s,r,n,t[6],2821735955,17),n=Zs(n,i,s,r,t[7],4249261313,22),r=Zs(r,n,i,s,t[8],1770035416,7),s=Zs(s,r,n,i,t[9],2336552879,12),i=Zs(i,s,r,n,t[10],4294925233,17),n=Zs(n,i,s,r,t[11],2304563134,22),r=Zs(r,n,i,s,t[12],1804603682,7),s=Zs(s,r,n,i,t[13],4254626195,12),i=Zs(i,s,r,n,t[14],2792965006,17),n=Zs(n,i,s,r,t[15],1236535329,22),r=Js(r,n,i,s,t[1],4129170786,5),s=Js(s,r,n,i,t[6],3225465664,9),i=Js(i,s,r,n,t[11],643717713,14),n=Js(n,i,s,r,t[0],3921069994,20),r=Js(r,n,i,s,t[5],3593408605,5),s=Js(s,r,n,i,t[10],38016083,9),i=Js(i,s,r,n,t[15],3634488961,14),n=Js(n,i,s,r,t[4],3889429448,20),r=Js(r,n,i,s,t[9],568446438,5),s=Js(s,r,n,i,t[14],3275163606,9),i=Js(i,s,r,n,t[3],4107603335,14),n=Js(n,i,s,r,t[8],1163531501,20),r=Js(r,n,i,s,t[13],2850285829,5),s=Js(s,r,n,i,t[2],4243563512,9),i=Js(i,s,r,n,t[7],1735328473,14),n=Js(n,i,s,r,t[12],2368359562,20),r=Qs(r,n,i,s,t[5],4294588738,4),s=Qs(s,r,n,i,t[8],2272392833,11),i=Qs(i,s,r,n,t[11],1839030562,16),n=Qs(n,i,s,r,t[14],4259657740,23),r=Qs(r,n,i,s,t[1],2763975236,4),s=Qs(s,r,n,i,t[4],1272893353,11),i=Qs(i,s,r,n,t[7],4139469664,16),n=Qs(n,i,s,r,t[10],3200236656,23),r=Qs(r,n,i,s,t[13],681279174,4),s=Qs(s,r,n,i,t[0],3936430074,11),i=Qs(i,s,r,n,t[3],3572445317,16),n=Qs(n,i,s,r,t[6],76029189,23),r=Qs(r,n,i,s,t[9],3654602809,4),s=Qs(s,r,n,i,t[12],3873151461,11),i=Qs(i,s,r,n,t[15],530742520,16),n=Qs(n,i,s,r,t[2],3299628645,23),r=ea(r,n,i,s,t[0],4096336452,6),s=ea(s,r,n,i,t[7],1126891415,10),i=ea(i,s,r,n,t[14],2878612391,15),n=ea(n,i,s,r,t[5],4237533241,21),r=ea(r,n,i,s,t[12],1700485571,6),s=ea(s,r,n,i,t[3],2399980690,10),i=ea(i,s,r,n,t[10],4293915773,15),n=ea(n,i,s,r,t[1],2240044497,21),r=ea(r,n,i,s,t[8],1873313359,6),s=ea(s,r,n,i,t[15],4264355552,10),i=ea(i,s,r,n,t[6],2734768916,15),n=ea(n,i,s,r,t[13],1309151649,21),r=ea(r,n,i,s,t[4],4149444226,6),s=ea(s,r,n,i,t[11],3174756917,10),i=ea(i,s,r,n,t[2],718787259,15),n=ea(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0};C8.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=NFe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function k8(t,e){return t<<e|t>>>32-e}o(k8,"rotl");function Zs(t,e,r,n,i,s,a){return k8(t+(e&r|~e&n)+i+s|0,a)+e|0}o(Zs,"fnF");function Js(t,e,r,n,i,s,a){return k8(t+(e&n|r&~n)+i+s|0,a)+e|0}o(Js,"fnG");function Qs(t,e,r,n,i,s,a){return k8(t+(e^r^n)+i+s|0,a)+e|0}o(Qs,"fnH");function ea(t,e,r,n,i,s,a){return k8(t+(r^(e|~n))+i+s|0,a)+e|0}o(ea,"fnI");wae.exports=C8});var yL=j((JTt,Oae)=>{"use strict";m();g();var gL=fi().Buffer,CFe=Zt(),Rae=mL(),kFe=new Array(16),_w=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ww=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ew=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Sw=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Aw=[0,1518500249,1859775393,2400959708,2840853838],Iw=[1352829926,1548603684,1836072691,2053994217,0];function P8(){Rae.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(P8,"RIPEMD160");CFe(P8,Rae);P8.prototype._update=function(){for(var t=kFe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=this._a|0,l=this._b|0,h=this._c|0,y=this._d|0,p=this._e|0,E=0;E<80;E+=1){var I,O;E<16?(I=Eae(r,n,i,s,a,t[_w[E]],Aw[0],Ew[E]),O=Tae(c,l,h,y,p,t[ww[E]],Iw[0],Sw[E])):E<32?(I=Sae(r,n,i,s,a,t[_w[E]],Aw[1],Ew[E]),O=Iae(c,l,h,y,p,t[ww[E]],Iw[1],Sw[E])):E<48?(I=Aae(r,n,i,s,a,t[_w[E]],Aw[2],Ew[E]),O=Aae(c,l,h,y,p,t[ww[E]],Iw[2],Sw[E])):E<64?(I=Iae(r,n,i,s,a,t[_w[E]],Aw[3],Ew[E]),O=Sae(c,l,h,y,p,t[ww[E]],Iw[3],Sw[E])):(I=Tae(r,n,i,s,a,t[_w[E]],Aw[4],Ew[E]),O=Eae(c,l,h,y,p,t[ww[E]],Iw[4],Sw[E])),r=a,a=s,s=Wg(i,10),i=n,n=I,c=p,p=y,y=Wg(h,10),h=l,l=O}var N=this._b+i+y|0;this._b=this._c+s+p|0,this._c=this._d+a+c|0,this._d=this._e+r+l|0,this._e=this._a+n+h|0,this._a=N};P8.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=gL.alloc?gL.alloc(20):new gL(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Wg(t,e){return t<<e|t>>>32-e}o(Wg,"rotl");function Eae(t,e,r,n,i,s,a,c){return Wg(t+(e^r^n)+s+a|0,c)+i|0}o(Eae,"fn1");function Sae(t,e,r,n,i,s,a,c){return Wg(t+(e&r|~e&n)+s+a|0,c)+i|0}o(Sae,"fn2");function Aae(t,e,r,n,i,s,a,c){return Wg(t+((e|~r)^n)+s+a|0,c)+i|0}o(Aae,"fn3");function Iae(t,e,r,n,i,s,a,c){return Wg(t+(e&n|r&~n)+s+a|0,c)+i|0}o(Iae,"fn4");function Tae(t,e,r,n,i,s,a,c){return Wg(t+(e^(r|~n))+s+a|0,c)+i|0}o(Tae,"fn5");Oae.exports=P8});var Mae=j((rRt,Nae)=>{m();g();var BFe={}.toString;Nae.exports=Array.isArray||function(t){return BFe.call(t)=="[object Array]"}});var dp=j((oRt,Cae)=>{"use strict";m();g();Cae.exports=TypeError});var bL=j((cRt,kae)=>{"use strict";m();g();kae.exports=Object});var L8=j((lRt,Bae)=>{"use strict";m();g();Bae.exports=Error});var D8=j((pRt,Pae)=>{"use strict";m();g();Pae.exports=EvalError});var U8=j((yRt,Lae)=>{"use strict";m();g();Lae.exports=RangeError});var F8=j((vRt,Dae)=>{"use strict";m();g();Dae.exports=ReferenceError});var Tw=j((ERt,Uae)=>{"use strict";m();g();Uae.exports=SyntaxError});var H8=j((IRt,Fae)=>{"use strict";m();g();Fae.exports=URIError});var qae=j((ORt,Hae)=>{"use strict";m();g();Hae.exports=Math.abs});var jae=j((CRt,Vae)=>{"use strict";m();g();Vae.exports=Math.floor});var Kae=j((PRt,zae)=>{"use strict";m();g();zae.exports=Math.max});var $ae=j((URt,Gae)=>{"use strict";m();g();Gae.exports=Math.min});var Yae=j((qRt,Wae)=>{"use strict";m();g();Wae.exports=Math.pow});var Zae=j((zRt,Xae)=>{"use strict";m();g();Xae.exports=Math.round});var Qae=j(($Rt,Jae)=>{"use strict";m();g();Jae.exports=Number.isNaN||o(function(e){return e!==e},"isNaN")});var tce=j((ZRt,ece)=>{"use strict";m();g();var PFe=Qae();ece.exports=o(function(e){return PFe(e)||e===0?e:e<0?-1:1},"sign")});var nce=j((t7t,rce)=>{"use strict";m();g();rce.exports=Object.getOwnPropertyDescriptor});var Yg=j((i7t,ice)=>{"use strict";m();g();var q8=nce();if(q8)try{q8([],"length")}catch{q8=null}ice.exports=q8});var Rw=j((a7t,oce)=>{"use strict";m();g();var V8=Object.defineProperty||!1;if(V8)try{V8({},"a",{value:1})}catch{V8=!1}oce.exports=V8});var xL=j((u7t,sce)=>{"use strict";m();g();sce.exports=o(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==i||c.enumerable!==!0)return!1}return!0},"hasSymbols")});var j8=j((p7t,cce)=>{"use strict";m();g();var ace=typeof Symbol<"u"&&Symbol,LFe=xL();cce.exports=o(function(){return typeof ace!="function"||typeof Symbol!="function"||typeof ace("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:LFe()},"hasNativeSymbols")});var vL=j((b7t,fce)=>{"use strict";m();g();fce.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var _L=j((_7t,uce)=>{"use strict";m();g();var DFe=bL();uce.exports=DFe.getPrototypeOf||null});var hce=j((S7t,dce)=>{"use strict";m();g();var UFe="Function.prototype.bind called on incompatible ",FFe=Object.prototype.toString,HFe=Math.max,qFe="[object Function]",lce=o(function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},"concatty"),VFe=o(function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},"slicy"),jFe=o(function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},"joiny");dce.exports=o(function(e){var r=this;if(typeof r!="function"||FFe.apply(r)!==qFe)throw new TypeError(UFe+r);for(var n=VFe(arguments,1),i,s=o(function(){if(this instanceof i){var y=r.apply(this,lce(n,arguments));return Object(y)===y?y:this}return r.apply(e,lce(n,arguments))},"binder"),a=HFe(0,r.length-n.length),c=[],l=0;l<a;l++)c[l]="$"+l;if(i=Function("binder","return function ("+jFe(c,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=o(function(){},"Empty");h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},"bind")});var hp=j((R7t,pce)=>{"use strict";m();g();var zFe=hce();pce.exports=Function.prototype.bind||zFe});var z8=j((M7t,mce)=>{"use strict";m();g();mce.exports=Function.prototype.call});var K8=j((B7t,gce)=>{"use strict";m();g();gce.exports=Function.prototype.apply});var bce=j((D7t,yce)=>{"use strict";m();g();yce.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var wL=j((H7t,xce)=>{"use strict";m();g();var KFe=hp(),GFe=K8(),$Fe=z8(),WFe=bce();xce.exports=WFe||KFe.call($Fe,GFe)});var G8=j((j7t,vce)=>{"use strict";m();g();var YFe=hp(),XFe=dp(),ZFe=z8(),JFe=wL();vce.exports=o(function(e){if(e.length<1||typeof e[0]!="function")throw new XFe("a function is required");return JFe(YFe,ZFe,e)},"callBindBasic")});var Ice=j(($7t,Ace)=>{"use strict";m();g();var QFe=G8(),_ce=Yg(),Ece;try{Ece=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var EL=!!Ece&&_ce&&_ce(Object.prototype,"__proto__"),Sce=Object,wce=Sce.getPrototypeOf;Ace.exports=EL&&typeof EL.get=="function"?QFe([EL.get]):typeof wce=="function"?o(function(e){return wce(e==null?e:Sce(e))},"getDunder"):!1});var SL=j((Z7t,Nce)=>{"use strict";m();g();var Tce=vL(),Rce=_L(),Oce=Ice();Nce.exports=Tce?o(function(e){return Tce(e)},"getProto"):Rce?o(function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return Rce(e)},"getProto"):Oce?o(function(e){return Oce(e)},"getProto"):null});var $8=j((t9t,Mce)=>{"use strict";m();g();var eHe=Function.prototype.call,tHe=Object.prototype.hasOwnProperty,rHe=hp();Mce.exports=rHe.call(eHe,tHe)});var Uce=j((i9t,Dce)=>{"use strict";m();g();var Lr,nHe=bL(),iHe=L8(),oHe=D8(),sHe=U8(),aHe=F8(),Yb=Tw(),Wb=dp(),cHe=H8(),fHe=qae(),uHe=jae(),lHe=Kae(),dHe=$ae(),hHe=Yae(),pHe=Zae(),mHe=tce(),Pce=Function,AL=o(function(t){try{return Pce('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),Ow=Yg(),gHe=Rw(),IL=o(function(){throw new Wb},"throwTypeError"),yHe=Ow?function(){try{return arguments.callee,IL}catch{try{return Ow(arguments,"callee").get}catch{return IL}}}():IL,Gb=j8()(),$o=SL(),bHe=_L(),xHe=vL(),Lce=K8(),Nw=z8(),$b={},vHe=typeof Uint8Array>"u"||!$o?Lr:$o(Uint8Array),Xg={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Lr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Lr:ArrayBuffer,"%ArrayIteratorPrototype%":Gb&&$o?$o([][Symbol.iterator]()):Lr,"%AsyncFromSyncIteratorPrototype%":Lr,"%AsyncFunction%":$b,"%AsyncGenerator%":$b,"%AsyncGeneratorFunction%":$b,"%AsyncIteratorPrototype%":$b,"%Atomics%":typeof Atomics>"u"?Lr:Atomics,"%BigInt%":typeof BigInt>"u"?Lr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Lr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Lr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Lr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":iHe,"%eval%":eval,"%EvalError%":oHe,"%Float16Array%":typeof Float16Array>"u"?Lr:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Lr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Lr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Lr:FinalizationRegistry,"%Function%":Pce,"%GeneratorFunction%":$b,"%Int8Array%":typeof Int8Array>"u"?Lr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Lr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Lr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Gb&&$o?$o($o([][Symbol.iterator]())):Lr,"%JSON%":typeof JSON=="object"?JSON:Lr,"%Map%":typeof Map>"u"?Lr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Gb||!$o?Lr:$o(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":nHe,"%Object.getOwnPropertyDescriptor%":Ow,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Lr:Promise,"%Proxy%":typeof Proxy>"u"?Lr:Proxy,"%RangeError%":sHe,"%ReferenceError%":aHe,"%Reflect%":typeof Reflect>"u"?Lr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Lr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Gb||!$o?Lr:$o(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Lr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Gb&&$o?$o(""[Symbol.iterator]()):Lr,"%Symbol%":Gb?Symbol:Lr,"%SyntaxError%":Yb,"%ThrowTypeError%":yHe,"%TypedArray%":vHe,"%TypeError%":Wb,"%Uint8Array%":typeof Uint8Array>"u"?Lr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Lr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Lr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Lr:Uint32Array,"%URIError%":cHe,"%WeakMap%":typeof WeakMap>"u"?Lr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Lr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Lr:WeakSet,"%Function.prototype.call%":Nw,"%Function.prototype.apply%":Lce,"%Object.defineProperty%":gHe,"%Object.getPrototypeOf%":bHe,"%Math.abs%":fHe,"%Math.floor%":uHe,"%Math.max%":lHe,"%Math.min%":dHe,"%Math.pow%":hHe,"%Math.round%":pHe,"%Math.sign%":mHe,"%Reflect.getPrototypeOf%":xHe};if($o)try{null.error}catch(t){Cce=$o($o(t)),Xg["%Error.prototype%"]=Cce}var Cce,_He=o(function t(e){var r;if(e==="%AsyncFunction%")r=AL("async function () {}");else if(e==="%GeneratorFunction%")r=AL("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=AL("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&$o&&(r=$o(i.prototype))}return Xg[e]=r,r},"doEval"),kce={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Mw=hp(),W8=$8(),wHe=Mw.call(Nw,Array.prototype.concat),EHe=Mw.call(Lce,Array.prototype.splice),Bce=Mw.call(Nw,String.prototype.replace),Y8=Mw.call(Nw,String.prototype.slice),SHe=Mw.call(Nw,RegExp.prototype.exec),AHe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,IHe=/\\(\\)?/g,THe=o(function(e){var r=Y8(e,0,1),n=Y8(e,-1);if(r==="%"&&n!=="%")throw new Yb("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Yb("invalid intrinsic syntax, expected opening `%`");var i=[];return Bce(e,AHe,function(s,a,c,l){i[i.length]=c?Bce(l,IHe,"$1"):a||s}),i},"stringToPath"),RHe=o(function(e,r){var n=e,i;if(W8(kce,n)&&(i=kce[n],n="%"+i[0]+"%"),W8(Xg,n)){var s=Xg[n];if(s===$b&&(s=_He(n)),typeof s>"u"&&!r)throw new Wb("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Yb("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");Dce.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new Wb("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Wb('"allowMissing" argument must be a boolean');if(SHe(/^%?[^%]*%?$/,e)===null)throw new Yb("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=THe(e),i=n.length>0?n[0]:"",s=RHe("%"+i+"%",r),a=s.name,c=s.value,l=!1,h=s.alias;h&&(i=h[0],EHe(n,wHe([0,1],h)));for(var y=1,p=!0;y<n.length;y+=1){var E=n[y],I=Y8(E,0,1),O=Y8(E,-1);if((I==='"'||I==="'"||I==="`"||O==='"'||O==="'"||O==="`")&&I!==O)throw new Yb("property names with quotes must have matching quotes");if((E==="constructor"||!p)&&(l=!0),i+="."+E,a="%"+i+"%",W8(Xg,a))c=Xg[a];else if(c!=null){if(!(E in c)){if(!r)throw new Wb("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ow&&y+1>=n.length){var N=Ow(c,E);p=!!N,p&&"get"in N&&!("originalValue"in N.get)?c=N.get:c=c[E]}else p=W8(c,E),c=c[E];p&&!l&&(Xg[a]=c)}}return c},"GetIntrinsic")});var TL=j((c9t,qce)=>{"use strict";m();g();var Fce=Uce(),Hce=G8(),OHe=Hce([Fce("%String.prototype.indexOf%")]);qce.exports=o(function(e,r){var n=Fce(e,!!r);return typeof n=="function"&&OHe(e,".prototype.")>-1?Hce([n]):n},"callBoundIntrinsic")});var Kce=j((d9t,zce)=>{"use strict";m();g();var jce=Function.prototype.toString,Xb=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,OL,X8;if(typeof Xb=="function"&&typeof Object.defineProperty=="function")try{OL=Object.defineProperty({},"length",{get:o(function(){throw X8},"get")}),X8={},Xb(function(){throw 42},null,OL)}catch(t){t!==X8&&(Xb=null)}else Xb=null;var NHe=/^\s*class\b/,NL=o(function(e){try{var r=jce.call(e);return NHe.test(r)}catch{return!1}},"isES6ClassFunction"),RL=o(function(e){try{return NL(e)?!1:(jce.call(e),!0)}catch{return!1}},"tryFunctionToStr"),Z8=Object.prototype.toString,MHe="[object Object]",CHe="[object Function]",kHe="[object GeneratorFunction]",BHe="[object HTMLAllCollection]",PHe="[object HTML document.all class]",LHe="[object HTMLCollection]",DHe=typeof Symbol=="function"&&!!Symbol.toStringTag,UHe=!(0 in[,]),ML=o(function(){return!1},"isDocumentDotAll");typeof document=="object"&&(Vce=document.all,Z8.call(Vce)===Z8.call(document.all)&&(ML=o(function(e){if((UHe||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Z8.call(e);return(r===BHe||r===PHe||r===LHe||r===MHe)&&e("")==null}catch{}return!1},"isDocumentDotAll")));var Vce;zce.exports=o(Xb?function(e){if(ML(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Xb(e,null,OL)}catch(r){if(r!==X8)return!1}return!NL(e)&&RL(e)}:function(e){if(ML(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(DHe)return RL(e);if(NL(e))return!1;var r=Z8.call(e);return r!==CHe&&r!==kHe&&!/^\[object HTML/.test(r)?!1:RL(e)},"isCallable")});var Wce=j((g9t,$ce)=>{"use strict";m();g();var FHe=Kce(),HHe=Object.prototype.toString,Gce=Object.prototype.hasOwnProperty,qHe=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)Gce.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachArray"),VHe=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},"forEachString"),jHe=o(function(e,r,n){for(var i in e)Gce.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachObject");function zHe(t){return HHe.call(t)==="[object Array]"}o(zHe,"isArray");$ce.exports=o(function(e,r,n){if(!FHe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),zHe(e)?qHe(e,r,i):typeof e=="string"?VHe(e,r,i):jHe(e,r,i)},"forEach")});var Xce=j((v9t,Yce)=>{"use strict";m();g();Yce.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var Jce=j((E9t,Zce)=>{"use strict";m();g();var CL=Xce(),KHe=typeof globalThis>"u"?self:globalThis;Zce.exports=o(function(){for(var e=[],r=0;r<CL.length;r++)typeof KHe[CL[r]]=="function"&&(e[e.length]=CL[r]);return e},"availableTypedArrays")});var kL=j((T9t,efe)=>{"use strict";m();g();var Qce={foo:{}},GHe=Object;efe.exports=o(function(){return{__proto__:Qce}.foo===Qce.foo&&!({__proto__:null}instanceof GHe)},"hasProto")});var sfe=j((M9t,ofe)=>{"use strict";m();g();var Hr,$He=L8(),WHe=D8(),YHe=U8(),XHe=F8(),ex=Tw(),Qb=dp(),ZHe=H8(),ife=Function,BL=o(function(t){try{return ife('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),Zg=Object.getOwnPropertyDescriptor;if(Zg)try{Zg({},"")}catch{Zg=null}var PL=o(function(){throw new Qb},"throwTypeError"),JHe=Zg?function(){try{return arguments.callee,PL}catch{try{return Zg(arguments,"callee").get}catch{return PL}}}():PL,Zb=j8()(),QHe=kL()(),Wo=Object.getPrototypeOf||(QHe?function(t){return t.__proto__}:null),Jb={},eqe=typeof Uint8Array>"u"||!Wo?Hr:Wo(Uint8Array),Jg={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Hr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Hr:ArrayBuffer,"%ArrayIteratorPrototype%":Zb&&Wo?Wo([][Symbol.iterator]()):Hr,"%AsyncFromSyncIteratorPrototype%":Hr,"%AsyncFunction%":Jb,"%AsyncGenerator%":Jb,"%AsyncGeneratorFunction%":Jb,"%AsyncIteratorPrototype%":Jb,"%Atomics%":typeof Atomics>"u"?Hr:Atomics,"%BigInt%":typeof BigInt>"u"?Hr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Hr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Hr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Hr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$He,"%eval%":eval,"%EvalError%":WHe,"%Float32Array%":typeof Float32Array>"u"?Hr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Hr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Hr:FinalizationRegistry,"%Function%":ife,"%GeneratorFunction%":Jb,"%Int8Array%":typeof Int8Array>"u"?Hr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Hr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Hr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zb&&Wo?Wo(Wo([][Symbol.iterator]())):Hr,"%JSON%":typeof JSON=="object"?JSON:Hr,"%Map%":typeof Map>"u"?Hr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zb||!Wo?Hr:Wo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Hr:Promise,"%Proxy%":typeof Proxy>"u"?Hr:Proxy,"%RangeError%":YHe,"%ReferenceError%":XHe,"%Reflect%":typeof Reflect>"u"?Hr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Hr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zb||!Wo?Hr:Wo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Hr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zb&&Wo?Wo(""[Symbol.iterator]()):Hr,"%Symbol%":Zb?Symbol:Hr,"%SyntaxError%":ex,"%ThrowTypeError%":JHe,"%TypedArray%":eqe,"%TypeError%":Qb,"%Uint8Array%":typeof Uint8Array>"u"?Hr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Hr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Hr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Hr:Uint32Array,"%URIError%":ZHe,"%WeakMap%":typeof WeakMap>"u"?Hr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Hr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Hr:WeakSet};if(Wo)try{null.error}catch(t){tfe=Wo(Wo(t)),Jg["%Error.prototype%"]=tfe}var tfe,tqe=o(function t(e){var r;if(e==="%AsyncFunction%")r=BL("async function () {}");else if(e==="%GeneratorFunction%")r=BL("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=BL("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Wo&&(r=Wo(i.prototype))}return Jg[e]=r,r},"doEval"),rfe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Cw=hp(),J8=$8(),rqe=Cw.call(Function.call,Array.prototype.concat),nqe=Cw.call(Function.apply,Array.prototype.splice),nfe=Cw.call(Function.call,String.prototype.replace),Q8=Cw.call(Function.call,String.prototype.slice),iqe=Cw.call(Function.call,RegExp.prototype.exec),oqe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,sqe=/\\(\\)?/g,aqe=o(function(e){var r=Q8(e,0,1),n=Q8(e,-1);if(r==="%"&&n!=="%")throw new ex("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ex("invalid intrinsic syntax, expected opening `%`");var i=[];return nfe(e,oqe,function(s,a,c,l){i[i.length]=c?nfe(l,sqe,"$1"):a||s}),i},"stringToPath"),cqe=o(function(e,r){var n=e,i;if(J8(rfe,n)&&(i=rfe[n],n="%"+i[0]+"%"),J8(Jg,n)){var s=Jg[n];if(s===Jb&&(s=tqe(n)),typeof s>"u"&&!r)throw new Qb("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ex("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");ofe.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new Qb("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Qb('"allowMissing" argument must be a boolean');if(iqe(/^%?[^%]*%?$/,e)===null)throw new ex("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=aqe(e),i=n.length>0?n[0]:"",s=cqe("%"+i+"%",r),a=s.name,c=s.value,l=!1,h=s.alias;h&&(i=h[0],nqe(n,rqe([0,1],h)));for(var y=1,p=!0;y<n.length;y+=1){var E=n[y],I=Q8(E,0,1),O=Q8(E,-1);if((I==='"'||I==="'"||I==="`"||O==='"'||O==="'"||O==="`")&&I!==O)throw new ex("property names with quotes must have matching quotes");if((E==="constructor"||!p)&&(l=!0),i+="."+E,a="%"+i+"%",J8(Jg,a))c=Jg[a];else if(c!=null){if(!(E in c)){if(!r)throw new Qb("base intrinsic for "+e+" exists, but the property is not available.");return}if(Zg&&y+1>=n.length){var N=Zg(c,E);p=!!N,p&&"get"in N&&!("originalValue"in N.get)?c=N.get:c=c[E]}else p=J8(c,E),c=c[E];p&&!l&&(Jg[a]=c)}}return c},"GetIntrinsic")});var ufe=j((P9t,ffe)=>{"use strict";m();g();var afe=Rw(),fqe=Tw(),tx=dp(),cfe=Yg();ffe.exports=o(function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new tx("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new tx("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new tx("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new tx("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new tx("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new tx("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,l=!!cfe&&cfe(e,r);if(afe)afe(e,r,{configurable:a===null&&l?l.configurable:!a,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(c||!i&&!s&&!a)e[r]=n;else throw new fqe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},"defineDataProperty")});var DL=j((F9t,dfe)=>{"use strict";m();g();var LL=Rw(),lfe=o(function(){return!!LL},"hasPropertyDescriptors");lfe.hasArrayLengthDefineBug=o(function(){if(!LL)return null;try{return LL([],"length",{value:1}).length!==1}catch{return!0}},"hasArrayLengthDefineBug");dfe.exports=lfe});var yfe=j((j9t,gfe)=>{"use strict";m();g();var uqe=sfe(),hfe=ufe(),lqe=DL()(),pfe=Yg(),mfe=dp(),dqe=uqe("%Math.floor%");gfe.exports=o(function(e,r){if(typeof e!="function")throw new mfe("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||dqe(r)!==r)throw new mfe("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&pfe){var a=pfe(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(s=!1)}return(i||s||!n)&&(lqe?hfe(e,"length",r,!0,!0):hfe(e,"length",r)),e},"setFunctionLength")});var xfe=j(($9t,bfe)=>{"use strict";m();g();var hqe=hp(),pqe=K8(),mqe=wL();bfe.exports=o(function(){return mqe(hqe,pqe,arguments)},"applyBind")});var kw=j((Z9t,e5)=>{"use strict";m();g();var gqe=yfe(),vfe=Rw(),yqe=G8(),_fe=xfe();e5.exports=o(function(e){var r=yqe(arguments),n=e.length-(arguments.length-1);return gqe(r,1+(n>0?n:0),!0)},"callBind");vfe?vfe(e5.exports,"apply",{value:_fe}):e5.exports.apply=_fe});var Bw=j((tOt,wfe)=>{"use strict";m();g();var bqe=xL();wfe.exports=o(function(){return bqe()&&!!Symbol.toStringTag},"hasToStringTagShams")});var qL=j((oOt,Ife)=>{"use strict";m();g();var n5=Wce(),xqe=Jce(),Efe=kw(),FL=TL(),r5=Yg(),t5=SL(),vqe=FL("Object.prototype.toString"),Afe=Bw()(),Sfe=typeof globalThis>"u"?self:globalThis,UL=xqe(),HL=FL("String.prototype.slice"),_qe=FL("Array.prototype.indexOf",!0)||o(function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},"indexOf"),i5={__proto__:null};Afe&&r5&&t5?n5(UL,function(t){var e=new Sfe[t];if(Symbol.toStringTag in e&&t5){var r=t5(e),n=r5(r,Symbol.toStringTag);if(!n&&r){var i=t5(r);n=r5(i,Symbol.toStringTag)}i5["$"+t]=Efe(n.get)}}):n5(UL,function(t){var e=new Sfe[t],r=e.slice||e.set;r&&(i5["$"+t]=Efe(r))});var wqe=o(function(e){var r=!1;return n5(i5,function(n,i){if(!r)try{"$"+n(e)===i&&(r=HL(i,1))}catch{}}),r},"tryAllTypedArrays"),Eqe=o(function(e){var r=!1;return n5(i5,function(n,i){if(!r)try{n(e),r=HL(i,1)}catch{}}),r},"tryAllSlices");Ife.exports=o(function(e){if(!e||typeof e!="object")return!1;if(!Afe){var r=HL(vqe(e),8,-1);return _qe(UL,r)>-1?r:r!=="Object"?!1:Eqe(e)}return r5?wqe(e):null},"whichTypedArray")});var Rfe=j((fOt,Tfe)=>{"use strict";m();g();var Sqe=qL();Tfe.exports=o(function(e){return!!Sqe(e)},"isTypedArray")});var Nfe=j((hOt,Ofe)=>{"use strict";m();g();var Aqe=dp(),Iqe=TL(),Tqe=Iqe("TypedArray.prototype.buffer",!0),Rqe=Rfe();Ofe.exports=Tqe||o(function(e){if(!Rqe(e))throw new Aqe("Not a Typed Array");return e.buffer},"typedArrayBuffer")});var o5=j((yOt,Cfe)=>{"use strict";m();g();var Pu=pr().Buffer,Oqe=Mae(),Nqe=Nfe(),Mqe=ArrayBuffer.isView||o(function(e){try{return Nqe(e),!0}catch{return!1}},"isView"),Cqe=typeof Uint8Array<"u",Mfe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",kqe=Mfe&&(Pu.prototype instanceof Uint8Array||Pu.TYPED_ARRAY_SUPPORT);Cfe.exports=o(function(e,r){if(Pu.isBuffer(e))return e.constructor&&!("isBuffer"in e)?Pu.from(e):e;if(typeof e=="string")return Pu.from(e,r);if(Mfe&&Mqe(e)){if(e.byteLength===0)return Pu.alloc(0);if(kqe){var n=Pu.from(e.buffer,e.byteOffset,e.byteLength);if(n.byteLength===e.byteLength)return n}var i=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=Pu.from(i);if(s.length===e.byteLength)return s}if(Cqe&&e instanceof Uint8Array)return Pu.from(e);var a=Oqe(e);if(a)for(var c=0;c<e.length;c+=1){var l=e[c];if(typeof l!="number"||l<0||l>255||~~l!==l)throw new RangeError("Array items must be numbers in the range 0-255.")}if(a||Pu.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return Pu.from(e);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},"toBuffer")});var Qg=j((_Ot,kfe)=>{"use strict";m();g();var Bqe=pr().Buffer,Pqe=o5();function s5(t,e){this._block=Bqe.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}o(s5,"Hash");s5.prototype.update=function(t,e){t=Pqe(t,e||"utf8");for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,a=0;a<i;){for(var c=s%n,l=Math.min(i-a,n-c),h=0;h<l;h++)r[c+h]=t[a+h];s+=l,a+=l,s%n===0&&this._update(r)}return this._len+=i,this};s5.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};s5.prototype._update=function(){throw new Error("_update must be implemented by subclass")};kfe.exports=s5});var Lfe=j((AOt,Pfe)=>{"use strict";m();g();var Lqe=Zt(),Bfe=Qg(),Dqe=pr().Buffer,Uqe=[1518500249,1859775393,-1894007588,-899497514],Fqe=new Array(80);function Pw(){this.init(),this._w=Fqe,Bfe.call(this,64,56)}o(Pw,"Sha");Lqe(Pw,Bfe);Pw.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Hqe(t){return t<<5|t>>>27}o(Hqe,"rotl5");function qqe(t){return t<<30|t>>>2}o(qqe,"rotl30");function Vqe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}o(Vqe,"ft");Pw.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var l=0;l<80;++l){var h=~~(l/20),y=Hqe(r)+Vqe(h,n,i,s)+a+e[l]+Uqe[h]|0;a=s,s=i,i=qqe(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};Pw.prototype._hash=function(){var t=Dqe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Pfe.exports=Pw});var Ffe=j((OOt,Ufe)=>{"use strict";m();g();var jqe=Zt(),Dfe=Qg(),zqe=pr().Buffer,Kqe=[1518500249,1859775393,-1894007588,-899497514],Gqe=new Array(80);function Lw(){this.init(),this._w=Gqe,Dfe.call(this,64,56)}o(Lw,"Sha1");jqe(Lw,Dfe);Lw.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function $qe(t){return t<<1|t>>>31}o($qe,"rotl1");function Wqe(t){return t<<5|t>>>27}o(Wqe,"rotl5");function Yqe(t){return t<<30|t>>>2}o(Yqe,"rotl30");function Xqe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}o(Xqe,"ft");Lw.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=$qe(e[c-3]^e[c-8]^e[c-14]^e[c-16]);for(var l=0;l<80;++l){var h=~~(l/20),y=Wqe(r)+Xqe(h,n,i,s)+a+e[l]+Kqe[h]|0;a=s,s=i,i=Yqe(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};Lw.prototype._hash=function(){var t=zqe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Ufe.exports=Lw});var VL=j((kOt,qfe)=>{"use strict";m();g();var Zqe=Zt(),Hfe=Qg(),Jqe=pr().Buffer,Qqe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],eVe=new Array(64);function Dw(){this.init(),this._w=eVe,Hfe.call(this,64,56)}o(Dw,"Sha256");Zqe(Dw,Hfe);Dw.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function tVe(t,e,r){return r^t&(e^r)}o(tVe,"ch");function rVe(t,e,r){return t&e|r&(t|e)}o(rVe,"maj");function nVe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}o(nVe,"sigma0");function iVe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}o(iVe,"sigma1");function oVe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}o(oVe,"gamma0");function sVe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}o(sVe,"gamma1");Dw.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=this._f|0,l=this._g|0,h=this._h|0,y=0;y<16;++y)e[y]=t.readInt32BE(y*4);for(;y<64;++y)e[y]=sVe(e[y-2])+e[y-7]+oVe(e[y-15])+e[y-16]|0;for(var p=0;p<64;++p){var E=h+iVe(a)+tVe(a,c,l)+Qqe[p]+e[p]|0,I=nVe(r)+rVe(r,n,i)|0;h=l,l=c,c=a,a=s+E|0,s=i,i=n,n=r,r=E+I|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=c+this._f|0,this._g=l+this._g|0,this._h=h+this._h|0};Dw.prototype._hash=function(){var t=Jqe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};qfe.exports=Dw});var jfe=j((DOt,Vfe)=>{"use strict";m();g();var aVe=Zt(),cVe=VL(),fVe=Qg(),uVe=pr().Buffer,lVe=new Array(64);function a5(){this.init(),this._w=lVe,fVe.call(this,64,56)}o(a5,"Sha224");aVe(a5,cVe);a5.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};a5.prototype._hash=function(){var t=uVe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};Vfe.exports=a5});var jL=j((qOt,Xfe)=>{"use strict";m();g();var dVe=Zt(),Yfe=Qg(),hVe=pr().Buffer,zfe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],pVe=new Array(160);function Uw(){this.init(),this._w=pVe,Yfe.call(this,128,112)}o(Uw,"Sha512");dVe(Uw,Yfe);Uw.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Kfe(t,e,r){return r^t&(e^r)}o(Kfe,"Ch");function Gfe(t,e,r){return t&e|r&(t|e)}o(Gfe,"maj");function $fe(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}o($fe,"sigma0");function Wfe(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}o(Wfe,"sigma1");function mVe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}o(mVe,"Gamma0");function gVe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}o(gVe,"Gamma0l");function yVe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}o(yVe,"Gamma1");function bVe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}o(bVe,"Gamma1l");function Yo(t,e){return t>>>0<e>>>0?1:0}o(Yo,"getCarry");Uw.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,a=this._eh|0,c=this._fh|0,l=this._gh|0,h=this._hh|0,y=this._al|0,p=this._bl|0,E=this._cl|0,I=this._dl|0,O=this._el|0,N=this._fl|0,k=this._gl|0,C=this._hl|0,L=0;L<32;L+=2)e[L]=t.readInt32BE(L*4),e[L+1]=t.readInt32BE(L*4+4);for(;L<160;L+=2){var M=e[L-30],P=e[L-15*2+1],H=mVe(M,P),F=gVe(P,M);M=e[L-2*2],P=e[L-2*2+1];var J=yVe(M,P),W=bVe(P,M),X=e[L-7*2],S=e[L-7*2+1],f=e[L-16*2],d=e[L-16*2+1],b=F+S|0,x=H+X+Yo(b,F)|0;b=b+W|0,x=x+J+Yo(b,W)|0,b=b+d|0,x=x+f+Yo(b,d)|0,e[L]=x,e[L+1]=b}for(var _=0;_<160;_+=2){x=e[_],b=e[_+1];var A=Gfe(r,n,i),T=Gfe(y,p,E),v=$fe(r,y),u=$fe(y,r),w=Wfe(a,O),V=Wfe(O,a),q=zfe[_],U=zfe[_+1],$=Kfe(a,c,l),ee=Kfe(O,N,k),re=C+V|0,Oe=h+w+Yo(re,C)|0;re=re+ee|0,Oe=Oe+$+Yo(re,ee)|0,re=re+U|0,Oe=Oe+q+Yo(re,U)|0,re=re+b|0,Oe=Oe+x+Yo(re,b)|0;var ae=u+T|0,le=v+A+Yo(ae,u)|0;h=l,C=k,l=c,k=N,c=a,N=O,O=I+re|0,a=s+Oe+Yo(O,I)|0,s=i,I=E,i=n,E=p,n=r,p=y,y=re+ae|0,r=Oe+le+Yo(y,re)|0}this._al=this._al+y|0,this._bl=this._bl+p|0,this._cl=this._cl+E|0,this._dl=this._dl+I|0,this._el=this._el+O|0,this._fl=this._fl+N|0,this._gl=this._gl+k|0,this._hl=this._hl+C|0,this._ah=this._ah+r+Yo(this._al,y)|0,this._bh=this._bh+n+Yo(this._bl,p)|0,this._ch=this._ch+i+Yo(this._cl,E)|0,this._dh=this._dh+s+Yo(this._dl,I)|0,this._eh=this._eh+a+Yo(this._el,O)|0,this._fh=this._fh+c+Yo(this._fl,N)|0,this._gh=this._gh+l+Yo(this._gl,k)|0,this._hh=this._hh+h+Yo(this._hl,C)|0};Uw.prototype._hash=function(){var t=hVe.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return o(e,"writeInt64BE"),e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};Xfe.exports=Uw});var Jfe=j((KOt,Zfe)=>{"use strict";m();g();var xVe=Zt(),vVe=jL(),_Ve=Qg(),wVe=pr().Buffer,EVe=new Array(160);function c5(){this.init(),this._w=EVe,_Ve.call(this,128,112)}o(c5,"Sha384");xVe(c5,vVe);c5.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};c5.prototype._hash=function(){var t=wVe.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return o(e,"writeInt64BE"),e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};Zfe.exports=c5});var f5=j((YOt,_h)=>{"use strict";m();g();_h.exports=o(function(e){var r=e.toLowerCase(),n=_h.exports[r];if(!n)throw new Error(r+" is not supported (we accept pull requests)");return new n},"SHA");_h.exports.sha=Lfe();_h.exports.sha1=Ffe();_h.exports.sha224=jfe();_h.exports.sha256=VL();_h.exports.sha384=Jfe();_h.exports.sha512=jL()});var KL=j((QOt,Qfe)=>{m();g();Qfe.exports=Rf;var zL=Hb().EventEmitter,SVe=Zt();SVe(Rf,zL);Rf.Readable=w8();Rf.Writable=x8();Rf.Duplex=ap();Rf.Transform=N8();Rf.PassThrough=dL();Rf.finished=gw();Rf.pipeline=pL();Rf.Stream=Rf;function Rf(){zL.call(this)}o(Rf,"Stream");Rf.prototype.pipe=function(t,e){var r=this;function n(y){t.writable&&t.write(y)===!1&&r.pause&&r.pause()}o(n,"ondata"),r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}o(i,"ondrain"),t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",c));var s=!1;function a(){s||(s=!0,t.end())}o(a,"onend");function c(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}o(c,"onclose");function l(y){if(h(),zL.listenerCount(this,"error")===0)throw y}o(l,"onerror"),r.on("error",l),t.on("error",l);function h(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",h),r.removeListener("close",h),t.removeListener("close",h)}return o(h,"cleanup"),r.on("end",h),r.on("close",h),t.on("close",h),t.emit("pipe",r),t}});var wh=j((nNt,tue)=>{"use strict";m();g();var AVe=pr().Buffer,eue=KL().Transform,IVe=jb().StringDecoder,TVe=Zt(),RVe=o5();function Lu(t){eue.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}o(Lu,"CipherBase");TVe(Lu,eue);Lu.prototype.update=function(t,e,r){var n=RVe(t,e),i=this._update(n);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};Lu.prototype.setAutoPadding=function(){};Lu.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Lu.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Lu.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Lu.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};Lu.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Lu.prototype._finalOrDigest=function(t){var e=this.__final()||AVe.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Lu.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new IVe(e),this._encoding=e),this._encoding!==e)throw new Error("can\u2019t switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};tue.exports=Lu});var ey=j((aNt,nue)=>{"use strict";m();g();var OVe=Zt(),NVe=B8(),MVe=yL(),CVe=f5(),rue=wh();function u5(t){rue.call(this,"digest"),this._hash=t}o(u5,"Hash");OVe(u5,rue);u5.prototype._update=function(t){this._hash.update(t)};u5.prototype._final=function(){return this._hash.digest()};nue.exports=o(function(e){return e=e.toLowerCase(),e==="md5"?new NVe:e==="rmd160"||e==="ripemd160"?new MVe:new u5(CVe(e))},"createHash")});var sue=j((lNt,oue)=>{"use strict";m();g();var kVe=Zt(),ty=pr().Buffer,iue=wh(),BVe=ty.alloc(128),rx=64;function l5(t,e){iue.call(this,"digest"),typeof e=="string"&&(e=ty.from(e)),this._alg=t,this._key=e,e.length>rx?e=t(e):e.length<rx&&(e=ty.concat([e,BVe],rx));for(var r=this._ipad=ty.allocUnsafe(rx),n=this._opad=ty.allocUnsafe(rx),i=0;i<rx;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}o(l5,"Hmac");kVe(l5,iue);l5.prototype._update=function(t){this._hash.push(t)};l5.prototype._final=function(){var t=this._alg(ty.concat(this._hash));return this._alg(ty.concat([this._opad,t]))};oue.exports=l5});var cue=j((mNt,aue)=>{m();g();var PVe=B8();aue.exports=function(t){return new PVe().update(t).digest()}});var WL=j((bNt,uue)=>{"use strict";m();g();var LVe=Zt(),DVe=sue(),fue=wh(),Fw=pr().Buffer,UVe=cue(),GL=yL(),$L=f5(),FVe=Fw.alloc(128);function Hw(t,e){fue.call(this,"digest"),typeof e=="string"&&(e=Fw.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new GL:$L(t);e=n.update(e).digest()}else e.length<r&&(e=Fw.concat([e,FVe],r));for(var i=this._ipad=Fw.allocUnsafe(r),s=this._opad=Fw.allocUnsafe(r),a=0;a<r;a++)i[a]=e[a]^54,s[a]=e[a]^92;this._hash=t==="rmd160"?new GL:$L(t),this._hash.update(i)}o(Hw,"Hmac");LVe(Hw,fue);Hw.prototype._update=function(t){this._hash.update(t)};Hw.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new GL:$L(this._alg);return e.update(this._opad).update(t).digest()};uue.exports=o(function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Hw("rmd160",r):e==="md5"?new DVe(UVe,r):new Hw(e,r)},"createHmac")});var YL=j((wNt,HVe)=>{HVe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var due=j((ENt,lue)=>{"use strict";m();g();lue.exports=YL()});var XL=j((INt,hue)=>{"use strict";m();g();var qVe=Math.pow(2,30)-1;hue.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>qVe||e!==e)throw new TypeError("Bad key length")}});var ZL=j((ONt,mue)=>{"use strict";m();g();var d5;self.process&&self.process.browser?d5="utf-8":self.process&&self.process.version?(pue=parseInt(process.version.split(".")[0].slice(1),10),d5=pue>=6?"utf-8":"binary"):d5="utf-8";var pue;mue.exports=d5});var bue=j((CNt,yue)=>{"use strict";m();g();var qw=4,gue=new Buffer(qw);gue.fill(0);var VVe=8,jVe=16;function zVe(t){if(t.length%qw!==0){var e=t.length+(qw-t.length%qw);t=Buffer.concat([t,gue],e)}for(var r=new Array(t.length>>>2),n=0,i=0;n<t.length;n+=qw,i++)r[i]=t.readInt32LE(n);return r}o(zVe,"toArray");yue.exports=o(function(e,r){var n=r(zVe(e),e.length*VVe);e=new Buffer(jVe);for(var i=0;i<n.length;i++)e.writeInt32LE(n[i],i<<2,!0);return e},"hash")});var vue=j((LNt,xue)=>{"use strict";m();g();var KVe=bue();function GVe(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,a=0;a<t.length;a+=16){var c=r,l=n,h=i,y=s;r=ta(r,n,i,s,t[a+0],7,-680876936),s=ta(s,r,n,i,t[a+1],12,-389564586),i=ta(i,s,r,n,t[a+2],17,606105819),n=ta(n,i,s,r,t[a+3],22,-1044525330),r=ta(r,n,i,s,t[a+4],7,-176418897),s=ta(s,r,n,i,t[a+5],12,1200080426),i=ta(i,s,r,n,t[a+6],17,-1473231341),n=ta(n,i,s,r,t[a+7],22,-45705983),r=ta(r,n,i,s,t[a+8],7,1770035416),s=ta(s,r,n,i,t[a+9],12,-1958414417),i=ta(i,s,r,n,t[a+10],17,-42063),n=ta(n,i,s,r,t[a+11],22,-1990404162),r=ta(r,n,i,s,t[a+12],7,1804603682),s=ta(s,r,n,i,t[a+13],12,-40341101),i=ta(i,s,r,n,t[a+14],17,-1502002290),n=ta(n,i,s,r,t[a+15],22,1236535329),r=ra(r,n,i,s,t[a+1],5,-165796510),s=ra(s,r,n,i,t[a+6],9,-1069501632),i=ra(i,s,r,n,t[a+11],14,643717713),n=ra(n,i,s,r,t[a+0],20,-373897302),r=ra(r,n,i,s,t[a+5],5,-701558691),s=ra(s,r,n,i,t[a+10],9,38016083),i=ra(i,s,r,n,t[a+15],14,-660478335),n=ra(n,i,s,r,t[a+4],20,-405537848),r=ra(r,n,i,s,t[a+9],5,568446438),s=ra(s,r,n,i,t[a+14],9,-1019803690),i=ra(i,s,r,n,t[a+3],14,-187363961),n=ra(n,i,s,r,t[a+8],20,1163531501),r=ra(r,n,i,s,t[a+13],5,-1444681467),s=ra(s,r,n,i,t[a+2],9,-51403784),i=ra(i,s,r,n,t[a+7],14,1735328473),n=ra(n,i,s,r,t[a+12],20,-1926607734),r=na(r,n,i,s,t[a+5],4,-378558),s=na(s,r,n,i,t[a+8],11,-2022574463),i=na(i,s,r,n,t[a+11],16,1839030562),n=na(n,i,s,r,t[a+14],23,-35309556),r=na(r,n,i,s,t[a+1],4,-1530992060),s=na(s,r,n,i,t[a+4],11,1272893353),i=na(i,s,r,n,t[a+7],16,-155497632),n=na(n,i,s,r,t[a+10],23,-1094730640),r=na(r,n,i,s,t[a+13],4,681279174),s=na(s,r,n,i,t[a+0],11,-358537222),i=na(i,s,r,n,t[a+3],16,-722521979),n=na(n,i,s,r,t[a+6],23,76029189),r=na(r,n,i,s,t[a+9],4,-640364487),s=na(s,r,n,i,t[a+12],11,-421815835),i=na(i,s,r,n,t[a+15],16,530742520),n=na(n,i,s,r,t[a+2],23,-995338651),r=ia(r,n,i,s,t[a+0],6,-198630844),s=ia(s,r,n,i,t[a+7],10,1126891415),i=ia(i,s,r,n,t[a+14],15,-1416354905),n=ia(n,i,s,r,t[a+5],21,-57434055),r=ia(r,n,i,s,t[a+12],6,1700485571),s=ia(s,r,n,i,t[a+3],10,-1894986606),i=ia(i,s,r,n,t[a+10],15,-1051523),n=ia(n,i,s,r,t[a+1],21,-2054922799),r=ia(r,n,i,s,t[a+8],6,1873313359),s=ia(s,r,n,i,t[a+15],10,-30611744),i=ia(i,s,r,n,t[a+6],15,-1560198380),n=ia(n,i,s,r,t[a+13],21,1309151649),r=ia(r,n,i,s,t[a+4],6,-145523070),s=ia(s,r,n,i,t[a+11],10,-1120210379),i=ia(i,s,r,n,t[a+2],15,718787259),n=ia(n,i,s,r,t[a+9],21,-343485551),r=pp(r,c),n=pp(n,l),i=pp(i,h),s=pp(s,y)}return[r,n,i,s]}o(GVe,"core_md5");function h5(t,e,r,n,i,s){return pp($Ve(pp(pp(e,t),pp(n,s)),i),r)}o(h5,"md5_cmn");function ta(t,e,r,n,i,s,a){return h5(e&r|~e&n,t,e,i,s,a)}o(ta,"md5_ff");function ra(t,e,r,n,i,s,a){return h5(e&n|r&~n,t,e,i,s,a)}o(ra,"md5_gg");function na(t,e,r,n,i,s,a){return h5(e^r^n,t,e,i,s,a)}o(na,"md5_hh");function ia(t,e,r,n,i,s,a){return h5(r^(e|~n),t,e,i,s,a)}o(ia,"md5_ii");function pp(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}o(pp,"safe_add");function $Ve(t,e){return t<<e|t>>>32-e}o($Ve,"bit_rol");xue.exports=o(function(e){return KVe(e,GVe)},"md5")});var Eue=j((HNt,wue)=>{"use strict";m();g();var _ue=KL().Transform,WVe=Zt();function mp(t){_ue.call(this),this._block=new Buffer(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o(mp,"HashBase");WVe(mp,_ue);mp.prototype._transform=function(t,e,r){var n=null;try{e!=="buffer"&&(t=new Buffer(t,e)),this.update(t)}catch(i){n=i}r(n)};mp.prototype._flush=function(t){var e=null;try{this.push(this._digest())}catch(r){e=r}t(e)};mp.prototype.update=function(t,e){if(!Buffer.isBuffer(t)&&typeof t!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer.isBuffer(t)||(t=new Buffer(t,e||"binary"));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this};mp.prototype._update=function(t){throw new Error("_update is not implemented")};mp.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();return t!==void 0&&(e=e.toString(t)),e};mp.prototype._digest=function(){throw new Error("_digest is not implemented")};wue.exports=mp});var Iue=j((zNt,Aue)=>{"use strict";m();g();var YVe=Zt(),Sue=Eue();function p5(){Sue.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(p5,"RIPEMD160");YVe(p5,Sue);p5.prototype._update=function(){for(var t=new Array(16),e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d,a=this._e;r=fn(r,n,i,s,a,t[0],0,11),i=xe(i,10),a=fn(a,r,n,i,s,t[1],0,14),n=xe(n,10),s=fn(s,a,r,n,i,t[2],0,15),r=xe(r,10),i=fn(i,s,a,r,n,t[3],0,12),a=xe(a,10),n=fn(n,i,s,a,r,t[4],0,5),s=xe(s,10),r=fn(r,n,i,s,a,t[5],0,8),i=xe(i,10),a=fn(a,r,n,i,s,t[6],0,7),n=xe(n,10),s=fn(s,a,r,n,i,t[7],0,9),r=xe(r,10),i=fn(i,s,a,r,n,t[8],0,11),a=xe(a,10),n=fn(n,i,s,a,r,t[9],0,13),s=xe(s,10),r=fn(r,n,i,s,a,t[10],0,14),i=xe(i,10),a=fn(a,r,n,i,s,t[11],0,15),n=xe(n,10),s=fn(s,a,r,n,i,t[12],0,6),r=xe(r,10),i=fn(i,s,a,r,n,t[13],0,7),a=xe(a,10),n=fn(n,i,s,a,r,t[14],0,9),s=xe(s,10),r=fn(r,n,i,s,a,t[15],0,8),i=xe(i,10),a=un(a,r,n,i,s,t[7],1518500249,7),n=xe(n,10),s=un(s,a,r,n,i,t[4],1518500249,6),r=xe(r,10),i=un(i,s,a,r,n,t[13],1518500249,8),a=xe(a,10),n=un(n,i,s,a,r,t[1],1518500249,13),s=xe(s,10),r=un(r,n,i,s,a,t[10],1518500249,11),i=xe(i,10),a=un(a,r,n,i,s,t[6],1518500249,9),n=xe(n,10),s=un(s,a,r,n,i,t[15],1518500249,7),r=xe(r,10),i=un(i,s,a,r,n,t[3],1518500249,15),a=xe(a,10),n=un(n,i,s,a,r,t[12],1518500249,7),s=xe(s,10),r=un(r,n,i,s,a,t[0],1518500249,12),i=xe(i,10),a=un(a,r,n,i,s,t[9],1518500249,15),n=xe(n,10),s=un(s,a,r,n,i,t[5],1518500249,9),r=xe(r,10),i=un(i,s,a,r,n,t[2],1518500249,11),a=xe(a,10),n=un(n,i,s,a,r,t[14],1518500249,7),s=xe(s,10),r=un(r,n,i,s,a,t[11],1518500249,13),i=xe(i,10),a=un(a,r,n,i,s,t[8],1518500249,12),n=xe(n,10),s=ln(s,a,r,n,i,t[3],1859775393,11),r=xe(r,10),i=ln(i,s,a,r,n,t[10],1859775393,13),a=xe(a,10),n=ln(n,i,s,a,r,t[14],1859775393,6),s=xe(s,10),r=ln(r,n,i,s,a,t[4],1859775393,7),i=xe(i,10),a=ln(a,r,n,i,s,t[9],1859775393,14),n=xe(n,10),s=ln(s,a,r,n,i,t[15],1859775393,9),r=xe(r,10),i=ln(i,s,a,r,n,t[8],1859775393,13),a=xe(a,10),n=ln(n,i,s,a,r,t[1],1859775393,15),s=xe(s,10),r=ln(r,n,i,s,a,t[2],1859775393,14),i=xe(i,10),a=ln(a,r,n,i,s,t[7],1859775393,8),n=xe(n,10),s=ln(s,a,r,n,i,t[0],1859775393,13),r=xe(r,10),i=ln(i,s,a,r,n,t[6],1859775393,6),a=xe(a,10),n=ln(n,i,s,a,r,t[13],1859775393,5),s=xe(s,10),r=ln(r,n,i,s,a,t[11],1859775393,12),i=xe(i,10),a=ln(a,r,n,i,s,t[5],1859775393,7),n=xe(n,10),s=ln(s,a,r,n,i,t[12],1859775393,5),r=xe(r,10),i=dn(i,s,a,r,n,t[1],2400959708,11),a=xe(a,10),n=dn(n,i,s,a,r,t[9],2400959708,12),s=xe(s,10),r=dn(r,n,i,s,a,t[11],2400959708,14),i=xe(i,10),a=dn(a,r,n,i,s,t[10],2400959708,15),n=xe(n,10),s=dn(s,a,r,n,i,t[0],2400959708,14),r=xe(r,10),i=dn(i,s,a,r,n,t[8],2400959708,15),a=xe(a,10),n=dn(n,i,s,a,r,t[12],2400959708,9),s=xe(s,10),r=dn(r,n,i,s,a,t[4],2400959708,8),i=xe(i,10),a=dn(a,r,n,i,s,t[13],2400959708,9),n=xe(n,10),s=dn(s,a,r,n,i,t[3],2400959708,14),r=xe(r,10),i=dn(i,s,a,r,n,t[7],2400959708,5),a=xe(a,10),n=dn(n,i,s,a,r,t[15],2400959708,6),s=xe(s,10),r=dn(r,n,i,s,a,t[14],2400959708,8),i=xe(i,10),a=dn(a,r,n,i,s,t[5],2400959708,6),n=xe(n,10),s=dn(s,a,r,n,i,t[6],2400959708,5),r=xe(r,10),i=dn(i,s,a,r,n,t[2],2400959708,12),a=xe(a,10),n=hn(n,i,s,a,r,t[4],2840853838,9),s=xe(s,10),r=hn(r,n,i,s,a,t[0],2840853838,15),i=xe(i,10),a=hn(a,r,n,i,s,t[5],2840853838,5),n=xe(n,10),s=hn(s,a,r,n,i,t[9],2840853838,11),r=xe(r,10),i=hn(i,s,a,r,n,t[7],2840853838,6),a=xe(a,10),n=hn(n,i,s,a,r,t[12],2840853838,8),s=xe(s,10),r=hn(r,n,i,s,a,t[2],2840853838,13),i=xe(i,10),a=hn(a,r,n,i,s,t[10],2840853838,12),n=xe(n,10),s=hn(s,a,r,n,i,t[14],2840853838,5),r=xe(r,10),i=hn(i,s,a,r,n,t[1],2840853838,12),a=xe(a,10),n=hn(n,i,s,a,r,t[3],2840853838,13),s=xe(s,10),r=hn(r,n,i,s,a,t[8],2840853838,14),i=xe(i,10),a=hn(a,r,n,i,s,t[11],2840853838,11),n=xe(n,10),s=hn(s,a,r,n,i,t[6],2840853838,8),r=xe(r,10),i=hn(i,s,a,r,n,t[15],2840853838,5),a=xe(a,10),n=hn(n,i,s,a,r,t[13],2840853838,6),s=xe(s,10);var c=this._a,l=this._b,h=this._c,y=this._d,p=this._e;c=hn(c,l,h,y,p,t[5],1352829926,8),h=xe(h,10),p=hn(p,c,l,h,y,t[14],1352829926,9),l=xe(l,10),y=hn(y,p,c,l,h,t[7],1352829926,9),c=xe(c,10),h=hn(h,y,p,c,l,t[0],1352829926,11),p=xe(p,10),l=hn(l,h,y,p,c,t[9],1352829926,13),y=xe(y,10),c=hn(c,l,h,y,p,t[2],1352829926,15),h=xe(h,10),p=hn(p,c,l,h,y,t[11],1352829926,15),l=xe(l,10),y=hn(y,p,c,l,h,t[4],1352829926,5),c=xe(c,10),h=hn(h,y,p,c,l,t[13],1352829926,7),p=xe(p,10),l=hn(l,h,y,p,c,t[6],1352829926,7),y=xe(y,10),c=hn(c,l,h,y,p,t[15],1352829926,8),h=xe(h,10),p=hn(p,c,l,h,y,t[8],1352829926,11),l=xe(l,10),y=hn(y,p,c,l,h,t[1],1352829926,14),c=xe(c,10),h=hn(h,y,p,c,l,t[10],1352829926,14),p=xe(p,10),l=hn(l,h,y,p,c,t[3],1352829926,12),y=xe(y,10),c=hn(c,l,h,y,p,t[12],1352829926,6),h=xe(h,10),p=dn(p,c,l,h,y,t[6],1548603684,9),l=xe(l,10),y=dn(y,p,c,l,h,t[11],1548603684,13),c=xe(c,10),h=dn(h,y,p,c,l,t[3],1548603684,15),p=xe(p,10),l=dn(l,h,y,p,c,t[7],1548603684,7),y=xe(y,10),c=dn(c,l,h,y,p,t[0],1548603684,12),h=xe(h,10),p=dn(p,c,l,h,y,t[13],1548603684,8),l=xe(l,10),y=dn(y,p,c,l,h,t[5],1548603684,9),c=xe(c,10),h=dn(h,y,p,c,l,t[10],1548603684,11),p=xe(p,10),l=dn(l,h,y,p,c,t[14],1548603684,7),y=xe(y,10),c=dn(c,l,h,y,p,t[15],1548603684,7),h=xe(h,10),p=dn(p,c,l,h,y,t[8],1548603684,12),l=xe(l,10),y=dn(y,p,c,l,h,t[12],1548603684,7),c=xe(c,10),h=dn(h,y,p,c,l,t[4],1548603684,6),p=xe(p,10),l=dn(l,h,y,p,c,t[9],1548603684,15),y=xe(y,10),c=dn(c,l,h,y,p,t[1],1548603684,13),h=xe(h,10),p=dn(p,c,l,h,y,t[2],1548603684,11),l=xe(l,10),y=ln(y,p,c,l,h,t[15],1836072691,9),c=xe(c,10),h=ln(h,y,p,c,l,t[5],1836072691,7),p=xe(p,10),l=ln(l,h,y,p,c,t[1],1836072691,15),y=xe(y,10),c=ln(c,l,h,y,p,t[3],1836072691,11),h=xe(h,10),p=ln(p,c,l,h,y,t[7],1836072691,8),l=xe(l,10),y=ln(y,p,c,l,h,t[14],1836072691,6),c=xe(c,10),h=ln(h,y,p,c,l,t[6],1836072691,6),p=xe(p,10),l=ln(l,h,y,p,c,t[9],1836072691,14),y=xe(y,10),c=ln(c,l,h,y,p,t[11],1836072691,12),h=xe(h,10),p=ln(p,c,l,h,y,t[8],1836072691,13),l=xe(l,10),y=ln(y,p,c,l,h,t[12],1836072691,5),c=xe(c,10),h=ln(h,y,p,c,l,t[2],1836072691,14),p=xe(p,10),l=ln(l,h,y,p,c,t[10],1836072691,13),y=xe(y,10),c=ln(c,l,h,y,p,t[0],1836072691,13),h=xe(h,10),p=ln(p,c,l,h,y,t[4],1836072691,7),l=xe(l,10),y=ln(y,p,c,l,h,t[13],1836072691,5),c=xe(c,10),h=un(h,y,p,c,l,t[8],2053994217,15),p=xe(p,10),l=un(l,h,y,p,c,t[6],2053994217,5),y=xe(y,10),c=un(c,l,h,y,p,t[4],2053994217,8),h=xe(h,10),p=un(p,c,l,h,y,t[1],2053994217,11),l=xe(l,10),y=un(y,p,c,l,h,t[3],2053994217,14),c=xe(c,10),h=un(h,y,p,c,l,t[11],2053994217,14),p=xe(p,10),l=un(l,h,y,p,c,t[15],2053994217,6),y=xe(y,10),c=un(c,l,h,y,p,t[0],2053994217,14),h=xe(h,10),p=un(p,c,l,h,y,t[5],2053994217,6),l=xe(l,10),y=un(y,p,c,l,h,t[12],2053994217,9),c=xe(c,10),h=un(h,y,p,c,l,t[2],2053994217,12),p=xe(p,10),l=un(l,h,y,p,c,t[13],2053994217,9),y=xe(y,10),c=un(c,l,h,y,p,t[9],2053994217,12),h=xe(h,10),p=un(p,c,l,h,y,t[7],2053994217,5),l=xe(l,10),y=un(y,p,c,l,h,t[10],2053994217,15),c=xe(c,10),h=un(h,y,p,c,l,t[14],2053994217,8),p=xe(p,10),l=fn(l,h,y,p,c,t[12],0,8),y=xe(y,10),c=fn(c,l,h,y,p,t[15],0,5),h=xe(h,10),p=fn(p,c,l,h,y,t[10],0,12),l=xe(l,10),y=fn(y,p,c,l,h,t[4],0,9),c=xe(c,10),h=fn(h,y,p,c,l,t[1],0,12),p=xe(p,10),l=fn(l,h,y,p,c,t[5],0,5),y=xe(y,10),c=fn(c,l,h,y,p,t[8],0,14),h=xe(h,10),p=fn(p,c,l,h,y,t[7],0,6),l=xe(l,10),y=fn(y,p,c,l,h,t[6],0,8),c=xe(c,10),h=fn(h,y,p,c,l,t[2],0,13),p=xe(p,10),l=fn(l,h,y,p,c,t[13],0,6),y=xe(y,10),c=fn(c,l,h,y,p,t[14],0,5),h=xe(h,10),p=fn(p,c,l,h,y,t[0],0,15),l=xe(l,10),y=fn(y,p,c,l,h,t[3],0,13),c=xe(c,10),h=fn(h,y,p,c,l,t[9],0,11),p=xe(p,10),l=fn(l,h,y,p,c,t[11],0,11),y=xe(y,10);var E=this._b+i+y|0;this._b=this._c+s+p|0,this._c=this._d+a+c|0,this._d=this._e+r+l|0,this._e=this._a+n+h|0,this._a=E};p5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new Buffer(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function xe(t,e){return t<<e|t>>>32-e}o(xe,"rotl");function fn(t,e,r,n,i,s,a,c){return xe(t+(e^r^n)+s+a|0,c)+i|0}o(fn,"fn1");function un(t,e,r,n,i,s,a,c){return xe(t+(e&r|~e&n)+s+a|0,c)+i|0}o(un,"fn2");function ln(t,e,r,n,i,s,a,c){return xe(t+((e|~r)^n)+s+a|0,c)+i|0}o(ln,"fn3");function dn(t,e,r,n,i,s,a,c){return xe(t+(e&n|r&~n)+s+a|0,c)+i|0}o(dn,"fn4");function hn(t,e,r,n,i,s,a,c){return xe(t+(e^(r|~n))+s+a|0,c)+i|0}o(hn,"fn5");Aue.exports=p5});var JL=j((WNt,Oue)=>{"use strict";m();g();var XVe=pr().Buffer,ZVe=o5(),Rue=typeof Uint8Array<"u",JVe=Rue&&typeof ArrayBuffer<"u",Tue=JVe&&ArrayBuffer.isView;Oue.exports=function(t,e,r){if(typeof t=="string"||XVe.isBuffer(t)||Rue&&t instanceof Uint8Array||Tue&&Tue(t))return ZVe(t,e);throw new TypeError(r+" must be a string, a Buffer, a Uint8Array, or a DataView")}});var QL=j((ZNt,kue)=>{"use strict";m();g();var QVe=vue(),eje=Iue(),tje=f5(),ry=pr().Buffer,rje=XL(),Nue=ZL(),Mue=JL(),nje=ry.alloc(128),m5={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},ije={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function oje(t){return new eje().update(t).digest()}o(oje,"rmd160Func");function sje(t){function e(r){return tje(t).update(r).digest()}return o(e,"shaFunc"),t==="rmd160"||t==="ripemd160"?oje:t==="md5"?QVe:e}o(sje,"getDigest");function Cue(t,e,r){var n=sje(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=ry.concat([e,nje],i));for(var s=ry.allocUnsafe(i+m5[t]),a=ry.allocUnsafe(i+m5[t]),c=0;c<i;c++)s[c]=e[c]^54,a[c]=e[c]^92;var l=ry.allocUnsafe(i+r+4);s.copy(l,0,0,i),this.ipad1=l,this.ipad2=s,this.opad=a,this.alg=t,this.blocksize=i,this.hash=n,this.size=m5[t]}o(Cue,"Hmac");Cue.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function aje(t,e,r,n,i){rje(r,n),t=Mue(t,Nue,"Password"),e=Mue(e,Nue,"Salt");var s=(i||"sha1").toLowerCase(),a=ije[s]||s,c=m5[a];if(typeof c!="number"||!c)throw new TypeError("Digest algorithm not supported: "+i);var l=new Cue(a,t,e.length),h=ry.allocUnsafe(n),y=ry.allocUnsafe(e.length+4);e.copy(y,0,0,e.length);for(var p=0,E=c,I=Math.ceil(n/E),O=1;O<=I;O++){y.writeUInt32BE(O,e.length);for(var N=l.run(y,l.ipad1),k=N,C=1;C<r;C++){k=l.run(k,l.ipad2);for(var L=0;L<E;L++)N[L]^=k[L]}N.copy(h,p),p+=E}return h}o(aje,"pbkdf2");kue.exports=aje});var Hue=j((tMt,Fue)=>{"use strict";m();g();var Due=pr().Buffer,cje=XL(),Bue=ZL(),Pue=QL(),Lue=JL(),g5,Vw=self.crypto&&self.crypto.subtle,fje={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},eD=[],ny;function tD(){return ny||(self.process&&self.process.nextTick?ny=self.process.nextTick:self.queueMicrotask?ny=self.queueMicrotask:self.setImmediate?ny=self.setImmediate:ny=self.setTimeout,ny)}o(tD,"getNextTick");function Uue(t,e,r,n,i){return Vw.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return Vw.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},s,n<<3)}).then(function(s){return Due.from(s)})}o(Uue,"browserPbkdf2");function uje(t){if(self.process&&!self.process.browser||!Vw||!Vw.importKey||!Vw.deriveBits)return Promise.resolve(!1);if(eD[t]!==void 0)return eD[t];g5=g5||Due.alloc(8);var e=Uue(g5,g5,10,128,t).then(function(){return!0},function(){return!1});return eD[t]=e,e}o(uje,"checkNative");function lje(t,e){t.then(function(r){tD()(function(){e(null,r)})},function(r){tD()(function(){e(r)})})}o(lje,"resolvePromise");Fue.exports=function(t,e,r,n,i,s){typeof i=="function"&&(s=i,i=void 0),i=i||"sha1";var a=fje[i.toLowerCase()];if(!a||typeof self.Promise!="function"){tD()(function(){var c;try{c=Pue(t,e,r,n,i)}catch(l){s(l);return}s(null,c)});return}if(cje(r,n),t=Lue(t,Bue,"Password"),e=Lue(e,Bue,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");lje(uje(a).then(function(c){return c?Uue(t,e,r,n,a):Pue(t,e,r,n,i)}),s)}});var y5=j(rD=>{"use strict";m();g();rD.pbkdf2=Hue();rD.pbkdf2Sync=QL()});var nD=j(Of=>{"use strict";m();g();Of.readUInt32BE=o(function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0},"readUInt32BE");Of.writeUInt32BE=o(function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255},"writeUInt32BE");Of.ip=o(function(e,r,n,i){for(var s=0,a=0,c=6;c>=0;c-=2){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>>l+c&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>>l+c&1}for(var c=6;c>=0;c-=2){for(var l=1;l<=25;l+=8)a<<=1,a|=r>>>l+c&1;for(var l=1;l<=25;l+=8)a<<=1,a|=e>>>l+c&1}n[i+0]=s>>>0,n[i+1]=a>>>0},"ip");Of.rip=o(function(e,r,n,i){for(var s=0,a=0,c=0;c<4;c++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+c&1,s<<=1,s|=e>>>l+c&1;for(var c=4;c<8;c++)for(var l=24;l>=0;l-=8)a<<=1,a|=r>>>l+c&1,a<<=1,a|=e>>>l+c&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"rip");Of.pc1=o(function(e,r,n,i){for(var s=0,a=0,c=7;c>=5;c--){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+c&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+c&1}for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+c&1;for(var c=1;c<=3;c++){for(var l=0;l<=24;l+=8)a<<=1,a|=r>>l+c&1;for(var l=0;l<=24;l+=8)a<<=1,a|=e>>l+c&1}for(var l=0;l<=24;l+=8)a<<=1,a|=e>>l+c&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"pc1");Of.r28shl=o(function(e,r){return e<<r&268435455|e>>>28-r},"r28shl");var b5=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Of.pc2=o(function(e,r,n,i){for(var s=0,a=0,c=b5.length>>>1,l=0;l<c;l++)s<<=1,s|=e>>>b5[l]&1;for(var l=c;l<b5.length;l++)a<<=1,a|=r>>>b5[l]&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"pc2");Of.expand=o(function(e,r,n){var i=0,s=0;i=(e&1)<<5|e>>>27;for(var a=23;a>=15;a-=4)i<<=6,i|=e>>>a&63;for(var a=11;a>=3;a-=4)s|=e>>>a&63,s<<=6;s|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=s>>>0},"expand");var que=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Of.substitute=o(function(e,r){for(var n=0,i=0;i<4;i++){var s=e>>>18-i*6&63,a=que[i*64+s];n<<=4,n|=a}for(var i=0;i<4;i++){var s=r>>>18-i*6&63,a=que[4*64+i*64+s];n<<=4,n|=a}return n>>>0},"substitute");var Vue=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Of.permute=o(function(e){for(var r=0,n=0;n<Vue.length;n++)r<<=1,r|=e>>>Vue[n]&1;return r>>>0},"permute");Of.padSplit=o(function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var s=[],a=0;a<r;a+=n)s.push(i.slice(a,a+n));return s.join(" ")},"padSplit")});var Wc=j((dMt,zue)=>{m();g();zue.exports=jue;function jue(t,e){if(!t)throw new Error(e||"Assertion failed")}o(jue,"assert");jue.equal=o(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual")});var x5=j((gMt,Kue)=>{"use strict";m();g();var dje=Wc();function Nf(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}o(Nf,"Cipher");Kue.exports=Nf;Nf.prototype._init=o(function(){},"_init");Nf.prototype.update=o(function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)},"update");Nf.prototype._buffer=o(function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n},"_buffer");Nf.prototype._flushBuffer=o(function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize},"_flushBuffer");Nf.prototype._updateEncrypt=o(function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var a=e.length-(e.length-r)%this.blockSize;r<a;r+=this.blockSize)this._update(e,r,s,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s},"_updateEncrypt");Nf.prototype._updateDecrypt=o(function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(s,n);return r+=this._buffer(e,r),s},"_updateDecrypt");Nf.prototype.final=o(function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n},"final");Nf.prototype._pad=o(function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0},"_pad");Nf.prototype._finalEncrypt=o(function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},"_finalEncrypt");Nf.prototype._unpad=o(function(e){return e},"_unpad");Nf.prototype._finalDecrypt=o(function(){dje.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)},"_finalDecrypt")});var iD=j((vMt,Wue)=>{"use strict";m();g();var Gue=Wc(),hje=Zt(),To=nD(),$ue=x5();function pje(){this.tmp=new Array(2),this.keys=null}o(pje,"DESState");function Xl(t){$ue.call(this,t);var e=new pje;this._desState=e,this.deriveKeys(e,t.key)}o(Xl,"DES");hje(Xl,$ue);Wue.exports=Xl;Xl.create=o(function(e){return new Xl(e)},"create");var mje=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Xl.prototype.deriveKeys=o(function(e,r){e.keys=new Array(16*2),Gue.equal(r.length,this.blockSize,"Invalid key length");var n=To.readUInt32BE(r,0),i=To.readUInt32BE(r,4);To.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=mje[s>>>1];n=To.r28shl(n,a),i=To.r28shl(i,a),To.pc2(n,i,e.keys,s)}},"deriveKeys");Xl.prototype._update=o(function(e,r,n,i){var s=this._desState,a=To.readUInt32BE(e,r),c=To.readUInt32BE(e,r+4);To.ip(a,c,s.tmp,0),a=s.tmp[0],c=s.tmp[1],this.type==="encrypt"?this._encrypt(s,a,c,s.tmp,0):this._decrypt(s,a,c,s.tmp,0),a=s.tmp[0],c=s.tmp[1],To.writeUInt32BE(n,a,i),To.writeUInt32BE(n,c,i+4)},"_update");Xl.prototype._pad=o(function(e,r){for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0},"_pad");Xl.prototype._unpad=o(function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)Gue.equal(e[n],r);return e.slice(0,e.length-r)},"_unpad");Xl.prototype._encrypt=o(function(e,r,n,i,s){for(var a=r,c=n,l=0;l<e.keys.length;l+=2){var h=e.keys[l],y=e.keys[l+1];To.expand(c,e.tmp,0),h^=e.tmp[0],y^=e.tmp[1];var p=To.substitute(h,y),E=To.permute(p),I=c;c=(a^E)>>>0,a=I}To.rip(c,a,i,s)},"_encrypt");Xl.prototype._decrypt=o(function(e,r,n,i,s){for(var a=n,c=r,l=e.keys.length-2;l>=0;l-=2){var h=e.keys[l],y=e.keys[l+1];To.expand(a,e.tmp,0),h^=e.tmp[0],y^=e.tmp[1];var p=To.substitute(h,y),E=To.permute(p),I=a;a=(c^E)>>>0,c=I}To.rip(a,c,i,s)},"_decrypt")});var Xue=j(Yue=>{"use strict";m();g();var gje=Wc(),yje=Zt(),v5={};function bje(t){gje.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}o(bje,"CBCState");function xje(t){function e(s){t.call(this,s),this._cbcInit()}o(e,"CBC"),yje(e,t);for(var r=Object.keys(v5),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=v5[i]}return e.create=o(function(a){return new e(a)},"create"),e}o(xje,"instantiate");Yue.instantiate=xje;v5._cbcInit=o(function(){var e=new bje(this.options.iv);this._cbcState=e},"_cbcInit");v5._update=o(function(e,r,n,i){var s=this._cbcState,a=this.constructor.super_.prototype,c=s.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)c[l]^=e[r+l];a._update.call(this,c,0,n,i);for(var l=0;l<this.blockSize;l++)c[l]=n[i+l]}else{a._update.call(this,e,r,n,i);for(var l=0;l<this.blockSize;l++)n[i+l]^=c[l];for(var l=0;l<this.blockSize;l++)c[l]=e[r+l]}},"_update")});var Que=j((RMt,Jue)=>{"use strict";m();g();var vje=Wc(),_je=Zt(),Zue=x5(),gp=iD();function wje(t,e){vje.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[gp.create({type:"encrypt",key:r}),gp.create({type:"decrypt",key:n}),gp.create({type:"encrypt",key:i})]:this.ciphers=[gp.create({type:"decrypt",key:i}),gp.create({type:"encrypt",key:n}),gp.create({type:"decrypt",key:r})]}o(wje,"EDEState");function iy(t){Zue.call(this,t);var e=new wje(this.type,this.options.key);this._edeState=e}o(iy,"EDE");_je(iy,Zue);Jue.exports=iy;iy.create=o(function(e){return new iy(e)},"create");iy.prototype._update=o(function(e,r,n,i){var s=this._edeState;s.ciphers[0]._update(e,r,n,i),s.ciphers[1]._update(n,i,n,i),s.ciphers[2]._update(n,i,n,i)},"_update");iy.prototype._pad=gp.prototype._pad;iy.prototype._unpad=gp.prototype._unpad});var ele=j(nx=>{"use strict";m();g();nx.utils=nD();nx.Cipher=x5();nx.DES=iD();nx.CBC=Xue();nx.EDE=Que()});var nle=j((PMt,rle)=>{m();g();var tle=wh(),Eh=ele(),Eje=Zt(),oy=pr().Buffer,jw={"des-ede3-cbc":Eh.CBC.instantiate(Eh.EDE),"des-ede3":Eh.EDE,"des-ede-cbc":Eh.CBC.instantiate(Eh.EDE),"des-ede":Eh.EDE,"des-cbc":Eh.CBC.instantiate(Eh.DES),"des-ecb":Eh.DES};jw.des=jw["des-cbc"];jw.des3=jw["des-ede3-cbc"];rle.exports=_5;Eje(_5,tle);function _5(t){tle.call(this);var e=t.mode.toLowerCase(),r=jw[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;oy.isBuffer(i)||(i=oy.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=oy.concat([i,i.slice(0,8)]));var s=t.iv;oy.isBuffer(s)||(s=oy.from(s)),this._des=r.create({key:i,iv:s,type:n})}o(_5,"DES");_5.prototype._update=function(t){return oy.from(this._des.update(t))};_5.prototype._final=function(){return oy.from(this._des.final())}});var ile=j(oD=>{m();g();oD.encrypt=function(t,e){return t._cipher.encryptBlock(e)};oD.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var ix=j((VMt,ole)=>{m();g();ole.exports=o(function(e,r){for(var n=Math.min(e.length,r.length),i=new Buffer(n),s=0;s<n;++s)i[s]=e[s]^r[s];return i},"xor")});var ale=j(sD=>{m();g();var sle=ix();sD.encrypt=function(t,e){var r=sle(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};sD.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return sle(n,r)}});var ule=j(fle=>{m();g();var zw=pr().Buffer,Sje=ix();function cle(t,e,r){var n=e.length,i=Sje(e,t._cache);return t._cache=t._cache.slice(n),t._prev=zw.concat([t._prev,r?e:i]),i}o(cle,"encryptStart");fle.encrypt=function(t,e,r){for(var n=zw.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=zw.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=zw.concat([n,cle(t,e.slice(0,i),r)]),e=e.slice(i);else{n=zw.concat([n,cle(t,e,r)]);break}return n}});var dle=j(lle=>{m();g();var aD=pr().Buffer;function Aje(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=aD.concat([t._prev.slice(1),aD.from([r?e:i])]),i}o(Aje,"encryptByte");lle.encrypt=function(t,e,r){for(var n=e.length,i=aD.allocUnsafe(n),s=-1;++s<n;)i[s]=Aje(t,e[s],r);return i}});var ple=j(hle=>{m();g();var w5=pr().Buffer;function Ije(t,e,r){for(var n,i=-1,s=8,a=0,c,l;++i<s;)n=t._cipher.encryptBlock(t._prev),c=e&1<<7-i?128:0,l=n[0]^c,a+=(l&128)>>i%8,t._prev=Tje(t._prev,r?c:l);return a}o(Ije,"encryptByte");function Tje(t,e){var r=t.length,n=-1,i=w5.allocUnsafe(t.length);for(t=w5.concat([t,w5.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}o(Tje,"shiftIn");hle.encrypt=function(t,e,r){for(var n=e.length,i=w5.allocUnsafe(n),s=-1;++s<n;)i[s]=Ije(t,e[s],r);return i}});var gle=j(mle=>{m();g();var Rje=ix();function Oje(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}o(Oje,"getBlock");mle.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,Oje(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Rje(e,r)}});var cD=j((lCt,yle)=>{m();g();function Nje(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}o(Nje,"incr32");yle.exports=Nje});var uD=j(xle=>{m();g();var Mje=ix(),ble=pr().Buffer,Cje=cD();function kje(t){var e=t._cipher.encryptBlockRaw(t._prev);return Cje(t._prev),e}o(kje,"getBlock");var fD=16;xle.encrypt=function(t,e){var r=Math.ceil(e.length/fD),n=t._cache.length;t._cache=ble.concat([t._cache,ble.allocUnsafe(r*fD)]);for(var i=0;i<r;i++){var s=kje(t),a=n+i*fD;t._cache.writeUInt32BE(s[0],a+0),t._cache.writeUInt32BE(s[1],a+4),t._cache.writeUInt32BE(s[2],a+8),t._cache.writeUInt32BE(s[3],a+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Mje(e,c)}});var lD=j((xCt,Bje)=>{Bje.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var S5=j((vCt,vle)=>{m();g();var Pje={ECB:ile(),CBC:ale(),CFB:ule(),CFB8:dle(),CFB1:ple(),OFB:gle(),CTR:uD(),GCM:uD()},E5=lD();for(dD in E5)E5[dD].module=Pje[E5[dD].mode];var dD;vle.exports=E5});var Kw=j((ECt,wle)=>{m();g();var A5=pr().Buffer;function pD(t){A5.isBuffer(t)||(t=A5.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}o(pD,"asUInt32Array");function hD(t){for(var e=0;e<t.length;t++)t[e]=0}o(hD,"scrubVec");function _le(t,e,r,n,i){for(var s=r[0],a=r[1],c=r[2],l=r[3],h=t[0]^e[0],y=t[1]^e[1],p=t[2]^e[2],E=t[3]^e[3],I,O,N,k,C=4,L=1;L<i;L++)I=s[h>>>24]^a[y>>>16&255]^c[p>>>8&255]^l[E&255]^e[C++],O=s[y>>>24]^a[p>>>16&255]^c[E>>>8&255]^l[h&255]^e[C++],N=s[p>>>24]^a[E>>>16&255]^c[h>>>8&255]^l[y&255]^e[C++],k=s[E>>>24]^a[h>>>16&255]^c[y>>>8&255]^l[p&255]^e[C++],h=I,y=O,p=N,E=k;return I=(n[h>>>24]<<24|n[y>>>16&255]<<16|n[p>>>8&255]<<8|n[E&255])^e[C++],O=(n[y>>>24]<<24|n[p>>>16&255]<<16|n[E>>>8&255]<<8|n[h&255])^e[C++],N=(n[p>>>24]<<24|n[E>>>16&255]<<16|n[h>>>8&255]<<8|n[y&255])^e[C++],k=(n[E>>>24]<<24|n[h>>>16&255]<<16|n[y>>>8&255]<<8|n[p&255])^e[C++],I=I>>>0,O=O>>>0,N=N>>>0,k=k>>>0,[I,O,N,k]}o(_le,"cryptBlock");var Lje=[0,1,2,4,8,16,32,64,128,27,54],mo=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],a=0,c=0,l=0;l<256;++l){var h=c^c<<1^c<<2^c<<3^c<<4;h=h>>>8^h&255^99,r[a]=h,n[h]=a;var y=t[a],p=t[y],E=t[p],I=t[h]*257^h*16843008;i[0][a]=I<<24|I>>>8,i[1][a]=I<<16|I>>>16,i[2][a]=I<<8|I>>>24,i[3][a]=I,I=E*16843009^p*65537^y*257^a*16843008,s[0][h]=I<<24|I>>>8,s[1][h]=I<<16|I>>>16,s[2][h]=I<<8|I>>>24,s[3][h]=I,a===0?a=c=1:(a=y^t[t[t[E^y]]],c^=t[t[c]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function Mf(t){this._key=pD(t),this._reset()}o(Mf,"AES");Mf.blockSize=4*4;Mf.keySize=256/8;Mf.prototype.blockSize=Mf.blockSize;Mf.prototype.keySize=Mf.keySize;Mf.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var a=i[s-1];s%e===0?(a=a<<8|a>>>24,a=mo.SBOX[a>>>24]<<24|mo.SBOX[a>>>16&255]<<16|mo.SBOX[a>>>8&255]<<8|mo.SBOX[a&255],a^=Lje[s/e|0]<<24):e>6&&s%e===4&&(a=mo.SBOX[a>>>24]<<24|mo.SBOX[a>>>16&255]<<16|mo.SBOX[a>>>8&255]<<8|mo.SBOX[a&255]),i[s]=i[s-e]^a}for(var c=[],l=0;l<n;l++){var h=n-l,y=i[h-(l%4?0:4)];l<4||h<=4?c[l]=y:c[l]=mo.INV_SUB_MIX[0][mo.SBOX[y>>>24]]^mo.INV_SUB_MIX[1][mo.SBOX[y>>>16&255]]^mo.INV_SUB_MIX[2][mo.SBOX[y>>>8&255]]^mo.INV_SUB_MIX[3][mo.SBOX[y&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c};Mf.prototype.encryptBlockRaw=function(t){return t=pD(t),_le(t,this._keySchedule,mo.SUB_MIX,mo.SBOX,this._nRounds)};Mf.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=A5.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Mf.prototype.decryptBlock=function(t){t=pD(t);var e=t[1];t[1]=t[3],t[3]=e;var r=_le(t,this._invKeySchedule,mo.INV_SUB_MIX,mo.INV_SBOX,this._nRounds),n=A5.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Mf.prototype.scrub=function(){hD(this._keySchedule),hD(this._invKeySchedule),hD(this._key)};wle.exports.AES=Mf});var Ale=j((TCt,Sle)=>{m();g();var ox=pr().Buffer,Dje=ox.alloc(16,0);function Uje(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}o(Uje,"toArray");function Ele(t){var e=ox.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}o(Ele,"fromArray");function Gw(t){this.h=t,this.state=ox.alloc(16,0),this.cache=ox.allocUnsafe(0)}o(Gw,"GHASH");Gw.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};Gw.prototype._multiply=function(){for(var t=Uje(this.h),e=[0,0,0,0],r,n,i,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=Ele(e)};Gw.prototype.update=function(t){this.cache=ox.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};Gw.prototype.final=function(t,e){return this.cache.length&&this.ghash(ox.concat([this.cache,Dje],16)),this.ghash(Ele([0,t,0,e])),this.state};Sle.exports=Gw});var mD=j((MCt,Rle)=>{m();g();var Fje=Kw(),dc=pr().Buffer,Ile=wh(),Hje=Zt(),Tle=Ale(),qje=ix(),Vje=cD();function jje(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}o(jje,"xorTest");function zje(t,e,r){if(e.length===12)return t._finID=dc.concat([e,dc.from([0,0,0,1])]),dc.concat([e,dc.from([0,0,0,2])]);var n=new Tle(r),i=e.length,s=i%16;n.update(e),s&&(s=16-s,n.update(dc.alloc(s,0))),n.update(dc.alloc(8,0));var a=i*8,c=dc.alloc(8);c.writeUIntBE(a,0,8),n.update(c),t._finID=n.state;var l=dc.from(t._finID);return Vje(l),l}o(zje,"calcIv");function sy(t,e,r,n){Ile.call(this);var i=dc.alloc(4,0);this._cipher=new Fje.AES(e);var s=this._cipher.encryptBlock(i);this._ghash=new Tle(s),r=zje(this,r,s),this._prev=dc.from(r),this._cache=dc.allocUnsafe(0),this._secCache=dc.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(sy,"StreamCipher");Hje(sy,Ile);sy.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=dc.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};sy.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=qje(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&jje(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};sy.prototype.getAuthTag=o(function(){if(this._decrypt||!dc.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},"getAuthTag");sy.prototype.setAuthTag=o(function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},"setAuthTag");sy.prototype.setAAD=o(function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},"setAAD");Rle.exports=sy});var yD=j((PCt,Nle)=>{m();g();var Kje=Kw(),gD=pr().Buffer,Ole=wh(),Gje=Zt();function I5(t,e,r,n){Ole.call(this),this._cipher=new Kje.AES(e),this._prev=gD.from(r),this._cache=gD.allocUnsafe(0),this._secCache=gD.allocUnsafe(0),this._decrypt=n,this._mode=t}o(I5,"StreamCipher");Gje(I5,Ole);I5.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};I5.prototype._final=function(){this._cipher.scrub()};Nle.exports=I5});var $w=j((FCt,Mle)=>{m();g();var ay=pr().Buffer,$je=B8();function Wje(t,e,r,n){if(ay.isBuffer(t)||(t=ay.from(t,"binary")),e&&(ay.isBuffer(e)||(e=ay.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=ay.alloc(i),a=ay.alloc(n||0),c=ay.alloc(0);i>0||n>0;){var l=new $je;l.update(c),l.update(t),e&&l.update(e),c=l.digest();var h=0;if(i>0){var y=s.length-i;h=Math.min(i,c.length),c.copy(s,y,0,h),i-=h}if(h<c.length&&n>0){var p=a.length-n,E=Math.min(n,c.length-h);c.copy(a,p,h,h+E),n-=E}}return c.fill(0),{key:s,iv:a}}o(Wje,"EVP_BytesToKey");Mle.exports=Wje});var Ple=j(bD=>{m();g();var Cle=S5(),Yje=mD(),Sh=pr().Buffer,Xje=yD(),kle=wh(),Zje=Kw(),Jje=$w(),Qje=Zt();function Ww(t,e,r){kle.call(this),this._cache=new T5,this._cipher=new Zje.AES(e),this._prev=Sh.from(r),this._mode=t,this._autopadding=!0}o(Ww,"Cipher");Qje(Ww,kle);Ww.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return Sh.concat(n)};var eze=Sh.alloc(16,16);Ww.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(eze))throw this._cipher.scrub(),new Error("data not multiple of block length")};Ww.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function T5(){this.cache=Sh.allocUnsafe(0)}o(T5,"Splitter");T5.prototype.add=function(t){this.cache=Sh.concat([this.cache,t])};T5.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};T5.prototype.flush=function(){for(var t=16-this.cache.length,e=Sh.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Sh.concat([this.cache,e])};function Ble(t,e,r){var n=Cle[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Sh.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Sh.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new Xje(n.module,e,r):n.type==="auth"?new Yje(n.module,e,r):new Ww(n.module,e,r)}o(Ble,"createCipheriv");function tze(t,e){var r=Cle[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=Jje(e,!1,r.key,r.iv);return Ble(t,n.key,n.iv)}o(tze,"createCipher");bD.createCipheriv=Ble;bD.createCipher=tze});var Fle=j(xD=>{m();g();var rze=mD(),sx=pr().Buffer,Lle=S5(),nze=yD(),Dle=wh(),ize=Kw(),oze=$w(),sze=Zt();function Yw(t,e,r){Dle.call(this),this._cache=new R5,this._last=void 0,this._cipher=new ize.AES(e),this._prev=sx.from(r),this._mode=t,this._autopadding=!0}o(Yw,"Decipher");sze(Yw,Dle);Yw.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return sx.concat(n)};Yw.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return aze(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};Yw.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function R5(){this.cache=sx.allocUnsafe(0)}o(R5,"Splitter");R5.prototype.add=function(t){this.cache=sx.concat([this.cache,t])};R5.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};R5.prototype.flush=function(){if(this.cache.length)return this.cache};function aze(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}o(aze,"unpad");function Ule(t,e,r){var n=Lle[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=sx.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=sx.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new nze(n.module,e,r,!0):n.type==="auth"?new rze(n.module,e,r,!0):new Yw(n.module,e,r)}o(Ule,"createDecipheriv");function cze(t,e){var r=Lle[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=oze(e,!1,r.key,r.iv);return Ule(t,n.key,n.iv)}o(cze,"createDecipher");xD.createDecipher=cze;xD.createDecipheriv=Ule});var O5=j(Du=>{m();g();var Hle=Ple(),qle=Fle(),fze=lD();function uze(){return Object.keys(fze)}o(uze,"getCiphers");Du.createCipher=Du.Cipher=Hle.createCipher;Du.createCipheriv=Du.Cipheriv=Hle.createCipheriv;Du.createDecipher=Du.Decipher=qle.createDecipher;Du.createDecipheriv=Du.Decipheriv=qle.createDecipheriv;Du.listCiphers=Du.getCiphers=uze});var Vle=j(Ah=>{m();g();Ah["des-ecb"]={key:8,iv:0};Ah["des-cbc"]=Ah.des={key:8,iv:8};Ah["des-ede3-cbc"]=Ah.des3={key:24,iv:8};Ah["des-ede3"]={key:24,iv:0};Ah["des-ede-cbc"]={key:16,iv:8};Ah["des-ede"]={key:16,iv:0}});var $le=j(Uu=>{m();g();var jle=nle(),vD=O5(),yp=S5(),Ih=Vle(),zle=$w();function lze(t,e){t=t.toLowerCase();var r,n;if(yp[t])r=yp[t].key,n=yp[t].iv;else if(Ih[t])r=Ih[t].key*8,n=Ih[t].iv;else throw new TypeError("invalid suite type");var i=zle(e,!1,r,n);return Kle(t,i.key,i.iv)}o(lze,"createCipher");function dze(t,e){t=t.toLowerCase();var r,n;if(yp[t])r=yp[t].key,n=yp[t].iv;else if(Ih[t])r=Ih[t].key*8,n=Ih[t].iv;else throw new TypeError("invalid suite type");var i=zle(e,!1,r,n);return Gle(t,i.key,i.iv)}o(dze,"createDecipher");function Kle(t,e,r){if(t=t.toLowerCase(),yp[t])return vD.createCipheriv(t,e,r);if(Ih[t])return new jle({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}o(Kle,"createCipheriv");function Gle(t,e,r){if(t=t.toLowerCase(),yp[t])return vD.createDecipheriv(t,e,r);if(Ih[t])return new jle({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}o(Gle,"createDecipheriv");function hze(){return Object.keys(Ih).concat(vD.getCiphers())}o(hze,"getCiphers");Uu.createCipher=Uu.Cipher=lze;Uu.createCipheriv=Uu.Cipheriv=Kle;Uu.createDecipher=Uu.Decipher=dze;Uu.createDecipheriv=Uu.Decipheriv=Gle;Uu.listCiphers=Uu.getCiphers=hze});var wD=j((Wle,_D)=>{m();g();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=ib().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,T=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,T;if(b==="be")for(x=f.length-1;x>=d;x-=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var T=S.charCodeAt(A)-48;x*=b,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,T=A%x,v=Math.min(A,A-T)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<T;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var T=this.words[A],v=((T<<x|_)&16777215).toString(16);_=T>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=p[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[u]=v;for(;u<_;u++)T[u]=0}else{for(u=0;u<_-x;u++)T[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[_-u-1]=v}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,T=0;T<_.length;T++)d=(x.words[T]|0)-(_.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function I(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,T=A&67108863,v=A/67108864|0;d.words[0]=T;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var $=u-U|0;x=S.words[$]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,T=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,$=x[1]|0,ee=$&8191,re=$>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,ur=x[4]|0,Ae=ur&8191,Ne=ur>>>13,jn=x[5]|0,qe=jn&8191,ke=jn>>>13,zn=x[6]|0,Ue=zn&8191,Pe=zn>>>13,Kn=x[7]|0,Be=Kn&8191,Le=Kn>>>13,Jr=x[8]|0,Z=Jr&8191,Q=Jr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Ie=tr&8191,Me=tr>>>13,ci=_[2]|0,Fe=ci&8191,De=ci>>>13,uo=_[3]|0,Ge=uo&8191,$e=uo>>>13,Gn=_[4]|0,He=Gn&8191,Ve=Gn>>>13,Qi=_[5]|0,je=Qi&8191,ze=Qi>>>13,Eo=_[6]|0,Ce=Eo&8191,Ke=Eo>>>13,z=_[7]|0,G=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Ie)|0,u=u+Math.imul(q,Me)|0,u=u+Math.imul(U,Ie)|0,w=w+Math.imul(U,Me)|0;var nt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Ie)|0,u=u+Math.imul(ee,Me)|0,u=u+Math.imul(re,Ie)|0,w=w+Math.imul(re,Me)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Ie)|0,u=u+Math.imul(ae,Me)|0,u=u+Math.imul(le,Ie)|0,w=w+Math.imul(le,Me)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,u=u+Math.imul(q,$e)|0,u=u+Math.imul(U,Ge)|0,w=w+Math.imul(U,$e)|0;var st=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Ne,ve)|0,w=Math.imul(Ne,Se),v=v+Math.imul(he,Ie)|0,u=u+Math.imul(he,Me)|0,u=u+Math.imul(ge,Ie)|0,w=w+Math.imul(ge,Me)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(re,Ge)|0,w=w+Math.imul(re,$e)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Ie)|0,u=u+Math.imul(Ae,Me)|0,u=u+Math.imul(Ne,Ie)|0,w=w+Math.imul(Ne,Me)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,u=u+Math.imul(ae,$e)|0,u=u+Math.imul(le,Ge)|0,w=w+Math.imul(le,$e)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Ie)|0,u=u+Math.imul(qe,Me)|0,u=u+Math.imul(ke,Ie)|0,w=w+Math.imul(ke,Me)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Ne,Fe)|0,w=w+Math.imul(Ne,De)|0,v=v+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,$e)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var Tt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Ie)|0,u=u+Math.imul(Ue,Me)|0,u=u+Math.imul(Pe,Ie)|0,w=w+Math.imul(Pe,Me)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Ne,Ge)|0,w=w+Math.imul(Ne,$e)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,G)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,G)|0,w=w+Math.imul(U,K)|0;var At=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(Z,ve),u=Math.imul(Z,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Ie)|0,u=u+Math.imul(Be,Me)|0,u=u+Math.imul(Le,Ie)|0,w=w+Math.imul(Le,Me)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,$e)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Ne,He)|0,w=w+Math.imul(Ne,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,G)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,G)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(Z,Ie)|0,u=u+Math.imul(Z,Me)|0,u=u+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Me)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,$e)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Ne,je)|0,w=w+Math.imul(Ne,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,G)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,G)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Ie),u=Math.imul(ne,Me),u=u+Math.imul(de,Ie)|0,w=Math.imul(de,Me),v=v+Math.imul(Z,Fe)|0,u=u+Math.imul(Z,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,u=u+Math.imul(Be,$e)|0,u=u+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,$e)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Ne,Ce)|0,w=w+Math.imul(Ne,Ke)|0,v=v+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,$e)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Ne,G)|0,w=w+Math.imul(Ne,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,w=Math.imul(de,$e),v=v+Math.imul(Z,He)|0,u=u+Math.imul(Z,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,G)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,G)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Ne,Y)|0,w=w+Math.imul(Ne,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(Z,je)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,G)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,ue)|0;var ot=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,G)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,G)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(Z,G)|0,u=u+Math.imul(Z,K)|0,u=u+Math.imul(Q,G)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,w=Math.imul(de,K),v=v+Math.imul(Z,Y)|0,u=u+Math.imul(Z,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(T+v|0)+((u&8191)<<13)|0;return T=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=Tt,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,T!==0&&(A[19]=T,b.length++),b},"comb10MulTo");Math.imul||(O=I);function N(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var T=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,$=U&67108863;A=A+(U/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=T,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(N,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=I(this,f,d):x<1024?b=N(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var T=0;T<A;T++)x[T]=d[f[T]],_[T]=b[f[T]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var T=1;T<_;T<<=1)for(var v=T<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,$=0;$<T;$++){var ee=b[V+$],re=x[V+$],Oe=b[V+$+T],ae=x[V+$+T],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+$]=ee+Oe,x[V+$]=re+ae,b[V+$+T]=ee-Oe,x[V+$+T]=re-ae,$!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),T=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,T,x),this.convert13b(d.words,d.length,w,x),this.transform(T,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var $=0;$<x;$++){var ee=v[$]*V[$]-u[$]*q[$];u[$]=v[$]*q[$]+u[$]*V[$],v[$]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var T=this.words[_]&x,v=(this.words[_]|0)-T<<d;this.words[_]=v|A,A=T>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),T=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&T}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,T=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+T;var v=(f.words[_]|0)*d;A-=v&67108863,T=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+T,T=A>>26,this.words[_+b]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+T,T=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,T=this._countBits(A);b=26-T,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),T=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,$=1;!(b.words[0]&$)&&U<26;++U,$<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(w)),A.iushrn(1),T.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(T)):(b.isub(d),A.isub(x),T.isub(_))}return{a:A,b:T,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var T=0,v=1;!(d.words[0]&v)&&T<26;++T,v<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var T=this.words[A]|0;T+=_,_=T>>>26,T&=67108863,this.words[A]=T}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),M.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,M),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var T=f.words[_]|0;f.words[_-10]=(T&b)<<4|A>>>22,A=T}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,M);function F(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,M);function J(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(J,"P25519"),n(J,M),J.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(L[f])return L[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new J;else throw new Error("Unknown prime "+f);return L[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(T)!==0;)u.redIAdd(T);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var $=q,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],T=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&T===0){v=0;continue}T<<=1,T|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[T]),v=0,T=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof _D>"u"||_D,Wle)});var Xle=j((Yle,ED)=>{m();g();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=ib().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,T=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,T;if(b==="be")for(x=f.length-1;x>=d;x-=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var T=S.charCodeAt(A)-48;x*=b,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,T=A%x,v=Math.min(A,A-T)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<T;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var T=this.words[A],v=((T<<x|_)&16777215).toString(16);_=T>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=p[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[u]=v;for(;u<_;u++)T[u]=0}else{for(u=0;u<_-x;u++)T[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[_-u-1]=v}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,T=0;T<_.length;T++)d=(x.words[T]|0)-(_.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function I(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,T=A&67108863,v=A/67108864|0;d.words[0]=T;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var $=u-U|0;x=S.words[$]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,T=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,$=x[1]|0,ee=$&8191,re=$>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,ur=x[4]|0,Ae=ur&8191,Ne=ur>>>13,jn=x[5]|0,qe=jn&8191,ke=jn>>>13,zn=x[6]|0,Ue=zn&8191,Pe=zn>>>13,Kn=x[7]|0,Be=Kn&8191,Le=Kn>>>13,Jr=x[8]|0,Z=Jr&8191,Q=Jr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Ie=tr&8191,Me=tr>>>13,ci=_[2]|0,Fe=ci&8191,De=ci>>>13,uo=_[3]|0,Ge=uo&8191,$e=uo>>>13,Gn=_[4]|0,He=Gn&8191,Ve=Gn>>>13,Qi=_[5]|0,je=Qi&8191,ze=Qi>>>13,Eo=_[6]|0,Ce=Eo&8191,Ke=Eo>>>13,z=_[7]|0,G=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Ie)|0,u=u+Math.imul(q,Me)|0,u=u+Math.imul(U,Ie)|0,w=w+Math.imul(U,Me)|0;var nt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Ie)|0,u=u+Math.imul(ee,Me)|0,u=u+Math.imul(re,Ie)|0,w=w+Math.imul(re,Me)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Ie)|0,u=u+Math.imul(ae,Me)|0,u=u+Math.imul(le,Ie)|0,w=w+Math.imul(le,Me)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,u=u+Math.imul(q,$e)|0,u=u+Math.imul(U,Ge)|0,w=w+Math.imul(U,$e)|0;var st=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Ne,ve)|0,w=Math.imul(Ne,Se),v=v+Math.imul(he,Ie)|0,u=u+Math.imul(he,Me)|0,u=u+Math.imul(ge,Ie)|0,w=w+Math.imul(ge,Me)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(re,Ge)|0,w=w+Math.imul(re,$e)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Ie)|0,u=u+Math.imul(Ae,Me)|0,u=u+Math.imul(Ne,Ie)|0,w=w+Math.imul(Ne,Me)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,u=u+Math.imul(ae,$e)|0,u=u+Math.imul(le,Ge)|0,w=w+Math.imul(le,$e)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Ie)|0,u=u+Math.imul(qe,Me)|0,u=u+Math.imul(ke,Ie)|0,w=w+Math.imul(ke,Me)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Ne,Fe)|0,w=w+Math.imul(Ne,De)|0,v=v+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,$e)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var Tt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Ie)|0,u=u+Math.imul(Ue,Me)|0,u=u+Math.imul(Pe,Ie)|0,w=w+Math.imul(Pe,Me)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Ne,Ge)|0,w=w+Math.imul(Ne,$e)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,G)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,G)|0,w=w+Math.imul(U,K)|0;var At=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(Z,ve),u=Math.imul(Z,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Ie)|0,u=u+Math.imul(Be,Me)|0,u=u+Math.imul(Le,Ie)|0,w=w+Math.imul(Le,Me)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,$e)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Ne,He)|0,w=w+Math.imul(Ne,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,G)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,G)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(Z,Ie)|0,u=u+Math.imul(Z,Me)|0,u=u+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Me)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,$e)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Ne,je)|0,w=w+Math.imul(Ne,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,G)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,G)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Ie),u=Math.imul(ne,Me),u=u+Math.imul(de,Ie)|0,w=Math.imul(de,Me),v=v+Math.imul(Z,Fe)|0,u=u+Math.imul(Z,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,u=u+Math.imul(Be,$e)|0,u=u+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,$e)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Ne,Ce)|0,w=w+Math.imul(Ne,Ke)|0,v=v+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,$e)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Ne,G)|0,w=w+Math.imul(Ne,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,w=Math.imul(de,$e),v=v+Math.imul(Z,He)|0,u=u+Math.imul(Z,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,G)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,G)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Ne,Y)|0,w=w+Math.imul(Ne,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(Z,je)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,G)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,ue)|0;var ot=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,G)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,G)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(Z,G)|0,u=u+Math.imul(Z,K)|0,u=u+Math.imul(Q,G)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,w=Math.imul(de,K),v=v+Math.imul(Z,Y)|0,u=u+Math.imul(Z,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(T+v|0)+((u&8191)<<13)|0;return T=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=Tt,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,T!==0&&(A[19]=T,b.length++),b},"comb10MulTo");Math.imul||(O=I);function N(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var T=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,$=U&67108863;A=A+(U/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=T,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(N,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=I(this,f,d):x<1024?b=N(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var T=0;T<A;T++)x[T]=d[f[T]],_[T]=b[f[T]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var T=1;T<_;T<<=1)for(var v=T<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,$=0;$<T;$++){var ee=b[V+$],re=x[V+$],Oe=b[V+$+T],ae=x[V+$+T],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+$]=ee+Oe,x[V+$]=re+ae,b[V+$+T]=ee-Oe,x[V+$+T]=re-ae,$!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),T=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,T,x),this.convert13b(d.words,d.length,w,x),this.transform(T,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var $=0;$<x;$++){var ee=v[$]*V[$]-u[$]*q[$];u[$]=v[$]*q[$]+u[$]*V[$],v[$]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var T=this.words[_]&x,v=(this.words[_]|0)-T<<d;this.words[_]=v|A,A=T>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),T=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&T}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,T=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+T;var v=(f.words[_]|0)*d;A-=v&67108863,T=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+T,T=A>>26,this.words[_+b]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+T,T=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,T=this._countBits(A);b=26-T,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),T=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,$=1;!(b.words[0]&$)&&U<26;++U,$<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(w)),A.iushrn(1),T.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(T)):(b.isub(d),A.isub(x),T.isub(_))}return{a:A,b:T,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var T=0,v=1;!(d.words[0]&v)&&T<26;++T,v<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var T=this.words[A]|0;T+=_,_=T>>>26,T&=67108863,this.words[A]=T}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),M.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,M),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var T=f.words[_]|0;f.words[_-10]=(T&b)<<4|A>>>22,A=T}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,M);function F(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,M);function J(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(J,"P25519"),n(J,M),J.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(L[f])return L[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new J;else throw new Error("Unknown prime "+f);return L[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(T)!==0;)u.redIAdd(T);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var $=q,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],T=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&T===0){v=0;continue}T<<=1,T|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[T]),v=0,T=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof ED>"u"||ED,Yle)});var N5=j((pkt,ID)=>{m();g();var SD;ID.exports=o(function(e){return SD||(SD=new bp(null)),SD.generate(e)},"rand");function bp(t){this.rand=t}o(bp,"Rand");ID.exports.Rand=bp;bp.prototype.generate=o(function(e){return this._rand(e)},"generate");bp.prototype._rand=o(function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r},"_rand");if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?bp.prototype._rand=o(function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r},"_rand"):self.msCrypto&&self.msCrypto.getRandomValues?bp.prototype._rand=o(function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r},"_rand"):typeof self=="object"&&(bp.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(AD=ax(),typeof AD.randomBytes!="function")throw new Error("Not supported");bp.prototype._rand=o(function(e){return AD.randomBytes(e)},"_rand")}catch{}var AD});var TD=j((bkt,Zle)=>{m();g();var cy=Xle(),pze=N5();function fy(t){this.rand=t||new pze.Rand}o(fy,"MillerRabin");Zle.exports=fy;fy.create=o(function(e){return new fy(e)},"create");fy.prototype._randbelow=o(function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new cy(this.rand.generate(n));while(i.cmp(e)>=0);return i},"_randbelow");fy.prototype._randrange=o(function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))},"_randrange");fy.prototype.test=o(function(e,r,n){var i=e.bitLength(),s=cy.mont(e),a=new cy(1).toRed(s);r||(r=Math.max(1,i/48|0));for(var c=e.subn(1),l=0;!c.testn(l);l++);for(var h=e.shrn(l),y=c.toRed(s),p=!0;r>0;r--){var E=this._randrange(new cy(2),c);n&&n(E);var I=E.toRed(s).redPow(h);if(!(I.cmp(a)===0||I.cmp(y)===0)){for(var O=1;O<l;O++){if(I=I.redSqr(),I.cmp(a)===0)return!1;if(I.cmp(y)===0)break}if(O===l)return!1}}return p},"test");fy.prototype.getDivisor=o(function(e,r){var n=e.bitLength(),i=cy.mont(e),s=new cy(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var a=e.subn(1),c=0;!a.testn(c);c++);for(var l=e.shrn(c),h=a.toRed(i);r>0;r--){var y=this._randrange(new cy(2),a),p=e.gcd(y);if(p.cmpn(1)!==0)return p;var E=y.toRed(i).redPow(l);if(!(E.cmp(s)===0||E.cmp(h)===0)){for(var I=1;I<c;I++){if(E=E.redSqr(),E.cmp(s)===0)return E.fromRed().subn(1).gcd(e);if(E.cmp(h)===0)break}if(I===c)return E=E.redSqr(),E.fromRed().subn(1).gcd(e)}}return!1},"getDivisor")});var kD=j((Ikt,ede)=>{m();g();var mze=jg();ede.exports=CD;CD.simpleSieve=ND;CD.fermatTest=MD;var gs=wD(),gze=new gs(24),yze=TD(),Jle=new yze,bze=new gs(1),OD=new gs(2),xze=new gs(5),wkt=new gs(16),Ekt=new gs(8),vze=new gs(10),_ze=new gs(3),Skt=new gs(7),wze=new gs(11),Qle=new gs(4),Akt=new gs(12),RD=null;function Eze(){if(RD!==null)return RD;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),s=0;s<r&&e[s]<=i&&n%e[s]!==0;s++);r!==s&&e[s]<=i||(e[r++]=n)}return RD=e,e}o(Eze,"_getPrimes");function ND(t){for(var e=Eze(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}o(ND,"simpleSieve");function MD(t){var e=gs.mont(t);return OD.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}o(MD,"fermatTest");function CD(t,e){if(t<16)return e===2||e===5?new gs([140,123]):new gs([140,39]);e=new gs(e);for(var r,n;;){for(r=new gs(mze(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(bze),r.testn(1)||r.iadd(OD),e.cmp(OD)){if(!e.cmp(xze))for(;r.mod(vze).cmp(_ze);)r.iadd(Qle)}else for(;r.mod(gze).cmp(wze);)r.iadd(Qle);if(n=r.shrn(1),ND(n)&&ND(r)&&MD(n)&&MD(r)&&Jle.test(n)&&Jle.test(r))return r}}o(CD,"findPrime")});var tde=j((Nkt,Sze)=>{Sze.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var ode=j((Mkt,ide)=>{m();g();var Cf=wD(),Aze=TD(),rde=new Aze,Ize=new Cf(24),Tze=new Cf(11),Rze=new Cf(10),Oze=new Cf(3),Nze=new Cf(7),nde=kD(),Mze=jg();ide.exports=Th;function Cze(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new Cf(t),this}o(Cze,"setPublicKey");function kze(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new Cf(t),this}o(kze,"setPrivateKey");var M5={};function Bze(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in M5)return M5[n];var i=0;if(t.isEven()||!nde.simpleSieve||!nde.fermatTest(t)||!rde.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,M5[n]=i,i;rde.test(t.shrn(1))||(i+=2);var s;switch(r){case"02":t.mod(Ize).cmp(Tze)&&(i+=8);break;case"05":s=t.mod(Rze),s.cmp(Oze)&&s.cmp(Nze)&&(i+=8);break;default:i+=4}return M5[n]=i,i}o(Bze,"checkPrime");function Th(t,e,r){this.setGenerator(e),this.__prime=new Cf(t),this._prime=Cf.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=Cze,this.setPrivateKey=kze):this._primeCode=8}o(Th,"DH");Object.defineProperty(Th.prototype,"verifyError",{enumerable:!0,get:o(function(){return typeof this._primeCode!="number"&&(this._primeCode=Bze(this.__prime,this.__gen)),this._primeCode},"get")});Th.prototype.generateKeys=function(){return this._priv||(this._priv=new Cf(Mze(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};Th.prototype.computeSecret=function(t){t=new Cf(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new Buffer(n.length-r.length);i.fill(0),r=Buffer.concat([i,r])}return r};Th.prototype.getPublicKey=o(function(e){return C5(this._pub,e)},"getPublicKey");Th.prototype.getPrivateKey=o(function(e){return C5(this._priv,e)},"getPrivateKey");Th.prototype.getPrime=function(t){return C5(this.__prime,t)};Th.prototype.getGenerator=function(t){return C5(this._gen,t)};Th.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new Cf(t),this};function C5(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}o(C5,"formatReturnValue")});var cde=j(cx=>{m();g();var Pze=kD(),sde=tde(),BD=ode();function Lze(t){var e=new Buffer(sde[t].prime,"hex"),r=new Buffer(sde[t].gen,"hex");return new BD(e,r)}o(Lze,"getDiffieHellman");var Dze={binary:!0,hex:!0,base64:!0};function ade(t,e,r,n){return Buffer.isBuffer(e)||Dze[e]===void 0?ade(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new Buffer([2]),Buffer.isBuffer(r)||(r=new Buffer(r,n)),typeof t=="number"?new BD(Pze(t,r),r,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,e)),new BD(t,r,!0)))}o(ade,"createDiffieHellman");cx.DiffieHellmanGroup=cx.createDiffieHellmanGroup=cx.getDiffieHellman=Lze;cx.createDiffieHellman=cx.DiffieHellman=ade});var PD=j((Fkt,fde)=>{m();g();fde.exports=Hb().EventEmitter});var mde=j((Vkt,pde)=>{"use strict";m();g();function ude(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}o(ude,"ownKeys");function lde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ude(Object(r),!0).forEach(function(n){Uze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ude(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}o(lde,"_objectSpread");function Uze(t,e,r){return e=hde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(Uze,"_defineProperty");function Fze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(Fze,"_classCallCheck");function dde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hde(n.key),n)}}o(dde,"_defineProperties");function Hze(t,e,r){return e&&dde(t.prototype,e),r&&dde(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}o(Hze,"_createClass");function hde(t){var e=qze(t,"string");return typeof e=="symbol"?e:String(e)}o(hde,"_toPropertyKey");function qze(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(qze,"_toPrimitive");var Vze=fi(),k5=Vze.Buffer,jze=dw(),LD=jze.inspect,zze=LD&&LD.custom||"inspect";function Kze(t,e,r){k5.prototype.copy.call(t,e,r)}o(Kze,"copyBuffer");pde.exports=function(){function t(){Fze(this,t),this.head=null,this.tail=null,this.length=0}return o(t,"BufferList"),Hze(t,[{key:"push",value:o(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:o(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:o(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift")},{key:"clear",value:o(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:o(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join")},{key:"concat",value:o(function(r){if(this.length===0)return k5.alloc(0);for(var n=k5.allocUnsafe(r>>>0),i=this.head,s=0;i;)Kze(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat")},{key:"consume",value:o(function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i},"consume")},{key:"first",value:o(function(){return this.head.data},"first")},{key:"_getString",value:o(function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var a=n.data,c=r>a.length?a.length:r;if(c===a.length?s+=a:s+=a.slice(0,r),r-=c,r===0){c===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(c));break}++i}return this.length-=i,s},"_getString")},{key:"_getBuffer",value:o(function(r){var n=k5.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,c=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,c),r-=c,r===0){c===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(c));break}++s}return this.length-=s,n},"_getBuffer")},{key:zze,value:o(function(r,n){return LD(this,lde(lde({},n),{},{depth:0,customInspect:!1}))},"value")}]),t}()});var UD=j((Gkt,yde)=>{"use strict";m();g();function Gze(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(DD,this,t)):process.nextTick(DD,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(B5,r):(r._writableState.errorEmitted=!0,process.nextTick(gde,r,s)):process.nextTick(gde,r,s):e?(process.nextTick(B5,r),e(s)):process.nextTick(B5,r)}),this)}o(Gze,"destroy");function gde(t,e){DD(t,e),B5(t)}o(gde,"emitErrorAndCloseNT");function B5(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}o(B5,"emitCloseNT");function $ze(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}o($ze,"undestroy");function DD(t,e){t.emit("error",e)}o(DD,"emitErrorNT");function Wze(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}o(Wze,"errorOrDestroy");yde.exports={destroy:Gze,undestroy:$ze,errorOrDestroy:Wze}});var uy=j((Xkt,vde)=>{"use strict";m();g();function Yze(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}o(Yze,"_inheritsLoose");var xde={};function kf(t,e,r){r||(r=Error);function n(s,a,c){return typeof e=="string"?e:e(s,a,c)}o(n,"getMessage");var i=function(s){Yze(a,s);function a(c,l,h){return s.call(this,n(c,l,h))||this}return o(a,"NodeError"),a}(r);i.prototype.name=r.name,i.prototype.code=t,xde[t]=i}o(kf,"createErrorType");function bde(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(bde,"oneOf");function Xze(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(Xze,"startsWith");function Zze(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(Zze,"endsWith");function Jze(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(Jze,"includes");kf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);kf("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Xze(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Zze(t," argument"))i="The ".concat(t," ").concat(n," ").concat(bde(e,"type"));else{var s=Jze(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(bde(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);kf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");kf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});kf("ERR_STREAM_PREMATURE_CLOSE","Premature close");kf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});kf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");kf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");kf("ERR_STREAM_WRITE_AFTER_END","write after end");kf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);kf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);kf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");vde.exports.codes=xde});var FD=j((eBt,_de)=>{"use strict";m();g();var Qze=uy().codes.ERR_INVALID_OPT_VALUE;function eKe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}o(eKe,"highWaterMarkFrom");function tKe(t,e,r,n){var i=eKe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Qze(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}o(tKe,"getHighWaterMark");_de.exports={getHighWaterMark:tKe}});var VD=j((iBt,Tde)=>{"use strict";m();g();Tde.exports=Gi;function Ede(t){var e=this;this.next=null,this.entry=null,this.finish=function(){RKe(e,t)}}o(Ede,"CorkedRequest");var fx;Gi.WritableState=Zw;var rKe={deprecate:YP()},Sde=PD(),L5=fi().Buffer,nKe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function iKe(t){return L5.from(t)}o(iKe,"_uint8ArrayToBuffer");function oKe(t){return L5.isBuffer(t)||t instanceof nKe}o(oKe,"_isUint8Array");var qD=UD(),sKe=FD(),aKe=sKe.getHighWaterMark,xp=uy().codes,cKe=xp.ERR_INVALID_ARG_TYPE,fKe=xp.ERR_METHOD_NOT_IMPLEMENTED,uKe=xp.ERR_MULTIPLE_CALLBACK,lKe=xp.ERR_STREAM_CANNOT_PIPE,dKe=xp.ERR_STREAM_DESTROYED,hKe=xp.ERR_STREAM_NULL_VALUES,pKe=xp.ERR_STREAM_WRITE_AFTER_END,mKe=xp.ERR_UNKNOWN_ENCODING,ux=qD.errorOrDestroy;Zt()(Gi,Sde);function gKe(){}o(gKe,"nop");function Zw(t,e,r){fx=fx||ly(),t=t||{},typeof r!="boolean"&&(r=e instanceof fx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=aKe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){EKe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ede(this)}o(Zw,"WritableState");Zw.prototype.getBuffer=o(function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r},"getBuffer");(function(){try{Object.defineProperty(Zw.prototype,"buffer",{get:rKe.deprecate(o(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var P5;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(P5=Function.prototype[Symbol.hasInstance],Object.defineProperty(Gi,Symbol.hasInstance,{value:o(function(e){return P5.call(this,e)?!0:this!==Gi?!1:e&&e._writableState instanceof Zw},"value")})):P5=o(function(e){return e instanceof this},"realHasInstance");function Gi(t){fx=fx||ly();var e=this instanceof fx;if(!e&&!P5.call(Gi,this))return new Gi(t);this._writableState=new Zw(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Sde.call(this)}o(Gi,"Writable");Gi.prototype.pipe=function(){ux(this,new lKe)};function yKe(t,e){var r=new pKe;ux(t,r),process.nextTick(e,r)}o(yKe,"writeAfterEnd");function bKe(t,e,r,n){var i;return r===null?i=new hKe:typeof r!="string"&&!e.objectMode&&(i=new cKe("chunk",["string","Buffer"],r)),i?(ux(t,i),process.nextTick(n,i),!1):!0}o(bKe,"validChunk");Gi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&oKe(t);return s&&!L5.isBuffer(t)&&(t=iKe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=gKe),n.ending?yKe(this,r):(s||bKe(this,n,t,r))&&(n.pendingcb++,i=vKe(this,n,s,t,e,r)),i};Gi.prototype.cork=function(){this._writableState.corked++};Gi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Ade(this,t))};Gi.prototype.setDefaultEncoding=o(function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new mKe(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");Object.defineProperty(Gi.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function xKe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=L5.from(e,r)),e}o(xKe,"decodeChunk");Object.defineProperty(Gi.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});function vKe(t,e,r,n,i,s){if(!r){var a=xKe(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var c=e.objectMode?1:n.length;e.length+=c;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else HD(t,e,!1,c,n,i,s);return l}o(vKe,"writeOrBuffer");function HD(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new dKe("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}o(HD,"doWrite");function _Ke(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Xw,t,e),t._writableState.errorEmitted=!0,ux(t,n)):(i(n),t._writableState.errorEmitted=!0,ux(t,n),Xw(t,e))}o(_Ke,"onwriteError");function wKe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}o(wKe,"onwriteStateUpdate");function EKe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new uKe;if(wKe(r),e)_Ke(t,r,n,e,i);else{var s=Ide(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Ade(t,r),n?process.nextTick(wde,t,r,s,i):wde(t,r,s,i)}}o(EKe,"onwrite");function wde(t,e,r,n){r||SKe(t,e),e.pendingcb--,n(),Xw(t,e)}o(wde,"afterWrite");function SKe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}o(SKe,"onwriteDrain");function Ade(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,HD(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Ede(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,y=r.callback,p=e.objectMode?1:l.length;if(HD(t,e,!1,p,l,h,y),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}o(Ade,"clearBuffer");Gi.prototype._write=function(t,e,r){r(new fKe("_write()"))};Gi.prototype._writev=null;Gi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||TKe(this,n,r),this};Object.defineProperty(Gi.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function Ide(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}o(Ide,"needFinish");function AKe(t,e){t._final(function(r){e.pendingcb--,r&&ux(t,r),e.prefinished=!0,t.emit("prefinish"),Xw(t,e)})}o(AKe,"callFinal");function IKe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(AKe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}o(IKe,"prefinish");function Xw(t,e){var r=Ide(e);if(r&&(IKe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}o(Xw,"finishMaybe");function TKe(t,e,r){e.ending=!0,Xw(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}o(TKe,"endWritable");function RKe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}o(RKe,"onCorkedFinish");Object.defineProperty(Gi.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:o(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});Gi.prototype.destroy=qD.destroy;Gi.prototype._undestroy=qD.undestroy;Gi.prototype._destroy=function(t,e){e(t)}});var ly=j((cBt,Ode)=>{"use strict";m();g();var OKe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Ode.exports=Zl;var Rde=KD(),zD=VD();Zt()(Zl,Rde);for(jD=OKe(zD.prototype),D5=0;D5<jD.length;D5++)U5=jD[D5],Zl.prototype[U5]||(Zl.prototype[U5]=zD.prototype[U5]);var jD,U5,D5;function Zl(t){if(!(this instanceof Zl))return new Zl(t);Rde.call(this,t),zD.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",NKe)))}o(Zl,"Duplex");Object.defineProperty(Zl.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(Zl.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(Zl.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function NKe(){this._writableState.ended||process.nextTick(MKe,this)}o(NKe,"onend");function MKe(t){t.end()}o(MKe,"onEndNT");Object.defineProperty(Zl.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:o(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")})});var F5=j((dBt,Cde)=>{"use strict";m();g();var Nde=uy().codes.ERR_STREAM_PREMATURE_CLOSE;function CKe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}o(CKe,"once");function kKe(){}o(kKe,"noop");function BKe(t){return t.setHeader&&typeof t.abort=="function"}o(BKe,"isRequest");function Mde(t,e,r){if(typeof e=="function")return Mde(t,null,e);e||(e={}),r=CKe(r||kKe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=o(function(){t.writable||c()},"onlegacyfinish"),a=t._writableState&&t._writableState.finished,c=o(function(){i=!1,a=!0,n||r.call(t)},"onfinish"),l=t._readableState&&t._readableState.endEmitted,h=o(function(){n=!1,l=!0,i||r.call(t)},"onend"),y=o(function(O){r.call(t,O)},"onerror"),p=o(function(){var O;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(O=new Nde),r.call(t,O);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(O=new Nde),r.call(t,O)},"onclose"),E=o(function(){t.req.on("finish",c)},"onrequest");return BKe(t)?(t.on("complete",c),t.on("abort",p),t.req?E():t.on("request",E)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",c),e.error!==!1&&t.on("error",y),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",E),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",h),t.removeListener("error",y),t.removeListener("close",p)}}o(Mde,"eos");Cde.exports=Mde});var Bde=j((gBt,kde)=>{"use strict";m();g();var H5;function vp(t,e,r){return e=PKe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(vp,"_defineProperty");function PKe(t){var e=LKe(t,"string");return typeof e=="symbol"?e:String(e)}o(PKe,"_toPropertyKey");function LKe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(LKe,"_toPrimitive");var DKe=F5(),_p=Symbol("lastResolve"),dy=Symbol("lastReject"),Jw=Symbol("error"),q5=Symbol("ended"),hy=Symbol("lastPromise"),GD=Symbol("handlePromise"),py=Symbol("stream");function wp(t,e){return{value:t,done:e}}o(wp,"createIterResult");function UKe(t){var e=t[_p];if(e!==null){var r=t[py].read();r!==null&&(t[hy]=null,t[_p]=null,t[dy]=null,e(wp(r,!1)))}}o(UKe,"readAndResolve");function FKe(t){process.nextTick(UKe,t)}o(FKe,"onReadable");function HKe(t,e){return function(r,n){t.then(function(){if(e[q5]){r(wp(void 0,!0));return}e[GD](r,n)},n)}}o(HKe,"wrapForNext");var qKe=Object.getPrototypeOf(function(){}),VKe=Object.setPrototypeOf((H5={get stream(){return this[py]},next:o(function(){var e=this,r=this[Jw];if(r!==null)return Promise.reject(r);if(this[q5])return Promise.resolve(wp(void 0,!0));if(this[py].destroyed)return new Promise(function(a,c){process.nextTick(function(){e[Jw]?c(e[Jw]):a(wp(void 0,!0))})});var n=this[hy],i;if(n)i=new Promise(HKe(n,this));else{var s=this[py].read();if(s!==null)return Promise.resolve(wp(s,!1));i=new Promise(this[GD])}return this[hy]=i,i},"next")},vp(H5,Symbol.asyncIterator,function(){return this}),vp(H5,"return",o(function(){var e=this;return new Promise(function(r,n){e[py].destroy(null,function(i){if(i){n(i);return}r(wp(void 0,!0))})})},"_return")),H5),qKe),jKe=o(function(e){var r,n=Object.create(VKe,(r={},vp(r,py,{value:e,writable:!0}),vp(r,_p,{value:null,writable:!0}),vp(r,dy,{value:null,writable:!0}),vp(r,Jw,{value:null,writable:!0}),vp(r,q5,{value:e._readableState.endEmitted,writable:!0}),vp(r,GD,{value:o(function(s,a){var c=n[py].read();c?(n[hy]=null,n[_p]=null,n[dy]=null,s(wp(c,!1))):(n[_p]=s,n[dy]=a)},"value"),writable:!0}),r));return n[hy]=null,DKe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[dy];s!==null&&(n[hy]=null,n[_p]=null,n[dy]=null,s(i)),n[Jw]=i;return}var a=n[_p];a!==null&&(n[hy]=null,n[_p]=null,n[dy]=null,a(wp(void 0,!0))),n[q5]=!0}),e.on("readable",FKe.bind(null,n)),n},"createReadableStreamAsyncIterator");kde.exports=jKe});var Lde=j((vBt,Pde)=>{m();g();Pde.exports=function(){throw new Error("Readable.from is not available in the browser")}});var KD=j((SBt,Gde)=>{"use strict";m();g();Gde.exports=rn;var lx;rn.ReadableState=Hde;var EBt=Hb().EventEmitter,Fde=o(function(e,r){return e.listeners(r).length},"EElistenerCount"),eE=PD(),V5=fi().Buffer,zKe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function KKe(t){return V5.from(t)}o(KKe,"_uint8ArrayToBuffer");function GKe(t){return V5.isBuffer(t)||t instanceof zKe}o(GKe,"_isUint8Array");var $D=dw(),Br;$D&&$D.debuglog?Br=$D.debuglog("stream"):Br=o(function(){},"debug");var $Ke=mde(),eU=UD(),WKe=FD(),YKe=WKe.getHighWaterMark,j5=uy().codes,XKe=j5.ERR_INVALID_ARG_TYPE,ZKe=j5.ERR_STREAM_PUSH_AFTER_EOF,JKe=j5.ERR_METHOD_NOT_IMPLEMENTED,QKe=j5.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,dx,WD,YD;Zt()(rn,eE);var Qw=eU.errorOrDestroy,XD=["error","close","destroy","pause","resume"];function eGe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}o(eGe,"prependListener");function Hde(t,e,r){lx=lx||ly(),t=t||{},typeof r!="boolean"&&(r=e instanceof lx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=YKe(this,t,"readableHighWaterMark",r),this.buffer=new $Ke,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(dx||(dx=jb().StringDecoder),this.decoder=new dx(t.encoding),this.encoding=t.encoding)}o(Hde,"ReadableState");function rn(t){if(lx=lx||ly(),!(this instanceof rn))return new rn(t);var e=this instanceof lx;this._readableState=new Hde(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),eE.call(this)}o(rn,"Readable");Object.defineProperty(rn.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:o(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});rn.prototype.destroy=eU.destroy;rn.prototype._undestroy=eU.undestroy;rn.prototype._destroy=function(t,e){e(t)};rn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=V5.from(t,e),e=""),n=!0),qde(this,t,e,!1,n)};rn.prototype.unshift=function(t){return qde(this,t,null,!0,!1)};function qde(t,e,r,n,i){Br("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,nGe(t,s);else{var a;if(i||(a=tGe(s,e)),a)Qw(t,a);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==V5.prototype&&(e=KKe(e)),n)s.endEmitted?Qw(t,new QKe):ZD(t,s,e,!0);else if(s.ended)Qw(t,new ZKe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?ZD(t,s,e,!1):QD(t,s)):ZD(t,s,e,!1)}else n||(s.reading=!1,QD(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}o(qde,"readableAddChunk");function ZD(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&z5(t)),QD(t,e)}o(ZD,"addChunk");function tGe(t,e){var r;return!GKe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new XKe("chunk",["string","Buffer","Uint8Array"],e)),r}o(tGe,"chunkInvalid");rn.prototype.isPaused=function(){return this._readableState.flowing===!1};rn.prototype.setEncoding=function(t){dx||(dx=jb().StringDecoder);var e=new dx(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Dde=1073741824;function rGe(t){return t>=Dde?t=Dde:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}o(rGe,"computeNewHighWaterMark");function Ude(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=rGe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}o(Ude,"howMuchToRead");rn.prototype.read=function(t){Br("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Br("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?JD(this):z5(this),null;if(t=Ude(t,e),t===0&&e.ended)return e.length===0&&JD(this),null;var n=e.needReadable;Br("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Br("length less than watermark",n)),e.ended||e.reading?(n=!1,Br("reading or ended",n)):n&&(Br("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Ude(r,e)));var i;return t>0?i=zde(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&JD(this)),i!==null&&this.emit("data",i),i};function nGe(t,e){if(Br("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?z5(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Vde(t)))}}o(nGe,"onEofChunk");function z5(t){var e=t._readableState;Br("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Br("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Vde,t))}o(z5,"emitReadable");function Vde(t){var e=t._readableState;Br("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,tU(t)}o(Vde,"emitReadable_");function QD(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(iGe,t,e))}o(QD,"maybeReadMore");function iGe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Br("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}o(iGe,"maybeReadMore_");rn.prototype._read=function(t){Qw(this,new JKe("_read()"))};rn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Br("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?c:N;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(k,C){Br("onunpipe"),k===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,y())}o(a,"onunpipe");function c(){Br("onend"),t.end()}o(c,"onend");var l=oGe(r);t.on("drain",l);var h=!1;function y(){Br("cleanup"),t.removeListener("close",I),t.removeListener("finish",O),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",N),r.removeListener("data",p),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}o(y,"cleanup"),r.on("data",p);function p(k){Br("ondata");var C=t.write(k);Br("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Kde(n.pipes,t)!==-1)&&!h&&(Br("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}o(p,"ondata");function E(k){Br("onerror",k),N(),t.removeListener("error",E),Fde(t,"error")===0&&Qw(t,k)}o(E,"onerror"),eGe(t,"error",E);function I(){t.removeListener("finish",O),N()}o(I,"onclose"),t.once("close",I);function O(){Br("onfinish"),t.removeListener("close",I),N()}o(O,"onfinish"),t.once("finish",O);function N(){Br("unpipe"),r.unpipe(t)}return o(N,"unpipe"),t.emit("pipe",r),n.flowing||(Br("pipe resume"),r.resume()),t};function oGe(t){return o(function(){var r=t._readableState;Br("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Fde(t,"data")&&(r.flowing=!0,tU(t))},"pipeOnDrainFunctionResult")}o(oGe,"pipeOnDrain");rn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Kde(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};rn.prototype.on=function(t,e){var r=eE.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Br("on readable",n.length,n.reading),n.length?z5(this):n.reading||process.nextTick(sGe,this)),r};rn.prototype.addListener=rn.prototype.on;rn.prototype.removeListener=function(t,e){var r=eE.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(jde,this),r};rn.prototype.removeAllListeners=function(t){var e=eE.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(jde,this),e};function jde(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}o(jde,"updateReadableListening");function sGe(t){Br("readable nexttick read 0"),t.read(0)}o(sGe,"nReadingNextTick");rn.prototype.resume=function(){var t=this._readableState;return t.flowing||(Br("resume"),t.flowing=!t.readableListening,aGe(this,t)),t.paused=!1,this};function aGe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(cGe,t,e))}o(aGe,"resume");function cGe(t,e){Br("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),tU(t),e.flowing&&!e.reading&&t.read(0)}o(cGe,"resume_");rn.prototype.pause=function(){return Br("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Br("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function tU(t){var e=t._readableState;for(Br("flow",e.flowing);e.flowing&&t.read()!==null;);}o(tU,"flow");rn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Br("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(Br("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var c=e.push(a);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=o(function(c){return o(function(){return t[c].apply(t,arguments)},"methodWrapReturnFunction")},"methodWrap")(i));for(var s=0;s<XD.length;s++)t.on(XD[s],this.emit.bind(this,XD[s]));return this._read=function(a){Br("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(rn.prototype[Symbol.asyncIterator]=function(){return WD===void 0&&(WD=Bde()),WD(this)});Object.defineProperty(rn.prototype,"readableHighWaterMark",{enumerable:!1,get:o(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(rn.prototype,"readableBuffer",{enumerable:!1,get:o(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(rn.prototype,"readableFlowing",{enumerable:!1,get:o(function(){return this._readableState.flowing},"get"),set:o(function(e){this._readableState&&(this._readableState.flowing=e)},"set")});rn._fromList=zde;Object.defineProperty(rn.prototype,"readableLength",{enumerable:!1,get:o(function(){return this._readableState.length},"get")});function zde(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}o(zde,"fromList");function JD(t){var e=t._readableState;Br("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(fGe,e,t))}o(JD,"endReadable");function fGe(t,e){if(Br("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}o(fGe,"endReadableNT");typeof Symbol=="function"&&(rn.from=function(t,e){return YD===void 0&&(YD=Lde()),YD(rn,t,e)});function Kde(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}o(Kde,"indexOf")});var rU=j((RBt,Wde)=>{"use strict";m();g();Wde.exports=Rh;var K5=uy().codes,uGe=K5.ERR_METHOD_NOT_IMPLEMENTED,lGe=K5.ERR_MULTIPLE_CALLBACK,dGe=K5.ERR_TRANSFORM_ALREADY_TRANSFORMING,hGe=K5.ERR_TRANSFORM_WITH_LENGTH_0,G5=ly();Zt()(Rh,G5);function pGe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new lGe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}o(pGe,"afterTransform");function Rh(t){if(!(this instanceof Rh))return new Rh(t);G5.call(this,t),this._transformState={afterTransform:pGe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",mGe)}o(Rh,"Transform");function mGe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){$de(t,e,r)}):$de(this,null,null)}o(mGe,"prefinish");Rh.prototype.push=function(t,e){return this._transformState.needTransform=!1,G5.prototype.push.call(this,t,e)};Rh.prototype._transform=function(t,e,r){r(new uGe("_transform()"))};Rh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Rh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Rh.prototype._destroy=function(t,e){G5.prototype._destroy.call(this,t,function(r){e(r)})};function $de(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new hGe;if(t._transformState.transforming)throw new dGe;return t.push(null)}o($de,"done")});var Zde=j((CBt,Xde)=>{"use strict";m();g();Xde.exports=tE;var Yde=rU();Zt()(tE,Yde);function tE(t){if(!(this instanceof tE))return new tE(t);Yde.call(this,t)}o(tE,"PassThrough");tE.prototype._transform=function(t,e,r){r(null,t)}});var rhe=j((LBt,the)=>{"use strict";m();g();var nU;function gGe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}o(gGe,"once");var ehe=uy().codes,yGe=ehe.ERR_MISSING_ARGS,bGe=ehe.ERR_STREAM_DESTROYED;function Jde(t){if(t)throw t}o(Jde,"noop");function xGe(t){return t.setHeader&&typeof t.abort=="function"}o(xGe,"isRequest");function vGe(t,e,r,n){n=gGe(n);var i=!1;t.on("close",function(){i=!0}),nU===void 0&&(nU=F5()),nU(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,xGe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new bGe("pipe"))}}}o(vGe,"destroyer");function Qde(t){t()}o(Qde,"call");function _Ge(t,e){return t.pipe(e)}o(_Ge,"pipe");function wGe(t){return!t.length||typeof t[t.length-1]!="function"?Jde:t.pop()}o(wGe,"popCallback");function EGe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=wGe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new yGe("streams");var i,s=e.map(function(a,c){var l=c<e.length-1,h=c>0;return vGe(a,l,h,function(y){i||(i=y),y&&s.forEach(Qde),!l&&(s.forEach(Qde),n(i))})});return e.reduce(_Ge)}o(EGe,"pipeline");the.exports=EGe});var ihe=j((Bf,nhe)=>{m();g();Bf=nhe.exports=KD();Bf.Stream=Bf;Bf.Readable=Bf;Bf.Writable=VD();Bf.Duplex=ly();Bf.Transform=rU();Bf.PassThrough=Zde();Bf.finished=F5();Bf.pipeline=rhe()});var $5=j((VBt,ahe)=>{m();g();var hx=ob(),SGe=jg();function AGe(t){var e=ohe(t),r=e.toRed(hx.mont(t.modulus)).redPow(new hx(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}o(AGe,"blind");function ohe(t){var e=t.modulus.byteLength(),r;do r=new hx(SGe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}o(ohe,"getr");function she(t,e){var r=AGe(e),n=e.modulus.byteLength(),i=new hx(t).mul(r.blinder).umod(e.modulus),s=i.toRed(hx.mont(e.prime1)),a=i.toRed(hx.mont(e.prime2)),c=e.coefficient,l=e.prime1,h=e.prime2,y=s.redPow(e.exponent1).fromRed(),p=a.redPow(e.exponent2).fromRed(),E=y.isub(p).imul(c).umod(l).imul(h);return p.iadd(E).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",n)}o(she,"crt");she.getr=ohe;ahe.exports=she});var che=j((GBt,IGe)=>{IGe.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Jl=j((fhe,iU)=>{m();g();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=ib().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,T=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,T;if(b==="be")for(x=f.length-1;x>=d;x-=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var T=S.charCodeAt(A)-48;x*=b,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,T=A%x,v=Math.min(A,A-T)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<T;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var T=this.words[A],v=((T<<x|_)&16777215).toString(16);_=T>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=p[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[u]=v;for(;u<_;u++)T[u]=0}else{for(u=0;u<_-x;u++)T[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[_-u-1]=v}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,T=0;T<_.length;T++)d=(x.words[T]|0)-(_.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function I(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,T=A&67108863,v=A/67108864|0;d.words[0]=T;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var $=u-U|0;x=S.words[$]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,T=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,$=x[1]|0,ee=$&8191,re=$>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,ur=x[4]|0,Ae=ur&8191,Ne=ur>>>13,jn=x[5]|0,qe=jn&8191,ke=jn>>>13,zn=x[6]|0,Ue=zn&8191,Pe=zn>>>13,Kn=x[7]|0,Be=Kn&8191,Le=Kn>>>13,Jr=x[8]|0,Z=Jr&8191,Q=Jr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Ie=tr&8191,Me=tr>>>13,ci=_[2]|0,Fe=ci&8191,De=ci>>>13,uo=_[3]|0,Ge=uo&8191,$e=uo>>>13,Gn=_[4]|0,He=Gn&8191,Ve=Gn>>>13,Qi=_[5]|0,je=Qi&8191,ze=Qi>>>13,Eo=_[6]|0,Ce=Eo&8191,Ke=Eo>>>13,z=_[7]|0,G=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Ie)|0,u=u+Math.imul(q,Me)|0,u=u+Math.imul(U,Ie)|0,w=w+Math.imul(U,Me)|0;var nt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Ie)|0,u=u+Math.imul(ee,Me)|0,u=u+Math.imul(re,Ie)|0,w=w+Math.imul(re,Me)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Ie)|0,u=u+Math.imul(ae,Me)|0,u=u+Math.imul(le,Ie)|0,w=w+Math.imul(le,Me)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,u=u+Math.imul(q,$e)|0,u=u+Math.imul(U,Ge)|0,w=w+Math.imul(U,$e)|0;var st=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Ne,ve)|0,w=Math.imul(Ne,Se),v=v+Math.imul(he,Ie)|0,u=u+Math.imul(he,Me)|0,u=u+Math.imul(ge,Ie)|0,w=w+Math.imul(ge,Me)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(re,Ge)|0,w=w+Math.imul(re,$e)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Ie)|0,u=u+Math.imul(Ae,Me)|0,u=u+Math.imul(Ne,Ie)|0,w=w+Math.imul(Ne,Me)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,u=u+Math.imul(ae,$e)|0,u=u+Math.imul(le,Ge)|0,w=w+Math.imul(le,$e)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Ie)|0,u=u+Math.imul(qe,Me)|0,u=u+Math.imul(ke,Ie)|0,w=w+Math.imul(ke,Me)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Ne,Fe)|0,w=w+Math.imul(Ne,De)|0,v=v+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,$e)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var Tt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Ie)|0,u=u+Math.imul(Ue,Me)|0,u=u+Math.imul(Pe,Ie)|0,w=w+Math.imul(Pe,Me)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Ne,Ge)|0,w=w+Math.imul(Ne,$e)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,G)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,G)|0,w=w+Math.imul(U,K)|0;var At=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(Z,ve),u=Math.imul(Z,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Ie)|0,u=u+Math.imul(Be,Me)|0,u=u+Math.imul(Le,Ie)|0,w=w+Math.imul(Le,Me)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,$e)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Ne,He)|0,w=w+Math.imul(Ne,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,G)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,G)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(Z,Ie)|0,u=u+Math.imul(Z,Me)|0,u=u+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Me)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,$e)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Ne,je)|0,w=w+Math.imul(Ne,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,G)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,G)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Ie),u=Math.imul(ne,Me),u=u+Math.imul(de,Ie)|0,w=Math.imul(de,Me),v=v+Math.imul(Z,Fe)|0,u=u+Math.imul(Z,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,u=u+Math.imul(Be,$e)|0,u=u+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,$e)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Ne,Ce)|0,w=w+Math.imul(Ne,Ke)|0,v=v+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,$e)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Ne,G)|0,w=w+Math.imul(Ne,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,w=Math.imul(de,$e),v=v+Math.imul(Z,He)|0,u=u+Math.imul(Z,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,G)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,G)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Ne,Y)|0,w=w+Math.imul(Ne,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(Z,je)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,G)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,ue)|0;var ot=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,G)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,G)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(Z,G)|0,u=u+Math.imul(Z,K)|0,u=u+Math.imul(Q,G)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,w=Math.imul(de,K),v=v+Math.imul(Z,Y)|0,u=u+Math.imul(Z,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(T+v|0)+((u&8191)<<13)|0;return T=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=Tt,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,T!==0&&(A[19]=T,b.length++),b},"comb10MulTo");Math.imul||(O=I);function N(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var T=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,$=U&67108863;A=A+(U/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=T,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(N,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=I(this,f,d):x<1024?b=N(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var T=0;T<A;T++)x[T]=d[f[T]],_[T]=b[f[T]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var T=1;T<_;T<<=1)for(var v=T<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,$=0;$<T;$++){var ee=b[V+$],re=x[V+$],Oe=b[V+$+T],ae=x[V+$+T],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+$]=ee+Oe,x[V+$]=re+ae,b[V+$+T]=ee-Oe,x[V+$+T]=re-ae,$!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),T=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,T,x),this.convert13b(d.words,d.length,w,x),this.transform(T,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var $=0;$<x;$++){var ee=v[$]*V[$]-u[$]*q[$];u[$]=v[$]*q[$]+u[$]*V[$],v[$]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var T=this.words[_]&x,v=(this.words[_]|0)-T<<d;this.words[_]=v|A,A=T>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),T=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&T}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,T=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+T;var v=(f.words[_]|0)*d;A-=v&67108863,T=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+T,T=A>>26,this.words[_+b]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+T,T=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,T=this._countBits(A);b=26-T,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),T=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,$=1;!(b.words[0]&$)&&U<26;++U,$<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(w)),A.iushrn(1),T.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(T)):(b.isub(d),A.isub(x),T.isub(_))}return{a:A,b:T,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var T=0,v=1;!(d.words[0]&v)&&T<26;++T,v<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var T=this.words[A]|0;T+=_,_=T>>>26,T&=67108863,this.words[A]=T}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),M.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,M),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var T=f.words[_]|0;f.words[_-10]=(T&b)<<4|A>>>22,A=T}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,M);function F(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,M);function J(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(J,"P25519"),n(J,M),J.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(L[f])return L[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new J;else throw new Error("Unknown prime "+f);return L[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(T)!==0;)u.redIAdd(T);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var $=q,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],T=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&T===0){v=0;continue}T<<=1,T|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[T]),v=0,T=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof iU>"u"||iU,fhe)});var oU=j(dhe=>{"use strict";m();g();var W5=dhe;function TGe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,a=i&255;s?r.push(s,a):r.push(a)}return r}o(TGe,"toArray");W5.toArray=TGe;function uhe(t){return t.length===1?"0"+t:t}o(uhe,"zero2");W5.zero2=uhe;function lhe(t){for(var e="",r=0;r<t.length;r++)e+=uhe(t[r].toString(16));return e}o(lhe,"toHex");W5.toHex=lhe;W5.encode=o(function(e,r){return r==="hex"?lhe(e):e},"encode")});var Yc=j(hhe=>{"use strict";m();g();var Fu=hhe,RGe=Jl(),OGe=Wc(),Y5=oU();Fu.assert=OGe;Fu.toArray=Y5.toArray;Fu.zero2=Y5.zero2;Fu.toHex=Y5.toHex;Fu.encode=Y5.encode;function NGe(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var s=1<<e+1,a=t.clone();for(i=0;i<n.length;i++){var c,l=a.andln(s-1);a.isOdd()?(l>(s>>1)-1?c=(s>>1)-l:c=l,a.isubn(c)):c=0,n[i]=c,a.iushrn(1)}return n}o(NGe,"getNAF");Fu.getNAF=NGe;function MGe(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var a=t.andln(3)+n&3,c=e.andln(3)+i&3;a===3&&(a=-1),c===3&&(c=-1);var l;a&1?(s=t.andln(7)+n&7,(s===3||s===5)&&c===2?l=-a:l=a):l=0,r[0].push(l);var h;c&1?(s=e.andln(7)+i&7,(s===3||s===5)&&a===2?h=-c:h=c):h=0,r[1].push(h),2*n===l+1&&(n=1-n),2*i===h+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}o(MGe,"getJSF");Fu.getJSF=MGe;function CGe(t,e,r){var n="_"+e;t.prototype[e]=o(function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)},"cachedProperty")}o(CGe,"cachedProperty");Fu.cachedProperty=CGe;function kGe(t){return typeof t=="string"?Fu.toArray(t,"hex"):t}o(kGe,"parseBytes");Fu.parseBytes=kGe;function BGe(t){return new RGe(t,"hex","le")}o(BGe,"intFromLE");Fu.intFromLE=BGe});var nE=j((iPt,phe)=>{"use strict";m();g();var my=Jl(),rE=Yc(),X5=rE.getNAF,PGe=rE.getJSF,Z5=rE.assert;function Ep(t,e){this.type=t,this.p=new my(e.p,16),this.red=e.prime?my.red(e.prime):my.mont(this.p),this.zero=new my(0).toRed(this.red),this.one=new my(1).toRed(this.red),this.two=new my(2).toRed(this.red),this.n=e.n&&new my(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}o(Ep,"BaseCurve");phe.exports=Ep;Ep.prototype.point=o(function(){throw new Error("Not implemented")},"point");Ep.prototype.validate=o(function(){throw new Error("Not implemented")},"validate");Ep.prototype._fixedNafMul=o(function(e,r){Z5(e.precomputed);var n=e._getDoubles(),i=X5(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],c,l;for(c=0;c<i.length;c+=n.step){l=0;for(var h=c+n.step-1;h>=c;h--)l=(l<<1)+i[h];a.push(l)}for(var y=this.jpoint(null,null,null),p=this.jpoint(null,null,null),E=s;E>0;E--){for(c=0;c<a.length;c++)l=a[c],l===E?p=p.mixedAdd(n.points[c]):l===-E&&(p=p.mixedAdd(n.points[c].neg()));y=y.add(p)}return y.toP()},"_fixedNafMul");Ep.prototype._wnafMul=o(function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=X5(r,n,this._bitLength),c=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var h=0;l>=0&&a[l]===0;l--)h++;if(l>=0&&h++,c=c.dblp(h),l<0)break;var y=a[l];Z5(y!==0),e.type==="affine"?y>0?c=c.mixedAdd(s[y-1>>1]):c=c.mixedAdd(s[-y-1>>1].neg()):y>0?c=c.add(s[y-1>>1]):c=c.add(s[-y-1>>1].neg())}return e.type==="affine"?c.toP():c},"_wnafMul");Ep.prototype._wnafMulAdd=o(function(e,r,n,i,s){var a=this._wnafT1,c=this._wnafT2,l=this._wnafT3,h=0,y,p,E;for(y=0;y<i;y++){E=r[y];var I=E._getNAFPoints(e);a[y]=I.wnd,c[y]=I.points}for(y=i-1;y>=1;y-=2){var O=y-1,N=y;if(a[O]!==1||a[N]!==1){l[O]=X5(n[O],a[O],this._bitLength),l[N]=X5(n[N],a[N],this._bitLength),h=Math.max(l[O].length,h),h=Math.max(l[N].length,h);continue}var k=[r[O],null,null,r[N]];r[O].y.cmp(r[N].y)===0?(k[1]=r[O].add(r[N]),k[2]=r[O].toJ().mixedAdd(r[N].neg())):r[O].y.cmp(r[N].y.redNeg())===0?(k[1]=r[O].toJ().mixedAdd(r[N]),k[2]=r[O].add(r[N].neg())):(k[1]=r[O].toJ().mixedAdd(r[N]),k[2]=r[O].toJ().mixedAdd(r[N].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],L=PGe(n[O],n[N]);for(h=Math.max(L[0].length,h),l[O]=new Array(h),l[N]=new Array(h),p=0;p<h;p++){var M=L[0][p]|0,P=L[1][p]|0;l[O][p]=C[(M+1)*3+(P+1)],l[N][p]=0,c[O]=k}}var H=this.jpoint(null,null,null),F=this._wnafT4;for(y=h;y>=0;y--){for(var J=0;y>=0;){var W=!0;for(p=0;p<i;p++)F[p]=l[p][y]|0,F[p]!==0&&(W=!1);if(!W)break;J++,y--}if(y>=0&&J++,H=H.dblp(J),y<0)break;for(p=0;p<i;p++){var X=F[p];X!==0&&(X>0?E=c[p][X-1>>1]:X<0&&(E=c[p][-X-1>>1].neg()),E.type==="affine"?H=H.mixedAdd(E):H=H.add(E))}}for(y=0;y<i;y++)c[y]=null;return s?H:H.toP()},"_wnafMulAdd");function Pf(t,e){this.curve=t,this.type=e,this.precomputed=null}o(Pf,"BasePoint");Ep.BasePoint=Pf;Pf.prototype.eq=o(function(){throw new Error("Not implemented")},"eq");Pf.prototype.validate=o(function(){return this.curve.validate(this)},"validate");Ep.prototype.decodePoint=o(function(e,r){e=rE.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Z5(e[e.length-1]%2===0):e[0]===7&&Z5(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},"decodePoint");Pf.prototype.encodeCompressed=o(function(e){return this.encode(e,!0)},"encodeCompressed");Pf.prototype._encode=o(function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");Pf.prototype.encode=o(function(e,r){return rE.encode(this._encode(r),e)},"encode");Pf.prototype.precompute=o(function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");Pf.prototype._hasDoubles=o(function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},"_hasDoubles");Pf.prototype._getDoubles=o(function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},"_getDoubles");Pf.prototype._getNAFPoints=o(function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},"_getNAFPoints");Pf.prototype._getBeta=o(function(){return null},"_getBeta");Pf.prototype.dblp=o(function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r},"dblp")});var ghe=j((cPt,mhe)=>{"use strict";m();g();var LGe=Yc(),$i=Jl(),sU=Zt(),px=nE(),DGe=LGe.assert;function Lf(t){px.call(this,"short",t),this.a=new $i(t.a,16).toRed(this.red),this.b=new $i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(Lf,"ShortCurve");sU(Lf,px);mhe.exports=Lf;Lf.prototype._getEndomorphism=o(function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new $i(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new $i(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],DGe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(c){return{a:new $i(c.a,16),b:new $i(c.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},"_getEndomorphism");Lf.prototype._getEndoRoots=o(function(e){var r=e===this.p?this.red:$i.mont(e),n=new $i(2).toRed(r).redInvm(),i=n.redNeg(),s=new $i(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),c=i.redSub(s).fromRed();return[a,c]},"_getEndoRoots");Lf.prototype._getEndoBasis=o(function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new $i(1),a=new $i(0),c=new $i(0),l=new $i(1),h,y,p,E,I,O,N,k=0,C,L;n.cmpn(0)!==0;){var M=i.div(n);C=i.sub(M.mul(n)),L=c.sub(M.mul(s));var P=l.sub(M.mul(a));if(!p&&C.cmp(r)<0)h=N.neg(),y=s,p=C.neg(),E=L;else if(p&&++k===2)break;N=C,i=n,n=C,c=s,s=L,l=a,a=P}I=C.neg(),O=L;var H=p.sqr().add(E.sqr()),F=I.sqr().add(O.sqr());return F.cmp(H)>=0&&(I=h,O=y),p.negative&&(p=p.neg(),E=E.neg()),I.negative&&(I=I.neg(),O=O.neg()),[{a:p,b:E},{a:I,b:O}]},"_getEndoBasis");Lf.prototype._endoSplit=o(function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),c=s.mul(n.a),l=a.mul(i.a),h=s.mul(n.b),y=a.mul(i.b),p=e.sub(c).sub(l),E=h.add(y).neg();return{k1:p,k2:E}},"_endoSplit");Lf.prototype.pointFromX=o(function(e,r){e=new $i(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},"pointFromX");Lf.prototype.validate=o(function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");Lf.prototype._endoWnafMulAdd=o(function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var c=this._endoSplit(r[a]),l=e[a],h=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),h=h.neg(!0)),i[a*2]=l,i[a*2+1]=h,s[a*2]=c.k1,s[a*2+1]=c.k2}for(var y=this._wnafMulAdd(1,i,s,a*2,n),p=0;p<a*2;p++)i[p]=null,s[p]=null;return y},"_endoWnafMulAdd");function Xo(t,e,r,n){px.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new $i(e,16),this.y=new $i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(Xo,"Point");sU(Xo,px.BasePoint);Lf.prototype.point=o(function(e,r,n){return new Xo(this,e,r,n)},"point");Lf.prototype.pointFromJSON=o(function(e,r){return Xo.fromJSON(this,e,r)},"pointFromJSON");Xo.prototype._getBeta=o(function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=o(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},"_getBeta");Xo.prototype.toJSON=o(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");Xo.fromJSON=o(function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(c){return e.point(c[0],c[1],n)}o(s,"obj2point");var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},"fromJSON");Xo.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");Xo.prototype.isInfinity=o(function(){return this.inf},"isInfinity");Xo.prototype.add=o(function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");Xo.prototype.dbl=o(function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,c)},"dbl");Xo.prototype.getX=o(function(){return this.x.fromRed()},"getX");Xo.prototype.getY=o(function(){return this.y.fromRed()},"getY");Xo.prototype.mul=o(function(e){return e=new $i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},"mul");Xo.prototype.mulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");Xo.prototype.jmulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");Xo.prototype.eq=o(function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},"eq");Xo.prototype.neg=o(function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=o(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");Xo.prototype.toJ=o(function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},"toJ");function ys(t,e,r,n){px.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new $i(0)):(this.x=new $i(e,16),this.y=new $i(r,16),this.z=new $i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(ys,"JPoint");sU(ys,px.BasePoint);Lf.prototype.jpoint=o(function(e,r,n){return new ys(this,e,r,n)},"jpoint");ys.prototype.toP=o(function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},"toP");ys.prototype.neg=o(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");ys.prototype.add=o(function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),h=a.redSub(c);if(l.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=l.redSqr(),p=y.redMul(l),E=i.redMul(y),I=h.redSqr().redIAdd(p).redISub(E).redISub(E),O=h.redMul(E.redISub(I)).redISub(a.redMul(p)),N=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(I,O,N)},"add");ys.prototype.mixedAdd=o(function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),c=n.redSub(i),l=s.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=c.redSqr(),y=h.redMul(c),p=n.redMul(h),E=l.redSqr().redIAdd(y).redISub(p).redISub(p),I=l.redMul(p.redISub(E)).redISub(s.redMul(y)),O=this.z.redMul(c);return this.curve.jpoint(E,I,O)},"mixedAdd");ys.prototype.dblp=o(function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,c=this.y,l=this.z,h=l.redSqr().redSqr(),y=c.redAdd(c);for(r=0;r<e;r++){var p=a.redSqr(),E=y.redSqr(),I=E.redSqr(),O=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(h)),N=a.redMul(E),k=O.redSqr().redISub(N.redAdd(N)),C=N.redISub(k),L=O.redMul(C);L=L.redIAdd(L).redISub(I);var M=y.redMul(l);r+1<e&&(h=h.redMul(I)),a=k,l=M,y=L}return this.curve.jpoint(a,y.redMul(s),l)},"dblp");ys.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");ys.prototype._zeroDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i),h=l.redSqr().redISub(c).redISub(c),y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),e=h,r=l.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),E=this.y.redSqr(),I=E.redSqr(),O=this.x.redAdd(E).redSqr().redISub(p).redISub(I);O=O.redIAdd(O);var N=p.redAdd(p).redIAdd(p),k=N.redSqr(),C=I.redIAdd(I);C=C.redIAdd(C),C=C.redIAdd(C),e=k.redISub(O).redISub(O),r=N.redMul(O.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},"_zeroDbl");ys.prototype._threeDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=l.redSqr().redISub(c).redISub(c);e=h;var y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),r=l.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),E=this.y.redSqr(),I=this.x.redMul(E),O=this.x.redSub(p).redMul(this.x.redAdd(p));O=O.redAdd(O).redIAdd(O);var N=I.redIAdd(I);N=N.redIAdd(N);var k=N.redAdd(N);e=O.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(p);var C=E.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=O.redMul(N.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)},"_threeDbl");ys.prototype._dbl=o(function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),c=n.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),h=r.redAdd(r);h=h.redIAdd(h);var y=h.redMul(c),p=l.redSqr().redISub(y.redAdd(y)),E=y.redISub(p),I=c.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var O=l.redMul(E).redISub(I),N=n.redAdd(n).redMul(i);return this.curve.jpoint(p,O,N)},"_dbl");ys.prototype.trpl=o(function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(a);var l=c.redSqr(),h=i.redIAdd(i);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=s.redIAdd(c).redSqr().redISub(a).redISub(l).redISub(h),p=r.redMul(y);p=p.redIAdd(p),p=p.redIAdd(p);var E=this.x.redMul(l).redISub(p);E=E.redIAdd(E),E=E.redIAdd(E);var I=this.y.redMul(y.redMul(h.redISub(y)).redISub(c.redMul(l)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var O=this.z.redAdd(c).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,I,O)},"trpl");ys.prototype.mul=o(function(e,r){return e=new $i(e,r),this.curve._wnafMul(this,e)},"mul");ys.prototype.eq=o(function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},"eq");ys.prototype.eqXToP=o(function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");ys.prototype.inspect=o(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");ys.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity")});var xhe=j((dPt,bhe)=>{"use strict";m();g();var mx=Jl(),yhe=Zt(),J5=nE(),UGe=Yc();function gx(t){J5.call(this,"mont",t),this.a=new mx(t.a,16).toRed(this.red),this.b=new mx(t.b,16).toRed(this.red),this.i4=new mx(4).toRed(this.red).redInvm(),this.two=new mx(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}o(gx,"MontCurve");yhe(gx,J5);bhe.exports=gx;gx.prototype.validate=o(function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0},"validate");function Zo(t,e,r){J5.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new mx(e,16),this.z=new mx(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(Zo,"Point");yhe(Zo,J5.BasePoint);gx.prototype.decodePoint=o(function(e,r){return this.point(UGe.toArray(e,r),1)},"decodePoint");gx.prototype.point=o(function(e,r){return new Zo(this,e,r)},"point");gx.prototype.pointFromJSON=o(function(e){return Zo.fromJSON(this,e)},"pointFromJSON");Zo.prototype.precompute=o(function(){},"precompute");Zo.prototype._encode=o(function(){return this.getX().toArray("be",this.curve.p.byteLength())},"_encode");Zo.fromJSON=o(function(e,r){return new Zo(e,r[0],r[1]||e.one)},"fromJSON");Zo.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");Zo.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity");Zo.prototype.dbl=o(function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),a=r.redMul(i),c=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,c)},"dbl");Zo.prototype.add=o(function(){throw new Error("Not supported on Montgomery curve")},"add");Zo.prototype.diffAdd=o(function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z),c=a.redMul(n),l=s.redMul(i),h=r.z.redMul(c.redAdd(l).redSqr()),y=r.x.redMul(c.redISub(l).redSqr());return this.curve.point(h,y)},"diffAdd");Zo.prototype.mul=o(function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var c=a.length-1;c>=0;c--)a[c]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i},"mul");Zo.prototype.mulAdd=o(function(){throw new Error("Not supported on Montgomery curve")},"mulAdd");Zo.prototype.jumlAdd=o(function(){throw new Error("Not supported on Montgomery curve")},"jumlAdd");Zo.prototype.eq=o(function(e){return this.getX().cmp(e.getX())===0},"eq");Zo.prototype.normalize=o(function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},"normalize");Zo.prototype.getX=o(function(){return this.normalize(),this.x.fromRed()},"getX")});var whe=j((gPt,_he)=>{"use strict";m();g();var FGe=Yc(),Oh=Jl(),vhe=Zt(),Q5=nE(),HGe=FGe.assert;function Ql(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Q5.call(this,"edwards",t),this.a=new Oh(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Oh(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Oh(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),HGe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}o(Ql,"EdwardsCurve");vhe(Ql,Q5);_he.exports=Ql;Ql.prototype._mulA=o(function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},"_mulA");Ql.prototype._mulC=o(function(e){return this.oneC?e:this.c.redMul(e)},"_mulC");Ql.prototype.jpoint=o(function(e,r,n,i){return this.point(e,r,n,i)},"jpoint");Ql.prototype.pointFromX=o(function(e,r){e=new Oh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(s.redInvm()),c=a.redSqrt();if(c.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var l=c.fromRed().isOdd();return(r&&!l||!r&&l)&&(c=c.redNeg()),this.point(e,c)},"pointFromX");Ql.prototype.pointFromY=o(function(e,r){e=new Oh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var c=a.redSqrt();if(c.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,e)},"pointFromY");Ql.prototype.validate=o(function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0},"validate");function ti(t,e,r,n,i){Q5.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Oh(e,16),this.y=new Oh(r,16),this.z=n?new Oh(n,16):this.curve.one,this.t=i&&new Oh(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(ti,"Point");vhe(ti,Q5.BasePoint);Ql.prototype.pointFromJSON=o(function(e){return ti.fromJSON(this,e)},"pointFromJSON");Ql.prototype.point=o(function(e,r,n,i){return new ti(this,e,r,n,i)},"point");ti.fromJSON=o(function(e,r){return new ti(e,r[0],r[1],r[2])},"fromJSON");ti.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");ti.prototype.isInfinity=o(function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},"isInfinity");ti.prototype._extDbl=o(function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=i.redAdd(r),c=a.redSub(n),l=i.redSub(r),h=s.redMul(c),y=a.redMul(l),p=s.redMul(l),E=c.redMul(a);return this.curve.point(h,y,E,p)},"_extDbl");ti.prototype._projDbl=o(function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,a,c,l,h;if(this.curve.twisted){c=this.curve._mulA(r);var y=c.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(y.redSub(this.curve.two)),s=y.redMul(c.redSub(n)),a=y.redSqr().redSub(y).redSub(y)):(l=this.z.redSqr(),h=y.redSub(l).redISub(l),i=e.redSub(r).redISub(n).redMul(h),s=y.redMul(c.redSub(n)),a=y.redMul(h))}else c=r.redAdd(n),l=this.curve._mulC(this.z).redSqr(),h=c.redSub(l).redSub(l),i=this.curve._mulC(e.redISub(c)).redMul(h),s=this.curve._mulC(c).redMul(r.redISub(n)),a=c.redMul(h);return this.curve.point(i,s,a)},"_projDbl");ti.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},"dbl");ti.prototype._extAdd=o(function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),c=s.redSub(i),l=s.redAdd(i),h=n.redAdd(r),y=a.redMul(c),p=l.redMul(h),E=a.redMul(h),I=c.redMul(l);return this.curve.point(y,p,I,E)},"_extAdd");ti.prototype._projAdd=o(function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(s),c=n.redSub(a),l=n.redAdd(a),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),y=r.redMul(c).redMul(h),p,E;return this.curve.twisted?(p=r.redMul(l).redMul(s.redSub(this.curve._mulA(i))),E=c.redMul(l)):(p=r.redMul(l).redMul(s.redSub(i)),E=this.curve._mulC(c).redMul(l)),this.curve.point(y,p,E)},"_projAdd");ti.prototype.add=o(function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},"add");ti.prototype.mul=o(function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},"mul");ti.prototype.mulAdd=o(function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)},"mulAdd");ti.prototype.jmulAdd=o(function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)},"jmulAdd");ti.prototype.normalize=o(function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},"normalize");ti.prototype.neg=o(function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},"neg");ti.prototype.getX=o(function(){return this.normalize(),this.x.fromRed()},"getX");ti.prototype.getY=o(function(){return this.normalize(),this.y.fromRed()},"getY");ti.prototype.eq=o(function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0},"eq");ti.prototype.eqXToP=o(function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},"eqXToP");ti.prototype.toP=ti.prototype.normalize;ti.prototype.mixedAdd=ti.prototype.add});var aU=j(Ehe=>{"use strict";m();g();var eI=Ehe;eI.base=nE();eI.short=ghe();eI.mont=xhe();eI.edwards=whe()});var Hu=j(Wn=>{"use strict";m();g();var qGe=Wc(),VGe=Zt();Wn.inherits=VGe;function jGe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}o(jGe,"isSurrogatePair");function zGe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):jGe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}o(zGe,"toArray");Wn.toArray=zGe;function KGe(t){for(var e="",r=0;r<t.length;r++)e+=Ahe(t[r].toString(16));return e}o(KGe,"toHex");Wn.toHex=KGe;function She(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}o(She,"htonl");Wn.htonl=She;function GGe(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=She(i)),r+=Ihe(i.toString(16))}return r}o(GGe,"toHex32");Wn.toHex32=GGe;function Ahe(t){return t.length===1?"0"+t:t}o(Ahe,"zero2");Wn.zero2=Ahe;function Ihe(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}o(Ihe,"zero8");Wn.zero8=Ihe;function $Ge(t,e,r,n){var i=r-e;qGe(i%4===0);for(var s=new Array(i/4),a=0,c=e;a<s.length;a++,c+=4){var l;n==="big"?l=t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:l=t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],s[a]=l>>>0}return s}o($Ge,"join32");Wn.join32=$Ge;function WGe(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}o(WGe,"split32");Wn.split32=WGe;function YGe(t,e){return t>>>e|t<<32-e}o(YGe,"rotr32");Wn.rotr32=YGe;function XGe(t,e){return t<<e|t>>>32-e}o(XGe,"rotl32");Wn.rotl32=XGe;function ZGe(t,e){return t+e>>>0}o(ZGe,"sum32");Wn.sum32=ZGe;function JGe(t,e,r){return t+e+r>>>0}o(JGe,"sum32_3");Wn.sum32_3=JGe;function QGe(t,e,r,n){return t+e+r+n>>>0}o(QGe,"sum32_4");Wn.sum32_4=QGe;function e$e(t,e,r,n,i){return t+e+r+n+i>>>0}o(e$e,"sum32_5");Wn.sum32_5=e$e;function t$e(t,e,r,n){var i=t[e],s=t[e+1],a=n+s>>>0,c=(a<n?1:0)+r+i;t[e]=c>>>0,t[e+1]=a}o(t$e,"sum64");Wn.sum64=t$e;function r$e(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}o(r$e,"sum64_hi");Wn.sum64_hi=r$e;function n$e(t,e,r,n){var i=e+n;return i>>>0}o(n$e,"sum64_lo");Wn.sum64_lo=n$e;function i$e(t,e,r,n,i,s,a,c){var l=0,h=e;h=h+n>>>0,l+=h<e?1:0,h=h+s>>>0,l+=h<s?1:0,h=h+c>>>0,l+=h<c?1:0;var y=t+r+i+a+l;return y>>>0}o(i$e,"sum64_4_hi");Wn.sum64_4_hi=i$e;function o$e(t,e,r,n,i,s,a,c){var l=e+n+s+c;return l>>>0}o(o$e,"sum64_4_lo");Wn.sum64_4_lo=o$e;function s$e(t,e,r,n,i,s,a,c,l,h){var y=0,p=e;p=p+n>>>0,y+=p<e?1:0,p=p+s>>>0,y+=p<s?1:0,p=p+c>>>0,y+=p<c?1:0,p=p+h>>>0,y+=p<h?1:0;var E=t+r+i+a+l+y;return E>>>0}o(s$e,"sum64_5_hi");Wn.sum64_5_hi=s$e;function a$e(t,e,r,n,i,s,a,c,l,h){var y=e+n+s+c+h;return y>>>0}o(a$e,"sum64_5_lo");Wn.sum64_5_lo=a$e;function c$e(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}o(c$e,"rotr64_hi");Wn.rotr64_hi=c$e;function f$e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}o(f$e,"rotr64_lo");Wn.rotr64_lo=f$e;function u$e(t,e,r){return t>>>r}o(u$e,"shr64_hi");Wn.shr64_hi=u$e;function l$e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}o(l$e,"shr64_lo");Wn.shr64_lo=l$e});var yx=j(Rhe=>{"use strict";m();g();var The=Hu(),d$e=Wc();function tI(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}o(tI,"BlockHash");Rhe.BlockHash=tI;tI.prototype.update=o(function(e,r){if(e=The.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=The.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},"update");tI.prototype.digest=o(function(e){return this.update(this._pad()),d$e(this.pending===null),this._digest(e)},"digest");tI.prototype._pad=o(function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,a=8;a<this.padLength;a++)i[s++]=0;return i},"pad")});var cU=j(Nh=>{"use strict";m();g();var h$e=Hu(),ed=h$e.rotr32;function p$e(t,e,r,n){if(t===0)return Ohe(e,r,n);if(t===1||t===3)return Mhe(e,r,n);if(t===2)return Nhe(e,r,n)}o(p$e,"ft_1");Nh.ft_1=p$e;function Ohe(t,e,r){return t&e^~t&r}o(Ohe,"ch32");Nh.ch32=Ohe;function Nhe(t,e,r){return t&e^t&r^e&r}o(Nhe,"maj32");Nh.maj32=Nhe;function Mhe(t,e,r){return t^e^r}o(Mhe,"p32");Nh.p32=Mhe;function m$e(t){return ed(t,2)^ed(t,13)^ed(t,22)}o(m$e,"s0_256");Nh.s0_256=m$e;function g$e(t){return ed(t,6)^ed(t,11)^ed(t,25)}o(g$e,"s1_256");Nh.s1_256=g$e;function y$e(t){return ed(t,7)^ed(t,18)^t>>>3}o(y$e,"g0_256");Nh.g0_256=y$e;function b$e(t){return ed(t,17)^ed(t,19)^t>>>10}o(b$e,"g1_256");Nh.g1_256=b$e});var Bhe=j((PPt,khe)=>{"use strict";m();g();var bx=Hu(),x$e=yx(),v$e=cU(),fU=bx.rotl32,iE=bx.sum32,_$e=bx.sum32_5,w$e=v$e.ft_1,Che=x$e.BlockHash,E$e=[1518500249,1859775393,2400959708,3395469782];function td(){if(!(this instanceof td))return new td;Che.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}o(td,"SHA1");bx.inherits(td,Che);khe.exports=td;td.blockSize=512;td.outSize=160;td.hmacStrength=80;td.padLength=64;td.prototype._update=o(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=fU(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],a=this.h[1],c=this.h[2],l=this.h[3],h=this.h[4];for(i=0;i<n.length;i++){var y=~~(i/20),p=_$e(fU(s,5),w$e(y,a,c,l),h,n[i],E$e[y]);h=l,l=c,c=fU(a,30),a=s,s=p}this.h[0]=iE(this.h[0],s),this.h[1]=iE(this.h[1],a),this.h[2]=iE(this.h[2],c),this.h[3]=iE(this.h[3],l),this.h[4]=iE(this.h[4],h)},"_update");td.prototype._digest=o(function(e){return e==="hex"?bx.toHex32(this.h,"big"):bx.split32(this.h,"big")},"digest")});var uU=j((FPt,Lhe)=>{"use strict";m();g();var xx=Hu(),S$e=yx(),vx=cU(),A$e=Wc(),qu=xx.sum32,I$e=xx.sum32_4,T$e=xx.sum32_5,R$e=vx.ch32,O$e=vx.maj32,N$e=vx.s0_256,M$e=vx.s1_256,C$e=vx.g0_256,k$e=vx.g1_256,Phe=S$e.BlockHash,B$e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function rd(){if(!(this instanceof rd))return new rd;Phe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=B$e,this.W=new Array(64)}o(rd,"SHA256");xx.inherits(rd,Phe);Lhe.exports=rd;rd.blockSize=512;rd.outSize=256;rd.hmacStrength=192;rd.padLength=64;rd.prototype._update=o(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=I$e(k$e(n[i-2]),n[i-7],C$e(n[i-15]),n[i-16]);var s=this.h[0],a=this.h[1],c=this.h[2],l=this.h[3],h=this.h[4],y=this.h[5],p=this.h[6],E=this.h[7];for(A$e(this.k.length===n.length),i=0;i<n.length;i++){var I=T$e(E,M$e(h),R$e(h,y,p),this.k[i],n[i]),O=qu(N$e(s),O$e(s,a,c));E=p,p=y,y=h,h=qu(l,I),l=c,c=a,a=s,s=qu(I,O)}this.h[0]=qu(this.h[0],s),this.h[1]=qu(this.h[1],a),this.h[2]=qu(this.h[2],c),this.h[3]=qu(this.h[3],l),this.h[4]=qu(this.h[4],h),this.h[5]=qu(this.h[5],y),this.h[6]=qu(this.h[6],p),this.h[7]=qu(this.h[7],E)},"_update");rd.prototype._digest=o(function(e){return e==="hex"?xx.toHex32(this.h,"big"):xx.split32(this.h,"big")},"digest")});var Fhe=j((jPt,Uhe)=>{"use strict";m();g();var lU=Hu(),Dhe=uU();function Mh(){if(!(this instanceof Mh))return new Mh;Dhe.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o(Mh,"SHA224");lU.inherits(Mh,Dhe);Uhe.exports=Mh;Mh.blockSize=512;Mh.outSize=224;Mh.hmacStrength=192;Mh.padLength=64;Mh.prototype._digest=o(function(e){return e==="hex"?lU.toHex32(this.h.slice(0,7),"big"):lU.split32(this.h.slice(0,7),"big")},"digest")});var pU=j(($Pt,jhe)=>{"use strict";m();g();var hc=Hu(),P$e=yx(),L$e=Wc(),nd=hc.rotr64_hi,id=hc.rotr64_lo,Hhe=hc.shr64_hi,qhe=hc.shr64_lo,Sp=hc.sum64,dU=hc.sum64_hi,hU=hc.sum64_lo,D$e=hc.sum64_4_hi,U$e=hc.sum64_4_lo,F$e=hc.sum64_5_hi,H$e=hc.sum64_5_lo,Vhe=P$e.BlockHash,q$e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Vu(){if(!(this instanceof Vu))return new Vu;Vhe.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=q$e,this.W=new Array(160)}o(Vu,"SHA512");hc.inherits(Vu,Vhe);jhe.exports=Vu;Vu.blockSize=1024;Vu.outSize=512;Vu.hmacStrength=192;Vu.padLength=128;Vu.prototype._prepareBlock=o(function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=J$e(n[i-4],n[i-3]),a=Q$e(n[i-4],n[i-3]),c=n[i-14],l=n[i-13],h=X$e(n[i-30],n[i-29]),y=Z$e(n[i-30],n[i-29]),p=n[i-32],E=n[i-31];n[i]=D$e(s,a,c,l,h,y,p,E),n[i+1]=U$e(s,a,c,l,h,y,p,E)}},"_prepareBlock");Vu.prototype._update=o(function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],h=this.h[5],y=this.h[6],p=this.h[7],E=this.h[8],I=this.h[9],O=this.h[10],N=this.h[11],k=this.h[12],C=this.h[13],L=this.h[14],M=this.h[15];L$e(this.k.length===n.length);for(var P=0;P<n.length;P+=2){var H=L,F=M,J=W$e(E,I),W=Y$e(E,I),X=V$e(E,I,O,N,k,C),S=j$e(E,I,O,N,k,C),f=this.k[P],d=this.k[P+1],b=n[P],x=n[P+1],_=F$e(H,F,J,W,X,S,f,d,b,x),A=H$e(H,F,J,W,X,S,f,d,b,x);H=G$e(i,s),F=$$e(i,s),J=z$e(i,s,a,c,l,h),W=K$e(i,s,a,c,l,h);var T=dU(H,F,J,W),v=hU(H,F,J,W);L=k,M=C,k=O,C=N,O=E,N=I,E=dU(y,p,_,A),I=hU(p,p,_,A),y=l,p=h,l=a,h=c,a=i,c=s,i=dU(_,A,T,v),s=hU(_,A,T,v)}Sp(this.h,0,i,s),Sp(this.h,2,a,c),Sp(this.h,4,l,h),Sp(this.h,6,y,p),Sp(this.h,8,E,I),Sp(this.h,10,O,N),Sp(this.h,12,k,C),Sp(this.h,14,L,M)},"_update");Vu.prototype._digest=o(function(e){return e==="hex"?hc.toHex32(this.h,"big"):hc.split32(this.h,"big")},"digest");function V$e(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}o(V$e,"ch64_hi");function j$e(t,e,r,n,i,s){var a=e&n^~e&s;return a<0&&(a+=4294967296),a}o(j$e,"ch64_lo");function z$e(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}o(z$e,"maj64_hi");function K$e(t,e,r,n,i,s){var a=e&n^e&s^n&s;return a<0&&(a+=4294967296),a}o(K$e,"maj64_lo");function G$e(t,e){var r=nd(t,e,28),n=nd(e,t,2),i=nd(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(G$e,"s0_512_hi");function $$e(t,e){var r=id(t,e,28),n=id(e,t,2),i=id(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}o($$e,"s0_512_lo");function W$e(t,e){var r=nd(t,e,14),n=nd(t,e,18),i=nd(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}o(W$e,"s1_512_hi");function Y$e(t,e){var r=id(t,e,14),n=id(t,e,18),i=id(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}o(Y$e,"s1_512_lo");function X$e(t,e){var r=nd(t,e,1),n=nd(t,e,8),i=Hhe(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(X$e,"g0_512_hi");function Z$e(t,e){var r=id(t,e,1),n=id(t,e,8),i=qhe(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(Z$e,"g0_512_lo");function J$e(t,e){var r=nd(t,e,19),n=nd(e,t,29),i=Hhe(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}o(J$e,"g1_512_hi");function Q$e(t,e){var r=id(t,e,19),n=id(e,t,29),i=qhe(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}o(Q$e,"g1_512_lo")});var Ghe=j((ZPt,Khe)=>{"use strict";m();g();var mU=Hu(),zhe=pU();function Ch(){if(!(this instanceof Ch))return new Ch;zhe.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o(Ch,"SHA384");mU.inherits(Ch,zhe);Khe.exports=Ch;Ch.blockSize=1024;Ch.outSize=384;Ch.hmacStrength=192;Ch.padLength=128;Ch.prototype._digest=o(function(e){return e==="hex"?mU.toHex32(this.h.slice(0,12),"big"):mU.split32(this.h.slice(0,12),"big")},"digest")});var $he=j(_x=>{"use strict";m();g();_x.sha1=Bhe();_x.sha224=Fhe();_x.sha256=uU();_x.sha384=Ghe();_x.sha512=pU()});var Qhe=j(Jhe=>{"use strict";m();g();var gy=Hu(),eWe=yx(),rI=gy.rotl32,Whe=gy.sum32,oE=gy.sum32_3,Yhe=gy.sum32_4,Zhe=eWe.BlockHash;function od(){if(!(this instanceof od))return new od;Zhe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}o(od,"RIPEMD160");gy.inherits(od,Zhe);Jhe.ripemd160=od;od.blockSize=512;od.outSize=160;od.hmacStrength=192;od.padLength=64;od.prototype._update=o(function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],l=n,h=i,y=s,p=a,E=c,I=0;I<80;I++){var O=Whe(rI(Yhe(n,Xhe(I,i,s,a),e[nWe[I]+r],tWe(I)),oWe[I]),c);n=c,c=a,a=rI(s,10),s=i,i=O,O=Whe(rI(Yhe(l,Xhe(79-I,h,y,p),e[iWe[I]+r],rWe(I)),sWe[I]),E),l=E,E=p,p=rI(y,10),y=h,h=O}O=oE(this.h[1],s,p),this.h[1]=oE(this.h[2],a,E),this.h[2]=oE(this.h[3],c,l),this.h[3]=oE(this.h[4],n,h),this.h[4]=oE(this.h[0],i,y),this.h[0]=O},"update");od.prototype._digest=o(function(e){return e==="hex"?gy.toHex32(this.h,"little"):gy.split32(this.h,"little")},"digest");function Xhe(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}o(Xhe,"f");function tWe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}o(tWe,"K");function rWe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}o(rWe,"Kh");var nWe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],iWe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],oWe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sWe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var t0e=j((cLt,e0e)=>{"use strict";m();g();var aWe=Hu(),cWe=Wc();function wx(t,e,r){if(!(this instanceof wx))return new wx(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(aWe.toArray(e,r))}o(wx,"Hmac");e0e.exports=wx;wx.prototype._init=o(function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),cWe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)},"init");wx.prototype.update=o(function(e,r){return this.inner.update(e,r),this},"update");wx.prototype.digest=o(function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},"digest")});var Ex=j(r0e=>{m();g();var bs=r0e;bs.utils=Hu();bs.common=yx();bs.sha=$he();bs.ripemd=Qhe();bs.hmac=t0e();bs.sha1=bs.sha.sha1;bs.sha256=bs.sha.sha256;bs.sha224=bs.sha.sha224;bs.sha384=bs.sha.sha384;bs.sha512=bs.sha.sha512;bs.ripemd160=bs.ripemd.ripemd160});var i0e=j((mLt,n0e)=>{m();g();n0e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var nI=j(a0e=>{"use strict";m();g();var yU=a0e,Ap=Ex(),gU=aU(),fWe=Yc(),o0e=fWe.assert;function s0e(t){t.type==="short"?this.curve=new gU.short(t):t.type==="edwards"?this.curve=new gU.edwards(t):this.curve=new gU.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,o0e(this.g.validate(),"Invalid curve"),o0e(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o(s0e,"PresetCurve");yU.PresetCurve=s0e;function Ip(t,e){Object.defineProperty(yU,t,{configurable:!0,enumerable:!0,get:o(function(){var r=new s0e(e);return Object.defineProperty(yU,t,{configurable:!0,enumerable:!0,value:r}),r},"get")})}o(Ip,"defineCurve");Ip("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ap.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Ip("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ap.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Ip("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ap.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Ip("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ap.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Ip("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ap.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Ip("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ap.sha256,gRed:!1,g:["9"]});Ip("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ap.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var bU;try{bU=i0e()}catch{bU=void 0}Ip("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ap.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",bU]})});var u0e=j((wLt,f0e)=>{"use strict";m();g();var uWe=Ex(),yy=oU(),c0e=Wc();function Tp(t){if(!(this instanceof Tp))return new Tp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=yy.toArray(t.entropy,t.entropyEnc||"hex"),r=yy.toArray(t.nonce,t.nonceEnc||"hex"),n=yy.toArray(t.pers,t.persEnc||"hex");c0e(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}o(Tp,"HmacDRBG");f0e.exports=Tp;Tp.prototype._init=o(function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");Tp.prototype._hmac=o(function(){return new uWe.hmac(this.hash,this.K)},"hmac");Tp.prototype._update=o(function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},"update");Tp.prototype.reseed=o(function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=yy.toArray(e,r),n=yy.toArray(n,i),c0e(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},"reseed");Tp.prototype.generate=o(function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=yy.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,yy.encode(a,r)},"generate")});var d0e=j((ILt,l0e)=>{"use strict";m();g();var lWe=Jl(),dWe=Yc(),xU=dWe.assert;function oa(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}o(oa,"KeyPair");l0e.exports=oa;oa.fromPublic=o(function(e,r,n){return r instanceof oa?r:new oa(e,{pub:r,pubEnc:n})},"fromPublic");oa.fromPrivate=o(function(e,r,n){return r instanceof oa?r:new oa(e,{priv:r,privEnc:n})},"fromPrivate");oa.prototype.validate=o(function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");oa.prototype.getPublic=o(function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},"getPublic");oa.prototype.getPrivate=o(function(e){return e==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");oa.prototype._importPrivate=o(function(e,r){this.priv=new lWe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");oa.prototype._importPublic=o(function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?xU(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&xU(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},"_importPublic");oa.prototype.derive=o(function(e){return e.validate()||xU(e.validate(),"public point not validated"),e.mul(this.priv).getX()},"derive");oa.prototype.sign=o(function(e,r,n){return this.ec.sign(e,this,r,n)},"sign");oa.prototype.verify=o(function(e,r,n){return this.ec.verify(e,r,this,void 0,n)},"verify");oa.prototype.inspect=o(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect")});var m0e=j((NLt,p0e)=>{"use strict";m();g();var iI=Jl(),wU=Yc(),hWe=wU.assert;function oI(t,e){if(t instanceof oI)return t;this._importDER(t,e)||(hWe(t.r&&t.s,"Signature without r or s"),this.r=new iI(t.r,16),this.s=new iI(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}o(oI,"Signature");p0e.exports=oI;function pWe(){this.place=0}o(pWe,"Position");function vU(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}o(vU,"getLength");function h0e(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}o(h0e,"rmPadding");oI.prototype._importDER=o(function(e,r){e=wU.toArray(e,r);var n=new pWe;if(e[n.place++]!==48)return!1;var i=vU(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=vU(e,n);if(s===!1||e[n.place]&128)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var c=vU(e,n);if(c===!1||e.length!==c+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,c+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new iI(a),this.s=new iI(l),this.recoveryParam=null,!0},"_importDER");function _U(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}o(_U,"constructLength");oI.prototype.toDER=o(function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=h0e(r),n=h0e(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];_U(i,r.length),i=i.concat(r),i.push(2),_U(i,n.length);var s=i.concat(n),a=[48];return _U(a,s.length),a=a.concat(s),wU.encode(a,e)},"toDER")});var b0e=j((BLt,y0e)=>{"use strict";m();g();var ju=Jl(),g0e=u0e(),mWe=Yc(),EU=nI(),gWe=N5(),by=mWe.assert,SU=d0e(),sI=m0e();function Df(t){if(!(this instanceof Df))return new Df(t);typeof t=="string"&&(by(Object.prototype.hasOwnProperty.call(EU,t),"Unknown curve "+t),t=EU[t]),t instanceof EU.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}o(Df,"EC");y0e.exports=Df;Df.prototype.keyPair=o(function(e){return new SU(this,e)},"keyPair");Df.prototype.keyFromPrivate=o(function(e,r){return SU.fromPrivate(this,e,r)},"keyFromPrivate");Df.prototype.keyFromPublic=o(function(e,r){return SU.fromPublic(this,e,r)},"keyFromPublic");Df.prototype.genKeyPair=o(function(e){e||(e={});for(var r=new g0e({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||gWe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new ju(2));;){var s=new ju(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");Df.prototype._truncateToN=o(function(e,r,n){var i;if(ju.isBN(e)||typeof e=="number")e=new ju(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new ju(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new ju(s,16)}typeof n!="number"&&(n=i*8);var a=n-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},"_truncateToN");Df.prototype.sign=o(function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!ju.isBN(e)){by(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),by(e.length>>>0===e.length);for(var s=0;s<e.length;s++)by((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),by(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),c=r.getPrivate().toArray("be",a),l=e.toArray("be",a);by(new ju(l).eq(e),"Can not sign message");for(var h=new g0e({hash:this.hash,entropy:c,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),y=this.n.sub(new ju(1)),p=0;;p++){var E=i.k?i.k(p):new ju(h.generate(this.n.byteLength()));if(E=this._truncateToN(E,!0),!(E.cmpn(1)<=0||E.cmp(y)>=0)){var I=this.g.mul(E);if(!I.isInfinity()){var O=I.getX(),N=O.umod(this.n);if(N.cmpn(0)!==0){var k=E.invm(this.n).mul(N.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var C=(I.getY().isOdd()?1:0)|(O.cmp(N)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),C^=1),new sI({r:N,s:k,recoveryParam:C})}}}}}},"sign");Df.prototype.verify=o(function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new sI(r,"hex");var a=r.r,c=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||c.cmpn(1)<0||c.cmp(this.n)>=0)return!1;var l=c.invm(this.n),h=l.mul(e).umod(this.n),y=l.mul(a).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(h,n.getPublic(),y),p.isInfinity()?!1:p.eqXToP(a)):(p=this.g.mulAdd(h,n.getPublic(),y),p.isInfinity()?!1:p.getX().umod(this.n).cmp(a)===0)},"verify");Df.prototype.recoverPubKey=function(t,e,r,n){by((3&r)===r,"The recovery param is more than two bits"),e=new sI(e,n);var i=this.n,s=new ju(t),a=e.r,c=e.s,l=r&1,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?a=this.curve.pointFromX(a.add(this.curve.n),l):a=this.curve.pointFromX(a,l);var y=e.r.invm(i),p=i.sub(s).mul(y).umod(i),E=c.mul(y).umod(i);return this.g.mulAdd(p,a,E)};Df.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new sI(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var w0e=j((ULt,_0e)=>{"use strict";m();g();var sE=Yc(),v0e=sE.assert,x0e=sE.parseBytes,Sx=sE.cachedProperty;function Jo(t,e){this.eddsa=t,this._secret=x0e(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=x0e(e.pub)}o(Jo,"KeyPair");Jo.fromPublic=o(function(e,r){return r instanceof Jo?r:new Jo(e,{pub:r})},"fromPublic");Jo.fromSecret=o(function(e,r){return r instanceof Jo?r:new Jo(e,{secret:r})},"fromSecret");Jo.prototype.secret=o(function(){return this._secret},"secret");Sx(Jo,"pubBytes",o(function(){return this.eddsa.encodePoint(this.pub())},"pubBytes"));Sx(Jo,"pub",o(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())},"pub"));Sx(Jo,"privBytes",o(function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i},"privBytes"));Sx(Jo,"priv",o(function(){return this.eddsa.decodeInt(this.privBytes())},"priv"));Sx(Jo,"hash",o(function(){return this.eddsa.hash().update(this.secret()).digest()},"hash"));Sx(Jo,"messagePrefix",o(function(){return this.hash().slice(this.eddsa.encodingLength)},"messagePrefix"));Jo.prototype.sign=o(function(e){return v0e(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},"sign");Jo.prototype.verify=o(function(e,r){return this.eddsa.verify(e,r,this)},"verify");Jo.prototype.getSecret=o(function(e){return v0e(this._secret,"KeyPair is public only"),sE.encode(this.secret(),e)},"getSecret");Jo.prototype.getPublic=o(function(e){return sE.encode(this.pubBytes(),e)},"getPublic");_0e.exports=Jo});var A0e=j((VLt,S0e)=>{"use strict";m();g();var yWe=Jl(),aI=Yc(),E0e=aI.assert,cI=aI.cachedProperty,bWe=aI.parseBytes;function xy(t,e){this.eddsa=t,typeof e!="object"&&(e=bWe(e)),Array.isArray(e)&&(E0e(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),E0e(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof yWe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(xy,"Signature");cI(xy,"S",o(function(){return this.eddsa.decodeInt(this.Sencoded())},"S"));cI(xy,"R",o(function(){return this.eddsa.decodePoint(this.Rencoded())},"R"));cI(xy,"Rencoded",o(function(){return this.eddsa.encodePoint(this.R())},"Rencoded"));cI(xy,"Sencoded",o(function(){return this.eddsa.encodeInt(this.S())},"Sencoded"));xy.prototype.toBytes=o(function(){return this.Rencoded().concat(this.Sencoded())},"toBytes");xy.prototype.toHex=o(function(){return aI.encode(this.toBytes(),"hex").toUpperCase()},"toHex");S0e.exports=xy});var N0e=j((GLt,O0e)=>{"use strict";m();g();var xWe=Ex(),vWe=nI(),Ax=Yc(),_We=Ax.assert,T0e=Ax.parseBytes,R0e=w0e(),I0e=A0e();function pc(t){if(_We(t==="ed25519","only tested with ed25519 so far"),!(this instanceof pc))return new pc(t);t=vWe[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=xWe.sha512}o(pc,"EDDSA");O0e.exports=pc;pc.prototype.sign=o(function(e,r){e=T0e(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),a=this.encodePoint(s),c=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),l=i.add(c).umod(this.curve.n);return this.makeSignature({R:s,S:l,Rencoded:a})},"sign");pc.prototype.verify=o(function(e,r,n){if(e=T0e(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),a=this.g.mul(r.S()),c=r.R().add(i.pub().mul(s));return c.eq(a)},"verify");pc.prototype.hashInt=o(function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Ax.intFromLE(e.digest()).umod(this.curve.n)},"hashInt");pc.prototype.keyFromPublic=o(function(e){return R0e.fromPublic(this,e)},"keyFromPublic");pc.prototype.keyFromSecret=o(function(e){return R0e.fromSecret(this,e)},"keyFromSecret");pc.prototype.makeSignature=o(function(e){return e instanceof I0e?e:new I0e(this,e)},"makeSignature");pc.prototype.encodePoint=o(function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r},"encodePoint");pc.prototype.decodePoint=o(function(e){e=Ax.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=Ax.intFromLE(n);return this.curve.pointFromY(s,i)},"decodePoint");pc.prototype.encodeInt=o(function(e){return e.toArray("le",this.encodingLength)},"encodeInt");pc.prototype.decodeInt=o(function(e){return Ax.intFromLE(e)},"decodeInt");pc.prototype.isPoint=o(function(e){return e instanceof this.pointClass},"isPoint")});var fI=j(M0e=>{"use strict";m();g();var vy=M0e;vy.version=che().version;vy.utils=Yc();vy.rand=N5();vy.curve=aU();vy.curves=nI();vy.ec=b0e();vy.eddsa=N0e()});var IU=j((C0e,AU)=>{m();g();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=ib().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,T=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,T;if(b==="be")for(x=f.length-1;x>=d;x-=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var T=S.charCodeAt(A)-48;x*=b,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,T=A%x,v=Math.min(A,A-T)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<T;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var T=this.words[A],v=((T<<x|_)&16777215).toString(16);_=T>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=p[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[u]=v;for(;u<_;u++)T[u]=0}else{for(u=0;u<_-x;u++)T[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[_-u-1]=v}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,T=0;T<_.length;T++)d=(x.words[T]|0)-(_.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function I(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,T=A&67108863,v=A/67108864|0;d.words[0]=T;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var $=u-U|0;x=S.words[$]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,T=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,$=x[1]|0,ee=$&8191,re=$>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,ur=x[4]|0,Ae=ur&8191,Ne=ur>>>13,jn=x[5]|0,qe=jn&8191,ke=jn>>>13,zn=x[6]|0,Ue=zn&8191,Pe=zn>>>13,Kn=x[7]|0,Be=Kn&8191,Le=Kn>>>13,Jr=x[8]|0,Z=Jr&8191,Q=Jr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Ie=tr&8191,Me=tr>>>13,ci=_[2]|0,Fe=ci&8191,De=ci>>>13,uo=_[3]|0,Ge=uo&8191,$e=uo>>>13,Gn=_[4]|0,He=Gn&8191,Ve=Gn>>>13,Qi=_[5]|0,je=Qi&8191,ze=Qi>>>13,Eo=_[6]|0,Ce=Eo&8191,Ke=Eo>>>13,z=_[7]|0,G=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Ie)|0,u=u+Math.imul(q,Me)|0,u=u+Math.imul(U,Ie)|0,w=w+Math.imul(U,Me)|0;var nt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Ie)|0,u=u+Math.imul(ee,Me)|0,u=u+Math.imul(re,Ie)|0,w=w+Math.imul(re,Me)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Ie)|0,u=u+Math.imul(ae,Me)|0,u=u+Math.imul(le,Ie)|0,w=w+Math.imul(le,Me)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,u=u+Math.imul(q,$e)|0,u=u+Math.imul(U,Ge)|0,w=w+Math.imul(U,$e)|0;var st=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Ne,ve)|0,w=Math.imul(Ne,Se),v=v+Math.imul(he,Ie)|0,u=u+Math.imul(he,Me)|0,u=u+Math.imul(ge,Ie)|0,w=w+Math.imul(ge,Me)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(re,Ge)|0,w=w+Math.imul(re,$e)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Ie)|0,u=u+Math.imul(Ae,Me)|0,u=u+Math.imul(Ne,Ie)|0,w=w+Math.imul(Ne,Me)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,u=u+Math.imul(ae,$e)|0,u=u+Math.imul(le,Ge)|0,w=w+Math.imul(le,$e)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Ie)|0,u=u+Math.imul(qe,Me)|0,u=u+Math.imul(ke,Ie)|0,w=w+Math.imul(ke,Me)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Ne,Fe)|0,w=w+Math.imul(Ne,De)|0,v=v+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,$e)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var Tt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Ie)|0,u=u+Math.imul(Ue,Me)|0,u=u+Math.imul(Pe,Ie)|0,w=w+Math.imul(Pe,Me)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Ne,Ge)|0,w=w+Math.imul(Ne,$e)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,G)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,G)|0,w=w+Math.imul(U,K)|0;var At=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(Z,ve),u=Math.imul(Z,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Ie)|0,u=u+Math.imul(Be,Me)|0,u=u+Math.imul(Le,Ie)|0,w=w+Math.imul(Le,Me)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,$e)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Ne,He)|0,w=w+Math.imul(Ne,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,G)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,G)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(Z,Ie)|0,u=u+Math.imul(Z,Me)|0,u=u+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Me)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,$e)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Ne,je)|0,w=w+Math.imul(Ne,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,G)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,G)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Ie),u=Math.imul(ne,Me),u=u+Math.imul(de,Ie)|0,w=Math.imul(de,Me),v=v+Math.imul(Z,Fe)|0,u=u+Math.imul(Z,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,u=u+Math.imul(Be,$e)|0,u=u+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,$e)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Ne,Ce)|0,w=w+Math.imul(Ne,Ke)|0,v=v+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,$e)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Ne,G)|0,w=w+Math.imul(Ne,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,w=Math.imul(de,$e),v=v+Math.imul(Z,He)|0,u=u+Math.imul(Z,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,G)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,G)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Ne,Y)|0,w=w+Math.imul(Ne,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(Z,je)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,G)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,ue)|0;var ot=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,G)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,G)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(Z,G)|0,u=u+Math.imul(Z,K)|0,u=u+Math.imul(Q,G)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,w=Math.imul(de,K),v=v+Math.imul(Z,Y)|0,u=u+Math.imul(Z,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(T+v|0)+((u&8191)<<13)|0;return T=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=Tt,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,T!==0&&(A[19]=T,b.length++),b},"comb10MulTo");Math.imul||(O=I);function N(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var T=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,$=U&67108863;A=A+(U/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=T,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(N,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=I(this,f,d):x<1024?b=N(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var T=0;T<A;T++)x[T]=d[f[T]],_[T]=b[f[T]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var T=1;T<_;T<<=1)for(var v=T<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,$=0;$<T;$++){var ee=b[V+$],re=x[V+$],Oe=b[V+$+T],ae=x[V+$+T],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+$]=ee+Oe,x[V+$]=re+ae,b[V+$+T]=ee-Oe,x[V+$+T]=re-ae,$!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),T=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,T,x),this.convert13b(d.words,d.length,w,x),this.transform(T,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var $=0;$<x;$++){var ee=v[$]*V[$]-u[$]*q[$];u[$]=v[$]*q[$]+u[$]*V[$],v[$]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var T=this.words[_]&x,v=(this.words[_]|0)-T<<d;this.words[_]=v|A,A=T>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),T=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&T}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,T=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+T;var v=(f.words[_]|0)*d;A-=v&67108863,T=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+T,T=A>>26,this.words[_+b]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+T,T=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,T=this._countBits(A);b=26-T,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),T=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,$=1;!(b.words[0]&$)&&U<26;++U,$<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(w)),A.iushrn(1),T.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(T)):(b.isub(d),A.isub(x),T.isub(_))}return{a:A,b:T,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var T=0,v=1;!(d.words[0]&v)&&T<26;++T,v<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var T=this.words[A]|0;T+=_,_=T>>>26,T&=67108863,this.words[A]=T}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),M.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,M),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var T=f.words[_]|0;f.words[_-10]=(T&b)<<4|A>>>22,A=T}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,M);function F(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,M);function J(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(J,"P25519"),n(J,M),J.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(L[f])return L[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new J;else throw new Error("Unknown prime "+f);return L[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(T)!==0;)u.redIAdd(T);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var $=q,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],T=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&T===0){v=0;continue}T<<=1,T|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[T]),v=0,T=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof AU>"u"||AU,C0e)});var lI=j((rDt,k0e)=>{"use strict";m();g();var uI=fi(),Ix=uI.Buffer,Uf={},Ff;for(Ff in uI)uI.hasOwnProperty(Ff)&&(Ff==="SlowBuffer"||Ff==="Buffer"||(Uf[Ff]=uI[Ff]));var Tx=Uf.Buffer={};for(Ff in Ix)Ix.hasOwnProperty(Ff)&&(Ff==="allocUnsafe"||Ff==="allocUnsafeSlow"||(Tx[Ff]=Ix[Ff]));Uf.Buffer.prototype=Ix.prototype;(!Tx.from||Tx.from===Uint8Array.from)&&(Tx.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Ix(t,e,r)});Tx.alloc||(Tx.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=Ix(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!Uf.kStringMaxLength)try{Uf.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}Uf.constants||(Uf.constants={MAX_LENGTH:Uf.kMaxLength},Uf.kStringMaxLength&&(Uf.constants.MAX_STRING_LENGTH=Uf.kStringMaxLength));k0e.exports=Uf});var dI=j(B0e=>{"use strict";m();g();var wWe=Zt();function Hf(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}o(Hf,"Reporter");B0e.Reporter=Hf;Hf.prototype.isError=o(function(e){return e instanceof Rx},"isError");Hf.prototype.save=o(function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},"save");Hf.prototype.restore=o(function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)},"restore");Hf.prototype.enterKey=o(function(e){return this._reporterState.path.push(e)},"enterKey");Hf.prototype.exitKey=o(function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)},"exitKey");Hf.prototype.leaveKey=o(function(e,r,n){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)},"leaveKey");Hf.prototype.path=o(function(){return this._reporterState.path.join("/")},"path");Hf.prototype.enterObject=o(function(){let e=this._reporterState,r=e.obj;return e.obj={},r},"enterObject");Hf.prototype.leaveObject=o(function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n},"leaveObject");Hf.prototype.error=o(function(e){let r,n=this._reporterState,i=e instanceof Rx;if(i?r=e:r=new Rx(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r},"error");Hf.prototype.wrapResult=o(function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e},"wrapResult");function Rx(t,e){this.path=t,this.rethrow(e)}o(Rx,"ReporterError");wWe(Rx,Error);Rx.prototype.rethrow=o(function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Rx),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this},"rethrow")});var Mx=j(TU=>{"use strict";m();g();var EWe=Zt(),hI=dI().Reporter,Ox=lI().Buffer;function qf(t,e){if(hI.call(this,e),!Ox.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}o(qf,"DecoderBuffer");EWe(qf,hI);TU.DecoderBuffer=qf;qf.isDecoderBuffer=o(function(e){return e instanceof qf?!0:typeof e=="object"&&Ox.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"},"isDecoderBuffer");qf.prototype.save=o(function(){return{offset:this.offset,reporter:hI.prototype.save.call(this)}},"save");qf.prototype.restore=o(function(e){let r=new qf(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,hI.prototype.restore.call(this,e.reporter),r},"restore");qf.prototype.isEmpty=o(function(){return this.offset===this.length},"isEmpty");qf.prototype.readUInt8=o(function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},"readUInt8");qf.prototype.skip=o(function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new qf(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},"skip");qf.prototype.raw=o(function(e){return this.base.slice(e?e.offset:this.offset,this.length)},"raw");function Nx(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return Nx.isEncoderBuffer(r)||(r=new Nx(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Ox.byteLength(t);else if(Ox.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}o(Nx,"EncoderBuffer");TU.EncoderBuffer=Nx;Nx.isEncoderBuffer=o(function(e){return e instanceof Nx?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"},"isEncoderBuffer");Nx.prototype.join=o(function(e,r){return e||(e=Ox.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Ox.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e},"join")});var pI=j((hDt,L0e)=>{"use strict";m();g();var SWe=dI().Reporter,AWe=Mx().EncoderBuffer,IWe=Mx().DecoderBuffer,Ma=Wc(),P0e=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],TWe=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(P0e),RWe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Dn(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}o(Dn,"Node");L0e.exports=Dn;var OWe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Dn.prototype.clone=o(function(){let e=this._baseState,r={};OWe.forEach(function(i){r[i]=e[i]});let n=new this.constructor(r.parent);return n._baseState=r,n},"clone");Dn.prototype._wrap=o(function(){let e=this._baseState;TWe.forEach(function(r){this[r]=o(function(){let i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)},"_wrappedMethod")},this)},"wrap");Dn.prototype._init=o(function(e){let r=this._baseState;Ma(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Ma.equal(r.children.length,1,"Root node can have only one child")},"init");Dn.prototype._useArgs=o(function(e){let r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Ma(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(Ma(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let s={};return Object.keys(i).forEach(function(a){a==(a|0)&&(a|=0);let c=i[a];s[c]=a}),s}))},"useArgs");RWe.forEach(function(t){Dn.prototype[t]=o(function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)},"_overrided")});P0e.forEach(function(t){Dn.prototype[t]=o(function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return Ma(r.tag===null),r.tag=t,this._useArgs(n),this},"_tagMethod")});Dn.prototype.use=o(function(e){Ma(e);let r=this._baseState;return Ma(r.use===null),r.use=e,this},"use");Dn.prototype.optional=o(function(){let e=this._baseState;return e.optional=!0,this},"optional");Dn.prototype.def=o(function(e){let r=this._baseState;return Ma(r.default===null),r.default=e,r.optional=!0,this},"def");Dn.prototype.explicit=o(function(e){let r=this._baseState;return Ma(r.explicit===null&&r.implicit===null),r.explicit=e,this},"explicit");Dn.prototype.implicit=o(function(e){let r=this._baseState;return Ma(r.explicit===null&&r.implicit===null),r.implicit=e,this},"implicit");Dn.prototype.obj=o(function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this},"obj");Dn.prototype.key=o(function(e){let r=this._baseState;return Ma(r.key===null),r.key=e,this},"key");Dn.prototype.any=o(function(){let e=this._baseState;return e.any=!0,this},"any");Dn.prototype.choice=o(function(e){let r=this._baseState;return Ma(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this},"choice");Dn.prototype.contains=o(function(e){let r=this._baseState;return Ma(r.use===null),r.contains=e,this},"contains");Dn.prototype._decode=o(function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,s=!0,a=null;if(n.key!==null&&(a=e.enterKey(n.key)),n.optional){let l=null;if(n.explicit!==null?l=n.explicit:n.implicit!==null?l=n.implicit:n.tag!==null&&(l=n.tag),l===null&&!n.any){let h=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),s=!0}catch{s=!1}e.restore(h)}else if(s=this._peekTag(e,l,n.any),e.isError(s))return s}let c;if(n.obj&&s&&(c=e.enterObject()),s){if(n.explicit!==null){let h=this._decodeTag(e,n.explicit);if(e.isError(h))return h;e=h}let l=e.offset;if(n.use===null&&n.choice===null){let h;n.any&&(h=e.save());let y=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(y))return y;n.any?i=e.raw(h):e=y}if(r&&r.track&&n.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(o(function(y){y._decode(e,r)},"decodeChildren")),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let h=new IWe(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(h,r)}}return n.obj&&s&&(i=e.leaveObject(c)),n.key!==null&&(i!==null||s===!0)?e.leaveKey(a,n.key,i):a!==null&&e.exitKey(a),i},"decode");Dn.prototype._decodeGeneric=o(function(e,r,n){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)},"decodeGeneric");Dn.prototype._getUse=o(function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),Ma(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},"_getUse");Dn.prototype._decodeChoice=o(function(e,r){let n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some(function(a){let c=e.save(),l=n.choice[a];try{let h=l._decode(e,r);if(e.isError(h))return!1;i={type:a,value:h},s=!0}catch{return e.restore(c),!1}return!0},this),s?i:e.error("Choice not matched")},"decodeChoice");Dn.prototype._createEncoderBuffer=o(function(e){return new AWe(e,this.reporter)},"createEncoderBuffer");Dn.prototype._encode=o(function(e,r,n){let i=this._baseState;if(i.default!==null&&i.default===e)return;let s=this._encodeValue(e,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s},"encode");Dn.prototype._encodeValue=o(function(e,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new SWe);let s=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let a=null,c=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,r);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,r),c=!0;else if(i.children)a=i.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");let h=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let y=l._encode(e[l._baseState.key],r,e);return r.leaveKey(h),y},this).filter(function(l){return l}),a=this._createEncoderBuffer(a);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(h){let y=this._baseState;return this._getUse(y.args[0],e)._encode(h,r)},l))}else i.use!==null?s=this._getUse(i.use,n)._encode(e,r):(a=this._encodePrimitive(i.tag,e),c=!0);if(!i.any&&i.choice===null){let l=i.implicit!==null?i.implicit:i.tag,h=i.implicit===null?"universal":"context";l===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(s=this._encodeComposite(l,c,h,a))}return i.explicit!==null&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},"encode");Dn.prototype._encodeChoice=o(function(e,r){let n=this._baseState,i=n.choice[e.type];return i||Ma(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)},"encodeChoice");Dn.prototype._encodePrimitive=o(function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)},"encodePrimitive");Dn.prototype._isNumstr=o(function(e){return/^[0-9 ]*$/.test(e)},"isNumstr");Dn.prototype._isPrintstr=o(function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)},"isPrintstr")});var mI=j(_y=>{"use strict";m();g();function D0e(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}o(D0e,"reverse");_y.tagClass={0:"universal",1:"application",2:"context",3:"private"};_y.tagClassByName=D0e(_y.tagClass);_y.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};_y.tagByName=D0e(_y.tag)});var OU=j((_Dt,H0e)=>{"use strict";m();g();var NWe=Zt(),kh=lI().Buffer,U0e=pI(),RU=mI();function F0e(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new zu,this.tree._init(t.body)}o(F0e,"DEREncoder");H0e.exports=F0e;F0e.prototype.encode=o(function(e,r){return this.tree._encode(e,r).join()},"encode");function zu(t){U0e.call(this,"der",t)}o(zu,"DERNode");NWe(zu,U0e);zu.prototype._encodeComposite=o(function(e,r,n,i){let s=MWe(e,r,n,this.reporter);if(i.length<128){let l=kh.alloc(2);return l[0]=s,l[1]=i.length,this._createEncoderBuffer([l,i])}let a=1;for(let l=i.length;l>=256;l>>=8)a++;let c=kh.alloc(2+a);c[0]=s,c[1]=128|a;for(let l=1+a,h=i.length;h>0;l--,h>>=8)c[l]=h&255;return this._createEncoderBuffer([c,i])},"encodeComposite");zu.prototype._encodeStr=o(function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=kh.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")},"encodeStr");zu.prototype._encodeObjid=o(function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let c=0;c<e.length;c++)e[c]|=0}else if(Array.isArray(e)){e=e.slice();for(let c=0;c<e.length;c++)e[c]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let c=0;c<e.length;c++){let l=e[c];for(i++;l>=128;l>>=7)i++}let s=kh.alloc(i),a=s.length-1;for(let c=e.length-1;c>=0;c--){let l=e[c];for(s[a--]=l&127;(l>>=7)>0;)s[a--]=128|l&127}return this._createEncoderBuffer(s)},"encodeObjid");function Vf(t){return t<10?"0"+t:t}o(Vf,"two");zu.prototype._encodeTime=o(function(e,r){let n,i=new Date(e);return r==="gentime"?n=[Vf(i.getUTCFullYear()),Vf(i.getUTCMonth()+1),Vf(i.getUTCDate()),Vf(i.getUTCHours()),Vf(i.getUTCMinutes()),Vf(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[Vf(i.getUTCFullYear()%100),Vf(i.getUTCMonth()+1),Vf(i.getUTCDate()),Vf(i.getUTCHours()),Vf(i.getUTCMinutes()),Vf(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")},"encodeTime");zu.prototype._encodeNull=o(function(){return this._createEncoderBuffer("")},"encodeNull");zu.prototype._encodeInt=o(function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!kh.isBuffer(e)){let s=e.toArray();!e.sign&&s[0]&128&&s.unshift(0),e=kh.from(s)}if(kh.isBuffer(e)){let s=e.length;e.length===0&&s++;let a=kh.alloc(s);return e.copy(a),e.length===0&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let s=e;s>=256;s>>=8)n++;let i=new Array(n);for(let s=i.length-1;s>=0;s--)i[s]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(kh.from(i))},"encodeInt");zu.prototype._encodeBool=o(function(e){return this._createEncoderBuffer(e?255:0)},"encodeBool");zu.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree},"use");zu.prototype._skipDefault=o(function(e,r,n){let i=this._baseState,s;if(i.default===null)return!1;let a=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),a.length!==i.defaultBuffer.length)return!1;for(s=0;s<a.length;s++)if(a[s]!==i.defaultBuffer[s])return!1;return!0},"skipDefault");function MWe(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),RU.tagByName.hasOwnProperty(t))i=RU.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=RU.tagClassByName[r||"universal"]<<6,i)}o(MWe,"encodeTag")});var V0e=j((ADt,q0e)=>{"use strict";m();g();var CWe=Zt(),NU=OU();function MU(t){NU.call(this,t),this.enc="pem"}o(MU,"PEMEncoder");CWe(MU,NU);q0e.exports=MU;MU.prototype.encode=o(function(e,r){let i=NU.prototype.encode.call(this,e).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let a=0;a<i.length;a+=64)s.push(i.slice(a,a+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)},"encode")});var CU=j(z0e=>{"use strict";m();g();var j0e=z0e;j0e.der=OU();j0e.pem=V0e()});var BU=j((CDt,X0e)=>{"use strict";m();g();var kWe=Zt(),BWe=IU(),K0e=Mx().DecoderBuffer,$0e=pI(),G0e=mI();function W0e(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Xc,this.tree._init(t.body)}o(W0e,"DERDecoder");X0e.exports=W0e;W0e.prototype.decode=o(function(e,r){return K0e.isDecoderBuffer(e)||(e=new K0e(e,r)),this.tree._decode(e,r)},"decode");function Xc(t){$0e.call(this,"der",t)}o(Xc,"DERNode");kWe(Xc,$0e);Xc.prototype._peekTag=o(function(e,r,n){if(e.isEmpty())return!1;let i=e.save(),s=kU(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)},"peekTag");Xc.prototype._decodeTag=o(function(e,r,n){let i=kU(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;let s=Y0e(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');let a=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(s=e.offset-a.offset,e.restore(a),e.skip(s,'Failed to match body of: "'+r+'"'))},"decodeTag");Xc.prototype._skipUntilEnd=o(function(e,r){for(;;){let n=kU(e,r);if(e.isError(n))return n;let i=Y0e(e,n.primitive,r);if(e.isError(i))return i;let s;if(n.primitive||i!==null?s=e.skip(i):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(n.tagStr==="end")break}},"skipUntilEnd");Xc.prototype._decodeList=o(function(e,r,n,i){let s=[];for(;!e.isEmpty();){let a=this._peekTag(e,"end");if(e.isError(a))return a;let c=n.decode(e,"der",i);if(e.isError(c)&&a)break;s.push(c)}return s},"decodeList");Xc.prototype._decodeStr=o(function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(s*2));return i}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}},"decodeStr");Xc.prototype._decodeObjid=o(function(e,r,n){let i,s=[],a=0,c=0;for(;!e.isEmpty();)c=e.readUInt8(),a<<=7,a|=c&127,c&128||(s.push(a),a=0);c&128&&s.push(a);let l=s[0]/40|0,h=s[0]%40;if(n?i=s:i=[l,h].concat(s.slice(1)),r){let y=r[i.join(" ")];y===void 0&&(y=r[i.join(".")]),y!==void 0&&(i=y)}return i},"decodeObjid");Xc.prototype._decodeTime=o(function(e,r){let n=e.raw().toString(),i,s,a,c,l,h;if(r==="gentime")i=n.slice(0,4)|0,s=n.slice(4,6)|0,a=n.slice(6,8)|0,c=n.slice(8,10)|0,l=n.slice(10,12)|0,h=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,s=n.slice(2,4)|0,a=n.slice(4,6)|0,c=n.slice(6,8)|0,l=n.slice(8,10)|0,h=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,s-1,a,c,l,h,0)},"decodeTime");Xc.prototype._decodeNull=o(function(){return null},"decodeNull");Xc.prototype._decodeBool=o(function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0},"decodeBool");Xc.prototype._decodeInt=o(function(e,r){let n=e.raw(),i=new BWe(n);return r&&(i=r[i.toString(10)]||i),i},"decodeInt");Xc.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree},"use");function kU(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=G0e.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let a=r;for(r=0;(a&128)===128;){if(a=t.readUInt8(e),t.isError(a))return a;r<<=7,r|=a&127}}else r&=31;let s=G0e.tag[r];return{cls:n,primitive:i,tag:r,tagStr:s}}o(kU,"derDecodeTag");function Y0e(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;let i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;let a=t.readUInt8(r);if(t.isError(a))return a;n|=a}return n}o(Y0e,"derDecodeLen")});var J0e=j((LDt,Z0e)=>{"use strict";m();g();var PWe=Zt(),LWe=lI().Buffer,PU=BU();function LU(t){PU.call(this,t),this.enc="pem"}o(LU,"PEMDecoder");PWe(LU,PU);Z0e.exports=LU;LU.prototype.decode=o(function(e,r){let n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,c=-1;for(let y=0;y<n.length;y++){let p=n[y].match(s);if(p!==null&&p[2]===i)if(a===-1){if(p[1]!=="BEGIN")break;a=y}else{if(p[1]!=="END")break;c=y;break}}if(a===-1||c===-1)throw new Error("PEM section not found for: "+i);let l=n.slice(a+1,c).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let h=LWe.from(l,"base64");return PU.prototype.decode.call(this,h,r)},"decode")});var DU=j(epe=>{"use strict";m();g();var Q0e=epe;Q0e.der=BU();Q0e.pem=J0e()});var rpe=j(tpe=>{"use strict";m();g();var DWe=CU(),UWe=DU(),FWe=Zt(),HWe=tpe;HWe.define=o(function(e,r){return new Cx(e,r)},"define");function Cx(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}o(Cx,"Entity");Cx.prototype._createNamed=o(function(e){let r=this.name;function n(i){this._initNamed(i,r)}return o(n,"Generated"),FWe(n,e),n.prototype._initNamed=o(function(s,a){e.call(this,s,a)},"_initNamed"),new n(this)},"createNamed");Cx.prototype._getDecoder=o(function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(UWe[e])),this.decoders[e]},"_getDecoder");Cx.prototype.decode=o(function(e,r,n){return this._getDecoder(r).decode(e,n)},"decode");Cx.prototype._getEncoder=o(function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(DWe[e])),this.encoders[e]},"_getEncoder");Cx.prototype.encode=o(function(e,r,n){return this._getEncoder(r).encode(e,n)},"encode")});var ipe=j(npe=>{"use strict";m();g();var gI=npe;gI.Reporter=dI().Reporter;gI.DecoderBuffer=Mx().DecoderBuffer;gI.EncoderBuffer=Mx().EncoderBuffer;gI.Node=pI()});var ape=j(spe=>{"use strict";m();g();var ope=spe;ope._reverse=o(function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let i=e[n];r[i]=n}),r},"reverse");ope.der=mI()});var UU=j(cpe=>{"use strict";m();g();var kx=cpe;kx.bignum=IU();kx.define=rpe().define;kx.base=ipe();kx.constants=ape();kx.decoders=DU();kx.encoders=CU()});var dpe=j((nUt,lpe)=>{"use strict";m();g();var Ku=UU(),fpe=Ku.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),qWe=Ku.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),FU=Ku.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),VWe=Ku.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(FU),this.key("subjectPublicKey").bitstr())}),jWe=Ku.define("RelativeDistinguishedName",function(){this.setof(qWe)}),zWe=Ku.define("RDNSequence",function(){this.seqof(jWe)}),upe=Ku.define("Name",function(){this.choice({rdnSequence:this.use(zWe)})}),KWe=Ku.define("Validity",function(){this.seq().obj(this.key("notBefore").use(fpe),this.key("notAfter").use(fpe))}),GWe=Ku.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),$We=Ku.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(FU),this.key("issuer").use(upe),this.key("validity").use(KWe),this.key("subject").use(upe),this.key("subjectPublicKeyInfo").use(VWe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(GWe).optional())}),WWe=Ku.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use($We),this.key("signatureAlgorithm").use(FU),this.key("signatureValue").bitstr())});lpe.exports=WWe});var ppe=j($u=>{"use strict";m();g();var Gu=UU();$u.certificate=dpe();var YWe=Gu.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});$u.RSAPrivateKey=YWe;var XWe=Gu.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});$u.RSAPublicKey=XWe;var ZWe=Gu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(hpe),this.key("subjectPublicKey").bitstr())});$u.PublicKey=ZWe;var hpe=Gu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),JWe=Gu.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(hpe),this.key("subjectPrivateKey").octstr())});$u.PrivateKey=JWe;var QWe=Gu.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});$u.EncryptedPrivateKey=QWe;var eYe=Gu.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});$u.DSAPrivateKey=eYe;$u.DSAparam=Gu.define("DSAparam",function(){this.int()});var tYe=Gu.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(rYe),this.key("publicKey").optional().explicit(1).bitstr())});$u.ECPrivateKey=tYe;var rYe=Gu.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});$u.signature=Gu.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var mpe=j((fUt,nYe)=>{nYe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var ype=j((uUt,gpe)=>{m();g();var iYe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,oYe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,sYe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,aYe=$w(),cYe=O5(),yI=pr().Buffer;gpe.exports=function(t,e){var r=t.toString(),n=r.match(iYe),i;if(n){var a="aes"+n[1],c=yI.from(n[2],"hex"),l=yI.from(n[3].replace(/[\r\n]/g,""),"base64"),h=aYe(e,c.slice(0,8),parseInt(n[1],10)).key,y=[],p=cYe.createDecipheriv(a,h,c);y.push(p.update(l)),y.push(p.final()),i=yI.concat(y)}else{var s=r.match(sYe);i=yI.from(s[2].replace(/[\r\n]/g,""),"base64")}var E=r.match(oYe)[1];return{tag:E,data:i}}});var aE=j((hUt,xpe)=>{m();g();var mc=ppe(),fYe=mpe(),uYe=ype(),lYe=O5(),dYe=y5(),HU=pr().Buffer;xpe.exports=bpe;function bpe(t){var e;typeof t=="object"&&!HU.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=HU.from(t));var r=uYe(t,e),n=r.tag,i=r.data,s,a;switch(n){case"CERTIFICATE":a=mc.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=mc.PublicKey.decode(i,"der")),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return mc.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=mc.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":i=mc.EncryptedPrivateKey.decode(i,"der"),i=hYe(i,e);case"PRIVATE KEY":switch(a=mc.PrivateKey.decode(i,"der"),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return mc.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:mc.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=mc.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return mc.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return mc.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:mc.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=mc.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}o(bpe,"parseKeys");bpe.signature=mc.signature;function hYe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=fYe[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,a=t.subjectPrivateKey,c=parseInt(i.split("-")[1],10)/8,l=dYe.pbkdf2Sync(e,r,n,c,"sha1"),h=lYe.createDecipheriv(i,l,s),y=[];return y.push(h.update(a)),y.push(h.final()),HU.concat(y)}o(hYe,"decrypt")});var qU=j((yUt,pYe)=>{pYe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var wpe=j((bUt,xI)=>{"use strict";m();g();var sa=pr().Buffer,wy=WL(),mYe=$5(),gYe=fI().ec,bI=ob(),yYe=aE(),bYe=qU(),xYe=1;function vYe(t,e,r,n,i){var s=yYe(e);if(s.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return _Ye(t,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return wYe(t,s,r)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==xYe)throw new Error("illegal or unsupported padding mode");t=sa.concat([i,t]);for(var a=s.modulus.byteLength(),c=[0,1];t.length+c.length+1<a;)c.push(255);c.push(0);for(var l=-1;++l<t.length;)c.push(t[l]);var h=mYe(c,s);return h}o(vYe,"sign");function _Ye(t,e){var r=bYe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new gYe(r),i=n.keyFromPrivate(e.privateKey),s=i.sign(t);return sa.from(s.toDER())}o(_Ye,"ecSign");function wYe(t,e,r){for(var n=e.params.priv_key,i=e.params.p,s=e.params.q,a=e.params.g,c=new bI(0),l,h=VU(t,s).mod(s),y=!1,p=vpe(n,s,t,r);y===!1;)l=_pe(s,p,r),c=AYe(a,l,i,s),y=l.invm(s).imul(h.add(n.mul(c))).mod(s),y.cmpn(0)===0&&(y=!1,c=new bI(0));return EYe(c,y)}o(wYe,"dsaSign");function EYe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),sa.from(n)}o(EYe,"toDER");function vpe(t,e,r,n){if(t=sa.from(t.toArray()),t.length<e.byteLength()){var i=sa.alloc(e.byteLength()-t.length);t=sa.concat([i,t])}var s=r.length,a=SYe(r,e),c=sa.alloc(s);c.fill(1);var l=sa.alloc(s);return l=wy(n,l).update(c).update(sa.from([0])).update(t).update(a).digest(),c=wy(n,l).update(c).digest(),l=wy(n,l).update(c).update(sa.from([1])).update(t).update(a).digest(),c=wy(n,l).update(c).digest(),{k:l,v:c}}o(vpe,"getKey");function VU(t,e){var r=new bI(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}o(VU,"bits2int");function SYe(t,e){t=VU(t,e),t=t.mod(e);var r=sa.from(t.toArray());if(r.length<e.byteLength()){var n=sa.alloc(e.byteLength()-r.length);r=sa.concat([n,r])}return r}o(SYe,"bits2octets");function _pe(t,e,r){var n,i;do{for(n=sa.alloc(0);n.length*8<t.bitLength();)e.v=wy(r,e.k).update(e.v).digest(),n=sa.concat([n,e.v]);i=VU(n,t),e.k=wy(r,e.k).update(e.v).update(sa.from([0])).digest(),e.v=wy(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}o(_pe,"makeKey");function AYe(t,e,r,n){return t.toRed(bI.mont(r)).redPow(e).fromRed().mod(n)}o(AYe,"makeR");xI.exports=vYe;xI.exports.getKey=vpe;xI.exports.makeKey=_pe});var Ipe=j((wUt,Ape)=>{"use strict";m();g();var jU=pr().Buffer,cE=ob(),IYe=fI().ec,Spe=aE(),TYe=qU();function RYe(t,e,r,n,i){var s=Spe(r);if(s.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return OYe(t,e,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return NYe(t,e,s)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=jU.concat([i,e]);for(var a=s.modulus.byteLength(),c=[1],l=0;e.length+c.length+2<a;)c.push(255),l+=1;c.push(0);for(var h=-1;++h<e.length;)c.push(e[h]);c=jU.from(c);var y=cE.mont(s.modulus);t=new cE(t).toRed(y),t=t.redPow(new cE(s.publicExponent)),t=jU.from(t.fromRed().toArray());var p=l<8?1:0;for(a=Math.min(t.length,c.length),t.length!==c.length&&(p=1),h=-1;++h<a;)p|=t[h]^c[h];return p===0}o(RYe,"verify");function OYe(t,e,r){var n=TYe[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new IYe(n),s=r.data.subjectPrivateKey.data;return i.verify(e,t,s)}o(OYe,"ecVerify");function NYe(t,e,r){var n=r.data.p,i=r.data.q,s=r.data.g,a=r.data.pub_key,c=Spe.signature.decode(t,"der"),l=c.s,h=c.r;Epe(l,i),Epe(h,i);var y=cE.mont(n),p=l.invm(i),E=s.toRed(y).redPow(new cE(e).mul(p).mod(i)).fromRed().mul(a.toRed(y).redPow(h.mul(p).mod(i)).fromRed()).mod(n).mod(i);return E.cmp(h)===0}o(NYe,"dsaVerify");function Epe(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}o(Epe,"checkValue");Ape.exports=RYe});var Cpe=j((IUt,Mpe)=>{"use strict";m();g();var vI=pr().Buffer,Ope=ey(),_I=ihe(),Npe=Zt(),MYe=wpe(),CYe=Ipe(),Ey=YL();Object.keys(Ey).forEach(function(t){Ey[t].id=vI.from(Ey[t].id,"hex"),Ey[t.toLowerCase()]=Ey[t]});function fE(t){_I.Writable.call(this);var e=Ey[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=Ope(e.hash),this._tag=e.id,this._signType=e.sign}o(fE,"Sign");Npe(fE,_I.Writable);fE.prototype._write=o(function(e,r,n){this._hash.update(e),n()},"_write");fE.prototype.update=o(function(e,r){return this._hash.update(typeof e=="string"?vI.from(e,r):e),this},"update");fE.prototype.sign=o(function(e,r){this.end();var n=this._hash.digest(),i=MYe(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i},"signMethod");function uE(t){_I.Writable.call(this);var e=Ey[t];if(!e)throw new Error("Unknown message digest");this._hash=Ope(e.hash),this._tag=e.id,this._signType=e.sign}o(uE,"Verify");Npe(uE,_I.Writable);uE.prototype._write=o(function(e,r,n){this._hash.update(e),n()},"_write");uE.prototype.update=o(function(e,r){return this._hash.update(typeof e=="string"?vI.from(e,r):e),this},"update");uE.prototype.verify=o(function(e,r,n){var i=typeof r=="string"?vI.from(r,n):r;this.end();var s=this._hash.digest();return CYe(i,s,e,this._signType,this._tag)},"verifyMethod");function Tpe(t){return new fE(t)}o(Tpe,"createSign");function Rpe(t){return new uE(t)}o(Rpe,"createVerify");Mpe.exports={Sign:Tpe,Verify:Rpe,createSign:Tpe,createVerify:Rpe}});var Bpe=j((kpe,zU)=>{m();g();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=ib().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,T=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,T;if(b==="be")for(x=f.length-1;x>=d;x-=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var T=S.charCodeAt(A)-48;x*=b,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,T=A%x,v=Math.min(A,A-T)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<T;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var T=this.words[A],v=((T<<x|_)&16777215).toString(16);_=T>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=p[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[u]=v;for(;u<_;u++)T[u]=0}else{for(u=0;u<_-x;u++)T[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[_-u-1]=v}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,T=0;T<_.length;T++)d=(x.words[T]|0)-(_.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function I(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,T=A&67108863,v=A/67108864|0;d.words[0]=T;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var $=u-U|0;x=S.words[$]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,T=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,$=x[1]|0,ee=$&8191,re=$>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,ur=x[4]|0,Ae=ur&8191,Ne=ur>>>13,jn=x[5]|0,qe=jn&8191,ke=jn>>>13,zn=x[6]|0,Ue=zn&8191,Pe=zn>>>13,Kn=x[7]|0,Be=Kn&8191,Le=Kn>>>13,Jr=x[8]|0,Z=Jr&8191,Q=Jr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Ie=tr&8191,Me=tr>>>13,ci=_[2]|0,Fe=ci&8191,De=ci>>>13,uo=_[3]|0,Ge=uo&8191,$e=uo>>>13,Gn=_[4]|0,He=Gn&8191,Ve=Gn>>>13,Qi=_[5]|0,je=Qi&8191,ze=Qi>>>13,Eo=_[6]|0,Ce=Eo&8191,Ke=Eo>>>13,z=_[7]|0,G=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Ie)|0,u=u+Math.imul(q,Me)|0,u=u+Math.imul(U,Ie)|0,w=w+Math.imul(U,Me)|0;var nt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Ie)|0,u=u+Math.imul(ee,Me)|0,u=u+Math.imul(re,Ie)|0,w=w+Math.imul(re,Me)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Ie)|0,u=u+Math.imul(ae,Me)|0,u=u+Math.imul(le,Ie)|0,w=w+Math.imul(le,Me)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,u=u+Math.imul(q,$e)|0,u=u+Math.imul(U,Ge)|0,w=w+Math.imul(U,$e)|0;var st=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Ne,ve)|0,w=Math.imul(Ne,Se),v=v+Math.imul(he,Ie)|0,u=u+Math.imul(he,Me)|0,u=u+Math.imul(ge,Ie)|0,w=w+Math.imul(ge,Me)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(re,Ge)|0,w=w+Math.imul(re,$e)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Ie)|0,u=u+Math.imul(Ae,Me)|0,u=u+Math.imul(Ne,Ie)|0,w=w+Math.imul(Ne,Me)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,u=u+Math.imul(ae,$e)|0,u=u+Math.imul(le,Ge)|0,w=w+Math.imul(le,$e)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Ie)|0,u=u+Math.imul(qe,Me)|0,u=u+Math.imul(ke,Ie)|0,w=w+Math.imul(ke,Me)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Ne,Fe)|0,w=w+Math.imul(Ne,De)|0,v=v+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,$e)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var Tt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Ie)|0,u=u+Math.imul(Ue,Me)|0,u=u+Math.imul(Pe,Ie)|0,w=w+Math.imul(Pe,Me)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Ne,Ge)|0,w=w+Math.imul(Ne,$e)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,G)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,G)|0,w=w+Math.imul(U,K)|0;var At=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(Z,ve),u=Math.imul(Z,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Ie)|0,u=u+Math.imul(Be,Me)|0,u=u+Math.imul(Le,Ie)|0,w=w+Math.imul(Le,Me)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,$e)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Ne,He)|0,w=w+Math.imul(Ne,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,G)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,G)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(Z,Ie)|0,u=u+Math.imul(Z,Me)|0,u=u+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Me)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,$e)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Ne,je)|0,w=w+Math.imul(Ne,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,G)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,G)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Ie),u=Math.imul(ne,Me),u=u+Math.imul(de,Ie)|0,w=Math.imul(de,Me),v=v+Math.imul(Z,Fe)|0,u=u+Math.imul(Z,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,u=u+Math.imul(Be,$e)|0,u=u+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,$e)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Ne,Ce)|0,w=w+Math.imul(Ne,Ke)|0,v=v+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,$e)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Ne,G)|0,w=w+Math.imul(Ne,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,w=Math.imul(de,$e),v=v+Math.imul(Z,He)|0,u=u+Math.imul(Z,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,G)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,G)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Ne,Y)|0,w=w+Math.imul(Ne,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(Z,je)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,G)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,ue)|0;var ot=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,G)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,G)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(Z,G)|0,u=u+Math.imul(Z,K)|0,u=u+Math.imul(Q,G)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,w=Math.imul(de,K),v=v+Math.imul(Z,Y)|0,u=u+Math.imul(Z,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(T+v|0)+((u&8191)<<13)|0;return T=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=Tt,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,T!==0&&(A[19]=T,b.length++),b},"comb10MulTo");Math.imul||(O=I);function N(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var T=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,$=U&67108863;A=A+(U/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=T,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(N,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=I(this,f,d):x<1024?b=N(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var T=0;T<A;T++)x[T]=d[f[T]],_[T]=b[f[T]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var T=1;T<_;T<<=1)for(var v=T<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,$=0;$<T;$++){var ee=b[V+$],re=x[V+$],Oe=b[V+$+T],ae=x[V+$+T],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+$]=ee+Oe,x[V+$]=re+ae,b[V+$+T]=ee-Oe,x[V+$+T]=re-ae,$!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),T=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,T,x),this.convert13b(d.words,d.length,w,x),this.transform(T,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var $=0;$<x;$++){var ee=v[$]*V[$]-u[$]*q[$];u[$]=v[$]*q[$]+u[$]*V[$],v[$]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var T=this.words[_]&x,v=(this.words[_]|0)-T<<d;this.words[_]=v|A,A=T>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),T=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&T}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,T=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+T;var v=(f.words[_]|0)*d;A-=v&67108863,T=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+T,T=A>>26,this.words[_+b]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+T,T=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,T=this._countBits(A);b=26-T,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),T=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,$=1;!(b.words[0]&$)&&U<26;++U,$<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(w)),A.iushrn(1),T.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(T)):(b.isub(d),A.isub(x),T.isub(_))}return{a:A,b:T,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var T=0,v=1;!(d.words[0]&v)&&T<26;++T,v<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var T=this.words[A]|0;T+=_,_=T>>>26,T&=67108863,this.words[A]=T}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),M.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,M),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var T=f.words[_]|0;f.words[_-10]=(T&b)<<4|A>>>22,A=T}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,M);function F(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,M);function J(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(J,"P25519"),n(J,M),J.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(L[f])return L[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new J;else throw new Error("Unknown prime "+f);return L[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(T)!==0;)u.redIAdd(T);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var $=q,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],T=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&T===0){v=0;continue}T<<=1,T|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[T]),v=0,T=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof zU>"u"||zU,kpe)});var Lpe=j((kUt,Ppe)=>{m();g();var kYe=fI(),BYe=Bpe();Ppe.exports=o(function(e){return new Sy(e)},"createECDH");var Zc={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Zc.p224=Zc.secp224r1;Zc.p256=Zc.secp256r1=Zc.prime256v1;Zc.p192=Zc.secp192r1=Zc.prime192v1;Zc.p384=Zc.secp384r1;Zc.p521=Zc.secp521r1;function Sy(t){this.curveType=Zc[t],this.curveType||(this.curveType={name:t}),this.curve=new kYe.ec(this.curveType.name),this.keys=void 0}o(Sy,"ECDH");Sy.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Sy.prototype.computeSecret=function(t,e,r){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return KU(i,r,this.curveType.byteLength)};Sy.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),KU(r,t)};Sy.prototype.getPrivateKey=function(t){return KU(this.keys.getPrivate(),t)};Sy.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this};Sy.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new BYe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function KU(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}o(KU,"formatReturnValue")});var $U=j((DUt,Dpe)=>{m();g();var PYe=ey(),GU=pr().Buffer;Dpe.exports=function(t,e){for(var r=GU.alloc(0),n=0,i;r.length<e;)i=LYe(n++),r=GU.concat([r,PYe("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function LYe(t){var e=GU.allocUnsafe(4);return e.writeUInt32BE(t,0),e}o(LYe,"i2ops")});var WU=j((qUt,Upe)=>{m();g();Upe.exports=o(function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e},"xor")});var wI=j((Fpe,YU)=>{m();g();(function(t,e){"use strict";function r(S,f){if(!S)throw new Error(f||"Assertion failed")}o(r,"assert");function n(S,f){S.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,S.prototype=new d,S.prototype.constructor=S}o(n,"inherits");function i(S,f,d){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(S||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=ib().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,T=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<T&67108863,this.words[_+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,_++);return this.strip()},"_initArray");function a(S,f){var d=S.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(S,f,d){var b=a(S,d);return d-1>=f&&(b|=a(S,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,T;if(b==="be")for(x=f.length-1;x>=d;x-=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)T=c(f,d,x)<<_,this.words[A]|=T&67108863,_>=18?(_-=18,A+=1,this.words[A]|=T>>>26):_+=8}this.strip()},"_parseHex");function l(S,f,d,b){for(var x=0,_=Math.min(S.length,d),A=f;A<_;A++){var T=S.charCodeAt(A)-48;x*=b,T>=49?x+=T-49+10:T>=17?x+=T-17+10:x+=T}return x}o(l,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,T=A%x,v=Math.min(A,A-T)+b,u=0,w=b;w<v;w+=x)u=l(f,w,w+x,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(T!==0){var V=1;for(u=l(f,w,f.length,d),w=0;w<T;w++)V*=d;this.imuln(V),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var T=this.words[A],v=((T<<x|_)&16777215).toString(16);_=T>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var u=y[f],w=p[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[u-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",T=new f(_),v,u,w=this.clone();if(A){for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[u]=v;for(;u<_;u++)T[u]=0}else{for(u=0;u<_-x;u++)T[u]=0;for(u=0;!w.isZero();u++)v=w.andln(255),w.iushrn(8),T[_-u-1]=v}return T},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function E(S){for(var f=new Array(S.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(S.words[b]&1<<x)>>>x}return f}o(E,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,T=0;T<_.length;T++)d=(x.words[T]|0)-(_.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;for(;A!==0&&T<x.length;T++)d=(x.words[T]|0)+A,A=d>>26,this.words[T]=d&67108863;if(A===0&&T<x.length&&x!==this)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=Math.max(this.length,T),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function I(S,f,d){d.negative=f.negative^S.negative;var b=S.length+f.length|0;d.length=b,b=b-1|0;var x=S.words[0]|0,_=f.words[0]|0,A=x*_,T=A&67108863,v=A/67108864|0;d.words[0]=T;for(var u=1;u<b;u++){for(var w=v>>>26,V=v&67108863,q=Math.min(u,f.length-1),U=Math.max(0,u-S.length+1);U<=q;U++){var $=u-U|0;x=S.words[$]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[u]=V|0,v=w|0}return v!==0?d.words[u]=v|0:d.length--,d.strip()}o(I,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,T=0,v,u,w,V=x[0]|0,q=V&8191,U=V>>>13,$=x[1]|0,ee=$&8191,re=$>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,ur=x[4]|0,Ae=ur&8191,Ne=ur>>>13,jn=x[5]|0,qe=jn&8191,ke=jn>>>13,zn=x[6]|0,Ue=zn&8191,Pe=zn>>>13,Kn=x[7]|0,Be=Kn&8191,Le=Kn>>>13,Jr=x[8]|0,Z=Jr&8191,Q=Jr>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Se=yt>>>13,tr=_[1]|0,Ie=tr&8191,Me=tr>>>13,ci=_[2]|0,Fe=ci&8191,De=ci>>>13,uo=_[3]|0,Ge=uo&8191,$e=uo>>>13,Gn=_[4]|0,He=Gn&8191,Ve=Gn>>>13,Qi=_[5]|0,je=Qi&8191,ze=Qi>>>13,Eo=_[6]|0,Ce=Eo&8191,Ke=Eo>>>13,z=_[7]|0,G=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),u=Math.imul(q,Se),u=u+Math.imul(U,ve)|0,w=Math.imul(U,Se);var lt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),u=Math.imul(ee,Se),u=u+Math.imul(re,ve)|0,w=Math.imul(re,Se),v=v+Math.imul(q,Ie)|0,u=u+Math.imul(q,Me)|0,u=u+Math.imul(U,Ie)|0,w=w+Math.imul(U,Me)|0;var nt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),u=Math.imul(ae,Se),u=u+Math.imul(le,ve)|0,w=Math.imul(le,Se),v=v+Math.imul(ee,Ie)|0,u=u+Math.imul(ee,Me)|0,u=u+Math.imul(re,Ie)|0,w=w+Math.imul(re,Me)|0,v=v+Math.imul(q,Fe)|0,u=u+Math.imul(q,De)|0,u=u+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),u=Math.imul(he,Se),u=u+Math.imul(ge,ve)|0,w=Math.imul(ge,Se),v=v+Math.imul(ae,Ie)|0,u=u+Math.imul(ae,Me)|0,u=u+Math.imul(le,Ie)|0,w=w+Math.imul(le,Me)|0,v=v+Math.imul(ee,Fe)|0,u=u+Math.imul(ee,De)|0,u=u+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,u=u+Math.imul(q,$e)|0,u=u+Math.imul(U,Ge)|0,w=w+Math.imul(U,$e)|0;var st=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),u=Math.imul(Ae,Se),u=u+Math.imul(Ne,ve)|0,w=Math.imul(Ne,Se),v=v+Math.imul(he,Ie)|0,u=u+Math.imul(he,Me)|0,u=u+Math.imul(ge,Ie)|0,w=w+Math.imul(ge,Me)|0,v=v+Math.imul(ae,Fe)|0,u=u+Math.imul(ae,De)|0,u=u+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,u=u+Math.imul(ee,$e)|0,u=u+Math.imul(re,Ge)|0,w=w+Math.imul(re,$e)|0,v=v+Math.imul(q,He)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),u=Math.imul(qe,Se),u=u+Math.imul(ke,ve)|0,w=Math.imul(ke,Se),v=v+Math.imul(Ae,Ie)|0,u=u+Math.imul(Ae,Me)|0,u=u+Math.imul(Ne,Ie)|0,w=w+Math.imul(Ne,Me)|0,v=v+Math.imul(he,Fe)|0,u=u+Math.imul(he,De)|0,u=u+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,u=u+Math.imul(ae,$e)|0,u=u+Math.imul(le,Ge)|0,w=w+Math.imul(le,$e)|0,v=v+Math.imul(ee,He)|0,u=u+Math.imul(ee,Ve)|0,u=u+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,u=u+Math.imul(q,ze)|0,u=u+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),u=Math.imul(Ue,Se),u=u+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Se),v=v+Math.imul(qe,Ie)|0,u=u+Math.imul(qe,Me)|0,u=u+Math.imul(ke,Ie)|0,w=w+Math.imul(ke,Me)|0,v=v+Math.imul(Ae,Fe)|0,u=u+Math.imul(Ae,De)|0,u=u+Math.imul(Ne,Fe)|0,w=w+Math.imul(Ne,De)|0,v=v+Math.imul(he,Ge)|0,u=u+Math.imul(he,$e)|0,u=u+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,$e)|0,v=v+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ve)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,u=u+Math.imul(ee,ze)|0,u=u+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ke)|0,u=u+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var Tt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,v=Math.imul(Be,ve),u=Math.imul(Be,Se),u=u+Math.imul(Le,ve)|0,w=Math.imul(Le,Se),v=v+Math.imul(Ue,Ie)|0,u=u+Math.imul(Ue,Me)|0,u=u+Math.imul(Pe,Ie)|0,w=w+Math.imul(Pe,Me)|0,v=v+Math.imul(qe,Fe)|0,u=u+Math.imul(qe,De)|0,u=u+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,u=u+Math.imul(Ae,$e)|0,u=u+Math.imul(Ne,Ge)|0,w=w+Math.imul(Ne,$e)|0,v=v+Math.imul(he,He)|0,u=u+Math.imul(he,Ve)|0,u=u+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,u=u+Math.imul(ee,Ke)|0,u=u+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,G)|0,u=u+Math.imul(q,K)|0,u=u+Math.imul(U,G)|0,w=w+Math.imul(U,K)|0;var At=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(Z,ve),u=Math.imul(Z,Se),u=u+Math.imul(Q,ve)|0,w=Math.imul(Q,Se),v=v+Math.imul(Be,Ie)|0,u=u+Math.imul(Be,Me)|0,u=u+Math.imul(Le,Ie)|0,w=w+Math.imul(Le,Me)|0,v=v+Math.imul(Ue,Fe)|0,u=u+Math.imul(Ue,De)|0,u=u+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,$e)|0,u=u+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,$e)|0,v=v+Math.imul(Ae,He)|0,u=u+Math.imul(Ae,Ve)|0,u=u+Math.imul(Ne,He)|0,w=w+Math.imul(Ne,Ve)|0,v=v+Math.imul(he,je)|0,u=u+Math.imul(he,ze)|0,u=u+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,u=u+Math.imul(ae,Ke)|0,u=u+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,G)|0,u=u+Math.imul(ee,K)|0,u=u+Math.imul(re,G)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),u=Math.imul(ne,Se),u=u+Math.imul(de,ve)|0,w=Math.imul(de,Se),v=v+Math.imul(Z,Ie)|0,u=u+Math.imul(Z,Me)|0,u=u+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Me)|0,v=v+Math.imul(Be,Fe)|0,u=u+Math.imul(Be,De)|0,u=u+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,u=u+Math.imul(Ue,$e)|0,u=u+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,$e)|0,v=v+Math.imul(qe,He)|0,u=u+Math.imul(qe,Ve)|0,u=u+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,u=u+Math.imul(Ae,ze)|0,u=u+Math.imul(Ne,je)|0,w=w+Math.imul(Ne,ze)|0,v=v+Math.imul(he,Ce)|0,u=u+Math.imul(he,Ke)|0,u=u+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,G)|0,u=u+Math.imul(ae,K)|0,u=u+Math.imul(le,G)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,u=u+Math.imul(ee,te)|0,u=u+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,u=u+Math.imul(q,ue)|0,u=u+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var Et=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(ne,Ie),u=Math.imul(ne,Me),u=u+Math.imul(de,Ie)|0,w=Math.imul(de,Me),v=v+Math.imul(Z,Fe)|0,u=u+Math.imul(Z,De)|0,u=u+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,u=u+Math.imul(Be,$e)|0,u=u+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,$e)|0,v=v+Math.imul(Ue,He)|0,u=u+Math.imul(Ue,Ve)|0,u=u+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,u=u+Math.imul(qe,ze)|0,u=u+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,u=u+Math.imul(Ae,Ke)|0,u=u+Math.imul(Ne,Ce)|0,w=w+Math.imul(Ne,Ke)|0,v=v+Math.imul(he,G)|0,u=u+Math.imul(he,K)|0,u=u+Math.imul(ge,G)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,u=u+Math.imul(ae,te)|0,u=u+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,u=u+Math.imul(ee,ue)|0,u=u+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),u=Math.imul(ne,De),u=u+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(Z,Ge)|0,u=u+Math.imul(Z,$e)|0,u=u+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,$e)|0,v=v+Math.imul(Be,He)|0,u=u+Math.imul(Be,Ve)|0,u=u+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,u=u+Math.imul(Ue,ze)|0,u=u+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,u=u+Math.imul(qe,Ke)|0,u=u+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,G)|0,u=u+Math.imul(Ae,K)|0,u=u+Math.imul(Ne,G)|0,w=w+Math.imul(Ne,K)|0,v=v+Math.imul(he,Y)|0,u=u+Math.imul(he,te)|0,u=u+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,u=u+Math.imul(ae,ue)|0,u=u+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),u=Math.imul(ne,$e),u=u+Math.imul(de,Ge)|0,w=Math.imul(de,$e),v=v+Math.imul(Z,He)|0,u=u+Math.imul(Z,Ve)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,u=u+Math.imul(Be,ze)|0,u=u+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,u=u+Math.imul(Ue,Ke)|0,u=u+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,G)|0,u=u+Math.imul(qe,K)|0,u=u+Math.imul(ke,G)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,u=u+Math.imul(Ae,te)|0,u=u+Math.imul(Ne,Y)|0,w=w+Math.imul(Ne,te)|0,v=v+Math.imul(he,se)|0,u=u+Math.imul(he,ue)|0,u=u+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),u=Math.imul(ne,Ve),u=u+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(Z,je)|0,u=u+Math.imul(Z,ze)|0,u=u+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,u=u+Math.imul(Be,Ke)|0,u=u+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,G)|0,u=u+Math.imul(Ue,K)|0,u=u+Math.imul(Pe,G)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,u=u+Math.imul(qe,te)|0,u=u+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,u=u+Math.imul(Ae,ue)|0,u=u+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,ue)|0;var ot=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),u=Math.imul(ne,ze),u=u+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,Ke)|0,u=u+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,G)|0,u=u+Math.imul(Be,K)|0,u=u+Math.imul(Le,G)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,u=u+Math.imul(Ue,te)|0,u=u+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,u=u+Math.imul(qe,ue)|0,u=u+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),u=Math.imul(ne,Ke),u=u+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(Z,G)|0,u=u+Math.imul(Z,K)|0,u=u+Math.imul(Q,G)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,u=u+Math.imul(Be,te)|0,u=u+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,u=u+Math.imul(Ue,ue)|0,u=u+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,G),u=Math.imul(ne,K),u=u+Math.imul(de,G)|0,w=Math.imul(de,K),v=v+Math.imul(Z,Y)|0,u=u+Math.imul(Z,te)|0,u=u+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,u=u+Math.imul(Be,ue)|0,u=u+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),u=Math.imul(ne,te),u=u+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(Z,se)|0,u=u+Math.imul(Z,ue)|0,u=u+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(T+v|0)+((u&8191)<<13)|0;T=(w+(u>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),u=Math.imul(ne,ue),u=u+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(T+v|0)+((u&8191)<<13)|0;return T=(w+(u>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=Tt,A[7]=At,A[8]=_t,A[9]=Et,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,T!==0&&(A[19]=T,b.length++),b},"comb10MulTo");Math.imul||(O=I);function N(S,f,d){d.negative=f.negative^S.negative,d.length=S.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var T=b&67108863,v=Math.min(_,f.length-1),u=Math.max(0,_-S.length+1);u<=v;u++){var w=_-u,V=S.words[w]|0,q=f.words[u]|0,U=V*q,$=U&67108863;A=A+(U/67108864|0)|0,$=$+T|0,T=$&67108863,A=A+($>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=T,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(N,"bigMulTo");function k(S,f,d){var b=new C;return b.mulp(S,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=I(this,f,d):x<1024?b=N(this,f,d):b=k(this,f,d),b},"mulTo");function C(S,f){this.x=S,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var T=0;T<A;T++)x[T]=d[f[T]],_[T]=b[f[T]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var T=1;T<_;T<<=1)for(var v=T<<1,u=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=u,U=w,$=0;$<T;$++){var ee=b[V+$],re=x[V+$],Oe=b[V+$+T],ae=x[V+$+T],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+$]=ee+Oe,x[V+$]=re+ae,b[V+$+T]=ee-Oe,x[V+$+T]=re-ae,$!==v&&(le=u*q-w*U,U=u*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),T=new Array(x),v=new Array(x),u=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,T,x),this.convert13b(d.words,d.length,w,x),this.transform(T,A,v,u,x,_),this.transform(w,A,V,q,x,_);for(var $=0;$<x;$++){var ee=v[$]*V[$]-u[$]*q[$];u[$]=v[$]*q[$]+u[$]*V[$],v[$]=ee}return this.conjugate(v,u,x),this.transform(v,u,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=E(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var T=this.words[_]&x,v=(this.words[_]|0)-T<<d;this.words[_]=v|A,A=T>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),T=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var u=0;u<A;u++)v.words[u]=this.words[u];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,u=0;u<this.length;u++)this.words[u]=this.words[u+A];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=x);u--){var V=this.words[u]|0;this.words[u]=w<<26-_|V>>>_,w=V&T}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,T=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+T;var v=(f.words[_]|0)*d;A-=v&67108863,T=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+T,T=A>>26,this.words[_+b]=A&67108863;if(T===0)return this.strip();for(r(T===-1),T=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+T,T=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,T=this._countBits(A);b=26-T,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,u;if(d!=="mod"){u=new i(null),u.length=v+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,u&&(u.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);u&&(u.words[q]=U)}return u&&u.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:u||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),T=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(u),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,$=1;!(b.words[0]&$)&&U<26;++U,$<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(u),T.isub(w)),A.iushrn(1),T.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(T)):(b.isub(d),A.isub(x),T.isub(_))}return{a:A,b:T,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var T=0,v=1;!(d.words[0]&v)&&T<26;++T,v<<=1);if(T>0)for(d.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var T=this.words[A]|0;T+=_,_=T>>>26,T&=67108863,this.words[A]=T}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function M(S,f){this.name=S,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(M,"MPrime"),M.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),M.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),M.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),M.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,M),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var T=f.words[_]|0;f.words[_-10]=(T&b)<<4|A>>>22,A=T}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,M);function F(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,M);function J(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(J,"P25519"),n(J,M),J.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(L[f])return L[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new J;else throw new Error("Unknown prime "+f);return L[f]=d,d},"prime");function W(S){if(typeof S=="string"){var f=i._prime(S);this.m=f.p,this.prime=f}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),T=A.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,v).cmp(T)!==0;)u.redIAdd(T);for(var w=this.pow(u,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var $=q,ee=0;$.cmp(A)!==0;ee++)$=$.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],T=0,v=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=u-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&T===0){v=0;continue}T<<=1,T|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[T]),v=0,T=0)}u=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(S){W.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof YU>"u"||YU,Fpe)});var XU=j((WUt,qpe)=>{m();g();var Hpe=wI(),DYe=pr().Buffer;function UYe(t,e){return DYe.from(t.toRed(Hpe.mont(e.modulus)).redPow(new Hpe(e.publicExponent)).fromRed().toArray())}o(UYe,"withPublic");qpe.exports=UYe});var Kpe=j((JUt,zpe)=>{m();g();var FYe=aE(),ZU=jg(),HYe=ey(),Vpe=$U(),jpe=WU(),JU=wI(),qYe=XU(),VYe=$5(),Wu=pr().Buffer;zpe.exports=o(function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=FYe(e),a;if(i===4)a=jYe(s,r);else if(i===1)a=zYe(s,r,n);else if(i===3){if(a=new JU(r),a.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?VYe(a,s):qYe(a,s)},"publicEncrypt");function jYe(t,e){var r=t.modulus.byteLength(),n=e.length,i=HYe("sha1").update(Wu.alloc(0)).digest(),s=i.length,a=2*s;if(n>r-a-2)throw new Error("message too long");var c=Wu.alloc(r-n-a-2),l=r-s-1,h=ZU(s),y=jpe(Wu.concat([i,c,Wu.alloc(1,1),e],l),Vpe(h,l)),p=jpe(h,Vpe(y,s));return new JU(Wu.concat([Wu.alloc(1),p,y],r))}o(jYe,"oaep");function zYe(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var s;return r?s=Wu.alloc(i-n-3,255):s=KYe(i-n-3),new JU(Wu.concat([Wu.from([0,r?1:2]),s,Wu.alloc(1),e],i))}o(zYe,"pkcs1");function KYe(t){for(var e=Wu.allocUnsafe(t),r=0,n=ZU(t*2),i=0,s;r<t;)i===n.length&&(n=ZU(t*2),i=0),s=n[i++],s&&(e[r++]=s);return e}o(KYe,"nonZero")});var Xpe=j((rFt,Ype)=>{m();g();var GYe=aE(),Gpe=$U(),$pe=WU(),Wpe=wI(),$Ye=$5(),WYe=ey(),YYe=XU(),lE=pr().Buffer;Ype.exports=o(function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=GYe(e),a=s.modulus.byteLength();if(r.length>a||new Wpe(r).cmp(s.modulus)>=0)throw new Error("decryption error");var c;n?c=YYe(new Wpe(r),s):c=$Ye(r,s);var l=lE.alloc(a-c.length);if(c=lE.concat([l,c],a),i===4)return XYe(s,c);if(i===1)return ZYe(s,c,n);if(i===3)return c;throw new Error("unknown padding")},"privateDecrypt");function XYe(t,e){var r=t.modulus.byteLength(),n=WYe("sha1").update(lE.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,i+1),a=e.slice(i+1),c=$pe(s,Gpe(a,i)),l=$pe(a,Gpe(c,r-i-1));if(JYe(n,l.slice(0,i)))throw new Error("decryption error");for(var h=i;l[h]===0;)h++;if(l[h++]!==1)throw new Error("decryption error");return l.slice(h)}o(XYe,"oaep");function ZYe(t,e,r){for(var n=e.slice(0,2),i=2,s=0;e[i++]!==0;)if(i>=e.length){s++;break}var a=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,a.length<8&&s++,s)throw new Error("decryption error");return e.slice(i)}o(ZYe,"pkcs1");function JYe(t,e){t=lE.from(t),e=lE.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}o(JYe,"compare")});var Zpe=j(Ay=>{m();g();Ay.publicEncrypt=Kpe();Ay.privateDecrypt=Xpe();Ay.privateEncrypt=o(function(e,r){return Ay.publicEncrypt(e,r,!0)},"privateEncrypt");Ay.publicDecrypt=o(function(e,r){return Ay.privateDecrypt(e,r,!0)},"publicDecrypt")});var ame=j(dE=>{"use strict";m();g();function Jpe(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}o(Jpe,"oldBrowser");var eme=pr(),Qpe=jg(),tme=eme.Buffer,rme=eme.kMaxLength,QU=self.crypto||self.msCrypto,nme=Math.pow(2,32)-1;function ime(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>nme||t<0)throw new TypeError("offset must be a uint32");if(t>rme||t>e)throw new RangeError("offset out of range")}o(ime,"assertOffset");function ome(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>nme||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>rme)throw new RangeError("buffer too small")}o(ome,"assertSize");QU&&QU.getRandomValues?(dE.randomFill=QYe,dE.randomFillSync=eXe):(dE.randomFill=Jpe,dE.randomFillSync=Jpe);function QYe(t,e,r,n){if(!tme.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return ime(e,t.length),ome(r,e,t.length),sme(t,e,r,n)}o(QYe,"randomFill");function sme(t,e,r,n){var i=t.buffer,s=new Uint8Array(i,e,r);if(QU.getRandomValues(s),n){process.nextTick(function(){n(null,t)});return}return t;var a}o(sme,"actualFill");function eXe(t,e,r){if(typeof e>"u"&&(e=0),!tme.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return ime(e,t.length),r===void 0&&(r=t.length-e),ome(r,e,t.length),sme(t,e,r)}o(eXe,"randomFillSync")});var ax=j(Ir=>{"use strict";m();g();Ir.randomBytes=Ir.rng=Ir.pseudoRandomBytes=Ir.prng=jg();Ir.createHash=Ir.Hash=ey();Ir.createHmac=Ir.Hmac=WL();var tXe=due(),rXe=Object.keys(tXe),nXe=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(rXe);Ir.getHashes=function(){return nXe};var cme=y5();Ir.pbkdf2=cme.pbkdf2;Ir.pbkdf2Sync=cme.pbkdf2Sync;var sd=$le();Ir.Cipher=sd.Cipher;Ir.createCipher=sd.createCipher;Ir.Cipheriv=sd.Cipheriv;Ir.createCipheriv=sd.createCipheriv;Ir.Decipher=sd.Decipher;Ir.createDecipher=sd.createDecipher;Ir.Decipheriv=sd.Decipheriv;Ir.createDecipheriv=sd.createDecipheriv;Ir.getCiphers=sd.getCiphers;Ir.listCiphers=sd.listCiphers;var hE=cde();Ir.DiffieHellmanGroup=hE.DiffieHellmanGroup;Ir.createDiffieHellmanGroup=hE.createDiffieHellmanGroup;Ir.getDiffieHellman=hE.getDiffieHellman;Ir.createDiffieHellman=hE.createDiffieHellman;Ir.DiffieHellman=hE.DiffieHellman;var EI=Cpe();Ir.createSign=EI.createSign;Ir.Sign=EI.Sign;Ir.createVerify=EI.createVerify;Ir.Verify=EI.Verify;Ir.createECDH=Lpe();var SI=Zpe();Ir.publicEncrypt=SI.publicEncrypt;Ir.privateEncrypt=SI.privateEncrypt;Ir.publicDecrypt=SI.publicDecrypt;Ir.privateDecrypt=SI.privateDecrypt;var fme=ame();Ir.randomFill=fme.randomFill;Ir.randomFillSync=fme.randomFillSync;Ir.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};Ir.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var OF=j(PE=>{"use strict";m();g();Object.defineProperty(PE,"__esModule",{value:!0});PE.SupportedAlgorithm=void 0;var BJe;(function(t){t.sha256="sha256",t.sha512="sha512"})(BJe=PE.SupportedAlgorithm||(PE.SupportedAlgorithm={}))});var Lge=j(oT=>{"use strict";m();g();Object.defineProperty(oT,"__esModule",{value:!0});oT.version=void 0;oT.version="sha2/5.7.0"});var Uge=j($f=>{"use strict";m();g();var PJe=$f&&$f.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($f,"__esModule",{value:!0});$f.computeHmac=$f.sha512=$f.sha256=$f.ripemd160=void 0;var LE=PJe(Ex()),DE=cs(),LJe=OF(),Dge=Ta(),DJe=Lge(),UJe=new Dge.Logger(DJe.version);function FJe(t){return"0x"+LE.default.ripemd160().update((0,DE.arrayify)(t)).digest("hex")}o(FJe,"ripemd160");$f.ripemd160=FJe;function HJe(t){return"0x"+LE.default.sha256().update((0,DE.arrayify)(t)).digest("hex")}o(HJe,"sha256");$f.sha256=HJe;function qJe(t){return"0x"+LE.default.sha512().update((0,DE.arrayify)(t)).digest("hex")}o(qJe,"sha512");$f.sha512=qJe;function VJe(t,e,r){return LJe.SupportedAlgorithm[t]||UJe.throwError("unsupported algorithm "+t,Dge.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+LE.default.hmac(LE.default[t],(0,DE.arrayify)(e)).update((0,DE.arrayify)(r)).digest("hex")}o(VJe,"computeHmac");$f.computeHmac=VJe});var NF=j(Wf=>{"use strict";m();g();Object.defineProperty(Wf,"__esModule",{value:!0});Wf.SupportedAlgorithm=Wf.sha512=Wf.sha256=Wf.ripemd160=Wf.computeHmac=void 0;var sT=Uge();Object.defineProperty(Wf,"computeHmac",{enumerable:!0,get:o(function(){return sT.computeHmac},"get")});Object.defineProperty(Wf,"ripemd160",{enumerable:!0,get:o(function(){return sT.ripemd160},"get")});Object.defineProperty(Wf,"sha256",{enumerable:!0,get:o(function(){return sT.sha256},"get")});Object.defineProperty(Wf,"sha512",{enumerable:!0,get:o(function(){return sT.sha512},"get")});var jJe=OF();Object.defineProperty(Wf,"SupportedAlgorithm",{enumerable:!0,get:o(function(){return jJe.SupportedAlgorithm},"get")})});var QF=j((JF,fye)=>{"use strict";m();g();(function(t){function e(u){return parseInt(u)===u}o(e,"checkInt");function r(u){if(!e(u.length))return!1;for(var w=0;w<u.length;w++)if(!e(u[w])||u[w]<0||u[w]>255)return!1;return!0}o(r,"checkInts");function n(u,w){if(u.buffer&&ArrayBuffer.isView(u)&&u.name==="Uint8Array")return w&&(u.slice?u=u.slice():u=Array.prototype.slice.call(u)),u;if(Array.isArray(u)){if(!r(u))throw new Error("Array contains invalid value: "+u);return new Uint8Array(u)}if(e(u.length)&&r(u))return new Uint8Array(u);throw new Error("unsupported array-like object")}o(n,"coerceArray");function i(u){return new Uint8Array(u)}o(i,"createArray");function s(u,w,V,q,U){(q!=null||U!=null)&&(u.slice?u=u.slice(q,U):u=Array.prototype.slice.call(u,q,U)),w.set(u,V)}o(s,"copyArray");var a=function(){function u(V){var q=[],U=0;for(V=encodeURI(V);U<V.length;){var $=V.charCodeAt(U++);$===37?(q.push(parseInt(V.substr(U,2),16)),U+=2):q.push($)}return n(q)}o(u,"toBytes");function w(V){for(var q=[],U=0;U<V.length;){var $=V[U];$<128?(q.push(String.fromCharCode($)),U++):$>191&&$<224?(q.push(String.fromCharCode(($&31)<<6|V[U+1]&63)),U+=2):(q.push(String.fromCharCode(($&15)<<12|(V[U+1]&63)<<6|V[U+2]&63)),U+=3)}return q.join("")}return o(w,"fromBytes"),{toBytes:u,fromBytes:w}}(),c=function(){function u(q){for(var U=[],$=0;$<q.length;$+=2)U.push(parseInt(q.substr($,2),16));return U}o(u,"toBytes");var w="0123456789abcdef";function V(q){for(var U=[],$=0;$<q.length;$++){var ee=q[$];U.push(w[(ee&240)>>4]+w[ee&15])}return U.join("")}return o(V,"fromBytes"),{toBytes:u,fromBytes:V}}(),l={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],y=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],E=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],I=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],O=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],N=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],k=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],C=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],L=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],M=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],P=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],H=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],F=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],J=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function W(u){for(var w=[],V=0;V<u.length;V+=4)w.push(u[V]<<24|u[V+1]<<16|u[V+2]<<8|u[V+3]);return w}o(W,"convertToInt32");var X=o(function(u){if(!(this instanceof X))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(u,!0)}),this._prepare()},"AES");X.prototype._prepare=function(){var u=l[this.key.length];if(u==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var w=0;w<=u;w++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var V=(u+1)*4,q=this.key.length/4,U=W(this.key),$,w=0;w<q;w++)$=w>>2,this._Ke[$][w%4]=U[w],this._Kd[u-$][w%4]=U[w];for(var ee=0,re=q,Oe;re<V;){if(Oe=U[q-1],U[0]^=y[Oe>>16&255]<<24^y[Oe>>8&255]<<16^y[Oe&255]<<8^y[Oe>>24&255]^h[ee]<<24,ee+=1,q!=8)for(var w=1;w<q;w++)U[w]^=U[w-1];else{for(var w=1;w<q/2;w++)U[w]^=U[w-1];Oe=U[q/2-1],U[q/2]^=y[Oe&255]^y[Oe>>8&255]<<8^y[Oe>>16&255]<<16^y[Oe>>24&255]<<24;for(var w=q/2+1;w<q;w++)U[w]^=U[w-1]}for(var w=0,ae,le;w<q&&re<V;)ae=re>>2,le=re%4,this._Ke[ae][le]=U[w],this._Kd[u-ae][le]=U[w++],re++}for(var ae=1;ae<u;ae++)for(var le=0;le<4;le++)Oe=this._Kd[ae][le],this._Kd[ae][le]=P[Oe>>24&255]^H[Oe>>16&255]^F[Oe>>8&255]^J[Oe&255]},X.prototype.encrypt=function(u){if(u.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var w=this._Ke.length-1,V=[0,0,0,0],q=W(u),U=0;U<4;U++)q[U]^=this._Ke[0][U];for(var $=1;$<w;$++){for(var U=0;U<4;U++)V[U]=E[q[U]>>24&255]^I[q[(U+1)%4]>>16&255]^O[q[(U+2)%4]>>8&255]^N[q[(U+3)%4]&255]^this._Ke[$][U];q=V.slice()}for(var ee=i(16),re,U=0;U<4;U++)re=this._Ke[w][U],ee[4*U]=(y[q[U]>>24&255]^re>>24)&255,ee[4*U+1]=(y[q[(U+1)%4]>>16&255]^re>>16)&255,ee[4*U+2]=(y[q[(U+2)%4]>>8&255]^re>>8)&255,ee[4*U+3]=(y[q[(U+3)%4]&255]^re)&255;return ee},X.prototype.decrypt=function(u){if(u.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var w=this._Kd.length-1,V=[0,0,0,0],q=W(u),U=0;U<4;U++)q[U]^=this._Kd[0][U];for(var $=1;$<w;$++){for(var U=0;U<4;U++)V[U]=k[q[U]>>24&255]^C[q[(U+3)%4]>>16&255]^L[q[(U+2)%4]>>8&255]^M[q[(U+1)%4]&255]^this._Kd[$][U];q=V.slice()}for(var ee=i(16),re,U=0;U<4;U++)re=this._Kd[w][U],ee[4*U]=(p[q[U]>>24&255]^re>>24)&255,ee[4*U+1]=(p[q[(U+3)%4]>>16&255]^re>>16)&255,ee[4*U+2]=(p[q[(U+2)%4]>>8&255]^re>>8)&255,ee[4*U+3]=(p[q[(U+1)%4]&255]^re)&255;return ee};var S=o(function(u){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new X(u)},"ModeOfOperationECB");S.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var w=i(u.length),V=i(16),q=0;q<u.length;q+=16)s(u,V,0,q,q+16),V=this._aes.encrypt(V),s(V,w,q);return w},S.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var w=i(u.length),V=i(16),q=0;q<u.length;q+=16)s(u,V,0,q,q+16),V=this._aes.decrypt(V),s(V,w,q);return w};var f=o(function(u,w){if(!(this instanceof f))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!w)w=i(16);else if(w.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(w,!0),this._aes=new X(u)},"ModeOfOperationCBC");f.prototype.encrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var w=i(u.length),V=i(16),q=0;q<u.length;q+=16){s(u,V,0,q,q+16);for(var U=0;U<16;U++)V[U]^=this._lastCipherblock[U];this._lastCipherblock=this._aes.encrypt(V),s(this._lastCipherblock,w,q)}return w},f.prototype.decrypt=function(u){if(u=n(u),u.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var w=i(u.length),V=i(16),q=0;q<u.length;q+=16){s(u,V,0,q,q+16),V=this._aes.decrypt(V);for(var U=0;U<16;U++)w[q+U]=V[U]^this._lastCipherblock[U];s(u,this._lastCipherblock,0,q,q+16)}return w};var d=o(function(u,w,V){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!w)w=i(16);else if(w.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");V||(V=1),this.segmentSize=V,this._shiftRegister=n(w,!0),this._aes=new X(u)},"ModeOfOperationCFB");d.prototype.encrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var w=n(u,!0),V,q=0;q<w.length;q+=this.segmentSize){V=this._aes.encrypt(this._shiftRegister);for(var U=0;U<this.segmentSize;U++)w[q+U]^=V[U];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(w,this._shiftRegister,16-this.segmentSize,q,q+this.segmentSize)}return w},d.prototype.decrypt=function(u){if(u.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var w=n(u,!0),V,q=0;q<w.length;q+=this.segmentSize){V=this._aes.encrypt(this._shiftRegister);for(var U=0;U<this.segmentSize;U++)w[q+U]^=V[U];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(u,this._shiftRegister,16-this.segmentSize,q,q+this.segmentSize)}return w};var b=o(function(u,w){if(!(this instanceof b))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!w)w=i(16);else if(w.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(w,!0),this._lastPrecipherIndex=16,this._aes=new X(u)},"ModeOfOperationOFB");b.prototype.encrypt=function(u){for(var w=n(u,!0),V=0;V<w.length;V++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),w[V]^=this._lastPrecipher[this._lastPrecipherIndex++];return w},b.prototype.decrypt=b.prototype.encrypt;var x=o(function(u){if(!(this instanceof x))throw Error("Counter must be instanitated with `new`");u!==0&&!u&&(u=1),typeof u=="number"?(this._counter=i(16),this.setValue(u)):this.setBytes(u)},"Counter");x.prototype.setValue=function(u){if(typeof u!="number"||parseInt(u)!=u)throw new Error("invalid counter value (must be an integer)");for(var w=15;w>=0;--w)this._counter[w]=u%256,u=u>>8},x.prototype.setBytes=function(u){if(u=n(u,!0),u.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=u},x.prototype.increment=function(){for(var u=15;u>=0;u--)if(this._counter[u]===255)this._counter[u]=0;else{this._counter[u]++;break}};var _=o(function(u,w){if(!(this instanceof _))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",w instanceof x||(w=new x(w)),this._counter=w,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new X(u)},"ModeOfOperationCTR");_.prototype.encrypt=function(u){for(var w=n(u,!0),V=0;V<w.length;V++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),w[V]^=this._remainingCounter[this._remainingCounterIndex++];return w},_.prototype.decrypt=_.prototype.encrypt;function A(u){u=n(u,!0);var w=16-u.length%16,V=i(u.length+w);s(u,V);for(var q=u.length;q<V.length;q++)V[q]=w;return V}o(A,"pkcs7pad");function T(u){if(u=n(u,!0),u.length<16)throw new Error("PKCS#7 invalid length");var w=u[u.length-1];if(w>16)throw new Error("PKCS#7 padding byte out of range");for(var V=u.length-w,q=0;q<w;q++)if(u[V+q]!==w)throw new Error("PKCS#7 invalid padding byte");var U=i(V);return s(u,U,0,0,V),U}o(T,"pkcs7strip");var v={AES:X,Counter:x,ModeOfOperation:{ecb:S,cbc:f,cfb:d,ofb:b,ctr:_},utils:{hex:c,utf8:a},padding:{pkcs7:{pad:A,strip:T}},_arrayTest:{coerceArray:n,createArray:i,copyArray:s}};typeof JF<"u"?fye.exports=v:typeof define=="function"&&define.amd?define(v):(t.aesjs&&(v._aesjs=t.aesjs),t.aesjs=v)})(JF)});var hye=j((sH,dye)=>{"use strict";m();g();(function(t){function r(I){let O=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),N=1779033703,k=3144134277,C=1013904242,L=2773480762,M=1359893119,P=2600822924,H=528734635,F=1541459225,J=new Uint32Array(64);function W(_){let A=0,T=_.length;for(;T>=64;){let v=N,u=k,w=C,V=L,q=M,U=P,$=H,ee=F,re,Oe,ae,le,ye;for(Oe=0;Oe<16;Oe++)ae=A+Oe*4,J[Oe]=(_[ae]&255)<<24|(_[ae+1]&255)<<16|(_[ae+2]&255)<<8|_[ae+3]&255;for(Oe=16;Oe<64;Oe++)re=J[Oe-2],le=(re>>>17|re<<15)^(re>>>19|re<<13)^re>>>10,re=J[Oe-15],ye=(re>>>7|re<<25)^(re>>>18|re<<14)^re>>>3,J[Oe]=(le+J[Oe-7]|0)+(ye+J[Oe-16]|0)|0;for(Oe=0;Oe<64;Oe++)le=(((q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))+(q&U^~q&$)|0)+(ee+(O[Oe]+J[Oe]|0)|0)|0,ye=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&u^v&w^u&w)|0,ee=$,$=U,U=q,q=V+le|0,V=w,w=u,u=v,v=le+ye|0;N=N+v|0,k=k+u|0,C=C+w|0,L=L+V|0,M=M+q|0,P=P+U|0,H=H+$|0,F=F+ee|0,A+=64,T-=64}}o(W,"blocks"),W(I);let X,S=I.length%64,f=I.length/536870912|0,d=I.length<<3,b=S<56?56:120,x=I.slice(I.length-S,I.length);for(x.push(128),X=S+1;X<b;X++)x.push(0);return x.push(f>>>24&255),x.push(f>>>16&255),x.push(f>>>8&255),x.push(f>>>0&255),x.push(d>>>24&255),x.push(d>>>16&255),x.push(d>>>8&255),x.push(d>>>0&255),W(x),[N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255,M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,H>>>24&255,H>>>16&255,H>>>8&255,H>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255]}o(r,"SHA256");function n(I,O,N){I=I.length<=64?I:r(I);let k=64+O.length+4,C=new Array(k),L=new Array(64),M,P=[];for(M=0;M<64;M++)C[M]=54;for(M=0;M<I.length;M++)C[M]^=I[M];for(M=0;M<O.length;M++)C[64+M]=O[M];for(M=k-4;M<k;M++)C[M]=0;for(M=0;M<64;M++)L[M]=92;for(M=0;M<I.length;M++)L[M]^=I[M];function H(){for(let F=k-1;F>=k-4;F--){if(C[F]++,C[F]<=255)return;C[F]=0}}for(o(H,"incrementCounter");N>=32;)H(),P=P.concat(r(L.concat(r(C)))),N-=32;return N>0&&(H(),P=P.concat(r(L.concat(r(C))).slice(0,N))),P}o(n,"PBKDF2_HMAC_SHA256_OneIter");function i(I,O,N,k,C){let L;for(l(I,(2*N-1)*16,C,0,16),L=0;L<2*N;L++)c(I,L*16,C,16),a(C,k),l(C,0,I,O+L*16,16);for(L=0;L<N;L++)l(I,O+L*2*16,I,L*16,16);for(L=0;L<N;L++)l(I,O+(L*2+1)*16,I,(L+N)*16,16)}o(i,"blockmix_salsa8");function s(I,O){return I<<O|I>>>32-O}o(s,"R");function a(I,O){l(I,0,O,0,16);for(let N=8;N>0;N-=2)O[4]^=s(O[0]+O[12],7),O[8]^=s(O[4]+O[0],9),O[12]^=s(O[8]+O[4],13),O[0]^=s(O[12]+O[8],18),O[9]^=s(O[5]+O[1],7),O[13]^=s(O[9]+O[5],9),O[1]^=s(O[13]+O[9],13),O[5]^=s(O[1]+O[13],18),O[14]^=s(O[10]+O[6],7),O[2]^=s(O[14]+O[10],9),O[6]^=s(O[2]+O[14],13),O[10]^=s(O[6]+O[2],18),O[3]^=s(O[15]+O[11],7),O[7]^=s(O[3]+O[15],9),O[11]^=s(O[7]+O[3],13),O[15]^=s(O[11]+O[7],18),O[1]^=s(O[0]+O[3],7),O[2]^=s(O[1]+O[0],9),O[3]^=s(O[2]+O[1],13),O[0]^=s(O[3]+O[2],18),O[6]^=s(O[5]+O[4],7),O[7]^=s(O[6]+O[5],9),O[4]^=s(O[7]+O[6],13),O[5]^=s(O[4]+O[7],18),O[11]^=s(O[10]+O[9],7),O[8]^=s(O[11]+O[10],9),O[9]^=s(O[8]+O[11],13),O[10]^=s(O[9]+O[8],18),O[12]^=s(O[15]+O[14],7),O[13]^=s(O[12]+O[15],9),O[14]^=s(O[13]+O[12],13),O[15]^=s(O[14]+O[13],18);for(let N=0;N<16;++N)I[N]+=O[N]}o(a,"salsa20_8");function c(I,O,N,k){for(let C=0;C<k;C++)N[C]^=I[O+C]}o(c,"blockxor");function l(I,O,N,k,C){for(;C--;)N[k++]=I[O++]}o(l,"arraycopy");function h(I){if(!I||typeof I.length!="number")return!1;for(let O=0;O<I.length;O++){let N=I[O];if(typeof N!="number"||N%1||N<0||N>=256)return!1}return!0}o(h,"checkBufferish");function y(I,O){if(typeof I!="number"||I%1)throw new Error("invalid "+O);return I}o(y,"ensureInteger");function p(I,O,N,k,C,L,M){if(N=y(N,"N"),k=y(k,"r"),C=y(C,"p"),L=y(L,"dkLen"),N===0||N&N-1)throw new Error("N must be power of 2");if(N>2147483647/128/k)throw new Error("N too large");if(k>2147483647/128/C)throw new Error("r too large");if(!h(I))throw new Error("password must be an array or buffer");if(I=Array.prototype.slice.call(I),!h(O))throw new Error("salt must be an array or buffer");O=Array.prototype.slice.call(O);let P=n(I,O,C*128*k),H=new Uint32Array(C*32*k);for(let q=0;q<H.length;q++){let U=q*4;H[q]=(P[U+3]&255)<<24|(P[U+2]&255)<<16|(P[U+1]&255)<<8|(P[U+0]&255)<<0}let F=new Uint32Array(64*k),J=new Uint32Array(32*k*N),W=32*k,X=new Uint32Array(16),S=new Uint32Array(16),f=C*N*2,d=0,b=null,x=!1,_=0,A=0,T,v,u=M?parseInt(1e3/k):4294967295,w=typeof setImmediate<"u"?setImmediate:setTimeout,V=o(function(){if(x)return M(new Error("cancelled"),d/f);let q;switch(_){case 0:v=A*32*k,l(H,v,F,0,W),_=1,T=0;case 1:q=N-T,q>u&&(q=u);for(let $=0;$<q;$++)l(F,0,J,(T+$)*W,W),i(F,W,k,X,S);if(T+=q,d+=q,M){let $=parseInt(1e3*d/f);if($!==b){if(x=M(null,d/f),x)break;b=$}}if(T<N)break;T=0,_=2;case 2:q=N-T,q>u&&(q=u);for(let $=0;$<q;$++){let ee=(2*k-1)*16,re=F[ee]&N-1;c(J,re*W,F,W),i(F,W,k,X,S)}if(T+=q,d+=q,M){let $=parseInt(1e3*d/f);if($!==b){if(x=M(null,d/f),x)break;b=$}}if(T<N)break;if(l(F,0,H,v,W),A++,A<C){_=0;break}P=[];for(let $=0;$<H.length;$++)P.push(H[$]>>0&255),P.push(H[$]>>8&255),P.push(H[$]>>16&255),P.push(H[$]>>24&255);let U=n(I,P,L);return M&&M(null,1,U),U}M&&w(V)},"incrementalSMix");if(!M)for(;;){let q=V();if(q!=null)return q}V()}o(p,"_scrypt");let E={scrypt:o(function(I,O,N,k,C,L,M){return new Promise(function(P,H){let F=0;M&&M(0),p(I,O,N,k,C,L,function(J,W,X){if(J)H(J);else if(X)M&&F!==1&&M(1),P(new Uint8Array(X));else if(M&&W!==F)return F=W,M(W)})})},"scrypt"),syncScrypt:o(function(I,O,N,k,C,L){return new Uint8Array(p(I,O,N,k,C,L))},"syncScrypt")};typeof sH<"u"?dye.exports=E:typeof define=="function"&&define.amd?define(E):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=E)})(sH)});var hv=j(dv=>{"use strict";m();g();Object.defineProperty(dv,"__esModule",{value:!0});dv.bech32m=dv.bech32=void 0;var oR="qpzry9x8gf2tvdw0s3jn54khce6mua7l",D1e={};for(let t=0;t<oR.length;t++){let e=oR.charAt(t);D1e[e]=t}function lv(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}o(lv,"polymodStep");function L1e(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=lv(e)^n>>5}e=lv(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=lv(e)^n&31}return e}o(L1e,"prefixChk");function dq(t,e,r,n){let i=0,s=0,a=(1<<r)-1,c=[];for(let l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,c.push(i>>s&a);if(n)s>0&&c.push(i<<r-s&a);else{if(s>=e)return"Excess padding";if(i<<r-s&a)return"Non-zero padding"}return c}o(dq,"convert");function ttt(t){return dq(t,8,5,!0)}o(ttt,"toWords");function rtt(t){let e=dq(t,5,8,!1);if(Array.isArray(e))return e}o(rtt,"fromWordsUnsafe");function ntt(t){let e=dq(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}o(ntt,"fromWords");function U1e(t){let e;t==="bech32"?e=1:e=734539939;function r(a,c,l){if(l=l||90,a.length+7+c.length>l)throw new TypeError("Exceeds length limit");a=a.toLowerCase();let h=L1e(a);if(typeof h=="string")throw new Error(h);let y=a+"1";for(let p=0;p<c.length;++p){let E=c[p];if(E>>5)throw new Error("Non 5-bit word");h=lv(h)^E,y+=oR.charAt(E)}for(let p=0;p<6;++p)h=lv(h);h^=e;for(let p=0;p<6;++p){let E=h>>(5-p)*5&31;y+=oR.charAt(E)}return y}o(r,"encode");function n(a,c){if(c=c||90,a.length<8)return a+" too short";if(a.length>c)return"Exceeds length limit";let l=a.toLowerCase(),h=a.toUpperCase();if(a!==l&&a!==h)return"Mixed-case string "+a;a=l;let y=a.lastIndexOf("1");if(y===-1)return"No separator character for "+a;if(y===0)return"Missing prefix for "+a;let p=a.slice(0,y),E=a.slice(y+1);if(E.length<6)return"Data too short";let I=L1e(p);if(typeof I=="string")return I;let O=[];for(let N=0;N<E.length;++N){let k=E.charAt(N),C=D1e[k];if(C===void 0)return"Unknown character "+k;I=lv(I)^C,!(N+6>=E.length)&&O.push(C)}return I!==e?"Invalid checksum for "+a:{prefix:p,words:O}}o(n,"__decode");function i(a,c){let l=n(a,c);if(typeof l=="object")return l}o(i,"decodeUnsafe");function s(a,c){let l=n(a,c);if(typeof l=="object")return l;throw new Error(l)}return o(s,"decode"),{decodeUnsafe:i,decode:s,encode:r,toWords:ttt,fromWordsUnsafe:rtt,fromWords:ntt}}o(U1e,"getLibraryFromEncoding");dv.bech32=U1e("bech32");dv.bech32m=U1e("bech32m")});var Gh=j((Ztr,aR)=>{m();g();(function(t){"use strict";var e=o(function(z){var G,K=new Float64Array(16);if(z)for(G=0;G<z.length;G++)K[G]=z[G];return K},"gf"),r=o(function(){throw new Error("no PRNG")},"randombytes"),n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),c=e([56129,1]),l=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function I(z,G,K,D){z[G]=K>>24&255,z[G+1]=K>>16&255,z[G+2]=K>>8&255,z[G+3]=K&255,z[G+4]=D>>24&255,z[G+5]=D>>16&255,z[G+6]=D>>8&255,z[G+7]=D&255}o(I,"ts64");function O(z,G,K,D,Y){var te,me=0;for(te=0;te<Y;te++)me|=z[G+te]^K[D+te];return(1&me-1>>>8)-1}o(O,"vn");function N(z,G,K,D){return O(z,G,K,D,16)}o(N,"crypto_verify_16");function k(z,G,K,D){return O(z,G,K,D,32)}o(k,"crypto_verify_32");function C(z,G,K,D){for(var Y=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,te=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,me=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,se=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,ue=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,lt=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,nt=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,Pt=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,st=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,xt=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,vt=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,Tt=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,At=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,_t=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,Et=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,wt=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,ct=Y,dt=te,ot=me,ft=se,ut=ue,rt=lt,_e=nt,we=Pt,tt=st,Ye=xt,Xe=vt,it=Tt,Ht=At,dr=_t,yr=Et,hr=wt,ce,Mr=0;Mr<20;Mr+=2)ce=ct+Ht|0,ut^=ce<<7|ce>>>25,ce=ut+ct|0,tt^=ce<<9|ce>>>23,ce=tt+ut|0,Ht^=ce<<13|ce>>>19,ce=Ht+tt|0,ct^=ce<<18|ce>>>14,ce=rt+dt|0,Ye^=ce<<7|ce>>>25,ce=Ye+rt|0,dr^=ce<<9|ce>>>23,ce=dr+Ye|0,dt^=ce<<13|ce>>>19,ce=dt+dr|0,rt^=ce<<18|ce>>>14,ce=Xe+_e|0,yr^=ce<<7|ce>>>25,ce=yr+Xe|0,ot^=ce<<9|ce>>>23,ce=ot+yr|0,_e^=ce<<13|ce>>>19,ce=_e+ot|0,Xe^=ce<<18|ce>>>14,ce=hr+it|0,ft^=ce<<7|ce>>>25,ce=ft+hr|0,we^=ce<<9|ce>>>23,ce=we+ft|0,it^=ce<<13|ce>>>19,ce=it+we|0,hr^=ce<<18|ce>>>14,ce=ct+ft|0,dt^=ce<<7|ce>>>25,ce=dt+ct|0,ot^=ce<<9|ce>>>23,ce=ot+dt|0,ft^=ce<<13|ce>>>19,ce=ft+ot|0,ct^=ce<<18|ce>>>14,ce=rt+ut|0,_e^=ce<<7|ce>>>25,ce=_e+rt|0,we^=ce<<9|ce>>>23,ce=we+_e|0,ut^=ce<<13|ce>>>19,ce=ut+we|0,rt^=ce<<18|ce>>>14,ce=Xe+Ye|0,it^=ce<<7|ce>>>25,ce=it+Xe|0,tt^=ce<<9|ce>>>23,ce=tt+it|0,Ye^=ce<<13|ce>>>19,ce=Ye+tt|0,Xe^=ce<<18|ce>>>14,ce=hr+yr|0,Ht^=ce<<7|ce>>>25,ce=Ht+hr|0,dr^=ce<<9|ce>>>23,ce=dr+Ht|0,yr^=ce<<13|ce>>>19,ce=yr+dr|0,hr^=ce<<18|ce>>>14;ct=ct+Y|0,dt=dt+te|0,ot=ot+me|0,ft=ft+se|0,ut=ut+ue|0,rt=rt+lt|0,_e=_e+nt|0,we=we+Pt|0,tt=tt+st|0,Ye=Ye+xt|0,Xe=Xe+vt|0,it=it+Tt|0,Ht=Ht+At|0,dr=dr+_t|0,yr=yr+Et|0,hr=hr+wt|0,z[0]=ct>>>0&255,z[1]=ct>>>8&255,z[2]=ct>>>16&255,z[3]=ct>>>24&255,z[4]=dt>>>0&255,z[5]=dt>>>8&255,z[6]=dt>>>16&255,z[7]=dt>>>24&255,z[8]=ot>>>0&255,z[9]=ot>>>8&255,z[10]=ot>>>16&255,z[11]=ot>>>24&255,z[12]=ft>>>0&255,z[13]=ft>>>8&255,z[14]=ft>>>16&255,z[15]=ft>>>24&255,z[16]=ut>>>0&255,z[17]=ut>>>8&255,z[18]=ut>>>16&255,z[19]=ut>>>24&255,z[20]=rt>>>0&255,z[21]=rt>>>8&255,z[22]=rt>>>16&255,z[23]=rt>>>24&255,z[24]=_e>>>0&255,z[25]=_e>>>8&255,z[26]=_e>>>16&255,z[27]=_e>>>24&255,z[28]=we>>>0&255,z[29]=we>>>8&255,z[30]=we>>>16&255,z[31]=we>>>24&255,z[32]=tt>>>0&255,z[33]=tt>>>8&255,z[34]=tt>>>16&255,z[35]=tt>>>24&255,z[36]=Ye>>>0&255,z[37]=Ye>>>8&255,z[38]=Ye>>>16&255,z[39]=Ye>>>24&255,z[40]=Xe>>>0&255,z[41]=Xe>>>8&255,z[42]=Xe>>>16&255,z[43]=Xe>>>24&255,z[44]=it>>>0&255,z[45]=it>>>8&255,z[46]=it>>>16&255,z[47]=it>>>24&255,z[48]=Ht>>>0&255,z[49]=Ht>>>8&255,z[50]=Ht>>>16&255,z[51]=Ht>>>24&255,z[52]=dr>>>0&255,z[53]=dr>>>8&255,z[54]=dr>>>16&255,z[55]=dr>>>24&255,z[56]=yr>>>0&255,z[57]=yr>>>8&255,z[58]=yr>>>16&255,z[59]=yr>>>24&255,z[60]=hr>>>0&255,z[61]=hr>>>8&255,z[62]=hr>>>16&255,z[63]=hr>>>24&255}o(C,"core_salsa20");function L(z,G,K,D){for(var Y=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,te=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,me=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,se=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,ue=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,lt=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,nt=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,Pt=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,st=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,xt=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,vt=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,Tt=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,At=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,_t=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,Et=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,wt=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,ct=Y,dt=te,ot=me,ft=se,ut=ue,rt=lt,_e=nt,we=Pt,tt=st,Ye=xt,Xe=vt,it=Tt,Ht=At,dr=_t,yr=Et,hr=wt,ce,Mr=0;Mr<20;Mr+=2)ce=ct+Ht|0,ut^=ce<<7|ce>>>25,ce=ut+ct|0,tt^=ce<<9|ce>>>23,ce=tt+ut|0,Ht^=ce<<13|ce>>>19,ce=Ht+tt|0,ct^=ce<<18|ce>>>14,ce=rt+dt|0,Ye^=ce<<7|ce>>>25,ce=Ye+rt|0,dr^=ce<<9|ce>>>23,ce=dr+Ye|0,dt^=ce<<13|ce>>>19,ce=dt+dr|0,rt^=ce<<18|ce>>>14,ce=Xe+_e|0,yr^=ce<<7|ce>>>25,ce=yr+Xe|0,ot^=ce<<9|ce>>>23,ce=ot+yr|0,_e^=ce<<13|ce>>>19,ce=_e+ot|0,Xe^=ce<<18|ce>>>14,ce=hr+it|0,ft^=ce<<7|ce>>>25,ce=ft+hr|0,we^=ce<<9|ce>>>23,ce=we+ft|0,it^=ce<<13|ce>>>19,ce=it+we|0,hr^=ce<<18|ce>>>14,ce=ct+ft|0,dt^=ce<<7|ce>>>25,ce=dt+ct|0,ot^=ce<<9|ce>>>23,ce=ot+dt|0,ft^=ce<<13|ce>>>19,ce=ft+ot|0,ct^=ce<<18|ce>>>14,ce=rt+ut|0,_e^=ce<<7|ce>>>25,ce=_e+rt|0,we^=ce<<9|ce>>>23,ce=we+_e|0,ut^=ce<<13|ce>>>19,ce=ut+we|0,rt^=ce<<18|ce>>>14,ce=Xe+Ye|0,it^=ce<<7|ce>>>25,ce=it+Xe|0,tt^=ce<<9|ce>>>23,ce=tt+it|0,Ye^=ce<<13|ce>>>19,ce=Ye+tt|0,Xe^=ce<<18|ce>>>14,ce=hr+yr|0,Ht^=ce<<7|ce>>>25,ce=Ht+hr|0,dr^=ce<<9|ce>>>23,ce=dr+Ht|0,yr^=ce<<13|ce>>>19,ce=yr+dr|0,hr^=ce<<18|ce>>>14;z[0]=ct>>>0&255,z[1]=ct>>>8&255,z[2]=ct>>>16&255,z[3]=ct>>>24&255,z[4]=rt>>>0&255,z[5]=rt>>>8&255,z[6]=rt>>>16&255,z[7]=rt>>>24&255,z[8]=Xe>>>0&255,z[9]=Xe>>>8&255,z[10]=Xe>>>16&255,z[11]=Xe>>>24&255,z[12]=hr>>>0&255,z[13]=hr>>>8&255,z[14]=hr>>>16&255,z[15]=hr>>>24&255,z[16]=_e>>>0&255,z[17]=_e>>>8&255,z[18]=_e>>>16&255,z[19]=_e>>>24&255,z[20]=we>>>0&255,z[21]=we>>>8&255,z[22]=we>>>16&255,z[23]=we>>>24&255,z[24]=tt>>>0&255,z[25]=tt>>>8&255,z[26]=tt>>>16&255,z[27]=tt>>>24&255,z[28]=Ye>>>0&255,z[29]=Ye>>>8&255,z[30]=Ye>>>16&255,z[31]=Ye>>>24&255}o(L,"core_hsalsa20");function M(z,G,K,D){C(z,G,K,D)}o(M,"crypto_core_salsa20");function P(z,G,K,D){L(z,G,K,D)}o(P,"crypto_core_hsalsa20");var H=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function F(z,G,K,D,Y,te,me){var se=new Uint8Array(16),ue=new Uint8Array(64),lt,nt;for(nt=0;nt<16;nt++)se[nt]=0;for(nt=0;nt<8;nt++)se[nt]=te[nt];for(;Y>=64;){for(M(ue,se,me,H),nt=0;nt<64;nt++)z[G+nt]=K[D+nt]^ue[nt];for(lt=1,nt=8;nt<16;nt++)lt=lt+(se[nt]&255)|0,se[nt]=lt&255,lt>>>=8;Y-=64,G+=64,D+=64}if(Y>0)for(M(ue,se,me,H),nt=0;nt<Y;nt++)z[G+nt]=K[D+nt]^ue[nt];return 0}o(F,"crypto_stream_salsa20_xor");function J(z,G,K,D,Y){var te=new Uint8Array(16),me=new Uint8Array(64),se,ue;for(ue=0;ue<16;ue++)te[ue]=0;for(ue=0;ue<8;ue++)te[ue]=D[ue];for(;K>=64;){for(M(me,te,Y,H),ue=0;ue<64;ue++)z[G+ue]=me[ue];for(se=1,ue=8;ue<16;ue++)se=se+(te[ue]&255)|0,te[ue]=se&255,se>>>=8;K-=64,G+=64}if(K>0)for(M(me,te,Y,H),ue=0;ue<K;ue++)z[G+ue]=me[ue];return 0}o(J,"crypto_stream_salsa20");function W(z,G,K,D,Y){var te=new Uint8Array(32);P(te,D,Y,H);for(var me=new Uint8Array(8),se=0;se<8;se++)me[se]=D[se+16];return J(z,G,K,me,te)}o(W,"crypto_stream");function X(z,G,K,D,Y,te,me){var se=new Uint8Array(32);P(se,te,me,H);for(var ue=new Uint8Array(8),lt=0;lt<8;lt++)ue[lt]=te[lt+16];return F(z,G,K,D,Y,ue,se)}o(X,"crypto_stream_xor");var S=o(function(z){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var G,K,D,Y,te,me,se,ue;G=z[0]&255|(z[1]&255)<<8,this.r[0]=G&8191,K=z[2]&255|(z[3]&255)<<8,this.r[1]=(G>>>13|K<<3)&8191,D=z[4]&255|(z[5]&255)<<8,this.r[2]=(K>>>10|D<<6)&7939,Y=z[6]&255|(z[7]&255)<<8,this.r[3]=(D>>>7|Y<<9)&8191,te=z[8]&255|(z[9]&255)<<8,this.r[4]=(Y>>>4|te<<12)&255,this.r[5]=te>>>1&8190,me=z[10]&255|(z[11]&255)<<8,this.r[6]=(te>>>14|me<<2)&8191,se=z[12]&255|(z[13]&255)<<8,this.r[7]=(me>>>11|se<<5)&8065,ue=z[14]&255|(z[15]&255)<<8,this.r[8]=(se>>>8|ue<<8)&8191,this.r[9]=ue>>>5&127,this.pad[0]=z[16]&255|(z[17]&255)<<8,this.pad[1]=z[18]&255|(z[19]&255)<<8,this.pad[2]=z[20]&255|(z[21]&255)<<8,this.pad[3]=z[22]&255|(z[23]&255)<<8,this.pad[4]=z[24]&255|(z[25]&255)<<8,this.pad[5]=z[26]&255|(z[27]&255)<<8,this.pad[6]=z[28]&255|(z[29]&255)<<8,this.pad[7]=z[30]&255|(z[31]&255)<<8},"poly1305");S.prototype.blocks=function(z,G,K){for(var D=this.fin?0:2048,Y,te,me,se,ue,lt,nt,Pt,st,xt,vt,Tt,At,_t,Et,wt,ct,dt,ot,ft=this.h[0],ut=this.h[1],rt=this.h[2],_e=this.h[3],we=this.h[4],tt=this.h[5],Ye=this.h[6],Xe=this.h[7],it=this.h[8],Ht=this.h[9],dr=this.r[0],yr=this.r[1],hr=this.r[2],ce=this.r[3],Mr=this.r[4],Qr=this.r[5],en=this.r[6],_r=this.r[7],Wr=this.r[8],Yr=this.r[9];K>=16;)Y=z[G+0]&255|(z[G+1]&255)<<8,ft+=Y&8191,te=z[G+2]&255|(z[G+3]&255)<<8,ut+=(Y>>>13|te<<3)&8191,me=z[G+4]&255|(z[G+5]&255)<<8,rt+=(te>>>10|me<<6)&8191,se=z[G+6]&255|(z[G+7]&255)<<8,_e+=(me>>>7|se<<9)&8191,ue=z[G+8]&255|(z[G+9]&255)<<8,we+=(se>>>4|ue<<12)&8191,tt+=ue>>>1&8191,lt=z[G+10]&255|(z[G+11]&255)<<8,Ye+=(ue>>>14|lt<<2)&8191,nt=z[G+12]&255|(z[G+13]&255)<<8,Xe+=(lt>>>11|nt<<5)&8191,Pt=z[G+14]&255|(z[G+15]&255)<<8,it+=(nt>>>8|Pt<<8)&8191,Ht+=Pt>>>5|D,st=0,xt=st,xt+=ft*dr,xt+=ut*(5*Yr),xt+=rt*(5*Wr),xt+=_e*(5*_r),xt+=we*(5*en),st=xt>>>13,xt&=8191,xt+=tt*(5*Qr),xt+=Ye*(5*Mr),xt+=Xe*(5*ce),xt+=it*(5*hr),xt+=Ht*(5*yr),st+=xt>>>13,xt&=8191,vt=st,vt+=ft*yr,vt+=ut*dr,vt+=rt*(5*Yr),vt+=_e*(5*Wr),vt+=we*(5*_r),st=vt>>>13,vt&=8191,vt+=tt*(5*en),vt+=Ye*(5*Qr),vt+=Xe*(5*Mr),vt+=it*(5*ce),vt+=Ht*(5*hr),st+=vt>>>13,vt&=8191,Tt=st,Tt+=ft*hr,Tt+=ut*yr,Tt+=rt*dr,Tt+=_e*(5*Yr),Tt+=we*(5*Wr),st=Tt>>>13,Tt&=8191,Tt+=tt*(5*_r),Tt+=Ye*(5*en),Tt+=Xe*(5*Qr),Tt+=it*(5*Mr),Tt+=Ht*(5*ce),st+=Tt>>>13,Tt&=8191,At=st,At+=ft*ce,At+=ut*hr,At+=rt*yr,At+=_e*dr,At+=we*(5*Yr),st=At>>>13,At&=8191,At+=tt*(5*Wr),At+=Ye*(5*_r),At+=Xe*(5*en),At+=it*(5*Qr),At+=Ht*(5*Mr),st+=At>>>13,At&=8191,_t=st,_t+=ft*Mr,_t+=ut*ce,_t+=rt*hr,_t+=_e*yr,_t+=we*dr,st=_t>>>13,_t&=8191,_t+=tt*(5*Yr),_t+=Ye*(5*Wr),_t+=Xe*(5*_r),_t+=it*(5*en),_t+=Ht*(5*Qr),st+=_t>>>13,_t&=8191,Et=st,Et+=ft*Qr,Et+=ut*Mr,Et+=rt*ce,Et+=_e*hr,Et+=we*yr,st=Et>>>13,Et&=8191,Et+=tt*dr,Et+=Ye*(5*Yr),Et+=Xe*(5*Wr),Et+=it*(5*_r),Et+=Ht*(5*en),st+=Et>>>13,Et&=8191,wt=st,wt+=ft*en,wt+=ut*Qr,wt+=rt*Mr,wt+=_e*ce,wt+=we*hr,st=wt>>>13,wt&=8191,wt+=tt*yr,wt+=Ye*dr,wt+=Xe*(5*Yr),wt+=it*(5*Wr),wt+=Ht*(5*_r),st+=wt>>>13,wt&=8191,ct=st,ct+=ft*_r,ct+=ut*en,ct+=rt*Qr,ct+=_e*Mr,ct+=we*ce,st=ct>>>13,ct&=8191,ct+=tt*hr,ct+=Ye*yr,ct+=Xe*dr,ct+=it*(5*Yr),ct+=Ht*(5*Wr),st+=ct>>>13,ct&=8191,dt=st,dt+=ft*Wr,dt+=ut*_r,dt+=rt*en,dt+=_e*Qr,dt+=we*Mr,st=dt>>>13,dt&=8191,dt+=tt*ce,dt+=Ye*hr,dt+=Xe*yr,dt+=it*dr,dt+=Ht*(5*Yr),st+=dt>>>13,dt&=8191,ot=st,ot+=ft*Yr,ot+=ut*Wr,ot+=rt*_r,ot+=_e*en,ot+=we*Qr,st=ot>>>13,ot&=8191,ot+=tt*Mr,ot+=Ye*ce,ot+=Xe*hr,ot+=it*yr,ot+=Ht*dr,st+=ot>>>13,ot&=8191,st=(st<<2)+st|0,st=st+xt|0,xt=st&8191,st=st>>>13,vt+=st,ft=xt,ut=vt,rt=Tt,_e=At,we=_t,tt=Et,Ye=wt,Xe=ct,it=dt,Ht=ot,G+=16,K-=16;this.h[0]=ft,this.h[1]=ut,this.h[2]=rt,this.h[3]=_e,this.h[4]=we,this.h[5]=tt,this.h[6]=Ye,this.h[7]=Xe,this.h[8]=it,this.h[9]=Ht},S.prototype.finish=function(z,G){var K=new Uint16Array(10),D,Y,te,me;if(this.leftover){for(me=this.leftover,this.buffer[me++]=1;me<16;me++)this.buffer[me]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(D=this.h[1]>>>13,this.h[1]&=8191,me=2;me<10;me++)this.h[me]+=D,D=this.h[me]>>>13,this.h[me]&=8191;for(this.h[0]+=D*5,D=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=D,D=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=D,K[0]=this.h[0]+5,D=K[0]>>>13,K[0]&=8191,me=1;me<10;me++)K[me]=this.h[me]+D,D=K[me]>>>13,K[me]&=8191;for(K[9]-=8192,Y=(D^1)-1,me=0;me<10;me++)K[me]&=Y;for(Y=~Y,me=0;me<10;me++)this.h[me]=this.h[me]&Y|K[me];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,te=this.h[0]+this.pad[0],this.h[0]=te&65535,me=1;me<8;me++)te=(this.h[me]+this.pad[me]|0)+(te>>>16)|0,this.h[me]=te&65535;z[G+0]=this.h[0]>>>0&255,z[G+1]=this.h[0]>>>8&255,z[G+2]=this.h[1]>>>0&255,z[G+3]=this.h[1]>>>8&255,z[G+4]=this.h[2]>>>0&255,z[G+5]=this.h[2]>>>8&255,z[G+6]=this.h[3]>>>0&255,z[G+7]=this.h[3]>>>8&255,z[G+8]=this.h[4]>>>0&255,z[G+9]=this.h[4]>>>8&255,z[G+10]=this.h[5]>>>0&255,z[G+11]=this.h[5]>>>8&255,z[G+12]=this.h[6]>>>0&255,z[G+13]=this.h[6]>>>8&255,z[G+14]=this.h[7]>>>0&255,z[G+15]=this.h[7]>>>8&255},S.prototype.update=function(z,G,K){var D,Y;if(this.leftover){for(Y=16-this.leftover,Y>K&&(Y=K),D=0;D<Y;D++)this.buffer[this.leftover+D]=z[G+D];if(K-=Y,G+=Y,this.leftover+=Y,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(K>=16&&(Y=K-K%16,this.blocks(z,G,Y),G+=Y,K-=Y),K){for(D=0;D<K;D++)this.buffer[this.leftover+D]=z[G+D];this.leftover+=K}};function f(z,G,K,D,Y,te){var me=new S(te);return me.update(K,D,Y),me.finish(z,G),0}o(f,"crypto_onetimeauth");function d(z,G,K,D,Y,te){var me=new Uint8Array(16);return f(me,0,K,D,Y,te),N(z,G,me,0)}o(d,"crypto_onetimeauth_verify");function b(z,G,K,D,Y){var te;if(K<32)return-1;for(X(z,0,G,0,K,D,Y),f(z,16,z,32,K-32,z),te=0;te<16;te++)z[te]=0;return 0}o(b,"crypto_secretbox");function x(z,G,K,D,Y){var te,me=new Uint8Array(32);if(K<32||(W(me,0,32,D,Y),d(G,16,G,32,K-32,me)!==0))return-1;for(X(z,0,G,0,K,D,Y),te=0;te<32;te++)z[te]=0;return 0}o(x,"crypto_secretbox_open");function _(z,G){var K;for(K=0;K<16;K++)z[K]=G[K]|0}o(_,"set25519");function A(z){var G,K,D=1;for(G=0;G<16;G++)K=z[G]+D+65535,D=Math.floor(K/65536),z[G]=K-D*65536;z[0]+=D-1+37*(D-1)}o(A,"car25519");function T(z,G,K){for(var D,Y=~(K-1),te=0;te<16;te++)D=Y&(z[te]^G[te]),z[te]^=D,G[te]^=D}o(T,"sel25519");function v(z,G){var K,D,Y,te=e(),me=e();for(K=0;K<16;K++)me[K]=G[K];for(A(me),A(me),A(me),D=0;D<2;D++){for(te[0]=me[0]-65517,K=1;K<15;K++)te[K]=me[K]-65535-(te[K-1]>>16&1),te[K-1]&=65535;te[15]=me[15]-32767-(te[14]>>16&1),Y=te[15]>>16&1,te[14]&=65535,T(me,te,1-Y)}for(K=0;K<16;K++)z[2*K]=me[K]&255,z[2*K+1]=me[K]>>8}o(v,"pack25519");function u(z,G){var K=new Uint8Array(32),D=new Uint8Array(32);return v(K,z),v(D,G),k(K,0,D,0)}o(u,"neq25519");function w(z){var G=new Uint8Array(32);return v(G,z),G[0]&1}o(w,"par25519");function V(z,G){var K;for(K=0;K<16;K++)z[K]=G[2*K]+(G[2*K+1]<<8);z[15]&=32767}o(V,"unpack25519");function q(z,G,K){for(var D=0;D<16;D++)z[D]=G[D]+K[D]}o(q,"A");function U(z,G,K){for(var D=0;D<16;D++)z[D]=G[D]-K[D]}o(U,"Z");function $(z,G,K){var D,Y,te=0,me=0,se=0,ue=0,lt=0,nt=0,Pt=0,st=0,xt=0,vt=0,Tt=0,At=0,_t=0,Et=0,wt=0,ct=0,dt=0,ot=0,ft=0,ut=0,rt=0,_e=0,we=0,tt=0,Ye=0,Xe=0,it=0,Ht=0,dr=0,yr=0,hr=0,ce=K[0],Mr=K[1],Qr=K[2],en=K[3],_r=K[4],Wr=K[5],Yr=K[6],eo=K[7],Tn=K[8],qi=K[9],Vi=K[10],ji=K[11],So=K[12],Ls=K[13],Ds=K[14],Us=K[15];D=G[0],te+=D*ce,me+=D*Mr,se+=D*Qr,ue+=D*en,lt+=D*_r,nt+=D*Wr,Pt+=D*Yr,st+=D*eo,xt+=D*Tn,vt+=D*qi,Tt+=D*Vi,At+=D*ji,_t+=D*So,Et+=D*Ls,wt+=D*Ds,ct+=D*Us,D=G[1],me+=D*ce,se+=D*Mr,ue+=D*Qr,lt+=D*en,nt+=D*_r,Pt+=D*Wr,st+=D*Yr,xt+=D*eo,vt+=D*Tn,Tt+=D*qi,At+=D*Vi,_t+=D*ji,Et+=D*So,wt+=D*Ls,ct+=D*Ds,dt+=D*Us,D=G[2],se+=D*ce,ue+=D*Mr,lt+=D*Qr,nt+=D*en,Pt+=D*_r,st+=D*Wr,xt+=D*Yr,vt+=D*eo,Tt+=D*Tn,At+=D*qi,_t+=D*Vi,Et+=D*ji,wt+=D*So,ct+=D*Ls,dt+=D*Ds,ot+=D*Us,D=G[3],ue+=D*ce,lt+=D*Mr,nt+=D*Qr,Pt+=D*en,st+=D*_r,xt+=D*Wr,vt+=D*Yr,Tt+=D*eo,At+=D*Tn,_t+=D*qi,Et+=D*Vi,wt+=D*ji,ct+=D*So,dt+=D*Ls,ot+=D*Ds,ft+=D*Us,D=G[4],lt+=D*ce,nt+=D*Mr,Pt+=D*Qr,st+=D*en,xt+=D*_r,vt+=D*Wr,Tt+=D*Yr,At+=D*eo,_t+=D*Tn,Et+=D*qi,wt+=D*Vi,ct+=D*ji,dt+=D*So,ot+=D*Ls,ft+=D*Ds,ut+=D*Us,D=G[5],nt+=D*ce,Pt+=D*Mr,st+=D*Qr,xt+=D*en,vt+=D*_r,Tt+=D*Wr,At+=D*Yr,_t+=D*eo,Et+=D*Tn,wt+=D*qi,ct+=D*Vi,dt+=D*ji,ot+=D*So,ft+=D*Ls,ut+=D*Ds,rt+=D*Us,D=G[6],Pt+=D*ce,st+=D*Mr,xt+=D*Qr,vt+=D*en,Tt+=D*_r,At+=D*Wr,_t+=D*Yr,Et+=D*eo,wt+=D*Tn,ct+=D*qi,dt+=D*Vi,ot+=D*ji,ft+=D*So,ut+=D*Ls,rt+=D*Ds,_e+=D*Us,D=G[7],st+=D*ce,xt+=D*Mr,vt+=D*Qr,Tt+=D*en,At+=D*_r,_t+=D*Wr,Et+=D*Yr,wt+=D*eo,ct+=D*Tn,dt+=D*qi,ot+=D*Vi,ft+=D*ji,ut+=D*So,rt+=D*Ls,_e+=D*Ds,we+=D*Us,D=G[8],xt+=D*ce,vt+=D*Mr,Tt+=D*Qr,At+=D*en,_t+=D*_r,Et+=D*Wr,wt+=D*Yr,ct+=D*eo,dt+=D*Tn,ot+=D*qi,ft+=D*Vi,ut+=D*ji,rt+=D*So,_e+=D*Ls,we+=D*Ds,tt+=D*Us,D=G[9],vt+=D*ce,Tt+=D*Mr,At+=D*Qr,_t+=D*en,Et+=D*_r,wt+=D*Wr,ct+=D*Yr,dt+=D*eo,ot+=D*Tn,ft+=D*qi,ut+=D*Vi,rt+=D*ji,_e+=D*So,we+=D*Ls,tt+=D*Ds,Ye+=D*Us,D=G[10],Tt+=D*ce,At+=D*Mr,_t+=D*Qr,Et+=D*en,wt+=D*_r,ct+=D*Wr,dt+=D*Yr,ot+=D*eo,ft+=D*Tn,ut+=D*qi,rt+=D*Vi,_e+=D*ji,we+=D*So,tt+=D*Ls,Ye+=D*Ds,Xe+=D*Us,D=G[11],At+=D*ce,_t+=D*Mr,Et+=D*Qr,wt+=D*en,ct+=D*_r,dt+=D*Wr,ot+=D*Yr,ft+=D*eo,ut+=D*Tn,rt+=D*qi,_e+=D*Vi,we+=D*ji,tt+=D*So,Ye+=D*Ls,Xe+=D*Ds,it+=D*Us,D=G[12],_t+=D*ce,Et+=D*Mr,wt+=D*Qr,ct+=D*en,dt+=D*_r,ot+=D*Wr,ft+=D*Yr,ut+=D*eo,rt+=D*Tn,_e+=D*qi,we+=D*Vi,tt+=D*ji,Ye+=D*So,Xe+=D*Ls,it+=D*Ds,Ht+=D*Us,D=G[13],Et+=D*ce,wt+=D*Mr,ct+=D*Qr,dt+=D*en,ot+=D*_r,ft+=D*Wr,ut+=D*Yr,rt+=D*eo,_e+=D*Tn,we+=D*qi,tt+=D*Vi,Ye+=D*ji,Xe+=D*So,it+=D*Ls,Ht+=D*Ds,dr+=D*Us,D=G[14],wt+=D*ce,ct+=D*Mr,dt+=D*Qr,ot+=D*en,ft+=D*_r,ut+=D*Wr,rt+=D*Yr,_e+=D*eo,we+=D*Tn,tt+=D*qi,Ye+=D*Vi,Xe+=D*ji,it+=D*So,Ht+=D*Ls,dr+=D*Ds,yr+=D*Us,D=G[15],ct+=D*ce,dt+=D*Mr,ot+=D*Qr,ft+=D*en,ut+=D*_r,rt+=D*Wr,_e+=D*Yr,we+=D*eo,tt+=D*Tn,Ye+=D*qi,Xe+=D*Vi,it+=D*ji,Ht+=D*So,dr+=D*Ls,yr+=D*Ds,hr+=D*Us,te+=38*dt,me+=38*ot,se+=38*ft,ue+=38*ut,lt+=38*rt,nt+=38*_e,Pt+=38*we,st+=38*tt,xt+=38*Ye,vt+=38*Xe,Tt+=38*it,At+=38*Ht,_t+=38*dr,Et+=38*yr,wt+=38*hr,Y=1,D=te+Y+65535,Y=Math.floor(D/65536),te=D-Y*65536,D=me+Y+65535,Y=Math.floor(D/65536),me=D-Y*65536,D=se+Y+65535,Y=Math.floor(D/65536),se=D-Y*65536,D=ue+Y+65535,Y=Math.floor(D/65536),ue=D-Y*65536,D=lt+Y+65535,Y=Math.floor(D/65536),lt=D-Y*65536,D=nt+Y+65535,Y=Math.floor(D/65536),nt=D-Y*65536,D=Pt+Y+65535,Y=Math.floor(D/65536),Pt=D-Y*65536,D=st+Y+65535,Y=Math.floor(D/65536),st=D-Y*65536,D=xt+Y+65535,Y=Math.floor(D/65536),xt=D-Y*65536,D=vt+Y+65535,Y=Math.floor(D/65536),vt=D-Y*65536,D=Tt+Y+65535,Y=Math.floor(D/65536),Tt=D-Y*65536,D=At+Y+65535,Y=Math.floor(D/65536),At=D-Y*65536,D=_t+Y+65535,Y=Math.floor(D/65536),_t=D-Y*65536,D=Et+Y+65535,Y=Math.floor(D/65536),Et=D-Y*65536,D=wt+Y+65535,Y=Math.floor(D/65536),wt=D-Y*65536,D=ct+Y+65535,Y=Math.floor(D/65536),ct=D-Y*65536,te+=Y-1+37*(Y-1),Y=1,D=te+Y+65535,Y=Math.floor(D/65536),te=D-Y*65536,D=me+Y+65535,Y=Math.floor(D/65536),me=D-Y*65536,D=se+Y+65535,Y=Math.floor(D/65536),se=D-Y*65536,D=ue+Y+65535,Y=Math.floor(D/65536),ue=D-Y*65536,D=lt+Y+65535,Y=Math.floor(D/65536),lt=D-Y*65536,D=nt+Y+65535,Y=Math.floor(D/65536),nt=D-Y*65536,D=Pt+Y+65535,Y=Math.floor(D/65536),Pt=D-Y*65536,D=st+Y+65535,Y=Math.floor(D/65536),st=D-Y*65536,D=xt+Y+65535,Y=Math.floor(D/65536),xt=D-Y*65536,D=vt+Y+65535,Y=Math.floor(D/65536),vt=D-Y*65536,D=Tt+Y+65535,Y=Math.floor(D/65536),Tt=D-Y*65536,D=At+Y+65535,Y=Math.floor(D/65536),At=D-Y*65536,D=_t+Y+65535,Y=Math.floor(D/65536),_t=D-Y*65536,D=Et+Y+65535,Y=Math.floor(D/65536),Et=D-Y*65536,D=wt+Y+65535,Y=Math.floor(D/65536),wt=D-Y*65536,D=ct+Y+65535,Y=Math.floor(D/65536),ct=D-Y*65536,te+=Y-1+37*(Y-1),z[0]=te,z[1]=me,z[2]=se,z[3]=ue,z[4]=lt,z[5]=nt,z[6]=Pt,z[7]=st,z[8]=xt,z[9]=vt,z[10]=Tt,z[11]=At,z[12]=_t,z[13]=Et,z[14]=wt,z[15]=ct}o($,"M");function ee(z,G){$(z,G,G)}o(ee,"S");function re(z,G){var K=e(),D;for(D=0;D<16;D++)K[D]=G[D];for(D=253;D>=0;D--)ee(K,K),D!==2&&D!==4&&$(K,K,G);for(D=0;D<16;D++)z[D]=K[D]}o(re,"inv25519");function Oe(z,G){var K=e(),D;for(D=0;D<16;D++)K[D]=G[D];for(D=250;D>=0;D--)ee(K,K),D!==1&&$(K,K,G);for(D=0;D<16;D++)z[D]=K[D]}o(Oe,"pow2523");function ae(z,G,K){var D=new Uint8Array(32),Y=new Float64Array(80),te,me,se=e(),ue=e(),lt=e(),nt=e(),Pt=e(),st=e();for(me=0;me<31;me++)D[me]=G[me];for(D[31]=G[31]&127|64,D[0]&=248,V(Y,K),me=0;me<16;me++)ue[me]=Y[me],nt[me]=se[me]=lt[me]=0;for(se[0]=nt[0]=1,me=254;me>=0;--me)te=D[me>>>3]>>>(me&7)&1,T(se,ue,te),T(lt,nt,te),q(Pt,se,lt),U(se,se,lt),q(lt,ue,nt),U(ue,ue,nt),ee(nt,Pt),ee(st,se),$(se,lt,se),$(lt,ue,Pt),q(Pt,se,lt),U(se,se,lt),ee(ue,se),U(lt,nt,st),$(se,lt,c),q(se,se,nt),$(lt,lt,se),$(se,nt,st),$(nt,ue,Y),ee(ue,Pt),T(se,ue,te),T(lt,nt,te);for(me=0;me<16;me++)Y[me+16]=se[me],Y[me+32]=lt[me],Y[me+48]=ue[me],Y[me+64]=nt[me];var xt=Y.subarray(32),vt=Y.subarray(16);return re(xt,xt),$(vt,vt,xt),v(z,vt),0}o(ae,"crypto_scalarmult");function le(z,G){return ae(z,G,i)}o(le,"crypto_scalarmult_base");function ye(z,G){return r(G,32),le(z,G)}o(ye,"crypto_box_keypair");function he(z,G,K){var D=new Uint8Array(32);return ae(D,K,G),P(z,n,D,H)}o(he,"crypto_box_beforenm");var ge=b,ur=x;function Ae(z,G,K,D,Y,te){var me=new Uint8Array(32);return he(me,Y,te),ge(z,G,K,D,me)}o(Ae,"crypto_box");function Ne(z,G,K,D,Y,te){var me=new Uint8Array(32);return he(me,Y,te),ur(z,G,K,D,me)}o(Ne,"crypto_box_open");var jn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function qe(z,G,K,D){for(var Y=new Int32Array(16),te=new Int32Array(16),me,se,ue,lt,nt,Pt,st,xt,vt,Tt,At,_t,Et,wt,ct,dt,ot,ft,ut,rt,_e,we,tt,Ye,Xe,it,Ht=z[0],dr=z[1],yr=z[2],hr=z[3],ce=z[4],Mr=z[5],Qr=z[6],en=z[7],_r=G[0],Wr=G[1],Yr=G[2],eo=G[3],Tn=G[4],qi=G[5],Vi=G[6],ji=G[7],So=0;D>=128;){for(ut=0;ut<16;ut++)rt=8*ut+So,Y[ut]=K[rt+0]<<24|K[rt+1]<<16|K[rt+2]<<8|K[rt+3],te[ut]=K[rt+4]<<24|K[rt+5]<<16|K[rt+6]<<8|K[rt+7];for(ut=0;ut<80;ut++)if(me=Ht,se=dr,ue=yr,lt=hr,nt=ce,Pt=Mr,st=Qr,xt=en,vt=_r,Tt=Wr,At=Yr,_t=eo,Et=Tn,wt=qi,ct=Vi,dt=ji,_e=en,we=ji,tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=(ce>>>14|Tn<<18)^(ce>>>18|Tn<<14)^(Tn>>>9|ce<<23),we=(Tn>>>14|ce<<18)^(Tn>>>18|ce<<14)^(ce>>>9|Tn<<23),tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,_e=ce&Mr^~ce&Qr,we=Tn&qi^~Tn&Vi,tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,_e=jn[ut*2],we=jn[ut*2+1],tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,_e=Y[ut%16],we=te[ut%16],tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,ot=Xe&65535|it<<16,ft=tt&65535|Ye<<16,_e=ot,we=ft,tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=(Ht>>>28|_r<<4)^(_r>>>2|Ht<<30)^(_r>>>7|Ht<<25),we=(_r>>>28|Ht<<4)^(Ht>>>2|_r<<30)^(Ht>>>7|_r<<25),tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,_e=Ht&dr^Ht&yr^dr&yr,we=_r&Wr^_r&Yr^Wr&Yr,tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,xt=Xe&65535|it<<16,dt=tt&65535|Ye<<16,_e=lt,we=_t,tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=ot,we=ft,tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,lt=Xe&65535|it<<16,_t=tt&65535|Ye<<16,dr=me,yr=se,hr=ue,ce=lt,Mr=nt,Qr=Pt,en=st,Ht=xt,Wr=vt,Yr=Tt,eo=At,Tn=_t,qi=Et,Vi=wt,ji=ct,_r=dt,ut%16===15)for(rt=0;rt<16;rt++)_e=Y[rt],we=te[rt],tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=Y[(rt+9)%16],we=te[(rt+9)%16],tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,ot=Y[(rt+1)%16],ft=te[(rt+1)%16],_e=(ot>>>1|ft<<31)^(ot>>>8|ft<<24)^ot>>>7,we=(ft>>>1|ot<<31)^(ft>>>8|ot<<24)^(ft>>>7|ot<<25),tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,ot=Y[(rt+14)%16],ft=te[(rt+14)%16],_e=(ot>>>19|ft<<13)^(ft>>>29|ot<<3)^ot>>>6,we=(ft>>>19|ot<<13)^(ot>>>29|ft<<3)^(ft>>>6|ot<<26),tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,Y[rt]=Xe&65535|it<<16,te[rt]=tt&65535|Ye<<16;_e=Ht,we=_r,tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=z[0],we=G[0],tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[0]=Ht=Xe&65535|it<<16,G[0]=_r=tt&65535|Ye<<16,_e=dr,we=Wr,tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=z[1],we=G[1],tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[1]=dr=Xe&65535|it<<16,G[1]=Wr=tt&65535|Ye<<16,_e=yr,we=Yr,tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=z[2],we=G[2],tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[2]=yr=Xe&65535|it<<16,G[2]=Yr=tt&65535|Ye<<16,_e=hr,we=eo,tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=z[3],we=G[3],tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[3]=hr=Xe&65535|it<<16,G[3]=eo=tt&65535|Ye<<16,_e=ce,we=Tn,tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=z[4],we=G[4],tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[4]=ce=Xe&65535|it<<16,G[4]=Tn=tt&65535|Ye<<16,_e=Mr,we=qi,tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=z[5],we=G[5],tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[5]=Mr=Xe&65535|it<<16,G[5]=qi=tt&65535|Ye<<16,_e=Qr,we=Vi,tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=z[6],we=G[6],tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[6]=Qr=Xe&65535|it<<16,G[6]=Vi=tt&65535|Ye<<16,_e=en,we=ji,tt=we&65535,Ye=we>>>16,Xe=_e&65535,it=_e>>>16,_e=z[7],we=G[7],tt+=we&65535,Ye+=we>>>16,Xe+=_e&65535,it+=_e>>>16,Ye+=tt>>>16,Xe+=Ye>>>16,it+=Xe>>>16,z[7]=en=Xe&65535|it<<16,G[7]=ji=tt&65535|Ye<<16,So+=128,D-=128}return D}o(qe,"crypto_hashblocks_hl");function ke(z,G,K){var D=new Int32Array(8),Y=new Int32Array(8),te=new Uint8Array(256),me,se=K;for(D[0]=1779033703,D[1]=3144134277,D[2]=1013904242,D[3]=2773480762,D[4]=1359893119,D[5]=2600822924,D[6]=528734635,D[7]=1541459225,Y[0]=4089235720,Y[1]=2227873595,Y[2]=4271175723,Y[3]=1595750129,Y[4]=2917565137,Y[5]=725511199,Y[6]=4215389547,Y[7]=327033209,qe(D,Y,G,K),K%=128,me=0;me<K;me++)te[me]=G[se-K+me];for(te[K]=128,K=256-128*(K<112?1:0),te[K-9]=0,I(te,K-8,se/536870912|0,se<<3),qe(D,Y,te,K),me=0;me<8;me++)I(z,8*me,D[me],Y[me]);return 0}o(ke,"crypto_hash");function zn(z,G){var K=e(),D=e(),Y=e(),te=e(),me=e(),se=e(),ue=e(),lt=e(),nt=e();U(K,z[1],z[0]),U(nt,G[1],G[0]),$(K,K,nt),q(D,z[0],z[1]),q(nt,G[0],G[1]),$(D,D,nt),$(Y,z[3],G[3]),$(Y,Y,h),$(te,z[2],G[2]),q(te,te,te),U(me,D,K),U(se,te,Y),q(ue,te,Y),q(lt,D,K),$(z[0],me,se),$(z[1],lt,ue),$(z[2],ue,se),$(z[3],me,lt)}o(zn,"add");function Ue(z,G,K){var D;for(D=0;D<4;D++)T(z[D],G[D],K)}o(Ue,"cswap");function Pe(z,G){var K=e(),D=e(),Y=e();re(Y,G[2]),$(K,G[0],Y),$(D,G[1],Y),v(z,D),z[31]^=w(K)<<7}o(Pe,"pack");function Kn(z,G,K){var D,Y;for(_(z[0],s),_(z[1],a),_(z[2],a),_(z[3],s),Y=255;Y>=0;--Y)D=K[Y/8|0]>>(Y&7)&1,Ue(z,G,D),zn(G,z),zn(z,z),Ue(z,G,D)}o(Kn,"scalarmult");function Be(z,G){var K=[e(),e(),e(),e()];_(K[0],y),_(K[1],p),_(K[2],a),$(K[3],y,p),Kn(z,K,G)}o(Be,"scalarbase");function Le(z,G,K){var D=new Uint8Array(64),Y=[e(),e(),e(),e()],te;for(K||r(G,32),ke(D,G,32),D[0]&=248,D[31]&=127,D[31]|=64,Be(Y,D),Pe(z,Y),te=0;te<32;te++)G[te+32]=z[te];return 0}o(Le,"crypto_sign_keypair");var Jr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Z(z,G){var K,D,Y,te;for(D=63;D>=32;--D){for(K=0,Y=D-32,te=D-12;Y<te;++Y)G[Y]+=K-16*G[D]*Jr[Y-(D-32)],K=Math.floor((G[Y]+128)/256),G[Y]-=K*256;G[Y]+=K,G[D]=0}for(K=0,Y=0;Y<32;Y++)G[Y]+=K-(G[31]>>4)*Jr[Y],K=G[Y]>>8,G[Y]&=255;for(Y=0;Y<32;Y++)G[Y]-=K*Jr[Y];for(D=0;D<32;D++)G[D+1]+=G[D]>>8,z[D]=G[D]&255}o(Z,"modL");function Q(z){var G=new Float64Array(64),K;for(K=0;K<64;K++)G[K]=z[K];for(K=0;K<64;K++)z[K]=0;Z(z,G)}o(Q,"reduce");function pe(z,G,K,D){var Y=new Uint8Array(64),te=new Uint8Array(64),me=new Uint8Array(64),se,ue,lt=new Float64Array(64),nt=[e(),e(),e(),e()];ke(Y,D,32),Y[0]&=248,Y[31]&=127,Y[31]|=64;var Pt=K+64;for(se=0;se<K;se++)z[64+se]=G[se];for(se=0;se<32;se++)z[32+se]=Y[32+se];for(ke(me,z.subarray(32),K+32),Q(me),Be(nt,me),Pe(z,nt),se=32;se<64;se++)z[se]=D[se];for(ke(te,z,K+64),Q(te),se=0;se<64;se++)lt[se]=0;for(se=0;se<32;se++)lt[se]=me[se];for(se=0;se<32;se++)for(ue=0;ue<32;ue++)lt[se+ue]+=te[se]*Y[ue];return Z(z.subarray(32),lt),Pt}o(pe,"crypto_sign");function ne(z,G){var K=e(),D=e(),Y=e(),te=e(),me=e(),se=e(),ue=e();return _(z[2],a),V(z[1],G),ee(Y,z[1]),$(te,Y,l),U(Y,Y,z[2]),q(te,z[2],te),ee(me,te),ee(se,me),$(ue,se,me),$(K,ue,Y),$(K,K,te),Oe(K,K),$(K,K,Y),$(K,K,te),$(K,K,te),$(z[0],K,te),ee(D,z[0]),$(D,D,te),u(D,Y)&&$(z[0],z[0],E),ee(D,z[0]),$(D,D,te),u(D,Y)?-1:(w(z[0])===G[31]>>7&&U(z[0],s,z[0]),$(z[3],z[0],z[1]),0)}o(ne,"unpackneg");function de(z,G,K,D){var Y,te=new Uint8Array(32),me=new Uint8Array(64),se=[e(),e(),e(),e()],ue=[e(),e(),e(),e()];if(K<64||ne(ue,D))return-1;for(Y=0;Y<K;Y++)z[Y]=G[Y];for(Y=0;Y<32;Y++)z[Y+32]=D[Y];if(ke(me,z,K),Q(me),Kn(se,ue,me),Be(ue,G.subarray(32)),zn(se,ue),Pe(te,se),K-=64,k(G,0,te,0)){for(Y=0;Y<K;Y++)z[Y]=0;return-1}for(Y=0;Y<K;Y++)z[Y]=G[Y+64];return K}o(de,"crypto_sign_open");var yt=32,ve=24,Se=32,tr=16,Ie=32,Me=32,ci=32,Fe=32,De=32,uo=ve,Ge=Se,$e=tr,Gn=64,He=32,Ve=64,Qi=32,je=64;t.lowlevel={crypto_core_hsalsa20:P,crypto_stream_xor:X,crypto_stream:W,crypto_stream_salsa20_xor:F,crypto_stream_salsa20:J,crypto_onetimeauth:f,crypto_onetimeauth_verify:d,crypto_verify_16:N,crypto_verify_32:k,crypto_secretbox:b,crypto_secretbox_open:x,crypto_scalarmult:ae,crypto_scalarmult_base:le,crypto_box_beforenm:he,crypto_box_afternm:ge,crypto_box:Ae,crypto_box_open:Ne,crypto_box_keypair:ye,crypto_hash:ke,crypto_sign:pe,crypto_sign_keypair:Le,crypto_sign_open:de,crypto_secretbox_KEYBYTES:yt,crypto_secretbox_NONCEBYTES:ve,crypto_secretbox_ZEROBYTES:Se,crypto_secretbox_BOXZEROBYTES:tr,crypto_scalarmult_BYTES:Ie,crypto_scalarmult_SCALARBYTES:Me,crypto_box_PUBLICKEYBYTES:ci,crypto_box_SECRETKEYBYTES:Fe,crypto_box_BEFORENMBYTES:De,crypto_box_NONCEBYTES:uo,crypto_box_ZEROBYTES:Ge,crypto_box_BOXZEROBYTES:$e,crypto_sign_BYTES:Gn,crypto_sign_PUBLICKEYBYTES:He,crypto_sign_SECRETKEYBYTES:Ve,crypto_sign_SEEDBYTES:Qi,crypto_hash_BYTES:je,gf:e,D:l,L:Jr,pack25519:v,unpack25519:V,M:$,A:q,S:ee,Z:U,pow2523:Oe,add:zn,set25519:_,modL:Z,scalarmult:Kn,scalarbase:Be};function ze(z,G){if(z.length!==yt)throw new Error("bad key size");if(G.length!==ve)throw new Error("bad nonce size")}o(ze,"checkLengths");function Eo(z,G){if(z.length!==ci)throw new Error("bad public key size");if(G.length!==Fe)throw new Error("bad secret key size")}o(Eo,"checkBoxLengths");function Ce(){for(var z=0;z<arguments.length;z++)if(!(arguments[z]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}o(Ce,"checkArrayTypes");function Ke(z){for(var G=0;G<z.length;G++)z[G]=0}o(Ke,"cleanup"),t.randomBytes=function(z){var G=new Uint8Array(z);return r(G,z),G},t.secretbox=function(z,G,K){Ce(z,G,K),ze(K,G);for(var D=new Uint8Array(Se+z.length),Y=new Uint8Array(D.length),te=0;te<z.length;te++)D[te+Se]=z[te];return b(Y,D,D.length,G,K),Y.subarray(tr)},t.secretbox.open=function(z,G,K){Ce(z,G,K),ze(K,G);for(var D=new Uint8Array(tr+z.length),Y=new Uint8Array(D.length),te=0;te<z.length;te++)D[te+tr]=z[te];return D.length<32||x(Y,D,D.length,G,K)!==0?null:Y.subarray(Se)},t.secretbox.keyLength=yt,t.secretbox.nonceLength=ve,t.secretbox.overheadLength=tr,t.scalarMult=function(z,G){if(Ce(z,G),z.length!==Me)throw new Error("bad n size");if(G.length!==Ie)throw new Error("bad p size");var K=new Uint8Array(Ie);return ae(K,z,G),K},t.scalarMult.base=function(z){if(Ce(z),z.length!==Me)throw new Error("bad n size");var G=new Uint8Array(Ie);return le(G,z),G},t.scalarMult.scalarLength=Me,t.scalarMult.groupElementLength=Ie,t.box=function(z,G,K,D){var Y=t.box.before(K,D);return t.secretbox(z,G,Y)},t.box.before=function(z,G){Ce(z,G),Eo(z,G);var K=new Uint8Array(De);return he(K,z,G),K},t.box.after=t.secretbox,t.box.open=function(z,G,K,D){var Y=t.box.before(K,D);return t.secretbox.open(z,G,Y)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var z=new Uint8Array(ci),G=new Uint8Array(Fe);return ye(z,G),{publicKey:z,secretKey:G}},t.box.keyPair.fromSecretKey=function(z){if(Ce(z),z.length!==Fe)throw new Error("bad secret key size");var G=new Uint8Array(ci);return le(G,z),{publicKey:G,secretKey:new Uint8Array(z)}},t.box.publicKeyLength=ci,t.box.secretKeyLength=Fe,t.box.sharedKeyLength=De,t.box.nonceLength=uo,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(z,G){if(Ce(z,G),G.length!==Ve)throw new Error("bad secret key size");var K=new Uint8Array(Gn+z.length);return pe(K,z,z.length,G),K},t.sign.open=function(z,G){if(Ce(z,G),G.length!==He)throw new Error("bad public key size");var K=new Uint8Array(z.length),D=de(K,z,z.length,G);if(D<0)return null;for(var Y=new Uint8Array(D),te=0;te<Y.length;te++)Y[te]=K[te];return Y},t.sign.detached=function(z,G){for(var K=t.sign(z,G),D=new Uint8Array(Gn),Y=0;Y<D.length;Y++)D[Y]=K[Y];return D},t.sign.detached.verify=function(z,G,K){if(Ce(z,G,K),G.length!==Gn)throw new Error("bad signature size");if(K.length!==He)throw new Error("bad public key size");var D=new Uint8Array(Gn+z.length),Y=new Uint8Array(Gn+z.length),te;for(te=0;te<Gn;te++)D[te]=G[te];for(te=0;te<z.length;te++)D[te+Gn]=z[te];return de(Y,D,D.length,K)>=0},t.sign.keyPair=function(){var z=new Uint8Array(He),G=new Uint8Array(Ve);return Le(z,G),{publicKey:z,secretKey:G}},t.sign.keyPair.fromSecretKey=function(z){if(Ce(z),z.length!==Ve)throw new Error("bad secret key size");for(var G=new Uint8Array(He),K=0;K<G.length;K++)G[K]=z[32+K];return{publicKey:G,secretKey:new Uint8Array(z)}},t.sign.keyPair.fromSeed=function(z){if(Ce(z),z.length!==Qi)throw new Error("bad seed size");for(var G=new Uint8Array(He),K=new Uint8Array(Ve),D=0;D<32;D++)K[D]=z[D];return Le(G,K,!0),{publicKey:G,secretKey:K}},t.sign.publicKeyLength=He,t.sign.secretKeyLength=Ve,t.sign.seedLength=Qi,t.sign.signatureLength=Gn,t.hash=function(z){Ce(z);var G=new Uint8Array(je);return ke(G,z,z.length),G},t.hash.hashLength=je,t.verify=function(z,G){return Ce(z,G),z.length===0||G.length===0||z.length!==G.length?!1:O(z,0,G,0,z.length)===0},t.setPRNG=function(z){r=z},function(){var z=typeof self<"u"?self.crypto||self.msCrypto:null;if(z&&z.getRandomValues){var G=65536;t.setPRNG(function(K,D){var Y,te=new Uint8Array(D);for(Y=0;Y<D;Y+=G)z.getRandomValues(te.subarray(Y,Y+Math.min(D-Y,G)));for(Y=0;Y<D;Y++)K[Y]=te[Y];Ke(te)})}else typeof nX<"u"&&(z=ax(),z&&z.randomBytes&&t.setPRNG(function(K,D){var Y,te=z.randomBytes(D);for(Y=0;Y<D;Y++)K[Y]=te[Y];Ke(te)}))}()})(typeof aR<"u"&&aR.exports?aR.exports:self.nacl=self.nacl||{})});var j1e=j(dR=>{"use strict";m();g();Object.defineProperty(dR,"__esModule",{value:!0});dR.crypto=void 0;dR.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Sq=j(Gt=>{"use strict";m();g();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.wrapXOFConstructorWithOpts=Gt.wrapConstructorWithOpts=Gt.wrapConstructor=Gt.Hash=Gt.nextTick=Gt.swap32IfBE=Gt.byteSwapIfBE=Gt.swap8IfBE=Gt.isLE=void 0;Gt.isBytes=K1e;Gt.anumber=vq;Gt.abytes=gv;Gt.ahash=ptt;Gt.aexists=mtt;Gt.aoutput=gtt;Gt.u8=ytt;Gt.u32=btt;Gt.clean=xtt;Gt.createView=vtt;Gt.rotr=_tt;Gt.rotl=wtt;Gt.byteSwap=wq;Gt.byteSwap32=G1e;Gt.bytesToHex=Stt;Gt.hexToBytes=Att;Gt.asyncLoop=Ttt;Gt.utf8ToBytes=Eq;Gt.bytesToUtf8=Rtt;Gt.toBytes=hR;Gt.kdfInputToBytes=Ott;Gt.concatBytes=Ntt;Gt.checkOpts=Mtt;Gt.createHasher=W1e;Gt.createOptHasher=Y1e;Gt.createXOFer=X1e;Gt.randomBytes=Ctt;var mv=j1e();function K1e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(K1e,"isBytes");function vq(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(vq,"anumber");function gv(t,...e){if(!K1e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(gv,"abytes");function ptt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");vq(t.outputLen),vq(t.blockLen)}o(ptt,"ahash");function mtt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(mtt,"aexists");function gtt(t,e){gv(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(gtt,"aoutput");function ytt(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(ytt,"u8");function btt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(btt,"u32");function xtt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(xtt,"clean");function vtt(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(vtt,"createView");function _tt(t,e){return t<<32-e|t>>>e}o(_tt,"rotr");function wtt(t,e){return t<<e|t>>>32-e>>>0}o(wtt,"rotl");Gt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function wq(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(wq,"byteSwap");Gt.swap8IfBE=Gt.isLE?t=>t:t=>wq(t);Gt.byteSwapIfBE=Gt.swap8IfBE;function G1e(t){for(let e=0;e<t.length;e++)t[e]=wq(t[e]);return t}o(G1e,"byteSwap32");Gt.swap32IfBE=Gt.isLE?t=>t:G1e;var $1e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ett=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Stt(t){if(gv(t),$1e)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Ett[t[r]];return e}o(Stt,"bytesToHex");var $h={_0:48,_9:57,A:65,F:70,a:97,f:102};function z1e(t){if(t>=$h._0&&t<=$h._9)return t-$h._0;if(t>=$h.A&&t<=$h.F)return t-($h.A-10);if(t>=$h.a&&t<=$h.f)return t-($h.a-10)}o(z1e,"asciiToBase16");function Att(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if($1e)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=z1e(t.charCodeAt(s)),c=z1e(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o(Att,"hexToBytes");var Itt=o(async()=>{},"nextTick");Gt.nextTick=Itt;async function Ttt(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Gt.nextTick)(),n+=s)}}o(Ttt,"asyncLoop");function Eq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(Eq,"utf8ToBytes");function Rtt(t){return new TextDecoder().decode(t)}o(Rtt,"bytesToUtf8");function hR(t){return typeof t=="string"&&(t=Eq(t)),gv(t),t}o(hR,"toBytes");function Ott(t){return typeof t=="string"&&(t=Eq(t)),gv(t),t}o(Ott,"kdfInputToBytes");function Ntt(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];gv(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(Ntt,"concatBytes");function Mtt(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(Mtt,"checkOpts");var _q=class{static{o(this,"Hash")}};Gt.Hash=_q;function W1e(t){let e=o(n=>t().update(hR(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(W1e,"createHasher");function Y1e(t){let e=o((n,i)=>t(i).update(hR(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Y1e,"createOptHasher");function X1e(t){let e=o((n,i)=>t(i).update(hR(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(X1e,"createXOFer");Gt.wrapConstructor=W1e;Gt.wrapConstructorWithOpts=Y1e;Gt.wrapXOFConstructorWithOpts=X1e;function Ctt(t=32){if(mv.crypto&&typeof mv.crypto.getRandomValues=="function")return mv.crypto.getRandomValues(new Uint8Array(t));if(mv.crypto&&typeof mv.crypto.randomBytes=="function")return Uint8Array.from(mv.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(Ctt,"randomBytes")});var J1e=j(Ba=>{"use strict";m();g();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.SHA512_IV=Ba.SHA384_IV=Ba.SHA224_IV=Ba.SHA256_IV=Ba.HashMD=void 0;Ba.setBigUint64=Z1e;Ba.Chi=ktt;Ba.Maj=Btt;var wd=Sq();function Z1e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(Z1e,"setBigUint64");function ktt(t,e,r){return t&e^~t&r}o(ktt,"Chi");function Btt(t,e,r){return t&e^t&r^e&r}o(Btt,"Maj");var Aq=class extends wd.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,wd.createView)(this.buffer)}update(e){(0,wd.aexists)(this),e=(0,wd.toBytes)(e),(0,wd.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=(0,wd.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,wd.aexists)(this),(0,wd.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,wd.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let p=a;p<i;p++)r[p]=0;Z1e(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,wd.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};Ba.HashMD=Aq;Ba.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Ba.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Ba.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Ba.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var vbe=j(cr=>{"use strict";m();g();Object.defineProperty(cr,"__esModule",{value:!0});cr.toBig=cr.shrSL=cr.shrSH=cr.rotrSL=cr.rotrSH=cr.rotrBL=cr.rotrBH=cr.rotr32L=cr.rotr32H=cr.rotlSL=cr.rotlSH=cr.rotlBL=cr.rotlBH=cr.add5L=cr.add5H=cr.add4L=cr.add4H=cr.add3L=cr.add3H=void 0;cr.add=hbe;cr.fromBig=Tq;cr.split=Q1e;var pR=BigInt(2**32-1),Iq=BigInt(32);function Tq(t,e=!1){return e?{h:Number(t&pR),l:Number(t>>Iq&pR)}:{h:Number(t>>Iq&pR)|0,l:Number(t&pR)|0}}o(Tq,"fromBig");function Q1e(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=Tq(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(Q1e,"split");var ebe=o((t,e)=>BigInt(t>>>0)<<Iq|BigInt(e>>>0),"toBig");cr.toBig=ebe;var tbe=o((t,e,r)=>t>>>r,"shrSH");cr.shrSH=tbe;var rbe=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");cr.shrSL=rbe;var nbe=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");cr.rotrSH=nbe;var ibe=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");cr.rotrSL=ibe;var obe=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");cr.rotrBH=obe;var sbe=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");cr.rotrBL=sbe;var abe=o((t,e)=>e,"rotr32H");cr.rotr32H=abe;var cbe=o((t,e)=>t,"rotr32L");cr.rotr32L=cbe;var fbe=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");cr.rotlSH=fbe;var ube=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");cr.rotlSL=ube;var lbe=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");cr.rotlBH=lbe;var dbe=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");cr.rotlBL=dbe;function hbe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(hbe,"add");var pbe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");cr.add3L=pbe;var mbe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");cr.add3H=mbe;var gbe=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");cr.add4L=gbe;var ybe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");cr.add4H=ybe;var bbe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");cr.add5L=bbe;var xbe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");cr.add5H=xbe;var Ptt={fromBig:Tq,split:Q1e,toBig:ebe,shrSH:tbe,shrSL:rbe,rotrSH:nbe,rotrSL:ibe,rotrBH:obe,rotrBL:sbe,rotr32H:abe,rotr32L:cbe,rotlSH:fbe,rotlSL:ube,rotlBH:lbe,rotlBL:dbe,add:hbe,add3L:pbe,add3H:mbe,add4L:gbe,add4H:ybe,add5H:xbe,add5L:bbe};cr.default=Ptt});var wbe=j(ri=>{"use strict";m();g();Object.defineProperty(ri,"__esModule",{value:!0});ri.sha512_224=ri.sha512_256=ri.sha384=ri.sha512=ri.sha224=ri.sha256=ri.SHA512_256=ri.SHA512_224=ri.SHA384=ri.SHA512=ri.SHA224=ri.SHA256=void 0;var Vt=J1e(),Tr=vbe(),go=Sq(),Ltt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),im=new Uint32Array(64),tS=class extends Vt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=Vt.SHA256_IV[0]|0,this.B=Vt.SHA256_IV[1]|0,this.C=Vt.SHA256_IV[2]|0,this.D=Vt.SHA256_IV[3]|0,this.E=Vt.SHA256_IV[4]|0,this.F=Vt.SHA256_IV[5]|0,this.G=Vt.SHA256_IV[6]|0,this.H=Vt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let p=0;p<16;p++,r+=4)im[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let E=im[p-15],I=im[p-2],O=(0,go.rotr)(E,7)^(0,go.rotr)(E,18)^E>>>3,N=(0,go.rotr)(I,17)^(0,go.rotr)(I,19)^I>>>10;im[p]=N+im[p-7]+O+im[p-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let p=0;p<64;p++){let E=(0,go.rotr)(c,6)^(0,go.rotr)(c,11)^(0,go.rotr)(c,25),I=y+E+(0,Vt.Chi)(c,l,h)+Ltt[p]+im[p]|0,N=((0,go.rotr)(n,2)^(0,go.rotr)(n,13)^(0,go.rotr)(n,22))+(0,Vt.Maj)(n,i,s)|0;y=h,h=l,l=c,c=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){(0,go.clean)(im)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,go.clean)(this.buffer)}};ri.SHA256=tS;var mR=class extends tS{static{o(this,"SHA224")}constructor(){super(28),this.A=Vt.SHA224_IV[0]|0,this.B=Vt.SHA224_IV[1]|0,this.C=Vt.SHA224_IV[2]|0,this.D=Vt.SHA224_IV[3]|0,this.E=Vt.SHA224_IV[4]|0,this.F=Vt.SHA224_IV[5]|0,this.G=Vt.SHA224_IV[6]|0,this.H=Vt.SHA224_IV[7]|0}};ri.SHA224=mR;var _be=Tr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Dtt=_be[0],Utt=_be[1],om=new Uint32Array(80),sm=new Uint32Array(80),qy=class extends Vt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=Vt.SHA512_IV[0]|0,this.Al=Vt.SHA512_IV[1]|0,this.Bh=Vt.SHA512_IV[2]|0,this.Bl=Vt.SHA512_IV[3]|0,this.Ch=Vt.SHA512_IV[4]|0,this.Cl=Vt.SHA512_IV[5]|0,this.Dh=Vt.SHA512_IV[6]|0,this.Dl=Vt.SHA512_IV[7]|0,this.Eh=Vt.SHA512_IV[8]|0,this.El=Vt.SHA512_IV[9]|0,this.Fh=Vt.SHA512_IV[10]|0,this.Fl=Vt.SHA512_IV[11]|0,this.Gh=Vt.SHA512_IV[12]|0,this.Gl=Vt.SHA512_IV[13]|0,this.Hh=Vt.SHA512_IV[14]|0,this.Hl=Vt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:p,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k]}set(e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=p|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)om[M]=e.getUint32(r),sm[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let P=om[M-15]|0,H=sm[M-15]|0,F=Tr.rotrSH(P,H,1)^Tr.rotrSH(P,H,8)^Tr.shrSH(P,H,7),J=Tr.rotrSL(P,H,1)^Tr.rotrSL(P,H,8)^Tr.shrSL(P,H,7),W=om[M-2]|0,X=sm[M-2]|0,S=Tr.rotrSH(W,X,19)^Tr.rotrBH(W,X,61)^Tr.shrSH(W,X,6),f=Tr.rotrSL(W,X,19)^Tr.rotrBL(W,X,61)^Tr.shrSL(W,X,6),d=Tr.add4L(J,f,sm[M-7],sm[M-16]),b=Tr.add4H(d,F,S,om[M-7],om[M-16]);om[M]=b|0,sm[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:p,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let P=Tr.rotrSH(p,E,14)^Tr.rotrSH(p,E,18)^Tr.rotrBH(p,E,41),H=Tr.rotrSL(p,E,14)^Tr.rotrSL(p,E,18)^Tr.rotrBL(p,E,41),F=p&I^~p&N,J=E&O^~E&k,W=Tr.add5L(L,H,J,Utt[M],sm[M]),X=Tr.add5H(W,C,P,F,Dtt[M],om[M]),S=W|0,f=Tr.rotrSH(n,i,28)^Tr.rotrBH(n,i,34)^Tr.rotrBH(n,i,39),d=Tr.rotrSL(n,i,28)^Tr.rotrBL(n,i,34)^Tr.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=p|0,O=E|0,{h:p,l:E}=Tr.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=Tr.add3L(S,d,x);n=Tr.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Tr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Tr.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=Tr.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=Tr.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:p,l:E}=Tr.add(this.Eh|0,this.El|0,p|0,E|0),{h:I,l:O}=Tr.add(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=Tr.add(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=Tr.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,c,l,h,y,p,E,I,O,N,k,C,L)}roundClean(){(0,go.clean)(om,sm)}destroy(){(0,go.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};ri.SHA512=qy;var gR=class extends qy{static{o(this,"SHA384")}constructor(){super(48),this.Ah=Vt.SHA384_IV[0]|0,this.Al=Vt.SHA384_IV[1]|0,this.Bh=Vt.SHA384_IV[2]|0,this.Bl=Vt.SHA384_IV[3]|0,this.Ch=Vt.SHA384_IV[4]|0,this.Cl=Vt.SHA384_IV[5]|0,this.Dh=Vt.SHA384_IV[6]|0,this.Dl=Vt.SHA384_IV[7]|0,this.Eh=Vt.SHA384_IV[8]|0,this.El=Vt.SHA384_IV[9]|0,this.Fh=Vt.SHA384_IV[10]|0,this.Fl=Vt.SHA384_IV[11]|0,this.Gh=Vt.SHA384_IV[12]|0,this.Gl=Vt.SHA384_IV[13]|0,this.Hh=Vt.SHA384_IV[14]|0,this.Hl=Vt.SHA384_IV[15]|0}};ri.SHA384=gR;var ua=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),la=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),yR=class extends qy{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=ua[0]|0,this.Al=ua[1]|0,this.Bh=ua[2]|0,this.Bl=ua[3]|0,this.Ch=ua[4]|0,this.Cl=ua[5]|0,this.Dh=ua[6]|0,this.Dl=ua[7]|0,this.Eh=ua[8]|0,this.El=ua[9]|0,this.Fh=ua[10]|0,this.Fl=ua[11]|0,this.Gh=ua[12]|0,this.Gl=ua[13]|0,this.Hh=ua[14]|0,this.Hl=ua[15]|0}};ri.SHA512_224=yR;var bR=class extends qy{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=la[0]|0,this.Al=la[1]|0,this.Bh=la[2]|0,this.Bl=la[3]|0,this.Ch=la[4]|0,this.Cl=la[5]|0,this.Dh=la[6]|0,this.Dl=la[7]|0,this.Eh=la[8]|0,this.El=la[9]|0,this.Fh=la[10]|0,this.Fl=la[11]|0,this.Gh=la[12]|0,this.Gl=la[13]|0,this.Hh=la[14]|0,this.Hl=la[15]|0}};ri.SHA512_256=bR;ri.sha256=(0,go.createHasher)(()=>new tS);ri.sha224=(0,go.createHasher)(()=>new mR);ri.sha512=(0,go.createHasher)(()=>new qy);ri.sha384=(0,go.createHasher)(()=>new gR);ri.sha512_256=(0,go.createHasher)(()=>new bR);ri.sha512_224=(0,go.createHasher)(()=>new yR)});var Ebe=j(Ed=>{"use strict";m();g();Object.defineProperty(Ed,"__esModule",{value:!0});Ed.sha224=Ed.SHA224=Ed.sha256=Ed.SHA256=void 0;var xR=wbe();Ed.SHA256=xR.SHA256;Ed.sha256=xR.sha256;Ed.SHA224=xR.SHA224;Ed.sha224=xR.sha224});var Abe=j((Gnr,Sbe)=>{"use strict";m();g();function Ftt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function y(I){if(I instanceof Uint8Array||(ArrayBuffer.isView(I)?I=new Uint8Array(I.buffer,I.byteOffset,I.byteLength):Array.isArray(I)&&(I=Uint8Array.from(I))),!(I instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(I.length===0)return"";for(var O=0,N=0,k=0,C=I.length;k!==C&&I[k]===0;)k++,O++;for(var L=(C-k)*h+1>>>0,M=new Uint8Array(L);k!==C;){for(var P=I[k],H=0,F=L-1;(P!==0||H<N)&&F!==-1;F--,H++)P+=256*M[F]>>>0,M[F]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");N=H,k++}for(var J=L-N;J!==L&&M[J]===0;)J++;for(var W=c.repeat(O);J<L;++J)W+=t.charAt(M[J]);return W}o(y,"encode");function p(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return new Uint8Array;for(var O=0,N=0,k=0;I[O]===c;)N++,O++;for(var C=(I.length-O)*l+1>>>0,L=new Uint8Array(C);I[O];){var M=e[I.charCodeAt(O)];if(M===255)return;for(var P=0,H=C-1;(M!==0||P<k)&&H!==-1;H--,P++)M+=a*L[H]>>>0,L[H]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");k=P,O++}for(var F=C-k;F!==C&&L[F]===0;)F++;for(var J=new Uint8Array(N+(C-F)),W=N;F!==C;)J[W++]=L[F++];return J}o(p,"decodeUnsafe");function E(I){var O=p(I);if(O)return O;throw new Error("Non-base"+a+" character")}return o(E,"decode"),{encode:y,decodeUnsafe:p,decode:E}}o(Ftt,"base");Sbe.exports=Ftt});var Tbe=j((Xnr,Ibe)=>{m();g();var Htt=Abe(),qtt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Ibe.exports=Htt(qtt)});var Obe=j((Qnr,Rbe)=>{"use strict";m();g();var Rq=Tbe();Rbe.exports=function(t){function e(s){var a=Uint8Array.from(s),c=t(a),l=a.length+4,h=new Uint8Array(l);return h.set(a,0),h.set(c.subarray(0,4),a.length),Rq.encode(h,l)}o(e,"encode");function r(s){var a=s.slice(0,-4),c=s.slice(-4),l=t(a);if(!(c[0]^l[0]|c[1]^l[1]|c[2]^l[2]|c[3]^l[3]))return a}o(r,"decodeRaw");function n(s){var a=Rq.decodeUnsafe(s);if(a)return r(a)}o(n,"decodeUnsafe");function i(s){var a=Rq.decode(s),c=r(a,t);if(!c)throw new Error("Invalid checksum");return c}return o(i,"decode"),{encode:e,decode:i,decodeUnsafe:n}}});var yv=j((nir,Mbe)=>{"use strict";m();g();var{sha256:Nbe}=Ebe(),Vtt=Obe();function jtt(t){return Nbe(Nbe(t))}o(jtt,"sha256x2");Mbe.exports=Vtt(jtt)});var kbe=j((air,Cbe)=>{"use strict";m();g();var Oq=Ru(),ztt=pr().Buffer;Cbe.exports=function(t){function e(s){var a=t(s);return Oq.encode(ztt.concat([s,a],s.length+4))}o(e,"encode");function r(s){var a=s.slice(0,-4),c=s.slice(-4),l=t(a);if(!(c[0]^l[0]|c[1]^l[1]|c[2]^l[2]|c[3]^l[3]))return a}o(r,"decodeRaw");function n(s){var a=Oq.decodeUnsafe(s);if(a)return r(a)}o(n,"decodeUnsafe");function i(s){var a=Oq.decode(s),c=r(a,t);if(!c)throw new Error("Invalid checksum");return c}return o(i,"decode"),{encode:e,decode:i,decodeUnsafe:n}}});var Lbe=j((lir,Pbe)=>{"use strict";m();g();var Bbe=ey(),Ktt=kbe();function Gtt(t){var e=Bbe("sha256").update(t).digest();return Bbe("sha256").update(e).digest()}o(Gtt,"sha256x2");Pbe.exports=Ktt(Gtt)});var Cq=j((mir,Ube)=>{m();g();var Nq=Lbe();function Dbe(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}o(Dbe,"decodeRaw");function Mq(t,e,r){var n=new Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}o(Mq,"encodeRaw");function $tt(t,e){return Dbe(Nq.decode(t),e)}o($tt,"decode");function Wtt(t,e,r){return typeof t=="number"?Nq.encode(Mq(t,e,r)):Nq.encode(Mq(t.version,t.privateKey,t.compressed))}o(Wtt,"encode");Ube.exports={decode:$tt,decodeRaw:Dbe,encode:Wtt,encodeRaw:Mq}});var lxe=j(Vr=>{"use strict";m();g();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.utils=Vr.schnorr=Vr.verify=Vr.signSync=Vr.sign=Vr.getSharedSecret=Vr.recoverPublicKey=Vr.getPublicKey=Vr.Signature=Vr.Point=Vr.CURVE=void 0;var trt=ax(),Kr=BigInt(0),mi=BigInt(1),fm=BigInt(2),nS=BigInt(3),Gbe=BigInt(8),Fn=Object.freeze({a:Kr,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:mi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});Vr.CURVE=Fn;var $be=o((t,e)=>(t+e/fm)/e,"divNearest"),wR={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Fn,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-mi*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=$be(s*t,e),l=$be(-n*t,e),h=gt(t-c*r-l*i,e),y=gt(-c*n-l*s,e),p=h>a,E=y>a;if(p&&(h=e-h),E&&(y=e-y),h>a||y>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:p,k1:h,k2neg:E,k2:y}}},al=32,jy=32,exe=32,TR=al+1,RR=2*al+1;function Wbe(t){let{a:e,b:r}=Fn,n=gt(t*t),i=gt(n*t);return gt(i+e*t+r)}o(Wbe,"weierstrass");var ER=Fn.a===Kr,oS=class extends Error{static{o(this,"ShaError")}constructor(e){super(e)}};function Ybe(t){if(!(t instanceof Pa))throw new TypeError("JacobianPoint expected")}o(Ybe,"assertJacPoint");var Pa=class t{static{o(this,"JacobianPoint")}constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof ni))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(ni.ZERO)?t.ZERO:new t(e.x,e.y,mi)}static toAffineBatch(e){let r=srt(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){Ybe(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e,l=gt(i*i),h=gt(c*c),y=gt(r*h),p=gt(s*l),E=gt(gt(n*c)*h),I=gt(gt(a*i)*l);return y===p&&E===I}negate(){return new t(this.x,gt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=gt(e*e),s=gt(r*r),a=gt(s*s),c=e+s,l=gt(fm*(gt(c*c)-i-a)),h=gt(nS*i),y=gt(h*h),p=gt(y-fm*l),E=gt(h*(l-p)-Gbe*a),I=gt(fm*r*n);return new t(p,E,I)}add(e){Ybe(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e;if(s===Kr||a===Kr)return this;if(r===Kr||n===Kr)return e;let l=gt(i*i),h=gt(c*c),y=gt(r*h),p=gt(s*l),E=gt(gt(n*c)*h),I=gt(gt(a*i)*l),O=gt(p-y),N=gt(I-E);if(O===Kr)return N===Kr?this.double():t.ZERO;let k=gt(O*O),C=gt(O*k),L=gt(y*k),M=gt(N*N-C-fm*L),P=gt(N*(L-M)-E*C),H=gt(i*c*O);return new t(M,P,H)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===Kr)return r;let n=Jbe(e);if(n===mi)return this;if(!ER){let p=r,E=this;for(;n>Kr;)n&mi&&(p=p.add(E)),E=E.double(),n>>=mi;return p}let{k1neg:i,k1:s,k2neg:a,k2:c}=wR.splitScalar(n),l=r,h=r,y=this;for(;s>Kr||c>Kr;)s&mi&&(l=l.add(y)),c&mi&&(h=h.add(y)),y=y.double(),s>>=mi,c>>=mi;return i&&(l=l.negate()),a&&(h=h.negate()),h=new t(gt(h.x*wR.beta),h.y,h.z),l.add(h)}precomputeWindow(e){let r=ER?128/e+1:256/e+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=ni.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&kq.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),kq.set(r,i)));let s=t.ZERO,a=t.BASE,c=1+(ER?128/n:256/n),l=2**(n-1),h=BigInt(2**n-1),y=2**n,p=BigInt(n);for(let E=0;E<c;E++){let I=E*l,O=Number(e&h);e>>=p,O>l&&(O-=y,e+=mi);let N=I,k=I+Math.abs(O)-1,C=E%2!==0,L=O<0;O===0?a=a.add(SR(C,i[N])):s=s.add(SR(L,i[k]))}return{p:s,f:a}}multiply(e,r){let n=Jbe(e),i,s;if(ER){let{k1neg:a,k1:c,k2neg:l,k2:h}=wR.splitScalar(n),{p:y,f:p}=this.wNAF(c,r),{p:E,f:I}=this.wNAF(h,r);y=SR(a,y),E=SR(l,E),E=new t(gt(E.x*wR.beta),E.y,E.z),i=y.add(E),s=p.add(I)}else{let{p:a,f:c}=this.wNAF(n,r);i=a,s=c}return t.normalizeZ([i,s])[0]}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?Gbe:Ev(i));let a=e,c=gt(a*a),l=gt(c*a),h=gt(r*c),y=gt(n*l),p=gt(i*a);if(s)return ni.ZERO;if(p!==mi)throw new Error("invZ was invalid");return new ni(h,y)}};Pa.BASE=new Pa(Fn.Gx,Fn.Gy,mi);Pa.ZERO=new Pa(Kr,mi,Kr);function SR(t,e){let r=e.negate();return t?r:e}o(SR,"constTimeNegate");var kq=new WeakMap,ni=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,kq.delete(this)}hasEvenY(){return this.y%fm===Kr}static fromCompressedHex(e){let r=e.length===32,n=sf(r?e:e.subarray(1));if(!IR(n))throw new Error("Point is not on curve");let i=Wbe(n),s=ort(i),a=(s&mi)===mi;r?a&&(s=gt(-s)):(e[0]&1)===1!==a&&(s=gt(-s));let c=new t(n,s);return c.assertValidity(),c}static fromUncompressedHex(e){let r=sf(e.subarray(1,al+1)),n=sf(e.subarray(al+1,al*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=Sd(e),n=r.length,i=r[0];if(n===al)return this.fromCompressedHex(r);if(n===TR&&(i===2||i===3))return this.fromCompressedHex(r);if(n===RR&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${TR} compressed bytes or ${RR} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(zy(e))}static fromSignature(e,r,n){let{r:i,s}=rxe(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=Bq(Sd(e)),{n:c}=Fn,l=n===2||n===3?i+c:i,h=Ev(l,c),y=gt(-a*h,c),p=gt(s*h,c),E=n&1?"03":"02",I=t.fromHex(E+um(l)),O=t.BASE.multiplyAndAddUnsafe(I,y,p);if(!O)throw new Error("Cannot recover signature: point at infinify");return O.assertValidity(),O}toRawBytes(e=!1){return lm(this.toHex(e))}toHex(e=!1){let r=um(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${um(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!IR(r)||!IR(n))throw new Error(e);let i=gt(n*n),s=Wbe(r);if(gt(i-s)!==Kr)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,gt(-this.y))}double(){return Pa.fromAffine(this).double().toAffine()}add(e){return Pa.fromAffine(this).add(Pa.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Pa.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Pa.fromAffine(this),s=r===Kr||r===mi||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),a=Pa.fromAffine(e).multiplyUnsafe(n),c=s.add(a);return c.equals(Pa.ZERO)?void 0:c.toAffine()}};Vr.Point=ni;ni.BASE=new ni(Fn.Gx,Fn.Gy);ni.ZERO=new ni(Kr,Kr);function Xbe(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}o(Xbe,"sliceDER");function Zbe(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${xv(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:sf(r),left:t.subarray(e+2)}}o(Zbe,"parseDERInt");function rrt(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${xv(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Zbe(t.subarray(2)),{data:n,left:i}=Zbe(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${xv(i)}`);return{r:e,s:n}}o(rrt,"parseDERSignature");var Vy=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?xv(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(OR(i.slice(0,64)),OR(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=rrt(r?e:lm(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!_v(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!_v(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Fn.n>>mi;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,gt(-this.s,Fn.n)):this}toDERRawBytes(){return lm(this.toDERHex())}toDERHex(){let e=Xbe(rS(this.s)),r=Xbe(rS(this.r)),n=e.length/2,i=r.length/2,s=rS(n),a=rS(i);return`30${rS(i+n+4)}02${a}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return lm(this.toCompactHex())}toCompactHex(){return um(this.r)+um(this.s)}};Vr.Signature=Vy;function cm(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(cm,"concatBytes");var nrt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xv(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=nrt[t[r]];return e}o(xv,"bytesToHex");var irt=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function um(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Kr<=t&&t<irt))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}o(um,"numTo32bStr");function vv(t){let e=lm(um(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}o(vv,"numTo32b");function rS(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(rS,"numberToHexUnpadded");function OR(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(OR,"hexToNumber");function lm(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(lm,"hexToBytes");function sf(t){return OR(xv(t))}o(sf,"bytesToNumber");function Sd(t){return t instanceof Uint8Array?Uint8Array.from(t):lm(t)}o(Sd,"ensureBytes");function Jbe(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&_v(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}o(Jbe,"normalizeScalar");function gt(t,e=Fn.P){let r=t%e;return r>=Kr?r:e+r}o(gt,"mod");function Qf(t,e){let{P:r}=Fn,n=t;for(;e-- >Kr;)n*=n,n%=r;return n}o(Qf,"pow2");function ort(t){let{P:e}=Fn,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,h=l*l*t%e,y=Qf(h,nS)*h%e,p=Qf(y,nS)*h%e,E=Qf(p,fm)*l%e,I=Qf(E,n)*E%e,O=Qf(I,i)*I%e,N=Qf(O,a)*O%e,k=Qf(N,c)*N%e,C=Qf(k,a)*O%e,L=Qf(C,nS)*h%e,M=Qf(L,s)*I%e,P=Qf(M,r)*l%e,H=Qf(P,fm);if(H*H%e!==t)throw new Error("Cannot find square root");return H}o(ort,"sqrtMod");function Ev(t,e=Fn.P){if(t===Kr||e<=Kr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=gt(t,e),n=e,i=Kr,s=mi,a=mi,c=Kr;for(;r!==Kr;){let h=n/r,y=n%r,p=i-a*h,E=s-c*h;n=r,r=y,i=a,s=c,a=p,c=E}if(n!==mi)throw new Error("invert: does not exist");return gt(i,e)}o(Ev,"invert");function srt(t,e=Fn.P){let r=new Array(t.length),n=t.reduce((s,a,c)=>a===Kr?s:(r[c]=s,gt(s*a,e)),mi),i=Ev(n,e);return t.reduceRight((s,a,c)=>a===Kr?s:(r[c]=gt(s*r[c],e),gt(s*a,e)),i),r}o(srt,"invertBatch");function art(t){let e=t.length*8-jy*8,r=sf(t);return e>0?r>>BigInt(e):r}o(art,"bits2int_2");function Bq(t,e=!1){let r=art(t);if(e)return r;let{n}=Fn;return r>=n?r-n:r}o(Bq,"truncateHash");var bv,iS,NR=class{static{o(this,"HmacDrbg")}constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Vr.utils.hmacSha256(this.k,...e)}hmacSync(...e){return iS(this.k,...e)}checkSync(){if(typeof iS!="function")throw new oS("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return cm(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return cm(...r)}};function _v(t){return Kr<t&&t<Fn.n}o(_v,"isWithinCurveOrder");function IR(t){return Kr<t&&t<Fn.P}o(IR,"isValidFieldElement");function txe(t,e,r,n=!0){let{n:i}=Fn,s=Bq(t,!0);if(!_v(s))return;let a=Ev(s,i),c=ni.BASE.multiply(s),l=gt(c.x,i);if(l===Kr)return;let h=gt(a*gt(e+r*l,i),i);if(h===Kr)return;let y=new Vy(l,h),p=(c.x===y.r?0:2)|Number(c.y&mi);return n&&y.hasHighS()&&(y=y.normalizeS(),p^=1),{sig:y,recovery:p}}o(txe,"kmdToSig");function zy(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*jy)throw new Error("Expected 32 bytes of private key");e=OR(t)}else if(t instanceof Uint8Array){if(t.length!==jy)throw new Error("Expected 32 bytes of private key");e=sf(t)}else throw new TypeError("Expected valid private key");if(!_v(e))throw new Error("Expected private key: 0 < key < n");return e}o(zy,"normalizePrivateKey");function Pq(t){return t instanceof ni?(t.assertValidity(),t):ni.fromHex(t)}o(Pq,"normalizePublicKey");function rxe(t){if(t instanceof Vy)return t.assertValidity(),t;try{return Vy.fromDER(t)}catch{return Vy.fromCompact(t)}}o(rxe,"normalizeSignature");function crt(t,e=!1){return ni.fromPrivateKey(t).toRawBytes(e)}o(crt,"getPublicKey");Vr.getPublicKey=crt;function frt(t,e,r,n=!1){return ni.fromSignature(t,e,r).toRawBytes(n)}o(frt,"recoverPublicKey");Vr.recoverPublicKey=frt;function Qbe(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===TR||n===RR:r?n===TR*2||n===RR*2:t instanceof ni}o(Qbe,"isProbPub");function urt(t,e,r=!1){if(Qbe(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!Qbe(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=Pq(e);return n.assertValidity(),n.multiply(zy(t)).toRawBytes(r)}o(urt,"getSharedSecret");Vr.getSharedSecret=urt;function nxe(t){let e=t.length>al?t.slice(0,al):t;return sf(e)}o(nxe,"bits2int");function lrt(t){let e=nxe(t),r=gt(e,Fn.n);return ixe(r<Kr?e:r)}o(lrt,"bits2octets");function ixe(t){return vv(t)}o(ixe,"int2octets");function oxe(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=Sd(t),i=zy(e),s=[ixe(i),lrt(n)];if(r!=null){r===!0&&(r=Vr.utils.randomBytes(al));let l=Sd(r);if(l.length!==al)throw new Error(`sign: Expected ${al} bytes of extra data`);s.push(l)}let a=cm(...s),c=nxe(n);return{seed:a,m:c,d:i}}o(oxe,"initSigArgs");function sxe(t,e){let{sig:r,recovery:n}=t,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e),a=i?r.toDERRawBytes():r.toCompactRawBytes();return s?[a,n]:a}o(sxe,"finalizeSig");async function drt(t,e,r={}){let{seed:n,m:i,d:s}=oxe(t,e,r.extraEntropy),a=new NR(exe,jy);await a.reseed(n);let c;for(;!(c=txe(await a.generate(),i,s,r.canonical));)await a.reseed();return sxe(c,r)}o(drt,"sign");Vr.sign=drt;function hrt(t,e,r={}){let{seed:n,m:i,d:s}=oxe(t,e,r.extraEntropy),a=new NR(exe,jy);a.reseedSync(n);let c;for(;!(c=txe(a.generateSync(),i,s,r.canonical));)a.reseedSync();return sxe(c,r)}o(hrt,"signSync");Vr.signSync=hrt;var prt={strict:!0};function mrt(t,e,r,n=prt){let i;try{i=rxe(t),e=Sd(e)}catch{return!1}let{r:s,s:a}=i;if(n.strict&&i.hasHighS())return!1;let c=Bq(e),l;try{l=Pq(r)}catch{return!1}let{n:h}=Fn,y=Ev(a,h),p=gt(c*y,h),E=gt(s*y,h),I=ni.BASE.multiplyAndAddUnsafe(l,p,E);return I?gt(I.x,h)===s:!1}o(mrt,"verify");Vr.verify=mrt;function MR(t){return gt(sf(t),Fn.n)}o(MR,"schnorrChallengeFinalize");var wv=class t{static{o(this,"SchnorrSignature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Sd(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=sf(r.subarray(0,32)),i=sf(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!IR(e)||!_v(r))throw new Error("Invalid signature")}toHex(){return um(this.r)+um(this.s)}toRawBytes(){return lm(this.toHex())}};function grt(t){return ni.fromPrivateKey(t).toRawX()}o(grt,"schnorrGetPublicKey");var CR=class{static{o(this,"InternalSchnorrSignature")}constructor(e,r,n=Vr.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Sd(e);let{x:i,scalar:s}=this.getScalar(zy(r));if(this.px=i,this.d=s,this.rand=Sd(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=ni.fromPrivateKey(e),n=r.hasEvenY()?e:Fn.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return vv(e^sf(r))}finalizeNonce(e){let r=gt(sf(e),Fn.n);if(r===Kr)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:s}=this.getScalar(r);return{R:n,rx:i,k:s}}finalizeSig(e,r,n,i){return new wv(e.x,gt(r+n*i,Fn.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,s=Vr.utils.taggedHash,a=this.initNonce(r,await s(am.aux,i)),{R:c,rx:l,k:h}=this.finalizeNonce(await s(am.nonce,a,n,e)),y=MR(await s(am.challenge,l,n,e)),p=this.finalizeSig(c,h,y,r);return await fxe(p,e,n)||this.error(),p}calcSync(){let{m:e,d:r,px:n,rand:i}=this,s=Vr.utils.taggedHashSync,a=this.initNonce(r,s(am.aux,i)),{R:c,rx:l,k:h}=this.finalizeNonce(s(am.nonce,a,n,e)),y=MR(s(am.challenge,l,n,e)),p=this.finalizeSig(c,h,y,r);return uxe(p,e,n)||this.error(),p}};async function yrt(t,e,r){return new CR(t,e,r).calc()}o(yrt,"schnorrSign");function brt(t,e,r){return new CR(t,e,r).calcSync()}o(brt,"schnorrSignSync");function axe(t,e,r){let n=t instanceof wv,i=n?t:wv.fromHex(t);return n&&i.assertValidity(),{...i,m:Sd(e),P:Pq(r)}}o(axe,"initSchnorrVerify");function cxe(t,e,r,n){let i=ni.BASE.multiplyAndAddUnsafe(e,zy(r),gt(-n,Fn.n));return!(!i||!i.hasEvenY()||i.x!==t)}o(cxe,"finalizeSchnorrVerify");async function fxe(t,e,r){try{let{r:n,s:i,m:s,P:a}=axe(t,e,r),c=MR(await Vr.utils.taggedHash(am.challenge,vv(n),a.toRawX(),s));return cxe(n,a,i,c)}catch{return!1}}o(fxe,"schnorrVerify");function uxe(t,e,r){try{let{r:n,s:i,m:s,P:a}=axe(t,e,r),c=MR(Vr.utils.taggedHashSync(am.challenge,vv(n),a.toRawX(),s));return cxe(n,a,i,c)}catch(n){if(n instanceof oS)throw n;return!1}}o(uxe,"schnorrVerifySync");Vr.schnorr={Signature:wv,getPublicKey:grt,sign:yrt,verify:fxe,signSync:brt,verifySync:uxe};ni.BASE._setWindowSize(8);var of={node:trt,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},am={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},AR={};Vr.utils={bytesToHex:xv,hexToBytes:lm,concatBytes:cm,mod:gt,invert:Ev,isValidPrivateKey(t){try{return zy(t),!0}catch{return!1}},_bigintTo32Bytes:vv,_normalizePrivateKey:zy,hashToPrivateKey:o(t=>{t=Sd(t);let e=jy+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=gt(sf(t),Fn.n-mi)+mi;return vv(r)},"hashToPrivateKey"),randomBytes:o((t=32)=>{if(of.web)return of.web.getRandomValues(new Uint8Array(t));if(of.node){let{randomBytes:e}=of.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>Vr.utils.hashToPrivateKey(Vr.utils.randomBytes(jy+8)),"randomPrivateKey"),precompute(t=8,e=ni.BASE){let r=e===ni.BASE?e:new ni(e.x,e.y);return r._setWindowSize(t),r.multiply(nS),r},sha256:o(async(...t)=>{if(of.web){let e=await of.web.subtle.digest("SHA-256",cm(...t));return new Uint8Array(e)}else if(of.node){let{createHash:e}=of.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},"sha256"),hmacSha256:o(async(t,...e)=>{if(of.web){let r=await of.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=cm(...e),i=await of.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(of.node){let{createHmac:r}=of.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},"hmacSha256"),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:o(async(t,...e)=>{let r=AR[t];if(r===void 0){let n=await Vr.utils.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=cm(n,n),AR[t]=r}return Vr.utils.sha256(r,...e)},"taggedHash"),taggedHashSync:o((t,...e)=>{if(typeof bv!="function")throw new oS("sha256Sync is undefined, you need to set it");let r=AR[t];if(r===void 0){let n=bv(Uint8Array.from(t,i=>i.charCodeAt(0)));r=cm(n,n),AR[t]=r}return bv(r,...e)},"taggedHashSync"),_JacobianPoint:Pa};Object.defineProperties(Vr.utils,{sha256Sync:{configurable:!1,get(){return bv},set(t){bv||(bv=t)}},hmacSha256Sync:{configurable:!1,get(){return iS},set(t){iS||(iS=t)}}})});var Dq=j(La=>{"use strict";m();g();Object.defineProperty(La,"__esModule",{value:!0});La.output=La.exists=La.hash=La.bytes=La.bool=La.number=void 0;function kR(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(kR,"number");La.number=kR;function dxe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}o(dxe,"bool");La.bool=dxe;function Lq(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(Lq,"bytes");La.bytes=Lq;function hxe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");kR(t.outputLen),kR(t.blockLen)}o(hxe,"hash");La.hash=hxe;function pxe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(pxe,"exists");La.exists=pxe;function mxe(t,e){Lq(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(mxe,"output");La.output=mxe;var xrt={number:kR,bool:dxe,bytes:Lq,hash:hxe,exists:pxe,output:mxe};La.default=xrt});var gxe=j(BR=>{"use strict";m();g();Object.defineProperty(BR,"__esModule",{value:!0});BR.crypto=void 0;BR.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var LR=j(Rr=>{"use strict";m();g();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.randomBytes=Rr.wrapXOFConstructorWithOpts=Rr.wrapConstructorWithOpts=Rr.wrapConstructor=Rr.checkOpts=Rr.Hash=Rr.concatBytes=Rr.toBytes=Rr.utf8ToBytes=Rr.asyncLoop=Rr.nextTick=Rr.hexToBytes=Rr.bytesToHex=Rr.isLE=Rr.rotr=Rr.createView=Rr.u32=Rr.u8=void 0;var Uq=gxe(),Hq=o(t=>t instanceof Uint8Array,"u8a"),vrt=o(t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),"u8");Rr.u8=vrt;var _rt=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32");Rr.u32=_rt;var wrt=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");Rr.createView=wrt;var Ert=o((t,e)=>t<<32-e|t>>>e,"rotr");Rr.rotr=Ert;Rr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Rr.isLE)throw new Error("Non little-endian hardware is not supported");var Srt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Art(t){if(!Hq(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Srt[t[r]];return e}o(Art,"bytesToHex");Rr.bytesToHex=Art;function Irt(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}o(Irt,"hexToBytes");Rr.hexToBytes=Irt;var Trt=o(async()=>{},"nextTick");Rr.nextTick=Trt;async function Rrt(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Rr.nextTick)(),n+=s)}}o(Rrt,"asyncLoop");Rr.asyncLoop=Rrt;function yxe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(yxe,"utf8ToBytes");Rr.utf8ToBytes=yxe;function PR(t){if(typeof t=="string"&&(t=yxe(t)),!Hq(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(PR,"toBytes");Rr.toBytes=PR;function Ort(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Hq(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(Ort,"concatBytes");Rr.concatBytes=Ort;var Fq=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};Rr.Hash=Fq;var Nrt=o(t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object,"isPlainObject");function Mrt(t,e){if(e!==void 0&&(typeof e!="object"||!Nrt(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(Mrt,"checkOpts");Rr.checkOpts=Mrt;function Crt(t){let e=o(n=>t().update(PR(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Crt,"wrapConstructor");Rr.wrapConstructor=Crt;function krt(t){let e=o((n,i)=>t(i).update(PR(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(krt,"wrapConstructorWithOpts");Rr.wrapConstructorWithOpts=krt;function Brt(t){let e=o((n,i)=>t(i).update(PR(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Brt,"wrapXOFConstructorWithOpts");Rr.wrapXOFConstructorWithOpts=Brt;function Prt(t=32){if(Uq.crypto&&typeof Uq.crypto.getRandomValues=="function")return Uq.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}o(Prt,"randomBytes");Rr.randomBytes=Prt});var xxe=j(Ky=>{"use strict";m();g();Object.defineProperty(Ky,"__esModule",{value:!0});Ky.hmac=Ky.HMAC=void 0;var DR=Dq(),bxe=LR(),sS=class extends bxe.Hash{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,DR.default.hash(e);let n=(0,bxe.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return DR.default.exists(this),this.iHash.update(e),this}digestInto(e){DR.default.exists(this),DR.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Ky.HMAC=sS;var Lrt=o((t,e,r)=>new sS(t,e).update(r).digest(),"hmac");Ky.hmac=Lrt;Ky.hmac.create=(t,e)=>new sS(t,e)});var vxe=j(UR=>{"use strict";m();g();Object.defineProperty(UR,"__esModule",{value:!0});UR.SHA2=void 0;var qq=Dq(),aS=LR();function Drt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(Drt,"setBigUint64");var Vq=class extends aS.Hash{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,aS.createView)(this.buffer)}update(e){qq.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,aS.toBytes)(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=(0,aS.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){qq.default.exists(this),qq.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let p=a;p<i;p++)r[p]=0;Drt(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,aS.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};UR.SHA2=Vq});var _xe=j(Sv=>{"use strict";m();g();Object.defineProperty(Sv,"__esModule",{value:!0});Sv.sha224=Sv.sha256=void 0;var Urt=vxe(),eu=LR(),Frt=o((t,e,r)=>t&e^~t&r,"Chi"),Hrt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),qrt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hm=new Uint32Array(64),FR=class extends Urt.SHA2{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=dm[0]|0,this.B=dm[1]|0,this.C=dm[2]|0,this.D=dm[3]|0,this.E=dm[4]|0,this.F=dm[5]|0,this.G=dm[6]|0,this.H=dm[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let p=0;p<16;p++,r+=4)hm[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let E=hm[p-15],I=hm[p-2],O=(0,eu.rotr)(E,7)^(0,eu.rotr)(E,18)^E>>>3,N=(0,eu.rotr)(I,17)^(0,eu.rotr)(I,19)^I>>>10;hm[p]=N+hm[p-7]+O+hm[p-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let p=0;p<64;p++){let E=(0,eu.rotr)(c,6)^(0,eu.rotr)(c,11)^(0,eu.rotr)(c,25),I=y+E+Frt(c,l,h)+qrt[p]+hm[p]|0,N=((0,eu.rotr)(n,2)^(0,eu.rotr)(n,13)^(0,eu.rotr)(n,22))+Hrt(n,i,s)|0;y=h,h=l,l=c,c=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){hm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},jq=class extends FR{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Sv.sha256=(0,eu.wrapConstructor)(()=>new FR);Sv.sha224=(0,eu.wrapConstructor)(()=>new jq)});var Xq=j(yo=>{"use strict";m();g();var Vrt=lxe(),jrt=xxe(),wxe=_xe();function zrt(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:o(function(){return t[r]},"get")})}}),e.default=t,Object.freeze(e)}o(zrt,"_interopNamespaceDefault");var vn=zrt(Vrt);vn.utils.hmacSha256Sync=(t,...e)=>jrt.hmac(wxe.sha256,t,vn.utils.concatBytes(...e));vn.utils.sha256Sync=(...t)=>wxe.sha256(vn.utils.concatBytes(...t));var Gq=vn.utils._normalizePrivateKey,Krt=32,Grt=32,zq=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),$rt=32;function Kq(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}o(Kq,"cmpBN32");function cS(t){return!(!(t instanceof Uint8Array)||t.length!==Grt||Kq(t,zq)>=0)}o(cS,"isTweak");function Exe(t){return t instanceof Uint8Array&&t.length===64&&Kq(t.subarray(0,32),zq)<0&&Kq(t.subarray(32,64),zq)<0}o(Exe,"isSignature");function HR(t){return t instanceof Uint8Array&&t.length===Krt}o(HR,"isHash");function Sxe(t){return t===void 0||t instanceof Uint8Array&&t.length===$rt}o(Sxe,"isExtraData");function Axe(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(Axe,"hexToNumber");function Wrt(t){return Axe(vn.utils.bytesToHex(t))}o(Wrt,"bytesToNumber");function $q(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private scalar");e=Axe(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private scalar");e=Wrt(t)}else throw new TypeError("Expected valid private scalar");if(e<0)throw new Error("Expected private scalar >= 0");return e}o($q,"normalizeScalar");var Yrt=o((t,e)=>{let r=Gq(t),n=$q(e),i=vn.utils._bigintTo32Bytes(vn.utils.mod(r+n,vn.CURVE.n));return vn.utils.isValidPrivateKey(i)?i:null},"_privateAdd"),Xrt=o((t,e)=>{let r=Gq(t),n=$q(e),i=vn.utils._bigintTo32Bytes(vn.utils.mod(r-n,vn.CURVE.n));return vn.utils.isValidPrivateKey(i)?i:null},"_privateSub"),Zrt=o(t=>{let e=Gq(t),r=vn.utils._bigintTo32Bytes(vn.CURVE.n-e);return vn.utils.isValidPrivateKey(r)?r:null},"_privateNegate"),Ixe=o((t,e,r)=>{let n=vn.Point.fromHex(t),i=$q(e),s=vn.Point.BASE.multiplyAndAddUnsafe(n,i,1n);if(!s)throw new Error("Tweaked point at infinity");return s.toRawBytes(r)},"_pointAddScalar"),Jrt=o((t,e,r)=>{let n=vn.Point.fromHex(t),i=typeof e=="string"?e:vn.utils.bytesToHex(e),s=BigInt(`0x${i}`);return n.multiply(s).toRawBytes(r)},"_pointMultiply");function fS(t,e){return t===void 0?e!==void 0?Txe(e):!0:!!t}o(fS,"assumeCompression");function Gy(t){try{return t()}catch{return null}}o(Gy,"throwToNull");function Wq(t,e){if(t.length===32!==e)return!1;try{return!!vn.Point.fromHex(t)}catch{return!1}}o(Wq,"_isPoint");function pm(t){return Wq(t,!1)}o(pm,"isPoint");function Txe(t){return Wq(t,!1)&&t.length===33}o(Txe,"isPointCompressed");function mm(t){return vn.utils.isValidPrivateKey(t)}o(mm,"isPrivate");function Yq(t){return Wq(t,!0)}o(Yq,"isXOnlyPoint");function Qrt(t,e){if(!Yq(t))throw new Error("Expected Point");if(!cS(e))throw new Error("Expected Tweak");return Gy(()=>{let r=Ixe(t,e,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}o(Qrt,"xOnlyPointAddTweak");function Rxe(t){if(!pm(t))throw new Error("Expected Point");return t.slice(1,33)}o(Rxe,"xOnlyPointFromPoint");function Oxe(t,e){if(!mm(t))throw new Error("Expected Private");return Gy(()=>vn.getPublicKey(t,fS(e)))}o(Oxe,"pointFromScalar");function ent(t){if(!mm(t))throw new Error("Expected Private");return Rxe(Oxe(t))}o(ent,"xOnlyPointFromScalar");function tnt(t,e){if(!pm(t))throw new Error("Expected Point");return vn.Point.fromHex(t).toRawBytes(fS(e,t))}o(tnt,"pointCompress");function rnt(t,e,r){if(!pm(t))throw new Error("Expected Point");if(!cS(e))throw new Error("Expected Tweak");return Gy(()=>Jrt(t,e,fS(r,t)))}o(rnt,"pointMultiply");function nnt(t,e,r){if(!pm(t)||!pm(e))throw new Error("Expected Point");return Gy(()=>{let n=vn.Point.fromHex(t),i=vn.Point.fromHex(e);return n.equals(i.negate())?null:n.add(i).toRawBytes(fS(r,t))})}o(nnt,"pointAdd");function int(t,e,r){if(!pm(t))throw new Error("Expected Point");if(!cS(e))throw new Error("Expected Tweak");return Gy(()=>Ixe(t,e,fS(r,t)))}o(int,"pointAddScalar");function ont(t,e){if(mm(t)===!1)throw new Error("Expected Private");if(cS(e)===!1)throw new Error("Expected Tweak");return Gy(()=>Yrt(t,e))}o(ont,"privateAdd");function snt(t,e){if(mm(t)===!1)throw new Error("Expected Private");if(cS(e)===!1)throw new Error("Expected Tweak");return Gy(()=>Xrt(t,e))}o(snt,"privateSub");function ant(t){if(mm(t)===!1)throw new Error("Expected Private");return Zrt(t)}o(ant,"privateNegate");function cnt(t,e,r){if(!mm(e))throw new Error("Expected Private");if(!HR(t))throw new Error("Expected Scalar");if(!Sxe(r))throw new Error("Expected Extra Data (32 bytes)");return vn.signSync(t,e,{der:!1,extraEntropy:r})}o(cnt,"sign");function fnt(t,e,r=Buffer.alloc(32,0)){if(!mm(e))throw new Error("Expected Private");if(!HR(t))throw new Error("Expected Scalar");if(!Sxe(r))throw new Error("Expected Extra Data (32 bytes)");return vn.schnorr.signSync(t,e,r)}o(fnt,"signSchnorr");function unt(t,e,r,n){if(!pm(e))throw new Error("Expected Point");if(!Exe(r))throw new Error("Expected Signature");if(!HR(t))throw new Error("Expected Scalar");return vn.verify(r,t,e,{strict:n})}o(unt,"verify");function lnt(t,e,r){if(!Yq(e))throw new Error("Expected Point");if(!Exe(r))throw new Error("Expected Signature");if(!HR(t))throw new Error("Expected Scalar");return vn.schnorr.verifySync(r,t,e)}o(lnt,"verifySchnorr");yo.isPoint=pm;yo.isPointCompressed=Txe;yo.isPrivate=mm;yo.isXOnlyPoint=Yq;yo.pointAdd=nnt;yo.pointAddScalar=int;yo.pointCompress=tnt;yo.pointFromScalar=Oxe;yo.pointMultiply=rnt;yo.privateAdd=ont;yo.privateNegate=ant;yo.privateSub=snt;yo.sign=cnt;yo.signSchnorr=fnt;yo.verify=unt;yo.verifySchnorr=lnt;yo.xOnlyPointAddTweak=Qrt;yo.xOnlyPointFromPoint=Rxe;yo.xOnlyPointFromScalar=ent});var tu=j(ym=>{"use strict";m();g();Object.defineProperty(ym,"__esModule",{value:!0});ym.testnet=ym.regtest=ym.bitcoin=void 0;ym.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};ym.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};ym.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var Jq=j(bm=>{"use strict";m();g();Object.defineProperty(bm,"__esModule",{value:!0});bm.encode=bm.decode=bm.check=void 0;function vnt(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}o(vnt,"check");bm.check=vnt;function _nt(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}o(_nt,"decode");bm.decode=_nt;function wnt(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}o(wnt,"encode");bm.encode=wnt});var VR=j(Av=>{"use strict";m();g();Object.defineProperty(Av,"__esModule",{value:!0});Av.REVERSE_OPS=Av.OPS=void 0;var Qq={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};Av.OPS=Qq;var Lxe={};Av.REVERSE_OPS=Lxe;for(let t of Object.keys(Qq)){let e=Qq[t];Lxe[e]=t}});var Uxe=j(vm=>{"use strict";m();g();Object.defineProperty(vm,"__esModule",{value:!0});vm.decode=vm.encode=vm.encodingLength=void 0;var xm=VR();function Dxe(t){return t<xm.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}o(Dxe,"encodingLength");vm.encodingLength=Dxe;function Ent(t,e,r){let n=Dxe(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(xm.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(xm.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(xm.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}o(Ent,"encode");vm.encode=Ent;function Snt(t,e){let r=t.readUInt8(e),n,i;if(r<xm.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===xm.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===xm.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==xm.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}o(Snt,"decode");vm.decode=Snt});var Fxe=j(Iv=>{"use strict";m();g();Object.defineProperty(Iv,"__esModule",{value:!0});Iv.encode=Iv.decode=void 0;function Ant(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let s=t.readUInt32LE(0),a=t.readUInt8(4);return a&128?-((a&-129)*4294967296+s):a*4294967296+s}let i=0;for(let s=0;s<n;++s)i|=t[s]<<8*s;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}o(Ant,"decode");Iv.decode=Ant;function Int(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}o(Int,"scriptNumSize");function Tnt(t){let e=Math.abs(t),r=Int(e),n=Buffer.allocUnsafe(r),i=t<0;for(let s=0;s<r;++s)n.writeUInt8(e&255,s),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}o(Tnt,"encode");Iv.encode=Tnt});var jR=j((Jor,Hxe)=>{m();g();var lS={Array:o(function(t){return t!=null&&t.constructor===Array},"Array"),Boolean:o(function(t){return typeof t=="boolean"},"Boolean"),Function:o(function(t){return typeof t=="function"},"Function"),Nil:o(function(t){return t==null},"Nil"),Number:o(function(t){return typeof t=="number"},"Number"),Object:o(function(t){return typeof t=="object"},"Object"),String:o(function(t){return typeof t=="string"},"String"),"":function(){return!0}};lS.Null=lS.Nil;for(eV in lS)lS[eV].toJSON=function(t){return t}.bind(null,eV);var eV;Hxe.exports=lS});var nV=j((rsr,jxe)=>{m();g();var $y=jR();function qxe(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}o(qxe,"getTypeName");function tV(t){return $y.Nil(t)?"":qxe(t.constructor)}o(tV,"getValueTypeName");function Rnt(t){return $y.Function(t)?"":$y.String(t)?JSON.stringify(t):t&&$y.Object(t)?"":t}o(Rnt,"getValue");function rV(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}o(rV,"captureStackTrace");function zR(t){return $y.Function(t)?t.toJSON?t.toJSON():qxe(t):$y.Array(t)?"Array":t&&$y.Object(t)?"Object":t!==void 0?t:""}o(zR,"tfJSON");function Vxe(t,e,r){var n=Rnt(e);return"Expected "+zR(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}o(Vxe,"tfErrorString");function Wh(t,e,r){r=r||tV(e),this.message=Vxe(t,e,r),rV(this,Wh),this.__type=t,this.__value=e,this.__valueTypeName=r}o(Wh,"TfTypeError");Wh.prototype=Object.create(Error.prototype);Wh.prototype.constructor=Wh;function Ont(t,e,r,n,i){var s='" of type ';return e==="key"&&(s='" with key type '),Vxe('property "'+zR(r)+s+zR(t),n,i)}o(Ont,"tfPropertyErrorString");function Tv(t,e,r,n,i){t?(i=i||tV(n),this.message=Ont(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',rV(this,Wh),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}o(Tv,"TfPropertyTypeError");Tv.prototype=Object.create(Error.prototype);Tv.prototype.constructor=Wh;function Nnt(t,e){return new Wh(t,{},e)}o(Nnt,"tfCustomError");function Mnt(t,e,r){return t instanceof Tv?(e=e+"."+t.__property,t=new Tv(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof Wh&&(t=new Tv(t.__type,e,r,t.__value,t.__valueTypeName)),rV(t),t}o(Mnt,"tfSubError");jxe.exports={TfTypeError:Wh,TfPropertyTypeError:Tv,tfCustomError:Nnt,tfSubError:Mnt,tfJSON:zR,getValueTypeName:tV}});var $xe=j((ssr,Gxe)=>{m();g();var aV=jR(),Cnt=nV();function zxe(t){return Buffer.isBuffer(t)}o(zxe,"_Buffer");function Kxe(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}o(Kxe,"Hex");function KR(t,e){var r=t.toJSON();function n(i){if(!t(i))return!1;if(i.length===e)return!0;throw Cnt.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+i.length+")")}return o(n,"Length"),n.toJSON=function(){return r},n}o(KR,"_LengthN");var knt=KR.bind(null,aV.Array),Bnt=KR.bind(null,zxe),Pnt=KR.bind(null,Kxe),Lnt=KR.bind(null,aV.String);function Dnt(t,e,r){r=r||aV.Number;function n(i,s){return r(i,s)&&i>t&&i<e}return o(n,"_range"),n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}o(Dnt,"Range");var oV=Math.pow(2,53)-1;function Unt(t){return typeof t=="number"&&isFinite(t)}o(Unt,"Finite");function Fnt(t){return t<<24>>24===t}o(Fnt,"Int8");function Hnt(t){return t<<16>>16===t}o(Hnt,"Int16");function qnt(t){return(t|0)===t}o(qnt,"Int32");function Vnt(t){return typeof t=="number"&&t>=-oV&&t<=oV&&Math.floor(t)===t}o(Vnt,"Int53");function jnt(t){return(t&255)===t}o(jnt,"UInt8");function znt(t){return(t&65535)===t}o(znt,"UInt16");function Knt(t){return t>>>0===t}o(Knt,"UInt32");function Gnt(t){return typeof t=="number"&&t>=0&&t<=oV&&Math.floor(t)===t}o(Gnt,"UInt53");var sV={ArrayN:knt,Buffer:zxe,BufferN:Bnt,Finite:Unt,Hex:Kxe,HexN:Pnt,Int8:Fnt,Int16:Hnt,Int32:qnt,Int53:Vnt,Range:Dnt,StringN:Lnt,UInt8:jnt,UInt16:znt,UInt32:Knt,UInt53:Gnt};for(iV in sV)sV[iV].toJSON=function(t){return t}.bind(null,iV);var iV;Gxe.exports=sV});var Jxe=j((usr,Zxe)=>{m();g();var hS=nV(),ws=jR(),Yh=hS.tfJSON,Yxe=hS.TfTypeError,Xxe=hS.TfPropertyTypeError,dS=hS.tfSubError,$nt=hS.getValueTypeName,Xh={arrayOf:o(function(e,r){e=Ad(e),r=r||{};function n(i,s){return!ws.Array(i)||ws.Nil(i)||r.minLength!==void 0&&i.length<r.minLength||r.maxLength!==void 0&&i.length>r.maxLength||r.length!==void 0&&i.length!==r.length?!1:i.every(function(a,c){try{return Da(e,a,s)}catch(l){throw dS(l,c)}})}return o(n,"_arrayOf"),n.toJSON=function(){var i="["+Yh(e)+"]";return r.length!==void 0?i+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(i+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),i},n},"arrayOf"),maybe:o(function t(e){e=Ad(e);function r(n,i){return ws.Nil(n)||e(n,i,t)}return o(r,"_maybe"),r.toJSON=function(){return"?"+Yh(e)},r},"maybe"),map:o(function(e,r){e=Ad(e),r&&(r=Ad(r));function n(i,s){if(!ws.Object(i)||ws.Nil(i))return!1;for(var a in i){try{r&&Da(r,a,s)}catch(l){throw dS(l,a,"key")}try{var c=i[a];Da(e,c,s)}catch(l){throw dS(l,a)}}return!0}return o(n,"_map"),r?n.toJSON=function(){return"{"+Yh(r)+": "+Yh(e)+"}"}:n.toJSON=function(){return"{"+Yh(e)+"}"},n},"map"),object:o(function(e){var r={};for(var n in e)r[n]=Ad(e[n]);function i(s,a){if(!ws.Object(s)||ws.Nil(s))return!1;var c;try{for(c in r){var l=r[c],h=s[c];Da(l,h,a)}}catch(y){throw dS(y,c)}if(a){for(c in s)if(!r[c])throw new Xxe(void 0,c)}return!0}return o(i,"_object"),i.toJSON=function(){return Yh(r)},i},"object"),anyOf:o(function(){var e=[].slice.call(arguments).map(Ad);function r(n,i){return e.some(function(s){try{return Da(s,n,i)}catch{return!1}})}return o(r,"_anyOf"),r.toJSON=function(){return e.map(Yh).join("|")},r},"anyOf"),allOf:o(function(){var e=[].slice.call(arguments).map(Ad);function r(n,i){return e.every(function(s){try{return Da(s,n,i)}catch{return!1}})}return o(r,"_allOf"),r.toJSON=function(){return e.map(Yh).join(" & ")},r},"allOf"),quacksLike:o(function(e){function r(n){return e===$nt(n)}return o(r,"_quacksLike"),r.toJSON=function(){return e},r},"quacksLike"),tuple:o(function(){var e=[].slice.call(arguments).map(Ad);function r(n,i){return ws.Nil(n)||ws.Nil(n.length)||i&&n.length!==e.length?!1:e.every(function(s,a){try{return Da(s,n[a],i)}catch(c){throw dS(c,a)}})}return o(r,"_tuple"),r.toJSON=function(){return"("+e.map(Yh).join(", ")+")"},r},"tuple"),value:o(function(e){function r(n){return n===e}return o(r,"_value"),r.toJSON=function(){return e},r},"value")};Xh.oneOf=Xh.anyOf;function Ad(t){if(ws.String(t))return t[0]==="?"?Xh.maybe(t.slice(1)):ws[t]||Xh.quacksLike(t);if(t&&ws.Object(t)){if(ws.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return Xh.arrayOf(t[0])}return Xh.object(t)}else if(ws.Function(t))return t;return Xh.value(t)}o(Ad,"compile");function Da(t,e,r,n){if(ws.Function(t)){if(t(e,r))return!0;throw new Yxe(n||t,e)}return Da(Ad(t),e,r)}o(Da,"typeforce");for(Zh in ws)Da[Zh]=ws[Zh];var Zh;for(Zh in Xh)Da[Zh]=Xh[Zh];var Wxe=$xe();for(Zh in Wxe)Da[Zh]=Wxe[Zh];Da.compile=Ad;Da.TfTypeError=Yxe;Da.TfPropertyTypeError=Xxe;Zxe.exports=Da});var Es=j(at=>{"use strict";m();g();Object.defineProperty(at,"__esModule",{value:!0});at.oneOf=at.Null=at.BufferN=at.Function=at.UInt32=at.UInt8=at.tuple=at.maybe=at.Hex=at.Buffer=at.String=at.Boolean=at.Array=at.Number=at.Hash256bit=at.Hash160bit=at.Buffer256bit=at.isTaptree=at.isTapleaf=at.TAPLEAF_VERSION_MASK=at.Network=at.ECPoint=at.Satoshi=at.Signer=at.BIP32Path=at.UInt31=at.isPoint=at.typeforce=void 0;var GR=fi();at.typeforce=Jxe();var Qxe=GR.Buffer.alloc(32,0),eve=GR.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function Wnt(t){if(!GR.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(Qxe)===0||r.compare(eve)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(Qxe)===0||n.compare(eve)>=0?!1:e===4&&t.length===65}o(Wnt,"isPoint");at.isPoint=Wnt;var Ynt=Math.pow(2,31)-1;function Xnt(t){return at.typeforce.UInt32(t)&&t<=Ynt}o(Xnt,"UInt31");at.UInt31=Xnt;function tve(t){return at.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}o(tve,"BIP32Path");at.BIP32Path=tve;tve.toJSON=()=>"BIP32 derivation path";function Znt(t){return(at.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}o(Znt,"Signer");at.Signer=Znt;var Jnt=21*1e14;function Qnt(t){return at.typeforce.UInt53(t)&&t<=Jnt}o(Qnt,"Satoshi");at.Satoshi=Qnt;at.ECPoint=at.typeforce.quacksLike("Point");at.Network=at.typeforce.compile({messagePrefix:at.typeforce.oneOf(at.typeforce.Buffer,at.typeforce.String),bip32:{public:at.typeforce.UInt32,private:at.typeforce.UInt32},pubKeyHash:at.typeforce.UInt8,scriptHash:at.typeforce.UInt8,wif:at.typeforce.UInt8});at.TAPLEAF_VERSION_MASK=254;function rve(t){return!t||!("output"in t)||!GR.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&at.TAPLEAF_VERSION_MASK)===t.version:!0}o(rve,"isTapleaf");at.isTapleaf=rve;function nve(t){return(0,at.Array)(t)?t.length!==2?!1:t.every(e=>nve(e)):rve(t)}o(nve,"isTaptree");at.isTaptree=nve;at.Buffer256bit=at.typeforce.BufferN(32);at.Hash160bit=at.typeforce.BufferN(20);at.Hash256bit=at.typeforce.BufferN(32);at.Number=at.typeforce.Number;at.Array=at.typeforce.Array;at.Boolean=at.typeforce.Boolean;at.String=at.typeforce.String;at.Buffer=at.typeforce.Buffer;at.Hex=at.typeforce.Hex;at.maybe=at.typeforce.maybe;at.tuple=at.typeforce.tuple;at.UInt8=at.typeforce.UInt8;at.UInt32=at.typeforce.UInt32;at.Function=at.typeforce.Function;at.BufferN=at.typeforce.BufferN;at.Null=at.typeforce.Null;at.oneOf=at.typeforce.oneOf});var cve=j(Ov=>{"use strict";m();g();Object.defineProperty(Ov,"__esModule",{value:!0});Ov.encode=Ov.decode=void 0;var{Buffer:Rv}=fi(),ave=Jq(),cV=Es(),{typeforce:eit}=cV,ive=Rv.alloc(1,0);function ove(t){let e=0;for(;t[e]===0;)++e;return e===t.length?ive:(t=t.slice(e),t[0]&128?Rv.concat([ive,t],1+t.length):t)}o(ove,"toDER");function sve(t){t[0]===0&&(t=t.slice(1));let e=Rv.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}o(sve,"fromDER");function tit(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=ave.decode(t.slice(0,-1)),i=sve(n.r),s=sve(n.s);return{signature:Rv.concat([i,s],64),hashType:e}}o(tit,"decode");Ov.decode=tit;function rit(t,e){eit({signature:cV.BufferN(64),hashType:cV.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=Rv.allocUnsafe(1);n.writeUInt8(e,0);let i=ove(t.slice(0,32)),s=ove(t.slice(32,64));return Rv.concat([ave.encode(i,s),n])}o(rit,"encode");Ov.encode=rit});var Ua=j(Hn=>{"use strict";m();g();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.signature=Hn.number=Hn.isCanonicalScriptSignature=Hn.isDefinedHashType=Hn.isCanonicalPubKey=Hn.toStack=Hn.fromASM=Hn.toASM=Hn.decompile=Hn.compile=Hn.countNonPushOnlyOPs=Hn.isPushOnly=Hn.OPS=void 0;var nit=Jq(),xc=VR();Object.defineProperty(Hn,"OPS",{enumerable:!0,get:o(function(){return xc.OPS},"get")});var fV=Uxe(),fve=Fxe(),iit=cve(),Id=Es(),{typeforce:pS}=Id,uve=xc.OPS.OP_RESERVED;function oit(t){return Id.Number(t)&&(t===xc.OPS.OP_0||t>=xc.OPS.OP_1&&t<=xc.OPS.OP_16||t===xc.OPS.OP_1NEGATE)}o(oit,"isOPInt");function lve(t){return Id.Buffer(t)||oit(t)}o(lve,"isPushOnlyChunk");function dve(t){return Id.Array(t)&&t.every(lve)}o(dve,"isPushOnly");Hn.isPushOnly=dve;function sit(t){return t.length-t.filter(lve).length}o(sit,"countNonPushOnlyOPs");Hn.countNonPushOnlyOPs=sit;function $R(t){if(t.length===0)return xc.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return uve+t[0];if(t[0]===129)return xc.OPS.OP_1NEGATE}}o($R,"asMinimalOP");function hve(t){return Buffer.isBuffer(t)}o(hve,"chunksIsBuffer");function ait(t){return Id.Array(t)}o(ait,"chunksIsArray");function WR(t){return Buffer.isBuffer(t)}o(WR,"singleChunkIsBuffer");function pve(t){if(hve(t))return t;pS(Id.Array,t);let e=t.reduce((i,s)=>WR(s)?s.length===1&&$R(s)!==void 0?i+1:i+fV.encodingLength(s.length)+s.length:i+1,0),r=Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(WR(i)){let s=$R(i);if(s!==void 0){r.writeUInt8(s,n),n+=1;return}n+=fV.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}o(pve,"compile");Hn.compile=pve;function uV(t){if(ait(t))return t;pS(Id.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>xc.OPS.OP_0&&n<=xc.OPS.OP_PUSHDATA4){let i=fV.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let s=t.slice(r,r+i.number);r+=i.number;let a=$R(s);a!==void 0?e.push(a):e.push(s)}else e.push(n),r+=1}return e}o(uV,"decompile");Hn.decompile=uV;function cit(t){return hve(t)&&(t=uV(t)),t.map(e=>{if(WR(e)){let r=$R(e);if(r===void 0)return e.toString("hex");e=r}return xc.REVERSE_OPS[e]}).join(" ")}o(cit,"toASM");Hn.toASM=cit;function fit(t){return pS(Id.String,t),pve(t.split(" ").map(e=>xc.OPS[e]!==void 0?xc.OPS[e]:(pS(Id.Hex,e),Buffer.from(e,"hex"))))}o(fit,"fromASM");Hn.fromASM=fit;function uit(t){return t=uV(t),pS(dve,t),t.map(e=>WR(e)?e:e===xc.OPS.OP_0?Buffer.allocUnsafe(0):fve.encode(e-uve))}o(uit,"toStack");Hn.toStack=uit;function lit(t){return Id.isPoint(t)}o(lit,"isCanonicalPubKey");Hn.isCanonicalPubKey=lit;function mve(t){let e=t&-129;return e>0&&e<4}o(mve,"isDefinedHashType");Hn.isDefinedHashType=mve;function dit(t){return!Buffer.isBuffer(t)||!mve(t[t.length-1])?!1:nit.check(t.slice(0,-1))}o(dit,"isCanonicalScriptSignature");Hn.isCanonicalScriptSignature=dit;Hn.number=fve;Hn.signature=iit});var Jh=j(Nv=>{"use strict";m();g();Object.defineProperty(Nv,"__esModule",{value:!0});Nv.value=Nv.prop=void 0;function hit(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}o(hit,"prop");Nv.prop=hit;function pit(t){let e;return()=>(e!==void 0||(e=t()),e)}o(pit,"value");Nv.value=pit});var bve=j(XR=>{"use strict";m();g();Object.defineProperty(XR,"__esModule",{value:!0});XR.p2data=void 0;var mit=tu(),YR=Ua(),Qh=Es(),gve=Jh(),yve=YR.OPS;function git(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(git,"stacksEqual");function yit(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Qh.typeforce)({network:Qh.typeforce.maybe(Qh.typeforce.Object),output:Qh.typeforce.maybe(Qh.typeforce.Buffer),data:Qh.typeforce.maybe(Qh.typeforce.arrayOf(Qh.typeforce.Buffer))},t);let n={name:"embed",network:t.network||mit.bitcoin};if(gve.prop(n,"output",()=>{if(t.data)return YR.compile([yve.OP_RETURN].concat(t.data))}),gve.prop(n,"data",()=>{if(t.output)return YR.decompile(t.output).slice(1)}),e.validate&&t.output){let i=YR.decompile(t.output);if(i[0]!==yve.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(Qh.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!git(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}o(yit,"p2data");XR.p2data=yit});var vve=j(JR=>{"use strict";m();g();Object.defineProperty(JR,"__esModule",{value:!0});JR.p2ms=void 0;var bit=tu(),Mv=Ua(),No=Es(),_m=Jh(),Cv=Mv.OPS,ZR=Cv.OP_RESERVED;function xve(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(xve,"stacksEqual");function xit(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(l){return Mv.isCanonicalScriptSignature(l)||(e.allowIncomplete&&l===Cv.OP_0)!==void 0}o(r,"isAcceptableSignature"),(0,No.typeforce)({network:No.typeforce.maybe(No.typeforce.Object),m:No.typeforce.maybe(No.typeforce.Number),n:No.typeforce.maybe(No.typeforce.Number),output:No.typeforce.maybe(No.typeforce.Buffer),pubkeys:No.typeforce.maybe(No.typeforce.arrayOf(No.isPoint)),signatures:No.typeforce.maybe(No.typeforce.arrayOf(r)),input:No.typeforce.maybe(No.typeforce.Buffer)},t);let i={network:t.network||bit.bitcoin},s=[],a=!1;function c(l){a||(a=!0,s=Mv.decompile(l),i.m=s[0]-ZR,i.n=s[s.length-2]-ZR,i.pubkeys=s.slice(1,-2))}if(o(c,"decode"),_m.prop(i,"output",()=>{if(t.m&&i.n&&t.pubkeys)return Mv.compile([].concat(ZR+t.m,t.pubkeys,ZR+i.n,Cv.OP_CHECKMULTISIG))}),_m.prop(i,"m",()=>{if(i.output)return c(i.output),i.m}),_m.prop(i,"n",()=>{if(i.pubkeys)return i.pubkeys.length}),_m.prop(i,"pubkeys",()=>{if(t.output)return c(t.output),i.pubkeys}),_m.prop(i,"signatures",()=>{if(t.input)return Mv.decompile(t.input).slice(1)}),_m.prop(i,"input",()=>{if(t.signatures)return Mv.compile([Cv.OP_0].concat(t.signatures))}),_m.prop(i,"witness",()=>{if(i.input)return[]}),_m.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(c(t.output),!No.typeforce.Number(s[0]))throw new TypeError("Output is invalid");if(!No.typeforce.Number(s[s.length-2]))throw new TypeError("Output is invalid");if(s[s.length-1]!==Cv.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==s.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(l=>(0,No.isPoint)(l)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!xve(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==Cv.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!xve(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}o(xit,"p2ms");JR.p2ms=xit});var wve=j(QR=>{"use strict";m();g();Object.defineProperty(QR,"__esModule",{value:!0});QR.p2pk=void 0;var vit=tu(),Bv=Ua(),cl=Es(),kv=Jh(),_ve=Bv.OPS;function _it(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,cl.typeforce)({network:cl.typeforce.maybe(cl.typeforce.Object),output:cl.typeforce.maybe(cl.typeforce.Buffer),pubkey:cl.typeforce.maybe(cl.isPoint),signature:cl.typeforce.maybe(Bv.isCanonicalScriptSignature),input:cl.typeforce.maybe(cl.typeforce.Buffer)},t);let r=kv.value(()=>Bv.decompile(t.input)),i={name:"p2pk",network:t.network||vit.bitcoin};if(kv.prop(i,"output",()=>{if(t.pubkey)return Bv.compile([t.pubkey,_ve.OP_CHECKSIG])}),kv.prop(i,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),kv.prop(i,"signature",()=>{if(t.input)return r()[0]}),kv.prop(i,"input",()=>{if(t.signature)return Bv.compile([t.signature])}),kv.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==_ve.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,cl.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!Bv.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}o(_it,"p2pk");QR.p2pk=_it});var Eve=j(e7=>{"use strict";m();g();Object.defineProperty(e7,"__esModule",{value:!0});e7.crypto=void 0;e7.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var r7=j($t=>{"use strict";m();g();Object.defineProperty($t,"__esModule",{value:!0});$t.wrapXOFConstructorWithOpts=$t.wrapConstructorWithOpts=$t.wrapConstructor=$t.Hash=$t.nextTick=$t.swap32IfBE=$t.byteSwapIfBE=$t.swap8IfBE=$t.isLE=void 0;$t.isBytes=Ave;$t.anumber=lV;$t.abytes=Lv;$t.ahash=wit;$t.aexists=Eit;$t.aoutput=Sit;$t.u8=Ait;$t.u32=Iit;$t.clean=Tit;$t.createView=Rit;$t.rotr=Oit;$t.rotl=Nit;$t.byteSwap=hV;$t.byteSwap32=Ive;$t.bytesToHex=Cit;$t.hexToBytes=kit;$t.asyncLoop=Pit;$t.utf8ToBytes=pV;$t.bytesToUtf8=Lit;$t.toBytes=t7;$t.kdfInputToBytes=Dit;$t.concatBytes=Uit;$t.checkOpts=Fit;$t.createHasher=Rve;$t.createOptHasher=Ove;$t.createXOFer=Nve;$t.randomBytes=Hit;var Pv=Eve();function Ave(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(Ave,"isBytes");function lV(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(lV,"anumber");function Lv(t,...e){if(!Ave(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(Lv,"abytes");function wit(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");lV(t.outputLen),lV(t.blockLen)}o(wit,"ahash");function Eit(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(Eit,"aexists");function Sit(t,e){Lv(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(Sit,"aoutput");function Ait(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(Ait,"u8");function Iit(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(Iit,"u32");function Tit(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(Tit,"clean");function Rit(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(Rit,"createView");function Oit(t,e){return t<<32-e|t>>>e}o(Oit,"rotr");function Nit(t,e){return t<<e|t>>>32-e>>>0}o(Nit,"rotl");$t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function hV(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(hV,"byteSwap");$t.swap8IfBE=$t.isLE?t=>t:t=>hV(t);$t.byteSwapIfBE=$t.swap8IfBE;function Ive(t){for(let e=0;e<t.length;e++)t[e]=hV(t[e]);return t}o(Ive,"byteSwap32");$t.swap32IfBE=$t.isLE?t=>t:Ive;var Tve=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Mit=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Cit(t){if(Lv(t),Tve)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Mit[t[r]];return e}o(Cit,"bytesToHex");var e0={_0:48,_9:57,A:65,F:70,a:97,f:102};function Sve(t){if(t>=e0._0&&t<=e0._9)return t-e0._0;if(t>=e0.A&&t<=e0.F)return t-(e0.A-10);if(t>=e0.a&&t<=e0.f)return t-(e0.a-10)}o(Sve,"asciiToBase16");function kit(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Tve)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=Sve(t.charCodeAt(s)),c=Sve(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o(kit,"hexToBytes");var Bit=o(async()=>{},"nextTick");$t.nextTick=Bit;async function Pit(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,$t.nextTick)(),n+=s)}}o(Pit,"asyncLoop");function pV(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(pV,"utf8ToBytes");function Lit(t){return new TextDecoder().decode(t)}o(Lit,"bytesToUtf8");function t7(t){return typeof t=="string"&&(t=pV(t)),Lv(t),t}o(t7,"toBytes");function Dit(t){return typeof t=="string"&&(t=pV(t)),Lv(t),t}o(Dit,"kdfInputToBytes");function Uit(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];Lv(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(Uit,"concatBytes");function Fit(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(Fit,"checkOpts");var dV=class{static{o(this,"Hash")}};$t.Hash=dV;function Rve(t){let e=o(n=>t().update(t7(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Rve,"createHasher");function Ove(t){let e=o((n,i)=>t(i).update(t7(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Ove,"createOptHasher");function Nve(t){let e=o((n,i)=>t(i).update(t7(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Nve,"createXOFer");$t.wrapConstructor=Rve;$t.wrapConstructorWithOpts=Ove;$t.wrapXOFConstructorWithOpts=Nve;function Hit(t=32){if(Pv.crypto&&typeof Pv.crypto.getRandomValues=="function")return Pv.crypto.getRandomValues(new Uint8Array(t));if(Pv.crypto&&typeof Pv.crypto.randomBytes=="function")return Uint8Array.from(Pv.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(Hit,"randomBytes")});var gV=j(Fa=>{"use strict";m();g();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.SHA512_IV=Fa.SHA384_IV=Fa.SHA224_IV=Fa.SHA256_IV=Fa.HashMD=void 0;Fa.setBigUint64=Mve;Fa.Chi=qit;Fa.Maj=Vit;var Td=r7();function Mve(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(Mve,"setBigUint64");function qit(t,e,r){return t&e^~t&r}o(qit,"Chi");function Vit(t,e,r){return t&e^t&r^e&r}o(Vit,"Maj");var mV=class extends Td.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,Td.createView)(this.buffer)}update(e){(0,Td.aexists)(this),e=(0,Td.toBytes)(e),(0,Td.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=(0,Td.createView)(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Td.aexists)(this),(0,Td.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,Td.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let p=a;p<i;p++)r[p]=0;Mve(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,Td.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};Fa.HashMD=mV;Fa.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Fa.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Fa.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Fa.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var bV=j(vc=>{"use strict";m();g();Object.defineProperty(vc,"__esModule",{value:!0});vc.ripemd160=vc.RIPEMD160=vc.md5=vc.MD5=vc.sha1=vc.SHA1=void 0;var Wy=gV(),Ss=r7(),Dv=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),wm=new Uint32Array(80),o7=class extends Wy.HashMD{static{o(this,"SHA1")}constructor(){super(64,20,8,!1),this.A=Dv[0]|0,this.B=Dv[1]|0,this.C=Dv[2]|0,this.D=Dv[3]|0,this.E=Dv[4]|0}get(){let{A:e,B:r,C:n,D:i,E:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0}process(e,r){for(let l=0;l<16;l++,r+=4)wm[l]=e.getUint32(r,!1);for(let l=16;l<80;l++)wm[l]=(0,Ss.rotl)(wm[l-3]^wm[l-8]^wm[l-14]^wm[l-16],1);let{A:n,B:i,C:s,D:a,E:c}=this;for(let l=0;l<80;l++){let h,y;l<20?(h=(0,Wy.Chi)(i,s,a),y=1518500249):l<40?(h=i^s^a,y=1859775393):l<60?(h=(0,Wy.Maj)(i,s,a),y=2400959708):(h=i^s^a,y=3395469782);let p=(0,Ss.rotl)(n,5)+h+c+y+wm[l]|0;c=a,a=s,s=(0,Ss.rotl)(i,30),i=n,n=p}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,this.set(n,i,s,a,c)}roundClean(){(0,Ss.clean)(wm)}destroy(){this.set(0,0,0,0,0),(0,Ss.clean)(this.buffer)}};vc.SHA1=o7;vc.sha1=(0,Ss.createHasher)(()=>new o7);var jit=Math.pow(2,32),zit=Array.from({length:64},(t,e)=>Math.floor(jit*Math.abs(Math.sin(e+1)))),n7=Dv.slice(0,4),yV=new Uint32Array(16),s7=class extends Wy.HashMD{static{o(this,"MD5")}constructor(){super(64,16,8,!0),this.A=n7[0]|0,this.B=n7[1]|0,this.C=n7[2]|0,this.D=n7[3]|0}get(){let{A:e,B:r,C:n,D:i}=this;return[e,r,n,i]}set(e,r,n,i){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0}process(e,r){for(let c=0;c<16;c++,r+=4)yV[c]=e.getUint32(r,!0);let{A:n,B:i,C:s,D:a}=this;for(let c=0;c<64;c++){let l,h,y;c<16?(l=(0,Wy.Chi)(i,s,a),h=c,y=[7,12,17,22]):c<32?(l=(0,Wy.Chi)(a,i,s),h=(5*c+1)%16,y=[5,9,14,20]):c<48?(l=i^s^a,h=(3*c+5)%16,y=[4,11,16,23]):(l=s^(i|~a),h=7*c%16,y=[6,10,15,21]),l=l+n+zit[c]+yV[h],n=a,a=s,s=i,i=i+(0,Ss.rotl)(l,y[c%4])}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,this.set(n,i,s,a)}roundClean(){(0,Ss.clean)(yV)}destroy(){this.set(0,0,0,0),(0,Ss.clean)(this.buffer)}};vc.MD5=s7;vc.md5=(0,Ss.createHasher)(()=>new s7);var Kit=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),kve=Uint8Array.from(new Array(16).fill(0).map((t,e)=>e)),Git=kve.map(t=>(9*t+5)%16),Bve=(()=>{let r=[[kve],[Git]];for(let n=0;n<4;n++)for(let i of r)i.push(i[n].map(s=>Kit[s]));return r})(),Pve=Bve[0],Lve=Bve[1],Dve=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>Uint8Array.from(t)),$it=Pve.map((t,e)=>t.map(r=>Dve[e][r])),Wit=Lve.map((t,e)=>t.map(r=>Dve[e][r])),Yit=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Xit=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function Cve(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}o(Cve,"ripemd_f");var i7=new Uint32Array(16),a7=class extends Wy.HashMD{static{o(this,"RIPEMD160")}constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let I=0;I<16;I++,r+=4)i7[I]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,a=s,c=this.h2|0,l=c,h=this.h3|0,y=h,p=this.h4|0,E=p;for(let I=0;I<5;I++){let O=4-I,N=Yit[I],k=Xit[I],C=Pve[I],L=Lve[I],M=$it[I],P=Wit[I];for(let H=0;H<16;H++){let F=(0,Ss.rotl)(n+Cve(I,s,c,h)+i7[C[H]]+N,M[H])+p|0;n=p,p=h,h=(0,Ss.rotl)(c,10)|0,c=s,s=F}for(let H=0;H<16;H++){let F=(0,Ss.rotl)(i+Cve(O,a,l,y)+i7[L[H]]+k,P[H])+E|0;i=E,E=y,y=(0,Ss.rotl)(l,10)|0,l=a,a=F}}this.set(this.h1+c+y|0,this.h2+h+E|0,this.h3+p+i|0,this.h4+n+a|0,this.h0+s+l|0)}roundClean(){(0,Ss.clean)(i7)}destroy(){this.destroyed=!0,(0,Ss.clean)(this.buffer),this.set(0,0,0,0,0)}};vc.RIPEMD160=a7;vc.ripemd160=(0,Ss.createHasher)(()=>new a7)});var Fve=j(Uv=>{"use strict";m();g();Object.defineProperty(Uv,"__esModule",{value:!0});Uv.ripemd160=Uv.RIPEMD160=void 0;var Uve=bV();Uv.RIPEMD160=Uve.RIPEMD160;Uv.ripemd160=Uve.ripemd160});var qve=j(Fv=>{"use strict";m();g();Object.defineProperty(Fv,"__esModule",{value:!0});Fv.sha1=Fv.SHA1=void 0;var Hve=bV();Fv.SHA1=Hve.SHA1;Fv.sha1=Hve.sha1});var f2e=j(fr=>{"use strict";m();g();Object.defineProperty(fr,"__esModule",{value:!0});fr.toBig=fr.shrSL=fr.shrSH=fr.rotrSL=fr.rotrSH=fr.rotrBL=fr.rotrBH=fr.rotr32L=fr.rotr32H=fr.rotlSL=fr.rotlSH=fr.rotlBL=fr.rotlBH=fr.add5L=fr.add5H=fr.add4L=fr.add4H=fr.add3L=fr.add3H=void 0;fr.add=r2e;fr.fromBig=vV;fr.split=Vve;var c7=BigInt(2**32-1),xV=BigInt(32);function vV(t,e=!1){return e?{h:Number(t&c7),l:Number(t>>xV&c7)}:{h:Number(t>>xV&c7)|0,l:Number(t&c7)|0}}o(vV,"fromBig");function Vve(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=vV(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(Vve,"split");var jve=o((t,e)=>BigInt(t>>>0)<<xV|BigInt(e>>>0),"toBig");fr.toBig=jve;var zve=o((t,e,r)=>t>>>r,"shrSH");fr.shrSH=zve;var Kve=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");fr.shrSL=Kve;var Gve=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");fr.rotrSH=Gve;var $ve=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");fr.rotrSL=$ve;var Wve=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");fr.rotrBH=Wve;var Yve=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");fr.rotrBL=Yve;var Xve=o((t,e)=>e,"rotr32H");fr.rotr32H=Xve;var Zve=o((t,e)=>t,"rotr32L");fr.rotr32L=Zve;var Jve=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");fr.rotlSH=Jve;var Qve=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");fr.rotlSL=Qve;var e2e=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");fr.rotlBH=e2e;var t2e=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");fr.rotlBL=t2e;function r2e(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(r2e,"add");var n2e=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");fr.add3L=n2e;var i2e=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");fr.add3H=i2e;var o2e=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");fr.add4L=o2e;var s2e=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");fr.add4H=s2e;var a2e=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");fr.add5L=a2e;var c2e=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");fr.add5H=c2e;var Zit={fromBig:vV,split:Vve,toBig:jve,shrSH:zve,shrSL:Kve,rotrSH:Gve,rotrSL:$ve,rotrBH:Wve,rotrBL:Yve,rotr32H:Xve,rotr32L:Zve,rotlSH:Jve,rotlSL:Qve,rotlBH:e2e,rotlBL:t2e,add:r2e,add3L:n2e,add3H:i2e,add4L:o2e,add4H:s2e,add5H:c2e,add5L:a2e};fr.default=Zit});var l2e=j(ii=>{"use strict";m();g();Object.defineProperty(ii,"__esModule",{value:!0});ii.sha512_224=ii.sha512_256=ii.sha384=ii.sha512=ii.sha224=ii.sha256=ii.SHA512_256=ii.SHA512_224=ii.SHA384=ii.SHA512=ii.SHA224=ii.SHA256=void 0;var jt=gV(),Or=f2e(),bo=r7(),Jit=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Em=new Uint32Array(64),mS=class extends jt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=jt.SHA256_IV[0]|0,this.B=jt.SHA256_IV[1]|0,this.C=jt.SHA256_IV[2]|0,this.D=jt.SHA256_IV[3]|0,this.E=jt.SHA256_IV[4]|0,this.F=jt.SHA256_IV[5]|0,this.G=jt.SHA256_IV[6]|0,this.H=jt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let p=0;p<16;p++,r+=4)Em[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let E=Em[p-15],I=Em[p-2],O=(0,bo.rotr)(E,7)^(0,bo.rotr)(E,18)^E>>>3,N=(0,bo.rotr)(I,17)^(0,bo.rotr)(I,19)^I>>>10;Em[p]=N+Em[p-7]+O+Em[p-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let p=0;p<64;p++){let E=(0,bo.rotr)(c,6)^(0,bo.rotr)(c,11)^(0,bo.rotr)(c,25),I=y+E+(0,jt.Chi)(c,l,h)+Jit[p]+Em[p]|0,N=((0,bo.rotr)(n,2)^(0,bo.rotr)(n,13)^(0,bo.rotr)(n,22))+(0,jt.Maj)(n,i,s)|0;y=h,h=l,l=c,c=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){(0,bo.clean)(Em)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,bo.clean)(this.buffer)}};ii.SHA256=mS;var f7=class extends mS{static{o(this,"SHA224")}constructor(){super(28),this.A=jt.SHA224_IV[0]|0,this.B=jt.SHA224_IV[1]|0,this.C=jt.SHA224_IV[2]|0,this.D=jt.SHA224_IV[3]|0,this.E=jt.SHA224_IV[4]|0,this.F=jt.SHA224_IV[5]|0,this.G=jt.SHA224_IV[6]|0,this.H=jt.SHA224_IV[7]|0}};ii.SHA224=f7;var u2e=Or.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qit=u2e[0],eot=u2e[1],Sm=new Uint32Array(80),Am=new Uint32Array(80),Yy=class extends jt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=jt.SHA512_IV[0]|0,this.Al=jt.SHA512_IV[1]|0,this.Bh=jt.SHA512_IV[2]|0,this.Bl=jt.SHA512_IV[3]|0,this.Ch=jt.SHA512_IV[4]|0,this.Cl=jt.SHA512_IV[5]|0,this.Dh=jt.SHA512_IV[6]|0,this.Dl=jt.SHA512_IV[7]|0,this.Eh=jt.SHA512_IV[8]|0,this.El=jt.SHA512_IV[9]|0,this.Fh=jt.SHA512_IV[10]|0,this.Fl=jt.SHA512_IV[11]|0,this.Gh=jt.SHA512_IV[12]|0,this.Gl=jt.SHA512_IV[13]|0,this.Hh=jt.SHA512_IV[14]|0,this.Hl=jt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:p,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k]}set(e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=p|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)Sm[M]=e.getUint32(r),Am[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let P=Sm[M-15]|0,H=Am[M-15]|0,F=Or.rotrSH(P,H,1)^Or.rotrSH(P,H,8)^Or.shrSH(P,H,7),J=Or.rotrSL(P,H,1)^Or.rotrSL(P,H,8)^Or.shrSL(P,H,7),W=Sm[M-2]|0,X=Am[M-2]|0,S=Or.rotrSH(W,X,19)^Or.rotrBH(W,X,61)^Or.shrSH(W,X,6),f=Or.rotrSL(W,X,19)^Or.rotrBL(W,X,61)^Or.shrSL(W,X,6),d=Or.add4L(J,f,Am[M-7],Am[M-16]),b=Or.add4H(d,F,S,Sm[M-7],Sm[M-16]);Sm[M]=b|0,Am[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:p,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let P=Or.rotrSH(p,E,14)^Or.rotrSH(p,E,18)^Or.rotrBH(p,E,41),H=Or.rotrSL(p,E,14)^Or.rotrSL(p,E,18)^Or.rotrBL(p,E,41),F=p&I^~p&N,J=E&O^~E&k,W=Or.add5L(L,H,J,eot[M],Am[M]),X=Or.add5H(W,C,P,F,Qit[M],Sm[M]),S=W|0,f=Or.rotrSH(n,i,28)^Or.rotrBH(n,i,34)^Or.rotrBH(n,i,39),d=Or.rotrSL(n,i,28)^Or.rotrBL(n,i,34)^Or.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=p|0,O=E|0,{h:p,l:E}=Or.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=Or.add3L(S,d,x);n=Or.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Or.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Or.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=Or.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=Or.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:p,l:E}=Or.add(this.Eh|0,this.El|0,p|0,E|0),{h:I,l:O}=Or.add(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=Or.add(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=Or.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,c,l,h,y,p,E,I,O,N,k,C,L)}roundClean(){(0,bo.clean)(Sm,Am)}destroy(){(0,bo.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};ii.SHA512=Yy;var u7=class extends Yy{static{o(this,"SHA384")}constructor(){super(48),this.Ah=jt.SHA384_IV[0]|0,this.Al=jt.SHA384_IV[1]|0,this.Bh=jt.SHA384_IV[2]|0,this.Bl=jt.SHA384_IV[3]|0,this.Ch=jt.SHA384_IV[4]|0,this.Cl=jt.SHA384_IV[5]|0,this.Dh=jt.SHA384_IV[6]|0,this.Dl=jt.SHA384_IV[7]|0,this.Eh=jt.SHA384_IV[8]|0,this.El=jt.SHA384_IV[9]|0,this.Fh=jt.SHA384_IV[10]|0,this.Fl=jt.SHA384_IV[11]|0,this.Gh=jt.SHA384_IV[12]|0,this.Gl=jt.SHA384_IV[13]|0,this.Hh=jt.SHA384_IV[14]|0,this.Hl=jt.SHA384_IV[15]|0}};ii.SHA384=u7;var da=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),ha=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),l7=class extends Yy{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=da[0]|0,this.Al=da[1]|0,this.Bh=da[2]|0,this.Bl=da[3]|0,this.Ch=da[4]|0,this.Cl=da[5]|0,this.Dh=da[6]|0,this.Dl=da[7]|0,this.Eh=da[8]|0,this.El=da[9]|0,this.Fh=da[10]|0,this.Fl=da[11]|0,this.Gh=da[12]|0,this.Gl=da[13]|0,this.Hh=da[14]|0,this.Hl=da[15]|0}};ii.SHA512_224=l7;var d7=class extends Yy{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=ha[0]|0,this.Al=ha[1]|0,this.Bh=ha[2]|0,this.Bl=ha[3]|0,this.Ch=ha[4]|0,this.Cl=ha[5]|0,this.Dh=ha[6]|0,this.Dl=ha[7]|0,this.Eh=ha[8]|0,this.El=ha[9]|0,this.Fh=ha[10]|0,this.Fl=ha[11]|0,this.Gh=ha[12]|0,this.Gl=ha[13]|0,this.Hh=ha[14]|0,this.Hl=ha[15]|0}};ii.SHA512_256=d7;ii.sha256=(0,bo.createHasher)(()=>new mS);ii.sha224=(0,bo.createHasher)(()=>new f7);ii.sha512=(0,bo.createHasher)(()=>new Yy);ii.sha384=(0,bo.createHasher)(()=>new u7);ii.sha512_256=(0,bo.createHasher)(()=>new d7);ii.sha512_224=(0,bo.createHasher)(()=>new l7)});var d2e=j(Rd=>{"use strict";m();g();Object.defineProperty(Rd,"__esModule",{value:!0});Rd.sha224=Rd.SHA224=Rd.sha256=Rd.SHA256=void 0;var h7=l2e();Rd.SHA256=h7.SHA256;Rd.sha256=h7.sha256;Rd.SHA224=h7.SHA224;Rd.sha224=h7.sha224});var Od=j(Mo=>{"use strict";m();g();Object.defineProperty(Mo,"__esModule",{value:!0});Mo.taggedHash=Mo.TAGGED_HASH_PREFIXES=Mo.TAGS=Mo.hash256=Mo.hash160=Mo.sha256=Mo.sha1=Mo.ripemd160=void 0;var{Buffer:Ha}=fi(),h2e=Fve(),tot=qve(),p7=d2e();function rot(t){return Ha.from((0,h2e.ripemd160)(Uint8Array.from(t)))}o(rot,"ripemd160");Mo.ripemd160=rot;function not(t){return Ha.from((0,tot.sha1)(Uint8Array.from(t)))}o(not,"sha1");Mo.sha1=not;function p2e(t){return Ha.from((0,p7.sha256)(Uint8Array.from(t)))}o(p2e,"sha256");Mo.sha256=p2e;function iot(t){return Ha.from((0,h2e.ripemd160)((0,p7.sha256)(Uint8Array.from(t))))}o(iot,"hash160");Mo.hash160=iot;function oot(t){return Ha.from((0,p7.sha256)((0,p7.sha256)(Uint8Array.from(t))))}o(oot,"hash256");Mo.hash256=oot;Mo.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];Mo.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Ha.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Ha.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Ha.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Ha.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Ha.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Ha.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Ha.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Ha.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Ha.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function sot(t,e){return p2e(Ha.concat([Mo.TAGGED_HASH_PREFIXES[t],e]))}o(sot,"taggedHash");Mo.taggedHash=sot});var g2e=j(m7=>{"use strict";m();g();Object.defineProperty(m7,"__esModule",{value:!0});m7.p2pkh=void 0;var _V=Od(),aot=tu(),Hv=Ua(),qa=Es(),t0=Jh(),m2e=yv(),Im=Hv.OPS;function cot(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,qa.typeforce)({network:qa.typeforce.maybe(qa.typeforce.Object),address:qa.typeforce.maybe(qa.typeforce.String),hash:qa.typeforce.maybe(qa.typeforce.BufferN(20)),output:qa.typeforce.maybe(qa.typeforce.BufferN(25)),pubkey:qa.typeforce.maybe(qa.isPoint),signature:qa.typeforce.maybe(Hv.isCanonicalScriptSignature),input:qa.typeforce.maybe(qa.typeforce.Buffer)},t);let r=t0.value(()=>{let a=Buffer.from(m2e.decode(t.address)),c=a.readUInt8(0),l=a.slice(1);return{version:c,hash:l}}),n=t0.value(()=>Hv.decompile(t.input)),i=t.network||aot.bitcoin,s={name:"p2pkh",network:i};if(t0.prop(s,"address",()=>{if(!s.hash)return;let a=Buffer.allocUnsafe(21);return a.writeUInt8(i.pubKeyHash,0),s.hash.copy(a,1),m2e.encode(a)}),t0.prop(s,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||s.pubkey)return _V.hash160(t.pubkey||s.pubkey)}),t0.prop(s,"output",()=>{if(s.hash)return Hv.compile([Im.OP_DUP,Im.OP_HASH160,s.hash,Im.OP_EQUALVERIFY,Im.OP_CHECKSIG])}),t0.prop(s,"pubkey",()=>{if(t.input)return n()[1]}),t0.prop(s,"signature",()=>{if(t.input)return n()[0]}),t0.prop(s,"input",()=>{if(t.pubkey&&t.signature)return Hv.compile([t.signature,t.pubkey])}),t0.prop(s,"witness",()=>{if(s.input)return[]}),e.validate){let a=Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");a=r().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==Im.OP_DUP||t.output[1]!==Im.OP_HASH160||t.output[2]!==20||t.output[23]!==Im.OP_EQUALVERIFY||t.output[24]!==Im.OP_CHECKSIG)throw new TypeError("Output is invalid");let c=t.output.slice(3,23);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}if(t.pubkey){let c=_V.hash160(t.pubkey);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}if(t.input){let c=n();if(c.length!==2)throw new TypeError("Input is invalid");if(!Hv.isCanonicalScriptSignature(c[0]))throw new TypeError("Input has invalid signature");if(!(0,qa.isPoint)(c[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(c[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(c[1]))throw new TypeError("Pubkey mismatch");let l=_V.hash160(c[1]);if(a.length>0&&!a.equals(l))throw new TypeError("Hash mismatch")}}return Object.assign(s,t)}o(cot,"p2pkh");m7.p2pkh=cot});var x2e=j(g7=>{"use strict";m();g();Object.defineProperty(g7,"__esModule",{value:!0});g7.p2sh=void 0;var y2e=Od(),fot=tu(),Md=Ua(),Ei=Es(),Nd=Jh(),b2e=yv(),gS=Md.OPS;function uot(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(uot,"stacksEqual");function lot(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ei.typeforce)({network:Ei.typeforce.maybe(Ei.typeforce.Object),address:Ei.typeforce.maybe(Ei.typeforce.String),hash:Ei.typeforce.maybe(Ei.typeforce.BufferN(20)),output:Ei.typeforce.maybe(Ei.typeforce.BufferN(23)),redeem:Ei.typeforce.maybe({network:Ei.typeforce.maybe(Ei.typeforce.Object),output:Ei.typeforce.maybe(Ei.typeforce.Buffer),input:Ei.typeforce.maybe(Ei.typeforce.Buffer),witness:Ei.typeforce.maybe(Ei.typeforce.arrayOf(Ei.typeforce.Buffer))}),input:Ei.typeforce.maybe(Ei.typeforce.Buffer),witness:Ei.typeforce.maybe(Ei.typeforce.arrayOf(Ei.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||fot.bitcoin);let n={network:r},i=Nd.value(()=>{let c=Buffer.from(b2e.decode(t.address)),l=c.readUInt8(0),h=c.slice(1);return{version:l,hash:h}}),s=Nd.value(()=>Md.decompile(t.input)),a=Nd.value(()=>{let c=s(),l=c[c.length-1];return{network:r,output:l===gS.OP_FALSE?Buffer.from([]):l,input:Md.compile(c.slice(0,-1)),witness:t.witness||[]}});if(Nd.prop(n,"address",()=>{if(!n.hash)return;let c=Buffer.allocUnsafe(21);return c.writeUInt8(n.network.scriptHash,0),n.hash.copy(c,1),b2e.encode(c)}),Nd.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return y2e.hash160(n.redeem.output)}),Nd.prop(n,"output",()=>{if(n.hash)return Md.compile([gS.OP_HASH160,n.hash,gS.OP_EQUAL])}),Nd.prop(n,"redeem",()=>{if(t.input)return a()}),Nd.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return Md.compile([].concat(Md.decompile(t.redeem.input),t.redeem.output))}),Nd.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Nd.prop(n,"name",()=>{let c=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&c.push(n.redeem.name),c.join("-")}),e.validate){let c=Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");c=i().hash}if(t.hash){if(c.length>0&&!c.equals(t.hash))throw new TypeError("Hash mismatch");c=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==gS.OP_HASH160||t.output[1]!==20||t.output[22]!==gS.OP_EQUAL)throw new TypeError("Output is invalid");let h=t.output.slice(2,22);if(c.length>0&&!c.equals(h))throw new TypeError("Hash mismatch");c=h}let l=o(h=>{if(h.output){let y=Md.decompile(h.output);if(!y||y.length<1)throw new TypeError("Redeem.output too short");if(h.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(Md.countNonPushOnlyOPs(y)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let p=y2e.hash160(h.output);if(c.length>0&&!c.equals(p))throw new TypeError("Hash mismatch");c=p}if(h.input){let y=h.input.length>0,p=h.witness&&h.witness.length>0;if(!y&&!p)throw new TypeError("Empty input");if(y&&p)throw new TypeError("Input and witness provided");if(y){let E=Md.decompile(h.input);if(!Md.isPushOnly(E))throw new TypeError("Non push-only scriptSig")}}},"checkRedeem");if(t.input){let h=s();if(!h||h.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(a().output))throw new TypeError("Input is invalid");l(a())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let h=a();if(t.redeem.output&&!t.redeem.output.equals(h.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(h.input))throw new TypeError("Redeem.input mismatch")}l(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!uot(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}o(lot,"p2sh");g7.p2sh=lot});var _2e=j(x7=>{"use strict";m();g();Object.defineProperty(x7,"__esModule",{value:!0});x7.p2wpkh=void 0;var{Buffer:EV}=fi(),wV=Od(),dot=tu(),b7=Ua(),Co=Es(),Tm=Jh(),y7=hv(),v2e=b7.OPS,hot=EV.alloc(0);function pot(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Co.typeforce)({address:Co.typeforce.maybe(Co.typeforce.String),hash:Co.typeforce.maybe(Co.typeforce.BufferN(20)),input:Co.typeforce.maybe(Co.typeforce.BufferN(0)),network:Co.typeforce.maybe(Co.typeforce.Object),output:Co.typeforce.maybe(Co.typeforce.BufferN(22)),pubkey:Co.typeforce.maybe(Co.isPoint),signature:Co.typeforce.maybe(b7.isCanonicalScriptSignature),witness:Co.typeforce.maybe(Co.typeforce.arrayOf(Co.typeforce.Buffer))},t);let r=Tm.value(()=>{let s=y7.bech32.decode(t.address),a=s.words.shift(),c=y7.bech32.fromWords(s.words);return{version:a,prefix:s.prefix,data:EV.from(c)}}),n=t.network||dot.bitcoin,i={name:"p2wpkh",network:n};if(Tm.prop(i,"address",()=>{if(!i.hash)return;let s=y7.bech32.toWords(i.hash);return s.unshift(0),y7.bech32.encode(n.bech32,s)}),Tm.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return wV.hash160(t.pubkey||i.pubkey)}),Tm.prop(i,"output",()=>{if(i.hash)return b7.compile([v2e.OP_0,i.hash])}),Tm.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),Tm.prop(i,"signature",()=>{if(t.witness)return t.witness[0]}),Tm.prop(i,"input",()=>{if(i.witness)return hot}),Tm.prop(i,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let s=EV.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==v2e.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(s.length>0&&!s.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");s=t.output.slice(2)}if(t.pubkey){let a=wV.hash160(t.pubkey);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");if(s=a,!(0,Co.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!b7.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Co.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let a=wV.hash160(t.witness[1]);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}o(pot,"p2wpkh");x7.p2wpkh=pot});var S2e=j(E7=>{"use strict";m();g();Object.defineProperty(E7,"__esModule",{value:!0});E7.p2wsh=void 0;var{Buffer:w7}=fi(),w2e=Od(),mot=tu(),n0=Ua(),gi=Es(),r0=Jh(),v7=hv(),E2e=n0.OPS,SV=w7.alloc(0);function got(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(got,"stacksEqual");function _7(t){return!!(w7.isBuffer(t)&&t.length===65&&t[0]===4&&(0,gi.isPoint)(t))}o(_7,"chunkHasUncompressedPubkey");function yot(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,gi.typeforce)({network:gi.typeforce.maybe(gi.typeforce.Object),address:gi.typeforce.maybe(gi.typeforce.String),hash:gi.typeforce.maybe(gi.typeforce.BufferN(32)),output:gi.typeforce.maybe(gi.typeforce.BufferN(34)),redeem:gi.typeforce.maybe({input:gi.typeforce.maybe(gi.typeforce.Buffer),network:gi.typeforce.maybe(gi.typeforce.Object),output:gi.typeforce.maybe(gi.typeforce.Buffer),witness:gi.typeforce.maybe(gi.typeforce.arrayOf(gi.typeforce.Buffer))}),input:gi.typeforce.maybe(gi.typeforce.BufferN(0)),witness:gi.typeforce.maybe(gi.typeforce.arrayOf(gi.typeforce.Buffer))},t);let r=r0.value(()=>{let a=v7.bech32.decode(t.address),c=a.words.shift(),l=v7.bech32.fromWords(a.words);return{version:c,prefix:a.prefix,data:w7.from(l)}}),n=r0.value(()=>n0.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||mot.bitcoin);let s={network:i};if(r0.prop(s,"address",()=>{if(!s.hash)return;let a=v7.bech32.toWords(s.hash);return a.unshift(0),v7.bech32.encode(i.bech32,a)}),r0.prop(s,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.redeem&&s.redeem.output)return w2e.sha256(s.redeem.output)}),r0.prop(s,"output",()=>{if(s.hash)return n0.compile([E2e.OP_0,s.hash])}),r0.prop(s,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:SV,witness:t.witness.slice(0,-1)}}),r0.prop(s,"input",()=>{if(s.witness)return SV}),r0.prop(s,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let a=n0.toStack(n());return s.redeem=Object.assign({witness:a},t.redeem),s.redeem.input=SV,[].concat(a,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),r0.prop(s,"name",()=>{let a=["p2wsh"];return s.redeem!==void 0&&s.redeem.name!==void 0&&a.push(s.redeem.name),a.join("-")}),e.validate){let a=w7.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==E2e.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let c=t.output.slice(2);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){let c=n0.decompile(t.redeem.output);if(!c||c.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(n0.countNonPushOnlyOPs(c)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let l=w2e.sha256(t.redeem.output);if(a.length>0&&!a.equals(l))throw new TypeError("Hash mismatch");a=l}if(t.redeem.input&&!n0.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!got(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(_7)||t.redeem.output&&(n0.decompile(t.redeem.output)||[]).some(_7))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let c=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(c))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(_7)||(n0.decompile(c)||[]).some(_7))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(s,t)}o(yot,"p2wsh");E7.p2wsh=yot});var S7=j(qv=>{"use strict";m();g();Object.defineProperty(qv,"__esModule",{value:!0});qv.getEccLib=qv.initEccLib=void 0;var yS={};function bot(t){t?t!==yS.eccLib&&(vot(t),yS.eccLib=t):yS.eccLib=t}o(bot,"initEccLib");qv.initEccLib=bot;function xot(){if(!yS.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return yS.eccLib}o(xot,"getEccLib");qv.getEccLib=xot;var i0=o(t=>Buffer.from(t,"hex"),"h");function vot(t){ru(typeof t.isXOnlyPoint=="function"),ru(t.isXOnlyPoint(i0("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),ru(t.isXOnlyPoint(i0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),ru(t.isXOnlyPoint(i0("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),ru(t.isXOnlyPoint(i0("0000000000000000000000000000000000000000000000000000000000000001"))),ru(!t.isXOnlyPoint(i0("0000000000000000000000000000000000000000000000000000000000000000"))),ru(!t.isXOnlyPoint(i0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),ru(typeof t.xOnlyPointAddTweak=="function"),_ot.forEach(e=>{let r=t.xOnlyPointAddTweak(i0(e.pubkey),i0(e.tweak));e.result===null?ru(r===null):(ru(r!==null),ru(r.parity===e.parity),ru(Buffer.from(r.xOnlyPubkey).equals(i0(e.result))))})}o(vot,"verifyEcc");function ru(t){if(!t)throw new Error("ecc library invalid")}o(ru,"assert");var _ot=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var T2e=j((Kar,I2e)=>{"use strict";m();g();var AV=pr().Buffer,wot=9007199254740991;function IV(t){if(t<0||t>wot||t%1!==0)throw new RangeError("value out of range")}o(IV,"checkUInt53");function bS(t,e,r){if(IV(t),e||(e=AV.allocUnsafe(A2e(t))),!AV.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),bS.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),bS.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),bS.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),bS.bytes=9),e}o(bS,"encode");function xS(t,e){if(!AV.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return xS.bytes=1,r;if(r===253)return xS.bytes=3,t.readUInt16LE(e+1);if(r===254)return xS.bytes=5,t.readUInt32LE(e+1);xS.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return IV(s),s}o(xS,"decode");function A2e(t){return IV(t),t<253?1:t<=65535?3:t<=4294967295?5:9}o(A2e,"encodingLength");I2e.exports={encode:bS,decode:xS,encodingLength:A2e}});var _S=j(pa=>{"use strict";m();g();Object.defineProperty(pa,"__esModule",{value:!0});pa.BufferReader=pa.BufferWriter=pa.cloneBuffer=pa.reverseBuffer=pa.writeUInt64LE=pa.readUInt64LE=pa.varuint=void 0;var Xy=Es(),{typeforce:R2e}=Xy,vS=T2e();pa.varuint=vS;function O2e(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}o(O2e,"verifuint");function N2e(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,O2e(n+r,9007199254740991),n+r}o(N2e,"readUInt64LE");pa.readUInt64LE=N2e;function M2e(t,e,r){return O2e(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}o(M2e,"writeUInt64LE");pa.writeUInt64LE=M2e;function Eot(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}o(Eot,"reverseBuffer");pa.reverseBuffer=Eot;function Sot(t){let e=Buffer.allocUnsafe(t.length);return t.copy(e),e}o(Sot,"cloneBuffer");pa.cloneBuffer=Sot;var TV=class t{static{o(this,"BufferWriter")}static withCapacity(e){return new t(Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,R2e(Xy.tuple(Xy.Buffer,Xy.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=M2e(this.buffer,e,this.offset)}writeVarInt(e){vS.encode(e,this.buffer,this.offset),this.offset+=vS.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};pa.BufferWriter=TV;var RV=class{static{o(this,"BufferReader")}constructor(e,r=0){this.buffer=e,this.offset=r,R2e(Xy.tuple(Xy.Buffer,Xy.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=N2e(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=vS.decode(this.buffer,this.offset);return this.offset+=vS.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};pa.BufferReader=RV});var A7=j(ko=>{"use strict";m();g();Object.defineProperty(ko,"__esModule",{value:!0});ko.tweakKey=ko.tapTweakHash=ko.tapleafHash=ko.findScriptPath=ko.toHashTree=ko.rootHashFromPath=ko.MAX_TAPTREE_DEPTH=ko.LEAF_VERSION_TAPSCRIPT=void 0;var Rm=fi(),Aot=S7(),CV=Od(),C2e=_S(),Iot=Es();ko.LEAF_VERSION_TAPSCRIPT=192;ko.MAX_TAPTREE_DEPTH=128;var Tot=o(t=>"left"in t&&"right"in t,"isHashBranch");function Rot(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let s=t.slice(33+32*i,65+32*i);n.compare(s)<0?n=MV(n,s):n=MV(s,n)}return n}o(Rot,"rootHashFromPath");ko.rootHashFromPath=Rot;function OV(t){if((0,Iot.isTapleaf)(t))return{hash:k2e(t)};let e=[OV(t[0]),OV(t[1])];e.sort((i,s)=>i.hash.compare(s.hash));let[r,n]=e;return{hash:MV(r.hash,n.hash),left:r,right:n}}o(OV,"toHashTree");ko.toHashTree=OV;function NV(t,e){if(Tot(t)){let r=NV(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=NV(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}o(NV,"findScriptPath");ko.findScriptPath=NV;function k2e(t){let e=t.version||ko.LEAF_VERSION_TAPSCRIPT;return CV.taggedHash("TapLeaf",Rm.Buffer.concat([Rm.Buffer.from([e]),Not(t.output)]))}o(k2e,"tapleafHash");ko.tapleafHash=k2e;function B2e(t,e){return CV.taggedHash("TapTweak",Rm.Buffer.concat(e?[t,e]:[t]))}o(B2e,"tapTweakHash");ko.tapTweakHash=B2e;function Oot(t,e){if(!Rm.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=B2e(t,e),n=(0,Aot.getEccLib)().xOnlyPointAddTweak(t,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:Rm.Buffer.from(n.xOnlyPubkey)}}o(Oot,"tweakKey");ko.tweakKey=Oot;function MV(t,e){return CV.taggedHash("TapBranch",Rm.Buffer.concat([t,e]))}o(MV,"tapBranchHash");function Not(t){let e=C2e.varuint.encodingLength(t.length),r=Rm.Buffer.allocUnsafe(e);return C2e.varuint.encode(t.length,r),Rm.Buffer.concat([r,t])}o(Not,"serializeScript")});var U2e=j(R7=>{"use strict";m();g();Object.defineProperty(R7,"__esModule",{value:!0});R7.p2tr=void 0;var I7=fi(),Mot=tu(),kV=Ua(),Dr=Es(),P2e=S7(),_c=A7(),nu=Jh(),T7=hv(),L2e=kV.OPS,D2e=1,Cot=80;function kot(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Dr.typeforce)({address:Dr.typeforce.maybe(Dr.typeforce.String),input:Dr.typeforce.maybe(Dr.typeforce.BufferN(0)),network:Dr.typeforce.maybe(Dr.typeforce.Object),output:Dr.typeforce.maybe(Dr.typeforce.BufferN(34)),internalPubkey:Dr.typeforce.maybe(Dr.typeforce.BufferN(32)),hash:Dr.typeforce.maybe(Dr.typeforce.BufferN(32)),pubkey:Dr.typeforce.maybe(Dr.typeforce.BufferN(32)),signature:Dr.typeforce.maybe(Dr.typeforce.anyOf(Dr.typeforce.BufferN(64),Dr.typeforce.BufferN(65))),witness:Dr.typeforce.maybe(Dr.typeforce.arrayOf(Dr.typeforce.Buffer)),scriptTree:Dr.typeforce.maybe(Dr.isTaptree),redeem:Dr.typeforce.maybe({output:Dr.typeforce.maybe(Dr.typeforce.Buffer),redeemVersion:Dr.typeforce.maybe(Dr.typeforce.Number),witness:Dr.typeforce.maybe(Dr.typeforce.arrayOf(Dr.typeforce.Buffer))}),redeemVersion:Dr.typeforce.maybe(Dr.typeforce.Number)},t);let r=nu.value(()=>{let c=T7.bech32m.decode(t.address),l=c.words.shift(),h=T7.bech32m.fromWords(c.words);return{version:l,prefix:c.prefix,data:I7.Buffer.from(h)}}),n=nu.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===Cot?t.witness.slice(0,-1):t.witness.slice()}),i=nu.value(()=>{if(t.scriptTree)return(0,_c.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),s=t.network||Mot.bitcoin,a={name:"p2tr",network:s};if(nu.prop(a,"address",()=>{if(!a.pubkey)return;let c=T7.bech32m.toWords(a.pubkey);return c.unshift(D2e),T7.bech32m.encode(s.bech32,c)}),nu.prop(a,"hash",()=>{let c=i();if(c)return c.hash;let l=n();if(l&&l.length>1){let h=l[l.length-1],y=h[0]&Dr.TAPLEAF_VERSION_MASK,p=l[l.length-2],E=(0,_c.tapleafHash)({output:p,version:y});return(0,_c.rootHashFromPath)(h,E)}return null}),nu.prop(a,"output",()=>{if(a.pubkey)return kV.compile([L2e.OP_1,a.pubkey])}),nu.prop(a,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:_c.LEAF_VERSION_TAPSCRIPT),nu.prop(a,"redeem",()=>{let c=n();if(!(!c||c.length<2))return{output:c[c.length-2],witness:c.slice(0,-2),redeemVersion:c[c.length-1][0]&Dr.TAPLEAF_VERSION_MASK}}),nu.prop(a,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(a.internalPubkey){let c=(0,_c.tweakKey)(a.internalPubkey,a.hash);if(c)return c.x}}),nu.prop(a,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let c=n();if(c&&c.length>1)return c[c.length-1].slice(1,33)}),nu.prop(a,"signature",()=>{if(t.signature)return t.signature;let c=n();if(!(!c||c.length!==1))return c[0]}),nu.prop(a,"witness",()=>{if(t.witness)return t.witness;let c=i();if(c&&t.redeem&&t.redeem.output&&t.internalPubkey){let l=(0,_c.tapleafHash)({output:t.redeem.output,version:a.redeemVersion}),h=(0,_c.findScriptPath)(c,l);if(!h)return;let y=(0,_c.tweakKey)(t.internalPubkey,c.hash);if(!y)return;let p=I7.Buffer.concat([I7.Buffer.from([a.redeemVersion|y.parity]),t.internalPubkey].concat(h));return[t.redeem.output,p]}if(t.signature)return[t.signature]}),e.validate){let c=I7.Buffer.from([]);if(t.address){if(s&&s.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==D2e)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");c=r().data}if(t.pubkey){if(c.length>0&&!c.equals(t.pubkey))throw new TypeError("Pubkey mismatch");c=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==L2e.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(c.length>0&&!c.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");c=t.output.slice(2)}if(t.internalPubkey){let y=(0,_c.tweakKey)(t.internalPubkey,a.hash);if(c.length>0&&!c.equals(y.x))throw new TypeError("Pubkey mismatch");c=y.x}if(c&&c.length&&!(0,P2e.getEccLib)().isXOnlyPoint(c))throw new TypeError("Invalid pubkey for p2tr");let l=i();if(t.hash&&l&&!t.hash.equals(l.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&l){let y=(0,_c.tapleafHash)({output:t.redeem.output,version:a.redeemVersion});if(!(0,_c.findScriptPath)(l,y))throw new TypeError("Redeem script not in tree")}let h=n();if(t.redeem&&a.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==a.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(kV.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(a.redeem.output&&!t.redeem.output.equals(a.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&a.redeem.witness&&!Bot(t.redeem.witness,a.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(h&&h.length)if(h.length===1){if(t.signature&&!t.signature.equals(h[0]))throw new TypeError("Signature mismatch")}else{let y=h[h.length-1];if(y.length<33)throw new TypeError(`The control-block length is too small. Got ${y.length}, expected min 33.`);if((y.length-33)%32!==0)throw new TypeError(`The control-block length of ${y.length} is incorrect!`);let p=(y.length-33)/32;if(p>128)throw new TypeError(`The script path is too long. Got ${p}, expected max 128.`);let E=y.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(E))throw new TypeError("Internal pubkey mismatch");if(!(0,P2e.getEccLib)().isXOnlyPoint(E))throw new TypeError("Invalid internalPubkey for p2tr witness");let I=y[0]&Dr.TAPLEAF_VERSION_MASK,O=h[h.length-2],N=(0,_c.tapleafHash)({output:O,version:I}),k=(0,_c.rootHashFromPath)(y,N),C=(0,_c.tweakKey)(E,k);if(!C)throw new TypeError("Invalid outputKey for p2tr witness");if(c.length&&!c.equals(C.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(C.parity!==(y[0]&1))throw new Error("Incorrect parity")}}return Object.assign(a,t)}o(kot,"p2tr");R7.p2tr=kot;function Bot(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(Bot,"stacksEqual")});var Vv=j(ns=>{"use strict";m();g();Object.defineProperty(ns,"__esModule",{value:!0});ns.p2tr=ns.p2wsh=ns.p2wpkh=ns.p2sh=ns.p2pkh=ns.p2pk=ns.p2ms=ns.embed=void 0;var Pot=bve();Object.defineProperty(ns,"embed",{enumerable:!0,get:o(function(){return Pot.p2data},"get")});var Lot=vve();Object.defineProperty(ns,"p2ms",{enumerable:!0,get:o(function(){return Lot.p2ms},"get")});var Dot=wve();Object.defineProperty(ns,"p2pk",{enumerable:!0,get:o(function(){return Dot.p2pk},"get")});var Uot=g2e();Object.defineProperty(ns,"p2pkh",{enumerable:!0,get:o(function(){return Uot.p2pkh},"get")});var Fot=x2e();Object.defineProperty(ns,"p2sh",{enumerable:!0,get:o(function(){return Fot.p2sh},"get")});var Hot=_2e();Object.defineProperty(ns,"p2wpkh",{enumerable:!0,get:o(function(){return Hot.p2wpkh},"get")});var qot=S2e();Object.defineProperty(ns,"p2wsh",{enumerable:!0,get:o(function(){return qot.p2wsh},"get")});var Vot=U2e();Object.defineProperty(ns,"p2tr",{enumerable:!0,get:o(function(){return Vot.p2tr},"get")})});var BV=j(wc=>{"use strict";m();g();Object.defineProperty(wc,"__esModule",{value:!0});wc.toOutputScript=wc.fromOutputScript=wc.toBech32=wc.toBase58Check=wc.fromBech32=wc.fromBase58Check=void 0;var F2e=tu(),Cd=Vv(),H2e=Ua(),O7=Es(),jv=hv(),q2e=yv(),V2e=40,j2e=2,z2e=16,K2e=2,G2e=80,$2e="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function jot(t,e){let r=t.slice(2);if(r.length<j2e||r.length>V2e)throw new TypeError("Invalid program length for segwit address");let n=t[0]-G2e;if(n<K2e||n>z2e)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn($2e),X2e(r,n,e.bech32)}o(jot,"_toFutureSegwitAddress");function W2e(t){let e=Buffer.from(q2e.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}o(W2e,"fromBase58Check");wc.fromBase58Check=W2e;function Y2e(t){let e,r;try{e=jv.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=jv.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=jv.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:Buffer.from(n)}}o(Y2e,"fromBech32");wc.fromBech32=Y2e;function zot(t,e){(0,O7.typeforce)((0,O7.tuple)(O7.Hash160bit,O7.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),q2e.encode(r)}o(zot,"toBase58Check");wc.toBase58Check=zot;function X2e(t,e,r){let n=jv.bech32.toWords(t);return n.unshift(e),e===0?jv.bech32.encode(r,n):jv.bech32m.encode(r,n)}o(X2e,"toBech32");wc.toBech32=X2e;function Kot(t,e){e=e||F2e.bitcoin;try{return Cd.p2pkh({output:t,network:e}).address}catch{}try{return Cd.p2sh({output:t,network:e}).address}catch{}try{return Cd.p2wpkh({output:t,network:e}).address}catch{}try{return Cd.p2wsh({output:t,network:e}).address}catch{}try{return Cd.p2tr({output:t,network:e}).address}catch{}try{return jot(t,e)}catch{}throw new Error(H2e.toASM(t)+" has no matching Address")}o(Kot,"fromOutputScript");wc.fromOutputScript=Kot;function Got(t,e){e=e||F2e.bitcoin;let r,n;try{r=W2e(t)}catch{}if(r){if(r.version===e.pubKeyHash)return Cd.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return Cd.p2sh({hash:r.hash}).output}else{try{n=Y2e(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return Cd.p2wpkh({hash:n.data}).output;if(n.data.length===32)return Cd.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return Cd.p2tr({pubkey:n.data}).output}else if(n.version>=K2e&&n.version<=z2e&&n.data.length>=j2e&&n.data.length<=V2e)return console.warn($2e),H2e.compile([n.version+G2e,n.data])}}throw new Error(t+" has no matching Script")}o(Got,"toOutputScript");wc.toOutputScript=Got});var Z2e=j(N7=>{"use strict";m();g();Object.defineProperty(N7,"__esModule",{value:!0});N7.fastMerkleRoot=void 0;function $ot(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let r=t.length,n=t.concat();for(;r>1;){let i=0;for(let s=0;s<r;s+=2,++i){let a=n[s],c=s+1===r?a:n[s+1],l=Buffer.concat([a,c]);n[i]=e(l)}r=i}return n[0]}o($ot,"fastMerkleRoot");N7.fastMerkleRoot=$ot});var zv=j(M7=>{"use strict";m();g();Object.defineProperty(M7,"__esModule",{value:!0});M7.Transaction=void 0;var{Buffer:ma}=fi(),xo=_S(),Va=Od(),J2e=Ua(),Wot=Ua(),on=Es(),{typeforce:kd}=on;function Bd(t){let e=t.length;return xo.varuint.encodingLength(e)+e}o(Bd,"varSliceSize");function Yot(t){let e=t.length;return xo.varuint.encodingLength(e)+t.reduce((r,n)=>r+Bd(n),0)}o(Yot,"vectorSize");var Om=ma.allocUnsafe(0),Q2e=[],PV=ma.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),e_e=ma.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),Xot=ma.from("ffffffffffffffff","hex"),Zot={script:Om,valueBuffer:Xot};function Jot(t){return t.value!==void 0}o(Jot,"isOutput");var af=class t{static{o(this,"Transaction")}constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new xo.BufferReader(e),i=new t;i.version=n.readInt32();let s=n.readUInt8(),a=n.readUInt8(),c=!1;s===t.ADVANCED_TRANSACTION_MARKER&&a===t.ADVANCED_TRANSACTION_FLAG?c=!0:n.offset-=2;let l=n.readVarInt();for(let y=0;y<l;++y)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:Q2e});let h=n.readVarInt();for(let y=0;y<h;++y)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(c){for(let y=0;y<l;++y)i.ins[y].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return t.fromBuffer(ma.from(e,"hex"),!1)}static isCoinbaseHash(e){kd(on.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&t.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return kd(on.tuple(on.Hash256bit,on.UInt32,on.maybe(on.UInt32),on.maybe(on.Buffer)),arguments),on.Null(n)&&(n=t.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||Om,sequence:n,witness:Q2e})-1}addOutput(e,r){return kd(on.tuple(on.Buffer,on.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+xo.varuint.encodingLength(this.ins.length)+xo.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+Bd(i.script),0)+this.outs.reduce((n,i)=>n+8+Bd(i.script),0)+(r?this.ins.reduce((n,i)=>n+Yot(i.witness),0):0)}clone(){let e=new t;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(kd(on.tuple(on.UInt32,on.Buffer,on.Number),arguments),e>=this.ins.length)return e_e;let i=J2e.compile(J2e.decompile(r).filter(c=>c!==Wot.OPS.OP_CODESEPARATOR)),s=this.clone();if((n&31)===t.SIGHASH_NONE)s.outs=[],s.ins.forEach((c,l)=>{l!==e&&(c.sequence=0)});else if((n&31)===t.SIGHASH_SINGLE){if(e>=this.outs.length)return e_e;s.outs.length=e+1;for(let c=0;c<e;c++)s.outs[c]=Zot;s.ins.forEach((c,l)=>{l!==e&&(c.sequence=0)})}n&t.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[e]],s.ins[0].script=i):(s.ins.forEach(c=>{c.script=Om}),s.ins[e].script=i);let a=ma.allocUnsafe(s.byteLength(!1)+4);return a.writeInt32LE(n,a.length-4),s.__toBuffer(a,0,!1),Va.hash256(a)}hashForWitnessV1(e,r,n,i,s,a){if(kd(on.tuple(on.UInt32,kd.arrayOf(on.Buffer),kd.arrayOf(on.Satoshi),on.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let c=i===t.SIGHASH_DEFAULT?t.SIGHASH_ALL:i&t.SIGHASH_OUTPUT_MASK,h=(i&t.SIGHASH_INPUT_MASK)===t.SIGHASH_ANYONECANPAY,y=c===t.SIGHASH_NONE,p=c===t.SIGHASH_SINGLE,E=Om,I=Om,O=Om,N=Om,k=Om;if(!h){let P=xo.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(H=>{P.writeSlice(H.hash),P.writeUInt32(H.index)}),E=Va.sha256(P.end()),P=xo.BufferWriter.withCapacity(8*this.ins.length),n.forEach(H=>P.writeUInt64(H)),I=Va.sha256(P.end()),P=xo.BufferWriter.withCapacity(r.map(Bd).reduce((H,F)=>H+F)),r.forEach(H=>P.writeVarSlice(H)),O=Va.sha256(P.end()),P=xo.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(H=>P.writeUInt32(H.sequence)),N=Va.sha256(P.end())}if(y||p){if(p&&e<this.outs.length){let P=this.outs[e],H=xo.BufferWriter.withCapacity(8+Bd(P.script));H.writeUInt64(P.value),H.writeVarSlice(P.script),k=Va.sha256(H.end())}}else{let P=this.outs.map(F=>8+Bd(F.script)).reduce((F,J)=>F+J),H=xo.BufferWriter.withCapacity(P);this.outs.forEach(F=>{H.writeUInt64(F.value),H.writeVarSlice(F.script)}),k=Va.sha256(H.end())}let C=(s?2:0)+(a?1:0),L=174-(h?49:0)-(y?32:0)+(a?32:0)+(s?37:0),M=xo.BufferWriter.withCapacity(L);if(M.writeUInt8(i),M.writeInt32(this.version),M.writeUInt32(this.locktime),M.writeSlice(E),M.writeSlice(I),M.writeSlice(O),M.writeSlice(N),y||p||M.writeSlice(k),M.writeUInt8(C),h){let P=this.ins[e];M.writeSlice(P.hash),M.writeUInt32(P.index),M.writeUInt64(n[e]),M.writeVarSlice(r[e]),M.writeUInt32(P.sequence)}else M.writeUInt32(e);if(a){let P=xo.BufferWriter.withCapacity(Bd(a));P.writeVarSlice(a),M.writeSlice(Va.sha256(P.end()))}return p&&M.writeSlice(k),s&&(M.writeSlice(s),M.writeUInt8(0),M.writeUInt32(4294967295)),Va.taggedHash("TapSighash",ma.concat([ma.from([0]),M.end()]))}hashForWitnessV0(e,r,n,i){kd(on.tuple(on.UInt32,on.Buffer,on.Satoshi,on.UInt32),arguments);let s=ma.from([]),a,c=PV,l=PV,h=PV;if(i&t.SIGHASH_ANYONECANPAY||(s=ma.allocUnsafe(36*this.ins.length),a=new xo.BufferWriter(s,0),this.ins.forEach(p=>{a.writeSlice(p.hash),a.writeUInt32(p.index)}),l=Va.hash256(s)),!(i&t.SIGHASH_ANYONECANPAY)&&(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE&&(s=ma.allocUnsafe(4*this.ins.length),a=new xo.BufferWriter(s,0),this.ins.forEach(p=>{a.writeUInt32(p.sequence)}),h=Va.hash256(s)),(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE){let p=this.outs.reduce((E,I)=>E+8+Bd(I.script),0);s=ma.allocUnsafe(p),a=new xo.BufferWriter(s,0),this.outs.forEach(E=>{a.writeUInt64(E.value),a.writeVarSlice(E.script)}),c=Va.hash256(s)}else if((i&31)===t.SIGHASH_SINGLE&&e<this.outs.length){let p=this.outs[e];s=ma.allocUnsafe(8+Bd(p.script)),a=new xo.BufferWriter(s,0),a.writeUInt64(p.value),a.writeVarSlice(p.script),c=Va.hash256(s)}s=ma.allocUnsafe(156+Bd(r)),a=new xo.BufferWriter(s,0);let y=this.ins[e];return a.writeInt32(this.version),a.writeSlice(l),a.writeSlice(h),a.writeSlice(y.hash),a.writeUInt32(y.index),a.writeVarSlice(r),a.writeUInt64(n),a.writeUInt32(y.sequence),a.writeSlice(c),a.writeUInt32(this.locktime),a.writeUInt32(i),Va.hash256(s)}getHash(e){return e&&this.isCoinbase()?ma.alloc(32,0):Va.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,xo.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){kd(on.tuple(on.Number,on.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){kd(on.tuple(on.Number,[on.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=ma.allocUnsafe(this.byteLength(n)));let i=new xo.BufferWriter(e,r||0);i.writeInt32(this.version);let s=n&&this.hasWitnesses();return s&&(i.writeUInt8(t.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(t.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(a=>{i.writeSlice(a.hash),i.writeUInt32(a.index),i.writeVarSlice(a.script),i.writeUInt32(a.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(a=>{Jot(a)?i.writeUInt64(a.value):i.writeSlice(a.valueBuffer),i.writeVarSlice(a.script)}),s&&this.ins.forEach(a=>{i.writeVector(a.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}};M7.Transaction=af;af.DEFAULT_SEQUENCE=4294967295;af.SIGHASH_DEFAULT=0;af.SIGHASH_ALL=1;af.SIGHASH_NONE=2;af.SIGHASH_SINGLE=3;af.SIGHASH_ANYONECANPAY=128;af.SIGHASH_OUTPUT_MASK=3;af.SIGHASH_INPUT_MASK=128;af.ADVANCED_TRANSACTION_MARKER=0;af.ADVANCED_TRANSACTION_FLAG=1});var i_e=j(C7=>{"use strict";m();g();Object.defineProperty(C7,"__esModule",{value:!0});C7.Block=void 0;var Zy=_S(),LV=Od(),Qot=Z2e(),est=zv(),n_e=Es(),{typeforce:tst}=n_e,DV=new TypeError("Cannot compute merkle root for zero transactions"),t_e=new TypeError("Cannot compute witness commit for non-segwit block"),UV=class t{static{o(this,"Block")}constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new Zy.BufferReader(e),n=new t;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let i=o(()=>{let c=est.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=c.byteLength(),c},"readTransaction"),s=r.readVarInt();n.transactions=[];for(let c=0;c<s;++c){let l=i();n.transactions.push(l)}let a=n.getWitnessCommit();return a&&(n.witnessCommit=a),n}static fromHex(e){return t.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,i=Buffer.alloc(32,0);return i.writeUIntBE(n,29-r,3),i}static calculateMerkleRoot(e,r){if(tst([{getHash:n_e.Function}],e),e.length===0)throw DV;if(r&&!r_e(e))throw t_e;let n=e.map(s=>s.getHash(r)),i=(0,Qot.fastMerkleRoot)(n,LV.hash256);return r?LV.hash256(Buffer.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!r_e(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return rst(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+Zy.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,i)=>n+i.byteLength(r),0)}getHash(){return LV.hash256(this.toBuffer(!0))}getId(){return(0,Zy.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=Buffer.allocUnsafe(this.byteLength(e)),n=new Zy.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(Zy.varuint.encode(this.transactions.length,r,n.offset),n.offset+=Zy.varuint.encode.bytes,this.transactions.forEach(i=>{let s=i.byteLength();i.toBuffer(r,n.offset),n.offset+=s})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=(0,Zy.reverseBuffer)(this.getHash()),r=t.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw DV;let e=t.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw DV;if(!this.hasWitnessCommit())throw t_e;let e=t.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};C7.Block=UV;function r_e(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}o(r_e,"txesHaveWitnessCommit");function rst(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}o(rst,"anyTxHasWitness")});var is=j(fl=>{"use strict";m();g();Object.defineProperty(fl,"__esModule",{value:!0});var nst;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(nst=fl.GlobalTypes||(fl.GlobalTypes={}));fl.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var ist;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(ist=fl.InputTypes||(fl.InputTypes={}));fl.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var ost;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(ost=fl.OutputTypes||(fl.OutputTypes={}));fl.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var s_e=j(Jy=>{"use strict";m();g();Object.defineProperty(Jy,"__esModule",{value:!0});var o_e=is(),sst=o(t=>[...Array(t).keys()],"range");function ast(t){if(t.key[0]!==o_e.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of sst(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),s=!!(i&2147483648),a=i&2147483647;r.path+="/"+a.toString(10)+(s?"'":"")}return r}o(ast,"decode");Jy.decode=ast;function cst(t){let e=Buffer.from([o_e.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let s=4;return n.slice(1).forEach(a=>{let c=a.slice(-1)==="'",l=2147483647&parseInt(c?a.slice(0,-1):a,10);c&&(l+=2147483648),i.writeUInt32LE(l,s),s+=4}),{key:r,value:i}}o(cst,"encode");Jy.encode=cst;Jy.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function fst(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}o(fst,"check");Jy.check=fst;function ust(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}o(ust,"canAddToArray");Jy.canAddToArray=ust});var a_e=j(FV=>{"use strict";m();g();Object.defineProperty(FV,"__esModule",{value:!0});var lst=is();function dst(t){return{key:Buffer.from([lst.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}o(dst,"encode");FV.encode=dst});var f_e=j(Qy=>{"use strict";m();g();Object.defineProperty(Qy,"__esModule",{value:!0});var c_e=is();function hst(t){if(t.key[0]!==c_e.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}o(hst,"decode");Qy.decode=hst;function pst(t){return{key:Buffer.from([c_e.InputTypes.FINAL_SCRIPTSIG]),value:t}}o(pst,"encode");Qy.encode=pst;Qy.expected="Buffer";function mst(t){return Buffer.isBuffer(t)}o(mst,"check");Qy.check=mst;function gst(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}o(gst,"canAdd");Qy.canAdd=gst});var l_e=j(e1=>{"use strict";m();g();Object.defineProperty(e1,"__esModule",{value:!0});var u_e=is();function yst(t){if(t.key[0]!==u_e.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}o(yst,"decode");e1.decode=yst;function bst(t){return{key:Buffer.from([u_e.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}o(bst,"encode");e1.encode=bst;e1.expected="Buffer";function xst(t){return Buffer.isBuffer(t)}o(xst,"check");e1.check=xst;function vst(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}o(vst,"canAdd");e1.canAdd=vst});var h_e=j(t1=>{"use strict";m();g();Object.defineProperty(t1,"__esModule",{value:!0});var d_e=is();function _st(t){if(t.key[0]!==d_e.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}o(_st,"decode");t1.decode=_st;function wst(t){return{key:Buffer.from([d_e.InputTypes.NON_WITNESS_UTXO]),value:t}}o(wst,"encode");t1.encode=wst;t1.expected="Buffer";function Est(t){return Buffer.isBuffer(t)}o(Est,"check");t1.check=Est;function Sst(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}o(Sst,"canAdd");t1.canAdd=Sst});var m_e=j(r1=>{"use strict";m();g();Object.defineProperty(r1,"__esModule",{value:!0});var p_e=is();function Ast(t){if(t.key[0]!==p_e.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}o(Ast,"decode");r1.decode=Ast;function Ist(t){let e=Buffer.from([p_e.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([e,t.pubkey]),value:t.signature}}o(Ist,"encode");r1.encode=Ist;r1.expected="{ pubkey: Buffer; signature: Buffer; }";function Tst(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&Rst(t.signature)}o(Tst,"check");r1.check=Tst;function Rst(t){if(!Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}o(Rst,"isDerSigWithSighash");function Ost(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}o(Ost,"canAddToArray");r1.canAddToArray=Ost});var y_e=j(n1=>{"use strict";m();g();Object.defineProperty(n1,"__esModule",{value:!0});var g_e=is();function Nst(t){if(t.key[0]!==g_e.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}o(Nst,"decode");n1.decode=Nst;function Mst(t){return{key:Buffer.from([g_e.InputTypes.POR_COMMITMENT]),value:Buffer.from(t,"utf8")}}o(Mst,"encode");n1.encode=Mst;n1.expected="string";function Cst(t){return typeof t=="string"}o(Cst,"check");n1.check=Cst;function kst(t,e){return!!t&&!!e&&t.porCommitment===void 0}o(kst,"canAdd");n1.canAdd=kst});var x_e=j(i1=>{"use strict";m();g();Object.defineProperty(i1,"__esModule",{value:!0});var b_e=is();function Bst(t){if(t.key[0]!==b_e.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}o(Bst,"decode");i1.decode=Bst;function Pst(t){let e=Buffer.from([b_e.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}o(Pst,"encode");i1.encode=Pst;i1.expected="number";function Lst(t){return typeof t=="number"}o(Lst,"check");i1.check=Lst;function Dst(t,e){return!!t&&!!e&&t.sighashType===void 0}o(Dst,"canAdd");i1.canAdd=Dst});var w_e=j(o1=>{"use strict";m();g();Object.defineProperty(o1,"__esModule",{value:!0});var v_e=is();function Ust(t){if(t.key[0]!==v_e.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!__e(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}o(Ust,"decode");o1.decode=Ust;function Fst(t){return{key:Buffer.from([v_e.InputTypes.TAP_KEY_SIG]),value:t}}o(Fst,"encode");o1.encode=Fst;o1.expected="Buffer";function __e(t){return Buffer.isBuffer(t)&&(t.length===64||t.length===65)}o(__e,"check");o1.check=__e;function Hst(t,e){return!!t&&!!e&&t.tapKeySig===void 0}o(Hst,"canAdd");o1.canAdd=Hst});var S_e=j(s1=>{"use strict";m();g();Object.defineProperty(s1,"__esModule",{value:!0});var E_e=is();function qst(t){if(t.key[0]!==E_e.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}o(qst,"decode");s1.decode=qst;function Vst(t){let e=Buffer.from([E_e.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([t.leafVersion]);return{key:Buffer.concat([e,t.controlBlock]),value:Buffer.concat([t.script,r])}}o(Vst,"encode");s1.encode=Vst;s1.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function jst(t){return Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer.isBuffer(t.script)}o(jst,"check");s1.check=jst;function zst(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}o(zst,"canAddToArray");s1.canAddToArray=zst});var T_e=j(a1=>{"use strict";m();g();Object.defineProperty(a1,"__esModule",{value:!0});var A_e=is();function Kst(t){if(t.key[0]!==A_e.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!I_e(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}o(Kst,"decode");a1.decode=Kst;function Gst(t){return{key:Buffer.from([A_e.InputTypes.TAP_MERKLE_ROOT]),value:t}}o(Gst,"encode");a1.encode=Gst;a1.expected="Buffer";function I_e(t){return Buffer.isBuffer(t)&&t.length===32}o(I_e,"check");a1.check=I_e;function $st(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}o($st,"canAdd");a1.canAdd=$st});var O_e=j(c1=>{"use strict";m();g();Object.defineProperty(c1,"__esModule",{value:!0});var R_e=is();function Wst(t){if(t.key[0]!==R_e.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}o(Wst,"decode");c1.decode=Wst;function Yst(t){let e=Buffer.from([R_e.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}o(Yst,"encode");c1.encode=Yst;c1.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function Xst(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.leafHash)&&Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}o(Xst,"check");c1.check=Xst;function Zst(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}o(Zst,"canAddToArray");c1.canAddToArray=Zst});var Nm=j(SS=>{"use strict";m();g();Object.defineProperty(SS,"__esModule",{value:!0});var Jst=9007199254740991;function HV(t){if(t<0||t>Jst||t%1!==0)throw new RangeError("value out of range")}o(HV,"checkUInt53");function wS(t,e,r){if(HV(t),e||(e=Buffer.allocUnsafe(N_e(t))),!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(wS,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(wS,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(wS,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(wS,{bytes:9})),e}o(wS,"encode");SS.encode=wS;function ES(t,e){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(ES,{bytes:1}),r;if(r===253)return Object.assign(ES,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(ES,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(ES,{bytes:9});let n=t.readUInt32LE(e+1),s=t.readUInt32LE(e+5)*4294967296+n;return HV(s),s}}o(ES,"decode");SS.decode=ES;function N_e(t){return HV(t),t<253?1:t<=65535?3:t<=4294967295?5:9}o(N_e,"encodingLength");SS.encodingLength=N_e});var B7=j(Mm=>{"use strict";m();g();Object.defineProperty(Mm,"__esModule",{value:!0});var k7=Nm();Mm.range=t=>[...Array(t).keys()];function Qst(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}o(Qst,"reverseBuffer");Mm.reverseBuffer=Qst;function eat(t){let e=t.map(M_e);return e.push(Buffer.from([0])),Buffer.concat(e)}o(eat,"keyValsToBuffer");Mm.keyValsToBuffer=eat;function M_e(t){let e=t.key.length,r=t.value.length,n=k7.encodingLength(e),i=k7.encodingLength(r),s=Buffer.allocUnsafe(n+e+i+r);return k7.encode(e,s,0),t.key.copy(s,n),k7.encode(r,s,n+e),t.value.copy(s,n+e+i),s}o(M_e,"keyValToBuffer");Mm.keyValToBuffer=M_e;function C_e(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}o(C_e,"verifuint");function tat(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,C_e(n+r,9007199254740991),n+r}o(tat,"readUInt64LE");Mm.readUInt64LE=tat;function rat(t,e,r){return C_e(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}o(rat,"writeUInt64LE");Mm.writeUInt64LE=rat});var P_e=j(f1=>{"use strict";m();g();Object.defineProperty(f1,"__esModule",{value:!0});var k_e=is(),B_e=B7(),P7=Nm();function nat(t){if(t.key[0]!==k_e.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=B_e.readUInt64LE(t.value,0),r=8,n=P7.decode(t.value,r);r+=P7.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}o(nat,"decode");f1.decode=nat;function iat(t){let{script:e,value:r}=t,n=P7.encodingLength(e.length),i=Buffer.allocUnsafe(8+n+e.length);return B_e.writeUInt64LE(i,r,0),P7.encode(e.length,i,8),e.copy(i,8+n),{key:Buffer.from([k_e.InputTypes.WITNESS_UTXO]),value:i}}o(iat,"encode");f1.encode=iat;f1.expected="{ script: Buffer; value: number; }";function oat(t){return Buffer.isBuffer(t.script)&&typeof t.value=="number"}o(oat,"check");f1.check=oat;function sat(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}o(sat,"canAdd");f1.canAdd=sat});var D_e=j(u1=>{"use strict";m();g();Object.defineProperty(u1,"__esModule",{value:!0});var L_e=is(),qV=Nm();function aat(t){if(t.key[0]!==L_e.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],s=qV.decode(t.value,e);e+=qV.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}}o(aat,"decode");u1.decode=aat;function cat(t){let e=Buffer.from([L_e.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),qV.encode(n.script.length),n.script]));return{key:e,value:Buffer.concat(r)}}o(cat,"encode");u1.encode=cat;u1.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function fat(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer.isBuffer(e.script))}o(fat,"check");u1.check=fat;function uat(t,e){return!!t&&!!e&&t.tapTree===void 0}o(uat,"canAdd");u1.canAdd=uat});var jV=j(VV=>{"use strict";m();g();Object.defineProperty(VV,"__esModule",{value:!0});var lat=o(t=>[...Array(t).keys()],"range"),dat=o(t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4,"isValidDERKey");function hat(t,e=dat){function r(c){if(c.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+c.key.toString("hex"));let l=c.key.slice(1);if(!e(l))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+c.key.toString("hex"));if(c.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let h={masterFingerprint:c.value.slice(0,4),pubkey:l,path:"m"};for(let y of lat(c.value.length/4-1)){let p=c.value.readUInt32LE(y*4+4),E=!!(p&2147483648),I=p&2147483647;h.path+="/"+I.toString(10)+(E?"'":"")}return h}o(r,"decode");function n(c){let l=Buffer.from([t]),h=Buffer.concat([l,c.pubkey]),y=c.path.split("/"),p=Buffer.allocUnsafe(y.length*4);c.masterFingerprint.copy(p,0);let E=4;return y.slice(1).forEach(I=>{let O=I.slice(-1)==="'",N=2147483647&parseInt(O?I.slice(0,-1):I,10);O&&(N+=2147483648),p.writeUInt32LE(N,E),E+=4}),{key:h,value:p}}o(n,"encode");let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function s(c){return Buffer.isBuffer(c.pubkey)&&Buffer.isBuffer(c.masterFingerprint)&&typeof c.path=="string"&&e(c.pubkey)&&c.masterFingerprint.length===4}o(s,"check");function a(c,l,h){let y=l.pubkey.toString("hex");return h.has(y)?!1:(h.add(y),c.filter(p=>p.pubkey.equals(l.pubkey)).length===0)}return o(a,"canAddToArray"),{decode:r,encode:n,check:s,expected:i,canAddToArray:a}}o(hat,"makeConverter");VV.makeConverter=hat});var U_e=j(zV=>{"use strict";m();g();Object.defineProperty(zV,"__esModule",{value:!0});function pat(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}o(pat,"makeChecker");zV.makeChecker=pat});var F_e=j(KV=>{"use strict";m();g();Object.defineProperty(KV,"__esModule",{value:!0});function mat(t){function e(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+a.key.toString("hex"));return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)}o(i,"check");function s(a,c){return!!a&&!!c&&a.redeemScript===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(mat,"makeConverter");KV.makeConverter=mat});var H_e=j(GV=>{"use strict";m();g();Object.defineProperty(GV,"__esModule",{value:!0});var L7=Nm(),gat=jV(),yat=o(t=>t.length===32,"isValidBIP340Key");function bat(t){let e=gat.makeConverter(t,yat);function r(a){let c=L7.decode(a.value),l=L7.encodingLength(c),h=e.decode({key:a.key,value:a.value.slice(l+c*32)}),y=new Array(c);for(let p=0,E=l;p<c;p++,E+=32)y[p]=a.value.slice(E,E+32);return Object.assign({},h,{leafHashes:y})}o(r,"decode");function n(a){let c=e.encode(a),l=L7.encodingLength(a.leafHashes.length),h=Buffer.allocUnsafe(l);L7.encode(a.leafHashes.length,h);let y=Buffer.concat([h,...a.leafHashes,c.value]);return Object.assign({},c,{value:y})}o(n,"encode");let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function s(a){return Array.isArray(a.leafHashes)&&a.leafHashes.every(c=>Buffer.isBuffer(c)&&c.length===32)&&e.check(a)}return o(s,"check"),{decode:r,encode:n,check:s,expected:i,canAddToArray:e.canAddToArray}}o(bat,"makeConverter");GV.makeConverter=bat});var q_e=j($V=>{"use strict";m();g();Object.defineProperty($V,"__esModule",{value:!0});function xat(t){function e(a){if(a.key[0]!==t||a.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+a.key.toString("hex"));if(a.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)&&a.length===32}o(i,"check");function s(a,c){return!!a&&!!c&&a.tapInternalKey===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(xat,"makeConverter");$V.makeConverter=xat});var V_e=j(WV=>{"use strict";m();g();Object.defineProperty(WV,"__esModule",{value:!0});function vat(t){function e(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+a.key.toString("hex"));return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)}o(i,"check");function s(a,c){return!!a&&!!c&&a.witnessScript===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(vat,"makeConverter");WV.makeConverter=vat});var D7=j(AS=>{"use strict";m();g();Object.defineProperty(AS,"__esModule",{value:!0});var cf=is(),_at=s_e(),wat=a_e(),Eat=f_e(),Sat=l_e(),Aat=h_e(),Iat=m_e(),Tat=y_e(),Rat=x_e(),Oat=w_e(),Nat=S_e(),Mat=T_e(),Cat=O_e(),kat=P_e(),Bat=D_e(),j_e=jV(),YV=U_e(),z_e=F_e(),K_e=H_e(),G_e=q_e(),$_e=V_e(),Pat={unsignedTx:wat,globalXpub:_at,checkPubkey:YV.makeChecker([])};AS.globals=Pat;var Lat={nonWitnessUtxo:Aat,partialSig:Iat,sighashType:Rat,finalScriptSig:Eat,finalScriptWitness:Sat,porCommitment:Tat,witnessUtxo:kat,bip32Derivation:j_e.makeConverter(cf.InputTypes.BIP32_DERIVATION),redeemScript:z_e.makeConverter(cf.InputTypes.REDEEM_SCRIPT),witnessScript:$_e.makeConverter(cf.InputTypes.WITNESS_SCRIPT),checkPubkey:YV.makeChecker([cf.InputTypes.PARTIAL_SIG,cf.InputTypes.BIP32_DERIVATION]),tapKeySig:Oat,tapScriptSig:Cat,tapLeafScript:Nat,tapBip32Derivation:K_e.makeConverter(cf.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:G_e.makeConverter(cf.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:Mat};AS.inputs=Lat;var Dat={bip32Derivation:j_e.makeConverter(cf.OutputTypes.BIP32_DERIVATION),redeemScript:z_e.makeConverter(cf.OutputTypes.REDEEM_SCRIPT),witnessScript:$_e.makeConverter(cf.OutputTypes.WITNESS_SCRIPT),checkPubkey:YV.makeChecker([cf.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:K_e.makeConverter(cf.OutputTypes.TAP_BIP32_DERIVATION),tapTree:Bat,tapInternalKey:G_e.makeConverter(cf.OutputTypes.TAP_INTERNAL_KEY)};AS.outputs=Dat});var X_e=j(IS=>{"use strict";m();g();Object.defineProperty(IS,"__esModule",{value:!0});var yi=D7(),U7=B7(),W_e=Nm(),xr=is();function Uat(t,e){let r=0;function n(){let k=W_e.decode(t,r);r+=W_e.encodingLength(k);let C=t.slice(r,r+k);return r+=k,C}o(n,"varSlice");function i(){let k=t.readUInt32BE(r);return r+=4,k}o(i,"readUInt32BE");function s(){let k=t.readUInt8(r);return r+=1,k}o(s,"readUInt8");function a(){let k=n(),C=n();return{key:k,value:C}}o(a,"getKeyValue");function c(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let k=t.readUInt8(r)===0;return k&&r++,k}if(o(c,"checkEndOfKeyValPairs"),i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(s()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let l=[],h={};for(;!c();){let k=a(),C=k.key.toString("hex");if(h[C])throw new Error("Format Error: Keys must be unique for global keymap: key "+C);h[C]=1,l.push(k)}let y=l.filter(k=>k.key[0]===xr.GlobalTypes.UNSIGNED_TX);if(y.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let p=e(y[0].value),{inputCount:E,outputCount:I}=p.getInputOutputCounts(),O=[],N=[];for(let k of U7.range(E)){let C={},L=[];for(;!c();){let M=a(),P=M.key.toString("hex");if(C[P])throw new Error("Format Error: Keys must be unique for each input: input index "+k+" key "+P);C[P]=1,L.push(M)}O.push(L)}for(let k of U7.range(I)){let C={},L=[];for(;!c();){let M=a(),P=M.key.toString("hex");if(C[P])throw new Error("Format Error: Keys must be unique for each output: output index "+k+" key "+P);C[P]=1,L.push(M)}N.push(L)}return Y_e(p,{globalMapKeyVals:l,inputKeyVals:O,outputKeyVals:N})}o(Uat,"psbtFromBuffer");IS.psbtFromBuffer=Uat;function As(t,e,r){if(!e.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}o(As,"checkKeyBuffer");IS.checkKeyBuffer=As;function Y_e(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},s=0;for(let y of e)switch(y.key[0]){case xr.GlobalTypes.UNSIGNED_TX:if(As("global",y.key,xr.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case xr.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(yi.globals.globalXpub.decode(y));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(y)}let a=r.length,c=n.length,l=[],h=[];for(let y of U7.range(a)){let p={};for(let E of r[y])switch(yi.inputs.checkPubkey(E),E.key[0]){case xr.InputTypes.NON_WITNESS_UTXO:if(As("input",E.key,xr.InputTypes.NON_WITNESS_UTXO),p.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");p.nonWitnessUtxo=yi.inputs.nonWitnessUtxo.decode(E);break;case xr.InputTypes.WITNESS_UTXO:if(As("input",E.key,xr.InputTypes.WITNESS_UTXO),p.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");p.witnessUtxo=yi.inputs.witnessUtxo.decode(E);break;case xr.InputTypes.PARTIAL_SIG:p.partialSig===void 0&&(p.partialSig=[]),p.partialSig.push(yi.inputs.partialSig.decode(E));break;case xr.InputTypes.SIGHASH_TYPE:if(As("input",E.key,xr.InputTypes.SIGHASH_TYPE),p.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");p.sighashType=yi.inputs.sighashType.decode(E);break;case xr.InputTypes.REDEEM_SCRIPT:if(As("input",E.key,xr.InputTypes.REDEEM_SCRIPT),p.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");p.redeemScript=yi.inputs.redeemScript.decode(E);break;case xr.InputTypes.WITNESS_SCRIPT:if(As("input",E.key,xr.InputTypes.WITNESS_SCRIPT),p.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");p.witnessScript=yi.inputs.witnessScript.decode(E);break;case xr.InputTypes.BIP32_DERIVATION:p.bip32Derivation===void 0&&(p.bip32Derivation=[]),p.bip32Derivation.push(yi.inputs.bip32Derivation.decode(E));break;case xr.InputTypes.FINAL_SCRIPTSIG:As("input",E.key,xr.InputTypes.FINAL_SCRIPTSIG),p.finalScriptSig=yi.inputs.finalScriptSig.decode(E);break;case xr.InputTypes.FINAL_SCRIPTWITNESS:As("input",E.key,xr.InputTypes.FINAL_SCRIPTWITNESS),p.finalScriptWitness=yi.inputs.finalScriptWitness.decode(E);break;case xr.InputTypes.POR_COMMITMENT:As("input",E.key,xr.InputTypes.POR_COMMITMENT),p.porCommitment=yi.inputs.porCommitment.decode(E);break;case xr.InputTypes.TAP_KEY_SIG:As("input",E.key,xr.InputTypes.TAP_KEY_SIG),p.tapKeySig=yi.inputs.tapKeySig.decode(E);break;case xr.InputTypes.TAP_SCRIPT_SIG:p.tapScriptSig===void 0&&(p.tapScriptSig=[]),p.tapScriptSig.push(yi.inputs.tapScriptSig.decode(E));break;case xr.InputTypes.TAP_LEAF_SCRIPT:p.tapLeafScript===void 0&&(p.tapLeafScript=[]),p.tapLeafScript.push(yi.inputs.tapLeafScript.decode(E));break;case xr.InputTypes.TAP_BIP32_DERIVATION:p.tapBip32Derivation===void 0&&(p.tapBip32Derivation=[]),p.tapBip32Derivation.push(yi.inputs.tapBip32Derivation.decode(E));break;case xr.InputTypes.TAP_INTERNAL_KEY:As("input",E.key,xr.InputTypes.TAP_INTERNAL_KEY),p.tapInternalKey=yi.inputs.tapInternalKey.decode(E);break;case xr.InputTypes.TAP_MERKLE_ROOT:As("input",E.key,xr.InputTypes.TAP_MERKLE_ROOT),p.tapMerkleRoot=yi.inputs.tapMerkleRoot.decode(E);break;default:p.unknownKeyVals||(p.unknownKeyVals=[]),p.unknownKeyVals.push(E)}l.push(p)}for(let y of U7.range(c)){let p={};for(let E of n[y])switch(yi.outputs.checkPubkey(E),E.key[0]){case xr.OutputTypes.REDEEM_SCRIPT:if(As("output",E.key,xr.OutputTypes.REDEEM_SCRIPT),p.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");p.redeemScript=yi.outputs.redeemScript.decode(E);break;case xr.OutputTypes.WITNESS_SCRIPT:if(As("output",E.key,xr.OutputTypes.WITNESS_SCRIPT),p.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");p.witnessScript=yi.outputs.witnessScript.decode(E);break;case xr.OutputTypes.BIP32_DERIVATION:p.bip32Derivation===void 0&&(p.bip32Derivation=[]),p.bip32Derivation.push(yi.outputs.bip32Derivation.decode(E));break;case xr.OutputTypes.TAP_INTERNAL_KEY:As("output",E.key,xr.OutputTypes.TAP_INTERNAL_KEY),p.tapInternalKey=yi.outputs.tapInternalKey.decode(E);break;case xr.OutputTypes.TAP_TREE:As("output",E.key,xr.OutputTypes.TAP_TREE),p.tapTree=yi.outputs.tapTree.decode(E);break;case xr.OutputTypes.TAP_BIP32_DERIVATION:p.tapBip32Derivation===void 0&&(p.tapBip32Derivation=[]),p.tapBip32Derivation.push(yi.outputs.tapBip32Derivation.decode(E));break;default:p.unknownKeyVals||(p.unknownKeyVals=[]),p.unknownKeyVals.push(E)}h.push(p)}return{globalMap:i,inputs:l,outputs:h}}o(Y_e,"psbtFromKeyVals");IS.psbtFromKeyVals=Y_e});var Q_e=j(F7=>{"use strict";m();g();Object.defineProperty(F7,"__esModule",{value:!0});var XV=D7(),Z_e=B7();function Fat({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:s}=J_e({globalMap:t,inputs:e,outputs:r}),a=Z_e.keyValsToBuffer(n),c=o(p=>p.length===0?[Buffer.from([0])]:p.map(Z_e.keyValsToBuffer),"keyValsOrEmptyToBuffer"),l=c(i),h=c(s),y=Buffer.allocUnsafe(5);return y.writeUIntBE(482972169471,0,5),Buffer.concat([y,a].concat(l,h))}o(Fat,"psbtToBuffer");F7.psbtToBuffer=Fat;var Hat=o((t,e)=>t.key.compare(e.key),"sortKeyVals");function ZV(t,e){let r=new Set,n=Object.entries(t).reduce((s,[a,c])=>{if(a==="unknownKeyVals")return s;let l=e[a];if(l===void 0)return s;let h=(Array.isArray(c)?c:[c]).map(l.encode);return h.map(p=>p.key.toString("hex")).forEach(p=>{if(r.has(p))throw new Error("Serialize Error: Duplicate key: "+p);r.add(p)}),s.concat(h)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(s=>!r.has(s.key.toString("hex"))):[];return n.concat(i).sort(Hat)}o(ZV,"keyValsFromMap");function J_e({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:ZV(t,XV.globals),inputKeyVals:e.map(n=>ZV(n,XV.inputs)),outputKeyVals:r.map(n=>ZV(n,XV.outputs))}}o(J_e,"psbtToKeyVals");F7.psbtToKeyVals=J_e});var JV=j(H7=>{"use strict";m();g();function ewe(t){for(var e in t)H7.hasOwnProperty(e)||(H7[e]=t[e])}o(ewe,"__export");Object.defineProperty(H7,"__esModule",{value:!0});ewe(X_e());ewe(Q_e())});var rwe=j(tj=>{"use strict";m();g();Object.defineProperty(tj,"__esModule",{value:!0});var QV=JV();function qat(t){let e=t[0],r=QV.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=twe(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let s=Kv(r.globalKeyVals),a=r.inputKeyVals.map(Kv),c=r.outputKeyVals.map(Kv);for(let l of n){let h=twe(l);if(h===void 0||!h.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let y=QV.psbtToKeyVals(l);Kv(y.globalKeyVals).forEach(ej(s,r.globalKeyVals,y.globalKeyVals)),y.inputKeyVals.map(Kv).forEach((O,N)=>O.forEach(ej(a[N],r.inputKeyVals[N],y.inputKeyVals[N]))),y.outputKeyVals.map(Kv).forEach((O,N)=>O.forEach(ej(c[N],r.outputKeyVals[N],y.outputKeyVals[N])))}return QV.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}o(qat,"combine");tj.combine=qat;function ej(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(s=>s.key.toString("hex")===n)[0];e.push(i),t.add(n)}}o(ej,"keyPusher");function twe(t){return t.globalMap.unsignedTx}o(twe,"getTx");function Kv(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}o(Kv,"getKeySet")});var nj=j(ga=>{"use strict";m();g();Object.defineProperty(ga,"__esModule",{value:!0});var Vat=D7();function iwe(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}o(iwe,"checkForInput");ga.checkForInput=iwe;function owe(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}o(owe,"checkForOutput");ga.checkForOutput=owe;function jat(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}o(jat,"checkHasKey");ga.checkHasKey=jat;function zat(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}o(zat,"getEnumLength");ga.getEnumLength=zat;function Kat(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,s=!n||!!e.finalScriptSig,a=!i||!!e.finalScriptWitness,c=!!e.finalScriptSig||!!e.finalScriptWitness;r=s&&a&&c}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}o(Kat,"inputCheckUncleanFinalized");ga.inputCheckUncleanFinalized=Kat;function nwe(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}o(nwe,"throwForUpdateMaker");function rj(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:s,canAddToArray:a,check:c,expected:l}=Vat[t+"s"][n]||{},h=!!a;if(c)if(h){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(c)||nwe(t,n,l,i);let y=r[n]||[],p=new Set;if(!i.every(E=>a(y,E,p)))throw new Error("Can not add duplicate data to array");r[n]=y.concat(i)}else{if(c(i)||nwe(t,n,l,i),!s(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}o(rj,"updateMaker");ga.updateGlobal=rj("global");ga.updateInput=rj("input");ga.updateOutput=rj("output");function Gat(t,e){let r=t.length-1,n=iwe(t,r);ga.updateInput(e,n)}o(Gat,"addInputAttributes");ga.addInputAttributes=Gat;function $at(t,e){let r=t.length-1,n=owe(t,r);ga.updateOutput(e,n)}o($at,"addOutputAttributes");ga.addOutputAttributes=$at;function Wat(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}o(Wat,"defaultVersionSetter");ga.defaultVersionSetter=Wat;function Yat(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}o(Yat,"defaultLocktimeSetter");ga.defaultLocktimeSetter=Yat});var awe=j(sj=>{"use strict";m();g();Object.defineProperty(sj,"__esModule",{value:!0});var Xat=rwe(),swe=JV(),ij=is(),Is=nj(),oj=class{static{o(this,"Psbt")}constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=swe.psbtFromBuffer(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return swe.psbtToBuffer(this)}updateGlobal(e){return Is.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=Is.checkForInput(this.inputs,e);return Is.updateInput(r,n),this}updateOutput(e,r){let n=Is.checkForOutput(this.outputs,e);return Is.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return Is.checkHasKey(e,this.globalMap.unknownKeyVals,Is.getEnumLength(ij.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=Is.checkForInput(this.inputs,e);return Is.checkHasKey(r,n.unknownKeyVals,Is.getEnumLength(ij.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=Is.checkForOutput(this.outputs,e);return Is.checkHasKey(r,n.unknownKeyVals,Is.getEnumLength(ij.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),Is.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToOutput(n,i)),Is.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=Is.checkForInput(this.inputs,e);Is.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=Xat.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};sj.Psbt=oj});var V7=j(oi=>{"use strict";m();g();Object.defineProperty(oi,"__esModule",{value:!0});oi.signatureBlocksAction=oi.checkInputForSig=oi.pubkeyInScript=oi.pubkeyPositionInScript=oi.witnessStackToScriptWitness=oi.isP2TR=oi.isP2SHScript=oi.isP2WSHScript=oi.isP2WPKH=oi.isP2PKH=oi.isP2PK=oi.isP2MS=void 0;var cwe=Nm(),TS=Ua(),q7=zv(),Zat=Od(),l1=Vv();function d1(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}o(d1,"isPaymentFactory");oi.isP2MS=d1(l1.p2ms);oi.isP2PK=d1(l1.p2pk);oi.isP2PKH=d1(l1.p2pkh);oi.isP2WPKH=d1(l1.p2wpkh);oi.isP2WSHScript=d1(l1.p2wsh);oi.isP2SHScript=d1(l1.p2sh);oi.isP2TR=d1(l1.p2tr);function Jat(t){let e=Buffer.allocUnsafe(0);function r(a){e=Buffer.concat([e,Buffer.from(a)])}o(r,"writeSlice");function n(a){let c=e.length,l=cwe.encodingLength(a);e=Buffer.concat([e,Buffer.allocUnsafe(l)]),cwe.encode(a,e,c)}o(n,"writeVarInt");function i(a){n(a.length),r(a)}o(i,"writeVarSlice");function s(a){n(a.length),a.forEach(i)}return o(s,"writeVector"),s(t),e}o(Jat,"witnessStackToScriptWitness");oi.witnessStackToScriptWitness=Jat;function fwe(t,e){let r=(0,Zat.hash160)(t),n=t.slice(1,33),i=TS.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(s=>typeof s=="number"?!1:s.equals(t)||s.equals(r)||s.equals(n))}o(fwe,"pubkeyPositionInScript");oi.pubkeyPositionInScript=fwe;function Qat(t,e){return fwe(t,e)!==-1}o(Qat,"pubkeyInScript");oi.pubkeyInScript=Qat;function ect(t,e){return tct(t).some(n=>uwe(n,TS.signature.decode,e))}o(ect,"checkInputForSig");oi.checkInputForSig=ect;function uwe(t,e,r){let{hashType:n}=e(t),i=[];switch(n&q7.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case q7.Transaction.SIGHASH_ALL:break;case q7.Transaction.SIGHASH_SINGLE:case q7.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}o(uwe,"signatureBlocksAction");oi.signatureBlocksAction=uwe;function tct(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=rct(t)}else e=t.partialSig;return e.map(r=>r.signature)}o(tct,"extractPartialSigs");function rct(t){let e=t.finalScriptSig?TS.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?TS.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>Buffer.isBuffer(n)&&TS.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}o(rct,"getPsigsFromInputFinalScripts")});var dwe=j(Si=>{"use strict";m();g();Object.defineProperty(Si,"__esModule",{value:!0});Si.checkTaprootInputForSigs=Si.tapTreeFromList=Si.tapTreeToList=Si.tweakInternalPubKey=Si.checkTaprootOutputFields=Si.checkTaprootInputFields=Si.isTaprootOutput=Si.isTaprootInput=Si.serializeTaprootSignature=Si.tapScriptFinalizer=Si.toXOnly=void 0;var uj=Es(),nct=zv(),K7=V7(),Cm=A7(),ict=Vv(),oct=V7(),sct=o(t=>t.length===32?t:t.slice(1,33),"toXOnly");Si.toXOnly=sct;function act(t,e,r){let n=Act(e,t,r);try{let s=Ect(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,K7.witnessStackToScriptWitness)(s)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}o(act,"tapScriptFinalizer");Si.tapScriptFinalizer=act;function cct(t,e){let r=e?Buffer.from([e]):Buffer.from([]);return Buffer.concat([t,r])}o(cct,"serializeTaprootSignature");Si.serializeTaprootSignature=cct;function j7(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,K7.isP2TR)(t.witnessUtxo.script))}o(j7,"isTaprootInput");Si.isTaprootInput=j7;function z7(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,K7.isP2TR)(e))}o(z7,"isTaprootOutput");Si.isTaprootOutput=z7;function fct(t,e,r){vct(t,e,r),wct(t,e,r)}o(fct,"checkTaprootInputFields");Si.checkTaprootInputFields=fct;function uct(t,e,r){_ct(t,e,r),lct(t,e)}o(uct,"checkTaprootOutputFields");Si.checkTaprootOutputFields=uct;function lct(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,s=dct(r,n);if(i&&!i.equals(s))throw new Error("Error adding output. Script or address missmatch.")}}o(lct,"checkTaprootScriptPubkey");function dct(t,e){let r=e&&lwe(e.leaves),{output:n}=(0,ict.p2tr)({internalPubkey:t,scriptTree:r});return n}o(dct,"getTaprootScripPubkey");function hct(t,e){let r=e.tapInternalKey,n=r&&(0,Cm.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}o(hct,"tweakInternalPubKey");Si.tweakInternalPubKey=hct;function pct(t){if(!(0,uj.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return cj(t)}o(pct,"tapTreeToList");Si.tapTreeToList=pct;function lwe(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:xct(t)}o(lwe,"tapTreeFromList");Si.tapTreeFromList=lwe;function mct(t,e){return yct(t).some(n=>(0,oct.signatureBlocksAction)(n,gct,e))}o(mct,"checkTaprootInputForSigs");Si.checkTaprootInputForSigs=mct;function gct(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||nct.Transaction.SIGHASH_DEFAULT}}o(gct,"decodeSchnorrSignature");function yct(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=bct(t.finalScriptWitness);r&&e.push(r)}return e}o(yct,"extractTaprootSigs");function bct(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}o(bct,"getTapKeySigFromWithness");function cj(t,e=[],r=0){if(r>Cm.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,uj.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||Cm.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&cj(t[0],e,r+1),t[1]&&cj(t[1],e,r+1),e):[]}o(cj,"_tapTreeToList");function xct(t){let e;for(let r of t)if(e=fj(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}o(xct,"instertLeavesInTree");function fj(t,e,r=0){if(r>Cm.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,uj.isTapleaf)(e))return;let n=fj(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=fj(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}o(fj,"instertLeafInTree");function vct(t,e,r){let n=j7(t)&&Gv(e),i=Gv(t)&&j7(e),s=t===e&&j7(e)&&Gv(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}o(vct,"checkMixedTaprootAndNonTaprootInputFields");function _ct(t,e,r){let n=z7(t)&&Gv(e),i=Gv(t)&&z7(e),s=t===e&&z7(e)&&Gv(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}o(_ct,"checkMixedTaprootAndNonTaprootOutputFields");function wct(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(s=>aj(s,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(s=>aj(s,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>aj(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}o(wct,"checkIfTapLeafInTree");function aj(t,e){if(!e)return!0;let r=(0,Cm.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Cm.rootHashFromPath)(t.controlBlock,r).equals(e)}o(aj,"isTapLeafInTree");function Ect(t,e){let r=(0,Cm.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>Sct(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}o(Ect,"sortSignatures");function Sct(t,e){return Object.assign({positionInScript:(0,K7.pubkeyPositionInScript)(e.pubkey,t)},e)}o(Sct,"addPubkeyPositionInScript");function Act(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,s)=>i.controlBlock.length-s.controlBlock.length).find(i=>Ict(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}o(Act,"findTapLeafToFinalize");function Ict(t,e,r){let n=(0,Cm.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(s=>s.leafHash.equals(n))!==void 0}o(Ict,"canFinalizeLeaf");function Gv(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}o(Gv,"hasNonTaprootFields")});var Lwe=j(J7=>{"use strict";m();g();Object.defineProperty(J7,"__esModule",{value:!0});J7.Psbt=void 0;var hwe=awe(),pwe=Nm(),ja=nj(),mwe=BV(),$7=_S(),Tct=tu(),iu=Vv(),Rct=A7(),o0=Ua(),Ts=zv(),Pi=dwe(),vo=V7(),Oct={network:Tct.bitcoin,maximumFeeRate:5e3},dj=class t{static{o(this,"Psbt")}static fromBase64(e,r={}){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=hwe.Psbt.fromBuffer(e,Nct),i=new t(r,n);return Pct(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new hwe.Psbt(new W7)){this.data=r,this.opts=Object.assign({},Oct,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=o((i,s,a,c)=>Object.defineProperty(i,s,{enumerable:a,writable:c}),"dpew");n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,$7.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,mwe.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,$7.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=t.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){G7(e),this.opts.maximumFeeRate=e}setVersion(e){G7(e),RS(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){G7(e),RS(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){G7(r),RS(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Pi.checkTaprootInputFields)(e,e,"addInput"),RS(this.data.inputs,"addInput"),e.witnessScript&&Y7(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];Iwe(r,n);let i=this.data.inputs.length-1,s=this.data.inputs[i];return s.nonWitnessUtxo&&pj(this.__CACHE,s,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");RS(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,s=(0,mwe.toOutputScript)(r,i);e=Object.assign(e,{script:s})}(0,Pi.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(Swe))throw new Error("Not finalized");let r=this.__CACHE;if(e||Cct(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return Cwe(this.data.inputs,n,r,!0),n}getFeeRate(){return vwe("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return vwe("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,ja.checkForInput)(this.data.inputs,0),OS(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,ja.checkForInput)(this.data.inputs,e);return(0,Pi.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Pi.tapScriptFinalizer){let i=(0,ja.checkForInput)(this.data.inputs,e);if((0,Pi.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=Lct){let{script:i,isP2SH:s,isP2WSH:a,isSegwit:c}=Hct(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);kct(r);let{finalScriptSig:l,finalScriptWitness:h}=n(e,r,i,c,s,a);if(l&&this.data.updateInput(e,{finalScriptSig:l}),h&&this.data.updateInput(e,{finalScriptWitness:h}),!l&&!h)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=Pi.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let s=iu.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),a=(0,vo.witnessStackToScriptWitness)(s.witness);this.data.updateInput(e,{finalScriptWitness:a})}else{let{finalScriptWitness:s}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:s})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,ja.checkForInput)(this.data.inputs,e),n=kwe(e,r,this.__CACHE),i=Z7(n,e,"input",r.redeemScript||Kct(r.finalScriptSig),r.witnessScript||Gct(r.finalScriptWitness)),s=i.type==="raw"?"":i.type+"-",a=Pwe(i.meaningfulScript);return s+a}inputHasPubkey(e,r){let n=(0,ja.checkForInput)(this.data.inputs,e);return jct(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,ja.checkForInput)(this.data.inputs,e),i=ywe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,ja.checkForOutput)(this.data.outputs,e);return zct(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,ja.checkForOutput)(this.data.outputs,e),i=ywe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,ja.checkForInput)(this.data.inputs,0),OS(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,Pi.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).partialSig;if(!i||!s||s.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let a=n?s.filter(p=>p.pubkey.equals(n)):s;if(a.length<1)throw new Error("No signatures for this pubkey");let c=[],l,h,y;for(let p of a){let E=o0.signature.decode(p.signature),{hash:I,script:O}=y!==E.hashType?Rwe(e,Object.assign({},i,{sighashType:E.hashType}),this.__CACHE,!0):{hash:l,script:h};y=E.hashType,l=I,h=O,Awe(p.pubkey,O,"verify"),c.push(r(p.pubkey,I,E.signature))}return c.every(p=>p===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).tapKeySig,a=(i||{}).tapScriptSig;if(!i&&!s&&!(a&&!a.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Pi.toXOnly)(n);let c=n?hj(e,i,this.data.inputs,n,this.__CACHE):Uct(e,i,this.data.inputs,this.__CACHE);if(!c.length)throw new Error("No signatures for this pubkey");let l=c.find(y=>!y.leafHash),h=0;if(s&&l){if(!r(l.pubkey,l.hash,wwe(s)))return!1;h++}if(a)for(let y of a){let p=c.find(E=>y.pubkey.equals(E.pubkey));if(p){if(!r(y.pubkey,p.hash,wwe(y.signature)))return!1;h++}}return h>0}signAllInputsHD(e,r=[Ts.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of OS(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[Ts.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let s=[],a=[];for(let c of OS(this.data.inputs.length))a.push(this.signInputHDAsync(c,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(a).then(()=>{if(s.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[Ts.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return Ewe(e,this.data.inputs,r).forEach(s=>this.signInput(e,s,n)),this}signInputHDAsync(e,r,n=[Ts.Transaction.SIGHASH_ALL]){return new Promise((i,s)=>{if(!r||!r.publicKey||!r.fingerprint)return s(new Error("Need HDSigner to sign input"));let c=Ewe(e,this.data.inputs,r).map(l=>this.signInputAsync(e,l,n));return Promise.all(c).then(()=>{i()}).catch(s)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of OS(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let s=[],a=[];for(let[c]of this.data.inputs.entries())a.push(this.signInputAsync(c,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(a).then(()=>{if(s.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,ja.checkForInput)(this.data.inputs,e);return(0,Pi.isTaprootInput)(i)?this._signTaprootInput(e,i,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,ja.checkForInput)(this.data.inputs,e);if((0,Pi.isTaprootInput)(s))return this._signTaprootInput(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,r,n=[Ts.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=_we(this.data.inputs,e,r.publicKey,this.__CACHE,n),a=[{pubkey:r.publicKey,signature:o0.signature.encode(r.sign(i),s)}];return this.data.updateInput(e,{partialSig:a}),this}_signTaprootInput(e,r,n,i,s=[Ts.Transaction.SIGHASH_DEFAULT]){let a=this.checkTaprootHashesForSig(e,r,n,i,s),c=a.filter(h=>!h.leafHash).map(h=>(0,Pi.serializeTaprootSignature)(n.signSchnorr(h.hash),r.sighashType))[0],l=a.filter(h=>!!h.leafHash).map(h=>({pubkey:(0,Pi.toXOnly)(n.publicKey),signature:(0,Pi.serializeTaprootSignature)(n.signSchnorr(h.hash),r.sighashType),leafHash:h.leafHash}));return c&&this.data.updateInput(e,{tapKeySig:c}),l.length&&this.data.updateInput(e,{tapScriptSig:l}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,ja.checkForInput)(this.data.inputs,e);return(0,Pi.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,ja.checkForInput)(this.data.inputs,e);if((0,Pi.isTaprootInput)(s))return this._signTaprootInputAsync(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[Ts.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=_we(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(a=>{let c=[{pubkey:r.publicKey,signature:o0.signature.encode(a,s)}];this.data.updateInput(e,{partialSig:c})})}async _signTaprootInputAsync(e,r,n,i,s=[Ts.Transaction.SIGHASH_DEFAULT]){let a=this.checkTaprootHashesForSig(e,r,n,i,s),c=[],l=a.filter(y=>!y.leafHash)[0];if(l){let y=Promise.resolve(n.signSchnorr(l.hash)).then(p=>({tapKeySig:(0,Pi.serializeTaprootSignature)(p,r.sighashType)}));c.push(y)}let h=a.filter(y=>!!y.leafHash);if(h.length){let y=h.map(p=>Promise.resolve(n.signSchnorr(p.hash)).then(E=>({tapScriptSig:[{pubkey:(0,Pi.toXOnly)(n.publicKey),signature:(0,Pi.serializeTaprootSignature)(E,r.sighashType),leafHash:p.leafHash}]})));c.push(...y)}return Promise.all(c).then(y=>{y.forEach(p=>this.data.updateInput(e,p))})}checkTaprootHashesForSig(e,r,n,i,s){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let a=hj(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,s);if(!a||!a.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return a}toBuffer(){return lj(this.__CACHE),this.data.toBuffer()}toHex(){return lj(this.__CACHE),this.data.toHex()}toBase64(){return lj(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&Y7(r.witnessScript),(0,Pi.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&pj(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Pi.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};J7.Psbt=dj;var Nct=o(t=>new W7(t),"transactionFromBuffer"),W7=class{static{o(this,"PsbtTransaction")}constructor(e=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Ts.Transaction.fromBuffer(e),Bct(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,$7.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function Mct(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return gwe(1,t.partialSig);case"multisig":let n=iu.p2ms({output:e});return gwe(n.m,t.partialSig,n.pubkeys);default:return!1}}o(Mct,"canFinalize");function lj(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}o(lj,"checkCache");function gwe(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let s=$ct(i);return e.find(a=>a.pubkey.equals(s))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}o(gwe,"hasSigs");function Swe(t){return!!t.finalScriptSig||!!t.finalScriptWitness}o(Swe,"isFinalized");function ywe(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}o(ywe,"bip32DerivationIsMine");function G7(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}o(G7,"check32Bit");function Cct(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),s=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(s/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}o(Cct,"checkFees");function RS(t,e){t.forEach(r=>{if((0,Pi.isTaprootInput)(r)?(0,Pi.checkTaprootInputForSigs)(r,e):(0,vo.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}o(RS,"checkInputsForPartialSig");function kct(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=o0.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}o(kct,"checkPartialSigSighashes");function Awe(t,e,r){if(!(0,vo.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}o(Awe,"checkScriptForPubkey");function Bct(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}o(Bct,"checkTxEmpty");function Pct(t,e){t.ins.forEach(r=>{Iwe(e,r)})}o(Pct,"checkTxForDupeIns");function Iwe(t,e){let r=(0,$7.reverseBuffer)(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}o(Iwe,"checkTxInputCache");function Twe(t,e){return(r,n,i,s)=>{let a=t({redeem:{output:i}}).output;if(!n.equals(a))throw new Error(`${e} for ${s} #${r} doesn't match the scriptPubKey in the prevout`)}}o(Twe,"scriptCheckerFactory");var bwe=Twe(iu.p2sh,"Redeem script"),xwe=Twe(iu.p2wsh,"Witness script");function vwe(t,e,r,n){if(!r.every(Swe))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,s=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,s=!1):i=n.__TX.clone(),Cwe(r,i,n,s),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}o(vwe,"getTxCacheValue");function Lct(t,e,r,n,i,s){let a=Pwe(r);if(!Mct(e,r,a))throw new Error(`Can not finalize input #${t}`);return Dct(r,a,e.partialSig,n,i,s)}o(Lct,"getFinalScripts");function Dct(t,e,r,n,i,s){let a,c,l=Fct(t,e,r),h=s?iu.p2wsh({redeem:l}):null,y=i?iu.p2sh({redeem:h||l}):null;return n?(h?c=(0,vo.witnessStackToScriptWitness)(h.witness):c=(0,vo.witnessStackToScriptWitness)(l.witness),y&&(a=y.input)):y?a=y.input:a=l.input,{finalScriptSig:a,finalScriptWitness:c}}o(Dct,"prepareFinalScripts");function _we(t,e,r,n,i){let s=(0,ja.checkForInput)(t,e),{hash:a,sighashType:c,script:l}=Rwe(e,s,n,!1,i);return Awe(r,l,"sign"),{hash:a,sighashType:c}}o(_we,"getHashAndSighashType");function Rwe(t,e,r,n,i){let s=r.__TX,a=e.sighashType||Ts.Transaction.SIGHASH_ALL;Nwe(a,i);let c,l;if(e.nonWitnessUtxo){let p=X7(r,e,t),E=s.ins[t].hash,I=p.getHash();if(!E.equals(I))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let O=s.ins[t].index;l=p.outs[O]}else if(e.witnessUtxo)l=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:h,type:y}=Z7(l.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(y)>=0)c=s.hashForWitnessV0(t,h,l.value,a);else if((0,vo.isP2WPKH)(h)){let p=iu.p2pkh({hash:h.slice(2)}).output;c=s.hashForWitnessV0(t,p,l.value,a)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${h.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),c=s.hashForSignature(t,h,a)}return{script:h,sighashType:a,hash:c}}o(Rwe,"getHashForSig");function Uct(t,e,r,n){let i=[];if(e.tapInternalKey){let a=Owe(t,e,n);a&&i.push(a)}if(e.tapScriptSig){let a=e.tapScriptSig.map(c=>c.pubkey);i.push(...a)}return i.map(a=>hj(t,e,r,a,n)).flat()}o(Uct,"getAllTaprootHashesForSig");function Owe(t,e,r){let{script:n}=mj(t,e,r);return(0,vo.isP2TR)(n)?n.subarray(2,34):null}o(Owe,"getPrevoutTaprootKey");function wwe(t){return t.length===64?t:t.subarray(0,64)}o(wwe,"trimTaprootSig");function hj(t,e,r,n,i,s,a){let c=i.__TX,l=e.sighashType||Ts.Transaction.SIGHASH_DEFAULT;Nwe(l,a);let h=r.map((O,N)=>mj(N,O,i)),y=h.map(O=>O.script),p=h.map(O=>O.value),E=[];if(e.tapInternalKey&&!s){let O=Owe(t,e,i)||Buffer.from([]);if((0,Pi.toXOnly)(n).equals(O)){let N=c.hashForWitnessV1(t,y,p,l);E.push({pubkey:n,hash:N})}}let I=(e.tapLeafScript||[]).filter(O=>(0,vo.pubkeyInScript)(n,O.script)).map(O=>{let N=(0,Rct.tapleafHash)({output:O.script,version:O.leafVersion});return Object.assign({hash:N},O)}).filter(O=>!s||s.equals(O.hash)).map(O=>{let N=c.hashForWitnessV1(t,y,p,Ts.Transaction.SIGHASH_DEFAULT,O.hash);return{pubkey:n,hash:N,leafHash:O.hash}});return E.concat(I)}o(hj,"getTaprootHashesForSig");function Nwe(t,e){if(e&&e.indexOf(t)<0){let r=Vct(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}o(Nwe,"checkSighashTypeAllowed");function Fct(t,e,r){let n;switch(e){case"multisig":let i=qct(t,r);n=iu.p2ms({output:t,signatures:i});break;case"pubkey":n=iu.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=iu.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=iu.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}o(Fct,"getPayment");function Hct(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let s=X7(r,e,t),a=n.ins[t].index;i.script=s.outs[a].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,vo.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}o(Hct,"getScriptFromInput");function Ewe(t,e,r){let n=(0,ja.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(a=>{if(a.masterFingerprint.equals(r.fingerprint))return a}).filter(a=>!!a);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(a=>{let c=r.derivePath(a.path);if(!a.pubkey.equals(c.publicKey))throw new Error("pubkey did not match bip32Derivation");return c})}o(Ewe,"getSignersFromHD");function qct(t,e){return iu.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}o(qct,"getSortedSigs");function Mwe(t){let e=0;function r(a){return e+=a,t.slice(e-a,e)}o(r,"readSlice");function n(){let a=pwe.decode(t,e);return e+=pwe.decode.bytes,a}o(n,"readVarInt");function i(){return r(n())}o(i,"readVarSlice");function s(){let a=n(),c=[];for(let l=0;l<a;l++)c.push(i());return c}return o(s,"readVector"),s()}o(Mwe,"scriptWitnessToWitnessStack");function Vct(t){let e=t&Ts.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Ts.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case Ts.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case Ts.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}o(Vct,"sighashTypeToString");function pj(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=Ts.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,s=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let a=i.__NON_WITNESS_UTXO_BUF_CACHE[s],c=i.__NON_WITNESS_UTXO_TX_CACHE[s];if(a!==void 0)return a;{let l=c.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[s]=l,l}},set(a){i.__NON_WITNESS_UTXO_BUF_CACHE[s]=a}})}o(pj,"addNonWitnessTxCache");function Cwe(t,e,r,n){let i=0;t.forEach((l,h)=>{if(n&&l.finalScriptSig&&(e.ins[h].script=l.finalScriptSig),n&&l.finalScriptWitness&&(e.ins[h].witness=Mwe(l.finalScriptWitness)),l.witnessUtxo)i+=l.witnessUtxo.value;else if(l.nonWitnessUtxo){let y=X7(r,l,h),p=e.ins[h].index,E=y.outs[p];i+=E.value}});let s=e.outs.reduce((l,h)=>l+h.value,0),a=i-s;if(a<0)throw new Error("Outputs are spending more than Inputs");let c=e.virtualSize();r.__FEE=a,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(a/c)}o(Cwe,"inputFinalizeGetAmts");function X7(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||pj(t,e,r),n[r]}o(X7,"nonWitnessUtxoTxFromCache");function kwe(t,e,r){let{script:n}=mj(t,e,r);return n}o(kwe,"getScriptFromUtxo");function mj(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=X7(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}o(mj,"getScriptAndAmountFromUtxo");function jct(t,e,r,n){let i=kwe(r,e,n),{meaningfulScript:s}=Z7(i,r,"input",e.redeemScript,e.witnessScript);return(0,vo.pubkeyInScript)(t,s)}o(jct,"pubkeyInInput");function zct(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:s}=Z7(i,r,"output",e.redeemScript,e.witnessScript);return(0,vo.pubkeyInScript)(t,s)}o(zct,"pubkeyInOutput");function Kct(t){if(!t)return;let e=o0.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!Buffer.isBuffer(r)||Bwe(r)||Wct(r)||!o0.decompile(r)))return r}o(Kct,"redeemFromFinalScriptSig");function Gct(t){if(!t)return;let e=Mwe(t),r=e[e.length-1];if(!(Bwe(r)||!o0.decompile(r)))return r}o(Gct,"redeemFromFinalWitnessScript");function $ct(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}o($ct,"compressPubkey");function Bwe(t){return t.length===33&&o0.isCanonicalPubKey(t)}o(Bwe,"isPubkeyLike");function Wct(t){return o0.isCanonicalScriptSignature(t)}o(Wct,"isSigLike");function Z7(t,e,r,n,i){let s=(0,vo.isP2SHScript)(t),a=s&&n&&(0,vo.isP2WSHScript)(n),c=(0,vo.isP2WSHScript)(t);if(s&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((c||a)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let l;return a?(l=i,bwe(e,t,n,r),xwe(e,n,i,r),Y7(l)):c?(l=i,xwe(e,t,i,r),Y7(l)):s?(l=n,bwe(e,t,n,r)):l=t,{meaningfulScript:l,type:a?"p2sh-p2wsh":s?"p2sh":c?"p2wsh":"raw"}}o(Z7,"getMeaningfulScript");function Y7(t){if((0,vo.isP2WPKH)(t)||(0,vo.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}o(Y7,"checkInvalidP2WSH");function Pwe(t){return(0,vo.isP2WPKH)(t)?"witnesspubkeyhash":(0,vo.isP2PKH)(t)?"pubkeyhash":(0,vo.isP2MS)(t)?"multisig":(0,vo.isP2PK)(t)?"pubkey":"nonstandard"}o(Pwe,"classifyScript");function OS(t){return[...Array(t).keys()]}o(OS,"range")});var gj=j(Yi=>{"use strict";m();g();Object.defineProperty(Yi,"__esModule",{value:!0});Yi.initEccLib=Yi.Transaction=Yi.opcodes=Yi.Psbt=Yi.Block=Yi.script=Yi.payments=Yi.networks=Yi.crypto=Yi.address=void 0;var Yct=BV();Yi.address=Yct;var Xct=Od();Yi.crypto=Xct;var Zct=tu();Yi.networks=Zct;var Jct=Vv();Yi.payments=Jct;var Qct=Ua();Yi.script=Qct;var eft=i_e();Object.defineProperty(Yi,"Block",{enumerable:!0,get:o(function(){return eft.Block},"get")});var tft=Lwe();Object.defineProperty(Yi,"Psbt",{enumerable:!0,get:o(function(){return tft.Psbt},"get")});var rft=VR();Object.defineProperty(Yi,"opcodes",{enumerable:!0,get:o(function(){return rft.OPS},"get")});var nft=zv();Object.defineProperty(Yi,"Transaction",{enumerable:!0,get:o(function(){return nft.Transaction},"get")});var ift=S7();Object.defineProperty(Yi,"initEccLib",{enumerable:!0,get:o(function(){return ift.initEccLib},"get")})});var mAe=j((aPr,pAe)=>{m();g();var tpt=$Oe(),rpt=JC(),npt="[object Date]";function ipt(t){return rpt(t)&&tpt(t)==npt}o(ipt,"baseIsDate");pAe.exports=ipt});var xAe=j((lPr,bAe)=>{m();g();var opt=mAe(),spt=QC(),gAe=ek(),yAe=gAe&&gAe.isDate,apt=yAe?spt(yAe):opt;bAe.exports=apt});var x0=j($r=>{"use strict";m();g();Object.defineProperty($r,"__esModule",{value:!0});$r.DEFAULT_TLRU_TTL_MS=$r.BANDIT_ASSIGNMENT_SHARDS=$r.MAX_EVENT_QUEUE_SIZE=$r.NULL_SENTINEL=$r.SESSION_ASSIGNMENT_CONFIG_LOADED=$r.PRECOMPUTED_FLAGS_ENDPOINT=$r.PRECOMPUTED_BASE_URL=$r.BANDIT_ENDPOINT=$r.UFC_ENDPOINT=$r.BASE_URL=$r.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=$r.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=$r.POLL_JITTER_PCT=$r.DEFAULT_POLL_INTERVAL_MS=$r.REQUEST_TIMEOUT_MILLIS=$r.DEFAULT_REQUEST_TIMEOUT_MS=void 0;$r.DEFAULT_REQUEST_TIMEOUT_MS=5e3;$r.REQUEST_TIMEOUT_MILLIS=$r.DEFAULT_REQUEST_TIMEOUT_MS;$r.DEFAULT_POLL_INTERVAL_MS=3e4;$r.POLL_JITTER_PCT=.1;$r.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=1;$r.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=7;$r.BASE_URL="https://fscdn.eppo.cloud/api";$r.UFC_ENDPOINT="/flag-config/v1/config";$r.BANDIT_ENDPOINT="/flag-config/v1/bandits";$r.PRECOMPUTED_BASE_URL="https://fs-edge-assignment.eppo.cloud";$r.PRECOMPUTED_FLAGS_ENDPOINT="/assignments";$r.SESSION_ASSIGNMENT_CONFIG_LOADED="eppo-session-assignment-config-loaded";$r.NULL_SENTINEL="EPPO_NULL";$r.MAX_EVENT_QUEUE_SIZE=100;$r.BANDIT_ASSIGNMENT_SHARDS=1e4;$r.DEFAULT_TLRU_TTL_MS=6e5});var ON=j(_G=>{"use strict";m();g();Object.defineProperty(_G,"__esModule",{value:!0});var RN=x0(),vG=class{static{o(this,"ApiEndpoints")}constructor(e){this.params=e,this.params.baseUrl=e.baseUrl??RN.BASE_URL}endpoint(e){let r=new URL(this.params.baseUrl+e);return Object.entries(this.params.queryParams??{}).forEach(([n,i])=>r.searchParams.append(n,i)),r}ufcEndpoint(){return this.endpoint(RN.UFC_ENDPOINT)}banditParametersEndpoint(){return this.endpoint(RN.BANDIT_ENDPOINT)}precomputedFlagsEndpoint(){return this.endpoint(RN.PRECOMPUTED_FLAGS_ENDPOINT)}};_G.default=vG});var j4e=j((WGr,V4e)=>{"use strict";m();g();function Wmt(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}o(Wmt,"tryStringify");V4e.exports=Ymt;function Ymt(t,e,r){var n=r&&r.stringify||Wmt,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var a=new Array(s);a[0]=n(t);for(var c=1;c<s;c++)a[c]=n(e[c]);return a.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var h="",y=1-i,p=-1,E=t&&t.length||0,I=0;I<E;){if(t.charCodeAt(I)===37&&I+1<E){switch(p=p>-1?p:0,t.charCodeAt(I+1)){case 100:case 102:if(y>=l||e[y]==null)break;p<I&&(h+=t.slice(p,I)),h+=Number(e[y]),p=I+2,I++;break;case 105:if(y>=l||e[y]==null)break;p<I&&(h+=t.slice(p,I)),h+=Math.floor(Number(e[y])),p=I+2,I++;break;case 79:case 111:case 106:if(y>=l||e[y]===void 0)break;p<I&&(h+=t.slice(p,I));var O=typeof e[y];if(O==="string"){h+="'"+e[y]+"'",p=I+2,I++;break}if(O==="function"){h+=e[y].name||"<anonymous>",p=I+2,I++;break}h+=n(e[y]),p=I+2,I++;break;case 115:if(y>=l)break;p<I&&(h+=t.slice(p,I)),h+=String(e[y]),p=I+2,I++;break;case 37:p<I&&(h+=t.slice(p,I)),h+="%",p=I+2,I++,y--;break}++y}++I}return p===-1?t:(p<E&&(h+=t.slice(p)),h)}o(Ymt,"format")});var Y4e=j((JGr,MN)=>{"use strict";m();g();var z4e=j4e();MN.exports=v0;var q3=ugt().console||{},Xmt={mapHttpRequest:NN,mapHttpResponse:NN,wrapRequestSerializer:wG,wrapResponseSerializer:wG,wrapErrorSerializer:wG,req:NN,res:NN,err:G4e,errWithCause:G4e};function ig(t,e){return t==="silent"?1/0:e.levels.values[t]}o(ig,"levelToValue");var AG=Symbol("pino.logFuncs"),EG=Symbol("pino.hierarchy"),Zmt={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function K4e(t,e){let r={logger:e,parent:t[EG]};e[EG]=r}o(K4e,"appendChildLogger");function Jmt(t,e,r){let n={};e.forEach(i=>{n[i]=r[i]?r[i]:q3[i]||q3[Zmt[i]||"log"]||U2}),t[AG]=n}o(Jmt,"setupBaseLogFunctions");function Qmt(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}o(Qmt,"shouldSerialize");function v0(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||q3;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=Qmt(t.browser.serialize,n),s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let a=Object.keys(t.customLevels||{}),c=["error","fatal","warn","info","debug","trace"].concat(a);typeof r=="function"&&c.forEach(function(N){r[N]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");let l=t.level||"info",h=Object.create(r);h.log||(h.log=U2),Jmt(h,c,r),K4e({},h),Object.defineProperty(h,"levelVal",{get:p}),Object.defineProperty(h,"level",{get:E,set:I});let y={transmit:e,serialize:i,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:c,timestamp:agt(t),messageKey:t.messageKey||"msg",onChild:t.onChild||U2};h.levels=egt(t),h.level=l,h.setMaxListeners=h.getMaxListeners=h.emit=h.addListener=h.on=h.prependListener=h.once=h.prependOnceListener=h.removeListener=h.removeAllListeners=h.listeners=h.listenerCount=h.eventNames=h.write=h.flush=U2,h.serializers=n,h._serialize=i,h._stdErrSerialize=s,h.child=function(...N){return O.call(this,y,...N)},e&&(h._logEvent=SG());function p(){return ig(this.level,this)}o(p,"getLevelVal");function E(){return this._level}o(E,"getLevel");function I(N){if(N!=="silent"&&!this.levels.values[N])throw Error("unknown level "+N);this._level=N,B1(this,y,h,"error"),B1(this,y,h,"fatal"),B1(this,y,h,"warn"),B1(this,y,h,"info"),B1(this,y,h,"debug"),B1(this,y,h,"trace"),a.forEach(k=>{B1(this,y,h,k)})}o(I,"setLevel");function O(N,k,C){if(!k)throw new Error("missing bindings for child Pino");C=C||{},i&&k.serializers&&(C.serializers=k.serializers);let L=C.serializers;if(i&&L){var M=Object.assign({},n,L),P=t.browser.serialize===!0?Object.keys(M):i;delete k.serializers,IG([k],P,M,this._stdErrSerialize)}function H(J){this._childLevel=(J._childLevel|0)+1,this.bindings=k,M&&(this.serializers=M,this._serialize=P),e&&(this._logEvent=SG([].concat(J._logEvent.bindings,k)))}o(H,"Child"),H.prototype=this;let F=new H(this);return K4e(this,F),F.child=function(...J){return O.call(this,N,...J)},F.level=C.level||this.level,N.onChild(F),F}return o(O,"child"),h}o(v0,"pino");function egt(t){let e=t.customLevels||{},r=Object.assign({},v0.levels.values,e),n=Object.assign({},v0.levels.labels,tgt(e));return{values:r,labels:n}}o(egt,"getLevels");function tgt(t){let e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}o(tgt,"invertObject");v0.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};v0.stdSerializers=Xmt;v0.stdTimeFunctions=Object.assign({},{nullTime:$4e,epochTime:W4e,unixTime:cgt,isoTime:fgt});function rgt(t){let e=[];t.bindings&&e.push(t.bindings);let r=t[EG];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}o(rgt,"getBindingChain");function B1(t,e,r,n){if(Object.defineProperty(t,n,{value:ig(t.level,r)>ig(n,r)?U2:r[AG][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===U2){if(!e.transmit)return;let s=e.transmit.level||t.level,a=ig(s,r);if(ig(n,r)<a)return}t[n]=igt(t,e,r,n);let i=rgt(t);i.length!==0&&(t[n]=ngt(i,t[n]))}o(B1,"set");function ngt(t,e){return function(){return e.apply(this,[...t,...arguments])}}o(ngt,"prependBindingsInArguments");function igt(t,e,r,n){return function(i){return o(function(){let a=e.timestamp(),c=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===q3?q3:this;for(var h=0;h<c.length;h++)c[h]=arguments[h];var y=!1;if(e.serialize&&(IG(c,this._serialize,this.serializers,this._stdErrSerialize),y=!0),e.asObject||e.formatters?i.call(l,ogt(this,n,c,a,e)):i.apply(l,c),e.transmit){let p=e.transmit.level||t._level,E=ig(p,r),I=ig(n,r);if(I<E)return;sgt(this,{ts:a,methodLevel:n,methodValue:I,transmitLevel:p,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:ig(t._level,r)},c,y)}},"LOG")}(t[AG][n])}o(igt,"createWrap");function ogt(t,e,r,n,i){let{level:s,log:a=o(E=>E,"logObjectFormatter")}=i.formatters||{},c=r.slice(),l=c[0],h={};if(n&&(h.time=n),s){let E=s(e,t.levels.values[e]);Object.assign(h,E)}else h.level=t.levels.values[e];let y=(t._childLevel|0)+1;if(y<1&&(y=1),l!==null&&typeof l=="object"){for(;y--&&typeof c[0]=="object";)Object.assign(h,c.shift());l=c.length?z4e(c.shift(),c):void 0}else typeof l=="string"&&(l=z4e(c.shift(),c));return l!==void 0&&(h[i.messageKey]=l),a(h)}o(ogt,"asObject");function IG(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=v0.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(let s in t[i])e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}o(IG,"applySerializers");function sgt(t,e,r,n=!1){let i=e.send,s=e.ts,a=e.methodLevel,c=e.methodValue,l=e.val,h=t._logEvent.bindings;n||IG(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(y){return h.indexOf(y)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=c,i(a,t._logEvent,l),t._logEvent=SG(h)}o(sgt,"transmit");function SG(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}o(SG,"createLogEventShape");function G4e(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}o(G4e,"asErrValue");function agt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?$4e:W4e}o(agt,"getTimeFunction");function NN(){return{}}o(NN,"mock");function wG(t){return t}o(wG,"passthrough");function U2(){}o(U2,"noop");function $4e(){return!1}o($4e,"nullTime");function W4e(){return Date.now()}o(W4e,"epochTime");function cgt(){return Math.round(Date.now()/1e3)}o(cgt,"unixTime");function fgt(){return new Date(Date.now()).toISOString()}o(fgt,"isoTime");function ugt(){function t(e){return typeof e<"u"&&e}o(t,"defd");try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:o(function(){return delete Object.prototype.globalThis,this.globalThis=this},"get"),configurable:!0}),globalThis}catch{return t(self)||t(self)||t(this)||{}}}o(ugt,"pfGlobalThisOrFallback");MN.exports.default=v0;MN.exports.pino=v0});var Zd=j(F2=>{"use strict";m();g();Object.defineProperty(F2,"__esModule",{value:!0});F2.logger=F2.loggerPrefix=void 0;var lgt=Y4e();F2.loggerPrefix="[Eppo SDK]";F2.logger=(0,lgt.default)({level:R.LOG_LEVEL??(R.NODE_ENV==="production"?"warn":"info"),browser:{disabled:!0}})});var OG=j((TG,RG)=>{m();g();(function(t,e){typeof TG=="object"&&typeof RG<"u"?RG.exports=e():typeof define=="function"&&define.amd?define(e):function(){var r=t.Base64,n=e();n.noConflict=function(){return t.Base64=r,n},t.Meteor&&(Base64=n),t.Base64=n}()})(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:TG,function(){"use strict";var t="3.7.7",e=t,r=typeof Buffer=="function",n=typeof TextDecoder=="function"?new TextDecoder:void 0,i=typeof TextEncoder=="function"?new TextEncoder:void 0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=Array.prototype.slice.call(s),c=function(U){var $={};return U.forEach(function(ee,re){return $[ee]=re}),$}(a),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),y=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(U){return new Uint8Array(Array.prototype.slice.call(U,0))},p=o(function(U){return U.replace(/=/g,"").replace(/[+\/]/g,function($){return $=="+"?"-":"_"})},"_mkUriSafe"),E=o(function(U){return U.replace(/[^A-Za-z0-9\+\/]/g,"")},"_tidyB64"),I=o(function(U){for(var $,ee,re,Oe,ae="",le=U.length%3,ye=0;ye<U.length;){if((ee=U.charCodeAt(ye++))>255||(re=U.charCodeAt(ye++))>255||(Oe=U.charCodeAt(ye++))>255)throw new TypeError("invalid character found");$=ee<<16|re<<8|Oe,ae+=a[$>>18&63]+a[$>>12&63]+a[$>>6&63]+a[$&63]}return le?ae.slice(0,le-3)+"===".substring(le):ae},"btoaPolyfill"),O=typeof btoa=="function"?function(U){return btoa(U)}:r?function(U){return Buffer.from(U,"binary").toString("base64")}:I,N=r?function(U){return Buffer.from(U).toString("base64")}:function(U){for(var $=4096,ee=[],re=0,Oe=U.length;re<Oe;re+=$)ee.push(h.apply(null,U.subarray(re,re+$)));return O(ee.join(""))},k=o(function(U,$){return $===void 0&&($=!1),$?p(N(U)):N(U)},"fromUint8Array"),C=o(function(U){if(U.length<2){var $=U.charCodeAt(0);return $<128?U:$<2048?h(192|$>>>6)+h(128|$&63):h(224|$>>>12&15)+h(128|$>>>6&63)+h(128|$&63)}else{var $=65536+(U.charCodeAt(0)-55296)*1024+(U.charCodeAt(1)-56320);return h(240|$>>>18&7)+h(128|$>>>12&63)+h(128|$>>>6&63)+h(128|$&63)}},"cb_utob"),L=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,M=o(function(U){return U.replace(L,C)},"utob"),P=r?function(U){return Buffer.from(U,"utf8").toString("base64")}:i?function(U){return N(i.encode(U))}:function(U){return O(M(U))},H=o(function(U,$){return $===void 0&&($=!1),$?p(P(U)):P(U)},"encode"),F=o(function(U){return H(U,!0)},"encodeURI"),J=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,W=o(function(U){switch(U.length){case 4:var $=(7&U.charCodeAt(0))<<18|(63&U.charCodeAt(1))<<12|(63&U.charCodeAt(2))<<6|63&U.charCodeAt(3),ee=$-65536;return h((ee>>>10)+55296)+h((ee&1023)+56320);case 3:return h((15&U.charCodeAt(0))<<12|(63&U.charCodeAt(1))<<6|63&U.charCodeAt(2));default:return h((31&U.charCodeAt(0))<<6|63&U.charCodeAt(1))}},"cb_btou"),X=o(function(U){return U.replace(J,W)},"btou"),S=o(function(U){if(U=U.replace(/\s+/g,""),!l.test(U))throw new TypeError("malformed base64.");U+="==".slice(2-(U.length&3));for(var $,ee="",re,Oe,ae=0;ae<U.length;)$=c[U.charAt(ae++)]<<18|c[U.charAt(ae++)]<<12|(re=c[U.charAt(ae++)])<<6|(Oe=c[U.charAt(ae++)]),ee+=re===64?h($>>16&255):Oe===64?h($>>16&255,$>>8&255):h($>>16&255,$>>8&255,$&255);return ee},"atobPolyfill"),f=typeof atob=="function"?function(U){return atob(E(U))}:r?function(U){return Buffer.from(U,"base64").toString("binary")}:S,d=r?function(U){return y(Buffer.from(U,"base64"))}:function(U){return y(f(U).split("").map(function($){return $.charCodeAt(0)}))},b=o(function(U){return d(_(U))},"toUint8Array"),x=r?function(U){return Buffer.from(U,"base64").toString("utf8")}:n?function(U){return n.decode(d(U))}:function(U){return X(f(U))},_=o(function(U){return E(U.replace(/[-_]/g,function($){return $=="-"?"+":"/"}))},"_unURI"),A=o(function(U){return x(_(U))},"decode"),T=o(function(U){if(typeof U!="string")return!1;var $=U.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test($)||!/[^\s0-9a-zA-Z\-_]/.test($)},"isValid"),v=o(function(U){return{value:U,enumerable:!1,writable:!0,configurable:!0}},"_noEnum"),u=o(function(){var U=o(function($,ee){return Object.defineProperty(String.prototype,$,v(ee))},"_add");U("fromBase64",function(){return A(this)}),U("toBase64",function($){return H(this,$)}),U("toBase64URI",function(){return H(this,!0)}),U("toBase64URL",function(){return H(this,!0)}),U("toUint8Array",function(){return b(this)})},"extendString"),w=o(function(){var U=o(function($,ee){return Object.defineProperty(Uint8Array.prototype,$,v(ee))},"_add");U("toBase64",function($){return k(this,$)}),U("toBase64URI",function(){return k(this,!0)}),U("toBase64URL",function(){return k(this,!0)})},"extendUint8Array"),V=o(function(){u(),w()},"extendBuiltins"),q={version:t,VERSION:e,atob:f,atobPolyfill:S,btoa:O,btoaPolyfill:I,fromBase64:A,toBase64:H,encode:H,encodeURI:F,encodeURL:F,utob:M,btou:X,decode:A,isValid:T,fromUint8Array:k,toUint8Array:b,extendString:u,extendUint8Array:w,extendBuiltins:V};return q.Base64={},Object.keys(q).forEach(function(U){return q.Base64[U]=q[U]}),q})});var J4e=j((X4e,Z4e)=>{m();g();(function(t){if(typeof X4e=="object")Z4e.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=self}catch{e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=o(function(C,L){return C+L&4294967295},"add32"),r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(C,L,M,P,H,F){return L=e(e(L,C),e(P,F)),e(L<<H|L>>>32-H,M)}o(n,"cmn");function i(C,L){var M=C[0],P=C[1],H=C[2],F=C[3];M+=(P&H|~P&F)+L[0]-680876936|0,M=(M<<7|M>>>25)+P|0,F+=(M&P|~M&H)+L[1]-389564586|0,F=(F<<12|F>>>20)+M|0,H+=(F&M|~F&P)+L[2]+606105819|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&M)+L[3]-1044525330|0,P=(P<<22|P>>>10)+H|0,M+=(P&H|~P&F)+L[4]-176418897|0,M=(M<<7|M>>>25)+P|0,F+=(M&P|~M&H)+L[5]+1200080426|0,F=(F<<12|F>>>20)+M|0,H+=(F&M|~F&P)+L[6]-1473231341|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&M)+L[7]-45705983|0,P=(P<<22|P>>>10)+H|0,M+=(P&H|~P&F)+L[8]+1770035416|0,M=(M<<7|M>>>25)+P|0,F+=(M&P|~M&H)+L[9]-1958414417|0,F=(F<<12|F>>>20)+M|0,H+=(F&M|~F&P)+L[10]-42063|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&M)+L[11]-1990404162|0,P=(P<<22|P>>>10)+H|0,M+=(P&H|~P&F)+L[12]+1804603682|0,M=(M<<7|M>>>25)+P|0,F+=(M&P|~M&H)+L[13]-40341101|0,F=(F<<12|F>>>20)+M|0,H+=(F&M|~F&P)+L[14]-1502002290|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&M)+L[15]+1236535329|0,P=(P<<22|P>>>10)+H|0,M+=(P&F|H&~F)+L[1]-165796510|0,M=(M<<5|M>>>27)+P|0,F+=(M&H|P&~H)+L[6]-1069501632|0,F=(F<<9|F>>>23)+M|0,H+=(F&P|M&~P)+L[11]+643717713|0,H=(H<<14|H>>>18)+F|0,P+=(H&M|F&~M)+L[0]-373897302|0,P=(P<<20|P>>>12)+H|0,M+=(P&F|H&~F)+L[5]-701558691|0,M=(M<<5|M>>>27)+P|0,F+=(M&H|P&~H)+L[10]+38016083|0,F=(F<<9|F>>>23)+M|0,H+=(F&P|M&~P)+L[15]-660478335|0,H=(H<<14|H>>>18)+F|0,P+=(H&M|F&~M)+L[4]-405537848|0,P=(P<<20|P>>>12)+H|0,M+=(P&F|H&~F)+L[9]+568446438|0,M=(M<<5|M>>>27)+P|0,F+=(M&H|P&~H)+L[14]-1019803690|0,F=(F<<9|F>>>23)+M|0,H+=(F&P|M&~P)+L[3]-187363961|0,H=(H<<14|H>>>18)+F|0,P+=(H&M|F&~M)+L[8]+1163531501|0,P=(P<<20|P>>>12)+H|0,M+=(P&F|H&~F)+L[13]-1444681467|0,M=(M<<5|M>>>27)+P|0,F+=(M&H|P&~H)+L[2]-51403784|0,F=(F<<9|F>>>23)+M|0,H+=(F&P|M&~P)+L[7]+1735328473|0,H=(H<<14|H>>>18)+F|0,P+=(H&M|F&~M)+L[12]-1926607734|0,P=(P<<20|P>>>12)+H|0,M+=(P^H^F)+L[5]-378558|0,M=(M<<4|M>>>28)+P|0,F+=(M^P^H)+L[8]-2022574463|0,F=(F<<11|F>>>21)+M|0,H+=(F^M^P)+L[11]+1839030562|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^M)+L[14]-35309556|0,P=(P<<23|P>>>9)+H|0,M+=(P^H^F)+L[1]-1530992060|0,M=(M<<4|M>>>28)+P|0,F+=(M^P^H)+L[4]+1272893353|0,F=(F<<11|F>>>21)+M|0,H+=(F^M^P)+L[7]-155497632|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^M)+L[10]-1094730640|0,P=(P<<23|P>>>9)+H|0,M+=(P^H^F)+L[13]+681279174|0,M=(M<<4|M>>>28)+P|0,F+=(M^P^H)+L[0]-358537222|0,F=(F<<11|F>>>21)+M|0,H+=(F^M^P)+L[3]-722521979|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^M)+L[6]+76029189|0,P=(P<<23|P>>>9)+H|0,M+=(P^H^F)+L[9]-640364487|0,M=(M<<4|M>>>28)+P|0,F+=(M^P^H)+L[12]-421815835|0,F=(F<<11|F>>>21)+M|0,H+=(F^M^P)+L[15]+530742520|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^M)+L[2]-995338651|0,P=(P<<23|P>>>9)+H|0,M+=(H^(P|~F))+L[0]-198630844|0,M=(M<<6|M>>>26)+P|0,F+=(P^(M|~H))+L[7]+1126891415|0,F=(F<<10|F>>>22)+M|0,H+=(M^(F|~P))+L[14]-1416354905|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~M))+L[5]-57434055|0,P=(P<<21|P>>>11)+H|0,M+=(H^(P|~F))+L[12]+1700485571|0,M=(M<<6|M>>>26)+P|0,F+=(P^(M|~H))+L[3]-1894986606|0,F=(F<<10|F>>>22)+M|0,H+=(M^(F|~P))+L[10]-1051523|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~M))+L[1]-2054922799|0,P=(P<<21|P>>>11)+H|0,M+=(H^(P|~F))+L[8]+1873313359|0,M=(M<<6|M>>>26)+P|0,F+=(P^(M|~H))+L[15]-30611744|0,F=(F<<10|F>>>22)+M|0,H+=(M^(F|~P))+L[6]-1560198380|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~M))+L[13]+1309151649|0,P=(P<<21|P>>>11)+H|0,M+=(H^(P|~F))+L[4]-145523070|0,M=(M<<6|M>>>26)+P|0,F+=(P^(M|~H))+L[11]-1120210379|0,F=(F<<10|F>>>22)+M|0,H+=(M^(F|~P))+L[2]+718787259|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~M))+L[9]-343485551|0,P=(P<<21|P>>>11)+H|0,C[0]=M+C[0]|0,C[1]=P+C[1]|0,C[2]=H+C[2]|0,C[3]=F+C[3]|0}o(i,"md5cycle");function s(C){var L=[],M;for(M=0;M<64;M+=4)L[M>>2]=C.charCodeAt(M)+(C.charCodeAt(M+1)<<8)+(C.charCodeAt(M+2)<<16)+(C.charCodeAt(M+3)<<24);return L}o(s,"md5blk");function a(C){var L=[],M;for(M=0;M<64;M+=4)L[M>>2]=C[M]+(C[M+1]<<8)+(C[M+2]<<16)+(C[M+3]<<24);return L}o(a,"md5blk_array");function c(C){var L=C.length,M=[1732584193,-271733879,-1732584194,271733878],P,H,F,J,W,X;for(P=64;P<=L;P+=64)i(M,s(C.substring(P-64,P)));for(C=C.substring(P-64),H=C.length,F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=0;P<H;P+=1)F[P>>2]|=C.charCodeAt(P)<<(P%4<<3);if(F[P>>2]|=128<<(P%4<<3),P>55)for(i(M,F),P=0;P<16;P+=1)F[P]=0;return J=L*8,J=J.toString(16).match(/(.*?)(.{0,8})$/),W=parseInt(J[2],16),X=parseInt(J[1],16)||0,F[14]=W,F[15]=X,i(M,F),M}o(c,"md51");function l(C){var L=C.length,M=[1732584193,-271733879,-1732584194,271733878],P,H,F,J,W,X;for(P=64;P<=L;P+=64)i(M,a(C.subarray(P-64,P)));for(C=P-64<L?C.subarray(P-64):new Uint8Array(0),H=C.length,F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=0;P<H;P+=1)F[P>>2]|=C[P]<<(P%4<<3);if(F[P>>2]|=128<<(P%4<<3),P>55)for(i(M,F),P=0;P<16;P+=1)F[P]=0;return J=L*8,J=J.toString(16).match(/(.*?)(.{0,8})$/),W=parseInt(J[2],16),X=parseInt(J[1],16)||0,F[14]=W,F[15]=X,i(M,F),M}o(l,"md51_array");function h(C){var L="",M;for(M=0;M<4;M+=1)L+=r[C>>M*8+4&15]+r[C>>M*8&15];return L}o(h,"rhex");function y(C){var L;for(L=0;L<C.length;L+=1)C[L]=h(C[L]);return C.join("")}o(y,"hex"),y(c("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=o(function(C,L){var M=(C&65535)+(L&65535),P=(C>>16)+(L>>16)+(M>>16);return P<<16|M&65535},"add32")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function C(L,M){return L=L|0||0,L<0?Math.max(L+M,0):Math.min(L,M)}o(C,"clamp"),ArrayBuffer.prototype.slice=function(L,M){var P=this.byteLength,H=C(L,P),F=P,J,W,X,S;return M!==t&&(F=C(M,P)),H>F?new ArrayBuffer(0):(J=F-H,W=new ArrayBuffer(J),X=new Uint8Array(W),S=new Uint8Array(this,H,J),X.set(S),W)}}();function p(C){return/[\u0080-\uFFFF]/.test(C)&&(C=unescape(encodeURIComponent(C))),C}o(p,"toUtf8");function E(C,L){var M=C.length,P=new ArrayBuffer(M),H=new Uint8Array(P),F;for(F=0;F<M;F+=1)H[F]=C.charCodeAt(F);return L?H:P}o(E,"utf8Str2ArrayBuffer");function I(C){return String.fromCharCode.apply(null,new Uint8Array(C))}o(I,"arrayBuffer2Utf8Str");function O(C,L,M){var P=new Uint8Array(C.byteLength+L.byteLength);return P.set(new Uint8Array(C)),P.set(new Uint8Array(L),C.byteLength),M?P:P.buffer}o(O,"concatenateArrayBuffers");function N(C){var L=[],M=C.length,P;for(P=0;P<M-1;P+=2)L.push(parseInt(C.substr(P,2),16));return String.fromCharCode.apply(String,L)}o(N,"hexToBinaryString");function k(){this.reset()}return o(k,"SparkMD5"),k.prototype.append=function(C){return this.appendBinary(p(C)),this},k.prototype.appendBinary=function(C){this._buff+=C,this._length+=C.length;var L=this._buff.length,M;for(M=64;M<=L;M+=64)i(this._hash,s(this._buff.substring(M-64,M)));return this._buff=this._buff.substring(M-64),this},k.prototype.end=function(C){var L=this._buff,M=L.length,P,H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F;for(P=0;P<M;P+=1)H[P>>2]|=L.charCodeAt(P)<<(P%4<<3);return this._finish(H,M),F=y(this._hash),C&&(F=N(F)),this.reset(),F},k.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},k.prototype.setState=function(C){return this._buff=C.buff,this._length=C.length,this._hash=C.hash,this},k.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},k.prototype._finish=function(C,L){var M=L,P,H,F;if(C[M>>2]|=128<<(M%4<<3),M>55)for(i(this._hash,C),M=0;M<16;M+=1)C[M]=0;P=this._length*8,P=P.toString(16).match(/(.*?)(.{0,8})$/),H=parseInt(P[2],16),F=parseInt(P[1],16)||0,C[14]=H,C[15]=F,i(this._hash,C)},k.hash=function(C,L){return k.hashBinary(p(C),L)},k.hashBinary=function(C,L){var M=c(C),P=y(M);return L?N(P):P},k.ArrayBuffer=function(){this.reset()},k.ArrayBuffer.prototype.append=function(C){var L=O(this._buff.buffer,C,!0),M=L.length,P;for(this._length+=C.byteLength,P=64;P<=M;P+=64)i(this._hash,a(L.subarray(P-64,P)));return this._buff=P-64<M?new Uint8Array(L.buffer.slice(P-64)):new Uint8Array(0),this},k.ArrayBuffer.prototype.end=function(C){var L=this._buff,M=L.length,P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],H,F;for(H=0;H<M;H+=1)P[H>>2]|=L[H]<<(H%4<<3);return this._finish(P,M),F=y(this._hash),C&&(F=N(F)),this.reset(),F},k.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.ArrayBuffer.prototype.getState=function(){var C=k.prototype.getState.call(this);return C.buff=I(C.buff),C},k.ArrayBuffer.prototype.setState=function(C){return C.buff=E(C.buff,!0),k.prototype.setState.call(this,C)},k.ArrayBuffer.prototype.destroy=k.prototype.destroy,k.ArrayBuffer.prototype._finish=k.prototype._finish,k.ArrayBuffer.hash=function(C,L){var M=l(new Uint8Array(C)),P=y(M);return L?N(P):P},k})});var _0=j(og=>{"use strict";m();g();Object.defineProperty(og,"__esModule",{value:!0});og.getMD5Hash=NG;og.encodeBase64=wl;og.attributeEncodeBase64=t8e;og.decodeBase64=hgt;og.obfuscatePrecomputedBanditMap=pgt;og.obfuscatePrecomputedFlags=ggt;var e8e=OG(),dgt=J4e();function NG(t,e=""){return new dgt().append(e).append(t).end()}o(NG,"getMD5Hash");function wl(t){return e8e.encode(t)}o(wl,"encodeBase64");function t8e(t){return wl(typeof t!="string"?String(t):t)}o(t8e,"attributeEncodeBase64");function hgt(t){return e8e.decode(t)}o(hgt,"decodeBase64");function pgt(t,e){return Object.fromEntries(Object.entries(e).map(([r,n])=>[NG(r,t),mgt(n)]))}o(pgt,"obfuscatePrecomputedBanditMap");function mgt(t){return{banditKey:wl(t.banditKey),action:wl(t.action),actionProbability:t.actionProbability,optimalityGap:t.optimalityGap,modelVersion:wl(t.modelVersion),actionNumericAttributes:Q4e(t.actionNumericAttributes),actionCategoricalAttributes:Q4e(t.actionCategoricalAttributes)}}o(mgt,"obfuscatePrecomputedBandit");function Q4e(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[wl(e),t8e(r)]))}o(Q4e,"encodeAttributes");function ggt(t,e){let r={};return Object.keys(e).forEach(n=>{let i=e[n],s=Object.fromEntries(Object.entries(i.extraLogging??{}).map(c=>c.map(wl))),a=NG(n,t);r[a]={flagKey:a,variationType:i.variationType,extraLogging:s,doLog:i.doLog,allocationKey:wl(i.allocationKey??""),variationKey:wl(i.variationKey??""),variationValue:wl(i.variationValue)}}),r}o(ggt,"obfuscatePrecomputedFlags")});var V3=j(H2=>{"use strict";m();g();Object.defineProperty(H2,"__esModule",{value:!0});H2.AbstractAssignmentCache=void 0;H2.assignmentCacheKeyToString=MG;H2.assignmentCacheValueToString=CG;var r8e=_0();function MG({subjectKey:t,flagKey:e}){return(0,r8e.getMD5Hash)([t,e].join(";"))}o(MG,"assignmentCacheKeyToString");function CG(t){return(0,r8e.getMD5Hash)(Object.values(t).join(";"))}o(CG,"assignmentCacheValueToString");var kG=class{static{o(this,"AbstractAssignmentCache")}constructor(e){this.delegate=e}has(e){return this.get(e)===CG(e)}get(e){return this.delegate.get(MG(e))}set(e){this.delegate.set(MG(e),CG(e))}entries(){return this.delegate.entries()}};H2.AbstractAssignmentCache=kG});var PG=j(CN=>{"use strict";m();g();Object.defineProperty(CN,"__esModule",{value:!0});CN.LRUCache=void 0;var BG=class{static{o(this,"LRUCache")}constructor(e){this.capacity=e,this.cache=new Map,this.size=this.cache.size}[Symbol.iterator](){return this.cache[Symbol.iterator]()}forEach(e,r){this.cache.forEach(e,r)}entries(){return this.cache.entries()}clear(){this.cache.clear()}delete(e){return this.cache.delete(e)}keys(){return this.cache.keys()}values(){return this.cache.values()}has(e){return this.cache.has(e)}get(e){if(!this.has(e))return;let r=this.cache.get(e);return r!==void 0&&(this.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.capacity===0)return this;if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.capacity){let n=this.cache.keys().next().value;n&&this.delete(n)}return this.cache.set(e,r),this}};CN.LRUCache=BG});var BN=j(kN=>{"use strict";m();g();Object.defineProperty(kN,"__esModule",{value:!0});kN.LRUInMemoryAssignmentCache=void 0;var ygt=V3(),bgt=PG(),LG=class extends ygt.AbstractAssignmentCache{static{o(this,"LRUInMemoryAssignmentCache")}constructor(e){super(new bgt.LRUCache(e))}};kN.LRUInMemoryAssignmentCache=LG});var LN=j(PN=>{"use strict";m();g();Object.defineProperty(PN,"__esModule",{value:!0});PN.NonExpiringInMemoryAssignmentCache=void 0;var xgt=V3(),DG=class extends xgt.AbstractAssignmentCache{static{o(this,"NonExpiringInMemoryAssignmentCache")}constructor(e=new Map){super(e)}};PN.NonExpiringInMemoryAssignmentCache=DG});var FG=j(P1=>{"use strict";m();g();Object.defineProperty(P1,"__esModule",{value:!0});P1.isInstanceOfContextualAttributes=DN;P1.ensureNonContextualSubjectAttributes=vgt;P1.ensureContextualSubjectAttributes=_gt;P1.deduceAttributeContext=UG;P1.ensureActionsWithContextualAttributes=wgt;function DN(t){return!!(typeof t=="object"&&t&&"numericAttributes"in t&&"categoricalAttributes"in t)}o(DN,"isInstanceOfContextualAttributes");function vgt(t){let e;if(DN(t)){let r=t;e={...r.numericAttributes,...r.categoricalAttributes}}else e=t;return e}o(vgt,"ensureNonContextualSubjectAttributes");function _gt(t){return DN(t)?t:UG(t)}o(_gt,"ensureContextualSubjectAttributes");function UG(t){let e={numericAttributes:{},categoricalAttributes:{}};return Object.entries(t).forEach(([r,n])=>{typeof n=="number"?e.numericAttributes[r]=n:e.categoricalAttributes[r]=n}),e}o(UG,"deduceAttributeContext");function wgt(t){let e={};return Array.isArray(t)?t.forEach(r=>{e[r]={numericAttributes:{},categoricalAttributes:{}}}):Object.values(t).every(DN)?e=t:Object.entries(t).forEach(([r,n])=>{e[r]=UG(n)}),e}o(wgt,"ensureActionsWithContextualAttributes")});var VG=j(sg=>{"use strict";m();g();Object.defineProperty(sg,"__esModule",{value:!0});sg.DeterministicSharder=sg.MD5Sharder=sg.Sharder=void 0;var Egt=_0(),j3=class{static{o(this,"Sharder")}};sg.Sharder=j3;var HG=class extends j3{static{o(this,"MD5Sharder")}getShard(e,r){let n=(0,Egt.getMD5Hash)(e);return parseInt(n.slice(0,8),16)%r}};sg.MD5Sharder=HG;var qG=class extends j3{static{o(this,"DeterministicSharder")}constructor(e){super(),this.lookup=e}getShard(e,r){return this.lookup[e]??0}};sg.DeterministicSharder=qG});var n8e=j(UN=>{"use strict";m();g();Object.defineProperty(UN,"__esModule",{value:!0});UN.BanditEvaluator=void 0;var Sgt=x0(),Agt=VG(),jG=class{static{o(this,"BanditEvaluator")}constructor(){this.assignmentShards=Sgt.BANDIT_ASSIGNMENT_SHARDS,this.sharder=new Agt.MD5Sharder}evaluateBestBanditAction(e,r,n){let i=this.scoreActions(e,r,n),{topAction:s}=this.getTopScore(i);return s}evaluateBandit(e,r,n,i,s){let a=this.scoreActions(n,i,s),c=this.weighActions(a,s.gamma,s.actionProbabilityFloor),l=this.selectAction(e,r,c),y=Object.values(a).reduce((p,E)=>E>p?E:p,-1/0)-a[l];return{flagKey:e,subjectKey:r,subjectAttributes:n,actionKey:l,actionAttributes:i[l],actionScore:a[l],actionWeight:c[l],gamma:s.gamma,optimalityGap:y}}scoreActions(e,r,n){let i={};return Object.entries(r).forEach(([s,a])=>{let c=n.defaultActionScore,l=n.coefficients[s];l&&(c=l.intercept,c+=this.scoreNumericAttributes(l.subjectNumericCoefficients,e.numericAttributes),c+=this.scoreCategoricalAttributes(l.subjectCategoricalCoefficients,e.categoricalAttributes),c+=this.scoreNumericAttributes(l.actionNumericCoefficients,a.numericAttributes),c+=this.scoreCategoricalAttributes(l.actionCategoricalCoefficients,a.categoricalAttributes)),i[s]=c}),i}scoreNumericAttributes(e,r){return e.reduce((n,i)=>{let s=r[i.attributeKey];return typeof s=="number"&&isFinite(s)?n+=s*i.coefficient:n+=i.missingValueCoefficient,n},0)}scoreCategoricalAttributes(e,r){return e.reduce((n,i)=>{let s=r[i.attributeKey]?.toString(),a=s&&i.valueCoefficients[s];return n+=typeof a=="number"?a:i.missingValueCoefficient,n},0)}weighActions(e,r,n){let i={},s=Object.entries(e);if(!s.length)return i;let{topScore:a,topAction:c}=this.getTopScore(e);if(a===null||c===null)throw new Error("Unable to find top score");let l=a,h=c,y=s.length,p=n/y,E=0;return s.forEach(([I,O])=>{if(I===h)return;let N=1/(y+r*(l-O)),k=Math.max(N,p);E+=k,i[I]=k}),i[h]=Math.max(1-E,0),i}selectAction(e,r,n){let i=Object.entries(n).sort((h,y)=>{let p=this.sharder.getShard(`${e}-${r}-${h[0]}`,this.assignmentShards),E=this.sharder.getShard(`${e}-${r}-${y[0]}`,this.assignmentShards),I=p-E;return I===0&&(I=h[0]<y[0]?-1:1),I}),a=this.sharder.getShard(`${e}-${r}`,this.assignmentShards)/this.assignmentShards,c=0,l=null;for(let h of i)if(c+=h[1],c>a){l=h[0];break}if(l===null)throw new Error(`No bandit action selected for flag "${e}" and subject "${r}"`);return l}getTopScore(e){let r=Object.entries(e),n=null,i=null;return r.forEach(([s,a])=>{(n===null||i===null||a>n||a===n&&s<i)&&(n=a,i=s)}),{topScore:n,topAction:i}}};UN.BanditEvaluator=jG});var i8e=j(FN=>{"use strict";m();g();Object.defineProperty(FN,"__esModule",{value:!0});FN.TLRUCache=void 0;var Igt=PG(),zG=class extends Igt.LRUCache{static{o(this,"TLRUCache")}constructor(e,r){super(e),this.maxSize=e,this.ttl=r,this.cacheEntriesTTLRegistry=new Map}getCacheEntryEvictionTime(){return new Date(Date.now()+this.ttl)}clearCacheEntryEvictionTimeIfExists(e){this.cacheEntriesTTLRegistry.has(e)&&this.cacheEntriesTTLRegistry.delete(e)}isCacheEntryValid(e){let r=new Date(Date.now()),n=this.cacheEntriesTTLRegistry.get(e);return n!==void 0?r<n:!1}setCacheEntryEvictionTime(e){this.cacheEntriesTTLRegistry.set(e,this.getCacheEntryEvictionTime())}resetCacheEntryEvictionTime(e){this.clearCacheEntryEvictionTimeIfExists(e),this.setCacheEntryEvictionTime(e)}evictExpiredCacheEntries(){let e;for(e of this.cache.keys())if(!this.isCacheEntryValid(e))this.delete(e);else break}entries(){return this.evictExpiredCacheEntries(),super.entries()}keys(){return this.evictExpiredCacheEntries(),super.keys()}values(){return this.evictExpiredCacheEntries(),super.values()}delete(e){return this.clearCacheEntryEvictionTimeIfExists(e),super.delete(e)}has(e){return this.isCacheEntryValid(e)?this.cache.has(e):(this.delete(e),!1)}get(e){if(!this.isCacheEntryValid(e)){this.delete(e);return}let r=super.get(e);return r!==void 0&&this.resetCacheEntryEvictionTime(e),r}set(e,r){let n=super.set(e,r);return this.resetCacheEntryEvictionTime(e),n}};FN.TLRUCache=zG});var o8e=j(HN=>{"use strict";m();g();Object.defineProperty(HN,"__esModule",{value:!0});HN.TLRUInMemoryAssignmentCache=void 0;var Tgt=x0(),Rgt=V3(),Ogt=i8e(),KG=class extends Rgt.AbstractAssignmentCache{static{o(this,"TLRUInMemoryAssignmentCache")}constructor(e,r=Tgt.DEFAULT_TLRU_TTL_MS){super(new Ogt.TLRUCache(e,r))}};HN.TLRUInMemoryAssignmentCache=KG});var w0=j(ag=>{"use strict";m();g();Object.defineProperty(ag,"__esModule",{value:!0});ag.FormatEnum=ag.UNKNOWN_ENVIRONMENT_NAME=ag.VariationType=void 0;var s8e;(function(t){t.STRING="STRING",t.INTEGER="INTEGER",t.NUMERIC="NUMERIC",t.BOOLEAN="BOOLEAN",t.JSON="JSON"})(s8e||(ag.VariationType=s8e={}));ag.UNKNOWN_ENVIRONMENT_NAME="UNKNOWN";var a8e;(function(t){t.SERVER="SERVER",t.CLIENT="CLIENT",t.PRECOMPUTED="PRECOMPUTED"})(a8e||(ag.FormatEnum=a8e={}))});var f8e=j(Jd=>{"use strict";m();g();Object.defineProperty(Jd,"__esModule",{value:!0});Jd.ConfigurationWireV1=Jd.ObfuscatedPrecomputedConfigurationResponse=Jd.PrecomputedConfigurationResponse=Jd.PrecomputedConfiguration=void 0;var Ngt=w0(),c8e=_0(),qN=class{static{o(this,"BasePrecomputedConfigurationResponse")}constructor(e,r,n){this.subjectKey=e,this.subjectAttributes=r,this.environment=n,this.format=Ngt.FormatEnum.PRECOMPUTED,this.createdAt=new Date().toISOString()}},GG=class t{static{o(this,"PrecomputedConfiguration")}constructor(e,r,n){this.response=e,this.subjectKey=r,this.subjectAttributes=n}static obfuscated(e,r,n,i,s,a){let c=new jN(e,r,n,i,s,a);return new t(JSON.stringify(c),e,s)}static unobfuscated(e,r,n,i,s){let a=new VN(e,r,n,i,s);return new t(JSON.stringify(a),e,i)}};Jd.PrecomputedConfiguration=GG;var VN=class extends qN{static{o(this,"PrecomputedConfigurationResponse")}constructor(e,r,n,i,s){super(e,i,s),this.flags=r,this.bandits=n,this.obfuscated=!1}};Jd.PrecomputedConfigurationResponse=VN;var jN=class extends qN{static{o(this,"ObfuscatedPrecomputedConfigurationResponse")}constructor(e,r,n,i,s,a){super(e,s,a),this.obfuscated=!0,this.salt=i,this.bandits=(0,c8e.obfuscatePrecomputedBanditMap)(this.salt,n),this.flags=(0,c8e.obfuscatePrecomputedFlags)(this.salt,r)}};Jd.ObfuscatedPrecomputedConfigurationResponse=jN;var $G=class{static{o(this,"ConfigurationWireV1")}constructor(e){this.precomputed=e,this.version=1}};Jd.ConfigurationWireV1=$G});var YG=j(WG=>{"use strict";m();g();Object.defineProperty(WG,"__esModule",{value:!0});WG.hydrateConfigurationStore=Mgt;async function Mgt(t,e){t&&await t.setEntries(e.entries)&&(t.setEnvironment(e.environment),t.setConfigFetchedAt(new Date().toISOString()),t.setConfigPublishedAt(e.createdAt),t.setFormat(e.format),t.salt=e.salt)}o(Mgt,"hydrateConfigurationStore")});var QG=j(JG=>{"use strict";m();g();Object.defineProperty(JG,"__esModule",{value:!0});var XG=YG(),ZG=class{static{o(this,"ConfigurationRequestor")}constructor(e,r,n,i){this.httpClient=e,this.flagConfigurationStore=r,this.banditVariationConfigurationStore=n,this.banditModelConfigurationStore=i,this.banditModelVersions=[]}async fetchAndStoreConfigurations(){let e=await this.httpClient.getUniversalFlagConfiguration();if(!e?.flags)return;await(0,XG.hydrateConfigurationStore)(this.flagConfigurationStore,{entries:e.flags,environment:e.environment,createdAt:e.createdAt,format:e.format});let r=Object.keys(e.banditReferences??{}).length>0,n=!!(this.banditVariationConfigurationStore&&this.banditModelConfigurationStore);if(r&&n){let i=this.indexBanditVariationsByFlagKey(e.banditReferences);if(await(0,XG.hydrateConfigurationStore)(this.banditVariationConfigurationStore,{entries:i,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.requiresBanditModelConfigurationStoreUpdate(this.banditModelVersions,e.banditReferences)){let s=await this.httpClient.getBanditParameters();s?.bandits&&(await(0,XG.hydrateConfigurationStore)(this.banditModelConfigurationStore,{entries:s.bandits,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.banditModelVersions=this.getLoadedBanditModelVersionsFromStore(this.banditModelConfigurationStore))}}}getLoadedBanditModelVersionsFromStore(e){return e===null?[]:Object.values(e.entries()).map(r=>r.modelVersion)}requiresBanditModelConfigurationStoreUpdate(e,r){return!Object.values(r).map(i=>i.modelVersion).every(i=>e.includes(i))}indexBanditVariationsByFlagKey(e){let r={};return Object.values(e).forEach(n=>{n.flagVariations.forEach(i=>{let s=r[i.flagKey];s||(s=[],r[i.flagKey]=s),s.push(i)})}),r}};JG.default=ZG});var KN=j(bu=>{"use strict";m();g();Object.defineProperty(bu,"__esModule",{value:!0});bu.decodeFlag=Cgt;bu.decodeVariations=u8e;bu.decodeValue=t$;bu.decodeAllocation=l8e;bu.decodeSplit=d8e;bu.decodeShard=h8e;bu.decodeObject=zN;bu.decodeObjectTo=r$;bu.decodePrecomputedFlag=kgt;bu.decodePrecomputedBandit=Bgt;var e$=w0(),wa=_0();function Cgt(t){return{...t,variations:u8e(t.variations,t.variationType),allocations:t.allocations.map(l8e)}}o(Cgt,"decodeFlag");function u8e(t,e){return Object.fromEntries(Object.entries(t).map(([,r])=>{let n=(0,wa.decodeBase64)(r.key);return[n,{key:n,value:t$(r.value,e)}]}))}o(u8e,"decodeVariations");function t$(t,e){switch(e){case e$.VariationType.INTEGER:case e$.VariationType.NUMERIC:return Number((0,wa.decodeBase64)(t));case e$.VariationType.BOOLEAN:return(0,wa.decodeBase64)(t)==="true";default:return(0,wa.decodeBase64)(t)}}o(t$,"decodeValue");function l8e(t){return{...t,key:(0,wa.decodeBase64)(t.key),splits:t.splits.map(d8e),startAt:t.startAt?new Date((0,wa.decodeBase64)(t.startAt)).toISOString():void 0,endAt:t.endAt?new Date((0,wa.decodeBase64)(t.endAt)).toISOString():void 0}}o(l8e,"decodeAllocation");function d8e(t){return{extraLogging:t.extraLogging?zN(t.extraLogging):void 0,variationKey:(0,wa.decodeBase64)(t.variationKey),shards:t.shards.map(h8e)}}o(d8e,"decodeSplit");function h8e(t){return{...t,salt:(0,wa.decodeBase64)(t.salt)}}o(h8e,"decodeShard");function zN(t){return r$(t,e=>e)}o(zN,"decodeObject");function r$(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[(0,wa.decodeBase64)(r),e((0,wa.decodeBase64)(n))]))}o(r$,"decodeObjectTo");function kgt(t){return{...t,allocationKey:(0,wa.decodeBase64)(t.allocationKey??""),variationKey:(0,wa.decodeBase64)(t.variationKey??""),variationValue:t$(t.variationValue,t.variationType),extraLogging:zN(t.extraLogging??{})}}o(kgt,"decodePrecomputedFlag");function Bgt(t){return{...t,banditKey:(0,wa.decodeBase64)(t.banditKey),action:(0,wa.decodeBase64)(t.action),modelVersion:(0,wa.decodeBase64)(t.modelVersion),actionNumericAttributes:r$(t.actionNumericAttributes??{},e=>+e),actionCategoricalAttributes:zN(t.actionCategoricalAttributes??{})}}o(Bgt,"decodePrecomputedBandit")});var p8e=j(q2=>{"use strict";m();g();Object.defineProperty(q2,"__esModule",{value:!0});q2.EppoValue=q2.EppoValueType=void 0;var z3=w0(),Pgt=_0(),xu;(function(t){t[t.NullType=0]="NullType",t[t.BoolType=1]="BoolType",t[t.NumericType=2]="NumericType",t[t.StringType=3]="StringType",t[t.JSONType=4]="JSONType"})(xu||(q2.EppoValueType=xu={}));var n$=class t{static{o(this,"EppoValue")}constructor(e,r,n,i,s){this.valueType=e,this.boolValue=r,this.numericValue=n,this.stringValue=i,this.objectValue=s}static valueOf(e,r){if(e==null)return t.Null();switch(r){case z3.VariationType.BOOLEAN:return t.Bool(e);case z3.VariationType.NUMERIC:return t.Numeric(e);case z3.VariationType.INTEGER:return t.Numeric(e);case z3.VariationType.STRING:return t.String(e);case z3.VariationType.JSON:return t.JSON(e);default:return t.String(e)}}toString(){switch(this.valueType){case xu.NullType:return"null";case xu.BoolType:return this.boolValue?"true":"false";case xu.NumericType:return this.numericValue?this.numericValue.toString():"0";case xu.StringType:return this.stringValue??"";case xu.JSONType:try{return JSON.stringify(this.objectValue)??""}catch{return this.stringValue??""}}}toHashedString(){let e=this.toString();return(0,Pgt.getMD5Hash)(e)}static Bool(e){return new t(xu.BoolType,e,void 0,void 0,void 0)}static Numeric(e){return new t(xu.NumericType,void 0,e,void 0,void 0)}static String(e){return new t(xu.StringType,void 0,void 0,e,void 0)}static JSON(e){return new t(xu.JSONType,void 0,void 0,void 0,typeof e=="string"?JSON.parse(e):e)}static Null(){return new t(xu.NullType,void 0,void 0,void 0,void 0)}};q2.EppoValue=n$});var o$=j(cg=>{"use strict";m();g();Object.defineProperty(cg,"__esModule",{value:!0});cg.FlagEvaluationDetailsBuilder=cg.AllocationEvaluationCode=cg.flagEvaluationCodes=void 0;var Lgt=w0();cg.flagEvaluationCodes=["MATCH","FLAG_UNRECOGNIZED_OR_DISABLED","TYPE_MISMATCH","ASSIGNMENT_ERROR","DEFAULT_ALLOCATION_NULL","NO_ACTIONS_SUPPLIED_FOR_BANDIT","BANDIT_ERROR"];var GN;(function(t){t.UNEVALUATED="UNEVALUATED",t.MATCH="MATCH",t.BEFORE_START_TIME="BEFORE_START_TIME",t.TRAFFIC_EXPOSURE_MISS="TRAFFIC_EXPOSURE_MISS",t.AFTER_END_TIME="AFTER_END_TIME",t.FAILING_RULE="FAILING_RULE"})(GN||(cg.AllocationEvaluationCode=GN={}));var i$=class{static{o(this,"FlagEvaluationDetailsBuilder")}constructor(e,r,n,i){this.environmentName=e,this.allocations=r,this.configFetchedAt=n,this.configPublishedAt=i,this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.addUnmatchedAllocation=s=>{this.unmatchedAllocations.push(s)},this.setNone=()=>(this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this),this.setMatch=(s,a,c,l,h)=>(this.variationKey=a.key,this.variationValue=h===Lgt.VariationType.JSON&&typeof a.value=="string"?JSON.parse(a.value):a.value,this.matchedRule=l,this.matchedAllocation={key:c.key,allocationEvaluationCode:GN.MATCH,orderPosition:s+1},this),this.buildForNoneResult=(s,a)=>this.setNone().build(s,a),this.build=(s,a)=>({environmentName:this.environmentName,flagEvaluationCode:s,flagEvaluationDescription:a,variationKey:this.variationKey,variationValue:this.variationValue,banditKey:null,banditAction:null,configFetchedAt:this.configFetchedAt,configPublishedAt:this.configPublishedAt,matchedRule:this.matchedRule,matchedAllocation:this.matchedAllocation,unmatchedAllocations:this.unmatchedAllocations,unevaluatedAllocations:this.calculateUnevaluatedAllocations()}),this.gracefulBuild=(s,a)=>{try{return this.build(s,a)}catch{return null}},this.calculateUnevaluatedAllocations=()=>{let s=this.matchedAllocation?this.unmatchedAllocations.length+1:this.unmatchedAllocations.length,a=s+1;return this.allocations.slice(s).map((c,l)=>({key:c.key,allocationEvaluationCode:GN.UNEVALUATED,orderPosition:a+l}))},this.setNone()}};cg.FlagEvaluationDetailsBuilder=i$});var a$=j($N=>{"use strict";m();g();Object.defineProperty($N,"__esModule",{value:!0});$N.FlagEvaluationError=void 0;var s$=class extends Error{static{o(this,"FlagEvaluationError")}};$N.FlagEvaluationError=s$});var K3=j((RWr,m8e)=>{m();g();var Dgt="2.0.0",Ugt=Number.MAX_SAFE_INTEGER||9007199254740991,Fgt=16,Hgt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];m8e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Fgt,MAX_SAFE_INTEGER:Ugt,RELEASE_TYPES:Hgt,SEMVER_SPEC_VERSION:Dgt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var G3=j((MWr,g8e)=>{m();g();var qgt=typeof process=="object"&&R&&R.NODE_DEBUG&&/\bsemver\b/i.test(R.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};g8e.exports=qgt});var V2=j((E0,y8e)=>{m();g();var{MAX_SAFE_COMPONENT_LENGTH:c$}=K3(),Vgt=G3();E0=y8e.exports={};var jgt=E0.re=[],zgt=E0.safeRe=[],Ct=E0.src=[],kt=E0.t={},Kgt=0,Nr=o((t,e,r)=>{let n=e.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),i=Kgt++;Vgt(t,i,e),kt[t]=i,Ct[i]=e,jgt[i]=new RegExp(e,r?"g":void 0),zgt[i]=new RegExp(n,r?"g":void 0)},"createToken");Nr("NUMERICIDENTIFIER","0|[1-9]\\d*");Nr("NUMERICIDENTIFIERLOOSE","[0-9]+");Nr("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Nr("MAINVERSION",`(${Ct[kt.NUMERICIDENTIFIER]})\\.(${Ct[kt.NUMERICIDENTIFIER]})\\.(${Ct[kt.NUMERICIDENTIFIER]})`);Nr("MAINVERSIONLOOSE",`(${Ct[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Ct[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Ct[kt.NUMERICIDENTIFIERLOOSE]})`);Nr("PRERELEASEIDENTIFIER",`(?:${Ct[kt.NUMERICIDENTIFIER]}|${Ct[kt.NONNUMERICIDENTIFIER]})`);Nr("PRERELEASEIDENTIFIERLOOSE",`(?:${Ct[kt.NUMERICIDENTIFIERLOOSE]}|${Ct[kt.NONNUMERICIDENTIFIER]})`);Nr("PRERELEASE",`(?:-(${Ct[kt.PRERELEASEIDENTIFIER]}(?:\\.${Ct[kt.PRERELEASEIDENTIFIER]})*))`);Nr("PRERELEASELOOSE",`(?:-?(${Ct[kt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ct[kt.PRERELEASEIDENTIFIERLOOSE]})*))`);Nr("BUILDIDENTIFIER","[0-9A-Za-z-]+");Nr("BUILD",`(?:\\+(${Ct[kt.BUILDIDENTIFIER]}(?:\\.${Ct[kt.BUILDIDENTIFIER]})*))`);Nr("FULLPLAIN",`v?${Ct[kt.MAINVERSION]}${Ct[kt.PRERELEASE]}?${Ct[kt.BUILD]}?`);Nr("FULL",`^${Ct[kt.FULLPLAIN]}$`);Nr("LOOSEPLAIN",`[v=\\s]*${Ct[kt.MAINVERSIONLOOSE]}${Ct[kt.PRERELEASELOOSE]}?${Ct[kt.BUILD]}?`);Nr("LOOSE",`^${Ct[kt.LOOSEPLAIN]}$`);Nr("GTLT","((?:<|>)?=?)");Nr("XRANGEIDENTIFIERLOOSE",`${Ct[kt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Nr("XRANGEIDENTIFIER",`${Ct[kt.NUMERICIDENTIFIER]}|x|X|\\*`);Nr("XRANGEPLAIN",`[v=\\s]*(${Ct[kt.XRANGEIDENTIFIER]})(?:\\.(${Ct[kt.XRANGEIDENTIFIER]})(?:\\.(${Ct[kt.XRANGEIDENTIFIER]})(?:${Ct[kt.PRERELEASE]})?${Ct[kt.BUILD]}?)?)?`);Nr("XRANGEPLAINLOOSE",`[v=\\s]*(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:${Ct[kt.PRERELEASELOOSE]})?${Ct[kt.BUILD]}?)?)?`);Nr("XRANGE",`^${Ct[kt.GTLT]}\\s*${Ct[kt.XRANGEPLAIN]}$`);Nr("XRANGELOOSE",`^${Ct[kt.GTLT]}\\s*${Ct[kt.XRANGEPLAINLOOSE]}$`);Nr("COERCE",`(^|[^\\d])(\\d{1,${c$}})(?:\\.(\\d{1,${c$}}))?(?:\\.(\\d{1,${c$}}))?(?:$|[^\\d])`);Nr("COERCERTL",Ct[kt.COERCE],!0);Nr("LONETILDE","(?:~>?)");Nr("TILDETRIM",`(\\s*)${Ct[kt.LONETILDE]}\\s+`,!0);E0.tildeTrimReplace="$1~";Nr("TILDE",`^${Ct[kt.LONETILDE]}${Ct[kt.XRANGEPLAIN]}$`);Nr("TILDELOOSE",`^${Ct[kt.LONETILDE]}${Ct[kt.XRANGEPLAINLOOSE]}$`);Nr("LONECARET","(?:\\^)");Nr("CARETTRIM",`(\\s*)${Ct[kt.LONECARET]}\\s+`,!0);E0.caretTrimReplace="$1^";Nr("CARET",`^${Ct[kt.LONECARET]}${Ct[kt.XRANGEPLAIN]}$`);Nr("CARETLOOSE",`^${Ct[kt.LONECARET]}${Ct[kt.XRANGEPLAINLOOSE]}$`);Nr("COMPARATORLOOSE",`^${Ct[kt.GTLT]}\\s*(${Ct[kt.LOOSEPLAIN]})$|^$`);Nr("COMPARATOR",`^${Ct[kt.GTLT]}\\s*(${Ct[kt.FULLPLAIN]})$|^$`);Nr("COMPARATORTRIM",`(\\s*)${Ct[kt.GTLT]}\\s*(${Ct[kt.LOOSEPLAIN]}|${Ct[kt.XRANGEPLAIN]})`,!0);E0.comparatorTrimReplace="$1$2$3";Nr("HYPHENRANGE",`^\\s*(${Ct[kt.XRANGEPLAIN]})\\s+-\\s+(${Ct[kt.XRANGEPLAIN]})\\s*$`);Nr("HYPHENRANGELOOSE",`^\\s*(${Ct[kt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ct[kt.XRANGEPLAINLOOSE]})\\s*$`);Nr("STAR","(<|>)?=?\\s*\\*");Nr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Nr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var WN=j((DWr,b8e)=>{m();g();var Ggt=Object.freeze({loose:!0}),$gt=Object.freeze({}),Wgt=o(t=>t?typeof t!="object"?Ggt:t:$gt,"parseOptions");b8e.exports=Wgt});var f$=j((qWr,_8e)=>{m();g();var x8e=/^[0-9]+$/,v8e=o((t,e)=>{let r=x8e.test(t),n=x8e.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},"compareIdentifiers"),Ygt=o((t,e)=>v8e(e,t),"rcompareIdentifiers");_8e.exports={compareIdentifiers:v8e,rcompareIdentifiers:Ygt}});var Ea=j((KWr,A8e)=>{m();g();var YN=G3(),{MAX_LENGTH:w8e,MAX_SAFE_INTEGER:XN}=K3(),{safeRe:E8e,t:S8e}=V2(),Xgt=WN(),{compareIdentifiers:j2}=f$(),u$=class t{static{o(this,"SemVer")}constructor(e,r){if(r=Xgt(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>w8e)throw new TypeError(`version is longer than ${w8e} characters`);YN("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?E8e[S8e.LOOSE]:E8e[S8e.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>XN||this.major<0)throw new TypeError("Invalid major version");if(this.minor>XN||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>XN||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<XN)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(YN("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),j2(this.major,e.major)||j2(this.minor,e.minor)||j2(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(YN("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return j2(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(YN("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return j2(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),j2(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};A8e.exports=u$});var L1=j((YWr,T8e)=>{m();g();var I8e=Ea(),Zgt=o((t,e,r=!1)=>{if(t instanceof I8e)return t;try{return new I8e(t,e)}catch(n){if(!r)return null;throw n}},"parse");T8e.exports=Zgt});var O8e=j((QWr,R8e)=>{m();g();var Jgt=L1(),Qgt=o((t,e)=>{let r=Jgt(t,e);return r?r.version:null},"valid");R8e.exports=Qgt});var M8e=j((nYr,N8e)=>{m();g();var eyt=L1(),tyt=o((t,e)=>{let r=eyt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},"clean");N8e.exports=tyt});var B8e=j((aYr,k8e)=>{m();g();var C8e=Ea(),ryt=o((t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new C8e(t instanceof C8e?t.version:t,r).inc(e,n,i).version}catch{return null}},"inc");k8e.exports=ryt});var D8e=j((lYr,L8e)=>{m();g();var P8e=L1(),nyt=o((t,e)=>{let r=P8e(t,null,!0),n=P8e(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,c=s?n:r,l=!!a.prerelease.length;if(!!c.prerelease.length&&!l)return!c.patch&&!c.minor?"major":a.patch?"patch":a.minor?"minor":"major";let y=l?"pre":"";return r.major!==n.major?y+"major":r.minor!==n.minor?y+"minor":r.patch!==n.patch?y+"patch":"prerelease"},"diff");L8e.exports=nyt});var F8e=j((mYr,U8e)=>{m();g();var iyt=Ea(),oyt=o((t,e)=>new iyt(t,e).major,"major");U8e.exports=oyt});var q8e=j((xYr,H8e)=>{m();g();var syt=Ea(),ayt=o((t,e)=>new syt(t,e).minor,"minor");H8e.exports=ayt});var j8e=j((EYr,V8e)=>{m();g();var cyt=Ea(),fyt=o((t,e)=>new cyt(t,e).patch,"patch");V8e.exports=fyt});var K8e=j((TYr,z8e)=>{m();g();var uyt=L1(),lyt=o((t,e)=>{let r=uyt(t,e);return r&&r.prerelease.length?r.prerelease:null},"prerelease");z8e.exports=lyt});var vu=j((MYr,$8e)=>{m();g();var G8e=Ea(),dyt=o((t,e,r)=>new G8e(t,r).compare(new G8e(e,r)),"compare");$8e.exports=dyt});var Y8e=j((PYr,W8e)=>{m();g();var hyt=vu(),pyt=o((t,e,r)=>hyt(e,t,r),"rcompare");W8e.exports=pyt});var Z8e=j((FYr,X8e)=>{m();g();var myt=vu(),gyt=o((t,e)=>myt(t,e,!0),"compareLoose");X8e.exports=gyt});var ZN=j((jYr,Q8e)=>{m();g();var J8e=Ea(),yyt=o((t,e,r)=>{let n=new J8e(t,r),i=new J8e(e,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");Q8e.exports=yyt});var t5e=j(($Yr,e5e)=>{m();g();var byt=ZN(),xyt=o((t,e)=>t.sort((r,n)=>byt(r,n,e)),"sort");e5e.exports=xyt});var n5e=j((ZYr,r5e)=>{m();g();var vyt=ZN(),_yt=o((t,e)=>t.sort((r,n)=>vyt(n,r,e)),"rsort");r5e.exports=_yt});var $3=j((tXr,i5e)=>{m();g();var wyt=vu(),Eyt=o((t,e,r)=>wyt(t,e,r)>0,"gt");i5e.exports=Eyt});var JN=j((oXr,o5e)=>{m();g();var Syt=vu(),Ayt=o((t,e,r)=>Syt(t,e,r)<0,"lt");o5e.exports=Ayt});var l$=j((fXr,s5e)=>{m();g();var Iyt=vu(),Tyt=o((t,e,r)=>Iyt(t,e,r)===0,"eq");s5e.exports=Tyt});var d$=j((hXr,a5e)=>{m();g();var Ryt=vu(),Oyt=o((t,e,r)=>Ryt(t,e,r)!==0,"neq");a5e.exports=Oyt});var QN=j((yXr,c5e)=>{m();g();var Nyt=vu(),Myt=o((t,e,r)=>Nyt(t,e,r)>=0,"gte");c5e.exports=Myt});var eM=j((_Xr,f5e)=>{m();g();var Cyt=vu(),kyt=o((t,e,r)=>Cyt(t,e,r)<=0,"lte");f5e.exports=kyt});var h$=j((AXr,u5e)=>{m();g();var Byt=l$(),Pyt=d$(),Lyt=$3(),Dyt=QN(),Uyt=JN(),Fyt=eM(),Hyt=o((t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Byt(t,r,n);case"!=":return Pyt(t,r,n);case">":return Lyt(t,r,n);case">=":return Dyt(t,r,n);case"<":return Uyt(t,r,n);case"<=":return Fyt(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");u5e.exports=Hyt});var d5e=j((OXr,l5e)=>{m();g();var qyt=Ea(),Vyt=L1(),{safeRe:tM,t:rM}=V2(),jyt=o((t,e)=>{if(t instanceof qyt)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(tM[rM.COERCE]);else{let n;for(;(n=tM[rM.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),tM[rM.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;tM[rM.COERCERTL].lastIndex=-1}return r===null?null:Vyt(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)},"coerce");l5e.exports=jyt});var p5e=j((kXr,h5e)=>{"use strict";m();g();h5e.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var g5e=j((LXr,m5e)=>{"use strict";m();g();m5e.exports=yn;yn.Node=D1;yn.create=yn;function yn(t){var e=this;if(e instanceof yn||(e=new yn),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}o(yn,"Yallist");yn.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};yn.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};yn.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};yn.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Kyt(this,arguments[t]);return this.length};yn.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Gyt(this,arguments[t]);return this.length};yn.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};yn.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};yn.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};yn.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};yn.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};yn.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};yn.prototype.map=function(t,e){e=e||this;for(var r=new yn,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};yn.prototype.mapReverse=function(t,e){e=e||this;for(var r=new yn,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};yn.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};yn.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};yn.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};yn.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};yn.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new yn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};yn.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new yn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};yn.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=zyt(this,i,r[n]);return s};yn.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function zyt(t,e,r){var n=e===t.head?new D1(r,null,e,t):new D1(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}o(zyt,"insert");function Kyt(t,e){t.tail=new D1(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}o(Kyt,"push");function Gyt(t,e){t.head=new D1(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}o(Gyt,"unshift");function D1(t,e,r,n){if(!(this instanceof D1))return new D1(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}o(D1,"Node");try{p5e()(yn)}catch{}});var _5e=j((HXr,v5e)=>{"use strict";m();g();var $yt=g5e(),U1=Symbol("max"),A0=Symbol("length"),z2=Symbol("lengthCalculator"),Y3=Symbol("allowStale"),F1=Symbol("maxAge"),S0=Symbol("dispose"),y5e=Symbol("noDisposeOnSet"),ss=Symbol("lruList"),El=Symbol("cache"),x5e=Symbol("updateAgeOnGet"),p$=o(()=>1,"naiveLength"),g$=class{static{o(this,"LRUCache")}constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[U1]=e.max||1/0,n=e.length||p$;if(this[z2]=typeof n!="function"?p$:n,this[Y3]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[F1]=e.maxAge||0,this[S0]=e.dispose,this[y5e]=e.noDisposeOnSet||!1,this[x5e]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[U1]=e||1/0,W3(this)}get max(){return this[U1]}set allowStale(e){this[Y3]=!!e}get allowStale(){return this[Y3]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[F1]=e,W3(this)}get maxAge(){return this[F1]}set lengthCalculator(e){typeof e!="function"&&(e=p$),e!==this[z2]&&(this[z2]=e,this[A0]=0,this[ss].forEach(r=>{r.length=this[z2](r.value,r.key),this[A0]+=r.length})),W3(this)}get lengthCalculator(){return this[z2]}get length(){return this[A0]}get itemCount(){return this[ss].length}rforEach(e,r){r=r||this;for(let n=this[ss].tail;n!==null;){let i=n.prev;b5e(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ss].head;n!==null;){let i=n.next;b5e(this,e,n,r),n=i}}keys(){return this[ss].toArray().map(e=>e.key)}values(){return this[ss].toArray().map(e=>e.value)}reset(){this[S0]&&this[ss]&&this[ss].length&&this[ss].forEach(e=>this[S0](e.key,e.value)),this[El]=new Map,this[ss]=new $yt,this[A0]=0}dump(){return this[ss].map(e=>nM(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ss]}set(e,r,n){if(n=n||this[F1],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[z2](r,e);if(this[El].has(e)){if(s>this[U1])return K2(this,this[El].get(e)),!1;let l=this[El].get(e).value;return this[S0]&&(this[y5e]||this[S0](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[A0]+=s-l.length,l.length=s,this.get(e),W3(this),!0}let a=new y$(e,r,s,i,n);return a.length>this[U1]?(this[S0]&&this[S0](e,r),!1):(this[A0]+=a.length,this[ss].unshift(a),this[El].set(e,this[ss].head),W3(this),!0)}has(e){if(!this[El].has(e))return!1;let r=this[El].get(e).value;return!nM(this,r)}get(e){return m$(this,e,!0)}peek(e){return m$(this,e,!1)}pop(){let e=this[ss].tail;return e?(K2(this,e),e.value):null}del(e){K2(this,this[El].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let a=s-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[El].forEach((e,r)=>m$(this,r,!1))}},m$=o((t,e,r)=>{let n=t[El].get(e);if(n){let i=n.value;if(nM(t,i)){if(K2(t,n),!t[Y3])return}else r&&(t[x5e]&&(n.value.now=Date.now()),t[ss].unshiftNode(n));return i.value}},"get"),nM=o((t,e)=>{if(!e||!e.maxAge&&!t[F1])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[F1]&&r>t[F1]},"isStale"),W3=o(t=>{if(t[A0]>t[U1])for(let e=t[ss].tail;t[A0]>t[U1]&&e!==null;){let r=e.prev;K2(t,e),e=r}},"trim"),K2=o((t,e)=>{if(e){let r=e.value;t[S0]&&t[S0](r.key,r.value),t[A0]-=r.length,t[El].delete(r.key),t[ss].removeNode(e)}},"del"),y$=class{static{o(this,"Entry")}constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},b5e=o((t,e,r,n)=>{let i=r.value;nM(t,i)&&(K2(t,r),t[Y3]||(i=void 0)),i&&e.call(n,i.value,i.key,t)},"forEachStep");v5e.exports=g$});var _u=j((zXr,A5e)=>{m();g();var b$=class t{static{o(this,"Range")}constructor(e,r){if(r=Yyt(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof x$)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n)).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!E5e(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&r1t(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&e1t)|(this.options.loose&&t1t))+":"+e,i=w5e.get(n);if(i)return i;let s=this.options.loose,a=s?Pc[Wa.HYPHENRANGELOOSE]:Pc[Wa.HYPHENRANGE];e=e.replace(a,d1t(this.options.includePrerelease)),Di("hyphen replace",e),e=e.replace(Pc[Wa.COMPARATORTRIM],Zyt),Di("comparator trim",e),e=e.replace(Pc[Wa.TILDETRIM],Jyt),e=e.replace(Pc[Wa.CARETTRIM],Qyt);let c=e.split(" ").map(p=>n1t(p,this.options)).join(" ").split(/\s+/).map(p=>l1t(p,this.options));s&&(c=c.filter(p=>(Di("loose invalid filter",p,this.options),!!p.match(Pc[Wa.COMPARATORLOOSE])))),Di("range list",c);let l=new Map,h=c.map(p=>new x$(p,this.options));for(let p of h){if(E5e(p))return[p];l.set(p.value,p)}l.size>1&&l.has("")&&l.delete("");let y=[...l.values()];return w5e.set(n,y),y}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>S5e(n,r)&&e.set.some(i=>S5e(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Xyt(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(h1t(this.set[r],e,this.options))return!0;return!1}};A5e.exports=b$;var Wyt=_5e(),w5e=new Wyt({max:1e3}),Yyt=WN(),x$=X3(),Di=G3(),Xyt=Ea(),{safeRe:Pc,t:Wa,comparatorTrimReplace:Zyt,tildeTrimReplace:Jyt,caretTrimReplace:Qyt}=V2(),{FLAG_INCLUDE_PRERELEASE:e1t,FLAG_LOOSE:t1t}=K3(),E5e=o(t=>t.value==="<0.0.0-0","isNullSet"),r1t=o(t=>t.value==="","isAny"),S5e=o((t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},"isSatisfiable"),n1t=o((t,e)=>(Di("comp",t,e),t=s1t(t,e),Di("caret",t),t=i1t(t,e),Di("tildes",t),t=c1t(t,e),Di("xrange",t),t=u1t(t,e),Di("stars",t),t),"parseComparator"),Ya=o(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),i1t=o((t,e)=>t.trim().split(/\s+/).map(r=>o1t(r,e)).join(" "),"replaceTildes"),o1t=o((t,e)=>{let r=e.loose?Pc[Wa.TILDELOOSE]:Pc[Wa.TILDE];return t.replace(r,(n,i,s,a,c)=>{Di("tilde",t,n,i,s,a,c);let l;return Ya(i)?l="":Ya(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:Ya(a)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:c?(Di("replaceTilde pr",c),l=`>=${i}.${s}.${a}-${c} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,Di("tilde return",l),l})},"replaceTilde"),s1t=o((t,e)=>t.trim().split(/\s+/).map(r=>a1t(r,e)).join(" "),"replaceCarets"),a1t=o((t,e)=>{Di("caret",t,e);let r=e.loose?Pc[Wa.CARETLOOSE]:Pc[Wa.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,a,c,l)=>{Di("caret",t,i,s,a,c,l);let h;return Ya(s)?h="":Ya(a)?h=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Ya(c)?s==="0"?h=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:l?(Di("replaceCaret pr",l),s==="0"?a==="0"?h=`>=${s}.${a}.${c}-${l} <${s}.${a}.${+c+1}-0`:h=`>=${s}.${a}.${c}-${l} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.${c}-${l} <${+s+1}.0.0-0`):(Di("no pr"),s==="0"?a==="0"?h=`>=${s}.${a}.${c}${n} <${s}.${a}.${+c+1}-0`:h=`>=${s}.${a}.${c}${n} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.${c} <${+s+1}.0.0-0`),Di("caret return",h),h})},"replaceCaret"),c1t=o((t,e)=>(Di("replaceXRanges",t,e),t.split(/\s+/).map(r=>f1t(r,e)).join(" ")),"replaceXRanges"),f1t=o((t,e)=>{t=t.trim();let r=e.loose?Pc[Wa.XRANGELOOSE]:Pc[Wa.XRANGE];return t.replace(r,(n,i,s,a,c,l)=>{Di("xRange",t,n,i,s,a,c,l);let h=Ya(s),y=h||Ya(a),p=y||Ya(c),E=p;return i==="="&&E&&(i=""),l=e.includePrerelease?"-0":"",h?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&E?(y&&(a=0),c=0,i===">"?(i=">=",y?(s=+s+1,a=0,c=0):(a=+a+1,c=0)):i==="<="&&(i="<",y?s=+s+1:a=+a+1),i==="<"&&(l="-0"),n=`${i+s}.${a}.${c}${l}`):y?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:p&&(n=`>=${s}.${a}.0${l} <${s}.${+a+1}.0-0`),Di("xRange return",n),n})},"replaceXRange"),u1t=o((t,e)=>(Di("replaceStars",t,e),t.trim().replace(Pc[Wa.STAR],"")),"replaceStars"),l1t=o((t,e)=>(Di("replaceGTE0",t,e),t.trim().replace(Pc[e.includePrerelease?Wa.GTE0PRE:Wa.GTE0],"")),"replaceGTE0"),d1t=o(t=>(e,r,n,i,s,a,c,l,h,y,p,E,I)=>(Ya(n)?r="":Ya(i)?r=`>=${n}.0.0${t?"-0":""}`:Ya(s)?r=`>=${n}.${i}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Ya(h)?l="":Ya(y)?l=`<${+h+1}.0.0-0`:Ya(p)?l=`<${h}.${+y+1}.0-0`:E?l=`<=${h}.${y}.${p}-${E}`:t?l=`<${h}.${y}.${+p+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),"hyphenReplace"),h1t=o((t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Di(t[n].semver),t[n].semver!==x$.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},"testSet")});var X3=j((WXr,M5e)=>{m();g();var Z3=Symbol("SemVer ANY"),w$=class t{static{o(this,"Comparator")}static get ANY(){return Z3}constructor(e,r){if(r=I5e(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),_$("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Z3?this.value="":this.value=this.operator+this.semver.version,_$("comp",this)}parse(e){let r=this.options.loose?T5e[R5e.COMPARATORLOOSE]:T5e[R5e.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new O5e(n[2],this.options.loose):this.semver=Z3}toString(){return this.value}test(e){if(_$("Comparator.test",e,this.options.loose),this.semver===Z3||e===Z3)return!0;if(typeof e=="string")try{e=new O5e(e,this.options)}catch{return!1}return v$(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new N5e(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new N5e(this.value,r).test(e.semver):(r=I5e(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||v$(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||v$(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};M5e.exports=w$;var I5e=WN(),{safeRe:T5e,t:R5e}=V2(),v$=h$(),_$=G3(),O5e=Ea(),N5e=_u()});var J3=j((JXr,C5e)=>{m();g();var p1t=_u(),m1t=o((t,e,r)=>{try{e=new p1t(e,r)}catch{return!1}return e.test(t)},"satisfies");C5e.exports=m1t});var B5e=j((rZr,k5e)=>{m();g();var g1t=_u(),y1t=o((t,e)=>new g1t(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");k5e.exports=y1t});var L5e=j((sZr,P5e)=>{m();g();var b1t=Ea(),x1t=_u(),v1t=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new x1t(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new b1t(n,r))}),n},"maxSatisfying");P5e.exports=v1t});var U5e=j((uZr,D5e)=>{m();g();var _1t=Ea(),w1t=_u(),E1t=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new w1t(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new _1t(n,r))}),n},"minSatisfying");D5e.exports=E1t});var q5e=j((pZr,H5e)=>{m();g();var E$=Ea(),S1t=_u(),F5e=$3(),A1t=o((t,e)=>{t=new S1t(t,e);let r=new E$("0.0.0");if(t.test(r)||(r=new E$("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(a=>{let c=new E$(a.semver.version);switch(a.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!s||F5e(c,s))&&(s=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||F5e(r,s))&&(r=s)}return r&&t.test(r)?r:null},"minVersion");H5e.exports=A1t});var j5e=j((bZr,V5e)=>{m();g();var I1t=_u(),T1t=o((t,e)=>{try{return new I1t(t,e).range||"*"}catch{return null}},"validRange");V5e.exports=T1t});var iM=j((wZr,$5e)=>{m();g();var R1t=Ea(),G5e=X3(),{ANY:O1t}=G5e,N1t=_u(),M1t=J3(),z5e=$3(),K5e=JN(),C1t=eM(),k1t=QN(),B1t=o((t,e,r,n)=>{t=new R1t(t,n),e=new N1t(e,n);let i,s,a,c,l;switch(r){case">":i=z5e,s=C1t,a=K5e,c=">",l=">=";break;case"<":i=K5e,s=k1t,a=z5e,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(M1t(t,e,n))return!1;for(let h=0;h<e.set.length;++h){let y=e.set[h],p=null,E=null;if(y.forEach(I=>{I.semver===O1t&&(I=new G5e(">=0.0.0")),p=p||I,E=E||I,i(I.semver,p.semver,n)?p=I:a(I.semver,E.semver,n)&&(E=I)}),p.operator===c||p.operator===l||(!E.operator||E.operator===c)&&s(t,E.semver))return!1;if(E.operator===l&&a(t,E.semver))return!1}return!0},"outside");$5e.exports=B1t});var Y5e=j((IZr,W5e)=>{m();g();var P1t=iM(),L1t=o((t,e,r)=>P1t(t,e,">",r),"gtr");W5e.exports=L1t});var Z5e=j((NZr,X5e)=>{m();g();var D1t=iM(),U1t=o((t,e,r)=>D1t(t,e,"<",r),"ltr");X5e.exports=U1t});var eIe=j((BZr,Q5e)=>{m();g();var J5e=_u(),F1t=o((t,e,r)=>(t=new J5e(t,r),e=new J5e(e,r),t.intersects(e,r)),"intersects");Q5e.exports=F1t});var rIe=j((UZr,tIe)=>{m();g();var H1t=J3(),q1t=vu();tIe.exports=(t,e,r)=>{let n=[],i=null,s=null,a=t.sort((y,p)=>q1t(y,p,r));for(let y of a)H1t(y,e,r)?(s=y,i||(i=y)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let c=[];for(let[y,p]of n)y===p?c.push(y):!p&&y===a[0]?c.push("*"):p?y===a[0]?c.push(`<=${p}`):c.push(`${y} - ${p}`):c.push(`>=${y}`);let l=c.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return l.length<h.length?l:e}});var cIe=j((qZr,aIe)=>{m();g();var nIe=_u(),A$=X3(),{ANY:S$}=A$,Q3=J3(),I$=vu(),V1t=o((t,e,r={})=>{if(t===e)return!0;t=new nIe(t,r),e=new nIe(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let a=z1t(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),j1t=[new A$(">=0.0.0-0")],iIe=[new A$(">=0.0.0")],z1t=o((t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===S$){if(e.length===1&&e[0].semver===S$)return!0;r.includePrerelease?t=j1t:t=iIe}if(e.length===1&&e[0].semver===S$){if(r.includePrerelease)return!0;e=iIe}let n=new Set,i,s;for(let I of t)I.operator===">"||I.operator===">="?i=oIe(i,I,r):I.operator==="<"||I.operator==="<="?s=sIe(s,I,r):n.add(I.semver);if(n.size>1)return null;let a;if(i&&s){if(a=I$(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let I of n){if(i&&!Q3(I,String(i),r)||s&&!Q3(I,String(s),r))return null;for(let O of e)if(!Q3(I,String(O),r))return!1;return!0}let c,l,h,y,p=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,E=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;p&&p.prerelease.length===1&&s.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let I of e){if(y=y||I.operator===">"||I.operator===">=",h=h||I.operator==="<"||I.operator==="<=",i){if(E&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===E.major&&I.semver.minor===E.minor&&I.semver.patch===E.patch&&(E=!1),I.operator===">"||I.operator===">="){if(c=oIe(i,I,r),c===I&&c!==i)return!1}else if(i.operator===">="&&!Q3(i.semver,String(I),r))return!1}if(s){if(p&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===p.major&&I.semver.minor===p.minor&&I.semver.patch===p.patch&&(p=!1),I.operator==="<"||I.operator==="<="){if(l=sIe(s,I,r),l===I&&l!==s)return!1}else if(s.operator==="<="&&!Q3(s.semver,String(I),r))return!1}if(!I.operator&&(s||i)&&a!==0)return!1}return!(i&&h&&!s&&a!==0||s&&y&&!i&&a!==0||E||p)},"simpleSubset"),oIe=o((t,e,r)=>{if(!t)return e;let n=I$(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),sIe=o((t,e,r)=>{if(!t)return e;let n=I$(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");aIe.exports=V1t});var dIe=j((KZr,lIe)=>{m();g();var T$=V2(),fIe=K3(),K1t=Ea(),uIe=f$(),G1t=L1(),$1t=O8e(),W1t=M8e(),Y1t=B8e(),X1t=D8e(),Z1t=F8e(),J1t=q8e(),Q1t=j8e(),ebt=K8e(),tbt=vu(),rbt=Y8e(),nbt=Z8e(),ibt=ZN(),obt=t5e(),sbt=n5e(),abt=$3(),cbt=JN(),fbt=l$(),ubt=d$(),lbt=QN(),dbt=eM(),hbt=h$(),pbt=d5e(),mbt=X3(),gbt=_u(),ybt=J3(),bbt=B5e(),xbt=L5e(),vbt=U5e(),_bt=q5e(),wbt=j5e(),Ebt=iM(),Sbt=Y5e(),Abt=Z5e(),Ibt=eIe(),Tbt=rIe(),Rbt=cIe();lIe.exports={parse:G1t,valid:$1t,clean:W1t,inc:Y1t,diff:X1t,major:Z1t,minor:J1t,patch:Q1t,prerelease:ebt,compare:tbt,rcompare:rbt,compareLoose:nbt,compareBuild:ibt,sort:obt,rsort:sbt,gt:abt,lt:cbt,eq:fbt,neq:ubt,gte:lbt,lte:dbt,cmp:hbt,coerce:pbt,Comparator:mbt,Range:gbt,satisfies:ybt,toComparators:bbt,maxSatisfying:xbt,minSatisfying:vbt,minVersion:_bt,validRange:wbt,outside:Ebt,gtr:Sbt,ltr:Abt,intersects:Ibt,simplifyRange:Tbt,subset:Rbt,SemVer:K1t,re:T$.re,src:T$.src,tokens:T$.t,SEMVER_SPEC_VERSION:fIe.SEMVER_SPEC_VERSION,RELEASE_TYPES:fIe.RELEASE_TYPES,compareIdentifiers:uIe.compareIdentifiers,rcompareIdentifiers:uIe.rcompareIdentifiers}});var xIe=j(q1=>{"use strict";m();g();Object.defineProperty(q1,"__esModule",{value:!0});q1.ObfuscatedOperatorType=q1.OperatorType=void 0;q1.matchesRule=Obt;var Sl=dIe(),H1=_0(),Ns;(function(t){t.MATCHES="MATCHES",t.NOT_MATCHES="NOT_MATCHES",t.GTE="GTE",t.GT="GT",t.LTE="LTE",t.LT="LT",t.ONE_OF="ONE_OF",t.NOT_ONE_OF="NOT_ONE_OF",t.IS_NULL="IS_NULL"})(Ns||(q1.OperatorType=Ns={}));var Ms;(function(t){t.MATCHES="05015086bdd8402218f6aad6528bef08",t.NOT_MATCHES="8323761667755378c3a78e0a6ed37a78",t.GTE="32d35312e8f24bc1669bd2b45c00d47c",t.GT="cd6a9bd2a175104eed40f0d33a8b4020",t.LTE="cc981ecc65ecf63ad1673cbec9c64198",t.LT="c562607189d77eb9dfb707464c1e7b0b",t.ONE_OF="27457ce369f2a74203396a35ef537c0b",t.NOT_ONE_OF="602f5ee0b6e84fe29f43ab48b9e1addf",t.IS_NULL="dbd9c38e0339e6c34bd48cafc59be388"})(Ms||(q1.ObfuscatedOperatorType=Ms={}));var I0;(function(t){t.PLAIN_STRING="PLAIN_STRING",t.STRING_ARRAY="STRING_ARRAY",t.SEM_VER="SEM_VER",t.NUMERIC="NUMERIC"})(I0||(I0={}));function Obt(t,e,r){return!Nbt(e,t.conditions,r).includes(!1)}o(Obt,"matchesRule");function Nbt(t,e,r){return e.map(n=>r?Cbt(Object.entries(t).reduce((i,[s,a])=>({[(0,H1.getMD5Hash)(s)]:a,...i}),{}),n):Mbt(t,n))}o(Nbt,"evaluateRuleConditions");function Mbt(t,e){let r=t[e.attribute];if(e.operator===Ns.IS_NULL)return e.value?r==null:r!=null;if(r!=null)switch(e.operator){case Ns.GTE:case Ns.GT:case Ns.LTE:case Ns.LT:{if(bIe(e.value)===I0.SEM_VER){let s=e.operator===Ns.GTE?Sl.gte:e.operator===Ns.GT?Sl.gt:e.operator===Ns.LTE?Sl.lte:Sl.lt;return yIe(r,e.value,s)}let i=o((s,a)=>e.operator===Ns.GTE?s>=a:e.operator===Ns.GT?s>a:e.operator===Ns.LTE?s<=a:s<a,"comparator");return gIe(r,e.value,i)}case Ns.MATCHES:return new RegExp(e.value).test(r);case Ns.NOT_MATCHES:return!new RegExp(e.value).test(r);case Ns.ONE_OF:return hIe(r.toString(),e.value);case Ns.NOT_ONE_OF:return pIe(r.toString(),e.value)}return!1}o(Mbt,"evaluateCondition");function Cbt(t,e){let r=t[e.attribute];if(e.operator===Ms.IS_NULL)return e.value===(0,H1.getMD5Hash)("true")?r==null:r!=null;if(r!=null)switch(e.operator){case Ms.GTE:case Ms.GT:case Ms.LTE:case Ms.LT:{let n=(0,H1.decodeBase64)(e.value);if(bIe(n)===I0.SEM_VER){let a=e.operator===Ms.GTE?Sl.gte:e.operator===Ms.GT?Sl.gt:e.operator===Ms.LTE?Sl.lte:Sl.lt;return yIe(r,n,a)}let s=o((a,c)=>e.operator===Ms.GTE?a>=c:e.operator===Ms.GT?a>c:e.operator===Ms.LTE?a<=c:a<c,"comparator");return gIe(r,Number(n),s)}case Ms.MATCHES:return new RegExp((0,H1.decodeBase64)(e.value)).test(r);case Ms.NOT_MATCHES:return!new RegExp((0,H1.decodeBase64)(e.value)).test(r);case Ms.ONE_OF:return hIe((0,H1.getMD5Hash)(r.toString()),e.value);case Ms.NOT_ONE_OF:return pIe((0,H1.getMD5Hash)(r.toString()),e.value)}return!1}o(Cbt,"evaluateObfuscatedCondition");function hIe(t,e){return mIe(t,e).length>0}o(hIe,"isOneOf");function pIe(t,e){return mIe(t,e).length===0}o(pIe,"isNotOneOf");function mIe(t,e){return e.filter(r=>r===t)}o(mIe,"getMatchingStringValues");function gIe(t,e,r){return r(Number(t),Number(e))}o(gIe,"compareNumber");function yIe(t,e,r){return!!(0,Sl.valid)(t)&&!!(0,Sl.valid)(e)&&r(t,e)}o(yIe,"compareSemVer");function bIe(t){return typeof t=="number"?I0.NUMERIC:Array.isArray(t)?I0.STRING_ARRAY:typeof t=="string"&&(0,Sl.valid)(t)?I0.SEM_VER:isNaN(Number(t))?I0.PLAIN_STRING:I0.NUMERIC}o(bIe,"targetingRuleConditionValuesTypesFromValues")});var EIe=j(fg=>{"use strict";m();g();Object.defineProperty(fg,"__esModule",{value:!0});fg.Evaluator=void 0;fg.isInShardRange=vIe;fg.hashKey=_Ie;fg.noneResult=O$;fg.matchesRules=wIe;var kbt=oM(),e6=o$(),Bbt=a$(),Pbt=xIe(),Lbt=VG(),R$=class{static{o(this,"Evaluator")}constructor(e){this.getMatchedEvaluationCodeAndDescription=(r,n,i,s,a)=>{if(!(0,kbt.checkValueTypeMatch)(a,r.value)){let{key:p,value:E}=r;return{flagEvaluationCode:"ASSIGNMENT_ERROR",flagEvaluationDescription:`Variation (${p}) is configured for type ${a}, but is set to incompatible value (${E})`}}let c=!!n.rules?.length,l=n.splits.length>1,h=i.shards.length>1,y=l||h;return c&&y?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}" and ${s} belongs to the range of traffic assigned to "${i.variationKey}".`}:c&&!y?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}".`}:{flagEvaluationCode:"MATCH",flagEvaluationDescription:`${s} belongs to the range of traffic assigned to "${i.variationKey}" defined in allocation "${n.key}".`}},this.sharder=e??new Lbt.MD5Sharder}evaluateFlag(e,r,n,i,s,a){let c=new e6.FlagEvaluationDetailsBuilder(r.configEnvironment.name,e.allocations,r.configFetchedAt,r.configPublishedAt);try{if(!e.enabled)return O$(e.key,n,i,c.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e.key}`),r.configFormat);let l=new Date;for(let h=0;h<e.allocations.length;h++){let y=e.allocations[h],p=o(O=>{c.addUnmatchedAllocation({key:y.key,allocationEvaluationCode:O,orderPosition:h+1})},"addUnmatchedAllocation");if(y.startAt&&l<new Date(y.startAt)){p(e6.AllocationEvaluationCode.BEFORE_START_TIME);continue}if(y.endAt&&l>new Date(y.endAt)){p(e6.AllocationEvaluationCode.AFTER_END_TIME);continue}let{matched:E,matchedRule:I}=wIe(y?.rules??[],{id:n,...i},s);if(E){for(let O of y.splits)if(O.shards.every(N=>this.matchesShard(N,n,e.totalShards))){let N=e.variations[O.variationKey],{flagEvaluationCode:k,flagEvaluationDescription:C}=this.getMatchedEvaluationCodeAndDescription(N,y,O,n,a),L=c.setMatch(h,N,y,I,a).build(k,C);return{flagKey:e.key,format:r.configFormat,subjectKey:n,subjectAttributes:i,allocationKey:y.key,variation:N,extraLogging:O.extraLogging??{},doLog:y.doLog,flagEvaluationDetails:L}}p(e6.AllocationEvaluationCode.TRAFFIC_EXPOSURE_MISS)}else p(e6.AllocationEvaluationCode.FAILING_RULE)}return O$(e.key,n,i,c.buildForNoneResult("DEFAULT_ALLOCATION_NULL",'No allocations matched. Falling back to "Default Allocation", serving NULL'),r.configFormat)}catch(l){console.error(">>>>",l);let h=c.gracefulBuild("ASSIGNMENT_ERROR",`Assignment Error: ${l.message}`);if(h){let y=new Bbt.FlagEvaluationError(l.message);throw y.flagEvaluationDetails=h,y}throw l}}matchesShard(e,r,n){let i=this.sharder.getShard(_Ie(e.salt,r),n);return e.ranges.some(s=>vIe(i,s))}};fg.Evaluator=R$;function vIe(t,e){return e.start<=t&&t<e.end}o(vIe,"isInShardRange");function _Ie(t,e){return`${t}-${e}`}o(_Ie,"hashKey");function O$(t,e,r,n,i){return{flagKey:t,format:i,subjectKey:e,subjectAttributes:r,allocationKey:null,variation:null,extraLogging:{},doLog:!1,flagEvaluationDetails:n}}o(O$,"noneResult");function wIe(t,e,r){if(!t.length)return{matched:!0,matchedRule:null};let n=null;return t.some(s=>{let a=(0,Pbt.matchesRule)(s,e,r);return a&&(n=s),a})?{matched:!0,matchedRule:n}:{matched:!1,matchedRule:null}}o(wIe,"matchesRules")});var M$=j(sM=>{"use strict";m();g();Object.defineProperty(sM,"__esModule",{value:!0});sM.BoundedEventQueue=void 0;var Dbt=Zd(),Ubt=x0(),N$=class{static{o(this,"BoundedEventQueue")}constructor(e,r=new Array,n=Ubt.MAX_EVENT_QUEUE_SIZE){this.name=e,this.queue=r,this.maxSize=n}get length(){return this.queue.length}splice(e){return this.queue.splice(e)}isEmpty(){return this.queue.length===0}[Symbol.iterator](){return this.queue[Symbol.iterator]()}push(...e){let{name:r,maxSize:n,queue:i}=this;for(;i.length<n&&e.length>0;)i.push(...e.splice(0,1));e.length>0&&Dbt.logger.warn(`Dropping ${e.length} events for queue ${r} since maxSize of ${n} reached.`)}flush(){let e=[...this.queue];return this.queue.length=0,e}};sM.BoundedEventQueue=N$});var B$=j(k$=>{"use strict";m();g();Object.defineProperty(k$,"__esModule",{value:!0});var C$=class{static{o(this,"NoOpEventDispatcher")}dispatch(e){}};k$.default=C$});var aM=j(t6=>{"use strict";m();g();Object.defineProperty(t6,"__esModule",{value:!0});t6.HttpRequestError=void 0;var Al=class extends Error{static{o(this,"HttpRequestError")}constructor(e,r,n){super(e),this.message=e,this.status=r,this.cause=n,n&&(this.cause=n)}};t6.HttpRequestError=Al;var P$=class{static{o(this,"FetchHttpClient")}constructor(e,r){this.apiEndpoints=e,this.timeout=r}async getUniversalFlagConfiguration(){let e=this.apiEndpoints.ufcEndpoint();return await this.rawGet(e)}async getBanditParameters(){let e=this.apiEndpoints.banditParametersEndpoint();return await this.rawGet(e)}async getPrecomputedFlags(e){let r=this.apiEndpoints.precomputedFlagsEndpoint();return await this.rawPost(r,e)}async rawGet(e){try{let r=new AbortController,n=r.signal,i=setTimeout(()=>r.abort(),this.timeout),s=await fetch(e.toString(),{signal:n});if(clearTimeout(i),!s?.ok)throw new Al("Failed to fetch data",s?.status);return await s.json()}catch(r){throw r.name==="AbortError"?new Al("Request timed out",408,r):r instanceof Al?r:new Al("Network error",0,r)}}async rawPost(e,r){try{let n=new AbortController,i=n.signal,s=setTimeout(()=>n.abort(),this.timeout),a=await fetch(e.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:i});if(clearTimeout(s),!a?.ok){let c=await a.text();throw new Al(c||"Failed to post data",a?.status)}return await a.json()}catch(n){throw n.name==="AbortError"?new Al("Request timed out",408,n):n instanceof Al?n:new Al("Network error",0,n)}}};t6.default=P$});var SIe=j(L$=>{"use strict";m();g();Object.defineProperty(L$,"__esModule",{value:!0});L$.waitForMs=Fbt;async function Fbt(t){await new Promise(e=>setTimeout(e,t))}o(Fbt,"waitForMs")});var U$=j(D$=>{"use strict";m();g();Object.defineProperty(D$,"__esModule",{value:!0});D$.default=qbt;var mf=Zd(),cM=x0(),Hbt=SIe();function qbt(t,e,r){let n=!1,i=0,s=t,a=!1,c,l=o(async()=>{n=!1;let p=!1,E=r?.skipInitialPoll?0:1+(r?.maxStartRetries??cM.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES),I=null;for(;!p&&E>0;)try{await e(),p=!0,a=!1,mf.logger.info("Eppo SDK successfully requested initial configuration")}catch(N){if(a=!0,mf.logger.warn(`Eppo SDK encountered an error with initial poll of configurations: ${N.message}`),--E>0){let k=AIe(t);mf.logger.warn(`Eppo SDK will retry the initial poll again in ${k} ms (${E} attempts remaining)`),await(0,Hbt.waitForMs)(k)}else r?.pollAfterFailedStart?mf.logger.warn("Eppo SDK initial poll failed; will attempt regular polling"):(mf.logger.error("Eppo SDK initial poll failed. Aborting polling"),h()),r?.errorOnFailedStart&&(I=N)}if(!n&&(p&&r?.pollAfterSuccessfulStart||!p&&r?.pollAfterFailedStart)?(mf.logger.info(`Eppo SDK starting regularly polling every ${t} ms`),c=setTimeout(y,t)):mf.logger.info("Eppo SDK will not poll for configuration updates"),I)throw mf.logger.info("Eppo SDK rethrowing start error"),I},"start"),h=o(()=>{n||(n=!0,c&&clearTimeout(c),mf.logger.info("Eppo SDK polling stopped"))},"stop");async function y(){if(!n){try{await e(),i=0,s=t,a&&(a=!1,mf.logger.info("Eppo SDK poll successful; resuming normal polling"))}catch(p){a=!0,mf.logger.warn(`Eppo SDK encountered an error polling configurations: ${p.message}`);let E=1+(r?.maxPollRetries??cM.DEFAULT_POLL_CONFIG_REQUEST_RETRIES);if(++i<E){let I=Math.pow(2,i),O=AIe(t);s=I*t+O,mf.logger.warn(`Eppo SDK will try polling again in ${s} ms (${E-i} attempts remaining)`)}else mf.logger.error(`Eppo SDK reached maximum of ${i} failed polling attempts. Stopping polling`),h()}setTimeout(y,s)}}return o(y,"poll"),{start:l,stop:h}}o(qbt,"initPoller");function AIe(t){let e=t*cM.POLL_JITTER_PCT/2,r=Math.max(Math.floor(Math.random()*t*cM.POLL_JITTER_PCT/2),1);return e+r}o(AIe,"randomJitterMs")});var uM=j(r6=>{"use strict";m();g();Object.defineProperty(r6,"__esModule",{value:!0});r6.InvalidArgumentError=void 0;r6.validateNotBlank=Vbt;var fM=class extends Error{static{o(this,"InvalidArgumentError")}};r6.InvalidArgumentError=fM;function Vbt(t,e){if(t==null||t.length===0)throw new fM(e)}o(Vbt,"validateNotBlank")});var IIe=j((IJr,jbt)=>{jbt.exports={name:"@eppo/js-client-sdk-common",version:"4.8.4",description:"Common library for Eppo JavaScript SDKs (web, react native, and node)",main:"dist/index.js",files:["/dist","/src","!*.spec.ts"],types:"./dist/index.d.ts",engines:{node:">=18.x"},exports:{".":{types:"./dist/index.d.ts",default:"./dist/index.js"}},scripts:{lint:"eslint '**/*.{ts,tsx}' --cache","lint:fix":"eslint --fix '**/*.{ts,tsx}' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix '**/*.{ts,tsx}' --no-eslintrc --cache",prepare:"make prepare","pre-commit":"lint-staged && tsc",typecheck:"tsc",test:"yarn test:unit","test:unit":"NODE_ENV=test jest '.*\\.spec\\.ts'","obfuscate-mock-ufc":"ts-node test/writeObfuscatedMockUFC"},jsdelivr:"dist/eppo-sdk.js",repository:{type:"git",url:"git+https://github.com/Eppo-exp/js-client-sdk-common.git"},author:"",license:"MIT",bugs:{url:"https://github.com/Eppo-exp/js-client-sdk-common/issues"},homepage:"https://github.com/Eppo-exp/js-client-sdk-common#readme",devDependencies:{"@types/jest":"^29.5.11","@types/js-base64":"^3.3.1","@types/lodash":"^4.17.5","@types/semver":"^7.5.6","@types/spark-md5":"^3.0.5","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0",eslint:"^8.17.0","eslint-config-prettier":"^10.0.1","eslint-import-resolver-typescript":"^3.7.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"5.0.0","eslint-plugin-promise":"^7.2.1","eslint-plugin-unused-imports":"^4.1.4",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",lodash:"^4.17.21",prettier:"^3.4.2","terser-webpack-plugin":"^5.3.3",testdouble:"^3.20.1","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.1",typescript:"^5.7.2",webpack:"^5.73.0","webpack-cli":"^6.0.1"},dependencies:{buffer:"npm:@eppo/buffer@6.2.0","js-base64":"^3.7.7",pino:"^9.5.0",semver:"^7.5.4","spark-md5":"^3.0.2",uuid:"^11.0.5"},packageManager:"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}});var F$=j(lM=>{"use strict";m();g();Object.defineProperty(lM,"__esModule",{value:!0});lM.LIB_VERSION=void 0;var zbt=IIe();lM.LIB_VERSION=zbt.version});var oM=j(i6=>{"use strict";m();g();Object.defineProperty(i6,"__esModule",{value:!0});i6.checkTypeMatch=CIe;i6.checkValueTypeMatch=ixt;var Kbt=g4(),Gbt=ON(),Ui=Zd(),V1=FG(),$bt=n8e(),Wbt=BN(),TIe=LN(),Ybt=o8e(),RIe=f8e(),Xbt=QG(),n6=x0(),Zbt=KN(),j1=p8e(),dM=EIe(),OIe=M$(),Jbt=B$(),NIe=o$(),Qbt=a$(),ext=aM(),Qd=w0(),txt=_0(),rxt=U$(),MIe=uM(),nxt=F$(),H$=class{static{o(this,"EppoClient")}constructor({eventDispatcher:e=new Jbt.default,isObfuscated:r=!1,flagConfigurationStore:n,banditVariationConfigurationStore:i,banditModelConfigurationStore:s,configurationRequestParameters:a}){this.assignmentEventsQueue=new OIe.BoundedEventQueue("assignments"),this.banditEventsQueue=new OIe.BoundedEventQueue("bandit"),this.banditEvaluator=new $bt.BanditEvaluator,this.isGracefulFailureMode=!0,this.evaluator=new dM.Evaluator,this.eventDispatcher=e,this.flagConfigurationStore=n,this.banditVariationConfigurationStore=i,this.banditModelConfigurationStore=s,this.configurationRequestParameters=a,this.isObfuscated=r}setConfigurationRequestParameters(e){this.configurationRequestParameters=e}setFlagConfigurationStore(e){this.flagConfigurationStore=e}setBanditVariationConfigurationStore(e){this.banditVariationConfigurationStore=e}setEventDispatcher(e){this.eventDispatcher=e}setBanditModelConfigurationStore(e){this.banditModelConfigurationStore=e}setIsObfuscated(e){this.isObfuscated=e}async fetchFlagConfigurations(){if(!this.configurationRequestParameters)throw new Error("Eppo SDK unable to fetch flag configurations without configuration request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:s=n6.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:a=n6.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=n6.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:h=!1,throwOnFailedInitialization:y=!1,skipInitialPoll:p=!1}=this.configurationRequestParameters,{pollingIntervalMs:E=n6.DEFAULT_POLL_INTERVAL_MS}=this.configurationRequestParameters;E<=0&&(Ui.logger.error("pollingIntervalMs must be greater than 0. Using default"),E=n6.DEFAULT_POLL_INTERVAL_MS);let I=new Gbt.default({baseUrl:i,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),O=new ext.default(I,s),N=new Xbt.default(O,this.flagConfigurationStore,this.banditVariationConfigurationStore??null,this.banditModelConfigurationStore??null),k=o(async()=>{if(await this.flagConfigurationStore.isExpired())return N.fetchAndStoreConfigurations()},"pollingCallback");this.requestPoller=(0,rxt.default)(E,k,{maxStartRetries:a,maxPollRetries:c,pollAfterSuccessfulStart:l,pollAfterFailedStart:h,errorOnFailedStart:y,skipInitialPoll:p}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getStringAssignment(e,r,n,i){return this.getStringAssignmentDetails(e,r,n,i).variation}getStringAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,j1.EppoValue.String(i),Qd.VariationType.STRING);return{variation:s.stringValue??i,action:null,evaluationDetails:a}}getBoolAssignment(e,r,n,i){return this.getBooleanAssignment(e,r,n,i)}getBooleanAssignment(e,r,n,i){return this.getBooleanAssignmentDetails(e,r,n,i).variation}getBooleanAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,j1.EppoValue.Bool(i),Qd.VariationType.BOOLEAN);return{variation:s.boolValue??i,action:null,evaluationDetails:a}}getIntegerAssignment(e,r,n,i){return this.getIntegerAssignmentDetails(e,r,n,i).variation}getIntegerAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,j1.EppoValue.Numeric(i),Qd.VariationType.INTEGER);return{variation:s.numericValue??i,action:null,evaluationDetails:a}}getNumericAssignment(e,r,n,i){return this.getNumericAssignmentDetails(e,r,n,i).variation}getNumericAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,j1.EppoValue.Numeric(i),Qd.VariationType.NUMERIC);return{variation:s.numericValue??i,action:null,evaluationDetails:a}}getJSONAssignment(e,r,n,i){return this.getJSONAssignmentDetails(e,r,n,i).variation}getJSONAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,j1.EppoValue.JSON(i),Qd.VariationType.JSON);return{variation:s.objectValue??i,action:null,evaluationDetails:a}}getBanditAction(e,r,n,i,s){let{variation:a,action:c}=this.getBanditActionDetails(e,r,n,i,s);return{variation:a,action:c}}getBestAction(e,r,n,i){let s=null,c=this.banditVariationConfigurationStore?.get(e)?.at(0)?.key;if(c){let l=this.getBandit(c);if(l){let h=(0,V1.ensureContextualSubjectAttributes)(r),y=(0,V1.ensureActionsWithContextualAttributes)(n);s=this.banditEvaluator.evaluateBestBanditAction(h,y,l.modelData)}}return s??i}getBanditActionDetails(e,r,n,i,s){let a=s,c=null,l=this.newFlagEvaluationDetailsBuilder(e).buildForNoneResult("ASSIGNMENT_ERROR","Unexpected error getting assigned variation for bandit action");try{let h=(0,V1.ensureNonContextualSubjectAttributes)(n),{variation:y,evaluationDetails:p}=this.getStringAssignmentDetails(e,r,h,s);a=y,l=p;let E=this.findBanditByVariation(e,a);if(!E)return{variation:a,action:null,evaluationDetails:l};l.banditKey=E.banditKey;let I=this.evaluateBanditAction(e,r,n,i,E.modelData);if(I?.actionKey){c=I.actionKey;let O={timestamp:new Date().toISOString(),featureFlag:e,bandit:E.banditKey,subject:r,action:c,actionProbability:I.actionWeight,optimalityGap:I.optimalityGap,modelVersion:E.modelVersion,subjectNumericAttributes:I.subjectAttributes.numericAttributes,subjectCategoricalAttributes:I.subjectAttributes.categoricalAttributes,actionNumericAttributes:I.actionAttributes.numericAttributes,actionCategoricalAttributes:I.actionAttributes.categoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:l};try{this.logBanditAction(O)}catch(N){Ui.logger.error("Error logging bandit event",N)}l.banditAction=c}}catch(h){if(Ui.logger.error("Error determining bandit action",h),!this.isGracefulFailureMode)throw h;a&&(l.flagEvaluationCode="BANDIT_ERROR"),l.flagEvaluationDescription=`Error evaluating bandit action: ${h.message}`}return{variation:a,action:c,evaluationDetails:l}}getExperimentContainerEntry(e,r,n){let{flagKey:i,controlVariationEntry:s,treatmentVariationEntries:a}=e,c=this.getStringAssignment(i,r,n,"control");if(c==="control")return s;if(!c.startsWith("treatment-"))return Ui.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),s;let l=Number.parseInt(c.split("-")[1])-1;return isNaN(l)?(Ui.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),s):l>=a.length?(Ui.logger.warn(`Selected treatment variation (${l}) index is out of bounds. Defaulting to control variation.`),s):a[l]}evaluateBanditAction(e,r,n,i,s){if(!Object.keys(i).length)return null;let a=(0,V1.ensureContextualSubjectAttributes)(n),c=(0,V1.ensureActionsWithContextualAttributes)(i);return this.banditEvaluator.evaluateBandit(e,r,a,c,s)}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,s=e.action??"__eppo_no_action",a={flagKey:n,subjectKey:r,banditKey:i,actionKey:s};if(!this.banditAssignmentCache?.has(a))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(a)}catch(c){Ui.logger.warn("Error encountered logging bandit action",c)}}getAssignmentVariation(e,r,n,i,s){try{let a=this.getAssignmentDetail(e,r,n,s);return this.parseVariationWithDetails(a,i,s)}catch(a){let c=this.rethrowIfNotGraceful(a,i);if(a instanceof Qbt.FlagEvaluationError&&a.flagEvaluationDetails)return{eppoValue:c,flagEvaluationDetails:a.flagEvaluationDetails};{let l=new NIe.FlagEvaluationDetailsBuilder("",[],"","").buildForNoneResult("ASSIGNMENT_ERROR",`Assignment Error: ${a.message}`);return{eppoValue:c,flagEvaluationDetails:l}}}}parseVariationWithDetails({flagEvaluationDetails:e,variation:r},n,i){try{return!r||e.flagEvaluationCode!=="MATCH"?{eppoValue:n,flagEvaluationDetails:e}:{eppoValue:j1.EppoValue.valueOf(r.value,i),flagEvaluationDetails:e}}catch(s){return{eppoValue:this.rethrowIfNotGraceful(s,n),flagEvaluationDetails:e}}}rethrowIfNotGraceful(e,r){if(this.isGracefulFailureMode)return Ui.logger.error(`${Ui.loggerPrefix} Error getting assignment: ${e.message}`),r??j1.EppoValue.Null();throw e}getAllAssignments(e,r={}){let n=this.getConfigDetails(),i=this.getFlagKeys(),s={};return i.forEach(a=>{let c=this.getFlag(a);if(!c){Ui.logger.debug(`${Ui.loggerPrefix} No assigned variation. Flag does not exist.`);return}let l=this.evaluator.evaluateFlag(c,n,e,r,this.isObfuscated);if(!l.variation||!l.allocationKey){Ui.logger.debug(`${Ui.loggerPrefix} No assigned variation: ${a}`);return}s[a]={flagKey:a,allocationKey:l.allocationKey,doLog:l.doLog,extraLogging:l.extraLogging,variationKey:l.variation.key,variationType:c.variationType,variationValue:l.variation.value.toString()}}),s}getPrecomputedConfiguration(e,r={},n={},i){let s=this.getConfigDetails(),a=(0,V1.ensureContextualSubjectAttributes)(r),c=(0,V1.ensureNonContextualSubjectAttributes)(r),l=this.getAllAssignments(e,c),h=this.computeBanditsForFlags(e,a,n,l),y=RIe.PrecomputedConfiguration.obfuscated(e,l,h,i??"",a,s.configEnvironment),p=new RIe.ConfigurationWireV1(y);return JSON.stringify(p)}getAssignmentDetail(e,r,n={},i){(0,MIe.validateNotBlank)(r,"Invalid argument: subjectKey cannot be blank"),(0,MIe.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let s=this.newFlagEvaluationDetailsBuilder(e),a=this.getConfigDetails(),c=this.getFlag(e);if(c===null){Ui.logger.warn(`${Ui.loggerPrefix} No assigned variation. Flag not found: ${e}`);let h=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,dM.noneResult)(e,r,n,h,a.configFormat)}if(!CIe(i,c.variationType)){let h=`Variation value does not have the correct type. Found ${c.variationType}, but expected ${i} for flag ${e}`;if(this.isGracefulFailureMode){let y=s.buildForNoneResult("TYPE_MISMATCH",h);return(0,dM.noneResult)(e,r,n,y,a.configFormat)}throw new TypeError(h)}if(!c.enabled){Ui.logger.info(`${Ui.loggerPrefix} No assigned variation. Flag is disabled: ${e}`);let h=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,dM.noneResult)(e,r,n,h,a.configFormat)}let l=this.evaluator.evaluateFlag(c,a,r,n,this.isObfuscated,i);this.isObfuscated&&(l.flagKey=e);try{l?.doLog&&this.maybeLogAssignment(l)}catch(h){Ui.logger.error(`${Ui.loggerPrefix} Error logging assignment event: ${h}`)}return l}track(e,r){this.eventDispatcher.dispatch({uuid:(0,Kbt.v4)(),type:e,timestamp:new Date().getTime(),payload:r})}newFlagEvaluationDetailsBuilder(e){let r=this.getFlag(e),n=this.getConfigDetails();return new NIe.FlagEvaluationDetailsBuilder(n.configEnvironment.name,r?.allocations??[],n.configFetchedAt,n.configPublishedAt)}getConfigDetails(){return{configFetchedAt:this.flagConfigurationStore.getConfigFetchedAt()??"",configPublishedAt:this.flagConfigurationStore.getConfigPublishedAt()??"",configEnvironment:this.flagConfigurationStore.getEnvironment()??{name:""},configFormat:this.flagConfigurationStore.getFormat()??""}}getFlag(e){return this.isObfuscated?this.getObfuscatedFlag(e):this.flagConfigurationStore.get(e)}getObfuscatedFlag(e){let r=this.flagConfigurationStore.get((0,txt.getMD5Hash)(e));return r?(0,Zbt.decodeFlag)(r):null}getBandit(e){return this.banditModelConfigurationStore?.get(e)??null}getFlagKeys(){return this.flagConfigurationStore.getKeys()}isInitialized(){return this.flagConfigurationStore.isInitialized()&&(!this.banditVariationConfigurationStore||this.banditVariationConfigurationStore.isInitialized())&&(!this.banditModelConfigurationStore||this.banditModelConfigurationStore.isInitialized())}setLogger(e){this.setAssignmentLogger(e)}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.assignmentEventsQueue,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new TIe.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new Wbt.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}disableBanditAssignmentCache(){this.banditAssignmentCache=void 0}useNonExpiringInMemoryBanditAssignmentCache(){this.banditAssignmentCache=new TIe.NonExpiringInMemoryAssignmentCache}useExpiringInMemoryBanditAssignmentCache(e,r){this.banditAssignmentCache=new Ybt.TLRUInMemoryAssignmentCache(e,r)}useCustomBanditAssignmentCache(e){this.banditAssignmentCache=e}setIsGracefulFailureMode(e){this.isGracefulFailureMode=e}getFlagConfigurations(){return this.flagConfigurationStore.entries()}flushQueuedEvents(e,r){let n=e.flush();r&&n.forEach(i=>{try{r(i)}catch(s){Ui.logger.error(`${Ui.loggerPrefix} Error flushing event to logger: ${s.message}`)}})}maybeLogAssignment(e){let{flagKey:r,format:n,subjectKey:i,allocationKey:s,subjectAttributes:a,variation:c}=e,l={...e.extraLogging??{},allocation:s??null,experiment:s?`${r}-${s}`:null,featureFlag:r,format:n,variation:c?.key??null,subject:i,timestamp:new Date().toISOString(),subjectAttributes:a,metaData:this.buildLoggerMetadata(),evaluationDetails:e.flagEvaluationDetails};if(!(c&&s&&this.assignmentCache?.has({flagKey:r,subjectKey:i,allocationKey:s,variationKey:c.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.assignmentEventsQueue.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:i,allocationKey:s??"__eppo_no_allocation",variationKey:c?.key??"__eppo_no_variation"})}catch(h){Ui.logger.error(`${Ui.loggerPrefix} Error logging assignment event: ${h.message}`)}}buildLoggerMetadata(){return{obfuscated:this.isObfuscated,sdkLanguage:"javascript",sdkLibVersion:nxt.LIB_VERSION}}computeBanditsForFlags(e,r,n,i){let s={};return Object.keys(n).forEach(a=>{let c=i[a];if(c){let l=this.getPrecomputedBandit(a,c.variationValue,e,r,n[a]);l&&(s[a]=l)}}),s}findBanditByVariation(e,r){let i=this.banditVariationConfigurationStore?.get(e)?.find(s=>s.variationValue===r)?.key;return i?this.getBandit(i):null}getPrecomputedBandit(e,r,n,i,s){let a=this.findBanditByVariation(e,r);if(!a)return null;let c=this.evaluateBanditAction(e,n,i,s,a.modelData);return c?{banditKey:a.banditKey,action:c.actionKey,actionNumericAttributes:c.actionAttributes.numericAttributes,actionCategoricalAttributes:c.actionAttributes.categoricalAttributes,actionProbability:c.actionWeight,modelVersion:a.modelVersion,optimalityGap:c.optimalityGap}:null}};i6.default=H$;function CIe(t,e){return t===void 0||e===t}o(CIe,"checkTypeMatch");function ixt(t,e){if(t==null)return!0;switch(t){case Qd.VariationType.STRING:return typeof e=="string";case Qd.VariationType.BOOLEAN:return typeof e=="boolean";case Qd.VariationType.INTEGER:return typeof e=="number"&&Number.isInteger(e);case Qd.VariationType.NUMERIC:return typeof e=="number";case Qd.VariationType.JSON:return typeof e=="string";default:return!1}}o(ixt,"checkValueTypeMatch")});var PIe=j(V$=>{"use strict";m();g();Object.defineProperty(V$,"__esModule",{value:!0});var kIe=YG(),BIe=w0(),q$=class{static{o(this,"PrecomputedFlagRequestor")}constructor(e,r,n,i,s,a){this.httpClient=e,this.precomputedFlagStore=r,this.subjectKey=n,this.subjectAttributes=i,this.precomputedBanditsStore=s,this.banditActions=a}async fetchAndStorePrecomputedFlags(){let e=await this.httpClient.getPrecomputedFlags({subject_key:this.subjectKey,subject_attributes:this.subjectAttributes,bandit_actions:this.banditActions});if(!e)return;let r=[];r.push((0,kIe.hydrateConfigurationStore)(this.precomputedFlagStore,{entries:e.flags,environment:e.environment??{name:BIe.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt})),this.precomputedBanditsStore&&r.push((0,kIe.hydrateConfigurationStore)(this.precomputedBanditsStore,{entries:e.bandits,environment:e.environment??{name:BIe.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt}))}};V$.default=q$});var FIe=j(z$=>{"use strict";m();g();Object.defineProperty(z$,"__esModule",{value:!0});var oxt=ON(),si=Zd(),LIe=FG(),sxt=BN(),axt=LN(),z1=x0(),DIe=KN(),cxt=aM(),o6=w0(),UIe=_0(),fxt=U$(),uxt=PIe(),lxt=uM(),dxt=F$(),hxt=oM(),j$=class{static{o(this,"EppoPrecomputedClient")}constructor(e){this.queuedAssignmentEvents=[],this.banditEventsQueue=[],this.precomputedFlagStore=e.precomputedFlagStore,this.precomputedBanditStore=e.precomputedBanditStore;let{subjectKey:r,subjectAttributes:n}=e.subject;this.subject={subjectKey:r,subjectAttributes:(0,LIe.ensureContextualSubjectAttributes)(n)},this.banditActions=e.banditActions,e.requestParameters?this.requestParameters=e.requestParameters:(this.precomputedFlagStore.isInitialized()||si.logger.error(`${si.loggerPrefix} EppoPrecomputedClient requires an initialized precomputedFlagStore if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.isInitialized()&&si.logger.error(`${si.loggerPrefix} Passing banditOptions without requestParameters requires an initialized precomputedBanditStore`),this.precomputedFlagStore.salt||si.logger.error(`${si.loggerPrefix} EppoPrecomputedClient requires a precomputedFlagStore with a salt if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.salt&&si.logger.warn(`${si.loggerPrefix} EppoPrecomputedClient missing or empty salt for precomputedBanditStore`))}async fetchPrecomputedFlags(){if(!this.requestParameters)throw new Error("Eppo SDK unable to fetch precomputed flags without the request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:s=z1.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:a=z1.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=z1.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:l=!1,pollAfterFailedInitialization:h=!1,throwOnFailedInitialization:y=!1,skipInitialPoll:p=!1}=this.requestParameters,{subjectKey:E,subjectAttributes:I}=this.subject,{pollingIntervalMs:O=z1.DEFAULT_POLL_INTERVAL_MS}=this.requestParameters;O<=0&&(si.logger.error("pollingIntervalMs must be greater than 0. Using default"),O=z1.DEFAULT_POLL_INTERVAL_MS);let N=new oxt.default({baseUrl:i??z1.PRECOMPUTED_BASE_URL,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),k=new cxt.default(N,s),C=new uxt.default(k,this.precomputedFlagStore,E,I,this.precomputedBanditStore,this.banditActions),L=o(async()=>{if(await this.precomputedFlagStore.isExpired())return C.fetchAndStorePrecomputedFlags()},"pollingCallback");this.requestPoller=(0,fxt.default)(O,L,{maxStartRetries:a,maxPollRetries:c,pollAfterSuccessfulStart:l,pollAfterFailedStart:h,errorOnFailedStart:y,skipInitialPoll:p}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getPrecomputedAssignment(e,r,n,i=s=>s){(0,lxt.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let s=this.getPrecomputedFlag(e);if(s==null)return si.logger.warn(`${si.loggerPrefix} No assigned variation. Flag not found: ${e}`),r;if(!(0,hxt.checkTypeMatch)(n,s.variationType)){let c=`${si.loggerPrefix} Type mismatch: expected ${n} but flag ${e} has type ${s.variationType}`;return si.logger.error(c),r}let a={flagKey:e,format:this.precomputedFlagStore.getFormat()??"",subjectKey:this.subject.subjectKey??"",subjectAttributes:(0,LIe.ensureNonContextualSubjectAttributes)(this.subject.subjectAttributes??{}),variation:{key:s.variationKey??"",value:s.variationValue},allocationKey:s.allocationKey??"",extraLogging:s.extraLogging??{},doLog:s.doLog};try{a?.doLog&&this.logAssignment(a)}catch(c){si.logger.error(`${si.loggerPrefix} Error logging assignment event: ${c}`)}try{return a.variation?.value!==void 0?i(a.variation.value):r}catch(c){return si.logger.error(`${si.loggerPrefix} Error transforming value: ${c}`),r}}getStringAssignment(e,r){return this.getPrecomputedAssignment(e,r,o6.VariationType.STRING)}getBooleanAssignment(e,r){return this.getPrecomputedAssignment(e,r,o6.VariationType.BOOLEAN)}getIntegerAssignment(e,r){return this.getPrecomputedAssignment(e,r,o6.VariationType.INTEGER)}getNumericAssignment(e,r){return this.getPrecomputedAssignment(e,r,o6.VariationType.NUMERIC)}getJSONAssignment(e,r){return this.getPrecomputedAssignment(e,r,o6.VariationType.JSON,n=>typeof n=="string"?JSON.parse(n):r)}getBanditAction(e,r){let n=this.getPrecomputedBandit(e);if(n==null)return si.logger.warn(`${si.loggerPrefix} No assigned variation. Bandit not found: ${e}`),{variation:r,action:null};let i=this.getStringAssignment(e,r),s={timestamp:new Date().toISOString(),featureFlag:e,bandit:n.banditKey,subject:this.subject.subjectKey??"",action:n.action,actionProbability:n.actionProbability,optimalityGap:n.optimalityGap,modelVersion:n.modelVersion,subjectNumericAttributes:n.actionNumericAttributes,subjectCategoricalAttributes:n.actionCategoricalAttributes,actionNumericAttributes:n.actionNumericAttributes,actionCategoricalAttributes:n.actionCategoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:null};try{this.logBanditAction(s)}catch(a){si.logger.error(`${si.loggerPrefix} Error logging bandit action: ${a}`)}return{variation:i,action:s.action}}getPrecomputedFlag(e){return this.getObfuscatedFlag(e)}getObfuscatedFlag(e){let r=this.precomputedFlagStore.salt,n=(0,UIe.getMD5Hash)(e,r),i=this.precomputedFlagStore.get(n);return i?(0,DIe.decodePrecomputedFlag)(i):null}getPrecomputedBandit(e){let r=this.getObfuscatedPrecomputedBandit(e);return r?(0,DIe.decodePrecomputedBandit)(r):null}getObfuscatedPrecomputedBandit(e){let r=this.precomputedBanditStore?.salt,n=(0,UIe.getMD5Hash)(e,r);return this.precomputedBanditStore?.get(n)??null}isInitialized(){return this.precomputedFlagStore.isInitialized()}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.queuedAssignmentEvents,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new axt.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new sxt.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}flushQueuedEvents(e,r){let n=[...e];e.length=0,r&&n.forEach(i=>{try{r(i)}catch(s){si.logger.error(`${si.loggerPrefix} Error flushing event to logger: ${s.message}`)}})}logAssignment(e){let{flagKey:r,subjectKey:n,allocationKey:i,subjectAttributes:s,variation:a,format:c}=e,l={...e.extraLogging??{},allocation:i??null,experiment:i?`${r}-${i}`:null,featureFlag:r,format:c,variation:a?.key??null,subject:n,timestamp:new Date().toISOString(),subjectAttributes:s,metaData:this.buildLoggerMetadata(),evaluationDetails:null};if(!(a&&i&&this.assignmentCache?.has({flagKey:r,subjectKey:n,allocationKey:i,variationKey:a.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(l):this.queuedAssignmentEvents.length<z1.MAX_EVENT_QUEUE_SIZE&&this.queuedAssignmentEvents.push(l),this.assignmentCache?.set({flagKey:r,subjectKey:n,allocationKey:i??"__eppo_no_allocation",variationKey:a?.key??"__eppo_no_variation"})}catch(h){si.logger.error(`${si.loggerPrefix} Error logging assignment event: ${h.message}`)}}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,s=e.action??"__eppo_no_action",a={flagKey:n,subjectKey:r,banditKey:i,actionKey:s};if(!this.banditAssignmentCache?.has(a))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(a)}catch(c){si.logger.warn("Error encountered logging bandit action",c)}}buildLoggerMetadata(){return{obfuscated:!0,sdkLanguage:"javascript",sdkLibVersion:dxt.LIB_VERSION}}};z$.default=j$});var HIe=j(pM=>{"use strict";m();g();Object.defineProperty(pM,"__esModule",{value:!0});pM.HybridConfigurationStore=void 0;var hM=Zd(),K$=class{static{o(this,"HybridConfigurationStore")}constructor(e,r){this.servingStore=e,this.persistentStore=r,this.environment=null,this.configFetchedAt=null,this.configPublishedAt=null,this.format=null}async init(){if(!this.persistentStore)return;this.persistentStore.isInitialized()||hM.logger.warn(`${hM.loggerPrefix} Persistent store is not initialized from remote configuration. Serving assignments that may be stale.`);let e=await this.persistentStore.entries();this.servingStore.setEntries(e)}isInitialized(){return this.servingStore.isInitialized()&&(this.persistentStore?.isInitialized()??!0)}async isExpired(){return await this.persistentStore?.isExpired()??!0}get(e){return this.servingStore.isInitialized()||hM.logger.warn(`${hM.loggerPrefix} getting a value from a ServingStore that is not initialized.`),this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async setEntries(e){return this.persistentStore&&await this.persistentStore.setEntries(e),this.servingStore.setEntries(e),!0}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};pM.HybridConfigurationStore=K$});var qIe=j(G2=>{"use strict";m();g();Object.defineProperty(G2,"__esModule",{value:!0});G2.MemoryOnlyConfigurationStore=G2.MemoryStore=void 0;var mM=class{static{o(this,"MemoryStore")}constructor(){this.store={},this.initialized=!1}get(e){return this.store[e]??null}entries(){return this.store}getKeys(){return Object.keys(this.store)}isInitialized(){return this.initialized}setEntries(e){this.store={...e},this.initialized=!0}};G2.MemoryStore=mM;var G$=class{static{o(this,"MemoryOnlyConfigurationStore")}constructor(){this.servingStore=new mM,this.initialized=!1,this.configFetchedAt=null,this.configPublishedAt=null,this.environment=null,this.format=null}init(){return this.initialized=!0,Promise.resolve()}get(e){return this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async isExpired(){return!0}isInitialized(){return this.initialized}async setEntries(e){return this.servingStore.setEntries(e),this.initialized=!0,!0}getEnvironment(){return this.environment}setEnvironment(e){this.environment=e}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};G2.MemoryOnlyConfigurationStore=G$});var Y$=j(W$=>{"use strict";m();g();Object.defineProperty(W$,"__esModule",{value:!0});var pxt=100,mxt=1e4,$$=class{static{o(this,"BatchEventProcessor")}constructor(e,r){this.eventQueue=e,this.batchSize=Math.max(pxt,Math.min(mxt,r))}nextBatch(){return this.eventQueue.splice(this.batchSize)}push(...e){this.eventQueue.push(...e)}isEmpty(){return this.eventQueue.isEmpty()}};W$.default=$$});var VIe=j(J$=>{"use strict";m();g();Object.defineProperty(J$,"__esModule",{value:!0});var X$=Zd(),Z$=class{static{o(this,"BatchRetryManager")}constructor(e,r){this.delivery=e,this.config=r}async retry(e,r=0){let{retryIntervalMs:n,maxRetryDelayMs:i,maxRetries:s}=this.config,a=Math.min(n*Math.pow(2,r),i);X$.logger.info(`[BatchRetryManager] Retrying batch delivery of ${e.length} events in ${a}ms...`),await new Promise(l=>setTimeout(l,a));let{failedEvents:c}=await this.delivery.deliver(e);return c.length===0?(X$.logger.info(`[BatchRetryManager] Batch delivery successfully after ${r+1} tries.`),[]):r<s-1?this.retry(c,r+1):(X$.logger.warn(`[BatchRetryManager] Failed to deliver batch after ${s} tries, bailing`),e)}};J$.default=Z$});var jIe=j(eW=>{"use strict";m();g();Object.defineProperty(eW,"__esModule",{value:!0});var gM=Zd(),Q$=class{static{o(this,"EventDelivery")}constructor(e,r){this.sdkKey=e,this.ingestionUrl=r}async deliver(e){try{gM.logger.info(`[EventDispatcher] Delivering batch of ${e.length} events to ${this.ingestionUrl}...`);let r=await fetch(this.ingestionUrl,{method:"POST",headers:{"Content-Type":"application/json","x-eppo-token":this.sdkKey},body:JSON.stringify({eppo_events:e})});return r.ok?await this.parseFailedEvents(r,e):{failedEvents:e}}catch(r){return gM.logger.warn("Failed to upload event batch",r),{failedEvents:e}}}async parseFailedEvents(e,r){gM.logger.info("[EventDispatcher] Batch delivered successfully.");let n=await e.json(),i=new Set(n?.failed_events||[]);return i.size>0?(gM.logger.warn(`[EventDispatcher] ${i.size}/${r.length} events failed ingestion.`),{failedEvents:r.filter(({uuid:s})=>i.has(s))}):{failedEvents:[]}}};eW.default=Q$});var KIe=j(rW=>{"use strict";m();g();Object.defineProperty(rW,"__esModule",{value:!0});var gxt=OG(),zIe="v0/i",tW=class{static{o(this,"SdkKeyDecoder")}decodeEventIngestionUrl(e){let r=e.split(".")[1];if(!r)return null;let n=gxt.Base64.decode(r),s=new URLSearchParams(n).get("eh");if(!s)return null;let a=s.endsWith("/")?`${s}${zIe}`:`${s}/${zIe}`;return!a.startsWith("http://")&&!a.startsWith("https://")?`https://${a}`:a}};rW.default=tW});var GIe=j(eh=>{"use strict";m();g();Object.defineProperty(eh,"__esModule",{value:!0});eh.DEFAULT_EVENT_DISPATCHER_CONFIG=eh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=void 0;eh.newDefaultEventDispatcher=wxt;var $2=Zd(),yxt=Y$(),bxt=VIe(),xxt=jIe(),vxt=B$(),_xt=KIe();eh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=1e3;eh.DEFAULT_EVENT_DISPATCHER_CONFIG={deliveryIntervalMs:1e4,retryIntervalMs:5e3,maxRetryDelayMs:3e4,maxRetries:3};var yM=class{static{o(this,"DefaultEventDispatcher")}constructor(e,r,n){this.batchProcessor=e,this.networkStatusListener=r,this.dispatchTimer=null,this.isOffline=!1,this.ensureConfigFields(n);let{sdkKey:i,ingestionUrl:s,retryIntervalMs:a,maxRetryDelayMs:c,maxRetries:l=3}=n;this.eventDelivery=new xxt.default(i,s),this.retryManager=new bxt.default(this.eventDelivery,{retryIntervalMs:a,maxRetryDelayMs:c,maxRetries:l}),this.deliveryIntervalMs=n.deliveryIntervalMs,this.networkStatusListener.onNetworkStatusChange(h=>{$2.logger.info(`[EventDispatcher] Network status change, isOffline=${h}.`),this.isOffline=h,h?this.dispatchTimer=null:this.maybeScheduleNextDelivery()})}dispatch(e){this.batchProcessor.push(e),this.maybeScheduleNextDelivery()}async deliverNextBatch(){if(this.isOffline){$2.logger.warn("[EventDispatcher] Skipping delivery; network status is offline.");return}let e=this.batchProcessor.nextBatch();if(e.length===0){this.dispatchTimer=null;return}let{failedEvents:r}=await this.eventDelivery.deliver(e);if(r.length>0){$2.logger.warn("[EventDispatcher] Failed to deliver some events from batch, retrying...");let n=await this.retryManager.retry(r);n.length>0&&this.batchProcessor.push(...n)}$2.logger.debug(`[EventDispatcher] Delivered batch of ${e.length} events.`),this.dispatchTimer=null,this.maybeScheduleNextDelivery()}maybeScheduleNextDelivery(){!this.isOffline&&!this.batchProcessor.isEmpty()&&!this.dispatchTimer&&($2.logger.info(`[EventDispatcher] Scheduling next delivery in ${this.deliveryIntervalMs}ms.`),this.dispatchTimer=setTimeout(()=>this.deliverNextBatch(),this.deliveryIntervalMs))}ensureConfigFields(e){if(!e.ingestionUrl)throw new Error("Missing required ingestionUrl in EventDispatcherConfig");if(!e.deliveryIntervalMs)throw new Error("Missing required deliveryIntervalMs in EventDispatcherConfig");if(!e.retryIntervalMs)throw new Error("Missing required retryIntervalMs in EventDispatcherConfig");if(!e.maxRetryDelayMs)throw new Error("Missing required maxRetryDelayMs in EventDispatcherConfig")}};eh.default=yM;function wxt(t,e,r,n=eh.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE,i=eh.DEFAULT_EVENT_DISPATCHER_CONFIG){let a=new _xt.default().decodeEventIngestionUrl(r);return a?new yM(new yxt.default(t,n),e,{...i,ingestionUrl:a,sdkKey:r}):($2.logger.debug("Unable to parse Event ingestion URL from SDK key, falling back to no-op event dispatcher"),new vxt.default)}o(wxt,"newDefaultEventDispatcher")});var XIe=j(Ut=>{"use strict";m();g();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.decodePrecomputedFlag=Ut.DefaultEventDispatcher=Ut.BatchEventProcessor=Ut.newDefaultEventDispatcher=Ut.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=Ut.DEFAULT_EVENT_DISPATCHER_CONFIG=Ut.BoundedEventQueue=Ut.FormatEnum=Ut.VariationType=Ut.assignmentCacheValueToString=Ut.assignmentCacheKeyToString=Ut.LRUInMemoryAssignmentCache=Ut.NonExpiringInMemoryAssignmentCache=Ut.MemoryOnlyConfigurationStore=Ut.HybridConfigurationStore=Ut.MemoryStore=Ut.EppoPrecomputedClient=Ut.validation=Ut.HttpClient=Ut.FlagConfigRequestor=Ut.ApiEndpoints=Ut.constants=Ut.EppoClient=Ut.AbstractAssignmentCache=Ut.applicationLogger=Ut.loggerPrefix=void 0;var Ext=ON();Ut.ApiEndpoints=Ext.default;var $Ie=Zd();Object.defineProperty(Ut,"applicationLogger",{enumerable:!0,get:o(function(){return $Ie.logger},"get")});Object.defineProperty(Ut,"loggerPrefix",{enumerable:!0,get:o(function(){return $Ie.loggerPrefix},"get")});var nW=V3();Object.defineProperty(Ut,"AbstractAssignmentCache",{enumerable:!0,get:o(function(){return nW.AbstractAssignmentCache},"get")});Object.defineProperty(Ut,"assignmentCacheKeyToString",{enumerable:!0,get:o(function(){return nW.assignmentCacheKeyToString},"get")});Object.defineProperty(Ut,"assignmentCacheValueToString",{enumerable:!0,get:o(function(){return nW.assignmentCacheValueToString},"get")});var Sxt=BN();Object.defineProperty(Ut,"LRUInMemoryAssignmentCache",{enumerable:!0,get:o(function(){return Sxt.LRUInMemoryAssignmentCache},"get")});var Axt=LN();Object.defineProperty(Ut,"NonExpiringInMemoryAssignmentCache",{enumerable:!0,get:o(function(){return Axt.NonExpiringInMemoryAssignmentCache},"get")});var Ixt=oM();Ut.EppoClient=Ixt.default;var Txt=FIe();Ut.EppoPrecomputedClient=Txt.default;var Rxt=QG();Ut.FlagConfigRequestor=Rxt.default;var Oxt=HIe();Object.defineProperty(Ut,"HybridConfigurationStore",{enumerable:!0,get:o(function(){return Oxt.HybridConfigurationStore},"get")});var WIe=qIe();Object.defineProperty(Ut,"MemoryStore",{enumerable:!0,get:o(function(){return WIe.MemoryStore},"get")});Object.defineProperty(Ut,"MemoryOnlyConfigurationStore",{enumerable:!0,get:o(function(){return WIe.MemoryOnlyConfigurationStore},"get")});var Nxt=x0();Ut.constants=Nxt;var Mxt=KN();Object.defineProperty(Ut,"decodePrecomputedFlag",{enumerable:!0,get:o(function(){return Mxt.decodePrecomputedFlag},"get")});var Cxt=Y$();Ut.BatchEventProcessor=Cxt.default;var kxt=M$();Object.defineProperty(Ut,"BoundedEventQueue",{enumerable:!0,get:o(function(){return kxt.BoundedEventQueue},"get")});var bM=GIe();Ut.DefaultEventDispatcher=bM.default;Object.defineProperty(Ut,"DEFAULT_EVENT_DISPATCHER_CONFIG",{enumerable:!0,get:o(function(){return bM.DEFAULT_EVENT_DISPATCHER_CONFIG},"get")});Object.defineProperty(Ut,"DEFAULT_EVENT_DISPATCHER_BATCH_SIZE",{enumerable:!0,get:o(function(){return bM.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE},"get")});Object.defineProperty(Ut,"newDefaultEventDispatcher",{enumerable:!0,get:o(function(){return bM.newDefaultEventDispatcher},"get")});var Bxt=aM();Ut.HttpClient=Bxt.default;var YIe=w0();Object.defineProperty(Ut,"VariationType",{enumerable:!0,get:o(function(){return YIe.VariationType},"get")});Object.defineProperty(Ut,"FormatEnum",{enumerable:!0,get:o(function(){return YIe.FormatEnum},"get")});var Pxt=uM();Ut.validation=Pxt});var lTe=j((arn,uTe)=>{m();g();function mvt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}o(mvt,"arrayEach");uTe.exports=mvt});var hTe=j((lrn,dTe)=>{m();g();var gvt=Z6(),yvt=nZ();function bvt(t,e){return t&&gvt(e,yvt(e),t)}o(bvt,"baseAssign");dTe.exports=bvt});var mTe=j((mrn,pTe)=>{m();g();var xvt=Z6(),vvt=tk();function _vt(t,e){return t&&xvt(e,vvt(e),t)}o(_vt,"baseAssignIn");pTe.exports=_vt});var yTe=j((xrn,gTe)=>{m();g();var wvt=Z6(),Evt=iZ();function Svt(t,e){return wvt(t,Evt(t),e)}o(Svt,"copySymbols");gTe.exports=Svt});var yW=j((Ern,bTe)=>{m();g();var Avt=nNe(),Ivt=iNe(),Tvt=iZ(),Rvt=rNe(),Ovt=Object.getOwnPropertySymbols,Nvt=Ovt?function(t){for(var e=[];t;)Avt(e,Tvt(t)),t=Ivt(t);return e}:Rvt;bTe.exports=Nvt});var vTe=j((Irn,xTe)=>{m();g();var Mvt=Z6(),Cvt=yW();function kvt(t,e){return Mvt(t,Cvt(t),e)}o(kvt,"copySymbolsIn");xTe.exports=kvt});var wTe=j((Nrn,_Te)=>{m();g();var Bvt=oNe(),Pvt=yW(),Lvt=tk();function Dvt(t){return Bvt(t,Lvt,Pvt)}o(Dvt,"getAllKeysIn");_Te.exports=Dvt});var STe=j((Brn,ETe)=>{m();g();var Uvt=Object.prototype,Fvt=Uvt.hasOwnProperty;function Hvt(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Fvt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}o(Hvt,"initCloneArray");ETe.exports=Hvt});var ITe=j((Urn,ATe)=>{m();g();var qvt=oZ();function Vvt(t,e){var r=e?qvt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}o(Vvt,"cloneDataView");ATe.exports=Vvt});var RTe=j((Vrn,TTe)=>{m();g();var jvt=/\w*$/;function zvt(t){var e=new t.constructor(t.source,jvt.exec(t));return e.lastIndex=t.lastIndex,e}o(zvt,"cloneRegExp");TTe.exports=zvt});var kTe=j((Grn,CTe)=>{m();g();var OTe=GOe(),NTe=OTe?OTe.prototype:void 0,MTe=NTe?NTe.valueOf:void 0;function Kvt(t){return MTe?Object(MTe.call(t)):{}}o(Kvt,"cloneSymbol");CTe.exports=Kvt});var PTe=j((Xrn,BTe)=>{m();g();var Gvt=oZ(),$vt=ITe(),Wvt=RTe(),Yvt=kTe(),Xvt=aNe(),Zvt="[object Boolean]",Jvt="[object Date]",Qvt="[object Map]",e2t="[object Number]",t2t="[object RegExp]",r2t="[object Set]",n2t="[object String]",i2t="[object Symbol]",o2t="[object ArrayBuffer]",s2t="[object DataView]",a2t="[object Float32Array]",c2t="[object Float64Array]",f2t="[object Int8Array]",u2t="[object Int16Array]",l2t="[object Int32Array]",d2t="[object Uint8Array]",h2t="[object Uint8ClampedArray]",p2t="[object Uint16Array]",m2t="[object Uint32Array]";function g2t(t,e,r){var n=t.constructor;switch(e){case o2t:return Gvt(t);case Zvt:case Jvt:return new n(+t);case s2t:return $vt(t,r);case a2t:case c2t:case f2t:case u2t:case l2t:case d2t:case h2t:case p2t:case m2t:return Xvt(t,r);case Qvt:return new n;case e2t:case n2t:return new n(t);case t2t:return Wvt(t);case r2t:return new n;case i2t:return Yvt(t)}}o(g2t,"initCloneByTag");BTe.exports=g2t});var DTe=j((enn,LTe)=>{m();g();var y2t=rk(),b2t=JC(),x2t="[object Map]";function v2t(t){return b2t(t)&&y2t(t)==x2t}o(v2t,"baseIsMap");LTe.exports=v2t});var qTe=j((inn,HTe)=>{m();g();var _2t=DTe(),w2t=QC(),UTe=ek(),FTe=UTe&&UTe.isMap,E2t=FTe?w2t(FTe):_2t;HTe.exports=E2t});var jTe=j((ann,VTe)=>{m();g();var S2t=rk(),A2t=JC(),I2t="[object Set]";function T2t(t){return A2t(t)&&S2t(t)==I2t}o(T2t,"baseIsSet");VTe.exports=T2t});var $Te=j((lnn,GTe)=>{m();g();var R2t=jTe(),O2t=QC(),zTe=ek(),KTe=zTe&&zTe.isSet,N2t=KTe?O2t(KTe):R2t;GTe.exports=N2t});var JTe=j((pnn,ZTe)=>{m();g();var M2t=XOe(),C2t=lTe(),k2t=ZOe(),B2t=hTe(),P2t=mTe(),L2t=eNe(),D2t=tNe(),U2t=yTe(),F2t=vTe(),H2t=sNe(),q2t=wTe(),V2t=rk(),j2t=STe(),z2t=PTe(),K2t=cNe(),G2t=JOe(),$2t=QOe(),W2t=qTe(),Y2t=YOe(),X2t=$Te(),Z2t=nZ(),J2t=tk(),Q2t=1,e_t=2,t_t=4,WTe="[object Arguments]",r_t="[object Array]",n_t="[object Boolean]",i_t="[object Date]",o_t="[object Error]",YTe="[object Function]",s_t="[object GeneratorFunction]",a_t="[object Map]",c_t="[object Number]",XTe="[object Object]",f_t="[object RegExp]",u_t="[object Set]",l_t="[object String]",d_t="[object Symbol]",h_t="[object WeakMap]",p_t="[object ArrayBuffer]",m_t="[object DataView]",g_t="[object Float32Array]",y_t="[object Float64Array]",b_t="[object Int8Array]",x_t="[object Int16Array]",v_t="[object Int32Array]",__t="[object Uint8Array]",w_t="[object Uint8ClampedArray]",E_t="[object Uint16Array]",S_t="[object Uint32Array]",ai={};ai[WTe]=ai[r_t]=ai[p_t]=ai[m_t]=ai[n_t]=ai[i_t]=ai[g_t]=ai[y_t]=ai[b_t]=ai[x_t]=ai[v_t]=ai[a_t]=ai[c_t]=ai[XTe]=ai[f_t]=ai[u_t]=ai[l_t]=ai[d_t]=ai[__t]=ai[w_t]=ai[E_t]=ai[S_t]=!0;ai[o_t]=ai[YTe]=ai[h_t]=!1;function TM(t,e,r,n,i,s){var a,c=e&Q2t,l=e&e_t,h=e&t_t;if(r&&(a=i?r(t,n,i,s):r(t)),a!==void 0)return a;if(!Y2t(t))return t;var y=G2t(t);if(y){if(a=j2t(t),!c)return D2t(t,a)}else{var p=V2t(t),E=p==YTe||p==s_t;if($2t(t))return L2t(t,c);if(p==XTe||p==WTe||E&&!i){if(a=l||E?{}:K2t(t),!c)return l?F2t(t,P2t(a,t)):U2t(t,B2t(a,t))}else{if(!ai[p])return i?t:{};a=z2t(t,p,c)}}s||(s=new M2t);var I=s.get(t);if(I)return I;s.set(t,a),X2t(t)?t.forEach(function(k){a.add(TM(k,e,r,k,t,s))}):W2t(t)&&t.forEach(function(k,C){a.set(C,TM(k,e,r,C,t,s))});var O=h?l?q2t:H2t:l?J2t:Z2t,N=y?void 0:O(t);return C2t(N||t,function(k,C){N&&(C=k,k=t[C]),k2t(a,C,TM(k,e,r,C,t,s))}),a}o(TM,"baseClone");ZTe.exports=TM});var O_t=j((bnn,QTe)=>{m();g();var A_t=JTe(),I_t=1,T_t=4;function R_t(t){return A_t(t,I_t|T_t)}o(R_t,"cloneDeep");QTe.exports=R_t});var M_t=j((bW,xW)=>{m();g();(function(t,e){typeof bW=="object"&&typeof xW<"u"?xW.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=e()})(bW,function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",s="minute",a="hour",c="day",l="week",h="month",y="quarter",p="year",E="date",I="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:o(function(d){var b=["th","st","nd","rd"],x=d%100;return"["+d+(b[(x-20)%10]||b[x]||b[0])+"]"},"ordinal")},C=o(function(d,b,x){var _=String(d);return!_||_.length>=b?d:""+Array(b+1-_.length).join(x)+d},"m"),L={s:C,z:o(function(d){var b=-d.utcOffset(),x=Math.abs(b),_=Math.floor(x/60),A=x%60;return(b<=0?"+":"-")+C(_,2,"0")+":"+C(A,2,"0")},"z"),m:o(function d(b,x){if(b.date()<x.date())return-d(x,b);var _=12*(x.year()-b.year())+(x.month()-b.month()),A=b.clone().add(_,h),T=x-A<0,v=b.clone().add(_+(T?-1:1),h);return+(-(_+(x-A)/(T?A-v:v-A))||0)},"t"),a:o(function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},"a"),p:o(function(d){return{M:h,y:p,w:l,d:c,D:E,h:a,m:s,s:i,ms:n,Q:y}[d]||String(d||"").toLowerCase().replace(/s$/,"")},"p"),u:o(function(d){return d===void 0},"u")},M="en",P={};P[M]=k;var H="$isDayjsObject",F=o(function(d){return d instanceof S||!(!d||!d[H])},"S"),J=o(function d(b,x,_){var A;if(!b)return M;if(typeof b=="string"){var T=b.toLowerCase();P[T]&&(A=T),x&&(P[T]=x,A=T);var v=b.split("-");if(!A&&v.length>1)return d(v[0])}else{var u=b.name;P[u]=b,A=u}return!_&&A&&(M=A),A||!_&&M},"t"),W=o(function(d,b){if(F(d))return d.clone();var x=typeof b=="object"?b:{};return x.date=d,x.args=arguments,new S(x)},"O"),X=L;X.l=J,X.i=F,X.w=function(d,b){return W(d,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var S=function(){function d(x){this.$L=J(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[H]=!0}o(d,"M");var b=d.prototype;return b.parse=function(x){this.$d=function(_){var A=_.date,T=_.utc;if(A===null)return new Date(NaN);if(X.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var v=A.match(O);if(v){var u=v[2]-1||0,w=(v[7]||"0").substring(0,3);return T?new Date(Date.UTC(v[1],u,v[3]||1,v[4]||0,v[5]||0,v[6]||0,w)):new Date(v[1],u,v[3]||1,v[4]||0,v[5]||0,v[6]||0,w)}}return new Date(A)}(x),this.init()},b.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},b.$utils=function(){return X},b.isValid=function(){return this.$d.toString()!==I},b.isSame=function(x,_){var A=W(x);return this.startOf(_)<=A&&A<=this.endOf(_)},b.isAfter=function(x,_){return W(x)<this.startOf(_)},b.isBefore=function(x,_){return this.endOf(_)<W(x)},b.$g=function(x,_,A){return X.u(x)?this[_]:this.set(A,x)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(x,_){var A=this,T=!!X.u(_)||_,v=X.p(x),u=o(function(Oe,ae){var le=X.w(A.$u?Date.UTC(A.$y,ae,Oe):new Date(A.$y,ae,Oe),A);return T?le:le.endOf(c)},"l"),w=o(function(Oe,ae){return X.w(A.toDate()[Oe].apply(A.toDate("s"),(T?[0,0,0,0]:[23,59,59,999]).slice(ae)),A)},"$"),V=this.$W,q=this.$M,U=this.$D,$="set"+(this.$u?"UTC":"");switch(v){case p:return T?u(1,0):u(31,11);case h:return T?u(1,q):u(0,q+1);case l:var ee=this.$locale().weekStart||0,re=(V<ee?V+7:V)-ee;return u(T?U-re:U+(6-re),q);case c:case E:return w($+"Hours",0);case a:return w($+"Minutes",1);case s:return w($+"Seconds",2);case i:return w($+"Milliseconds",3);default:return this.clone()}},b.endOf=function(x){return this.startOf(x,!1)},b.$set=function(x,_){var A,T=X.p(x),v="set"+(this.$u?"UTC":""),u=(A={},A[c]=v+"Date",A[E]=v+"Date",A[h]=v+"Month",A[p]=v+"FullYear",A[a]=v+"Hours",A[s]=v+"Minutes",A[i]=v+"Seconds",A[n]=v+"Milliseconds",A)[T],w=T===c?this.$D+(_-this.$W):_;if(T===h||T===p){var V=this.clone().set(E,1);V.$d[u](w),V.init(),this.$d=V.set(E,Math.min(this.$D,V.daysInMonth())).$d}else u&&this.$d[u](w);return this.init(),this},b.set=function(x,_){return this.clone().$set(x,_)},b.get=function(x){return this[X.p(x)]()},b.add=function(x,_){var A,T=this;x=Number(x);var v=X.p(_),u=o(function(q){var U=W(T);return X.w(U.date(U.date()+Math.round(q*x)),T)},"y");if(v===h)return this.set(h,this.$M+x);if(v===p)return this.set(p,this.$y+x);if(v===c)return u(1);if(v===l)return u(7);var w=(A={},A[s]=e,A[a]=r,A[i]=t,A)[v]||1,V=this.$d.getTime()+x*w;return X.w(V,this)},b.subtract=function(x,_){return this.add(-1*x,_)},b.format=function(x){var _=this,A=this.$locale();if(!this.isValid())return A.invalidDate||I;var T=x||"YYYY-MM-DDTHH:mm:ssZ",v=X.z(this),u=this.$H,w=this.$m,V=this.$M,q=A.weekdays,U=A.months,$=A.meridiem,ee=o(function(ae,le,ye,he){return ae&&(ae[le]||ae(_,T))||ye[le].slice(0,he)},"h"),re=o(function(ae){return X.s(u%12||12,ae,"0")},"d"),Oe=$||function(ae,le,ye){var he=ae<12?"AM":"PM";return ye?he.toLowerCase():he};return T.replace(N,function(ae,le){return le||function(ye){switch(ye){case"YY":return String(_.$y).slice(-2);case"YYYY":return X.s(_.$y,4,"0");case"M":return V+1;case"MM":return X.s(V+1,2,"0");case"MMM":return ee(A.monthsShort,V,U,3);case"MMMM":return ee(U,V);case"D":return _.$D;case"DD":return X.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return ee(A.weekdaysMin,_.$W,q,2);case"ddd":return ee(A.weekdaysShort,_.$W,q,3);case"dddd":return q[_.$W];case"H":return String(u);case"HH":return X.s(u,2,"0");case"h":return re(1);case"hh":return re(2);case"a":return Oe(u,w,!0);case"A":return Oe(u,w,!1);case"m":return String(w);case"mm":return X.s(w,2,"0");case"s":return String(_.$s);case"ss":return X.s(_.$s,2,"0");case"SSS":return X.s(_.$ms,3,"0");case"Z":return v}return null}(ae)||v.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(x,_,A){var T,v=this,u=X.p(_),w=W(x),V=(w.utcOffset()-this.utcOffset())*e,q=this-w,U=o(function(){return X.m(v,w)},"D");switch(u){case p:T=U()/12;break;case h:T=U();break;case y:T=U()/3;break;case l:T=(q-V)/6048e5;break;case c:T=(q-V)/864e5;break;case a:T=q/r;break;case s:T=q/e;break;case i:T=q/t;break;default:T=q}return A?T:X.a(T)},b.daysInMonth=function(){return this.endOf(h).$D},b.$locale=function(){return P[this.$L]},b.locale=function(x,_){if(!x)return this.$L;var A=this.clone(),T=J(x,_,!0);return T&&(A.$L=T),A},b.clone=function(){return X.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},d}(),f=S.prototype;return W.prototype=f,[["$ms",n],["$s",i],["$m",s],["$H",a],["$W",c],["$M",h],["$y",p],["$D",E]].forEach(function(d){f[d[1]]=function(b){return this.$g(b,d[0],d[1])}}),W.extend=function(d,b){return d.$i||(d(b,S,W),d.$i=!0),W},W.locale=J,W.isDayjs=F,W.unix=function(d){return W(1e3*d)},W.en=P[M],W.Ls=P,W.p={},W})});var B_t=j((nRe,RM)=>{m();g();(function(t,e){typeof define=="function"&&define.amd?define(e):typeof RM=="object"&&RM.exports?RM.exports=e():t.numeral=e()})(nRe,function(){var t,e,r="2.0.6",n={},i={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function c(l,h){this._input=l,this._value=h}return o(c,"Numeral"),t=o(function(l){var h,y,p,E;if(t.isNumeral(l))h=l.value();else if(l===0||typeof l>"u")h=0;else if(l===null||e.isNaN(l))h=null;else if(typeof l=="string")if(a.zeroFormat&&l===a.zeroFormat)h=0;else if(a.nullFormat&&l===a.nullFormat||!l.replace(/[^0-9]+/g,"").length)h=null;else{for(y in n)if(E=typeof n[y].regexps.unformat=="function"?n[y].regexps.unformat():n[y].regexps.unformat,E&&l.match(E)){p=n[y].unformat;break}p=p||t._.stringToNumber,h=p(l)}else h=Number(l)||null;return new c(l,h)},"numeral"),t.version=r,t.isNumeral=function(l){return l instanceof c},t._=e={numberToFormat:o(function(l,h,y){var p=i[t.options.currentLocale],E=!1,I=!1,O=0,N="",k=1e12,C=1e9,L=1e6,M=1e3,P="",H=!1,F,J,W,X,S,f,d,b,x,_;if(l=l||0,J=Math.abs(l),t._.includes(h,"(")?(E=!0,h=h.replace(/[\(|\)]/g,"")):(t._.includes(h,"+")||t._.includes(h,"-"))&&(b=t._.includes(h,"+")?h.indexOf("+"):l<0?h.indexOf("-"):-1,h=h.replace(/[\+|\-]/g,"")),t._.includes(h,"a")&&(F=h.match(/a(k|m|b|t)?/),F=F?F[1]:!1,t._.includes(h," a")&&(N=" "),h=h.replace(new RegExp(N+"a[kmbt]?"),""),J>=k&&!F||F==="t"?(N+=p.abbreviations.trillion,l=l/k):J<k&&J>=C&&!F||F==="b"?(N+=p.abbreviations.billion,l=l/C):J<C&&J>=L&&!F||F==="m"?(N+=p.abbreviations.million,l=l/L):(J<L&&J>=M&&!F||F==="k")&&(N+=p.abbreviations.thousand,l=l/M)),t._.includes(h,"[.]")&&(I=!0,h=h.replace("[.]",".")),f=l.toString().split(".")[0],d=h.split(".")[1],x=h.indexOf(","),O=(h.split(".")[0].split(",")[0].match(/0/g)||[]).length,d?(t._.includes(d,"[")?(d=d.replace("]",""),d=d.split("["),P=t._.toFixed(l,d[0].length+d[1].length,y,d[1].length)):P=t._.toFixed(l,d.length,y),f=P.split(".")[0],t._.includes(P,".")?P=p.delimiters.decimal+P.split(".")[1]:P="",I&&Number(P.slice(1))===0&&(P="")):f=t._.toFixed(l,0,y),N&&!F&&Number(f)>=1e3&&N!==p.abbreviations.trillion)switch(f=String(Number(f)/1e3),N){case p.abbreviations.thousand:N=p.abbreviations.million;break;case p.abbreviations.million:N=p.abbreviations.billion;break;case p.abbreviations.billion:N=p.abbreviations.trillion;break}if(t._.includes(f,"-")&&(f=f.slice(1),H=!0),f.length<O)for(var A=O-f.length;A>0;A--)f="0"+f;return x>-1&&(f=f.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),h.indexOf(".")===0&&(f=""),_=f+P+(N||""),E?_=(E&&H?"(":"")+_+(E&&H?")":""):b>=0?_=b===0?(H?"-":"+")+_:_+(H?"-":"+"):H&&(_="-"+_),_},"numberToFormat"),stringToNumber:o(function(l){var h=i[a.currentLocale],y=l,p={thousand:3,million:6,billion:9,trillion:12},E,I,O,N;if(a.zeroFormat&&l===a.zeroFormat)I=0;else if(a.nullFormat&&l===a.nullFormat||!l.replace(/[^0-9]+/g,"").length)I=null;else{I=1,h.delimiters.decimal!=="."&&(l=l.replace(/\./g,"").replace(h.delimiters.decimal,"."));for(E in p)if(N=new RegExp("[^a-zA-Z]"+h.abbreviations[E]+"(?:\\)|(\\"+h.currency.symbol+")?(?:\\))?)?$"),y.match(N)){I*=Math.pow(10,p[E]);break}I*=(l.split("-").length+Math.min(l.split("(").length-1,l.split(")").length-1))%2?1:-1,l=l.replace(/[^0-9\.]+/g,""),I*=Number(l)}return I},"stringToNumber"),isNaN:o(function(l){return typeof l=="number"&&isNaN(l)},"isNaN"),includes:o(function(l,h){return l.indexOf(h)!==-1},"includes"),insert:o(function(l,h,y){return l.slice(0,y)+h+l.slice(y)},"insert"),reduce:o(function(l,h){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof h!="function")throw new TypeError(h+" is not a function");var y=Object(l),p=y.length>>>0,E=0,I;if(arguments.length===3)I=arguments[2];else{for(;E<p&&!(E in y);)E++;if(E>=p)throw new TypeError("Reduce of empty array with no initial value");I=y[E++]}for(;E<p;E++)E in y&&(I=h(I,y[E],E,y));return I},"reduce"),multiplier:o(function(l){var h=l.toString().split(".");return h.length<2?1:Math.pow(10,h[1].length)},"multiplier"),correctionFactor:o(function(){var l=Array.prototype.slice.call(arguments);return l.reduce(function(h,y){var p=e.multiplier(y);return h>p?h:p},1)},"correctionFactor"),toFixed:o(function(l,h,y,p){var E=l.toString().split("."),I=h-(p||0),O,N,k,C;return E.length===2?O=Math.min(Math.max(E[1].length,I),h):O=I,k=Math.pow(10,O),C=(y(l+"e+"+O)/k).toFixed(O),p>h-O&&(N=new RegExp("\\.?0{1,"+(p-(h-O))+"}$"),C=C.replace(N,"")),C},"toFixed")},t.options=a,t.formats=n,t.locales=i,t.locale=function(l){return l&&(a.currentLocale=l.toLowerCase()),a.currentLocale},t.localeData=function(l){if(!l)return i[a.currentLocale];if(l=l.toLowerCase(),!i[l])throw new Error("Unknown locale : "+l);return i[l]},t.reset=function(){for(var l in s)a[l]=s[l]},t.zeroFormat=function(l){a.zeroFormat=typeof l=="string"?l:null},t.nullFormat=function(l){a.nullFormat=typeof l=="string"?l:null},t.defaultFormat=function(l){a.defaultFormat=typeof l=="string"?l:"0.0"},t.register=function(l,h,y){if(h=h.toLowerCase(),this[l+"s"][h])throw new TypeError(h+" "+l+" already registered.");return this[l+"s"][h]=y,y},t.validate=function(l,h){var y,p,E,I,O,N,k,C;if(typeof l!="string"&&(l+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",l)),l=l.trim(),l.match(/^\d+$/))return!0;if(l==="")return!1;try{k=t.localeData(h)}catch{k=t.localeData(t.locale())}return E=k.currency.symbol,O=k.abbreviations,y=k.delimiters.decimal,k.delimiters.thousands==="."?p="\\.":p=k.delimiters.thousands,C=l.match(/^[^\d]+/),C!==null&&(l=l.substr(1),C[0]!==E)||(C=l.match(/[^\d]+$/),C!==null&&(l=l.slice(0,-1),C[0]!==O.thousand&&C[0]!==O.million&&C[0]!==O.billion&&C[0]!==O.trillion))?!1:(N=new RegExp(p+"{2}"),l.match(/[^\d.,]/g)?!1:(I=l.split(y),I.length>2?!1:I.length<2?!!I[0].match(/^\d+.*\d$/)&&!I[0].match(N):I[0].length===1?!!I[0].match(/^\d+$/)&&!I[0].match(N)&&!!I[1].match(/^\d+$/):!!I[0].match(/^\d+.*\d$/)&&!I[0].match(N)&&!!I[1].match(/^\d+$/)))},t.fn=c.prototype={clone:o(function(){return t(this)},"clone"),format:o(function(l,h){var y=this._value,p=l||a.defaultFormat,E,I,O;if(h=h||Math.round,y===0&&a.zeroFormat!==null)I=a.zeroFormat;else if(y===null&&a.nullFormat!==null)I=a.nullFormat;else{for(E in n)if(p.match(n[E].regexps.format)){O=n[E].format;break}O=O||t._.numberToFormat,I=O(y,p,h)}return I},"format"),value:o(function(){return this._value},"value"),input:o(function(){return this._input},"input"),set:o(function(l){return this._value=Number(l),this},"set"),add:o(function(l){var h=e.correctionFactor.call(null,this._value,l);function y(p,E,I,O){return p+Math.round(h*E)}return o(y,"cback"),this._value=e.reduce([this._value,l],y,0)/h,this},"add"),subtract:o(function(l){var h=e.correctionFactor.call(null,this._value,l);function y(p,E,I,O){return p-Math.round(h*E)}return o(y,"cback"),this._value=e.reduce([l],y,Math.round(this._value*h))/h,this},"subtract"),multiply:o(function(l){function h(y,p,E,I){var O=e.correctionFactor(y,p);return Math.round(y*O)*Math.round(p*O)/Math.round(O*O)}return o(h,"cback"),this._value=e.reduce([this._value,l],h,1),this},"multiply"),divide:o(function(l){function h(y,p,E,I){var O=e.correctionFactor(y,p);return Math.round(y*O)/Math.round(p*O)}return o(h,"cback"),this._value=e.reduce([this._value,l],h),this},"divide"),difference:o(function(l){return Math.abs(t(this._value).subtract(l).value())},"difference")},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:o(function(l){var h=l%10;return~~(l%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th"},"ordinal"),currency:{symbol:"$"}}),function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:o(function(l,h,y){var p=t._.includes(h," BPS")?" ":"",E;return l=l*1e4,h=h.replace(/\s?BPS/,""),E=t._.numberToFormat(l,h,y),t._.includes(E,")")?(E=E.split(""),E.splice(-1,0,p+"BPS"),E=E.join("")):E=E+p+"BPS",E},"format"),unformat:o(function(l){return+(t._.stringToNumber(l)*1e-4).toFixed(15)},"unformat")})}(),function(){var l={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},h={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},y=l.suffixes.concat(h.suffixes.filter(function(E){return l.suffixes.indexOf(E)<0})),p=y.join("|");p="("+p.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(p)},format:o(function(E,I,O){var N,k=t._.includes(I,"ib")?h:l,C=t._.includes(I," b")||t._.includes(I," ib")?" ":"",L,M,P;for(I=I.replace(/\s?i?b/,""),L=0;L<=k.suffixes.length;L++)if(M=Math.pow(k.base,L),P=Math.pow(k.base,L+1),E===null||E===0||E>=M&&E<P){C+=k.suffixes[L],M>0&&(E=E/M);break}return N=t._.numberToFormat(E,I,O),N+C},"format"),unformat:o(function(E){var I=t._.stringToNumber(E),O,N;if(I){for(O=l.suffixes.length-1;O>=0;O--){if(t._.includes(E,l.suffixes[O])){N=Math.pow(l.base,O);break}if(t._.includes(E,h.suffixes[O])){N=Math.pow(h.base,O);break}}I*=N||1}return I},"unformat")})}(),function(){t.register("format","currency",{regexps:{format:/(\$)/},format:o(function(l,h,y){var p=t.locales[t.options.currentLocale],E={before:h.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:h.match(/([\+|\-|\)|\s|\$]*)$/)[0]},I,O,N;for(h=h.replace(/\s?\$\s?/,""),I=t._.numberToFormat(l,h,y),l>=0?(E.before=E.before.replace(/[\-\(]/,""),E.after=E.after.replace(/[\-\)]/,"")):l<0&&!t._.includes(E.before,"-")&&!t._.includes(E.before,"(")&&(E.before="-"+E.before),N=0;N<E.before.length;N++)switch(O=E.before[N],O){case"$":I=t._.insert(I,p.currency.symbol,N);break;case" ":I=t._.insert(I," ",N+p.currency.symbol.length-1);break}for(N=E.after.length-1;N>=0;N--)switch(O=E.after[N],O){case"$":I=N===E.after.length-1?I+p.currency.symbol:t._.insert(I,p.currency.symbol,-(E.after.length-(1+N)));break;case" ":I=N===E.after.length-1?I+" ":t._.insert(I," ",-(E.after.length-(1+N)+p.currency.symbol.length-1));break}return I},"format")})}(),function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:o(function(l,h,y){var p,E=typeof l=="number"&&!t._.isNaN(l)?l.toExponential():"0e+0",I=E.split("e");return h=h.replace(/e[\+|\-]{1}0/,""),p=t._.numberToFormat(Number(I[0]),h,y),p+"e"+I[1]},"format"),unformat:o(function(l){var h=t._.includes(l,"e+")?l.split("e+"):l.split("e-"),y=Number(h[0]),p=Number(h[1]);p=t._.includes(l,"e-")?p*=-1:p;function E(I,O,N,k){var C=t._.correctionFactor(I,O),L=I*C*(O*C)/(C*C);return L}return o(E,"cback"),t._.reduce([y,Math.pow(10,p)],E,1)},"unformat")})}(),function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:o(function(l,h,y){var p=t.locales[t.options.currentLocale],E,I=t._.includes(h," o")?" ":"";return h=h.replace(/\s?o/,""),I+=p.ordinal(l),E=t._.numberToFormat(l,h,y),E+I},"format")})}(),function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:o(function(l,h,y){var p=t._.includes(h," %")?" ":"",E;return t.options.scalePercentBy100&&(l=l*100),h=h.replace(/\s?\%/,""),E=t._.numberToFormat(l,h,y),t._.includes(E,")")?(E=E.split(""),E.splice(-1,0,p+"%"),E=E.join("")):E=E+p+"%",E},"format"),unformat:o(function(l){var h=t._.stringToNumber(l);return t.options.scalePercentBy100?h*.01:h},"unformat")})}(),function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:o(function(l,h,y){var p=Math.floor(l/60/60),E=Math.floor((l-p*60*60)/60),I=Math.round(l-p*60*60-E*60);return p+":"+(E<10?"0"+E:E)+":"+(I<10?"0"+I:I)},"format"),unformat:o(function(l){var h=l.split(":"),y=0;return h.length===3?(y=y+Number(h[0])*60*60,y=y+Number(h[1])*60,y=y+Number(h[2])):h.length===2&&(y=y+Number(h[0])*60,y=y+Number(h[1])),Number(y)},"unformat")})}(),t})});var D_t=j((vW,_W)=>{m();g();(function(t,e){typeof vW=="object"&&typeof _W<"u"?_W.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_duration=e()})(vW,function(){"use strict";var t,e,r=1e3,n=6e4,i=36e5,s=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,l=2628e6,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,y={years:c,months:l,days:s,hours:i,minutes:n,seconds:r,milliseconds:1,weeks:6048e5},p=o(function(P){return P instanceof L},"c"),E=o(function(P,H,F){return new L(P,F,H.$l)},"f"),I=o(function(P){return e.p(P)+"s"},"m"),O=o(function(P){return P<0},"l"),N=o(function(P){return O(P)?Math.ceil(P):Math.floor(P)},"$"),k=o(function(P){return Math.abs(P)},"y"),C=o(function(P,H){return P?O(P)?{negative:!0,format:""+k(P)+H}:{negative:!1,format:""+P+H}:{negative:!1,format:""}},"v"),L=function(){function P(F,J,W){var X=this;if(this.$d={},this.$l=W,F===void 0&&(this.$ms=0,this.parseFromMilliseconds()),J)return E(F*y[I(J)],this);if(typeof F=="number")return this.$ms=F,this.parseFromMilliseconds(),this;if(typeof F=="object")return Object.keys(F).forEach(function(d){X.$d[I(d)]=F[d]}),this.calMilliseconds(),this;if(typeof F=="string"){var S=F.match(h);if(S){var f=S.slice(2).map(function(d){return d!=null?Number(d):0});return this.$d.years=f[0],this.$d.months=f[1],this.$d.weeks=f[2],this.$d.days=f[3],this.$d.hours=f[4],this.$d.minutes=f[5],this.$d.seconds=f[6],this.calMilliseconds(),this}}return this}o(P,"l");var H=P.prototype;return H.calMilliseconds=function(){var F=this;this.$ms=Object.keys(this.$d).reduce(function(J,W){return J+(F.$d[W]||0)*y[W]},0)},H.parseFromMilliseconds=function(){var F=this.$ms;this.$d.years=N(F/c),F%=c,this.$d.months=N(F/l),F%=l,this.$d.days=N(F/s),F%=s,this.$d.hours=N(F/i),F%=i,this.$d.minutes=N(F/n),F%=n,this.$d.seconds=N(F/r),F%=r,this.$d.milliseconds=F},H.toISOString=function(){var F=C(this.$d.years,"Y"),J=C(this.$d.months,"M"),W=+this.$d.days||0;this.$d.weeks&&(W+=7*this.$d.weeks);var X=C(W,"D"),S=C(this.$d.hours,"H"),f=C(this.$d.minutes,"M"),d=this.$d.seconds||0;this.$d.milliseconds&&(d+=this.$d.milliseconds/1e3,d=Math.round(1e3*d)/1e3);var b=C(d,"S"),x=F.negative||J.negative||X.negative||S.negative||f.negative||b.negative,_=S.format||f.format||b.format?"T":"",A=(x?"-":"")+"P"+F.format+J.format+X.format+_+S.format+f.format+b.format;return A==="P"||A==="-P"?"P0D":A},H.toJSON=function(){return this.toISOString()},H.format=function(F){var J=F||"YYYY-MM-DDTHH:mm:ss",W={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return J.replace(a,function(X,S){return S||String(W[X])})},H.as=function(F){return this.$ms/y[I(F)]},H.get=function(F){var J=this.$ms,W=I(F);return W==="milliseconds"?J%=1e3:J=W==="weeks"?N(J/y[W]):this.$d[W],J||0},H.add=function(F,J,W){var X;return X=J?F*y[I(J)]:p(F)?F.$ms:E(F,this).$ms,E(this.$ms+X*(W?-1:1),this)},H.subtract=function(F,J){return this.add(F,J,!0)},H.locale=function(F){var J=this.clone();return J.$l=F,J},H.clone=function(){return E(this.$ms,this)},H.humanize=function(F){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!F)},H.valueOf=function(){return this.asMilliseconds()},H.milliseconds=function(){return this.get("milliseconds")},H.asMilliseconds=function(){return this.as("milliseconds")},H.seconds=function(){return this.get("seconds")},H.asSeconds=function(){return this.as("seconds")},H.minutes=function(){return this.get("minutes")},H.asMinutes=function(){return this.as("minutes")},H.hours=function(){return this.get("hours")},H.asHours=function(){return this.as("hours")},H.days=function(){return this.get("days")},H.asDays=function(){return this.as("days")},H.weeks=function(){return this.get("weeks")},H.asWeeks=function(){return this.as("weeks")},H.months=function(){return this.get("months")},H.asMonths=function(){return this.as("months")},H.years=function(){return this.get("years")},H.asYears=function(){return this.as("years")},P}(),M=o(function(P,H,F){return P.add(H.years()*F,"y").add(H.months()*F,"M").add(H.days()*F,"d").add(H.hours()*F,"h").add(H.minutes()*F,"m").add(H.seconds()*F,"s").add(H.milliseconds()*F,"ms")},"p");return function(P,H,F){t=F,e=F().$utils(),F.duration=function(X,S){var f=F.locale();return E(X,{$l:f},S)},F.isDuration=p;var J=H.prototype.add,W=H.prototype.subtract;H.prototype.add=function(X,S){return p(X)?M(this,X,1):J.bind(this)(X,S)},H.prototype.subtract=function(X,S){return p(X)?M(this,X,-1):W.bind(this)(X,S)}}})});var N7e=j((ian,O7e)=>{"use strict";m();g();var jr,MEt=L8(),CEt=D8(),kEt=U8(),BEt=F8(),l_=Tw(),u_=dp(),PEt=H8(),R7e=Function,xY=o(function(t){try{return R7e('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),J1=Object.getOwnPropertyDescriptor;if(J1)try{J1({},"")}catch{J1=null}var vY=o(function(){throw new u_},"throwTypeError"),LEt=J1?function(){try{return arguments.callee,vY}catch{try{return J1(arguments,"callee").get}catch{return vY}}}():vY,c_=j8()(),DEt=kL()(),as=Object.getPrototypeOf||(DEt?function(t){return t.__proto__}:null),f_={},UEt=typeof Uint8Array>"u"||!as?jr:as(Uint8Array),Q1={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?jr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?jr:ArrayBuffer,"%ArrayIteratorPrototype%":c_&&as?as([][Symbol.iterator]()):jr,"%AsyncFromSyncIteratorPrototype%":jr,"%AsyncFunction%":f_,"%AsyncGenerator%":f_,"%AsyncGeneratorFunction%":f_,"%AsyncIteratorPrototype%":f_,"%Atomics%":typeof Atomics>"u"?jr:Atomics,"%BigInt%":typeof BigInt>"u"?jr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?jr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?jr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?jr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":MEt,"%eval%":eval,"%EvalError%":CEt,"%Float32Array%":typeof Float32Array>"u"?jr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?jr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?jr:FinalizationRegistry,"%Function%":R7e,"%GeneratorFunction%":f_,"%Int8Array%":typeof Int8Array>"u"?jr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?jr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?jr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c_&&as?as(as([][Symbol.iterator]())):jr,"%JSON%":typeof JSON=="object"?JSON:jr,"%Map%":typeof Map>"u"?jr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!c_||!as?jr:as(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?jr:Promise,"%Proxy%":typeof Proxy>"u"?jr:Proxy,"%RangeError%":kEt,"%ReferenceError%":BEt,"%Reflect%":typeof Reflect>"u"?jr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?jr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!c_||!as?jr:as(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?jr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c_&&as?as(""[Symbol.iterator]()):jr,"%Symbol%":c_?Symbol:jr,"%SyntaxError%":l_,"%ThrowTypeError%":LEt,"%TypedArray%":UEt,"%TypeError%":u_,"%Uint8Array%":typeof Uint8Array>"u"?jr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?jr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?jr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?jr:Uint32Array,"%URIError%":PEt,"%WeakMap%":typeof WeakMap>"u"?jr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?jr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?jr:WeakSet};if(as)try{null.error}catch(t){A7e=as(as(t)),Q1["%Error.prototype%"]=A7e}var A7e,FEt=o(function t(e){var r;if(e==="%AsyncFunction%")r=xY("async function () {}");else if(e==="%GeneratorFunction%")r=xY("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=xY("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&as&&(r=as(i.prototype))}return Q1[e]=r,r},"doEval"),I7e={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x6=hp(),xC=$8(),HEt=x6.call(Function.call,Array.prototype.concat),qEt=x6.call(Function.apply,Array.prototype.splice),T7e=x6.call(Function.call,String.prototype.replace),vC=x6.call(Function.call,String.prototype.slice),VEt=x6.call(Function.call,RegExp.prototype.exec),jEt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zEt=/\\(\\)?/g,KEt=o(function(e){var r=vC(e,0,1),n=vC(e,-1);if(r==="%"&&n!=="%")throw new l_("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new l_("invalid intrinsic syntax, expected opening `%`");var i=[];return T7e(e,jEt,function(s,a,c,l){i[i.length]=c?T7e(l,zEt,"$1"):a||s}),i},"stringToPath"),GEt=o(function(e,r){var n=e,i;if(xC(I7e,n)&&(i=I7e[n],n="%"+i[0]+"%"),xC(Q1,n)){var s=Q1[n];if(s===f_&&(s=FEt(n)),typeof s>"u"&&!r)throw new u_("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new l_("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");O7e.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new u_("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new u_('"allowMissing" argument must be a boolean');if(VEt(/^%?[^%]*%?$/,e)===null)throw new l_("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=KEt(e),i=n.length>0?n[0]:"",s=GEt("%"+i+"%",r),a=s.name,c=s.value,l=!1,h=s.alias;h&&(i=h[0],qEt(n,HEt([0,1],h)));for(var y=1,p=!0;y<n.length;y+=1){var E=n[y],I=vC(E,0,1),O=vC(E,-1);if((I==='"'||I==="'"||I==="`"||O==='"'||O==="'"||O==="`")&&I!==O)throw new l_("property names with quotes must have matching quotes");if((E==="constructor"||!p)&&(l=!0),i+="."+E,a="%"+i+"%",xC(Q1,a))c=Q1[a];else if(c!=null){if(!(E in c)){if(!r)throw new u_("base intrinsic for "+e+" exists, but the property is not available.");return}if(J1&&y+1>=n.length){var N=J1(c,E);p=!!N,p&&"get"in N&&!("originalValue"in N.get)?c=N.get:c=c[E]}else p=xC(c,E),c=c[E];p&&!l&&(Q1[a]=c)}}return c},"GetIntrinsic")});var _Y=j((can,k7e)=>{"use strict";m();g();var M7e=N7e(),C7e=kw(),$Et=C7e(M7e("String.prototype.indexOf"));k7e.exports=o(function(e,r){var n=M7e(e,!!r);return typeof n=="function"&&$Et(e,".prototype.")>-1?C7e(n):n},"callBoundIntrinsic")});var L7e=j((dan,P7e)=>{"use strict";m();g();var WEt=Bw()(),YEt=_Y(),wY=YEt("Object.prototype.toString"),_C=o(function(e){return WEt&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:wY(e)==="[object Arguments]"},"isArguments"),B7e=o(function(e){return _C(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&wY(e)!=="[object Array]"&&wY(e.callee)==="[object Function]"},"isArguments"),XEt=function(){return _C(arguments)}();_C.isLegacyArguments=B7e;P7e.exports=XEt?_C:B7e});var F7e=j((gan,U7e)=>{"use strict";m();g();var ZEt=Object.prototype.toString,JEt=Function.prototype.toString,QEt=/^\s*(?:function)?\*/,D7e=Bw()(),EY=Object.getPrototypeOf,eSt=o(function(){if(!D7e)return!1;try{return Function("return function*() {}")()}catch{}},"getGeneratorFunc"),SY;U7e.exports=o(function(e){if(typeof e!="function")return!1;if(QEt.test(JEt.call(e)))return!0;if(!D7e){var r=ZEt.call(e);return r==="[object GeneratorFunction]"}if(!EY)return!1;if(typeof SY>"u"){var n=eSt();SY=n?EY(n):!1}return EY(e)===SY},"isGeneratorFunction")});var q7e=j((van,H7e)=>{m();g();var tSt=Object.prototype.hasOwnProperty,rSt=Object.prototype.toString;H7e.exports=o(function(e,r,n){if(rSt.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)r.call(n,e[s],s,e);else for(var a in e)tSt.call(e,a)&&r.call(n,e[a],a,e)},"forEach")});var j7e=j((San,V7e)=>{"use strict";m();g();var AY=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],nSt=typeof globalThis>"u"?self:globalThis;V7e.exports=o(function(){for(var e=[],r=0;r<AY.length;r++)typeof nSt[AY[r]]=="function"&&(e[e.length]=AY[r]);return e},"availableTypedArrays")});var K7e=j((Ran,z7e)=>{"use strict";m();g();z7e.exports=Yg()});var Z7e=j((Man,X7e)=>{"use strict";m();g();var G7e=q7e(),iSt=j7e(),TY=_Y(),oSt=TY("Object.prototype.toString"),$7e=Bw()(),sSt=typeof globalThis>"u"?self:globalThis,W7e=iSt(),aSt=TY("Array.prototype.indexOf",!0)||o(function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},"indexOf"),cSt=TY("String.prototype.slice"),Y7e={},wC=K7e(),IY=Object.getPrototypeOf;$7e&&wC&&IY&&G7e(W7e,function(t){var e=new sSt[t];if(Symbol.toStringTag in e){var r=IY(e),n=wC(r,Symbol.toStringTag);if(!n){var i=IY(r);n=wC(i,Symbol.toStringTag)}Y7e[t]=n.get}});var fSt=o(function(e){var r=!1;return G7e(Y7e,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},"tryAllTypedArrays");X7e.exports=o(function(e){if(!e||typeof e!="object")return!1;if(!$7e||!(Symbol.toStringTag in e)){var r=cSt(oSt(e),8,-1);return aSt(W7e,r)>-1}return wC?fSt(e):!1},"isTypedArray")});var l9e=j(Ur=>{"use strict";m();g();var uSt=L7e(),lSt=F7e(),Ml=qL(),J7e=Z7e();function d_(t){return t.call.bind(t)}o(d_,"uncurryThis");var Q7e=typeof BigInt<"u",e9e=typeof Symbol<"u",Au=d_(Object.prototype.toString),dSt=d_(Number.prototype.valueOf),hSt=d_(String.prototype.valueOf),pSt=d_(Boolean.prototype.valueOf);Q7e&&(t9e=d_(BigInt.prototype.valueOf));var t9e;e9e&&(r9e=d_(Symbol.prototype.valueOf));var r9e;function _6(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}o(_6,"checkBoxedPrimitive");Ur.isArgumentsObject=uSt;Ur.isGeneratorFunction=lSt;Ur.isTypedArray=J7e;function mSt(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}o(mSt,"isPromise");Ur.isPromise=mSt;function gSt(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):J7e(t)||i9e(t)}o(gSt,"isArrayBufferView");Ur.isArrayBufferView=gSt;function ySt(t){return Ml(t)==="Uint8Array"}o(ySt,"isUint8Array");Ur.isUint8Array=ySt;function bSt(t){return Ml(t)==="Uint8ClampedArray"}o(bSt,"isUint8ClampedArray");Ur.isUint8ClampedArray=bSt;function xSt(t){return Ml(t)==="Uint16Array"}o(xSt,"isUint16Array");Ur.isUint16Array=xSt;function vSt(t){return Ml(t)==="Uint32Array"}o(vSt,"isUint32Array");Ur.isUint32Array=vSt;function _St(t){return Ml(t)==="Int8Array"}o(_St,"isInt8Array");Ur.isInt8Array=_St;function wSt(t){return Ml(t)==="Int16Array"}o(wSt,"isInt16Array");Ur.isInt16Array=wSt;function ESt(t){return Ml(t)==="Int32Array"}o(ESt,"isInt32Array");Ur.isInt32Array=ESt;function SSt(t){return Ml(t)==="Float32Array"}o(SSt,"isFloat32Array");Ur.isFloat32Array=SSt;function ASt(t){return Ml(t)==="Float64Array"}o(ASt,"isFloat64Array");Ur.isFloat64Array=ASt;function ISt(t){return Ml(t)==="BigInt64Array"}o(ISt,"isBigInt64Array");Ur.isBigInt64Array=ISt;function TSt(t){return Ml(t)==="BigUint64Array"}o(TSt,"isBigUint64Array");Ur.isBigUint64Array=TSt;function EC(t){return Au(t)==="[object Map]"}o(EC,"isMapToString");EC.working=typeof Map<"u"&&EC(new Map);function RSt(t){return typeof Map>"u"?!1:EC.working?EC(t):t instanceof Map}o(RSt,"isMap");Ur.isMap=RSt;function SC(t){return Au(t)==="[object Set]"}o(SC,"isSetToString");SC.working=typeof Set<"u"&&SC(new Set);function OSt(t){return typeof Set>"u"?!1:SC.working?SC(t):t instanceof Set}o(OSt,"isSet");Ur.isSet=OSt;function AC(t){return Au(t)==="[object WeakMap]"}o(AC,"isWeakMapToString");AC.working=typeof WeakMap<"u"&&AC(new WeakMap);function NSt(t){return typeof WeakMap>"u"?!1:AC.working?AC(t):t instanceof WeakMap}o(NSt,"isWeakMap");Ur.isWeakMap=NSt;function OY(t){return Au(t)==="[object WeakSet]"}o(OY,"isWeakSetToString");OY.working=typeof WeakSet<"u"&&OY(new WeakSet);function MSt(t){return OY(t)}o(MSt,"isWeakSet");Ur.isWeakSet=MSt;function IC(t){return Au(t)==="[object ArrayBuffer]"}o(IC,"isArrayBufferToString");IC.working=typeof ArrayBuffer<"u"&&IC(new ArrayBuffer);function n9e(t){return typeof ArrayBuffer>"u"?!1:IC.working?IC(t):t instanceof ArrayBuffer}o(n9e,"isArrayBuffer");Ur.isArrayBuffer=n9e;function TC(t){return Au(t)==="[object DataView]"}o(TC,"isDataViewToString");TC.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&TC(new DataView(new ArrayBuffer(1),0,1));function i9e(t){return typeof DataView>"u"?!1:TC.working?TC(t):t instanceof DataView}o(i9e,"isDataView");Ur.isDataView=i9e;var RY=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function v6(t){return Au(t)==="[object SharedArrayBuffer]"}o(v6,"isSharedArrayBufferToString");function o9e(t){return typeof RY>"u"?!1:(typeof v6.working>"u"&&(v6.working=v6(new RY)),v6.working?v6(t):t instanceof RY)}o(o9e,"isSharedArrayBuffer");Ur.isSharedArrayBuffer=o9e;function CSt(t){return Au(t)==="[object AsyncFunction]"}o(CSt,"isAsyncFunction");Ur.isAsyncFunction=CSt;function kSt(t){return Au(t)==="[object Map Iterator]"}o(kSt,"isMapIterator");Ur.isMapIterator=kSt;function BSt(t){return Au(t)==="[object Set Iterator]"}o(BSt,"isSetIterator");Ur.isSetIterator=BSt;function PSt(t){return Au(t)==="[object Generator]"}o(PSt,"isGeneratorObject");Ur.isGeneratorObject=PSt;function LSt(t){return Au(t)==="[object WebAssembly.Module]"}o(LSt,"isWebAssemblyCompiledModule");Ur.isWebAssemblyCompiledModule=LSt;function s9e(t){return _6(t,dSt)}o(s9e,"isNumberObject");Ur.isNumberObject=s9e;function a9e(t){return _6(t,hSt)}o(a9e,"isStringObject");Ur.isStringObject=a9e;function c9e(t){return _6(t,pSt)}o(c9e,"isBooleanObject");Ur.isBooleanObject=c9e;function f9e(t){return Q7e&&_6(t,t9e)}o(f9e,"isBigIntObject");Ur.isBigIntObject=f9e;function u9e(t){return e9e&&_6(t,r9e)}o(u9e,"isSymbolObject");Ur.isSymbolObject=u9e;function DSt(t){return s9e(t)||a9e(t)||c9e(t)||f9e(t)||u9e(t)}o(DSt,"isBoxedPrimitive");Ur.isBoxedPrimitive=DSt;function USt(t){return typeof Uint8Array<"u"&&(n9e(t)||o9e(t))}o(USt,"isAnyArrayBuffer");Ur.isAnyArrayBuffer=USt;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Ur,t,{enumerable:!1,value:o(function(){throw new Error(t+" is not supported in userland")},"value")})})});var h9e=j((Fan,d9e)=>{m();g();d9e.exports=o(function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},"isBuffer")});var p_=j(Fr=>{m();g();var p9e=Object.getOwnPropertyDescriptors||o(function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},"getOwnPropertyDescriptors"),FSt=/%[sdj%]/g;Fr.format=function(t){if(!BC(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(xg(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(t).replace(FSt,function(c){if(c==="%%")return"%";if(r>=i)return c;switch(c){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return c}}),a=n[r];r<i;a=n[++r])kC(a)||!h_(a)?s+=" "+a:s+=" "+xg(a);return s};Fr.deprecate=function(t,e){if(typeof process<"u"&&process.noDeprecation===!0)return t;if(typeof process>"u")return function(){return Fr.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return o(n,"deprecated"),n};var RC={},m9e=/^$/;R.NODE_DEBUG&&(OC=R.NODE_DEBUG,OC=OC.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),m9e=new RegExp("^"+OC+"$","i"));var OC;Fr.debuglog=function(t){if(t=t.toUpperCase(),!RC[t])if(m9e.test(t)){var e=process.pid;RC[t]=function(){var r=Fr.format.apply(Fr,arguments);console.error("%s %d: %s",t,e,r)}}else RC[t]=function(){};return RC[t]};function xg(t,e){var r={seen:[],stylize:qSt};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),kY(e)?r.showHidden=e:e&&Fr._extend(r,e),tb(r.showHidden)&&(r.showHidden=!1),tb(r.depth)&&(r.depth=2),tb(r.colors)&&(r.colors=!1),tb(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=HSt),MC(r,t,r.depth)}o(xg,"inspect");Fr.inspect=xg;xg.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};xg.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function HSt(t,e){var r=xg.styles[e];return r?"\x1B["+xg.colors[r][0]+"m"+t+"\x1B["+xg.colors[r][1]+"m":t}o(HSt,"stylizeWithColor");function qSt(t,e){return t}o(qSt,"stylizeNoColor");function VSt(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}o(VSt,"arrayToHash");function MC(t,e,r){if(t.customInspect&&e&&NC(e.inspect)&&e.inspect!==Fr.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return BC(n)||(n=MC(t,n,r)),n}var i=jSt(t,e);if(i)return i;var s=Object.keys(e),a=VSt(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),E6(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return NY(e);if(s.length===0){if(NC(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(w6(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(CC(e))return t.stylize(Date.prototype.toString.call(e),"date");if(E6(e))return NY(e)}var l="",h=!1,y=["{","}"];if(g9e(e)&&(h=!0,y=["[","]"]),NC(e)){var p=e.name?": "+e.name:"";l=" [Function"+p+"]"}if(w6(e)&&(l=" "+RegExp.prototype.toString.call(e)),CC(e)&&(l=" "+Date.prototype.toUTCString.call(e)),E6(e)&&(l=" "+NY(e)),s.length===0&&(!h||e.length==0))return y[0]+l+y[1];if(r<0)return w6(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return h?E=zSt(t,e,r,a,s):E=s.map(function(I){return CY(t,e,r,a,I,h)}),t.seen.pop(),KSt(E,l,y)}o(MC,"formatValue");function jSt(t,e){if(tb(e))return t.stylize("undefined","undefined");if(BC(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(y9e(e))return t.stylize(""+e,"number");if(kY(e))return t.stylize(""+e,"boolean");if(kC(e))return t.stylize("null","null")}o(jSt,"formatPrimitive");function NY(t){return"["+Error.prototype.toString.call(t)+"]"}o(NY,"formatError");function zSt(t,e,r,n,i){for(var s=[],a=0,c=e.length;a<c;++a)b9e(e,String(a))?s.push(CY(t,e,r,n,String(a),!0)):s.push("");return i.forEach(function(l){l.match(/^\d+$/)||s.push(CY(t,e,r,n,l,!0))}),s}o(zSt,"formatArray");function CY(t,e,r,n,i,s){var a,c,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?c=t.stylize("[Getter/Setter]","special"):c=t.stylize("[Getter]","special"):l.set&&(c=t.stylize("[Setter]","special")),b9e(n,i)||(a="["+i+"]"),c||(t.seen.indexOf(l.value)<0?(kC(r)?c=MC(t,l.value,null):c=MC(t,l.value,r-1),c.indexOf(`
`)>-1&&(s?c=c.split(`
`).map(function(h){return"  "+h}).join(`
`).slice(2):c=`
`+c.split(`
`).map(function(h){return"   "+h}).join(`
`))):c=t.stylize("[Circular]","special")),tb(a)){if(s&&i.match(/^\d+$/))return c;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}o(CY,"formatProperty");function KSt(t,e,r){var n=0,i=t.reduce(function(s,a){return n++,a.indexOf(`
`)>=0&&n++,s+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}o(KSt,"reduceToSingleString");Fr.types=l9e();function g9e(t){return Array.isArray(t)}o(g9e,"isArray");Fr.isArray=g9e;function kY(t){return typeof t=="boolean"}o(kY,"isBoolean");Fr.isBoolean=kY;function kC(t){return t===null}o(kC,"isNull");Fr.isNull=kC;function GSt(t){return t==null}o(GSt,"isNullOrUndefined");Fr.isNullOrUndefined=GSt;function y9e(t){return typeof t=="number"}o(y9e,"isNumber");Fr.isNumber=y9e;function BC(t){return typeof t=="string"}o(BC,"isString");Fr.isString=BC;function $St(t){return typeof t=="symbol"}o($St,"isSymbol");Fr.isSymbol=$St;function tb(t){return t===void 0}o(tb,"isUndefined");Fr.isUndefined=tb;function w6(t){return h_(t)&&BY(t)==="[object RegExp]"}o(w6,"isRegExp");Fr.isRegExp=w6;Fr.types.isRegExp=w6;function h_(t){return typeof t=="object"&&t!==null}o(h_,"isObject");Fr.isObject=h_;function CC(t){return h_(t)&&BY(t)==="[object Date]"}o(CC,"isDate");Fr.isDate=CC;Fr.types.isDate=CC;function E6(t){return h_(t)&&(BY(t)==="[object Error]"||t instanceof Error)}o(E6,"isError");Fr.isError=E6;Fr.types.isNativeError=E6;function NC(t){return typeof t=="function"}o(NC,"isFunction");Fr.isFunction=NC;function WSt(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}o(WSt,"isPrimitive");Fr.isPrimitive=WSt;Fr.isBuffer=h9e();function BY(t){return Object.prototype.toString.call(t)}o(BY,"objectToString");function MY(t){return t<10?"0"+t.toString(10):t.toString(10)}o(MY,"pad");var YSt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function XSt(){var t=new Date,e=[MY(t.getHours()),MY(t.getMinutes()),MY(t.getSeconds())].join(":");return[t.getDate(),YSt[t.getMonth()],e].join(" ")}o(XSt,"timestamp");Fr.log=function(){console.log("%s - %s",XSt(),Fr.format.apply(Fr,arguments))};Fr.inherits=Zt();Fr._extend=function(t,e){if(!e||!h_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function b9e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}o(b9e,"hasOwnProperty");var eb=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Fr.promisify=o(function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(eb&&e[eb]){var r=e[eb];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,eb,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,s=new Promise(function(l,h){n=l,i=h}),a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);a.push(function(l,h){l?i(l):n(h)});try{e.apply(this,a)}catch(l){i(l)}return s}return o(r,"fn"),Object.setPrototypeOf(r,Object.getPrototypeOf(e)),eb&&Object.defineProperty(r,eb,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,p9e(e))},"promisify");Fr.promisify.custom=eb;function ZSt(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}o(ZSt,"callbackifyOnRejected");function JSt(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,a=o(function(){return i.apply(s,arguments)},"cb");t.apply(this,r).then(function(c){process.nextTick(a.bind(null,null,c))},function(c){process.nextTick(ZSt.bind(null,c,a))})}return o(e,"callbackified"),Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,p9e(t)),e}o(JSt,"callbackify");Fr.callbackify=JSt});var UY=j(($an,_9e)=>{"use strict";m();g();function m_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m_=o(function(r){return typeof r},"_typeof"):m_=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),m_(t)}o(m_,"_typeof");function QSt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(QSt,"_classCallCheck");function e3t(t,e){return e&&(m_(e)==="object"||typeof e=="function")?e:t3t(t)}o(e3t,"_possibleConstructorReturn");function t3t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}o(t3t,"_assertThisInitialized");function LY(t){return LY=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),LY(t)}o(LY,"_getPrototypeOf");function r3t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DY(t,e)}o(r3t,"_inherits");function DY(t,e){return DY=Object.setPrototypeOf||o(function(n,i){return n.__proto__=i,n},"_setPrototypeOf"),DY(t,e)}o(DY,"_setPrototypeOf");var v9e={},g_,PY;function S6(t,e,r){r||(r=Error);function n(s,a,c){return typeof e=="string"?e:e(s,a,c)}o(n,"getMessage");var i=function(s){r3t(a,s);function a(c,l,h){var y;return QSt(this,a),y=e3t(this,LY(a).call(this,n(c,l,h))),y.code=t,y}return o(a,"NodeError"),a}(r);v9e[t]=i}o(S6,"createErrorType");function x9e(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(x9e,"oneOf");function n3t(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(n3t,"startsWith");function i3t(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(i3t,"endsWith");function o3t(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(o3t,"includes");S6("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);S6("ERR_INVALID_ARG_TYPE",function(t,e,r){g_===void 0&&(g_=FY()),g_(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&n3t(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(i3t(t," argument"))i="The ".concat(t," ").concat(n," ").concat(x9e(e,"type"));else{var s=o3t(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(x9e(e,"type"))}return i+=". Received type ".concat(m_(r)),i},TypeError);S6("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";PY===void 0&&(PY=p_());var n=PY.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);S6("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(m_(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);S6("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];g_===void 0&&(g_=FY()),g_(e.length>0,"At least one arg needs to be specified");var n="The ",i=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),i){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,i-1).join(", "),n+=", and ".concat(e[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError);_9e.exports.codes=v9e});var I9e=j((Zan,A9e)=>{"use strict";m();g();function s3t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){a3t(t,i,r[i])})}return t}o(s3t,"_objectSpread");function a3t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(a3t,"_defineProperty");function c3t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(c3t,"_classCallCheck");function w9e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o(w9e,"_defineProperties");function f3t(t,e,r){return e&&w9e(t.prototype,e),r&&w9e(t,r),t}o(f3t,"_createClass");function y_(t,e){return e&&(Iu(e)==="object"||typeof e=="function")?e:HY(t)}o(y_,"_possibleConstructorReturn");function HY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}o(HY,"_assertThisInitialized");function u3t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R6(t,e)}o(u3t,"_inherits");function qY(t){var e=typeof Map=="function"?new Map:void 0;return qY=o(function(n){if(n===null||!d3t(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return PC(n,arguments,vg(this).constructor)}return o(i,"Wrapper"),i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),R6(i,n)},"_wrapNativeSuper"),qY(t)}o(qY,"_wrapNativeSuper");function l3t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}o(l3t,"isNativeReflectConstruct");function PC(t,e,r){return l3t()?PC=Reflect.construct:PC=o(function(i,s,a){var c=[null];c.push.apply(c,s);var l=Function.bind.apply(i,c),h=new l;return a&&R6(h,a.prototype),h},"_construct"),PC.apply(null,arguments)}o(PC,"_construct");function d3t(t){return Function.toString.call(t).indexOf("[native code]")!==-1}o(d3t,"_isNativeFunction");function R6(t,e){return R6=Object.setPrototypeOf||o(function(n,i){return n.__proto__=i,n},"_setPrototypeOf"),R6(t,e)}o(R6,"_setPrototypeOf");function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),vg(t)}o(vg,"_getPrototypeOf");function Iu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iu=o(function(r){return typeof r},"_typeof"):Iu=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),Iu(t)}o(Iu,"_typeof");var h3t=p_(),VY=h3t.inspect,p3t=UY(),m3t=p3t.codes.ERR_INVALID_ARG_TYPE;function E9e(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(E9e,"endsWith");function g3t(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}o(g3t,"repeat");var Cl="",A6="",I6="",Ps="",rb={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},y3t=10;function S9e(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}o(S9e,"copyError");function T6(t){return VY(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}o(T6,"inspectValue");function b3t(t,e,r){var n="",i="",s=0,a="",c=!1,l=T6(t),h=l.split(`
`),y=T6(e).split(`
`),p=0,E="";if(r==="strictEqual"&&Iu(t)==="object"&&Iu(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),h.length===1&&y.length===1&&h[0]!==y[0]){var I=h[0].length+y[0].length;if(I<=y3t){if((Iu(t)!=="object"||t===null)&&(Iu(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(rb[r],`

`)+"".concat(h[0]," !== ").concat(y[0],`
`)}else if(r!=="strictEqualObject"){var O=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(I<O){for(;h[0][p]===y[0][p];)p++;p>2&&(E=`
  `.concat(g3t(" ",p),"^"),p=0)}}}for(var N=h[h.length-1],k=y[y.length-1];N===k&&(p++<2?a=`
  `.concat(N).concat(a):n=N,h.pop(),y.pop(),!(h.length===0||y.length===0));)N=h[h.length-1],k=y[y.length-1];var C=Math.max(h.length,y.length);if(C===0){var L=l.split(`
`);if(L.length>30)for(L[26]="".concat(Cl,"...").concat(Ps);L.length>27;)L.pop();return"".concat(rb.notIdentical,`

`).concat(L.join(`
`),`
`)}p>3&&(a=`
`.concat(Cl,"...").concat(Ps).concat(a),c=!0),n!==""&&(a=`
  `.concat(n).concat(a),n="");var M=0,P=rb[r]+`
`.concat(A6,"+ actual").concat(Ps," ").concat(I6,"- expected").concat(Ps),H=" ".concat(Cl,"...").concat(Ps," Lines skipped");for(p=0;p<C;p++){var F=p-s;if(h.length<p+1)F>1&&p>2&&(F>4?(i+=`
`.concat(Cl,"...").concat(Ps),c=!0):F>3&&(i+=`
  `.concat(y[p-2]),M++),i+=`
  `.concat(y[p-1]),M++),s=p,n+=`
`.concat(I6,"-").concat(Ps," ").concat(y[p]),M++;else if(y.length<p+1)F>1&&p>2&&(F>4?(i+=`
`.concat(Cl,"...").concat(Ps),c=!0):F>3&&(i+=`
  `.concat(h[p-2]),M++),i+=`
  `.concat(h[p-1]),M++),s=p,i+=`
`.concat(A6,"+").concat(Ps," ").concat(h[p]),M++;else{var J=y[p],W=h[p],X=W!==J&&(!E9e(W,",")||W.slice(0,-1)!==J);X&&E9e(J,",")&&J.slice(0,-1)===W&&(X=!1,W+=","),X?(F>1&&p>2&&(F>4?(i+=`
`.concat(Cl,"...").concat(Ps),c=!0):F>3&&(i+=`
  `.concat(h[p-2]),M++),i+=`
  `.concat(h[p-1]),M++),s=p,i+=`
`.concat(A6,"+").concat(Ps," ").concat(W),n+=`
`.concat(I6,"-").concat(Ps," ").concat(J),M+=2):(i+=n,n="",(F===1||p===0)&&(i+=`
  `.concat(W),M++))}if(M>20&&p<C-2)return"".concat(P).concat(H,`
`).concat(i,`
`).concat(Cl,"...").concat(Ps).concat(n,`
`)+"".concat(Cl,"...").concat(Ps)}return"".concat(P).concat(c?H:"",`
`).concat(i).concat(n).concat(a).concat(E)}o(b3t,"createErrDiff");var x3t=function(t){u3t(e,t);function e(r){var n;if(c3t(this,e),Iu(r)!=="object"||r===null)throw new m3t("options","Object",r);var i=r.message,s=r.operator,a=r.stackStartFn,c=r.actual,l=r.expected,h=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)n=y_(this,vg(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Cl="\x1B[34m",A6="\x1B[32m",Ps="\x1B[39m",I6="\x1B[31m"):(Cl="",A6="",Ps="",I6="")),Iu(c)==="object"&&c!==null&&Iu(l)==="object"&&l!==null&&"stack"in c&&c instanceof Error&&"stack"in l&&l instanceof Error&&(c=S9e(c),l=S9e(l)),s==="deepStrictEqual"||s==="strictEqual")n=y_(this,vg(e).call(this,b3t(c,l,s)));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var y=rb[s],p=T6(c).split(`
`);if(s==="notStrictEqual"&&Iu(c)==="object"&&c!==null&&(y=rb.notStrictEqualObject),p.length>30)for(p[26]="".concat(Cl,"...").concat(Ps);p.length>27;)p.pop();p.length===1?n=y_(this,vg(e).call(this,"".concat(y," ").concat(p[0]))):n=y_(this,vg(e).call(this,"".concat(y,`

`).concat(p.join(`
`),`
`)))}else{var E=T6(c),I="",O=rb[s];s==="notDeepEqual"||s==="notEqual"?(E="".concat(rb[s],`

`).concat(E),E.length>1024&&(E="".concat(E.slice(0,1021),"..."))):(I="".concat(T6(l)),E.length>512&&(E="".concat(E.slice(0,509),"...")),I.length>512&&(I="".concat(I.slice(0,509),"...")),s==="deepEqual"||s==="equal"?E="".concat(O,`

`).concat(E,`

should equal

`):I=" ".concat(s," ").concat(I)),n=y_(this,vg(e).call(this,"".concat(E).concat(I)))}return Error.stackTraceLimit=h,n.generatedMessage=!i,Object.defineProperty(HY(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=c,n.expected=l,n.operator=s,Error.captureStackTrace&&Error.captureStackTrace(HY(n),a),n.stack,n.name="AssertionError",y_(n)}return o(e,"AssertionError"),f3t(e,[{key:"toString",value:o(function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)},"toString")},{key:VY.custom,value:o(function(n,i){return VY(this,s3t({},i,{customInspect:!1,depth:0}))},"value")}]),e}(qY(Error));A9e.exports=x3t});var O9e=j((tcn,R9e)=>{"use strict";m();g();function T9e(t,e){if(t==null)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s=Object.keys(Object(i)),a=0,c=s.length;a<c;a++){var l=s[a],h=Object.getOwnPropertyDescriptor(i,l);h!==void 0&&h.enumerable&&(r[l]=i[l])}}return r}o(T9e,"assign");function v3t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:T9e})}o(v3t,"polyfill");R9e.exports={assign:T9e,polyfill:v3t}});var jY=j((ocn,M9e)=>{"use strict";m();g();var N9e=Object.prototype.toString;M9e.exports=o(function(e){var r=N9e.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&N9e.call(e.callee)==="[object Function]"),n},"isArguments")});var H9e=j((fcn,F9e)=>{"use strict";m();g();var U9e;Object.keys||(O6=Object.prototype.hasOwnProperty,zY=Object.prototype.toString,C9e=jY(),KY=Object.prototype.propertyIsEnumerable,k9e=!KY.call({toString:null},"toString"),B9e=KY.call(function(){},"prototype"),N6=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],LC=o(function(t){var e=t.constructor;return e&&e.prototype===t},"equalsConstructorPrototype"),P9e={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},L9e=function(){if(typeof self>"u")return!1;for(var t in self)try{if(!P9e["$"+t]&&O6.call(self,t)&&self[t]!==null&&typeof self[t]=="object")try{LC(self[t])}catch{return!0}}catch{return!0}return!1}(),D9e=o(function(t){if(typeof self>"u"||!L9e)return LC(t);try{return LC(t)}catch{return!1}},"equalsConstructorPrototypeIfNotBuggy"),U9e=o(function(e){var r=e!==null&&typeof e=="object",n=zY.call(e)==="[object Function]",i=C9e(e),s=r&&zY.call(e)==="[object String]",a=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var c=B9e&&n;if(s&&e.length>0&&!O6.call(e,0))for(var l=0;l<e.length;++l)a.push(String(l));if(i&&e.length>0)for(var h=0;h<e.length;++h)a.push(String(h));else for(var y in e)!(c&&y==="prototype")&&O6.call(e,y)&&a.push(String(y));if(k9e)for(var p=D9e(e),E=0;E<N6.length;++E)!(p&&N6[E]==="constructor")&&O6.call(e,N6[E])&&a.push(N6[E]);return a},"keys"));var O6,zY,C9e,KY,k9e,B9e,N6,LC,P9e,L9e,D9e;F9e.exports=U9e});var z9e=j((hcn,j9e)=>{"use strict";m();g();var _3t=Array.prototype.slice,w3t=jY(),q9e=Object.keys,DC=q9e?o(function(e){return q9e(e)},"keys"):H9e(),V9e=Object.keys;DC.shim=o(function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=o(function(n){return w3t(n)?V9e(_3t.call(n)):V9e(n)},"keys"))}else Object.keys=DC;return Object.keys||DC},"shimObjectKeys");j9e.exports=DC});var M6=j((ycn,W9e)=>{"use strict";m();g();var E3t=z9e(),S3t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",A3t=Object.prototype.toString,I3t=Array.prototype.concat,K9e=Object.defineProperty,T3t=o(function(t){return typeof t=="function"&&A3t.call(t)==="[object Function]"},"isFunction"),R3t=DL()(),G9e=K9e&&R3t,O3t=o(function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!T3t(n)||!n())return}G9e?K9e(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},"defineProperty"),$9e=o(function(t,e){var r=arguments.length>2?arguments[2]:{},n=E3t(e);S3t&&(n=I3t.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)O3t(t,n[i],e[n[i]],r[n[i]])},"defineProperties");$9e.supportsDescriptors=!!G9e;W9e.exports=$9e});var GY=j((_cn,X9e)=>{"use strict";m();g();var Y9e=o(function(t){return t!==t},"numberIsNaN");X9e.exports=o(function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||Y9e(e)&&Y9e(r))},"is")});var $Y=j((Acn,Z9e)=>{"use strict";m();g();var N3t=GY();Z9e.exports=o(function(){return typeof Object.is=="function"?Object.is:N3t},"getPolyfill")});var Q9e=j((Ocn,J9e)=>{"use strict";m();g();var M3t=$Y(),C3t=M6();J9e.exports=o(function(){var e=M3t();return C3t(Object,{is:e},{is:o(function(){return Object.is!==e},"testObjectIs")}),e},"shimObjectIs")});var WY=j((kcn,rOe)=>{"use strict";m();g();var k3t=M6(),B3t=kw(),P3t=GY(),eOe=$Y(),L3t=Q9e(),tOe=B3t(eOe(),Object);k3t(tOe,{getPolyfill:eOe,implementation:P3t,shim:L3t});rOe.exports=tOe});var YY=j((Lcn,nOe)=>{"use strict";m();g();nOe.exports=o(function(e){return e!==e},"isNaN")});var XY=j((Hcn,iOe)=>{"use strict";m();g();var D3t=YY();iOe.exports=o(function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:D3t},"getPolyfill")});var sOe=j((zcn,oOe)=>{"use strict";m();g();var U3t=M6(),F3t=XY();oOe.exports=o(function(){var e=F3t();return U3t(Number,{isNaN:e},{isNaN:o(function(){return Number.isNaN!==e},"testIsNaN")}),e},"shimNumberIsNaN")});var uOe=j((Wcn,fOe)=>{"use strict";m();g();var H3t=kw(),q3t=M6(),V3t=YY(),aOe=XY(),j3t=sOe(),cOe=H3t(aOe(),Number);q3t(cOe,{getPolyfill:aOe,implementation:V3t,shim:j3t});fOe.exports=cOe});var OOe=j((Zcn,ROe)=>{"use strict";m();g();function lOe(t,e){return G3t(t)||K3t(t,e)||z3t()}o(lOe,"_slicedToArray");function z3t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}o(z3t,"_nonIterableRest");function K3t(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),c;!(n=(c=a.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}o(K3t,"_iterableToArrayLimit");function G3t(t){if(Array.isArray(t))return t}o(G3t,"_arrayWithHoles");function vf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vf=o(function(r){return typeof r},"_typeof"):vf=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),vf(t)}o(vf,"_typeof");var $3t=/a/g.flags!==void 0,zC=o(function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},"arrayFromSet"),dOe=o(function(e){var r=[];return e.forEach(function(n,i){return r.push([i,n])}),r},"arrayFromMap"),EOe=Object.is?Object.is:WY(),VC=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},ZY=Number.isNaN?Number.isNaN:uOe();function QY(t){return t.call.bind(t)}o(QY,"uncurryThis");var k6=QY(Object.prototype.hasOwnProperty),jC=QY(Object.prototype.propertyIsEnumerable),hOe=QY(Object.prototype.toString),Za=p_().types,W3t=Za.isAnyArrayBuffer,Y3t=Za.isArrayBufferView,pOe=Za.isDate,UC=Za.isMap,mOe=Za.isRegExp,FC=Za.isSet,X3t=Za.isNativeError,Z3t=Za.isBoxedPrimitive,gOe=Za.isNumberObject,yOe=Za.isStringObject,bOe=Za.isBooleanObject,xOe=Za.isBigIntObject,J3t=Za.isSymbolObject,Q3t=Za.isFloat32Array,e6t=Za.isFloat64Array;function t6t(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}o(t6t,"isNonIndex");function HC(t){return Object.keys(t).filter(t6t).concat(VC(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}o(HC,"getOwnNonIndexProperties");function SOe(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}o(SOe,"compare");var qC=void 0,r6t=!0,n6t=!1,JY=0,eX=1,AOe=2,IOe=3;function i6t(t,e){return $3t?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}o(i6t,"areSimilarRegExps");function o6t(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}o(o6t,"areSimilarFloatArrays");function s6t(t,e){return t.byteLength!==e.byteLength?!1:SOe(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}o(s6t,"areSimilarTypedArrays");function a6t(t,e){return t.byteLength===e.byteLength&&SOe(new Uint8Array(t),new Uint8Array(e))===0}o(a6t,"areEqualArrayBuffers");function c6t(t,e){return gOe(t)?gOe(e)&&EOe(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):yOe(t)?yOe(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):bOe(t)?bOe(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):xOe(t)?xOe(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):J3t(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}o(c6t,"isEqualBoxedPrimitive");function Tu(t,e,r,n){if(t===e)return t!==0?!0:r?EOe(t,e):!0;if(r){if(vf(t)!=="object")return typeof t=="number"&&ZY(t)&&ZY(e);if(vf(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||vf(t)!=="object")return e===null||vf(e)!=="object"?t==e:!1;if(e===null||vf(e)!=="object")return!1}var i=hOe(t),s=hOe(e);if(i!==s)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var a=HC(t,qC),c=HC(e,qC);return a.length!==c.length?!1:C6(t,e,r,n,eX,a)}if(i==="[object Object]"&&(!UC(t)&&UC(e)||!FC(t)&&FC(e)))return!1;if(pOe(t)){if(!pOe(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(mOe(t)){if(!mOe(e)||!i6t(t,e))return!1}else if(X3t(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(Y3t(t)){if(!r&&(Q3t(t)||e6t(t))){if(!o6t(t,e))return!1}else if(!s6t(t,e))return!1;var l=HC(t,qC),h=HC(e,qC);return l.length!==h.length?!1:C6(t,e,r,n,JY,l)}else{if(FC(t))return!FC(e)||t.size!==e.size?!1:C6(t,e,r,n,AOe);if(UC(t))return!UC(e)||t.size!==e.size?!1:C6(t,e,r,n,IOe);if(W3t(t)){if(!a6t(t,e))return!1}else if(Z3t(t)&&!c6t(t,e))return!1}return C6(t,e,r,n,JY)}o(Tu,"innerDeepEqual");function vOe(t,e){return e.filter(function(r){return jC(t,r)})}o(vOe,"getEnumerables");function C6(t,e,r,n,i,s){if(arguments.length===5){s=Object.keys(t);var a=Object.keys(e);if(s.length!==a.length)return!1}for(var c=0;c<s.length;c++)if(!k6(e,s[c]))return!1;if(r&&arguments.length===5){var l=VC(t);if(l.length!==0){var h=0;for(c=0;c<l.length;c++){var y=l[c];if(jC(t,y)){if(!jC(e,y))return!1;s.push(y),h++}else if(jC(e,y))return!1}var p=VC(e);if(l.length!==p.length&&vOe(e,p).length!==h)return!1}else{var E=VC(e);if(E.length!==0&&vOe(e,E).length!==0)return!1}}if(s.length===0&&(i===JY||i===eX&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var I=n.val1.get(t);if(I!==void 0){var O=n.val2.get(e);if(O!==void 0)return I===O}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var N=h6t(t,e,r,s,n,i);return n.val1.delete(t),n.val2.delete(e),N}o(C6,"keyCheck");function _Oe(t,e,r,n){for(var i=zC(t),s=0;s<i.length;s++){var a=i[s];if(Tu(e,a,r,n))return t.delete(a),!0}return!1}o(_Oe,"setHasEqualElement");function TOe(t){switch(vf(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(ZY(t))return!1}return!0}o(TOe,"findLooseMatchingPrimitives");function f6t(t,e,r){var n=TOe(r);return n??(e.has(n)&&!t.has(n))}o(f6t,"setMightHaveLoosePrim");function u6t(t,e,r,n,i){var s=TOe(r);if(s!=null)return s;var a=e.get(s);return a===void 0&&!e.has(s)||!Tu(n,a,!1,i)?!1:!t.has(s)&&Tu(n,a,!1,i)}o(u6t,"mapMightHaveLoosePrim");function l6t(t,e,r,n){for(var i=null,s=zC(t),a=0;a<s.length;a++){var c=s[a];if(vf(c)==="object"&&c!==null)i===null&&(i=new Set),i.add(c);else if(!e.has(c)){if(r||!f6t(t,e,c))return!1;i===null&&(i=new Set),i.add(c)}}if(i!==null){for(var l=zC(e),h=0;h<l.length;h++){var y=l[h];if(vf(y)==="object"&&y!==null){if(!_Oe(i,y,r,n))return!1}else if(!r&&!t.has(y)&&!_Oe(i,y,r,n))return!1}return i.size===0}return!0}o(l6t,"setEquiv");function wOe(t,e,r,n,i,s){for(var a=zC(t),c=0;c<a.length;c++){var l=a[c];if(Tu(r,l,i,s)&&Tu(n,e.get(l),i,s))return t.delete(l),!0}return!1}o(wOe,"mapHasEqualEntry");function d6t(t,e,r,n){for(var i=null,s=dOe(t),a=0;a<s.length;a++){var c=lOe(s[a],2),l=c[0],h=c[1];if(vf(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var y=e.get(l);if(y===void 0&&!e.has(l)||!Tu(h,y,r,n)){if(r||!u6t(t,e,l,h,n))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var p=dOe(e),E=0;E<p.length;E++){var I=lOe(p[E],2),l=I[0],O=I[1];if(vf(l)==="object"&&l!==null){if(!wOe(i,t,l,O,r,n))return!1}else if(!r&&(!t.has(l)||!Tu(t.get(l),O,!1,n))&&!wOe(i,t,l,O,!1,n))return!1}return i.size===0}return!0}o(d6t,"mapEquiv");function h6t(t,e,r,n,i,s){var a=0;if(s===AOe){if(!l6t(t,e,r,i))return!1}else if(s===IOe){if(!d6t(t,e,r,i))return!1}else if(s===eX)for(;a<t.length;a++)if(k6(t,a)){if(!k6(e,a)||!Tu(t[a],e[a],r,i))return!1}else{if(k6(e,a))return!1;for(var c=Object.keys(t);a<c.length;a++){var l=c[a];if(!k6(e,l)||!Tu(t[l],e[l],r,i))return!1}return c.length===Object.keys(e).length}for(a=0;a<n.length;a++){var h=n[a];if(!Tu(t[h],e[h],r,i))return!1}return!0}o(h6t,"objEquiv");function p6t(t,e){return Tu(t,e,n6t)}o(p6t,"isDeepEqual");function m6t(t,e){return Tu(t,e,r6t)}o(m6t,"isDeepStrictEqual");ROe.exports={isDeepEqual:p6t,isDeepStrictEqual:m6t}});var FY=j((tfn,KOe)=>{"use strict";m();g();function _g(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_g=o(function(r){return typeof r},"_typeof"):_g=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),_g(t)}o(_g,"_typeof");function g6t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(g6t,"_classCallCheck");var y6t=UY(),P6=y6t.codes,NOe=P6.ERR_AMBIGUOUS_ARGUMENT,B6=P6.ERR_INVALID_ARG_TYPE,b6t=P6.ERR_INVALID_ARG_VALUE,x6t=P6.ERR_INVALID_RETURN_VALUE,Eg=P6.ERR_MISSING_ARGS,nb=I9e(),v6t=p_(),_6t=v6t.inspect,BOe=p_().types,w6t=BOe.isPromise,tX=BOe.isRegExp,E6t=Object.assign?Object.assign:O9e().assign,POe=Object.is?Object.is:WY(),wg,KC;function L6(){var t=OOe();wg=t.isDeepEqual,KC=t.isDeepStrictEqual}o(L6,"lazyLoadComparison");var MOe=!1,Oi=KOe.exports=rX,GC={};function kl(t){throw t.message instanceof Error?t.message:new nb(t)}o(kl,"innerFail");function LOe(t,e,r,n,i){var s=arguments.length,a;if(s===0)a="Failed";else if(s===1)r=t,t=void 0;else{if(MOe===!1){MOe=!0;var c=process.emitWarning?process.emitWarning:console.warn.bind(console);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(n="!=")}if(r instanceof Error)throw r;var l={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:i||LOe};r!==void 0&&(l.message=r);var h=new nb(l);throw a&&(h.message=a,h.generatedMessage=!0),h}o(LOe,"fail");Oi.fail=LOe;Oi.AssertionError=nb;function DOe(t,e,r,n){if(!r){var i=!1;if(e===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var s=new nb({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw s.generatedMessage=i,s}}o(DOe,"innerOk");function rX(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];DOe.apply(void 0,[rX,e.length].concat(e))}o(rX,"ok");Oi.ok=rX;Oi.equal=o(function t(e,r,n){if(arguments.length<2)throw new Eg("actual","expected");e!=r&&kl({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},"equal");Oi.notEqual=o(function t(e,r,n){if(arguments.length<2)throw new Eg("actual","expected");e==r&&kl({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},"notEqual");Oi.deepEqual=o(function t(e,r,n){if(arguments.length<2)throw new Eg("actual","expected");wg===void 0&&L6(),wg(e,r)||kl({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},"deepEqual");Oi.notDeepEqual=o(function t(e,r,n){if(arguments.length<2)throw new Eg("actual","expected");wg===void 0&&L6(),wg(e,r)&&kl({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},"notDeepEqual");Oi.deepStrictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Eg("actual","expected");wg===void 0&&L6(),KC(e,r)||kl({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},"deepStrictEqual");Oi.notDeepStrictEqual=UOe;function UOe(t,e,r){if(arguments.length<2)throw new Eg("actual","expected");wg===void 0&&L6(),KC(t,e)&&kl({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:UOe})}o(UOe,"notDeepStrictEqual");Oi.strictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Eg("actual","expected");POe(e,r)||kl({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},"strictEqual");Oi.notStrictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Eg("actual","expected");POe(e,r)&&kl({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})},"notStrictEqual");var COe=o(function t(e,r,n){var i=this;g6t(this,t),r.forEach(function(s){s in e&&(n!==void 0&&typeof n[s]=="string"&&tX(e[s])&&e[s].test(n[s])?i[s]=n[s]:i[s]=e[s])})},"Comparison");function S6t(t,e,r,n,i,s){if(!(r in t)||!KC(t[r],e[r])){if(!n){var a=new COe(t,i),c=new COe(e,i,t),l=new nb({actual:a,expected:c,operator:"deepStrictEqual",stackStartFn:s});throw l.actual=t,l.expected=e,l.operator=s.name,l}kl({actual:t,expected:e,message:n,operator:s.name,stackStartFn:s})}}o(S6t,"compareExceptionKey");function FOe(t,e,r,n){if(typeof e!="function"){if(tX(e))return e.test(t);if(arguments.length===2)throw new B6("expected",["Function","RegExp"],e);if(_g(t)!=="object"||t===null){var i=new nb({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new b6t("error",e,"may not be an empty object");return wg===void 0&&L6(),s.forEach(function(a){typeof t[a]=="string"&&tX(e[a])&&e[a].test(t[a])||S6t(t,e,a,r,s,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}o(FOe,"expectedException");function HOe(t){if(typeof t!="function")throw new B6("fn","Function",t);try{t()}catch(e){return e}return GC}o(HOe,"getActual");function kOe(t){return w6t(t)||t!==null&&_g(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}o(kOe,"checkIsPromise");function qOe(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!kOe(e))throw new x6t("instance of Promise","promiseFn",e)}else if(kOe(t))e=t;else throw new B6("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return GC}).catch(function(r){return r})})}o(qOe,"waitForActual");function VOe(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new B6("error",["Object","Error","Function","RegExp"],r);if(_g(e)==="object"&&e!==null){if(e.message===r)throw new NOe("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new NOe("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&_g(r)!=="object"&&typeof r!="function")throw new B6("error",["Object","Error","Function","RegExp"],r);if(e===GC){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var s=t.name==="rejects"?"rejection":"exception";kl({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:t})}if(r&&!FOe(e,r,n,t))throw e}o(VOe,"expectsError");function jOe(t,e,r,n){if(e!==GC){if(typeof r=="string"&&(n=r,r=void 0),!r||FOe(e,r)){var i=n?": ".concat(n):".",s=t.name==="doesNotReject"?"rejection":"exception";kl({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(s).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}o(jOe,"expectsNoError");Oi.throws=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];VOe.apply(void 0,[t,HOe(e)].concat(n))},"throws");Oi.rejects=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return qOe(e).then(function(s){return VOe.apply(void 0,[t,s].concat(n))})},"rejects");Oi.doesNotThrow=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];jOe.apply(void 0,[t,HOe(e)].concat(n))},"doesNotThrow");Oi.doesNotReject=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return qOe(e).then(function(s){return jOe.apply(void 0,[t,s].concat(n))})},"doesNotReject");Oi.ifError=o(function t(e){if(e!=null){var r="ifError got unwanted exception: ";_g(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=_6t(e);var n=new nb({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if(typeof i=="string"){var s=i.split(`
`);s.shift();for(var a=n.stack.split(`
`),c=0;c<s.length;c++){var l=a.indexOf(s[c]);if(l!==-1){a=a.slice(0,l);break}}n.stack="".concat(a.join(`
`),`
`).concat(s.join(`
`))}throw n}},"ifError");function zOe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];DOe.apply(void 0,[zOe,e.length].concat(e))}o(zOe,"strict");Oi.strict=E6t(zOe,Oi,{equal:Oi.strictEqual,deepEqual:Oi.deepStrictEqual,notEqual:Oi.notStrictEqual,notDeepEqual:Oi.notDeepStrictEqual});Oi.strict.strict=Oi.strict});m();g();var Hg=Ze(fi(),1),ro=Ze(V4(),1),gh=Ze(Ru(),1);m();g();ih.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});m();g();var hDe=o((t,e)=>t+e,"add"),Goe=o(t=>t.reduce(hDe,0),"sum");var $oe=Hg.Buffer.alloc(64).fill(0),SP=o(t=>Sf(t)?Hg.Buffer.from(t.message.serialize()):t.serializeMessage(),"transactionToSerializedMessage"),j4=o(t=>gh.default.encode(SP(t)),"transactionToMessageString"),Woe=o(t=>{try{return j4(Bb(t,"bs58"))}catch{return j4(Bb(t,"base64"))}},"transactionStringToMessageString"),Yoe=o(t=>{try{return Bb(t,"bs58").version}catch{return Bb(t,"base64").version}},"transactionStringToVersion"),Xoe=o(t=>AP(TP(t)),"messageStringToTransactionString"),Sf=o(t=>t&&"version"in t,"isVersionedTransaction"),z4=o((t,e)=>Sf(t)?Hg.Buffer.from(t.serialize()):t.serialize(e??{requireAllSignatures:!1,verifySignatures:!1}),"transactionToSerializedTransaction"),AP=o((t,e)=>gh.default.encode(z4(t,e)),"transactionToBase58TransactionString"),Zoe=o((t,e)=>z4(t,e).toString("base64"),"transactionToBase64TransactionString"),Bb=o((t,e)=>{let r;if(e==="base64")r=Hg.Buffer.from(t,"base64");else if(e==="bs58")r=gh.default.decode(t);else throw new Error("Unsupported encoding");return ro.VersionedTransaction.deserialize(r)},"transactionStringToTransaction");function IP(t){return Sf(t)?t.signatures.filter(r=>r.every(i=>i===0)===!1).length>0:t.signatures.filter(({signature:r})=>r?r.find(i=>i!==0)!==void 0:!1).length>0}o(IP,"isAlreadySigned");var Joe=o(t=>{let e=t.map(r=>ro.VersionedMessage.deserialize(gh.default.decode(r)));return Goe(e.map(r=>r.header.numRequiredSignatures))},"getRequiredSignatures"),TP=o(t=>{let e=gh.default.decode(t);if(ro.VersionedMessage.deserializeMessageVersion(e)==="legacy"){let i=ro.Message.from(e);return ro.Transaction.populate(i,[])}let n=ro.VersionedMessage.deserialize(e);return new ro.VersionedTransaction(n)},"messageStringToTransaction"),Qoe=o((t,e=[])=>{let r=gh.default.decode(t);if(ro.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let i=ro.Message.from(r);return ro.Transaction.populate(i,e.map(s=>s?gh.default.encode(s):gh.default.encode($oe)))}else{let i=ro.VersionedMessage.deserialize(r);return new ro.VersionedTransaction(i,e.map(s=>s||$oe))}},"messageAndSignaturesToTransaction"),ese=o(t=>t.compileMessage().accountKeys,"getAccountsFromTransaction"),RP=o(t=>Sf(t)?t.message.recentBlockhash:t.recentBlockhash,"getRecentBlockhash"),tse=o((t,e)=>{Sf(t)?t.message.recentBlockhash=e:t.recentBlockhash=e},"setRecentBlockhash"),rse=o(async(t,e)=>{if(RP(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;tse(t,r)},"setRecentBlockhashIfNotExists"),nse=o(async(t,e)=>{if(IP(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;tse(t,r)},"setRecentBlockhashIfNotSigned"),OP=o((t,e)=>{Sf(t)||(t.feePayer=e)},"setFeePayer"),NP=o(t=>Sf(t)?t.message.staticAccountKeys[0]:t.feePayer,"getFeePayer"),ise=o((t,e)=>{NP(t)||OP(t,e)},"setFeePayerIfNotExists"),ose=o((t,e)=>{Sf(t)?t.sign(e):t.partialSign(...e)},"signWithAdditionalSigners"),sse=o(t=>Sf(t)?t.message.staticAccountKeys:t.signatures.map(e=>e.publicKey),"getSignaturePubKeys"),ase=o(t=>Sf(t)?t.signatures.map(e=>Hg.Buffer.from(e)):t.signatures.map(e=>e.signature).filter(e=>e!==null),"getSignatures");function cse(t){if(!pDe(Hg.Buffer.from(t)))return!1;let e;try{e=ro.Message.from(t)}catch{e=void 0}let r;try{r=ro.VersionedMessage.deserialize(t)}catch{r=void 0}return!e&&!r||(e?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}o(cse,"isSafeMessage");function pDe(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}o(pDe,"isValidUTF8");var fse=o(t=>ih(t).dividedBy(ro.LAMPORTS_PER_SOL),"lamportsToSolana"),use=o(t=>ih(t).multipliedBy(ro.LAMPORTS_PER_SOL),"solanaToLamports");var Af={};iX(Af,{BufferLayout:()=>bDe,Message:()=>ac.Message,MessageV0:()=>ac.MessageV0,Transaction:()=>ac.Transaction,TransactionInstruction:()=>ac.TransactionInstruction,TransactionMessage:()=>ac.TransactionMessage,VersionedMessage:()=>ac.VersionedMessage,VersionedTransaction:()=>ac.VersionedTransaction,getAccountsFromTransaction:()=>ese,getFeePayer:()=>NP,getRecentBlockhash:()=>RP,getRequiredSignatures:()=>Joe,getSignaturePubKeys:()=>sse,getSignatures:()=>ase,isAlreadySigned:()=>IP,isSafeMessage:()=>cse,isVersionedTransaction:()=>Sf,lamportsToSolana:()=>fse,messageAndSignaturesToTransaction:()=>Qoe,messageStringToTransaction:()=>TP,messageStringToTransactionString:()=>Xoe,setFeePayer:()=>OP,setFeePayerIfNotExists:()=>ise,setRecentBlockhashIfNotExists:()=>rse,setRecentBlockhashIfNotSigned:()=>nse,signWithAdditionalSigners:()=>ose,solanaInstructionEncodeData:()=>hse,solanaToLamports:()=>use,transactionStringToMessageString:()=>Woe,transactionStringToTransaction:()=>Bb,transactionStringToVersion:()=>Yoe,transactionToBase58TransactionString:()=>AP,transactionToBase64TransactionString:()=>Zoe,transactionToMessageString:()=>j4,transactionToSerializedMessage:()=>SP,transactionToSerializedTransaction:()=>z4});m();g();var bDe=Ze(lse(),1),ac=Ze(V4(),1);N0(Af,Ze(V4(),1));m();g();var dse=Ze(fi());m();g();var gDe=Ze(fi()),Ub=Ze(Zk());function BP(t,e){let r=o(i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return BP({layout:i},e[i.property]);return 0},"getItemAlloc"),n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}o(BP,"getAlloc");function hse(t,e){let r=t.layout.span>=0?t.layout.span:BP(t,e),n=dse.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}o(hse,"encodeData");m();g();var We;(function(t){t.BitcoinTaproot="bip122_p2tr",t.BitcoinNativeSegwit="bip122_p2wpkh",t.BitcoinNestedSegwit="bip122_p2sh",t.BitcoinLegacy="bip122_p2pkh",t.Solana="solana",t.EVM="eip155",t.Sui="sui"})(We||(We={}));var u8=[We.BitcoinTaproot,We.BitcoinNativeSegwit,We.BitcoinNestedSegwit,We.BitcoinLegacy],lw=be.enum(u8);m();g();var St;(function(t){t.Solana="solana",t.Monad="monad",t.Ethereum="ethereum",t.Base="base",t.Arbitrum="arbitrum",t.Polygon="polygon",t.Bitcoin="bitcoin",t.Sui="sui",t.Hypercore="hypercore",t.Hyperevm="hyperevm"})(St||(St={}));var Nn;(function(t){t.Ethereum="60",t.Monad="143",t.Polygon="966",t.Base="8453",t.Arbitrum="9001",t.Solana="501",t.Bitcoin="0",t.Sui="784",t.Hypercore="925",t.Hyperevm="60"})(Nn||(Nn={}));m();g();var no;(function(t){t.Mainnet="solana:101",t.Testnet="solana:102",t.Devnet="solana:103",t.Localnet="solana:localnet"})(no||(no={}));var np=be.union([be.literal(no.Mainnet),be.literal(no.Testnet),be.literal(no.Devnet),be.literal(no.Localnet)]),cc;(function(t){t.Mainnet="eip155:1",t.Sepolia="eip155:11155111"})(cc||(cc={}));var l8=be.union([be.literal(cc.Mainnet),be.literal(cc.Sepolia)]),jc;(function(t){t.Mainnet="eip155:137",t.Amoy="eip155:80002"})(jc||(jc={}));var PP=be.union([be.literal(jc.Mainnet),be.literal(jc.Amoy)]),zc;(function(t){t.Mainnet="eip155:8453",t.Sepolia="eip155:84532"})(zc||(zc={}));var LP=be.union([be.literal(zc.Mainnet),be.literal(zc.Sepolia)]),Kc;(function(t){t.Mainnet="eip155:42161",t.Sepolia="eip155:421614"})(Kc||(Kc={}));var DP=be.union([be.literal(Kc.Mainnet),be.literal(Kc.Sepolia)]),Gc;(function(t){t.Mainnet="eip155:143",t.Testnet="eip155:10143"})(Gc||(Gc={}));var UP=be.union([be.literal(Gc.Mainnet),be.literal(Gc.Testnet)]),fc;(function(t){t.Mainnet="bip122:000000000019d6689c085ae165831e93",t.Testnet="bip122:000000000933ea01ad0ee984209779ba"})(fc||(fc={}));var ip=be.union([be.literal(fc.Mainnet),be.literal(fc.Testnet)]),$c;(function(t){t.Mainnet="sui:mainnet",t.Testnet="sui:testnet"})($c||($c={}));var qg=be.union([be.literal($c.Mainnet),be.literal($c.Testnet)]),uc;(function(t){t.Mainnet="hypercore:mainnet",t.Testnet="hypercore:testnet"})(uc||(uc={}));var bh=be.union([be.literal(uc.Mainnet),be.literal(uc.Testnet)]),lc;(function(t){t.Mainnet="eip155:999",t.Testnet="eip155:998"})(lc||(lc={}));var Vg=be.union([be.literal(lc.Mainnet),be.literal(lc.Testnet)]),op=be.union([l8,PP,LP,UP,DP,bh,Vg]),xh=be.union([ip,op,np,qg,bh,Vg]),Mn={Bitcoin:fc,Ethereum:cc,Polygon:jc,Solana:no,Sui:$c,Base:zc,Monad:Gc,Arbitrum:Kc,Hypercore:uc,Hyperevm:lc};m();g();m();g();m();g();m();g();m();g();m();g();var iXe=Ze(ax(),1);var Qo=BigInt(0),Zr=BigInt(1),Np=BigInt(2),oXe=BigInt(8),ume=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),di=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:ume,n:ume,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var mme=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),pE=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),yFt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),sXe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),aXe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),cXe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),fXe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Ro=class t{static{o(this,"ExtendedPoint")}constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof io))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(io.ZERO)?t.ZERO:new t(e.x,e.y,Zr,et(e.x*e.y))}static toAffineBatch(e){let r=dXe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){dme(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e,l=et(r*c),h=et(s*i),y=et(n*c),p=et(a*i);return l===h&&y===p}negate(){return new t(et(-this.x),this.y,this.z,et(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=di,s=et(e*e),a=et(r*r),c=et(Np*et(n*n)),l=et(i*s),h=e+r,y=et(et(h*h)-s-a),p=l+a,E=p-c,I=l-a,O=et(y*E),N=et(p*I),k=et(y*I),C=et(E*p);return new t(O,N,C,k)}add(e){dme(e);let{x:r,y:n,z:i,t:s}=this,{x:a,y:c,z:l,t:h}=e,y=et((n-r)*(c+a)),p=et((n+r)*(c-a)),E=et(p-y);if(E===Qo)return this.double();let I=et(i*Np*h),O=et(s*Np*l),N=O+I,k=p+y,C=O-I,L=et(N*E),M=et(k*C),P=et(N*C),H=et(E*k);return new t(L,M,H,P)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=io.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&nF.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),nF.set(r,i)));let s=t.ZERO,a=t.BASE,c=1+256/n,l=2**(n-1),h=BigInt(2**n-1),y=2**n,p=BigInt(n);for(let E=0;E<c;E++){let I=E*l,O=Number(e&h);e>>=p,O>l&&(O-=y,e+=Zr);let N=I,k=I+Math.abs(O)-1,C=E%2!==0,L=O<0;O===0?a=a.add(lme(C,i[N])):s=s.add(lme(L,i[k]))}return t.normalizeZ([s,a])[0]}multiply(e,r){return this.wNAF(II(e,di.l),r)}multiplyUnsafe(e){let r=II(e,di.l,!1),n=t.BASE,i=t.ZERO;if(r===Qo)return i;if(this.equals(i)||r===Zr)return this;if(this.equals(n))return this.wNAF(r);let s=i,a=this;for(;r>Qo;)r&Zr&&(s=s.add(a)),a=a.double(),r>>=Zr;return s}isSmallOrder(){return this.multiplyUnsafe(di.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(di.l/Np).double();return di.l%Np&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?oXe:RI(i));let a=et(r*e),c=et(n*e),l=et(i*e);if(s)return io.ZERO;if(l!==Zr)throw new Error("invZ was invalid");return new io(a,c)}fromRistrettoBytes(){tF()}toRistrettoBytes(){tF()}fromRistrettoHash(){tF()}};Ro.BASE=new Ro(di.Gx,di.Gy,Zr,et(di.Gx*di.Gy));Ro.ZERO=new Ro(Qo,Zr,Zr,Qo);function lme(t,e){let r=e.negate();return t?r:e}o(lme,"constTimeNegate");function dme(t){if(!(t instanceof Ro))throw new TypeError("ExtendedPoint expected")}o(dme,"assertExtPoint");function eF(t){if(!(t instanceof Iy))throw new TypeError("RistrettoPoint expected")}o(eF,"assertRstPoint");function tF(){throw new Error("Legacy method: switch to RistrettoPoint")}o(tF,"legacyRist");var Iy=class t{static{o(this,"RistrettoPoint")}constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=di,n=et(pE*e*e),i=et((n+Zr)*cXe),s=BigInt(-1),a=et((s-r*n)*et(n+r)),{isValid:c,value:l}=oF(i,a),h=et(l*e);Op(h)||(h=et(-h)),c||(l=h),c||(s=n);let y=et(s*(n-Zr)*fXe-a),p=l*l,E=et((l+l)*a),I=et(y*sXe),O=et(Zr-p),N=et(Zr+p);return new Ro(et(E*N),et(O*I),et(I*N),et(E*O))}static hashToCurve(e){e=Mp(e,64);let r=rF(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=rF(e.slice(32,64)),s=this.calcElligatorRistrettoMap(i);return new t(n.add(s))}static fromHex(e){e=Mp(e,32);let{a:r,d:n}=di,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=rF(e);if(!pXe(yE(s),e)||Op(s))throw new Error(i);let a=et(s*s),c=et(Zr+r*a),l=et(Zr-r*a),h=et(c*c),y=et(l*l),p=et(r*n*h-y),{isValid:E,value:I}=pme(et(p*y)),O=et(I*l),N=et(I*O*p),k=et((s+s)*O);Op(k)&&(k=et(-k));let C=et(c*N),L=et(k*C);if(!E||Op(L)||C===Qo)throw new Error(i);return new t(new Ro(k,C,Zr,L))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,s=et(et(n+r)*et(n-r)),a=et(e*r),c=et(a*a),{value:l}=pme(et(s*c)),h=et(l*s),y=et(l*a),p=et(h*y*i),E;if(Op(i*p)){let O=et(r*pE),N=et(e*pE);e=O,r=N,E=et(h*aXe)}else E=y;Op(e*p)&&(r=et(-r));let I=et((n-r)*E);return Op(I)&&(I=et(-I)),yE(I)}toHex(){return bE(this.toRawBytes())}toString(){return this.toHex()}equals(e){eF(e);let r=this.ep,n=e.ep,i=et(r.x*n.y)===et(r.y*n.x),s=et(r.y*n.y)===et(r.x*n.x);return i||s}add(e){return eF(e),new t(this.ep.add(e.ep))}subtract(e){return eF(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};Iy.BASE=new Iy(Ro.BASE);Iy.ZERO=new Iy(Ro.ZERO);var nF=new WeakMap,io=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,nF.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=di;e=Mp(e,32);let s=e.slice();s[31]=e[31]&-129;let a=xE(s);if(r&&a>=i)throw new Error("Expected 0 < hex < P");if(!r&&a>=mme)throw new Error("Expected 0 < hex < 2**256");let c=et(a*a),l=et(c-Zr),h=et(n*c+Zr),{isValid:y,value:p}=oF(l,h);if(!y)throw new Error("Point.fromHex: invalid y coordinate");let E=(p&Zr)===Zr;return(e[31]&128)!==0!==E&&(p=et(-p)),new t(p,a)}static async fromPrivateKey(e){return(await xme(e)).point}toRawBytes(){let e=yE(this.y);return e[31]|=this.x&Zr?128:0,e}toHex(){return bE(this.toRawBytes())}toX25519(){let{y:e}=this,r=et((Zr+e)*RI(Zr-e));return yE(r)}isTorsionFree(){return Ro.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(et(-this.x),this.y)}add(e){return Ro.fromAffine(this).add(Ro.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ro.fromAffine(this).multiply(e,this).toAffine()}};io.BASE=new io(di.Gx,di.Gy);io.ZERO=new io(Qo,Zr);var gE=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Mp(e,64),n=io.fromHex(r.slice(0,32),!1),i=xE(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof io))throw new Error("Expected Point instance");return II(r,di.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(yE(this.s),32),e}toHex(){return bE(this.toRawBytes())}};function hme(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(hme,"concatBytes");var uXe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bE(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=uXe[t[r]];return e}o(bE,"bytesToHex");function iF(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(iF,"hexToBytes");function gme(t){let r=t.toString(16).padStart(64,"0");return iF(r)}o(gme,"numberTo32BytesBE");function yE(t){return gme(t).reverse()}o(yE,"numberTo32BytesLE");function Op(t){return(et(t)&Zr)===Zr}o(Op,"edIsNegative");function xE(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+bE(Uint8Array.from(t).reverse()))}o(xE,"bytesToNumberLE");var lXe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function rF(t){return et(xE(t)&lXe)}o(rF,"bytes255ToNumberLE");function et(t,e=di.P){let r=t%e;return r>=Qo?r:e+r}o(et,"mod");function RI(t,e=di.P){if(t===Qo||e<=Qo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=et(t,e),n=e,i=Qo,s=Zr,a=Zr,c=Qo;for(;r!==Qo;){let h=n/r,y=n%r,p=i-a*h,E=s-c*h;n=r,r=y,i=a,s=c,a=p,c=E}if(n!==Zr)throw new Error("invert: does not exist");return et(i,e)}o(RI,"invert");function dXe(t,e=di.P){let r=new Array(t.length),n=t.reduce((s,a,c)=>a===Qo?s:(r[c]=s,et(s*a,e)),Zr),i=RI(n,e);return t.reduceRight((s,a,c)=>a===Qo?s:(r[c]=et(s*r[c],e),et(s*a,e)),i),r}o(dXe,"invertBatch");function ad(t,e){let{P:r}=di,n=t;for(;e-- >Qo;)n*=n,n%=r;return n}o(ad,"pow2");function hXe(t){let{P:e}=di,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),a=BigInt(80),l=t*t%e*t%e,h=ad(l,Np)*l%e,y=ad(h,Zr)*t%e,p=ad(y,r)*y%e,E=ad(p,n)*p%e,I=ad(E,i)*E%e,O=ad(I,s)*I%e,N=ad(O,a)*O%e,k=ad(N,a)*O%e,C=ad(k,n)*p%e;return{pow_p_5_8:ad(C,Np)*t%e,b2:l}}o(hXe,"pow_2_252_3");function oF(t,e){let r=et(e*e*e),n=et(r*r*e),i=hXe(t*n).pow_p_5_8,s=et(t*r*i),a=et(e*s*s),c=s,l=et(s*pE),h=a===t,y=a===et(-t),p=a===et(-t*pE);return h&&(s=c),(y||p)&&(s=l),Op(s)&&(s=et(-s)),{isValid:h||y,value:s}}o(oF,"uvRatio");function pme(t){return oF(Zr,t)}o(pme,"invertSqrt");function AI(t){return et(xE(t),di.l)}o(AI,"modlLE");function pXe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(pXe,"equalBytes");function Mp(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):iF(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}o(Mp,"ensureBytes");function II(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(Qo<t)return t}else if(Qo<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}o(II,"normalizeScalar");function mXe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}o(mXe,"adjustBytes25519");function yme(t){if(t=typeof t=="bigint"||typeof t=="number"?gme(II(t,mme)):Mp(t),t.length!==32)throw new Error("Expected 32 bytes");return t}o(yme,"checkPrivateKey");function bme(t){let e=mXe(t.slice(0,32)),r=t.slice(32,64),n=AI(e),i=io.BASE.multiply(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}}o(bme,"getKeyFromHash");var mE;function TI(...t){if(typeof mE!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return mE(...t)}o(TI,"sha512s");async function xme(t){return bme(await Bh.sha512(yme(t)))}o(xme,"getExtendedPublicKey");function sF(t){return bme(TI(yme(t)))}o(sF,"getExtendedPublicKeySync");function gXe(t){return sF(t).pointBytes}o(gXe,"getPublicKeySync");function yXe(t,e){t=Mp(t);let{prefix:r,scalar:n,pointBytes:i}=sF(e),s=AI(TI(r,t)),a=io.BASE.multiply(s),c=AI(TI(a.toRawBytes(),i,t)),l=et(s+c*n,di.l);return new gE(a,l).toRawBytes()}o(yXe,"signSync");function bXe(t,e,r){e=Mp(e),r instanceof io||(r=io.fromHex(r,!1));let{r:n,s:i}=t instanceof gE?t.assertValidity():gE.fromHex(t),s=Ro.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:s,pub:r,msg:e}}o(bXe,"prepareVerification");function xXe(t,e,r,n){let i=AI(n),s=Ro.fromAffine(t).multiplyUnsafe(i);return Ro.fromAffine(e).add(s).subtract(r).multiplyUnsafe(di.h).equals(Ro.ZERO)}o(xXe,"finishVerification");function vXe(t,e,r){let{r:n,SB:i,msg:s,pub:a}=bXe(t,e,r),c=TI(n.toRawBytes(),a.toRawBytes(),s);return xXe(a,n,i,c)}o(vXe,"verifySync");var OI={getExtendedPublicKey:sF,getPublicKey:gXe,sign:yXe,verify:vXe};io.BASE._setWindowSize(8);var Rp={node:iXe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Bh={bytesToHex:bE,hexToBytes:iF,concatBytes:hme,getExtendedPublicKey:xme,mod:et,invert:RI,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:o(t=>{if(t=Mp(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return et(xE(t),di.l-Zr)+Zr},"hashToPrivateScalar"),randomBytes:o((t=32)=>{if(Rp.web)return Rp.web.getRandomValues(new Uint8Array(t));if(Rp.node){let{randomBytes:e}=Rp.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>Bh.randomBytes(32),"randomPrivateKey"),sha512:o(async(...t)=>{let e=hme(...t);if(Rp.web){let r=await Rp.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(Rp.node)return Uint8Array.from(Rp.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},"sha512"),precompute(t=8,e=io.BASE){let r=e.equals(io.BASE)?e:new io(e.x,e.y);return r._setWindowSize(t),r.multiply(Np),r},sha512Sync:void 0};Object.defineProperties(Bh,{sha512Sync:{configurable:!1,get(){return mE},set(t){mE||(mE=t)}}});m();g();m();g();m();g();function aF(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(aF,"number");function _Xe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}o(_Xe,"bool");function vme(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(vme,"bytes");function wXe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");aF(t.outputLen),aF(t.blockLen)}o(wXe,"hash");function EXe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(EXe,"exists");function SXe(t,e){vme(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(SXe,"output");var AXe={number:aF,bool:_Xe,bytes:vme,hash:wXe,exists:EXe,output:SXe},Un=AXe;m();g();m();g();var vE={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Bx=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32"),Px=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Yu=o((t,e)=>t<<32-e|t>>>e,"rotr"),IXe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!IXe)throw new Error("Non little-endian hardware is not supported");var TXe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function RXe(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=TXe[t[r]];return e}o(RXe,"bytesToHex");function OXe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(OXe,"hexToBytes");var NXe=o(async()=>{},"nextTick");async function NI(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await NXe(),n+=s)}}o(NI,"asyncLoop");function MXe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}o(MXe,"utf8ToBytes");function Xu(t){if(typeof t=="string"&&(t=MXe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}o(Xu,"toBytes");var Cp=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},CXe=o(t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object,"isPlainObject");function MI(t,e){if(e!==void 0&&(typeof e!="object"||!CXe(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}o(MI,"checkOpts");function cd(t){let e=o(n=>t().update(Xu(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(cd,"wrapConstructor");function _me(t){let e=o((n,i)=>t(i).update(Xu(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(_me,"wrapConstructorWithOpts");function cF(t=32){if(vE.web)return vE.web.getRandomValues(new Uint8Array(t));if(vE.node)return new Uint8Array(vE.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}o(cF,"randomBytes");function kXe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(kXe,"setBigUint64");var Lx=class extends Cp{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Px(this.buffer)}update(e){Un.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=Xu(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=Px(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Un.exists(this),Un.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let p=a;p<i;p++)r[p]=0;kXe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=Px(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};m();g();var CI=BigInt(4294967295),fF=BigInt(32);function wme(t,e=!1){return e?{h:Number(t&CI),l:Number(t>>fF&CI)}:{h:Number(t>>fF&CI)|0,l:Number(t&CI)|0}}o(wme,"fromBig");function BXe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=wme(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(BXe,"split");var PXe=o((t,e)=>BigInt(t>>>0)<<fF|BigInt(e>>>0),"toBig"),LXe=o((t,e,r)=>t>>>r,"shrSH"),DXe=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),UXe=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),FXe=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),HXe=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),qXe=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),VXe=o((t,e)=>e,"rotr32H"),jXe=o((t,e)=>t,"rotr32L"),zXe=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH"),KXe=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL"),GXe=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH"),$Xe=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");function WXe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(WXe,"add");var YXe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),XXe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),ZXe=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),JXe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),QXe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),eZe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H"),tZe={fromBig:wme,split:BXe,toBig:PXe,shrSH:LXe,shrSL:DXe,rotrSH:UXe,rotrSL:FXe,rotrBH:HXe,rotrBL:qXe,rotr32H:VXe,rotr32L:jXe,rotlSH:zXe,rotlSL:KXe,rotlBH:GXe,rotlBL:$Xe,add:WXe,add3L:YXe,add3H:XXe,add4L:ZXe,add4H:JXe,add5H:eZe,add5L:QXe},Jt=tZe;var[rZe,nZe]=Jt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),kp=new Uint32Array(80),Bp=new Uint32Array(80),Dx=class extends Lx{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:p,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k]}set(e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=p|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)kp[M]=e.getUint32(r),Bp[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let P=kp[M-15]|0,H=Bp[M-15]|0,F=Jt.rotrSH(P,H,1)^Jt.rotrSH(P,H,8)^Jt.shrSH(P,H,7),J=Jt.rotrSL(P,H,1)^Jt.rotrSL(P,H,8)^Jt.shrSL(P,H,7),W=kp[M-2]|0,X=Bp[M-2]|0,S=Jt.rotrSH(W,X,19)^Jt.rotrBH(W,X,61)^Jt.shrSH(W,X,6),f=Jt.rotrSL(W,X,19)^Jt.rotrBL(W,X,61)^Jt.shrSL(W,X,6),d=Jt.add4L(J,f,Bp[M-7],Bp[M-16]),b=Jt.add4H(d,F,S,kp[M-7],kp[M-16]);kp[M]=b|0,Bp[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:p,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let P=Jt.rotrSH(p,E,14)^Jt.rotrSH(p,E,18)^Jt.rotrBH(p,E,41),H=Jt.rotrSL(p,E,14)^Jt.rotrSL(p,E,18)^Jt.rotrBL(p,E,41),F=p&I^~p&N,J=E&O^~E&k,W=Jt.add5L(L,H,J,nZe[M],Bp[M]),X=Jt.add5H(W,C,P,F,rZe[M],kp[M]),S=W|0,f=Jt.rotrSH(n,i,28)^Jt.rotrBH(n,i,34)^Jt.rotrBH(n,i,39),d=Jt.rotrSL(n,i,28)^Jt.rotrBL(n,i,34)^Jt.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=p|0,O=E|0,{h:p,l:E}=Jt.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=Jt.add3L(S,d,x);n=Jt.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Jt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Jt.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=Jt.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=Jt.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:p,l:E}=Jt.add(this.Eh|0,this.El|0,p|0,E|0),{h:I,l:O}=Jt.add(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=Jt.add(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=Jt.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,c,l,h,y,p,E,I,O,N,k,C,L)}roundClean(){kp.fill(0),Bp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},uF=class extends Dx{static{o(this,"SHA512_224")}constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},lF=class extends Dx{static{o(this,"SHA512_256")}constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},dF=class extends Dx{static{o(this,"SHA384")}constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},fd=cd(()=>new Dx),$Ft=cd(()=>new uF),WFt=cd(()=>new lF),YFt=cd(()=>new dF);m();g();var iZe=Ze(ax(),1);var pn=BigInt(0),_i=BigInt(1),Lp=BigInt(2),EE=BigInt(3),Eme=BigInt(8),wi=Object.freeze({a:pn,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_i,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Sme=o((t,e)=>(t+e/Lp)/e,"divNearest"),kI={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=wi,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-_i*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=Sme(s*t,e),l=Sme(-n*t,e),h=Rt(t-c*r-l*i,e),y=Rt(-c*n-l*s,e),p=h>a,E=y>a;if(p&&(h=e-h),E&&(y=e-y),h>a||y>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:p,k1:h,k2neg:E,k2:y}}},Ux=32,AE=32;var Ame=Ux+1,Ime=2*Ux+1;function Tme(t){let{a:e,b:r}=wi,n=Rt(t*t),i=Rt(n*t);return Rt(i+e*t+r)}o(Tme,"weierstrass");var BI=wi.a===pn,UI=class extends Error{static{o(this,"ShaError")}constructor(e){super(e)}};function Rme(t){if(!(t instanceof Ca))throw new TypeError("JacobianPoint expected")}o(Rme,"assertJacPoint");var Ca=class t{static{o(this,"JacobianPoint")}constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof oo))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(oo.ZERO)?t.ZERO:new t(e.x,e.y,_i)}static toAffineBatch(e){let r=fZe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){Rme(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e,l=Rt(i*i),h=Rt(c*c),y=Rt(r*h),p=Rt(s*l),E=Rt(Rt(n*c)*h),I=Rt(Rt(a*i)*l);return y===p&&E===I}negate(){return new t(this.x,Rt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=Rt(e*e),s=Rt(r*r),a=Rt(s*s),c=e+s,l=Rt(Lp*(Rt(c*c)-i-a)),h=Rt(EE*i),y=Rt(h*h),p=Rt(y-Lp*l),E=Rt(h*(l-p)-Eme*a),I=Rt(Lp*r*n);return new t(p,E,I)}add(e){Rme(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e;if(s===pn||a===pn)return this;if(r===pn||n===pn)return e;let l=Rt(i*i),h=Rt(c*c),y=Rt(r*h),p=Rt(s*l),E=Rt(Rt(n*c)*h),I=Rt(Rt(a*i)*l),O=Rt(p-y),N=Rt(I-E);if(O===pn)return N===pn?this.double():t.ZERO;let k=Rt(O*O),C=Rt(O*k),L=Rt(y*k),M=Rt(N*N-C-Lp*L),P=Rt(N*(L-M)-E*C),H=Rt(i*c*O);return new t(M,P,H)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===pn)return r;let n=Mme(e);if(n===_i)return this;if(!BI){let p=r,E=this;for(;n>pn;)n&_i&&(p=p.add(E)),E=E.double(),n>>=_i;return p}let{k1neg:i,k1:s,k2neg:a,k2:c}=kI.splitScalar(n),l=r,h=r,y=this;for(;s>pn||c>pn;)s&_i&&(l=l.add(y)),c&_i&&(h=h.add(y)),y=y.double(),s>>=_i,c>>=_i;return i&&(l=l.negate()),a&&(h=h.negate()),h=new t(Rt(h.x*kI.beta),h.y,h.z),l.add(h)}precomputeWindow(e){let r=BI?128/e+1:256/e+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=oo.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&pF.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),pF.set(r,i)));let s=t.ZERO,a=t.BASE,c=1+(BI?128/n:256/n),l=2**(n-1),h=BigInt(2**n-1),y=2**n,p=BigInt(n);for(let E=0;E<c;E++){let I=E*l,O=Number(e&h);e>>=p,O>l&&(O-=y,e+=_i);let N=I,k=I+Math.abs(O)-1,C=E%2!==0,L=O<0;O===0?a=a.add(PI(C,i[N])):s=s.add(PI(L,i[k]))}return{p:s,f:a}}multiply(e,r){let n=Mme(e),i,s;if(BI){let{k1neg:a,k1:c,k2neg:l,k2:h}=kI.splitScalar(n),{p:y,f:p}=this.wNAF(c,r),{p:E,f:I}=this.wNAF(h,r);y=PI(a,y),E=PI(l,E),E=new t(Rt(E.x*kI.beta),E.y,E.z),i=y.add(E),s=p.add(I)}else{let{p:a,f:c}=this.wNAF(n,r);i=a,s=c}return t.normalizeZ([i,s])[0]}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?Eme:VI(i));let a=e,c=Rt(a*a),l=Rt(c*a),h=Rt(r*c),y=Rt(n*l),p=Rt(i*a);if(s)return oo.ZERO;if(p!==_i)throw new Error("invZ was invalid");return new oo(h,y)}};Ca.BASE=new Ca(wi.Gx,wi.Gy,_i);Ca.ZERO=new Ca(pn,_i,pn);function PI(t,e){let r=e.negate();return t?r:e}o(PI,"constTimeNegate");var pF=new WeakMap,oo=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,pF.delete(this)}hasEvenY(){return this.y%Lp===pn}static fromCompressedHex(e){let r=e.length===32,n=zf(r?e:e.subarray(1));if(!DI(n))throw new Error("Point is not on curve");let i=Tme(n),s=cZe(i),a=(s&_i)===_i;r?a&&(s=Rt(-s)):(e[0]&1)===1!==a&&(s=Rt(-s));let c=new t(n,s);return c.assertValidity(),c}static fromUncompressedHex(e){let r=zf(e.subarray(1,Ux+1)),n=zf(e.subarray(Ux+1,Ux*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=Ty(e),n=r.length,i=r[0];if(n===Ux)return this.fromCompressedHex(r);if(n===Ame&&(i===2||i===3))return this.fromCompressedHex(r);if(n===Ime&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Ame} compressed bytes or ${Ime} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(RE(e))}static fromSignature(e,r,n){let{r:i,s}=hZe(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=lZe(Ty(e)),{n:c}=wi,l=n===2||n===3?i+c:i,h=VI(l,c),y=Rt(-a*h,c),p=Rt(s*h,c),E=n&1?"03":"02",I=t.fromHex(E+Dp(l)),O=t.BASE.multiplyAndAddUnsafe(I,y,p);if(!O)throw new Error("Cannot recover signature: point at infinify");return O.assertValidity(),O}toRawBytes(e=!1){return Up(this.toHex(e))}toHex(e=!1){let r=Dp(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Dp(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!DI(r)||!DI(n))throw new Error(e);let i=Rt(n*n),s=Tme(r);if(Rt(i-s)!==pn)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,Rt(-this.y))}double(){return Ca.fromAffine(this).double().toAffine()}add(e){return Ca.fromAffine(this).add(Ca.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ca.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Ca.fromAffine(this),s=r===pn||r===_i||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),a=Ca.fromAffine(e).multiplyUnsafe(n),c=s.add(a);return c.equals(Ca.ZERO)?void 0:c.toAffine()}};oo.BASE=new oo(wi.Gx,wi.Gy);oo.ZERO=new oo(pn,pn);function Ome(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}o(Ome,"sliceDER");function Nme(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Hx(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:zf(r),left:t.subarray(e+2)}}o(Nme,"parseDERInt");function oZe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Hx(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Nme(t.subarray(2)),{data:n,left:i}=Nme(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Hx(i)}`);return{r:e,s:n}}o(oZe,"parseDERSignature");var SE=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Hx(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(FI(i.slice(0,64)),FI(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=oZe(r?e:Up(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!TE(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!TE(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=wi.n>>_i;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,Rt(-this.s,wi.n)):this}toDERRawBytes(){return Up(this.toDERHex())}toDERHex(){let e=Ome(wE(this.s)),r=Ome(wE(this.r)),n=e.length/2,i=r.length/2,s=wE(n),a=wE(i);return`30${wE(i+n+4)}02${a}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Up(this.toCompactHex())}toCompactHex(){return Dp(this.r)+Dp(this.s)}};function _E(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(_E,"concatBytes");var sZe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Hx(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=sZe[t[r]];return e}o(Hx,"bytesToHex");var aZe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Dp(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(pn<=t&&t<aZe))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}o(Dp,"numTo32bStr");function IE(t){let e=Up(Dp(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}o(IE,"numTo32b");function wE(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(wE,"numberToHexUnpadded");function FI(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(FI,"hexToNumber");function Up(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(Up,"hexToBytes");function zf(t){return FI(Hx(t))}o(zf,"bytesToNumber");function Ty(t){return t instanceof Uint8Array?Uint8Array.from(t):Up(t)}o(Ty,"ensureBytes");function Mme(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&TE(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}o(Mme,"normalizeScalar");function Rt(t,e=wi.P){let r=t%e;return r>=pn?r:e+r}o(Rt,"mod");function jf(t,e){let{P:r}=wi,n=t;for(;e-- >pn;)n*=n,n%=r;return n}o(jf,"pow2");function cZe(t){let{P:e}=wi,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,h=l*l*t%e,y=jf(h,EE)*h%e,p=jf(y,EE)*h%e,E=jf(p,Lp)*l%e,I=jf(E,n)*E%e,O=jf(I,i)*I%e,N=jf(O,a)*O%e,k=jf(N,c)*N%e,C=jf(k,a)*O%e,L=jf(C,EE)*h%e,M=jf(L,s)*I%e,P=jf(M,r)*l%e,H=jf(P,Lp);if(H*H%e!==t)throw new Error("Cannot find square root");return H}o(cZe,"sqrtMod");function VI(t,e=wi.P){if(t===pn||e<=pn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Rt(t,e),n=e,i=pn,s=_i,a=_i,c=pn;for(;r!==pn;){let h=n/r,y=n%r,p=i-a*h,E=s-c*h;n=r,r=y,i=a,s=c,a=p,c=E}if(n!==_i)throw new Error("invert: does not exist");return Rt(i,e)}o(VI,"invert");function fZe(t,e=wi.P){let r=new Array(t.length),n=t.reduce((s,a,c)=>a===pn?s:(r[c]=s,Rt(s*a,e)),_i),i=VI(n,e);return t.reduceRight((s,a,c)=>a===pn?s:(r[c]=Rt(s*r[c],e),Rt(s*a,e)),i),r}o(fZe,"invertBatch");function uZe(t){let e=t.length*8-AE*8,r=zf(t);return e>0?r>>BigInt(e):r}o(uZe,"bits2int_2");function lZe(t,e=!1){let r=uZe(t);if(e)return r;let{n}=wi;return r>=n?r-n:r}o(lZe,"truncateHash");var Fx,hF;function TE(t){return pn<t&&t<wi.n}o(TE,"isWithinCurveOrder");function DI(t){return pn<t&&t<wi.P}o(DI,"isValidFieldElement");function RE(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*AE)throw new Error("Expected 32 bytes of private key");e=FI(t)}else if(t instanceof Uint8Array){if(t.length!==AE)throw new Error("Expected 32 bytes of private key");e=zf(t)}else throw new TypeError("Expected valid private key");if(!TE(e))throw new Error("Expected private key: 0 < key < n");return e}o(RE,"normalizePrivateKey");function dZe(t){return t instanceof oo?(t.assertValidity(),t):oo.fromHex(t)}o(dZe,"normalizePublicKey");function hZe(t){if(t instanceof SE)return t.assertValidity(),t;try{return SE.fromDER(t)}catch{return SE.fromCompact(t)}}o(hZe,"normalizeSignature");function Vx(t,e=!1){return oo.fromPrivateKey(t).toRawBytes(e)}o(Vx,"getPublicKey");function HI(t){return Rt(zf(t),wi.n)}o(HI,"schnorrChallengeFinalize");var qx=class t{static{o(this,"SchnorrSignature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Ty(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=zf(r.subarray(0,32)),i=zf(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!DI(e)||!TE(r))throw new Error("Invalid signature")}toHex(){return Dp(this.r)+Dp(this.s)}toRawBytes(){return Up(this.toHex())}};function pZe(t){return oo.fromPrivateKey(t).toRawX()}o(pZe,"schnorrGetPublicKey");var qI=class{static{o(this,"InternalSchnorrSignature")}constructor(e,r,n=ud.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Ty(e);let{x:i,scalar:s}=this.getScalar(RE(r));if(this.px=i,this.d=s,this.rand=Ty(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=oo.fromPrivateKey(e),n=r.hasEvenY()?e:wi.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return IE(e^zf(r))}finalizeNonce(e){let r=Rt(zf(e),wi.n);if(r===pn)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:s}=this.getScalar(r);return{R:n,rx:i,k:s}}finalizeSig(e,r,n,i){return new qx(e.x,Rt(r+n*i,wi.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,s=ud.taggedHash,a=this.initNonce(r,await s(Pp.aux,i)),{R:c,rx:l,k:h}=this.finalizeNonce(await s(Pp.nonce,a,n,e)),y=HI(await s(Pp.challenge,l,n,e)),p=this.finalizeSig(c,h,y,r);return await Bme(p,e,n)||this.error(),p}calcSync(){let{m:e,d:r,px:n,rand:i}=this,s=ud.taggedHashSync,a=this.initNonce(r,s(Pp.aux,i)),{R:c,rx:l,k:h}=this.finalizeNonce(s(Pp.nonce,a,n,e)),y=HI(s(Pp.challenge,l,n,e)),p=this.finalizeSig(c,h,y,r);return Pme(p,e,n)||this.error(),p}};async function mZe(t,e,r){return new qI(t,e,r).calc()}o(mZe,"schnorrSign");function gZe(t,e,r){return new qI(t,e,r).calcSync()}o(gZe,"schnorrSignSync");function Cme(t,e,r){let n=t instanceof qx,i=n?t:qx.fromHex(t);return n&&i.assertValidity(),{...i,m:Ty(e),P:dZe(r)}}o(Cme,"initSchnorrVerify");function kme(t,e,r,n){let i=oo.BASE.multiplyAndAddUnsafe(e,RE(r),Rt(-n,wi.n));return!(!i||!i.hasEvenY()||i.x!==t)}o(kme,"finalizeSchnorrVerify");async function Bme(t,e,r){try{let{r:n,s:i,m:s,P:a}=Cme(t,e,r),c=HI(await ud.taggedHash(Pp.challenge,IE(n),a.toRawX(),s));return kme(n,a,i,c)}catch{return!1}}o(Bme,"schnorrVerify");function Pme(t,e,r){try{let{r:n,s:i,m:s,P:a}=Cme(t,e,r),c=HI(ud.taggedHashSync(Pp.challenge,IE(n),a.toRawX(),s));return kme(n,a,i,c)}catch(n){if(n instanceof UI)throw n;return!1}}o(Pme,"schnorrVerifySync");var eHt={Signature:qx,getPublicKey:pZe,sign:mZe,verify:Bme,signSync:gZe,verifySync:Pme};oo.BASE._setWindowSize(8);var Jc={node:iZe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Pp={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},LI={},ud={bytesToHex:Hx,hexToBytes:Up,concatBytes:_E,mod:Rt,invert:VI,isValidPrivateKey(t){try{return RE(t),!0}catch{return!1}},_bigintTo32Bytes:IE,_normalizePrivateKey:RE,hashToPrivateKey:o(t=>{t=Ty(t);let e=AE+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=Rt(zf(t),wi.n-_i)+_i;return IE(r)},"hashToPrivateKey"),randomBytes:o((t=32)=>{if(Jc.web)return Jc.web.getRandomValues(new Uint8Array(t));if(Jc.node){let{randomBytes:e}=Jc.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>ud.hashToPrivateKey(ud.randomBytes(AE+8)),"randomPrivateKey"),precompute(t=8,e=oo.BASE){let r=e===oo.BASE?e:new oo(e.x,e.y);return r._setWindowSize(t),r.multiply(EE),r},sha256:o(async(...t)=>{if(Jc.web){let e=await Jc.web.subtle.digest("SHA-256",_E(...t));return new Uint8Array(e)}else if(Jc.node){let{createHash:e}=Jc.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},"sha256"),hmacSha256:o(async(t,...e)=>{if(Jc.web){let r=await Jc.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=_E(...e),i=await Jc.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Jc.node){let{createHmac:r}=Jc.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},"hmacSha256"),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:o(async(t,...e)=>{let r=LI[t];if(r===void 0){let n=await ud.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=_E(n,n),LI[t]=r}return ud.sha256(r,...e)},"taggedHash"),taggedHashSync:o((t,...e)=>{if(typeof Fx!="function")throw new UI("sha256Sync is undefined, you need to set it");let r=LI[t];if(r===void 0){let n=Fx(Uint8Array.from(t,i=>i.charCodeAt(0)));r=_E(n,n),LI[t]=r}return Fx(r,...e)},"taggedHashSync"),_JacobianPoint:Ca};Object.defineProperties(ud,{sha256Sync:{configurable:!1,get(){return Fx},set(t){Fx||(Fx=t)}},hmacSha256Sync:{configurable:!1,get(){return hF},set(t){hF||(hF=t)}}});m();g();var yZe=new Error("Unsupported path."),xs=o((t,e=yZe)=>{throw e},"assertNever");m();g();var Lme=new RegExp("^[0-9]+'?$"),OE=2147483648;m();g();m();g();var jI=class extends Cp{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Un.hash(e);let n=Xu(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Un.exists(this),this.iHash.update(e),this}digestInto(e){Un.exists(this),Un.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Ph=o((t,e,r)=>new jI(t,e).update(r).digest(),"hmac");Ph.create=(t,e)=>new jI(t,e);var vHt=new RegExp("^m(\\/[0-9]+')+$");var bZe="ed25519 seed",Dme=o(t=>{let e=Buffer.from(Ph(fd,Buffer.from(bZe),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},"getMasterKeyFromSeed"),Ume=o(({key:t,chainCode:e},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=Buffer.concat([Buffer.alloc(1,0),t,n]),s=Buffer.from(Ph(fd,e,i)).toString("hex"),a=s.slice(0,64),c=s.slice(64);return{key:Buffer.from(a,"hex"),chainCode:Buffer.from(c,"hex")}},"CKDPriv");m();g();var Lh=Ze(fi());var jx=Ze(cs());var xZe=Lh.Buffer.from("Bitcoin seed"),Fme=wn.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Hme=o(t=>{let e=Lh.Buffer.from(Ph(fd,Lh.Buffer.from(xZe),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Lh.Buffer.from(r,"hex"),chainCode:Lh.Buffer.from(n,"hex")}},"getMasterKeyFromSeed"),qme=o((t,e)=>{let{key:r,chainCode:n}=t,i=new Uint8Array(37);if(e&OE)i.set(r,1);else{let p=Vx(r,!0);i.set((0,jx.arrayify)(p))}for(let p=24;p>=0;p-=8)i[33+(p>>3)]=e>>24-p&255;let s=Lh.Buffer.from(Ph(fd,n,i)).toString("hex"),a=s.slice(0,64),c=s.slice(64),l=wn.from(`0x${a}`);if(l.gte(Fme))throw new Error("Invalid private key");let h=l.add(`0x${r.toString("hex")}`).mod(Fme);if(h.eq(wn.from(0)))throw new Error("Invalid private key");let y=(0,jx.hexZeroPad)((0,jx.hexlify)(h),32);return{key:Lh.Buffer.from(y.replace("0x",""),"hex"),chainCode:Lh.Buffer.from(c,"hex")}},"CKDPriv");m();g();var mF=be.string().refine(t=>{if(typeof t!="string")return!1;let e=t.split("/");if(e.length<2||e[0]!=="m")return!1;for(let r=1;r<e.length;++r)if(!Lme.test(e[r]))return!1;return!0},{message:"Value is not a valid derivation path."}),Ee;(function(t){t.BitcoinTaproot="bitcoinTaproot",t.BitcoinNativeSegwit="bitcoinNativeSegwit",t.BitcoinNestedSegwit="bitcoinNestedSegwit",t.BitcoinLegacy="bitcoinLegacy",t.Bip44RootSolana="bip44Root",t.Bip44Solana="bip44",t.Bip44ChangeSolana="bip44Change",t.DeprecatedSolana="deprecated",t.Bip44RootEthereum="bip44RootEthereum",t.Bip44Ethereum="bip44Ethereum",t.Bip44EthereumSecondary="bip44EthereumSecondary",t.Bip44EthereumTertiary="bip44EthereumTertiary",t.Bip44Sui="bip44Sui"})(Ee||(Ee={}));var vZe=be.union([be.literal(Ee.BitcoinTaproot),be.literal(Ee.BitcoinNativeSegwit),be.literal(Ee.BitcoinNestedSegwit),be.literal(Ee.BitcoinLegacy)]),_Ze=be.union([be.literal(Ee.Bip44RootEthereum),be.literal(Ee.Bip44Ethereum),be.literal(Ee.Bip44EthereumSecondary),be.literal(Ee.Bip44EthereumTertiary)]),wZe=be.union([be.literal(Ee.Bip44RootSolana),be.literal(Ee.Bip44Solana),be.literal(Ee.Bip44ChangeSolana),be.literal(Ee.DeprecatedSolana)]),EZe=be.literal(Ee.Bip44Sui);m();g();var SZe=be.union([be.literal(Ee.Bip44ChangeSolana),be.literal(Ee.Bip44Solana),be.literal(Ee.DeprecatedSolana)]),AZe=be.union([be.literal(Ee.Bip44Ethereum),be.literal(Ee.Bip44EthereumSecondary),be.literal(Ee.Bip44EthereumTertiary)]),IZe=be.union([be.literal(Ee.BitcoinTaproot),be.literal(Ee.BitcoinNativeSegwit),be.literal(Ee.BitcoinNestedSegwit),be.literal(Ee.BitcoinLegacy)]),TZe=be.literal(Ee.Bip44Sui),zI=be.number().int().min(0),RZe=be.object({pathType:be.literal(Ee.Bip44RootSolana),index:be.number().optional()}),OZe=be.object({pathType:SZe,index:zI}),NZe=be.object({pathType:be.literal(Ee.Bip44RootEthereum),index:be.number().optional()}),MZe=be.object({pathType:AZe,index:zI}),CZe=be.object({pathType:IZe,index:zI}),kZe=be.object({pathType:TZe,index:zI}),jme=be.union([RZe,OZe,NZe,MZe,CZe,kZe]),NE=new Error("Invalid derivation path."),zme=new Error("Unsupported derivation path."),BZe=o(t=>{if(!jme.safeParse(t).success)throw NE;switch(t.pathType){case Ee.BitcoinTaproot:return`m/86'/0'/0'/0/${t.index}`;case Ee.BitcoinNativeSegwit:return`m/84'/0'/0'/0/${t.index}`;case Ee.BitcoinNestedSegwit:return`m/46'/0'/0'/0/${t.index}`;case Ee.BitcoinLegacy:return`m/44'/0'/0'/0/${t.index}`;case Ee.Bip44RootEthereum:return"m/44'/60'";case Ee.Bip44Ethereum:return`m/44'/60'/0'/0/${t.index}`;case Ee.Bip44EthereumSecondary:return`m/44'/60'/1'/0/${t.index}`;case Ee.Bip44EthereumTertiary:return`m/44'/60'/2'/0/${t.index}`;case Ee.Bip44RootSolana:return"m/44'/501'";case Ee.DeprecatedSolana:return`m/501'/${t.index}'/0/0`;case Ee.Bip44Solana:return`m/44'/501'/${t.index}'`;case Ee.Bip44ChangeSolana:return`m/44'/501'/${t.index}'/0'`;case Ee.Bip44Sui:return`m/44'/784'/${t.index}'/0'/0'`}},"getDerivationPath"),Vme=1<<31>>>0,PZe=o(t=>{try{let e=t.replace("0x","").match(/.{1,2}/g)??[];if(e.length===0)throw NE;let r=parseInt(e[0],16),n="m";for(let i=0;i<r;i++){let s="";for(let l=0;l<4;l++)s+=e[1+i*4+l];let a=parseInt(s,16),c=a>=Vme;c&&(a-=Vme),n+=`/${a.toString(10)}${c?"'":""}`}return n}catch{throw NE}},"parseHexEncodedPayload"),LZe=o(t=>{let e,r=mF.safeParse(`m/${t.replace("m/","")}`);if(r.success)e=r.data;else try{e=PZe(t)}catch{throw NE}if(e==="m/44'/501'")return{pathType:Ee.Bip44RootSolana};if(e==="m/44'/60'")return{pathType:Ee.Bip44RootEthereum};let n=e.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinTaproot,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinNativeSegwit,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinNestedSegwit,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.BitcoinLegacy,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Ee.Bip44Ethereum,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:Ee.Bip44EthereumSecondary,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:Ee.Bip44EthereumTertiary,index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:Ee.Bip44ChangeSolana,index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:Ee.Bip44Solana,index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:Ee.DeprecatedSolana,index:parseInt(n[1],10)}}catch{}throw zme},"parseDerivationPath");m();g();var GHt=new Error("Unsupported path."),DZe=o(t=>{switch(t){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:return!0;case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.DeprecatedSolana:case Ee.Bip44Sui:return!1}},"isBitcoinDerivationPathType"),UZe=o(t=>{switch(t){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:return!1;case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:return!0;case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.DeprecatedSolana:case Ee.Bip44Sui:return!1}},"isEVMDerivationPathType"),FZe=o(t=>{switch(t){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:case Ee.Bip44Sui:return!1;case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.DeprecatedSolana:return!0}},"isSolanaDerivationPathType");Bh.sha512Sync=(...t)=>fd(Bh.concatBytes(...t));var{getPublicKey:HZe}=OI,ld=class{static{o(this,"CachedHDWallet")}#t;#e;constructor(e){this.#t={ellipticCurve:"ed25519",value:Dme(e),nodes:{}},this.#e={ellipticCurve:"secp256k1",value:Hme(e),nodes:{}}}derivePathType(e,r){switch(e){case Ee.BitcoinTaproot:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.BitcoinNativeSegwit:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.BitcoinNestedSegwit:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.BitcoinLegacy:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Ee.Bip44Ethereum:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case Ee.Bip44EthereumSecondary:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case Ee.Bip44EthereumTertiary:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case Ee.Bip44RootEthereum:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case Ee.Bip44ChangeSolana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case Ee.Bip44Solana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case Ee.DeprecatedSolana:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case Ee.Bip44RootSolana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case Ee.Bip44Sui:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(e){return e.ellipticCurve==="ed25519"?this.deriveED25519Path(e):e.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(e):xs(e)}deriveED25519Path(e){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:i}=e,s=n.split("/"),a=this.#t;for(let h of s){if(h==="m")continue;if(!a)throw new Error("Cannot derive path, no current node.");let y=a.nodes?.[h]??null;if(!y){let p={ellipticCurve:r,value:Ume(a.value,parseInt(h,10)+OE),nodes:{}};y=p,a.nodes[h]=p}a=y}if(!a)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=HZe(a.value.key),l;switch(i){case 32:return l=new Uint8Array(32),l.set(a.value.key),{publicKey:c,secretKey:l};case 64:return l=new Uint8Array(64),l.set(a.value.key),l.set(c,32),{publicKey:c,secretKey:l}}}deriveSECP256K1Path(e){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:i=!1}=e,s=n.split("/"),a=this.#e;for(let h of s){if(h==="m")continue;if(!a)throw new Error("Cannot derive path, no current node.");let y=a.nodes?.[h]??null;if(!y){let p=0;h.endsWith("'")&&(p=OE);let E={ellipticCurve:r,value:qme(a.value,parseInt(h,10)+p),nodes:{}};y=E,a.nodes[h]=E}a=y}if(!a)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=a.value.key;return{publicKey:Vx(c,i),secretKey:new Uint8Array(c)}}cleanUpTree(e){if(e){e.value.key.fill(0),e.value.chainCode.fill(0);let r=Object.values(e.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#t),this.cleanUpTree(this.#e),this.#t=null,this.#e=null}};var KI=class{static{o(this,"BitcoinLegacyAddressType")}type=We.BitcoinLegacy;displayName="Legacy";defaultDerivationPathType=Ee.BitcoinLegacy;otherDerivationPathType=[]};m();g();var GI=class{static{o(this,"BitcoinNativeSegwitAddressType")}type=We.BitcoinNativeSegwit;displayName="Native Segwit";defaultDerivationPathType=Ee.BitcoinNativeSegwit;otherDerivationPathType=[]};m();g();var $I=class{static{o(this,"BitcoinNestedSegwitAddressType")}type=We.BitcoinNestedSegwit;displayName="Nested Segwit";defaultDerivationPathType=Ee.BitcoinNestedSegwit;otherDerivationPathType=[]};m();g();var WI=class{static{o(this,"BitcoinTaprootAddressType")}type=We.BitcoinTaproot;displayName="Taproot";defaultDerivationPathType=Ee.BitcoinTaproot;otherDerivationPathType=[]};m();g();var YI=class{static{o(this,"EVMAddressType")}type=We.EVM;displayName="Ethereum";defaultDerivationPathType=Ee.Bip44Ethereum;otherDerivationPathType=[Ee.Bip44RootEthereum,Ee.Bip44EthereumSecondary,Ee.Bip44EthereumTertiary]};m();g();var XI=class{static{o(this,"SolanaAddressType")}type=We.Solana;displayName="Solana";defaultDerivationPathType=Ee.Bip44ChangeSolana;otherDerivationPathType=[Ee.Bip44RootSolana,Ee.Bip44Solana,Ee.DeprecatedSolana]};m();g();var ZI=class{static{o(this,"SuiAddressType")}type=We.Sui;displayName="Sui";defaultDerivationPathType=Ee.Bip44Sui;otherDerivationPathType=[]};var gF=class{static{o(this,"AddressTypesClass")}[We.BitcoinTaproot]=new WI;[We.BitcoinNativeSegwit]=new GI;[We.BitcoinNestedSegwit]=new $I;[We.BitcoinLegacy]=new KI;[We.EVM]=new YI;[We.Solana]=new XI;[We.Sui]=new ZI;allAddressTypes=Object.values(We);allAddressTypeDefinitions=this.allAddressTypes.map(e=>this[e]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(e=>{this.addressTypeByDerivationPathType[e.defaultDerivationPathType]=e.type,e.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=e.type})})}getAll(){return this.allAddressTypes}getDisplayName(e){return this[e].displayName}getAddressType(e){return this.addressTypeByDerivationPathType[e]}},Ry=new gF;m();g();function Kme(t){return Buffer.from(t).toString("base64")}o(Kme,"toBase64");m();g();m();g();m();g();m();g();var Gme="Do not return the plaintext from .fold(), convert it to something else inside the callback first.",Kf=class t{static{o(this,"ObfuscatedBytes")}#t;#e;constructor(e){let r=e.length,n=cF(r),i=$me(e,n);this.#e=n,this.#t=i}static from(e){return new t(e)}read=o(e=>{let r=JI(this.#t,this.#e);try{e(r)}finally{this.cleanup(r)}},"read");readAsync=o(async e=>{let r=JI(this.#t,this.#e);try{await e(r)}finally{this.cleanup(r)}},"readAsync");fold=o(e=>{let r=JI(this.#t,this.#e);try{let n=e(r);if(n===r)throw new Error(Gme);return n}finally{this.cleanup(r)}},"fold");foldAsync=o(async e=>{let r=JI(this.#t,this.#e);try{let n=await e(r);if(n===r)throw new Error(Gme);return n}finally{this.cleanup(r)}},"foldAsync");cleanup=o(e=>{let r=cF(e.length),n=$me(e,r);this.#e=r,this.#t=n,e.fill(0)},"cleanup")},$me=o((t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},"encrypt"),JI=o((t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},"decrypt");m();g();var VZe=o(t=>Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),"encodeBase64URL");m();g();m();g();var yF=/^[A-Za-z0-9-_]*$/;var bF=o(t=>{if(!t.match(yF))throw new Error("Invalid base64URL string");return Buffer.from(t.replace(/-/g,"+").replace(/_/g,"/"),"base64")},"decodeBase64URL");m();g();var Wme=Ze(Ru(),1);function jZe(t){let e=bF(t);return Wme.default.encode(e)}o(jZe,"base64URLToBase58");m();g();function zZe(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t}o(zZe,"strip0xPrefix");m();g();m();g();m();g();var QI=class{static{o(this,"KeypairGeneratorChainPluginBitcoin")}addressTypes=[We.BitcoinTaproot,We.BitcoinNativeSegwit,We.BitcoinNestedSegwit,We.BitcoinLegacy];generateKeypairFromPrivateKey(e){let r=e.fold(i=>Buffer.from(i));return{publicKey:Vx(r,!0),privateKey:r}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new ld(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};m();g();m();g();m();g();m();g();var Xme=Ze(Ta());m();g();var Yme="properties/5.7.0";var KZe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(p){a(p)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(p){a(p)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},eT=new Xme.Logger(Yme);function Ft(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}o(Ft,"defineReadOnly");function vjt(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}o(vjt,"getStatic");function Dh(t){return KZe(this,void 0,void 0,function*(){let e=Object.keys(t).map(n=>{let i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}o(Dh,"resolveProperties");function Zme(t,e){(!t||typeof t!="object")&&eT.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||eT.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}o(Zme,"checkProperties");function CE(t){let e={};for(let r in t)e[r]=t[r];return e}o(CE,"shallowCopy");var GZe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Jme(t){if(t==null||GZe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Jme(n))return!1}return!0}return eT.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}o(Jme,"_isFrozen");function $Ze(t){if(Jme(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>ME(e)));if(typeof t=="object"){let e={};for(let r in t){let n=t[r];n!==void 0&&Ft(e,r,ME(n))}return e}return eT.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}o($Ze,"_deepCopy");function ME(t){return $Ze(t)}o(ME,"deepCopy");var Fp=class{static{o(this,"Description")}constructor(e){for(let r in e)this[r]=ME(e[r])}};var tge=Ze(Ta());m();g();var Qme="abstract-provider/5.7.0";var WZe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(p){a(p)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(p){a(p)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},YZe=new tge.Logger(Qme),ege=class extends Fp{static{o(this,"ForkEvent")}static isForkEvent(e){return!!(e&&e._isForkEvent)}};var tT=class t{static{o(this,"Provider")}constructor(){YZe.checkAbstract(new.target,t),Ft(this,"_isProvider",!0)}getFeeData(){return WZe(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield Dh({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)}),n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=wn.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};m();g();var dd=Ze(Ta());m();g();var rge="abstract-signer/5.7.0";var Zu=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(p){a(p)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(p){a(p)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},Gf=new dd.Logger(rge),XZe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],ZZe=[dd.Logger.errors.INSUFFICIENT_FUNDS,dd.Logger.errors.NONCE_EXPIRED,dd.Logger.errors.REPLACEMENT_UNDERPRICED],kE=class t{static{o(this,"Signer")}constructor(){Gf.checkAbstract(new.target,t),Ft(this,"_isSigner",!0)}getBalance(e){return Zu(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Zu(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Zu(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield Dh(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Zu(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield Dh(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Zu(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Zu(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Zu(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Zu(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Zu(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)XZe.indexOf(n)===-1&&Gf.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=CE(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Gf.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Zu(this,void 0,void 0,function*(){let r=yield Dh(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Zu(this,void 0,void 0,function*(){if(i==null)return null;let s=yield this.resolveName(i);return s==null&&Gf.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Gf.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Gf.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Gf.throwError("network does not support EIP-1559",dd.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Gf.throwError("failed to get consistent fee data",dd.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(ZZe.indexOf(i.code)>=0)throw i;return Gf.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",dd.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Gf.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Dh(r)})}_checkProvider(e){this.provider||Gf.throwError("missing provider",dd.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},nge=class t extends kE{static{o(this,"VoidSigner")}constructor(e,r){super(),Ft(this,"address",e),Ft(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Gf.throwError(e,dd.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}};var el=Ze(cs());m();g();m();g();m();g();m();g();m();g();var JZe="0x0000000000000000000000000000000000000000";m();g();var QZe=wn.from(-1),xF=wn.from(0),eJe=wn.from(1);var tJe=wn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");m();g();var rJe="0x0000000000000000000000000000000000000000000000000000000000000000";m();g();var vF=Ze(cs()),oge=Ze(Ta());m();g();var ige="strings/5.7.0";var sge=new oge.Logger(ige),Ju;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Ju||(Ju={}));var gc;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(gc||(gc={}));function nJe(t,e,r,n,i){return sge.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}o(nJe,"errorFunc");function age(t,e,r,n,i){if(t===gc.BAD_PREFIX||t===gc.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)s++;return s}return t===gc.OVERRUN?r.length-e-1:0}o(age,"ignoreFunc");function iJe(t,e,r,n,i){return t===gc.OVERLONG?(n.push(i),0):(n.push(65533),age(t,e,r,n,i))}o(iJe,"replaceFunc");var cge=Object.freeze({error:nJe,ignore:age,replace:iJe});function fge(t,e){e==null&&(e=cge.error),t=(0,vF.arrayify)(t);let r=[],n=0;for(;n<t.length;){let i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(gc.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(gc.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(gc.OVERRUN,n-1,t,r);continue}let c=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let h=t[n];if((h&192)!=128){n+=e(gc.MISSING_CONTINUE,n,t,r),c=null;break}c=c<<6|h&63,n++}if(c!==null){if(c>1114111){n+=e(gc.OUT_OF_RANGE,n-1-s,t,r,c);continue}if(c>=55296&&c<=57343){n+=e(gc.UTF16_SURROGATE,n-1-s,t,r,c);continue}if(c<=a){n+=e(gc.OVERLONG,n-1-s,t,r,c);continue}r.push(c)}}return r}o(fge,"getUtf8CodePoints");function es(t,e=Ju.current){e!=Ju.current&&(sge.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");let a=65536+((i&1023)<<10)+(s&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return(0,vF.arrayify)(r)}o(es,"toUtf8Bytes");function oJe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}o(oJe,"_toUtf8String");function uge(t,e){return oJe(fge(t,e))}o(uge,"toUtf8String");function _F(t,e=Ju.current){return fge(es(t,e))}o(_F,"toUtf8CodePoints");function zx(t){return Rn(es(t))}o(zx,"id");m();g();var Kx=Ze(cs());var Sge=Ze(Ta());m();g();var rT="hash/5.7.0";m();g();m();g();m();g();m();g();var wF=Ze(cs());function EF(t){t=atob(t);let e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return(0,wF.arrayify)(e)}o(EF,"decode");function sJe(t){t=(0,wF.arrayify)(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}o(sJe,"encode");m();g();function dge(t,e){e==null&&(e=1);let r=[],n=r.forEach,i=o(function(s,a){n.call(s,function(c){a>0&&Array.isArray(c)?i(c,a-1):r.push(c)})},"flatDeep");return i(t,e),r}o(dge,"flat");function aJe(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n[0]]=n[1]}return e}o(aJe,"fromEntries");function cJe(t){let e=0;function r(){return t[e++]<<8|t[e++]}o(r,"u16");let n=r(),i=1,s=[0,1];for(let H=1;H<n;H++)s.push(i+=r());let a=r(),c=e;e+=a;let l=0,h=0;function y(){return l==0&&(h=h<<8|t[e++],l=8),h>>--l&1}o(y,"read_bit");let p=31,E=Math.pow(2,p),I=E>>>1,O=I>>1,N=E-1,k=0;for(let H=0;H<p;H++)k=k<<1|y();let C=[],L=0,M=E;for(;;){let H=Math.floor(((k-L+1)*i-1)/M),F=0,J=n;for(;J-F>1;){let S=F+J>>>1;H<s[S]?J=S:F=S}if(F==0)break;C.push(F);let W=L+Math.floor(M*s[F]/i),X=L+Math.floor(M*s[F+1]/i)-1;for(;!((W^X)&I);)k=k<<1&N|y(),W=W<<1&N,X=X<<1&N|1;for(;W&~X&O;)k=k&I|k<<1&N>>>1|y(),W=W<<1^I,X=(X^I)<<1|I|1;L=W,M=1+X-W}let P=n-4;return C.map(H=>{switch(H-P){case 3:return P+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return P+256+(t[c++]<<8|t[c++]);case 1:return P+t[c++];default:return H-1}})}o(cJe,"decode_arithmetic");function fJe(t){let e=0;return()=>t[e++]}o(fJe,"read_payload");function hge(t){return fJe(cJe(t))}o(hge,"read_compressed_payload");function uJe(t){return t&1?~t>>1:t>>1}o(uJe,"signed");function lJe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}o(lJe,"read_counts");function lge(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}o(lge,"read_ascending");function dJe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=uJe(e());return r}o(dJe,"read_deltas");function BE(t,e){let r=lge(t(),t),n=t(),i=lge(n,t),s=lJe(n,t);for(let a=0;a<n;a++)for(let c=0;c<s[a];c++)r.push(i[a]+c);return e?r.map(a=>e[a]):r}o(BE,"read_member_array");function pge(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(pJe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(mJe(r,t))}return aJe(dge(e))}o(pge,"read_mapped_map");function hJe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}o(hJe,"read_zero_terminated_array");function mge(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)dJe(t,r).forEach((s,a)=>n[a].push(s));return n}o(mge,"read_transposed");function pJe(t,e){let r=1+e(),n=e(),i=hJe(e),s=mge(i.length,1+t,e);return dge(s.map((a,c)=>{let l=a[0],h=a.slice(1);return Array(i[c]).fill(void 0).map((y,p)=>{let E=p*n;return[l+p*r,h.map(I=>I+E)]})}))}o(pJe,"read_linear_table");function mJe(t,e){let r=1+e();return mge(r,1+t,e).map(i=>[i[0],i.slice(1)])}o(mJe,"read_replacement_table");function gge(t){let e=BE(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let h=BE(t,e);if(h.length==0)break;n.push({set:new Set(h),node:r()})}n.sort((h,y)=>y.set.size-h.set.size);let i=t(),s=i%3;i=i/3|0;let a=!!(i&1);i>>=1;let c=i==1,l=i==2;return{branches:n,valid:s,fe0f:a,save:c,check:l}}}o(gge,"read_emoji_trie");function yge(){return hge(EF("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}o(yge,"getData");var nT=yge(),gJe=new Set(BE(nT)),yJe=new Set(BE(nT)),bJe=pge(nT),xJe=gge(nT),bge=45,xge=95;function vge(t){return _F(t)}o(vge,"explode_cp");function vJe(t){return t.filter(e=>e!=65039)}o(vJe,"filter_fe0f");function _ge(t){for(let e of t.split(".")){let r=vge(e);try{for(let n=r.lastIndexOf(xge)-1;n>=0;n--)if(r[n]!==xge)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===bge&&r[3]===bge)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}o(_ge,"ens_normalize_post_check");function wge(t){return _ge(_Je(t,vJe))}o(wge,"ens_normalize");function _Je(t,e){let r=vge(t).reverse(),n=[];for(;r.length;){let i=EJe(r);if(i){n.push(...e(i));continue}let s=r.pop();if(gJe.has(s)){n.push(s);continue}if(yJe.has(s))continue;let a=bJe[s];if(a){n.push(...a);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return _ge(wJe(String.fromCodePoint(...n)))}o(_Je,"normalize");function wJe(t){return t.normalize("NFC")}o(wJe,"nfc");function EJe(t,e){var r;let n=xJe,i,s,a=[],c=t.length;for(e&&(e.length=0);c;){let l=t[--c];if(n=(r=n.branches.find(h=>h.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;a.push(l),n.fe0f&&(a.push(65039),c>0&&t[c-1]==65039&&c--),n.valid&&(i=a.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(c).reverse()),t.length=c)}return i}o(EJe,"consume_emoji_reversed");var SJe=new Sge.Logger(rT),Age=new Uint8Array(32);Age.fill(0);function Ege(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}o(Ege,"checkComponent");function Ige(t){let e=es(wge(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Ege(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Ege(e.slice(n))),r}o(Ige,"ensNameSplit");function AJe(t){typeof t!="string"&&SJe.throwArgumentError("invalid ENS name; not a string","name",t);let e=Age,r=Ige(t);for(;r.length;)e=Rn((0,Kx.concat)([e,Rn(r.pop())]));return(0,Kx.hexlify)(e)}o(AJe,"namehash");function IJe(t){return(0,Kx.hexlify)((0,Kx.concat)(Ige(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}o(IJe,"dnsEncode");m();g();var Tge=Ze(cs());var Rge=`Ethereum Signed Message:
`;function SF(t){return typeof t=="string"&&(t=es(t)),Rn((0,Tge.concat)([es(Rge),es(String(t.length)),t]))}o(SF,"hashMessage");m();g();var Wi=Ze(cs());var Cge=Ze(Ta());var TJe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(p){a(p)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(p){a(p)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},Mi=new Cge.Logger(rT),kge=new Uint8Array(32);kge.fill(0);var RJe=wn.from(-1),Bge=wn.from(0),Pge=wn.from(1),OJe=wn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function NJe(t){let e=(0,Wi.arrayify)(t),r=e.length%32;return r?(0,Wi.hexConcat)([e,kge.slice(r)]):(0,Wi.hexlify)(e)}o(NJe,"hexPadRight");var MJe=(0,Wi.hexZeroPad)(Pge.toHexString(),32),CJe=(0,Wi.hexZeroPad)(Bge.toHexString(),32),Oge={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},AF=["name","version","chainId","verifyingContract","salt"];function Nge(t){return function(e){return typeof e!="string"&&Mi.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}o(Nge,"checkString");var kJe={name:Nge("name"),version:Nge("version"),chainId:o(function(t){try{return wn.from(t).toString()}catch{}return Mi.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},"chainId"),verifyingContract:o(function(t){try{return fs(t).toLowerCase()}catch{}return Mi.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},"verifyingContract"),salt:o(function(t){try{let e=(0,Wi.arrayify)(t);if(e.length!==32)throw new Error("bad length");return(0,Wi.hexlify)(e)}catch{}return Mi.throwArgumentError('invalid domain value "salt"',"domain.salt",t)},"salt")};function IF(t){{let e=t.match(/^(u?)int(\d*)$/);if(e){let r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Mi.throwArgumentError("invalid numeric width","type",t);let i=OJe.mask(r?n-1:n),s=r?i.add(Pge).mul(RJe):Bge;return function(a){let c=wn.from(a);return(c.lt(s)||c.gt(i))&&Mi.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),(0,Wi.hexZeroPad)(c.toTwos(256).toHexString(),32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Mi.throwArgumentError("invalid bytes width","type",t),function(n){return(0,Wi.arrayify)(n).length!==r&&Mi.throwArgumentError(`invalid length for ${t}`,"value",n),NJe(n)}}}switch(t){case"address":return function(e){return(0,Wi.hexZeroPad)(fs(e),32)};case"bool":return function(e){return e?MJe:CJe};case"bytes":return function(e){return Rn(e)};case"string":return function(e){return zx(e)}}return null}o(IF,"getBaseEncoder");function Mge(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}o(Mge,"encodeType");var Gx=class t{static{o(this,"TypedDataEncoder")}constructor(e){Ft(this,"types",Object.freeze(ME(e))),Ft(this,"_encoderCache",{}),Ft(this,"_types",{});let r={},n={},i={};Object.keys(e).forEach(c=>{r[c]={},n[c]=[],i[c]={}});for(let c in e){let l={};e[c].forEach(h=>{l[h.name]&&Mi.throwArgumentError(`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(c)}`,"types",e),l[h.name]=!0;let y=h.type.match(/^([^\x5b]*)(\x5b|$)/)[1];y===c&&Mi.throwArgumentError(`circular type reference to ${JSON.stringify(y)}`,"types",e),!IF(y)&&(n[y]||Mi.throwArgumentError(`unknown type ${JSON.stringify(y)}`,"types",e),n[y].push(c),r[c][y]=!0)})}let s=Object.keys(n).filter(c=>n[c].length===0);s.length===0?Mi.throwArgumentError("missing primary type","types",e):s.length>1&&Mi.throwArgumentError(`ambiguous primary types or unused types: ${s.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Ft(this,"primaryType",s[0]);function a(c,l){l[c]&&Mi.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),l[c]=!0,Object.keys(r[c]).forEach(h=>{n[h]&&(a(h,l),Object.keys(l).forEach(y=>{i[y][h]=!0}))}),delete l[c]}o(a,"checkCircular"),a(this.primaryType,{});for(let c in i){let l=Object.keys(i[c]);l.sort(),this._types[c]=Mge(c,e[c])+l.map(h=>Mge(h,e[h])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{let i=IF(e);if(i)return i}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let i=r[1],s=this.getEncoder(i),a=parseInt(r[3]);return c=>{a>=0&&c.length!==a&&Mi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",c);let l=c.map(s);return this._types[i]&&(l=l.map(Rn)),Rn((0,Wi.hexConcat)(l))}}let n=this.types[e];if(n){let i=zx(this._types[e]);return s=>{let a=n.map(({name:c,type:l})=>{let h=this.getEncoder(l)(s[c]);return this._types[l]?Rn(h):h});return a.unshift(i),(0,Wi.hexConcat)(a)}}return Mi.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let r=this._types[e];return r||Mi.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Rn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(IF(e))return n(e,r);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let a=i[1],c=parseInt(i[3]);return c>=0&&r.length!==c&&Mi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(a,l,n))}let s=this.types[e];return s?s.reduce((a,{name:c,type:l})=>(a[c]=this._visit(l,r[c],n),a),{}):Mi.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){let i=Oge[n];i||Mi.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>AF.indexOf(n.name)-AF.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return(0,Wi.hexConcat)(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return Rn(t.encode(e,r,n))}static resolveNames(e,r,n,i){return TJe(this,void 0,void 0,function*(){e=CE(e);let s={};e.verifyingContract&&!(0,Wi.isHexString)(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");let a=t.from(r);a.visit(n,(c,l)=>(c==="address"&&!(0,Wi.isHexString)(l,20)&&(s[l]="0x"),l));for(let c in s)s[c]=yield i(c);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(c,l)=>c==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){t.hashDomain(e);let i={},s=[];AF.forEach(l=>{let h=e[l];h!=null&&(i[l]=kJe[l](h),s.push({name:l,type:Oge[l]}))});let a=t.from(r),c=CE(r);return c.EIP712Domain?Mi.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):c.EIP712Domain=s,a.encode(n),{types:c,domain:i,primaryType:a.primaryType,message:a.visit(n,(l,h)=>{if(l.match(/^bytes(\d*)/))return(0,Wi.hexlify)((0,Wi.arrayify)(h));if(l.match(/^u?int/))return wn.from(h).toString();switch(l){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return typeof h!="string"&&Mi.throwArgumentError("invalid string","value",h),h}return Mi.throwArgumentError("unsupported type","type",l)})}}};m();g();m();g();var TF=Ze(cs());var iT=class{static{o(this,"BaseX")}constructor(e){Ft(this,"alphabet",e),Ft(this,"base",e.length),Ft(this,"_alphabetMap",{}),Ft(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=(0,TF.arrayify)(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let a=r[s];for(let c=0;c<n.length;++c)a+=n[c]<<8,n[c]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<r.length;++a)s+=r[a]*this.base,r[a]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return(0,TF.arrayify)(new Uint8Array(r.reverse()))}},LKt=new iT("abcdefghijklmnopqrstuvwxyz234567"),RF=new iT("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var nn=Ze(cs());m();g();m();g();var Hp=Ze(cs()),MF=Ze(NF());function Oy(t,e,r,n,i){t=(0,Hp.arrayify)(t),e=(0,Hp.arrayify)(e);let s,a=1,c=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let h,y;for(let p=1;p<=a;p++){l[e.length]=p>>24&255,l[e.length+1]=p>>16&255,l[e.length+2]=p>>8&255,l[e.length+3]=p&255;let E=(0,Hp.arrayify)((0,MF.computeHmac)(i,t,l));s||(s=E.length,y=new Uint8Array(s),a=Math.ceil(n/s),h=n-(a-1)*s),y.set(E);for(let N=1;N<r;N++){E=(0,Hp.arrayify)((0,MF.computeHmac)(i,t,E));for(let k=0;k<s;k++)y[k]^=E[k]}let I=(p-1)*s,O=p===a?h:s;c.set((0,Hp.arrayify)(y).slice(0,O),I)}return(0,Hp.hexlify)(c)}o(Oy,"pbkdf2");m();g();m();g();var lr=Ze(ob()),hd=Ze(Ex());function $x(t,e,r){return r={path:e,exports:{},require:o(function(n,i){return zJe(n,i??r.path)},"require")},t(r,r.exports),r.exports}o($x,"createCommonjsModule");function zJe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}o(zJe,"commonjsRequire");var PF=Hge;function Hge(t,e){if(!t)throw new Error(e||"Assertion failed")}o(Hge,"assert");Hge.equal=o(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual");var Qu=$x(function(t,e){"use strict";var r=e;function n(a,c){if(Array.isArray(a))return a.slice();if(!a)return[];var l=[];if(typeof a!="string"){for(var h=0;h<a.length;h++)l[h]=a[h]|0;return l}if(c==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var h=0;h<a.length;h+=2)l.push(parseInt(a[h]+a[h+1],16))}else for(var h=0;h<a.length;h++){var y=a.charCodeAt(h),p=y>>8,E=y&255;p?l.push(p,E):l.push(E)}return l}o(n,"toArray"),r.toArray=n;function i(a){return a.length===1?"0"+a:a}o(i,"zero2"),r.zero2=i;function s(a){for(var c="",l=0;l<a.length;l++)c+=i(a[l].toString(16));return c}o(s,"toHex"),r.toHex=s,r.encode=o(function(c,l){return l==="hex"?s(c):c},"encode")}),Qc=$x(function(t,e){"use strict";var r=e;r.assert=PF,r.toArray=Qu.toArray,r.zero2=Qu.zero2,r.toHex=Qu.toHex,r.encode=Qu.encode;function n(l,h,y){var p=new Array(Math.max(l.bitLength(),y)+1);p.fill(0);for(var E=1<<h+1,I=l.clone(),O=0;O<p.length;O++){var N,k=I.andln(E-1);I.isOdd()?(k>(E>>1)-1?N=(E>>1)-k:N=k,I.isubn(N)):N=0,p[O]=N,I.iushrn(1)}return p}o(n,"getNAF"),r.getNAF=n;function i(l,h){var y=[[],[]];l=l.clone(),h=h.clone();for(var p=0,E=0,I;l.cmpn(-p)>0||h.cmpn(-E)>0;){var O=l.andln(3)+p&3,N=h.andln(3)+E&3;O===3&&(O=-1),N===3&&(N=-1);var k;O&1?(I=l.andln(7)+p&7,(I===3||I===5)&&N===2?k=-O:k=O):k=0,y[0].push(k);var C;N&1?(I=h.andln(7)+E&7,(I===3||I===5)&&O===2?C=-N:C=N):C=0,y[1].push(C),2*p===k+1&&(p=1-p),2*E===C+1&&(E=1-E),l.iushrn(1),h.iushrn(1)}return y}o(i,"getJSF"),r.getJSF=i;function s(l,h,y){var p="_"+h;l.prototype[h]=o(function(){return this[p]!==void 0?this[p]:this[p]=y.call(this)},"cachedProperty")}o(s,"cachedProperty"),r.cachedProperty=s;function a(l){return typeof l=="string"?r.toArray(l,"hex"):l}o(a,"parseBytes"),r.parseBytes=a;function c(l){return new lr.default(l,"hex","le")}o(c,"intFromLE"),r.intFromLE=c}),fT=Qc.getNAF,KJe=Qc.getJSF,uT=Qc.assert;function Vp(t,e){this.type=t,this.p=new lr.default(e.p,16),this.red=e.prime?lr.default.red(e.prime):lr.default.mont(this.p),this.zero=new lr.default(0).toRed(this.red),this.one=new lr.default(1).toRed(this.red),this.two=new lr.default(2).toRed(this.red),this.n=e.n&&new lr.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}o(Vp,"BaseCurve");var Ny=Vp;Vp.prototype.point=o(function(){throw new Error("Not implemented")},"point");Vp.prototype.validate=o(function(){throw new Error("Not implemented")},"validate");Vp.prototype._fixedNafMul=o(function(e,r){uT(e.precomputed);var n=e._getDoubles(),i=fT(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],c,l;for(c=0;c<i.length;c+=n.step){l=0;for(var h=c+n.step-1;h>=c;h--)l=(l<<1)+i[h];a.push(l)}for(var y=this.jpoint(null,null,null),p=this.jpoint(null,null,null),E=s;E>0;E--){for(c=0;c<a.length;c++)l=a[c],l===E?p=p.mixedAdd(n.points[c]):l===-E&&(p=p.mixedAdd(n.points[c].neg()));y=y.add(p)}return y.toP()},"_fixedNafMul");Vp.prototype._wnafMul=o(function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=fT(r,n,this._bitLength),c=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var h=0;l>=0&&a[l]===0;l--)h++;if(l>=0&&h++,c=c.dblp(h),l<0)break;var y=a[l];uT(y!==0),e.type==="affine"?y>0?c=c.mixedAdd(s[y-1>>1]):c=c.mixedAdd(s[-y-1>>1].neg()):y>0?c=c.add(s[y-1>>1]):c=c.add(s[-y-1>>1].neg())}return e.type==="affine"?c.toP():c},"_wnafMul");Vp.prototype._wnafMulAdd=o(function(e,r,n,i,s){var a=this._wnafT1,c=this._wnafT2,l=this._wnafT3,h=0,y,p,E;for(y=0;y<i;y++){E=r[y];var I=E._getNAFPoints(e);a[y]=I.wnd,c[y]=I.points}for(y=i-1;y>=1;y-=2){var O=y-1,N=y;if(a[O]!==1||a[N]!==1){l[O]=fT(n[O],a[O],this._bitLength),l[N]=fT(n[N],a[N],this._bitLength),h=Math.max(l[O].length,h),h=Math.max(l[N].length,h);continue}var k=[r[O],null,null,r[N]];r[O].y.cmp(r[N].y)===0?(k[1]=r[O].add(r[N]),k[2]=r[O].toJ().mixedAdd(r[N].neg())):r[O].y.cmp(r[N].y.redNeg())===0?(k[1]=r[O].toJ().mixedAdd(r[N]),k[2]=r[O].add(r[N].neg())):(k[1]=r[O].toJ().mixedAdd(r[N]),k[2]=r[O].toJ().mixedAdd(r[N].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],L=KJe(n[O],n[N]);for(h=Math.max(L[0].length,h),l[O]=new Array(h),l[N]=new Array(h),p=0;p<h;p++){var M=L[0][p]|0,P=L[1][p]|0;l[O][p]=C[(M+1)*3+(P+1)],l[N][p]=0,c[O]=k}}var H=this.jpoint(null,null,null),F=this._wnafT4;for(y=h;y>=0;y--){for(var J=0;y>=0;){var W=!0;for(p=0;p<i;p++)F[p]=l[p][y]|0,F[p]!==0&&(W=!1);if(!W)break;J++,y--}if(y>=0&&J++,H=H.dblp(J),y<0)break;for(p=0;p<i;p++){var X=F[p];X!==0&&(X>0?E=c[p][X-1>>1]:X<0&&(E=c[p][-X-1>>1].neg()),E.type==="affine"?H=H.mixedAdd(E):H=H.add(E))}}for(y=0;y<i;y++)c[y]=null;return s?H:H.toP()},"_wnafMulAdd");function Xf(t,e){this.curve=t,this.type=e,this.precomputed=null}o(Xf,"BasePoint");Vp.BasePoint=Xf;Xf.prototype.eq=o(function(){throw new Error("Not implemented")},"eq");Xf.prototype.validate=o(function(){return this.curve.validate(this)},"validate");Vp.prototype.decodePoint=o(function(e,r){e=Qc.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?uT(e[e.length-1]%2===0):e[0]===7&&uT(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},"decodePoint");Xf.prototype.encodeCompressed=o(function(e){return this.encode(e,!0)},"encodeCompressed");Xf.prototype._encode=o(function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");Xf.prototype.encode=o(function(e,r){return Qc.encode(this._encode(r),e)},"encode");Xf.prototype.precompute=o(function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");Xf.prototype._hasDoubles=o(function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},"_hasDoubles");Xf.prototype._getDoubles=o(function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},"_getDoubles");Xf.prototype._getNAFPoints=o(function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},"_getNAFPoints");Xf.prototype._getBeta=o(function(){return null},"_getBeta");Xf.prototype.dblp=o(function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r},"dblp");var LF=$x(function(t){typeof Object.create=="function"?t.exports=o(function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):t.exports=o(function(r,n){if(n){r.super_=n;var i=o(function(){},"TempCtor");i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},"inherits")}),GJe=Qc.assert;function Zf(t){Ny.call(this,"short",t),this.a=new lr.default(t.a,16).toRed(this.red),this.b=new lr.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(Zf,"ShortCurve");LF(Zf,Ny);var $Je=Zf;Zf.prototype._getEndomorphism=o(function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new lr.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new lr.default(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],GJe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(c){return{a:new lr.default(c.a,16),b:new lr.default(c.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},"_getEndomorphism");Zf.prototype._getEndoRoots=o(function(e){var r=e===this.p?this.red:lr.default.mont(e),n=new lr.default(2).toRed(r).redInvm(),i=n.redNeg(),s=new lr.default(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),c=i.redSub(s).fromRed();return[a,c]},"_getEndoRoots");Zf.prototype._getEndoBasis=o(function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new lr.default(1),a=new lr.default(0),c=new lr.default(0),l=new lr.default(1),h,y,p,E,I,O,N,k=0,C,L;n.cmpn(0)!==0;){var M=i.div(n);C=i.sub(M.mul(n)),L=c.sub(M.mul(s));var P=l.sub(M.mul(a));if(!p&&C.cmp(r)<0)h=N.neg(),y=s,p=C.neg(),E=L;else if(p&&++k===2)break;N=C,i=n,n=C,c=s,s=L,l=a,a=P}I=C.neg(),O=L;var H=p.sqr().add(E.sqr()),F=I.sqr().add(O.sqr());return F.cmp(H)>=0&&(I=h,O=y),p.negative&&(p=p.neg(),E=E.neg()),I.negative&&(I=I.neg(),O=O.neg()),[{a:p,b:E},{a:I,b:O}]},"_getEndoBasis");Zf.prototype._endoSplit=o(function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),c=s.mul(n.a),l=a.mul(i.a),h=s.mul(n.b),y=a.mul(i.b),p=e.sub(c).sub(l),E=h.add(y).neg();return{k1:p,k2:E}},"_endoSplit");Zf.prototype.pointFromX=o(function(e,r){e=new lr.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},"pointFromX");Zf.prototype.validate=o(function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");Zf.prototype._endoWnafMulAdd=o(function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var c=this._endoSplit(r[a]),l=e[a],h=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),h=h.neg(!0)),i[a*2]=l,i[a*2+1]=h,s[a*2]=c.k1,s[a*2+1]=c.k2}for(var y=this._wnafMulAdd(1,i,s,a*2,n),p=0;p<a*2;p++)i[p]=null,s[p]=null;return y},"_endoWnafMulAdd");function ts(t,e,r,n){Ny.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new lr.default(e,16),this.y=new lr.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(ts,"Point");LF(ts,Ny.BasePoint);Zf.prototype.point=o(function(e,r,n){return new ts(this,e,r,n)},"point");Zf.prototype.pointFromJSON=o(function(e,r){return ts.fromJSON(this,e,r)},"pointFromJSON");ts.prototype._getBeta=o(function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=o(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},"_getBeta");ts.prototype.toJSON=o(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");ts.fromJSON=o(function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(c){return e.point(c[0],c[1],n)}o(s,"obj2point");var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},"fromJSON");ts.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");ts.prototype.isInfinity=o(function(){return this.inf},"isInfinity");ts.prototype.add=o(function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");ts.prototype.dbl=o(function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,c)},"dbl");ts.prototype.getX=o(function(){return this.x.fromRed()},"getX");ts.prototype.getY=o(function(){return this.y.fromRed()},"getY");ts.prototype.mul=o(function(e){return e=new lr.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},"mul");ts.prototype.mulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");ts.prototype.jmulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");ts.prototype.eq=o(function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},"eq");ts.prototype.neg=o(function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=o(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");ts.prototype.toJ=o(function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},"toJ");function vs(t,e,r,n){Ny.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new lr.default(0)):(this.x=new lr.default(e,16),this.y=new lr.default(r,16),this.z=new lr.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(vs,"JPoint");LF(vs,Ny.BasePoint);Zf.prototype.jpoint=o(function(e,r,n){return new vs(this,e,r,n)},"jpoint");vs.prototype.toP=o(function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},"toP");vs.prototype.neg=o(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");vs.prototype.add=o(function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),h=a.redSub(c);if(l.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=l.redSqr(),p=y.redMul(l),E=i.redMul(y),I=h.redSqr().redIAdd(p).redISub(E).redISub(E),O=h.redMul(E.redISub(I)).redISub(a.redMul(p)),N=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(I,O,N)},"add");vs.prototype.mixedAdd=o(function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),c=n.redSub(i),l=s.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=c.redSqr(),y=h.redMul(c),p=n.redMul(h),E=l.redSqr().redIAdd(y).redISub(p).redISub(p),I=l.redMul(p.redISub(E)).redISub(s.redMul(y)),O=this.z.redMul(c);return this.curve.jpoint(E,I,O)},"mixedAdd");vs.prototype.dblp=o(function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,c=this.y,l=this.z,h=l.redSqr().redSqr(),y=c.redAdd(c);for(r=0;r<e;r++){var p=a.redSqr(),E=y.redSqr(),I=E.redSqr(),O=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(h)),N=a.redMul(E),k=O.redSqr().redISub(N.redAdd(N)),C=N.redISub(k),L=O.redMul(C);L=L.redIAdd(L).redISub(I);var M=y.redMul(l);r+1<e&&(h=h.redMul(I)),a=k,l=M,y=L}return this.curve.jpoint(a,y.redMul(s),l)},"dblp");vs.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");vs.prototype._zeroDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i),h=l.redSqr().redISub(c).redISub(c),y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),e=h,r=l.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),E=this.y.redSqr(),I=E.redSqr(),O=this.x.redAdd(E).redSqr().redISub(p).redISub(I);O=O.redIAdd(O);var N=p.redAdd(p).redIAdd(p),k=N.redSqr(),C=I.redIAdd(I);C=C.redIAdd(C),C=C.redIAdd(C),e=k.redISub(O).redISub(O),r=N.redMul(O.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},"_zeroDbl");vs.prototype._threeDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=l.redSqr().redISub(c).redISub(c);e=h;var y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),r=l.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),E=this.y.redSqr(),I=this.x.redMul(E),O=this.x.redSub(p).redMul(this.x.redAdd(p));O=O.redAdd(O).redIAdd(O);var N=I.redIAdd(I);N=N.redIAdd(N);var k=N.redAdd(N);e=O.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(p);var C=E.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=O.redMul(N.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)},"_threeDbl");vs.prototype._dbl=o(function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),c=n.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),h=r.redAdd(r);h=h.redIAdd(h);var y=h.redMul(c),p=l.redSqr().redISub(y.redAdd(y)),E=y.redISub(p),I=c.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var O=l.redMul(E).redISub(I),N=n.redAdd(n).redMul(i);return this.curve.jpoint(p,O,N)},"_dbl");vs.prototype.trpl=o(function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(a);var l=c.redSqr(),h=i.redIAdd(i);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=s.redIAdd(c).redSqr().redISub(a).redISub(l).redISub(h),p=r.redMul(y);p=p.redIAdd(p),p=p.redIAdd(p);var E=this.x.redMul(l).redISub(p);E=E.redIAdd(E),E=E.redIAdd(E);var I=this.y.redMul(y.redMul(h.redISub(y)).redISub(c.redMul(l)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var O=this.z.redAdd(c).redSqr().redISub(n).redISub(l);return this.curve.jpoint(E,I,O)},"trpl");vs.prototype.mul=o(function(e,r){return e=new lr.default(e,r),this.curve._wnafMul(this,e)},"mul");vs.prototype.eq=o(function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},"eq");vs.prototype.eqXToP=o(function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");vs.prototype.inspect=o(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");vs.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity");var aT=$x(function(t,e){"use strict";var r=e;r.base=Ny,r.short=$Je,r.mont=null,r.edwards=null}),cT=$x(function(t,e){"use strict";var r=e,n=Qc.assert;function i(c){c.type==="short"?this.curve=new aT.short(c):c.type==="edwards"?this.curve=new aT.edwards(c):this.curve=new aT.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o(i,"PresetCurve"),r.PresetCurve=i;function s(c,l){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:o(function(){var h=new i(l);return Object.defineProperty(r,c,{configurable:!0,enumerable:!0,value:h}),h},"get")})}o(s,"defineCurve"),s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hd.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hd.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hd.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hd.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hd.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hd.default.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hd.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hd.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function qp(t){if(!(this instanceof qp))return new qp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Qu.toArray(t.entropy,t.entropyEnc||"hex"),r=Qu.toArray(t.nonce,t.nonceEnc||"hex"),n=Qu.toArray(t.pers,t.persEnc||"hex");PF(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}o(qp,"HmacDRBG");var qge=qp;qp.prototype._init=o(function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");qp.prototype._hmac=o(function(){return new hd.default.hmac(this.hash,this.K)},"hmac");qp.prototype._update=o(function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},"update");qp.prototype.reseed=o(function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Qu.toArray(e,r),n=Qu.toArray(n,i),PF(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},"reseed");qp.prototype.generate=o(function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Qu.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,Qu.encode(a,r)},"generate");var BF=Qc.assert;function aa(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}o(aa,"KeyPair");var DF=aa;aa.fromPublic=o(function(e,r,n){return r instanceof aa?r:new aa(e,{pub:r,pubEnc:n})},"fromPublic");aa.fromPrivate=o(function(e,r,n){return r instanceof aa?r:new aa(e,{priv:r,privEnc:n})},"fromPrivate");aa.prototype.validate=o(function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");aa.prototype.getPublic=o(function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},"getPublic");aa.prototype.getPrivate=o(function(e){return e==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");aa.prototype._importPrivate=o(function(e,r){this.priv=new lr.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");aa.prototype._importPublic=o(function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?BF(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&BF(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},"_importPublic");aa.prototype.derive=o(function(e){return e.validate()||BF(e.validate(),"public point not validated"),e.mul(this.priv).getX()},"derive");aa.prototype.sign=o(function(e,r,n){return this.ec.sign(e,this,r,n)},"sign");aa.prototype.verify=o(function(e,r){return this.ec.verify(e,r,this)},"verify");aa.prototype.inspect=o(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect");var WJe=Qc.assert;function lT(t,e){if(t instanceof lT)return t;this._importDER(t,e)||(WJe(t.r&&t.s,"Signature without r or s"),this.r=new lr.default(t.r,16),this.s=new lr.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}o(lT,"Signature");var dT=lT;function YJe(){this.place=0}o(YJe,"Position");function CF(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}o(CF,"getLength");function Fge(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}o(Fge,"rmPadding");lT.prototype._importDER=o(function(e,r){e=Qc.toArray(e,r);var n=new YJe;if(e[n.place++]!==48)return!1;var i=CF(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=CF(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var c=CF(e,n);if(c===!1||e.length!==c+n.place)return!1;var l=e.slice(n.place,c+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new lr.default(a),this.s=new lr.default(l),this.recoveryParam=null,!0},"_importDER");function kF(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}o(kF,"constructLength");lT.prototype.toDER=o(function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Fge(r),n=Fge(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];kF(i,r.length),i=i.concat(r),i.push(2),kF(i,n.length);var s=i.concat(n),a=[48];return kF(a,s.length),a=a.concat(s),Qc.encode(a,e)},"toDER");var XJe=o(function(){throw new Error("unsupported")},"rand"),Vge=Qc.assert;function Yf(t){if(!(this instanceof Yf))return new Yf(t);typeof t=="string"&&(Vge(Object.prototype.hasOwnProperty.call(cT,t),"Unknown curve "+t),t=cT[t]),t instanceof cT.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}o(Yf,"EC");var ZJe=Yf;Yf.prototype.keyPair=o(function(e){return new DF(this,e)},"keyPair");Yf.prototype.keyFromPrivate=o(function(e,r){return DF.fromPrivate(this,e,r)},"keyFromPrivate");Yf.prototype.keyFromPublic=o(function(e,r){return DF.fromPublic(this,e,r)},"keyFromPublic");Yf.prototype.genKeyPair=o(function(e){e||(e={});for(var r=new qge({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||XJe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new lr.default(2));;){var s=new lr.default(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");Yf.prototype._truncateToN=o(function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},"_truncateToN");Yf.prototype.sign=o(function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new lr.default(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),c=e.toArray("be",s),l=new qge({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new lr.default(1)),y=0;;y++){var p=i.k?i.k(y):new lr.default(l.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(h)>=0)){var E=this.g.mul(p);if(!E.isInfinity()){var I=E.getX(),O=I.umod(this.n);if(O.cmpn(0)!==0){var N=p.invm(this.n).mul(O.mul(r.getPrivate()).iadd(e));if(N=N.umod(this.n),N.cmpn(0)!==0){var k=(E.getY().isOdd()?1:0)|(I.cmp(O)!==0?2:0);return i.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),k^=1),new dT({r:O,s:N,recoveryParam:k})}}}}}},"sign");Yf.prototype.verify=o(function(e,r,n,i){e=this._truncateToN(new lr.default(e,16)),n=this.keyFromPublic(n,i),r=new dT(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),h=c.mul(s).umod(this.n),y;return this.curve._maxwellTrick?(y=this.g.jmulAdd(l,n.getPublic(),h),y.isInfinity()?!1:y.eqXToP(s)):(y=this.g.mulAdd(l,n.getPublic(),h),y.isInfinity()?!1:y.getX().umod(this.n).cmp(s)===0)},"verify");Yf.prototype.recoverPubKey=function(t,e,r,n){Vge((3&r)===r,"The recovery param is more than two bits"),e=new dT(e,n);var i=this.n,s=new lr.default(t),a=e.r,c=e.s,l=r&1,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?a=this.curve.pointFromX(a.add(this.curve.n),l):a=this.curve.pointFromX(a,l);var y=e.r.invm(i),p=i.sub(s).mul(y).umod(i),E=c.mul(y).umod(i);return this.g.mulAdd(p,a,E)};Yf.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new dT(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var JJe=$x(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=Qc,r.rand=function(){throw new Error("unsupported")},r.curve=aT,r.curves=cT,r.ec=ZJe,r.eddsa=null}),jge=JJe.ec;var hi=Ze(cs());var Kge=Ze(Ta());m();g();var zge="signing-key/5.7.0";var FF=new Kge.Logger(zge),UF=null;function pd(){return UF||(UF=new jge("secp256k1")),UF}o(pd,"getCurve");var md=class{static{o(this,"SigningKey")}constructor(e){Ft(this,"curve","secp256k1"),Ft(this,"privateKey",(0,hi.hexlify)(e)),(0,hi.hexDataLength)(this.privateKey)!==32&&FF.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=pd().keyFromPrivate((0,hi.arrayify)(this.privateKey));Ft(this,"publicKey","0x"+r.getPublic(!1,"hex")),Ft(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Ft(this,"_isSigningKey",!0)}_addPoint(e){let r=pd().keyFromPublic((0,hi.arrayify)(this.publicKey)),n=pd().keyFromPublic((0,hi.arrayify)(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=pd().keyFromPrivate((0,hi.arrayify)(this.privateKey)),n=(0,hi.arrayify)(e);n.length!==32&&FF.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return(0,hi.splitSignature)({recoveryParam:i.recoveryParam,r:(0,hi.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,hi.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=pd().keyFromPrivate((0,hi.arrayify)(this.privateKey)),n=pd().keyFromPublic((0,hi.arrayify)(HF(e)));return(0,hi.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function Gge(t,e){let r=(0,hi.splitSignature)(e),n={r:(0,hi.arrayify)(r.r),s:(0,hi.arrayify)(r.s)};return"0x"+pd().recoverPubKey((0,hi.arrayify)(t),n,r.recoveryParam).encode("hex",!1)}o(Gge,"recoverPublicKey");function HF(t,e){let r=(0,hi.arrayify)(t);if(r.length===32){let n=new md(r);return e?"0x"+pd().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?(0,hi.hexlify)(r):"0x"+pd().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+pd().keyFromPublic(r).getPublic(!0,"hex"):(0,hi.hexlify)(r)}return FF.throwArgumentError("invalid public or private key","key","[REDACTED]")}o(HF,"computePublicKey");var yc=Ze(NF());m();g();var ar=Ze(cs());var hT=Ze(Ta());m();g();var $ge="transactions/5.7.0";var fa=new hT.Logger($ge),Wge;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Wge||(Wge={}));function VF(t){return t==="0x"?null:fs(t)}o(VF,"handleAddress");function ca(t){return t==="0x"?xF:wn.from(t)}o(ca,"handleNumber");var QJe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],eQe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function gd(t){let e=HF(t);return fs((0,ar.hexDataSlice)(Rn((0,ar.hexDataSlice)(e,1)),12))}o(gd,"computeAddress");function jF(t,e){return gd(Gge((0,ar.arrayify)(t),e))}o(jF,"recoverAddress");function ef(t,e){let r=(0,ar.stripZeros)(wn.from(t).toHexString());return r.length>32&&fa.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}o(ef,"formatNumber");function qF(t,e){return{address:fs(t),storageKeys:(e||[]).map((r,n)=>((0,ar.hexDataLength)(r)!==32&&fa.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}o(qF,"accessSetify");function zF(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&fa.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),qF(r[0],r[1])):qF(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return qF(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}o(zF,"accessListify");function Yge(t){return zF(t).map(e=>[e.address,e.storageKeys])}o(Yge,"formatAccessList");function Xge(t,e){if(t.gasPrice!=null){let n=wn.from(t.gasPrice),i=wn.from(t.maxFeePerGas||0);n.eq(i)||fa.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}let r=[ef(t.chainId||0,"chainId"),ef(t.nonce||0,"nonce"),ef(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ef(t.maxFeePerGas||0,"maxFeePerGas"),ef(t.gasLimit||0,"gasLimit"),t.to!=null?fs(t.to):"0x",ef(t.value||0,"value"),t.data||"0x",Yge(t.accessList||[])];if(e){let n=(0,ar.splitSignature)(e);r.push(ef(n.recoveryParam,"recoveryParam")),r.push((0,ar.stripZeros)(n.r)),r.push((0,ar.stripZeros)(n.s))}return(0,ar.hexConcat)(["0x02",sb(r)])}o(Xge,"_serializeEip1559");function Zge(t,e){let r=[ef(t.chainId||0,"chainId"),ef(t.nonce||0,"nonce"),ef(t.gasPrice||0,"gasPrice"),ef(t.gasLimit||0,"gasLimit"),t.to!=null?fs(t.to):"0x",ef(t.value||0,"value"),t.data||"0x",Yge(t.accessList||[])];if(e){let n=(0,ar.splitSignature)(e);r.push(ef(n.recoveryParam,"recoveryParam")),r.push((0,ar.stripZeros)(n.r)),r.push((0,ar.stripZeros)(n.s))}return(0,ar.hexConcat)(["0x01",sb(r)])}o(Zge,"_serializeEip2930");function tQe(t,e){Zme(t,eQe);let r=[];QJe.forEach(function(a){let c=t[a.name]||[],l={};a.numeric&&(l.hexPad="left"),c=(0,ar.arrayify)((0,ar.hexlify)(c,l)),a.length&&c.length!==a.length&&c.length>0&&fa.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,c),a.maxLength&&(c=(0,ar.stripZeros)(c),c.length>a.maxLength&&fa.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,c)),r.push((0,ar.hexlify)(c))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&fa.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!(0,ar.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push((0,ar.hexlify)(n)),r.push("0x"),r.push("0x")),!e)return sb(r);let i=(0,ar.splitSignature)(e),s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&fa.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&fa.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push((0,ar.hexlify)(s)),r.push((0,ar.stripZeros)((0,ar.arrayify)(i.r))),r.push((0,ar.stripZeros)((0,ar.arrayify)(i.s))),sb(r)}o(tQe,"_serialize");function KF(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&fa.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),tQe(t,e);switch(t.type){case 1:return Zge(t,e);case 2:return Xge(t,e);default:break}return fa.throwError(`unsupported transaction type: ${t.type}`,hT.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}o(KF,"serialize");function Jge(t,e,r){try{let n=ca(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{fa.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=(0,ar.hexZeroPad)(e[1],32),t.s=(0,ar.hexZeroPad)(e[2],32);try{let n=Rn(r(t));t.from=jF(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}o(Jge,"_parseEipSignature");function rQe(t){let e=D6(t.slice(1));e.length!==9&&e.length!==12&&fa.throwArgumentError("invalid component count for transaction type: 2","payload",(0,ar.hexlify)(t));let r=ca(e[2]),n=ca(e[3]),i={type:2,chainId:ca(e[0]).toNumber(),nonce:ca(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ca(e[4]),to:VF(e[5]),value:ca(e[6]),data:e[7],accessList:zF(e[8])};return e.length===9||(i.hash=Rn(t),Jge(i,e.slice(9),Xge)),i}o(rQe,"_parseEip1559");function nQe(t){let e=D6(t.slice(1));e.length!==8&&e.length!==11&&fa.throwArgumentError("invalid component count for transaction type: 1","payload",(0,ar.hexlify)(t));let r={type:1,chainId:ca(e[0]).toNumber(),nonce:ca(e[1]).toNumber(),gasPrice:ca(e[2]),gasLimit:ca(e[3]),to:VF(e[4]),value:ca(e[5]),data:e[6],accessList:zF(e[7])};return e.length===8||(r.hash=Rn(t),Jge(r,e.slice(8),Zge)),r}o(nQe,"_parseEip2930");function iQe(t){let e=D6(t);e.length!==9&&e.length!==6&&fa.throwArgumentError("invalid raw transaction","rawTransaction",t);let r={nonce:ca(e[0]).toNumber(),gasPrice:ca(e[1]),gasLimit:ca(e[2]),to:VF(e[3]),value:ca(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=wn.from(e[6]).toNumber()}catch{return r}if(r.r=(0,ar.hexZeroPad)(e[7],32),r.s=(0,ar.hexZeroPad)(e[8],32),wn.from(r.r).isZero()&&wn.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=e.slice(0,6);r.chainId!==0&&(i.push((0,ar.hexlify)(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);let s=Rn(sb(i));try{r.from=jF(s,{r:(0,ar.hexlify)(r.r),s:(0,ar.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=Rn(t)}return r.type=null,r}o(iQe,"_parse");function BGt(t){let e=(0,ar.arrayify)(t);if(e[0]>127)return iQe(e);switch(e[0]){case 1:return nQe(e);case 2:return rQe(e);default:break}return fa.throwError(`unsupported transaction type: ${e[0]}`,hT.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}o(BGt,"parse");m();g();m();g();var eye=Ze(Ta());m();g();var Qge="wordlists/5.7.0";var oQe=!1,sQe=new eye.Logger(Qge),Wx=class t{static{o(this,"Wordlist")}constructor(e){sQe.checkAbstract(new.target,t),Ft(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return zx(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),oQe)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||Ft(n._ethers.wordlists,r,e))}catch{}}};m();g();m();g();var aQe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",UE=null;function tye(t){if(UE==null&&(UE=aQe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Wx.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw UE=null,new Error("BIP39 Wordlist for en (English) FAILED")}o(tye,"loadWords");var GF=class extends Wx{static{o(this,"LangEn")}constructor(){super("en")}getWord(e){return tye(this),UE[e]}getWordIndex(e){return tye(this),UE.indexOf(e)}},$F=new GF;Wx.register($F);var pT={en:$F};var iye=Ze(Ta());m();g();var rye="hdnode/5.7.0";var gT=new iye.Logger(rye),cQe=wn.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),fQe=es("Bitcoin seed"),FE=2147483648;function oye(t){return(1<<t)-1<<8-t}o(oye,"getUpperMask");function uQe(t){return(1<<t)-1}o(uQe,"getLowerMask");function mT(t){return(0,nn.hexZeroPad)((0,nn.hexlify)(t),32)}o(mT,"bytes32");function nye(t){return RF.encode((0,nn.concat)([t,(0,nn.hexDataSlice)((0,yc.sha256)((0,yc.sha256)(t)),0,4)]))}o(nye,"base58check");function WF(t){if(t==null)return pT.en;if(typeof t=="string"){let e=pT[t];return e==null&&gT.throwArgumentError("unknown locale","wordlist",t),e}return t}o(WF,"getWordlist");var Yx={},My="m/44'/60'/0'/0/0",jp=class t{static{o(this,"HDNode")}constructor(e,r,n,i,s,a,c,l){if(e!==Yx)throw new Error("HDNode constructor cannot be called directly");if(r){let h=new md(r);Ft(this,"privateKey",h.privateKey),Ft(this,"publicKey",h.compressedPublicKey)}else Ft(this,"privateKey",null),Ft(this,"publicKey",(0,nn.hexlify)(n));Ft(this,"parentFingerprint",i),Ft(this,"fingerprint",(0,nn.hexDataSlice)((0,yc.ripemd160)((0,yc.sha256)(this.publicKey)),0,4)),Ft(this,"address",gd(this.publicKey)),Ft(this,"chainCode",s),Ft(this,"index",a),Ft(this,"depth",c),l==null?(Ft(this,"mnemonic",null),Ft(this,"path",null)):typeof l=="string"?(Ft(this,"mnemonic",null),Ft(this,"path",l)):(Ft(this,"mnemonic",l),Ft(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return nye((0,nn.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,nn.hexlify)(this.depth),this.parentFingerprint,(0,nn.hexZeroPad)((0,nn.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,nn.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t(Yx,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~FE));let n=new Uint8Array(37);if(e&FE){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,nn.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,nn.arrayify)(this.publicKey));for(let p=24;p>=0;p-=8)n[33+(p>>3)]=e>>24-p&255;let i=(0,nn.arrayify)((0,yc.computeHmac)(yc.SupportedAlgorithm.sha512,this.chainCode,n)),s=i.slice(0,32),a=i.slice(32),c=null,l=null;this.privateKey?c=mT(wn.from(s).add(this.privateKey).mod(cQe)):l=new md((0,nn.hexlify)(s))._addPoint(this.publicKey);let h=r,y=this.mnemonic;return y&&(h=Object.freeze({phrase:y.phrase,path:r,locale:y.locale||"en"})),new t(Yx,c,l,this.fingerprint,mT(a),e,this.depth+1,h)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){let s=r[i];if(s.match(/^[0-9]+'$/)){let a=parseInt(s.substring(0,s.length-1));if(a>=FE)throw new Error("invalid path index - "+s);n=n._derive(FE+a)}else if(s.match(/^[0-9]+$/)){let a=parseInt(s);if(a>=FE)throw new Error("invalid path index - "+s);n=n._derive(a)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){let n=(0,nn.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let i=(0,nn.arrayify)((0,yc.computeHmac)(yc.SupportedAlgorithm.sha512,fQe,n));return new t(Yx,mT(i.slice(0,32)),null,"0x00000000",mT(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=WF(n),e=HE(YF(e,n),n),t._fromSeed(lQe(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let r=RF.decode(e);(r.length!==82||nye(r.slice(0,78))!==e)&&gT.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],i=(0,nn.hexlify)(r.slice(5,9)),s=parseInt((0,nn.hexlify)(r.slice(9,13)).substring(2),16),a=(0,nn.hexlify)(r.slice(13,45)),c=r.slice(45,78);switch((0,nn.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(Yx,null,(0,nn.hexlify)(c),i,a,s,n,null);case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new t(Yx,(0,nn.hexlify)(c.slice(1)),null,i,a,s,n,null)}return gT.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function lQe(t,e){e||(e="");let r=es("mnemonic"+e,Ju.NFKD);return Oy(es(t,Ju.NFKD),r,2048,64,"sha512")}o(lQe,"mnemonicToSeed");function YF(t,e){e=WF(e),gT.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,nn.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let h=0;h<r.length;h++){let y=e.getWordIndex(r[h].normalize("NFKD"));if(y===-1)throw new Error("invalid mnemonic");for(let p=0;p<11;p++)y&1<<10-p&&(n[i>>3]|=1<<7-i%8),i++}let s=32*r.length/3,a=r.length/3,c=oye(a);if(((0,nn.arrayify)((0,yc.sha256)(n.slice(0,s/8)))[0]&c)!==(n[n.length-1]&c))throw new Error("invalid checksum");return(0,nn.hexlify)(n.slice(0,s/8))}o(YF,"mnemonicToEntropy");function HE(t,e){if(e=WF(e),t=(0,nn.arrayify)(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let a=0;a<t.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[a]>>8-n,r.push(t[a]&uQe(8-n)),n+=3);let i=t.length/4,s=(0,nn.arrayify)((0,yc.sha256)(t))[0]&oye(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(a=>e.getWord(a)))}o(HE,"entropyToMnemonic");m();g();m();g();var cye=Ze(cs()),ZF=Ze(Ta());m();g();var sye="random/5.7.0";var XF=new ZF.Logger(sye);function dQe(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}o(dQe,"getGlobal");var aye=dQe(),yT=aye.crypto||aye.msCrypto;(!yT||!yT.getRandomValues)&&(XF.warn("WARNING: Missing strong random number source"),yT={getRandomValues:o(function(t){return XF.throwError("no secure random source avaialble",ZF.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})},"getRandomValues")});function zp(t){(t<=0||t>1024||t%1||t!=t)&&XF.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return yT.getRandomValues(e),(0,cye.arrayify)(e)}o(zp,"randomBytes");m();g();m();g();var eH=Ze(QF());var tH=Ze(cs());var lye=Ze(Ta());m();g();var bT="json-wallets/5.7.0";m();g();var Xx=Ze(cs());function Uh(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),(0,Xx.arrayify)(t)}o(Uh,"looseArrayify");function Zx(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}o(Zx,"zpad");function qE(t){return typeof t=="string"?es(t,Ju.NFKC):(0,Xx.arrayify)(t)}o(qE,"getPassword");function Ci(t,e){let r=t,n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(let a in r)if(a.toLowerCase()===n[i]){s=r[a];break}if(s===null)return null;r=s}return r}o(Ci,"searchPath");function uye(t){let e=(0,Xx.arrayify)(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=(0,Xx.hexlify)(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}o(uye,"uuidV4");var hQe=new lye.Logger(bT),rH=class extends Fp{static{o(this,"CrowdsaleAccount")}isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function nH(t,e){let r=JSON.parse(t);e=qE(e);let n=fs(Ci(r,"ethaddr")),i=Uh(Ci(r,"encseed"));(!i||i.length%16!==0)&&hQe.throwArgumentError("invalid encseed","json",t);let s=(0,tH.arrayify)(Oy(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),l=new eH.default.ModeOfOperation.cbc(s,a),h=eH.default.padding.pkcs7.strip((0,tH.arrayify)(l.decrypt(c))),y="";for(let I=0;I<h.length;I++)y+=String.fromCharCode(h[I]);let p=es(y),E=Rn(p);return new rH({_isCrowdsaleAccount:!0,address:n,privateKey:E})}o(nH,"decrypt");m();g();function iH(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}o(iH,"isCrowdsaleWallet");function oH(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}o(oH,"isKeystoreWallet");m();g();var Fh=Ze(QF()),vT=Ze(hye());var ki=Ze(cs());var xT=Ze(Ta());var pQe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(p){a(p)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(p){a(p)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},aH=new xT.Logger(bT);function pye(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}o(pye,"hasMnemonic");var cH=class extends Fp{static{o(this,"KeystoreAccount")}isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function mQe(t,e,r){if(Ci(t,"crypto/cipher")==="aes-128-ctr"){let i=Uh(Ci(t,"crypto/cipherparams/iv")),s=new Fh.default.Counter(i),a=new Fh.default.ModeOfOperation.ctr(e,s);return(0,ki.arrayify)(a.decrypt(r))}return null}o(mQe,"_decrypt");function mye(t,e){let r=Uh(Ci(t,"crypto/ciphertext"));if((0,ki.hexlify)(Rn((0,ki.concat)([e.slice(16,32),r]))).substring(2)!==Ci(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=mQe(t,e.slice(0,16),r);i||aH.throwError("unsupported cipher",xT.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let s=e.slice(32,64),a=gd(i);if(t.address){let l=t.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),fs(l)!==a)throw new Error("address mismatch")}let c={_isKeystoreAccount:!0,address:a,privateKey:(0,ki.hexlify)(i)};if(Ci(t,"x-ethers/version")==="0.1"){let l=Uh(Ci(t,"x-ethers/mnemonicCiphertext")),h=Uh(Ci(t,"x-ethers/mnemonicCounter")),y=new Fh.default.Counter(h),p=new Fh.default.ModeOfOperation.ctr(s,y),E=Ci(t,"x-ethers/path")||My,I=Ci(t,"x-ethers/locale")||"en",O=(0,ki.arrayify)(p.decrypt(l));try{let N=HE(O,I),k=jp.fromMnemonic(N,null,I).derivePath(E);if(k.privateKey!=c.privateKey)throw new Error("mnemonic mismatch");c.mnemonic=k.mnemonic}catch(N){if(N.code!==xT.Logger.errors.INVALID_ARGUMENT||N.argument!=="wordlist")throw N}}return new cH(c)}o(mye,"_getAccount");function gye(t,e,r,n,i){return(0,ki.arrayify)(Oy(t,e,r,n,i))}o(gye,"pbkdf2Sync");function gQe(t,e,r,n,i){return Promise.resolve(gye(t,e,r,n,i))}o(gQe,"pbkdf2");function yye(t,e,r,n,i){let s=qE(e),a=Ci(t,"crypto/kdf");if(a&&typeof a=="string"){let c=o(function(l,h){return aH.throwArgumentError("invalid key-derivation function parameters",l,h)},"throwError");if(a.toLowerCase()==="scrypt"){let l=Uh(Ci(t,"crypto/kdfparams/salt")),h=parseInt(Ci(t,"crypto/kdfparams/n")),y=parseInt(Ci(t,"crypto/kdfparams/r")),p=parseInt(Ci(t,"crypto/kdfparams/p"));(!h||!y||!p)&&c("kdf",a),h&h-1&&c("N",h);let E=parseInt(Ci(t,"crypto/kdfparams/dklen"));return E!==32&&c("dklen",E),n(s,l,h,y,p,64,i)}else if(a.toLowerCase()==="pbkdf2"){let l=Uh(Ci(t,"crypto/kdfparams/salt")),h=null,y=Ci(t,"crypto/kdfparams/prf");y==="hmac-sha256"?h="sha256":y==="hmac-sha512"?h="sha512":c("prf",y);let p=parseInt(Ci(t,"crypto/kdfparams/c")),E=parseInt(Ci(t,"crypto/kdfparams/dklen"));return E!==32&&c("dklen",E),r(s,l,p,E,h)}}return aH.throwArgumentError("unsupported key-derivation function","kdf",a)}o(yye,"_computeKdfKey");function bye(t,e){let r=JSON.parse(t),n=yye(r,e,gye,vT.default.syncScrypt);return mye(r,n)}o(bye,"decryptSync");function xye(t,e,r){return pQe(this,void 0,void 0,function*(){let n=JSON.parse(t),i=yield yye(n,e,gQe,vT.default.scrypt,r);return mye(n,i)})}o(xye,"decrypt");function fH(t,e,r,n){try{if(fs(t.address)!==gd(t.privateKey))throw new Error("address/privateKey mismatch");if(pye(t)){let k=t.mnemonic;if(jp.fromMnemonic(k.phrase,null,k.locale).derivePath(k.path||My).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(k){return Promise.reject(k)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let i=(0,ki.arrayify)(t.privateKey),s=qE(e),a=null,c=null,l=null;if(pye(t)){let k=t.mnemonic;a=(0,ki.arrayify)(YF(k.phrase,k.locale||"en")),c=k.path||My,l=k.locale||"en"}let h=r.client;h||(h="ethers.js");let y=null;r.salt?y=(0,ki.arrayify)(r.salt):y=zp(32);let p=null;if(r.iv){if(p=(0,ki.arrayify)(r.iv),p.length!==16)throw new Error("invalid iv")}else p=zp(16);let E=null;if(r.uuid){if(E=(0,ki.arrayify)(r.uuid),E.length!==16)throw new Error("invalid uuid")}else E=zp(16);let I=1<<17,O=8,N=1;return r.scrypt&&(r.scrypt.N&&(I=r.scrypt.N),r.scrypt.r&&(O=r.scrypt.r),r.scrypt.p&&(N=r.scrypt.p)),vT.default.scrypt(s,y,I,O,N,64,n).then(k=>{k=(0,ki.arrayify)(k);let C=k.slice(0,16),L=k.slice(16,32),M=k.slice(32,64),P=new Fh.default.Counter(p),H=new Fh.default.ModeOfOperation.ctr(C,P),F=(0,ki.arrayify)(H.encrypt(i)),J=Rn((0,ki.concat)([L,F])),W={address:t.address.substring(2).toLowerCase(),id:uye(E),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,ki.hexlify)(p).substring(2)},ciphertext:(0,ki.hexlify)(F).substring(2),kdf:"scrypt",kdfparams:{salt:(0,ki.hexlify)(y).substring(2),n:I,dklen:32,p:N,r:O},mac:J.substring(2)}};if(a){let X=zp(16),S=new Fh.default.Counter(X),f=new Fh.default.ModeOfOperation.ctr(M,S),d=(0,ki.arrayify)(f.encrypt(a)),b=new Date,x=b.getUTCFullYear()+"-"+Zx(b.getUTCMonth()+1,2)+"-"+Zx(b.getUTCDate(),2)+"T"+Zx(b.getUTCHours(),2)+"-"+Zx(b.getUTCMinutes(),2)+"-"+Zx(b.getUTCSeconds(),2)+".0Z";W["x-ethers"]={client:h,gethFilename:"UTC--"+x+"--"+W.address,mnemonicCounter:(0,ki.hexlify)(X).substring(2),mnemonicCiphertext:(0,ki.hexlify)(d).substring(2),path:c,locale:l,version:"0.1"}}return JSON.stringify(W)})}o(fH,"encrypt");function vye(t,e,r){if(iH(t)){r&&r(0);let n=nH(t,e);return r&&r(1),Promise.resolve(n)}return oH(t)?xye(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}o(vye,"decryptJsonWallet");function _ye(t,e){if(iH(t))return nH(t,e);if(oH(t))return bye(t,e);throw new Error("invalid JSON wallet")}o(_ye,"decryptJsonWalletSync");var uH=Ze(Ta());m();g();var wye="wallet/5.7.0";var Eye=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(p){a(p)}}o(c,"fulfilled");function l(y){try{h(n.throw(y))}catch(p){a(p)}}o(l,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,l)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},Jx=new uH.Logger(wye);function yQe(t){return t!=null&&(0,el.isHexString)(t.privateKey,32)&&t.address!=null}o(yQe,"isAccount");function bQe(t){let e=t.mnemonic;return e&&e.phrase}o(bQe,"hasMnemonic");var Qx=class t extends kE{static{o(this,"Wallet")}constructor(e,r){if(super(),yQe(e)){let n=new md(e.privateKey);if(Ft(this,"_signingKey",()=>n),Ft(this,"address",gd(this.publicKey)),this.address!==fs(e.address)&&Jx.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),bQe(e)){let i=e.mnemonic;Ft(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||My,locale:i.locale||"en"}));let s=this.mnemonic,a=jp.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);gd(a.privateKey)!==this.address&&Jx.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Ft(this,"_mnemonic",()=>null)}else{if(md.isSigningKey(e))e.curve!=="secp256k1"&&Jx.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Ft(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new md(e);Ft(this,"_signingKey",()=>n)}Ft(this,"_mnemonic",()=>null),Ft(this,"address",gd(this.publicKey))}r&&!tT.isProvider(r)&&Jx.throwArgumentError("invalid provider","provider",r),Ft(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return Dh(e).then(r=>{r.from!=null&&(fs(r.from)!==this.address&&Jx.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest(Rn(KF(r)));return KF(r,n)})}signMessage(e){return Eye(this,void 0,void 0,function*(){return(0,el.joinSignature)(this._signingKey().signDigest(SF(e)))})}_signTypedData(e,r,n){return Eye(this,void 0,void 0,function*(){let i=yield Gx.resolveNames(e,r,n,s=>(this.provider==null&&Jx.throwError("cannot resolve ENS names without a provider",uH.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return(0,el.joinSignature)(this._signingKey().signDigest(Gx.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),fH(this,e,r,n)}static createRandom(e){let r=zp(16);e||(e={}),e.extraEntropy&&(r=(0,el.arrayify)((0,el.hexDataSlice)(Rn((0,el.concat)([r,e.extraEntropy])),0,16)));let n=HE(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return vye(e,r,n).then(i=>new t(i))}static fromEncryptedJsonSync(e,r){return new t(_ye(e,r))}static fromMnemonic(e,r,n){return r||(r=My),new t(jp.fromMnemonic(e,null,n).derivePath(r))}};var _T=class{static{o(this,"KeypairGeneratorChainPluginEthereum")}addressTypes=[We.EVM];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new Qx(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new ld(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};m();g();m();g();Bh.sha512Sync=(...t)=>fd(Bh.concatBytes(...t));var{getPublicKey:xQe}=OI,lH=o(t=>{let e=xQe(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},"getDeprecatedSolanaKeyPairFromPrivateKey");var wT=class{static{o(this,"KeypairGeneratorChainPluginSolana")}addressTypes=[We.Solana];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new Af.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new ld(s));try{let s=i.derivePathType(n,r);switch(n){case Ee.BitcoinTaproot:case Ee.BitcoinNativeSegwit:case Ee.BitcoinNestedSegwit:case Ee.BitcoinLegacy:case Ee.Bip44RootSolana:case Ee.Bip44Solana:case Ee.Bip44ChangeSolana:case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:case Ee.Bip44Sui:return{publicKey:s.publicKey,privateKey:s.secretKey};case Ee.DeprecatedSolana:{let a=lH(s.secretKey);return{publicKey:a.publicKey,privateKey:a.secretKey}}}}finally{i.cleanup()}}};m();g();m();g();m();g();m();g();m();g();m();g();m();g();function vQe(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<t.length;h++){let y=t.charAt(h),p=y.charCodeAt(0);if(e[p]!==255)throw new TypeError(y+" is ambiguous");e[p]=h}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function a(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let y=0,p=0,E=0,I=h.length;for(;E!==I&&h[E]===0;)E++,y++;let O=(I-E)*s+1>>>0,N=new Uint8Array(O);for(;E!==I;){let L=h[E],M=0;for(let P=O-1;(L!==0||M<p)&&P!==-1;P--,M++)L+=256*N[P]>>>0,N[P]=L%r>>>0,L=L/r>>>0;if(L!==0)throw new Error("Non-zero carry");p=M,E++}let k=O-p;for(;k!==O&&N[k]===0;)k++;let C=n.repeat(y);for(;k<O;++k)C+=t.charAt(N[k]);return C}o(a,"encode");function c(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let y=0,p=0,E=0;for(;h[y]===n;)p++,y++;let I=(h.length-y)*i+1>>>0,O=new Uint8Array(I);for(;h[y];){let L=e[h.charCodeAt(y)];if(L===255)return;let M=0;for(let P=I-1;(L!==0||M<E)&&P!==-1;P--,M++)L+=r*O[P]>>>0,O[P]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");E=M,y++}let N=I-E;for(;N!==I&&O[N]===0;)N++;let k=new Uint8Array(p+(I-N)),C=p;for(;N!==I;)k[C++]=O[N++];return k}o(c,"decodeUnsafe");function l(h){let y=c(h);if(y)return y;throw new Error("Non-base"+r+" character")}return o(l,"decode"),{encode:a,decodeUnsafe:c,decode:l}}o(vQe,"base");var Sye=vQe;var _Qe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",dH=Sye(_Qe);var Cy=o(t=>dH.encode(t),"toBase58"),ky=o(t=>dH.decode(t),"fromBase58");m();g();function rs(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}o(rs,"fromBase64");var hH=8192;function Bi(t){if(t.length<hH)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=hH){let n=t.slice(r,r+hH);e+=String.fromCharCode(...n)}return btoa(e)}o(Bi,"toBase64");m();g();m();g();function Kp(t){let e=t.startsWith("0x")?t.slice(2):t,n=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(n)}o(Kp,"fromHex");function Jf(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}o(Jf,"toHex");m();g();m();g();function ev(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}o(ev,"ulebEncode");function Aye(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(i&127)<<r,!(i&128))break;r+=7}return{value:e,length:n}}o(Aye,"ulebDecode");var ET=class{static{o(this,"BcsReader")}constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:i}=Aye(r);return this.shift(i),n}readVec(e){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(e(this,i,r));return n}};m();g();m();g();function pH(t,e){switch(e){case"base58":return Cy(t);case"base64":return Bi(t);case"hex":return Jf(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}o(pH,"encodeStr");function mH(t,e=["<",">"]){let[r,n]=e,i=[],s="",a=0;for(let c=0;c<t.length;c++){let l=t[c];if(l===r&&a++,l===n&&a--,a===0&&l===","){i.push(s.trim()),s="";continue}s+=l}return i.push(s.trim()),i}o(mH,"splitGenericParameters");var ST=class{static{o(this,"BcsWriter")}constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return gH(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return gH(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return gH(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return ev(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,i)=>r(this,n,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return pH(this.toBytes(),e)}};function gH(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}o(gH,"toLittleEndian");var Iye=o(t=>{throw TypeError(t)},"__typeError"),Tye=o((t,e,r)=>e.has(t)||Iye("Cannot "+r),"__accessCheck"),tl=o((t,e,r)=>(Tye(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),IT=o((t,e,r)=>e.has(t)?Iye("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),TT=o((t,e,r,n)=>(Tye(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),tv,VE,AT,Gp,wQe=class Rye{static{o(this,"_BcsType")}constructor(e){IT(this,tv),IT(this,VE),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),TT(this,tv,e.write),TT(this,VE,e.serialize??((r,n)=>{let i=new ST({initialSize:this.serializedSize(r)??void 0,...n});return tl(this,tv).call(this,r,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),tl(this,tv).call(this,e,r)}serialize(e,r){return this.validate(e),new yH(this,tl(this,VE).call(this,e,r))}parse(e){let r=new ET(e);return this.read(r)}fromHex(e){return this.parse(Kp(e))}fromBase58(e){return this.parse(ky(e))}fromBase64(e){return this.parse(rs(e))}transform({name:e,input:r,output:n,validate:i}){return new Rye({name:e??this.name,read:o(s=>n(this.read(s)),"read"),write:o((s,a)=>tl(this,tv).call(this,r(s),a),"write"),serializedSize:o(s=>this.serializedSize(r(s)),"serializedSize"),serialize:o((s,a)=>tl(this,VE).call(this,r(s),a),"serialize"),validate:o(s=>{i?.(s),this.validate(r(s))},"validate")})}};tv=new WeakMap;VE=new WeakMap;var yd=wQe,EQe=Symbol.for("@mysten/serialized-bcs");var yH=class{static{o(this,"SerializedBcs")}constructor(e,r){IT(this,AT),IT(this,Gp),TT(this,AT,e),TT(this,Gp,r)}get[EQe](){return!0}toBytes(){return tl(this,Gp)}toHex(){return Jf(tl(this,Gp))}toBase64(){return Bi(tl(this,Gp))}toBase58(){return Cy(tl(this,Gp))}parse(){return tl(this,AT).parse(tl(this,Gp))}};AT=new WeakMap;Gp=new WeakMap;function jE({size:t,...e}){return new yd({...e,serializedSize:o(()=>t,"serializedSize")})}o(jE,"fixedSizeBcsType");function RT({readMethod:t,writeMethod:e,...r}){return jE({...r,read:o(n=>n[t](),"read"),write:o((n,i)=>i[e](n),"write"),validate:o(n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)},"validate")})}o(RT,"uIntBcsType");function OT({readMethod:t,writeMethod:e,...r}){return jE({...r,read:o(n=>n[t](),"read"),write:o((n,i)=>i[e](BigInt(n)),"write"),validate:o(n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)},"validate")})}o(OT,"bigUIntBcsType");function Oye({serialize:t,...e}){let r=new yd({...e,serialize:t,write:o((n,i)=>{for(let s of r.serialize(n).toBytes())i.write8(s)},"write")});return r}o(Oye,"dynamicSizeBcsType");function Nye({toBytes:t,fromBytes:e,...r}){return new yd({...r,read:o(n=>{let i=n.readULEB(),s=n.readBytes(i);return e(s)},"read"),write:o((n,i)=>{let s=t(n);i.writeULEB(s.length);for(let a=0;a<s.length;a++)i.write8(s[a])},"write"),serialize:o(n=>{let i=t(n),s=ev(i.length),a=new Uint8Array(s.length+i.length);return a.set(s,0),a.set(i,s.length),a},"serialize"),validate:o(n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)},"validate")})}o(Nye,"stringLikeBcsType");function Mye(t){let e=null;function r(){return e||(e=t()),e}return o(r,"getType"),new yd({name:"lazy",read:o(n=>r().read(n),"read"),serializedSize:o(n=>r().serializedSize(n),"serializedSize"),write:o((n,i)=>r().write(n,i),"write"),serialize:o((n,i)=>r().serialize(n,i).toBytes(),"serialize")})}o(Mye,"lazyBcsType");m();g();var ie={u8(t){return RT({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return RT({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return RT({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return OT({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return OT({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return OT({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return jE({name:"bool",size:1,read:o(e=>e.read8()===1,"read"),write:o((e,r)=>r.write8(e?1:0),"write"),...t,validate:o(e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)},"validate")})},uleb128(t){return Oye({name:"uleb128",read:o(e=>e.readULEB(),"read"),serialize:o(e=>Uint8Array.from(ev(e)),"serialize"),...t})},bytes(t,e){return jE({name:`bytes[${t}]`,size:t,read:o(r=>r.readBytes(t),"read"),write:o((r,n)=>{let i=new Uint8Array(r);for(let s=0;s<t;s++)n.write8(i[s]??0)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)},"validate")})},string(t){return Nye({name:"string",toBytes:o(e=>new TextEncoder().encode(e),"toBytes"),fromBytes:o(e=>new TextDecoder().decode(e),"fromBytes"),...t})},fixedArray(t,e,r){return new yd({name:`${e.name}[${t}]`,read:o(n=>{let i=new Array(t);for(let s=0;s<t;s++)i[s]=e.read(n);return i},"read"),write:o((n,i)=>{for(let s of n)e.write(s,i)},"write"),...r,validate:o(n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)},"validate")})},option(t){return ie.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:o(e=>e==null?{None:!0}:{Some:e},"input"),output:o(e=>e.$kind==="Some"?e.Some:null,"output")})},vector(t,e){return new yd({name:`vector<${t.name}>`,read:o(r=>{let n=r.readULEB(),i=new Array(n);for(let s=0;s<n;s++)i[s]=t.read(r);return i},"read"),write:o((r,n)=>{n.writeULEB(r.length);for(let i of r)t.write(i,n)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)},"validate")})},tuple(t,e){return new yd({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:o(r=>{let n=0;for(let i=0;i<t.length;i++){let s=t[i].serializedSize(r[i]);if(s==null)return null;n+=s}return n},"serializedSize"),read:o(r=>{let n=[];for(let i of t)n.push(i.read(r));return n},"read"),write:o((r,n)=>{for(let i=0;i<t.length;i++)t[i].write(r[i],n)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)},"validate")})},struct(t,e,r){let n=Object.entries(e);return new yd({name:t,serializedSize:o(i=>{let s=0;for(let[a,c]of n){let l=c.serializedSize(i[a]);if(l==null)return null;s+=l}return s},"serializedSize"),read:o(i=>{let s={};for(let[a,c]of n)s[a]=c.read(i);return s},"read"),write:o((i,s)=>{for(let[a,c]of n)c.write(i[a],s)},"write"),...r,validate:o(i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)},"validate")})},enum(t,e,r){let n=Object.entries(e);return new yd({name:t,read:o(i=>{let s=i.readULEB(),a=n[s];if(!a)throw new TypeError(`Unknown value ${s} for enum ${t}`);let[c,l]=a;return{[c]:l?.read(i)??!0,$kind:c}},"read"),write:o((i,s)=>{let[a,c]=Object.entries(i).filter(([l])=>Object.hasOwn(e,l))[0];for(let l=0;l<n.length;l++){let[h,y]=n[l];if(h===a){s.writeULEB(l),y?.write(c,s);return}}},"write"),...r,validate:o(i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let s=Object.keys(i).filter(c=>i[c]!==void 0&&Object.hasOwn(e,c));if(s.length!==1)throw new TypeError(`Expected object with one key, but found ${s.length} for type ${t}}`);let[a]=s;if(!Object.hasOwn(e,a))throw new TypeError(`Invalid enum variant ${a}`)},"validate")})},map(t,e){return ie.vector(ie.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:o(r=>[...r.entries()],"input"),output:o(r=>{let n=new Map;for(let[i,s]of r)n.set(i,s);return n},"output")})},lazy(t){return Mye(t)}};m();g();m();g();m();g();var $p=32;function Cye(t){return SQe(t)&&AQe(t)===$p}o(Cye,"isValidSuiAddress");function bd(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart($p*2,"0")}`}o(bd,"normalizeSuiAddress");function SQe(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}o(SQe,"isHex");function AQe(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}o(AQe,"getHexByteLength");m();g();var IQe=/^vector<(.+)>$/,TQe=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,zE=class t{static{o(this,"TypeTagSerializer")}static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(IQe);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(TQe);if(i)return{struct:{address:r?bd(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return mH(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function RQe(t){return ie.u64({name:"unsafe_u64",...t}).transform({input:o(e=>e,"input"),output:o(e=>Number(e),"output")})}o(RQe,"unsafe_u64");function OQe(t){return ie.enum("Option",{None:null,Some:t})}o(OQe,"optionEnum");var pi=ie.bytes($p).transform({validate:o(t=>{let e=typeof t=="string"?t:Jf(t);if(!e||!Cye(bd(e)))throw new Error(`Invalid Sui address ${e}`)},"validate"),input:o(t=>typeof t=="string"?Kp(bd(t)):t,"input"),output:o(t=>bd(Jf(t)),"output")}),tf=ie.vector(ie.u8()).transform({name:"ObjectDigest",input:o(t=>ky(t),"input"),output:o(t=>Cy(new Uint8Array(t)),"output"),validate:o(t=>{if(ky(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")},"validate")}),bc=ie.struct("SuiObjectRef",{objectId:pi,version:ie.u64(),digest:tf}),bH=ie.struct("SharedObjectRef",{objectId:pi,initialSharedVersion:ie.u64(),mutable:ie.bool()}),xH=ie.enum("ObjectArg",{ImmOrOwnedObject:bc,SharedObject:bH,Receiving:bc}),vH=ie.enum("CallArg",{Pure:ie.struct("Pure",{bytes:ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?rs(t):t,"input"),output:o(t=>Bi(new Uint8Array(t)),"output")})}),Object:xH}),_H=ie.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:ie.lazy(()=>_H),struct:ie.lazy(()=>TH),u16:null,u32:null,u256:null}),NT=_H.transform({input:o(t=>typeof t=="string"?zE.parseFromStr(t,!0):t,"input"),output:o(t=>zE.tagToString(t),"output")}),rl=ie.enum("Argument",{GasCoin:null,Input:ie.u16(),Result:ie.u16(),NestedResult:ie.tuple([ie.u16(),ie.u16()])}),wH=ie.struct("ProgrammableMoveCall",{package:pi,module:ie.string(),function:ie.string(),typeArguments:ie.vector(NT),arguments:ie.vector(rl)}),EH=ie.enum("Command",{MoveCall:wH,TransferObjects:ie.struct("TransferObjects",{objects:ie.vector(rl),address:rl}),SplitCoins:ie.struct("SplitCoins",{coin:rl,amounts:ie.vector(rl)}),MergeCoins:ie.struct("MergeCoins",{destination:rl,sources:ie.vector(rl)}),Publish:ie.struct("Publish",{modules:ie.vector(ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?rs(t):t,"input"),output:o(t=>Bi(new Uint8Array(t)),"output")})),dependencies:ie.vector(pi)}),MakeMoveVec:ie.struct("MakeMoveVec",{type:OQe(NT).transform({input:o(t=>t===null?{None:!0}:{Some:t},"input"),output:o(t=>t.Some??null,"output")}),elements:ie.vector(rl)}),Upgrade:ie.struct("Upgrade",{modules:ie.vector(ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?rs(t):t,"input"),output:o(t=>Bi(new Uint8Array(t)),"output")})),dependencies:ie.vector(pi),package:pi,ticket:rl})}),SH=ie.struct("ProgrammableTransaction",{inputs:ie.vector(vH),commands:ie.vector(EH)}),AH=ie.enum("TransactionKind",{ProgrammableTransaction:SH,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),IH=ie.enum("TransactionExpiration",{None:null,Epoch:RQe()}),TH=ie.struct("StructTag",{address:pi,module:ie.string(),name:ie.string(),typeParams:ie.vector(_H)}),RH=ie.struct("GasData",{payment:ie.vector(bc),owner:pi,price:ie.u64(),budget:ie.u64()}),OH=ie.struct("TransactionDataV1",{kind:AH,sender:pi,gasData:RH,expiration:IH}),NH=ie.enum("TransactionData",{V1:OH}),MH=ie.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),CH=ie.enum("IntentVersion",{V0:null}),kH=ie.enum("AppId",{Sui:null}),BH=ie.struct("Intent",{scope:MH,version:CH,appId:kH});function PH(t){return ie.struct(`IntentMessage<${t.name}>`,{intent:BH,value:t})}o(PH,"IntentMessage");var LH=ie.enum("CompressedSignature",{ED25519:ie.fixedArray(64,ie.u8()),Secp256k1:ie.fixedArray(64,ie.u8()),Secp256r1:ie.fixedArray(64,ie.u8()),ZkLogin:ie.vector(ie.u8())}),DH=ie.enum("PublicKey",{ED25519:ie.fixedArray(32,ie.u8()),Secp256k1:ie.fixedArray(33,ie.u8()),Secp256r1:ie.fixedArray(33,ie.u8()),ZkLogin:ie.vector(ie.u8())}),UH=ie.struct("MultiSigPkMap",{pubKey:DH,weight:ie.u8()}),FH=ie.struct("MultiSigPublicKey",{pk_map:ie.vector(UH),threshold:ie.u16()}),kye=ie.struct("MultiSig",{sigs:ie.vector(LH),bitmap:ie.u16(),multisig_pk:FH}),NQe=ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?rs(t):t,"input"),output:o(t=>Bi(new Uint8Array(t)),"output")}),HH=ie.struct("SenderSignedTransaction",{intentMessage:PH(NH),txSignatures:ie.vector(NQe)}),Bye=ie.vector(HH,{name:"SenderSignedData"});m();g();var MQe=ie.enum("PackageUpgradeError",{UnableToFetchPackage:ie.struct("UnableToFetchPackage",{packageId:pi}),NotAPackage:ie.struct("NotAPackage",{objectId:pi}),IncompatibleUpgrade:null,DigestDoesNotMatch:ie.struct("DigestDoesNotMatch",{digest:ie.vector(ie.u8())}),UnknownUpgradePolicy:ie.struct("UnknownUpgradePolicy",{policy:ie.u8()}),PackageIDDoesNotMatch:ie.struct("PackageIDDoesNotMatch",{packageId:pi,ticketId:pi})}),CQe=ie.struct("ModuleId",{address:pi,name:ie.string()}),Pye=ie.struct("MoveLocation",{module:CQe,function:ie.u16(),instruction:ie.u16(),functionName:ie.option(ie.string())}),kQe=ie.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:ie.struct("IndexOutOfBounds",{idx:ie.u16()}),SecondaryIndexOutOfBounds:ie.struct("SecondaryIndexOutOfBounds",{resultIdx:ie.u16(),secondaryIdx:ie.u16()}),InvalidResultArity:ie.struct("InvalidResultArity",{resultIdx:ie.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),BQe=ie.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),PQe=ie.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:ie.struct("MoveObjectTooBig",{objectSize:ie.u64(),maxObjectSize:ie.u64()}),MovePackageTooBig:ie.struct("MovePackageTooBig",{objectSize:ie.u64(),maxObjectSize:ie.u64()}),CircularObjectOwnership:ie.struct("CircularObjectOwnership",{object:pi}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:ie.option(Pye),MoveAbort:ie.tuple([Pye,ie.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:ie.struct("CommandArgumentError",{argIdx:ie.u16(),kind:kQe}),TypeArgumentError:ie.struct("TypeArgumentError",{argumentIdx:ie.u16(),kind:BQe}),UnusedValueWithoutDrop:ie.struct("UnusedValueWithoutDrop",{resultIdx:ie.u16(),secondaryIdx:ie.u16()}),InvalidPublicFunctionReturnType:ie.struct("InvalidPublicFunctionReturnType",{idx:ie.u16()}),InvalidTransferObject:null,EffectsTooLarge:ie.struct("EffectsTooLarge",{currentSize:ie.u64(),maxSize:ie.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:ie.struct("PackageUpgradeError",{upgradeError:MQe}),WrittenObjectsTooLarge:ie.struct("WrittenObjectsTooLarge",{currentSize:ie.u64(),maxSize:ie.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:ie.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:ie.vector(pi)}),AddressDeniedForCoin:ie.struct("AddressDeniedForCoin",{address:pi,coinType:ie.string()}),CoinTypeGlobalPause:ie.struct("CoinTypeGlobalPause",{coinType:ie.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),Lye=ie.enum("ExecutionStatus",{Success:null,Failed:ie.struct("ExecutionFailed",{error:PQe,command:ie.option(ie.u64())})}),Dye=ie.struct("GasCostSummary",{computationCost:ie.u64(),storageCost:ie.u64(),storageRebate:ie.u64(),nonRefundableStorageFee:ie.u64()}),rv=ie.enum("Owner",{AddressOwner:pi,ObjectOwner:pi,Shared:ie.struct("Shared",{initialSharedVersion:ie.u64()}),Immutable:null}),LQe=ie.struct("TransactionEffectsV1",{status:Lye,executedEpoch:ie.u64(),gasUsed:Dye,modifiedAtVersions:ie.vector(ie.tuple([pi,ie.u64()])),sharedObjects:ie.vector(bc),transactionDigest:tf,created:ie.vector(ie.tuple([bc,rv])),mutated:ie.vector(ie.tuple([bc,rv])),unwrapped:ie.vector(ie.tuple([bc,rv])),deleted:ie.vector(bc),unwrappedThenDeleted:ie.vector(bc),wrapped:ie.vector(bc),gasObject:ie.tuple([bc,rv]),eventsDigest:ie.option(tf),dependencies:ie.vector(tf)}),qH=ie.tuple([ie.u64(),tf]),DQe=ie.enum("ObjectIn",{NotExist:null,Exist:ie.tuple([qH,rv])}),UQe=ie.enum("ObjectOut",{NotExist:null,ObjectWrite:ie.tuple([tf,rv]),PackageWrite:qH}),FQe=ie.enum("IDOperation",{None:null,Created:null,Deleted:null}),HQe=ie.struct("EffectsObjectChange",{inputState:DQe,outputState:UQe,idOperation:FQe}),qQe=ie.enum("UnchangedSharedKind",{ReadOnlyRoot:qH,MutateDeleted:ie.u64(),ReadDeleted:ie.u64(),Cancelled:ie.u64(),PerEpochConfig:null}),VQe=ie.struct("TransactionEffectsV2",{status:Lye,executedEpoch:ie.u64(),gasUsed:Dye,transactionDigest:tf,gasObjectIndex:ie.option(ie.u32()),eventsDigest:ie.option(tf),dependencies:ie.vector(tf),lamportVersion:ie.u64(),changedObjects:ie.vector(ie.tuple([pi,HQe])),unchangedSharedObjects:ie.vector(ie.tuple([pi,qQe])),auxDataDigest:ie.option(tf)}),Uye=ie.enum("TransactionEffects",{V1:LQe,V2:VQe});var Hh={...ie,U8:ie.u8(),U16:ie.u16(),U32:ie.u32(),U64:ie.u64(),U128:ie.u128(),U256:ie.u256(),ULEB128:ie.uleb128(),Bool:ie.bool(),String:ie.string(),Address:pi,AppId:kH,Argument:rl,CallArg:vH,CompressedSignature:LH,GasData:RH,Intent:BH,IntentMessage:PH,IntentScope:MH,IntentVersion:CH,MultiSig:kye,MultiSigPkMap:UH,MultiSigPublicKey:FH,ObjectArg:xH,ObjectDigest:tf,ProgrammableMoveCall:wH,ProgrammableTransaction:SH,PublicKey:DH,SenderSignedData:Bye,SenderSignedTransaction:HH,SharedObjectRef:bH,StructTag:TH,SuiObjectRef:bc,Command:EH,TransactionData:NH,TransactionDataV1:OH,TransactionExpiration:IH,TransactionKind:AH,TypeTag:NT,TransactionEffects:Uye};m();g();m();g();m();g();m();g();m();g();function jQe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(jQe,"isBytes");function nv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(nv,"anumber");function Vh(t,...e){if(!jQe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(Vh,"abytes");function Hye(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");nv(t.outputLen),nv(t.blockLen)}o(Hye,"ahash");function jh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(jh,"aexists");function MT(t,e){Vh(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(MT,"aoutput");function KE(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(KE,"u32");function nl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(nl,"clean");function CT(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(CT,"createView");var qye=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Vye(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(Vye,"byteSwap");var xd=qye?t=>t:t=>Vye(t);function zQe(t){for(let e=0;e<t.length;e++)t[e]=Vye(t[e]);return t}o(zQe,"byteSwap32");var By=qye?t=>t:zQe,jye=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",KQe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kT(t){if(Vh(t),jye)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=KQe[t[r]];return e}o(kT,"bytesToHex");var qh={_0:48,_9:57,A:65,F:70,a:97,f:102};function Fye(t){if(t>=qh._0&&t<=qh._9)return t-qh._0;if(t>=qh.A&&t<=qh.F)return t-(qh.A-10);if(t>=qh.a&&t<=qh.f)return t-(qh.a-10)}o(Fye,"asciiToBase16");function zye(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(jye)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=Fye(t.charCodeAt(s)),c=Fye(t.charCodeAt(s+1));if(a===void 0||c===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+c}return n}o(zye,"hexToBytes");function GQe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(GQe,"utf8ToBytes");function il(t){return typeof t=="string"&&(t=GQe(t)),Vh(t),t}o(il,"toBytes");var Wp=class{static{o(this,"Hash")}};function Kye(t){let e=o(n=>t().update(il(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Kye,"createHasher");function Gye(t){let e=o((n,i)=>t(i).update(il(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(Gye,"createOptHasher");var $ye=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);m();g();function $Qe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o($Qe,"setBigUint64");var BT=class extends Wp{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=CT(this.buffer)}update(e){jh(this),e=il(e),Vh(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=CT(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jh(this),MT(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,nl(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let p=a;p<i;p++)r[p]=0;$Qe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=CT(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};var _s=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);m();g();var PT=BigInt(4294967295),Wye=BigInt(32);function VH(t,e=!1){return e?{h:Number(t&PT),l:Number(t>>Wye&PT)}:{h:Number(t>>Wye&PT)|0,l:Number(t&PT)|0}}o(VH,"fromBig");function Yye(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=VH(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(Yye,"split");var jH=o((t,e,r)=>t>>>r,"shrSH"),zH=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),vd=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),_d=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),Py=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),Ly=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),Xye=o((t,e)=>e,"rotr32H"),Zye=o((t,e)=>t,"rotr32L");function rf(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(rf,"add");var GE=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),$E=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),Jye=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),Qye=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),e1e=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),t1e=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");var Oo=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),mt=new Uint32Array(32);function Yp(t,e,r,n,i,s){let a=i[s],c=i[s+1],l=mt[2*t],h=mt[2*t+1],y=mt[2*e],p=mt[2*e+1],E=mt[2*r],I=mt[2*r+1],O=mt[2*n],N=mt[2*n+1],k=GE(l,y,a);h=$E(k,h,p,c),l=k|0,{Dh:N,Dl:O}={Dh:N^h,Dl:O^l},{Dh:N,Dl:O}={Dh:Xye(N,O),Dl:Zye(N,O)},{h:I,l:E}=rf(I,E,N,O),{Bh:p,Bl:y}={Bh:p^I,Bl:y^E},{Bh:p,Bl:y}={Bh:vd(p,y,24),Bl:_d(p,y,24)},mt[2*t]=l,mt[2*t+1]=h,mt[2*e]=y,mt[2*e+1]=p,mt[2*r]=E,mt[2*r+1]=I,mt[2*n]=O,mt[2*n+1]=N}o(Yp,"G1b");function Xp(t,e,r,n,i,s){let a=i[s],c=i[s+1],l=mt[2*t],h=mt[2*t+1],y=mt[2*e],p=mt[2*e+1],E=mt[2*r],I=mt[2*r+1],O=mt[2*n],N=mt[2*n+1],k=GE(l,y,a);h=$E(k,h,p,c),l=k|0,{Dh:N,Dl:O}={Dh:N^h,Dl:O^l},{Dh:N,Dl:O}={Dh:vd(N,O,16),Dl:_d(N,O,16)},{h:I,l:E}=rf(I,E,N,O),{Bh:p,Bl:y}={Bh:p^I,Bl:y^E},{Bh:p,Bl:y}={Bh:Py(p,y,63),Bl:Ly(p,y,63)},mt[2*t]=l,mt[2*t+1]=h,mt[2*e]=y,mt[2*e+1]=p,mt[2*r]=E,mt[2*r+1]=I,mt[2*n]=O,mt[2*n+1]=N}o(Xp,"G2b");function WQe(t,e={},r,n,i){if(nv(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");let{key:s,salt:a,personalization:c}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(a!==void 0&&a.length!==n)throw new Error("salt must be undefined or "+n);if(c!==void 0&&c.length!==i)throw new Error("personalization must be undefined or "+i)}o(WQe,"checkBlake2Opts");var KH=class extends Wp{static{o(this,"BLAKE2")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,nv(e),nv(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=KE(this.buffer)}update(e){jh(this),e=il(e),Vh(e);let{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,a=e.byteOffset,c=e.buffer;for(let l=0;l<s;){this.pos===r&&(By(i),this.compress(i,0,!1),By(i),this.pos=0);let h=Math.min(r-this.pos,s-l),y=a+l;if(h===r&&!(y%4)&&l+h<s){let p=new Uint32Array(c,y,Math.floor((s-l)/4));By(p);for(let E=0;l+r<s;E+=i.length,l+=r)this.length+=r,this.compress(p,E,!1);By(p);continue}n.set(e.subarray(l,l+h),this.pos),this.pos+=h,this.length+=h,l+=h}return this}digestInto(e){jh(this),MT(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,nl(this.buffer.subarray(r)),By(n),this.compress(n,0,!0),By(n);let i=KE(e);this.get().forEach((s,a)=>i[a]=xd(s))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:s,outputLen:a,pos:c}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=c,e.outputLen=a,e}clone(){return this._cloneInto()}},LT=class extends KH{static{o(this,"BLAKE2b")}constructor(e={}){let r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=Oo[0]|0,this.v0h=Oo[1]|0,this.v1l=Oo[2]|0,this.v1h=Oo[3]|0,this.v2l=Oo[4]|0,this.v2h=Oo[5]|0,this.v3l=Oo[6]|0,this.v3h=Oo[7]|0,this.v4l=Oo[8]|0,this.v4h=Oo[9]|0,this.v5l=Oo[10]|0,this.v5h=Oo[11]|0,this.v6l=Oo[12]|0,this.v6h=Oo[13]|0,this.v7l=Oo[14]|0,this.v7h=Oo[15]|0,WQe(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,a=0;if(n!==void 0&&(n=il(n),a=n.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,s!==void 0){s=il(s);let c=KE(s);this.v4l^=xd(c[0]),this.v4h^=xd(c[1]),this.v5l^=xd(c[2]),this.v5h^=xd(c[3])}if(i!==void 0){i=il(i);let c=KE(i);this.v6l^=xd(c[0]),this.v6h^=xd(c[1]),this.v7l^=xd(c[2]),this.v7h^=xd(c[3])}if(n!==void 0){let c=new Uint8Array(this.blockLen);c.set(n),this.update(c)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:a,v3l:c,v3h:l,v4l:h,v4h:y,v5l:p,v5h:E,v6l:I,v6h:O,v7l:N,v7h:k}=this;return[e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k]}set(e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=c|0,this.v3h=l|0,this.v4l=h|0,this.v4h=y|0,this.v5l=p|0,this.v5h=E|0,this.v6l=I|0,this.v6h=O|0,this.v7l=N|0,this.v7h=k|0}compress(e,r,n){this.get().forEach((l,h)=>mt[h]=l),mt.set(Oo,16);let{h:i,l:s}=VH(BigInt(this.length));mt[24]=Oo[8]^s,mt[25]=Oo[9]^i,n&&(mt[28]=~mt[28],mt[29]=~mt[29]);let a=0,c=$ye;for(let l=0;l<12;l++)Yp(0,4,8,12,e,r+2*c[a++]),Xp(0,4,8,12,e,r+2*c[a++]),Yp(1,5,9,13,e,r+2*c[a++]),Xp(1,5,9,13,e,r+2*c[a++]),Yp(2,6,10,14,e,r+2*c[a++]),Xp(2,6,10,14,e,r+2*c[a++]),Yp(3,7,11,15,e,r+2*c[a++]),Xp(3,7,11,15,e,r+2*c[a++]),Yp(0,5,10,15,e,r+2*c[a++]),Xp(0,5,10,15,e,r+2*c[a++]),Yp(1,6,11,12,e,r+2*c[a++]),Xp(1,6,11,12,e,r+2*c[a++]),Yp(2,7,8,13,e,r+2*c[a++]),Xp(2,7,8,13,e,r+2*c[a++]),Yp(3,4,9,14,e,r+2*c[a++]),Xp(3,4,9,14,e,r+2*c[a++]);this.v0l^=mt[0]^mt[16],this.v0h^=mt[1]^mt[17],this.v1l^=mt[2]^mt[18],this.v1h^=mt[3]^mt[19],this.v2l^=mt[4]^mt[20],this.v2h^=mt[5]^mt[21],this.v3l^=mt[6]^mt[22],this.v3h^=mt[7]^mt[23],this.v4l^=mt[8]^mt[24],this.v4h^=mt[9]^mt[25],this.v5l^=mt[10]^mt[26],this.v5h^=mt[11]^mt[27],this.v6l^=mt[12]^mt[28],this.v6h^=mt[13]^mt[29],this.v7l^=mt[14]^mt[30],this.v7h^=mt[15]^mt[31],nl(mt)}destroy(){this.destroyed=!0,nl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},n1e=Gye(t=>new LT(t));var Dy=n1e;m();g();m();g();function DT(t,e){return Hh.IntentMessage(Hh.fixedArray(e.length,Hh.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}o(DT,"messageWithIntent");function GH(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(GH,"bytesEqual");var iv=class{static{o(this,"PublicKey")}equals(e){return GH(this.toRawBytes(),e.toRawBytes())}toBase64(){return Bi(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return Bi(e)}verifyWithIntent(e,r,n){let i=DT(n,e),s=Dy(i,{dkLen:32});return this.verify(s,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(Hh.vector(Hh.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return bd(kT(Dy(this.toSuiBytes(),{dkLen:32})).slice(0,$p*2))}};m();g();var zh={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},i1e={ED25519:32,Secp256k1:33,Secp256r1:33},UT={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};m();g();m();g();m();g();function o1e(t,e){if(!!!t)throw new Error(e)}o(o1e,"devAssert");m();g();var WH={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},YQe=new Set(Object.keys(WH));function YH(t){let e=t?.kind;return typeof e=="string"&&YQe.has(e)}o(YH,"isNode");var $H;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})($H||($H={}));m();g();var WE;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(WE||(WE={}));m();g();m();g();function XH(t){return t===9||t===32}o(XH,"isWhiteSpace");function s1e(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,s=n.length>1&&n.slice(1).every(I=>I.length===0||XH(I.charCodeAt(0))),a=r.endsWith('\\"""'),c=t.endsWith('"')&&!a,l=t.endsWith("\\"),h=c||l,y=!(e!=null&&e.minimize)&&(!i||t.length>70||h||s||a),p="",E=i&&XH(t.charCodeAt(0));return(y&&!E||s)&&(p+=`
`),p+=r,(y||h)&&(p+=`
`),'"""'+p+'"""'}o(s1e,"printBlockString");m();g();function a1e(t){return FT(t,[])}o(a1e,"inspect");function FT(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return XQe(t,e);default:return String(t)}}o(FT,"formatValue");function XQe(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(ZQe(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:FT(n,r)}else if(Array.isArray(t))return QQe(t,r);return JQe(t,r)}o(XQe,"formatObjectValue");function ZQe(t){return typeof t.toJSON=="function"}o(ZQe,"isJSONable");function JQe(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+eet(t)+"]":"{ "+r.map(([i,s])=>i+": "+FT(s,e)).join(", ")+" }"}o(JQe,"formatObject");function QQe(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,i=[];for(let s=0;s<r;++s)i.push(FT(t[s],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}o(QQe,"formatArray");function eet(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}o(eet,"getObjectTag");m();g();m();g();function c1e(t){return`"${t.replace(tet,ret)}"`}o(c1e,"printString");var tet=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function ret(t){return net[t.charCodeAt(0)]}o(ret,"escapedReplacer");var net=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];m();g();var f1e=Object.freeze({});function ZH(t,e,r=WH){let n=new Map;for(let C of Object.values(WE))n.set(C,u1e(e,C));let i,s=Array.isArray(t),a=[t],c=-1,l=[],h=t,y,p,E=[],I=[];do{c++;let C=c===a.length,L=C&&l.length!==0;if(C){if(y=I.length===0?void 0:E[E.length-1],h=p,p=I.pop(),L)if(s){h=h.slice();let P=0;for(let[H,F]of l){let J=H-P;F===null?(h.splice(J,1),P++):h[J]=F}}else{h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h));for(let[P,H]of l)h[P]=H}c=i.index,a=i.keys,l=i.edits,s=i.inArray,i=i.prev}else if(p){if(y=s?c:a[c],h=p[y],h==null)continue;E.push(y)}let M;if(!Array.isArray(h)){var O,N;YH(h)||o1e(!1,`Invalid AST Node: ${a1e(h)}.`);let P=C?(O=n.get(h.kind))===null||O===void 0?void 0:O.leave:(N=n.get(h.kind))===null||N===void 0?void 0:N.enter;if(M=P?.call(e,h,y,p,E,I),M===f1e)break;if(M===!1){if(!C){E.pop();continue}}else if(M!==void 0&&(l.push([y,M]),!C))if(YH(M))h=M;else{E.pop();continue}}if(M===void 0&&L&&l.push([y,h]),C)E.pop();else{var k;i={inArray:s,index:c,keys:a,edits:l,prev:i},s=Array.isArray(h),a=s?h:(k=r[h.kind])!==null&&k!==void 0?k:[],c=-1,l=[],p&&I.push(p),p=h}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}o(ZH,"visit");function u1e(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}o(u1e,"getEnterLeaveForKind");function qT(t){return ZH(t,oet)}o(qT,"print");var iet=80,oet={Name:{leave:o(t=>t.value,"leave")},Variable:{leave:o(t=>"$"+t.name,"leave")},Document:{leave:o(t=>Mt(t.definitions,`

`),"leave")},OperationDefinition:{leave(t){let e=qr("(",Mt(t.variableDefinitions,", "),")"),r=Mt([t.operation,Mt([t.name,e]),Mt(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:o(({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+qr(" = ",r)+qr(" ",Mt(n," ")),"leave")},SelectionSet:{leave:o(({selections:t})=>ol(t),"leave")},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){let s=qr("",t,": ")+e,a=s+qr("(",Mt(r,", "),")");return a.length>iet&&(a=s+qr(`(
`,HT(Mt(r,`
`)),`
)`)),Mt([a,Mt(n," "),i]," ")}},Argument:{leave:o(({name:t,value:e})=>t+": "+e,"leave")},FragmentSpread:{leave:o(({name:t,directives:e})=>"..."+t+qr(" ",Mt(e," ")),"leave")},InlineFragment:{leave:o(({typeCondition:t,directives:e,selectionSet:r})=>Mt(["...",qr("on ",t),Mt(e," "),r]," "),"leave")},FragmentDefinition:{leave:o(({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${qr("(",Mt(r,", "),")")} on ${e} ${qr("",Mt(n," ")," ")}`+i,"leave")},IntValue:{leave:o(({value:t})=>t,"leave")},FloatValue:{leave:o(({value:t})=>t,"leave")},StringValue:{leave:o(({value:t,block:e})=>e?s1e(t):c1e(t),"leave")},BooleanValue:{leave:o(({value:t})=>t?"true":"false","leave")},NullValue:{leave:o(()=>"null","leave")},EnumValue:{leave:o(({value:t})=>t,"leave")},ListValue:{leave:o(({values:t})=>"["+Mt(t,", ")+"]","leave")},ObjectValue:{leave:o(({fields:t})=>"{"+Mt(t,", ")+"}","leave")},ObjectField:{leave:o(({name:t,value:e})=>t+": "+e,"leave")},Directive:{leave:o(({name:t,arguments:e})=>"@"+t+qr("(",Mt(e,", "),")"),"leave")},NamedType:{leave:o(({name:t})=>t,"leave")},ListType:{leave:o(({type:t})=>"["+t+"]","leave")},NonNullType:{leave:o(({type:t})=>t+"!","leave")},SchemaDefinition:{leave:o(({description:t,directives:e,operationTypes:r})=>qr("",t,`
`)+Mt(["schema",Mt(e," "),ol(r)]," "),"leave")},OperationTypeDefinition:{leave:o(({operation:t,type:e})=>t+": "+e,"leave")},ScalarTypeDefinition:{leave:o(({description:t,name:e,directives:r})=>qr("",t,`
`)+Mt(["scalar",e,Mt(r," ")]," "),"leave")},ObjectTypeDefinition:{leave:o(({description:t,name:e,interfaces:r,directives:n,fields:i})=>qr("",t,`
`)+Mt(["type",e,qr("implements ",Mt(r," & ")),Mt(n," "),ol(i)]," "),"leave")},FieldDefinition:{leave:o(({description:t,name:e,arguments:r,type:n,directives:i})=>qr("",t,`
`)+e+(l1e(r)?qr(`(
`,HT(Mt(r,`
`)),`
)`):qr("(",Mt(r,", "),")"))+": "+n+qr(" ",Mt(i," ")),"leave")},InputValueDefinition:{leave:o(({description:t,name:e,type:r,defaultValue:n,directives:i})=>qr("",t,`
`)+Mt([e+": "+r,qr("= ",n),Mt(i," ")]," "),"leave")},InterfaceTypeDefinition:{leave:o(({description:t,name:e,interfaces:r,directives:n,fields:i})=>qr("",t,`
`)+Mt(["interface",e,qr("implements ",Mt(r," & ")),Mt(n," "),ol(i)]," "),"leave")},UnionTypeDefinition:{leave:o(({description:t,name:e,directives:r,types:n})=>qr("",t,`
`)+Mt(["union",e,Mt(r," "),qr("= ",Mt(n," | "))]," "),"leave")},EnumTypeDefinition:{leave:o(({description:t,name:e,directives:r,values:n})=>qr("",t,`
`)+Mt(["enum",e,Mt(r," "),ol(n)]," "),"leave")},EnumValueDefinition:{leave:o(({description:t,name:e,directives:r})=>qr("",t,`
`)+Mt([e,Mt(r," ")]," "),"leave")},InputObjectTypeDefinition:{leave:o(({description:t,name:e,directives:r,fields:n})=>qr("",t,`
`)+Mt(["input",e,Mt(r," "),ol(n)]," "),"leave")},DirectiveDefinition:{leave:o(({description:t,name:e,arguments:r,repeatable:n,locations:i})=>qr("",t,`
`)+"directive @"+e+(l1e(r)?qr(`(
`,HT(Mt(r,`
`)),`
)`):qr("(",Mt(r,", "),")"))+(n?" repeatable":"")+" on "+Mt(i," | "),"leave")},SchemaExtension:{leave:o(({directives:t,operationTypes:e})=>Mt(["extend schema",Mt(t," "),ol(e)]," "),"leave")},ScalarTypeExtension:{leave:o(({name:t,directives:e})=>Mt(["extend scalar",t,Mt(e," ")]," "),"leave")},ObjectTypeExtension:{leave:o(({name:t,interfaces:e,directives:r,fields:n})=>Mt(["extend type",t,qr("implements ",Mt(e," & ")),Mt(r," "),ol(n)]," "),"leave")},InterfaceTypeExtension:{leave:o(({name:t,interfaces:e,directives:r,fields:n})=>Mt(["extend interface",t,qr("implements ",Mt(e," & ")),Mt(r," "),ol(n)]," "),"leave")},UnionTypeExtension:{leave:o(({name:t,directives:e,types:r})=>Mt(["extend union",t,Mt(e," "),qr("= ",Mt(r," | "))]," "),"leave")},EnumTypeExtension:{leave:o(({name:t,directives:e,values:r})=>Mt(["extend enum",t,Mt(e," "),ol(r)]," "),"leave")},InputObjectTypeExtension:{leave:o(({name:t,directives:e,fields:r})=>Mt(["extend input",t,Mt(e," "),ol(r)]," "),"leave")}};function Mt(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}o(Mt,"join");function ol(t){return qr(`{
`,HT(Mt(t,`
`)),`
}`)}o(ol,"block");function qr(t,e,r=""){return e!=null&&e!==""?t+e+r:""}o(qr,"wrap");function HT(t){return qr("  ",t.replace(/\n/g,`
  `))}o(HT,"indent");function l1e(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}o(l1e,"hasMultilineItems");m();g();var d1e=o(t=>{throw TypeError(t)},"__typeError"),h1e=o((t,e,r)=>e.has(t)||d1e("Cannot "+r),"__accessCheck"),VT=o((t,e,r)=>(h1e(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),jT=o((t,e,r)=>e.has(t)?d1e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),zT=o((t,e,r,n)=>(h1e(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),KT,GT,$T,WT,JH=class extends Error{static{o(this,"SuiGraphQLRequestError")}},YT=class{static{o(this,"SuiGraphQLClient")}constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){jT(this,KT),jT(this,GT),jT(this,$T),jT(this,WT),zT(this,KT,e),zT(this,GT,i),zT(this,$T,n),zT(this,WT,(...s)=>r(...s))}async query(e){let r=await VT(this,WT).call(this,VT(this,KT),{method:"POST",headers:{"Content-Type":"application/json",...VT(this,$T)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):qT(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new JH(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:VT(this,GT)[e]})}};KT=new WeakMap;GT=new WeakMap;$T=new WeakMap;WT=new WeakMap;m();g();m();g();m();g();var YE={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var tq=class extends Error{static{o(this,"GraphQLError")}constructor(e,r,n,i,s,a,c){super(e),this.name="GraphQLError",this.message=e,s&&(this.path=s),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),a&&(this.originalError=a);var l=c;if(!l&&a){var h=a.extensions;h&&typeof h=="object"&&(l=h)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},mn,Dt;function so(t){return new tq(`Syntax Error: Unexpected token at ${Dt} in ${t}`)}o(so,"error");function nf(t){if(t.lastIndex=Dt,t.test(mn))return mn.slice(Dt,Dt=t.lastIndex)}o(nf,"advance");var XT=/ +(?=[^\s])/y;function set(t){for(var e=t.split(`
`),r="",n=0,i=0,s=e.length-1,a=0;a<e.length;a++)XT.lastIndex=0,XT.test(e[a])&&(a&&(!n||XT.lastIndex<n)&&(n=XT.lastIndex),i=i||a,s=a);for(var c=i;c<=s;c++)c!==i&&(r+=`
`),r+=e[c].slice(n).replace(/\\"""/g,'"""');return r}o(set,"blockString");function gr(){for(var t=0|mn.charCodeAt(Dt++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|mn.charCodeAt(Dt++))if(t===35)for(;(t=mn.charCodeAt(Dt++))!==10&&t!==13;);Dt--}o(gr,"ignored");var ka=/[_A-Za-z]\w*/y,QH=new RegExp("(?:(null|true|false)|\\$("+ka.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+ka.source+"))","y"),Zp=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(Zp||{}),aet=/\\/;function ZT(t){var e,r;if(QH.lastIndex=Dt,mn.charCodeAt(Dt)===91){Dt++,gr();for(var n=[];mn.charCodeAt(Dt)!==93;)n.push(ZT(t));return Dt++,gr(),{kind:"ListValue",values:n}}else if(mn.charCodeAt(Dt)===123){Dt++,gr();for(var i=[];mn.charCodeAt(Dt)!==125;){if((e=nf(ka))==null||(gr(),mn.charCodeAt(Dt++)!==58))throw so("ObjectField");gr(),i.push({kind:"ObjectField",name:{kind:"Name",value:e},value:ZT(t)})}return Dt++,gr(),{kind:"ObjectValue",fields:i}}else if((r=QH.exec(mn))!=null){if(Dt=QH.lastIndex,gr(),(e=r[Zp.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=r[Zp.Var])!=null){if(t)throw so("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=r[Zp.Int])!=null){var s;return(s=r[Zp.Float])!=null?{kind:"FloatValue",value:e+s}:{kind:"IntValue",value:e}}else{if((e=r[Zp.BlockString])!=null)return{kind:"StringValue",value:set(e.slice(3,-3)),block:!0};if((e=r[Zp.String])!=null)return{kind:"StringValue",value:aet.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=r[Zp.Enum])!=null)return{kind:"EnumValue",value:e}}}throw so("Value")}o(ZT,"value");function p1e(t){if(mn.charCodeAt(Dt)===40){var e=[];Dt++,gr();var r;do{if((r=nf(ka))==null||(gr(),mn.charCodeAt(Dt++)!==58))throw so("Argument");gr(),e.push({kind:"Argument",name:{kind:"Name",value:r},value:ZT(t)})}while(mn.charCodeAt(Dt)!==41);return Dt++,gr(),e}}o(p1e,"arguments_");function ov(t){if(mn.charCodeAt(Dt)===64){var e=[],r;do{if(Dt++,(r=nf(ka))==null)throw so("Directive");gr(),e.push({kind:"Directive",name:{kind:"Name",value:r},arguments:p1e(t)})}while(mn.charCodeAt(Dt)===64);return e}}o(ov,"directives");function cet(){for(var t,e=0;mn.charCodeAt(Dt)===91;)e++,Dt++,gr();if((t=nf(ka))==null)throw so("NamedType");gr();var r={kind:"NamedType",name:{kind:"Name",value:t}};do if(mn.charCodeAt(Dt)===33&&(Dt++,gr(),r={kind:"NonNullType",type:r}),e){if(mn.charCodeAt(Dt++)!==93)throw so("NamedType");gr(),r={kind:"ListType",type:r}}while(e--);return r}o(cet,"type");var eq=new RegExp("(?:(\\.{3})|("+ka.source+"))","y"),rq=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(rq||{});function JT(){var t=[],e,r;do if(eq.lastIndex=Dt,(r=eq.exec(mn))!=null){if(Dt=eq.lastIndex,r[rq.Spread]!=null){gr();var n=nf(ka);if(n!=null&&n!=="on")gr(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:ov(!1)});else{if(gr(),n==="on"){if((n=nf(ka))==null)throw so("NamedType");gr()}var i=ov(!1);if(mn.charCodeAt(Dt++)!==123)throw so("InlineFragment");gr(),t.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:i,selectionSet:JT()})}}else if((e=r[rq.Name])!=null){var s=void 0;if(gr(),mn.charCodeAt(Dt)===58){if(Dt++,gr(),s=e,(e=nf(ka))==null)throw so("Field");gr()}var a=p1e(!1);gr();var c=ov(!1),l=void 0;mn.charCodeAt(Dt)===123&&(Dt++,gr(),l=JT()),t.push({kind:"Field",alias:s?{kind:"Name",value:s}:void 0,name:{kind:"Name",value:e},arguments:a,directives:c,selectionSet:l})}}else throw so("SelectionSet");while(mn.charCodeAt(Dt)!==125);return Dt++,gr(),{kind:"SelectionSet",selections:t}}o(JT,"selectionSet");function fet(){var t,e;if((t=nf(ka))==null||(gr(),nf(ka)!=="on")||(gr(),(e=nf(ka))==null))throw so("FragmentDefinition");gr();var r=ov(!1);if(mn.charCodeAt(Dt++)!==123)throw so("FragmentDefinition");return gr(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:r,selectionSet:JT()}}o(fet,"fragmentDefinition");var uet=/(?:query|mutation|subscription|fragment)/y;function det(t){var e,r,n;if(t&&(gr(),e=nf(ka),r=o(function(){if(gr(),mn.charCodeAt(Dt)===40){var s=[];Dt++,gr();var a;do{if(mn.charCodeAt(Dt++)!==36||(a=nf(ka))==null)throw so("Variable");if(gr(),mn.charCodeAt(Dt++)!==58)throw so("VariableDefinition");gr();var c=cet(),l=void 0;mn.charCodeAt(Dt)===61&&(Dt++,gr(),l=ZT(!0)),gr(),s.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:a}},type:c,defaultValue:l,directives:ov(!0)})}while(mn.charCodeAt(Dt)!==41);return Dt++,gr(),s}},"variableDefinitions")(),n=ov(!1)),mn.charCodeAt(Dt)===123)return Dt++,gr(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:r,directives:n,selectionSet:JT()}}o(det,"operationDefinition");function m1e(t,e){return Dt=0,o(function(n,i){var s,a;gr();var c=[];do if((s=nf(uet))==="fragment")gr(),c.push(fet());else if((a=det(s))!=null)c.push(a);else throw so("Document");while(Dt<n.length);if(!i){var l;return{kind:"Document",definitions:c,set loc(h){l=h},get loc(){return l||(l={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),l}}}return{kind:"Document",definitions:c}},"document")(mn=typeof t.body=="string"?t.body:t,e&&e.noLocation)}o(m1e,"parse");var g1e=0,nq=new Set;function iq(){function t(e,r){var n=m1e(e).definitions,i=new Set;for(var s of r||[])for(var a of s.definitions)a.kind===YE.FRAGMENT_DEFINITION&&!i.has(a)&&(n.push(a),i.add(a));var c;(c=n[0].kind===YE.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(h=>h.name.value!=="_unmask"));var l;return{kind:YE.DOCUMENT,definitions:n,get loc(){if(!l&&c){var h=e+o(function(p){try{g1e++;var E="";for(var I of p)if(!nq.has(I)){nq.add(I);var{loc:O}=I;O&&(E+=O.source.body)}return E}finally{--g1e==0&&nq.clear()}},"concatLocSources")(r||[]);return{start:0,end:h.length,source:{body:h,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return l},set loc(h){l=h}}}return o(t,"graphql"),t.scalar=o(function(r,n){return n},"scalar"),t.persisted=o(function(r,n){return{kind:YE.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},"persisted"),t}o(iq,"initGraphQLTada");var LQt=iq();var y1e=iq();m();g();function het(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}o(het,"base64UrlCharTo6Bits");function pet(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=het(n);e=e.concat(i)}return e}o(pet,"base64UrlStringToBitVector");function met(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=pet(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let s=new Uint8Array(Math.floor(r.length/8)),a=0;for(let c=0;c<r.length;c+=8){let l=r.slice(c,c+8),h=parseInt(l.join(""),2);s[a++]=h}return new TextDecoder().decode(s)}o(met,"decodeBase64URL");function get(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}o(get,"verifyExtendedClaim");function b1e(t,e){let r=met(t.value,t.indexMod4),[n,i]=get(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}o(b1e,"extractClaimValue");m();g();m();g();var x1e=ie.struct("ZkLoginSignature",{inputs:ie.struct("ZkLoginSignatureInputs",{proofPoints:ie.struct("ZkLoginSignatureInputsProofPoints",{a:ie.vector(ie.string()),b:ie.vector(ie.vector(ie.string())),c:ie.vector(ie.string())}),issBase64Details:ie.struct("ZkLoginSignatureInputsClaim",{value:ie.string(),indexMod4:ie.u8()}),headerBase64:ie.string(),addressSeed:ie.string()}),maxEpoch:ie.u64(),userSignature:ie.vector(ie.u8())});function v1e(t){return x1e.parse(typeof t=="string"?rs(t):t)}o(v1e,"parseZkLoginSignature");m();g();function yet(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}o(yet,"findFirstNonZeroIndex");function QT(t,e){let r=t.toString(16);return zye(r.padStart(e*2,"0").slice(-e*2))}o(QT,"toPaddedBigEndianBytes");function oq(t,e){let r=QT(t,e),n=yet(r);return n===-1?new Uint8Array([0]):r.slice(n)}o(oq,"toBigEndianBytes");var E1e=o(t=>{throw TypeError(t)},"__typeError"),S1e=o((t,e,r)=>e.has(t)||E1e("Cannot "+r),"__accessCheck"),Kh=o((t,e,r)=>(S1e(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),sq=o((t,e,r)=>e.has(t)?E1e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),sv=o((t,e,r,n)=>(S1e(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),sl,XE,ZE,bet=class aq extends iv{static{o(this,"_ZkLoginPublicIdentifier")}constructor(e,{client:r}={}){super(),sq(this,sl),sq(this,XE),sq(this,ZE),sv(this,XE,r),typeof e=="string"?sv(this,sl,rs(e)):e instanceof Uint8Array?sv(this,sl,e):sv(this,sl,Uint8Array.from(e)),sv(this,ZE,Kh(this,sl).length!==Kh(this,sl)[0]+1+32),Kh(this,ZE)&&sv(this,sl,_1e(Kh(this,sl)))}equals(e){return super.equals(e)}toSuiAddress(){if(Kh(this,ZE)){let e=_1e(Kh(this,sl),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),bd(kT(Dy(r,{dkLen:32})).slice(0,$p*2))}return super.toSuiAddress()}toRawBytes(){return Kh(this,sl)}flag(){return zh.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=eR(r),i=new aq(n.publicKey).toSuiAddress();return w1e({address:i,bytes:Bi(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:Kh(this,XE)})}verifyTransaction(e,r){let n=eR(r),i=new aq(n.publicKey).toSuiAddress();return w1e({address:i,bytes:Bi(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:Kh(this,XE)})}};sl=new WeakMap;XE=new WeakMap;ZE=new WeakMap;var xet=bet;function vet(t,e,r){let n=r?.legacyAddress?oq(t,32):QT(t,32),i=new TextEncoder().encode(e),s=new Uint8Array(1+i.length+n.length);return s.set([i.length],0),s.set(i,1),s.set(n,1+i.length),new xet(s,r)}o(vet,"toZkLoginPublicIdentifier");var _et=y1e(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function _1e(t,e=!1){let r=t[0]+1,n=BigInt(`0x${Jf(t.slice(r))}`),i=e?oq(n,32):QT(n,32),s=new Uint8Array(r+i.length);return s.set(t.slice(0,r),0),s.set(i,r),s}o(_1e,"normalizeZkLoginPublicKeyBytes");async function w1e({address:t,bytes:e,signature:r,intentScope:n,client:i=new YT({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let s=await i.query({query:_et,variables:{bytes:e,signature:r,intentScope:n,author:t}});return s.data?.verifyZkloginSignature.success===!0&&s.data?.verifyZkloginSignature.errors.length===0}o(w1e,"graphqlVerifyZkLoginSignature");function eR(t){let e=typeof t=="string"?rs(t):t;if(e[0]!==zh.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:s}=v1e(r),{issBase64Details:a,addressSeed:c}=n,l=b1e(a,"iss"),h=vet(BigInt(c),l);return{serializedSignature:Bi(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:s,iss:l,addressSeed:BigInt(c)},signature:e,publicKey:h.toRawBytes()}}o(eR,"parseSerializedZkLoginSignature");function A1e({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([zh[e]]),i.set(t,1),i.set(n,1+t.length),Bi(i)}o(A1e,"toSerializedSignature");function I1e(t){let e=rs(t),r=UT[e[0]];switch(r){case"MultiSig":let n=Hh.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return eR(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=i1e[r],s=e.slice(1,e.length-i),a=e.slice(1+s.length);return{serializedSignature:t,signatureScheme:r,signature:s,publicKey:a,bytes:e};default:throw new Error("Unsupported signature scheme")}}o(I1e,"parseSerializedSignature");m();g();m();g();m();g();function av(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(av,"anumber");function wet(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(wet,"isBytes");function JE(t,...e){if(!wet(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(JE,"abytes");function tR(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");av(t.outputLen),av(t.blockLen)}o(tR,"ahash");function cv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(cv,"aexists");function T1e(t,e){JE(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(T1e,"aoutput");m();g();m();g();m();g();var uv=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");function Eet(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}o(Eet,"utf8ToBytes");function Jp(t){return typeof t=="string"&&(t=Eet(t)),JE(t),t}o(Jp,"toBytes");var fv=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};function R1e(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(R1e,"checkOpts");function O1e(t){let e=o(n=>t().update(Jp(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(O1e,"wrapConstructor");var rR=class extends fv{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,tR(e);let n=Jp(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return cv(this),this.iHash.update(e),this}digestInto(e){cv(this),JE(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},cq=o((t,e,r)=>new rR(t,e).update(r).digest(),"hmac");cq.create=(t,e)=>new rR(t,e);function Aet(t,e,r,n){tR(t);let i=R1e({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:c}=i;if(av(s),av(a),av(c),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=Jp(e),h=Jp(r),y=new Uint8Array(a),p=cq.create(t,l),E=p._cloneInto().update(h);return{c:s,dkLen:a,asyncTick:c,DK:y,PRF:p,PRFSalt:E}}o(Aet,"pbkdf2Init");function Iet(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}o(Iet,"pbkdf2Output");function N1e(t,e,r,n){let{c:i,dkLen:s,DK:a,PRF:c,PRFSalt:l}=Aet(t,e,r,n),h,y=new Uint8Array(4),p=uv(y),E=new Uint8Array(c.outputLen);for(let I=1,O=0;O<s;I++,O+=c.outputLen){let N=a.subarray(O,O+c.outputLen);p.setInt32(0,I,!1),(h=l._cloneInto(h)).update(y).digestInto(E),N.set(E.subarray(0,N.length));for(let k=1;k<i;k++){c._cloneInto(h).update(E).digestInto(E);for(let C=0;C<N.length;C++)N[C]^=E[C]}}return Iet(c,l,a,h,E)}o(N1e,"pbkdf2");m();g();function Tet(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(Tet,"setBigUint64");var nR=class extends fv{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=uv(this.buffer)}update(e){cv(this);let{view:r,buffer:n,blockLen:i}=this;e=Jp(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=uv(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cv(this),T1e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let p=a;p<i;p++)r[p]=0;Tet(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=uv(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};m();g();m();g();var iR=BigInt(4294967295),fq=BigInt(32);function M1e(t,e=!1){return e?{h:Number(t&iR),l:Number(t>>fq&iR)}:{h:Number(t>>fq&iR)|0,l:Number(t&iR)|0}}o(M1e,"fromBig");function Ret(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=M1e(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(Ret,"split");var Oet=o((t,e)=>BigInt(t>>>0)<<fq|BigInt(e>>>0),"toBig"),Net=o((t,e,r)=>t>>>r,"shrSH"),Met=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),Cet=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),ket=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),Bet=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),Pet=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),Let=o((t,e)=>e,"rotr32H"),Det=o((t,e)=>t,"rotr32L"),Uet=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH"),Fet=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL"),Het=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH"),qet=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");function Vet(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(Vet,"add");var jet=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),zet=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),Ket=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),Get=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),$et=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),Wet=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");var Yet={fromBig:M1e,split:Ret,toBig:Oet,shrSH:Net,shrSL:Met,rotrSH:Cet,rotrSL:ket,rotrBH:Bet,rotrBL:Pet,rotr32H:Let,rotr32L:Det,rotlSH:Uet,rotlSL:Fet,rotlBH:Het,rotlBL:qet,add:Vet,add3L:jet,add3H:zet,add4L:Ket,add4H:Get,add5H:Wet,add5L:$et},br=Yet;var[Xet,Zet]=br.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qp=new Uint32Array(80),em=new Uint32Array(80),uq=class extends nR{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:p,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k]}set(e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=p|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)Qp[M]=e.getUint32(r),em[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let P=Qp[M-15]|0,H=em[M-15]|0,F=br.rotrSH(P,H,1)^br.rotrSH(P,H,8)^br.shrSH(P,H,7),J=br.rotrSL(P,H,1)^br.rotrSL(P,H,8)^br.shrSL(P,H,7),W=Qp[M-2]|0,X=em[M-2]|0,S=br.rotrSH(W,X,19)^br.rotrBH(W,X,61)^br.shrSH(W,X,6),f=br.rotrSL(W,X,19)^br.rotrBL(W,X,61)^br.shrSL(W,X,6),d=br.add4L(J,f,em[M-7],em[M-16]),b=br.add4H(d,F,S,Qp[M-7],Qp[M-16]);Qp[M]=b|0,em[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:p,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let P=br.rotrSH(p,E,14)^br.rotrSH(p,E,18)^br.rotrBH(p,E,41),H=br.rotrSL(p,E,14)^br.rotrSL(p,E,18)^br.rotrBL(p,E,41),F=p&I^~p&N,J=E&O^~E&k,W=br.add5L(L,H,J,Zet[M],em[M]),X=br.add5H(W,C,P,F,Xet[M],Qp[M]),S=W|0,f=br.rotrSH(n,i,28)^br.rotrBH(n,i,34)^br.rotrBH(n,i,39),d=br.rotrSL(n,i,28)^br.rotrBL(n,i,34)^br.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=p|0,O=E|0,{h:p,l:E}=br.add(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=br.add3L(S,d,x);n=br.add3H(_,X,f,b),i=_|0}({h:n,l:i}=br.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=br.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=br.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=br.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:p,l:E}=br.add(this.Eh|0,this.El|0,p|0,E|0),{h:I,l:O}=br.add(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=br.add(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=br.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,c,l,h,y,p,E,I,O,N,k,C,L)}roundClean(){Qp.fill(0),em.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var C1e=O1e(()=>new uq);function k1e(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}o(k1e,"nfkd");function Jet(t){let e=k1e(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}o(Jet,"normalize");var Qet=o(t=>k1e("mnemonic"+t),"salt");function B1e(t,e=""){return N1e(C1e,Jet(t).nfkd,Qet(e),{c:2048,dkLen:64})}o(B1e,"mnemonicToSeedSync");function lq(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}o(lq,"isValidHardenedPath");function ett(t){return B1e(t,"")}o(ett,"mnemonicToSeed");function P1e(t){return Jf(ett(t))}o(P1e,"mnemonicToSeedHex");m();g();var QE=Ze(hv(),1);var pv=32;var hq="suiprivkey",sR=class{static{o(this,"Signer")}async signWithIntent(e,r){let n=DT(r,e),i=Dy(n,{dkLen:32});return{signature:A1e({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:Bi(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(ie.vector(ie.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:Bi(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},eS=class extends sR{static{o(this,"Keypair")}};function Uy(t){let{prefix:e,words:r}=QE.bech32.decode(t);if(e!==hq)throw new Error("invalid private key prefix");let n=new Uint8Array(QE.bech32.fromWords(r)),i=n.slice(1);return{schema:UT[n[0]],secretKey:i}}o(Uy,"decodeSuiPrivateKey");function pq(t,e){if(t.length!==pv)throw new Error("Invalid bytes length");let r=zh[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),QE.bech32.encode(hq,QE.bech32.toWords(n))}o(pq,"encodeSuiPrivateKey");m();g();m();g();var Fy=Ze(Gh(),1);m();g();m();g();var cR=class extends Wp{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Hye(e);let n=il(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),nl(s)}update(e){return jh(this),this.iHash.update(e),this}digestInto(e){jh(this),Vh(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},fR=o((t,e,r)=>new cR(t,e).update(r).digest(),"hmac");fR.create=(t,e)=>new cR(t,e);m();g();m();g();var F1e=Yye(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),itt=F1e[0],ott=F1e[1],tm=new Uint32Array(80),rm=new Uint32Array(80),uR=class extends BT{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=_s[0]|0,this.Al=_s[1]|0,this.Bh=_s[2]|0,this.Bl=_s[3]|0,this.Ch=_s[4]|0,this.Cl=_s[5]|0,this.Dh=_s[6]|0,this.Dl=_s[7]|0,this.Eh=_s[8]|0,this.El=_s[9]|0,this.Fh=_s[10]|0,this.Fl=_s[11]|0,this.Gh=_s[12]|0,this.Gl=_s[13]|0,this.Hh=_s[14]|0,this.Hl=_s[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:y,Fh:p,Fl:E,Gh:I,Gl:O,Hh:N,Hl:k}=this;return[e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k]}set(e,r,n,i,s,a,c,l,h,y,p,E,I,O,N,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=y|0,this.Fh=p|0,this.Fl=E|0,this.Gh=I|0,this.Gl=O|0,this.Hh=N|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)tm[M]=e.getUint32(r),rm[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){let P=tm[M-15]|0,H=rm[M-15]|0,F=vd(P,H,1)^vd(P,H,8)^jH(P,H,7),J=_d(P,H,1)^_d(P,H,8)^zH(P,H,7),W=tm[M-2]|0,X=rm[M-2]|0,S=vd(W,X,19)^Py(W,X,61)^jH(W,X,6),f=_d(W,X,19)^Ly(W,X,61)^zH(W,X,6),d=Jye(J,f,rm[M-7],rm[M-16]),b=Qye(d,F,S,tm[M-7],tm[M-16]);tm[M]=b|0,rm[M]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:y,Eh:p,El:E,Fh:I,Fl:O,Gh:N,Gl:k,Hh:C,Hl:L}=this;for(let M=0;M<80;M++){let P=vd(p,E,14)^vd(p,E,18)^Py(p,E,41),H=_d(p,E,14)^_d(p,E,18)^Ly(p,E,41),F=p&I^~p&N,J=E&O^~E&k,W=e1e(L,H,J,ott[M],rm[M]),X=t1e(W,C,P,F,itt[M],tm[M]),S=W|0,f=vd(n,i,28)^Py(n,i,34)^Py(n,i,39),d=_d(n,i,28)^Ly(n,i,34)^Ly(n,i,39),b=n&s^n&c^s&c,x=i&a^i&l^a&l;C=N|0,L=k|0,N=I|0,k=O|0,I=p|0,O=E|0,{h:p,l:E}=rf(h|0,y|0,X|0,S|0),h=c|0,y=l|0,c=s|0,l=a|0,s=n|0,a=i|0;let _=GE(S,d,x);n=$E(_,X,f,b),i=_|0}({h:n,l:i}=rf(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=rf(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=rf(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:y}=rf(this.Dh|0,this.Dl|0,h|0,y|0),{h:p,l:E}=rf(this.Eh|0,this.El|0,p|0,E|0),{h:I,l:O}=rf(this.Fh|0,this.Fl|0,I|0,O|0),{h:N,l:k}=rf(this.Gh|0,this.Gl|0,N|0,k|0),{h:C,l:L}=rf(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,a,c,l,h,y,p,E,I,O,N,k,C,L)}roundClean(){nl(tm,rm)}destroy(){nl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var H1e=Kye(()=>new uR);var mq=H1e;var stt=Ze(Gh(),1);var att="ed25519 seed",ctt=2147483648,ftt=new RegExp("^m(\\/[0-9]+')+$"),q1e=o(t=>t.replace("'",""),"replaceDerive"),utt=o(t=>{let r=fR.create(mq,att).update(Kp(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},"getMasterKeyFromSeed"),ltt=o(({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let s=new Uint8Array(1+t.length+n.byteLength);s.set(new Uint8Array(1).fill(0)),s.set(t,1),s.set(new Uint8Array(n,0,n.byteLength),t.length+1);let a=fR.create(mq,e).update(s).digest(),c=a.slice(0,32),l=a.slice(32);return{key:c,chainCode:l}},"CKDPriv");var dtt=o(t=>ftt.test(t)?!t.split("/").slice(1).map(q1e).some(isNaN):!1,"isValidPath"),gq=o((t,e,r=ctt)=>{if(!dtt(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=utt(e);return t.split("/").slice(1).map(q1e).map(a=>parseInt(a,10)).reduce((a,c)=>ltt(a,c+r),{key:n,chainCode:i})},"derivePath");m();g();var V1e=Ze(Gh(),1);var yq=32,nm=class extends iv{static{o(this,"Ed25519PublicKey")}constructor(e){if(super(),typeof e=="string"?this.data=rs(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==yq)throw new Error(`Invalid public key input. Expected ${yq} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return zh.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=I1e(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!GH(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return V1e.default.sign.detached.verify(e,n,this.toRawBytes())}};nm.SIZE=yq;var bq="m/44'/784'/0'/0'/0'",Hy=class t extends eS{static{o(this,"Ed25519Keypair")}constructor(e){super(),e?this.keypair=e:this.keypair=Fy.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(Fy.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let s=Uy(e);if(s.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${s.schema}`);return this.fromSecretKey(s.secretKey,r)}let n=e.length;if(n!==pv)throw new Error(`Wrong secretKey size. Expected ${pv} bytes, got ${n}.`);let i=Fy.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let a=new TextEncoder().encode("sui validation"),c=Fy.default.sign.detached(a,i.secretKey);if(!Fy.default.sign.detached.verify(a,c,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new nm(this.keypair.publicKey)}getSecretKey(){return pq(this.keypair.secretKey.slice(0,pv),this.getKeyScheme())}async sign(e){return Fy.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=bq),!lq(r))throw new Error("Invalid derivation path");let{key:n}=gq(r,P1e(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=bq),!lq(r))throw new Error("Invalid derivation path");let{key:n}=gq(r,e);return t.fromSecretKey(n)}};var lR=class{static{o(this,"KeypairGeneratorChainPluginSui")}addressTypes=[We.Sui];generateKeypairFromPrivateKey(e){let r=e.fold(a=>new Uint8Array(a)),n=Hy.fromSecretKey(r),i=n.getPublicKey().toRawBytes(),s=Uy(n.getSecretKey());if(s.schema!=="ED25519")throw new Error(`got unexpected schema ${s.schema} for Sui`);return{publicKey:i,privateKey:s.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new ld(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};var xq=class{static{o(this,"KeypairGenerator")}cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new QI),this.registerChainPlugin(new _T),this.registerChainPlugin(new wT),this.registerChainPlugin(new lR)}registerChainPlugin(e){for(let r of e.addressTypes)this.cryptoChainPlugins.set(r,e)}generateKeypairFromPrivateKey(e,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(e)}generateKeypairFromSeed(e,r,n){let i=Ry.getAddressType(n),s=this.cryptoChainPlugins.get(i);if(!s)throw new Error(`No plugin found for address type ${i}, please register the plugin first.`);return s.generateKeypairFromSeed(e,r,n)}};m();g();function htt(t){return Ry.getAll().includes(t)}o(htt,"isAddressType");m();g();var Fbe=Ze(Ru()),Hbe=Ze(yv()),_R=Ze(Gh()),qbe=Ze(Cq());var Vbe=o(t=>{let{privateKey:e,addressType:r}=t;switch(r){case We.BitcoinTaproot:case We.BitcoinNativeSegwit:case We.BitcoinNestedSegwit:case We.BitcoinLegacy:try{return{key:Ytt(e,t.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case We.EVM:try{return{key:Xtt(e),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case We.Solana:try{return Jtt(e)}catch{throw new Error("Could not find encoding for Solana private key")}case We.Sui:try{return{key:Ztt(e),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return xs(r)}},"decodePrivateKeyFromString"),Ytt=o((t,e)=>{try{let{privateKey:r}=qbe.decodeRaw(Hbe.default.decode(t),e);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},"decodeBitcoinPrivateKey"),Xtt=o(t=>{let e=Buffer.from(t.replace("0x",""),"hex");try{return new Qx(new Uint8Array(e)),e}catch{throw new Error("Provided Ethereum private key is invalid!")}},"decodeEthereumPrivateKey"),vR=o(t=>{let e=_R.default.sign.keyPair.fromSecretKey(t),r=Buffer.from("phantom-secret-key-validation"),n=_R.default.sign.detached(r,t);if(!_R.default.sign.detached.verify(r,n,e.publicKey))throw new Error("Provided Solana private key is invalid!")},"decodeSolanaPrivateKey"),Ztt=o(t=>{try{let e=Uy(t);if(e.schema!=="ED25519")throw new Error("Invalid schema");return e.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},"decodeSuiPrivateKey"),Jtt=o(t=>{try{let e=JSON.parse(t);return vR(Uint8Array.from(e)),{key:e,encoding:"uint8array"}}catch{}try{let e=Fbe.default.decode(t);return vR(e),{key:e,encoding:"base58"}}catch{}try{let e=Buffer.from(t,"hex");return vR(e),{key:e,encoding:"hex"}}catch{}try{let e=Buffer.from(t,"base64");return vR(e),{key:e,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")},"enumerateSolanaPrivateKeyEncodings");m();g();var jbe=Ze(Ru()),zbe=Ze(yv()),Kbe=Ze(Cq());var Qtt=o(t=>{let{privateKey:e,addressType:r}=t;switch(r){case We.BitcoinTaproot:case We.BitcoinNativeSegwit:case We.BitcoinNestedSegwit:case We.BitcoinLegacy:return zbe.default.encode(Kbe.encodeRaw(t.networkIDValue,Buffer.from(e),!0));case We.EVM:return"0x"+Buffer.from(e).toString("hex");case We.Solana:return jbe.default.encode(e);case We.Sui:return Hy.fromSecretKey(e).getSecretKey();default:return xs(r)}},"exportPrivateKeyAsString");m();g();var ert=o(t=>{try{return Kf.from(Vbe(t).key)}catch(e){return console.error(e),Kf.from(Buffer.from(""))}},"getPrivateKeyAsObfuscatedBytes");m();g();var oft=Ze(Xq());m();g();var[Cxe,kxe,Bxe]=[[],[],[]],dnt=BigInt(0),uS=BigInt(1),hnt=BigInt(2),pnt=BigInt(7),mnt=BigInt(256),gnt=BigInt(113);for(let t=0,e=uS,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Cxe.push(2*(5*n+r)),kxe.push((t+1)*(t+2)/2%64);let i=dnt;for(let s=0;s<7;s++)e=(e<<uS^(e>>pnt)*gnt)%mnt,e&hnt&&(i^=uS<<(uS<<BigInt(s))-uS);Bxe.push(i)}var[ynt,bnt]=Jt.split(Bxe,!0),Nxe=o((t,e,r)=>r>32?Jt.rotlBH(t,e,r):Jt.rotlSH(t,e,r),"rotlH"),Mxe=o((t,e,r)=>r>32?Jt.rotlBL(t,e,r):Jt.rotlSL(t,e,r),"rotlL");function xnt(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let c=(a+8)%10,l=(a+2)%10,h=r[l],y=r[l+1],p=Nxe(h,y,1)^r[c],E=Mxe(h,y,1)^r[c+1];for(let I=0;I<50;I+=10)t[a+I]^=p,t[a+I+1]^=E}let i=t[2],s=t[3];for(let a=0;a<24;a++){let c=kxe[a],l=Nxe(i,s,c),h=Mxe(i,s,c),y=Cxe[a];i=t[y],s=t[y+1],t[y]=l,t[y+1]=h}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)r[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=ynt[n],t[1]^=bnt[n]}r.fill(0)}o(xnt,"keccakP");var qR=class t extends Cp{static{o(this,"Keccak")}constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Un.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Bx(this.state)}keccak(){xnt(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Un.exists(this);let{blockLen:r,state:n}=this;e=Xu(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(r-this.pos,i-s);for(let c=0;c<a;c++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Un.exists(this,!1),Un.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Un.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Un.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}},gm=o((t,e,r)=>cd(()=>new qR(e,t,r)),"gen"),_or=gm(6,144,224/8),wor=gm(6,136,256/8),Eor=gm(6,104,384/8),Sor=gm(6,72,512/8),Aor=gm(1,144,224/8),Zq=gm(1,136,256/8),Ior=gm(1,104,384/8),Tor=gm(1,72,512/8),Pxe=o((t,e,r)=>_me((n={})=>new qR(e,t,n.dkLen===void 0?r:n.dkLen,!0)),"genShake"),Ror=Pxe(31,168,128/8),Oor=Pxe(31,136,256/8);var ul=Ze(gj()),Dwe=Ze(Ru());function sft(t){let{publicKey:e,addressType:r}=t;switch(r){case We.BitcoinTaproot:case We.BitcoinNativeSegwit:case We.BitcoinNestedSegwit:case We.BitcoinLegacy:return aft(e,r,t.networkID);case We.EVM:return cft(e);case We.Solana:return Dwe.default.encode(e);case We.Sui:return new nm(e).toSuiAddress();default:return xs(r)}}o(sft,"publicKeyToAddress");var aft=o((t,e,r)=>{let n=r==="bip122:000000000933ea01ad0ee984209779ba"?ul.networks.testnet:ul.networks.bitcoin,i;switch(e){case We.BitcoinTaproot:ul.initEccLib(oft),i=ul.payments.p2tr({internalPubkey:Buffer.from(t.slice(1,33)),network:n},{validate:!1})?.address;break;case We.BitcoinNativeSegwit:i=ul.payments.p2wpkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break;case We.BitcoinNestedSegwit:{let s=Buffer.from(t),a=ul.payments.p2wpkh({pubkey:s,network:n},{validate:!1});i=ul.payments.p2sh({pubkey:s,network:n,redeem:a},{validate:!1})?.address;break}case We.BitcoinLegacy:{i=ul.payments.p2pkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break}default:xs(e)}if(!i)throw new Error("Could not derive Bitcoin address from public key");return i},"getBitcoinAddress"),cft=o(t=>{let e=t.slice(1),n=Zq(e).slice(12);return fft(`0x${Buffer.from(n).toString("hex")}`)},"computeChecksumAddress"),fft=o(t=>{if(!oX.safeParse(t).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let e=t.toLowerCase().replace("0x",""),r=Buffer.from(Zq(Buffer.from(e,"utf-8"))).toString("hex"),n="0x";for(let i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},"toChecksumAddress");m();g();function uft(t){return lw.safeParse(t).success}o(uft,"isBitcoinAddressType");m();g();function lft(t){switch(t){case Ee.Bip44RootSolana:case Ee.Bip44ChangeSolana:case Ee.Bip44Solana:case Ee.DeprecatedSolana:return We.Solana;case Ee.Bip44RootEthereum:case Ee.Bip44Ethereum:case Ee.Bip44EthereumSecondary:case Ee.Bip44EthereumTertiary:return We.EVM;case Ee.BitcoinLegacy:return We.BitcoinLegacy;case Ee.BitcoinNativeSegwit:return We.BitcoinNativeSegwit;case Ee.BitcoinNestedSegwit:return We.BitcoinNestedSegwit;case Ee.BitcoinTaproot:return We.BitcoinTaproot;case Ee.Bip44Sui:return We.Sui}}o(lft,"getAddressTypeFromDerivationPathType");m();g();m();g();var Uwe={id:St.Arbitrum,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/arbitrum.png",name:"Arbitrum",networks:{[Kc.Mainnet]:{id:Kc.Mainnet,name:"Arbitrum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/mainnet",value:42161},[Kc.Sepolia]:{id:Kc.Sepolia,name:"Arbitrum Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/sepolia",value:421614}},mainnetID:Kc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:Nn.Arbitrum,parentChain:St.Ethereum};m();g();var Fwe={id:St.Base,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/base.png",name:"Base",networks:{[zc.Mainnet]:{id:zc.Mainnet,name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},[zc.Sepolia]:{id:zc.Sepolia,name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:zc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:Nn.Base,parentChain:St.Ethereum};m();g();var dft=Ze(Xq());var Q7=Ze(gj());var $v=be.string().refine(t=>{try{return Q7.initEccLib(dft),Q7.address.toOutputScript(t),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),NS=be.object({networkID:ip,addressType:be.nativeEnum(We),address:$v,publicKey:be.instanceof(Uint8Array).optional()}),yj={id:St.Bitcoin,addressTypes:[We.BitcoinTaproot,We.BitcoinNativeSegwit],iconUrl:"https://static.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{[fc.Mainnet]:{id:fc.Mainnet,name:"Bitcoin",value:128},[fc.Testnet]:{id:fc.Testnet,name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:fc.Mainnet,tokenDecimals:8,tokenSymbol:"BTC",slip44:Nn.Bitcoin};m();g();var e9=be.object({networkID:op,addressType:be.nativeEnum(We),address:ab}),Hwe={id:St.Ethereum,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{[cc.Mainnet]:{id:cc.Mainnet,name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},[cc.Sepolia]:{id:cc.Sepolia,name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:cc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:Nn.Ethereum};m();g();var qwe={id:St.Hypercore,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/hypercore.png",name:"Hypercore",networks:{[uc.Mainnet]:{id:uc.Mainnet,name:"Hypercore",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/mainnet",value:"mainnet"},[uc.Testnet]:{id:uc.Testnet,name:"Hypercore Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/testnet",value:"testnet"}},mainnetID:uc.Mainnet,tokenDecimals:9,tokenSymbol:"ETH",slip44:Nn.Hypercore},Vwe=be.object({networkID:bh,addressType:be.nativeEnum(We),address:U6});m();g();var jwe={id:St.Hyperevm,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/hyperevm.png",name:"HyperEVM",networks:{[lc.Mainnet]:{id:lc.Mainnet,name:"HyperEVM",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/hyperevm/network/mainnet",value:999},[lc.Testnet]:{id:lc.Testnet,name:"HyperEVM Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/hyperevm/network/testnet",value:998}},mainnetID:lc.Mainnet,tokenDecimals:18,tokenSymbol:"HYPE",slip44:Nn.Hyperevm};m();g();var zwe={id:St.Monad,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/monad.png",name:"Monad",networks:{[Gc.Mainnet]:{id:Gc.Mainnet,name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143},[Gc.Testnet]:{id:Gc.Testnet,name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143}},mainnetID:Gc.Mainnet,tokenDecimals:18,tokenSymbol:"MON",slip44:Nn.Monad};m();g();var Kwe={id:St.Polygon,addressTypes:[We.EVM],iconUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",networks:{[jc.Mainnet]:{id:jc.Mainnet,name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},[jc.Amoy]:{id:jc.Amoy,name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:jc.Mainnet,tokenDecimals:18,tokenSymbol:"POL",slip44:Nn.Polygon,parentChain:St.Ethereum};m();g();var MS=be.object({networkID:np,addressType:be.nativeEnum(We),address:cb}),bj={id:St.Solana,addressTypes:[We.Solana],iconUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",networks:{[no.Mainnet]:{id:no.Mainnet,name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},[no.Testnet]:{id:no.Testnet,name:"Solana Testnet",shortName:"Testnet",value:"testnet"},[no.Devnet]:{id:no.Devnet,name:"Solana Devnet",shortName:"Devnet",value:"devnet"},[no.Localnet]:{id:no.Localnet,name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:no.Localnet,mainnetID:no.Mainnet,tokenDecimals:9,tokenSymbol:"SOL",slip44:Nn.Solana};m();g();var Gwe={id:St.Sui,addressTypes:[We.Sui],iconUrl:"https://static.phantom.app/assets/sui.png",name:"Sui",networks:{[$c.Mainnet]:{id:$c.Mainnet,name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},[$c.Testnet]:{id:$c.Testnet,name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:$c.Mainnet,tokenDecimals:9,tokenSymbol:"SUI",slip44:Nn.Sui},$we=be.object({networkID:qg,addressType:be.nativeEnum(We),address:fb,publicKey:be.instanceof(Uint8Array).optional()});m();g();var xj=class extends Error{static{o(this,"UnsupportedChainFeatureError")}chain;feature;constructor(e,r){super(`${r} is not yet supported for ${e}`),this.chain=e,this.feature=r,this.name="UnsupportedChainFeatureError"}},vj=class extends xj{static{o(this,"UnsupportedSuiChainError")}constructor(e){super(St.Sui,e)}};m();g();function t9(t){return Object.values(St).includes(t)}o(t9,"isChain");var os={[St.Bitcoin]:yj,[St.Ethereum]:Hwe,[St.Polygon]:Kwe,[St.Monad]:zwe,[St.Solana]:bj,[St.Base]:Fwe,[St.Sui]:Gwe,[St.Arbitrum]:Uwe,[St.Hypercore]:qwe,[St.Hyperevm]:jwe},r9={[St.Solana]:1,[St.Ethereum]:2,[St.Bitcoin]:3,[St.Monad]:4,[St.Base]:5,[St.Sui]:6,[St.Polygon]:7,[St.Arbitrum]:8,[St.Hypercore]:9,[St.Hyperevm]:10},hft={[St.Solana]:!0,[St.Ethereum]:!0,[St.Monad]:!0,[St.Base]:!0,[St.Polygon]:!0,[St.Bitcoin]:!0,[St.Sui]:!0,[St.Arbitrum]:!1,[St.Hypercore]:!1,[St.Hyperevm]:!0},_j=o((t,e)=>{let r=r9[t]-r9[e];return r===0?0:r>0?1:-1},"compareChain"),pft=o(()=>{let t=Object.values(St).sort(_j),e=t.map(ye=>os[ye]),r={},n=[],i={},s={},a={};e.forEach(ye=>{let he=Object.fromEntries(Object.entries(ye.networks).filter(([Ae,Ne])=>!Ne.hidden)),ge=Object.keys(he);n.push(...ge),ge.forEach(Ae=>{r[Ae]=ye});let ur=Object.values(he);i[ye.id]=ur.map(Ae=>Ae.id),ur.forEach(Ae=>{s[Ae.id]=Ae});for(let Ae of ye.addressTypes){let Ne=a[Ae];Ne?Ne.push(ye.id):a[Ae]=[ye.id]}});let c=new Set(n);function l(ye){return ye?.evmOnly?t.filter(he=>os[he].addressTypes.includes(We.EVM)):t}o(l,"getAllChainIDs");function h(ye){return hft[ye]}o(h,"isChainDefaultEnabled");function y(ye){return n.filter(he=>r[he].id===ye)}o(y,"getNetworkIDs");function p(ye){if(!ye)return n;let he=n;return ye.evmOnly&&(he=he.filter(ge=>v(ge))),ye.mainnetOnly&&(he=he.filter(ge=>U(ge))),he}o(p,"getAllNetworkIDs");function E(ye){return r[ye]}o(E,"getChainDefinition");function I(ye){return s[ye].rpcProxyUrl}o(I,"getRpcProxyUrl");function O(ye){return r[ye].addressTypes[0]}o(O,"_DO_NOT_USE_getAddressType");function N(ye){let he=r[ye];if(he.addressTypes.length===1){let[ge]=he.addressTypes;return ge}else throw`The chain ${he.id} has multiple address types`}o(N,"getAddressType");function k(ye){return r[ye].addressTypes}o(k,"getAddressTypes");function C(ye){return r[ye].id}o(C,"getChainID");function L(ye){return os[le(ye)].name}o(L,"getChainName");function M(ye){return r[ye].tokenDecimals}o(M,"getTokenDecimals");function P(ye){return(X(ye)?r[ye]:os[ye]).tokenSymbol}o(P,"getTokenSymbol");function H(ye){return(X(ye)?r[ye]:os[ye]).iconUrl}o(H,"getChainIconUrl");function F(ye){return r[ye].slip44}o(F,"getSlip44");function J(ye){return os[le(ye)].mainnetID}o(J,"getMainnetNetworkID");function W(ye){let he;if(v(ye)&&(he=s[ye].value),typeof he=="number")return he;throw new Error(`Invalid NetworkID: ${ye}. Must be an EVM NetworkID.`)}o(W,"getEVMNetworkIDValue");function X(ye){return c.has(ye)}o(X,"isNetworkID");function S(ye){return Object.keys(os.bitcoin.networks).includes(ye)}o(S,"isBitcoinNetworkID");function f(ye){return Object.keys(os.ethereum.networks).includes(ye)}o(f,"isEthereumNetworkID");function d(ye){return Object.keys(os.polygon.networks).includes(ye)}o(d,"isPolygonNetworkID");function b(ye){return Object.keys(os.base.networks).includes(ye)}o(b,"isBaseNetworkID");function x(ye){return Object.keys(os.arbitrum.networks).includes(ye)}o(x,"isArbitrumNetworkID");function _(ye){return Object.keys(os.monad.networks).includes(ye)}o(_,"isMonadNetworkID");function A(ye){return Object.keys(os.hypercore.networks).includes(ye)}o(A,"isHypercoreNetworkID");function T(ye){return Object.keys(os.hyperevm.networks).includes(ye)}o(T,"isHyperevmNetworkID");function v(ye){return f(ye)||d(ye)||b(ye)||_(ye)||x(ye)||A(ye)||T(ye)}o(v,"isEVMNetworkID");function u(ye){return Object.keys(os.solana.networks).includes(ye)}o(u,"isSolanaNetworkID");function w(ye){return Object.keys(os.sui.networks).includes(ye)}o(w,"isSuiNetworkID");function V(ye){if(!u(ye))throw new Error(`Invalid NetworkID: ${ye}. Must be a Solana NetworkID.`);return os.solana.networks[ye].value}o(V,"getSolanaNetworkIDValue");function q(ye){return r[ye].localnetID===ye}o(q,"isLocalNetworkID");function U(ye){return r[ye].mainnetID===ye}o(U,"isMainnetNetworkID");function $(ye){return s[ye]}o($,"getNetworkDefinition");function ee(ye,he=!1){let ge=s[ye];return he&&ge.shortName?ge.shortName:ge.name}o(ee,"getNetworkName");function re(ye){return r[ye].parentChain}o(re,"getParentChain");function Oe(ye){return a[ye]}o(Oe,"getChainIDs");function ae(ye,he){let ge=r[ye].id,ur=r[he].id;return _j(ge,ur)}o(ae,"compareNetworkID");function le(ye){return t9(ye)?ye:X(ye)?Nt.getChainID(ye):xs(ye)}return o(le,"getChain"),{...os,getAllChainIDs:l,isChainDefaultEnabled:h,getNetworkIDs:y,getAllNetworkIDs:p,getChainDefinition:E,getAddressType:N,getAddressTypes:k,getChainID:C,getChainName:L,getTokenDecimals:M,getTokenSymbol:P,getChainIconUrl:H,getSlip44:F,getMainnetNetworkID:J,getEVMNetworkIDValue:W,getSolanaNetworkIDValue:V,_DO_NOT_USE_getAddressType:O,isNetworkID:X,isMonadNetworkID:_,isBitcoinNetworkID:S,isEVMNetworkID:v,isSolanaNetworkID:u,isEthereumNetworkID:f,isPolygonNetworkID:d,isBaseNetworkID:b,isArbitrumNetworkID:x,isSuiNetworkID:w,isHypercoreNetworkID:A,isHyperevmNetworkID:T,isLocalNetworkID:q,isMainnetNetworkID:U,getNetworkDefinition:$,getNetworkName:ee,getChainIDs:Oe,compareChain:_j,compareNetworkID:ae,getRpcProxyUrl:I,getParentChain:re}},"createChains"),Nt=pft();m();g();m();g();var hhr=be.union([NS,e9,MS,$we,Vwe]);var _n;(function(t){t.address="address",t.tx="tx",t.nativeToken="nativeToken"})(_n||(_n={}));var Wwe=be.string(),Ywe=be.object({chainId:xh,resourceType:be.nativeEnum(_n)}),wj=Ywe.extend({resourceType:be.literal(_n.nativeToken),slip44:be.nativeEnum(Nn)}),s0=Ywe.extend({resourceType:be.literal(_n.address),address:be.string()}),Ej=s0.extend({chainId:np,address:cb}),Sj=s0.extend({chainId:op,address:ab,tokenId:be.string().optional()}),Aj=s0.extend({chainId:ip,address:$v.or(be.string())}),mft=s0.extend({chainId:qg,address:fb,tokenId:be.string().optional()}),Xwe=s0.extend({chainId:bh,address:U6,tokenId:be.string().optional()}),Zwe=s0.extend({chainId:Vg,address:sX,tokenId:be.string().optional()}),Jwe=be.union([wj,s0,Ej,Sj,Aj,mft]);m();g();var Qwe=o(t=>{let e=t.split("/");if(e.length>3||e.length<2)throw new Error(`Cannot decode malformed caip19 string '${t}'`);let r=e[0];if(!(Nt.isEVMNetworkID(r)||Nt.isSolanaNetworkID(r)||Nt.isBitcoinNetworkID(r)||Nt.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=e[1].split(/:(.+)/),[i,s]=n;if(!i||!s)throw new Error(`Invalid resource specification '${e[1]}'`);if(!Object.values(_n).includes(i))throw new Error(`Unsupported resource type '${i}'`);if(i===_n.nativeToken){if(!Object.values(Nn).includes(s))throw new Error(`Unsupported slip44 '${s}'`);return{chainId:r,resourceType:i,slip44:s}}else if(Nt.isEVMNetworkID(r)){if(i===_n.address)return e.length===3?{chainId:r,address:s,resourceType:i,tokenId:e[2]}:{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Nt.isSolanaNetworkID(r)){if(i===_n.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Nt.isBitcoinNetworkID(r)){if(i===_n.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Nt.isSuiNetworkID(r)){if(i===_n.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${t}'`)},"decodeCaip19");m();g();var eEe=o(t=>{if(t.resourceType===_n.nativeToken)return`${t.chainId}/${_n.nativeToken}:${t.slip44}`;if(Nt.isHypercoreNetworkID(t.chainId))return"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${_n.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${_n.address}:${t.address}`;if(Nt.isEVMNetworkID(t.chainId))return t.address=t.address.toLowerCase(),"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${_n.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${_n.address}:${t.address}`;if(Nt.isSolanaNetworkID(t.chainId))return`${t.chainId}/${_n.address}:${t.address}`;if(Nt.isBitcoinNetworkID(t.chainId)){let e=t;return`${e.chainId}/${_n.address}:${e.address}`}return Nt.isSuiNetworkID(t.chainId)?"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${_n.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${_n.address}:${t.address}`:xs(t.chainId)},"encodeCaip19");m();g();m();g();var tEe=be.string().refine(t=>{let e=t.split("/");if(e.length<2)return!1;let r=e[0],i=e[1].split(":");if(i.length<2)return!1;let s=i[0],a=i[1];return typeof t=="string"&&Nt.isNetworkID(r)&&s.match(/^[-a-z0-9]{2,8}/)&&a.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});m();g();function rEe(t){return!t||t.resourceType!==_n.address?!1:!!Nt.isEVMNetworkID(t.chainId)}o(rEe,"isEvmCaip19Address");m();g();function nEe(t,e){return Nt.isBitcoinNetworkID(e)?$v.safeParse(t).success:Nt.isEVMNetworkID(e)?ab.safeParse(t).success:Nt.isSolanaNetworkID(e)?cb.safeParse(t).success:Nt.isSuiNetworkID(e)?fb.safeParse(t).success:xs(e)}o(nEe,"validateAddress");m();g();var iEe=o(t=>{let e=Nt.getNetworkIDs(t),r=Nt.getMainnetNetworkID(e[0]),n=Nt[t].slip44;return{chainId:r,resourceType:_n.nativeToken,slip44:n}},"getNativeFungibleCaip19ForChain");m();g();m();g();function oEe(t){return NS.safeParse(t).success}o(oEe,"isBitcoinChainAddress");function sEe(t){return MS.safeParse(t).success}o(sEe,"isSolanaChainAddress");function aEe(t){return e9.safeParse(t).success}o(aEe,"isEVMChainAddress");var cEe=be.object({networkID:xh,addressType:be.nativeEnum(We),address:be.string()}),gft=o(t=>`${t.networkID}-${t.address}`,"toKey"),fEe={toKey:gft},uEe=o(t=>{let e={chainId:t.networkID,address:t.address,resourceType:_n.address};return Nt.isEVMNetworkID(t.networkID)&&(e.address=e.address.toLowerCase()),e},"chainAddressToCaip19Address");m();g();function lEe(t){return[Mn.Solana.Devnet,Mn.Solana.Testnet,Mn.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(t,16))?`solana:${parseInt(t,16)}`:`eip155:${parseInt(t,16)}`}o(lEe,"hexToCAIP2");m();g();var dEe=be.object({id:xh,name:be.string(),symbol:be.string(),imageUrl:be.string()});function hEe(t){let{name:e,tokenSymbol:r,iconUrl:n}=Nt.getChainDefinition(t);return{id:t,name:e,symbol:r,imageUrl:n}}o(hEe,"getNetworkMetadata");m();g();function pEe(t){switch(t){case"devnet":return Mn.Solana.Devnet;case"mainnet":return Mn.Solana.Mainnet;case"testnet":return Mn.Solana.Testnet;case"localnet":return Mn.Solana.Localnet}}o(pEe,"solanaNetworkIDToCAIPSolanaNetworkID");function mEe(t){switch(t){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return t}}o(mEe,"solanaNetworkIDToClusterID");m();g();var gEe=o((t,e)=>{if(Nt.isBitcoinNetworkID(t)){switch(!0){case(e.startsWith("bc1p")||e.startsWith("bcrt1p")||e.startsWith("tb1p")):return We.BitcoinTaproot;case(e.startsWith("bc1q")||e.startsWith("tb1q")):return We.BitcoinNativeSegwit;case(e.startsWith("3")||e.startsWith("2")):return We.BitcoinNestedSegwit;case(e.startsWith("1")||e.startsWith("m")):return We.BitcoinLegacy}throw new Error(`Unable to get address type from invalid Bitcoin address: ${e}`)}else return Nt.isEVMNetworkID(t)?We.EVM:Nt.isSolanaNetworkID(t)?We.Solana:Nt.isSuiNetworkID(t)?We.Sui:xs(t)},"addressTypeFromAddress");m();g();var yft=Nt.getAllNetworkIDs().filter(t=>Nt.isEVMNetworkID(t)),yEe=o(t=>yft.find(e=>Nt.getNetworkDefinition(e).value===t),"evmNetworkIdForChainIdValue");m();g();var bEe=o(t=>Nt.getAllNetworkIDs({evmOnly:!0}).filter(e=>{if(t){if(t==="mainnets_only")return Nt.isMainnetNetworkID(e);if(t==="testnets_only")return!Nt.isMainnetNetworkID(e)}else return!0}).map(Ij),"getEthSupportedNetworkIds"),Ij=o(t=>`0x${Nt.getNetworkDefinition(t).value.toString(16)}`,"networkIDToHex");m();g();m();g();m();g();var Tj=class{static{o(this,"WeakRefPolyfill")}value;constructor(e){this.value=e}deref(){return this.value}},xEe=typeof WeakRef=="function"?WeakRef:Tj;m();g();m();g();m();g();var bft=o(t=>{setTimeout(()=>{t()},0)},"_scheduleFlush"),xft=o(t=>t(),"_runBatch");var Rj=o(t=>{bft(t)},"scheduleFlush"),vEe=o(t=>{xft(t)},"runBatch");m();g();m();g();m();g();m();g();var _Ee;var Wv=o(t=>{_Ee=t},"setCurrentConsumer"),Xi=o(()=>_Ee,"getCurrentConsumer");function n9(t){let e=t._state;e!==2&&(t._state=2,e<3&&Oj(t))}o(n9,"dirtySignal");function Oj(t){if(Xi()===t)throw new Error("A signal was dirtied after it was consumed by the current function. This can cause race conditions and infinite rerenders and is not allowed.");h1(t)?t.watchCount>0&&o9(t):(t._isListener&&i9(t),CS(t.subs),t.subs=new Map)}o(Oj,"propagateDirty");function CS(t){for(let[e,r]of t){let n=e.deref();if(n===void 0||n.computedCount!==r.consumedAt)continue;let i=n._state;switch(i){case 0:n._state=3,n.dirtyHead=r,r.nextDirty=void 0,Oj(n);break;case 1:case 3:case 4:{let s=n.dirtyHead,a=r.ord;if(s.ord>a)n.dirtyHead=r,r.nextDirty=s,(i===1||i===4)&&(n._state=3,Oj(n));else{let c=s.nextDirty;for(;c!==void 0&&c.ord<a;)s=c,c=s.nextDirty;r.nextDirty=c,s.nextDirty=r}break}}}}o(CS,"dirtySignalConsumers");m();g();var wEe=0;function kS(t,e,r,n,i){return t===void 0?{type:e,dep:r,ord:wEe++,updatedAt:n,consumedAt:i,nextDirty:void 0}:(t.ord=wEe++,t.updatedAt=n,t.consumedAt=i,t.nextDirty=void 0,t)}o(kS,"createEdge");function EEe(t,e){let r=t.dirtyHead;if(r===void 0)return;if(r.dep===e)return t.dirtyHead=r.nextDirty,r;let n=r.nextDirty;for(;n!==void 0;){if(n.dep===e)return r.nextDirty=n.nextDirty,n;r=n,n=r.nextDirty}}o(EEe,"findAndRemoveDirty");m();g();var vft=0,s9=class{static{o(this,"StateSignal")}_value;_equals;_subs=new Map;_desc;_id;_listeners=null;constructor(e,r=(i,s)=>i===s,n="signal"){this._value=e,this._equals=r,this._id=vft++,this._desc=n}get value(){return this.consume(),this._value}update(e){this.value=e(this._value)}set value(e){this._equals(e,this._value)||(this._value=e,this.notify())}consume(){let e=Xi(),r=ll();e!==void 0&&(r?.emit({type:ou.ConsumeState,id:e.tracerMeta.id,name:this._desc,childId:this._id,value:this._value,setValue:o(n=>{this.value=n},"setValue")}),this._subs.set(e.ref,e.computedCount))}notify(){let{_subs:e}=this;for(let[r,n]of e.entries()){let i=r.deref();i===void 0||n!==i.computedCount||n9(i)}this._subs=new Map,a9(this)}addListener(e){let r=this._listeners;return r===null&&(this._listeners=r=new Set),r.add(e),()=>r.delete(e)}};function SEe(t){let e=t._listeners;if(e!==null)for(let r of e)r()}o(SEe,"runListeners");var AEe=o(()=>!1,"FALSE_EQUALS");function km(t,e){let r=e?.equals===!1?AEe:e?.equals??((n,i)=>n===i);return new s9(t,r,e?.desc)}o(km,"signal");var _ft=o(t=>new s9(void 0,AEe,t?.desc),"notifier");m();g();var BS=o((t,e)=>t===e,"DEFAULT_EQUALS"),wft=o(()=>!1,"FALSE_EQUALS"),PS=o(t=>t===!1?wft:t??BS,"equalsFrom");m();g();m();g();m();g();var Eft=function*(){}().constructor;function c9(t){return t.constructor===Eft}o(c9,"isGeneratorResult");function Yv(t){return t.constructor===Promise}o(Yv,"isPromise");function IEe(t,e){function r(n){return typeof n=="object"&&n!==null&&(Yv(n)||dl(n))?n:Promise.resolve(n)}return o(r,"adopt"),new Promise((n,i)=>{function s(y,p){let E=Xi();try{Wv(e);let I=y(p);I.done?n(I.value):r(I.value).then(l,h)}catch(I){i(I)}finally{Wv(E)}}o(s,"step");let a=t.next.bind(t),c=t.throw.bind(t);function l(y){s(a,y)}o(l,"fulfilled");function h(y){s(c,y)}o(h,"rejected"),s(a)})}o(IEe,"generatorResultToPromiseWithConsumer");function TEe(t,e){function r(n){return typeof n=="object"&&n!==null&&(Yv(n)||dl(n))?n:Promise.resolve(n)}return o(r,"adopt"),new Promise((n,i)=>{function s(y,p){let E=f9();try{Xv(e);let I=y(p);I.done?n(I.value):r(I.value).then(l,h)}catch(I){i(I)}finally{Xv(E)}}o(s,"step");let a=t.next.bind(t),c=t.throw.bind(t);function l(y){s(a,y)}o(l,"fulfilled");function h(y){s(c,y)}o(h,"rejected"),s(a)})}o(TEe,"generatorResultToPromiseWithScope");var LS,Nj=class{static{o(this,"Callback")}scope;deps;_callbacks;fn;constructor(e,r,n){this.deps=n,this.scope=r,this.setFn(e)}get callbacks(){return this._callbacks??(this._callbacks=[])}setFn(e){this.fn=(...r)=>{let n=this.scope,i=f9(),s=LS;try{LS=this,Xv(n);let a=e(...r);return typeof a=="object"&&a!==null&&c9(a)?TEe(a,n):a}finally{LS=s,Xv(i)}}}};function Mj(t,e,r){return new Nj(t,e,r)}o(Mj,"createCallback");function ao(t,e,r){let n;if(LS!==void 0)n=LS.callbacks;else{let s=Xi();if(s===void 0)throw new Error("callback must be used within a reactive function, component, or nested callback");n=s.callbacks??(s.callbacks=[])}let i=n[e];return i===void 0?i=n[e]=Mj(t,a0(),r):r&&i.deps?.findIndex((s,a)=>s!==r[a])!==-1&&(i.setFn(t),i.deps=r),i.fn}o(ao,"callback");var u9=Array.from;function Sft(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}o(Sft,"isThenable");function l9(t,e,r){Sft(t)?t.then(e,r):e(t)}o(l9,"thenLoop");var Zv=class t{static{o(this,"ReactivePromiseImpl")}_value=void 0;_error=void 0;_flags=1;_signal=void 0;_equals=BS;_promise;_pending=[];_stateSubs=new Map;_awaitSubs=new Map;_updatedCount=0;_version=km(0);run=void 0;constructor(e){if(OEe(this),e){let r=o(i=>{i&&typeof i.then=="function"?this._setPromise(i):this._setValue(i)},"resolve"),n=o(i=>{this._setError(i)},"reject");try{e(r,n)}catch(i){n(i)}}}static all(e){let r=new t,n=u9(e),i=n.length;if(i===0)return r._setValue([]),r;let s=new Array(i),a=i,c=!1,l=o(y=>p=>{c||(s[y]=p,--a===0&&r._setValue(s))},"onFulfillAt"),h=o(y=>{c||(c=!0,r._setError(y))},"onReject");for(let y=0;y<i;y++)l9(n[y],l(y),h);return r}static race(e){let r=new t,n=u9(e),i=n.length;if(i===0)return r;let s=!1,a=o(l=>{s||(s=!0,r._setValue(l))},"onFulfill"),c=o(l=>{s||(s=!0,r._setError(l))},"onReject");for(let l=0;l<i;l++)l9(n[l],a,c);return r}static any(e){let r=new t,n=u9(e),i=n.length;if(i===0)return r._setError(new AggregateError([],"No promises were provided to ReactivePromise.any")),r;let s=i,a=new Array(i),c=!1,l=o(y=>{c||(c=!0,r._setValue(y))},"onFulfill"),h=o(y=>p=>{c||(a[y]=p,--s===0&&r._setError(new AggregateError(a,"All promises were rejected in ReactivePromise.any")))},"onRejectAt");for(let y=0;y<i;y++)l9(n[y],l,h(y));return r}static allSettled(e){let r=new t,n=u9(e),i=n.length;if(i===0)return r._setValue([]),r;let s=new Array(i),a=i,c=o(h=>y=>{s[h]={status:"fulfilled",value:y},--a===0&&r._setValue(s)},"onFulfillAt"),l=o(h=>y=>{s[h]={status:"rejected",reason:y},--a===0&&r._setValue(s)},"onRejectAt");for(let h=0;h<i;h++)l9(n[h],c(h),l(h));return r}static resolve(e){return e instanceof t?e:new t(r=>r(e))}static reject(e){return new t((r,n)=>n(e))}static withResolvers(){let e=new t;return e._equals=BS,e._initFlags(1),{promise:e,resolve:o(i=>{i&&typeof i.then=="function"?e._setPromise(i):e._setValue(i)},"resolve"),reject:o(i=>{e._setError(i)},"reject")}}_initFlags(e){let r=ll();r!==void 0&&this._signal!==void 0&&e&1&&r.emit({type:ou.StartLoading,id:this._signal.tracerMeta.id}),this._flags=e}_consumeFlags(e){let r=Xi();if(r===void 0)return;this._flags&128&&this._connect();let n=r.ref,i=this._stateSubs,s=i.get(n)??0;i.set(n,s|e)}_connect(){let e=this._signal,r=Xi();if(r?.watchCount===0){let{ref:n,computedCount:i,deps:s}=r,a=s.get(e);if(a?.consumedAt!==i){let c=kS(a,0,e,e.updatedCount,i);e.subs.set(n,c),s.set(e,c)}}else DS(e)}_setFlags(e,r=0,n=0){let i=this._flags,s=i&~r|e,a=i^s|n;if(this._flags=s,a===0)return;a&48&&this._updatedCount++;let c=this._stateSubs;for(let[h,y]of c)if(y&a){let p=h.deref();p&&n9(p),c.delete(h)}this._version.update(h=>h+1);let l=ll();l!==void 0&&this._signal!==void 0&&(e&1&&a&1?l.emit({type:ou.StartLoading,id:this._signal.tracerMeta.id}):r&1&&a&1&&l.emit({type:ou.EndLoading,id:this._signal.tracerMeta.id,value:Cj(this)?"...":this._value}))}_setPending(){return this._setFlags(1),CS(this._awaitSubs),this._awaitSubs=new Map}_clearPending(){this._setFlags(0,1)}async _setPromise(e){this._promise=e;let r=this._flags,n=this._awaitSubs;r&1||(n=this._setPending());try{let i=await e;if(e!==this._promise)return;this._setValue(i,n)}catch(i){if(e!==this._promise)return;this._setError(i,n)}}_setValue(e,r=this._awaitSubs){let n=this._flags,i=this._value,s=0;(!(n&8)||this._equals(i,e)===!1)&&(this._value=i=e,s=16),n&2&&(s=32,this._error=void 0),n&1?this._scheduleSubs(r,s!==0):s!==0&&CS(r),this._awaitSubs=r=new Map,this._setFlags(12,3,s);let a=this._pending;this._pending=[];let c=this._updatedCount;for(let{ref:h,edge:y,resolve:p}of a)p?.(i),h!==void 0&&(y.updatedAt=c,r.set(h,y));let l=this._signal;l!==void 0&&d9(l)}_setError(e,r=this._awaitSubs){let n=this._error,i=0;n!==e&&(this._error=n=e,i=32),this._flags&1?this._scheduleSubs(r,i!==0):i!==0&&CS(r),this._awaitSubs=r=new Map,this._setFlags(2,5,i);let s=this._pending;this._pending=[];let a=this._updatedCount;for(let{ref:l,edge:h,reject:y}of s)y?.(n),l!==void 0&&(h.updatedAt=a,r.set(l,h));let c=this._signal;c!==void 0&&d9(c)}_scheduleSubs(e,r){let n=r?2:4;for(let i of e.keys()){let s=i.deref();s!==void 0&&(s._state=n,o9(s))}}get value(){return this._consumeFlags(16),this._value}get error(){return this._consumeFlags(32),this._error}get isPending(){return this._consumeFlags(1),(this._flags&1)!==0}get isRejected(){return this._consumeFlags(2),(this._flags&2)!==0}get isResolved(){return this._consumeFlags(4),(this._flags&4)!==0}get isReady(){return this._consumeFlags(8),(this._flags&8)!==0}get isSettled(){return this._consumeFlags(6),(this._flags&6)!==0}then(e,r){let n=this._flags;return new Promise((i,s)=>{let a,c,l=Xi();if(l!==void 0){n&128&&(this._connect(),n=this._flags),a=l.ref;let p=this._awaitSubs.get(a)??EEe(l,this);c=kS(p,1,this,this._updatedCount,l.computedCount)}let h=e?p=>{try{let E=e(p);i(E)}catch(E){s(E)}}:i,y=r?p=>{try{let E=r(p);i(E)}catch(E){s(E)}}:s;n&1?this._pending.push({ref:a,edge:c,resolve:h,reject:y}):(n&4?h(this._value):n&2&&y(this._error),a&&this._awaitSubs.set(a,c))})}catch(e){return this.then(null,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}get[Symbol.toStringTag](){return"ReactivePromise"}},REe=new WeakSet;function OEe(t){REe.add(t)}o(OEe,"setReactivePromise");function dl(t){return REe.has(t)}o(dl,"isReactivePromise");function Cj(t){return dl(t)&&(t._flags&128)!==0}o(Cj,"isRelay");function NEe(t,e){let r=new Zv;return r._signal=e,r._equals=e.def.equals,r._initFlags(1),r._setPromise(t),r}o(NEe,"createPromise");function MEe(t,e,r){let n=new Zv,i=!1,s,a=o(()=>{typeof s=="function"?s():s!==void 0&&s.deactivate?.();let h=n._signal;h.subs=new Map,h._state=2,h.watchCount=0,i=!1,s=void 0},"unsubscribe"),c={get value(){return n._value},set value(h){n._setValue(h)},setPromise:o(h=>{n._setPromise(h)},"setPromise"),setError:o(h=>{n._setError(h)},"setError")},l={compute:o(()=>(i===!1?(s=t(c),i=!0):typeof s=="function"||s===void 0?(s?.(),s=t(c)):s.update?.(),a),"compute"),equals:BS,isRelay:!0,paramKey:r?.paramKey,id:r?.id,desc:r?.desc,tracer:void 0};return n._signal=Bm(l,[],void 0,e),n._equals=PS(r?.equals),n._initFlags(129),n}o(MEe,"createRelay");function CEe(t,e,r){let n=new Zv,{fn:i}=Mj(t,e);return n._equals=PS(r?.equals),n._initFlags(64),n.run=(...s)=>(n._setPromise(i(...s)),n),n}o(CEe,"createTask");var Aft=Zv;m();g();function p1(t){let{watchCount:e}=t,r=e+1;if(t.watchCount=r,!(e>0)){t.scope?.removeFromGc(t);for(let n of t.deps.keys())p1(n);h1(t)&&c0(t)}}o(p1,"watchSignal");function h9(t,e=1){let{watchCount:r}=t,n=Math.max(r-e,0);if(t.watchCount=n,!(n>0)){for(let i of t.deps.keys())h9(i);h1(t)&&t._value?.(),n===0&&t.scope&&t.scope.markForGc(t)}}o(h9,"unwatchSignal");function DS(t){let e=Xi();if(e!==void 0){let{ref:r,computedCount:n,deps:i}=e,s=i.get(t);if(s?.consumedAt!==n){s===void 0&&(ll()?.emit({type:ou.Connected,id:e.tracerMeta.id,childId:t.tracerMeta.id,name:t.tracerMeta.desc,params:t.tracerMeta.params,nodeType:m9.Reactive}),e.watchCount>0&&p1(t));let c=c0(t),l=kS(s,0,t,c,n);t.subs.set(r,l),i.set(t,l)}else{let c=c0(t);s!==void 0&&(s.updatedAt=c)}}else c0(t);return t._value}o(DS,"getSignal");function c0(t){let{ref:e,_state:r}=t;if(r<2)return t.updatedCount;if(r>=3){let i=t.dirtyHead;for(;i!==void 0;){if(i.type===1){let c=i.dep;if(c.isPending){let l=t._value;return c._awaitSubs.set(e,i),l._setPending(),t._state=1,t.dirtyHead=i,t.updatedCount}else if(i.updatedAt===i.dep._updatedCount)c._awaitSubs.set(e,i);else{t.dirtyHead=i.nextDirty,t._state=2;break}i=i.nextDirty;continue}let s=i.dep,a=c0(s);if(s.subs.set(e,i),i.updatedAt!==a){t.dirtyHead=i.nextDirty,t._state=2;break}i=i.nextDirty}}let n=t._state;return n===2?t._isLazy?t.updatedCount++:kEe(t):n===4&&t._value._clearPending(),t._state=0,t.dirtyHead=void 0,ll()!==void 0&&t.tracerMeta?.tracer&&kj(t.tracerMeta.tracer),t.updatedCount}o(c0,"checkSignal");function kEe(t){let e=ll();e?.emit({type:ou.StartUpdate,id:t.tracerMeta.id});let r=Xi(),n=t.updatedCount,i=++t.computedCount;try{Wv(t);let s=n!==0,a=t._value,c=t.def.compute(...t.args),l=!1;c!==null&&typeof c=="object"&&(c9(c)?(c=IEe(c,t),l=!0):Yv(c)&&(l=!0)),l?a!==null&&typeof a=="object"&&dl(a)?a._setPromise(c):(t._value=NEe(c,t),t.updatedCount=n+1):((!s||!t.def.equals(a,c))&&(t._value=c,t.updatedCount=t._isLazy?n:n+1),d9(t,i))}finally{Wv(r),e?.emit({type:ou.EndUpdate,id:t.tracerMeta.id,value:h1(t)?"...":t._value})}}o(kEe,"runSignal");function d9(t,e=t.computedCount){let{ref:r,deps:n}=t;for(let[i,s]of n)s.consumedAt!==e&&(p9(i),i.subs.delete(r),n.delete(i))}o(d9,"disconnectSignal");function BEe(t){let e=t.listeners,r=c0(t);return e!==null&&e.updatedAt!==r&&(e.updatedAt=r,a9(t)),r}o(BEe,"checkAndRunListeners");var Ift=typeof requestIdleCallback=="function"?requestIdleCallback:t=>Rj(t),US=new Set,y9=[],b9=new Map,Bj=[],Pj=[],g9=new Set,Tft=o(()=>Promise.resolve(),"microtask"),x9=null,FS=o(t=>{if(x9)return;let e;x9={promise:new Promise(n=>e=n),resolve:e},Rj(Jv)},"scheduleFlush"),i9=o(t=>{US.add(t),FS(Jv)},"schedulePull"),PEe=o(t=>{US.delete(t)},"cancelPull"),o9=o(t=>{y9.push(t),FS(Jv)},"scheduleAsyncPull"),p9=o(t=>{let e=b9.get(t)??0;b9.set(t,e+1),FS(Jv)},"scheduleUnwatch"),a9=o(t=>{Bj.push(t),FS(Jv)},"scheduleListeners"),kj=o(t=>{Pj.push(t),FS(Jv)},"scheduleTracer"),LEe=o(t=>{g9.add(t),!(g9.size>1)&&Ift(()=>{for(let e of g9)e.sweepGc();g9.clear()})},"scheduleGcSweep"),Jv=o(async()=>{let t=x9;for(;y9.length>0||US.size>0;){let e=y9;y9=[];for(let n of e)c0(n);let r=US;US=new Set;for(let n of r)BEe(n);await Tft()}x9=null,vEe(()=>{for(let[e,r]of b9)h9(e,r);for(let e of Bj)e instanceof HS?DEe(e):SEe(e);for(let e of Pj)e.flush();b9.clear(),Bj=[],Pj=[]}),t.resolve()},"flushWatchers");var Rft,ll=o(()=>Rft,"getTracerProxy"),ou;(function(t){t.StartUpdate="StartUpdate",t.EndUpdate="EndUpdate",t.StartLoading="StartLoading",t.EndLoading="EndLoading",t.Connected="Connected",t.Disconnected="Disconnected",t.ConsumeState="ConsumeState"})(ou||(ou={}));var m9;(function(t){t.State="state",t.Reactive="reactive",t.Watcher="watcher"})(m9||(m9={}));m();g();var Oft=0,UEe=new Map;function FEe(t){let e=UEe.get(t);return e===void 0&&(e=`unknownSignal${Oft++}`,UEe.set(t,e)),e}o(FEe,"getUnknownSignalFnName");m();g();var{log:HEe,floor:qEe,imul:Bo,abs:Nft}=Math;function su(t,e=0){let r=e^t.length,n=3432918353,i=461845907,s=0;for(;s+4<=t.length;){let c=t.charCodeAt(s)&255|(t.charCodeAt(s+1)&255)<<8|(t.charCodeAt(s+2)&255)<<16|(t.charCodeAt(s+3)&255)<<24;c=Bo(c,n),c=c<<15|c>>>17,c=Bo(c,i),r^=c,r=r<<13|r>>>19,r=Bo(r,5)+3864292196,s+=4}let a=0;switch(t.length&3){case 3:a^=(t.charCodeAt(s+2)&255)<<16;case 2:a^=(t.charCodeAt(s+1)&255)<<8;case 1:a^=t.charCodeAt(s)&255,a=Bo(a,n),a=a<<15|a>>>17,a=Bo(a,i),r^=a}return r^=t.length,r^=r>>>16,r=Bo(r,2246822507),r^=r>>>13,r=Bo(r,3266489909),r^=r>>>16,r>>>0}o(su,"hashStr");function jEe(t,e=0){t=Nft(t);let r=e,n=3432918353,i=461845907;for(;t>=4294967295;){let a=t&4294967295;t=qEe(t/4294967296),a=Bo(a,n),a=a<<15|a>>>17,a=Bo(a,i),r^=a,r=r<<13|r>>>19,r=Bo(r,5)+3864292196}if(t>0){let a=t&4294967295;a=Bo(a,n),a=a<<15|a>>>17,a=Bo(a,i),r^=a}let s=t===0?1:qEe(HEe(t)/HEe(256))+1;return r^=s,r^=r>>>16,r=Bo(r,2246822507),r^=r>>>13,r=Bo(r,3266489909),r^=r>>>16,r>>>0}o(jEe,"hashNumber");function Dj(t){let e=7,r=3432918353,n=461845907;for(let i of t){let s=au(i);s=Bo(s,r),s=s<<15|s>>>17,s=Bo(s,n),e^=s,e=e<<13|e>>>19,e=Bo(e,5)+3864292196}return e^=t.length,e^=e>>>16,e=Bo(e,2246822507),e^=e>>>13,e=Bo(e,3266489909),e^=e>>>16,e>>>0}o(Dj,"hashArray");function Mft(t){let e=Hft,r=Object.keys(t);for(let n of r)e+=au(n)^au(t[n]);return e>>>0}o(Mft,"hashObject");function Cft(t){let e=13;for(let r of t)e+=au(r);return e>>>0}o(Cft,"hashSet");function kft(t){let e=12;for(let[r,n]of t)e+=au(r)^au(n);return e>>>0}o(kft,"hashMap");function Bft(t){return jEe(t.getTime(),14)}o(Bft,"hashDate");function Pft(t){return(su(t.source+t.flags,15)^t.lastIndex)>>>0}o(Pft,"hashRegExp");var Lft=su("undefined",0),Dft=su("null",1),Uft=su("true",2),Fft=su("false",3),Ogr=su("array",7),Hft=su("object",8),qft=Object.getPrototypeOf,Vft=new Map([[Object.prototype,Mft],[Array.prototype,Dj],[Map.prototype,kft],[Set.prototype,Cft],[Date.prototype,Bft],[RegExp.prototype,Pft]]);function au(t,e=[]){switch(typeof t){case"undefined":return Lft;case"boolean":return t?Uft:Fft;case"number":return su(String(t),4);case"string":return su(t,5);case"bigint":return su(t.toString(),6);case"object":{if(t===null)return Dft;let r=e.indexOf(t);if(r!==-1)return su(String(r),11);let n=Vft.get(qft(t));if(n){e.push(t);let i=n(t);return e.pop(),i}return Lj(t)}case"function":return Lj(t);case"symbol":return su(t.toString(),10)}}o(au,"hashValue");var VEe=new WeakMap,jft=1;function Lj(t){let e=VEe.get(t);return e===void 0&&(e=jEe(jft++,9),VEe.set(t,e)),e}o(Lj,"getObjectHash");var zft=Dj([]);function zEe(t,e){return Lj(t)^(e.length>0?Dj(e):zft)}o(zEe,"hashReactiveFn");m();g();var KEe=new WeakMap,Kft=1;function Uj(t){let e=KEe.get(t);return e===void 0&&(e=`obj-${Kft++}`,KEe.set(t,e)),e}o(Uj,"getObjectId");function Gft(t){return Object.getPrototypeOf(t)===Object.prototype}o(Gft,"isPOJO");function $ft(t){return Array.isArray(t)}o($ft,"isPlainArray");function v9(t){if(t===null)return"null";if(t===void 0)return"undefined";switch(typeof t){case"number":case"boolean":case"string":return String(t);case"bigint":return t.toString();case"symbol":return String(t);case"object":return t instanceof Date?t.toISOString():$ft(t)?`[${t.map(v9).join(",")}]`:Gft(t)?`{ ${[...Object.entries(t),...Object.getOwnPropertySymbols(t).map(r=>[r,t[r]])].sort(([r],[n])=>String(r)<String(n)?-1:String(r)>String(n)?1:0).map(([r,n])=>`${String(r)}: ${v9(n)}`).join(", ")} }`:Uj(t);case"function":return Uj(t);default:return Uj(t)}}o(v9,"stringifyValue");var GEe=0;function qS(t,e,r,n,i,s,a){return{id:t,desc:e,compute:r,equals:PS(n),isRelay:i,paramKey:s,tracer:a}}o(qS,"createReactiveDefinition");var HS=class{static{o(this,"ReactiveSignal")}flags;scope=void 0;id=++GEe;subs=new Map;deps=new Map;ref=new xEe(this);dirtyHead=void 0;updatedCount=0;computedCount=0;watchCount=0;key;args;callbacks=void 0;_listeners=null;_value=void 0;tracerMeta;def;constructor(e,r,n,i){this.flags=(e.isRelay?8:0)|2,this.scope=i,this.key=n,this.args=r,this.def=e,ll()!==void 0&&(this.tracerMeta={id:e.id??n??au([e.compute,GEe++]),desc:e.desc??e.compute.name??FEe(e.compute),params:r.map(s=>v9(s)).join(", "),tracer:e.tracer})}get _state(){return this.flags&7}set _state(e){this.flags=this.flags&-8|e}get _isListener(){return(this.flags&16)!==0}set _isListener(e){e?this.flags|=16:this.flags&=-17}get _isLazy(){return(this.flags&32)!==0}set _isLazy(e){e?this.flags|=32:this.flags&=-33}get listeners(){return this._listeners??(this._listeners={updatedAt:0,current:new Set,cachedBoundAdd:this.addListener.bind(this)})}get value(){return DS(this)}addListener(e){let{current:r}=this.listeners;return r.has(e)||(this._isListener||(p1(this),this.flags|=16),i9(this),r.add(e)),()=>{r.has(e)&&(r.delete(e),r.size===0&&(PEe(this),p9(this),this.flags&=-17))}}addListenerLazy(){return this._isListener||(p1(this),this.flags|=16),this.listeners.cachedBoundAdd}},DEe=o(t=>{let{listeners:e}=t;if(e===null)return;let{current:r}=e;for(let n of r)n()},"runListeners"),h1=o(t=>(t.flags&8)!==0,"isRelay");function Bm(t,e=[],r,n){return new HS(t,e,r,n)}o(Bm,"createReactiveSignal");var Wft=0,Fj=class{static{o(this,"ContextImpl")}defaultValue;_key;_description;constructor(e,r){this.defaultValue=e,this._description=r??`context:${Wft++}`,this._key=Symbol(this._description)}},m1=o((t,e)=>new Fj(t,e),"context");var VS=o(t=>{let e=E9??Xi()?.scope;if(e===void 0)throw new Error("getContext must be used within a reactive function, a withContext, or within a framework-specific context provider.");return e.getContext(t)??t.defaultValue},"getContext"),Pm=class t{static{o(this,"SignalScope")}parentScope;constructor(e,r){this.parentScope=r,this.contexts=Object.create(r?.contexts||null),this.setContexts(e)}contexts;children=new Map;signals=new Map;gcCandidates=new Set;setContexts(e){for(let[r,n]of e)this.contexts[r._key]=n,typeof n=="object"&&n!==null&&_9.set(n,this);this.signals.clear()}getChild(e){let r=au(e),n=this.children.get(r);return n===void 0&&(n=new t(e,this),this.children.set(r,n)),n}getContext(e){let r=e;return this.contexts[r._key]}get(e,r){let n=e.paramKey?.(...r),i=zEe(e.compute,n?[n]:r),s=this.signals.get(i);return s===void 0&&(s=Bm(e,r,i,this),this.signals.set(i,s)),s}markForGc(e){this.gcCandidates.has(e)||(this.gcCandidates.add(e),LEe(this))}removeFromGc(e){this.gcCandidates.delete(e);let{key:r}=e;r&&this.signals.set(r,e)}forceGc(e){this.signals.delete(e.key)}sweepGc(){let e=this.signals;for(let r of this.gcCandidates)r.watchCount===0&&e.delete(r.key);this.gcCandidates=new Set}},qj=new Pm([]),w9=o(()=>qj,"getGlobalScope");function Vj(t){qj.setContexts(t)}o(Vj,"setGlobalContexts");var E9,Xv=o(t=>{E9=t},"setCurrentScope"),f9=o(()=>E9,"getInternalCurrentScope"),a0=o((t=qj)=>E9??Xi()?.scope??t,"getCurrentScope"),_9=new WeakMap,Hj=new WeakMap,jj=o((t,e)=>{if(Hj.has(t))throw new Error("Object already has a scope owner, owners cannot be dynamic");Hj.set(t,e)},"setScopeOwner"),$Ee=o(t=>{let e=Hj.get(t);if(!e)throw new Error("Object has no scope owner, reactiveMethod must be attached to an owned context object");let r=_9.get(e)??$Ee(e);return _9.set(t,r),r},"reifyScopeOwner"),WEe=o(t=>{let e=_9.get(t);return e||(e=$Ee(t)),e},"getScopeOwner");m();g();m();g();var zj=new Map;function Kj(t,e){let r=zj.get(t);if(!r){let n=qS(e?.id,e?.desc,t,e?.equals,!1,e?.paramKey,void 0),i=a0();r=[o((...a)=>a0(i).get(n,a).value,"reactiveFn"),n],zj.set(t,r)}return r}o(Kj,"getReactiveFnAndDefinition");function bi(t,e){return Kj(t,e)[0]}o(bi,"reactive");var Gj=o((t,e,r)=>{let n=qS(r?.id,r?.desc,e,r?.equals,!1,r?.paramKey,void 0),i=o((...s)=>WEe(t).get(n,s).value,"reactiveFn");return zj.set(i,[i,n]),i},"reactiveMethod");function Yft(t,e){let r=a0();return MEe(t,r,e)}o(Yft,"relay");var jS=o((t,e)=>{let r=a0();return CEe(t,r,e)},"task");function YEe(t,e){let r=qS(e?.id,e?.desc,t,e?.equals,!1,void 0,e?.tracer),n=e?.isolate?new Pm([]):a0();return Bm(r,void 0,void 0,n)}o(YEe,"watcher");var $j=o((t,e)=>{let r=qS(e?.id,e?.desc,t,e?.equals,!1,void 0,void 0),n=e?.isolate?new Pm([]):a0();return Bm(r,void 0,void 0,n)},"reactiveSignal");m();g();m();g();m();g();m();g();var g1=o(()=>{let t=km(void 0,{equals:o(()=>!1,"equals")});return{consume:o(()=>t.value,"consume"),notify:o(()=>t.value=void 0,"notify")}},"createNotifier");m();g();var XEe=Ze(M0(),1),ZEe=Ze(lo(),1);m();g();var S9=Ze(lo(),1);var A9=(0,S9.createContext)(void 0);function I9(){return(0,S9.useContext)(A9)}o(I9,"useScope");function Lm(t){let e=Xi()?.scope??I9();if(!e)throw new Error("useContext must be used within a signal hook, a withContext, or a component");return e.getContext(t)??t.defaultValue}o(Lm,"useContext");function Xft({children:t,contexts:e=[],inherit:r=!0}){let n=(0,ZEe.useContext)(A9)??w9(),i=new Pm(e,r?n:void 0);return(0,XEe.jsx)(A9.Provider,{value:i,children:t})}o(Xft,"ContextProvider");m();g();m();g();var Jft=Ze(M0(),1),Wj=Ze(lo(),1);m();g();var T9=Ze(lo(),1);var JEe=(0,T9.createContext)(!1),Zft=JEe.Provider;function R9(){return(0,T9.useContext)(JEe)}o(R9,"useSignalsSuspended");m();g();var Qft=Ze(lo(),1);m();g();var zS=Ze(lo(),1);var QEe=o(t=>{let e=R9();return(0,zS.useSyncExternalStore)((0,zS.useCallback)(e?()=>()=>{}:r=>t.addListener(r),[t,e]),()=>t.value,()=>t.value)},"useStateSignal"),eSe=o(t=>{let e=R9();return(0,zS.useSyncExternalStore)(e?()=>()=>{}:t.addListenerLazy(),()=>t.value,()=>t.value)},"useReactiveFnSignal"),tSe=o(t=>(Cj(t)&&eSe(t._signal),QEe(t._version),t),"useReactivePromise"),eut=o((t,...e)=>{let[,r]=Kj(t),i=(I9()??w9()).get(r,e),s=eSe(i);return typeof s=="object"&&s!==null&&dl(s)?tSe(s):s},"useReactiveFn"),tut=o(t=>typeof t=="object"&&t!==null&&dl(t),"isNonNullishAsyncSignal");function za(t,...e){return Xi()?typeof t=="function"?t(...e):tut(t)?t:t.value:typeof t=="function"?eut(t,...e):typeof t=="object"&&t!==null&&dl(t)?tSe(t):QEe(t)}o(za,"useReactive");m();g();var rSe=Ze(lo(),1);m();g();m();g();function Qv(t){if(Array.isArray(t))return t.map(Qv);if(t&&typeof t=="object"){if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);if(t instanceof Map)return new Map(Array.from(t.entries()).map(([r,n])=>[Qv(r),Qv(n)]));if(t instanceof Set)return new Set(Array.from(t).map(Qv));let e=Object.create(Object.getPrototypeOf(t));for(let r of Object.keys(t))e[r]=Qv(t[r]);return e}return t}o(Qv,"cloneDeep");var rut=bi(t=>Qv(t.value)),nut=bi((t,...e)=>{let r=t(...e);return new Proxy(r,{get(n,i,s){return i==="value"?rut(n):Reflect.get(n,i,s)}})});function iut(t,...e){let r=za(nut,t,...e);return za(()=>r.value),r}o(iut,"useQuery");function tbr(t,e){return(0,rSe.useMemo)(()=>{let r=t.value?e?e(t.value):t.value:void 0;return{value:t.value,data:r,isLoading:t.isPending,isSuccess:t.isResolved,isFetching:t.isPending,isError:t.isRejected,isFetched:t.isSettled,status:t.isPending?"pending":t.isResolved?"success":"error",error:t.error}},[t.value,t.isPending,t.isResolved,t.isRejected,t.isSettled,t.error,e])}o(tbr,"useToQueryResult");m();g();var It;(function(t){t.Debug="debug",t.Fatal="fatal",t.Error="error",t.Info="info"})(It||(It={}));var cu;(function(t){t.PD="PD",t.WP="WP",t.IO="IO",t.PL="PL",t.TRA="TRA",t.SOC="SOC",t.CASH="CASH",t.GROW="GROW"})(cu||(cu={}));var Je;(function(t){t.Account="account",t.Auth="Auth",t.ActionBanner="actionBanner",t.Authentication="authentication",t.AutoConfirm="autoConfirm",t.BugReporter="bugReporter",t.Chat="chat",t.Collectibles="collectibles",t.DappBrowser="dappBrowser",t.DappRegistry="dappRegistry",t.DeepLinks="deepLinks",t.FeatureFlags="featureFlags",t.Feed="feed",t.FileLogger="fileLogger",t.Fungibles="fungibles",t.History="history",t.Ledger="ledger",t.MagicEden="magicEden",t.Migration="migration",t.MobileWalletAdapter="mobileWalletAdapter",t.MobileEmbedded="mobileEmbedded",t.PhantomConnect="phantomConnect",t.Network="network",t.Notifications="notifications",t.NotificationCenter="notificationCenter",t.OnRamp="onRamp",t.Performance="performance",t.Perps="perps",t.Prices="prices",t.Profiles="profiles",t.Provider="provider",t.Seedless="se*dless",t.Settings="settings",t.Lock="lock",t.Simulation="simulation",t.Staking="staking",t.Storage="storage",t.StartUp="startUp",t.Swapper="swapper",t.Transaction="transaction",t.Safeguard="safeguard",t.Tokens="tokens",t.TrustedApps="trustedApps",t.UserSearch="userSearch",t.Generic="generic",t.WebTokenPage="webTokenPage",t.WebUserPage="webUserPage",t.WebPortal="webPortal",t.WebExplorePage="webExplorePage",t.WebAppPage="webAppPage",t.WebPublicSite="webPublicSite",t.Stripe="stripe",t.Kyc="kyc",t.Cash="cash",t.WebTokensSitemap="webTokensSitemap",t.Competitions="competitions"})(Je||(Je={}));m();g();m();g();var out="Error message ignored by logging middleware.",nSe=o(t=>({beforeEvent:o((...[e,r])=>{for(let n of t)if((e instanceof Error?e.message:e)===n)throw new Error(out);return{value:e,...r.data?{data:r.data}:{}}},"beforeEvent"),afterEvent:void 0}),"ignoreMessages");m();g();var sut="Sensitive data detected by pki scanner. File logging blocked.",aut=["seed","mnemonic","seedAndMnemonic","ObfuscatedBytes"],iSe=new RegExp(`(${aut.join("|")})`,"mi"),O9={beforeEvent:o((...[t,e])=>{let r=t instanceof Error?t.message:t;if(iSe.test(r)||e.data&&iSe.test(JSON.stringify(e.data)))throw new Error(sut);return{value:t,...e.data?{data:e.data}:{}}},"beforeEvent"),afterEvent:void 0};var cut=["premature close"],fut=nSe(cut),y1=class extends Error{static{o(this,"FileLoggerUninitializedError")}constructor(e="File logger uninitialized. Call fileLogger.init() before calling other functions."){super(e)}};function uut(t=[]){let e=null;async function r({provider:l}){await l.init(),e={provider:l}}o(r,"init");async function n(l){if(!e)throw new y1;return e.provider.downloadLog(l)}o(n,"downloadLog");async function i(){if(!e)throw new y1;return e.provider.getLogFilePaths()}o(i,"getLogFilePaths");async function s(){if(!e)throw new y1;return e.provider.getRecentLogs()}o(s,"getRecentLogs");async function a(l){if(!e)throw new y1;return e.provider.sendLogFilesByEmail(l)}o(a,"sendLogFilesByEmail");function c(l,h,y,p){if(!e)throw new y1;for(let E of t)if(E?.beforeEvent!==void 0)try{E.beforeEvent(l,{featureTag:h,severity:y})}catch(I){Ja()&&I instanceof Error&&console.warn(I.message);return}e.provider.write(l,h,y,p);for(let E of t)if(E?.afterEvent!==void 0)try{E.afterEvent(l,{featureTag:h,severity:y})}catch(I){Ja()&&I instanceof Error&&console.warn(I.message);return}}return o(c,"write"),{init:r,downloadLog:n,getLogFilePaths:i,getRecentLogs:s,sendLogFilesByEmail:a,write:c}}o(uut,"createFileLogger");var KS=uut([fut,O9]);m();g();m();g();m();g();m();g();m();g();m();g();function e2(t,e,r){let n=r.getHandler(),i=Array.isArray(n)?n:[n];return oSe[t]>=oSe[r.getLevel()]&&i.includes(e)}o(e2,"isAuthorized");var Wt={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},oSe={[Wt.ok]:0,[Wt.debug]:1,[Wt.info]:2,[Wt.notice]:4,[Wt.warn]:5,[Wt.error]:6,[Wt.critical]:7,[Wt.alert]:8,[Wt.emerg]:9};m();g();function Dm(t,{includeMessage:e=!1}={}){return{stack:t.stack,kind:t.type,message:e?t.message:void 0,causes:t.causes,fingerprint:t.fingerprint,handling:t.handling}}o(Dm,"createErrorFieldFromRawError");var lut=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},b1={console:"console",http:"http",silent:"silent"},sSe=Object.keys(Wt),ya=class{static{o(this,"Logger")}constructor(e,r,n=b1.http,i=Wt.debug,s={}){this.handleLogStrategy=e,this.handlerType=n,this.level=i,this.contextManager=gb("logger"),this.contextManager.setContext(s),r&&this.contextManager.setContextProperty("logger",{name:r})}logImplementation(e,r,n=Wt.info,i,s){let a=hb(r),c;if(i!=null){let l=SX({stackTrace:IX(i)?V6(i):void 0,originalError:i,nonErrorPrefix:"Provided",source:Fs.LOGGER,handling:"handled",startClocks:hX()});c=pb({error:Dm(l,{includeMessage:!0})},a)}else c=a;this.handleLogStrategy({message:hb(e),context:c,status:n},this,s)}log(e,r,n=Wt.info,i){let s;e2(n,b1.http,this)&&(s=ZC("log")),this.logImplementation(e,r,n,i,s)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,r){this.contextManager.setContextProperty(e,r)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}};lut([gX],ya.prototype,"logImplementation",null);ya.prototype.ok=f0(Wt.ok);ya.prototype.debug=f0(Wt.debug);ya.prototype.info=f0(Wt.info);ya.prototype.notice=f0(Wt.notice);ya.prototype.warn=f0(Wt.warn);ya.prototype.error=f0(Wt.error);ya.prototype.critical=f0(Wt.critical);ya.prototype.alert=f0(Wt.alert);ya.prototype.emerg=f0(Wt.emerg);function f0(t){return function(e,r,n){let i;e2(t,b1.http,this)&&(i=ZC("log")),this.logImplementation(e,r,t,n,i)}}o(f0,"createLoggerMethod");m();g();function aSe(t,e,r){return{view:{referrer:document.referrer,url:self.location.href},context:t.getContext(),user:e.getContext(),account:r.getContext()}}o(aSe,"buildCommonContext");m();g();m();g();var hut=32*1024;function fSe(t){t.usePciIntake===!0&&t.site&&t.site!=="datadoghq.com"&&Bl.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");let e=vX(t),r=cSe(t.forwardConsoleLogs,XC(ho),"Forward Console Logs"),n=cSe(t.forwardReports,XC(OX),"Forward Reports");if(!(!e||!r||!n))return t.forwardErrorsToLogs&&!r.includes(ho.error)&&r.push(ho.error),{forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:hut,...e}}o(fSe,"validateAndBuildLogsConfiguration");function cSe(t,e,r){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(n=>e.includes(n)))){Bl.error(`${r} should be "all" or an array with allowed values "${e.join('", "')}"`);return}return t==="all"?e:kX(t)}o(cSe,"validateAndBuildForwardOption");function uSe(t){let e=_X(t);return{forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake,...e}}o(uSe,"serializeLogsConfiguration");function lSe(t,e,r){let n=BX(),i,s,a=e.observable.subscribe(c);function c(){if(!s||!i||!e.isGranted())return;a.unsubscribe();let l=r(i,s);n.drain(l)}return o(c,"tryStartLogs"),{init(l){if(!l){Bl.error("Missing configuration");return}if(wX(l.enableExperimentalFeatures),oh()&&(l=put(l)),i=l,s){z6("DD_LOGS",l);return}let h=fSe(l);h&&(s=h,W6().subscribe(Lc),e.tryToInit(h.trackingConsent),c())},get initConfiguration(){return i},getInternalContext:Lc,handleLog(l,h,y,p=t(),E=C0()){n.add(I=>I.handleLog(l,h,y,p,E))}}}o(lSe,"createPreStartStrategy");function put(t){return{...t,clientToken:"empty"}}o(put,"overrideInitConfigurationForBridge");var Yj="logs";function dSe(t){let e=gb("global context"),r=gb("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),n=gb("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}}),i=bX();function s(){return aSe(e,r,n)}o(s,"getCommonContext");let a=lSe(s,i,(h,y)=>{h.storeContextsAcrossPages&&(Y6(y,e,Yj,2),Y6(y,r,Yj,1),Y6(y,n,Yj,4));let p=t(h,y,s,i);return a=mut(h,p),p}),c={},l=new ya((...h)=>a.handleLog(...h));return RX({logger:l,init:ui(h=>a.init(h)),setTrackingConsent:ui(h=>{i.update(h),FX({feature:"set-tracking-consent",tracking_consent:h})}),getGlobalContext:ui(()=>e.getContext()),setGlobalContext:ui(h=>e.setContext(h)),setGlobalContextProperty:ui((h,y)=>e.setContextProperty(h,y)),removeGlobalContextProperty:ui(h=>e.removeContextProperty(h)),clearGlobalContext:ui(()=>e.clearContext()),createLogger:ui((h,y={})=>(c[h]=new ya((...p)=>a.handleLog(...p),hb(h),y.handler,y.level,hb(y.context)),c[h])),getLogger:ui(h=>c[h]),getInitConfiguration:ui(()=>CX(a.initConfiguration)),getInternalContext:ui(h=>a.getInternalContext(h)),setUser:ui(r.setContext),getUser:ui(r.getContext),setUserProperty:ui(r.setContextProperty),removeUserProperty:ui(r.removeContextProperty),clearUser:ui(r.clearContext),setAccount:ui(n.setContext),getAccount:ui(n.getContext),setAccountProperty:ui(n.setContextProperty),removeAccountProperty:ui(n.removeContextProperty),clearAccount:ui(n.clearContext)})}o(dSe,"makeLogsPublicApi");function mut(t,e){return{init:o(r=>{z6("DD_LOGS",r)},"init"),initConfiguration:t,...e}}o(mut,"createPostStartStrategy");m();g();m();g();var gut="logs";function hSe(t,e){let r=HX(t,gut,n=>yut(t,n),e);return{findTrackedSession:o((n,i={returnInactive:!1})=>{let s=r.findSession(n,i);return s&&s.trackingType==="1"?{id:s.id,anonymousId:s.anonymousId}:void 0},"findTrackedSession"),expireObservable:r.expireObservable}}o(hSe,"startLogsSessionManager");function pSe(t){let r=mSe(t)==="1"?{}:void 0;return{findTrackedSession:o(()=>r,"findTrackedSession"),expireObservable:new q6}}o(pSe,"startLogsSessionManagerStub");function mSe(t){return H6(t.sessionSampleRate)?"1":"0"}o(mSe,"computeTrackingType");function yut(t,e){let r=but(e)?e:mSe(t);return{trackingType:r,isTracked:r==="1"}}o(yut,"computeSessionState");function but(t){return t==="0"||t==="1"}o(but,"hasValidLoggerSession");m();g();m();g();var gSe=!1;function t2(t){let e=self;if(X6()){let n=r(e.DD_RUM_SYNTHETICS);return!n&&!gSe&&(gSe=!0,k0("Logs sent before RUM is injected by the synthetics worker",{testId:ZX(),resultId:JX()})),n}return r(e.DD_RUM);function r(n){if(n&&n.getInternalContext)return n.getInternalContext(t)}}o(t2,"getRUMInternalContext");function ySe(t,e,r,n,i){let s=sSe.concat(["custom"]),a={};s.forEach(c=>{a[c]=GX(c,e.eventRateLimiterThreshold,i)}),r.subscribe(0,({rawLogsEvent:c,messageContext:l=void 0,savedCommonContext:h=void 0,domainContext:y})=>{var p,E;let I=pX(c.date),O=t.findTrackedSession(I);if(!t.findTrackedSession(I,{returnInactive:!0}))return;let k=h||n(),C;!YC(k.account)&&k.account.id&&(C=k.account),O&&O.anonymousId&&!k.user.anonymous_id&&(k.user.anonymous_id=O.anonymousId);let L=pb({service:e.service,session_id:O?O.id:void 0,session:O?{id:O.id}:void 0,usr:YC(k.user)?void 0:k.user,account:C,view:k.view},k.context,t2(I),c,l);((p=e.beforeSend)===null||p===void 0?void 0:p.call(e,L,y))===!1||L.origin!==Fs.AGENT&&((E=a[L.status])!==null&&E!==void 0?E:a.custom).isLimitReached()||r.notify(1,L)})}o(ySe,"startLogsAssembly");m();g();var xut={[ho.log]:Wt.info,[ho.debug]:Wt.debug,[ho.info]:Wt.info,[ho.warn]:Wt.warn,[ho.error]:Wt.error};function bSe(t,e){let r=YX(t.forwardConsoleLogs).subscribe(n=>{var i;let s={rawLogsEvent:{date:C0(),message:n.message,origin:Fs.CONSOLE,error:n.error&&Dm(n.error),status:xut[n.api]},messageContext:(i=n.error)===null||i===void 0?void 0:i.context,domainContext:{handlingStack:n.handlingStack}};e.notify(0,s)});return{stop:o(()=>{r.unsubscribe()},"stop")}}o(bSe,"startConsoleCollection");m();g();function xSe(t,e){let r=NX(t,t.forwardReports).subscribe(n=>{let i=n.message,s,a=n.originalError.type==="deprecation"?Wt.warn:Wt.error;a===Wt.error?s=Dm(n):n.stack&&(i+=` Found in ${AX(n.stack)}`),e.notify(0,{rawLogsEvent:{date:C0(),message:i,origin:Fs.REPORT,error:s,status:a}})});return{stop:o(()=>{r.unsubscribe()},"stop")}}o(xSe,"startReportCollection");m();g();function vSe(t,e){if(!t.forwardErrorsToLogs)return{stop:Lc};let r=WX(t).subscribe(s=>{s.state==="complete"&&i("xhr",s)}),n=W6().subscribe(s=>{s.state==="resolve"&&i("fetch",s)});function i(s,a){!xX(a.url)&&(Eut(a)||qX(a.status))&&("xhr"in a?vut(a.xhr,t,c):a.response?wut(a.response,t,c):a.error&&_ut(a.error,t,c));function c(l){let h={isAborted:a.isAborted,handlingStack:a.handlingStack};e.notify(0,{rawLogsEvent:{message:`${Sut(s)} error ${a.method} ${a.url}`,date:a.startClocks.timeStamp,error:{stack:l||"Failed to load",handling:void 0},http:{method:a.method,status_code:a.status,url:a.url},status:Wt.error,origin:Fs.NETWORK},domainContext:h})}o(c,"onResponseDataAvailable")}return o(i,"handleResponse"),{stop:o(()=>{r.unsubscribe(),n.unsubscribe()},"stop")}}o(vSe,"startNetworkErrorCollection");function vut(t,e,r){typeof t.response=="string"?r(Xj(t.response,e)):r(t.response)}o(vut,"computeXhrResponseData");function _ut(t,e,r){r(Xj(EX(V6(t)),e))}o(_ut,"computeFetchErrorText");function wut(t,e,r){let n=VX(t);!n||!n.body?r():self.TextDecoder?Aut(n.body,e.requestErrorResponseLengthLimit,(i,s)=>{r(i?`Unable to retrieve response: ${i}`:s)}):n.text().then(ui(i=>r(Xj(i,e))),ui(i=>r(`Unable to retrieve response: ${i}`)))}o(wut,"computeFetchResponseText");function Eut(t){return t.status===0&&t.responseType!=="opaque"}o(Eut,"isRejected");function Xj(t,e){return t.length>e.requestErrorResponseLengthLimit?`${t.substring(0,e.requestErrorResponseLengthLimit)}...`:t}o(Xj,"truncateResponseText");function Sut(t){return t==="xhr"?"XHR":"Fetch"}o(Sut,"format");function Aut(t,e,r){XX(t,(n,i,s)=>{if(n)r(n);else{let a=new TextDecoder().decode(i);s&&(a+="..."),r(void 0,a)}},{bytesLimit:e,collectStreamBody:!0})}o(Aut,"truncateResponseStream");m();g();function _Se(t,e){if(!t.forwardErrorsToLogs)return{stop:Lc};let r=new q6,{stop:n}=TX(r),i=r.subscribe(s=>{e.notify(0,{rawLogsEvent:{message:s.message,date:s.startClocks.timeStamp,error:Dm(s),origin:Fs.SOURCE,status:Wt.error},messageContext:s.context})});return{stop:o(()=>{n(),i.unsubscribe()},"stop")}}o(_Se,"startRuntimeErrorCollection");m();g();var wSe=KX;m();g();function ESe(t){function e(r,n,i,s,a){let c=pb(n.getContext(),r.context);if(e2(r.status,b1.console,n)&&Tut(r,c),e2(r.status,b1.http,n)){let l={rawLogsEvent:{date:a||C0(),message:r.message,status:r.status,origin:Fs.LOGGER},messageContext:c,savedCommonContext:s};i&&(l.domainContext={handlingStack:i}),t.notify(0,l)}}return o(e,"handleLog"),{handleLog:e}}o(ESe,"startLoggerCollection");var Iut={[Wt.ok]:ho.debug,[Wt.debug]:ho.debug,[Wt.info]:ho.info,[Wt.notice]:ho.info,[Wt.warn]:ho.warn,[Wt.error]:ho.error,[Wt.critical]:ho.error,[Wt.alert]:ho.error,[Wt.emerg]:ho.error};function Tut({status:t,message:e},r){uX[Iut[t]].call(fX,e,r)}o(Tut,"displayInConsole");m();g();function SSe(t,e,r,n,i){let s=$6(t,{endpoint:t.logsEndpointBuilder,encoder:mb()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:mb()},r,n,i.expireObservable);return e.subscribe(1,a=>{s.add(a)}),s}o(SSe,"startLogsBatch");m();g();function ASe(t){let e=G6();t.subscribe(1,r=>{e.send("log",r)})}o(ASe,"startLogsBridge");m();g();function ISe(t){return{get:o(e=>{let r=t.findTrackedSession(e);if(r)return{session_id:r.id}},"get")}}o(ISe,"startInternalContext");m();g();function TSe(t){return e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:Fs.AGENT,status:Wt.error}}),k0("Error reported to customer",{"error.message":e.message})}}o(TSe,"startReportError");m();g();function RSe(t,e,r,n,i){let s=PX("browser-logs-sdk",e);s.setContextProvider(()=>{var c,l,h,y,p,E;return{application:{id:(c=t2())===null||c===void 0?void 0:c.application_id},session:{id:(l=i.findTrackedSession())===null||l===void 0?void 0:l.id},view:{id:(y=(h=t2())===null||h===void 0?void 0:h.view)===null||y===void 0?void 0:y.id},action:{id:(E=(p=t2())===null||p===void 0?void 0:p.user_action)===null||E===void 0?void 0:E.id}}});let a=[];if(oh()){let c=G6(),l=s.observable.subscribe(h=>c.send("internal_telemetry",h));a.push(()=>l.unsubscribe())}else{let c=$6(e,{endpoint:e.rumEndpointBuilder,encoder:mb()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:mb()},r,n,i.expireObservable);a.push(()=>c.stop());let l=s.observable.subscribe(h=>c.add(h,DX(e)));a.push(()=>l.unsubscribe())}return LX(),UX(uSe(t)),{telemetry:s,stop:o(()=>{a.forEach(c=>c())},"stop")}}o(RSe,"startLogsTelemetry");function OSe(t,e,r,n){let i=new wSe,s=[];i.subscribe(1,E=>MX("logs",E));let a=TSe(i),c=zX(e),l=e.sessionStoreStrategyType&&!oh()&&!X6()?hSe(e,n):pSe(e),{stop:h}=RSe(t,e,a,c,l);s.push(()=>h()),vSe(e,i),_Se(e,i),bSe(e,i),xSe(e,i);let{handleLog:y}=ESe(i);if(ySe(l,e,i,r,a),oh())ASe(i);else{let{stop:E}=SSe(e,i,a,c,l);s.push(()=>E())}let p=ISe(l);return{handleLog:y,getInternalContext:p.get,stop:o(()=>{s.forEach(E=>E())},"stop")}}o(OSe,"startLogs");var Um=dSe(OSe);j6(db(),"DD_LOGS",Um);m();g();m();g();m();g();m();g();function GS(t,e,r){let n=0,i=[],s,a=0,c=[],{stop:l}=v_(t,e,"message",({data:p})=>{if(p.type!=="wrote"||p.streamId!==r)return;n+=p.additionalBytesCount,i.push(p.result),s=p.trailer;let E=c.shift();E&&E.id===p.id?E.writeCallback?E.writeCallback(p.result.byteLength):E.finishCallback&&E.finishCallback():(l(),k0("Worker responses received out of order."))});function h(){let p=i.length===0?new Uint8Array(0):mX(i.concat(s)),E={rawBytesCount:n,output:p,outputBytesCount:p.byteLength,encoding:"deflate"};return n=0,i=[],E}o(h,"consumeResult");function y(){a>0&&(e.postMessage({action:"reset",streamId:r}),a=0)}return o(y,"sendResetIfNeeded"),{isAsync:!0,get isEmpty(){return a===0},write(p,E){e.postMessage({action:"write",id:a,data:p,streamId:r}),c.push({id:a,writeCallback:E,data:p}),a+=1},finish(p){y(),c.length?(c.forEach(E=>{delete E.writeCallback}),c[c.length-1].finishCallback=()=>p(h())):p(h())},finishSync(){y();let p=c.map(E=>(delete E.writeCallback,delete E.finishCallback,E.data)).join("");return{...h(),pendingData:p}},estimateEncodedBytesCount(p){return p.length/8},stop(){l()}}}o(GS,"createDeflateEncoder");m();g();m();g();function r2({configuredUrl:t,error:e,source:r,scriptType:n}){if(Bl.error(`${r} failed to start: an error occurred while initializing the ${n}:`,e),e instanceof Event||e instanceof Error&&Rut(e.message)){let i;t?i=`Please make sure the ${n} URL ${t} is correct and CSP is correctly configured.`:i="Please make sure CSP is correctly configured.",Bl.error(`${i} See documentation at ${lX}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else n==="worker"&&K6(e)}o(r2,"reportScriptLoadingError");function Rut(t){return t.includes("Content Security Policy")||t.includes("requires 'TrustedScriptURL'")}o(Rut,"isMessageCspRelated");var Out=30*dX;function NSe(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['(()=>{function t(t){const e=t.reduce(((t,e)=>t+e.length),0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);e(s);var h=Array(60);e(h);var l=Array(512);e(l);var _=Array(256);e(_);var o=Array(29);e(o);var d,u,f,c=Array(30);function p(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(c);var v=function(t){return t<256?l[t]:l[256+(t>>>7)]},w=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},b=function(t,e,a){m(t,a[2*e],a[2*e+1])},y=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},z=function(t,e,a){var n,r,i=Array(16),s=0;for(n=1;n<=15;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=y(i[h]++,h))}},k=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},x=function(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},U=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},B=function(t,e,r){var i,s,h,l,d=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],s=t.pending_buf[t.l_buf+d],d++,0===i?b(t,s,e):(h=_[s],b(t,h+256+1,e),0!==(l=a[h])&&(s-=o[h],m(t,s,l)),i--,h=v(i),b(t,h,r),0!==(l=n[h])&&(i-=c[h],m(t,i,l)))}while(d<t.last_lit);b(t,256,e)},I=function(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,_=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=_=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=_<2?++_:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=_,a=t.heap_len>>1;a>=1;a--)U(t,i,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,U(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,_=e.max_code,o=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)>c&&(i=c,p++),l[2*n+1]=i,n>_||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(o[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>_||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),z(i,_,t.bl_count)},E=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},C=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{b(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(b(t,r,t.bl_tree),h--),b(t,16,t.bl_tree),m(t,h-3,2)):h<=10?(b(t,17,t.bl_tree),m(t,h-3,3)):(b(t,18,t.bl_tree),m(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},D=!1,M=function(t,e,a,n){m(t,0+(n?1:0),3),function(t,e,a){x(t),w(t,a),w(t,~a),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a)},j=M,L=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},S=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),T=function(t,e,a,n){var r=S,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},O={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q=j,F=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(_[a]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.last_lit===t.lit_bufsize-1},G=-2,H=258,J=262,K=103,N=113,P=666,Q=function(t,e){return t.msg=O[e],e},R=function(t){return(t<<1)-(t>4?9:0)},V=function(t){for(var e=t.length;--e>=0;)t[e]=0},W=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},X=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Y=function(t,e){(function(t,e,a,n){var r,l,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),_=function(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*i[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=r&&(r=l)):r=l=a+5,a+4<=r&&-1!==e?M(t,e,a,n):4===t.strategy||l===r?(m(t,2+(n?1:0),3),B(t,s,h)):(m(t,4+(n?1:0),3),function(t,e,a,n){var r;for(m(t,e-257,5),m(t,a-1,5),m(t,n-4,4),r=0;r<n;r++)m(t,t.bl_tree[2*i[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),B(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&x(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,X(t.strm)},Z=function(t,e){t.pending_buf[t.pending++]=e},$=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+H,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=H-(u-i),i=u-H,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},et=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-J)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=L(s.adler,h,o,l):2===s.state.wrap&&(s.adler=T(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=W(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=W(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<J&&0!==t.strm.avail_in)},at=function(t,e){for(var a,n;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a)),t.match_length>=3)if(n=F(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=W(t,t.ins_h,t.window[t.strstart+1]);else n=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2},nt=function(t,e){for(var a,n,r;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=F(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=F(t,0,t.window[t.strstart-1]))&&Y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=F(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2};function rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var it=[new rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(et(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-J&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Y(t,!1),t.strm.avail_out),1)})),new rt(4,4,8,4,at),new rt(4,5,16,8,at),new rt(4,6,32,32,at),new rt(4,4,16,16,nt),new rt(8,16,32,32,nt),new rt(8,16,128,128,nt),new rt(8,32,128,256,nt),new rt(32,128,258,1024,nt),new rt(32,258,258,4096,nt)];function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}for(var ht=function(t){var e,i=function(t){if(!t||!t.state)return Q(t,G);t.total_in=t.total_out=0,t.data_type=2;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:N,t.adler=2===e.wrap?0:1,e.last_flush=0,function(t){D||(function(){var t,e,i,g,v,w=Array(16);for(i=0,g=0;g<28;g++)for(o[g]=i,t=0;t<1<<a[g];t++)_[i++]=g;for(_[i-1]=g,v=0,g=0;g<16;g++)for(c[g]=v,t=0;t<1<<n[g];t++)l[v++]=g;for(v>>=7;g<30;g++)for(c[g]=v<<7,t=0;t<1<<n[g]-7;t++)l[256+v++]=g;for(e=0;e<=15;e++)w[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,w[8]++;for(;t<=255;)s[2*t+1]=9,t++,w[9]++;for(;t<=279;)s[2*t+1]=7,t++,w[7]++;for(;t<=287;)s[2*t+1]=8,t++,w[8]++;for(z(s,287,w),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=y(t,5);d=new p(s,a,257,286,15),u=new p(h,n,0,30,15),f=new p([],r,0,19,7)}(),D=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,u),t.bl_desc=new g(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,k(t)}(e),0}(t);return 0===i&&((e=t.state).window_size=2*e.w_size,V(e.head),e.max_lazy_match=it[e.level].max_lazy,e.good_match=it[e.level].good_length,e.nice_match=it[e.level].nice_length,e.max_chain_length=it[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i},lt=function(t,e){var a,n;if(!t||!t.state||e>5||e<0)return t?Q(t,G):G;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===P&&4!==e)return Q(t,0===t.avail_out?-5:G);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Z(r,31),Z(r,139),Z(r,8),r.gzhead?(Z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Z(r,255&r.gzhead.time),Z(r,r.gzhead.time>>8&255),Z(r,r.gzhead.time>>16&255),Z(r,r.gzhead.time>>24&255),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Z(r,255&r.gzhead.extra.length),Z(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=T(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,3),r.status=N);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=N,$(r,h),0!==r.strstart&&($(r,t.adler>>>16),$(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending!==r.pending_buf_size));)Z(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=K)}else r.status=K;if(r.status===K&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&X(t),r.pending+2<=r.pending_buf_size&&(Z(r,255&t.adler),Z(r,t.adler>>8&255),t.adler=0,r.status=N)):r.status=N),0!==r.pending){if(X(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&R(e)<=R(i)&&4!==e)return Q(t,-5);if(r.status===P&&0!==t.avail_in)return Q(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&r.status!==P){var l=2===r.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(et(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=H){if(et(t),t.lookahead<=H&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+H;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=H-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=F(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):it[r.level].func(r,e);if(3!==l&&4!==l||(r.status=P),1===l||3===l)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===l&&(1===e?function(t){m(t,2,3),b(t,256,s),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}(r):5!==e&&(q(r,0,0,!1),3===e&&(V(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),X(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Z(r,255&t.adler),Z(r,t.adler>>8&255),Z(r,t.adler>>16&255),Z(r,t.adler>>24&255),Z(r,255&t.total_in),Z(r,t.total_in>>8&255),Z(r,t.total_in>>16&255),Z(r,t.total_in>>24&255)):($(r,t.adler>>>16),$(r,65535&t.adler)),X(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},_t=function(t){if(!t||!t.state)return G;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==K&&e!==N&&e!==P?Q(t,G):(t.state=null,e===N?Q(t,-3):0)},ot=new Uint8Array(256),dt=0;dt<256;dt++)ot[dt]=dt>=252?6:dt>=248?5:dt>=240?4:dt>=224?3:dt>=192?2:1;ot[254]=ot[254]=1;var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ft=Object.prototype.toString;function ct(){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var e,a,n=function(t,e,a,n,r,i){if(!t)return G;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||8!==a||n<8||n>15||e<0||e>9||i<0||i>4)return Q(t,G);8===n&&(n=9);var h=new st;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,ht(t)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw Error(O[n]);if(t.header&&(e=this.strm,a=t.header,e&&e.state&&(2!==e.state.wrap||(e.state.gzhead=a))),t.dictionary){var r;if(r="[object ArrayBuffer]"===ft.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=function(t,e){var a=e.length;if(!t||!t.state)return G;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return G;if(1===r&&(t.adler=L(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(V(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,et(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=W(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,et(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,0}(this.strm,r)))throw Error(O[n]);this._dict_set=!0}}function pt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:e+"",streamId:a})}}function gt(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}ct.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?4:0,"[object ArrayBuffer]"===ft.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(2===n||3===n)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(1===(a=lt(r,n)))return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=_t(this.strm),this.onEnd(a),this.ended=!0,0===a;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ct.prototype.onData=function(t){this.chunks.push(t)},ct.prototype.onEnd=function(t){0===t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",(n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.6.3"};case"write":{let n=e.get(a.streamId);n||(n=new ct,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,2),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:gt(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){pt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){pt(e,t)}}()})();'])))}o(NSe,"createDeflateWorker");var co={status:0};function $S(t,e,r,n=NSe){switch(co.status===0&&Nut(t,e,n),co.status){case 1:return co.initializationFailureCallbacks.push(r),co.worker;case 3:return co.worker}}o($S,"startDeflateWorker");function N9(){return co.status}o(N9,"getDeflateWorkerStatus");function Nut(t,e,r=NSe){try{let n=r(t),{stop:i}=v_(t,n,"error",c=>{Zj(t,e,c)}),{stop:s}=v_(t,n,"message",({data:c})=>{c.type==="errored"?Zj(t,e,c.error,c.streamId):c.type==="initialized"&&Cut(c.version)});n.postMessage({action:"init"}),yX(()=>Mut(e),Out),co={status:1,worker:n,stop:o(()=>{i(),s()},"stop"),initializationFailureCallbacks:[]}}catch(n){Zj(t,e,n)}}o(Nut,"doStartDeflateWorker");function Mut(t){co.status===1&&(Bl.error(`${t} failed to start: a timeout occurred while initializing the Worker`),co.initializationFailureCallbacks.forEach(e=>e()),co={status:2})}o(Mut,"onTimeout");function Cut(t){co.status===1&&(co={status:3,worker:co.worker,stop:co.stop,version:t})}o(Cut,"onInitialized");function Zj(t,e,r,n){co.status===1||co.status===0?(r2({configuredUrl:t.workerUrl,error:r,source:e,scriptType:"worker"}),co.status===1&&co.initializationFailureCallbacks.forEach(i=>i()),co={status:2}):K6(r,{worker_version:co.status===3&&co.version,stream_id:n})}o(Zj,"onError");m();g();function M9(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}o(M9,"isBrowserSupported");m();g();m();g();function MSe(t,e,r,n){let i=e.findTrackedSession(),s=kut(i,n),a=r.findView();return tZ(t,{viewContext:a,errorType:s,session:i})}o(MSe,"getSessionReplayLink");function kut(t,e){if(!M9())return"browser-not-supported";if(!t)return"rum-not-tracked";if(t.sessionReplay===0)return"incorrect-session-plan";if(!e)return"replay-not-started"}o(kut,"getErrorType");function CSe(t,e,r,n,i,s){let a=0,c;e.subscribe(9,()=>{(a===2||a===3)&&(y(),a=1)}),e.subscribe(10,()=>{a===1&&h()});let l=o(async()=>{let[p]=await Promise.all([i(),$X(t,"interactive")]);if(a!==2)return;let E=s();if(!E||!p){a=0;return}({stop:c}=p(e,t,r,n,E)),a=3},"doStart");function h(p){let E=r.findTrackedSession();if(But(E,p)){a=1;return}Put(a)||(a=2,l().catch(x_),Lut(E,p)&&r.setForcedReplay())}o(h,"start");function y(){a===3&&c?.(),a=0}return o(y,"stop"),{start:h,stop:y,getSessionReplayLink(){return MSe(t,r,n,a!==0)},isRecording:o(()=>a===3,"isRecording")}}o(CSe,"createPostStartStrategy");function But(t,e){return!t||t.sessionReplay===0&&(!e||!e.force)}o(But,"canStartRecording");function Put(t){return t===2||t===3}o(Put,"isRecordingInProgress");function Lut(t,e){return e&&e.force&&t.sessionReplay===0}o(Lut,"shouldForceReplay");m();g();function kSe(){let t=0;return{strategy:{start(){t=1},stop(){t=2},isRecording:o(()=>!1,"isRecording"),getSessionReplayLink:Lc},shouldStartImmediately(e){return t===1||t===0&&!e.startSessionReplayRecordingManually}}}o(kSe,"createPreStartStrategy");function BSe(t,e){if(oh()&&!jX("records")||!M9())return{start:Lc,stop:Lc,getReplayStats:o(()=>{},"getReplayStats"),onRumStart:Lc,isRecording:o(()=>!1,"isRecording"),getSessionReplayLink:o(()=>{},"getSessionReplayLink")};let{strategy:r,shouldStartImmediately:n}=kSe();return{start:o(s=>r.start(s),"start"),stop:o(()=>r.stop(),"stop"),getSessionReplayLink:o(()=>r.getSessionReplayLink(),"getSessionReplayLink"),onRumStart:i,isRecording:o(()=>N9()===3&&r.isRecording(),"isRecording"),getReplayStats:o(s=>N9()===3?rZ(s):void 0,"getReplayStats")};function i(s,a,c,l,h){let y;function p(){return y||(h??(h=$S(a,"Datadog Session Replay",()=>{r.stop()},e)),h&&(y=GS(a,h,1))),y}o(p,"getOrCreateDeflateEncoder"),r=CSe(a,s,c,l,t,p),n(a)&&r.start()}}o(BSe,"makeRecorderApi");m();g();async function PSe(t=Dut){try{return await t()}catch(e){r2({error:e,source:"Recorder",scriptType:"module"})}}o(PSe,"lazyLoadRecorder");async function Dut(){return(await import("./startRecording-VNARZSRE.js")).startRecording}o(Dut,"importRecorder");m();g();m();g();function LSe(){return db().Profiler!==void 0}o(LSe,"isProfilingSupported");m();g();async function DSe(t=Uut){try{return await t()}catch(e){r2({error:e,source:"Profiler",scriptType:"module"})}}o(DSe,"lazyLoadProfiler");async function Uut(){return(await import("./profiler-GMKNGWQR.js")).createRumProfiler}o(Uut,"importProfiler");function USe(){let t;function e(r,n,i,s){!LSe()||!H6(n.profilingSampleRate)||DSe().then(a=>{if(!a){k0("[DD_RUM] Failed to lazy load the RUM Profiler");return}t=a(n,r,i),t.start(s.findView())}).catch(x_)}return o(e,"onRumStart"),{onRumStart:e,stop:o(()=>{t?.stop().catch(x_)},"stop")}}o(USe,"makeProfilerApi");var Fut=BSe(PSe),Hut=USe(),x1=QX(eZ,Fut,Hut,{startDeflateWorker:$S,createDeflateEncoder:GS});j6(db(),"DD_RUM",x1);m();g();var n2=o(t=>{switch(t){case Je.Collectibles:case Je.MagicEden:case Je.Fungibles:case Je.Staking:case Je.Swapper:case Je.Perps:case Je.Prices:case Je.WebTokenPage:case Je.WebExplorePage:case Je.Tokens:case Je.WebTokensSitemap:return cu.PD;case Je.AutoConfirm:case Je.DeepLinks:case Je.DappBrowser:case Je.DappRegistry:case Je.Network:case Je.Transaction:case Je.Provider:case Je.History:case Je.TrustedApps:case Je.Simulation:case Je.MobileEmbedded:return cu.WP;case Je.WebAppPage:case Je.Account:case Je.Auth:case Je.ActionBanner:case Je.Authentication:case Je.Ledger:case Je.Lock:case Je.Seedless:case Je.PhantomConnect:case Je.Settings:case Je.Migration:case Je.MobileWalletAdapter:case Je.Generic:case Je.StartUp:case Je.WebPortal:case Je.Notifications:case Je.WebPublicSite:return cu.IO;case Je.BugReporter:case Je.Storage:case Je.FileLogger:case Je.FeatureFlags:case Je.Performance:return cu.PL;case Je.Safeguard:return cu.TRA;case Je.Chat:case Je.Profiles:case Je.Feed:case Je.NotificationCenter:case Je.WebUserPage:case Je.UserSearch:return cu.SOC;case Je.Stripe:case Je.Kyc:case Je.OnRamp:case Je.Cash:return cu.CASH;case Je.Competitions:return cu.GROW}},"teamForTag");m();g();var WS={init:o(async(t,e)=>{},"init"),captureError:o((t,e)=>{},"captureError"),captureMessage:o((t,e,r=It.Info)=>{},"captureMessage"),addBreadcrumb:o((t,e,r)=>{},"addBreadcrumb"),setUser:o(async t=>{},"setUser"),setTags:o(async t=>{},"setTags"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),startSpan:o((t,e)=>{let r=e();return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(t=>{},"startInactiveSpan"),trackFeatureFlag:o((t,e)=>{},"trackFeatureFlag")};m();g();var C9;function FSe(){return C9===void 0&&(typeof process<"u"&&R?C9=R.DATADOG_CLIENT_TOKEN:typeof self<"u"&&self.process?.env&&(C9=self.process.env.DATADOG_CLIENT_TOKEN)),C9}o(FSe,"getDatadogClientToken");var qut={init:o(async(t,{datadog:e})=>{if(!e.enabled)return;let r=e.clientToken||FSe();if(!r)throw new Error("[DatadogProvider#init] Missing client token");let n=t.mode==="debug"?100:e.traceSampleRate,i=t.mode==="debug"?100:e.sessionSampleRate,s=t.mode==="debug"?!0:e.trackUserInteractions,a=t.mode==="debug"?100:e.sessionReplaySampleRate??void 0;x1.init({applicationId:e.applicationId,clientToken:r,service:e.service,version:b_,env:t.env,allowedTracingUrls:[/https?:\/\/([a-zA-Z0-9.-]+\.)?phantom\.app(\/|$)/],traceSampleRate:n,sessionSampleRate:i,enablePrivacyForActionName:!0,silentMultipleInit:!0,trackAnonymousUser:!1,enableExperimentalFeatures:["feature_flags"],defaultPrivacyLevel:"mask",trackUserInteractions:s,sessionReplaySampleRate:a}),Um.init({clientToken:r,service:e.service,env:t.env,forwardErrorsToLogs:!0,sessionSampleRate:i,version:b_,silentMultipleInit:!0,trackAnonymousUser:!1})},"init"),captureError:o((t,e)=>{Jj(t.message,It.Error,{feature:e,team:n2(e)},t)},"captureError"),captureMessage:o((t,e,r=It.Info)=>{Jj(t,r,{feature:e,team:n2(e)})},"captureMessage"),addBreadcrumb:o((t,e,r,n={})=>{Jj(e,r,{category:t,...n})},"addBreadcrumb"),setUser:o(async t=>{Um.setUser(t),x1.setUser(t)},"setUser"),setTags:o(async t=>{x1.setGlobalContext({tags:t}),Um.setGlobalContext({tags:t})},"setTags"),startSpan:o((t,e)=>{let r=e();return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(()=>{},"startInactiveSpan"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),trackFeatureFlag:o((t,e)=>{x1.addFeatureFlagEvaluation(t,e)},"trackFeatureFlag")};function Jj(t,e,r,n){switch((e===It.Error||e===It.Fatal)&&x1.addError(n??t,r),e){case It.Fatal:!n&&Um.logger.critical(t,{context:r});break;case It.Error:!n&&Um.logger.error(t,{context:r});break;case It.Info:Um.logger.info(t,{context:r},n);break;case It.Debug:break}}o(Jj,"reportToDatadog");function Vut(){return typeof document<"u"}o(Vut,"envSupportsDatadog");var HSe=Vut()?qut:WS;m();g();var qSe=o(t=>({beforeEvent:o((...[e,r])=>{let n={value:e,...r.data?{data:r.data}:{}};if(r.data?.skipFileLogger)return n;let i=e instanceof Error?e.message:e;return t.write(i,r.featureTag,r.severity,r.data),n},"beforeEvent"),afterEvent:void 0}),"fileLoggerMiddleware");m();g();m();g();var jut=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{88}\b/g,zut=/\b0x[a-fA-F0-9]{64}\b/g,Kut=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{44}\b/g,Gut=/\b0x[a-fA-F0-9]{40}\b/g,VSe={SOLANA_SIGNATURE:jut,EVM_SIGNATURE:zut,SOLANA_PUBKEY:Kut,EVM_PUBKEY:Gut},jSe=o(t=>Object.entries(t).reduce((e,[r,n])=>(typeof n=="string"?e[r]=k9(n):e[r]=n,e),{}),"stripSignaturesAndPubkeysFromContextObject"),k9=o(t=>{let e=t;for(let r in VSe){let n=VSe[r];e=e.replace(n,"")}return e},"stripSignaturesAndPubkeysFromString"),$ut=o(t=>(t.message&&(t.message=k9(t.message)),t.cause&&typeof t.cause=="string"&&(t.cause=k9(t.cause)),t),"stripSignaturesAndPubkeysFromError"),zSe=o(t=>t instanceof Error?$ut(t):k9(t),"stripSignaturesAndPubkeysFromStringOrError");var KSe={beforeEvent:o((...[t,e])=>({value:zSe(t),...e.data?{data:jSe(e.data)}:{}}),"beforeEvent"),afterEvent:void 0};m();g();function GSe(t,e){return{init:o(async(r,n)=>{await Promise.allSettled([t.init(r,n),e.init(r,n)])},"init"),captureError:o((r,n)=>{fu(()=>t.captureError(r,n)),fu(()=>e.captureError(r,n))},"captureError"),captureMessage:o((r,n,i=It.Info)=>{fu(()=>t.captureMessage(r,n,i)),fu(()=>e.captureMessage(r,n,i))},"captureMessage"),addBreadcrumb:o((r,n,i,s)=>{fu(()=>t.addBreadcrumb(r,n,i,s)),fu(()=>e.addBreadcrumb(r,n,i,s))},"addBreadcrumb"),setUser:o(async r=>{await Promise.allSettled([t.setUser(r),e.setUser(r)])},"setUser"),setTags:o(async r=>{await Promise.allSettled([t.setTags(r),e.setTags(r)])},"setTags"),captureMetric:o(async(r,n,i)=>{fu(()=>e.captureMetric(r,n,i))},"captureMetric"),startSpan:o((r,n)=>t.startSpan(r,()=>e.startSpan(r,n)),"startSpan"),startInactiveSpan:o(r=>{let n=fu(()=>t.startInactiveSpan(r)),i=fu(()=>e.startInactiveSpan(r));if(!(!n&&!i))return Promise.resolve({end:o(()=>Wut(n,i),"end")})},"startInactiveSpan"),trackFeatureFlag:o((r,n)=>{fu(()=>t.trackFeatureFlag(r,n)),fu(()=>e.trackFeatureFlag(r,n))},"trackFeatureFlag")}}o(GSe,"createMultiProvider");function fu(t){try{return t()}catch(e){Ja()&&console.error("[MultiProvider] Error:",e);return}}o(fu,"safeTry");function Wut(...t){for(let e of t)e&&fu(()=>e.then(r=>r.end()))}o(Wut,"endSpans");m();g();m();g();m();g();m();g();m();g();m();g();var Lt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;m();g();m();g();m();g();var hl="8.55.0";var Yt=globalThis;function Fm(t,e,r){let n=r||Yt,i=n.__SENTRY__=n.__SENTRY__||{},s=i[hl]=i[hl]||{};return s[t]||(s[t]=e())}o(Fm,"getGlobalSingleton");m();g();m();g();var Ec=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;m();g();var Yut="Sentry Logger ",YS=["debug","info","warn","error","log","assert","trace"],i2={};function Sc(t){if(!("console"in Yt))return t();let e=Yt.console,r={},n=Object.keys(i2);n.forEach(i=>{let s=i2[i];r[i]=e[i],e[i]=s});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}o(Sc,"consoleSandbox");function Xut(){let t=!1,e={enable:o(()=>{t=!0},"enable"),disable:o(()=>{t=!1},"disable"),isEnabled:o(()=>t,"isEnabled")};return Ec?YS.forEach(r=>{e[r]=(...n)=>{t&&Sc(()=>{Yt.console[r](`${Yut}[${r}]:`,...n)})}}):YS.forEach(r=>{e[r]=()=>{}}),e}o(Xut,"makeLogger");var Qe=Fm("logger",Xut);m();g();var Pd="?",$Se=/\(error: (.*)\)/,WSe=/captureMessage|captureException/;function P9(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{let s=[],a=r.split(`
`);for(let c=n;c<a.length;c++){let l=a[c];if(l.length>1024)continue;let h=$Se.test(l)?l.replace($Se,"$1"):l;if(!h.match(/\S*Error: /)){for(let y of e){let p=y(h);if(p){s.push(p);break}}if(s.length>=50+i)break}}return YSe(s.slice(i))}}o(P9,"createStackParser");function ez(t){return Array.isArray(t)?P9(...t):t}o(ez,"stackParserFromStackParserOptions");function YSe(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(B9(e).function||"")&&e.pop(),e.reverse(),WSe.test(B9(e).function||"")&&(e.pop(),WSe.test(B9(e).function||"")&&e.pop()),e.slice(0,50).map(r=>({...r,filename:r.filename||B9(e).filename,function:r.function||Pd}))}o(YSe,"stripSentryFramesAndReverse");function B9(t){return t[t.length-1]||{}}o(B9,"getLastStackFrame");var Qj="<anonymous>";function Ac(t){try{return!t||typeof t!="function"?Qj:t.name||Qj}catch{return Qj}}o(Ac,"getFunctionName");function L9(t){let e=t.exception;if(e){let r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}o(L9,"getFramesFromEvent");var D9={},XSe={};function ba(t,e){D9[t]=D9[t]||[],D9[t].push(e)}o(ba,"addHandler");function xa(t,e){if(!XSe[t]){XSe[t]=!0;try{e()}catch(r){Ec&&Qe.error(`Error while instrumenting ${t}`,r)}}}o(xa,"maybeInstrument");function _o(t,e){let r=t&&D9[t];if(r)for(let n of r)try{n(e)}catch(i){Ec&&Qe.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ac(n)}
Error:`,i)}}o(_o,"triggerHandlers");var tz=null;function XS(t){let e="error";ba(e,t),xa(e,Zut)}o(XS,"addGlobalErrorInstrumentationHandler");function Zut(){tz=Yt.onerror,Yt.onerror=function(t,e,r,n,i){return _o("error",{column:n,error:i,line:r,msg:t,url:e}),tz?tz.apply(this,arguments):!1},Yt.onerror.__SENTRY_INSTRUMENTED__=!0}o(Zut,"instrumentError");m();g();var rz=null;function ZS(t){let e="unhandledrejection";ba(e,t),xa(e,Jut)}o(ZS,"addGlobalUnhandledRejectionInstrumentationHandler");function Jut(){rz=Yt.onunhandledrejection,Yt.onunhandledrejection=function(t){return _o("unhandledrejection",t),rz?rz.apply(this,arguments):!0},Yt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}o(Jut,"instrumentUnhandledRejection");m();g();m();g();m();g();function ff(){return JS(Yt),Yt}o(ff,"getMainCarrier");function JS(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||hl,e[hl]=e[hl]||{}}o(JS,"getSentryCarrier");m();g();m();g();m();g();m();g();m();g();m();g();m();g();var ZSe=Object.prototype.toString;function v1(t){switch(ZSe.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return uf(t,Error)}}o(v1,"isError");function o2(t,e){return ZSe.call(t)===`[object ${e}]`}o(o2,"isBuiltin");function U9(t){return o2(t,"ErrorEvent")}o(U9,"isErrorEvent");function F9(t){return o2(t,"DOMError")}o(F9,"isDOMError");function nz(t){return o2(t,"DOMException")}o(nz,"isDOMException");function Ka(t){return o2(t,"String")}o(Ka,"isString");function s2(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}o(s2,"isParameterizedString");function _1(t){return t===null||s2(t)||typeof t!="object"&&typeof t!="function"}o(_1,"isPrimitive");function pl(t){return o2(t,"Object")}o(pl,"isPlainObject");function w1(t){return typeof Event<"u"&&uf(t,Event)}o(w1,"isEvent");function iz(t){return typeof Element<"u"&&uf(t,Element)}o(iz,"isElement");function oz(t){return o2(t,"RegExp")}o(oz,"isRegExp");function ml(t){return!!(t&&t.then&&typeof t.then=="function")}o(ml,"isThenable");function sz(t){return pl(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(sz,"isSyntheticEvent");function uf(t,e){try{return t instanceof e}catch{return!1}}o(uf,"isInstanceOf");function QS(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}o(QS,"isVueViewModel");var a2=Yt,Qut=80;function lf(t,e={}){if(!t)return"<unknown>";try{let r=t,n=5,i=[],s=0,a=0,c=" > ",l=c.length,h,y=Array.isArray(e)?e:e.keyAttrs,p=!Array.isArray(e)&&e.maxStringLength||Qut;for(;r&&s++<n&&(h=elt(r,y),!(h==="html"||s>1&&a+i.length*l+h.length>=p));)i.push(h),a+=h.length,r=r.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}o(lf,"htmlTreeAsString");function elt(t,e){let r=t,n=[];if(!r||!r.tagName)return"";if(a2.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());let i=e&&e.length?e.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(i&&i.length)i.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);let a=r.className;if(a&&Ka(a)){let c=a.split(/\s+/);for(let l of c)n.push(`.${l}`)}}let s=["aria-label","type","name","title","alt"];for(let a of s){let c=r.getAttribute(a);c&&n.push(`[${a}="${c}"]`)}return n.join("")}o(elt,"_htmlElementAsString");function az(){try{return a2.document.location.href}catch{return""}}o(az,"getLocationHref");function cz(t){return a2.document&&a2.document.querySelector?a2.document.querySelector(t):null}o(cz,"getDomElement");function e3(t){if(!a2.HTMLElement)return null;let e=t,r=5;for(let n=0;n<r;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}o(e3,"getComponentName");m();g();function Ld(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}o(Ld,"truncate");function H9(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let i=t[n];try{QS(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}o(H9,"safeJoin");function JSe(t,e,r=!1){return Ka(t)?oz(e)?e.test(t):Ka(e)?r?t===e:t.includes(e):!1:!1}o(JSe,"isMatchingPattern");function Dd(t,e=[],r=!1){return e.some(n=>JSe(t,n,r))}o(Dd,"stringMatchesSomePattern");function Po(t,e,r){if(!(e in t))return;let n=t[e],i=r(n);typeof i=="function"&&q9(i,n);try{t[e]=i}catch{Ec&&Qe.log(`Failed to replace method "${e}" in object`,t)}}o(Po,"fill");function fo(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{Ec&&Qe.log(`Failed to add non-enumerable property "${e}" to object`,t)}}o(fo,"addNonEnumerableProperty");function q9(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,fo(t,"__sentry_original__",e)}catch{}}o(q9,"markFunctionWrapped");function E1(t){return t.__sentry_original__}o(E1,"getOriginalFunction");function V9(t){if(v1(t))return{message:t.message,name:t.name,stack:t.stack,...e3e(t)};if(w1(t)){let e={type:t.type,target:QSe(t.target),currentTarget:QSe(t.currentTarget),...e3e(t)};return typeof CustomEvent<"u"&&uf(t,CustomEvent)&&(e.detail=t.detail),e}else return t}o(V9,"convertToPlainObject");function QSe(t){try{return iz(t)?lf(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}o(QSe,"serializeEventTarget");function e3e(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}o(e3e,"getOwnProperties");function uz(t,e=40){let r=Object.keys(V9(t));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return Ld(n,e);for(let i=r.length;i>0;i--){let s=r.slice(0,i).join(", ");if(!(s.length>e))return i===r.length?s:Ld(s,e)}return""}o(uz,"extractExceptionKeysForMessage");function qn(t){return fz(t,new Map)}o(qn,"dropUndefinedKeys");function fz(t,e){if(tlt(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(n[i]=fz(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(fz(i,e))}),n}return t}o(fz,"_dropUndefinedKeys");function tlt(t){if(!pl(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}o(tlt,"isPojo");m();g();var t3e=1e3;function Ud(){return Date.now()/t3e}o(Ud,"dateTimestampInSeconds");function rlt(){let{performance:t}=Yt;if(!t||!t.now)return Ud;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/t3e}o(rlt,"createUnixTimestampInSecondsFunc");var Zi=rlt(),t3,wo=(()=>{let{performance:t}=Yt;if(!t||!t.now){t3="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,l=typeof a=="number"?Math.abs(a+r-n):e,h=l<e;return s||h?i<=l?(t3="timeOrigin",t.timeOrigin):(t3="navigationStart",a):(t3="dateNow",n)})();m();g();function Lo(){let t=Yt,e=t.crypto||t.msCrypto,r=o(()=>Math.random()*16,"getRandomByte");try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=o(()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]},"getRandomByte"))}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}o(Lo,"uuid4");function r3e(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}o(r3e,"getFirstException");function gl(t){let{message:e,event_id:r}=t;if(e)return e;let n=r3e(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}o(gl,"getEventDescription");function c2(t,e,r){let n=t.exception=t.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=r||"Error")}o(c2,"addExceptionTypeValue");function Fd(t,e){let r=r3e(t);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){let s={...i&&i.data,...e.data};r.mechanism.data=s}}o(Fd,"addExceptionMechanism");function j9(t){if(nlt(t))return!0;try{fo(t,"__sentry_captured__",!0)}catch{}return!1}o(j9,"checkOrSetAlreadyCaught");function nlt(t){try{return t.__sentry_captured__}catch{}}o(nlt,"isAlreadyCaptured");m();g();var u0;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(u0||(u0={}));function uu(t){return new yl(e=>{e(t)})}o(uu,"resolvedSyncPromise");function Hm(t){return new yl((e,r)=>{r(t)})}o(Hm,"rejectedSyncPromise");var yl=class t{static{o(this,"SyncPromise")}constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=u0.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,s=>{if(!e)n(s);else try{n(e(s))}catch(a){i(a)}},s=>{if(!r)i(s);else try{n(r(s))}catch(a){i(a)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,s;return this.then(a=>{s=!1,i=a,e&&e()},a=>{s=!0,i=a,e&&e()}).then(()=>{if(s){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(u0.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(u0.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===u0.PENDING){if(ml(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===u0.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===u0.RESOLVED&&r[1](this._value),this._state===u0.REJECTED&&r[2](this._value),r[0]=!0)})}}};function n3e(t){let e=Zi(),r={sid:Lo(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:o(()=>ilt(r),"toJSON")};return t&&l0(r,t),r}o(n3e,"makeSession");function l0(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Zi(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Lo()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}o(l0,"updateSession");function i3e(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),l0(t,r)}o(i3e,"closeSession");function ilt(t){return qn({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}o(ilt,"sessionToJSON");m();g();function Ic(){return Lo()}o(Ic,"generateTraceId");function Tc(){return Lo().substring(16)}o(Tc,"generateSpanId");m();g();function f2(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;let n={...t};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=f2(n[i],e[i],r-1));return n}o(f2,"merge");m();g();var lz="_sentrySpan";function d0(t,e){e?fo(t,lz,e):delete t[lz]}o(d0,"_setSpanForScope");function S1(t){return t[lz]}o(S1,"_getSpanForScope");var olt=100,dz=class t{static{o(this,"ScopeClass")}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ic(),spanId:Tc()}}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,d0(e,S1(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&l0(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e,[n,i]=r instanceof df?[r.getScopeData(),r.getRequestSession()]:pl(r)?[e,e.requestSession]:[],{tags:s,extra:a,user:c,contexts:l,level:h,fingerprint:y=[],propagationContext:p}=n||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},c&&Object.keys(c).length&&(this._user=c),h&&(this._level=h),y.length&&(this._fingerprint=y),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,d0(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ic()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:olt;if(n<=0)return this;let i={timestamp:Ud(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:S1(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=f2(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Tc(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){let n=r&&r.event_id?r.event_id:Lo();if(!this._client)return Qe.warn("No client configured on scope - will not capture exception!"),n;let i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){let i=n&&n.event_id?n.event_id:Lo();if(!this._client)return Qe.warn("No client configured on scope - will not capture message!"),i;let s=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:s,...n,event_id:i},this),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:Lo();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(Qe.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}},df=dz;function o3e(){return Fm("defaultCurrentScope",()=>new df)}o(o3e,"getDefaultCurrentScope");function s3e(){return Fm("defaultIsolationScope",()=>new df)}o(s3e,"getDefaultIsolationScope");var hz=class{static{o(this,"AsyncContextStack")}constructor(e,r){let n;e?n=e:n=new df;let i;r?i=r:i=new df,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){let r=this._pushScope(),n;try{n=e(r)}catch(i){throw this._popScope(),i}return ml(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function u2(){let t=ff(),e=JS(t);return e.stack=e.stack||new hz(o3e(),s3e())}o(u2,"getAsyncContextStack");function slt(t){return u2().withScope(t)}o(slt,"withScope");function alt(t,e){let r=u2();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}o(alt,"withSetScope");function a3e(t){return u2().withScope(()=>t(u2().getIsolationScope()))}o(a3e,"withIsolationScope");function c3e(){return{withIsolationScope:a3e,withScope:slt,withSetScope:alt,withSetIsolationScope:o((t,e)=>a3e(e),"withSetIsolationScope"),getCurrentScope:o(()=>u2().getScope(),"getCurrentScope"),getIsolationScope:o(()=>u2().getIsolationScope(),"getIsolationScope")}}o(c3e,"getStackAsyncContextStrategy");function Hd(t){let e=JS(t);return e.acs?e.acs:c3e()}o(Hd,"getAsyncContextStrategy");m();g();function vr(){let t=ff();return Hd(t).getCurrentScope()}o(vr,"getCurrentScope");function Do(){let t=ff();return Hd(t).getIsolationScope()}o(Do,"getIsolationScope");function z9(){return Fm("globalScope",()=>new df)}o(z9,"getGlobalScope");function qm(...t){let e=ff(),r=Hd(e);if(t.length===2){let[n,i]=t;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(t[0])}o(qm,"withScope");function Qt(){return vr().getClient()}o(Qt,"getClient");function pz(t){let e=t.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=e;return qn({trace_id:r,span_id:n,parent_span_id:i})}o(pz,"getTraceContextFromScope");m();g();var clt="_sentryMetrics";function r3(t){let e=t[clt];if(!e)return;let r={};for(let[,[n,i]]of e)(r[n]||(r[n]=[])).push(qn(i));return r}o(r3,"getMetricSummaryJsonForSpan");m();g();var va="sentry.source",l2="sentry.sample_rate",Ga="sentry.op",Vn="sentry.origin",d2="sentry.idle_span_finish_reason",Vm="sentry.measurement_unit",jm="sentry.measurement_value",n3="sentry.custom_span_name",mz="sentry.profile_id",A1="sentry.exclusive_time";m();g();function gz(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}o(gz,"getSpanStatusFromHttpCode");function h2(t,e){t.setAttribute("http.response.status_code",e);let r=gz(e);r.message!=="unknown_error"&&t.setStatus(r)}o(h2,"setHttpStatus");m();g();m();g();var K9="sentry-",flt=/^sentry-/,ult=8192;function G9(t){let e=llt(t);if(!e)return;let r=Object.entries(e).reduce((n,[i,s])=>{if(i.match(flt)){let a=i.slice(K9.length);n[a]=s}return n},{});if(Object.keys(r).length>0)return r}o(G9,"baggageHeaderToDynamicSamplingContext");function yz(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${K9}${n}`]=i),r),{});return dlt(e)}o(yz,"dynamicSamplingContextToSentryBaggageHeader");function llt(t){if(!(!t||!Ka(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{let n=f3e(r);return Object.entries(n).forEach(([i,s])=>{e[i]=s}),e},{}):f3e(t)}o(llt,"parseBaggageHeader");function f3e(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}o(f3e,"baggageHeaderToObject");function dlt(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{let s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,a=i===0?s:`${e},${s}`;return a.length>ult?(Ec&&Qe.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a},"")}o(dlt,"objectToBaggageHeader");var $9=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function u3e(t){if(!t)return;let e=t.match($9);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}o(u3e,"extractTraceparentData");function bz(t,e){let r=u3e(t),n=G9(e);if(!r||!r.traceId)return{traceId:Ic(),spanId:Tc()};let{traceId:i,parentSpanId:s,parentSampled:a}=r,c=Tc();return{traceId:i,parentSpanId:s,spanId:c,sampled:a,dsc:n||{}}}o(bz,"propagationContextFromHeaders");function i3(t=Ic(),e=Tc(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}o(i3,"generateSentryTraceHeader");var W9=0,vz=1,l3e=!1;function h3e(t){let{spanId:e,traceId:r}=t.spanContext(),{data:n,op:i,parent_span_id:s,status:a,origin:c}=er(t);return qn({parent_span_id:s,span_id:e,trace_id:r,data:n,op:i,status:a,origin:c})}o(h3e,"spanToTransactionTraceContext");function _z(t){let{spanId:e,traceId:r,isRemote:n}=t.spanContext(),i=n?e:er(t).parent_span_id,s=n?Tc():e;return qn({parent_span_id:i,span_id:s,trace_id:r})}o(_z,"spanToTraceContext");function Y9(t){let{traceId:e,spanId:r}=t.spanContext(),n=lu(t);return i3(e,r,n)}o(Y9,"spanToTraceHeader");function bl(t){return typeof t=="number"?d3e(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?d3e(t.getTime()):Zi()}o(bl,"spanTimeInputToSeconds");function d3e(t){return t>9999999999?t/1e3:t}o(d3e,"ensureTimestampInSeconds");function er(t){if(glt(t))return t.getSpanJSON();try{let{spanId:e,traceId:r}=t.spanContext();if(mlt(t)){let{attributes:n,startTime:i,name:s,endTime:a,parentSpanId:c,status:l}=t;return qn({span_id:e,trace_id:r,data:n,description:s,parent_span_id:c,start_timestamp:bl(i),timestamp:bl(a)||void 0,status:X9(l),op:n[Ga],origin:n[Vn],_metrics_summary:r3(t)})}return{span_id:e,trace_id:r}}catch{return{}}}o(er,"spanToJSON");function mlt(t){let e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}o(mlt,"spanIsOpenTelemetrySdkTraceBaseSpan");function glt(t){return typeof t.getSpanJSON=="function"}o(glt,"spanIsSentrySpan");function lu(t){let{traceFlags:e}=t.spanContext();return e===vz}o(lu,"spanIsSampled");function X9(t){if(!(!t||t.code===0))return t.code===1?"ok":t.message||"unknown_error"}o(X9,"getStatusMessage");var I1="_sentryChildSpans",xz="_sentryRootSpan";function Z9(t,e){let r=t[xz]||t;fo(e,xz,r),t[I1]?t[I1].add(e):fo(t,I1,new Set([e]))}o(Z9,"addChildSpanToSpan");function p3e(t,e){t[I1]&&t[I1].delete(e)}o(p3e,"removeChildSpanFromSpan");function zm(t){let e=new Set;function r(n){if(!e.has(n)&&lu(n)){e.add(n);let i=n[I1]?Array.from(n[I1]):[];for(let s of i)r(s)}}return o(r,"addSpanChildren"),r(t),Array.from(e)}o(zm,"getSpanDescendants");function Cn(t){return t[xz]||t}o(Cn,"getRootSpan");function kn(){let t=ff(),e=Hd(t);return e.getActiveSpan?e.getActiveSpan():S1(vr())}o(kn,"getActiveSpan");function J9(){l3e||(Sc(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),l3e=!0)}o(J9,"showSpanDropWarning");var m3e=!1;function Q9(){m3e||(m3e=!0,XS(wz),ZS(wz))}o(Q9,"registerSpanErrorInstrumentation");function wz(){let t=kn(),e=t&&Cn(t);if(e){let r="internal_error";Lt&&Qe.log(`[Tracing] Root span: ${r} -> Global error occurred`),e.setStatus({code:2,message:r})}}o(wz,"errorCallback");wz.tag="sentry_tracingErrorCallback";m();g();var g3e="_sentryScope",y3e="_sentryIsolationScope";function b3e(t,e,r){t&&(fo(t,y3e,r),fo(t,g3e,e))}o(b3e,"setCapturedScopesOnSpan");function Ez(t){return{scope:t[g3e],isolationScope:t[y3e]}}o(Ez,"getCapturedScopesOnSpan");m();g();m();g();function $a(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=Qt(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}o($a,"hasTracingEnabled");m();g();var Rc=class{static{o(this,"SentryNonRecordingSpan")}constructor(e={}){this._traceId=e.traceId||Ic(),this._spanId=e.spanId||Tc()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:W9}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}};m();g();m();g();function x3e(t,e,r=()=>{}){let n;try{n=t()}catch(i){throw e(i),r(),i}return ylt(n,e,r)}o(x3e,"handleCallbackErrors");function ylt(t,e,r){return ml(t)?t.then(n=>(r(),n),n=>{throw e(n),r(),n}):(r(),t)}o(ylt,"maybeHandlePromiseRejection");m();g();m();g();var p2="production";var v3e="_frozenDsc";function Sz(t,e){fo(t,v3e,e)}o(Sz,"freezeDscOnSpan");function Az(t,e){let r=e.getOptions(),{publicKey:n}=e.getDsn()||{},i=qn({environment:r.environment||p2,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",i),i}o(Az,"getDynamicSamplingContextFromClient");function o3(t,e){let r=e.getPropagationContext();return r.dsc||Az(r.traceId,t)}o(o3,"getDynamicSamplingContextFromScope");function hf(t){let e=Qt();if(!e)return{};let r=Cn(t),n=r[v3e];if(n)return n;let i=r.spanContext().traceState,s=i&&i.get("sentry.dsc"),a=s&&G9(s);if(a)return a;let c=Az(t.spanContext().traceId,e),l=er(r),h=l.data||{},y=h[l2];y!=null&&(c.sample_rate=`${y}`);let p=h[va],E=l.description;return p!=="url"&&E&&(c.transaction=E),$a()&&(c.sampled=String(lu(r))),e.emit("createDsc",c,r),c}o(hf,"getDynamicSamplingContextFromSpan");m();g();function _3e(t){if(!Lt)return;let{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:n}=er(t),{spanId:i}=t.spanContext(),s=lu(t),a=Cn(t),c=a===t,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${c?"root ":""}span`,h=[`op: ${r}`,`name: ${e}`,`ID: ${i}`];if(n&&h.push(`parent ID: ${n}`),!c){let{op:y,description:p}=er(a);h.push(`root ID: ${a.spanContext().spanId}`),y&&h.push(`root op: ${y}`),p&&h.push(`root description: ${p}`)}Qe.log(`${l}
  ${h.join(`
  `)}`)}o(_3e,"logSpanStart");function w3e(t){if(!Lt)return;let{description:e="< unknown name >",op:r="< unknown op >"}=er(t),{spanId:n}=t.spanContext(),s=Cn(t)===t,a=`[Tracing] Finishing "${r}" ${s?"root ":""}span "${e}" with ID ${n}`;Qe.log(a)}o(w3e,"logSpanEnd");m();g();m();g();function eO(t){if(typeof t=="boolean")return Number(t);let e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){Lt&&Qe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}o(eO,"parseSampleRate");function E3e(t,e){if(!$a(t))return[!1];let r=Do().getScopeData().sdkProcessingMetadata.normalizedRequest,n={...e,normalizedRequest:e.normalizedRequest||r},i;typeof t.tracesSampler=="function"?i=t.tracesSampler(n):n.parentSampled!==void 0?i=n.parentSampled:typeof t.tracesSampleRate<"u"?i=t.tracesSampleRate:i=1;let s=eO(i);return s===void 0?(Lt&&Qe.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(Lt&&Qe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(Lt&&Qe.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}o(E3e,"sampleSpan");m();g();m();g();m();g();var blt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function xlt(t){return t==="http"||t==="https"}o(xlt,"isValidProtocol");function qd(t,e=!1){let{host:r,path:n,pass:i,port:s,projectId:a,protocol:c,publicKey:l}=t;return`${c}://${l}${e&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${a}`}o(qd,"dsnToString");function S3e(t){let e=blt.exec(t);if(!e){Sc(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,n,i="",s="",a="",c=""]=e.slice(1),l="",h=c,y=h.split("/");if(y.length>1&&(l=y.slice(0,-1).join("/"),h=y.pop()),h){let p=h.match(/^\d+/);p&&(h=p[0])}return A3e({host:s,pass:i,path:l,projectId:h,port:a,protocol:r,publicKey:n})}o(S3e,"dsnFromString");function A3e(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}o(A3e,"dsnFromComponents");function vlt(t){if(!Ec)return!0;let{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(Qe.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:r.match(/^\d+$/)?xlt(n)?e&&isNaN(parseInt(e,10))?(Qe.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Qe.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(Qe.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}o(vlt,"validateDsn");function Iz(t){let e=typeof t=="string"?S3e(t):A3e(t);if(!(!e||!vlt(e)))return e}o(Iz,"makeDsn");m();g();m();g();m();g();function I3e(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let s=0;s<e.length;s++)if(e[s]===i)return!0;return e.push(i),!1}o(r,"memoize");function n(i){if(t)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return o(n,"unmemoize"),[r,n]}o(I3e,"memoBuilder");function du(t,e=100,r=1/0){try{return Tz("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}o(du,"normalize");function tO(t,e=3,r=100*1024){let n=du(t,e);return Slt(n)>r?tO(t,e-1,r):n}o(tO,"normalizeToSize");function Tz(t,e,r=1/0,n=1/0,i=I3e()){let[s,a]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let c=_lt(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;let l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(l===0)return c.replace("object ","");if(s(e))return"[Circular ~]";let h=e;if(h&&typeof h.toJSON=="function")try{let I=h.toJSON();return Tz("",I,l-1,n,i)}catch{}let y=Array.isArray(e)?[]:{},p=0,E=V9(e);for(let I in E){if(!Object.prototype.hasOwnProperty.call(E,I))continue;if(p>=n){y[I]="[MaxProperties ~]";break}let O=E[I];y[I]=Tz(I,O,l-1,n,i),p++}return a(e),y}o(Tz,"visit");function _lt(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof self<"u"&&e===self)return"[Global]";if(typeof self<"u"&&e===self)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(QS(e))return"[VueViewModel]";if(sz(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Ac(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=wlt(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}o(_lt,"stringifyValue");function wlt(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}o(wlt,"getConstructorName");function Elt(t){return~-encodeURI(t).split(/%..|./).length}o(Elt,"utf8Length");function Slt(t){return Elt(JSON.stringify(t))}o(Slt,"jsonSize");function xl(t,e=[]){return[t,e]}o(xl,"createEnvelope");function Oz(t,e){let[r,n]=t;return[r,[...n,e]]}o(Oz,"addItemToEnvelope");function rO(t,e){let r=t[1];for(let n of r){let i=n[0].type;if(e(n,i))return!0}return!1}o(rO,"forEachEnvelopeItem");function Rz(t){return Yt.__SENTRY__&&Yt.__SENTRY__.encodePolyfill?Yt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}o(Rz,"encodeUTF8");function Nz(t){let[e,r]=t,n=JSON.stringify(e);function i(s){typeof n=="string"?n=typeof s=="string"?n+s:[Rz(n),s]:n.push(typeof s=="string"?Rz(s):s)}o(i,"append");for(let s of r){let[a,c]=s;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let l;try{l=JSON.stringify(c)}catch{l=JSON.stringify(du(c))}i(l)}}return typeof n=="string"?n:Alt(n)}o(Nz,"serializeEnvelope");function Alt(t){let e=t.reduce((i,s)=>i+s.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}o(Alt,"concatBuffers");function Mz(t){return[{type:"span"},t]}o(Mz,"createSpanEnvelopeItem");function Cz(t){let e=typeof t.data=="string"?Rz(t.data):t.data;return[qn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}o(Cz,"createAttachmentEnvelopeItem");var Ilt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function nO(t){return Ilt[t]}o(nO,"envelopeItemTypeToDataCategory");function iO(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}o(iO,"getSdkMetadataForEnvelopeHeader");function kz(t,e,r,n){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:qd(n)},...i&&{trace:qn({...i})}}}o(kz,"createEventEnvelopeHeaders");function Tlt(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}o(Tlt,"enhanceEventWithSdkInfo");function T3e(t,e,r,n){let i=iO(r),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&e&&{dsn:qd(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return xl(s,[a])}o(T3e,"createSessionEnvelope");function R3e(t,e,r,n){let i=iO(r),s=t.type&&t.type!=="replay_event"?t.type:"event";Tlt(t,r&&r.sdk);let a=kz(t,i,n,e);return delete t.sdkProcessingMetadata,xl(a,[[{type:s},t]])}o(R3e,"createEventEnvelope");function O3e(t,e){function r(y){return!!y.trace_id&&!!y.public_key}o(r,"dscHasRequiredProps");let n=hf(t[0]),i=e&&e.getDsn(),s=e&&e.getOptions().tunnel,a={sent_at:new Date().toISOString(),...r(n)&&{trace:n},...!!s&&i&&{dsn:qd(i)}},c=e&&e.getOptions().beforeSendSpan,l=c?y=>{let p=c(er(y));return p||J9(),p}:y=>er(y),h=[];for(let y of t){let p=l(y);p&&h.push(Mz(p))}return xl(a,h)}o(O3e,"createSpanEnvelope");m();g();function oO(t,e,r,n=kn()){let i=n&&Cn(n);i&&(Lt&&Qe.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),i.addEvent(t,{[jm]:e,[Vm]:r}))}o(oO,"setMeasurement");function sO(t){if(!t||t.length===0)return;let e={};return t.forEach(r=>{let n=r.attributes||{},i=n[Vm],s=n[jm];typeof i=="string"&&typeof s=="number"&&(e[r.name]={value:s,unit:i})}),e}o(sO,"timedEventsToMeasurements");var N3e=1e3,m2=class{static{o(this,"SentrySpan")}constructor(e={}){this._traceId=e.traceId||Ic(),this._spanId=e.spanId||Tc(),this._startTime=e.startTimestamp||Zi(),this._attributes={},this.setAttributes({[Vn]:"manual",[Ga]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,r){}spanContext(){let{_spanId:e,_traceId:r,_sampled:n}=this;return{spanId:e,traceId:r,traceFlags:n?vz:W9}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=bl(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(va,"custom"),this}end(e){this._endTime||(this._endTime=bl(e),w3e(this),this._onSpanEnded())}getSpanJSON(){return qn({data:this._attributes,description:this._name,op:this._attributes[Ga],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:X9(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Vn],_metrics_summary:r3(this),profile_id:this._attributes[mz],exclusive_time:this._attributes[A1],measurements:sO(this._events),is_segment:this._isStandaloneSpan&&Cn(this)===this||void 0,segment_id:this._isStandaloneSpan?Cn(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,n){Lt&&Qe.log("[Tracing] Adding an event to span:",e);let i=M3e(r)?r:n||Zi(),s=M3e(r)?{}:r||{},a={name:e,time:bl(i),attributes:s};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=Qt();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Cn(this)))return;if(this._isStandaloneSpan){this._sampled?Olt(O3e([this],e)):(Lt&&Qe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let n=this._convertSpanToTransaction();n&&(Ez(this).scope||vr()).captureEvent(n)}_convertSpanToTransaction(){if(!C3e(er(this)))return;this._name||(Lt&&Qe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:r}=Ez(this),i=(e||vr()).getClient()||Qt();if(this._sampled!==!0){Lt&&Qe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}let a=zm(this).filter(p=>p!==this&&!Rlt(p)).map(p=>er(p)).filter(C3e),c=this._attributes[va];delete this._attributes[n3],a.forEach(p=>{p.data&&delete p.data[n3]});let l={contexts:{trace:h3e(this)},spans:a.length>N3e?a.sort((p,E)=>p.start_timestamp-E.start_timestamp).slice(0,N3e):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,...qn({dynamicSamplingContext:hf(this)})},_metrics_summary:r3(this),...c&&{transaction_info:{source:c}}},h=sO(this._events);return h&&Object.keys(h).length&&(Lt&&Qe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(h,void 0,2)),l.measurements=h),l}};function M3e(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}o(M3e,"isSpanTimeInput");function C3e(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}o(C3e,"isFullFinishedSpan");function Rlt(t){return t instanceof m2&&t.isStandaloneSpan()}o(Rlt,"isStandaloneSpan");function Olt(t){let e=Qt();if(!e)return;let r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}o(Olt,"sendSpanEnvelope");var B3e="__SENTRY_SUPPRESS_TRACING__";function aO(t,e){let r=Bz();if(r.startSpan)return r.startSpan(t,e);let n=L3e(t),{forceTransaction:i,parentSpan:s}=t;return qm(t.scope,()=>Mlt(s)(()=>{let c=vr(),l=D3e(c),y=t.onlyIfParent&&!l?new Rc:P3e({parentSpan:l,spanArguments:n,forceTransaction:i,scope:c});return d0(c,y),x3e(()=>e(y),()=>{let{status:p}=er(y);y.isRecording()&&(!p||p==="ok")&&y.setStatus({code:2,message:"internal_error"})},()=>y.end())}))}o(aO,"startSpan");function pf(t){let e=Bz();if(e.startInactiveSpan)return e.startInactiveSpan(t);let r=L3e(t),{forceTransaction:n,parentSpan:i}=t;return(t.scope?a=>qm(t.scope,a):i!==void 0?a=>g2(i,a):a=>a())(()=>{let a=vr(),c=D3e(a);return t.onlyIfParent&&!c?new Rc:P3e({parentSpan:c,spanArguments:r,forceTransaction:n,scope:a})})}o(pf,"startInactiveSpan");function g2(t,e){let r=Bz();return r.withActiveSpan?r.withActiveSpan(t,e):qm(n=>(d0(n,t||void 0),e(n)))}o(g2,"withActiveSpan");function P3e({parentSpan:t,spanArguments:e,forceTransaction:r,scope:n}){if(!$a())return new Rc;let i=Do(),s;if(t&&!r)s=Nlt(t,n,e),Z9(t,s);else if(t){let a=hf(t),{traceId:c,spanId:l}=t.spanContext(),h=lu(t);s=k3e({traceId:c,parentSpanId:l,...e},n,h),Sz(s,a)}else{let{traceId:a,dsc:c,parentSpanId:l,sampled:h}={...i.getPropagationContext(),...n.getPropagationContext()};s=k3e({traceId:a,parentSpanId:l,...e},n,h),c&&Sz(s,c)}return _3e(s),b3e(s,n,i),s}o(P3e,"createChildOrRootSpan");function L3e(t){let r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){let n={...r};return n.startTimestamp=bl(t.startTime),delete n.startTime,n}return r}o(L3e,"parseSentrySpanArguments");function Bz(){let t=ff();return Hd(t)}o(Bz,"getAcs");function k3e(t,e,r){let n=Qt(),i=n&&n.getOptions()||{},{name:s="",attributes:a}=t,[c,l]=e.getScopeData().sdkProcessingMetadata[B3e]?[!1]:E3e(i,{name:s,parentSampled:r,attributes:a,transactionContext:{name:s,parentSampled:r}}),h=new m2({...t,attributes:{[va]:"custom",...t.attributes},sampled:c});return l!==void 0&&h.setAttribute(l2,l),n&&n.emit("spanStart",h),h}o(k3e,"_startRootSpan");function Nlt(t,e,r){let{spanId:n,traceId:i}=t.spanContext(),s=e.getScopeData().sdkProcessingMetadata[B3e]?!1:lu(t),a=s?new m2({...r,parentSpanId:n,traceId:i,sampled:s}):new Rc({traceId:i});Z9(t,a);let c=Qt();return c&&(c.emit("spanStart",a),r.endTimestamp&&c.emit("spanEnd",a)),a}o(Nlt,"_startChildSpan");function D3e(t){let e=S1(t);if(!e)return;let r=Qt();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Cn(e):e}o(D3e,"getParentSpan");function Mlt(t){return t!==void 0?e=>g2(t,e):e=>e()}o(Mlt,"getActiveSpanWrapper");var y2={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Clt="heartbeatFailed",klt="idleTimeout",Blt="finalTimeout",Plt="externalFinish";function cO(t,e={}){let r=new Map,n=!1,i,s=Plt,a=!e.disableAutoFinish,c=[],{idleTimeout:l=y2.idleTimeout,finalTimeout:h=y2.finalTimeout,childSpanTimeout:y=y2.childSpanTimeout,beforeSpanEnd:p}=e,E=Qt();if(!E||!$a())return new Rc;let I=vr(),O=kn(),N=Llt(t);N.end=new Proxy(N.end,{apply(F,J,W){p&&p(N);let[X,...S]=W,f=X||Zi(),d=bl(f),b=zm(N).filter(v=>v!==N);if(!b.length)return H(d),Reflect.apply(F,J,[d,...S]);let x=b.map(v=>er(v).timestamp).filter(v=>!!v),_=x.length?Math.max(...x):void 0,A=er(N).start_timestamp,T=Math.min(A?A+h/1e3:1/0,Math.max(A||-1/0,Math.min(d,_||1/0)));return H(T),Reflect.apply(F,J,[T,...S])}});function k(){i&&(clearTimeout(i),i=void 0)}o(k,"_cancelIdleTimeout");function C(F){k(),i=setTimeout(()=>{!n&&r.size===0&&a&&(s=klt,N.end(F))},l)}o(C,"_restartIdleTimeout");function L(F){i=setTimeout(()=>{!n&&a&&(s=Clt,N.end(F))},y)}o(L,"_restartChildSpanTimeout");function M(F){k(),r.set(F,!0);let J=Zi();L(J+y/1e3)}o(M,"_pushActivity");function P(F){if(r.has(F)&&r.delete(F),r.size===0){let J=Zi();C(J+l/1e3)}}o(P,"_popActivity");function H(F){n=!0,r.clear(),c.forEach(d=>d()),d0(I,O);let J=er(N),{start_timestamp:W}=J;if(!W)return;(J.data||{})[d2]||N.setAttribute(d2,s),Qe.log(`[Tracing] Idle span "${J.op}" finished`);let S=zm(N).filter(d=>d!==N),f=0;S.forEach(d=>{d.isRecording()&&(d.setStatus({code:2,message:"cancelled"}),d.end(F),Lt&&Qe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(d,void 0,2)));let b=er(d),{timestamp:x=0,start_timestamp:_=0}=b,A=_<=F,T=(h+l)/1e3,v=x-_<=T;if(Lt){let u=JSON.stringify(d,void 0,2);A?v||Qe.log("[Tracing] Discarding span since it finished after idle span final timeout",u):Qe.log("[Tracing] Discarding span since it happened after idle span was finished",u)}(!v||!A)&&(p3e(N,d),f++)}),f>0&&N.setAttribute("sentry.idle_span_discarded_spans",f)}return o(H,"onIdleSpanEnded"),c.push(E.on("spanStart",F=>{if(n||F===N||er(F).timestamp)return;zm(N).includes(F)&&M(F.spanContext().spanId)})),c.push(E.on("spanEnd",F=>{n||P(F.spanContext().spanId)})),c.push(E.on("idleSpanEnableAutoFinish",F=>{F===N&&(a=!0,C(),r.size&&L())})),e.disableAutoFinish||C(),setTimeout(()=>{n||(N.setStatus({code:2,message:"deadline_exceeded"}),s=Blt,N.end())},h),N}o(cO,"startIdleSpan");function Llt(t){let e=pf(t);return d0(vr(),e),Lt&&Qe.log("[Tracing] Started span is an idle span"),e}o(Llt,"_startIdleSpan");m();g();m();g();m();g();function fO(t,e,r,n=0){return new yl((i,s)=>{let a=t[n];if(e===null||typeof a!="function")i(e);else{let c=a({...e},r);Lt&&a.id&&c===null&&Qe.log(`Event processor "${a.id}" dropped event`),ml(c)?c.then(l=>fO(t,l,r,n+1).then(i)).then(null,s):fO(t,c,r,n+1).then(i).then(null,s)}})}o(fO,"notifyEventProcessors");m();g();var uO,U3e,lO;function F3e(t){let e=Yt._sentryDebugIds;if(!e)return{};let r=Object.keys(e);return lO&&r.length===U3e||(U3e=r.length,lO=r.reduce((n,i)=>{uO||(uO={});let s=uO[i];if(s)n[s[0]]=s[1];else{let a=t(i);for(let c=a.length-1;c>=0;c--){let l=a[c],h=l&&l.filename,y=e[i];if(h&&y){n[h]=y,uO[i]=[h,y];break}}}return n},{})),lO}o(F3e,"getFilenameToDebugIdMap");m();g();function H3e(t,e){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:s}=e;Dlt(t,e),n&&Hlt(t,n),qlt(t,r),Ult(t,i),Flt(t,s)}o(H3e,"applyScopeDataToEvent");function Pz(t,e){let{extra:r,tags:n,user:i,contexts:s,level:a,sdkProcessingMetadata:c,breadcrumbs:l,fingerprint:h,eventProcessors:y,attachments:p,propagationContext:E,transactionName:I,span:O}=e;dO(t,"extra",r),dO(t,"tags",n),dO(t,"user",i),dO(t,"contexts",s),t.sdkProcessingMetadata=f2(t.sdkProcessingMetadata,c,2),a&&(t.level=a),I&&(t.transactionName=I),O&&(t.span=O),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),h.length&&(t.fingerprint=[...t.fingerprint,...h]),y.length&&(t.eventProcessors=[...t.eventProcessors,...y]),p.length&&(t.attachments=[...t.attachments,...p]),t.propagationContext={...t.propagationContext,...E}}o(Pz,"mergeScopeData");function dO(t,e,r){t[e]=f2(t[e],r,1)}o(dO,"mergeAndOverwriteScopeData");function Dlt(t,e){let{extra:r,tags:n,user:i,contexts:s,level:a,transactionName:c}=e,l=qn(r);l&&Object.keys(l).length&&(t.extra={...l,...t.extra});let h=qn(n);h&&Object.keys(h).length&&(t.tags={...h,...t.tags});let y=qn(i);y&&Object.keys(y).length&&(t.user={...y,...t.user});let p=qn(s);p&&Object.keys(p).length&&(t.contexts={...p,...t.contexts}),a&&(t.level=a),c&&t.type!=="transaction"&&(t.transaction=c)}o(Dlt,"applyDataToEvent");function Ult(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}o(Ult,"applyBreadcrumbsToEvent");function Flt(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}o(Flt,"applySdkMetadataToEvent");function Hlt(t,e){t.contexts={trace:_z(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:hf(e),...t.sdkProcessingMetadata};let r=Cn(e),n=er(r).description;n&&!t.transaction&&t.type==="transaction"&&(t.transaction=n)}o(Hlt,"applySpanToEvent");function qlt(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}o(qlt,"applyFingerprintToEvent");function q3e(t,e,r,n,i,s){let{normalizeDepth:a=3,normalizeMaxBreadth:c=1e3}=t,l={...e,event_id:e.event_id||r.event_id||Lo(),timestamp:e.timestamp||Ud()},h=r.integrations||t.integrations.map(k=>k.name);Vlt(l,t),Klt(l,h),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&jlt(l,t.stackParser);let y=$lt(n,r.captureContext);r.mechanism&&Fd(l,r.mechanism);let p=i?i.getEventProcessors():[],E=z9().getScopeData();if(s){let k=s.getScopeData();Pz(E,k)}if(y){let k=y.getScopeData();Pz(E,k)}let I=[...r.attachments||[],...E.attachments];I.length&&(r.attachments=I),H3e(l,E);let O=[...p,...E.eventProcessors];return fO(O,l,r).then(k=>(k&&zlt(k),typeof a=="number"&&a>0?Glt(k,a,c):k))}o(q3e,"prepareEvent");function Vlt(t,e){let{environment:r,release:n,dist:i,maxValueLength:s=250}=e;t.environment=t.environment||r||p2,!t.release&&n&&(t.release=n),!t.dist&&i&&(t.dist=i),t.message&&(t.message=Ld(t.message,s));let a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=Ld(a.value,s));let c=t.request;c&&c.url&&(c.url=Ld(c.url,s))}o(Vlt,"applyClientOptions");function jlt(t,e){let r=F3e(e);try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{r&&i.filename&&(i.debug_id=r[i.filename])})})}catch{}}o(jlt,"applyDebugIds");function zlt(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.entries(e).forEach(([n,i])=>{r.push({type:"sourcemap",code_file:n,debug_id:i})})}o(zlt,"applyDebugMeta");function Klt(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}o(Klt,"applyIntegrationsMetadata");function Glt(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:du(i.data,e,r)}}))},...t.user&&{user:du(t.user,e,r)},...t.contexts&&{contexts:du(t.contexts,e,r)},...t.extra&&{extra:du(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=du(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>({...i,...i.data&&{data:du(i.data,e,r)}}))),t.contexts&&t.contexts.flags&&n.contexts&&(n.contexts.flags=du(t.contexts.flags,3,r)),n}o(Glt,"normalizeEvent");function $lt(t,e){if(!e)return t;let r=t?t.clone():new df;return r.update(e),r}o($lt,"getFinalScope");function V3e(t){if(t)return Wlt(t)?{captureContext:t}:Xlt(t)?{captureContext:t}:t}o(V3e,"parseEventHintOrCaptureContext");function Wlt(t){return t instanceof df||typeof t=="function"}o(Wlt,"hintIsScopeOrFunction");var Ylt=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Xlt(t){return Object.keys(t).some(e=>Ylt.includes(e))}o(Xlt,"hintIsScopeContext");function b2(t,e){return vr().captureException(t,V3e(e))}o(b2,"captureException");function hO(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return vr().captureMessage(t,r,n)}o(hO,"captureMessage");function s3(t,e){return vr().captureEvent(t,e)}o(s3,"captureEvent");function pO(t,e){Do().setContext(t,e)}o(pO,"setContext");function mO(t){Do().setTags(t)}o(mO,"setTags");function gO(t){Do().setUser(t)}o(gO,"setUser");function Lz(){let t=Qt();return!!t&&t.getOptions().enabled!==!1&&!!t.getTransport()}o(Lz,"isEnabled");function a3(t){let e=Qt(),r=Do(),n=vr(),{release:i,environment:s=p2}=e&&e.getOptions()||{},{userAgent:a}=Yt.navigator||{},c=n3e({release:i,environment:s,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...t}),l=r.getSession();return l&&l.status==="ok"&&l0(l,{status:"exited"}),yO(),r.setSession(c),n.setSession(c),c}o(a3,"startSession");function yO(){let t=Do(),e=vr(),r=e.getSession()||t.getSession();r&&i3e(r),z3e(),t.setSession(),e.setSession()}o(yO,"endSession");function z3e(){let t=Do(),e=vr(),r=Qt(),n=e.getSession()||t.getSession();n&&r&&r.captureSession(n)}o(z3e,"_sendSessionUpdate");function c3(t=!1){if(t){yO();return}z3e()}o(c3,"captureSession");m();g();var Zlt="7";function Jlt(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}o(Jlt,"getBaseApiEndpoint");function Qlt(t){return`${Jlt(t)}${t.projectId}/envelope/`}o(Qlt,"_getIngestEndpoint");function edt(t,e){let r={sentry_version:Zlt};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}o(edt,"_encodedAuth");function K3e(t,e,r){return e||`${Qlt(t)}?${edt(t,r)}`}o(K3e,"getEnvelopeEndpointWithUrlEncodedAuth");m();g();m();g();var G3e=[];function tdt(t){let e={};return t.forEach(r=>{let{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.values(e)}o(tdt,"filterDuplicates");function Dz(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(a=>{a.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...e,...r];else if(typeof r=="function"){let a=r(e);n=Array.isArray(a)?a:[a]}else n=e;let i=tdt(n),s=i.findIndex(a=>a.name==="Debug");if(s>-1){let[a]=i.splice(s,1);i.push(a)}return i}o(Dz,"getIntegrationsToSetup");function $3e(t,e){let r={};return e.forEach(n=>{n&&Fz(t,n,r)}),r}o($3e,"setupIntegrations");function Uz(t,e){for(let r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}o(Uz,"afterSetupIntegrations");function Fz(t,e,r){if(r[e.name]){Lt&&Qe.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,G3e.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),G3e.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,s)=>n(i,s,t))}if(typeof e.processEvent=="function"){let n=e.processEvent.bind(e),i=Object.assign((s,a)=>n(s,a,t),{id:e.name});t.addEventProcessor(i)}Lt&&Qe.log(`Integration installed: ${e.name}`)}o(Fz,"setupIntegration");m();g();function W3e(t,e,r){let n=[{type:"client_report"},{timestamp:r||Ud(),discarded_events:t}];return xl(e?{dsn:e}:{},[n])}o(W3e,"createClientReportEnvelope");m();g();var _a=class extends Error{static{o(this,"SentryError")}constructor(e,r="warn"){super(e),this.message=e,this.logLevel=r}};var Y3e="Not capturing exception because it's already been captured.",f3=class{static{o(this,"BaseClient")}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Iz(e.dsn):Lt&&Qe.warn("No DSN provided, client will not send events."),this._dsn){let i=K3e(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}let n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&Sc(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,r,n){let i=Lo();if(j9(e))return Lt&&Qe.log(Y3e),i;let s={event_id:i,...r};return this._process(this.eventFromException(e,s).then(a=>this._captureEvent(a,s,n))),s.event_id}captureMessage(e,r,n,i){let s={event_id:Lo(),...n},a=s2(e)?e:String(e),c=_1(e)?this.eventFromMessage(a,r,s):this.eventFromException(e,s);return this._process(c.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(e,r,n){let i=Lo();if(r&&r.originalException&&j9(r.originalException))return Lt&&Qe.log(Y3e),i;let s={event_id:i,...r},c=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,c||n)),s.event_id}captureSession(e){typeof e.release!="string"?Lt&&Qe.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),l0(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i))):uu(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let r=this._integrations[e.name];Fz(this,e,this._integrations),r||Uz(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=R3e(e,this._dsn,this._options._metadata,this._options.tunnel);for(let s of r.attachments||[])n=Oz(n,Cz(s));let i=this.sendEnvelope(n);i&&i.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){let r=T3e(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let i=typeof n=="number"?n:1,s=`${e}:${r}`;Lt&&Qe.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(e,r){let n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{let i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(e,...r){let n=this._hooks[e];n&&n.forEach(i=>i(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(Lt&&Qe.error("Error while sending envelope:",r),r)):(Lt&&Qe.error("Transport disabled"),uu({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=$3e(this,e),Uz(this,e)}_updateSessionFromEvent(e,r){let n=r.level==="fatal",i=!1,s=r.exception&&r.exception.values;if(s){i=!0;for(let l of s){let h=l.mechanism;if(h&&h.handled===!1){n=!0;break}}}let a=e.status==="ok";(a&&e.errors===0||a&&n)&&(l0(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new yl(r=>{let n=0,i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=i,e&&n>=e&&(clearInterval(s),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n=vr(),i=Do()){let s=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",e,r),e.type||i.setLastEventId(e.event_id||r.event_id),q3e(s,e,r,n,this,i).then(c=>{if(c===null)return c;c.contexts={trace:pz(n),...c.contexts};let l=o3(this,n);return c.sdkProcessingMetadata={dynamicSamplingContext:l,...c.sdkProcessingMetadata},c})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{Lt&&(i instanceof _a&&i.logLevel==="log"?Qe.log(i.message):Qe.warn(i))})}_processEvent(e,r,n){let i=this.getOptions(),{sampleRate:s}=i,a=Z3e(e),c=X3e(e),l=e.type||"error",h=`before send for type \`${l}\``,y=typeof s>"u"?void 0:eO(s);if(c&&typeof y=="number"&&Math.random()>y)return this.recordDroppedEvent("sample_rate","error",e),Hm(new _a(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let p=l==="replay_event"?"replay":l,I=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,I).then(O=>{if(O===null)throw this.recordDroppedEvent("event_processor",p,e),new _a("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return O;let k=ndt(this,i,O,r);return rdt(k,h)}).then(O=>{if(O===null){if(this.recordDroppedEvent("before_send",p,e),a){let L=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",L)}throw new _a(`${h} returned \`null\`, will not send event.`,"log")}let N=n&&n.getSession();if(!a&&N&&this._updateSessionFromEvent(N,O),a){let C=O.sdkProcessingMetadata&&O.sdkProcessingMetadata.spanCountBeforeProcessing||0,L=O.spans?O.spans.length:0,M=C-L;M>0&&this.recordDroppedEvent("before_send","span",M)}let k=O.transaction_info;if(a&&k&&O.transaction!==e.transaction){let C="custom";O.transaction_info={...k,source:C}}return this.sendEvent(O,r),O}).then(null,O=>{throw O instanceof _a?O:(this.captureException(O,{data:{__sentry__:!0},originalException:O}),new _a(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${O}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{let[i,s]=r.split(":");return{reason:i,category:s,quantity:n}})}_flushOutcomes(){Lt&&Qe.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){Lt&&Qe.log("No outcomes to send");return}if(!this._dsn){Lt&&Qe.log("No dsn provided, will not send outcomes");return}Lt&&Qe.log("Sending outcomes:",e);let r=W3e(e,this._options.tunnel&&qd(this._dsn));this.sendEnvelope(r)}};function rdt(t,e){let r=`${e} must return \`null\` or a valid event.`;if(ml(t))return t.then(n=>{if(!pl(n)&&n!==null)throw new _a(r);return n},n=>{throw new _a(`${e} rejected with ${n}`)});if(!pl(t)&&t!==null)throw new _a(r);return t}o(rdt,"_validateBeforeSendResult");function ndt(t,e,r,n){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a}=e;if(X3e(r)&&i)return i(r,n);if(Z3e(r)){if(r.spans&&a){let c=[];for(let l of r.spans){let h=a(l);h?c.push(h):(J9(),t.recordDroppedEvent("before_send","span"))}r.spans=c}if(s){if(r.spans){let c=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return s(r,n)}}return r}o(ndt,"processBeforeSend");function X3e(t){return t.type===void 0}o(X3e,"isErrorEvent");function Z3e(t){return t.type==="transaction"}o(Z3e,"isTransactionEvent");m();g();function Hz(t,e){e.debug===!0&&(Lt?Qe.enable():Sc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),vr().update(e.initialScope);let n=new t(e);return qz(n),n.init(),n}o(Hz,"initAndBind");function qz(t){vr().setClient(t)}o(qz,"setCurrentClient");m();g();m();g();function J3e(t){let e=[];function r(){return t===void 0||e.length<t}o(r,"isReady");function n(a){return e.splice(e.indexOf(a),1)[0]||Promise.resolve(void 0)}o(n,"remove");function i(a){if(!r())return Hm(new _a("Not adding Promise because buffer limit was reached."));let c=a();return e.indexOf(c)===-1&&e.push(c),c.then(()=>n(c)).then(null,()=>n(c).then(null,()=>{})),c}o(i,"add");function s(a){return new yl((c,l)=>{let h=e.length;if(!h)return c(!0);let y=setTimeout(()=>{a&&a>0&&c(!1)},a);e.forEach(p=>{uu(p).then(()=>{--h||(clearTimeout(y),c(!0))},l)})})}return o(s,"drain"),{$:e,add:i,drain:s}}o(J3e,"makePromiseBuffer");m();g();function idt(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?6e4:n-e}o(idt,"parseRetryAfterHeader");function odt(t,e){return t[e]||t.all||0}o(odt,"disabledUntil");function Q3e(t,e,r=Date.now()){return odt(t,e)>r}o(Q3e,"isRateLimited");function e6e(t,{statusCode:e,headers:r},n=Date.now()){let i={...t},s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(let c of s.trim().split(",")){let[l,h,,,y]=c.split(":",5),p=parseInt(l,10),E=(isNaN(p)?60:p)*1e3;if(!h)i.all=n+E;else for(let I of h.split(";"))I==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(i[I]=n+E):i[I]=n+E}else a?i.all=n+idt(a,n):e===429&&(i.all=n+60*1e3);return i}o(e6e,"updateRateLimits");var sdt=64;function bO(t,e,r=J3e(t.bufferSize||sdt)){let n={},i=o(a=>r.drain(a),"flush");function s(a){let c=[];if(rO(a,(p,E)=>{let I=nO(E);if(Q3e(n,I)){let O=t6e(p,E);t.recordDroppedEvent("ratelimit_backoff",I,O)}else c.push(p)}),c.length===0)return uu({});let l=xl(a[0],c),h=o(p=>{rO(l,(E,I)=>{let O=t6e(E,I);t.recordDroppedEvent(p,nO(I),O)})},"recordEnvelopeLoss"),y=o(()=>e({body:Nz(l)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&Lt&&Qe.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),n=e6e(n,p),p),p=>{throw h("network_error"),p}),"requestTask");return r.add(y).then(p=>p,p=>{if(p instanceof _a)return Lt&&Qe.error("Skipped sending event because buffer is full."),h("queue_overflow"),uu({});throw p})}return o(s,"send"),{send:s,flush:i}}o(bO,"createTransport");function t6e(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}o(t6e,"getEventForEnvelopeItem");m();g();function u3(t,e,r=[e],n="npm"){let i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:r.map(s=>({name:`${n}:@sentry/${s}`,version:hl})),version:hl}),t._metadata=i}o(u3,"applySdkMetadata");m();g();function l3(t={}){let e=Qt();if(!Lz()||!e)return{};let r=ff(),n=Hd(r);if(n.getTraceData)return n.getTraceData(t);let i=vr(),s=t.span||kn(),a=s?Y9(s):adt(i),c=s?hf(s):o3(e,i),l=yz(c);return $9.test(a)?{"sentry-trace":a,baggage:l}:(Qe.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}o(l3,"getTraceData");function adt(t){let{traceId:e,sampled:r,spanId:n}=t.getPropagationContext();return i3(e,n,r)}o(adt,"scopeToTraceHeader");m();g();var cdt=100;function hu(t,e){let r=Qt(),n=Do();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=cdt}=r.getOptions();if(s<=0)return;let c={timestamp:Ud(),...t},l=i?Sc(()=>i(c,e)):c;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,e),n.addBreadcrumb(l,s))}o(hu,"addBreadcrumb");m();g();var r6e,fdt="FunctionToString",n6e=new WeakMap,udt=o(()=>({name:fdt,setupOnce(){r6e=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=E1(this),r=n6e.has(Qt())&&e!==void 0?e:this;return r6e.apply(r,t)}}catch{}},setup(t){n6e.set(t,!0)}}),"_functionToStringIntegration"),xO=udt;m();g();var ldt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],ddt="InboundFilters",hdt=o((t={})=>({name:ddt,processEvent(e,r,n){let i=n.getOptions(),s=pdt(t,i);return mdt(e,s)?null:e}}),"_inboundFiltersIntegration"),_O=hdt;function pdt(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:ldt],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}o(pdt,"_mergeOptions");function mdt(t,e){return e.ignoreInternal&&_dt(t)?(Lt&&Qe.warn(`Event dropped due to being internal Sentry Error.
Event: ${gl(t)}`),!0):gdt(t,e.ignoreErrors)?(Lt&&Qe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${gl(t)}`),!0):Edt(t)?(Lt&&Qe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${gl(t)}`),!0):ydt(t,e.ignoreTransactions)?(Lt&&Qe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${gl(t)}`),!0):bdt(t,e.denyUrls)?(Lt&&Qe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${gl(t)}.
Url: ${vO(t)}`),!0):xdt(t,e.allowUrls)?!1:(Lt&&Qe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${gl(t)}.
Url: ${vO(t)}`),!0)}o(mdt,"_shouldDropEvent");function gdt(t,e){return t.type||!e||!e.length?!1:vdt(t).some(r=>Dd(r,e))}o(gdt,"_isIgnoredError");function ydt(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?Dd(r,e):!1}o(ydt,"_isIgnoredTransaction");function bdt(t,e){if(!e||!e.length)return!1;let r=vO(t);return r?Dd(r,e):!1}o(bdt,"_isDeniedUrl");function xdt(t,e){if(!e||!e.length)return!0;let r=vO(t);return r?Dd(r,e):!0}o(xdt,"_isAllowedUrl");function vdt(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),e}o(vdt,"_getPossibleEventMessages");function _dt(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}o(_dt,"_isSentryError");function wdt(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}o(wdt,"_getLastValidUrl");function vO(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?wdt(e):null}catch{return Lt&&Qe.error(`Cannot extract url for event ${gl(t)}`),null}}o(vO,"_getEventFilterUrl");function Edt(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}o(Edt,"_isUselessError");m();g();function jz(t,e,r=250,n,i,s,a){if(!s.exception||!s.exception.values||!a||!uf(a.originalException,Error))return;let c=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;c&&(s.exception.values=Sdt(Vz(t,e,i,a.originalException,n,s.exception.values,c,0),r))}o(jz,"applyAggregateErrorsToEvent");function Vz(t,e,r,n,i,s,a,c){if(s.length>=r+1)return s;let l=[...s];if(uf(n[i],Error)){i6e(a,c);let h=t(e,n[i]),y=l.length;o6e(h,i,y,c),l=Vz(t,e,r,n[i],i,[h,...l],h,y)}return Array.isArray(n.errors)&&n.errors.forEach((h,y)=>{if(uf(h,Error)){i6e(a,c);let p=t(e,h),E=l.length;o6e(p,`errors[${y}]`,E,c),l=Vz(t,e,r,h,i,[p,...l],p,E)}}),l}o(Vz,"aggregateExceptionsFromError");function i6e(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}o(i6e,"applyExceptionGroupFieldsForParentException");function o6e(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}o(o6e,"applyExceptionGroupFieldsForChildException");function Sdt(t,e){return t.map(r=>(r.value&&(r.value=Ld(r.value,e)),r))}o(Sdt,"truncateAggregateExceptions");m();g();function pu(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}o(pu,"parseUrl");m();g();function zz(t){let e="console";ba(e,t),xa(e,Adt)}o(zz,"addConsoleInstrumentationHandler");function Adt(){"console"in Yt&&YS.forEach(function(t){t in Yt.console&&Po(Yt.console,t,function(e){return i2[t]=e,function(...r){_o("console",{args:r,level:t});let i=i2[t];i&&i.apply(Yt.console,r)}})})}o(Adt,"instrumentConsole");m();g();function Kz(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}o(Kz,"severityLevelFromString");m();g();var Idt="Dedupe",Tdt=o(()=>{let t;return{name:Idt,processEvent(e){if(e.type)return e;try{if(Rdt(e,t))return Lt&&Qe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},"_dedupeIntegration"),wO=Tdt;function Rdt(t,e){return e?!!(Odt(t,e)||Ndt(t,e)):!1}o(Rdt,"_shouldDropEvent");function Odt(t,e){let r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!c6e(t,e)||!a6e(t,e))}o(Odt,"_isSameMessageEvent");function Ndt(t,e){let r=s6e(e),n=s6e(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!c6e(t,e)||!a6e(t,e))}o(Ndt,"_isSameExceptionEvent");function a6e(t,e){let r=L9(t),n=L9(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){let s=n[i],a=r[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}o(a6e,"_isSameStacktrace");function c6e(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}o(c6e,"_isSameFingerprint");function s6e(t){return t.exception&&t.exception.values&&t.exception.values[0]}o(s6e,"_getExceptionFromEvent");m();g();function Gz(t,e,r,n,i="auto.http.browser"){if(!t.fetchData)return;let s=$a()&&e(t.fetchData.url);if(t.endTimestamp&&s){let E=t.fetchData.__span;if(!E)return;let I=n[E];I&&(kdt(I,t),delete n[E]);return}let{method:a,url:c}=t.fetchData,l=Cdt(c),h=l?pu(l).host:void 0,y=!!kn(),p=s&&y?pf({name:`${a} ${c}`,attributes:{url:c,type:"fetch","http.method":a,"http.url":l,"server.address":h,[Vn]:i,[Ga]:"http.client"}}):new Rc;if(t.fetchData.__span=p.spanContext().spanId,n[p.spanContext().spanId]=p,r(t.fetchData.url)){let E=t.args[0],I=t.args[1]||{},O=Mdt(E,I,$a()&&y?p:void 0);O&&(t.args[1]=I,I.headers=O)}return p}o(Gz,"instrumentFetchRequest");function Mdt(t,e,r){let n=l3({span:r}),i=n["sentry-trace"],s=n.baggage;if(!i)return;let a=e.headers||(Bdt(t)?t.headers:void 0);if(a)if(Pdt(a)){let c=new Headers(a);if(c.set("sentry-trace",i),s){let l=c.get("baggage");if(l){let h=EO(l);c.set("baggage",h?`${h},${s}`:s)}else c.set("baggage",s)}return c}else if(Array.isArray(a)){let c=[...a.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){let[h,y,...p]=l;return[h,EO(y),...p]}else return l}),["sentry-trace",i]];return s&&c.push(["baggage",s]),c}else{let c="baggage"in a?a.baggage:void 0,l=[];return Array.isArray(c)?l=c.map(h=>typeof h=="string"?EO(h):h).filter(h=>h===""):c&&l.push(EO(c)),s&&l.push(s),{...a,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{...n}}o(Mdt,"_addTracingHeadersToFetchRequest");function Cdt(t){try{return new URL(t).href}catch{return}}o(Cdt,"getFullURL");function kdt(t,e){if(e.response){h2(t,e.response.status);let r=e.response&&e.response.headers&&e.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&t.setAttribute("http.response_content_length",n)}}else e.error&&t.setStatus({code:2,message:"internal_error"});t.end()}o(kdt,"endSpan");function EO(t){return t.split(",").filter(e=>!e.split("=")[0].startsWith(K9)).join(",")}o(EO,"stripBaggageHeaderOfSentryBaggageValues");function Bdt(t){return typeof Request<"u"&&uf(t,Request)}o(Bdt,"isRequest");function Pdt(t){return typeof Headers<"u"&&uf(t,Headers)}o(Pdt,"isHeaders");m();g();function SO(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}o(SO,"getBreadcrumbLogLevelFromHttpStatusCode");m();g();m();g();var $z=Yt;function AO(){if(!("fetch"in $z))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}o(AO,"supportsFetch");function d3(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(d3,"isNativeFunction");function Wz(){if(typeof EdgeRuntime=="string")return!0;if(!AO())return!1;if(d3($z.fetch))return!0;let t=!1,e=$z.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=d3(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){Ec&&Qe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}o(Wz,"supportsNativeFetch");function h3(t,e){let r="fetch";ba(r,t),xa(r,()=>u6e(void 0,e))}o(h3,"addFetchInstrumentationHandler");function Xz(t){let e="fetch-body-resolved";ba(e,t),xa(e,()=>u6e(Ddt))}o(Xz,"addFetchEndInstrumentationHandler");function u6e(t,e=!1){e&&!Wz()||Po(Yt,"fetch",function(r){return function(...n){let i=new Error,{method:s,url:a}=Udt(n),c={args:n,fetchData:{method:s,url:a},startTimestamp:Zi()*1e3,virtualError:i};return t||_o("fetch",{...c}),r.apply(Yt,n).then(async l=>(t?t(l):_o("fetch",{...c,endTimestamp:Zi()*1e3,response:l}),l),l=>{throw _o("fetch",{...c,endTimestamp:Zi()*1e3,error:l}),v1(l)&&l.stack===void 0&&(l.stack=i.stack,fo(l,"framesToPop",1)),l})}})}o(u6e,"instrumentFetch");async function Ldt(t,e){if(t&&t.body){let r=t.body,n=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3),s=!0;for(;s;){let a;try{a=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);let{done:c}=await n.read();clearTimeout(a),c&&(e(),s=!1)}catch{s=!1}finally{clearTimeout(a)}}clearTimeout(i),n.releaseLock(),r.cancel().then(null,()=>{})}}o(Ldt,"resolveResponse");function Ddt(t){let e;try{e=t.clone()}catch{return}Ldt(e,()=>{_o("fetch-body-resolved",{endTimestamp:Zi()*1e3,response:t})})}o(Ddt,"streamHandler");function Yz(t,e){return!!t&&typeof t=="object"&&!!t[e]}o(Yz,"hasProp");function f6e(t){return typeof t=="string"?t:t?Yz(t,"url")?t.url:t.toString?t.toString():"":""}o(f6e,"getUrlFromResource");function Udt(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,n]=t;return{url:f6e(r),method:Yz(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:f6e(e),method:Yz(e,"method")?String(e.method).toUpperCase():"GET"}}o(Udt,"parseFetchArgs");m();g();function Zz(){return"npm"}o(Zz,"getSDKSource");m();g();var IO=Yt;function Jz(){let t=IO.chrome,e=t&&t.app&&t.app.runtime,r="history"in IO&&!!IO.history.pushState&&!!IO.history.replaceState;return!e&&r}o(Jz,"supportsHistory");m();g();var zt=Yt,Qz=0;function eK(){return Qz>0}o(eK,"shouldIgnoreOnError");function Qdt(){Qz++,setTimeout(()=>{Qz--})}o(Qdt,"ignoreNextOnError");function T1(t,e={}){function r(i){return typeof i=="function"}if(o(r,"isFunction"),!r(t))return t;try{let i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(E1(t))return t}catch{return t}let n=o(function(...i){try{let s=i.map(a=>T1(a,e));return t.apply(this,s)}catch(s){throw Qdt(),qm(a=>{a.addEventProcessor(c=>(e.mechanism&&(c2(c,void 0,void 0),Fd(c,e.mechanism)),c.extra={...c.extra,arguments:i},c)),b2(s)}),s}},"sentryWrapped");try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}q9(n,t),fo(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}o(T1,"wrap");m();g();m();g();var Rs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;m();g();function TO(t,e){let r=nK(t,e),n={type:iht(e),value:oht(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}o(TO,"exceptionFromError");function eht(t,e,r,n){let i=Qt(),s=i&&i.getOptions().normalizeDepth,a=cht(e),c={__serialized__:tO(e,s)};if(a)return{exception:{values:[TO(t,a)]},extra:c};let l={exception:{values:[{type:w1(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:sht(e,{isUnhandledRejection:n})}]},extra:c};if(r){let h=nK(t,r);h.length&&(l.exception.values[0].stacktrace={frames:h})}return l}o(eht,"eventFromPlainObject");function tK(t,e){return{exception:{values:[TO(t,e)]}}}o(tK,"eventFromError");function nK(t,e){let r=e.stacktrace||e.stack||"",n=rht(e),i=nht(e);try{return t(r,n,i)}catch{}return[]}o(nK,"parseStackFrames");var tht=/Minified React error #\d+;/i;function rht(t){return t&&tht.test(t.message)?1:0}o(rht,"getSkipFirstStackStringLines");function nht(t){return typeof t.framesToPop=="number"?t.framesToPop:0}o(nht,"getPopFirstTopFrames");function d6e(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}o(d6e,"isWebAssemblyException");function iht(t){let e=t&&t.name;return!e&&d6e(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}o(iht,"extractType");function oht(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:d6e(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}o(oht,"extractMessage");function h6e(t,e,r,n){let i=r&&r.syntheticException||void 0,s=RO(t,e,i,n);return Fd(s),s.level="error",r&&r.event_id&&(s.event_id=r.event_id),uu(s)}o(h6e,"eventFromException");function p6e(t,e,r="info",n,i){let s=n&&n.syntheticException||void 0,a=rK(t,e,s,i);return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),uu(a)}o(p6e,"eventFromMessage");function RO(t,e,r,n,i){let s;if(U9(e)&&e.error)return tK(t,e.error);if(F9(e)||nz(e)){let a=e;if("stack"in e)s=tK(t,e);else{let c=a.name||(F9(a)?"DOMError":"DOMException"),l=a.message?`${c}: ${a.message}`:c;s=rK(t,l,r,n),c2(s,l)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return v1(e)?tK(t,e):pl(e)||w1(e)?(s=eht(t,e,r,i),Fd(s,{synthetic:!0}),s):(s=rK(t,e,r,n),c2(s,`${e}`,void 0),Fd(s,{synthetic:!0}),s)}o(RO,"eventFromUnknownInput");function rK(t,e,r,n){let i={};if(n&&r){let s=nK(t,r);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]}),Fd(i,{synthetic:!0})}if(s2(e)){let{__sentry_template_string__:s,__sentry_template_values__:a}=e;return i.logentry={message:s,params:a},i}return i.message=e,i}o(rK,"eventFromString");function sht(t,{isUnhandledRejection:e}){let r=uz(t),n=e?"promise rejection":"exception";return U9(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:w1(t)?`Event \`${aht(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}o(sht,"getNonErrorObjectExceptionValue");function aht(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}o(aht,"getObjectClassName");function cht(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let r=t[e];if(r instanceof Error)return r}}o(cht,"getErrorPropertyFromObject");m();g();function m6e(t,{metadata:e,tunnel:r,dsn:n}){let i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:qd(n)}},s=fht(t);return xl(i,[s])}o(m6e,"createUserFeedbackEnvelope");function fht(t){return[{type:"user_report"},t]}o(fht,"createUserFeedbackEnvelopeItem");var OO=class extends f3{static{o(this,"BrowserClient")}constructor(e){let r={parentSpanIsAlwaysRootSpan:!0,...e},n=zt.SENTRY_SDK_SOURCE||Zz();u3(r,"browser",["browser"],n),super(r),r.sendClientReports&&zt.document&&zt.document.addEventListener("visibilitychange",()=>{zt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return h6e(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return p6e(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){Rs&&Qe.warn("SDK not enabled, will not capture user feedback.");return}let r=m6e(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}};m();g();m();g();m();g();m();g();var x2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;m();g();m();g();var uht=o((t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good","getRating"),mu=o((t,e,r,n)=>{let i,s;return a=>{e.value>=0&&(a||n)&&(s=e.value-(i||0),(s||i===void 0)&&(i=e.value,e.delta=s,e.rating=uht(e.value,r),t(e)))}},"bindReporter");m();g();m();g();var Ot=Yt;m();g();var g6e=o(()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,"generateUniqueID");m();g();m();g();var h0=o((t=!0)=>{let e=Ot.performance&&Ot.performance.getEntriesByType&&Ot.performance.getEntriesByType("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},"getNavigationEntry");var Vd=o(()=>{let t=h0();return t&&t.activationStart||0},"getActivationStart");var gu=o((t,e)=>{let r=h0(),n="navigate";return r&&(Ot.document&&Ot.document.prerendering||Vd()>0?n="prerender":Ot.document&&Ot.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:g6e(),navigationType:n}},"initMetric");m();g();var Oc=o((t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(i=>{Promise.resolve().then(()=>{e(i.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}},"observe");m();g();var yu=o(t=>{let e=o(r=>{(r.type==="pagehide"||Ot.document&&Ot.document.visibilityState==="hidden")&&t(r)},"onHiddenOrPageHide");Ot.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},"onHidden");m();g();var Gm=o(t=>{let e=!1;return()=>{e||(t(),e=!0)}},"runOnce");m();g();m();g();var m3=-1,lht=o(()=>Ot.document.visibilityState==="hidden"&&!Ot.document.prerendering?0:1/0,"initHiddenTime"),NO=o(t=>{Ot.document.visibilityState==="hidden"&&m3>-1&&(m3=t.type==="visibilitychange"?t.timeStamp:0,hht())},"onVisibilityUpdate"),dht=o(()=>{addEventListener("visibilitychange",NO,!0),addEventListener("prerenderingchange",NO,!0)},"addChangeListeners"),hht=o(()=>{removeEventListener("visibilitychange",NO,!0),removeEventListener("prerenderingchange",NO,!0)},"removeChangeListeners"),$m=o(()=>(Ot.document&&m3<0&&(m3=lht(),dht()),{get firstHiddenTime(){return m3}}),"getVisibilityWatcher");m();g();var jd=o(t=>{Ot.document&&Ot.document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},"whenActivated");var pht=[1800,3e3],y6e=o((t,e={})=>{jd(()=>{let r=$m(),n=gu("FCP"),i,a=Oc("paint",o(c=>{c.forEach(l=>{l.name==="first-contentful-paint"&&(a.disconnect(),l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-Vd(),0),n.entries.push(l),i(!0)))})},"handleEntries"));a&&(i=mu(t,n,pht,e.reportAllChanges))})},"onFCP");var mht=[.1,.25],b6e=o((t,e={})=>{y6e(Gm(()=>{let r=gu("CLS",0),n,i=0,s=[],a=o(l=>{l.forEach(h=>{if(!h.hadRecentInput){let y=s[0],p=s[s.length-1];i&&y&&p&&h.startTime-p.startTime<1e3&&h.startTime-y.startTime<5e3?(i+=h.value,s.push(h)):(i=h.value,s=[h])}}),i>r.value&&(r.value=i,r.entries=s,n())},"handleEntries"),c=Oc("layout-shift",a);c&&(n=mu(t,r,mht,e.reportAllChanges),yu(()=>{a(c.takeRecords()),n(!0)}),setTimeout(n,0))}))},"onCLS");m();g();var ght=[100,300],x6e=o((t,e={})=>{jd(()=>{let r=$m(),n=gu("FID"),i,s=o(l=>{l.startTime<r.firstHiddenTime&&(n.value=l.processingStart-l.startTime,n.entries.push(l),i(!0))},"handleEntry"),a=o(l=>{l.forEach(s)},"handleEntries"),c=Oc("first-input",a);i=mu(t,n,ght,e.reportAllChanges),c&&yu(Gm(()=>{a(c.takeRecords()),c.disconnect()}))})},"onFID");m();g();m();g();m();g();var v6e=0,iK=1/0,MO=0,yht=o(t=>{t.forEach(e=>{e.interactionId&&(iK=Math.min(iK,e.interactionId),MO=Math.max(MO,e.interactionId),v6e=MO?(MO-iK)/7+1:0)})},"updateEstimate"),oK,_6e=o(()=>oK?v6e:performance.interactionCount||0,"getInteractionCount"),w6e=o(()=>{"interactionCount"in performance||oK||(oK=Oc("event",yht,{type:"event",buffered:!0,durationThreshold:0}))},"initInteractionCountPolyfill");var p0=[],sK=new Map,E6e=40,bht=0,xht=o(()=>_6e()-bht,"getInteractionCountForNavigation"),S6e=o(()=>{let t=Math.min(p0.length-1,Math.floor(xht()/50));return p0[t]},"estimateP98LongestInteraction"),aK=10,vht=[],A6e=o(t=>{if(vht.forEach(n=>n(t)),!(t.interactionId||t.entryType==="first-input"))return;let e=p0[p0.length-1],r=sK.get(t.interactionId);if(r||p0.length<aK||e&&t.duration>e.latency){if(r)t.duration>r.latency?(r.entries=[t],r.latency=t.duration):t.duration===r.latency&&t.startTime===(r.entries[0]&&r.entries[0].startTime)&&r.entries.push(t);else{let n={id:t.interactionId,latency:t.duration,entries:[t]};sK.set(n.id,n),p0.push(n)}p0.sort((n,i)=>i.latency-n.latency),p0.length>aK&&p0.splice(aK).forEach(n=>sK.delete(n.id))}},"processInteractionEntry");m();g();var CO=o(t=>{let e=Ot.requestIdleCallback||Ot.setTimeout,r=-1;return t=Gm(t),Ot.document&&Ot.document.visibilityState==="hidden"?t():(r=e(t),yu(t)),r},"whenIdle");var _ht=[200,500],I6e=o((t,e={})=>{"PerformanceEventTiming"in Ot&&"interactionId"in PerformanceEventTiming.prototype&&jd(()=>{w6e();let r=gu("INP"),n,i=o(a=>{CO(()=>{a.forEach(A6e);let c=S6e();c&&c.latency!==r.value&&(r.value=c.latency,r.entries=c.entries,n())})},"handleEntries"),s=Oc("event",i,{durationThreshold:e.durationThreshold!=null?e.durationThreshold:E6e});n=mu(t,r,_ht,e.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),yu(()=>{i(s.takeRecords()),n(!0)}))})},"onINP");m();g();var wht=[2500,4e3],T6e={},R6e=o((t,e={})=>{jd(()=>{let r=$m(),n=gu("LCP"),i,s=o(c=>{e.reportAllChanges||(c=c.slice(-1)),c.forEach(l=>{l.startTime<r.firstHiddenTime&&(n.value=Math.max(l.startTime-Vd(),0),n.entries=[l],i())})},"handleEntries"),a=Oc("largest-contentful-paint",s);if(a){i=mu(t,n,wht,e.reportAllChanges);let c=Gm(()=>{T6e[n.id]||(s(a.takeRecords()),a.disconnect(),T6e[n.id]=!0,i(!0))});["keydown","click"].forEach(l=>{Ot.document&&addEventListener(l,()=>CO(c),{once:!0,capture:!0})}),yu(c)}})},"onLCP");m();g();var Eht=[800,1800],cK=o(t=>{Ot.document&&Ot.document.prerendering?jd(()=>cK(t)):Ot.document&&Ot.document.readyState!=="complete"?addEventListener("load",()=>cK(t),!0):setTimeout(t,0)},"whenReady"),O6e=o((t,e={})=>{let r=gu("TTFB"),n=mu(t,r,Eht,e.reportAllChanges);cK(()=>{let i=h0();i&&(r.value=Math.max(i.responseStart-Vd(),0),r.entries=[i],n(!0))})},"onTTFB");var g3={},kO={},N6e,M6e,C6e,k6e,B6e;function y3(t,e=!1){return b3("cls",t,Sht,N6e,e)}o(y3,"addClsInstrumentationHandler");function fK(t,e=!1){return b3("lcp",t,Iht,C6e,e)}o(fK,"addLcpInstrumentationHandler");function uK(t){return b3("fid",t,Aht,M6e)}o(uK,"addFidInstrumentationHandler");function lK(t){return b3("ttfb",t,Tht,k6e)}o(lK,"addTtfbInstrumentationHandler");function dK(t){return b3("inp",t,Rht,B6e)}o(dK,"addInpInstrumentationHandler");function m0(t,e){return P6e(t,e),kO[t]||(Oht(t),kO[t]=!0),L6e(t,e)}o(m0,"addPerformanceInstrumentationHandler");function v2(t,e){let r=g3[t];if(!(!r||!r.length))for(let n of r)try{n(e)}catch(i){x2&&Qe.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ac(n)}
Error:`,i)}}o(v2,"triggerHandlers");function Sht(){return b6e(t=>{v2("cls",{metric:t}),N6e=t},{reportAllChanges:!0})}o(Sht,"instrumentCls");function Aht(){return x6e(t=>{v2("fid",{metric:t}),M6e=t})}o(Aht,"instrumentFid");function Iht(){return R6e(t=>{v2("lcp",{metric:t}),C6e=t},{reportAllChanges:!0})}o(Iht,"instrumentLcp");function Tht(){return O6e(t=>{v2("ttfb",{metric:t}),k6e=t})}o(Tht,"instrumentTtfb");function Rht(){return I6e(t=>{v2("inp",{metric:t}),B6e=t})}o(Rht,"instrumentInp");function b3(t,e,r,n,i=!1){P6e(t,e);let s;return kO[t]||(s=r(),kO[t]=!0),n&&e({metric:n}),L6e(t,e,i?s:void 0)}o(b3,"addMetricObserver");function Oht(t){let e={};t==="event"&&(e.durationThreshold=0),Oc(t,r=>{v2(t,{entries:r})},e)}o(Oht,"instrumentPerformanceObserver");function P6e(t,e){g3[t]=g3[t]||[],g3[t].push(e)}o(P6e,"addHandler");function L6e(t,e,r){return()=>{r&&r();let n=g3[t];if(!n)return;let i=n.indexOf(e);i!==-1&&n.splice(i,1)}}o(L6e,"getCleanupCallback");function D6e(t){return"duration"in t}o(D6e,"isPerformanceEventTiming");m();g();m();g();m();g();function BO(t){return typeof t=="number"&&isFinite(t)}o(BO,"isMeasurementValue");function zd(t,e,r,{...n}){let i=er(t).start_timestamp;return i&&i>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),g2(t,()=>{let s=pf({startTime:e,...n});return s&&s.end(r),s})}o(zd,"startAndEndSpan");function PO(t){let e=Qt();if(!e)return;let{name:r,transaction:n,attributes:i,startTime:s}=t,{release:a,environment:c}=e.getOptions(),l=e.getIntegrationByName("Replay"),h=l&&l.getReplayId(),y=vr(),p=y.getUser(),E=p!==void 0?p.email||p.id||p.ip_address:void 0,I;try{I=y.getScopeData().contexts.profile.profile_id}catch{}let O={release:a,environment:c,user:E||void 0,profile_id:I||void 0,replay_id:h||void 0,transaction:n,"user_agent.original":Ot.navigator&&Ot.navigator.userAgent,...i};return pf({name:r,attributes:O,startTime:s,experimental:{standalone:!0}})}o(PO,"startStandaloneWebVitalSpan");function x3(){return Ot&&Ot.addEventListener&&Ot.performance}o(x3,"getBrowserPerformanceAPI");function Ai(t){return t/1e3}o(Ai,"msToSec");function v3(t){let e="unknown",r="unknown",n="";for(let i of t){if(i==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e=n==="h"?"http":n,r=t.split(n)[1];break}n+=i}return n===t&&(e=n),{name:e,version:r}}o(v3,"extractNetworkProtocol");function U6e(){let t=0,e,r;if(!Mht())return;let n=!1;function i(){n||(n=!0,r&&Nht(t,e,r),s())}o(i,"_collectClsOnce");let s=y3(({metric:a})=>{let c=a.entries[a.entries.length-1];c&&(t=a.value,e=c)},!0);yu(()=>{i()}),setTimeout(()=>{let a=Qt();if(!a)return;let c=a.on("startNavigationSpan",()=>{i(),c&&c()}),l=kn(),h=l&&Cn(l),y=h&&er(h);y&&y.op==="pageload"&&(r=h.spanContext().spanId)},0)}o(U6e,"trackClsAsStandaloneSpan");function Nht(t,e,r){x2&&Qe.log(`Sending CLS span (${t})`);let n=Ai((wo||0)+(e&&e.startTime||0)),i=vr().getScopeData().transactionName,s=e?lf(e.sources[0]&&e.sources[0].node):"Layout shift",a=qn({[Vn]:"auto.http.browser.cls",[Ga]:"ui.webvital.cls",[A1]:e&&e.duration||0,"sentry.pageload.span_id":r}),c=PO({name:s,transaction:i,attributes:a,startTime:n});c&&(c.addEvent("cls",{[Vm]:"",[jm]:t}),c.end(n))}o(Nht,"sendStandaloneClsSpan");function Mht(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}o(Mht,"supportsLayoutShift");var Cht=2147483647,F6e=0,Os={},Nc,_3;function pK({recordClsStandaloneSpans:t}){let e=x3();if(e&&wo){e.mark&&Ot.performance.mark("sentry-tracing-init");let r=Pht(),n=Bht(),i=Lht(),s=t?U6e():kht();return()=>{r(),n(),i(),s&&s()}}return()=>{}}o(pK,"startTrackingWebVitals");function mK(){m0("longtask",({entries:t})=>{let e=kn();if(!e)return;let{op:r,start_timestamp:n}=er(e);for(let i of t){let s=Ai(wo+i.startTime),a=Ai(i.duration);r==="navigation"&&n&&s<n||zd(e,s,s+a,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Vn]:"auto.ui.browser.metrics"}})}})}o(mK,"startTrackingLongTasks");function gK(){new PerformanceObserver(e=>{let r=kn();if(r)for(let n of e.getEntries()){if(!n.scripts[0])continue;let i=Ai(wo+n.startTime),{start_timestamp:s,op:a}=er(r);if(a==="navigation"&&s&&i<s)continue;let c=Ai(n.duration),l={[Vn]:"auto.ui.browser.metrics"},h=n.scripts[0],{invoker:y,invokerType:p,sourceURL:E,sourceFunctionName:I,sourceCharPosition:O}=h;l["browser.script.invoker"]=y,l["browser.script.invoker_type"]=p,E&&(l["code.filepath"]=E),I&&(l["code.function"]=I),O!==-1&&(l["browser.script.source_char_position"]=O),zd(r,i,i+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}o(gK,"startTrackingLongAnimationFrames");function yK(){m0("event",({entries:t})=>{let e=kn();if(e){for(let r of t)if(r.name==="click"){let n=Ai(wo+r.startTime),i=Ai(r.duration),s={name:lf(r.target),op:`ui.interaction.${r.name}`,startTime:n,attributes:{[Vn]:"auto.ui.browser.metrics"}},a=e3(r.target);a&&(s.attributes["ui.component_name"]=a),zd(e,n,n+i,s)}}})}o(yK,"startTrackingInteractions");function kht(){return y3(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(Os.cls={value:t.value,unit:""},_3=e)},!0)}o(kht,"_trackCLS");function Bht(){return fK(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(Os.lcp={value:t.value,unit:"millisecond"},Nc=e)},!0)}o(Bht,"_trackLCP");function Pht(){return uK(({metric:t})=>{let e=t.entries[t.entries.length-1];if(!e)return;let r=Ai(wo),n=Ai(e.startTime);Os.fid={value:t.value,unit:"millisecond"},Os["mark.fid"]={value:r+n,unit:"second"}})}o(Pht,"_trackFID");function Lht(){return lK(({metric:t})=>{t.entries[t.entries.length-1]&&(Os.ttfb={value:t.value,unit:"millisecond"})})}o(Lht,"_trackTtfb");function bK(t,e){let r=x3();if(!r||!r.getEntries||!wo)return;let n=Ai(wo),i=r.getEntries(),{op:s,start_timestamp:a}=er(t);if(i.slice(F6e).forEach(c=>{let l=Ai(c.startTime),h=Ai(Math.max(0,c.duration));if(!(s==="navigation"&&a&&n+l<a))switch(c.entryType){case"navigation":{Uht(t,c,n);break}case"mark":case"paint":case"measure":{Dht(t,c,l,h,n);let y=$m(),p=c.startTime<y.firstHiddenTime;c.name==="first-paint"&&p&&(Os.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(Os.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{qht(t,c,c.name,l,h,n);break}}}),F6e=Math.max(i.length-1,0),Vht(t),s==="pageload"){zht(Os);let c=Os["mark.fid"];c&&Os.fid&&(zd(t,c.value,c.value+Ai(Os.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Vn]:"auto.ui.browser.metrics"}}),delete Os["mark.fid"]),(!("fcp"in Os)||!e.recordClsOnPageloadSpan)&&delete Os.cls,Object.entries(Os).forEach(([l,h])=>{oO(l,h.value,h.unit)}),t.setAttribute("performance.timeOrigin",n),t.setAttribute("performance.activationStart",Vd()),jht(t)}Nc=void 0,_3=void 0,Os={}}o(bK,"addPerformanceEntries");function Dht(t,e,r,n,i){let s=h0(!1),a=Ai(s?s.requestStart:0),c=i+Math.max(r,a),l=i+r,h=l+n,y={[Vn]:"auto.resource.browser.metrics"};return c!==l&&(y["sentry.browser.measure_happened_before_request"]=!0,y["sentry.browser.measure_start_time"]=c),zd(t,c,h,{name:e.name,op:e.entryType,attributes:y}),c}o(Dht,"_addMeasureSpans");function Uht(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{LO(t,e,n,r)}),LO(t,e,"secureConnection",r,"TLS/SSL"),LO(t,e,"fetch",r,"cache"),LO(t,e,"domainLookup",r,"DNS"),Hht(t,e,r)}o(Uht,"_addNavigationSpans");function LO(t,e,r,n,i=r){let s=Fht(r),a=e[s],c=e[`${r}Start`];!c||!a||zd(t,n+Ai(c),n+Ai(a),{op:`browser.${i}`,name:e.name,attributes:{[Vn]:"auto.ui.browser.metrics"}})}o(LO,"_addPerformanceNavigationTiming");function Fht(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}o(Fht,"_getEndPropertyNameForNavigationTiming");function Hht(t,e,r){let n=r+Ai(e.requestStart),i=r+Ai(e.responseEnd),s=r+Ai(e.responseStart);e.responseEnd&&(zd(t,n,i,{op:"browser.request",name:e.name,attributes:{[Vn]:"auto.ui.browser.metrics"}}),zd(t,s,i,{op:"browser.response",name:e.name,attributes:{[Vn]:"auto.ui.browser.metrics"}}))}o(Hht,"_addRequest");function qht(t,e,r,n,i,s){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let a=pu(r),c={[Vn]:"auto.resource.browser.metrics"};hK(c,e,"transferSize","http.response_transfer_size"),hK(c,e,"encodedBodySize","http.response_content_length"),hK(c,e,"decodedBodySize","http.decoded_response_content_length");let l=e.deliveryType;l!=null&&(c["http.response_delivery_type"]=l);let h=e.renderBlockingStatus;h&&(c["resource.render_blocking_status"]=h),a.protocol&&(c["url.scheme"]=a.protocol.split(":").pop()),a.host&&(c["server.address"]=a.host),c["url.same_origin"]=r.includes(Ot.location.origin);let{name:y,version:p}=v3(e.nextHopProtocol);c["network.protocol.name"]=y,c["network.protocol.version"]=p;let E=s+n,I=E+i;zd(t,E,I,{name:r.replace(Ot.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:c})}o(qht,"_addResourceSpans");function Vht(t){let e=Ot.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),BO(r.rtt)&&(Os["connection.rtt"]={value:r.rtt,unit:"millisecond"})),BO(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),BO(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}o(Vht,"_trackNavigator");function jht(t){Nc&&(Nc.element&&t.setAttribute("lcp.element",lf(Nc.element)),Nc.id&&t.setAttribute("lcp.id",Nc.id),Nc.url&&t.setAttribute("lcp.url",Nc.url.trim().slice(0,200)),Nc.loadTime!=null&&t.setAttribute("lcp.loadTime",Nc.loadTime),Nc.renderTime!=null&&t.setAttribute("lcp.renderTime",Nc.renderTime),t.setAttribute("lcp.size",Nc.size)),_3&&_3.sources&&_3.sources.forEach((e,r)=>t.setAttribute(`cls.source.${r+1}`,lf(e.node)))}o(jht,"_setWebVitalAttributes");function hK(t,e,r,n){let i=e[r];i!=null&&i<Cht&&(t[n]=i)}o(hK,"setResourceEntrySizeData");function zht(t){let e=h0(!1);if(!e)return;let{responseStart:r,requestStart:n}=e;n<=r&&(t["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}o(zht,"_addTtfbRequestTimeToMeasurements");m();g();var Kht=1e3,H6e,xK,vK;function _K(t){let e="dom";ba(e,t),xa(e,Ght)}o(_K,"addClickKeypressInstrumentationHandler");function Ght(){if(!Ot.document)return;let t=_o.bind(null,"dom"),e=q6e(t,!0);Ot.document.addEventListener("click",e,!1),Ot.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let i=Ot[r],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(Po(s,"addEventListener",function(a){return function(c,l,h){if(c==="click"||c=="keypress")try{let y=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=y[c]=y[c]||{refCount:0};if(!p.handler){let E=q6e(t);p.handler=E,a.call(this,c,E,h)}p.refCount++}catch{}return a.call(this,c,l,h)}}),Po(s,"removeEventListener",function(a){return function(c,l,h){if(c==="click"||c=="keypress")try{let y=this.__sentry_instrumentation_handlers__||{},p=y[c];p&&(p.refCount--,p.refCount<=0&&(a.call(this,c,p.handler,h),p.handler=void 0,delete y[c]),Object.keys(y).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,l,h)}}))})}o(Ght,"instrumentDOM");function $ht(t){if(t.type!==xK)return!1;try{if(!t.target||t.target._sentryId!==vK)return!1}catch{}return!0}o($ht,"isSimilarToLastCapturedEvent");function Wht(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}o(Wht,"shouldSkipDOMEvent");function q6e(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let n=Yht(r);if(Wht(r.type,n))return;fo(r,"_sentryCaptured",!0),n&&!n._sentryId&&fo(n,"_sentryId",Lo());let i=r.type==="keypress"?"input":r.type;$ht(r)||(t({event:r,name:i,global:e}),xK=r.type,vK=n?n._sentryId:void 0),clearTimeout(H6e),H6e=Ot.setTimeout(()=>{vK=void 0,xK=void 0},Kht)}}o(q6e,"makeDOMEventHandler");function Yht(t){try{return t.target}catch{return null}}o(Yht,"getEventTarget");m();g();var DO;function R1(t){let e="history";ba(e,t),xa(e,Xht)}o(R1,"addHistoryInstrumentationHandler");function Xht(){if(!Jz())return;let t=Ot.onpopstate;Ot.onpopstate=function(...r){let n=Ot.location.href,i=DO;if(DO=n,_o("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let s=DO,a=String(i);DO=a,_o("history",{from:s,to:a})}return r.apply(this,n)}}o(e,"historyReplacementFunction"),Po(Ot.history,"pushState",e),Po(Ot.history,"replaceState",e)}o(Xht,"instrumentHistory");m();g();var UO={};function wK(t){let e=UO[t];if(e)return e;let r=Ot[t];if(d3(r))return UO[t]=r.bind(Ot);let n=Ot.document;if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let s=i.contentWindow;s&&s[t]&&(r=s[t]),n.head.removeChild(i)}catch(i){x2&&Qe.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return r&&(UO[t]=r.bind(Ot))}o(wK,"getNativeImplementation");function FO(t){UO[t]=void 0}o(FO,"clearCachedImplementation");m();g();var g0="__sentry_xhr_v3__";function w3(t){let e="xhr";ba(e,t),xa(e,Zht)}o(w3,"addXhrInstrumentationHandler");function Zht(){if(!Ot.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){let i=new Error,s=Zi()*1e3,a=Ka(n[0])?n[0].toUpperCase():void 0,c=Jht(n[1]);if(!a||!c)return e.apply(r,n);r[g0]={method:a,url:c,request_headers:{}},a==="POST"&&c.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let l=o(()=>{let h=r[g0];if(h&&r.readyState===4){try{h.status_code=r.status}catch{}let y={endTimestamp:Zi()*1e3,startTimestamp:s,xhr:r,virtualError:i};_o("xhr",y)}},"onreadystatechangeHandler");return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(h,y,p){return l(),h.apply(y,p)}}):r.addEventListener("readystatechange",l),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(h,y,p){let[E,I]=p,O=y[g0];return O&&Ka(E)&&Ka(I)&&(O.request_headers[E.toLowerCase()]=I),h.apply(y,p)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){let i=r[g0];if(!i)return e.apply(r,n);n[0]!==void 0&&(i.body=n[0]);let s={startTimestamp:Zi()*1e3,xhr:r};return _o("xhr",s),e.apply(r,n)}})}o(Zht,"instrumentXHR");function Jht(t){if(Ka(t))return t;try{return t.toString()}catch{}}o(Jht,"parseUrl");m();g();var EK=[],HO=new Map;function SK(){if(x3()&&wo){let e=Qht();return()=>{e()}}return()=>{}}o(SK,"startTrackingINP");var V6e={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Qht(){return dK(({metric:t})=>{if(t.value==null)return;let e=t.entries.find(O=>O.duration===t.value&&V6e[O.name]);if(!e)return;let{interactionId:r}=e,n=V6e[e.name],i=Ai(wo+e.startTime),s=Ai(t.value),a=kn(),c=a?Cn(a):void 0,h=(r!=null?HO.get(r):void 0)||c,y=h?er(h).description:vr().getScopeData().transactionName,p=lf(e.target),E=qn({[Vn]:"auto.http.browser.inp",[Ga]:`ui.interaction.${n}`,[A1]:e.duration}),I=PO({name:p,transaction:y,attributes:E,startTime:i});I&&(I.addEvent("inp",{[Vm]:"millisecond",[jm]:t.value}),I.end(i+s))})}o(Qht,"_trackINP");function AK(t){let e=o(({entries:r})=>{let n=kn(),i=n&&Cn(n);r.forEach(s=>{if(!D6e(s)||!i)return;let a=s.interactionId;if(a!=null&&!HO.has(a)){if(EK.length>10){let c=EK.shift();HO.delete(c)}EK.push(a),HO.set(a,i)}})},"handleEntries");m0("event",e),m0("first-input",e)}o(AK,"registerInpInteractionListener");function j6e(t,e=wK("fetch")){let r=0,n=0;function i(s){let a=s.body.length;r+=a,n++;let c={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return FO("fetch"),Hm("No fetch implementation available");try{return e(t.url,c).then(l=>(r-=a,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return FO("fetch"),r-=a,n--,Hm(l)}}return o(i,"makeRequest"),bO(t,i)}o(j6e,"makeFetchTransport");m();g();var e0t=30;var t0t=50;function IK(t,e,r,n){let i={filename:t,function:e==="<anonymous>"?Pd:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}o(IK,"createFrame");var r0t=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,n0t=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i0t=/\((\S*)(?::(\d+))(?::(\d+))\)/,o0t=o(t=>{let e=r0t.exec(t);if(e){let[,n,i,s]=e;return IK(n,Pd,+i,+s)}let r=n0t.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){let a=i0t.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}let[i,s]=K6e(r[1]||Pd,r[2]);return IK(s,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},"chromeStackParserFn"),s0t=[e0t,o0t],a0t=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,c0t=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,f0t=o(t=>{let e=a0t.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let s=c0t.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let n=e[3],i=e[1]||Pd;return[i,n]=K6e(i,n),IK(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},"gecko"),u0t=[t0t,f0t];var l0t=[s0t,u0t],z6e=P9(...l0t),K6e=o((t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:Pd,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},"extractSafariExtensionDetails");m();g();m();g();var qO=1024,d0t="Breadcrumbs",h0t=o((t={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:d0t,setup(r){e.console&&zz(g0t(r)),e.dom&&_K(m0t(r,e.dom)),e.xhr&&w3(y0t(r)),e.fetch&&h3(b0t(r)),e.history&&R1(x0t(r)),e.sentry&&r.on("beforeSendEvent",p0t(r))}}},"_breadcrumbsIntegration"),E3=h0t;function p0t(t){return o(function(r){Qt()===t&&hu({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:gl(r)},{event:r})},"addSentryBreadcrumb")}o(p0t,"_getSentryBreadcrumbHandler");function m0t(t,e){return o(function(n){if(Qt()!==t)return;let i,s,a=typeof e=="object"?e.serializeAttribute:void 0,c=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;c&&c>qO&&(Rs&&Qe.warn(`\`dom.maxStringLength\` cannot exceed ${qO}, but a value of ${c} was configured. Sentry will use ${qO} instead.`),c=qO),typeof a=="string"&&(a=[a]);try{let h=n.event,y=v0t(h)?h.target:h;i=lf(y,{keyAttrs:a,maxStringLength:c}),s=e3(y)}catch{i="<unknown>"}if(i.length===0)return;let l={category:`ui.${n.name}`,message:i};s&&(l.data={"ui.component_name":s}),hu(l,{event:n.event,name:n.name,global:n.global})},"_innerDomBreadcrumb")}o(m0t,"_getDomBreadcrumbHandler");function g0t(t){return o(function(r){if(Qt()!==t)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:Kz(r.level),message:H9(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${H9(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;hu(n,{input:r.args,level:r.level})},"_consoleBreadcrumb")}o(g0t,"_getConsoleBreadcrumbHandler");function y0t(t){return o(function(r){if(Qt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r,s=r.xhr[g0];if(!n||!i||!s)return;let{method:a,url:c,status_code:l,body:h}=s,y={method:a,url:c,status_code:l},p={xhr:r.xhr,input:h,startTimestamp:n,endTimestamp:i},E=SO(l);hu({category:"xhr",data:y,type:"http",level:E},p)},"_xhrBreadcrumb")}o(y0t,"_getXhrBreadcrumbHandler");function b0t(t){return o(function(r){if(Qt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let s=r.fetchData,a={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};hu({category:"fetch",data:s,level:"error",type:"http"},a)}else{let s=r.response,a={...r.fetchData,status_code:s&&s.status},c={input:r.args,response:s,startTimestamp:n,endTimestamp:i},l=SO(a.status_code);hu({category:"fetch",data:a,type:"http",level:l},c)}},"_fetchBreadcrumb")}o(b0t,"_getFetchBreadcrumbHandler");function x0t(t){return o(function(r){if(Qt()!==t)return;let n=r.from,i=r.to,s=pu(zt.location.href),a=n?pu(n):void 0,c=pu(i);(!a||!a.path)&&(a=s),s.protocol===c.protocol&&s.host===c.host&&(i=c.relative),s.protocol===a.protocol&&s.host===a.host&&(n=a.relative),hu({category:"navigation",data:{from:n,to:i}})},"_historyBreadcrumb")}o(x0t,"_getHistoryBreadcrumbHandler");function v0t(t){return!!t&&!!t.target}o(v0t,"_isEvent");m();g();var _0t=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],w0t="BrowserApiErrors",E0t=o((t={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:w0t,setupOnce(){e.setTimeout&&Po(zt,"setTimeout",G6e),e.setInterval&&Po(zt,"setInterval",G6e),e.requestAnimationFrame&&Po(zt,"requestAnimationFrame",S0t),e.XMLHttpRequest&&"XMLHttpRequest"in zt&&Po(XMLHttpRequest.prototype,"send",A0t);let r=e.eventTarget;r&&(Array.isArray(r)?r:_0t).forEach(I0t)}}},"_browserApiErrorsIntegration"),$6e=E0t;function G6e(t){return function(...e){let r=e[0];return e[0]=T1(r,{mechanism:{data:{function:Ac(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}o(G6e,"_wrapTimeFunction");function S0t(t){return function(e){return t.apply(this,[T1(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Ac(t)},handled:!1,type:"instrument"}})])}}o(S0t,"_wrapRAF");function A0t(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&Po(r,i,function(s){let a={mechanism:{data:{function:i,handler:Ac(s)},handled:!1,type:"instrument"}},c=E1(s);return c&&(a.mechanism.data.handler=Ac(c)),T1(s,a)})}),t.apply(this,e)}}o(A0t,"_wrapXHR");function I0t(t){let r=zt[t],n=r&&r.prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Po(n,"addEventListener",function(i){return function(s,a,c){try{T0t(a)&&(a.handleEvent=T1(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ac(a),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,T1(a,{mechanism:{data:{function:"addEventListener",handler:Ac(a),target:t},handled:!1,type:"instrument"}}),c])}}),Po(n,"removeEventListener",function(i){return function(s,a,c){try{let l=a.__sentry_wrapped__;l&&i.call(this,s,l,c)}catch{}return i.call(this,s,a,c)}}))}o(I0t,"_wrapEventTarget");function T0t(t){return typeof t.handleEvent=="function"}o(T0t,"isEventListenerObject");m();g();var W6e=()=>({name:"BrowserSession",setupOnce(){if(typeof zt.document>"u"){Rs&&Qe.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}a3({ignoreDuration:!0}),c3(),R1(({from:t,to:e})=>{t!==void 0&&t!==e&&(a3({ignoreDuration:!0}),c3())})}});m();g();var R0t="GlobalHandlers",O0t=o((t={})=>{let e={onerror:!0,onunhandledrejection:!0,...t};return{name:R0t,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(N0t(r),Y6e("onerror")),e.onunhandledrejection&&(M0t(r),Y6e("onunhandledrejection"))}}},"_globalHandlersIntegration"),X6e=O0t;function N0t(t){XS(e=>{let{stackParser:r,attachStacktrace:n}=Z6e();if(Qt()!==t||eK())return;let{msg:i,url:s,line:a,column:c,error:l}=e,h=B0t(RO(r,l||i,void 0,n,!1),s,a,c);h.level="error",s3(h,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}o(N0t,"_installGlobalOnErrorHandler");function M0t(t){ZS(e=>{let{stackParser:r,attachStacktrace:n}=Z6e();if(Qt()!==t||eK())return;let i=C0t(e),s=_1(i)?k0t(i):RO(r,i,void 0,n,!0);s.level="error",s3(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}o(M0t,"_installGlobalOnUnhandledRejectionHandler");function C0t(t){if(_1(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}o(C0t,"_getUnhandledRejectionError");function k0t(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}o(k0t,"_eventFromRejectionWithPrimitive");function B0t(t,e,r,n){let i=t.exception=t.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},c=a.stacktrace=a.stacktrace||{},l=c.frames=c.frames||[],h=n,y=r,p=Ka(e)&&e.length>0?e:az();return l.length===0&&l.push({colno:h,filename:p,function:Pd,in_app:!0,lineno:y}),t}o(B0t,"_enhanceEventWithInitialFrame");function Y6e(t){Rs&&Qe.log(`Global Handler attached: ${t}`)}o(Y6e,"globalHandlerLog");function Z6e(){let t=Qt();return t&&t.getOptions()||{stackParser:o(()=>[],"stackParser"),attachStacktrace:!1}}o(Z6e,"getOptions");m();g();var J6e=()=>({name:"HttpContext",preprocessEvent(t){if(!zt.navigator&&!zt.location&&!zt.document)return;let e=t.request&&t.request.url||zt.location&&zt.location.href,{referrer:r}=zt.document||{},{userAgent:n}=zt.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},s={...t.request,...e&&{url:e},headers:i};t.request=s}});m();g();var P0t="cause",L0t=5,D0t="LinkedErrors",U0t=o((t={})=>{let e=t.limit||L0t,r=t.key||P0t;return{name:D0t,preprocessEvent(n,i,s){let a=s.getOptions();jz(TO,a.stackParser,a.maxValueLength,r,e,n,i)}}},"_linkedErrorsIntegration"),Q6e=U0t;function eAe(t){let e=[_O(),xO(),$6e(),E3(),X6e(),Q6e(),wO(),J6e()];return t.autoSessionTracking!==!1&&e.push(W6e()),e}o(eAe,"getDefaultIntegrations");function F0t(t={}){let e={defaultIntegrations:eAe(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:zt.SENTRY_RELEASE&&zt.SENTRY_RELEASE.id?zt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}o(F0t,"applyDefaultOptions");function H0t(){let t=typeof zt.window<"u"&&zt;if(!t)return!1;let e=t.chrome?"chrome":"browser",r=t[e],n=r&&r.runtime&&r.runtime.id,i=zt.location&&zt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],a=!!n&&zt===zt.top&&s.some(l=>i.startsWith(`${l}//`)),c=typeof t.nw<"u";return!!n&&!a&&!c}o(H0t,"shouldShowBrowserExtensionError");function TK(t={}){let e=F0t(t);if(!e.skipBrowserExtensionCheck&&H0t()){Sc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Rs&&(AO()||Qe.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let r={...e,stackParser:ez(e.stackParser||z6e),integrations:Dz(e),transport:e.transport||j6e};return Hz(OO,r)}o(TK,"init");m();g();var tAe=new WeakMap,RK=new Map,S3={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function nAe(t,e){let{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:a,tracePropagationTargets:c}={traceFetch:S3.traceFetch,traceXHR:S3.traceXHR,trackFetchStreamPerformance:S3.trackFetchStreamPerformance,...e},l=typeof s=="function"?s:p=>!0,h=o(p=>j0t(p,c),"shouldAttachHeadersWithTargets"),y={};r&&(t.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(E=>{if(E.op==="http.client"){let I=RK.get(E.span_id);I&&(E.timestamp=I/1e3,RK.delete(E.span_id))}}),p)),i&&Xz(p=>{if(p.response){let E=tAe.get(p.response);E&&p.endTimestamp&&RK.set(E,p.endTimestamp)}}),h3(p=>{let E=Gz(p,l,h,y);if(p.response&&p.fetchData.__span&&tAe.set(p.response,p.fetchData.__span),E){let I=iAe(p.fetchData.url),O=I?pu(I).host:void 0;E.setAttributes({"http.url":I,"server.address":O})}a&&E&&rAe(E)})),n&&w3(p=>{let E=z0t(p,l,h,y);a&&E&&rAe(E)})}o(nAe,"instrumentOutgoingRequests");function q0t(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}o(q0t,"isPerformanceResourceTiming");function rAe(t){let{url:e}=er(t).data||{};if(!e||typeof e!="string")return;let r=m0("resource",({entries:n})=>{n.forEach(i=>{q0t(i)&&i.name.endsWith(e)&&(V0t(i).forEach(a=>t.setAttribute(...a)),setTimeout(r))})})}o(rAe,"addHTTPTimings");function Kd(t=0){return((wo||performance.timeOrigin)+t)/1e3}o(Kd,"getAbsoluteTime");function V0t(t){let{name:e,version:r}=v3(t.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",e]),wo?[...n,["http.request.redirect_start",Kd(t.redirectStart)],["http.request.fetch_start",Kd(t.fetchStart)],["http.request.domain_lookup_start",Kd(t.domainLookupStart)],["http.request.domain_lookup_end",Kd(t.domainLookupEnd)],["http.request.connect_start",Kd(t.connectStart)],["http.request.secure_connection_start",Kd(t.secureConnectionStart)],["http.request.connection_end",Kd(t.connectEnd)],["http.request.request_start",Kd(t.requestStart)],["http.request.response_start",Kd(t.responseStart)],["http.request.response_end",Kd(t.responseEnd)]]:n}o(V0t,"resourceTimingEntryToSpanData");function j0t(t,e){let r=zt.location&&zt.location.href;if(r){let n,i;try{n=new URL(t,r),i=new URL(r).origin}catch{return!1}let s=n.origin===i;return e?Dd(n.toString(),e)||s&&Dd(n.pathname,e):s}else{let n=!!t.match(/^\/(?!\/)/);return e?Dd(t,e):n}}o(j0t,"shouldAttachHeaders");function z0t(t,e,r,n){let i=t.xhr,s=i&&i[g0];if(!i||i.__sentry_own_request__||!s)return;let a=$a()&&e(s.url);if(t.endTimestamp&&a){let p=i.__sentry_xhr_span_id__;if(!p)return;let E=n[p];E&&s.status_code!==void 0&&(h2(E,s.status_code),E.end(),delete n[p]);return}let c=iAe(s.url),l=c?pu(c).host:void 0,h=!!kn(),y=a&&h?pf({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":l,[Vn]:"auto.http.browser",[Ga]:"http.client"}}):new Rc;return i.__sentry_xhr_span_id__=y.spanContext().spanId,n[i.__sentry_xhr_span_id__]=y,r(s.url)&&K0t(i,$a()&&h?y:void 0),y}o(z0t,"xhrCallback");function K0t(t,e){let{"sentry-trace":r,baggage:n}=l3({span:e});r&&G0t(t,r,n)}o(K0t,"addTracingHeadersToXhrRequest");function G0t(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader("baggage",r)}catch{}}o(G0t,"setHeaderOnXhr");function iAe(t){try{return new URL(t,zt.location.origin).href}catch{return}}o(iAe,"getFullURL");m();g();m();g();function oAe(){zt&&zt.document?zt.document.addEventListener("visibilitychange",()=>{let t=kn();if(!t)return;let e=Cn(t);if(zt.document.hidden&&e){let r="cancelled",{op:n,status:i}=er(e);Rs&&Qe.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${n}`),i||e.setStatus({code:2,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):Rs&&Qe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(oAe,"registerBackgroundTabDetection");var $0t="BrowserTracing",W0t={...y2,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...S3},OK=o((t={})=>{Q9();let{enableInp:e,enableLongTask:r,enableLongAnimationFrame:n,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:a,idleTimeout:c,finalTimeout:l,childSpanTimeout:h,markBackgroundSpan:y,traceFetch:p,traceXHR:E,trackFetchStreamPerformance:I,shouldCreateSpanForRequest:O,enableHTTPTimings:N,instrumentPageLoad:k,instrumentNavigation:C}={...W0t,...t},L=pK({recordClsStandaloneSpans:s||!1});e&&SK(),n&&Yt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?gK():r&&mK(),i&&yK();let M={name:void 0,source:void 0};function P(H,F){let J=F.op==="pageload",W=a?a(F):F,X=W.attributes||{};F.name!==W.name&&(X[va]="custom",W.attributes=X),M.name=W.name,M.source=X[va];let S=cO(W,{idleTimeout:c,finalTimeout:l,childSpanTimeout:h,disableAutoFinish:J,beforeSpanEnd:o(d=>{L(),bK(d,{recordClsOnPageloadSpan:!s})},"beforeSpanEnd")});function f(){["interactive","complete"].includes(zt.document.readyState)&&H.emit("idleSpanEnableAutoFinish",S)}return o(f,"emitFinish"),J&&zt.document&&(zt.document.addEventListener("readystatechange",()=>{f()}),f()),S}return o(P,"_createRouteSpan"),{name:$0t,afterAllSetup(H){let F,J=zt.location&&zt.location.href;function W(){F&&!er(F).timestamp&&(Rs&&Qe.log(`[Tracing] Finishing current active span with op: ${er(F).op}`),F.end())}o(W,"maybeEndActiveSpan"),H.on("startNavigationSpan",X=>{Qt()===H&&(W(),F=P(H,{op:"navigation",...X}))}),H.on("startPageLoadSpan",(X,S={})=>{if(Qt()!==H)return;W();let f=S.sentryTrace||sAe("sentry-trace"),d=S.baggage||sAe("baggage"),b=bz(f,d);vr().setPropagationContext(b),F=P(H,{op:"pageload",...X})}),H.on("spanEnd",X=>{let S=er(X).op;if(X!==Cn(X)||S!=="navigation"&&S!=="pageload")return;let f=vr(),d=f.getPropagationContext();f.setPropagationContext({...d,sampled:d.sampled!==void 0?d.sampled:lu(X),dsc:d.dsc||hf(X)})}),zt.location&&(k&&aAe(H,{name:zt.location.pathname,startTime:wo?wo/1e3:void 0,attributes:{[va]:"url",[Vn]:"auto.pageload.browser"}}),C&&R1(({to:X,from:S})=>{if(S===void 0&&J&&J.indexOf(X)!==-1){J=void 0;return}S!==X&&(J=void 0,cAe(H,{name:zt.location.pathname,attributes:{[va]:"url",[Vn]:"auto.navigation.browser"}}))})),y&&oAe(),i&&Y0t(c,l,h,M),e&&AK(),nAe(H,{traceFetch:p,traceXHR:E,trackFetchStreamPerformance:I,tracePropagationTargets:H.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:O,enableHTTPTimings:N})}}},"browserTracingIntegration");function aAe(t,e,r){t.emit("startPageLoadSpan",e,r),vr().setTransactionName(e.name);let n=kn();return(n&&er(n).op)==="pageload"?n:void 0}o(aAe,"startBrowserTracingPageLoadSpan");function cAe(t,e){Do().setPropagationContext({traceId:Ic()}),vr().setPropagationContext({traceId:Ic()}),t.emit("startNavigationSpan",e),vr().setTransactionName(e.name);let r=kn();return(r&&er(r).op)==="navigation"?r:void 0}o(cAe,"startBrowserTracingNavigationSpan");function sAe(t){let e=cz(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}o(sAe,"getMetaContent");function Y0t(t,e,r,n){let i,s=o(()=>{let a="ui.action.click",c=kn(),l=c&&Cn(c);if(l){let h=er(l).op;if(["navigation","pageload"].includes(h)){Rs&&Qe.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(d2,"interactionInterrupted"),i.end(),i=void 0),!n.name){Rs&&Qe.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}i=cO({name:n.name,op:a,attributes:{[va]:n.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:r})},"registerInteractionTransaction");zt.document&&addEventListener("click",s,{once:!1,capture:!0})}o(Y0t,"registerInteractionListener");m();g();var fAe=Ze(lo(),1);function NK(t){let e={...t};return u3(e,"react"),pO("react",{version:fAe.version}),TK(e)}o(NK,"init");m();g();var MK={op:"function"};var Z0t=["The server encountered a temporary error","premature close","The browser is shutting down."],J0t=["/_generated_background_page.html","/background/serviceWorker.js","/service-worker-loader.js"],Q0t=["Breadcrumbs","GlobalHandlers","TryCatch","HttpContext"],uAe=!1,lAe={init:o(async(t,{appVersion:e,sentry:r})=>{r.enabled&&NK({sampleRate:t.mode==="debug"?1:r.sampleRate,tracesSampler:o(n=>{let i=n.transactionContext.name;return J0t.includes(i)?0:t.mode==="debug"?1:r.tracesSampleRate||!1},"tracesSampler"),beforeSend:o(async(n,i)=>{let s=i?.originalException;for(let a of Z0t)if(s instanceof Error&&s.message===a||typeof s=="string"&&s===a)return null;if(s&&!uAe){let c=`${new Date().toISOString()}-logs.txt`,l=await KS.getRecentLogs();i.attachments=[{filename:c,data:l}],uAe=!0}return n},"beforeSend"),dsn:r.dsn,release:e,environment:t.env,initialScope:r.initialScope,beforeBreadcrumb:o((n,i)=>(n.category==="fetch"||n.category==="xhr")&&!(n.data?.url?new URL(n.data.url):void 0)?.origin.endsWith("phantom.app")?null:n,"beforeBreadcrumb"),integrations:o(function(n){return n.filter(function(s){return!Q0t.includes(s.name)}).concat([E3({dom:!1,history:!1,console:!1}),OK({traceFetch:!1,traceXHR:!1,enableInp:!0})])},"integrations")})},"init"),captureError:o((t,e)=>{b2(t,{tags:{feature:e,team:n2(e)}})},"captureError"),captureMessage:o((t,e,r=It.Info)=>{hO(t,{tags:{feature:e,team:n2(e)},level:r})},"captureMessage"),addBreadcrumb:o((t,e,r,n)=>{hu({category:t,message:e,level:r,data:n})},"addBreadcrumb"),setUser:o(async t=>{gO(t)},"setUser"),setTags:o(async t=>{mO(t)},"setTags"),startSpan:o((t,e)=>{let r=aO({...MK,name:t},e);return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(t=>{let e=pf({...MK,name:t});return e?Promise.resolve(e):void 0},"startInactiveSpan"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),trackFeatureFlag:o((t,e)=>{},"trackFeatureFlag")};m();g();m();g();m();g();function dAe(){return Ja()}o(dAe,"isLocalRun");var ept=be.enum(["disabled","console","standard","debug"]);function hAe(){let t=R.TELEMETRY_ENV,e=ept.optional().parse(R.TELEMETRY_MODE),r=dAe(),n=e??(r?"console":"standard");if(r){if((t==="production"||t==="staging")&&(n==="standard"||n==="debug"))throw new Error("[TelemetryConfig] Cannot submit to production/staging from local dev")}else if(!t&&n!=="disabled"&&n!=="console")throw new Error("[TelemetryConfig] Missing TELEMETRY_ENV env var in production build");let i=t||"dev";switch(n){case"disabled":return{mode:"disabled",shouldLogToConsole:!1,isSubmitEnabled:!1,description:"Telemetry is completely disabled"};case"console":return{mode:"console",shouldLogToConsole:!0,isSubmitEnabled:!1,description:"Telemetry logs to console only (no remote submission)"};case"standard":return{mode:"standard",env:i,shouldLogToConsole:!1,isSubmitEnabled:!0,description:`Telemetry submits to ${i} with app-specific settings`};case"debug":return{mode:"debug",env:i,shouldLogToConsole:!0,isSubmitEnabled:!0,description:`High-frequency telemetry for testing (console + ${i})`}}}o(hAe,"createTelemetryConfig");m();g();var vAe=Ze(xAe(),1),_Ae=Ze(WOe(),1);var VO="[Telemetry Development Log]",jO={[It.Debug]:console.log,[It.Info]:console.warn,[It.Error]:console.error,[It.Fatal]:console.error};function cpt(t){return typeof t=="object"&&t!==null&&"toString"in t&&typeof t.toString=="function"}o(cpt,"hasToString");function fpt(t){return Object.entries(t).reduce((e,[r,n])=>(typeof n>"u"||((0,_Ae.default)(n)||(0,vAe.default)(n)||typeof n=="string"||typeof n=="boolean"||n===null?e[r]=n:cpt(n)&&(e[r]=n.toString())),e),{})}o(fpt,"safeBreadcrumbData");function _2(t,e,{featureTag:r,value:n,severity:i,data:s}){let a={value:n,data:s};for(let c of t){let l=c[e];if(l){let h=l(a.value,{featureTag:r,severity:i,data:a.data});a.value=h.value,h.data&&(a.data=h.data)}}return a}o(_2,"runMiddleware");function wAe(t,e){let r,n=WS;async function i(k){if(!r){if(r=hAe(),n=r.isSubmitEnabled?t.provider:WS,Ja()){let C=r.isSubmitEnabled?`, env=${r.env}`:"";console.info(`[Telemetry#init] (mode=${r.mode}${C}) ${r.description}`)}r.isSubmitEnabled&&await n.init(r,k)}}o(i,"init");function s(){return r}o(s,"getConfig");function a(k,C){if(r)try{let L=_2(e,"beforeEvent",{value:k,featureTag:C,severity:It.Error});r.shouldLogToConsole&&jO[It.Error](VO,L.value,L.data),L.value instanceof Error?n.captureError(L.value,C):n.captureError(new Error(L.value),C),_2(e,"afterEvent",{value:L.value,featureTag:C,severity:It.Error})}catch(L){Ja()&&console.warn(L)}}o(a,"captureError");function c(k,C,L=It.Info){if(r)try{let M=_2(e,"beforeEvent",{value:k,featureTag:C,severity:L});r.shouldLogToConsole&&jO[L](VO,M.value),n.captureMessage(M.value instanceof Error?M.value.message:M.value,C,L),_2(e,"afterEvent",{value:M.value,featureTag:C,severity:L})}catch(M){Ja()&&console.warn(M)}}o(c,"captureMessage");function l(k,C,L,M){if(r)try{let P=_2(e,"beforeEvent",{featureTag:k,value:C,severity:L,data:M});r.shouldLogToConsole&&jO[L](...[VO,P.value,P.data].filter(Boolean)),n.addBreadcrumb(k,P.value instanceof Error?P.value.message:P.value,L,P.data),_2(e,"afterEvent",{featureTag:k,value:P.value,severity:L,data:P.data})}catch(P){Ja()&&console.warn(P)}}o(l,"addBreadcrumb");async function h(k){r&&await n.setUser(k)}o(h,"setUser");async function y(k){r&&await n.setTags(k)}o(y,"setTags");function p(k,C){return r?n.startSpan(k,C):Promise.resolve(C())}o(p,"startSpan");function E(k,C){return r?()=>n.startSpan(k,C):()=>Promise.resolve(C())}o(E,"startSpanCallback");function I(k){if(r)return n.startInactiveSpan(k)}o(I,"startInactiveSpan");async function O(k,C,L){r&&await t.provider.captureMetric(k,C,L)}o(O,"captureMetric");function N(k,C){r&&n.trackFeatureFlag(k,C)}return o(N,"trackFeatureFlag"),{init:i,getConfig:s,captureError:a,captureMessage:c,addBreadcrumb:l,setUser:h,setTags:y,startSpan:p,startSpanCallback:E,startInactiveSpan:I,captureMetric:O,trackFeatureFlag:N}}o(wAe,"createTelemetry");var upt=[O9,KSe],lpt=qSe(KS),dpt=[...upt,lpt],rr=wAe({provider:GSe(lAe,HSe)},dpt);m();g();m();g();m();g();function EAe(t){let e={...t};if(typeof e.response=="string")try{e.response=JSON.parse(e.response)}catch{}return JSON.stringify(e,null,2)}o(EAe,"formatNetworkRequestInfo");m();g();var hpt="Logger not initialized",ppt="Method not supported on this platform",SAe=["publicKey"];var GO=o(t=>{let{obj:e,depth:r=0,maxDepth:n=20,quoteStrings:i=!0}=t;if(r>=n)return"... (max-depth reached)";let s=AAe(e);switch(s){case"Object":return mpt(t);case"Array":return gpt(t);case"function":return ypt(t);case"RegExp":return"/"+e.source+"/"+e.flags;case"Date":case"string":return i?`"${e}"`:e+"";case"boolean":return e?"true":"false";case"number":return e+"";case"null":case"undefined":return s;default:return"?"}},"stringify"),mpt=o(t=>{let{obj:e,indent:r,...n}=t,i="{",s=t.depth;if(CK(e)>0){i+=`
`,s++;let a=0;for(let c in e){i+=KO(s,r),i+=c+": ";let l=GO({...n,obj:e[c],depth:s,indent:r});l&&(i+=l),a<CK(e)-1&&(i+=","),i+=`
`,a++}s--,i+=KO(s,r)}return i+="}",i},"stringifyObject"),gpt=o(t=>{let{obj:e,indent:r,...n}=t,i="[",s=t.depth,a=!1;if(e.length>0){s++;for(let c=0;c<e.length;c++){let l=AAe(e[c]),h=!1;l==="Object"&&CK(e[c])>0&&(h=!0),l==="Array"&&e[c].length>0&&(h=!0),!a&&h&&(i+=`
`);let y=GO({...n,obj:e[c],depth:s,indent:r});y&&(h&&(i+=KO(s,r)),i+=y,c<e.length-1&&(i+=", "),h&&(i+=`
`)),a=h}s--}return i+="]",i},"stringifyArray"),ypt=o(t=>{let{obj:e,depth:r,indent:n}=t,i=r;return String(e).split(`
`).map(s=>{s.match(/\}/)&&i--;let a=KO(i,n)+s.trim();return s.match(/\{/)&&i++,a}).join(`
`)},"stringifyFunction"),AAe=o(t=>{if(t===null)return"null";if(t===void 0)return"undefined";{let e=typeof t;return e==="object"&&(Array.isArray(t)?e="Array":t instanceof Date?e="Date":t instanceof RegExp?e="RegExp":e="Object"),e}},"determineType"),KO=o((t,e)=>e.repeat(Math.max(t,0)),"indentsForDepth"),CK=o(t=>{let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e},"objectSize"),bpt=`======================================================
Application State
======================================================

`,xpt=`======================================================
Network Logs
======================================================

`,vpt=`======================================================
Application Logs
======================================================

`,zO=`------------------------------------------------
`,_pt=["authorization","x-phantomauthtoken","x-phantomnonce"],wpt=o((t,e=[])=>{let r=bpt;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r+=`${zO}`,r+=`${n}
${zO}
`,r+=GO({obj:t[n],depth:0,maxDepth:20,indent:"  ",quoteStrings:!0}),r+=`

`);if(e.length>0){r+=xpt;for(let n of e){if(n.requestHeaders)for(let i of _pt)delete n.requestHeaders[i.toLowerCase()];r+=`${zO}`,r+=`${n.id}
${zO}
`,r+=EAe(n),r+=`

`}}return r+=vpt,r},"formatAppState"),Ept=o(t=>t.replaceAll(/seed/gim,"root").replaceAll(/privateKey/gim,"leaf").replaceAll(/private-key/gim,"leaf").replaceAll(/private key/gim,"leaf").replaceAll(/mnemonic/gim,"stem"),"removeKeywordsFromLogs"),Spt=o(t=>t?JSON.parse(JSON.stringify(t,(e,r)=>SAe.includes(e)?void 0:r)):null,"removeKeysFromLogs");m();g();var Apt=be.object({maxRequests:be.number(),ignoredUrls:be.array(be.string()),ignoredHosts:be.array(be.string())});m();g();var Ipt={days:o(t=>t*864e5,"days"),hours:o(t=>t*36e5,"hours"),minutes:o(t=>t*6e4,"minutes"),seconds:o(t=>t*1e3,"seconds"),milliseconds:o(t=>t,"milliseconds"),microseconds:o(t=>t/1e3,"microseconds"),nanoseconds:o(t=>t/1e6,"nanoseconds")};function IAe(t){let e=0;for(let[r,n]of Object.entries(t)){let i=Ipt[r];e+=i(n)}return e}o(IAe,"toMilliseconds");m();g();var kK=m1(null);function TAe(){let t=Lm(kK);if(!t)throw new Error("useStorage must be used within a ContextProvider with StorageContext set");return t}o(TAe,"useStorage");m();g();var RAe=m1(null);function BK(){let t=Lm(RAe),e=Lm(kK);if(!e)throw new Error("useSyncedStorage must be used within a ContextProvider with StorageContext set");return t||e}o(BK,"useSyncedStorage");m();g();var Li;(function(t){t.AuthEnabled="authEnabled",t.BalanceHiddenStatus="balanceHiddenStatus",t.BuyFormValues="buyFormValues",t.CachedBlocklistDiff="cachedBlocklistDiff",t.CachedBloomFilter="cachedBloomFilter",t.CachedBloomFilterHash="cachedBloomFilterHash",t.CachedScanDataCursor="cachedScanDataCursor",t.CachedScanDataRecents="cachedScanDataRecents",t.CustomGasControls="customGasControls",t.DappBrowserBookmarks="dAppBrowserBookmarks",t.DeviceId="deviceId",t.DevicePerformanceInfo="devicePerformanceInfo",t.ExploreFilters="exploreFilters",t.LatestCleanedStorageVersion="latestCleanedStorageVersion",t.LockTimerMs="lockTimerMs",t.MaxWalletIndex="maxWalletIndex",t.MinedTransactionsForAnalytics="minedTransactionsForAnalytics",t.OnboardingDone="onboardingDone",t.OwnerToClusterToLamportBalance="ownerToClusterToLamportBalance",t.OwnerToHiddenMints="ownerToHiddenMints",t.PendingTransactions="pendingTransactions",t.PriceMap="priceMap",t.RecentlyViewedSearchItems="RecentlyViewedSearchItems",t.SeedlessPinVerificationLockTimerInMs="seedlessPinVerificationLockTimerInMs",t.SeedlessDeviceID="seedlessDeviceID",t.SettingReduceMotion="settingReduceMotion",t.SettingMotionLevel="settingMotionLevel",t.UserExplorerPreferenceV2="userExplorerPreferenceV2",t.UserIdCache="userIdCache",t.UserPropsCache="userPropsCache",t.UserRecentAddresses="userRecentAddresses",t.UserSavedAddresses="userSavedAddresses",t.UserTrustedApps="userTrustedApps",t.UserWhitelistSubdomains="userWhitelistedSubdomains",t.UserWhitelistedOrigins="userWhitelistedOrigins",t.RudderstackIdentifyData="rudderstackIdentifyData",t.Cluster="cluster",t.EncryptedMnemonic="encryptedMnemonic",t.EncryptedSeedAndMnemonic="encryptedSeedAndMnemonic",t.MainnetRpcUrl="mainnetRpcEndpoint",t.SwapQuoteFromAsset="swapQuoteFromAsset",t.SwapQuoteSlippage="swapQuoteSlippage",t.SwapQuoteToAsset="swapQuoteToAsset",t.TokenList="tokenList",t.TrustedApplicationsByOwnerBrowser="trustedApplicationsByOwner",t.TrustedApplicationsByOwnerBrowserV2="trustedApplicationsByOwnerBrowser",t.TrustedApplicationsByOwnerMobile="trustedApplicationsByOwnerMobile",t.UnencryptedSeedAndMnemonic="unencryptedSeedAndMnemonic",t.UserExplorerPreference="userExplorerPreference"})(Li||(Li={}));var PK;(function(t){t.DeleteStorageValue="deleteStorageValue",t.LockExtension="lockExtension"})(PK||(PK={}));var Tpt={recipientError:void 0,amountError:void 0};m();g();m();g();m();g();m();g();var OAe="REACT_QUERY_OFFLINE_CACHE";function A3(t,e,...r){t&&console.log(e,...r)}o(A3,"debugLog");var Rpt=o(({underlyingStorage:t,throttleMs:e,cacheKey:r=OAe,maxCacheSizeBytes:n=5242880,enableDebugLogs:i=!1})=>{let s=null,a=o(async()=>{if(s)try{let c=JSON.stringify(s),l=c.length;l<n?await t.set(r,c):(await t.remove(r),A3(i,"[React Query Offline Cache] Removed offline cache. Size:",l,"bytes")),s=null}catch{}},"persistCache");return setInterval(()=>{a()},e),{persistClient:o(c=>{s=c},"persistClient"),restoreClient:o(async()=>{try{let c=await t.get(r);if(!c){A3(i,"[React Query Offline Cache] No offline cache restored.");return}let l=JSON.parse(c),h=c.length;return A3(i,"[React Query Offline Cache] Restored RQ offline cache. Size:",h,"bytes"),l}catch{A3(i,"[React Query Offline Cache] Error restoring offline cache.");return}},"restoreClient"),removeClient:o(()=>(A3(i,"[React Query Offline Cache] Removed offline cache."),t.remove(r)),"removeClient")}},"createReactQueryCache");m();g();m();g();m();g();m();g();var Mc=class{static{o(this,"Subscribable")}constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};m();g();m();g();var Opt={setTimeout:o((t,e)=>setTimeout(t,e),"setTimeout"),clearTimeout:o(t=>clearTimeout(t),"clearTimeout"),setInterval:o((t,e)=>setInterval(t,e),"setInterval"),clearInterval:o(t=>clearInterval(t),"clearInterval")},Npt=class{static{o(this,"TimeoutManager")}#t=Opt;#e=!1;setTimeoutProvider(t){R.NODE_ENV!=="production"&&this.#e&&t!==this.#t&&console.error("[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.",{previous:this.#t,provider:t}),this.#t=t,R.NODE_ENV!=="production"&&(this.#e=!1)}setTimeout(t,e){return R.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return R.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},Gd=new Npt;function NAe(t){setTimeout(t,0)}o(NAe,"systemSetTimeoutZero");var Cc=typeof self>"u"||"Deno"in globalThis;function Yn(){}o(Yn,"noop");function kAe(t,e){return typeof t=="function"?t(e):t}o(kAe,"functionalUpdate");function I3(t){return typeof t=="number"&&t>=0&&t!==1/0}o(I3,"isValidTimeout");function $O(t,e){return Math.max(t+(e||0)-Date.now(),0)}o($O,"timeUntilStale");function vl(t,e){return typeof t=="function"?t(e):t}o(vl,"resolveStaleTime");function kc(t,e){return typeof t=="function"?t(e):t}o(kc,"resolveEnabled");function WO(t,e){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:c}=t;if(a){if(n){if(e.queryHash!==T3(a,e.options))return!1}else if(!O1(e.queryKey,a))return!1}if(r!=="all"){let l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||s&&!s(e))}o(WO,"matchQuery");function YO(t,e){let{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if($d(e.options.mutationKey)!==$d(s))return!1}else if(!O1(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}o(YO,"matchMutation");function T3(t,e){return(e?.queryKeyHashFn||$d)(t)}o(T3,"hashQueryKeyByOptions");function $d(t){return JSON.stringify(t,(e,r)=>LK(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}o($d,"hashKey");function O1(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>O1(t[r],e[r])):!1}o(O1,"partialMatchKey");var Mpt=Object.prototype.hasOwnProperty;function w2(t,e){if(t===e)return t;let r=MAe(t)&&MAe(e);if(!r&&!(LK(t)&&LK(e)))return e;let i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,c=r?new Array(a):{},l=0;for(let h=0;h<a;h++){let y=r?h:s[h],p=t[y],E=e[y];if(p===E){c[y]=p,(r?h<i:Mpt.call(t,y))&&l++;continue}if(p===null||E===null||typeof p!="object"||typeof E!="object"){c[y]=E;continue}let I=w2(p,E);c[y]=I,I===p&&l++}return i===a&&l===i?t:c}o(w2,"replaceEqualDeep");function Ym(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}o(Ym,"shallowEqualObjects");function MAe(t){return Array.isArray(t)&&t.length===Object.keys(t).length}o(MAe,"isPlainArray");function LK(t){if(!CAe(t))return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(!CAe(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}o(LK,"isPlainObject");function CAe(t){return Object.prototype.toString.call(t)==="[object Object]"}o(CAe,"hasObjectPrototype");function BAe(t){return new Promise(e=>{Gd.setTimeout(e,t)})}o(BAe,"sleep");function R3(t,e,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(t,e);if(r.structuralSharing!==!1){if(R.NODE_ENV!=="production")try{return w2(t,e)}catch(n){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${n}`),n}return w2(t,e)}return e}o(R3,"replaceData");function PAe(t){return t}o(PAe,"keepPreviousData");function LAe(t,e,r=0){let n=[...t,e];return r&&n.length>r?n.slice(1):n}o(LAe,"addToEnd");function DAe(t,e,r=0){let n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}o(DAe,"addToStart");var Wm=Symbol();function XO(t,e){return R.NODE_ENV!=="production"&&t.queryFn===Wm&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${t.queryHash}'`),!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Wm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}o(XO,"ensureQueryFn");function O3(t,e){return typeof t=="function"?t(...e):!!t}o(O3,"shouldThrowError");var Cpt=class extends Mc{static{o(this,"FocusManager")}#t;#e;#r;constructor(){super(),this.#r=t=>{if(!Cc&&self.addEventListener){let e=o(()=>t(),"listener");return self.addEventListener("visibilitychange",e,!1),()=>{self.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},E2=new Cpt;m();g();m();g();function N3(){let t,e,r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return o(n,"finalize"),r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}o(N3,"pendingThenable");function UAe(t){let e;if(t.then(r=>(e=r,r),Yn)?.catch(Yn),e!==void 0)return{data:e}}o(UAe,"tryResolveSync");function FAe(t){return t}o(FAe,"defaultTransformerFn");function kpt(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}o(kpt,"dehydrateMutation");function Bpt(t,e,r){return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(n=>r(n)?(R.NODE_ENV!=="production"&&console.error(`A query that was dehydrated as pending ended up rejecting. [${t.queryHash}]: ${n}; The error will be redacted in production builds`),Promise.reject(new Error("redacted"))):Promise.reject(n))},...t.meta&&{meta:t.meta}}}o(Bpt,"dehydrateQuery");function HAe(t){return t.state.isPaused}o(HAe,"defaultShouldDehydrateMutation");function qAe(t){return t.state.status==="success"}o(qAe,"defaultShouldDehydrateQuery");function Ppt(t){return!0}o(Ppt,"defaultShouldRedactErrors");function ZO(t,e={}){let r=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??HAe,n=t.getMutationCache().getAll().flatMap(l=>r(l)?[kpt(l)]:[]),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??qAe,s=e.shouldRedactErrors??t.getDefaultOptions().dehydrate?.shouldRedactErrors??Ppt,a=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??FAe,c=t.getQueryCache().getAll().flatMap(l=>i(l)?[Bpt(l,a,s)]:[]);return{mutations:n,queries:c}}o(ZO,"dehydrate");function DK(t,e,r){if(typeof e!="object"||e===null)return;let n=t.getMutationCache(),i=t.getQueryCache(),s=r?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??FAe,a=e.mutations||[],c=e.queries||[];a.forEach(({state:l,...h})=>{n.build(t,{...t.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...h},l)}),c.forEach(({queryKey:l,state:h,queryHash:y,meta:p,promise:E,dehydratedAt:I})=>{let O=E?UAe(E):void 0,N=h.data===void 0?O?.data:h.data,k=N===void 0?N:s(N),C=i.get(y),L=C?.state.status==="pending",M=C?.state.fetchStatus==="fetching";if(C){let P=O&&I!==void 0&&I>C.state.dataUpdatedAt;if(h.dataUpdatedAt>C.state.dataUpdatedAt||P){let{fetchStatus:H,...F}=h;C.setState({...F,data:k})}}else C=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:l,queryHash:y,meta:p},{...h,data:k,fetchStatus:"idle",status:k!==void 0?"success":h.status});E&&!L&&!M&&(I===void 0||I>C.state.dataUpdatedAt)&&C.fetch(void 0,{initialPromise:Promise.resolve(E).then(s)})})}o(DK,"hydrate");m();g();m();g();m();g();var VAe=NAe;function Lpt(){let t=[],e=0,r=o(c=>{c()},"notifyFn"),n=o(c=>{c()},"batchNotifyFn"),i=VAe,s=o(c=>{e?t.push(c):i(()=>{r(c)})},"schedule"),a=o(()=>{let c=t;t=[],c.length&&i(()=>{n(()=>{c.forEach(l=>{r(l)})})})},"flush");return{batch:o(c=>{let l;e++;try{l=c()}finally{e--,e||a()}return l},"batch"),batchCalls:o(c=>(...l)=>{s(()=>{c(...l)})},"batchCalls"),schedule:s,setNotifyFunction:o(c=>{r=c},"setNotifyFunction"),setBatchNotifyFunction:o(c=>{n=c},"setBatchNotifyFunction"),setScheduler:o(c=>{i=c},"setScheduler")}}o(Lpt,"createNotifyManager");var Gr=Lpt();m();g();m();g();m();g();var Dpt=class extends Mc{static{o(this,"OnlineManager")}#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!Cc&&self.addEventListener){let e=o(()=>t(!0),"onlineListener"),r=o(()=>t(!1),"offlineListener");return self.addEventListener("online",e,!1),self.addEventListener("offline",r,!1),()=>{self.removeEventListener("online",e),self.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},S2=new Dpt;function Upt(t){return Math.min(1e3*2**t,3e4)}o(Upt,"defaultRetryDelay");function UK(t){return(t??"online")==="online"?S2.isOnline():!0}o(UK,"canFetch");var JO=class extends Error{static{o(this,"CancelledError")}constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function QO(t){let e=!1,r=0,n,i=N3(),s=o(()=>i.status!=="pending","isResolved"),a=o(N=>{if(!s()){let k=new JO(N);E(k),t.onCancel?.(k)}},"cancel"),c=o(()=>{e=!0},"cancelRetry"),l=o(()=>{e=!1},"continueRetry"),h=o(()=>E2.isFocused()&&(t.networkMode==="always"||S2.isOnline())&&t.canRun(),"canContinue"),y=o(()=>UK(t.networkMode)&&t.canRun(),"canStart"),p=o(N=>{s()||(n?.(),i.resolve(N))},"resolve"),E=o(N=>{s()||(n?.(),i.reject(N))},"reject"),I=o(()=>new Promise(N=>{n=o(k=>{(s()||h())&&N(k)},"continueFn"),t.onPause?.()}).then(()=>{n=void 0,s()||t.onContinue?.()}),"pause"),O=o(()=>{if(s())return;let N,k=r===0?t.initialPromise:void 0;try{N=k??t.fn()}catch(C){N=Promise.reject(C)}Promise.resolve(N).then(p).catch(C=>{if(s())return;let L=t.retry??(Cc?0:3),M=t.retryDelay??Upt,P=typeof M=="function"?M(r,C):M,H=L===!0||typeof L=="number"&&r<L||typeof L=="function"&&L(r,C);if(e||!H){E(C);return}r++,t.onFail?.(r,C),BAe(P).then(()=>h()?void 0:I()).then(()=>{e?E(C):O()})})},"run");return{promise:i,status:o(()=>i.status,"status"),cancel:a,continue:o(()=>(n?.(),i),"continue"),cancelRetry:c,continueRetry:l,canStart:y,start:o(()=>(y()?O():I().then(O),i),"start")}}o(QO,"createRetryer");m();g();var eN=class{static{o(this,"Removable")}#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I3(this.gcTime)&&(this.#t=Gd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Cc?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(Gd.clearTimeout(this.#t),this.#t=void 0)}};var zAe=class extends eN{static{o(this,"Query")}#t;#e;#r;#n;#i;#s;#a;constructor(t){super(),this.#a=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=jAe(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){let e=jAe(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){let r=R3(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Yn).catch(Yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>kc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>vl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$O(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){let c=this.observers.find(l=>l.options.queryFn);c&&this.setOptions(c.options)}R.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));let r=new AbortController,n=o(c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:o(()=>(this.#a=!0,r.signal),"get")})},"addSignalProperty"),i=o(()=>{let c=XO(this.options,e),h=o(()=>{let y={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(y),y},"createQueryFnContext")();return this.#a=!1,this.options.persister?this.options.persister(c,h,this):c(h)},"fetchFn"),a=o(()=>{let c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(c),c},"createFetchContext")();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta}),this.#i=QO({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:o(c=>{c instanceof JO&&c.revert&&this.setState({...this.#e,fetchStatus:"idle"}),r.abort()},"onCancel"),onFail:o((c,l)=>{this.#o({type:"failed",failureCount:c,error:l})},"onFail"),onPause:o(()=>{this.#o({type:"pause"})},"onPause"),onContinue:o(()=>{this.#o({type:"continue"})},"onContinue"),retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:o(()=>!0,"canRun")});try{let c=await this.#i.start();if(c===void 0)throw R.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof JO){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#o({type:"error",error:c}),this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#o(t){let e=o(r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...FK(r.data,this.options),fetchMeta:t.meta??null};case"success":let n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?n:void 0,n;case"error":let i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}},"reducer");this.state=e(this.state),Gr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function FK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:UK(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}o(FK,"fetchState");function jAe(t){let e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}o(jAe,"getDefaultState");var Wd=class extends Mc{static{o(this,"QueryObserver")}constructor(t,e){super(),this.options=e,this.#t=t,this.#o=null,this.#a=N3(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#s;#a;#o;#c;#d;#h;#u;#l;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),KAe(this.#e,this.options)?this.#p():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return HK(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return HK(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#_(),this.#e.removeObserver(this)}setOptions(t){let e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof kc(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),e._defaulted&&!Ym(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});let n=this.hasListeners();n&&GAe(this.#e,r,this.options,e)&&this.#p(),this.updateResult(),n&&(this.#e!==r||kc(this.options.enabled,this.#e)!==kc(e.enabled,this.#e)||vl(this.options.staleTime,this.#e)!==vl(e.staleTime,this.#e))&&this.#g();let i=this.#y();n&&(this.#e!==r||kc(this.options.enabled,this.#e)!==kc(e.enabled,this.#e)||i!==this.#f)&&this.#b(i)}getOptimisticResult(t){let e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return Hpt(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:o((r,n)=>(this.trackProp(n),e?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n)),"get")})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#w();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Yn)),e}#g(){this.#v();let t=vl(this.options.staleTime,this.#e);if(Cc||this.#n.isStale||!I3(t))return;let r=$O(this.#n.dataUpdatedAt,t)+1;this.#u=Gd.setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#_(),this.#f=t,!(Cc||kc(this.options.enabled,this.#e)===!1||!I3(this.#f)||this.#f===0)&&(this.#l=Gd.setInterval(()=>{(this.options.refetchIntervalInBackground||E2.isFocused())&&this.#p()},this.#f))}#x(){this.#g(),this.#b(this.#y())}#v(){this.#u&&(Gd.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#l&&(Gd.clearInterval(this.#l),this.#l=void 0)}createResult(t,e){let r=this.#e,n=this.options,i=this.#n,s=this.#i,a=this.#s,l=t!==r?t.state:this.#r,{state:h}=t,y={...h},p=!1,E;if(e._optimisticResults){let W=this.hasListeners(),X=!W&&KAe(t,e),S=W&&GAe(t,r,e,n);(X||S)&&(y={...y,...FK(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:I,errorUpdatedAt:O,status:N}=y;E=y.data;let k=!1;if(e.placeholderData!==void 0&&E===void 0&&N==="pending"){let W;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(W=i.data,k=!0):W=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,W!==void 0&&(N="success",E=R3(i?.data,W,e),p=!0)}if(e.select&&E!==void 0&&!k)if(i&&E===s?.data&&e.select===this.#c)E=this.#d;else try{this.#c=e.select,E=e.select(E),E=R3(i?.data,E,e),this.#d=E,this.#o=null}catch(W){this.#o=W}this.#o&&(I=this.#o,E=this.#d,O=Date.now(),N="error");let C=y.fetchStatus==="fetching",L=N==="pending",M=N==="error",P=L&&C,H=E!==void 0,J={status:N,fetchStatus:y.fetchStatus,isPending:L,isSuccess:N==="success",isError:M,isInitialLoading:P,isLoading:P,data:E,dataUpdatedAt:y.dataUpdatedAt,error:I,errorUpdatedAt:O,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>l.dataUpdateCount||y.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!L,isLoadingError:M&&!H,isPaused:y.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:M&&H,isStale:qK(t,e),refetch:this.refetch,promise:this.#a,isEnabled:kc(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){let W=o(f=>{J.status==="error"?f.reject(J.error):J.data!==void 0&&f.resolve(J.data)},"finalizeThenableIfPossible"),X=o(()=>{let f=this.#a=J.promise=N3();W(f)},"recreateThenable"),S=this.#a;switch(S.status){case"pending":t.queryHash===r.queryHash&&W(S);break;case"fulfilled":(J.status==="error"||J.data!==S.value)&&X();break;case"rejected":(J.status!=="error"||J.error!==S.reason)&&X();break}}return J}updateResult(){let t=this.#n,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#s=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Ym(e,t))return;this.#n=e;let r=o(()=>{if(!t)return!0;let{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#m.size)return!0;let s=new Set(i??this.#m);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(a=>{let c=a;return this.#n[c]!==t[c]&&s.has(c)})},"shouldNotifyListeners");this.#E({listeners:r()})}#w(){let t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;let e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#E(t){Gr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Fpt(t,e){return kc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}o(Fpt,"shouldLoadOnMount");function KAe(t,e){return Fpt(t,e)||t.state.data!==void 0&&HK(t,e,e.refetchOnMount)}o(KAe,"shouldFetchOnMount");function HK(t,e,r){if(kc(e.enabled,t)!==!1&&vl(e.staleTime,t)!=="static"){let n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&qK(t,e)}return!1}o(HK,"shouldFetchOn");function GAe(t,e,r,n){return(t!==e||kc(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&qK(t,r)}o(GAe,"shouldFetchOptionally");function qK(t,e){return kc(e.enabled,t)!==!1&&t.isStaleByTime(vl(e.staleTime,t))}o(qK,"isStale");function Hpt(t,e){return!Ym(t.getCurrentResult(),e)}o(Hpt,"shouldAssignObserverCurrentProperties");m();g();function A2(t){return{onFetch:o((e,r)=>{let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[],c={pages:[],pageParams:[]},l=0,h=o(async()=>{let y=!1,p=o(O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:o(()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal),"get")})},"addSignalProperty"),E=XO(e.options,e.fetchOptions),I=o(async(O,N,k)=>{if(y)return Promise.reject();if(N==null&&O.pages.length)return Promise.resolve(O);let L=o(()=>{let F={client:e.client,queryKey:e.queryKey,pageParam:N,direction:k?"backward":"forward",meta:e.options.meta};return p(F),F},"createQueryFnContext")(),M=await E(L),{maxPages:P}=e.options,H=k?DAe:LAe;return{pages:H(O.pages,M,P),pageParams:H(O.pageParams,N,P)}},"fetchPage");if(i&&s.length){let O=i==="backward",N=O?$Ae:VK,k={pages:s,pageParams:a},C=N(n,k);c=await I(k,C,O)}else{let O=t??s.length;do{let N=l===0?a[0]??n.initialPageParam:VK(n,c);if(l>0&&N==null)break;c=await I(c,N),l++}while(l<O)}return c},"fetchFn");e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=h},"onFetch")}}o(A2,"infiniteQueryBehavior");function VK(t,{pages:e,pageParams:r}){let n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}o(VK,"getNextPageParam");function $Ae(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}o($Ae,"getPreviousPageParam");function WAe(t,e){return e?VK(t,e)!=null:!1}o(WAe,"hasNextPage");function YAe(t,e){return!e||!t.getPreviousPageParam?!1:$Ae(t,e)!=null}o(YAe,"hasPreviousPage");var jK=class extends Wd{static{o(this,"InfiniteQueryObserver")}constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:A2()})}getOptimisticResult(t){return t.behavior=A2(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){let{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:s,isError:a,isRefetchError:c}=n,l=r.fetchMeta?.fetchMore?.direction,h=a&&l==="forward",y=i&&l==="forward",p=a&&l==="backward",E=i&&l==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:WAe(e,r.data),hasPreviousPage:YAe(e,r.data),isFetchNextPageError:h,isFetchingNextPage:y,isFetchPreviousPageError:p,isFetchingPreviousPage:E,isRefetchError:c&&!h&&!p,isRefetching:s&&!y&&!E}}};m();g();m();g();var XAe=class extends eN{static{o(this,"Mutation")}#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||zK(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){let e=o(()=>{this.#n({type:"continue"})},"onContinue");this.#r=QO({fn:o(()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),"fn"),onFail:o((i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},"onFail"),onPause:o(()=>{this.#n({type:"pause"})},"onPause"),onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:o(()=>this.#e.canRun(this),"canRun")});let r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);let s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:n})}let i=await this.#r.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){let e=o(r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}},"reducer");this.state=e(this.state),Gr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function zK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}o(zK,"getDefaultState");var ZAe=class extends Mc{static{o(this,"MutationCache")}constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){let n=new XAe({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);let e=tN(t);if(typeof e=="string"){let r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){let e=tN(t);if(typeof e=="string"){let r=this.#e.get(e);if(r)if(r.length>1){let n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){let e=tN(t);if(typeof e=="string"){let n=this.#e.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){let e=tN(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Gr.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){let e={exact:!0,...t};return this.getAll().find(r=>YO(e,r))}findAll(t={}){return this.getAll().filter(e=>YO(t,e))}notify(t){Gr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(e=>e.state.isPaused);return Gr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Yn))))}};function tN(t){return t.options.scope?.id}o(tN,"scopeFor");m();g();var KK=class extends Mc{static{o(this,"MutationObserver")}#t;#e=void 0;#r;#n;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),Ym(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),e?.mutationKey&&this.options.mutationKey&&$d(e.mutationKey)!==$d(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#s(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(t,e){return this.#n=e,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){let t=this.#r?.state??zK();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){Gr.batch(()=>{if(this.#n&&this.hasListeners()){let e=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,e,r),this.#n.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#n.onError?.(t.error,e,r),this.#n.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(e=>{e(this.#e)})})}};m();g();function JAe(t,e){let r=new Set(e);return t.filter(n=>!r.has(n))}o(JAe,"difference");function qpt(t,e,r){let n=t.slice(0);return n[e]=r,n}o(qpt,"replaceAt");var GK=class extends Mc{static{o(this,"QueriesObserver")}#t;#e;#r;#n;#i;#s;#a;#o;#c=[];constructor(t,e,r){super(),this.#t=t,this.#n=r,this.#r=[],this.#i=[],this.#e=[],this.setQueries(e)}onSubscribe(){this.listeners.size===1&&this.#i.forEach(t=>{t.subscribe(e=>{this.#l(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(t=>{t.destroy()})}setQueries(t,e){if(this.#r=t,this.#n=e,R.NODE_ENV!=="production"){let r=t.map(n=>this.#t.defaultQueryOptions(n).queryHash);new Set(r).size!==r.length&&console.warn("[QueriesObserver]: Duplicate Queries found. This might result in unexpected behavior.")}Gr.batch(()=>{let r=this.#i,n=this.#u(this.#r);this.#c=n,n.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions));let i=n.map(l=>l.observer),s=i.map(l=>l.getCurrentResult()),a=i.some((l,h)=>l!==r[h]),c=r.length===i.length&&!a?s.some((l,h)=>{let y=this.#e[h];return!y||!Ym(l,y)}):!0;!a&&!c||(a&&(this.#i=i),this.#e=s,this.hasListeners()&&(a&&(JAe(r,i).forEach(l=>{l.destroy()}),JAe(i,r).forEach(l=>{l.subscribe(h=>{this.#l(l,h)})})),this.#f()))})}getCurrentResult(){return this.#e}getQueries(){return this.#i.map(t=>t.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(t,e){let r=this.#u(t),n=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[n,i=>this.#h(i??n,e),()=>this.#d(n,r)]}#d(t,e){return e.map((r,n)=>{let i=t[n];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,s=>{e.forEach(a=>{a.observer.trackProp(s)})})})}#h(t,e){return e?((!this.#s||this.#e!==this.#o||e!==this.#a)&&(this.#a=e,this.#o=this.#e,this.#s=w2(this.#s,e(t))),this.#s):t}#u(t){let e=new Map(this.#i.map(n=>[n.options.queryHash,n])),r=[];return t.forEach(n=>{let i=this.#t.defaultQueryOptions(n),s=e.get(i.queryHash);s?r.push({defaultedQueryOptions:i,observer:s}):r.push({defaultedQueryOptions:i,observer:new Wd(this.#t,i)})}),r}#l(t,e){let r=this.#i.indexOf(t);r!==-1&&(this.#e=qpt(this.#e,r,e),this.#f())}#f(){if(this.hasListeners()){let t=this.#s,e=this.#d(this.#e,this.#c),r=this.#h(e,this.#n?.combine);t!==r&&Gr.batch(()=>{this.listeners.forEach(n=>{n(this.#e)})})}}};m();g();var QAe=class extends Mc{static{o(this,"QueryCache")}constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){let n=e.queryKey,i=e.queryHash??T3(n,e),s=this.get(i);return s||(s=new zAe({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(r=>WO(e,r))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(r=>WO(t,r)):e}notify(t){Gr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}};m();g();var e4e=class{static{o(this,"QueryClient")}#t;#e;#r;#n;#i;#s;#a;#o;constructor(t={}){this.#t=t.queryCache||new QAe,this.#e=t.mutationCache||new ZAe,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=E2.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=S2.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(vl(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{let n=r.data;return[e,n]})}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(n.queryHash)?.state.data,a=kAe(e,s);if(a!==void 0)return this.#t.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Gr.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){let e=this.#t;Gr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){let r=this.#t;return Gr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let r={revert:!0,...e},n=Gr.batch(()=>this.#t.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Yn).catch(Yn)}invalidateQueries(t,e={}){return Gr.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0},n=Gr.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Yn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Yn)}fetchQuery(t){let e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);let r=this.#t.build(this,e);return r.isStaleByTime(vl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Yn).catch(Yn)}fetchInfiniteQuery(t){return t.behavior=A2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Yn).catch(Yn)}ensureInfiniteQueryData(t){return t.behavior=A2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return S2.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set($d(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#n.values()],r={};return e.forEach(n=>{O1(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set($d(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#i.values()],r={};return e.forEach(n=>{O1(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=T3(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Wm&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}};m();g();var Yd=Ze(lo(),1);m();g();var I2=Ze(lo(),1),t4e=Ze(M0(),1);var $K=I2.createContext(void 0),Xm=o(t=>{let e=I2.useContext($K);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},"useQueryClient"),rN=o(({client:t,children:e})=>(I2.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,t4e.jsx)($K.Provider,{value:t,children:e})),"QueryClientProvider");m();g();var nN=Ze(lo(),1);var r4e=nN.createContext(!1),M3=o(()=>nN.useContext(r4e),"useIsRestoring"),WK=r4e.Provider;m();g();var C3=Ze(lo(),1),Vpt=Ze(M0(),1);function jpt(){let t=!1;return{clearReset:o(()=>{t=!1},"clearReset"),reset:o(()=>{t=!0},"reset"),isReset:o(()=>t,"isReset")}}o(jpt,"createValue");var zpt=C3.createContext(jpt()),iN=o(()=>C3.useContext(zpt),"useQueryErrorResetBoundary");m();g();var n4e=Ze(lo(),1);var oN=o((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},"ensurePreventErrorBoundaryRetry"),sN=o(t=>{n4e.useEffect(()=>{t.clearReset()},[t])},"useClearResetErrorBoundary"),aN=o(({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||O3(r,[t.error,n])),"getHasError");m();g();var cN=o(t=>{if(t.suspense){let r=o(i=>i==="static"?i:Math.max(i??1e3,1e3),"clamp"),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},"ensureSuspenseTimers"),fN=o((t,e)=>t.isLoading&&t.isFetching&&!e,"willFetch"),k3=o((t,e)=>t?.suspense&&e.isPending,"shouldSuspend"),T2=o((t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()}),"fetchOptimistic");function i4e({queries:t,...e},r){let n=Xm(r),i=M3(),s=iN(),a=Yd.useMemo(()=>t.map(N=>{let k=n.defaultQueryOptions(N);return k._optimisticResults=i?"isRestoring":"optimistic",k}),[t,n,i]);a.forEach(N=>{cN(N),oN(N,s)}),sN(s);let[c]=Yd.useState(()=>new GK(n,a,e)),[l,h,y]=c.getOptimisticResult(a,e.combine),p=!i&&e.subscribed!==!1;Yd.useSyncExternalStore(Yd.useCallback(N=>p?c.subscribe(Gr.batchCalls(N)):Yn,[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Yd.useEffect(()=>{c.setQueries(a,e)},[a,e,c]);let I=l.some((N,k)=>k3(a[k],N))?l.flatMap((N,k)=>{let C=a[k];if(C){let L=new Wd(n,C);if(k3(C,N))return T2(C,L,s);fN(N,i)&&T2(C,L,s)}return[]}):[];if(I.length>0)throw Promise.all(I);let O=l.find((N,k)=>{let C=a[k];return C&&aN({result:N,errorResetBoundary:s,throwOnError:C.throwOnError,query:n.getQueryCache().get(C.queryHash),suspense:C.suspense})});if(O?.error)throw O.error;return h(y())}o(i4e,"useQueries");m();g();m();g();var Zm=Ze(lo(),1);function uN(t,e,r){if(R.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');let n=M3(),i=iN(),s=Xm(r),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),R.NODE_ENV!=="production"&&(a.queryFn||console.error(`[${a.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`)),a._optimisticResults=n?"isRestoring":"optimistic",cN(a),oN(a,i),sN(i);let c=!s.getQueryCache().get(a.queryHash),[l]=Zm.useState(()=>new e(s,a)),h=l.getOptimisticResult(a),y=!n&&t.subscribed!==!1;if(Zm.useSyncExternalStore(Zm.useCallback(p=>{let E=y?l.subscribe(Gr.batchCalls(p)):Yn;return l.updateResult(),E},[l,y]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),Zm.useEffect(()=>{l.setOptions(a)},[a,l]),k3(a,h))throw T2(a,l,i);if(aN({result:h,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,h),a.experimental_prefetchInRender&&!Cc&&fN(h,n)&&(c?T2(a,l,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(Yn).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?h:l.trackResult(h)}o(uN,"useBaseQuery");function YK(t,e){return uN(t,Wd,e)}o(YK,"useQuery");m();g();var y0=Ze(lo(),1);function o4e(t,e){let r=Xm(e),[n]=y0.useState(()=>new KK(r,t));y0.useEffect(()=>{n.setOptions(t)},[n,t]);let i=y0.useSyncExternalStore(y0.useCallback(a=>n.subscribe(Gr.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=y0.useCallback((a,c)=>{n.mutate(a,c).catch(Yn)},[n]);if(i.error&&O3(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}o(o4e,"useMutation");m();g();function s4e(t,e){return uN(t,jK,e)}o(s4e,"useInfiniteQuery");m();g();var Kpt=["added","removed","updated"];function a4e(t){return Kpt.includes(t)}o(a4e,"isCacheEventType");async function f4e({queryClient:t,persister:e,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:i}){try{let s=await e.restoreClient();if(s)if(s.timestamp){let a=Date.now()-s.timestamp>r,c=s.buster!==n;if(a||c)return e.removeClient();DK(t,s.clientState,i)}else return e.removeClient()}catch(s){throw R.NODE_ENV!=="production"&&(console.error(s),console.warn("Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded.")),await e.removeClient(),s}}o(f4e,"persistQueryClientRestore");async function c4e({queryClient:t,persister:e,buster:r="",dehydrateOptions:n}){let i={buster:r,timestamp:Date.now(),clientState:ZO(t,n)};await e.persistClient(i)}o(c4e,"persistQueryClientSave");function u4e(t){let e=t.queryClient.getQueryCache().subscribe(n=>{a4e(n.type)&&c4e(t)}),r=t.queryClient.getMutationCache().subscribe(n=>{a4e(n.type)&&c4e(t)});return()=>{e(),r()}}o(u4e,"persistQueryClientSubscribe");m();g();var Jm=Ze(lo(),1);var XK=Ze(M0(),1);var Gpt=o(({children:t,persistOptions:e,onSuccess:r,onError:n,...i})=>{let[s,a]=Jm.useState(!0),c=Jm.useRef({persistOptions:e,onSuccess:r,onError:n}),l=Jm.useRef(!1);return Jm.useEffect(()=>{c.current={persistOptions:e,onSuccess:r,onError:n}}),Jm.useEffect(()=>{let h={...c.current.persistOptions,queryClient:i.client};return l.current||(l.current=!0,f4e(h).then(()=>c.current.onSuccess?.()).catch(()=>c.current.onError?.()).finally(()=>{a(!1)})),s?void 0:u4e(h)},[i.client,s]),(0,XK.jsx)(rN,{...i,children:(0,XK.jsx)(WK,{value:s,children:t})})},"PersistQueryClientProvider");m();g();m();g();var $pt=Ze(M0(),1),lN=Ze(lo(),1);var Wpt=lN.default.createContext(!1);function l4e(){return(0,lN.useContext)(Wpt)}o(l4e,"useIsInert");var d4e=Ze(lo());function ZK(t,e){let r=l4e(),n=(0,d4e.useMemo)(()=>{if(r){let i=t?.refetchInterval!==void 0&&t?.refetchInterval!==!1,s=t?.enabled===!1;if(i&&!s)return{...t,refetchInterval:!1}}return t},[r,t]);return YK(n,e)}o(ZK,"useQuery");m();g();var h4e="__STORAGE_RESET_KEY__",p4e=[Li.AuthEnabled,Li.BalanceHiddenStatus,Li.BuyFormValues,Li.CustomGasControls,Li.DappBrowserBookmarks,Li.DeviceId,Li.LatestCleanedStorageVersion,Li.LockTimerMs,Li.MaxWalletIndex,Li.OnboardingDone,Li.OwnerToHiddenMints,Li.PendingTransactions,Li.PriceMap,Li.UserExplorerPreferenceV2,Li.UserRecentAddresses,Li.UserSavedAddresses,Li.UserTrustedApps,Li.UserWhitelistSubdomains,Li.UserWhitelistedOrigins];var Ypt="Error processing storage data",Xpt="Error getting storage data",Zpt=["export-storage"],Jpt=o((t,e)=>{let r=[...p4e,...e];return ZK({queryKey:Zpt,queryFn:o(()=>Qpt(t,r),"queryFn"),gcTime:0,staleTime:0})},"useStorageExport"),Qpt=o(async(t,e)=>{try{let r={};for(let{key:n,storage:i}of t){let s=await i.getAll();r[n]=emt(s,e)}return r}catch(r){throw new Error(`${Xpt}: ${JSON.stringify(r)}`)}},"getStorageExport"),emt=o((t,e)=>{try{let r={};for(let n of e)t[n]&&(r[n]=t[n]);return r}catch(r){throw new Error(`${Ypt}: ${JSON.stringify(r)}`)}},"cleanUpStorageData");m();g();var R2=class{static{o(this,"StorageNotifierCache")}notifierCache=new Map;constructor(e){this.storage=e,e.subscribe(r=>{r===h4e?this.notifierCache.forEach(n=>{n.notify()}):this.getNotifier(r).notify()})}getNotifier(e){let r=this.notifierCache.get(e);return r||(r=g1(),this.notifierCache.set(e,r)),r}async get(e){return this.getNotifier(e).consume(),this.storage.get(e)}async set(e,r){await this.storage.set(e,r),this.getNotifier(e).notify()}},m4e=new WeakMap,B3=o(()=>{let t=TAe(),e=m4e.get(t);return e===void 0&&(e=new R2(t),m4e.set(t,e)),e},"useStorageSignalProxy");var tmt=bi(t=>B3().get(t));var rmt=bi(t=>{let e=B3();return jS(function*(r){return e.set(t,r)})});m();g();m();g();m();g();m();g();m();g();var iG=Ze(Ru()),x4e=Ze(Gh());m();g();m();g();m();g();var nmt=o((t,e,r)=>t&e^~t&r,"Chi"),imt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),omt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),eg=new Uint32Array(64),dN=class extends Lx{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=Qm[0]|0,this.B=Qm[1]|0,this.C=Qm[2]|0,this.D=Qm[3]|0,this.E=Qm[4]|0,this.F=Qm[5]|0,this.G=Qm[6]|0,this.H=Qm[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let p=0;p<16;p++,r+=4)eg[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let E=eg[p-15],I=eg[p-2],O=Yu(E,7)^Yu(E,18)^E>>>3,N=Yu(I,17)^Yu(I,19)^I>>>10;eg[p]=N+eg[p-7]+O+eg[p-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let p=0;p<64;p++){let E=Yu(c,6)^Yu(c,11)^Yu(c,25),I=y+E+nmt(c,l,h)+omt[p]+eg[p]|0,N=(Yu(n,2)^Yu(n,13)^Yu(n,22))+imt(n,i,s)|0;y=h,h=l,l=c,c=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){eg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},JK=class extends dN{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},QK=cd(()=>new dN),Yqr=cd(()=>new JK);m();g();function smt(t,e,r,n){Un.hash(t);let i=MI({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:c}=i;if(Un.number(s),Un.number(a),Un.number(c),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=Xu(e),h=Xu(r),y=new Uint8Array(a),p=Ph.create(t,l),E=p._cloneInto().update(h);return{c:s,dkLen:a,asyncTick:c,DK:y,PRF:p,PRFSalt:E}}o(smt,"pbkdf2Init");function amt(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}o(amt,"pbkdf2Output");function eG(t,e,r,n){let{c:i,dkLen:s,DK:a,PRF:c,PRFSalt:l}=smt(t,e,r,n),h,y=new Uint8Array(4),p=Px(y),E=new Uint8Array(c.outputLen);for(let I=1,O=0;O<s;I++,O+=c.outputLen){let N=a.subarray(O,O+c.outputLen);p.setInt32(0,I,!1),(h=l._cloneInto(h)).update(y).digestInto(E),N.set(E.subarray(0,N.length));for(let k=1;k<i;k++){c._cloneInto(h).update(E).digestInto(E);for(let C=0;C<N.length;C++)N[C]^=E[C]}}return amt(c,l,a,h,E)}o(eG,"pbkdf2");var gn=o((t,e)=>t<<e|t>>>32-e,"rotl");function g4e(t,e,r,n,i,s){let a=t[e++]^r[n++],c=t[e++]^r[n++],l=t[e++]^r[n++],h=t[e++]^r[n++],y=t[e++]^r[n++],p=t[e++]^r[n++],E=t[e++]^r[n++],I=t[e++]^r[n++],O=t[e++]^r[n++],N=t[e++]^r[n++],k=t[e++]^r[n++],C=t[e++]^r[n++],L=t[e++]^r[n++],M=t[e++]^r[n++],P=t[e++]^r[n++],H=t[e++]^r[n++],F=a,J=c,W=l,X=h,S=y,f=p,d=E,b=I,x=O,_=N,A=k,T=C,v=L,u=M,w=P,V=H;for(let q=0;q<8;q+=2)S^=gn(F+v|0,7),x^=gn(S+F|0,9),v^=gn(x+S|0,13),F^=gn(v+x|0,18),_^=gn(f+J|0,7),u^=gn(_+f|0,9),J^=gn(u+_|0,13),f^=gn(J+u|0,18),w^=gn(A+d|0,7),W^=gn(w+A|0,9),d^=gn(W+w|0,13),A^=gn(d+W|0,18),X^=gn(V+T|0,7),b^=gn(X+V|0,9),T^=gn(b+X|0,13),V^=gn(T+b|0,18),J^=gn(F+X|0,7),W^=gn(J+F|0,9),X^=gn(W+J|0,13),F^=gn(X+W|0,18),d^=gn(f+S|0,7),b^=gn(d+f|0,9),S^=gn(b+d|0,13),f^=gn(S+b|0,18),T^=gn(A+_|0,7),x^=gn(T+A|0,9),_^=gn(x+T|0,13),A^=gn(_+x|0,18),v^=gn(V+w|0,7),u^=gn(v+V|0,9),w^=gn(u+v|0,13),V^=gn(w+u|0,18);i[s++]=a+F|0,i[s++]=c+J|0,i[s++]=l+W|0,i[s++]=h+X|0,i[s++]=y+S|0,i[s++]=p+f|0,i[s++]=E+d|0,i[s++]=I+b|0,i[s++]=O+x|0,i[s++]=N+_|0,i[s++]=k+A|0,i[s++]=C+T|0,i[s++]=L+v|0,i[s++]=M+u|0,i[s++]=P+w|0,i[s++]=H+V|0}o(g4e,"XorAndSalsa");function tG(t,e,r,n,i){let s=n+0,a=n+16*i;for(let c=0;c<16;c++)r[a+c]=t[e+(2*i-1)*16+c];for(let c=0;c<i;c++,s+=16,e+=16)g4e(r,a,t,e,r,s),c>0&&(a+=16),g4e(r,s,t,e+=16,r,a)}o(tG,"BlockMix");function cmt(t,e,r){let n=MI({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:s,p:a,dkLen:c,asyncTick:l,maxmem:h,onProgress:y}=n;if(Un.number(i),Un.number(s),Un.number(a),Un.number(c),Un.number(l),Un.number(h),y!==void 0&&typeof y!="function")throw new Error("progressCb should be function");let p=128*s,E=p/4;if(i<=1||i&i-1||i>=2**(p/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/p)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let I=p*(i+a);if(I>h)throw new Error(`Scrypt: parameters too large, ${I} (128 * r * (N + p)) > ${h} (maxmem)`);let O=eG(QK,t,e,{c:1,dkLen:p*a}),N=Bx(O),k=Bx(new Uint8Array(p*i)),C=Bx(new Uint8Array(p)),L=o(()=>{},"blockMixCb");if(y){let M=2*i*a,P=Math.max(Math.floor(M/1e4),1),H=0;L=o(()=>{H++,y&&(!(H%P)||H===M)&&y(H/M)},"blockMixCb")}return{N:i,r:s,p:a,dkLen:c,blockSize32:E,V:k,B32:N,B:O,tmp:C,blockMixCb:L,asyncTick:l}}o(cmt,"scryptInit");function fmt(t,e,r,n,i){let s=eG(QK,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),s}o(fmt,"scryptOutput");async function y4e(t,e,r){let{N:n,r:i,p:s,dkLen:a,blockSize32:c,V:l,B32:h,B:y,tmp:p,blockMixCb:E,asyncTick:I}=cmt(t,e,r);for(let O=0;O<s;O++){let N=c*O;for(let C=0;C<c;C++)l[C]=h[N+C];let k=0;await NI(n-1,I,C=>{tG(l,k,l,k+=c,i),E()}),tG(l,(n-1)*c,h,N,i),E(),await NI(n,I,C=>{let L=h[N+c-16]%n;for(let M=0;M<c;M++)p[M]=h[N+M]^l[L*c+M];tG(p,0,h,N,i),E()})}return fmt(t,a,y,l,p)}o(y4e,"scryptAsync");var rG=Ze(Ru()),b4e=Ze(y5()),nG=Ze(Gh());var hN=o(async(t,e)=>{switch(e.kdf){case"scrypt":return Buffer.from(await y4e(t,rG.default.decode(e.salt),{N:2**12,r:8,p:1,dkLen:nG.secretbox.keyLength}));case"pbkdf2":return new Promise((r,n)=>(0,b4e.pbkdf2)(t,rG.default.decode(e.salt),e.iterations,nG.secretbox.keyLength,e.digest,(i,s)=>i?n(i):r(s)))}throw new Error(`Unable to derive encryption key: ${e.kdf}`)},"deriveEncryptionKeyAsync");var oG=o(async(t,e)=>{let r=x4e.secretbox.open(iG.default.decode(t.encrypted),iG.default.decode(t.nonce),await hN(e,t));if(!r)throw new Error("Unable to open secretbox: Incorrect Password");return r},"openSecretBoxAsync");async function O2(t,e){try{return await oG(t,e)}catch{let r=Buffer.from(e).toString("utf-8"),n=Buffer.from(r),i=await oG(t,n);return i&&rr.addBreadcrumb(Je.Storage,"DecryptEncryptedText: Legacy decryption successful \u2705",It.Info),i}}o(O2,"decryptEncryptedTextAsync");m();g();var P3=Ze(Ru()),N2=Ze(Gh());var M2=o(async(t,e)=>{let r={kdf:"scrypt",salt:P3.default.encode((0,N2.randomBytes)(16)),nonce:P3.default.encode((0,N2.randomBytes)(N2.secretbox.nonceLength)),iterations:1e4,digest:"sha256"},n=await hN(e,r),i=(0,N2.secretbox)(t,P3.default.decode(r.nonce),n);return{...r,encrypted:P3.default.encode(i)}},"generateEncryptedText");m();g();async function pN(t,e){return M2(Buffer.from(t),e)}o(pN,"generateEncryptedTextAsync");m();g();var sG=be.object({encrypted:be.string(),nonce:be.string(),kdf:be.string(),salt:be.string(),iterations:be.number(),digest:be.string()});var v4e=be.object({version:be.literal(1),content:sG}),Bc;(function(t){t.Plain="plain",t.Secure="secure"})(Bc||(Bc={}));var aG=class{static{o(this,"EncryptedStorage")}storage;storageEncryptionKeyManager;static fromStorage(e,r){return new this({store:e,type:Bc.Plain},r)}static fromSecureStorage(e,r){return new this({store:e,type:Bc.Secure},r)}constructor(e,r){this.storage=e,this.storageEncryptionKeyManager=r}async rotateEncryptionKey(e){return this.storageEncryptionKeyManager.rotateEncryptionKey(async(r,n)=>{let i=await this.getAllSecureValues(),s={};for(let[a,c]of Object.entries(i)){let l=await this.encrypt(c,r);s[a]=l}return n(s,e)})}async getSecureValue(e){let r;switch(this.storage.type){case Bc.Plain:{r=await this.storage.store.get(e);break}case Bc.Secure:{r=await this.storage.store.getSecureValue(e);break}}return r?this.decrypt(r):null}async getAllSecureValues(e){let r={},n;switch(this.storage.type){case Bc.Plain:{n=await this.storage.store.getAll(e);break}case Bc.Secure:{n=await this.storage.store.getAllSecureValues(e);break}}for(let[i,s]of Object.entries(n)){let a=v4e.safeParse(s);if(a.success){let c=await this.decrypt(a.data);r[i]=c}}return r}async removeSecureValue(e){switch(this.storage.type){case Bc.Plain:{await this.storage.store.remove(e);break}case Bc.Secure:{await this.storage.store.removeSecureValue(e);break}}}async setSecureValue(e,r){let n=await this.encrypt(r);switch(this.storage.type){case Bc.Plain:{await this.storage.store.set(e,n);break}case Bc.Secure:{await this.storage.store.setSecureValue(e,n);break}}}async setAllSecureValues(e){let r={};for(let[n,i]of Object.entries(e)){let s=await this.encrypt(i);r[n]=s}switch(this.storage.type){case Bc.Plain:{await this.storage.store.setAll(r);break}case Bc.Secure:{await this.storage.store.setAllSecureValues(r);break}}}async encrypt(e,r){let n=JSON.stringify(e),i=r??await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!i)throw new Error("[EncryptedStorage.encrypt] Failed to get valid encryption key");return{version:1,content:await i.foldAsync(a=>pN(n,a))}}async decrypt(e){let r=await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!r)throw new Error("[EncryptedStorage.decrypt] Failed to get valid encryption key");let n=await r.foldAsync(i=>O2(e.content,i));return JSON.parse(Buffer.from(n).toString())}};m();g();var _4e=Ze(Gh());var D3=class extends Error{static{o(this,"StorageEncryptionKeyErrorMissingPassword")}message="Failed to get the encryption password"},mN=class extends Error{static{o(this,"StorageEncryptionKeyErrorPasswordNeverSet")}message="Failed to update password that has never been set"},cG=class extends Error{static{o(this,"StorageEncryptionKeyErrorInvalidPassword")}message="Failed to decrypt using the password"},L3=".phantom-labs.encryption.encryptionKey",fG=class{static{o(this,"MiddleEncryptionKeyManager")}tempEncryptionKey;encryptionKey;deps;constructor(e){this.deps=e,this.encryptionKey=null,this.tempEncryptionKey=null}async getDeviceEncryptionKey(){let e=await this.fetchAndDecryptExistingKey();return e?Kf.from(e):(this.tempEncryptionKey||(this.tempEncryptionKey=Kf.from(this.randomEncryptionKey())),this.tempEncryptionKey)}async persistDeviceEncryptionKey(){if(await this.hasPersistedDeviceEncryptionKey())return!0;this.tempEncryptionKey||(this.tempEncryptionKey=Kf.from(this.randomEncryptionKey()));let e=this.tempEncryptionKey,r=this.getPassword(),n=o(async s=>await this.encrypt(s,r),"encryptionCallback"),i=await e.foldAsync(n);return await this.saveExistingKey(i),this.encryptionKey=i,this.tempEncryptionKey=null,!0}async hasPersistedDeviceEncryptionKey(){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),!!this.encryptionKey}async deletePersistedDeviceEncryptionKey(){return this.encryptionKey=null,this.deleteExistingKey().then(()=>!0).catch(()=>!1)}async updatePassword(e){if(!this.deps.getPassword())throw new D3;let n=await this.fetchAndDecryptExistingKey();if(!n)throw new mN;let i=await this.encrypt(n,e);await this.saveExistingKey(i),this.encryptionKey=i}async rotateEncryptionKey(e){let r=this.deps.getPassword();if(!r)throw new D3;if(!await this.fetchAndDecryptExistingKey())throw new mN;let i=Kf.from(this.randomEncryptionKey());return e(i,async(s,a)=>{let c=a??r,l=await i.foldAsync(h=>this.encrypt(h,c));return await this.saveExistingKey(l,s),this.encryptionKey=l,this.tempEncryptionKey=null,!0})}async verifyPassword(e){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey?!!await this.decrypt(this.encryptionKey,e).catch(()=>!1):(rr.addBreadcrumb(Je.Storage,"Failed to get existing encryption key!",It.Info),!1)}async fetchAndDecryptExistingKey(){if(this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey){let e=this.getPassword();return this.decrypt(this.encryptionKey,e)}return rr.addBreadcrumb(Je.Storage,"Failed to get existing encryption key!",It.Info),null}getPassword(){let e=this.deps.getPassword();if(!e)throw new D3;return e}async fetchExistingKey(){return this.deps.storage.get(L3)}async saveExistingKey(e,r){if(r){let n={...r,[L3]:e};return this.deps.storage.setAll(n)}else return this.deps.storage.set(L3,e)}async deleteExistingKey(){return this.deps.storage.remove(L3)}randomEncryptionKey(){return(0,_4e.randomBytes)(32)}async encrypt(e,r){return r.foldAsync(n=>M2(e,n)).then(n=>({version:1,encryptedKey:n}))}async decrypt(e,r){return r.foldAsync(n=>O2(e.encryptedKey,n)).catch(()=>{throw new cG})}};m();g();m();g();m();g();m();g();m();g();var w4e=null;function umt(t){w4e=t}o(umt,"registerRequestAnonymousId");function E4e(){return w4e}o(E4e,"getCachedAnonymousId");function S4e(t){let e=E4e();if(e){let r=new Headers(t);return r.set("X-Phantom-AnonymousId",e),r}return t}o(S4e,"withAnonymousId");m();g();var uG=null;function lmt(t){uG=t}o(lmt,"registerFetchBearerToken");async function N1(t){if(!uG)throw new Error("No fetch bearer token function registered. Register one with registerFetchBearerToken().");return await uG(t)}o(N1,"getBearerToken");m();g();m();g();function A4e(...t){let e=new AbortController;for(let r of t){let n=r instanceof AbortController?r.signal:r;if(n?.aborted)return e.abort(n.reason),e.signal;n?.addEventListener("abort",()=>{e.abort(n.reason)},{once:!0})}return e.signal}o(A4e,"mergeSignals");var dmt=2*60*1e3,hmt=[];function I4e(t,e){let{fetchTimeout:r,retryDelays:n,retryOnAuthTokenExpiration:i,onAuthRetry:s,...a}=e||{},c=e?.fetchTimeout??dmt,l=e?.retryDelays??hmt,h=0,y=0,p=a;return new Promise((E,I)=>{function O(){h++,y=Date.now();let C=!0,L=new AbortController,M=fetch(t,{...p,signal:A4e(...a.signal?[a.signal,L.signal]:[L.signal])}),P=setTimeout(()=>{L.abort(),C=!1,k(h)?N():I(new Error(`fetchWithTimeoutAndRetry(): Failed to get response from server due to timeout of ${c} ms, tried ${h} times.`))},c);M.then(H=>{clearTimeout(P),C&&(H.status>=200&&H.status<300?E(H):k(h,H.status)?H.status===401&&i&&s?s(p).then(F=>{p=F,N()}).catch(F=>{I(F)}):N():E(H))}).catch(H=>{clearTimeout(P),k(h)?N():I(H)})}o(O,"sendTimedRequest");function N(){let C=l[h-1],L=y+C;setTimeout(O,Math.max(L-Date.now(),0))}o(N,"retryRequest");function k(C,L){if(L===401&&i)return C<=l.length;let M=L?L>=400&&L<=499:!1;return C<=l.length&&!M}o(k,"shouldRetry"),O()})}o(I4e,"fetchWithTimeoutAndRetry");m();g();var U3=o((t={},e={})=>{let r=new Headers(t),n=new Headers(e);for(let[i,s]of n.entries())s===void 0||s==="undefined"?r.delete(i):r.set(i,s);return r},"mergeHeaders");m();g();var B2=Ze(fi(),1);m();g();m();g();function T4e(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(T4e,"number");function lG(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(lG,"bytes");function R4e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");T4e(t.outputLen),T4e(t.blockLen)}o(R4e,"hash");function C2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(C2,"exists");function O4e(t,e){lG(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(O4e,"output");m();g();var pmt=o(t=>t instanceof Uint8Array,"u8a");var gN=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),_l=o((t,e)=>t<<32-e|t>>>e,"rotr"),mmt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!mmt)throw new Error("Non little-endian hardware is not supported");function gmt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(gmt,"utf8ToBytes");function F3(t){if(typeof t=="string"&&(t=gmt(t)),!pmt(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(F3,"toBytes");var k2=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},Xjr={}.toString;function N4e(t){let e=o(n=>t().update(F3(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(N4e,"wrapConstructor");var yN=class extends k2{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,R4e(e);let n=F3(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return C2(this),this.iHash.update(e),this}digestInto(e){C2(this),lG(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},dG=o((t,e,r)=>new yN(t,e).update(r).digest(),"hmac");dG.create=(t,e)=>new yN(t,e);m();g();m();g();function ymt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(ymt,"setBigUint64");var bN=class extends k2{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gN(this.buffer)}update(e){C2(this);let{view:r,buffer:n,blockLen:i}=this;e=F3(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=gN(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){C2(this),O4e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let p=a;p<i;p++)r[p]=0;ymt(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=gN(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var bmt=o((t,e,r)=>t&e^~t&r,"Chi"),xmt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),vmt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rg=new Uint32Array(64),hG=class extends bN{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=tg[0]|0,this.B=tg[1]|0,this.C=tg[2]|0,this.D=tg[3]|0,this.E=tg[4]|0,this.F=tg[5]|0,this.G=tg[6]|0,this.H=tg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let p=0;p<16;p++,r+=4)rg[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let E=rg[p-15],I=rg[p-2],O=_l(E,7)^_l(E,18)^E>>>3,N=_l(I,17)^_l(I,19)^I>>>10;rg[p]=N+rg[p-7]+O+rg[p-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let p=0;p<64;p++){let E=_l(c,6)^_l(c,11)^_l(c,25),I=y+E+bmt(c,l,h)+vmt[p]+rg[p]|0,N=(_l(n,2)^_l(n,13)^_l(n,22))+xmt(n,i,s)|0;y=h,h=l,l=c,c=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){rg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var M4e=N4e(()=>new hG);var _mt=[86,120,48,81,89,86,110,49,100,114,111,113,49,70,56,84,77,115,80,81,66,75,72,51,90,83,110,100,110,116,68,88,107,118,83,53,102,80,114,89,111,88,85,75,57,43,67,57,97,103,74,113,68,76,112,112,100,48,102,101,80,122,83,111,108,113,75,90,56,114,66,70,119,87,84,104,98,57,110,119,43,79,70,51,51,65,61,61],wmt=[87,67,49,81,97,71,70,117,100,71,57,116,81,88,86,48,97,70,82,118,97,50,86,117],Emt=[87,67,49,81,97,71,70,117,100,71,57,116,84,109,57,117,89,50,85,61];function Smt(t){let e=new URL(t);return e.pathname+e.search}o(Smt,"getPathAndQuery");function pG(t,e){let r=Smt(t),n=JSON.stringify(Math.floor(Date.now()/1e3)),i=r+n,s=dG(M4e,B2.Buffer.from(String.fromCharCode(..._mt)),B2.Buffer.from(i)),a=new Headers(e);return a.set(B2.Buffer.from(String.fromCharCode(...wmt),"base64").toString(),encodeURIComponent(B2.Buffer.from(s).toString("base64"))),a.set(B2.Buffer.from(String.fromCharCode(...Emt),"base64").toString(),n),a}o(pG,"withAuthHeaders");var L2=class extends Error{static{o(this,"RequestBuilderError")}constructor(e,r){super(e),this.response=r}response},Amt={"X-Phantom-Version":b_,"X-Phantom-Platform":cX};function Imt(t){return t===new URL(ub.Production).hostname||t===new URL(ub.Staging).hostname||t===new URL($C.prod).hostname||t===new URL($C.staging).hostname?!0:t.endsWith(".phantom.app")}o(Imt,"isPhantomDomain");var P2=o(async t=>{let e,r;try{r=await t.clone().blob()}catch{}try{e=await t.clone().json()}catch{}let{status:n,statusText:i}=t;return{blob:r,data:e,status:n,statusText:i}},"makeResponse"),xN=class t{static{o(this,"RequestBuilder")}config;constructor(e={}){this.config={withClientAuth:!0,numRetries:0,delayBetweenEachRetryMs:0,timeoutMs:null,validateStatus:!1,headers:Amt,withApiEnvironment:"none",fetchBearerToken:void 0,...e}}fetch=o(async(e,r={})=>{try{if(typeof e=="function"){let h=WC()===ub.Production?"prod":"staging";e=e({apiEnv:h})}let n="";this.config.withApiEnvironment==="prod"?n=ub.Production:this.config.withApiEnvironment==="staging"?n=ub.Staging:this.config.withApiEnvironment==="default"?n=WC():this.config.withApiEnvironment==="custom"&&this.config.customApiEnv&&(n=this.config.customApiEnv);let i=new URL(`${n}${e}`);r?.params&&(i.search=new URLSearchParams(r.params).toString()),r.headers=U3(this.config.headers,r.headers),r.headers=S4e(r.headers),this.config.withClientAuth&&(r.headers=pG(i.toString(),r.headers));let s={...r,onAuthRetry:o(async h=>{let y=await N1({refresh:!0});if(y){let p=new Headers(h.headers);return p.set("authorization",`Bearer ${y}`),{...h,headers:p}}return h},"onAuthRetry")},a=this.config.validateStatus;if(r?.validateStatus!==void 0&&(a=r?.validateStatus),s.body&&typeof s.body!="string"){s.body=JSON.stringify(s.body);let h=new Headers(s.headers);h.has("Content-Type")||(h.set("Content-Type","application/json"),s.headers=h)}this.config.timeoutMs&&(s.fetchTimeout=this.config.timeoutMs),this.config.numRetries&&(s.retryDelays=Array(this.config.numRetries).fill(this.config.delayBetweenEachRetryMs));let c=this.config.fetchBearerToken;if(c===void 0){let h=this.config.withApiEnvironment!=="none";c=Imt(i.hostname)||h}if(c){let h=await N1({skipAutoLogin:!0});h&&(s.retryOnAuthTokenExpiration=!0,s.headers=U3(s.headers,{authorization:`Bearer ${h}`}))}let l=await I4e(i.toString(),s);if(a&&!l.ok)throw new L2(`Request failed with status code ${l.status}`,await P2(l));return l}catch(n){throw n instanceof L2?n:new L2(n?.message,n?.response)}},"fetch");auth(e){return new t({...this.config,withClientAuth:e})}bearer(e){return typeof e=="string"&&e?this.headers({authorization:`Bearer ${e}`}):typeof e=="boolean"&&e?new t({...this.config,validateStatus:!0,fetchBearerToken:!0,numRetries:1}):this}noBearer(){return new t({...this.config,fetchBearerToken:!1})}headers(e,r){let n=r?.mergeHeaders===!1?e:U3(this.config.headers,e);return new t({...this.config,headers:n})}timeout(e){return new t({...this.config,timeoutMs:e})}retry(e,r){return new t({...this.config,numRetries:e,delayBetweenEachRetryMs:r})}validateStatus(e){return new t({...this.config,validateStatus:e})}api(e="default",r){return new t({...this.config,withApiEnvironment:e,customApiEnv:e==="custom"?r:void 0})}async get(e,r={}){r.method="GET";let n=await this.fetch(e,r);return P2(n)}async post(e,r,n={}){n.method="POST";let i=await this.fetch(e,{...n,body:r});return P2(i)}async put(e,r,n={}){n.method="PUT";let i=await this.fetch(e,{...n,body:r});return P2(i)}async patch(e,r,n={}){n.method="PATCH";let i=await this.fetch(e,{...n,body:r});return P2(i)}async delete(e,r,n={}){n.method="DELETE";let i=await this.fetch(e,{...n,body:r});return P2(i)}},Xd=new xN;function Tmt(t){if(t===void 0)throw new Error("rpcUrl undefined");return async(e,r)=>{let n={jsonrpc:"2.0",id:+new Date,method:e,params:r},s=(await Xd.post(t,n)).data;if("error"in s)throw new Error(JSON.stringify(s.error));return s.result}}o(Tmt,"getFetchFunc");async function Rmt(t,e={}){return Xd.fetch(t,e)}o(Rmt,"rpcNodeFetchFn");function ng(t){return t.status>199&&t.status<400}o(ng,"responseIsOkay");function Omt(t){return t instanceof L2}o(Omt,"isRequestBuilderError");m();g();var vN=o((t,e)=>`/user/v1/users/${t}/wallet-storage${e?`/${encodeURIComponent(e)}`:""}`,"syncedStorageEndpoint");m();g();m();g();function M1(){return(t,e)=>e??t}o(M1,"REMOTE_OVER_LOCAL");var C4e=o(async({storage:t,keyRegistry:e,allRemoteData:r})=>{let i=Object.keys(r).filter(a=>Object.prototype.hasOwnProperty.call(e,a)),s=await t.getAll();try{await t.setAll(i.reduce((a,c)=>{let l=s[c],h=r[c];if(h!=null){let{resolver:y=M1}=e[c];a[c]=y(l,h)}return a},{})).then(()=>{rr.addBreadcrumb(Je.Storage,"\u2705 Synced remote data to disk!",It.Info)})}catch{try{for(let c of i){let l=s[c],h=r[c];if(h==null)continue;let{resolver:y=M1}=e[c];await t.set(c,y(l,h)).then(()=>{rr.addBreadcrumb(Je.Storage,`\u2705 Synced remote data to disk: ${c}`,It.Info)}).catch(p=>{rr.addBreadcrumb(Je.Storage,`\u274C Failed to sync remote data to disk: ${c} => Error: ${p}`,It.Info)})}}catch(c){rr.addBreadcrumb(Je.Storage,`\u274C Failed to sync remote data to disk: ${c}`,It.Info)}}},"persistRemoteStorageToDisk");var mG=2,gG=500,H3=class t{static{o(this,"SyncedStorage")}static#t;#e;#r={};#n={};#i=null;#s=null;#a;#o=null;#c=!1;constructor({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s}){this.#e=e,this.#n=r,this.#s=n,this.#i=i,this.#a=s}static getInstance({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s}){return this.#t||(this.#t=new t({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s})),this.#t}clear(){this.#o=null,this.#r={},this.#c=!1,rr.addBreadcrumb(Je.Storage,"\u{1F5D1}\uFE0F  Legacy synced storage: Cleared!",It.Info)}async hydrateIfNeeded(e=!0){if(F6())return;if(!this.#s||!this.#e||!this.#n)return rr.addBreadcrumb(Je.Storage,"\u{1F7E0} Legacy synced storage: Not initialized!",It.Info);let r=await this.#a();if(r.status!=="done")return rr.addBreadcrumb(Je.Storage,`\u{1F7E0} Legacy synced storage: Not onboarded (status: ${r.status})`,It.Info);try{let n=await this.#s.getUser({skipAutoLogin:!0});if(!n)return rr.addBreadcrumb(Je.Storage,"\u{1F7E0} Legacy synced storage: No user found",It.Info);if(n?.userID===this.#o)return;this.#o=n.userID;let i=await this.syncFromCloud();if(i){rr.addBreadcrumb(Je.Storage,"\u2705 Legacy synced storage: Found!",It.Info),this.#r=i,e&&(await C4e({storage:this.#e,keyRegistry:this.#n,allRemoteData:i}),this.#c=!0);let s=Object.values(this.#n).map(a=>a.queryKey).flat();await this.#i?.invalidateQueries({queryKey:s})}}catch(n){rr.captureError(new Error(`\u274C Legacy synced storage: Failed to initialize: ${n}`),Je.Storage)}}async syncFromCloud(e){if(this.#o)try{let r=vN(this.#o,e),n=await Xd.api().bearer(!0).retry(mG,gG).get(r);if(ng(n))return n.data;rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync from cloud: ${JSON.stringify(n)}`,It.Info)}catch(r){rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync from cloud: ${JSON.stringify(r)}`,It.Info)}}async syncToCloud(e,r){if(this.#r[e]=r,!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return!1;try{let n=vN(this.#o,e),i=await Xd.api().bearer(!0).retry(mG,gG).put(n,{value:r});if(ng(i))return rr.addBreadcrumb(Je.Storage,`\u2705 Legacy synced storage: Synced to cloud: ${e}`,It.Info),!0;rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync to cloud: ${e} => Error: ${JSON.stringify(i)}`,It.Info)}catch(n){rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync to cloud: ${JSON.stringify(n)}`,It.Info)}return!1}async removeFromCloud(e){if(delete this.#r[e],!this.#o)return!1;try{let r=vN(this.#o,e),n=await Xd.api().bearer(!0).retry(mG,gG).delete(r);if(ng(n))return rr.addBreadcrumb(Je.Storage,`\u2705 Legacy synced storage: Removed from cloud: ${e}`,It.Info),!0;rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to remove from cloud: ${e} => Error: ${JSON.stringify(n)}`,It.Info)}catch(r){rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to remove from cloud: ${JSON.stringify(r)}`,It.Info)}return!1}async get(e){let r=await this.#e.get(e);if(!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return r;let{resolver:n=M1,fetchLatestRemote:i=!1}=this.#n[e];if(!i&&this.#c)return r;let s=i?await this.syncFromCloud(e):this.#r[e];return n(r,s)}async getAll(e){return this.#e.getAll(e)}async remove(e){await this.#e.remove(e),Array.isArray(e)?Promise.all(e.map(r=>this.removeFromCloud(r))):this.removeFromCloud(e)}async set(e,r){await this.#e.set(e,r),this.syncToCloud(e,r)}async setAll(e){await this.#e.setAll(e),Promise.all(Object.entries(e).map(([r,n])=>this.syncToCloud(r,n)))}subscribe(e){return this.#e.subscribe(e)}async update(e,r){await this.#e.update(e,r);let n=await this.get(e);this.syncToCloud(e,n)}};m();g();var _N=o((t,e,r=M1(),n=!1)=>({[t]:{queryKey:e,resolver:r,fetchLatestRemote:n}}),"generateKeyRegistry");m();g();var k4e=new WeakMap,B4e=o(()=>{let t=B3(),e=BK();if(e instanceof H3){let r=k4e.get(e);return r===void 0&&(r=new R2(e),k4e.set(e,r)),r}return t},"useSyncedStorageSignalProxy"),Nmt=bi(t=>B4e().get(t)),Mmt=o(t=>za(Nmt,t),"useSyncedStorageValue"),Cmt=bi(t=>{let e=B4e();return jS(function*(r){return e.set(t,r)})}),kmt=o(t=>za(Cmt,t),"useSetSyncedStorageValue");m();g();var Bmt={[Mn.Monad.Mainnet]:1,[Mn.Monad.Testnet]:1,[Mn.Ethereum.Mainnet]:6,[Mn.Ethereum.Sepolia]:6,[Mn.Polygon.Mainnet]:128,[Mn.Polygon.Amoy]:128,[Mn.Base.Mainnet]:3,[Mn.Base.Sepolia]:3,[Mn.Arbitrum.Mainnet]:1,[Mn.Arbitrum.Sepolia]:1,[Mn.Hypercore.Mainnet]:1,[Mn.Hypercore.Testnet]:1,[Mn.Hyperevm.Mainnet]:1,[Mn.Hyperevm.Testnet]:1},Pmt={[Mn.Bitcoin.Mainnet]:1,[Mn.Bitcoin.Testnet]:1};var Lmt="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",Dmt=100;m();g();m();g();m();g();m();g();m();g();var wN=class{static{o(this,"MMKVStorage")}namespaces=new Map;constructor(e){this.options=e;let{namespaces:r}=this;for(let n of e.namespaces){if(r.has(n.key))throw new Error(`Duplicate namespace key: ${n.key}`);r.set(n.key,n),jj(n,this)}}async init(){return this._initPromise||(this._initPromise=this._init()),this._initPromise}async _init(){let e=this.options.backingStore,r=Array.from(this.namespaces.values());await e.init?.(r),await Promise.all(r.map(n=>n.init(e,this.options.initDeadline??500)))}getNamespace(e){let r=this.namespaces.get(e.key);if(!r)throw new Error(`Namespace ${e.key} not found, make sure it was passed to the MMKVStorage constructor`);return r}get(e,r){return this.getNamespace(e).get(r)}async set(e,r,n){return this.getNamespace(e).set(r,n)}async delete(e,r){return this.getNamespace(e).delete(r)}async sendEvent(e){await Promise.all(Array.from(this.namespaces.values()).map(r=>r.sendEvent(e)))}async reset(){for(let e of this.namespaces.values())e.reset();await this.options.backingStore.clear(),this._initPromise=void 0,await this.init()}},C1=m1(null);function yG(){let t=Lm(C1);if(!t)throw new Error("useMMKVStorage must be used within a ContextProvider with MMKVStorageContext set");return t}o(yG,"useMMKVStorage");var Umt=o(async t=>{let e=new wN({backingStore:t.backingStore,initDeadline:t.initDeadline,namespaces:t.namespaces});return Vj([[C1,e]]),await e.init(),P4e(),e},"initMMKVStorage"),P4e,Fmt=new Promise(t=>{P4e=t}),EN=o(async(t,e)=>(await Fmt,t(e)),"waitForMMKV");var Hmt=o(t=>{switch(t){case"boolean":return be.boolean();case"number":return be.number();case"string":return be.string();case"array":return be.array(be.any());default:return be.object({}).passthrough()}},"zodValidatorFromValue"),qmt=o((t,e)=>{let r=new Map;for(let n of e){let i=n.type;if(i===void 0){let a=typeof n.defaultValue;if(a!=="undefined"&&a!=="function")i=typeof n.defaultValue;else throw new Error(`Item ${n.key} has no type and no default value, or the default value is a function. You must provide a type for this item.`)}let s=n.validator??Hmt(i);n.nullable&&(s=s.nullish().default(null)),r.set(n.key,{...n,schema:t,type:i,validator:s,nullable:n.nullable??!1,updateOn:n.updateOn??"idle"})}return n=>{let i=r.get(n);if(!i)throw new Error(`Item ${n} not found in schema ${t}`);return i}},"createItemMap");function b0(t,e,r){let n=qmt(e,r),i=bi(c=>{let l=VS(C1);if(!l)throw new Error("MMKVStorage is not initialized");return l.get(t,n(c))}),s=bi(c=>{let l=VS(C1);return ao(h=>{if(!l)throw new Error("MMKVStorage is not initialized");return l.set(t,n(c),h)},0,[l,t,n,c])}),a=bi(function*(c){let l=VS(C1);if(!l)throw new Error("MMKVStorage is not initialized");return yield l.init(),l.get(t,n(c))});return[i,s,a]}o(b0,"defineMMKVSchema");m();g();var SN=o((t,e)=>{if(!t)throw new Error(e);return t},"expect"),bG=class t{static{o(this,"MMKVNamespace")}_stateFactorySignals=new Map;_removeStoreListener=void 0;onChangeCallbacks=[];localNotifier=g1();eventNotifiers={change:g1(),idle:g1()};constructor(e,r){this.key=e.key,this.disableCache=e.disableCache??!1,this.readonly=e.readonly??!1,this.disableRemoteUpdates=e.disableRemoteUpdates??!1,this._init=e.init??void 0,this._deps=r}get state(){return SN(this._state,`Namespace ${this.key} is not initialized`)}get hooks(){return SN(this._hooks,`Namespace ${this.key} is not initialized`)}get deps(){return SN(this._deps,`Namespace ${this.key} is not initialized`)}get store(){return SN(this._store,`Namespace ${this.key} is not initialized`)}withDeps(e){return new t({key:this.key,disableCache:this.disableCache,readonly:this.readonly,init:this._init},e)}onStoreChange=o(e=>{let{state:r}=this;if(r.remoteState=e.remoteState,this.onChangeCallbacks.forEach(n=>n(r.remoteState)),this.state.localVersion<e.localVersion)r.localVersion=e.localVersion,this.localNotifier.notify();else if(r.remoteVersion<e.remoteVersion){r.remoteVersion=e.remoteVersion;for(let[n,i]of Object.entries(r.eventVersions)){let s=e.eventVersions[n];i<s&&(r.eventVersions[n]=s,this.eventNotifiers[n].notify())}}},"onStoreChange");async init(e,r){this._state=e.getNamespace(this.key)??{localVersion:0,remoteVersion:0,remoteState:null,eventVersions:{change:0,idle:0}},this._store=e,this._removeStoreListener=e.onNamespaceChange?.(this.key,this.onStoreChange);let n={get:o(()=>this.state.remoteState,"get"),set:o(i=>{this.setRemoteState(i)},"set"),onChange:o(i=>{this.onChangeCallbacks.push(i)},"onChange")};this._hooks=await this._init?.(this.deps,n,r)??{},this._stateFactorySignals.clear(),this.localNotifier.notify()}getRemoteState(){return this.eventNotifiers.change.consume(),this.state.remoteState}setRemoteState(e){this.state.remoteState=e,this.state.remoteVersion++,this.sendEvent("change")}updateRemoteState(e){this.setRemoteState(e(this.state.remoteState))}getState(e){let r=this._stateFactorySignals.get(e);return r===void 0&&(r=$j(()=>{let n=this.store.getItem(this.key,e.schema,e.key)??{value:null,version:-1},i=this.disableRemoteUpdates,s=e.updateOn,a=i?0:this.state.eventVersions[s],c=i?void 0:this.eventNotifiers[s];if(n.version<a||this.disableCache){if(this.hooks.getValue){n.value=this.hooks.getValue(e,n.value);let l=e.validator.safeParse(n.value);n.value=l.success?l.data:null}n.value===null&&(n.value=typeof e.defaultValue=="function"?e.defaultValue():e.defaultValue??null),n.version=a,this.store.setItem(this.key,e.schema,e.key,n)}if(n.value===null&&!e.nullable)throw new Error(`MMKVStorage: Item ${e.key} on namespace ${this.key} is not nullable and has no default value`);return c?.consume(),this.localNotifier.consume(),km(n.value)}),this._stateFactorySignals.set(e,r)),r.value}get=Gj(this,e=>this.getState(e).value);async set(e,r){if(this.readonly)throw new Error(`Cannot set value on read-only namespace: ${this.key}`);let n=e.validator.parse(r),i=this.getState(e),s=await this.hooks.setValue?.(e,i.value,n)??n;i.value=s,await this.store.setItem(this.key,e.schema,e.key,{value:s,version:this.state.remoteVersion}),this.state.localVersion++,await this.store.setNamespace(this.key,this.state)}async delete(e){if(this.readonly)throw new Error(`Cannot delete value on read-only namespace: ${this.key}`);await this.store.deleteItem(this.key,e.schema,e.key),this._stateFactorySignals.delete(e),this.state.localVersion++,await this.store.setNamespace(this.key,this.state),this.localNotifier.notify()}async sendEvent(e){this.state.eventVersions[e]!==this.state.remoteVersion&&(this.state.eventVersions[e]=this.state.remoteVersion,this.eventNotifiers[e].notify(),await this.store.setNamespace(this.key,this.state))}async invalidate(){let r=this.state.remoteVersion+1;this.state.eventVersions.change=r,this.state.eventVersions.idle=r,this.state.remoteVersion=r,this.eventNotifiers.change.notify(),this.eventNotifiers.idle.notify(),await this.store.setNamespace(this.key,this.state)}reset(){this._hooks?.destroy?.(),this._removeStoreListener?.(),this._removeStoreListener=void 0,this.onChangeCallbacks=[]}};function k1(t){return new bG(t)}o(k1,"createMMKVNamespace");m();g();m();g();var AN=o(async(t,e)=>{let r={};if(!t||!e||e.length===0)return r;let n=new Set;for(let i of e)for(let s of i.legacyKeys)n.add(s);if(n.size>0)try{let i=await t.getAll(Array.from(n));Object.assign(r,i)}catch(i){rr.captureError(new Error(`Failed to load legacy values for migration: ${JSON.stringify(i)}`),Je.Storage)}return r},"preloadLegacyValues"),D2=o((t,e)=>`${t}:${e}`,"getResolverKey"),IN=o((t,e,r)=>{if(!r||r.length===0)return null;let n=r.find(a=>D2(a.targetSchema,a.targetKey)===t);if(!n)return null;let i={},s=!1;for(let a of n.legacyKeys){let c=e[a];c!=null&&(i[a]=c,s=!0)}if(!s)return null;try{return n.migrate(i)}catch(a){return rr.captureError(new Error(`Failed to migrate from legacy storage: ${JSON.stringify(a)}`),Je.Storage),null}},"tryMigrateValue");var L4e=k1({key:"localStorage",disableRemoteUpdates:!0,init:o(async t=>{let{legacyStorage:e,migrations:r}=t,n=await AN(e,r);return{getValue:o((i,s)=>{let a=D2(i.schema,i.key);if(s===null&&e){let c=IN(a,n,r);if(c!==null)return rr.addBreadcrumb(Je.Storage,`\u{1F504} Migrated from legacy storage: ${i.key} (schema: ${i.schema})`,It.Info),c}return s},"getValue")}},"init")}),Vmt=o((t,e)=>b0(L4e,t,e),"defineLocalStorageItems");m();g();var D4e=o((t,e)=>{let r=e?`/${encodeURIComponent(e)}`:"";return`/user/v1/users/${t}/wallet-storage${r}`},"syncedStorageEndpoint"),U4e=2,F4e=500,jmt=IAe({minutes:5}),zmt=o(async(t,e)=>{try{if(!await N1({skipAutoLogin:!0}))return null;let n=D4e(t,e),i=await Xd.api().retry(U4e,F4e).get(n);if(ng(i))return i.data;rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to fetch from cloud - bad response: ${i}`,It.Info)}catch(r){rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to fetch from cloud - error: ${r}`,It.Info)}return null},"fetchFromCloud"),Kmt=o(async(t,e,r)=>{try{if(!await N1({skipAutoLogin:!0}))return!1;let i=D4e(t,e),s=await Xd.api().retry(U4e,F4e).put(i,{value:r});if(ng(s))return rr.addBreadcrumb(Je.Storage,`\u2705 MMKV synced storage: Synced to cloud: ${e}`,It.Info),!0;rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to sync to cloud: ${e} => Error: ${JSON.stringify(s)}`,It.Info)}catch(n){rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to sync to cloud: ${JSON.stringify(n)}`,It.Info)}return!1},"syncToCloud"),H4e=new Map,Gmt=o((t,e,r)=>{H4e.set(D2(t,e),r)},"registerResolver"),q4e=k1({key:"syncedStorage",init:o(async(t,e,r)=>{let{authRepository:n,pollingInterval:i=jmt,legacyStorage:s,migrations:a}=t,c=null,l=await AN(s,a),h=o(async()=>{if(!c)try{c=(await n.getUser({skipAutoLogin:!0}))?.userID??null}catch(E){rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Error fetching userID (skipAutoLogin=true): ${E}`,It.Info);return}if(!c)return;let p=await zmt(c);p&&(rr.addBreadcrumb(Je.Storage,"\u2705 MMKV synced storage: Fetched synced storage from cloud",It.Info),e.set(p))},"fetchAndUpdateRemoteState"),y=setInterval(()=>{h()},i);try{if(r>0){let p=new Promise(E=>{setTimeout(()=>{rr.addBreadcrumb(Je.Storage,`\u23F1\uFE0F MMKV synced storage: Initialization timed out after ${r}ms`,It.Info),E()},r)});await Promise.race([h(),p])}else rr.addBreadcrumb(Je.Storage,"\u23F1\uFE0F MMKV synced storage: Initialization skipped - deadline is 0 or negative",It.Info)}catch(p){rr.captureError(new Error(`\u274C MMKV synced storage: Failed to initialize: ${p}`),Je.Storage)}return{getValue:o((p,E)=>{let O=e.get()?.[p.key]??null,N=D2(p.schema,p.key),k=H4e.get(N),C=null;if(k?C=k(E,O):C=O??E,C===null&&s){let L=IN(N,l,a);if(L!==null)return rr.addBreadcrumb(Je.Storage,`\u{1F504} MMKV synced storage: Migrated from legacy storage: ${p.key} (schema: ${p.schema})`,It.Info),L}return C},"getValue"),setValue:o(async(p,E,I)=>(c&&Kmt(c,p.key,I),I),"setValue"),destroy:o(()=>{clearInterval(y)},"destroy")}},"init")}),xG=o((t,e)=>{for(let r of e)r.resolver&&Gmt(t,r.key,r.resolver);return b0(q4e,t,e)},"defineSyncedStorageItems");m();g();var TN=class{static{o(this,"EppoAssignmentLogger")}analytics;constructor(e){this.analytics=e}logAssignment(e){try{let{allocation:r,experiment:n,featureFlag:i,variation:s,subject:a,subjectAttributes:c}=e,{holdoutKey:l,holdoutVariation:h}=$mt(e);if(r!==null&&s!==null&&n!==null){let p={allocation:r,experiment:n,featureFlag:i,variation:s,subject:a,timestamp:new Date().toISOString(),subjectAttributes:c,...l&&{holdoutKey:l},...h&&{holdoutVariation:h}};this.analytics.capture("eppoRandomizationEvent",{data:{distinctId:a,properties:p}})}}catch(r){console.warn("EppoAssignmentLogger: Failed to log assignment event",r)}}};function $mt(t){let e,r;return t.holdout&&typeof t.holdout=="string"&&(e=t.holdout??void 0),t.holdout_variation&&typeof t.holdout_variation=="string"&&(r=t.holdout_variation??void 0),{holdoutKey:e,holdoutVariation:r}}o($mt,"parseHoldoutLogging");m();g();var vM=Ze(XIe(),1);var Lxt="eppo-phantom",Dxt="0.0.1",Uxt="https://eppo-proxy.phantom.app/api",iW=class extends vM.MemoryOnlyConfigurationStore{static{o(this,"PhantomStorageFlagConfigurationStore")}state;constructor(e){super(),this.state=e;let r=this.state.get();r&&super.setEntries(r),this.state.onChange(n=>{super.setEntries(n)})}setEntries(e){return this.state.set(e),super.setEntries(e)}},xM=null;async function Fxt({apiKey:t,pollingEnabled:e,state:r,logTelemetry:n,initDeadline:i,pollingIntervalMs:s}){let a=new iW(r),c=new vM.EppoClient({flagConfigurationStore:a}),l={apiKey:t,sdkName:Lxt,sdkVersion:Dxt,baseUrl:Uxt,pollAfterSuccessfulInitialization:e,pollAfterFailedInitialization:e,pollingIntervalMs:s};c.setConfigurationRequestParameters(l);let h=performance.now();n?.("Eppo: Initializing Eppo provider ..."),await a.init();let y=c.fetchFlagConfigurations();a.getKeys().length===0?(n?.("Eppo: No initial values in the configuration store, waiting for the first fetch"),await Promise.race([y,new Promise(E=>setTimeout(E,i))])):n?.("Eppo: Initial values in the configuration store, serving from store and skipping initial fetch");let p=performance.now()-h;return n?.(`Eppo: Initialized Eppo provider in ${p.toFixed(2)}ms`),c}o(Fxt,"_initEppo");async function ZIe(t){return xM||(xM=Fxt(t),xM)}o(ZIe,"initEppo");var JIe={getBooleanAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getBooleanAssignmentDetails"),getStringAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getStringAssignmentDetails"),getNumericAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getNumericAssignmentDetails"),getJSONAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getJSONAssignmentDetails"),setAssignmentLogger:o(t=>{},"setAssignmentLogger"),useNonExpiringInMemoryAssignmentCache:o(()=>{},"useNonExpiringInMemoryAssignmentCache"),stopPolling:o(()=>{},"stopPolling")};var Hxt=o(async(t,e,r)=>{let{eppoClient:n}=t;if(t.logTelemetry?.("Eppo: Initializing Eppo provider ..."),!n)if((!lb()||F6())&&!aX())n=JIe;else{let i={get:o(()=>e.get()?.eppoConfig??null,"get"),set:o(s=>{let a=e.get();e.set({overrides:a?.overrides??{},eppoConfig:s,userId:a?.userId??void 0})},"set"),onChange:o(s=>e.onChange(({eppoConfig:a})=>s(a)),"onChange")};if(n=await ZIe({apiKey:t.apiKey,pollingEnabled:t.pollingEnabled,state:i,logTelemetry:t.logTelemetry,initDeadline:r,pollingIntervalMs:3e5}),t.analytics){let s=new TN(t.analytics);n.setAssignmentLogger(s),n.useNonExpiringInMemoryAssignmentCache()}}return{getValue:o((i,s)=>{try{let a,c,l=i.key,{deviceId:h,subjectAttributes:y}=t,p=e.get(),E=i.subjectAssignment??"user";if(E==="user"&&!p?.userId)return i.defaultValue??null;let I;switch(E){case"user":I=p?.userId??h;break;case"device":I=h;break}if(p?.overrides[l]!==void 0)return p.overrides[l]??null;if(i.isLegacyStringBoolean)a=n.getStringAssignmentDetails(l,I,y,"DEFAULT"),a.variation==="DEFAULT"?c=i.defaultValue??null:c=a.variation==="variant";else{switch(i.type){case"boolean":a=n.getBooleanAssignmentDetails(l,I,y,i.defaultValue);break;case"string":a=n.getStringAssignmentDetails(l,I,y,i.defaultValue);break;case"number":a=n.getNumericAssignmentDetails(l,I,y,i.defaultValue);break;default:a=n.getJSONAssignmentDetails(l,I,y,i.defaultValue)}c=a.variation}return t.telemetry&&a.evaluationDetails&&t.telemetry.trackFeatureFlag(l,c),c??null}catch(a){return console.error("Error fetching feature flag",a),i.defaultValue??null}},"getValue"),destroy:o(()=>{n.stopPolling()},"destroy")}},"flagNamespaceInit"),s6=k1({key:"flags",init:Hxt,disableCache:Ja()}),qxt=o(()=>za(Vxt),"useFlagOverrides"),Vxt=bi(()=>{let e=yG().getNamespace(s6);return[e.getRemoteState()?.overrides,ao(r=>{let n=typeof r=="function"?r(e.getRemoteState()?.overrides??{}):r;e.updateRemoteState(ao(i=>({eppoConfig:i?.eppoConfig??{},overrides:n,userId:i?.userId}),0,[n])),e.sendEvent("idle")},0,[e])]}),oW=new WeakMap,sW=o((t,e)=>{let r=e.map(i=>({...i,defaultValue:lb()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=b0(s6,`feature:${t}`,r);return oW.set(n,e),n},"defineFeatureFlags"),aW=o((t,e)=>{let r=e.map(s=>({key:typeof s=="string"?s:s.key,defaultValue:!1,type:"boolean",updateOn:"change",isLegacyStringBoolean:typeof s=="object"?s.isLegacyStringBoolean:!1,subjectAssignment:typeof s=="object"?s.subjectAssignment:void 0})),[n]=b0(s6,`kill-switch:${t}`,r),i=o(s=>{try{return n(s)}catch{return!1}},"useValueWrapper");return oW.set(i,r),i},"defineKillSwitches"),cW=o((t,e)=>{let r=e.map(i=>({...i,defaultValue:lb()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=b0(s6,`config:${t}`,r);return oW.set(n,e),n},"defineRemoteConfigs");var fW=o(t=>za(th,t),"useFeatureFlag"),th=sW("general",[{key:"enable-psol-staking",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-fungible-categories",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-welcome-modal",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-trusted-token-badge",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-trusted-as-enum-trusted-badge",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-fungible-position",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-portfolio-token-balances",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-live-chat",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-per-actor-notifications-toggle",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-chat",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-chat-tab",defaultValue:!1,devDefaultValue:!0},{key:"enable-chat-admin",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"user"},{key:"enable-home-trending-tokens",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-home-tab-price-streaming",defaultValue:!1,devDefaultValue:!0},{key:"enable-follow-module",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-chat-badges",defaultValue:!1,devDefaultValue:!0},{key:"enable-token-gated-chat",defaultValue:!1,devDefaultValue:!0},{key:"enable-prediction-market-chat",defaultValue:!1,devDefaultValue:!0},{key:"enable-prediction-market-chat-system-messages",defaultValue:!1,devDefaultValue:!0},{key:"enable-notification-center",defaultValue:!1,devDefaultValue:!0},{key:"enable-profile-fungibles-holdings",defaultValue:!1,devDefaultValue:!0},{key:"enable-internal-perps-actions",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-ext-swap-commands",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-custom-tips",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-ngs-bridging",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-extension-perps",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-leaderboard",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-competitions",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"user"},{key:"enable-perps-relay-bridge",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-relay-withdrawal",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-be-swapper-max-amount",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-exact-out",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-presence",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-presence-ui",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-hip3-testnet-dogfood-filter",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-new-launches-ui",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-replace-classic-ngs",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-prediction-markets",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-internal-predictions-actions",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-prediction-arbitrary-mints",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-swapper-coozie",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-bitcoin-swap",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-terminal-cta",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-predictions-api-debug",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-live-feed",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-user-stats",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-quick-claim",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-quote-streaming",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-force-upgrade",defaultValue:!1,isLegacyStringBoolean:!0,subjectAssignment:"device"},{key:"enable-seedless-pin-verification-interstitial",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-delete-seedless-bundle-security-settings",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-fiat-ramp-provider-quotes",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cleanup-on-not-registered-error",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-onboarding-auth-bypass-fix",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-auth-blur-remount",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-withdraw-sol",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-liquid-staking-rewards-card",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-native-convert",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-native-delayed-convert",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-convert-banner",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-deposit-psol-with-kamino-link",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-uk-staking-disclaimers",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-uk-staking-override",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-phantom-login",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"spending_limits_cumulative",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-kms-vault-account",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-kms-vault-account-ext",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-kms-authenticator-mapping",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"always-show-all-sites-permissions",defaultValue:!1,subjectAssignment:"device"},{key:"enable-arbitrum",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-hyperevm",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-home-redesign",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-open-access-cash-lite",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-general-access",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-bug-reporter",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-buy-flow-warning",defaultValue:!1,subjectAssignment:"device"},{key:"enable-onboarding-aa",defaultValue:!1,subjectAssignment:"device"},{key:"enable-bypass-utxo-protection",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-cards",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-new-activity",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-app-icon",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-mainnet",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-swapper",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-feature-flag-invalidate-test",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-braze-content-cards",type:"boolean",devDefaultValue:!0,defaultValue:!1},{key:"enable-signalium-query-price-streaming",defaultValue:!1,devDefaultValue:!0}]),_M=cW("general",[{key:"token-chat-leaderboard-config",type:"string",nullable:!0,devDefaultValue:"banner-badges",subjectAssignment:"device"},{key:"seedless-pin-verification-timer-in-ms",type:"number",nullable:!0,subjectAssignment:"device"},{key:"latest-terms-of-service-version-number",type:"string",nullable:!0,subjectAssignment:"device"},{key:"latest-notification-updated-version-number",type:"string",nullable:!0,subjectAssignment:"device"},{key:"enable-implicit-terms-agreement",type:"boolean",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"home-token-lists",type:"string",defaultValue:"trending,following",subjectAssignment:"user"},{key:"sui-gas-budget-multiplier",type:"string",nullable:!0,subjectAssignment:"device"},{key:"frontend-transaction-sharing-delay-ms",type:"number",nullable:!0,subjectAssignment:"device"},{key:"psol-popup-copy-test",type:"string",nullable:!0,subjectAssignment:"device"},{key:"swapper-poll-interval-json",type:"object",nullable:!0,subjectAssignment:"device"},{key:"swapper-high-slippage-threshold",type:"string",nullable:!0,subjectAssignment:"device"},{key:"enabled-ugc-programs",type:"object",nullable:!0,subjectAssignment:"device"},{key:"trade-hub-variant",type:"string",nullable:!0,devDefaultValue:"",subjectAssignment:"device"},{key:"predictions-gas-additional-sol",type:"number",nullable:!0,defaultValue:.004,devDefaultValue:.004,subjectAssignment:"device"},{key:"blocked-swapper-chains",type:"object",nullable:!0,subjectAssignment:"device"},{key:"funds-in-transit-amounts",type:"object",nullable:!0,subjectAssignment:"device"},{key:"transactions-simulation-interval-ms",type:"string",nullable:!0,subjectAssignment:"device"},{key:"home-section-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"explore-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"explore-discover-home-tokens-limit",type:"number",nullable:!1,defaultValue:11,subjectAssignment:"device"},{key:"launches-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"auto-confirm-session-duration",type:"number",nullable:!1,defaultValue:7200,subjectAssignment:"device"},{key:"predictions-geo-restriction-help-url",type:"string",nullable:!0,defaultValue:"https://help.phantom.com",devDefaultValue:"https://help.phantom.com",subjectAssignment:"device"},{key:"predictions-home-disclosures-urls",type:"string",nullable:!0,defaultValue:"https://help.phantom.com",devDefaultValue:"https://help.phantom.com",subjectAssignment:"device"},{key:"predictions-learn-more-url",type:"string",nullable:!0,defaultValue:"https://help.phantom.com",devDefaultValue:"https://help.phantom.com",subjectAssignment:"device"},{key:"predictions-trending-items-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-tag-section-items-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-home-featured-poll-interval-ms",type:"number",nullable:!0,devDefaultValue:6e4,subjectAssignment:"device"},{key:"predictions-home-positions-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-countdown-threshold-hours",type:"number",nullable:!1,defaultValue:6,devDefaultValue:6,subjectAssignment:"device"},{key:"wallet-balance-background-foreground-timer",type:"string",nullable:!0,subjectAssignment:"device"},{key:"network-logger-config-json",type:"object",nullable:!0,subjectAssignment:"device"}]),uW=o(t=>za(_M,t),"useRemoteConfig"),jxt=o(t=>za(W2,t),"useKillSwitch"),W2=aW("general",["kill-action-banners","kill-frontend-server-time","kill-frontend-local-check",{key:"kill-automatic-approval",isLegacyStringBoolean:!0},"kill-clickjack-protection","kill-validators-v2","kill-base-history","kill-blowfish-blocklist-cursor","kill-collectibles","kill-explore","kill-extension-storage-integrity-check","kill-dynamic-price-in-explore","kill-ledger-xpub-derivation","kill-phantom-validator",{key:"kill-previous-blocklist",isLegacyStringBoolean:!0},"kill-send-simulation","kill-swapper",{key:"kill-swapper-simulation",isLegacyStringBoolean:!0},"kill-vault-secure-cache","kill-liquid-staking-convert","kill-suins","kill-perps-cash-funding","kill-perps-funding","kill-perps-withdrawal","kill-predictions-trading","kill-add-to-wallet","kill-cash-feedback-form","kill-cash-fees","kill-cash-fiat-ramp","kill-cash-fiat-ramp-apple-pay","kill-cash-fiat-ramp-bank","kill-cash-fiat-ramp-card","kill-cash-invalidate-auth-bandaid","kill-cash-open-cash-cta","kill-cash-out-disable","kill-cash-out-rent-exemption","kill-cash-out-tx-simulation","kill-cash-perps-quote-chain-addresses","kill-cash-balance-optimistic-update","kill-cash-swap-listener","kill-welcome-cash-modal","kill-cash-waitlist-activation-interstitial","kill-cash-general-access-activation-interstitial"]);m();g();var zxt=o(t=>za(Kxt,t),"useFeatureFlags"),Kxt=bi(t=>({data:t.map(ao(r=>r.startsWith("kill-")?W2(r):th(r),0)),isLoading:!1,isFetched:!0})),a6={isFeatureEnabled(t){return t==="enabled-ugc-programs"?!0:t.startsWith("kill-")?W2(t):th(t)},isFeatureEnabledAsync(t){return t.startsWith("kill-")?EN(W2,t):EN(th,t)},getMultivariateAssignment(t,e){let r=_M(t);return typeof r=="string"||r===null?r:JSON.stringify(r)}};m();g();m();g();var Gxt=R.EPPO_API_KEY;m();g();function $xt(){let t=uW("trade-hub-variant");return fW("enable-replace-classic-ngs")||!!t}o($xt,"useIsTradeHubText");m();g();m();g();function Wxt(t,e){return e.getSupportedChains().includes(t)}o(Wxt,"isChainSupported");function QIe(t,e){if(t9(t))return e.get(t);if(Nt.isNetworkID(t)){let r=Nt.getChainID(t);if(Wxt(r,e))return e.get(r)}throw new Error("Invalid input type for chain config get method")}o(QIe,"get");function lW(t){return{get:o(e=>QIe(e,t),"get"),supportedChains:t.getSupportedChains()}}o(lW,"createChainConfig");m();g();var dW=class{static{o(this,"ChainConfigRegistry")}chainConfigMap=new Map;constructor(e){Object.entries(e).forEach(([r,n])=>{this.register(r,n)})}register(e,r){this.chainConfigMap.set(e,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(e){let r=this.chainConfigMap.get(e);if(!r)throw new Error(`No chain config found for chain: ${e}`);return r}};m();g();m();g();var K1="@phantom/chains",c6={enabledChains:[`${K1}:enabled-chains`],enabledAddressTypes:[`${K1}:enabled-address-types`],enabledNetworkIDs(t){return[`${K1}:enabled-network-ids`,{mainnetOnly:t}]},chainAvailability(t){return[`${K1}:chain-availability`,t]}};var Y2=".phantom-labs.internal.enabledChainsOverrideSettings",hW=bi(()=>{try{return pW(Y2)?.settings}catch{return null}});var eTe=bi(()=>{let t=[],e;try{e=hW(),e&&Object.entries(e).forEach(ao(([r,n])=>{n||t.push(r)},0,[t]))}catch{}try{Nt.getAllChainIDs().forEach(ao(r=>{e&&e[r]||Nt.isChainDefaultEnabled(r)||t.push(r)},1,[e,t]))}catch{}return[...new Set(t)]});var Yxt=o(async t=>{let e=await hW(),r=wM(Y2),n=t.reduce((i,s)=>(i[s]=!0,i),{});return r({version:1,settings:{...e!=null&&e,...n}})},"enableChainIDs"),Xxt=o(async t=>{let e=await hW(),r=wM(Y2),n=t.reduce((i,s)=>(i[s]=!1,i),{});return r({version:1,settings:{...e!=null&&e,...n}})},"disableChainIDs"),ug=".phantom-labs.internal.disabledAddressTypes",Zxt=be.object({version:be.literal(1),settings:be.record(be.boolean())}),Jxt=be.object({version:be.literal(1),addressTypes:be.array(be.nativeEnum(We))}),Qxt=o((t,e)=>{let r=t,n=e;return!r&&!n?null:{version:1,settings:{...r?.settings??{},...n?.settings??{}}}},"enabledChainsOverridesResolver"),evt=o((t,e)=>{let r=t,n=e;if(!r&&!n)return null;let i=new Set([...r?.addressTypes??[],...n?.addressTypes??[]]);return{version:1,addressTypes:Array.from(i)}},"disabledAddressTypesResolver"),[pW,wM,tTe]=xG("chains",[{key:Y2,type:"object",validator:Zxt,nullable:!0,resolver:Qxt,updateOn:"change"},{key:ug,type:"object",validator:Jxt,nullable:!0,resolver:evt,updateOn:"change"}]);var tvt=bi(()=>{let t;try{t=pW(ug)!==null}catch{t=!1}return t}),rTe=bi(()=>{let t;try{t=pW(ug)?.addressTypes??[]}catch{t=[]}return[...new Set([...t,We.BitcoinNestedSegwit,We.BitcoinLegacy])]}),rvt=o(async t=>{let e=await tTe(ug),r=new Set(e?.addressTypes??[]);return r.delete(t),wM(ug)({version:1,addressTypes:Array.from(r)})},"enableAddressType"),nvt=o(async t=>{let e=await tTe(ug),r=new Set(e?.addressTypes??[]);return r.add(t),wM(ug)({version:1,addressTypes:Array.from(r)})},"disableAddressType"),ivt=o((t,e)=>({version:1,settings:{...t?.settings,...e?.settings}}),"syncedEnabledChainsOverridesResolver"),ovt={..._N(Y2,[`${K1}:chain-availability`,`${K1}:enabled-network-ids`,...c6.enabledChains],ivt),..._N(ug,[...c6.enabledAddressTypes])};m();g();var nTe=Ze(M0()),SM=Ze(lo());var EM={async deriveAddresses(){},getUIConfig:o(()=>({}),"getUIConfig"),supportedUIConfigChains:[]},iTe=(0,SM.createContext)(EM);function svt({children:t,registry:e,effects:r}){let n=e?lW(e):void 0,i={deriveAddresses:r?.deriveAddresses??EM.deriveAddresses,getUIConfig:o(s=>n?n.get(s):EM.getUIConfig(s),"getUIConfig"),supportedUIConfigChains:n?n.supportedChains:EM.supportedUIConfigChains};return(0,nTe.jsx)(iTe.Provider,{value:i,children:t})}o(svt,"ChainDependencyProvider");function avt(){return(0,SM.useContext)(iTe)}o(avt,"useChainDependencies");m();g();var oTe=!1,cvt=bi(()=>{let t=th("enable-arbitrum"),e=th("enable-hyperevm"),r=th("enable-monad-mainnet"),n=!lb();oTe||(rr.addBreadcrumb(Je.Network,"Fetched chain availability",It.Info,{skipFileLogger:!0}),oTe=!0);let i=Nt.getAllChainIDs().filter(ao(M=>(M!==St.Arbitrum||t)&&(M!==St.Hypercore||n)&&(M!==St.Hyperevm||e),0,[t,n,e])),s=eTe(),a=new Set(s),c=i.filter(ao(M=>!a.has(M),1,[a])),l=ao(M=>{let P=Nt.getChainID(M);return!r&&P===St.Monad&&Nt.isMainnetNetworkID(M)?!1:c.includes(P)},2,[r,c]),h=Nt.getAllNetworkIDs({mainnetOnly:!1}).filter(l),y=Nt.getAllNetworkIDs({mainnetOnly:!0}).filter(l),p=new Set(s.flatMap(ao(M=>Nt.getNetworkIDs(M),3))),E=h.filter(ao(M=>!p.has(M),4,[p])),I=y.filter(ao(M=>!p.has(M),5,[p])),O=E.filter(ao(M=>!Nt.isMainnetNetworkID(M),6)),N=Ry.getAll(),k=rTe(),C=new Set(k);for(let M of N){let P=Nt.getChainIDs(M);if(!P){C.add(M);continue}P.every(ao(F=>a.has(F),7,[a]))&&C.add(M)}let L=N.filter(ao(M=>!C.has(M),8,[C]));return{supportedChainIDs:i,supportedAddressTypes:N,disabledChainIDs:s,enabledChainIDs:c,enabledAddressTypes:L,enabledNetworkIDs:E,enabledMainnetOnlyNetworkIDs:I,enabledTestnetOnlyNetworkIDs:O}});m();g();var sTe=[],fvt=o(t=>{sTe.push(t)},"registerExtraChainAvailabilityInvalidator"),uvt=o(async t=>{let e=a6.isFeatureEnabled("enable-arbitrum"),r=a6.isFeatureEnabled("enable-hyperevm"),n=a6.isFeatureEnabled("enable-monad-mainnet");await t.invalidateQueries({queryKey:c6.chainAvailability({isArbitrumEnabled:e,isHyperevmEnabled:r,isMonadMainnetEnabled:n})}),await Promise.all(sTe.map(i=>i(t)))},"invalidateChainAvailability");m();g();var aTe=Ze(M0()),AM=Ze(lo());var cTe=(0,AM.createContext)(null);function ktn({children:t,analytics:e}){return(0,aTe.jsx)(cTe.Provider,{value:e,children:t})}o(ktn,"AnalyticsProvider");function Btn(){let t=(0,AM.useContext)(cTe);return t||{capture:o(async()=>{},"capture"),addUserProperties:o(async()=>{},"addUserProperties"),identify:o(async()=>{},"identify"),getDeviceId:o(async()=>"","getDeviceId"),setDeviceId:o(()=>{},"setDeviceId"),setAnalyticsOptedOut:o(async()=>{},"setAnalyticsOptedOut"),setDisplayLanguage:o(async()=>{},"setDisplayLanguage"),screen:o(()=>{},"screen"),page:o(()=>{},"page"),rudderClient:null}}o(Btn,"useAnalytics");m();g();m();g();var lvt=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),mW={randomUUID:lvt};m();g();var IM,dvt=new Uint8Array(16);function gW(){if(!IM&&(IM=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!IM))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return IM(dvt)}o(gW,"rng");m();g();var Cs=[];for(let t=0;t<256;++t)Cs.push((t+256).toString(16).slice(1));function fTe(t,e=0){return Cs[t[e+0]]+Cs[t[e+1]]+Cs[t[e+2]]+Cs[t[e+3]]+"-"+Cs[t[e+4]]+Cs[t[e+5]]+"-"+Cs[t[e+6]]+Cs[t[e+7]]+"-"+Cs[t[e+8]]+Cs[t[e+9]]+"-"+Cs[t[e+10]]+Cs[t[e+11]]+Cs[t[e+12]]+Cs[t[e+13]]+Cs[t[e+14]]+Cs[t[e+15]]}o(fTe,"unsafeStringify");function hvt(t,e,r){if(mW.randomUUID&&!e&&!t)return mW.randomUUID();t=t||{};let n=t.random||(t.rng||gW)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return fTe(n)}o(hvt,"v4");var pvt=hvt;m();g();m();g();var eRe=o(t=>!!t,"filterBoolean");m();g();var N_t=o((t,e)=>t+e,"add"),Inn=o(t=>t.reduce(N_t,0),"sum");m();g();function knn(t){return be.any().array().transform(e=>e.map(r=>{let n=t.safeParse(r);return n.success?n.data:void 0}).filter(eRe)).catch([])}o(knn,"zodArray");m();g();m();g();var tRe=C_t;function C_t(t,e){if(typeof t!="function")throw new Error("`callback` should be a function");if(e!==void 0&&typeof e!="function")throw new Error("`resolver` should be a function");var r={},n=o(function(){var i=Array.prototype.slice.call(arguments),s=e?e.apply(this,i):JSON.stringify(i);return s in r||(r[s]=t.apply(this,i)),r[s]},"memoized");return n.cache=r,n}o(C_t,"memoize");var k_t=o((...t)=>{let e=t.map(r=>r instanceof Map||r instanceof Set?Array.from(r):r);return JSON.stringify(e)},"defaultResolver"),rRe=o((t,e={forceRefresh:!1})=>{let{resolver:r=k_t}=e,n=tRe(t,r),i=o(function(...s){if(e.forceRefresh){let a=r(...s);delete n.cache[a]}return n.apply(this,s)},"wrapped");return i.cache=n.cache,i},"memoize");m();g();var P_t=o(t=>new ih(10).pow(t),"_tenPow"),iRe=rRe(P_t);m();g();var ain=o((t,e)=>new ih(t).div(iRe(e)),"amountToUiAmount");m();g();function oRe(t){return new Promise(e=>setTimeout(e,t))}o(oRe,"delayAsync");m();g();function L_t(t,e){let r=typeof e.interval=="function"?e.interval:()=>e.interval;if(typeof t!="function")throw new Error("Invalid arguments for retryInternal");let n=1;async function i(){try{return await t()}catch(s){if(n++<e.times&&e.errorFilter(s))return await oRe(r(n-1)),i();throw s}}return o(i,"retryAttempt"),i()}o(L_t,"retryInternal");async function yin(t,e,r=3,n=2e3,i){return L_t(t,{times:r,interval:i?()=>n:s=>n*Math.pow(2,s-1),errorFilter:e})}o(yin,"withRetry");m();g();var win=o((t,e)=>{let r=Math.floor(t/3600),n=Math.floor((t-r*3600)/60),i=t%60;return r>0?e("pendingTransactionEstimatedTimeHM",{hours:r,minutes:n}):n>0?e("pendingTransactionEstimatedTimeMS",{minutes:n,seconds:i}):e("pendingTransactionEstimatedTimeS",{seconds:i})},"formatSecondsAsTime");m();g();m();g();m();g();m();g();m();g();function sRe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(sRe,"number");function wW(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(wW,"bytes");function aRe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");sRe(t.outputLen),sRe(t.blockLen)}o(aRe,"hash");function X2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(X2,"exists");function cRe(t,e){wW(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(cRe,"output");m();g();m();g();var OM=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var fRe=o(t=>t instanceof Uint8Array,"u8a");var NM=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Il=o((t,e)=>t<<32-e|t>>>e,"rotr"),U_t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!U_t)throw new Error("Non little-endian hardware is not supported");function F_t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(F_t,"utf8ToBytes");function f6(t){if(typeof t=="string"&&(t=F_t(t)),!fRe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(f6,"toBytes");function uRe(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!fRe(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(uRe,"concatBytes");var Z2=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},Uin={}.toString;function lRe(t){let e=o(n=>t().update(f6(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(lRe,"wrapConstructor");function MM(t=32){if(OM&&typeof OM.getRandomValues=="function")return OM.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}o(MM,"randomBytes");function H_t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(H_t,"setBigUint64");var CM=class extends Z2{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=NM(this.buffer)}update(e){X2(this);let{view:r,buffer:n,blockLen:i}=this;e=f6(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=NM(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){X2(this),cRe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let p=a;p<i;p++)r[p]=0;H_t(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=NM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var q_t=o((t,e,r)=>t&e^~t&r,"Chi"),V_t=o((t,e,r)=>t&e^t&r^e&r,"Maj"),j_t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),dg=new Uint32Array(64),EW=class extends CM{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=lg[0]|0,this.B=lg[1]|0,this.C=lg[2]|0,this.D=lg[3]|0,this.E=lg[4]|0,this.F=lg[5]|0,this.G=lg[6]|0,this.H=lg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let p=0;p<16;p++,r+=4)dg[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let E=dg[p-15],I=dg[p-2],O=Il(E,7)^Il(E,18)^E>>>3,N=Il(I,17)^Il(I,19)^I>>>10;dg[p]=N+dg[p-7]+O+dg[p-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let p=0;p<64;p++){let E=Il(c,6)^Il(c,11)^Il(c,25),I=y+E+q_t(c,l,h)+j_t[p]+dg[p]|0,N=(Il(n,2)^Il(n,13)^Il(n,22))+V_t(n,i,s)|0;y=h,h=l,l=c,c=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){dg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var kM=lRe(()=>new EW);m();g();var TW={};iX(TW,{bitGet:()=>X_t,bitLen:()=>Y_t,bitMask:()=>u6,bitSet:()=>Z_t,bytesToHex:()=>G1,bytesToNumberBE:()=>ks,bytesToNumberLE:()=>LM,concatBytes:()=>T0,createHmacDrbg:()=>IW,ensureBytes:()=>Uo,equalBytes:()=>$_t,hexToBytes:()=>$1,hexToNumber:()=>AW,numberToBytesBE:()=>Tl,numberToBytesLE:()=>DM,numberToHexUnpadded:()=>pRe,numberToVarBytesBE:()=>G_t,utf8ToBytes:()=>W_t,validateObject:()=>hg});m();g();var hRe=BigInt(0),BM=BigInt(1),z_t=BigInt(2),PM=o(t=>t instanceof Uint8Array,"u8a"),K_t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function G1(t){if(!PM(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=K_t[t[r]];return e}o(G1,"bytesToHex");function pRe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(pRe,"numberToHexUnpadded");function AW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}o(AW,"hexToNumber");function $1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}o($1,"hexToBytes");function ks(t){return AW(G1(t))}o(ks,"bytesToNumberBE");function LM(t){if(!PM(t))throw new Error("Uint8Array expected");return AW(G1(Uint8Array.from(t).reverse()))}o(LM,"bytesToNumberLE");function Tl(t,e){return $1(t.toString(16).padStart(e*2,"0"))}o(Tl,"numberToBytesBE");function DM(t,e){return Tl(t,e).reverse()}o(DM,"numberToBytesLE");function G_t(t){return $1(pRe(t))}o(G_t,"numberToVarBytesBE");function Uo(t,e,r){let n;if(typeof e=="string")try{n=$1(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(PM(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}o(Uo,"ensureBytes");function T0(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!PM(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(T0,"concatBytes");function $_t(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o($_t,"equalBytes");function W_t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(W_t,"utf8ToBytes");function Y_t(t){let e;for(e=0;t>hRe;t>>=BM,e+=1);return e}o(Y_t,"bitLen");function X_t(t,e){return t>>BigInt(e)&BM}o(X_t,"bitGet");var Z_t=o((t,e,r)=>t|(r?BM:hRe)<<BigInt(e),"bitSet"),u6=o(t=>(z_t<<BigInt(t-1))-BM,"bitMask"),SW=o(t=>new Uint8Array(t),"u8n"),dRe=o(t=>Uint8Array.from(t),"u8fr");function IW(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=SW(t),i=SW(t),s=0,a=o(()=>{n.fill(1),i.fill(0),s=0},"reset"),c=o((...p)=>r(i,n,...p),"h"),l=o((p=SW())=>{i=c(dRe([0]),p),n=c(),p.length!==0&&(i=c(dRe([1]),p),n=c())},"reseed"),h=o(()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,E=[];for(;p<e;){n=c();let I=n.slice();E.push(I),p+=n.length}return T0(...E)},"gen");return o((p,E)=>{a(),l(p);let I;for(;!(I=E(h()));)l();return a(),I},"genUntil")}o(IW,"createHmacDrbg");var J_t={bigint:o(t=>typeof t=="bigint","bigint"),function:o(t=>typeof t=="function","function"),boolean:o(t=>typeof t=="boolean","boolean"),string:o(t=>typeof t=="string","string"),stringOrUint8Array:o(t=>typeof t=="string"||t instanceof Uint8Array,"stringOrUint8Array"),isSafeInteger:o(t=>Number.isSafeInteger(t),"isSafeInteger"),array:o(t=>Array.isArray(t),"array"),field:o((t,e)=>e.Fp.isValid(t),"field"),hash:o(t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen),"hash")};function hg(t,e,r={}){let n=o((i,s,a)=>{let c=J_t[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);let l=t[i];if(!(a&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)},"checkField");for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}o(hg,"validateObject");var Ho=BigInt(0),Ji=BigInt(1),W1=BigInt(2),Q_t=BigInt(3),RW=BigInt(4),mRe=BigInt(5),gRe=BigInt(8),ewt=BigInt(9),twt=BigInt(16);function Fo(t,e){let r=t%e;return r>=Ho?r:e+r}o(Fo,"mod");function rwt(t,e,r){if(r<=Ho||e<Ho)throw new Error("Expected power/modulo > 0");if(r===Ji)return Ho;let n=Ji;for(;e>Ho;)e&Ji&&(n=n*t%r),t=t*t%r,e>>=Ji;return n}o(rwt,"pow");function gf(t,e,r){let n=t;for(;e-- >Ho;)n*=n,n%=r;return n}o(gf,"pow2");function UM(t,e){if(t===Ho||e<=Ho)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Fo(t,e),n=e,i=Ho,s=Ji,a=Ji,c=Ho;for(;r!==Ho;){let h=n/r,y=n%r,p=i-a*h,E=s-c*h;n=r,r=y,i=a,s=c,a=p,c=E}if(n!==Ji)throw new Error("invert: does not exist");return Fo(i,e)}o(UM,"invert");function nwt(t){let e=(t-Ji)/W1,r,n,i;for(r=t-Ji,n=0;r%W1===Ho;r/=W1,n++);for(i=W1;i<t&&rwt(i,e,t)!==t-Ji;i++);if(n===1){let a=(t+Ji)/RW;return o(function(l,h){let y=l.pow(h,a);if(!l.eql(l.sqr(y),h))throw new Error("Cannot find square root");return y},"tonelliFast")}let s=(r+Ji)/W1;return o(function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=n,y=c.pow(c.mul(c.ONE,i),r),p=c.pow(l,s),E=c.pow(l,r);for(;!c.eql(E,c.ONE);){if(c.eql(E,c.ZERO))return c.ZERO;let I=1;for(let N=c.sqr(E);I<h&&!c.eql(N,c.ONE);I++)N=c.sqr(N);let O=c.pow(y,Ji<<BigInt(h-I-1));y=c.sqr(O),p=c.mul(p,O),E=c.mul(E,y),h=I}return p},"tonelliSlow")}o(nwt,"tonelliShanks");function iwt(t){if(t%RW===Q_t){let e=(t+Ji)/RW;return o(function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s},"sqrt3mod4")}if(t%gRe===mRe){let e=(t-mRe)/gRe;return o(function(n,i){let s=n.mul(i,W1),a=n.pow(s,e),c=n.mul(i,a),l=n.mul(n.mul(c,W1),a),h=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(h),i))throw new Error("Cannot find square root");return h},"sqrt5mod8")}return t%twt,nwt(t)}o(iwt,"FpSqrt");var owt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function OW(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=owt.reduce((n,i)=>(n[i]="function",n),e);return hg(t,r)}o(OW,"validateField");function swt(t,e,r){if(r<Ho)throw new Error("Expected power > 0");if(r===Ho)return t.ONE;if(r===Ji)return e;let n=t.ONE,i=e;for(;r>Ho;)r&Ji&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Ji;return n}o(swt,"FpPow");function awt(t,e){let r=new Array(e.length),n=e.reduce((s,a,c)=>t.is0(a)?s:(r[c]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,c)=>t.is0(a)?s:(r[c]=t.mul(s,r[c]),t.mul(s,a)),i),r}o(awt,"FpInvertBatch");function NW(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(NW,"nLength");function yRe(t,e,r=!1,n={}){if(t<=Ho)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=NW(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=iwt(t),c=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:u6(i),ZERO:Ho,ONE:Ji,create:o(l=>Fo(l,t),"create"),isValid:o(l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Ho<=l&&l<t},"isValid"),is0:o(l=>l===Ho,"is0"),isOdd:o(l=>(l&Ji)===Ji,"isOdd"),neg:o(l=>Fo(-l,t),"neg"),eql:o((l,h)=>l===h,"eql"),sqr:o(l=>Fo(l*l,t),"sqr"),add:o((l,h)=>Fo(l+h,t),"add"),sub:o((l,h)=>Fo(l-h,t),"sub"),mul:o((l,h)=>Fo(l*h,t),"mul"),pow:o((l,h)=>swt(c,l,h),"pow"),div:o((l,h)=>Fo(l*UM(h,t),t),"div"),sqrN:o(l=>l*l,"sqrN"),addN:o((l,h)=>l+h,"addN"),subN:o((l,h)=>l-h,"subN"),mulN:o((l,h)=>l*h,"mulN"),inv:o(l=>UM(l,t),"inv"),sqrt:n.sqrt||(l=>a(c,l)),invertBatch:o(l=>awt(c,l),"invertBatch"),cmov:o((l,h,y)=>y?h:l,"cmov"),toBytes:o(l=>r?DM(l,s):Tl(l,s),"toBytes"),fromBytes:o(l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return r?LM(l):ks(l)},"fromBytes")});return Object.freeze(c)}o(yRe,"Field");function bRe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}o(bRe,"getFieldBytesLength");function MW(t){let e=bRe(t);return e+Math.ceil(e/2)}o(MW,"getMinHashLength");function xRe(t,e,r=!1){let n=t.length,i=bRe(e),s=MW(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=r?ks(t):LM(t),c=Fo(a,e-Ji)+Ji;return r?DM(c,i):Tl(c,i)}o(xRe,"mapHashToField");m();g();m();g();var fwt=BigInt(0),CW=BigInt(1);function vRe(t,e){let r=o((i,s)=>{let a=s.negate();return i?a:s},"constTimeNegate"),n=o(i=>{let s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}},"opts");return{constTimeNegate:r,unsafeLadder(i,s){let a=t.ZERO,c=i;for(;s>fwt;)s&CW&&(a=a.add(c)),c=c.double(),s>>=CW;return a},precomputeWindow(i,s){let{windows:a,windowSize:c}=n(s),l=[],h=i,y=h;for(let p=0;p<a;p++){y=h,l.push(y);for(let E=1;E<c;E++)y=y.add(h),l.push(y);h=y.double()}return l},wNAF(i,s,a){let{windows:c,windowSize:l}=n(i),h=t.ZERO,y=t.BASE,p=BigInt(2**i-1),E=2**i,I=BigInt(i);for(let O=0;O<c;O++){let N=O*l,k=Number(a&p);a>>=I,k>l&&(k-=E,a+=CW);let C=N,L=N+Math.abs(k)-1,M=O%2!==0,P=k<0;k===0?y=y.add(r(M,s[C])):h=h.add(r(P,s[L]))}return{p:h,f:y}},wNAFCached(i,s,a,c){let l=i._WINDOW_SIZE||1,h=s.get(i);return h||(h=this.precomputeWindow(i,l),l!==1&&s.set(i,c(h))),this.wNAF(l,h,a)}}}o(vRe,"wNAF");function kW(t){return OW(t.Fp),hg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...NW(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}o(kW,"validateBasic");function uwt(t){let e=kW(t);hg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}o(uwt,"validatePointOpts");var{bytesToNumberBE:lwt,hexToBytes:dwt}=TW,Y1={Err:class extends Error{static{o(this,"DERErr")}constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=Y1;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:lwt(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=Y1,r=typeof t=="string"?dwt(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=Y1._parseInt(r.subarray(2)),{d:a,l:c}=Y1._parseInt(s);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){let e=o(h=>Number.parseInt(h[0],16)&8?"00"+h:h,"slice"),r=o(h=>{let y=h.toString(16);return y.length&1?`0${y}`:y},"h"),n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,a=i.length/2,c=r(s),l=r(a);return`30${r(a+s+4)}02${l}${i}02${c}${n}`}},R0=BigInt(0),wu=BigInt(1),yon=BigInt(2),_Re=BigInt(3),bon=BigInt(4);function hwt(t){let e=uwt(t),{Fp:r}=e,n=e.toBytes||((O,N,k)=>{let C=N.toAffine();return T0(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),i=e.fromBytes||(O=>{let N=O.subarray(1),k=r.fromBytes(N.subarray(0,r.BYTES)),C=r.fromBytes(N.subarray(r.BYTES,2*r.BYTES));return{x:k,y:C}});function s(O){let{a:N,b:k}=e,C=r.sqr(O),L=r.mul(C,O);return r.add(r.add(L,r.mul(O,N)),k)}if(o(s,"weierstrassEquation"),!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(O){return typeof O=="bigint"&&R0<O&&O<e.n}o(a,"isWithinCurveOrder");function c(O){if(!a(O))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}o(c,"assertGE");function l(O){let{allowedPrivateKeyLengths:N,nByteLength:k,wrapPrivateKey:C,n:L}=e;if(N&&typeof O!="bigint"){if(O instanceof Uint8Array&&(O=G1(O)),typeof O!="string"||!N.includes(O.length))throw new Error("Invalid key");O=O.padStart(k*2,"0")}let M;try{M=typeof O=="bigint"?O:ks(Uo("private key",O,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof O}`)}return C&&(M=Fo(M,L)),c(M),M}o(l,"normPrivateKeyToScalar");let h=new Map;function y(O){if(!(O instanceof p))throw new Error("ProjectivePoint expected")}o(y,"assertPrjPoint");class p{static{o(this,"Point")}constructor(N,k,C){if(this.px=N,this.py=k,this.pz=C,N==null||!r.isValid(N))throw new Error("x required");if(k==null||!r.isValid(k))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required")}static fromAffine(N){let{x:k,y:C}=N||{};if(!N||!r.isValid(k)||!r.isValid(C))throw new Error("invalid affine point");if(N instanceof p)throw new Error("projective point not allowed");let L=o(M=>r.eql(M,r.ZERO),"is0");return L(k)&&L(C)?p.ZERO:new p(k,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){let k=r.invertBatch(N.map(C=>C.pz));return N.map((C,L)=>C.toAffine(k[L])).map(p.fromAffine)}static fromHex(N){let k=p.fromAffine(i(Uo("pointHex",N)));return k.assertValidity(),k}static fromPrivateKey(N){return p.BASE.multiply(l(N))}_setWindowSize(N){this._WINDOW_SIZE=N,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:N,y:k}=this.toAffine();if(!r.isValid(N)||!r.isValid(k))throw new Error("bad point: x or y not FE");let C=r.sqr(k),L=s(N);if(!r.eql(C,L))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:N}=this.toAffine();if(r.isOdd)return!r.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){y(N);let{px:k,py:C,pz:L}=this,{px:M,py:P,pz:H}=N,F=r.eql(r.mul(k,H),r.mul(M,L)),J=r.eql(r.mul(C,H),r.mul(P,L));return F&&J}negate(){return new p(this.px,r.neg(this.py),this.pz)}double(){let{a:N,b:k}=e,C=r.mul(k,_Re),{px:L,py:M,pz:P}=this,H=r.ZERO,F=r.ZERO,J=r.ZERO,W=r.mul(L,L),X=r.mul(M,M),S=r.mul(P,P),f=r.mul(L,M);return f=r.add(f,f),J=r.mul(L,P),J=r.add(J,J),H=r.mul(N,J),F=r.mul(C,S),F=r.add(H,F),H=r.sub(X,F),F=r.add(X,F),F=r.mul(H,F),H=r.mul(f,H),J=r.mul(C,J),S=r.mul(N,S),f=r.sub(W,S),f=r.mul(N,f),f=r.add(f,J),J=r.add(W,W),W=r.add(J,W),W=r.add(W,S),W=r.mul(W,f),F=r.add(F,W),S=r.mul(M,P),S=r.add(S,S),W=r.mul(S,f),H=r.sub(H,W),J=r.mul(S,X),J=r.add(J,J),J=r.add(J,J),new p(H,F,J)}add(N){y(N);let{px:k,py:C,pz:L}=this,{px:M,py:P,pz:H}=N,F=r.ZERO,J=r.ZERO,W=r.ZERO,X=e.a,S=r.mul(e.b,_Re),f=r.mul(k,M),d=r.mul(C,P),b=r.mul(L,H),x=r.add(k,C),_=r.add(M,P);x=r.mul(x,_),_=r.add(f,d),x=r.sub(x,_),_=r.add(k,L);let A=r.add(M,H);return _=r.mul(_,A),A=r.add(f,b),_=r.sub(_,A),A=r.add(C,L),F=r.add(P,H),A=r.mul(A,F),F=r.add(d,b),A=r.sub(A,F),W=r.mul(X,_),F=r.mul(S,b),W=r.add(F,W),F=r.sub(d,W),W=r.add(d,W),J=r.mul(F,W),d=r.add(f,f),d=r.add(d,f),b=r.mul(X,b),_=r.mul(S,_),d=r.add(d,b),b=r.sub(f,b),b=r.mul(X,b),_=r.add(_,b),f=r.mul(d,_),J=r.add(J,f),f=r.mul(A,_),F=r.mul(x,F),F=r.sub(F,f),f=r.mul(x,d),W=r.mul(A,W),W=r.add(W,f),new p(F,J,W)}subtract(N){return this.add(N.negate())}is0(){return this.equals(p.ZERO)}wNAF(N){return I.wNAFCached(this,h,N,k=>{let C=r.invertBatch(k.map(L=>L.pz));return k.map((L,M)=>L.toAffine(C[M])).map(p.fromAffine)})}multiplyUnsafe(N){let k=p.ZERO;if(N===R0)return k;if(c(N),N===wu)return this;let{endo:C}=e;if(!C)return I.unsafeLadder(this,N);let{k1neg:L,k1:M,k2neg:P,k2:H}=C.splitScalar(N),F=k,J=k,W=this;for(;M>R0||H>R0;)M&wu&&(F=F.add(W)),H&wu&&(J=J.add(W)),W=W.double(),M>>=wu,H>>=wu;return L&&(F=F.negate()),P&&(J=J.negate()),J=new p(r.mul(J.px,C.beta),J.py,J.pz),F.add(J)}multiply(N){c(N);let k=N,C,L,{endo:M}=e;if(M){let{k1neg:P,k1:H,k2neg:F,k2:J}=M.splitScalar(k),{p:W,f:X}=this.wNAF(H),{p:S,f}=this.wNAF(J);W=I.constTimeNegate(P,W),S=I.constTimeNegate(F,S),S=new p(r.mul(S.px,M.beta),S.py,S.pz),C=W.add(S),L=X.add(f)}else{let{p:P,f:H}=this.wNAF(k);C=P,L=H}return p.normalizeZ([C,L])[0]}multiplyAndAddUnsafe(N,k,C){let L=p.BASE,M=o((H,F)=>F===R0||F===wu||!H.equals(L)?H.multiplyUnsafe(F):H.multiply(F),"mul"),P=M(this,k).add(M(N,C));return P.is0()?void 0:P}toAffine(N){let{px:k,py:C,pz:L}=this,M=this.is0();N==null&&(N=M?r.ONE:r.inv(L));let P=r.mul(k,N),H=r.mul(C,N),F=r.mul(L,N);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(F,r.ONE))throw new Error("invZ was invalid");return{x:P,y:H}}isTorsionFree(){let{h:N,isTorsionFree:k}=e;if(N===wu)return!0;if(k)return k(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:N,clearCofactor:k}=e;return N===wu?this:k?k(p,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return this.assertValidity(),n(p,this,N)}toHex(N=!0){return G1(this.toRawBytes(N))}}p.BASE=new p(e.Gx,e.Gy,r.ONE),p.ZERO=new p(r.ZERO,r.ONE,r.ZERO);let E=e.nBitLength,I=vRe(p,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}o(hwt,"weierstrassPoints");function pwt(t){let e=kW(t);return hg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}o(pwt,"validateOpts");function wRe(t){let e=pwt(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function a(_){return R0<_&&_<r.ORDER}o(a,"isValidFieldElement");function c(_){return Fo(_,n)}o(c,"modN");function l(_){return UM(_,n)}o(l,"invN");let{ProjectivePoint:h,normPrivateKeyToScalar:y,weierstrassEquation:p,isWithinCurveOrder:E}=hwt({...e,toBytes(_,A,T){let v=A.toAffine(),u=r.toBytes(v.x),w=T0;return T?w(Uint8Array.from([A.hasEvenY()?2:3]),u):w(Uint8Array.from([4]),u,r.toBytes(v.y))},fromBytes(_){let A=_.length,T=_[0],v=_.subarray(1);if(A===i&&(T===2||T===3)){let u=ks(v);if(!a(u))throw new Error("Point is not on curve");let w=p(u),V=r.sqrt(w),q=(V&wu)===wu;return(T&1)===1!==q&&(V=r.neg(V)),{x:u,y:V}}else if(A===s&&T===4){let u=r.fromBytes(v.subarray(0,r.BYTES)),w=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:u,y:w}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),I=o(_=>G1(Tl(_,e.nByteLength)),"numToNByteStr");function O(_){let A=n>>wu;return _>A}o(O,"isBiggerThanHalfOrder");function N(_){return O(_)?c(-_):_}o(N,"normalizeS");let k=o((_,A,T)=>ks(_.slice(A,T)),"slcNum");class C{static{o(this,"Signature")}constructor(A,T,v){this.r=A,this.s=T,this.recovery=v,this.assertValidity()}static fromCompact(A){let T=e.nByteLength;return A=Uo("compactSignature",A,T*2),new C(k(A,0,T),k(A,T,2*T))}static fromDER(A){let{r:T,s:v}=Y1.toSig(Uo("DER",A));return new C(T,v)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new C(this.r,this.s,A)}recoverPublicKey(A){let{r:T,s:v,recovery:u}=this,w=J(Uo("msgHash",A));if(u==null||![0,1,2,3].includes(u))throw new Error("recovery id invalid");let V=u===2||u===3?T+e.n:T;if(V>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let q=u&1?"03":"02",U=h.fromHex(q+I(V)),$=l(V),ee=c(-w*$),re=c(v*$),Oe=h.BASE.multiplyAndAddUnsafe(U,ee,re);if(!Oe)throw new Error("point at infinify");return Oe.assertValidity(),Oe}hasHighS(){return O(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return $1(this.toDERHex())}toDERHex(){return Y1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return $1(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let L={isValidPrivateKey(_){try{return y(_),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:o(()=>{let _=MW(e.n);return xRe(e.randomBytes(_),e.n)},"randomPrivateKey"),precompute(_=8,A=h.BASE){return A._setWindowSize(_),A.multiply(BigInt(3)),A}};function M(_,A=!0){return h.fromPrivateKey(_).toRawBytes(A)}o(M,"getPublicKey");function P(_){let A=_ instanceof Uint8Array,T=typeof _=="string",v=(A||T)&&_.length;return A?v===i||v===s:T?v===2*i||v===2*s:_ instanceof h}o(P,"isProbPub");function H(_,A,T=!0){if(P(_))throw new Error("first arg must be private key");if(!P(A))throw new Error("second arg must be public key");return h.fromHex(A).multiply(y(_)).toRawBytes(T)}o(H,"getSharedSecret");let F=e.bits2int||function(_){let A=ks(_),T=_.length*8-e.nBitLength;return T>0?A>>BigInt(T):A},J=e.bits2int_modN||function(_){return c(F(_))},W=u6(e.nBitLength);function X(_){if(typeof _!="bigint")throw new Error("bigint expected");if(!(R0<=_&&_<W))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Tl(_,e.nByteLength)}o(X,"int2octets");function S(_,A,T=f){if(["recovered","canonical"].some(le=>le in T))throw new Error("sign() legacy options not supported");let{hash:v,randomBytes:u}=e,{lowS:w,prehash:V,extraEntropy:q}=T;w==null&&(w=!0),_=Uo("msgHash",_),V&&(_=Uo("prehashed msgHash",v(_)));let U=J(_),$=y(A),ee=[X($),X(U)];if(q!=null){let le=q===!0?u(r.BYTES):q;ee.push(Uo("extraEntropy",le))}let re=T0(...ee),Oe=U;function ae(le){let ye=F(le);if(!E(ye))return;let he=l(ye),ge=h.BASE.multiply(ye).toAffine(),ur=c(ge.x);if(ur===R0)return;let Ae=c(he*c(Oe+ur*$));if(Ae===R0)return;let Ne=(ge.x===ur?0:2)|Number(ge.y&wu),jn=Ae;return w&&O(Ae)&&(jn=N(Ae),Ne^=1),new C(ur,jn,Ne)}return o(ae,"k2sig"),{seed:re,k2sig:ae}}o(S,"prepSig");let f={lowS:e.lowS,prehash:!1},d={lowS:e.lowS,prehash:!1};function b(_,A,T=f){let{seed:v,k2sig:u}=S(_,A,T),w=e;return IW(w.hash.outputLen,w.nByteLength,w.hmac)(v,u)}o(b,"sign"),h.BASE._setWindowSize(8);function x(_,A,T,v=d){let u=_;if(A=Uo("msgHash",A),T=Uo("publicKey",T),"strict"in v)throw new Error("options.strict was renamed to lowS");let{lowS:w,prehash:V}=v,q,U;try{if(typeof u=="string"||u instanceof Uint8Array)try{q=C.fromDER(u)}catch(ge){if(!(ge instanceof Y1.Err))throw ge;q=C.fromCompact(u)}else if(typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint"){let{r:ge,s:ur}=u;q=new C(ge,ur)}else throw new Error("PARSE");U=h.fromHex(T)}catch(ge){if(ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(w&&q.hasHighS())return!1;V&&(A=e.hash(A));let{r:$,s:ee}=q,re=J(A),Oe=l(ee),ae=c(re*Oe),le=c($*Oe),ye=h.BASE.multiplyAndAddUnsafe(U,ae,le)?.toAffine();return ye?c(ye.x)===$:!1}return o(x,"verify"),{CURVE:e,getPublicKey:M,getSharedSecret:H,sign:b,verify:x,ProjectivePoint:h,Signature:C,utils:L}}o(wRe,"weierstrass");m();g();m();g();var FM=class extends Z2{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,aRe(e);let n=f6(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return X2(this),this.iHash.update(e),this}digestInto(e){X2(this),wW(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},BW=o((t,e,r)=>new FM(t,e).update(r).digest(),"hmac");BW.create=(t,e)=>new FM(t,e);function mwt(t){return{hash:t,hmac:o((e,...r)=>BW(t,e,uRe(...r)),"hmac"),randomBytes:MM}}o(mwt,"getHash");function ERe(t,e){let r=o(n=>wRe({...t,...mwt(n)}),"create");return Object.freeze({...r(e),create:r})}o(ERe,"createCurve");var jM=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),HM=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),IRe=BigInt(1),qM=BigInt(2),SRe=o((t,e)=>(t+e/qM)/e,"divNearest");function TRe(t){let e=jM,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),l=BigInt(88),h=t*t*t%e,y=h*h*t%e,p=gf(y,r,e)*y%e,E=gf(p,r,e)*y%e,I=gf(E,qM,e)*h%e,O=gf(I,i,e)*I%e,N=gf(O,s,e)*O%e,k=gf(N,c,e)*N%e,C=gf(k,l,e)*k%e,L=gf(C,c,e)*N%e,M=gf(L,r,e)*y%e,P=gf(M,a,e)*O%e,H=gf(P,n,e)*h%e,F=gf(H,qM,e);if(!LW.eql(LW.sqr(F),t))throw new Error("Cannot find square root");return F}o(TRe,"sqrtMod");var LW=yRe(jM,void 0,void 0,{sqrt:TRe}),J2=ERe({a:BigInt(0),b:BigInt(7),Fp:LW,n:HM,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:o(t=>{let e=HM,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-IRe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=SRe(s*t,e),l=SRe(-n*t,e),h=Fo(t-c*r-l*i,e),y=Fo(-c*n-l*s,e),p=h>a,E=y>a;if(p&&(h=e-h),E&&(y=e-y),h>a||y>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:h,k2neg:E,k2:y}},"splitScalar")}},kM),zM=BigInt(0),RRe=o(t=>typeof t=="bigint"&&zM<t&&t<jM,"fe"),gwt=o(t=>typeof t=="bigint"&&zM<t&&t<HM,"ge"),ARe={};function VM(t,...e){let r=ARe[t];if(r===void 0){let n=kM(Uint8Array.from(t,i=>i.charCodeAt(0)));r=T0(n,n),ARe[t]=r}return kM(T0(r,...e))}o(VM,"taggedHash");var FW=o(t=>t.toRawBytes(!0).slice(1),"pointToBytes"),DW=o(t=>Tl(t,32),"numTo32b"),PW=o(t=>Fo(t,jM),"modP"),l6=o(t=>Fo(t,HM),"modN"),HW=J2.ProjectivePoint,ywt=o((t,e,r)=>HW.BASE.multiplyAndAddUnsafe(t,e,r),"GmulAdd");function UW(t){let e=J2.utils.normPrivateKeyToScalar(t),r=HW.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:l6(-e),bytes:FW(r)}}o(UW,"schnorrGetExtPubKey");function ORe(t){if(!RRe(t))throw new Error("bad x: need 0 < x < p");let e=PW(t*t),r=PW(e*t+BigInt(7)),n=TRe(r);n%qM!==zM&&(n=PW(-n));let i=new HW(t,n,IRe);return i.assertValidity(),i}o(ORe,"lift_x");function NRe(...t){return l6(ks(VM("BIP0340/challenge",...t)))}o(NRe,"challenge");function bwt(t){return UW(t).bytes}o(bwt,"schnorrGetPublicKey");function xwt(t,e,r=MM(32)){let n=Uo("message",t),{bytes:i,scalar:s}=UW(e),a=Uo("auxRand",r,32),c=DW(s^ks(VM("BIP0340/aux",a))),l=VM("BIP0340/nonce",c,i,n),h=l6(ks(l));if(h===zM)throw new Error("sign failed: k is zero");let{bytes:y,scalar:p}=UW(h),E=NRe(y,i,n),I=new Uint8Array(64);if(I.set(y,0),I.set(DW(l6(p+E*s)),32),!MRe(I,n,i))throw new Error("sign: Invalid signature produced");return I}o(xwt,"schnorrSign");function MRe(t,e,r){let n=Uo("signature",t,64),i=Uo("message",e),s=Uo("publicKey",r,32);try{let a=ORe(ks(s)),c=ks(n.subarray(0,32));if(!RRe(c))return!1;let l=ks(n.subarray(32,64));if(!gwt(l))return!1;let h=NRe(DW(c),FW(a),i),y=ywt(a,l,l6(-h));return!(!y||!y.hasEvenY()||y.toAffine().x!==c)}catch{return!1}}o(MRe,"schnorrVerify");var yf={getPublicKey:bwt,sign:xwt,verify:MRe,utils:{randomPrivateKey:J2.utils.randomPrivateKey,lift_x:ORe,pointToBytes:FW,numberToBytesBE:Tl,bytesToNumberBE:ks,taggedHash:VM,mod:Fo}};m();g();m();g();m();g();function vwt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(vwt,"isBytes");function _wt(t,...e){if(!vwt(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(_wt,"bytes");function qW(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(qW,"exists");function CRe(t,e){_wt(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(CRe,"output");m();g();function wwt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(wwt,"isBytes");var GM=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Rl=o((t,e)=>t<<32-e|t>>>e,"rotr"),Ewt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ewt)throw new Error("Non little-endian hardware is not supported");function Swt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(Swt,"utf8ToBytes");function VW(t){if(typeof t=="string"&&(t=Swt(t)),!wwt(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(VW,"toBytes");var KM=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},Yon={}.toString;function $M(t){let e=o(n=>t().update(VW(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o($M,"wrapConstructor");function Awt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),l=n?4:0,h=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+h,c,n)}o(Awt,"setBigUint64");var Q2=class extends KM{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=GM(this.buffer)}update(e){qW(this);let{view:r,buffer:n,blockLen:i}=this;e=VW(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let l=GM(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){qW(this),CRe(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let p=a;p<i;p++)r[p]=0;Awt(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=GM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=l/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,y[p],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var Iwt=o((t,e,r)=>t&e^~t&r,"Chi"),Twt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),Rwt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mg=new Uint32Array(64),jW=class extends Q2{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=pg[0]|0,this.B=pg[1]|0,this.C=pg[2]|0,this.D=pg[3]|0,this.E=pg[4]|0,this.F=pg[5]|0,this.G=pg[6]|0,this.H=pg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:l}=this;return[e,r,n,i,s,a,c,l]}set(e,r,n,i,s,a,c,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,r){for(let p=0;p<16;p++,r+=4)mg[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let E=mg[p-15],I=mg[p-2],O=Rl(E,7)^Rl(E,18)^E>>>3,N=Rl(I,17)^Rl(I,19)^I>>>10;mg[p]=N+mg[p-7]+O+mg[p-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:l,G:h,H:y}=this;for(let p=0;p<64;p++){let E=Rl(c,6)^Rl(c,11)^Rl(c,25),I=y+E+Iwt(c,l,h)+Rwt[p]+mg[p]|0,N=(Rl(n,2)^Rl(n,13)^Rl(n,22))+Twt(n,i,s)|0;y=h,h=l,l=c,c=a+I|0,a=s,s=i,i=n,n=I+N|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,l,h,y)}roundClean(){mg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Eu=$M(()=>new jW);m();g();var Owt=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),BRe=Uint8Array.from({length:16},(t,e)=>e),Nwt=BRe.map(t=>(9*t+5)%16),KW=[BRe],GW=[Nwt];for(let t=0;t<4;t++)for(let e of[KW,GW])e.push(e[t].map(r=>Owt[r]));var PRe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),Mwt=KW.map((t,e)=>t.map(r=>PRe[e][r])),Cwt=GW.map((t,e)=>t.map(r=>PRe[e][r])),kwt=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Bwt=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),WM=o((t,e)=>t<<e|t>>>32-e,"rotl");function kRe(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}o(kRe,"f");var YM=new Uint32Array(16),zW=class extends Q2{static{o(this,"RIPEMD160")}constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let I=0;I<16;I++,r+=4)YM[I]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,a=s,c=this.h2|0,l=c,h=this.h3|0,y=h,p=this.h4|0,E=p;for(let I=0;I<5;I++){let O=4-I,N=kwt[I],k=Bwt[I],C=KW[I],L=GW[I],M=Mwt[I],P=Cwt[I];for(let H=0;H<16;H++){let F=WM(n+kRe(I,s,c,h)+YM[C[H]]+N,M[H])+p|0;n=p,p=h,h=WM(c,10)|0,c=s,s=F}for(let H=0;H<16;H++){let F=WM(i+kRe(O,a,l,y)+YM[L[H]]+k,P[H])+E|0;i=E,E=y,y=WM(l,10)|0,l=a,a=F}}this.set(this.h1+c+y|0,this.h2+h+E|0,this.h3+p+i|0,this.h4+n+a|0,this.h0+s+l|0)}roundClean(){YM.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},LRe=$M(()=>new zW);m();g();function e_(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}o(e_,"assertNumber");function XM(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(XM,"isBytes");function JM(...t){let e=o(s=>s,"id"),r=o((s,a)=>c=>s(a(c)),"wrap"),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}o(JM,"chain");function YW(t){return{encode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},"encode"),decode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})},"decode")}}o(YW,"alphabet");function XW(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},"encode"),decode:o(e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)},"decode")}}o(XW,"join");function Pwt(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:o(e=>e,"encode"),decode:o(e=>t(e),"decode")}}o(Pwt,"normalize");function DRe(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0,i=[],s=Array.from(t);for(s.forEach(a=>{if(a<0||a>=e)throw new Error(`Wrong integer: ${a}`)});;){let a=0,c=!0;for(let l=n;l<s.length;l++){let h=s[l],y=e*a+h;if(!Number.isSafeInteger(y)||e*a/e!==a||y-h!==e*a)throw new Error("convertRadix: carry overflow");a=y%r;let p=Math.floor(y/r);if(s[l]=p,!Number.isSafeInteger(p)||p*r+a!==y)throw new Error("convertRadix: carry overflow");if(c)p?c=!1:n=l;else continue}if(i.push(a),c)break}for(let a=0;a<t.length-1&&t[a]===0;a++)i.push(0);return i.reverse()}o(DRe,"convertRadix");var qRe=o((t,e)=>e?qRe(e,t%e):t,"gcd"),ZM=o((t,e)=>t+(e-qRe(t,e)),"radix2carry");function $W(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(ZM(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${ZM(e,r)}`);let i=0,s=0,a=2**r-1,c=[];for(let l of t){if(l>=2**e)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}o($W,"convertRadix2");function Lwt(t){return{encode:o(e=>{if(!XM(e))throw new Error("radix.encode input should be Uint8Array");return DRe(Array.from(e),2**8,t)},"encode"),decode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(DRe(e,t,2**8))},"decode")}}o(Lwt,"radix");function VRe(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(ZM(8,t)>32||ZM(t,8)>32)throw new Error("radix2: carry overflow");return{encode:o(r=>{if(!XM(r))throw new Error("radix2.encode input should be Uint8Array");return $W(Array.from(r),8,t,!e)},"encode"),decode:o(r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from($W(r,t,8,e))},"decode")}}o(VRe,"radix2");function URe(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}o(URe,"unsafeWrapper");function Dwt(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!XM(r))throw new Error("checksum.encode: input should be Uint8Array");let n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!XM(r))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-t),i=e(n).slice(0,t),s=r.slice(-t);for(let a=0;a<t;a++)if(i[a]!==s[a])throw new Error("Invalid checksum");return n}}}o(Dwt,"checksum");var Uwt=o(t=>JM(Lwt(58),YW(t),XW("")),"genBase58"),Fwt=Uwt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Hwt=o(t=>JM(Dwt(4,e=>t(t(e))),Fwt),"createBase58check"),jRe=Hwt,WW=JM(YW("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),XW("")),FRe=[996825010,642813549,513874426,1027748829,705979059];function d6(t){let e=t>>25,r=(t&33554431)<<5;for(let n=0;n<FRe.length;n++)(e>>n&1)===1&&(r^=FRe[n]);return r}o(d6,"bech32Polymod");function HRe(t,e,r=1){let n=t.length,i=1;for(let s=0;s<n;s++){let a=t.charCodeAt(s);if(a<33||a>126)throw new Error(`Invalid prefix (${t})`);i=d6(i)^a>>5}i=d6(i);for(let s=0;s<n;s++)i=d6(i)^t.charCodeAt(s)&31;for(let s of e)i=d6(i)^s;for(let s=0;s<6;s++)i=d6(i);return i^=r,WW.encode($W([i%2**30],30,5,!1))}o(HRe,"bechChecksum");function zRe(t){let e=t==="bech32"?1:734539939,r=VRe(5),n=r.decode,i=r.encode,s=URe(n);function a(y,p,E=90){if(typeof y!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof y}`);if(!Array.isArray(p)||p.length&&typeof p[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof p}`);if(y.length===0)throw new TypeError(`Invalid prefix length ${y.length}`);let I=y.length+7+p.length;if(E!==!1&&I>E)throw new TypeError(`Length ${I} exceeds limit ${E}`);let O=y.toLowerCase(),N=HRe(O,p,e);return`${O}1${WW.encode(p)}${N}`}o(a,"encode");function c(y,p=90){if(typeof y!="string")throw new Error(`bech32.decode input should be string, not ${typeof y}`);if(y.length<8||p!==!1&&y.length>p)throw new TypeError(`Wrong string length: ${y.length} (${y}). Expected (8..${p})`);let E=y.toLowerCase();if(y!==E&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");let I=E.lastIndexOf("1");if(I===0||I===-1)throw new Error('Letter "1" must be present between prefix and data only');let O=E.slice(0,I),N=E.slice(I+1);if(N.length<6)throw new Error("Data must be at least 6 characters long");let k=WW.decode(N).slice(0,-6),C=HRe(O,k,e);if(!N.endsWith(C))throw new Error(`Invalid checksum in ${y}: expected "${C}"`);return{prefix:O,words:k}}o(c,"decode");let l=URe(c);function h(y){let{prefix:p,words:E}=c(y,!1);return{prefix:p,words:E,bytes:n(E)}}return o(h,"decodeToBytes"),{encode:a,decode:c,decodeToBytes:h,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:s,toWords:i}}o(zRe,"genBech32");var QM=zRe("bech32"),ZW=zRe("bech32m"),JW={encode:o(t=>new TextDecoder().decode(t),"encode"),decode:o(t=>new TextEncoder().encode(t),"decode")},Fi=JM(VRe(4),YW("0123456789abcdef"),XW(""),Pwt(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}));m();g();var Hi=new Uint8Array,oC=new Uint8Array([0]);function xi(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(xi,"equalBytes");function eC(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(eC,"concatBytes");var bf=o(t=>t instanceof Uint8Array,"isBytes"),tC=class{static{o(this,"Reader")}constructor(e,r=[],n=[]){this.data=e,this.path=r,this.fieldPath=n,this.pos=0,this.hasPtr=!1,this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Reader(${this.fieldPath.join("/")}): ${e}`)}absBytes(e){if(e>this.data.length)throw new Error("absBytes: Unexpected end of buffer");return this.data.subarray(e)}bytes(e,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(e))throw this.err(`readBytes: wrong length=${e}`);if(this.pos+e>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let n=this.data.subarray(this.pos,this.pos+e);return r||(this.pos+=e),n}byte(e=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");return this.data[e?this.pos:this.pos++]}get leftBytes(){return this.data.length-this.pos}isEnd(){return this.pos>=this.data.length&&!this.bitPos}length(e){let r;if(gg(e)?r=Number(e.decodeStream(this)):typeof e=="number"?r=e:typeof e=="string"&&(r=iC(this.path,e.split("/"))),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw this.err(`Wrong length: ${r}`);return r}bits(e){if(e>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;e;){this.bitPos||(this.bitBuf=this.data[this.pos++],this.bitPos=8);let n=Math.min(e,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,e-=n}return r>>>0}find(e,r=this.pos){if(!bf(e))throw this.err(`find: needle is not bytes! ${e}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!e.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(e[0],n))!==-1;n++){if(n===-1||this.data.length-n<e.length)return;if(xi(e,this.data.subarray(n,n+e.length)))return n}}finish(){if(!(this.isEnd()||this.hasPtr))throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${Fi.encode(this.data.slice(this.pos))}`)}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},rC=class{static{o(this,"Writer")}constructor(e=[],r=[]){this.path=e,this.fieldPath=r,this.buffers=[],this.pos=0,this.ptrs=[],this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Writer(${this.fieldPath.join("/")}): ${e}`)}bytes(e){if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(e),this.pos+=e.length}byte(e){if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([e])),this.pos++}get buffer(){if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");let e=eC(...this.buffers);for(let r of this.ptrs){let n=e.length;e=eC(e,r.buffer);let i=r.ptr.encode(n);for(let s=0;s<i.length;s++)e[r.pos+s]=i[s]}return e}length(e,r){if(e===null)return;if(gg(e))return e.encodeStream(this,r);let n;if(typeof e=="number"?n=e:typeof e=="string"&&(n=iC(this.path,e.split("/"))),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw this.err(`Wrong length: ${n} len=${e} exp=${r}`)}bits(e,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(e>=2**r)throw this.err(`writeBits: value (${e}) >= 2**bits (${r})`);for(;r;){let n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|e>>r-n,this.bitPos+=n,r-=n,e&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},nC=o(t=>Uint8Array.from(t).reverse(),"swap");function KRe(t,e,r,n){if(n){let i=2n**(r-1n);if(e<-i||e>=i)throw t.err("sInt: value out of bounds")}else if(0n>e||e>=2n**r)throw t.err("uInt: value out of bounds")}o(KRe,"checkBounds");function qo(t){return{...t,encode:o(e=>{let r=new rC;return t.encodeStream(r,e),r.buffer},"encode"),decode:o(e=>{let r=new tC(e),n=t.decodeStream(r);return r.finish(),n},"decode")}}o(qo,"wrap");function iC(t,e){t=Array.from(t);let r=0;for(;r<e.length&&e[r]==="..";r++)t.pop();let n=t.pop();for(;r<e.length;r++){if(!n||n[e[r]]===void 0)return;n=n[e[r]]}return n}o(iC,"getPath");function gg(t){return typeof t.encode=="function"&&typeof t.encodeStream=="function"&&typeof t.decode=="function"&&typeof t.decodeStream=="function"}o(gg,"isCoder");function Vwt(){return{encode:o(t=>{let e={};for(let[r,n]of t){if(e[r]!==void 0)throw new Error(`coders.dict: same key(${r}) appears twice in struct`);e[r]=n}return e},"encode"),decode:o(t=>Object.entries(t),"decode")}}o(Vwt,"dict");var jwt={encode:o(t=>{if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`coders.number: element bigger than MAX_SAFE_INTEGER=${t}`);return Number(t)},"encode"),decode:o(t=>BigInt(t),"decode")};function zwt(t){return{encode:o(e=>t[e],"encode"),decode:o(e=>t[e],"decode")}}o(zwt,"tsEnum");function Kwt(t){let e=10n**BigInt(t);return{encode:o(r=>{let n=(r<0n?-r:r).toString(10),i=n.length-t;i<0&&(n=n.padStart(n.length-i,"0"),i=0);let s=n.length-1;for(;s>=i&&n[s]==="0";s--);let[a,c]=[n.slice(0,i),n.slice(i,s+1)];return a||(a="0"),r<0n&&(a="-"+a),c?`${a}.${c}`:a},"encode"),decode:o(r=>{let n=!1;r.startsWith("-")&&(n=!0,r=r.slice(1));let i=r.indexOf(".");i=i===-1?r.length:i;let[s,a]=[r.slice(0,i),r.slice(i+1)],c=BigInt(s)*e,l=Math.min(a.length,t),h=BigInt(a.slice(0,l))*10n**BigInt(t-l),y=c+h;return n?-y:y},"decode")}}o(Kwt,"decimal");function Gwt(t){return{encode:o(e=>{for(let r of t){let n=r.encode(e);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${e}`)},"encode"),decode:o(e=>{for(let r of t){let n=r.decode(e);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${e}`)},"decode")}}o(Gwt,"match");var t_={dict:Vwt,number:jwt,tsEnum:zwt,decimal:Kwt,match:Gwt};var xf=o((t,e=!1,r=!1)=>qo({size:t,encodeStream:o((n,i)=>{if(typeof i!="number"&&typeof i!="bigint")throw n.err(`bigint: invalid value: ${i}`);let s=BigInt(i),a=BigInt(t);KRe(n,s,8n*a,!!r);let c=2n**(8n*a-1n);r&&s<0&&(s=s|c);let l=[];for(let y=0;y<t;y++)l.push(Number(s&255n)),s>>=8n;let h=new Uint8Array(l).reverse();n.bytes(e?h.reverse():h)},"encodeStream"),decodeStream:o(n=>{let i=BigInt(t),s=n.bytes(t);e&&(s=nC(s));let a=nC(s),c=2n**(8n*i-1n),l=0n;for(let h=0;h<a.length;h++)l|=BigInt(a[h])<<8n*BigInt(h);return r&&l&c&&(l=(l^c)-c),KRe(n,l,8n*i,!!r),l},"decodeStream")}),"bigint"),Ssn=xf(32,!0),GRe=xf(32,!1),Asn=xf(32,!0,!0),Isn=xf(32,!1,!0),Tsn=xf(16,!0),Rsn=xf(16,!1),Osn=xf(16,!0,!0),Nsn=xf(16,!1,!0),h6=xf(8,!0),Msn=xf(8,!1),$Re=xf(8,!0,!0),Csn=xf(8,!1,!0),rh=o((t,e=!1,r=!1)=>{if(t>6)throw new Error("int supports size up to 6 bytes (48 bits), for other use bigint");return m6(xf(t,e,r),t_.number)},"int"),Xn=rh(4,!0),WRe=rh(4,!1),r_=rh(4,!0,!0),ksn=rh(4,!1,!0),QW=rh(2,!0),Bsn=rh(2,!1),Psn=rh(2,!0,!0),Lsn=rh(2,!1,!0),O0=rh(1,!1),Dsn=rh(1,!1,!0),Usn=qo({size:1,encodeStream:o((t,e)=>t.byte(e?1:0),"encodeStream"),decodeStream:o(t=>{let e=t.byte();if(e!==0&&e!==1)throw t.err(`bool: invalid value ${e}`);return e===1},"decodeStream")}),Ii=o((t,e=!1)=>qo({size:typeof t=="number"?t:void 0,encodeStream:o((r,n)=>{if(!bf(n))throw r.err(`bytes: invalid value ${n}`);bf(t)||r.length(t,n.length),r.bytes(e?nC(n):n),bf(t)&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n;if(bf(t)){let i=r.find(t);if(!i)throw r.err("bytes: cannot find terminator");n=r.bytes(i-r.pos),r.bytes(t.length)}else n=r.bytes(t===null?r.leftBytes:r.length(t));return e?nC(n):n},"decodeStream")}),"bytes"),p6=o((t,e=!1)=>{let r=Ii(t,e);return qo({size:r.size,encodeStream:o((n,i)=>r.encodeStream(n,JW.decode(i)),"encodeStream"),decodeStream:o(n=>JW.encode(r.decodeStream(n)),"decodeStream")})},"string"),Fsn=p6(oC),YRe=o((t,e=!1,r=!1)=>{let n=Ii(t,e);return qo({size:n.size,encodeStream:o((i,s)=>{if(r&&!s.startsWith("0x"))throw new Error("hex(withZero=true).encode input should start with 0x");let a=Fi.decode(r?s.slice(2):s);return n.encodeStream(i,a)},"encodeStream"),decodeStream:o(i=>(r?"0x":"")+Fi.encode(n.decodeStream(i)),"decodeStream")})},"hex");function m6(t,e){if(!gg(t))throw new Error(`apply: invalid inner value ${t}`);return qo({size:t.size,encodeStream:o((r,n)=>{let i;try{i=e.decode(n)}catch(s){throw r.err(""+s)}return t.encodeStream(r,i)},"encodeStream"),decodeStream:o(r=>{let n=t.decodeStream(r);try{return e.encode(n)}catch(i){throw r.err(""+i)}},"decodeStream")})}o(m6,"apply");function Su(t,e){if(!gg(t))throw new Error(`validate: invalid inner value ${t}`);return qo({size:t.size,encodeStream:o((r,n)=>t.encodeStream(r,e(n)),"encodeStream"),decodeStream:o(r=>e(t.decodeStream(r)),"decodeStream")})}o(Su,"validate");var XRe=o((t,e=!1)=>qo({size:t.length,encodeStream:o((r,n)=>{!!n!==e&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n=r.leftBytes>=t.length;return n&&(n=xi(r.bytes(t.length,!0),t),n&&r.bytes(t.length)),n!==e},"decodeStream")}),"flag");function ZRe(t,e,r){if(!gg(e))throw new Error(`flagged: invalid inner value ${e}`);return qo({encodeStream:o((n,i)=>{typeof t=="string"?iC(n.path,t.split("/"))?e.encodeStream(n,i):r&&e.encodeStream(n,r):(t.encodeStream(n,!!i),i?e.encodeStream(n,i):r&&e.encodeStream(n,r))},"encodeStream"),decodeStream:o(n=>{let i=!1;if(typeof t=="string"?i=iC(n.path,t.split("/")):i=t.decodeStream(n),i)return e.decodeStream(n);r&&e.decodeStream(n)},"decodeStream")})}o(ZRe,"flagged");function g6(t,e,r=!0){if(!gg(t))throw new Error(`flagged: invalid inner value ${t}`);return qo({size:t.size,encodeStream:o((n,i)=>t.encodeStream(n,e),"encodeStream"),decodeStream:o(n=>{let i=t.decodeStream(n);if(r&&typeof i!="object"&&i!==e||bf(e)&&!xi(e,i))throw n.err(`magic: invalid value: ${i} !== ${e}`)},"decodeStream")})}o(g6,"magic");function JRe(t){let e=0;for(let r of t){if(!r.size)return;e+=r.size}return e}o(JRe,"sizeof");function Sa(t){if(Array.isArray(t))throw new Error("Packed.Struct: got array instead of object");return qo({size:JRe(Object.values(t)),encodeStream:o((e,r)=>{if(typeof r!="object"||r===null)throw e.err(`struct: invalid value ${r}`);e.path.push(r);for(let n in t)e.fieldPathPush(n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},"encodeStream"),decodeStream:o(e=>{let r={};e.path.push(r);for(let n in t)e.fieldPathPush(n),r[n]=t[n].decodeStream(e),e.fieldPathPop();return e.path.pop(),r},"decodeStream")})}o(Sa,"struct");function QRe(t){if(!Array.isArray(t))throw new Error(`Packed.Tuple: got ${typeof t} instead of array`);return qo({size:JRe(t),encodeStream:o((e,r)=>{if(!Array.isArray(r))throw e.err(`tuple: invalid value ${r}`);e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},"encodeStream"),decodeStream:o(e=>{let r=[];e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),r.push(t[n].decodeStream(e)),e.fieldPathPop();return e.path.pop(),r},"decodeStream")})}o(QRe,"tuple");function e7e(t,e){if(!gg(e))throw new Error(`prefix: invalid inner value ${e}`);if(bf(t))throw new Error("prefix: len cannot be Uint8Array");let r=Ii(t);return qo({size:typeof t=="number"?t:void 0,encodeStream:o((n,i)=>{let s=new rC(n.path,n.fieldPath);e.encodeStream(s,i),r.encodeStream(n,s.buffer)},"encodeStream"),decodeStream:o(n=>{let i=r.decodeStream(n);return e.decodeStream(new tC(i,n.path,n.fieldPath))},"decodeStream")})}o(e7e,"prefix");function Xa(t,e){if(!gg(e))throw new Error(`array: invalid inner value ${e}`);return qo({size:typeof t=="number"&&e.size?t*e.size:void 0,encodeStream:o((r,n)=>{if(!Array.isArray(n))throw r.err(`array: invalid value ${n}`);bf(t)||r.length(t,n.length),r.path.push(n);for(let i=0;i<n.length;i++){r.fieldPathPush(""+i);let s=n[i],a=r.pos;if(e.encodeStream(r,s),bf(t)){if(t.length>r.pos-a)continue;let c=r.buffer.subarray(a,r.pos);if(xi(c.subarray(0,t.length),t))throw r.err(`array: inner element encoding same as separator. elm=${s} data=${c}`)}r.fieldPathPop()}r.path.pop(),bf(t)&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n=[];if(t===null){let i=0;for(r.path.push(n);!r.isEnd()&&(r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop(),!(e.size&&r.leftBytes<e.size)););r.path.pop()}else if(bf(t)){let i=0;for(r.path.push(n);;){if(xi(r.bytes(t.length,!0),t)){r.bytes(t.length);break}r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop()}r.path.pop()}else{r.fieldPathPush("arrayLen");let i=r.length(t);r.fieldPathPop(),r.path.push(n);for(let s=0;s<i;s++)r.fieldPathPush(""+s),n.push(e.decodeStream(r)),r.fieldPathPop();r.path.pop()}return n},"decodeStream")})}o(Xa,"array");var Hsn=g6(Ii(0),Hi);var{ProjectivePoint:pC,sign:t7e,getPublicKey:Wwt}=J2,fC=J2.CURVE.n,b6=o((t,e)=>t===void 0?e:t,"def"),Ri=bf,mC=o(t=>LRe(Eu(t)),"hash160"),yg=o((...t)=>Eu(Eu(bg(...t))),"sha256x2"),bg=eC,m7e=jRe(Eu);function uC(t){if(Array.isArray(t))return t.map(e=>uC(e));if(t instanceof Uint8Array)return Uint8Array.from(t);if(["number","bigint","boolean","string","undefined"].includes(typeof t))return t;if(t===null)return t;if(typeof t=="object")return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,uC(r)]));throw new Error(`cloneDeep: unknown type=${t} (${typeof t})`)}o(uC,"cloneDeep");var Ia;(function(t){t[t.ecdsa=0]="ecdsa",t[t.schnorr=1]="schnorr"})(Ia||(Ia={}));function s_(t,e){let r=t.length;if(e===Ia.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return pC.fromHex(t),t}else if(e===Ia.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return yf.utils.lift_x(yf.utils.bytesToNumberBE(t)),t}else throw new Error("Unknown key type")}o(s_,"validatePubkey");function Z1(t,e){try{return s_(t,e),!0}catch{return!1}}o(Z1,"isValidPubkey");var r7e=o(t=>t.r<fC/2n,"hasLowR");function Ywt(t,e,r=!1){let n=t7e(t,e);if(r&&!r7e(n)){let i=new Uint8Array(32);for(let s=0;s<Number.MAX_SAFE_INTEGER&&(i.set(Xn.encode(s)),n=t7e(t,e,{extraEntropy:i}),!r7e(n));s++);}return n.toDERRawBytes()}o(Ywt,"signECDSA");function g7e(t,e){let r=yf.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=fC)throw new Error("tweak higher than curve order");return i}o(g7e,"tapTweak");function Xwt(t,e=new Uint8Array){let r=yf.utils,n=r.bytesToNumberBE(t),i=pC.fromPrivateKey(n),s=i.hasEvenY()?n:r.mod(-n,fC),a=r.pointToBytes(i),c=g7e(a,e);return r.numberToBytesBE(r.mod(s+c,fC),32)}o(Xwt,"taprootTweakPrivKey");function y7e(t,e){let r=yf.utils,n=g7e(t,e),s=r.lift_x(r.bytesToNumberBE(t)).add(pC.fromPrivateKey(n)),a=s.hasEvenY()?0:1;return[r.pointToBytes(s),a]}o(y7e,"taprootTweakPubkey");var iY=Su(Ii(null),t=>s_(t,Ia.ecdsa)),lC=Su(Ii(32),t=>s_(t,Ia.schnorr)),n7e=Su(Ii(null),t=>{if(t.length!==64&&t.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return t});var a_={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};var Zwt=8,Jwt=2,X1=0,b7e=4294967295,sC=new Uint8Array(32),Wsn=t_.decimal(Zwt);function oY(t,e){if(!Ri(t)||!Ri(e))throw new Error(`cmp: wrong type a=${typeof t} b=${typeof e}`);let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!=e[n])return Math.sign(t[n]-e[n]);return Math.sign(t.length-e.length)}o(oY,"_cmpBytes");var Vo;(function(t){t[t.OP_0=0]="OP_0",t[t.PUSHDATA1=76]="PUSHDATA1",t[t.PUSHDATA2=77]="PUSHDATA2",t[t.PUSHDATA4=78]="PUSHDATA4",t[t["1NEGATE"]=79]="1NEGATE",t[t.RESERVED=80]="RESERVED",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.NOP=97]="NOP",t[t.VER=98]="VER",t[t.IF=99]="IF",t[t.NOTIF=100]="NOTIF",t[t.VERIF=101]="VERIF",t[t.VERNOTIF=102]="VERNOTIF",t[t.ELSE=103]="ELSE",t[t.ENDIF=104]="ENDIF",t[t.VERIFY=105]="VERIFY",t[t.RETURN=106]="RETURN",t[t.TOALTSTACK=107]="TOALTSTACK",t[t.FROMALTSTACK=108]="FROMALTSTACK",t[t["2DROP"]=109]="2DROP",t[t["2DUP"]=110]="2DUP",t[t["3DUP"]=111]="3DUP",t[t["2OVER"]=112]="2OVER",t[t["2ROT"]=113]="2ROT",t[t["2SWAP"]=114]="2SWAP",t[t.IFDUP=115]="IFDUP",t[t.DEPTH=116]="DEPTH",t[t.DROP=117]="DROP",t[t.DUP=118]="DUP",t[t.NIP=119]="NIP",t[t.OVER=120]="OVER",t[t.PICK=121]="PICK",t[t.ROLL=122]="ROLL",t[t.ROT=123]="ROT",t[t.SWAP=124]="SWAP",t[t.TUCK=125]="TUCK",t[t.CAT=126]="CAT",t[t.SUBSTR=127]="SUBSTR",t[t.LEFT=128]="LEFT",t[t.RIGHT=129]="RIGHT",t[t.SIZE=130]="SIZE",t[t.INVERT=131]="INVERT",t[t.AND=132]="AND",t[t.OR=133]="OR",t[t.XOR=134]="XOR",t[t.EQUAL=135]="EQUAL",t[t.EQUALVERIFY=136]="EQUALVERIFY",t[t.RESERVED1=137]="RESERVED1",t[t.RESERVED2=138]="RESERVED2",t[t["1ADD"]=139]="1ADD",t[t["1SUB"]=140]="1SUB",t[t["2MUL"]=141]="2MUL",t[t["2DIV"]=142]="2DIV",t[t.NEGATE=143]="NEGATE",t[t.ABS=144]="ABS",t[t.NOT=145]="NOT",t[t["0NOTEQUAL"]=146]="0NOTEQUAL",t[t.ADD=147]="ADD",t[t.SUB=148]="SUB",t[t.MUL=149]="MUL",t[t.DIV=150]="DIV",t[t.MOD=151]="MOD",t[t.LSHIFT=152]="LSHIFT",t[t.RSHIFT=153]="RSHIFT",t[t.BOOLAND=154]="BOOLAND",t[t.BOOLOR=155]="BOOLOR",t[t.NUMEQUAL=156]="NUMEQUAL",t[t.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",t[t.NUMNOTEQUAL=158]="NUMNOTEQUAL",t[t.LESSTHAN=159]="LESSTHAN",t[t.GREATERTHAN=160]="GREATERTHAN",t[t.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",t[t.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",t[t.MIN=163]="MIN",t[t.MAX=164]="MAX",t[t.WITHIN=165]="WITHIN",t[t.RIPEMD160=166]="RIPEMD160",t[t.SHA1=167]="SHA1",t[t.SHA256=168]="SHA256",t[t.HASH160=169]="HASH160",t[t.HASH256=170]="HASH256",t[t.CODESEPARATOR=171]="CODESEPARATOR",t[t.CHECKSIG=172]="CHECKSIG",t[t.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",t[t.CHECKMULTISIG=174]="CHECKMULTISIG",t[t.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",t[t.NOP1=176]="NOP1",t[t.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",t[t.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",t[t.NOP4=179]="NOP4",t[t.NOP5=180]="NOP5",t[t.NOP6=181]="NOP6",t[t.NOP7=182]="NOP7",t[t.NOP8=183]="NOP8",t[t.NOP9=184]="NOP9",t[t.NOP10=185]="NOP10",t[t.CHECKSIGADD=186]="CHECKSIGADD",t[t.INVALID=255]="INVALID"})(Vo||(Vo={}));var Aa=qo({encodeStream:o((t,e)=>{for(let r of e){if(typeof r=="string"){if(Vo[r]===void 0)throw new Error(`Unknown opcode=${r}`);t.byte(Vo[r]);continue}else if(typeof r=="number"){if(r===0){t.byte(0);continue}else if(1<=r&&r<=16){t.byte(Vo.OP_1-1+r);continue}}if(typeof r=="number"&&(r=x7e().encode(BigInt(r))),!Ri(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);let n=r.length;n<Vo.PUSHDATA1?t.byte(n):n<=255?(t.byte(Vo.PUSHDATA1),t.byte(n)):n<=65535?(t.byte(Vo.PUSHDATA2),t.bytes(QW.encode(n))):(t.byte(Vo.PUSHDATA4),t.bytes(Xn.encode(n))),t.bytes(r)}},"encodeStream"),decodeStream:o(t=>{let e=[];for(;!t.isEnd();){let r=t.byte();if(Vo.OP_0<r&&r<=Vo.PUSHDATA4){let n;if(r<Vo.PUSHDATA1)n=r;else if(r===Vo.PUSHDATA1)n=O0.decodeStream(t);else if(r===Vo.PUSHDATA2)n=QW.decodeStream(t);else if(r===Vo.PUSHDATA4)n=Xn.decodeStream(t);else throw new Error("Should be not possible");e.push(t.bytes(n))}else if(r===0)e.push(0);else if(Vo.OP_1<=r&&r<=Vo.OP_16)e.push(r-(Vo.OP_1-1));else{let n=Vo[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);e.push(n)}}return e},"decodeStream")});function x7e(t=6,e=!1){return qo({encodeStream:o((r,n)=>{if(n===0n)return;let i=n<0,s=BigInt(n),a=[];for(let c=i?-s:s;c;c>>=8n)a.push(Number(c&0xffn));a[a.length-1]>=128?a.push(i?128:0):i&&(a[a.length-1]|=128),r.bytes(new Uint8Array(a))},"encodeStream"),decodeStream:o(r=>{let n=r.leftBytes;if(n>t)throw new Error(`ScriptNum: number (${n}) bigger than limit=${t}`);if(n===0)return 0n;if(e&&!(r.data[n-1]&127)&&(n<=1||!(r.data[n-2]&128)))throw new Error("Non-minimally encoded ScriptNum");let i=0,s=0n;for(let a=0;a<n;++a)i=r.byte(),s|=BigInt(i)<<8n*BigInt(a);return i>=128&&(s&=2n**BigInt(n*8)-1n>>1n,s=-s),s},"decodeStream")})}o(x7e,"ScriptNum");function Qwt(t,e=4,r=!0){if(typeof t=="number")return t;if(Ri(t))try{let n=x7e(e,r).decode(t);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}o(Qwt,"OpToNum");var i7e={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]},gC=qo({encodeStream:o((t,e)=>{if(typeof e=="number"&&(e=BigInt(e)),0n<=e&&e<=252n)return t.byte(Number(e));for(let[r,n,i,s]of Object.values(i7e))if(!(i>e||e>s)){t.byte(r);for(let a=0;a<n;a++)t.byte(Number(e>>8n*BigInt(a)&0xffn));return}throw t.err(`VarInt too big: ${e}`)},"encodeStream"),decodeStream:o(t=>{let e=t.byte();if(e<=252)return BigInt(e);let[r,n,i]=i7e[e],s=0n;for(let a=0;a<n;a++)s|=BigInt(t.byte())<<8n*BigInt(a);if(s<i)throw t.err(`Wrong CompactSize(${8*n})`);return s},"decodeStream")}),Nl=m6(gC,t_.number),o7e=o(t=>Xa(gC,t),"BTCArray"),Ol=Ii(gC),eEt=Sa({txid:Ii(32,!0),index:Xn,finalScriptSig:Ol,sequence:Xn}),i_=Sa({amount:h6,script:Ol}),tEt={amount:0xffffffffffffffffn,script:Hi},pY=Xa(Nl,Ol),rEt=Sa({version:r_,segwitFlag:XRe(new Uint8Array([0,1])),inputs:o7e(eEt),outputs:o7e(i_),witnesses:ZRe("segwitFlag",Xa("inputs/length",pY)),lockTime:Xn});function nEt(t){if(t.segwitFlag&&t.witnesses&&!t.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return t}o(nEt,"validateRawTx");var nh=Su(rEt,nEt);function sY(t){let[e,r,n,i,s,a]=t;return{type:e,kc:r,vc:n,reqInc:i,allowInc:s,silentIgnore:a}}o(sY,"PSBTKeyInfo");var yC=Sa({fingerprint:WRe,path:Xa(null,Xn)}),iEt=Sa({version:O0,internalKey:Ii(32),merklePath:Xa(null,Ii(32))}),o_=Su(iEt,t=>{if(t.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return t}),v7e=Sa({hashes:Xa(Nl,Ii(32)),der:yC}),oEt=Ii(78),sEt=Sa({pubKey:lC,leafHash:Ii(32)}),aEt=Xa(null,Sa({depth:O0,version:O0,script:Ol})),jo=Ii(null),s7e=Ii(20),y6=Ii(32),mY={unsignedTx:[0,!1,nh,[0],[0],!1],xpub:[1,oEt,yC,[],[0,2],!1],txVersion:[2,!1,Xn,[2],[2],!1],fallbackLocktime:[3,!1,Xn,[],[2],!1],inputCount:[4,!1,Nl,[2],[2],!1],outputCount:[5,!1,Nl,[2],[2],!1],txModifiable:[6,!1,O0,[],[2],!1],version:[251,!1,Xn,[],[0,2],!1],proprietary:[252,jo,jo,[],[0,2],!1]},dC={nonWitnessUtxo:[0,!1,nh,[],[0,2],!1],witnessUtxo:[1,!1,i_,[],[0,2],!1],partialSig:[2,iY,jo,[],[0,2],!1],sighashType:[3,!1,Xn,[],[0,2],!1],redeemScript:[4,!1,jo,[],[0,2],!1],witnessScript:[5,!1,jo,[],[0,2],!1],bip32Derivation:[6,iY,yC,[],[0,2],!1],finalScriptSig:[7,!1,jo,[],[0,2],!1],finalScriptWitness:[8,!1,pY,[],[0,2],!1],porCommitment:[9,!1,jo,[],[0,2],!1],ripemd160:[10,s7e,jo,[],[0,2],!1],sha256:[11,y6,jo,[],[0,2],!1],hash160:[12,s7e,jo,[],[0,2],!1],hash256:[13,y6,jo,[],[0,2],!1],txid:[14,!1,y6,[2],[2],!0],index:[15,!1,Xn,[2],[2],!0],sequence:[16,!1,Xn,[],[2],!0],requiredTimeLocktime:[17,!1,Xn,[],[2],!1],requiredHeightLocktime:[18,!1,Xn,[],[2],!1],tapKeySig:[19,!1,n7e,[],[0,2],!1],tapScriptSig:[20,sEt,n7e,[],[0,2],!1],tapLeafScript:[21,o_,jo,[],[0,2],!1],tapBip32Derivation:[22,y6,v7e,[],[0,2],!1],tapInternalKey:[23,!1,lC,[],[0,2],!1],tapMerkleRoot:[24,!1,y6,[],[0,2],!1],proprietary:[252,jo,jo,[],[0,2],!1]},cEt=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],fEt=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],hC={redeemScript:[0,!1,jo,[],[0,2],!1],witnessScript:[1,!1,jo,[],[0,2],!1],bip32Derivation:[2,iY,yC,[],[0,2],!1],amount:[3,!1,$Re,[2],[2],!0],script:[4,!1,jo,[2],[2],!0],tapInternalKey:[5,!1,lC,[],[0,2],!1],tapTree:[6,!1,aEt,[],[0,2],!1],tapBip32Derivation:[7,lC,v7e,[],[0,2],!1],proprietary:[252,jo,jo,[],[0,2],!1]},uEt=[],a7e=Xa(oC,Sa({key:e7e(Nl,Sa({type:Nl,key:Ii(null)})),value:Ii(Nl)})),Ysn=Sa({type:Nl,key:Ii(null)});function gY(t){let e={};for(let r in t){let[n,i,s]=t[r];e[n]=[r,i,s]}return qo({encodeStream:o((r,n)=>{let i=[];for(let s in t){let a=n[s];if(a===void 0)continue;let[c,l,h]=t[s];if(!l)i.push({key:{type:c,key:Hi},value:h.encode(a)});else{let y=a.map(([p,E])=>[l.encode(p),h.encode(E)]);y.sort((p,E)=>oY(p[0],E[0]));for(let[p,E]of y)i.push({key:{key:p,type:c},value:E})}}if(n.unknown){n.unknown.sort((s,a)=>oY(s[0].key,a[0].key));for(let[s,a]of n.unknown)i.push({key:s,value:a})}a7e.encodeStream(r,i)},"encodeStream"),decodeStream:o(r=>{let n=a7e.decodeStream(r),i={},s={};for(let a of n){let c="unknown",l=a.key.key,h=a.value;if(e[a.key.type]){let[y,p,E]=e[a.key.type];if(c=y,!p&&l.length)throw new Error(`PSBT: Non-empty key for ${c} (key=${Fi.encode(l)} value=${Fi.encode(h)}`);if(l=p?p.decode(l):void 0,h=E.decode(h),!p){if(i[c])throw new Error(`PSBT: Same keys: ${c} (key=${l} value=${h})`);i[c]=h,s[c]=!0;continue}}else l={type:a.key.type,key:a.key.key};if(s[c])throw new Error(`PSBT: Key type with empty key and no key=${c} val=${h}`);i[c]||(i[c]=[]),i[c].push([l,h])}return i},"decodeStream")})}o(gY,"PSBTKeyMap");function c7e(t,e){if(!xi(t.hash,Eu(e)))throw new Error("checkScript: wsh wrong witnessScript hash");let r=Bs.decode(e);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}o(c7e,"checkWSH");function aY(t,e,r){if(t){let n=Bs.decode(t);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&e){if(!xi(n.hash,mC(e)))throw new Error("checkScript: sh wrong redeemScript hash");let i=Bs.decode(e);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&c7e(n,r)}if(e){let n=Bs.decode(e);n.type==="wsh"&&r&&c7e(n,r)}}o(aY,"checkScript");var yY=Su(gY(dC),t=>{if(t.finalScriptWitness&&!t.finalScriptWitness.length)throw new Error("validateInput: wmpty finalScriptWitness");if(t.partialSig&&!t.partialSig.length)throw new Error("Empty partialSig");if(t.partialSig)for(let[e]of t.partialSig)s_(e,Ia.ecdsa);if(t.bip32Derivation)for(let[e]of t.bip32Derivation)s_(e,Ia.ecdsa);if(t.requiredTimeLocktime!==void 0&&t.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${t.requiredTimeLocktime}`);if(t.requiredHeightLocktime!==void 0&&(t.requiredHeightLocktime<=0||t.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${t.requiredHeightLocktime}`);if(t.nonWitnessUtxo&&t.index!==void 0){let e=t.nonWitnessUtxo.outputs.length-1;if(t.index>e)throw new Error(`validateInput: index(${t.index}) not in nonWitnessUtxo`);let r=t.nonWitnessUtxo.outputs[t.index];if(t.witnessUtxo&&(!xi(t.witnessUtxo.script,r.script)||t.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo")}if(t.tapLeafScript)for(let[e,r]of t.tapLeafScript){if((e.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}if(t.nonWitnessUtxo&&t.index&&t.txid){if(t.nonWitnessUtxo.outputs.length-1<t.index)throw new Error("nonWitnessUtxo: incorect output index");let r=hY.fromRaw(nh.encode(t.nonWitnessUtxo)),n=Fi.encode(t.txid);if(r.id!==n)throw new Error(`nonWitnessUtxo: wrong txid, exp=${n} got=${r.id}`)}return t}),bY=Su(gY(hC),t=>{if(t.bip32Derivation)for(let[e]of t.bip32Derivation)s_(e,Ia.ecdsa);return t}),_7e=Su(gY(mY),t=>{if((t.version||0)===0){if(!t.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");if(t.unsignedTx.segwitFlag||t.unsignedTx.witnesses)throw new Error("PSBTv0: witness in unsingedTx");for(let r of t.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return t}),lEt=Sa({magic:g6(p6(new Uint8Array([255])),"psbt"),global:_7e,inputs:Xa("global/unsignedTx/inputs/length",yY),outputs:Xa(null,bY)}),dEt=Sa({magic:g6(p6(new Uint8Array([255])),"psbt"),global:_7e,inputs:Xa("global/inputCount",yY),outputs:Xa("global/outputCount",bY)}),Xsn=Sa({magic:g6(p6(new Uint8Array([255])),"psbt"),items:Xa(null,m6(Xa(oC,QRe([YRe(Nl),Ii(gC)])),t_.dict()))});function eY(t,e,r){for(let n in r){if(n==="unknown"||!e[n])continue;let{allowInc:i}=sY(e[n]);if(!i.includes(t))throw new Error(`PSBTv${t}: field ${n} is not allowed`)}for(let n in e){let{reqInc:i}=sY(e[n]);if(i.includes(t)&&r[n]===void 0)throw new Error(`PSBTv${t}: missing required field ${n}`)}}o(eY,"validatePSBTFields");function f7e(t,e,r){let n={};for(let i in r){let s=i;if(s!=="unknown"){if(!e[s])continue;let{allowInc:a,silentIgnore:c}=sY(e[s]);if(!a.includes(t)){if(c)continue;throw new Error(`Failed to serialize in PSBTv${t}: ${s} but versions allows inclusion=${a}`)}}n[s]=r[s]}return n}o(f7e,"cleanPSBTFields");function w7e(t){let e=t&&t.global&&t.global.version||0;eY(e,mY,t.global);for(let a of t.inputs)eY(e,dC,a);for(let a of t.outputs)eY(e,hC,a);let r=e?t.global.inputCount:t.global.unsignedTx.inputs.length;if(t.inputs.length<r)throw new Error("Not enough inputs");let n=t.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);let i=e?t.global.outputCount:t.global.unsignedTx.outputs.length;if(t.outputs.length<i)throw new Error("Not outputs inputs");let s=t.outputs.slice(i);if(s.length>1||s.length&&Object.keys(s[0]).length)throw new Error(`Unexpected outputs left in tx=${s}`);return t}o(w7e,"validatePSBT");function tY(t,e,r,n){let i={...r,...e};for(let s in t){let a=s,[c,l,h]=t[a],y=n&&!n.includes(s);if(e[s]===void 0&&s in e){if(y)throw new Error(`Cannot remove signed field=${s}`);delete i[s]}else if(l){let p=r&&r[s]?r[s]:[],E=e[a];if(E){if(!Array.isArray(E))throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);E=E.map(N=>{if(N.length!==2)throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);return[typeof N[0]=="string"?l.decode(Fi.decode(N[0])):N[0],typeof N[1]=="string"?h.decode(Fi.decode(N[1])):N[1]]});let I={},O=o((N,k,C)=>{if(I[N]===void 0){I[N]=[k,C];return}let L=Fi.encode(h.encode(I[N][1])),M=Fi.encode(h.encode(C));if(L!==M)throw new Error(`keyMap(${a}): same key=${N} oldVal=${L} newVal=${M}`)},"add");for(let[N,k]of p){let C=Fi.encode(l.encode(N));O(C,N,k)}for(let[N,k]of E){let C=Fi.encode(l.encode(N));if(k===void 0){if(y)throw new Error(`Cannot remove signed field=${a}/${N}`);delete I[C]}else O(C,N,k)}i[a]=Object.values(I)}}else if(typeof i[s]=="string")i[s]=h.decode(Fi.decode(i[s]));else if(y&&s in e&&r&&r[s]!==void 0&&!xi(h.encode(e[s]),h.encode(r[s])))throw new Error(`Cannot change signed field=${s}`)}for(let s in i)t[s]||delete i[s];return i}o(tY,"mergeKeyMap");var u7e=Su(lEt,w7e),l7e=Su(dEt,w7e),rY=Sa({txid:Ii(32,!0),index:Xn}),hEt={encode(t){if(!(t.length!==2||!Ri(t[0])||!Z1(t[0],Ia.ecdsa)||t[1]!=="CHECKSIG"))return{type:"pk",pubkey:t[0]}},decode:o(t=>t.type==="pk"?[t.pubkey,"CHECKSIG"]:void 0,"decode")};var pEt={encode(t){if(!(t.length!==5||t[0]!=="DUP"||t[1]!=="HASH160"||!Ri(t[2]))&&!(t[3]!=="EQUALVERIFY"||t[4]!=="CHECKSIG"))return{type:"pkh",hash:t[2]}},decode:o(t=>t.type==="pkh"?["DUP","HASH160",t.hash,"EQUALVERIFY","CHECKSIG"]:void 0,"decode")};var mEt={encode(t){if(!(t.length!==3||t[0]!=="HASH160"||!Ri(t[1])||t[2]!=="EQUAL"))return{type:"sh",hash:t[1]}},decode:o(t=>t.type==="sh"?["HASH160",t.hash,"EQUAL"]:void 0,"decode")},Zsn=o((t,e=a_)=>{let r=t.script;if(!Ri(r))throw new Error(`Wrong script: ${typeof t.script}, expected Uint8Array`);let n=mC(r),i=Bs.encode({type:"sh",hash:n});aY(i,r,t.witnessScript);let s={type:"sh",redeemScript:r,script:Bs.encode({type:"sh",hash:n}),address:bC(e).encode({type:"sh",hash:n})};return t.witnessScript&&(s.witnessScript=t.witnessScript),s},"p2sh"),gEt={encode(t){if(!(t.length!==2||t[0]!==0||!Ri(t[1]))&&t[1].length===32)return{type:"wsh",hash:t[1]}},decode:o(t=>t.type==="wsh"?[0,t.hash]:void 0,"decode")};var yEt={encode(t){if(!(t.length!==2||t[0]!==0||!Ri(t[1]))&&t[1].length===20)return{type:"wpkh",hash:t[1]}},decode:o(t=>t.type==="wpkh"?[0,t.hash]:void 0,"decode")},Jsn=o((t,e=a_)=>{if(!Z1(t,Ia.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(t.length===65)throw new Error("P2WPKH: uncompressed public key");let r=mC(t);return{type:"wpkh",script:Bs.encode({type:"wpkh",hash:r}),address:bC(e).encode({type:"wpkh",hash:r})}},"p2wpkh"),bEt={encode(t){let e=t.length-1;if(t[e]!=="CHECKMULTISIG")return;let r=t[0],n=t[e-1];if(typeof r!="number"||typeof n!="number")return;let i=t.slice(1,-2);if(n===i.length){for(let s of i)if(!Ri(s))return;return{type:"ms",m:r,pubkeys:i}}},decode:o(t=>t.type==="ms"?[t.m,...t.pubkeys,t.pubkeys.length,"CHECKMULTISIG"]:void 0,"decode")};var xEt={encode(t){if(!(t.length!==2||t[0]!==1||!Ri(t[1])))return{type:"tr",pubkey:t[1]}},decode:o(t=>t.type==="tr"?[1,t.pubkey]:void 0,"decode")};function vEt(t){let e=Array.from(t);for(;e.length>=2;){e.sort((a,c)=>(c.weight||1)-(a.weight||1));let n=e.pop(),i=e.pop(),s=(i?.weight||1)+(n?.weight||1);e.push({weight:s,childs:[i?.childs||i,n?.childs||n]})}let r=e[0];return r?.childs||r}o(vEt,"taprootListToTree");function _Et(t,e,r=!1){let n=Bs.decode(t);if(n.type==="unknown"&&r)return;if(!["tr_ns","tr_ms"].includes(n.type))throw new Error(`P2TR: invalid leaf script=${n.type}`);let i=n;if(!r&&i.pubkeys)for(let s of i.pubkeys){if(xi(s,E7e))throw new Error("Unspendable taproot key in leaf script");if(xi(s,e))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}o(_Et,"checkTaprootScript");function cY(t,e,r=!1){if(!t)throw new Error("taprootHashTree: empty tree");if(Array.isArray(t)&&t.length===1&&(t=t[0]),!Array.isArray(t)){let{leafVersion:c,script:l}=t;if(t.tapLeafScript||t.tapMerkleRoot&&!xi(t.tapMerkleRoot,Hi))throw new Error("P2TR: tapRoot leafScript cannot have tree");let h=typeof l=="string"?Fi.decode(l):l;if(!Ri(h))throw new Error(`checkScript: wrong script type=${h}`);return _Et(h,e,r),{type:"leaf",version:c,script:h,hash:cC(h,c)}}if(t.length!==2&&(t=vEt(t)),t.length!==2)throw new Error("hashTree: non binary tree!");let n=cY(t[0],e,r),i=cY(t[1],e,r),[s,a]=[n.hash,i.hash];return oY(a,s)===-1&&([s,a]=[a,s]),{type:"branch",left:n,right:i,hash:yf.utils.taggedHash("TapBranch",s,a)}}o(cY,"taprootHashTree");function fY(t,e=[]){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return{...t,path:e};if(t.type!=="branch")throw new Error(`taprootAddPath: wrong type=${t}`);return{...t,path:e,left:fY(t.left,[t.right.hash,...e]),right:fY(t.right,[t.left.hash,...e])}}o(fY,"taprootAddPath");function uY(t){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return[t];if(t.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${t}`);return[...uY(t.left),...uY(t.right)]}o(uY,"taprootWalkTree");var E7e=Eu(pC.BASE.toRawBytes(!1));function Qsn(t,e,r=a_,n=!1){if(!t&&!e)throw new Error("p2tr: should have pubKey or scriptTree (or both)");let i=typeof t=="string"?Fi.decode(t):t||E7e;if(!Z1(i,Ia.schnorr))throw new Error("p2tr: non-schnorr pubkey");let s=e?fY(cY(e,i,n)):void 0,a=s?s.hash:void 0,[c,l]=y7e(i,a||Hi),h;s&&(h=uY(s).map(E=>({...E,controlBlock:o_.encode({version:(E.version||dY)+l,internalKey:i,merklePath:E.path})})));let y;h&&(y=h.map(E=>[o_.decode(E.controlBlock),bg(E.script,new Uint8Array([E.version||dY]))]));let p={type:"tr",script:Bs.encode({type:"tr",pubkey:c}),address:bC(r).encode({type:"tr",pubkey:c}),tweakedPubkey:c,tapInternalKey:i};return h&&(p.leaves=h),y&&(p.tapLeafScript=y),a&&(p.tapMerkleRoot=a),p}o(Qsn,"p2tr");var wEt={encode(t){let e=t.length-1;if(t[e]!=="CHECKSIG")return;let r=[];for(let n=0;n<e;n++){let i=t[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===e-1)return;continue}if(!Ri(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:o(t=>{if(t.type!=="tr_ns")return;let e=[];for(let r=0;r<t.pubkeys.length-1;r++)e.push(t.pubkeys[r],"CHECKSIGVERIFY");return e.push(t.pubkeys[t.pubkeys.length-1],"CHECKSIG"),e},"decode")};var EEt={encode(t){let e=t.length-1;if(t[e]!=="NUMEQUAL"||t[1]!=="CHECKSIG")return;let r=[],n=Qwt(t[e-1]);if(typeof n=="number"){for(let i=0;i<e-1;i++){let s=t[i];if(i&1){if(s!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!Ri(s))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(s)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:o(t=>{if(t.type!=="tr_ms")return;let e=[t.pubkeys[0],"CHECKSIG"];for(let r=1;r<t.pubkeys.length;r++)e.push(t.pubkeys[r],"CHECKSIGADD");return e.push(t.m,"NUMEQUAL"),e},"decode")};var SEt={encode(t){return{type:"unknown",script:Aa.encode(t)}},decode:o(t=>t.type==="unknown"?Aa.decode(t.script):void 0,"decode")},AEt=[hEt,pEt,mEt,gEt,yEt,bEt,xEt,wEt,EEt,SEt],IEt=m6(Aa,t_.match(AEt)),Bs=Su(IEt,t=>{if(t.type==="pk"&&!Z1(t.pubkey,Ia.ecdsa))throw new Error("OutScript/pk: wrong key");if((t.type==="pkh"||t.type==="sh"||t.type==="wpkh")&&(!Ri(t.hash)||t.hash.length!==20))throw new Error(`OutScript/${t.type}: wrong hash`);if(t.type==="wsh"&&(!Ri(t.hash)||t.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(t.type==="tr"&&(!Ri(t.pubkey)||!Z1(t.pubkey,Ia.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((t.type==="ms"||t.type==="tr_ns"||t.type==="tr_ms")&&!Array.isArray(t.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(t.type==="ms"){let e=t.pubkeys.length;for(let r of t.pubkeys)if(!Z1(r,Ia.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(t.m<=0||e>16||t.m>e)throw new Error("OutScript/multisig: invalid params")}if(t.type==="tr_ns"||t.type==="tr_ms"){for(let e of t.pubkeys)if(!Z1(e,Ia.schnorr))throw new Error(`OutScript/${t.type}: wrong pubkey`)}if(t.type==="tr_ms"){let e=t.pubkeys.length;if(t.m<=0||e>999||t.m>e)throw new Error("OutScript/tr_ms: invalid params")}return t});function S7e(t,e){if(e.length<2||e.length>40)throw new Error("Witness: invalid length");if(t>16)throw new Error("Witness: invalid version");if(t===0&&!(e.length===20||e.length===32))throw new Error("Witness: invalid length for version")}o(S7e,"validateWitness");function nY(t,e,r=a_){S7e(t,e);let n=t===0?QM:ZW;return n.encode(r.bech32,[t].concat(n.toWords(e)))}o(nY,"programToWitness");function d7e(t,e){return m7e.encode(bg(Uint8Array.from(e),t))}o(d7e,"formatKey");function bC(t=a_){return{encode(e){let{type:r}=e;if(r==="wpkh")return nY(0,e.hash,t);if(r==="wsh")return nY(0,e.hash,t);if(r==="tr")return nY(1,e.pubkey,t);if(r==="pkh")return d7e(e.hash,[t.pubKeyHash]);if(r==="sh")return d7e(e.hash,[t.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(e){if(e.length<14||e.length>74)throw new Error("Invalid address length");if(t.bech32&&e.toLowerCase().startsWith(t.bech32)){let n;try{if(n=QM.decode(e),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=ZW.decode(e),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==t.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);let[i,...s]=n.words,a=QM.fromWords(s);if(S7e(i,a),i===0&&a.length===32)return{type:"wsh",hash:a};if(i===0&&a.length===20)return{type:"wpkh",hash:a};if(i===1&&a.length===32)return{type:"tr",pubkey:a};throw new Error("Unknown witness program")}let r=m7e.decode(e);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===t.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===t.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}o(bC,"Address");var Ti;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY"})(Ti||(Ti={}));var lY;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",t[t.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",t[t.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",t[t.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(lY||(lY={}));function TEt(t){if(typeof t!="number"||typeof lY[t]!="string")throw new Error(`Invalid SigHash=${t}`);return t}o(TEt,"validateSigHash");function h7e(t){let e=t&31;return{isAny:!!(t&Ti.ANYONECANPAY),isNone:e===Ti.NONE,isSingle:e===Ti.SINGLE}}o(h7e,"unpackSighash");function aC(t){if(t.txid===void 0||t.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:t.txid,index:t.index,sequence:b6(t.sequence,b7e),finalScriptSig:b6(t.finalScriptSig,Hi)}}o(aC,"inputBeforeSign");function p7e(t){for(let e in t){let r=e;cEt.includes(r)||delete t[r]}}o(p7e,"cleanFinalInput");function n_(t){if(t.script===void 0||t.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:t.script,amount:t.amount}}o(n_,"outputBeforeSign");var dY=192,cC=o((t,e=dY)=>yf.utils.taggedHash("TapLeaf",new Uint8Array([e]),Ol.encode(t)),"tapLeafHash");function REt(t,e,r,n=Hi){return xi(r,e)&&(t=Xwt(t,n),e=yf.getPublicKey(t)),{privKey:t,pubKey:e}}o(REt,"getTaprootKeys");var OEt={}.toString;function NEt(t){if(t!==void 0&&OEt.call(t)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${t}`);let e={...t,version:b6(t.version,Jwt),lockTime:b6(t.lockTime,0),PSBTVersion:b6(t.PSBTVersion,0)};if(typeof e.allowUnknowInput<"u"&&(t.allowUnknownInputs=e.allowUnknowInput),typeof e.allowUnknowOutput<"u"&&(t.allowUnknownOutputs=e.allowUnknowOutput),![-1,0,1,2].includes(e.version))throw new Error(`Unknown version: ${e.version}`);if(typeof e.lockTime!="number")throw new Error("Transaction lock time should be number");if(Xn.encode(e.lockTime),e.PSBTVersion!==0&&e.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${e.PSBTVersion}`);for(let r of["allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){let n=e[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}return Object.freeze(e)}o(NEt,"validateOpts");var hY=class t{static{o(this,"Transaction")}constructor(e={}){this.global={},this.inputs=[],this.outputs=[];let r=this.opts=NEt(e);r.lockTime!==X1&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(e,r={}){let n=nh.decode(e),i=new t({...r,version:n.version,lockTime:n.lockTime});for(let s of n.outputs)i.addOutput(s);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let s=0;s<n.witnesses.length;s++)i.inputs[s].finalScriptWitness=n.witnesses[s];return i}static fromPSBT(e,r={}){let n;try{n=u7e.decode(e)}catch(p){try{n=l7e.decode(e)}catch{throw p}}let i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);let s=n.global.unsignedTx,a=i===0?s?.version:n.global.txVersion,c=i===0?s?.lockTime:n.global.fallbackLocktime,l=new t({...r,version:a,lockTime:c,PSBTVersion:i}),h=i===0?s?.inputs.length:n.global.inputCount;l.inputs=n.inputs.slice(0,h).map((p,E)=>({finalScriptSig:Hi,...n.global.unsignedTx?.inputs[E],...p}));let y=i===0?s?.outputs.length:n.global.outputCount;return l.outputs=n.outputs.slice(0,y).map((p,E)=>({...p,...n.global.unsignedTx?.outputs[E]})),l.global={...n.global,txVersion:a},c!==X1&&(l.global.fallbackLocktime=c),l}toPSBT(e=this.opts.PSBTVersion){if(e!==0&&e!==2)throw new Error(`Wrong PSBT version=${e}`);let r=this.inputs.map(s=>f7e(e,dC,s));for(let s of r)s.partialSig&&!s.partialSig.length&&delete s.partialSig,s.finalScriptSig&&!s.finalScriptSig.length&&delete s.finalScriptSig,s.finalScriptWitness&&!s.finalScriptWitness.length&&delete s.finalScriptWitness;let n=this.outputs.map(s=>f7e(e,hC,s)),i={...this.global};return e===0?(i.unsignedTx=nh.decode(this.unsignedTx),delete i.fallbackLocktime,delete i.txVersion):(i.version=e,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===X1&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(e===0?u7e:l7e).encode({global:i,inputs:r,outputs:n})}get lockTime(){let e=X1,r=0,n=X1,i=0;for(let s of this.inputs)s.requiredHeightLocktime&&(e=Math.max(e,s.requiredHeightLocktime),r++),s.requiredTimeLocktime&&(n=Math.max(n,s.requiredTimeLocktime),i++);return r&&r>=i?e:n!==X1?n:this.global.fallbackLocktime||X1}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(e){this.checkInputIdx(e);let r=this.inputs[e];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(e){this.checkInputIdx(e);let r=this.inputType(this.inputs[e]).sighash,n=r===Ti.DEFAULT?Ti.ALL:r&3;return{sigInputs:r&Ti.ANYONECANPAY,sigOutputs:n}}signStatus(){let e=!0,r=!0,n=[],i=[];for(let s=0;s<this.inputs.length;s++){if(this.inputStatus(s)==="unsigned")continue;let{sigInputs:c,sigOutputs:l}=this.inputSighash(s);if(c===Ti.ANYONECANPAY?n.push(s):e=!1,l===Ti.ALL)r=!1;else if(l===Ti.SINGLE)i.push(s);else if(l!==Ti.NONE)throw new Error(`Wrong signature hash output type: ${l}`)}return{addInput:e,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let e=0;e<this.inputs.length;e++)if(this.inputStatus(e)!=="finalized")return!1;return!0}get hasWitnesses(){let e=!1;for(let r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(e=!0);return e}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let e=32,r=this.outputs.map(n_);this.hasWitnesses&&(e+=2),e+=4*Nl.encode(this.inputs.length).length,e+=4*Nl.encode(this.outputs.length).length;for(let n of this.inputs)e+=160+4*Ol.encode(n.finalScriptSig||Hi).length;for(let n of r)e+=32+4*Ol.encode(n.script).length;if(this.hasWitnesses)for(let n of this.inputs)n.finalScriptWitness&&(e+=pY.encode(n.finalScriptWitness).length);return e}get vsize(){return Math.ceil(this.weight/4)}toBytes(e=!1,r=!1){return nh.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(aC).map(n=>({...n,finalScriptSig:e&&n.finalScriptSig||Hi})),outputs:this.outputs.map(n_),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return Fi.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Fi.encode(yg(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Fi.encode(yg(this.toBytes(!0)).reverse())}checkInputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.inputs.length)throw new Error(`Wrong input index=${e}`)}getInput(e){return this.checkInputIdx(e),uC(this.inputs[e])}get inputsLength(){return this.inputs.length}normalizeInput(e,r,n){let{nonWitnessUtxo:i,txid:s}=e;typeof i=="string"&&(i=Fi.decode(i)),Ri(i)&&(i=nh.decode(i)),i===void 0&&(i=r?.nonWitnessUtxo),typeof s=="string"&&(s=Fi.decode(s)),s===void 0&&(s=r?.txid);let a={...r,...e,nonWitnessUtxo:i,txid:s};a.nonWitnessUtxo===void 0&&delete a.nonWitnessUtxo,a.sequence===void 0&&(a.sequence=b7e),a.tapMerkleRoot===null&&delete a.tapMerkleRoot,a=tY(dC,a,r,n),yY.encode(a);let c;return a.nonWitnessUtxo&&a.index!==void 0?c=a.nonWitnessUtxo.outputs[a.index]:a.witnessUtxo&&(c=a.witnessUtxo),c&&!this.opts.disableScriptCheck&&aY(c&&c.script,a.redeemScript,a.witnessScript),a}addInput(e,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(this.normalizeInput(e)),this.inputs.length-1}updateInput(e,r,n=!1){this.checkInputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addInput||s.inputs.includes(e))&&(i=fEt)}this.inputs[e]=this.normalizeInput(r,this.inputs[e],i)}checkOutputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.outputs.length)throw new Error(`Wrong output index=${e}`)}getOutput(e){return this.checkOutputIdx(e),uC(this.outputs[e])}get outputsLength(){return this.outputs.length}normalizeOutput(e,r,n){let{amount:i,script:s}=e;if(i===void 0&&(i=r?.amount),typeof i!="bigint")throw new Error("amount must be bigint sats");typeof s=="string"&&(s=Fi.decode(s)),s===void 0&&(s=r?.script);let a={...r,...e,amount:i,script:s};if(a.amount===void 0&&delete a.amount,a=tY(hC,a,r,n),bY.encode(a),a.script&&!this.opts.allowUnknownOutputs&&Bs.decode(a.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownScript=true, if you sure");return this.opts.disableScriptCheck||aY(a.script,a.redeemScript,a.witnessScript),a}addOutput(e,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(e)),this.outputs.length-1}updateOutput(e,r,n=!1){this.checkOutputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addOutput||s.outputs.includes(e))&&(i=uEt)}this.outputs[e]=this.normalizeOutput(r,this.outputs[e],i)}addOutputAddress(e,r,n=a_){return this.addOutput({script:Bs.encode(bC(n).decode(e)),amount:r})}get fee(){let e=0n;for(let n of this.inputs){let i=this.prevOut(n);if(!i)throw new Error("Empty input amount");e+=i.amount}let r=this.outputs.map(n_);for(let n of r)e-=n.amount;return e}preimageLegacy(e,r,n){let{isAny:i,isNone:s,isSingle:a}=h7e(n);if(e<0||!Number.isSafeInteger(e))throw new Error(`Invalid input idx=${e}`);if(a&&e>=this.outputs.length||e>=this.inputs.length)return GRe.encode(1n);r=Aa.encode(Aa.decode(r).filter(y=>y!=="CODESEPARATOR"));let c=this.inputs.map(aC).map((y,p)=>({...y,finalScriptSig:p===e?r:Hi}));i?c=[c[e]]:(s||a)&&(c=c.map((y,p)=>({...y,sequence:p===e?y.sequence:0})));let l=this.outputs.map(n_);s?l=[]:a&&(l=l.slice(0,e).fill(tEt).concat([l[e]]));let h=nh.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:c,outputs:l});return yg(h,r_.encode(n))}preimageWitnessV0(e,r,n,i){let{isAny:s,isNone:a,isSingle:c}=h7e(n),l=sC,h=sC,y=sC,p=this.inputs.map(aC),E=this.outputs.map(n_);s||(l=yg(...p.map(rY.encode))),!s&&!c&&!a&&(h=yg(...p.map(O=>Xn.encode(O.sequence)))),!c&&!a?y=yg(...E.map(i_.encode)):c&&e<E.length&&(y=yg(i_.encode(E[e])));let I=p[e];return yg(r_.encode(this.version),l,h,Ii(32,!0).encode(I.txid),Xn.encode(I.index),Ol.encode(r),h6.encode(i),Xn.encode(I.sequence),y,Xn.encode(this.lockTime),Xn.encode(n))}preimageWitnessV1(e,r,n,i,s=-1,a,c=192,l){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);let h=[O0.encode(0),O0.encode(n),r_.encode(this.version),Xn.encode(this.lockTime)],y=n===Ti.DEFAULT?Ti.ALL:n&3,p=n&Ti.ANYONECANPAY,E=this.inputs.map(aC),I=this.outputs.map(n_);p!==Ti.ANYONECANPAY&&h.push(...[E.map(rY.encode),i.map(h6.encode),r.map(Ol.encode),E.map(N=>Xn.encode(N.sequence))].map(N=>Eu(bg(...N)))),y===Ti.ALL&&h.push(Eu(bg(...I.map(i_.encode))));let O=(l?1:0)|(a?2:0);if(h.push(new Uint8Array([O])),p===Ti.ANYONECANPAY){let N=E[e];h.push(rY.encode(N),h6.encode(i[e]),Ol.encode(r[e]),Xn.encode(N.sequence))}else h.push(Xn.encode(e));return O&1&&h.push(Eu(Ol.encode(l||Hi))),y===Ti.SINGLE&&h.push(e<I.length?Eu(i_.encode(I[e])):sC),a&&h.push(cC(a,c),O0.encode(0),r_.encode(s)),yf.utils.taggedHash("TapSighash",...h)}prevOut(e){if(e.nonWitnessUtxo){if(e.index===void 0)throw new Error("Unknown input index");return e.nonWitnessUtxo.outputs[e.index]}else{if(e.witnessUtxo)return e.witnessUtxo;throw new Error("Cannot find previous output info")}}inputType(e){let r="legacy",n=Ti.ALL,i=this.prevOut(e),s=Bs.decode(i.script),a=s.type,c=s,l=[s];if(s.type==="tr")return n=Ti.DEFAULT,{txType:"taproot",type:"tr",last:s,lastScript:i.script,defaultSighash:n,sighash:e.sighashType||n};{if((s.type==="wpkh"||s.type==="wsh")&&(r="segwit"),s.type==="sh"){if(!e.redeemScript)throw new Error("inputType: sh without redeemScript");let E=Bs.decode(e.redeemScript);(E.type==="wpkh"||E.type==="wsh")&&(r="segwit"),l.push(E),c=E,a+=`-${E.type}`}if(c.type==="wsh"){if(!e.witnessScript)throw new Error("inputType: wsh without witnessScript");let E=Bs.decode(e.witnessScript);E.type==="wsh"&&(r="segwit"),l.push(E),c=E,a+=`-${E.type}`}let h=l[l.length-1];if(h.type==="sh"||h.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");let y=Bs.encode(h),p={type:a,txType:r,last:h,lastScript:y,defaultSighash:n,sighash:e.sighashType||n};if(r==="legacy"&&!this.opts.allowLegacyWitnessUtxo&&!e.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return p}}signIdx(e,r,n,i){this.checkInputIdx(r);let s=this.inputs[r],a=this.inputType(s);if(!Ri(e)){if(!s.bip32Derivation||!s.bip32Derivation.length)throw new Error("bip32Derivation: empty");let y=s.bip32Derivation.filter(E=>E[1].fingerprint==e.fingerprint).map(([E,{path:I}])=>{let O=e;for(let N of I)O=O.deriveChild(N);if(!xi(O.publicKey,E))throw new Error("bip32Derivation: wrong pubKey");if(!O.privateKey)throw new Error("bip32Derivation: no privateKey");return O});if(!y.length)throw new Error(`bip32Derivation: no items with fingerprint=${e.fingerprint}`);let p=!1;for(let E of y)this.signIdx(E.privateKey,r)&&(p=!0);return p}n?n.forEach(TEt):n=[a.defaultSighash];let c=a.sighash;if(!n.includes(c))throw new Error(`Input with not allowed sigHash=${c}. Allowed: ${n.join(", ")}`);let{sigOutputs:l}=this.inputSighash(r);if(l===Ti.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);let h=this.prevOut(s);if(a.txType==="taproot"){if(s.tapBip32Derivation)throw new Error("tapBip32Derivation unsupported");let y=this.inputs.map(this.prevOut),p=y.map(k=>k.script),E=y.map(k=>k.amount),I=!1,O=yf.getPublicKey(e),N=s.tapMerkleRoot||Hi;if(s.tapInternalKey){let{pubKey:k,privKey:C}=REt(e,O,s.tapInternalKey,N),[L,M]=y7e(s.tapInternalKey,N);if(xi(L,k)){let P=this.preimageWitnessV1(r,p,c,E),H=bg(yf.sign(P,C,i),c!==Ti.DEFAULT?new Uint8Array([c]):Hi);this.updateInput(r,{tapKeySig:H},!0),I=!0}}if(s.tapLeafScript){s.tapScriptSig=s.tapScriptSig||[];for(let[k,C]of s.tapLeafScript){let L=C.subarray(0,-1),M=Aa.decode(L),P=C[C.length-1],H=cC(L,P);if(M.findIndex(X=>Ri(X)&&xi(X,O))===-1)continue;let J=this.preimageWitnessV1(r,p,c,E,void 0,L,P),W=bg(yf.sign(J,e,i),c!==Ti.DEFAULT?new Uint8Array([c]):Hi);this.updateInput(r,{tapScriptSig:[[{pubKey:O,leafHash:H},W]]},!0),I=!0}}if(!I)throw new Error("No taproot scripts signed");return!0}else{let y=Wwt(e),p=!1,E=mC(y);for(let N of Aa.decode(a.lastScript))Ri(N)&&(xi(N,y)||xi(N,E))&&(p=!0);if(!p)throw new Error(`Input script doesn't have pubKey: ${a.lastScript}`);let I;if(a.txType==="legacy")I=this.preimageLegacy(r,a.lastScript,c);else if(a.txType==="segwit"){let N=a.lastScript;a.last.type==="wpkh"&&(N=Bs.encode({type:"pkh",hash:a.last.hash})),I=this.preimageWitnessV0(r,N,c,h.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${a.txType}`);let O=Ywt(I,e,this.opts.lowR);this.updateInput(r,{partialSig:[[y,bg(O,new Uint8Array([c]))]]},!0)}return!0}sign(e,r,n){let i=0;for(let s=0;s<this.inputs.length;s++)try{this.signIdx(e,s,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(e){if(this.checkInputIdx(e),this.fee<0n)throw new Error("Outputs spends more than inputs amount");let r=this.inputs[e],n=this.inputType(r);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){let l=r.tapLeafScript.sort((h,y)=>o_.encode(h[0]).length-o_.encode(y[0]).length);for(let[h,y]of l){let p=y.slice(0,-1),E=y[y.length-1],I=Bs.decode(p),O=cC(p,E),N=r.tapScriptSig.filter(C=>xi(C[0].leafHash,O)),k=[];if(I.type==="tr_ms"){let C=I.m,L=I.pubkeys,M=0;for(let P of L){let H=N.findIndex(F=>xi(F[0].pubKey,P));if(M===C||H===-1){k.push(Hi);continue}k.push(N[H][1]),M++}if(M!==C)continue}else if(I.type==="tr_ns"){for(let C of I.pubkeys){let L=N.findIndex(M=>xi(M[0].pubKey,C));L!==-1&&k.push(N[L][1])}if(k.length!==I.pubkeys.length)continue}else if(I.type==="unknown"&&this.opts.allowUnknownInputs){let C=Aa.decode(p);if(k=N.map(([{pubKey:L},M])=>{let P=C.findIndex(H=>Ri(H)&&xi(H,L));if(P===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:M,pos:P}}).sort((L,M)=>L.pos-M.pos).map(L=>L.signature),!k.length)continue}else throw new Error("Finalize: Unknown tapLeafScript");r.finalScriptWitness=k.reverse().concat([p,o_.encode(h)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=Hi,p7e(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=Hi,s=[];if(n.last.type==="ms"){let l=n.last.m,h=n.last.pubkeys,y=[];for(let p of h){let E=r.partialSig.find(I=>xi(p,I[0]));E&&y.push(E[1])}if(y=y.slice(0,l),y.length!==l)throw new Error(`Multisig: wrong signatures count, m=${l} n=${h.length} signatures=${y.length}`);i=Aa.encode([0,...y])}else if(n.last.type==="pk")i=Aa.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=Aa.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=Hi,s=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let a,c;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(s=Aa.decode(i).map(l=>{if(l===0)return Hi;if(Ri(l))return l;throw new Error(`Wrong witness op=${l}`)})),s=s.concat(n.lastScript)),n.txType==="segwit"&&(c=s),n.type.startsWith("sh-wsh-")?a=Aa.encode([Aa.encode([0,Eu(n.lastScript)])]):n.type.startsWith("sh-")?a=Aa.encode([...Aa.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(a=i),!a&&!c)throw new Error("Unknown error finalizing input");a&&(r.finalScriptSig=a),c&&(r.finalScriptWitness=c),p7e(r)}finalize(){for(let e=0;e<this.inputs.length;e++)this.finalizeIdx(e)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(e){for(let i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==e.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${e.opts[i]}`);for(let i of["inputs","outputs"])if(this[i].length!==e[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${e[i].length}`);let r=this.global.unsignedTx?nh.encode(this.global.unsignedTx):Hi,n=e.global.unsignedTx?nh.encode(e.global.unsignedTx):Hi;if(!xi(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=tY(mY,this.global,e.global);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,e.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,e.outputs[i],!0);return this}clone(){return t.fromPSBT(this.toPSBT(2),this.opts)}};export{QJ as a,V4 as b,lse as c,hse as d,SP as e,Woe as f,Sf as g,AP as h,Bb as i,IP as j,TP as k,rse as l,nse as m,ise as n,ose as o,sse as p,ase as q,cse as r,fse as s,use as t,bDe as u,ac as v,Af as w,umt as x,E4e as y,lmt as z,U3 as A,pG as B,Xd as C,Tmt as D,Rmt as E,ng as F,Omt as G,pvt as H,jg as I,Hb as J,bae as K,ey as L,y5 as M,fI as N,ax as O,RXe as P,OXe as Q,MXe as R,cF as S,fd as T,Vx as U,eHt as V,xs as W,Ee as X,vZe as Y,_Ze as Z,wZe as _,jme as $,BZe as aa,LZe as ba,DZe as ca,UZe as da,FZe as ea,ld as fa,We as ga,u8 as ha,lw as ia,St as ja,Nn as ka,no as la,np as ma,cc as na,jc as oa,zc as pa,Kc as qa,Gc as ra,fc as sa,ip as ta,$c as ua,qg as va,uc as wa,bh as xa,op as ya,xh as za,Mn as Aa,Ry as Ba,Ft as Ca,vjt as Da,Dh as Ea,Zme as Fa,CE as Ga,ME as Ha,Fp as Ia,ege as Ja,tT as Ka,kE as La,nge as Ma,JZe as Na,QZe as Oa,xF as Pa,eJe as Qa,tJe as Ra,rJe as Sa,es as Ta,uge as Ua,zx as Va,EF as Wa,sJe as Xa,AJe as Ya,IJe as Za,Gx as _a,RF as $a,NF as ab,md as bb,HF as cb,zF as db,KF as eb,BGt as fb,jp as gb,lH as hb,Cy as ib,ky as jb,rs as kb,Bi as lb,Kp as mb,Jf as nb,mH as ob,ie as pb,qT as qb,iq as rb,B1e as sb,hv as tb,Gh as ub,xq as vb,htt as wb,yv as xb,Cq as yb,Qtt as zb,Kf as Ab,Kme as Bb,VZe as Cb,yF as Db,bF as Eb,jZe as Fb,zZe as Gb,ert as Hb,Xq as Ib,Jxe as Jb,Ua as Kb,T2e as Lb,BV as Mb,dwe as Nb,gj as Ob,sft as Pb,uft as Qb,lft as Rb,$v as Sb,bj as Tb,vj as Ub,Nt as Vb,tEe as Wb,_n as Xb,Wwe as Yb,s0 as Zb,Jwe as _b,Qwe as $b,eEe as ac,rEe as bc,oEe as cc,sEe as dc,aEe as ec,cEe as fc,fEe as gc,uEe as hc,lEe as ic,dEe as jc,hEe as kc,pEe as lc,mEe as mc,nEe as nc,gEe as oc,iEe as pc,yEe as qc,bEe as rc,Ij as sc,lW as tc,dW as uc,km as vc,_ft as wc,ao as xc,OEe as yc,Aft as zc,au as Ac,m1 as Bc,VS as Cc,Vj as Dc,jj as Ec,bi as Fc,Gj as Gc,Yft as Hc,YEe as Ic,$j as Jc,Xft as Kc,za as Lc,iut as Mc,tbr as Nc,Umt as Oc,It as Pc,Je as Qc,KS as Rc,fpt as Sc,rr as Tc,hpt as Uc,ppt as Vc,GO as Wc,wpt as Xc,Ept as Yc,Spt as Zc,Apt as _c,L4e as $c,Vmt as ad,IAe as bd,q4e as cd,xG as dd,H3 as ed,_N as fd,kK as gd,TAe as hd,RAe as id,BK as jd,Rpt as kd,PAe as ld,Wm as md,ZO as nd,Gr as od,Wd as pd,jK as qd,e4e as rd,Xm as sd,i4e as td,o4e as ud,s4e as vd,Gpt as wd,ZK as xd,Li as yd,PK as zd,Tpt as Ad,Jpt as Bd,QK as Cd,eG as Dd,v4e as Ed,aG as Fd,fG as Gd,Mmt as Hd,kmt as Id,Y2 as Jd,Yxt as Kd,Xxt as Ld,tvt as Md,rvt as Nd,nvt as Od,ovt as Pd,Bmt as Qd,Pmt as Rd,Lmt as Sd,Dmt as Td,svt as Ud,avt as Vd,dIe as Wd,s6 as Xd,qxt as Yd,oW as Zd,fW as _d,th as $d,_M as ae,uW as be,jxt as ce,W2 as de,Gxt as ee,zxt as fe,a6 as ge,$xt as he,cvt as ie,fvt as je,uvt as ke,O_t as le,eRe as me,Inn as ne,knn as oe,M_t as pe,D_t as qe,rRe as re,B_t as se,iRe as te,ain as ue,oRe as ve,yin as we,win as xe,FY as ye,a_ as ze,Aa as Ae,Zsn as Be,Jsn as Ce,Qsn as De,Bs as Ee,hY as Fe,ktn as Ge,Btn as He};
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/montgomery.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/curves/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

numeral/numeral.js:
  (*! @preserve
   * numeral.js
   * version : 2.0.6
   * author : Adam Draper
   * license : MIT
   * http://adamwdraper.github.com/Numeral-js/
   *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/btc-signer/index.js:
  (*! scure-btc-signer - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-JPCZ2XYS.js.map
