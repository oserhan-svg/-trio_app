import{a as ce}from"./chunk-CB3IRNC5.js";import{a as pe}from"./chunk-BSVDCGFM.js";import"./chunk-FLHAGMIA.js";import{u as se,xa as me}from"./chunk-WDVXKZVL.js";import"./chunk-3Q7ZN2UU.js";import"./chunk-CMJYWBFY.js";import"./chunk-DQWLAPQA.js";import{s as ie}from"./chunk-JJL2OPIK.js";import"./chunk-WNZGS5LT.js";import"./chunk-QYUUJAZ5.js";import"./chunk-FIV36FCJ.js";import"./chunk-WP7WOITY.js";import"./chunk-XWY35PVV.js";import"./chunk-7CNQZ75Q.js";import"./chunk-JTOX4ZHH.js";import"./chunk-2HQDV73D.js";import"./chunk-B4CNMBFC.js";import"./chunk-ZEEKHJVS.js";import{a as h}from"./chunk-F7UJOH5X.js";import{b as ae,g as re}from"./chunk-UD6KQFHW.js";import"./chunk-LTFPTLFB.js";import"./chunk-WIQXOFEV.js";import"./chunk-RXXBC6VZ.js";import"./chunk-TMMS6O6S.js";import"./chunk-R4VJOE5O.js";import"./chunk-DZZUCNXT.js";import"./chunk-N4NCIV7V.js";import"./chunk-N3C6FBKY.js";import"./chunk-CTKHELYY.js";import"./chunk-I6BON7SA.js";import"./chunk-YRW45WYY.js";import"./chunk-SNTFI5XR.js";import{d as oe}from"./chunk-BMC2QLGD.js";import{c as te,db as ne,m as S}from"./chunk-7677FZEB.js";import"./chunk-KETOQW6E.js";import"./chunk-WVRYN4MY.js";import"./chunk-D42QE4ZV.js";import"./chunk-MGLLPATV.js";import{$a as ee,D as W,F as X,G as Y,H as Z,Wa as _,p as Q}from"./chunk-Z3O2IHPJ.js";import"./chunk-UZPTJEFV.js";import"./chunk-247XUEKC.js";import"./chunk-SFIUS6XB.js";import"./chunk-SIWEHH3L.js";import"./chunk-UA65TROS.js";import"./chunk-YJCG6GWC.js";import{nd as j,wc as O}from"./chunk-FO7QPK6E.js";import"./chunk-CZNFNFNK.js";import"./chunk-RWWUDPHX.js";import{$ as K,g as J}from"./chunk-KUSQMIXV.js";import{Vb as k,Xb as L,ga as $}from"./chunk-JPCZ2XYS.js";import{u as I}from"./chunk-ZRKH4SQM.js";import{Ca as c,Z as z,Za as q,a as ke,b as H,l as B}from"./chunk-TVPT7M2T.js";import"./chunk-FNC6PQ53.js";import"./chunk-5QQLABHI.js";import{a as f,g as E,i as R,n as V}from"./chunk-WKJYWAXG.js";R();V();var n=E(ke(),1);var o=E(H(),1),Ue=S(h).attrs({align:"center"})`
  height: 100%;
`,ve=S(h).attrs({align:"center",justify:"space-between"})`
  height: 100%;
`,xe=S(h).attrs({align:"center",paddingTop:"25px"})`
  border-radius: 6px;
`,De=S(ne).attrs({size:38,weight:500,lineHeight:46})`
  margin-top: 18px;
`,Ae=f((a,e)=>{let{status:p,data:i}=W({networkID:a}),[t,l]=(0,n.useState)(J.standard),{popDetailView:r,pushDetailView:m}=ae(),y;return p!=="error"&&i&&t&&e&&(y=f(()=>{m((0,o.jsx)(pe,{onSelectTransactionSpeed:l,selectedTransactionSpeed:t,networkID:a,transactionUnitAmount:e,closeModal:r}))},"openGasSettings")),{transactionSpeed:t,openGasSettings:y}},"useUnwrapGasSettings"),Ce=f(a=>{let{t:e}=z(),p=te(),{handleHideModalVisibility:i}=me(),{chain:t,tokenAddress:l,balance:r,symbol:m,logoUri:y,walletAddress:de}=a.data,s=t.id,U=k.getNetworkName(s),{data:le}=O(),ue=le?.addresses??[],{data:u}=j({networkID:s,address:de}),g=(0,n.useMemo)(()=>({pageHeaderText:e("unwrapFungibleConfirmSwap"),swapTitle:e("unwrapFungibleConfirmSwapTitle",{fromToken:m,toToken:t.symbol}),networkFeeText:e("sendFungibleSummaryNetworkFee"),networkFeeTextDescription:e("networkFeesTooltipDescription",{chainName:U}),confirmSwap:e("commandSwap"),cancelSwap:e("commandClose")}),[t.symbol,U,m,e]),{data:T,isPending:ge}=Q({amount:r,caip19:{chainId:s,resourceType:L.address,address:l??""},owner:u?.address??""}),d=(0,n.useMemo)(()=>T&&u?I.parse({to:T.to,from:u.address??"",data:T.data}):void 0,[T,u]),v=(0,n.useMemo)(()=>d?{type:$.EVM,networkID:s,unsignedTransaction:d}:void 0,[s,d]),{data:we}=X(v),{transactionSpeed:fe,openGasSettings:x}=Ae(s,we),{data:w,isFetched:D,isError:A,isSuccess:Se}=Y({networkID:s,transactionSpeed:fe,multichainTransaction:v,queryOptions:{refetchInterval:!1}}),{data:C}=Z(s,w),ye=C?.gasEstimationPriceUSD?e("gasUpTo",{amount:C?.gasEstimationPriceUSD}):void 0,Te=K(w),F=ye??Te??"",{hasSufficientFunds:P,nativeTokenSymbol:N}=_({networkID:s,addressType:u?.addressType,gasEstimation:w,transactionValue:new B(r??"0",16)}),G=D&&!Se,b=(0,n.useMemo)(()=>A?e("transactionGasLimitError"):G?e("transactionGasEstimationError"):P==="insufficient"?e("transactionNotEnoughNative",{nativeTokenSymbol:N}):"",[A,G,P,e,N]),be=(0,n.useMemo)(()=>[{label:e("commandSend"),value:`+${r} ${t.symbol}`,color:c.colors.legacy.spotPositive},{label:e("commandReceive"),value:`-${r} ${m}`,color:c.colors.legacy.spotNegative},{label:g.networkFeeText,onClick:x,value:F.length>0?F:(0,o.jsx)(ie,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:c.colors.legacy.borderDiminished}),color:b?c.colors.legacy.spotNegative:c.colors.legacy.textBase,leftSubtext:b,subtextColor:c.colors.legacy.spotNegative,tooltipContent:g.networkFeeTextDescription}],[r,t.symbol,g.networkFeeText,g.networkFeeTextDescription,F,b,x,m,e]),{mutateAsync:M,isPending:he}=ee(ue),Fe=(0,n.useCallback)(()=>{M({fungible:a,unsignedUnwrapTx:d,gasEstimation:w}),i("approveUnwrapFungible"),p("/notifications")},[a,w,i,p,d,M]),Ee=(0,n.useCallback)(()=>{i("approveUnwrapFungible")},[i]);return{isLoading:ge||!D,isSwapDisabled:he||!d||!!b,logoUri:y,summaryRows:be,i18nStrings:g,onConfirmSwap:Fe,onDenySwap:Ee}},"useApproveUnwrapEVMFungibleProps"),Pe=f(({fungible:a})=>{if(k.isEthereumNetworkID(a.data.chain.id)){let e=Ce(a);return(0,o.jsx)(Ne,{...e})}throw new Error(`Unwrap fungible not supported for chain: ${a.data.chain.id}`)},"ApproveUnwrapFungible"),rt=Pe,Ne=n.default.memo(({isLoading:a,isSwapDisabled:e,logoUri:p,summaryRows:i,i18nStrings:t,onConfirmSwap:l,onDenySwap:r})=>(0,o.jsxs)(Ue,{children:[(0,o.jsx)(re,{children:t.pageHeaderText}),(0,o.jsxs)(ve,{children:[(0,o.jsxs)(xe,{children:[(0,o.jsx)(se,{image:{type:"icon",preset:"swap"},size:64,badge:{src:p??""}}),(0,o.jsx)(De,{children:t.swapTitle})]}),(0,o.jsx)(ce,{rows:i,borderRadius:"6px 6px 6px 6px",padding:16,fontSize:16}),(0,o.jsx)(q,{mode:"wait",initial:!1,children:(0,o.jsx)(oe,{primaryText:t.confirmSwap,secondaryText:t.cancelSwap,primaryDisabled:a||e,onPrimaryClicked:l,onSecondaryClicked:r})})]})]}));export{rt as default};
//# sourceMappingURL=ApproveUnwrapFungible-774QNPNH.js.map
