import{a as O}from"./chunk-HOXCY5PG.js";import{b as Z,c as Pe}from"./chunk-CB3IRNC5.js";import{a as U}from"./chunk-2MXMVD7E.js";import"./chunk-FLHAGMIA.js";import{oa as Se,v as w,va as Re,xa as _e}from"./chunk-WDVXKZVL.js";import"./chunk-3Q7ZN2UU.js";import"./chunk-CMJYWBFY.js";import"./chunk-DQWLAPQA.js";import"./chunk-JJL2OPIK.js";import"./chunk-WNZGS5LT.js";import"./chunk-QYUUJAZ5.js";import"./chunk-FIV36FCJ.js";import"./chunk-WP7WOITY.js";import"./chunk-XWY35PVV.js";import"./chunk-7CNQZ75Q.js";import"./chunk-JTOX4ZHH.js";import"./chunk-2HQDV73D.js";import"./chunk-B4CNMBFC.js";import"./chunk-ZEEKHJVS.js";import"./chunk-F7UJOH5X.js";import{b as xe}from"./chunk-UD6KQFHW.js";import"./chunk-LTFPTLFB.js";import{a as Ie}from"./chunk-WIQXOFEV.js";import"./chunk-RXXBC6VZ.js";import"./chunk-TMMS6O6S.js";import"./chunk-R4VJOE5O.js";import"./chunk-DZZUCNXT.js";import"./chunk-N4NCIV7V.js";import"./chunk-N3C6FBKY.js";import"./chunk-CTKHELYY.js";import"./chunk-I6BON7SA.js";import"./chunk-YRW45WYY.js";import"./chunk-SNTFI5XR.js";import{c as Q}from"./chunk-BMC2QLGD.js";import{db as Ne,m as B}from"./chunk-7677FZEB.js";import{n as g,q as j,r as q,u as S,v as J,x as fe}from"./chunk-KETOQW6E.js";import"./chunk-WVRYN4MY.js";import"./chunk-D42QE4ZV.js";import"./chunk-MGLLPATV.js";import"./chunk-Z3O2IHPJ.js";import"./chunk-UZPTJEFV.js";import{b as Ee}from"./chunk-247XUEKC.js";import{b as Le}from"./chunk-SFIUS6XB.js";import"./chunk-SIWEHH3L.js";import{aa as ge,f as be,h as he,ka as we,o as Ae}from"./chunk-UA65TROS.js";import"./chunk-YJCG6GWC.js";import{A as W,C as ve,D as _,Ha as Ce,oa as f,wc as De}from"./chunk-FO7QPK6E.js";import"./chunk-CZNFNFNK.js";import"./chunk-RWWUDPHX.js";import"./chunk-KUSQMIXV.js";import{Vb as P,Xb as ye,ac as N}from"./chunk-JPCZ2XYS.js";import"./chunk-ZRKH4SQM.js";import{Ca as A,Z as ke,a as qe,b as ue}from"./chunk-TVPT7M2T.js";import"./chunk-FNC6PQ53.js";import"./chunk-5QQLABHI.js";import{a as x,g as G,i as me,n as Te}from"./chunk-WKJYWAXG.js";me();Te();var V=G(qe(),1);var o=G(ue(),1),Je=B.a`
  cursor: pointer;
`,Qe=B.div`
  display: flex;
  justify-content: space-between;
  gap: 8px;
`,L=B.span`
  cursor: pointer;
  color: ${m=>m.color||"white"};
  &:hover {
    color: ${A.colors.legacy.spotBase};
  }
`,Ze=B.div`
  margin: -16px -16px 0 -16px;
  width: calc(100% + 32px);
  height: calc(100% + 16px);
  overflow-y: auto;
  position: absolute;
  top: 0;
  left: 0;
`,Be=x(({label:m,url:p})=>(0,o.jsx)(Je,{onClick:()=>self.open(p),children:(0,o.jsx)(Ne,{color:A.colors.legacy.spotBase,noWrap:!0,lineHeight:14,maxWidth:`${Ee/2}`,weight:600,size:14,children:m})}),"Link"),et=x(({activityItem:m})=>{let{interactionData:p,chainMeta:z}=m,{t:e}=ke(),{transactionType:F}=p,{status:Ue,networkFee:Oe,networkFeePayer:ee}=z,D=z.chainId,b=Ue==="failed",{pushDetailView:te}=xe(),{getKnownAddressLabel:Fe}=we(),{data:ae}=ge(),{handleHideModalVisibility:oe}=_e(),K=(0,V.useCallback)(()=>oe("activityItem"),[oe]),{data:$}=De(),ie=$?.isReadOnly,r=(0,V.useCallback)((a,t)=>{te((0,o.jsx)(Ze,{children:(0,o.jsx)(Re,{caip19:a,title:t,entryPoint:"activityItemDetail"})}))},[te]),$e=ee?$?.addresses.some(a=>a.address.toLowerCase()===ee.toLowerCase()):!1,Me=Ce(m.timestamp*1e3,e("richTransactionDetailAt")),M=P.getTokenDecimals(D),h=P.getTokenSymbol(D),We=J(Oe,M,h),I=(0,o.jsx)(w,{activityItem:m,size:"medium"}),u={label:e("richTransactionDetailDate"),value:Me},ne=g(m.id),Ve="dapp"in p?p.dapp?.displayName:void 0,{bridgeUrl:H,isLoading:ze}=fe(ne,Ve),y=[];if(ae){let a=z.chainId,t=ae.explorers[a]??be.get(a).defaultExplorer,i=Ae({networkID:a,endpoint:"transaction",explorerType:t,param:ne});i!==""&&y.push({label:e("richTransactionDetailViewOnExplorer",{explorer:he[t]}),value:i,type:"link"})}let R=N({chainId:D,slip44:P.getSlip44(D),resourceType:ye.nativeToken}),k=b?{label:e("richTransactionDetailStatus"),value:e("richTransactionDetailFailed"),color:A.colors.legacy.spotNegative}:{label:e("richTransactionDetailStatus"),value:e("historyStatusSucceeded"),color:A.colors.legacy.spotPositive},v={label:e("richTransactionDetailNetworkFee"),value:$e?We:void 0},C={label:e("historyNetwork"),value:P.getNetworkName(D)},se=Se(),le=(0,V.useCallback)((a,t)=>{Le.capture("activityItemSwapAgainClicked",{data:{from_asset_caip19:t,to_asset_caip19:a}}),se({buyFungibleCaip19:a,sellFungibleCaip19:t}),K()},[se,K]),d;switch(F){case"TOKEN_SEND":{let t=p.balanceChanges[0],i=q(t,$?.addresses??[]),{token:{symbol:n,decimals:l,displayName:s,tokenType:c,isSpam:T},amount:E}=t,re=j(c),ce=N(S(t.token,D)),Ke=i?"+":"-",Y=l!==void 0?`${f(E,l)} ${n||""}`:e("transactionsUnknownAmount"),He=`${Ke}${Y}`,X=g(i?t.from:t.to),pe=ve(X,void 0,Fe(X,D)),Ye={label:e(i?"richTransactionDetailFrom":"richTransactionDetailTo"),value:(0,o.jsx)(O,{delayedChildren:(0,o.jsx)(U,{alignment:"topCenter",copyString:X,children:pe}),children:pe})},de=x(je=>(0,o.jsx)(L,{onClick:()=>r(ce,t.token.symbol),color:i&&!b?A.colors.legacy.spotPositive:void 0,children:je}),"TokenLinkDisplay"),Xe=b?[{label:e("historyAttemptedAmount"),value:Y}]:[],Ge=b?e("transactionsSendFailed"):`${e("transactionsSent")}`;d={sections:[{rows:[u,k,Ye,C,v,...Xe,...y]}],title:i?e("transactionsReceived"):Ge,primaryText:re?{value:s||e("richTransactionDetailUnknownNFT")}:b||l===void 0?{value:de(Y)}:{value:de(He)},secondaryText:{value:""},image:re?I:(0,o.jsx)(w,{activityItem:m,size:"medium",onClick:()=>r(ce,t.token.symbol)}),warning:i&&T?e("spamActivityWarning"):""};break}case"TOKEN_BURN":{let{amount:a,token:t}=p,i="";b||(t.displayName?a==="1"?i=t.displayName:i=`${t.displayName} (${a})`:i=e("richTransactionDetailUnknownNFT")),d={sections:[{rows:[u,k,C,v,...y]}],title:e("richTransactionDetailBurned"),primaryText:{value:i},secondaryText:{value:""},image:I};break}case"TOKEN_SWAP":{let{receiveAmount:a,receiveToken:t,sendAmount:i,sendToken:n,dapp:l}=p,s=_(g(n.id)||""),c=_(g(t.id)||""),T=N(S(n,D)),E=N(S(t,D));d={sections:[{rows:[u,k,C,v]},{title:e("richTransactionDetailSwapDetails"),rows:[{label:e("richTransactionDetailProvider"),value:l?.displayName&&l.logoURI?(0,o.jsx)(Z,{name:l.displayName,imageURL:l.logoURI}):l?.displayName||e("historyUnknownDappName")},{label:e("richTransactionDetailYouPaid"),value:J(i,n.decimals,n.symbol||""),onClick:x(()=>r(T,n.symbol||s),"onClick")},{label:e("richTransactionDetailYouReceived"),value:t.decimals!==void 0?`+${f(a,t.decimals)} ${t.symbol||""}`:e("transactionsUnknownAmount"),color:t.decimals!==void 0&&!b?A.colors.legacy.spotPositive:"",onClick:x(()=>r(E,t.symbol||c),"onClick")},...y]}],title:e("richTransactionDetailTokenSwap"),primaryText:{value:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(L,{onClick:()=>r(T,n.symbol||s),children:n.symbol||s})," \u2192 ",(0,o.jsx)(L,{onClick:()=>r(E,t.symbol||c),children:t.symbol||c})]})},secondaryText:{value:""},image:(0,o.jsx)(w,{activityItem:m,size:"medium",onClick:ie?void 0:()=>le(E,T)}),swapAgain:ie?void 0:{sendToken:T,receiveToken:E}};break}case"BRIDGE_INIT":{let t=p.balanceChanges[0],i=q(t,$?.addresses??[]),{token:{symbol:n,decimals:l},amount:s}=t,c=N(S(t.token,D)),T=l!==void 0?`${f(s,l)} ${n||""}`:e("transactionsUnknownAmount"),E=ze||!H?[]:[{label:H.label,value:H.value,type:"link"}];d={sections:[{rows:[u,k,C,v,...E]}],title:b?e("transactionBridgeInitiatedFailed"):`${e("transactionBridgeInitiated")}`,primaryText:{value:(0,o.jsx)(L,{onClick:()=>r(c,n),color:i&&!b?A.colors.legacy.spotPositive:void 0,children:T})},secondaryText:{value:""},image:(0,o.jsx)(w,{activityItem:m,size:"medium",onClick:()=>r(c,n)})};break}case"TOKEN_UNWRAP":{let{token:a,amount:t}=p,i=_(g(a.id)||""),n=N(S(a,D)),l=a.decimals!==void 0?`+${f(t,a.decimals)} ${a.symbol||""}`:e("transactionsUnknownAmount");d={sections:[{rows:[u,k,C,v]},{title:e("richTransactionDetailUnwrapDetails"),rows:[{label:e("richTransactionDetailYouReceived"),value:(0,o.jsx)(L,{onClick:()=>r(n,a.symbol),color:b?void 0:A.colors.legacy.spotPositive,children:l})},...y]}],title:e("richTransactionDetailTokenUnwrap"),primaryText:{value:(0,o.jsx)(L,{onClick:()=>r(n,a.symbol),children:a.symbol||i})},secondaryText:{value:""},image:(0,o.jsx)(w,{activityItem:m,size:"medium",onClick:()=>r(n,a.symbol)})};break}case"WITHDRAW_STAKE":{let{amount:a,stakeAccount:t}=p,i=g(t),n=W(i,4);d={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:(0,o.jsx)(O,{delayedChildren:(0,o.jsx)(U,{alignment:"topCenter",copyString:i,children:n}),children:n})},C,v,...y]}],title:e("richTransactionDetailWithdrawStake"),primaryText:{value:(0,o.jsxs)(L,{onClick:()=>r(R,h),color:b?void 0:A.colors.legacy.spotPositive,children:["+",f(a,M)," ",h]})},secondaryText:{value:""},image:(0,o.jsx)(w,{activityItem:m,size:"medium",onClick:()=>r(R,h)})};break}case"DEACTIVATE_STAKE":{let{amount:a,stakeAccount:t}=p,i=g(t),n=W(i,4);d={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:(0,o.jsx)(O,{delayedChildren:(0,o.jsx)(U,{alignment:"topCenter",copyString:i,children:n}),children:n})},C,v,...y]}],title:e("richTransactionDetailUnstaked"),primaryText:{value:(0,o.jsxs)(L,{onClick:()=>r(R,h),children:[f(a,M)," ",h]})},secondaryText:{value:""},image:(0,o.jsx)(w,{activityItem:m,size:"medium",onClick:()=>r(R,h)})};break}case"STAKE":{let{amount:a,stakeAccount:t,validatorName:i,validatorWebsite:n}=p,l=g(t),s=W(l,4);d={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:(0,o.jsx)(O,{delayedChildren:(0,o.jsx)(U,{alignment:"topCenter",copyString:l,children:s}),children:s})},{label:"Validator",value:i&&n?(0,o.jsx)(Be,{label:i,url:n}):i},C,v,...y]}],title:e("richTransactionDetailStaked"),primaryText:{value:(0,o.jsxs)(L,{onClick:()=>r(R,h),children:["-",f(a,M)," ",h]})},secondaryText:{value:""},image:(0,o.jsx)(w,{activityItem:m,size:"medium",onClick:()=>r(R,h)})};break}case"COLLECTIBLE_LIST":case"COLLECTIBLE_BUY_ITEM":case"COLLECTIBLE_CANCEL_BID":case"COLLECTIBLE_BID_ITEM":case"COLLECTIBLE_UNLIST":case"COLLECTIBLE_SELL_ITEM":{let{dapp:a,item:t,forAmount:i,forAsset:n,listingUrl:l}=p,s=n.decimals!==void 0?`${f(i,n.decimals)} ${n.symbol||""}`:e("transactionsUnknownAmount"),c=t.displayName||e("richTransactionDetailUnknownNFT"),T={COLLECTIBLE_LIST:{priceRow:{label:e("richTransactionDetailListingPrice"),value:s},sectionTitle:e("richTransactionDetailListingDetails"),detailTitle:e("richTransactionDetailListed")},COLLECTIBLE_UNLIST:{priceRow:{label:e("richTransactionDetailOriginalListingPrice"),value:s},sectionTitle:e("richTransactionDetailListingDetails"),detailTitle:e("richTransactionDetailUnlisted")},COLLECTIBLE_BID_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailBidDetails"),detailTitle:e("richTransactionDetailBid")},COLLECTIBLE_CANCEL_BID:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailBidDetails"),detailTitle:e("richTransactionDetailCancelBid")},COLLECTIBLE_BUY_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailPurchaseDetails"),detailTitle:e("richTransactionDetailBought")},COLLECTIBLE_SELL_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailSaleDetails"),detailTitle:e("richTransactionDetailSold")}};d={sections:[{rows:[u,k,C,v]},{title:T[F].sectionTitle,rows:[T[F].priceRow,{label:e("richTransactionDetailItem"),value:c&&l?(0,o.jsx)(Be,{label:c,url:l}):c},{label:e("richTransactionDetailMarketplace"),value:a?.displayName&&a?.logoURI?(0,o.jsx)(Z,{name:a.displayName,imageURL:a.logoURI}):a?.displayName||""},...y]}],title:T[F].detailTitle,primaryText:{value:c},secondaryText:{value:""},image:I};break}case"CANCEL_TX":{d={sections:[{rows:[u,k,C,v,...y]}],title:e("transactionCancelled"),primaryText:{value:""},secondaryText:{value:""},image:I};break}case"TOKEN_APPROVAL":{let{dapp:a,token:t,isApproved:i}=p,n=a?.displayName||e("historyUnknownDappName"),l=a?.displayName?[{label:e("transactionApproveAppLabel"),value:a?.displayName}]:[],s=_(g(t.id)||""),c=j(t.tokenType)?t.displayName:t.symbol,T=N(S(t,D));d={sections:[{rows:[u,k,C,v]},{title:e("transactionApproveDetailsTitle"),rows:[...l,{label:e("transactionApproveTokenLabel"),value:c||s,onClick:x(()=>r(T,c||s),"onClick")},...y]}],title:(0,o.jsx)(L,{onClick:()=>r(T,c||s),children:e(i?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:c||""})}),primaryText:{value:""},secondaryText:{value:n},image:(0,o.jsx)(w,{activityItem:m,size:"medium",onClick:()=>r(T,c||s)})};break}case"COLLECTION_APPROVAL":{let{dapp:a,collection:t,isApproved:i}=p,n=a?.displayName||e("historyUnknownDappName"),l=a?.displayName?[{label:e("transactionApproveAppLabel"),value:a?.displayName}]:[],s=t.displayName;d={sections:[{rows:[u,k,C,v]},{title:e("transactionApproveDetailsTitle"),rows:[...l,{label:e("transactionApproveCollectionLabel"),value:s},...y]}],title:e(i?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:s}),primaryText:{value:""},secondaryText:{value:n},image:I};break}case"CANCEL_ORDER":{let{dapp:a}=p;d={sections:[{rows:[u,k,C,v,...y]}],title:e("transactionCancelOrder"),primaryText:{value:""},secondaryText:{value:a?.displayName||e("historyUnknownDappName")},image:I};break}case"UNCLASSIFIED_APP_INTERACTION":default:{let{dapp:a}=p,t=a?.displayName||e("historyUnknownDappName");d={sections:[{rows:[u,k,C,v,...y]}],title:e("richTransactionDetailAppInteraction"),primaryText:{value:""},secondaryText:{value:t},image:I};break}}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Pe,{...d}),(0,o.jsx)(Ie,{removeFooterExpansion:!1,children:(0,o.jsxs)(Qe,{children:[(0,o.jsx)(Q,{onClick:K,children:e("commandClose")}),d.swapAgain&&(0,o.jsx)(Q,{onClick:()=>le(d.swapAgain.receiveToken,d.swapAgain.sendToken),theme:"primary",children:e("commandSwapAgain")})]})})]})},"ActivityItemDetail"),ft=et;export{et as ActivityItemDetail,Be as Link,ft as default};
//# sourceMappingURL=ActivityItemDetail-TRKWP4PC.js.map
