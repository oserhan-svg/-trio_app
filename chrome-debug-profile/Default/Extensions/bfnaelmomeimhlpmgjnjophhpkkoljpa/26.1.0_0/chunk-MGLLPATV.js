import{G as $n,M as mt,N as Jn,Na as zn,Wa as Xn,ba as bo,db as Zn,fb as ta,gb as ea,qa as Lt,r as Yn}from"./chunk-Z3O2IHPJ.js";import{e as go,pa as Ie}from"./chunk-UA65TROS.js";import{A as xn,_b as _n,ba as In,gb as Ln,hc as On,j as bn,nd as xt,o as pe,pa as Pn,rd as Mn,sa as fe,ta as En,va as Cn,wc as re}from"./chunk-FO7QPK6E.js";import{$b as Un,Gd as Gn,Ld as qt,Rc as qn,Sb as yr,Sc as F,Sd as jn,Tc as Wn,Uc as Hn,Va as yo,Vd as Qn,Wb as Ee,Xd as Se,_b as Fn,_c as Ke,bc as hr,cc as Bn,d as Pe,ec as wo,fb as ho,fc as Rn,gb as Ao,ib as jt,lc as To,oc as Dn,tc as Vn,wc as Kn}from"./chunk-KUSQMIXV.js";import{$b as fn,Aa as Tt,C as lt,F as Vt,He as Kt,Lc as De,Qc as G,Tc as j,Vb as N,_d as yt,ac as oe,ad as gn,b as an,bd as R,be as hn,c as ms,ce as An,dd as kn,fd as yn,fe as wn,ga as q,hc as Sn,hd as Ve,ja as dt,je as Tn,la as me,m as un,s as ln,sd as bt,t as dn,u as wt,ud as xe,ue as vt,v as Q,w as k,xd as _,za as gr}from"./chunk-JPCZ2XYS.js";import{b as mo,d as ds}from"./chunk-ZRKH4SQM.js";import{D as ve,F as fo,G as mn,Ga as ko,H as So,I as pn,Na as st,Ra as Nn,U as v,Ua as Y,Y as vn,Yb as kr,Z as $,a as L,b as Dt,e as Sr,f as Re,g as ee,h as sn,i as cn,j as A,k as nt,l as K,nb as ne,r as po}from"./chunk-TVPT7M2T.js";import{a as n,d as us,g as x,i,l as ls,m as Buffer,n as s}from"./chunk-WKJYWAXG.js";var xi=us(P=>{"use strict";i();s();var Yc=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(P,"__esModule",{value:!0});P.map=P.array=P.rustEnum=P.str=P.vecU8=P.tagged=P.vec=P.bool=P.option=P.publicKey=P.i256=P.u256=P.i128=P.u128=P.i64=P.u64=P.struct=P.f64=P.f32=P.i32=P.u32=P.i16=P.u16=P.i8=P.u8=void 0;var W=yr(),$c=an(),Jc=Yc(mo()),$t=yr();Object.defineProperty(P,"u8",{enumerable:!0,get:n(function(){return $t.u8},"get")});Object.defineProperty(P,"i8",{enumerable:!0,get:n(function(){return $t.s8},"get")});Object.defineProperty(P,"u16",{enumerable:!0,get:n(function(){return $t.u16},"get")});Object.defineProperty(P,"i16",{enumerable:!0,get:n(function(){return $t.s16},"get")});Object.defineProperty(P,"u32",{enumerable:!0,get:n(function(){return $t.u32},"get")});Object.defineProperty(P,"i32",{enumerable:!0,get:n(function(){return $t.s32},"get")});Object.defineProperty(P,"f32",{enumerable:!0,get:n(function(){return $t.f32},"get")});Object.defineProperty(P,"f64",{enumerable:!0,get:n(function(){return $t.f64},"get")});Object.defineProperty(P,"struct",{enumerable:!0,get:n(function(){return $t.struct},"get")});var se=class extends W.Layout{static{n(this,"BNLayout")}constructor(e,o,r){super(e,r),this.blob=(0,W.blob)(e),this.signed=o}decode(e,o=0){let r=new Jc.default(this.blob.decode(e,o),10,"le");return this.signed?r.fromTwos(this.span*8).clone():r}encode(e,o,r=0){return this.signed&&(e=e.toTwos(this.span*8)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),o,r)}};function bi(t){return new se(8,!1,t)}n(bi,"u64");P.u64=bi;function zc(t){return new se(8,!0,t)}n(zc,"i64");P.i64=zc;function Xc(t){return new se(16,!1,t)}n(Xc,"u128");P.u128=Xc;function Zc(t){return new se(16,!0,t)}n(Zc,"i128");P.i128=Zc;function tu(t){return new se(32,!1,t)}n(tu,"u256");P.u256=tu;function eu(t){return new se(32,!0,t)}n(eu,"i256");P.i256=eu;var Gt=class extends W.Layout{static{n(this,"WrappedLayout")}constructor(e,o,r,a){super(e.span,a),this.layout=e,this.decoder=o,this.encoder=r}decode(e,o){return this.decoder(this.layout.decode(e,o))}encode(e,o,r){return this.layout.encode(this.encoder(e),o,r)}getSpan(e,o){return this.layout.getSpan(e,o)}};function ou(t){return new Gt((0,W.blob)(32),e=>new $c.PublicKey(e),e=>e.toBuffer(),t)}n(ou,"publicKey");P.publicKey=ou;var Qr=class extends W.Layout{static{n(this,"OptionLayout")}constructor(e,o){super(-1,o),this.layout=e,this.discriminator=(0,W.u8)()}encode(e,o,r=0){return e==null?this.discriminator.encode(0,o,r):(this.discriminator.encode(1,o,r),this.layout.encode(e,o,r+1)+1)}decode(e,o=0){let r=this.discriminator.decode(e,o);if(r===0)return null;if(r===1)return this.layout.decode(e,o+1);throw new Error("Invalid option "+this.property)}getSpan(e,o=0){let r=this.discriminator.decode(e,o);if(r===0)return 1;if(r===1)return this.layout.getSpan(e,o+1)+1;throw new Error("Invalid option "+this.property)}};function ru(t,e){return new Qr(t,e)}n(ru,"option");P.option=ru;function nu(t){return new Gt((0,W.u8)(),au,iu,t)}n(nu,"bool");P.bool=nu;function au(t){if(t===0)return!1;if(t===1)return!0;throw new Error("Invalid bool: "+t)}n(au,"decodeBool");function iu(t){return t?1:0}n(iu,"encodeBool");function su(t,e){let o=(0,W.u32)("length"),r=(0,W.struct)([o,(0,W.seq)(t,(0,W.offset)(o,-o.span),"values")]);return new Gt(r,({values:a})=>a,a=>({values:a}),e)}n(su,"vec");P.vec=su;function cu(t,e,o){let r=(0,W.struct)([bi("tag"),e.replicate("data")]);function a({tag:c,data:u}){if(!c.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+c.toString("hex"));return u}return n(a,"decodeTag"),new Gt(r,a,c=>({tag:t,data:c}),o)}n(cu,"tagged");P.tagged=cu;function vi(t){let e=(0,W.u32)("length"),o=(0,W.struct)([e,(0,W.blob)((0,W.offset)(e,-e.span),"data")]);return new Gt(o,({data:r})=>r,r=>({data:r}),t)}n(vi,"vecU8");P.vecU8=vi;function uu(t){return new Gt(vi(),e=>e.toString("utf-8"),e=>Buffer.from(e,"utf-8"),t)}n(uu,"str");P.str=uu;function lu(t,e,o){let r=(0,W.union)(o??(0,W.u8)(),e);return t.forEach((a,c)=>r.addVariant(c,a,a.property)),r}n(lu,"rustEnum");P.rustEnum=lu;function du(t,e,o){let r=(0,W.struct)([(0,W.seq)(t,e,"values")]);return new Gt(r,({values:a})=>a,a=>({values:a}),o)}n(du,"array");P.array=du;var Yr=class extends W.Layout{static{n(this,"MapEntryLayout")}constructor(e,o,r){super(e.span+o.span,r),this.keyLayout=e,this.valueLayout=o}decode(e,o){o=o||0;let r=this.keyLayout.decode(e,o),a=this.valueLayout.decode(e,o+this.keyLayout.getSpan(e,o));return[r,a]}encode(e,o,r){r=r||0;let a=this.keyLayout.encode(e[0],o,r),c=this.valueLayout.encode(e[1],o,r+a);return a+c}getSpan(e,o){return this.keyLayout.getSpan(e,o)+this.valueLayout.getSpan(e,o)}};function mu(t,e,o){let r=(0,W.u32)("length"),a=(0,W.struct)([r,(0,W.seq)(new Yr(t,e),(0,W.offset)(r,-r.span),"values")]);return new Gt(a,({values:c})=>new Map(c),c=>({values:Array.from(c.entries())}),o)}n(mu,"map");P.map=mu});i();s();var It;(function(t){t.DirectLink="Deep Link",t.Modal="Modal",t.BottomSheet="Bottom Sheet"})(It||(It={}));var qe;(function(t){t.Buy="Buy",t.Collectibles="Collectibles",t.ConnectHardwareWallet="Connect Hardware Wallet",t.ConvertStakeAccount="Convert Stake Account",t.ConvertToJito="Convert to Jito",t.MintPSOL="Mint PSOL",t.Explore="Explore",t.Perps="Perps",t.MintCollectible="Mint Collectible",t.SocialLogin="Social Login",t.SettingsClaimUsername="Settings: Claim Username",t.SettingsCurrency="Settings: Currency",t.SettingsImportSeedPhrase="Settings: Import Seed Phrase",t.SettingsNotificationPreferences="Settings: Notification Preferences",t.SettingsSecurityAndPrivacy="Settings: Security & Privacy",t.TokenCategory="Token Category",t.Swapper="Swapper",t.ExternalLink="External Link",t.Token="Token",t.TokenChat="Token Chat",t.Terminal="Terminal"})(qe||(qe={}));var ps=A.enum(["dark","light"]).default("dark").catch("dark"),fs=A.enum(["normal","full"]).default("normal").catch("normal"),nl=A.object({theme:ps,imageBleed:fs}),E;(function(t){t.Multichain="Multichain",t.MultichainSwapper="MultichainSwapper",t.InvalidChecksum="InvalidChecksum",t.AdditionalPermissions="AdditionalPermissions",t.SuiWelcome="SuiWelcome",t.SuiWelcomeDefaultOn="SuiWelcomeDefaultOn",t.MonadMainnetWelcome="MonadMainnetWelcome",t.ArbitrumWelcome="ArbitrumWelcome",t.StakingWelcome="StakingWelcomeNew",t.ClaimUsernameNudge="ClaimUsernameNudge",t.QuickClaimUsername="QuickClaimUsername",t.SeedlessPinVerification="SeedlessPinVerification",t.TermsOfServiceUpdate="TermsOfServiceUpdate",t.NotificationsUpdate="NotificationsUpdate",t.PerpsJoinFeedbackGroup="PerpsJoinFeedbackGroup",t.PerpsIntro="PerpsIntro",t.CashWaitlistActivated="CashWaitlistActivated",t.CashGeneralAccessActivation="CashGeneralAccessActivation",t.PredictionInsiderTradingAttestation="PredictionInsiderTradingAttestation"})(E||(E={}));i();s();i();s();var vo=n(t=>{let e=[];for(let o in t.errors)Array.isArray(t.errors[o])&&e.push(t.errors[o].join(", "));return e.join(", ")},"formatErrorMessages");var xo;(function(t){t.Upgrade="upgrade",t.Noop="noop"})(xo||(xo={}));var ra=n(async({locale:t})=>{let e;try{let o=JSON.stringify({platform:fo,appVersion:ve,locale:t}),r=await lt.api().headers({"Content-Type":"application/json"}).post(({apiEnv:c})=>`/banners/force_upgrade/${c}/v1`,o);if(r.status===400){let c=await r.data,u=vo(c);throw new Error(u)}else if(r.status<200||r.status>299)throw new Error(`status code: ${r.status}, body: ${r.statusText}`);let a=r.data;return a?{...a}:oa}catch(o){return e===400&&o instanceof Error&&j.captureError(o,G.ActionBanner),oa}},"fetchForceUpgradeStatus"),oa={forceUpgradeStatus:xo.Noop};i();s();i();s();var na=n(async({locale:t})=>({...await ra({locale:t})}),"fetchForceUpgrade");i();s();var Wt="@phantom/interstitials",Ce=`${Wt}:action-banners`,aa=`${Wt}:force-upgrade`,Ar={actionBanners:n((t,e)=>[Ce,{accountIdentifier:t,accessToken:e}],"actionBanners"),hasSeenInterstitial:n(t=>[`${Wt}:has-seen-interstitial`,{feature:t}],"hasSeenInterstitial"),interstitialViewHistory:n(t=>[`${Wt}:interstitial-view-history`,{feature:t}],"interstitialViewHistory"),appLaunchTimes:n(()=>[`${Wt}:app-launch-times`],"appLaunchTimes"),lastOnboardedAt:n(()=>[`${Wt}:last-onboarded-at`],"lastOnboardedAt"),contentCards:[`${Wt}:content-cards`]};var Ss=n(()=>_({queryKey:[aa],queryFn:n(async()=>{let e=go(v.language)??"en";return na({locale:e})},"queryFn"),enabled:!!ve,staleTime:R({minutes:5})}),"useForceUpgrade");i();s();i();s();i();s();i();s();var gs={[E.Multichain]:2,[E.MultichainSwapper]:1,[E.InvalidChecksum]:1,[E.SuiWelcome]:1,[E.SuiWelcomeDefaultOn]:1,[E.MonadMainnetWelcome]:1,[E.ArbitrumWelcome]:1,[E.ClaimUsernameNudge]:1,[E.QuickClaimUsername]:1,[E.SeedlessPinVerification]:1,[E.AdditionalPermissions]:1,[E.TermsOfServiceUpdate]:1,[E.StakingWelcome]:1,[E.PerpsJoinFeedbackGroup]:1,[E.PerpsIntro]:1,[E.NotificationsUpdate]:1,[E.CashWaitlistActivated]:1,[E.CashGeneralAccessActivation]:1,[E.PredictionInsiderTradingAttestation]:1},ks={[E.Multichain]:3,[E.MultichainSwapper]:1,[E.InvalidChecksum]:1,[E.SuiWelcome]:1,[E.SuiWelcomeDefaultOn]:1,[E.MonadMainnetWelcome]:1,[E.ArbitrumWelcome]:1,[E.StakingWelcome]:1,[E.ClaimUsernameNudge]:1,[E.QuickClaimUsername]:1,[E.AdditionalPermissions]:1,[E.SeedlessPinVerification]:1,[E.TermsOfServiceUpdate]:1,[E.PerpsJoinFeedbackGroup]:1,[E.PerpsIntro]:1,[E.NotificationsUpdate]:1,[E.CashWaitlistActivated]:1,[E.CashGeneralAccessActivation]:1,[E.PredictionInsiderTradingAttestation]:1},Io=n(t=>So?gs[t]:mn?ks[t]:-1,"getMostRecentVersion");var ys=1,Po=".phantom-labs.settings.interstitials";var hs={...yn(Po,[`${Wt}:has-seen-interstitial`,`${Wt}:interstitial-view-history`],(t,e)=>({version:ys,interstitialsSeen:{...t?.interstitialsSeen,...e?.interstitialsSeen},interstitialsViewHistory:{...t?.interstitialsViewHistory,...e?.interstitialsViewHistory}}))};var pt;(function(t){t.LastOnboardedAt="lastOnboardedAt",t.AppLaunchTimes="appLaunchTimes",t.DismissedActionBanners="dismissedActionBanners",t.DismissedContentCards="dismissedContentCards"})(pt||(pt={}));var As=A.object({version:A.literal(1),dismissedContentCards:A.record(A.string().describe("cardId"),A.object({dismissedTimestamp:A.number().describe("unix timestamp in milliseconds of dismissal")}))}),[Eo,ia]=gn("interstitials",[{key:pt.LastOnboardedAt,defaultValue:-1,type:"number"},{key:pt.AppLaunchTimes,defaultValue:[],type:"array",validator:A.array(A.number())},{key:pt.DismissedActionBanners,defaultValue:[],type:"array",validator:A.array(A.string())},{key:pt.DismissedContentCards,type:"object",validator:As,nullable:!0}]),ge=n((...t)=>De(Eo,...t),"useInterstitialsStorage"),Co=n((...t)=>De(ia,...t),"useSetInterstitialsStorage"),ws=1,Ts=A.object({version:A.literal(1),interstitialsSeen:A.record(A.number()).optional(),interstitialsViewHistory:A.record(A.array(A.number())).optional()}),bs=n((t,e)=>{let o=t,r=e;return!o&&!r?null:{version:ws,interstitialsSeen:{...o?.interstitialsSeen??{},...r?.interstitialsSeen??{}},interstitialsViewHistory:{...o?.interstitialsViewHistory??{},...r?.interstitialsViewHistory??{}}}},"interstitialsResolver"),[wr,sa,vs]=kn("interstitials",[{key:Po,type:"object",validator:Ts,nullable:!0,resolver:bs,updateOn:"idle"}]);var Tr=n((...t)=>De(sa,...t),"useSetSyncedInterstitialsStorage"),ca=n((...t)=>De(vs,...t),"useAsyncSyncedInterstitialsStorage");var We=n(t=>{let{value:e,isReady:o}=ca(".phantom-labs.settings.interstitials"),r=Io(t);return{isReady:o,data:(e?.interstitialsSeen?.[t]??0)>=r}},"useHasSeenInterstitial");i();s();var ua=x(L());var xs=1,ht=n(t=>{let e=Tr(".phantom-labs.settings.interstitials");return(0,ua.useCallback)(async()=>{let o=wr(".phantom-labs.settings.interstitials"),r=Io(t);await e({version:xs,interstitialsSeen:{...o?.interstitialsSeen??{},[t]:r},interstitialsViewHistory:{...o?.interstitialsViewHistory??{},[t]:[...o?.interstitialsViewHistory?.[t]??[],Date.now()]}})},[t,e])},"useSetHasSeenInterstitial");i();s();var br=x(Dt(),1);i();s();var la=x(L());var Lo=class extends la.default.Component{static{n(this,"ErrorBoundary")}constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return e instanceof Error?{error:e}:typeof e=="string"?{error:new Error(e)}:{error:new Error}}componentDidCatch(e,o){e instanceof Error&&j.captureError(e,G.Generic)}render(){return this.state.error?typeof this.props.fallback=="function"?this.props.fallback(this.state.error):this.props.fallback:this.props.children}};var _o=x(L(),1);var ke=_o.default.memo(({children:t,i18nKey:e,...o})=>{let{t:r}=$(),a=(0,_o.useMemo)(()=>(e?`${r(e,{...o,...o.values})}`:"").replace(/<\/?[^>]+(>|$)/g,""),[e,o,r]);return(0,br.jsx)(Lo,{fallback:a,children:(0,br.jsx)(vn,{i18nKey:e,...o,children:t})})});i();s();i();s();i();s();i();s();i();s();var ma=n(async({accountID:t,deviceId:e,locale:o,rootId:r,selectedAccountAddresses:a,accessToken:c})=>{let u;try{let l={accountID:t,deviceId:e,locale:o,platform:fo,rootId:r,selectedAccountAddresses:a,version:ve},d=await lt.api().headers({"Content-Type":"application/json"}).bearer(c).post(({apiEnv:S})=>`/banners/get_banners/${S}/v2`,l);if(d.status===400){let S=await d.data,m=vo(S);throw new Error(m)}else if(d.status<200||d.status>299)throw new Error(`status code: ${d.status}, body: ${await d.statusText}`);let p=d.data;return p?{...p,banners:p.banners??[]}:da}catch(l){return u===400&&l instanceof Error&&j.captureError(l,G.ActionBanner),da}},"fetchSanityActionBanners"),da={id:void 0,banners:[]};i();s();i();s();var vr=n(t=>t?Object.values(qe).includes(t):!1,"isActionBannerDestinationSupported");i();s();var pa=n(t=>{switch(t){case It.BottomSheet:return So;case It.Modal:return!0;default:return!1}},"isActionBannerInterstitialSupported");var fa=n(t=>{let{bannerType:e,destinationType:o}=t;switch(e){case It.DirectLink:return vr(o);case It.BottomSheet:case It.Modal:return pa(e)&&vr(o);default:return!1}},"isActionBannerSupported");var Sa=n(async({accountID:t,deviceId:e,dismissedBanners:o,locale:r,rootId:a,selectedAccountAddresses:c,accessToken:u})=>{let l=await ma({accountID:t,deviceId:e,locale:r,rootId:a,selectedAccountAddresses:c,accessToken:u});return{...l,banners:l.banners.filter(d=>fa(d)&&!o.includes(d.id))}},"fetchActionBanners");var Is=R({minutes:1}),Ps=n(()=>{let t=Kt(),{data:e,isLoading:o}=Ln(),{data:r}=re(),a=n(async()=>{let c=r?.type!==pe.ReadOnly?r?.addresses.map(Sn)??[]:[],u=r?.type===pe.Seed?r.seedIdentifier:null,l=Eo(pt.DismissedActionBanners),d=go(v.language)??"en",p=await t.getDeviceId();return Sa({accountID:r?.identifier??"",deviceId:p,dismissedBanners:l,locale:d,rootId:u,selectedAccountAddresses:c,accessToken:e?.accessToken})},"queryFn");return _({queryKey:Ar.actionBanners(r?.identifier,e?.accessToken),queryFn:a,enabled:!o&&!!r?.identifier,staleTime:Is})},"useActionBanners");i();s();i();s();var Oo=x(L());i();s();var ga=n(()=>{let t=ge(pt.LastOnboardedAt),e=ge(pt.AppLaunchTimes);if(e.length<2)return!0;if(t!==void 0){let[o,r]=e;if(t<o&&t<r)return!1}return!0},"useHasJustOnboarded");function He(t,e,o){let{data:r,isReady:a}=We(t),{data:c}=wn(e?[e]:[]),u=c?.length===1?c[0]:!0,l=ga(),d=(0,Oo.useCallback)(()=>o(),[o]);return(0,Oo.useMemo)(()=>u&&a&&!r&&!l&&d(),[u,r,l,d,a])}n(He,"useNewFeatureVisibility");i();s();var Mo=x(Dt());var Le=x(L());var xr={data:{feature:"arbitrum"}},Es=n(({onPrimaryAction:t,onSecondaryAction:e,image:o,condition:r=n(()=>!0,"condition")})=>{let{t:a}=$(),{mutateAsync:c}=_n(),[u]=On([dt.Arbitrum]),l=ht(E.ArbitrumWelcome),d=He(E.ArbitrumWelcome,"enable-arbitrum",()=>r()&&!u&&!po()),p=(0,Le.useCallback)(async()=>{await c({chainIDs:[dt.Arbitrum]}),t(),l()},[c,t,l]),S=(0,Le.useCallback)(()=>{e(),l()},[e,l]),m=(0,Le.useMemo)(()=>({title:a("interstitialArbitrumWelcomeTitle"),items:[{key:"arbitrumValueProp1",title:a("interstitialArbitrumWelcomeItemTitle_1"),icon:(0,Mo.jsx)(ne,{icon:"InfoCircle",color:"spotBase",backgroundColor:"brandMidnight",shape:"square"}),description:a("interstitialArbitrumWelcomeItemDescription_1")},{key:"arbitrumValueProp2",title:a("interstitialArbitrumWelcomeItemTitle_2"),icon:(0,Mo.jsx)(ne,{icon:"InfoCircle",color:"spotBase",backgroundColor:"brandMidnight",shape:"square"}),description:a("interstitialArbitrumWelcomeItemDescription_2")},{key:"arbitrumValueProp3",title:a("interstitialArbitrumWelcomeItemTitle_3"),icon:(0,Mo.jsx)(ne,{icon:"InfoCircle",color:"spotBase",backgroundColor:"brandMidnight",shape:"square"}),description:a("interstitialArbitrumWelcomeItemDescription_3")}],primaryButton:{children:a("interstitialArbitrumWelcomePrimaryButtonText"),onAction:p,analyticsEvent:{event:"welcomeInterstitialPrimaryButtonClickedByUser",payload:xr}},secondaryButton:{children:a("commandNotNow"),onAction:S,analyticsEvent:{event:"welcomeInterstitialSecondaryButtonClickedByUser",payload:xr}},onDismiss:l,image:o,displayEvent:{event:"welcomeInterstitialSeen",payload:xr}}),[a,p,S,o,l]);return(0,Le.useMemo)(()=>({interstitial:m,shouldShow:d}),[m,d])},"useArbitrumWelcomeModal");i();s();var No=x(Dt());var _e=x(L());var Ir={data:{feature:"staking"}},Cs=n(({onPrimaryAction:t,onSecondaryAction:e,image:o,condition:r=n(()=>!0,"condition")})=>{let{t:a}=$(),c=ht(E.StakingWelcome),u=He(E.StakingWelcome,"enable-psol-welcome-modal",()=>r()&&!po()),l=(0,_e.useCallback)(()=>{t(),c()},[t,c]),d=(0,_e.useCallback)(()=>{e(),c()},[e,c]),p=(0,_e.useMemo)(()=>({title:void 0,mobileTitleSheetInset:pn,items:[{key:"stakingValueProp1",title:a("stakingInterstitialWelcomeItemTitle_1"),icon:(0,No.jsx)(ne,{icon:"InfoCircle",color:"spotPositive",backgroundColor:"areaBase",shape:"square"}),description:a("stakingInterstitialWelcomeItemDescription_1")},{key:"stakingValueProp2",title:a("stakingInterstitialWelcomeItemTitle_2"),icon:(0,No.jsx)(ne,{icon:"TrendingUp",color:"spotPositive",backgroundColor:"areaBase",shape:"square"}),description:a("stakingInterstitialWelcomeItemDescription_2")},{key:"stakingValueProp3",title:a("stakingInterstitialWelcomeItemTitle_3"),icon:(0,No.jsx)(ne,{icon:"Shield",color:"spotPositive",backgroundColor:"areaBase",shape:"square"}),description:a("stakingInterstitialWelcomeItemDescription_3")}],primaryButton:{children:a("stakingInterstitialWelcomePrimaryButtonText"),onAction:l,analyticsEvent:{event:"welcomeInterstitialPrimaryButtonClickedByUser",payload:Ir},background:"spot",theme:"positive"},secondaryButton:{children:a("commandNotNow"),onAction:d,analyticsEvent:{event:"welcomeInterstitialSecondaryButtonClickedByUser",payload:Ir}},onDismiss:c,image:o,displayEvent:{event:"welcomeInterstitialSeen",payload:Ir},disclaimers:[a("mintStakeInfoPageDisclaimer1"),a("mintStakeInfoPageDisclaimer2_US")]}),[a,l,d,o,c]);return(0,_e.useMemo)(()=>({interstitial:p,shouldShow:u}),[p,u])},"useStakingWelcomeModal");i();s();var Qt=x(Dt());var Oe=x(L());var Ls="https://phantom.com/terms",_s="https://phantom.com/privacy",Os="https://phantom.com/terms-and-privacy-update",Ms=n(({onConfirm:t,openUrl:e})=>{let{t:o}=$(),r=Kt(),a=ht(E.TermsOfServiceUpdate),c=(0,Oe.useCallback)(async()=>{a(),t()},[a,t]),u=(0,Oe.useCallback)(d=>async()=>{await r.capture("termsOfServiceUpdateClick",{data:{uiContext:"interstitial"}}),await e(d)},[r,e]),l=(0,Oe.useMemo)(()=>({title:o("interstitialTermsOfServiceUpdateTitle"),items:[],primaryButton:{children:o("commandContinue"),onAction:c,analyticsEvent:{event:"termsOfServiceUpdateAgreedByUser",payload:{data:{uiContext:"interstitial"}}}},image:"",displayEvent:{event:"termsOfServiceUpdateSeen",payload:{data:{uiContext:"interstitial"}}},description:(0,Qt.jsx)(Ns,{openUrl:u}),dismissGestureDisabled:!0}),[o,c,u]);return(0,Oe.useMemo)(()=>({interstitial:l}),[l])},"useTermsOfServiceUpdated"),Ns=n(({openUrl:t})=>(0,Qt.jsx)(st,{marginTop:24,children:(0,Qt.jsx)(Y,{font:"body",align:"center",children:(0,Qt.jsxs)(ke,{i18nKey:"interstitialTermsOfServiceUpdateSubtitle",children:["Please review our updated",(0,Qt.jsx)(Y,{onPress:t(Ls),color:"spotBase",children:"Terms of Use"}),"and",(0,Qt.jsx)(Y,{onPress:t(_s),color:"spotBase",children:"Privacy Policy"}),". By continuing, you agree to the updated terms and policies.",(0,Qt.jsx)(Y,{onPress:t(Os),color:"spotBase",children:"Learn More"}),"."]})})}),"TermsOfServiceUpdateDescription");i();s();var ka=x(Dt());var ya=x(L());i();s();var Fs=x(Dt());var ha=x(L());i();s();var Us=x(Dt());var Aa=x(L());i();s();var Bs=x(L());i();s();var wa=x(L());var Rs=n(()=>{let t=ge(pt.DismissedActionBanners),e=Co(pt.DismissedActionBanners),o=bt();return(0,wa.useCallback)(r=>{e([...t,r]),o.setQueriesData({queryKey:[Ce]},a=>{if(!a)return;let c=a.banners.filter(u=>u.id!==r);return{...a,banners:c}})},[t,e,o])},"useDismissActionBanner");i();s();i();s();var Ds=x(L());i();s();var ef=R({seconds:20}),of=R({seconds:5});var pf=R({minutes:5});i();s();var Ta=n(async t=>{await t.invalidateQueries({queryKey:[Ce]})},"invalidateActionBanners");Tn(Ta);var ba=n(t=>t,"coerceStorageKey"),Mf=n(t=>ge(ba(t)),"useInterstitialStorage"),Nf=n(t=>Co(ba(t)),"useSetInterstitialStorage");i();s();i();s();var Pr=class{static{n(this,"ActionBannerAnalytics")}#t;constructor(e){this.#t=e}onBannerSeen=n(e=>{this.#t.capture("actionBannerSeenByUser",{data:{banner:e}})},"onBannerSeen");onBannerClick=n(e=>{this.#t.capture("actionBannerClickedByUser",{data:{banner:e}})},"onBannerClick");onBannerDismiss=n(e=>{this.#t.capture("actionBannerDismissedByUser",{data:{banner:e}})},"onBannerDismiss");onInterstitialSeen=n(e=>{this.#t.capture("actionBannerInterstitialSeenByUser",{data:{banner:e}})},"onInterstitialSeen");onInterstitialPrimaryClick=n(e=>{this.#t.capture("actionBannerInterstitialPrimaryButtonClickedByUser",{data:{banner:e}})},"onInterstitialPrimaryClick");onInterstitialSecondaryClick=n(e=>{this.#t.capture("actionBannerInterstitialSecondaryButtonClickedByUser",{data:{banner:e}})},"onInterstitialSecondaryClick");onInterstitialDismiss=n(e=>{this.#t.capture("actionBannerInterstitialDismissedByUser",{data:{banner:e}})},"onInterstitialDismiss")};i();s();var Vs=n(({id:t,humanReadableId:e,description:o,bannerType:r})=>({id:t,humanReadableId:e,description:o,type:r}),"generateActionBannerBaseAnalyticsPayload"),Ks=n(({id:t,humanReadableId:e,description:o,bannerType:r,interstitial:a})=>{let{title:c,primaryButtonText:u,secondaryButtonText:l}=a,d;if(r===It.Modal)for(let[p,S]of Object.values(a.lineItems).entries())d={...d??{},[`lineItem${p+1}`]:{title:S.title,description:S.description}};return{id:t,humanReadableId:e,description:o,type:r,interstitial:{title:c,body:d,primaryButtonText:u??v.t("commandContinue"),secondaryButtonText:l??v.t("commandDismiss")}}},"generateActionBannerInterstitialAnalyticsPayload");i();s();i();s();var Fo=x(ms(),1);var xa=x(an(),1);var va=(0,Fo.struct)([(0,Fo.u8)("instruction"),Fn("amount")]);function Er(t,e,o,r,a=[],c=Ee){let u=Bn([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],o,a),l=Buffer.alloc(va.span);return va.encode({instruction:Un.Approve,amount:BigInt(r)},l),new xa.TransactionInstruction({keys:u,programId:c,data:l})}n(Er,"createApproveInstruction");var Ia=new k.PublicKey("Config1111111111111111111111111111111111111"),qs="https://docs.solana.com/staking",Ws="https://help.phantom.com/hc/en-us/articles/4406379756307-Why-is-my-stake-still-activating-or-deactivating";var ft={type:Ke.SolanaNative,data:{amount:"0",balance:new nt(0),chain:{id:N.solana.mainnetID,imageUrl:N.solana.iconUrl,name:N.solana.name,symbol:N.solana.tokenSymbol},decimals:9,key:"SolanaNative",logoUri:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL",tokenAddress:void 0,walletAddress:"",spamStatus:Kn.NotVerified}},Pa=new Map([[Tt.Solana.Mainnet,ft]]);var Cr="https://www.jito.network/staking/?mode=unstake",Lr="https://help.phantom.com/hc/en-us/articles/29846774040467",Hs="https://www.jito.network/blog/reward-bearing-vs-rebasing-solana-liquid-staking-tokens/",_r="https://help.phantom.com/hc/en-us/articles/41210373532307";var Or="https://kamino.com/borrow/reserve/7u3HeHxYDLhnCoErrtycNokbQYbWGzLs6JSDqGAv5PfF/HV9KsS5mB4b9CFhDJVKdfxWBAomYfUk5PeUsdgMQsUrB",ae="solana:101/address:J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn",Uo=4e6,Ge=2282880;i();s();var Me;(function(t){t.Initialized="initialized",t.Delegated="delegated"})(Me||(Me={}));var je=A.object({apy:A.number()}),Gs=A.object({validators:A.array(A.string())}),Ea=A.object({epoch:A.number(),effectiveSlot:A.number(),amount:A.number(),postBalance:A.number(),percentChange:A.number(),apr:A.number(),timestamp:A.number()}),js=A.object({items:A.array(Ea)}),Qs=A.object({address:A.string(),chainId:gr,decimals:A.number(),logoURI:A.string(),name:A.string(),symbol:A.string()}),Ys=A.object({caip19:A.string(),metadata:Qs}),$s=A.object({vote_account:A.string()}),Js=A.object({apy:A.string(),totalRewardsFeePercentage:A.string().optional(),chainId:gr,convertRatio:A.string(),name:A.string(),stakePoolAddress:A.string(),stakePoolTokenMetadata:Ys,validators:A.array($s)}),Ca=A.record(A.string(),A.array(Js)),VS=A.object({totalStaked:A.string(),rewards:A.string()}),Qe=n(t=>t==="inactive","canWithdrawStakeAccount"),Ye=n(t=>t==="active"||t==="activating","canUnstakeStakeAccount");i();s();function Bo(t,e){let o=new K(t/100),r=new K(e/100);return o.minus(o.times(r)).times(100).decimalPlaces(2).toNumber()}n(Bo,"calculateTotalValidatorAPY");function La(t){return new K(t/100).times(100).decimalPlaces(2).toNumber()}n(La,"formatTotalValidatorAPY");i();s();i();s();i();s();var J="staking",_t;(function(t){t.convertStakeList="convertStakeAccountList",t.supportedTokens="liquidStakingSupportedTokens",t.convertStakeTransaction="convertStakeTransaction",t.mintTokenTransaction="mintTokenTransaction",t.withdrawLiquidStakeTransaction="withdrawLiquidStakeTransaction",t.featureUsed="featureUsed"})(_t||(_t={}));var Mr=[J,"stakeAccounts"],Nr=[J,"stakeActivationData"],Fr=[J,_t.convertStakeList],Ur=[J,_t.convertStakeTransaction],Br=[J,_t.mintTokenTransaction],zs=[J,_t.withdrawLiquidStakeTransaction],Xs=[J,"deactivateStakeTransaction"],Rr="averageValidatorApy",Zs="recommendedValidators",tc="signatureStatus",ec="stakeAccountMinBalance",oc="stakeRewardsHistory",rc="stakeApy",nc="validatorInfo",ac="voteAccounts",ic="validatorsV2",sc="keybaseUserAvatar",cc="epochTimeRemaining",M={keybaseUserAvatar(t){return[J,sc,t]},signatureStatus(t){return[J,tc,t]},stakeAccounts(t,e){return[...Mr,t,e]},stakeAccountMinBalance(){return[J,ec]},stakeActivationData(t){return[...Nr,t]},stakeRewardsHistory(t){return[J,oc,t]},stakeApy(){return[J,rc]},averageValidatorApy(){return[J,Rr]},recommendedValidators(){return[J,Zs]},validatorInfo(){return[J,nc]},voteAccounts(t){return[J,ac,t]},validatorsV2(){return[J,ic]},convertStakeAccountList(t,e){return[...Fr,t,e]},liquidStakingSupportedTokens(){return[J,_t.supportedTokens]},getConvertStakeTransaction(t){return[...Ur,t]},getMintTokenTransaction(t){return[...Br,t]},getWithdrawLiquidStakeTransaction(t){return[...zs,t]},featureUsed(){return[J,_t.featureUsed]},epochTimeRemaining(t){return[J,cc,t]},getDeactivateStakeTransaction(t){return[...Xs,t]}};var $e=n(t=>()=>{t.invalidateQueries({predicate:n(e=>{let o=n(r=>r.every((a,c)=>e.queryKey[c]===a),"matchesEveryKeyScope");return o(Mr)||o(Nr)||o(Fr)||o(Ur)||o(Br)},"predicate")})},"invalidateAllStakeAccountData");i();s();function Ro(t,e=9){return t.match(new RegExp(`^\\d*(\\.\\d{0,${e}})?$`))}n(Ro,"validateDecimals");i();s();var _a={type:"fungible",isNativeOfType:"sol",chain:dt.Solana,name:"Solana",symbol:"SOL",iconUrl:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",decimals:9},uc="stake",Oa=n(t=>new Dr(t,uc),"createStakeAnalytics"),Dr=class extends Ie{static{n(this,"StakeAnalytics")}createStakeAccountAndDelegateStake=n(e=>{this.analytics.capture("createStakeAccountAndDelegateStake",{data:{...e,..._a}})},"createStakeAccountAndDelegateStake");deactivateStake=n(()=>{this.analytics.capture("deactivateStake",{data:{..._a}})},"deactivateStake")};var Vr=In(Kt,t=>Oa(t));i();s();var Ha=x(L());i();s();var Ma=new Error("Failed to fetch validators from API"),lc=new Error("Missing validators in response"),dc=A.object({validators:A.array(A.object({identityPubkey:A.string(),voteAccountPubkey:A.string(),commission:A.number(),lastVote:A.number(),epochCredits:A.array(A.tuple([A.number(),A.number(),A.number()])).nullish().transform(t=>t??[]),activatedStake:A.number(),info:A.object({details:A.string().optional(),keybaseUsername:A.string().optional(),name:A.string(),website:A.string().optional(),iconUrl:A.string().nullish().transform(t=>t??"")}).optional(),totalApy:A.number()}))});async function Na(){try{let t=await lt.api().get("/staking/v1/validators");if(!Vt(t))throw Ma;let e=dc.safeParse(t.data);if(!e.success)throw console.error("Failed to parse validators from API",e.error),lc;return e.data.validators}catch(t){throw console.error("Failed to fetch validators from API",t),Ma}}n(Na,"getValidatorsFromAPI");i();s();var ie;(function(t){t[t.Always=1/0]="Always",t[t.Short=R({days:1})]="Short",t[t.Medium=R({days:3})]="Medium",t[t.Long=R({days:7})]="Long"})(ie||(ie={}));var V;(function(t){t[t.Immediate=0]="Immediate",t[t.Short=R({minutes:1})]="Short",t[t.Medium=R({minutes:2.5})]="Medium",t[t.Long=R({minutes:5})]="Long",t[t.Never=1/0]="Never"})(V||(V={}));i();s();var Do=x(L());i();s();var Ua=n((t,e)=>t+e[1],"calcReturns");function Ba(t){let e=mc(t),o={commissionWeight:.6,epochCreditsWeight:.1,activatedStakeWeight:.3},r=fc(e.maxEpochCredits,e.maxActivatedStake,o);return t.sort(r)}n(Ba,"sortVoteAccounts");function mc(t){let e={maxEpochCredits:0,maxActivatedStake:0};for(let o of t){let r=o.epochCredits.reduce(Ua,0);e.maxEpochCredits<r&&(e.maxEpochCredits=r),e.maxActivatedStake<o.activatedStake&&(e.maxActivatedStake=o.activatedStake)}return e}n(mc,"findMaxValues");function pc(t,e,o,r,a){let c=(100-t)/100,u=e/o,l=Math.log10(r+1)/Math.log10(a+1);return{normalizedCommission:c,normalizedEpochCredits:u,normalizedActivatedStake:l}}n(pc,"calculateNormalizedValues");function Fa(t,e,o,r){let{commission:a,epochCredits:c,activatedStake:u}=t,{commissionWeight:l,epochCreditsWeight:d,activatedStakeWeight:p}=r,{normalizedCommission:S,normalizedEpochCredits:m,normalizedActivatedStake:y}=pc(a,c.reduce(Ua,0),e,u,o);return(a>10?.5:1)*(l*S+d*m+p*y)}n(Fa,"calculateScore");function fc(t,e,o){return(r,a)=>{let c=Fa(r,t,e,o);return Fa(a,t,e,o)-c}}n(fc,"createVoteAccountSorter");i();s();i();s();var Ra=new Error("Failed to fetch staking APY");async function Da(){try{let t=await lt.api().get("/staking/v1/apy");if(!Vt(t))throw Ra;let e=t.data;return je.parse(e).apy}catch{throw Ra}}n(Da,"getStakingApy");var Va=n(()=>{let t=M.stakeApy();return _({enabled:!0,queryKey:t,gcTime:ie.Short,staleTime:V.Never,async queryFn(){return Da()}})},"useStakeApy");i();s();var Sc=n(t=>async()=>(await t.getParsedProgramAccounts(Ia)).reduce((o,r)=>{if(r.account.data.parsed?.type!=="validatorInfo")return o;let a=r.pubkey.toString(),c=r.account.data.parsed.info.keys,[,u]=c;if(!u.signer)return o;let l=u.pubkey,d=r.account.data.parsed.info.configData;return o.push({identityPubkey:l,infoPubkey:a,info:d}),o},[]),"fetchValidatorInfo");function Ka(t,e){let o=M.validatorInfo(),r=Sc(t);return _({queryKey:o,queryFn:r,placeholderData:[],staleTime:V.Never,enabled:e})}n(Ka,"useValidatorInfo");i();s();var gc=n(async t=>{let e=await t.getVoteAccounts();return[...e.current,...e.delinquent].map(o=>({identityPubkey:o.nodePubkey,voteAccountPubkey:o.votePubkey,commission:o.commission,lastVote:o.lastVote,epochCredits:o.epochCredits,activatedStake:o.activatedStake})).filter(o=>o.commission<99)},"fetchVoteAccounts");function qa(t,e){let o=M.voteAccounts(t.rpcEndpoint);return _({queryKey:o,queryFn:n(async()=>gc(t),"queryFn"),placeholderData:[],staleTime:V.Never,enabled:e})}n(qa,"useVoteAccounts");function Wa(t,e){let{isFetched:o,isFetching:r,isSuccess:a,isError:c,isPending:u,dataUpdatedAt:l,errorUpdatedAt:d,error:p,refetch:S,data:m}=qa(t,e),y=Math.max(l,d),{data:g=null}=Va(),{isFetched:h,isFetching:w,isSuccess:b,isPending:T,isError:C,dataUpdatedAt:U,errorUpdatedAt:H,error:z,refetch:tt,data:X}=Ka(t,e),O=Math.max(U,H),ot=u||T,it=Math.max(y,O),et=o&&h,rt=r||w,Et=a||b,Rt=c||C,Jt=p||z,zt=(0,Do.useCallback)(async()=>{Promise.all([S(),tt()])},[tt,S]);return{results:(0,Do.useMemo)(()=>{if(!m)return[];if(!X)return[];let Zt=Ba(m),te=new Map(Zt.map(D=>[D.identityPubkey,D])),Z=new Map(X.map(D=>[D.identityPubkey,D])),kt=[];for(let[D,Ct]of te){let be=Z.get(D);kt.push({...Ct,...be,totalApy:g?Bo(g,Ct.commission):0})}return kt},[X,m,g]),dataUpdatedAt:it,error:Jt,isSuccess:Et,isError:Rt,isFetched:et,isFetching:rt,isPending:ot,refetch:zt}}n(Wa,"useValidators");function kc(t){let e=M.validatorsV2(),o=_({enabled:t,queryKey:e,gcTime:ie.Short,staleTime:V.Long,async queryFn(){return Na()}});return{results:(0,Ha.useMemo)(()=>{let a=o.data??[];return a.sort((c,u)=>u.totalApy-c.totalApy),a},[o.data]),dataUpdatedAt:o.dataUpdatedAt,error:o.error,isSuccess:o.isSuccess,isError:o.isError,isFetched:o.isFetched,isFetching:o.isFetching,isPending:o.isPending,refetch:n(async()=>{await o.refetch()},"refetch")}}n(kc,"useValidatorsV2Inner");function Je(){let{connection:t}=mt(),e=An("kill-validators-v2"),o=Wa(t,e),r=kc(!e);return e?o:r}n(Je,"useValidatorsV2");i();s();function Kr(t){let e=!!t?.info.meta.lockup,o=new Date((t?.info.meta.lockup?.unixTimestamp??0)*1e3);return e&&o.getTime()>Date.now()}n(Kr,"isLockedStakeAccount");i();s();var Wo=x(L());i();s();var $a=x(L());i();s();var yc="https://keybase.io/_/api/1.0/user/pic_url.json",Vo=n(async t=>{let e=await lt.get(`${yc}?username=${encodeURIComponent(t)}`);if(!Vt(e)||e.data.status?.code!==0)throw new Error("Couldn't fetch keybase user avatar");return e.data.pic_url},"getKeybaseUserAvatar");i();s();i();s();i();s();function Ko(t,e){for(let o of e)if(o.epoch===t)return o;return null}n(Ko,"getStakeHistoryEntry");var Ga=.09;function hc(t,e,o){if(t.activationEpoch===t.deactivationEpoch)return{effective:BigInt(0),activating:BigInt(0)};if(e===t.activationEpoch)return{effective:BigInt(0),activating:t.stake};if(e<t.activationEpoch)return{effective:BigInt(0),activating:BigInt(0)};let r=t.activationEpoch,a=Ko(r,o);if(a!==null){let c=BigInt(0);for(;a!==null;){r++;let u=t.stake-c,l=Number(u)/Number(a.activating),d=Number(a.effective)*Ga,p=BigInt(Math.max(1,Math.round(l*d)));if(c+=p,c>=t.stake){c=t.stake;break}if(r>=e||r>=t.deactivationEpoch)break;a=Ko(r,o)}return{effective:c,activating:t.stake-c}}else return{effective:t.stake,activating:BigInt(0)}}n(hc,"getStakeAndActivating");function ja(t,e,o){let{effective:r,activating:a}=hc(t,e,o);if(e<t.deactivationEpoch)return{effective:r,activating:a,deactivating:BigInt(0)};if(e==t.deactivationEpoch)return{effective:r,activating:BigInt(0),deactivating:r};let c=t.deactivationEpoch,u=Ko(c,o);if(u!==null){let l=r;for(;u!==null&&(c++,u.deactivating!==BigInt(0));){let d=Number(l)/Number(u.deactivating),p=Number(u.effective)*Ga,S=BigInt(Math.max(1,Math.round(d*p)));if(l-=S,l<=0){l=BigInt(0);break}if(c>=e)break;u=Ko(c,o)}return{effective:l,deactivating:l,activating:BigInt(0)}}else return{effective:BigInt(0),activating:BigInt(0),deactivating:BigInt(0)}}n(ja,"getStakeActivatingAndDeactivating");i();s();var Qa=n(function(t){if(t.value===null||t.value.data instanceof Buffer)throw new Error("Account not found");let e=[];return t.value.data.parsed.info.forEach(o=>{e.push({epoch:BigInt(o.epoch),effective:BigInt(o.stakeHistory.effective),activating:BigInt(o.stakeHistory.activating),deactivating:BigInt(o.stakeHistory.deactivating)})}),e},"getStakeHistory"),Ya=n(function(t){let e=BigInt(0);if(t.value===null||t.value.data instanceof Buffer)throw new Error("Account not found");return t.value.data.parsed.type==="delegated"&&(e=BigInt(1)),{discriminant:e,meta:{rentExemptReserve:BigInt(t.value.data.parsed.info.meta.rentExemptReserve),authorized:{staker:t.value.data.parsed.info.meta.authorized.staker,withdrawer:t.value.data.parsed.info.meta.authorized.withdrawer},lockup:{unixTimestamp:BigInt(t.value.data.parsed.info.meta.lockup.unixTimestamp),epoch:BigInt(t.value.data.parsed.info.meta.lockup.epoch),custodian:t.value.data.parsed.info.meta.lockup.custodian}},stake:{delegation:{voterPubkey:t.value.data.parsed.info.stake.delegation.voterPubkey,stake:BigInt(t.value.data.parsed.info.stake.delegation.stake),activationEpoch:BigInt(t.value.data.parsed.info.stake.delegation.activationEpoch),deactivationEpoch:BigInt(t.value.data.parsed.info.stake.delegation.deactivationEpoch)},creditsObserved:BigInt(t.value.data.parsed.info.stake.creditsObserved)}}},"getStakeAccount");async function ze(t,e){let o=new k.PublicKey("SysvarStakeHistory1111111111111111111111111"),r=await t.getParsedAccountInfo(e);if(r===null||r.value===null)throw new Error("Account not found");let a=await t.getParsedAccountInfo(o);if(a===null)throw new Error("StakeHistory not found");let c=Qa(a),u=await t.getEpochInfo(),l=Ya(r),{effective:d,activating:p,deactivating:S}=ja(l.stake.delegation,BigInt(u.epoch),c),m;S>0?m="deactivating":p>0?m="activating":d>0?m="active":m="inactive";let y=BigInt(r.value.lamports)-d-l.meta.rentExemptReserve;return{state:m,active:Number(d),inactive:Number(y)}}n(ze,"getStakeActivation");var Ac=n(t=>{let e=[];return t.ownerPublicKey&&e.push({memcmp:{offset:44,bytes:t.ownerPublicKey}}),t.voteAccountPublicKey&&e.push({dataSize:200},{memcmp:{offset:124,bytes:t.voteAccountPublicKey}}),e},"getStakeAccountFilters"),Ja=n(async(t,e,o)=>{let r=Ac(e),a=await t.getParsedProgramAccounts(k.StakeProgram.programId,{filters:r}),u=(await Promise.allSettled(a.map(p=>ze(t,p.pubkey)))).map(p=>{if(p.status==="fulfilled")return p.value.state}),d=(await Promise.allSettled(a.map(p=>{let S=p.account.data?.parsed?.info?.stake?.delegation?.voter,m=o.get(S),y=m?.info?.keybaseUsername,g=m?.info?.iconUrl;return g?new Promise(h=>h(g)):y?Vo(y):new Promise(h=>h(null))}))).map(p=>{if(p.status==="fulfilled"&&p.value!==null)return p.value});return a.map((p,S)=>({pubkey:p.pubkey.toString(),lamports:p.account.lamports,activationState:u[S],imageUri:d[S],...p.account.data.parsed}))},"fetchStakeAccounts"),za=n((t,e)=>M.convertStakeAccountList(t,e),"getQueryKey"),wc=n((t,e,o)=>()=>Ja(t,{ownerPublicKey:e},o),"getQueryFn");function Xa(t,e,o,r=!0){let a=za(e,t.rpcEndpoint),c=wc(t,e,o);return _({queryKey:a,queryFn:c,enabled:!!e&&r,staleTime:V.Never})}n(Xa,"useConvertStakeAccountList");var Za=n((t,e,o,r)=>{let a=bt();return(0,$a.useCallback)(async()=>{r&&await a.prefetchQuery({queryKey:za(e,t.rpcEndpoint),queryFn:n(()=>Ja(t,{ownerPublicKey:e},o),"queryFn")})},[a,e,t,o,r])},"usePrefetchConvertStakeAccountList");i();s();var Pt=x(L());var qo=null,Tc=n(t=>{if(!qo&&t){let e="liquidStake";qo=new Ie(t,e)}if(!qo)throw new Error("liquidStakeAnalytics was not properly configured");return qo},"getLiquidStakeSequenceAnalytics"),Ot=n(()=>{let t=Kt(),e=Tc(t),o=(0,Pt.useCallback)((g,h)=>{t.capture("liquidStakingConvertAccountClicked",{data:{stake:{validatorName:g,stakeAccountBalance:h}}})},[t]),r=(0,Pt.useCallback)(g=>{t.capture("liquidStakingConvertAccountListSeen",{data:{stake:{stakeAccounts:g}}})},[t]),a=(0,Pt.useCallback)(()=>{t.capture("liquidStakingConvertBannerClicked")},[t]),c=(0,Pt.useCallback)(()=>{t.capture("liquidStakingConvertBannerSeen")},[t]),u=(0,Pt.useCallback)(()=>{t.capture("liquidStakingConvertModalContinue")},[t]),l=(0,Pt.useCallback)(()=>{t.capture("liquidStakingConvertModalNotNow")},[t]),d=(0,Pt.useCallback)(({provider:g,convertDetails:h,amount:w,fromAmount:b,toAmount:T,fromAmountUSD:C,toAmountUSD:U})=>{t.capture("liquidStakingConvertApprovedByUser",{data:{stake:{stakePoolAddress:g?.stakePoolAddress,token:g?.stakePoolTokenMetadata.metadata.name,fromAmount:b,toAmount:T,fromAmountUSD:C,toAmountUSD:U,apy:g?.apy,convertRatio:g?.convertRatio,caip19:g?.stakePoolTokenMetadata.caip19,validatorName:h?.validatorName,stakeAccountBalance:w}}})},[t]),p=(0,Pt.useCallback)((g,h)=>{e.submittedTransaction(g,{chainType:q.Solana,chainName:dt.Solana,networkId:"mainnet",method:"signAndSendTransaction",walletAddress:h})},[e]),S=(0,Pt.useCallback)(({amount:g,convertDetails:h,provider:w})=>{t.capture("liquidStakingConvertSuccess",{data:{stake:{apy:w?.apy,convertRatio:w?.convertRatio,caip19:w?.stakePoolTokenMetadata.caip19,stakePoolAddress:w?.stakePoolAddress,token:w?.stakePoolTokenMetadata.metadata.name,totalAmount:g,validatorName:h?.validatorName}}})},[t]),m=(0,Pt.useCallback)(({amount:g,convertDetails:h})=>{t.capture("liquidStakingConvertFailed",{data:{stake:{validatorName:h?.validatorName,stakeAccountBalance:g}}})},[t]),y=(0,Pt.useCallback)(()=>{t.capture("liquidStakingConvertMoreClicked")},[t]);return{trackConvertStakeAccountClicked:o,trackConvertStakeAccountListSeen:r,trackConvertBannerClicked:a,trackConvertBannerSeen:c,trackConvertModalContinue:u,trackConvertModalNotNow:l,trackConvertApprovedByUser:d,trackConvertFailed:m,trackConvertSubmitted:p,trackConvertSuccess:S,trackConvertMoreClicked:y}},"useConvertStakeAnalytics");var bc=n(()=>{let{connection:t}=mt(),{data:e}=xt(q.Solana),{trackConvertModalContinue:o,trackConvertModalNotNow:r}=Ot(),{results:a,isFetched:c}=Je(),u=(0,Wo.useMemo)(()=>new Map(a.map(d=>[d.voteAccountPubkey,d])),[a]),l=Za(t,e?.address??"",u,c);return(0,Wo.useEffect)(()=>{l()},[l]),{trackConvertModalContinue:o,trackConvertModalNotNow:r}},"useConvertStakeAccountInfoPageProps");i();s();i();s();var ti=n(({numSignatures:t,lamportsPerSignature:e,lamportBalance:o,rentExemptionMinimum:r})=>{let a=nt(e).multipliedBy(t),c=o.minus(a);return nt.max(c.minus(r),0)},"getMaxTransferrableSol");var vc=n(({balance:t,rentExemptionMinimum:e})=>{let o=ti({numSignatures:11,lamportsPerSignature:Vn,lamportBalance:nt(t),rentExemptionMinimum:dn(e)});return parseFloat(ln(o).toFixed(9))},"useGetMaxTransferrableSol");i();s();var xc=n(t=>{let e=M.keybaseUserAvatar(t);return _({enabled:!!t,queryKey:e,async queryFn(){if(!t)throw new Error("Keybase username is required");return Vo(t)},placeholderData:"",staleTime:V.Never})},"useKeybaseUserAvatar");i();s();i();s();var ei=new Error("Missing sender address for staking fungibles."),oi=new Error("Missing signature from waiting for staking transaction confirmation."),ri=new Error("PublicKey is required"),Ne;(function(t){t.MissingTransactionData="MissingTransactionData",t.UnknownError="UnknownError",t.FailedToConfirmTransaction="FailedToConfirmTransaction"})(Ne||(Ne={}));var ye=class extends Error{static{n(this,"StakingError")}constructor(e){super(e)}};var Ic=n(async(t,e)=>await t.getSignatureStatuses([e],{searchTransactionHistory:!0}),"fetchSignatureStatus");function Pc(t,e,o){let r=bt(),a=M.signatureStatus(o),c=n(async()=>{if(!o)throw oi;let p=await Ic(t,o);return{...p,value:p.value[0]}},"queryFn"),l=r.getQueryData(a)?.value?.confirmationStatus;return _({queryKey:a,queryFn:c,enabled:!!o&&l!=="finalized",refetchInterval:e,staleTime:V.Never})}n(Pc,"useSignatureStatus");i();s();var Ec=n(t=>async()=>await t.getMinimumBalanceForRentExemption(k.StakeProgram.space),"getStakeAccountMinBalance");function Cc(t){let e=M.stakeAccountMinBalance(),o=Ec(t);return _({queryKey:e,queryFn:o,placeholderData:0,staleTime:V.Never})}n(Cc,"useStakeAccountMinBalance");i();s();var Lc=n(async(t,e,o,r="confirmed")=>await t.getInflationReward(e,o,r),"getInflationReward"),_c=n(async(t,e)=>{let o=[];e.ownerPublicKey&&o.push({memcmp:{offset:44,bytes:e.ownerPublicKey}}),e.voteAccountPublicKey&&o.push({dataSize:200},{memcmp:{offset:124,bytes:e.voteAccountPublicKey}});let r=await t.getParsedProgramAccounts(k.StakeProgram.programId,{filters:o}),a=[];if(e.fetchInflationRewards)try{a=await Lc(t,r.map(({pubkey:c})=>c))}catch(c){let u=c;!u.message.includes("RPC request timed out")&&j.captureError(u,G.Staking)}return r.map((c,u)=>({pubkey:c.pubkey.toString(),lamports:c.account.lamports,inflationReward:a[u]?.amount,...c.account.data.parsed}))},"fetchStakeAccounts"),Oc=n((t,e)=>M.stakeAccounts(t,e),"getQueryKey"),Mc=n((t,e)=>()=>_c(t,{ownerPublicKey:e,fetchInflationRewards:!0}),"getQueryFn");function Nc(t,e){let o=Oc(e,t.rpcEndpoint),r=Mc(t,e);return _({queryKey:o,queryFn:r,placeholderData:[],staleTime:R({minutes:5})})}n(Nc,"useStakeAccounts");i();s();function Fc(t,e){let o=M.stakeActivationData(e);return _({queryKey:o,queryFn:n(async()=>{if(!e)throw ri;return await ze(t,new k.PublicKey(e))},"queryFn"),enabled:!!e,staleTime:V.Never})}n(Fc,"useStakeActivationData");i();s();var ii=x(L());i();s();i();s();var ni=new Error("Failed to fetch liquid staking supported tokens"),Uc=new Error("Missing supported tokens in response");async function ai(){try{let t=await lt.api().get("/liquid-staking/v1/supported-tokens");if(!Vt(t))throw ni;let e=Ca.safeParse(t.data.supportedTokens);if(!e.success)throw Uc;return e.data}catch{throw ni}}n(ai,"getLiquidStakingSupportedTokens");var Ho=n(()=>{let t=M.liquidStakingSupportedTokens();return _({queryKey:t,staleTime:R({minutes:15}),async queryFn(){return await ai()}})},"useLiquidStakingSupportedTokens");function Bc(t){return typeof t=="string"?t:t?oe(qt(t)):""}n(Bc,"getCaip19String");var Ht=n(t=>{let e=Bc(t),o=yt("enable-psol-staking"),{data:r={}}=Ho(),a=(0,ii.useMemo)(()=>!!Object.values(r).flat().find(u=>u.stakePoolTokenMetadata.caip19===e),[e,r]);return e===F?o&&a:a},"useIsSupportedLST");i();s();i();s();var Xe=x(L());i();s();i();s();var si=new Error("Failed to fetch Average Validator APY");async function ci(){let t=await lt.api().get("/staking/v1/avg-validator-apy");if(!Vt(t))throw si;let e=je.safeParse(t.data);if(e.success)return e.data.apy;throw si}n(ci,"getAverageValidatorApy");var ui=n(()=>{let t=M.averageValidatorApy();return _({enabled:!0,queryKey:t,gcTime:R({hours:1}),staleTime:1/0,async queryFn(){return ci()}})},"useAverageValidatorApy");var li=n(t=>{let e=(0,Xe.useMemo)(()=>t?oe(qt(t)):"",[t]),{data:o,isPending:r}=ui(),a=o?o/100:null,{data:c={},isPending:u}=Ho(),l=(0,Xe.useMemo)(()=>c[e]??[],[e,c]),d=l?l[0]:void 0,p=(0,Xe.useCallback)((S,m=!1)=>S?l.find(y=>y.stakePoolTokenMetadata.caip19===S):m?void 0:d,[d,l]);return{isLoading:u||r,isSupported:l.length>0,providers:l,pickedLSTProvider:p,defaultProvider:d,avgValidatorApy:a}},"useLiquidStaking");var Mt=n(t=>{let e=Pa.get(t);return li(e)},"useNativeLiquidStaking");i();s();var di=x(L());var Rc=n(({onLiquidStake:t,onNativeStake:e})=>{let{t:o}=$(),r=Lr,{avgValidatorApy:a,pickedLSTProvider:c}=Mt(Tt.Solana.Mainnet),u=Ht(F),l=c(u?F:Hn);return{options:(0,di.useMemo)(()=>[{type:"liquid",isRecommended:!0,title:o("stakeMethodSelectionLiquidStakingTitle"),description:o("stakeMethodSelectionLiquidStakingDescription",{poolTokenSymbol:l?.stakePoolTokenMetadata?.metadata?.symbol}),apy:l?o("stakeMethodEstApy",{apy:fe(parseFloat(l.apy))}):null,disabled:!l,onClick:t??(()=>{})},{type:"native",isRecommended:!1,title:o("stakeMethodSelectionNativeStakingTitle"),description:o("stakeMethodSelectionNativeStakingDescription"),apy:a?o("stakeMethodEstApy",{apy:fe(a)}):null,onClick:e,disabled:!1}],[a,l,t,e,o]),learnMoreLink:r}},"useStakingMethodSelectionProps");i();s();function Dc({hideOnLowBalance:t}){let{pickedLSTProvider:e}=Mt(Tt.Solana.Mainnet),o=Ht(F),r=e(F),{data:a}=zn();if(!a||!r)return{shouldHide:!0,apy:0,formattedApy:"0%"};let c=vt(a.totalQuantityString,a.decimals),u=!1;t&&(u=!c.isGreaterThan(0)),o||(u=!0);let l=parseFloat(r.apy),d=`${(l*100).toFixed(2)}%`;return{shouldHide:u,apy:l,formattedApy:d}}n(Dc,"useStakingWelcomeProps");i();s();var Yt=n(()=>{let{data:t}=ea(),e=t==="GB",o=yt("enable-uk-staking-disclaimers"),r=yt("enable-uk-staking-override"),a=Ht(F);return r?!0:o&&e&&a},"useShowUKDisclaimer");i();s();var pi=x(L());i();s();var Vc=n(async t=>{let e=await t.getEpochInfo(),o=e.slotsInEpoch-e.slotIndex;return{hours:o*.4/3600,totalSlots:e.slotsInEpoch,remainingSlots:o,epoch:e.epoch}},"fetchEpochTimeRemaining"),mi=n(t=>{let e=M.epochTimeRemaining(t.rpcEndpoint);return _({queryKey:e,queryFn:n(async()=>Vc(t),"queryFn"),placeholderData:{hours:0,totalSlots:0,remainingSlots:0,epoch:0},staleTime:V.Long})},"useEpochTimeRemaining");var he=n(()=>{let{t}=$(),{connection:e}=mt(),{data:o}=mi(e);return(0,pi.useMemo)(()=>{if(!o)return"";if(o.hours<24){let r=Math.max(o.hours,1),a=t(r===1?"timeUnitHour":"timeUnitHours");return`${r.toFixed(0)} ${a}`}else{let r=o.hours,a=Math.floor(r/24),c=r%24,u=Math.floor(c),l=t(u===1?"timeUnitHour":"timeUnitHours"),d=t(a===1?"timeUnitDay":"timeUnitDays");return u===0?`${a} ${d}`:`${a} ${d} ${u} ${l}`}},[o,t])},"useDurationUntilEpochEnds");i();s();i();s();var Ze=x(L());i();s();var fi=n(t=>Kr(t)?!1:Qe(t.activationState),"isEligibleToConvert");var Go=n(t=>{let e=yt("enable-psol-native-convert"),o=yt("enable-psol-native-delayed-convert"),{connection:r}=mt(),{data:a}=xt(q.Solana),{results:c,isFetched:u,isError:l}=Je(),d=(0,Ze.useMemo)(()=>new Map(c.map(C=>[C.voteAccountPubkey,C])),[c]),{data:p,isLoading:S,isFetching:m,error:y,refetch:g}=Xa(r,a?.address??"",d,u||l),h=S||m,w=(0,Ze.useMemo)(()=>h||!p?[]:p.map(C=>Kc(C,d)).sort((C,U)=>C.lamports>U.lamports?-1:1),[h,p,d]),b=(0,Ze.useMemo)(()=>w.filter(C=>C.eligible),[w]),T=(0,Ze.useMemo)(()=>w.filter(C=>!C.eligible),[w]);return t?.stakePoolTokenMetadata.caip19===F?{hasConvertibleStakeAccounts:e&&b.length>0||o&&T.length>0,eligibleStakeAccounts:b,inelegibleStakeAccounts:T,isLoadingList:h,error:y,refetch:g}:{hasConvertibleStakeAccounts:!1,eligibleStakeAccounts:[],inelegibleStakeAccounts:[],isLoadingList:h,error:y,refetch:g}},"useConvertibleStakeAccounts"),Kc=n((t,e)=>{let o=fi(t),r=qc(t,e),a=t.lamports;return{...t,amount:a,eligible:o,title:r,imageUri:t.imageUri}},"mapStakeAccountToViewState"),qc=n((t,e)=>{let o="";if(t.type===Me.Delegated){let{voter:r}=t.info.stake.delegation,a=e.get(r),c=a?.info?.keybaseUsername;o=a?.info?.name??c??xn(r)}else t.type===Me.Initialized&&(o=t.pubkey);return o},"getTitleForConvertStakeAccount");i();s();var Wc=n(()=>{let t=to();if(!t)throw new Error("PSOL provider not found");return t},"usePSolProviderUnsafe"),to=n(()=>{let{pickedLSTProvider:t}=Mt(N.solana.mainnetID);return t(F,!0)},"usePSolProvider");i();s();var ki=x(L());i();s();var jo=x(L());i();s();var eo;(function(t){t.FeatureUsed="featureUsed"})(eo||(eo={}));function Si({key:t,queryKey:e,defaultValue:o=null}){let r=Ve();return _({enabled:!0,queryKey:e,gcTime:ie.Long,staleTime:V.Never,async queryFn(){try{return await r.get(t)}catch(a){return a instanceof Error&&j.captureError(a,G.Staking),o}}})}n(Si,"useStakeStorageValue");function gi({key:t,queryKey:e}){let o=Ve(),r=bt();return xe({async mutationFn(a){try{return await o.set(t,a)}catch(c){c instanceof Error&&j.captureError(c,G.Staking);return}},async onMutate(a){await r.cancelQueries({queryKey:e});let c=r.getQueryData(e);return r.setQueryData(e,a),{previousValue:c}},onError(a,c,u){r.setQueryData(e,u?.previousValue)}})}n(gi,"useSetStakeStorageValue");var Hc=A.object({convert:A.boolean(),mint:A.boolean()}),qr={convert:!1,mint:!1},Gc=JSON.stringify(qr),Fe=n(()=>{let{data:t}=Si({key:eo.FeatureUsed,queryKey:M.featureUsed(),defaultValue:Gc}),e=(0,jo.useMemo)(()=>{if(!t)return qr;let a=Hc.safeParse(JSON.parse(t));return a.success?a.data:qr},[t]),{mutateAsync:o}=gi({key:eo.FeatureUsed,queryKey:M.featureUsed()}),r=(0,jo.useCallback)(async a=>{let c={...e,...a};await o(JSON.stringify(c))},[o,e]);return{usageState:e,setUsageState:r}},"useFeatureUsage");var Wr=n(({method:t,goToInfoPage:e,goToInitFlowPage:o})=>{let{usageState:r}=Fe();return(0,ki.useCallback)(()=>{r[t]?o():e()},[e,o,t,r])},"useOnShowLiquidStakingMethod");i();s();var jc=n(t=>{let e=Yt();return t&&t!==F?{screen:"MintLiquidStakeAmountPage",params:{lstCaip19:t}}:e?{screen:"MintPSOLUKInfoPage",params:{presentNext:!0}}:{screen:"MintLiquidStakeAmountPage",params:{lstCaip19:F}}},"useLiquidStakingScreen");i();s();var yi=x(L());i();s();i();s();var oo={transactionData:void 0,provider:void 0,convert:{validatorVote:"",stakeAccount:"",validatorName:"",eligibleAccountsCount:0,activationState:void 0,stakeAuthorityPubkey:""},amount:"",navigateTo:null},B=Mn(t=>({...oo,resetStaking:n(()=>t(e=>({...e,amount:oo.amount,transactionData:oo.transactionData,convert:oo.convert,navigateTo:oo.navigateTo})),"resetStaking"),setTransactionData:n(e=>t({transactionData:e}),"setTransactionData"),setProvider:n(e=>t({provider:e}),"setProvider"),setConvertStakeAccount:n(e=>t({convert:e}),"setConvertStakeAccount"),setAmount:n(e=>t({amount:e}),"setAmount"),setNavigateTo:n(e=>t({navigateTo:e}),"setNavigateTo")}));var hi=n(t=>{let e=B(d=>d.setConvertStakeAccount),o=B(d=>d.setAmount),{trackConvertStakeAccountClicked:r}=Ot(),a=to(),c=yt("enable-psol-native-delayed-convert"),{eligibleStakeAccounts:u,inelegibleStakeAccounts:l}=Go(a);return(0,yi.useCallback)(({stakeAccount:d,validatorName:p,activationState:S})=>{let m=d?.info?.stake?.delegation?.voter??"",y=`${d?.lamports??"0"}`;e({validatorVote:m,stakeAccount:d.pubkey,stakeAuthorityPubkey:d?.info?.meta?.authorized?.staker??"",validatorName:p??"",activationState:S,eligibleAccountsCount:c?u.length+l.length:u.length}),o(y),r(p??"",y),t()},[r,t,e,o,u.length,l.length,c])},"useConvertStakeNavigateToReview");i();s();var ro=x(L());var Qc=n((t,e)=>{let o=ft,{pickedLSTProvider:r}=Mt(N.solana.mainnetID),a=r(F,!0),{trackConvertStakeAccountListSeen:c}=Ot(),{error:u,refetch:l,isLoadingList:d,eligibleStakeAccounts:p,inelegibleStakeAccounts:S}=Go(a);(0,ro.useEffect)(()=>{d||c([...p,...S].map(w=>({title:w.title,amount:w.amount,eligible:w.eligible})))},[c,p,S,d]);let m=hi(t),y=(0,ro.useCallback)(w=>{m({stakeAccount:w,validatorName:w.title,activationState:w.activationState})},[m]),g=he(),h=(0,ro.useCallback)(()=>{l()},[l]);return{isLoading:d,error:u,eligibleStakeAccounts:p,inelegibleStakeAccounts:S,onPressBack:e,onReload:h,onSelectStakeAccount:y,tokenSymbol:o?.data.symbol??"",tokenDecimals:o?.data.decimals??0,durationUntilEpochEnds:g}},"useConvertStakeAccountListPageProps");i();s();i();s();var Ai=x(L());var Qo=n(()=>{let t=bt();return(0,Ai.useCallback)(()=>$e(t)(),[t])},"useInvalidateQueries"),wi=n((t,e,o)=>To({connection:t,signature:e,commitment:"finalized"}).then(()=>{$e(o)()}),"invalidateStakeDataOnTransactionFinalized");i();s();var Be=x(mo());i();s();var Hr=x(ls());var vb=new k.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");var At=new k.PublicKey("SPoo1Ku8WFXoNDMHPsrGSTSG1Y47rzgn41SLUNakuHy");var xb=Hr.Buffer.from("ephemeral"),Ti=Hr.Buffer.from("transient"),no=k.LAMPORTS_PER_SOL;i();s();var Gr=Object.freeze({DepositStake:{index:9,layout:wt.struct([wt.u8("instruction")])},DepositSol:{index:14,layout:wt.struct([wt.u8("instruction"),wt.ns64("lamports")])},WithdrawStake:{index:10,layout:wt.struct([wt.u8("instruction"),wt.ns64("poolTokens")])},WithdrawSol:{index:16,layout:wt.struct([wt.u8("instruction"),wt.ns64("poolTokens")])}});function jr(t,e){let o=t.layout.span,r=Buffer.alloc(o),a=Object.assign({instruction:t.index},e);return t.layout.encode(a,r),r}n(jr,"encodeData");var Ue=class{static{n(this,"StakePoolInstruction")}static depositSol(e){let{stakePool:o,withdrawAuthority:r,depositAuthority:a,reserveStake:c,fundingAccount:u,destinationPoolAccount:l,managerFeeAccount:d,referralPoolAccount:p,poolMint:S,lamports:m,referralAccount:y}=e,g=Gr.DepositSol,h=jr(g,{lamports:m}),w=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:k.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Ee,isSigner:!1,isWritable:!1}];return a&&w.push({pubkey:a,isSigner:!0,isWritable:!1}),y&&w.push({pubkey:y,isSigner:!1,isWritable:!1}),new Q.TransactionInstruction({programId:At,keys:w,data:h})}static withdrawStake(e){let{stakePool:o,validatorList:r,withdrawAuthority:a,validatorStake:c,destinationStake:u,destinationStakeAuthority:l,sourceTransferAuthority:d,sourcePoolAccount:p,managerFeeAccount:S,poolMint:m,poolTokens:y}=e,g=Gr.WithdrawStake,h=jr(g,{poolTokens:y}),w=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:k.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Ee,isSigner:!1,isWritable:!1},{pubkey:k.StakeProgram.programId,isSigner:!1,isWritable:!1}];return new Q.TransactionInstruction({programId:At,keys:w,data:h})}static withdrawSol(e){let{stakePool:o,withdrawAuthority:r,sourceTransferAuthority:a,sourcePoolAccount:c,reserveStake:u,destinationSystemAccount:l,managerFeeAccount:d,solWithdrawAuthority:p,poolMint:S,poolTokens:m}=e,y=Gr.WithdrawSol,g=jr(y,{poolTokens:m}),h=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:k.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:k.SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:k.StakeProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Ee,isSigner:!1,isWritable:!1}];return p&&h.push({pubkey:p,isSigner:!0,isWritable:!1}),new Q.TransactionInstruction({programId:At,keys:h,data:g})}};i();s();var I=x(xi());var Pi=x(mo()),Ei=x(yr());var ce=[(0,I.u64)("denominator"),(0,I.u64)("numerator")],Ii;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.StakePool=1]="StakePool",t[t.ValidatorList=2]="ValidatorList"})(Ii||(Ii={}));var Yo=Sr().transform(t=>new Pi.default(t,10)),$o=Sr().transform(t=>new k.PublicKey(t)),pu=sn(["uninitialized","initialized","delegated","rewardsPool"]),fu=ee({rentExemptReserve:Yo,authorized:ee({staker:$o,withdrawer:$o}),lockup:ee({unixTimestamp:Re(),epoch:Re(),custodian:$o})}),Su=ee({meta:fu,stake:ee({delegation:ee({voter:$o,stake:Yo,activationEpoch:Yo,deactivationEpoch:Yo,warmupCooldownRate:Re()}),creditsObserved:Re()}).nullish().default(null)}),Ci=ee({type:pu,info:cn(Su)}),Jr=class extends Ei.Layout{static{n(this,"FutureEpochLayout")}layout;discriminator;constructor(e,o){super(-1,o),this.layout=e,this.discriminator=(0,I.u8)()}encode(e,o,r=0){return e==null?this.discriminator.encode(0,o,r):(this.discriminator.encode(2,o,r),this.layout.encode(e,o,r+1)+1)}decode(e,o=0){let r=this.discriminator.decode(e,o);if(r===0)return null;if(r===1||r===2)return this.layout.decode(e,o+1);throw new Error("Invalid future epoch "+this.property)}getSpan(e,o=0){let r=this.discriminator.decode(e,o);if(r===0)return 1;if(r===1||r===2)return this.layout.getSpan(e,o+1)+1;throw new Error("Invalid future epoch "+this.property)}};function $r(t,e){return new Jr(t,e)}n($r,"futureEpoch");var Li=(0,I.struct)([(0,I.u8)("accountType"),(0,I.publicKey)("manager"),(0,I.publicKey)("staker"),(0,I.publicKey)("stakeDepositAuthority"),(0,I.u8)("stakeWithdrawBumpSeed"),(0,I.publicKey)("validatorList"),(0,I.publicKey)("reserveStake"),(0,I.publicKey)("poolMint"),(0,I.publicKey)("managerFeeAccount"),(0,I.publicKey)("tokenProgramId"),(0,I.u64)("totalLamports"),(0,I.u64)("poolTokenSupply"),(0,I.u64)("lastUpdateEpoch"),(0,I.struct)([(0,I.u64)("unixTimestamp"),(0,I.u64)("epoch"),(0,I.publicKey)("custodian")],"lockup"),(0,I.struct)(ce,"epochFee"),$r((0,I.struct)(ce),"nextEpochFee"),(0,I.option)((0,I.publicKey)(),"preferredDepositValidatorVoteAddress"),(0,I.option)((0,I.publicKey)(),"preferredWithdrawValidatorVoteAddress"),(0,I.struct)(ce,"stakeDepositFee"),(0,I.struct)(ce,"stakeWithdrawalFee"),$r((0,I.struct)(ce),"nextStakeWithdrawalFee"),(0,I.u8)("stakeReferralFee"),(0,I.option)((0,I.publicKey)(),"solDepositAuthority"),(0,I.struct)(ce,"solDepositFee"),(0,I.u8)("solReferralFee"),(0,I.option)((0,I.publicKey)(),"solWithdrawAuthority"),(0,I.struct)(ce,"solWithdrawalFee"),$r((0,I.struct)(ce),"nextSolWithdrawalFee"),(0,I.u64)("lastEpochPoolTokenSupply"),(0,I.u64)("lastEpochTotalLamports")]),Jo;(function(t){t[t.Active=0]="Active",t[t.DeactivatingTransient=1]="DeactivatingTransient",t[t.ReadyForRemoval=2]="ReadyForRemoval"})(Jo||(Jo={}));var gu=(0,I.struct)([(0,I.u64)("activeStakeLamports"),(0,I.u64)("transientStakeLamports"),(0,I.u64)("lastUpdateEpoch"),(0,I.u64)("transientSeedSuffixStart"),(0,I.u64)("transientSeedSuffixEnd"),(0,I.u8)("status"),(0,I.publicKey)("voteAccountAddress")]),zo=(0,I.struct)([(0,I.u8)("accountType"),(0,I.u32)("maxValidators"),(0,I.vec)(gu,"validators")]);i();s();var Nt=x(mo());function zr(t){return isNaN(t)?0:Number(t*k.LAMPORTS_PER_SOL)}n(zr,"solToLamports");function Xo(t,e){let o=e.mul(t.totalLamports),r=t.poolTokenSupply;return o.lt(r)?new Nt.default(0):o.div(r)}n(Xo,"calcLamportsWithdrawAmount");async function Zo(t,e){let[o]=await k.PublicKey.findProgramAddress([e.toBuffer(),Buffer.from("withdraw")],t);return o}n(Zo,"findWithdrawAuthorityProgramAddress");async function tr(t,e,o,r){let[a]=await k.PublicKey.findProgramAddress([e.toBuffer(),o.toBuffer(),r?new Nt.default(r).toArrayLike(Buffer,"le",4):Buffer.alloc(0)],t);return a}n(tr,"findStakeProgramAddress");function Ae(t){if(typeof t=="number")return Math.abs(t)/k.LAMPORTS_PER_SOL;if(typeof t=="bigint")return Math.abs(Number(t))/k.LAMPORTS_PER_SOL;let e=1;t.isNeg()&&(e=-1);let r=t.abs().toString(10).padStart(10,"0"),a=r.length-9,c=r.slice(0,a)+"."+r.slice(a);return e*parseFloat(c)}n(Ae,"lamportsToSol");async function ku(t,e,o,r){let[a]=await k.PublicKey.findProgramAddress([Ti,e.toBuffer(),o.toBuffer(),r.toArrayLike(Buffer,"le",8)],t);return a}n(ku,"findTransientStakeProgramAddress");function yu(t,e){return t.poolTokenSupply.isZero()||t.totalLamports.isZero()?e:e.mul(t.poolTokenSupply).div(t.totalLamports)}n(yu,"calcPoolTokensForDeposit");async function _i(t,e,o,r,a,c){let u=await t.getAccountInfo(e.validatorList),l=zo.decode(u?.data);if(!l?.validators||l?.validators.length==0)throw new Error("No accounts found");let d=await t.getMinimumBalanceForRentExemption(k.StakeProgram.space),p=new Nt.default(d+no),S=[];for(let T of l.validators){if(T.status!==Jo.Active)continue;let C=await tr(At,T.voteAccountAddress,o);if(!T.activeStakeLamports.isZero()){let H=e?.preferredWithdrawValidatorVoteAddress?.equals(T.voteAccountAddress);S.push({type:H?"preferred":"active",voteAddress:T.voteAccountAddress,stakeAddress:C,lamports:T.activeStakeLamports})}let U=T.transientStakeLamports.sub(p);if(U.gt(new Nt.default(0))){let H=await ku(At,T.voteAccountAddress,o,T.transientSeedSuffixStart);S.push({type:"transient",voteAddress:T.voteAccountAddress,stakeAddress:H,lamports:U})}}S=S.sort(a||((T,C)=>C.lamports.sub(T.lamports).toNumber()));let m=await t.getAccountInfo(e.reserveStake),y=new Nt.default((m?.lamports??0)-d);y.gt(new Nt.default(0))&&S.push({type:"reserve",stakeAddress:e.reserveStake,lamports:y});let g=[],h=new Nt.default(r),w=e.stakeWithdrawalFee,b={numerator:w.denominator.sub(w.numerator),denominator:w.denominator};for(let T of["preferred","active","transient","reserve"]){let C=S.filter(U=>U.type==T);for(let{stakeAddress:U,voteAddress:H,lamports:z}of C){if(z.lte(p)&&T=="transient")continue;let tt=yu(e,z);!c&&!b.numerator.isZero()&&(tt=tt.mul(b.denominator).div(b.numerator));let X=Nt.default.min(tt,h);if(!X.lte(new Nt.default(0))&&(g.push({stakeAddress:U,voteAddress:H,poolAmount:X}),h=h.sub(X),h.isZero()))break}if(h.isZero())break}if(h.gt(new Nt.default(0)))throw new Error(`No stake accounts found in this pool with enough balance to withdraw ${Ae(r)} pool tokens.`);return g}n(_i,"prepareWithdrawAccounts");function Oi(t,e,o){let r=k.Keypair.generate();return e.push(k.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:r.publicKey,lamports:o,space:k.StakeProgram.space,programId:k.StakeProgram.programId})),r}n(Oi,"newStakeAccount");function ao(t){let e,o;return t.solWithdrawalFee&&(e=t.solWithdrawalFee.numerator.toNumber()*100/t.solWithdrawalFee.denominator.toNumber()),t.stakeWithdrawalFee&&(o=t.stakeWithdrawalFee.numerator.toNumber()*100/t.stakeWithdrawalFee.denominator.toNumber()),{solWithdrawalFee:e,stakeWithdrawalFee:o}}n(ao,"getStakePoolFee");async function er(t,e){let o=await t.getAccountInfo(e);if(!o)throw new Error("Invalid stake pool account");return{pubkey:e,account:{data:Li.decode(o.data),executable:o.executable,lamports:o.lamports,owner:o.owner}}}n(er,"getStakePoolAccount");async function hu(t,e){let o=(await t.getParsedAccountInfo(e)).value;if(!o||!("parsed"in o.data))throw new Error("Invalid stake account");if(o.data.program!="stake")throw new Error("Not a stake account");return Ci.parse(o.data.parsed)}n(hu,"getStakeAccount");async function or(t,e,o,r,a,c,u,l,d=!0){if(d){let T=await t.getBalance(o,"confirmed");if(T<r)throw new Error(`Not enough SOL to deposit into pool. Maximum deposit amount is ${Ae(T)} SOL.`)}let S=(await er(t,e)).account.data,m=new k.Keypair,y=[m],g=[];if(g.push(k.SystemProgram.transfer({fromPubkey:o,toPubkey:m.publicKey,lamports:r})),!a){let T=wo(S.poolMint,o);g.push(Rn(o,T,o,S.poolMint)),a=T}let h=await Zo(At,e);g.push(Ue.depositSol({stakePool:e,reserveStake:S.reserveStake,fundingAccount:m.publicKey,destinationPoolAccount:a,managerFeeAccount:S.managerFeeAccount,referralPoolAccount:u??a,poolMint:S.poolMint,lamports:r,withdrawAuthority:h,depositAuthority:l,referralAccount:c}));let{solWithdrawalFee:w,stakeWithdrawalFee:b}=ao(S);return{instructions:g,signers:y,solWithdrawalFee:w,stakeWithdrawalFee:b}}n(or,"depositSol");async function Mi(t,e){let o=await er(t,e);return ao(o.account.data)}n(Mi,"fetchStakePoolFees");async function Ni(t,e,o,r,a=!1,c,u,l,d){let p=await er(t,e),S=new Be.default(zr(r));l||(l=wo(p.account.data.poolMint,o));let m=await hr(t,l);if(m.amount<S.toNumber())throw new Error(`Not enough token balance to withdraw ${Ae(S)} pool tokens.
          Maximum withdraw amount is ${Ae(m.amount)} pool tokens.`);let y=await t.getMinimumBalanceForRentExemption(k.StakeProgram.space),g=await Zo(At,e),h=null;u&&(h=await hu(t,u));let w=[];if(a)w.push({stakeAddress:p.account.data.reserveStake,voteAddress:void 0,poolAmount:S});else if(h&&h?.type=="delegated"){let O=h.info?.stake?.delegation.voter;if(!O)throw new Error(`Invalid stake reciever ${u} delegation`);let ot=await t.getAccountInfo(p.account.data.validatorList),et=zo.decode(ot?.data).validators.find(rt=>rt.voteAccountAddress.equals(O));if(c&&c!==O)throw new Error(`Provided withdrawal vote account ${c} does not match delegation on stake receiver account ${O},
        remove this flag or provide a different stake account delegated to ${c}`);if(et){let rt=await tr(At,O,e),Et=await t.getAccountInfo(rt);if(!Et)throw new Error("Preferred withdraw valdator's stake account is invalid");let Rt=Xo(p.account.data,new Be.default(Et.lamports-no-y));if(Rt.lt(S))throw new Error(`Not enough lamports available for withdrawal from ${rt},
              ${S} asked, ${Rt} available.`);w.push({stakeAddress:rt,voteAddress:O,poolAmount:S})}else throw new Error(`Provided stake account is delegated to a vote account ${O} which does not exist in the stake pool`)}else if(c){let O=await tr(At,c,e),ot=await t.getAccountInfo(O);if(!ot)throw new Error("Invalid Stake Account");let it=new Be.default(ot.lamports-no-y);if(it.lt(new Be.default(0)))throw new Error("Invalid Stake Account");let et=Xo(p.account.data,it);if(et.lt(S))throw new Error(`Not enough lamports available for withdrawal from ${O},
            ${S} asked, ${et} available.`);w.push({stakeAddress:O,voteAddress:c,poolAmount:S})}else{let O=await _i(t,p.account.data,e,S,d,l.equals(p.account.data.managerFeeAccount));w.push(...O)}let b=[],T=k.Keypair.generate(),C=[T];b.push(Er(l,T.publicKey,o,S.toNumber()));let U=0,H=5,z=0;for(let O of w){if(z>H)break;let it=`Withdrawing \u25CE${Xo(p.account.data,O.poolAmount)},
        from stake account ${O.stakeAddress?.toBase58()}`;O.voteAddress&&(it=`${it}, delegated to ${O.voteAddress?.toBase58()}`);let et;if(!u||h&&h.type==="delegated"){let rt=Oi(o,b,y);C.push(rt),U+=y,et=rt.publicKey}else et=u;b.push(Ue.withdrawStake({stakePool:e,validatorList:p.account.data.validatorList,validatorStake:O.stakeAddress,destinationStake:et,destinationStakeAuthority:o,sourceTransferAuthority:T.publicKey,sourcePoolAccount:l,managerFeeAccount:p.account.data.managerFeeAccount,poolMint:p.account.data.poolMint,poolTokens:O.poolAmount.toNumber(),withdrawAuthority:g})),b.push(...k.StakeProgram.deactivate({stakePubkey:et,authorizedPubkey:o}).instructions),z++}u&&h&&h.type==="delegated"&&C.forEach(O=>{b.concat(k.StakeProgram.merge({stakePubkey:u,sourceStakePubKey:O.publicKey,authorizedPubkey:o}).instructions)});let{solWithdrawalFee:tt,stakeWithdrawalFee:X}=ao(p.account.data);return{instructions:b,signers:C,stakeReceiver:u,totalRentFreeBalances:U,solWithdrawalFee:tt,stakeWithdrawalFee:X}}n(Ni,"withdrawStake");async function Fi(t,e,o,r,a,c){let u=await er(t,e),l=new Be.default(zr(a)),d=wo(u.account.data.poolMint,o),p=await hr(t,d);if(p.amount<l.toNumber())throw new Error(`Not enough token balance to withdraw ${Ae(l)} pool tokens.
            Maximum withdraw amount is ${Ae(p.amount)} pool tokens.`);let S=[],m=k.Keypair.generate(),y=[m];S.push(Er(d,m.publicKey,o,l.toNumber()));let g=await Zo(At,e);if(c){let T=u.account.data.solWithdrawAuthority;if(!T)throw new Error("SOL withdraw authority specified in arguments but stake pool has none");if(c.toBase58()!=T.toBase58())throw new Error(`Invalid deposit withdraw specified, expected ${T.toBase58()}, received ${c.toBase58()}`)}let h=Ue.withdrawSol({stakePool:e,withdrawAuthority:g,reserveStake:u.account.data.reserveStake,sourcePoolAccount:d,sourceTransferAuthority:m.publicKey,destinationSystemAccount:r,managerFeeAccount:u.account.data.managerFeeAccount,poolMint:u.account.data.poolMint,poolTokens:l.toNumber(),solWithdrawAuthority:c});S.push(h);let{solWithdrawalFee:w,stakeWithdrawalFee:b}=ao(u.account.data);return{instructions:S,signers:y,solWithdrawalFee:w,stakeWithdrawalFee:b}}n(Fi,"withdrawSol");function Ui({stakePubkey:t,stakeAuthorityPubkey:e,authorizedPubkey:o,transaction:r=new Q.Transaction}){return e.equals(o)||r.add(k.StakeProgram.authorize({authorizedPubkey:o,newAuthorizedPubkey:o,stakeAuthorizationType:k.StakeAuthorizationLayout.Staker,stakePubkey:t})),r.add(k.StakeProgram.deactivate({stakePubkey:t,authorizedPubkey:o})),r}n(Ui,"deactivateStake");var bv=n(t=>{let{t:e}=$(),o=bt(),r=Vr(),{mutateAsync:a}=Jn(t);return xe({mutationFn:n(async({accountIdentifier:l,senderAddress:d,stakePubkey:p,stakeAuthorityPubkey:S,authorizedPubkey:m})=>{if(!d)throw ei;let{networkID:y,address:g}=d,h=Ui({stakePubkey:p,stakeAuthorityPubkey:S,authorizedPubkey:m}),w=await jt(h,{connection:t}),b={ownerAddress:g??"",networkID:y,data:{signature:""},type:Pe.DeactivateStake,display:{summary:{topLeft:{text:e("transactionsPendingDeactivatingStake")}}}};r.approved({chainType:q.Solana,chainName:dt.Solana,networkId:N.getSolanaNetworkIDValue(y),type:"undelegate"});let T=await a({accountIdentifier:l,feePayer:new k.PublicKey(g),transaction:w,pendingTransactionInput:b});return r.submittedTransaction(T,{chainType:q.Solana,chainName:dt.Solana,networkId:N.getSolanaNetworkIDValue(y),method:"signAndSendTransaction",walletAddress:g}),r.deactivateStake(),{networkID:y,id:T??""}},"mutationFn"),onSuccess:n(l=>{To({connection:t,signature:l.id}).then(()=>{r.transactionStatus(l.id,{chainType:q.Solana,chainName:dt.Solana,networkId:N.getSolanaNetworkIDValue(l.networkID),status:{type:"confirmed"}})}).catch(d=>{r.transactionStatus(l.id,{chainType:q.Solana,chainName:dt.Solana,networkId:N.getSolanaNetworkIDValue(l.networkID),status:{type:"error"}}),j.captureError(d,G.Staking)}),wi(t,l.id,o)},"onSuccess")})},"useDeactivateStake");async function Au({connection:t,stakePubkey:e,stakeAuthorityPubkey:o,authorizedPubkey:r}){let a=Ui({stakePubkey:e,stakeAuthorityPubkey:o,authorizedPubkey:r}),c=(await t.getLatestBlockhash("confirmed")).blockhash,u=new Q.TransactionMessage({instructions:a.instructions,payerKey:o,recentBlockhash:c}).compileToV0Message(),l=new Q.VersionedTransaction(u);return await jt(l,{connection:t})}n(Au,"getDeactivateStakeTransaction");var Bi=n(({stakePubkey:t,stakeAuthorityPubkey:e,authorizedPubkey:o,connection:r,stakePoolAddress:a,disabled:c})=>{let u=M.getDeactivateStakeTransaction({stakePubkey:t.toString(),stakeAuthorityPubkey:e.toString(),authorizedPubkey:o.toString()});return _({enabled:!c&&!!t&&!!e&&!!o,queryKey:u,staleTime:R({seconds:30}),async queryFn(){try{let[d,{solWithdrawalFee:p,stakeWithdrawalFee:S}]=await Promise.all([Au({connection:r,stakePubkey:t,stakeAuthorityPubkey:e,authorizedPubkey:o}),Mi(r,a)]);return{transaction:d,networkID:Tt.Solana.Mainnet,solWithdrawalFee:p,stakeWithdrawalFee:S}}catch(d){throw j.captureError(d,G.Staking),d}}})},"useGetDeactivateStakeTransaction");i();s();var at=x(L());i();s();var Ri=x(L());var rr=n(({txReceipt:t,isTxError:e,poolTokenFungible:o,invalidateQueries:r,dismissLiquidStaking:a})=>{let c=B(l=>l.resetStaking),u=B(l=>l.setNavigateTo);return(0,Ri.useCallback)(()=>{if(c(),!t||e)return a();r(),u(o?{screen:"FungibleDetail",caip19:oe(qt(o))}:{screen:"Activity"}),a()},[t,e,o,r,a,u,c])},"useDismissLiquidStaking");i();s();var nr=x(L());i();s();var Di=n(({connection:t})=>{let e=Ve(),o=bn();return xe({mutationFn:n(async({accountIdentifier:a,ownerAddress:c,pendingActivityRow:u,activityType:l,transactionData:{networkID:d,transaction:p,signers:S}})=>{if(N.isSolanaNetworkID(d)){await un(p,t);let m={ownerAddress:c,networkID:d,data:{signature:""},type:l,display:{summary:u}};return{id:await Dn({accountIdentifier:a,feePayer:new k.PublicKey(c),connection:t,accountSigner:o,transaction:p,pendingTransactionInput:m,storage:e,opts:{additionalSignerAccounts:S}}),networkID:d}}throw new Error(`Unsupported network for liquid staking: ${d}`)},"mutationFn")})},"useProcessTransactionData");function ar({isLoadingPoolToken:t,pendingActivityRow:e,onTransactionSubmitted:o,onTransactionFailed:r,activityType:a}){let{connection:c}=mt(),u=B(b=>b.transactionData),l=ft,{data:d,isLoading:p}=re(),{mutateAsync:S}=Di({connection:c}),y=(0,nr.useMemo)(()=>(d?.addresses??[]).find(b=>b.networkID===l?.data.chain.id),[l?.data.chain.id,d?.addresses])?.address??"",g=d?.identifier??"";return{executeLiquidStake:(0,nr.useCallback)(async()=>{try{if(!u)throw new ye(Ne.MissingTransactionData);let b=await S({accountIdentifier:g,ownerAddress:y,pendingActivityRow:e,activityType:a,transactionData:u});o(b)}catch(b){r(b)}},[g,y,e,u,S,o,r,a]),isReadyToExecute:!p&&!t}}n(ar,"useExecuteLiquidStakeTransaction");i();s();function ir(t){return t instanceof ye?t:new ye(Ne.UnknownError)}n(ir,"parseStakingError");function wu({stakedTokenSymbol:t,poolTokenSymbol:e,txHash:o,txError:r,confirmationStatus:a,eligibleAccountsCount:c,isConvertDelayed:u,durationUntilEpochEnds:l,onDismiss:d,onConvertMore:p}){let S={title:v.t("commandClose"),onPress:d},m={title:v.t("convertStakeStatusConvertMore"),onPress:p},y={txHash:o,txHashTitle:v.t("commandViewTransaction")};return r?{type:"error",title:v.t("convertStakeStatusErrorTitle"),message:v.t("convertStakeStatusErrorMessage",{poolTokenSymbol:e}),...y,primaryButton:S,showUKDisclaimer:!1,openExternalLink:void 0}:a==="confirmed"?{type:"success",title:v.t("convertStakeStatusSuccessTitle",{poolTokenSymbol:e}),message:"",...y,...c>1?{primaryButton:m,secondaryButton:S}:{primaryButton:S},showUKDisclaimer:!1,openExternalLink:void 0,...u?{title:v.t("convertStakeStatusSuccessTitleDelayed"),message:v.t("convertStakeStatusSuccessMessageDelayed",{durationUntilEpochEnds:l})}:{}}:{type:"loading",title:v.t("convertStakeStatusLoadingTitle",{poolTokenSymbol:e}),message:v.t("convertStakeStatusLoadingMessage",{stakedTokenSymbol:t,poolTokenSymbol:e}),...y,primaryButton:S,showUKDisclaimer:!1,openExternalLink:void 0}}n(wu,"getStatusPageProps");var Tu=n(({dismissConvertFlow:t,goToConvertAccountList:e})=>{let o=Qo(),[r,a]=(0,at.useState)("loading"),[c,u]=(0,at.useState)(),[l,d]=(0,at.useState)(),{trackConvertSubmitted:p,trackConvertSuccess:S,trackConvertFailed:m,trackConvertMoreClicked:y}=Ot(),{usageState:g,setUsageState:h}=Fe(),w=to(),b=B(ut=>ut.convert),T=B(ut=>ut.amount),[C]=(0,at.useState)(b?.eligibleAccountsCount??0),U=B(ut=>ut.convert),H=B(ut=>ut.setTransactionData),z=ft,tt=z?.data.symbol??"",X=w?.stakePoolTokenMetadata.metadata.symbol??"",O=w?.stakePoolTokenMetadata.metadata.address??"",{data:ot}=re(),it=ot?.type===pe.Ledger,rt=(0,at.useMemo)(()=>(ot?.addresses??[]).find(ut=>ut.networkID===z?.data.chain.id),[z?.data.chain.id,ot?.addresses])?.addressType??q.Solana,{fungible:Et,isLoadingTokens:Rt}=Lt({key:O}),Jt=he(),zt=(0,at.useCallback)(ut=>{p(ut.id),u(ut),g.convert||h({convert:!0})},[h,p,g.convert]),Xt=(0,at.useCallback)(ut=>{m({amount:T,convertDetails:b});let cs=ir(ut);d(cs)},[m,T,b]),Zt=(0,at.useMemo)(()=>({topLeft:{text:v.t("convertStakePendingTitle",{symbol:X})}}),[X]),{executeLiquidStake:te,isReadyToExecute:Z}=ar({isLoadingPoolToken:Rt,pendingActivityRow:Zt,onTransactionSubmitted:zt,onTransactionFailed:Xt,activityType:Pe.ConvertStake}),kt=(0,at.useCallback)(()=>{S({amount:T,convertDetails:b,provider:w}),H(void 0),o()},[T,S,H,o,w,b]),{isSuccess:D,isError:Ct,error:be}=bo(kt,c);(0,at.useEffect)(()=>{D?a("confirmed"):Ct&&(a("error"),d(be),m({amount:T,convertDetails:b}))},[T,b,D,Ct,m,be,c]);let uo=rr({txReceipt:c,isTxError:Ct,poolTokenFungible:Et,invalidateQueries:o,dismissLiquidStaking:t}),lo=(0,at.useCallback)(()=>{y(),e()},[y,e]),ss=(0,at.useMemo)(()=>wu({stakedTokenSymbol:tt,poolTokenSymbol:X,txHash:c?.id,txError:l,confirmationStatus:r,eligibleAccountsCount:C,isConvertDelayed:Ye(U?.activationState),durationUntilEpochEnds:Jt,onDismiss:uo,onConvertMore:lo}),[tt,X,c?.id,l,r,C,U?.activationState,Jt,uo,lo]);return{addressType:rt,isLedger:it,isReadyToExecute:Z,statusPageProps:ss,txError:l,executeLiquidStake:te,learnMoreLink:_r,isJitoSOL:!1,isPSOL:!0}},"useConvertStakeAccountStatusPageProps");i();s();i();s();var es=x(L());i();s();var Yi=x(L());i();s();var Vi=n((t,e)=>{let o=[],r=t?qt(t):void 0,a=fn(e?.stakePoolTokenMetadata.caip19??"");return r&&a&&(o.push(r),o.push(a)),{query:{data:o}}},"getPriceArgs");i();s();var we=x(L());i();s();function sr(t){return t?t.stakePoolTokenMetadata.caip19===ae:!1}n(sr,"isJitoLST");i();s();i();s();var Kx={name:"Jito",stakePoolAddress:"Jito4APyf642JPZPx3hGc6WWJ8zPKtRbRs4P815Awbb",apy:"0.0760131222374123",convertRatio:"1.1067926864808721",stakePoolTokenMetadata:{metadata:{address:"J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn",name:"Jito Staked SOL",symbol:"JitoSOL",decimals:9,logoURI:"https://storage.googleapis.com/token-metadata/JitoSOL-256.png",chainId:me.Mainnet},caip19:"solana:101/address:J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn"},chainId:me.Mainnet,validators:[{vote_account:"validator"}]},Ki={name:"Phantom Staked SOL",stakePoolAddress:"pSPcvR8GmG9aKDUbn9nbKYjkxt9hxMS7kF1qqKJaPqJ",apy:"0.0950000000000000",convertRatio:"1.0500000000000000",stakePoolTokenMetadata:{metadata:{address:qn,name:"Phantom Staked SOL",symbol:"PSOL",decimals:9,logoURI:"https://storage.googleapis.com/token-metadata/PSOL-256.png",chainId:me.Mainnet},caip19:"solana:101/address:pSo1f9nQXWgXibFtKf7NWYxb5enAM4qfP6UJSiXRQfL"},chainId:me.Mainnet,validators:[{vote_account:"validator"}]};function cr(t){return t?t.stakePoolTokenMetadata.caip19===Ki.stakePoolTokenMetadata.caip19:!1}n(cr,"isPhantomLST");var bu=n((t,e)=>{if(e===void 0)return;let o=qt(t),r=oe(o);return e[r]},"extractPrice"),vu=n((t,e,o)=>{if(!e)return K(0);let r=new K(e.convertRatio),a=vt(t,e.stakePoolTokenMetadata.metadata.decimals);return o?a.multipliedBy(r):a.div(r)},"getReceiveAmount");function qi(t,e,o){return e?{network:{id:e.stakePoolTokenMetadata.metadata.chainId??me.Mainnet,name:t.data.chain.name,symbol:t.data.chain.symbol,imageUrl:t.data.chain.imageUrl},priceData:o?o[e.stakePoolTokenMetadata.caip19]:void 0,decimals:e.stakePoolTokenMetadata.metadata.decimals,logoUri:e.stakePoolTokenMetadata.metadata.logoURI??null,symbol:e.stakePoolTokenMetadata.metadata.symbol,tokenAddress:e.stakePoolTokenMetadata.metadata.address,tokenType:Ke.SPL}:{network:{id:t.data.chain.id,name:t.data.chain.name,symbol:t.data.chain.symbol,imageUrl:t.data.chain.imageUrl},priceData:bu(t,o),decimals:t.data.decimals,logoUri:t.data.logoUri??null,symbol:t.data.symbol,tokenAddress:t.data.tokenAddress,tokenType:t.type??Ke.SolanaNative}}n(qi,"extractAssetMetadata");var Wi=n((t,e,o,r,a=!1)=>{if(!t)return null;let{priceData:c,decimals:u,...l}=qi(t,a?e:void 0,r),d=vt(o,u),p=c?.usd?d.multipliedBy(c.usd):null;return{amount:Se(d),amountUsd:p?p.toNumber():null,border:!1,title:v.t("liquidStakeReviewYouPay"),...l}},"getAssetPropsForPayAsset"),Hi=n((t,e,o,r,a=!1)=>{if(!e||!t)return null;let{priceData:c,...u}=qi(t,a?void 0:e,r),l=vu(o,e,a),d=c?.usd?l.multipliedBy(c.usd):null;return{amount:Se(l),amountUsd:d?d.toNumber():null,border:!1,title:a?v.t("liquidStakeUnstakeReviewYouReceive"):v.t("liquidStakeReviewYouReceive"),...u}},"getAssetPropsForReceiveAsset"),Gi=n(({process:t,fungibleToStake:e,amount:o,provider:r,selectedChainAddress:a,transactionFees:c,isLoading:u,canSubmit:l,transactionData:d,priceMap:p,networkFeeErrorMsg:S,showUKDisclaimer:m})=>{let y=(0,we.useMemo)(()=>Wi(e,r,o,p),[e,r,o,p]),g=(0,we.useMemo)(()=>Hi(e,r,o,p),[e,r,o,p]),h=r?.name??"",w=a?.address??"",b=r?.apy!==void 0?fe(Number.parseFloat(r.apy)):"",T=`${Se(vt(c,e?.data.decimals??0))} ${e?.data.symbol}`,C=sr(r),U=cr(r),H=r?.totalRewardsFeePercentage??"8",z=d?.solWithdrawalFee??d?.stakeWithdrawalFee,tt=(0,we.useMemo)(()=>({accountLabelText:v.t("stakeReviewAccount"),providerLabelText:v.t("liquidStakeReviewProvider"),apyLabelText:v.t("stakeReviewAPY"),apyLabelTextTooltip:v.t("stakeReviewAPYTooltip"),networkFeeLabelText:v.t("liquidStakeReviewNetworkFee"),primaryButtonText:v.t(t==="convert"||t==="convertDelayed"?"commandConvert":"commandStake"),feeFootnoteText:v.t("liquidStakeReviewPhantomFeeFootnote",{totalRewardsFeePercentage:H}),feeFootnoteDescriptionText:v.t("liquidStakeReviewPhantomFeeFootnoteDescription",{withdrawalFeePercentage:z}),feeFootnoteTooltipText:v.t("liquidStakeReviewPhantomFeeFootnoteTooltip",{totalRewardsFeePercentage:H}),title:v.t("liquidStakeReviewPageTitle")}),[t,H,z]);return{process:t,payAsset:y,receiveAsset:g,account:w,providerName:h,apy:b,networkFee:T,strings:tt,isLoading:u,canSubmit:l,networkFeeErrorMsg:S,isJitoSOL:C,isPSOL:U,showUKDisclaimer:m,totalRewardsFeePercentage:H}},"useStakeMapToViewState"),aI=n(({stakedFungible:t,amount:e,provider:o,selectedChainAddress:r,transactionFees:a,isLoading:c,canSubmit:u,priceMap:l,networkFeeErrorMsg:d,transactionData:p,durationUntilEpochEnds:S})=>{let m=(0,we.useMemo)(()=>Wi(t,o,e,l,!0),[t,o,e,l]),y=(0,we.useMemo)(()=>Hi(t,o,e,l,!0),[t,o,e,l]),g=r?.address??"",h=`${Se(vt(a,t?.data.decimals??0))} ${t?.data.symbol}`,w=p?.isWithdrawSol??!0,b=w?p?.solWithdrawalFee??.1:p?.stakeWithdrawalFee??.1,T=(0,we.useMemo)(()=>({accountLabelText:v.t("stakeReviewAccount"),networkFeeLabelText:v.t("liquidStakeReviewNetworkFee"),primaryButtonText:v.t("commandUnstake"),feeLabelText:v.t("unstakeLiquidStakeFee"),feeLabelTextTooltip:v.t("unstakeLiquidStakeFeeTooltip"),unstakeDelayDisclaimerText:v.t("unstakeLiquidStakeDelayDisclaimer",{durationUntilEpochEnds:S}),feePercentageText:`${b}%`,title:v.t("liquidStakeReviewPageTitle")}),[b,S]),C=Yt();return{payAsset:m,receiveAsset:y,account:g,networkFee:h,strings:T,isLoading:c,canSubmit:u,networkFeeErrorMsg:d,isWithdrawSol:w,showUKDisclaimer:C}},"useUnstakeMapToViewState");i();s();var ji=x(L());var xu=R({seconds:10}),Qi=n(({hasPoolTokenAccount:t,chainAddress:e,transactionData:o})=>{let{data:r,isPending:a,isFetched:c,isSuccess:u}=$n({networkID:o?.networkID??N.solana.mainnetID,multichainTransaction:Pu(o),queryOptions:{refetchInterval:xu}}),{data:l=0}=Gn(e),d=nt(Uo).plus(Ge),p=t?nt(d):nt(l).plus(d),{hasSufficientFunds:S,isLoading:m,nativeTokenSymbol:y}=Xn({networkID:o?.networkID??N.solana.mainnetID,addressType:e?.addressType,gasEstimation:r,transactionValue:p}),g=Eu({hasSufficientFunds:S,hasGasEstimationFailed:c&&!u,nativeTokenSymbol:y}),h=Iu(r),w=p.plus(h),b=a||m;return(0,ji.useMemo)(()=>({isLoading:b,hasSufficientFunds:S,transactionFees:w,networkFeeErrorMsg:g,nativeTokenSymbol:y}),[b,S,w,g,y])},"useLiquidStakingTransactionFees"),Iu=n(t=>t?N.isSolanaNetworkID(t.networkID)?new nt(t.value):new nt(0):new nt(0),"getGasEstimationValue"),Pu=n(t=>{if(t&&N.isSolanaNetworkID(t.networkID)){let{networkID:e,transaction:o}=t;return{networkID:e,transaction:[o]}}},"getMultichainTransaction"),Eu=n(({hasSufficientFunds:t,hasGasEstimationFailed:e,nativeTokenSymbol:o})=>e?v.t("transactionGasEstimationError"):t==="insufficient"?v.t("transactionNotEnoughNative",{nativeTokenSymbol:o}):void 0,"getNetworkFeeErrorMessage");var ur=n(({process:t,provider:e,transactionData:o,isLoadingTransactionData:r})=>{let a=ft,c=B(U=>U.amount),{data:u}=xt(q.Solana),{fungible:l,isLoadingTokens:d}=Lt({key:e?.stakePoolTokenMetadata.metadata.address||""}),{isLoading:p,hasSufficientFunds:S,transactionFees:m,networkFeeErrorMsg:y}=Qi({hasPoolTokenAccount:!!l,chainAddress:u,transactionData:o}),g=(0,Yi.useMemo)(()=>Vi(a,e),[a,e]),{data:h}=Yn(g),w=r||p||d,b=!w&&!!o&&S!=="insufficient"&&!y,T=Yt();return Gi({process:t,fungibleToStake:a,amount:c,provider:e,selectedChainAddress:u,transactionFees:m,transactionData:o,isLoading:w,canSubmit:b,priceMap:h,networkFeeErrorMsg:y,showUKDisclaimer:t==="mint"&&T})},"useLiquidStakeReviewPageProps");i();s();i();s();i();s();i();s();i();s();i();s();i();s();function Cu(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}n(Cu,"bytes");function Xr(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}n(Xr,"exists");function $i(t,e){Cu(t);let o=e.outputLen;if(t.length<o)throw new Error(`digestInto() expects output buffer of length at least ${o}`)}n($i,"output");i();s();var Lu=n(t=>t instanceof Uint8Array,"u8a");var dr=n(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Ft=n((t,e)=>t<<32-e|t>>>e,"rotr"),_u=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_u)throw new Error("Non little-endian hardware is not supported");function Ou(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}n(Ou,"utf8ToBytes");function Zr(t){if(typeof t=="string"&&(t=Ou(t)),!Lu(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}n(Zr,"toBytes");var lr=class{static{n(this,"Hash")}clone(){return this._cloneInto()}},VI={}.toString;function Ji(t){let e=n(r=>t().update(Zr(r)).digest(),"hashC"),o=t();return e.outputLen=o.outputLen,e.blockLen=o.blockLen,e.create=()=>t(),e}n(Ji,"wrapConstructor");function Mu(t,e,o,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,o,r);let a=BigInt(32),c=BigInt(4294967295),u=Number(o>>a&c),l=Number(o&c),d=r?4:0,p=r?0:4;t.setUint32(e+d,u,r),t.setUint32(e+p,l,r)}n(Mu,"setBigUint64");var mr=class extends lr{static{n(this,"SHA2")}constructor(e,o,r,a){super(),this.blockLen=e,this.outputLen=o,this.padOffset=r,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=dr(this.buffer)}update(e){Xr(this);let{view:o,buffer:r,blockLen:a}=this;e=Zr(e);let c=e.length;for(let u=0;u<c;){let l=Math.min(a-this.pos,c-u);if(l===a){let d=dr(e);for(;a<=c-u;u+=a)this.process(d,u);continue}r.set(e.subarray(u,u+l),this.pos),this.pos+=l,u+=l,this.pos===a&&(this.process(o,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xr(this),$i(e,this),this.finished=!0;let{buffer:o,view:r,blockLen:a,isLE:c}=this,{pos:u}=this;o[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>a-u&&(this.process(r,0),u=0);for(let m=u;m<a;m++)o[m]=0;Mu(r,a-8,BigInt(this.length*8),c),this.process(r,0);let l=dr(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let p=d/4,S=this.get();if(p>S.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)l.setUint32(4*m,S[m],c)}digest(){let{buffer:e,outputLen:o}=this;this.digestInto(e);let r=e.slice(0,o);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:o,buffer:r,length:a,finished:c,destroyed:u,pos:l}=this;return e.length=a,e.pos=l,e.finished=c,e.destroyed=u,a%o&&e.buffer.set(r),e}};var Nu=n((t,e,o)=>t&e^~t&o,"Chi"),Fu=n((t,e,o)=>t&e^t&o^e&o,"Maj"),Uu=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ue=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),le=new Uint32Array(64),tn=class extends mr{static{n(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=ue[0]|0,this.B=ue[1]|0,this.C=ue[2]|0,this.D=ue[3]|0,this.E=ue[4]|0,this.F=ue[5]|0,this.G=ue[6]|0,this.H=ue[7]|0}get(){let{A:e,B:o,C:r,D:a,E:c,F:u,G:l,H:d}=this;return[e,o,r,a,c,u,l,d]}set(e,o,r,a,c,u,l,d){this.A=e|0,this.B=o|0,this.C=r|0,this.D=a|0,this.E=c|0,this.F=u|0,this.G=l|0,this.H=d|0}process(e,o){for(let m=0;m<16;m++,o+=4)le[m]=e.getUint32(o,!1);for(let m=16;m<64;m++){let y=le[m-15],g=le[m-2],h=Ft(y,7)^Ft(y,18)^y>>>3,w=Ft(g,17)^Ft(g,19)^g>>>10;le[m]=w+le[m-7]+h+le[m-16]|0}let{A:r,B:a,C:c,D:u,E:l,F:d,G:p,H:S}=this;for(let m=0;m<64;m++){let y=Ft(l,6)^Ft(l,11)^Ft(l,25),g=S+y+Nu(l,d,p)+Uu[m]+le[m]|0,w=(Ft(r,2)^Ft(r,13)^Ft(r,22))+Fu(r,a,c)|0;S=p,p=d,d=l,l=u+g|0,u=c,c=a,a=r,r=g+w|0}r=r+this.A|0,a=a+this.B|0,c=c+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,p=p+this.G|0,S=S+this.H|0,this.set(r,a,c,u,l,d,p,S)}roundClean(){le.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var zi=Ji(()=>new tn);var Xi=x(ds());var Bu=[69,107,109,106,121,122,120,100,105,53,52,51,110,99,76,56,54,116,99,97,67,65,100,117,108,79,119,121,110,86,53,68,118,54,86,67,109,73,84,117,118,48,51,118,53,101,98,76,80,98,48,88,101,57,111,108,82,71,75,72,85,71,119,68,117,116,111,117,68,117,77,55,49,88,65,106,55,97,111,74,102,77,78,106,56,119,61,61],pr=n(t=>{let e=`${String.fromCharCode(...Bu)}||${t}`,o=zi(Buffer.from(e));return Xi.default.encode(o)},"getReferralAccount");var en=n(async({connection:t,stakePoolAddress:e,ownerAddress:o,amount:r,poolTokenAccountAddress:a})=>{let c=new k.PublicKey(e),u=new k.PublicKey(o),l=a?new k.PublicKey(a):void 0,d=new k.PublicKey(pr(o)),{instructions:p,signers:S,solWithdrawalFee:m,stakeWithdrawalFee:y}=await or(t,c,u,r,l,d),g=(await t.getLatestBlockhash("confirmed")).blockhash,h=new Q.VersionedTransaction(new Q.TransactionMessage({instructions:p,payerKey:u,recentBlockhash:g}).compileToV0Message());return{transaction:await jt(h,{connection:yo(Tt.Solana.Mainnet),calculators:{cost:Ao,budget:new ho(2e5,2e5)}}),signers:S,solWithdrawalFee:m,stakeWithdrawalFee:y}},"getMintPoolTokenTransaction");i();s();async function Zi({connection:t,stakePoolAddress:e,amount:o,senderAddress:r,useWithdrawSol:a}){let c=new k.PublicKey(r),u,l,d,p;if(a){let g=await Fi(t,new k.PublicKey(e),c,c,o).catch(h=>{throw j.captureError(h,G.Staking),h});u=g.instructions,l=g.signers,d=g.solWithdrawalFee,p=g.stakeWithdrawalFee}else{let g=await Ni(t,new k.PublicKey(e),c,o).catch(h=>{throw j.captureError(h,G.Staking),h});u=g.instructions,l=g.signers,d=g.solWithdrawalFee,p=g.stakeWithdrawalFee}let S=(await t.getLatestBlockhash("confirmed")).blockhash,m=new Q.VersionedTransaction(new Q.TransactionMessage({instructions:u,payerKey:c,recentBlockhash:S}).compileToV0Message());return{transaction:await jt(m,{connection:t}),signers:l,solWithdrawalFee:d,stakeWithdrawalFee:p}}n(Zi,"getWithdrawLiquidStakeTransactionWithOptions");async function Ru({connection:t,stakePoolAddress:e,amount:o,senderAddress:r,useWithdrawSol:a}){try{let c=await Zi({connection:t,stakePoolAddress:e,amount:o,senderAddress:r,useWithdrawSol:a}),u=await t.simulateTransaction(c.transaction,{sigVerify:!1});if(u.value.err)throw new Error(`Simulation failed with useWithdrawSol: true - ${JSON.stringify(u.value.err)}`);return{...c,isWithdrawSol:a}}catch(c){j.captureError(c instanceof Error?c:new Error(String(c)),G.Staking);try{return{...await Zi({connection:t,stakePoolAddress:e,amount:o,senderAddress:r,useWithdrawSol:!1}),isWithdrawSol:!1}}catch(u){throw j.captureError(u instanceof Error?u:new Error(String(u)),G.Staking),u}}}n(Ru,"getWithdrawLiquidStakeTransaction");i();s();var on=n(async({connection:t,stakePoolAddress:e,stakePubkey:o,ownerAddress:r,amount:a})=>{let c=new k.PublicKey(e),u=new k.PublicKey(r),l=new k.PublicKey(o),d=new k.PublicKey(pr(r)),p=k.StakeProgram.withdraw({stakePubkey:l,authorizedPubkey:u,toPubkey:u,lamports:a}),[S]=p.instructions,{instructions:m,signers:y,solWithdrawalFee:g,stakeWithdrawalFee:h}=await or(t,c,u,a,void 0,d,void 0,void 0,!1),w=[S,...m],b=(await t.getLatestBlockhash("confirmed")).blockhash,T=new Q.TransactionMessage({instructions:w,payerKey:u,recentBlockhash:b}).compileToV0Message(),C=new Q.VersionedTransaction(T);return{transaction:await jt(C,{connection:yo(Tt.Solana.Mainnet),calculators:{cost:Ao,budget:new ho(2e5,2e5)}}),signers:y,solWithdrawalFee:g,stakeWithdrawalFee:h}},"getConvertToPSOLTransaction");var ts=n(t=>{let e=M.getConvertStakeTransaction({stakePoolAddress:t.stakePoolAddress,ownerAddress:t.ownerAddress,validatorVoteAddress:"",stakeAccountAddress:t.stakePubkey}),o=!t.disabled&&!!t.stakePoolAddress&&!!t.ownerAddress&&!!t.stakePubkey&&!!t.amount;return _({enabled:o,queryKey:e,staleTime:R({seconds:30}),async queryFn(){if(N.isSolanaNetworkID(t.networkId))try{let{transaction:r,signers:a,solWithdrawalFee:c,stakeWithdrawalFee:u}=await on({connection:t.connection,stakePoolAddress:t.stakePoolAddress,stakePubkey:t.stakePubkey,ownerAddress:t.ownerAddress,amount:t.amount});return{networkID:t.networkId,transaction:r,signers:a,solWithdrawalFee:c,stakeWithdrawalFee:u}}catch(r){throw j.captureError(r,G.Staking),r}throw new Error(`Unsupported networkId: ${t.networkId}`)}})},"useGetConvertToPSOLTransaction");var Du=n((t,e,o)=>{let{data:r}=xt(q.Solana),{trackConvertApprovedByUser:a}=Ot(),c=B(U=>U.amount),u=B(U=>U.setTransactionData),l=he(),{connection:d}=mt(),{data:p,isLoading:S}=Bi({connection:d,stakePubkey:new k.PublicKey(e.stakeAccount??""),stakeAuthorityPubkey:new k.PublicKey(e.stakeAuthorityPubkey??""),authorizedPubkey:new k.PublicKey(r?.address??""),stakePoolAddress:new k.PublicKey(t?.stakePoolAddress??""),disabled:e.activationState!=="active"&&e.activationState!=="activating"}),{data:m,isLoading:y}=ts({connection:d,networkId:t?.chainId??N.solana.mainnetID,stakePoolAddress:t?.stakePoolAddress??"",ownerAddress:r?.address??"",stakePubkey:e?.stakeAccount??"",amount:parseInt(c),disabled:e?.activationState!=="inactive"}),g=Qe(e?.activationState),h=Ye(e?.activationState),w=g?m:h?p:void 0,b=g?y:h?S:!1,T=ur({process:e?.activationState==="active"?"convertDelayed":"convert",provider:t,transactionData:w,isLoadingTransactionData:b}),C=(0,es.useCallback)(()=>{a({provider:t,convertDetails:e,amount:c,fromAmount:T.payAsset?.amount,toAmount:T.receiveAsset?.amount,fromAmountUSD:T.payAsset?.amountUsd,toAmountUSD:T.receiveAsset?.amountUsd}),u(w),o()},[o,u,w,a,e,t,T,c]);return{...T,durationUntilEpochEnds:l,onPrimaryButtonPress:C}},"useConvertStakeAccountReviewPageProps");i();s();var Ut=x(L());i();s();var Vu=2,os=n(({networkID:t,poolTokenMintAddress:e})=>{let o=N.getAddressType(t),{fungible:r}=Lt({key:e}),a=jn(t,o),{fungible:c}=Lt({key:a}),u=K(c?.data.amount??""),l=K(Uo),d=K(Ge),p=K(Ge),S=K(Vu).plus(l),m=r?K(S).plus(d):K(p).plus(S).plus(d),y=K(u).minus(m),g=K.max(y,0);return{minAmount:m,maxAmount:g,balance:u}},"useMintMaxMinAmounts");var Ku=n(t=>{if(t.isLessThan(.01))return t.toString();let e=t.dp();return t.isLessThan(1)&&e&&e>1?t.toFixed(2,K.ROUND_FLOOR):parseFloat(t.toFixed(1,K.ROUND_FLOOR)).toString()},"formatInitialStakeUiAmount"),qu=n(({goBack:t,goToReviewPage:e,showInfoPage:o,lstCaip19:r})=>{let a=ft,c=B(Z=>Z.amount),u=B(Z=>Z.setAmount),l=B(Z=>Z.setProvider),d=a?.data.symbol??"",p=a?.data.chain.id??N.solana.mainnetID,S=a?.data.decimals??ft.data.decimals,{data:m}=xt(q.Solana),{pickedLSTProvider:y}=Mt(N.solana.mainnetID),g=y(r),h=g?.stakePoolTokenMetadata.metadata.address??"";ta(m,Zn.STAKE_FUNGIBLE);let{minAmount:w,maxAmount:b,balance:T}=os({networkID:p,poolTokenMintAddress:h}),C=(0,Ut.useMemo)(()=>{if(c)return Pn(c,S);let Z=T.multipliedBy(.95),kt=K.max(K.min(Z,b),w);return Ku(vt(kt,S))},[c,T,S,b,w]),[U,H]=(0,Ut.useState)(C),z=vt(b,S),tt=vt(w,S),X=vt(T,S),O=Cn(U,S).toString(),ot=K(O),it=T.isLessThan(w),et=ot.isGreaterThan(b),rt=ot.isFinite(),Et=(0,Ut.useMemo)(()=>{if(!g)return v.t("mintLiquidStakeAmountNoProviders");if(O&&it)return v.t("mintLiquidStakeAmountMinRequired",{symbol:d,amount:tt});if(O&&et)return v.t("mintLiquidStakeAmountInsufficientBalance")},[g,O,it,et,tt,d]),Rt=rt&&!Et,Jt=(0,Ut.useMemo)(()=>{if(!g)return;let Z=fe(Number.parseFloat(g.apy)),{address:kt,name:D,symbol:Ct,logoURI:be}=g.stakePoolTokenMetadata.metadata,uo=K(1).dividedBy(K(g.convertRatio)),lo=`1 ${d} \u2248 ${Se(uo)} ${Ct}`;return{identifier:kt,apy:Z,name:D,symbol:Ct,rate:lo,logoURI:be}},[g,d]),zt=(0,Ut.useCallback)(()=>{H(String(z))},[z]),Xt=(0,Ut.useCallback)(Z=>{let kt=En(Z);Ro(kt,S??9)&&H(kt)},[S]),Zt=(0,Ut.useCallback)(()=>{l(g),u(O),e()},[g,O,e,u,l]),te=(0,Ut.useCallback)(()=>{u(""),t()},[u,t]);return{amount:U,amountError:Et,balance:X,symbol:d,title:v.t("liquidStakeMintStakeSOL"),poolToken:Jt,canSubmit:Rt,onBack:te,onContinue:Zt,onChangeAmount:Xt,onSetMax:zt,onInfoPress:r===F?o:void 0}},"useMintLiquidStakeAmountProps");i();s();var de=x(L());var fr=null,Wu=n(t=>{if(!fr&&t){let e="liquidStake";fr=new Ie(t,e)}if(!fr)throw new Error("liquidStakeAnalytics was not properly configured");return fr},"getLiquidStakeSequenceAnalytics"),Bt=n(()=>{let t=Kt(),e=Wu(t),o=n(m=>{switch(m){case F:return"Phantom Staked SOL";case ae:return"Jito Staked SOL";default:return}},"getTokenNameFromCaip19"),r=n(m=>{switch(m){case F:return"PSOL";case ae:return"JITOSOL";default:return}},"getTokenSymbolFromCaip19"),a=(0,de.useCallback)(({provider:m,entryPoint:y,testVariant:g})=>{t.capture("liquidStakingMarketingPageSeen",{data:{lstCaip19:m,lstSymbol:r(m),entryPoint:y,testVariant:g??""}})},[t]),c=(0,de.useCallback)(({lstCaip19:m,testVariant:y,entryPoint:g})=>{t.capture("liquidStakingMarketingPagePrimaryButtonClicked",{data:{stake:{caip19:m,lstSymbol:r(m),testVariant:y,entryPoint:g}}})},[t]),u=(0,de.useCallback)(m=>{let y=m?o(m):void 0,g=m?r(m):void 0;t.capture("liquidStakingMintModalContinueClicked",{data:{stake:{caip19:m,token:y,tokenSymbol:g}}})},[t]),l=(0,de.useCallback)(({provider:m,payAmount:y,receiveAmount:g,payAmountUSD:h,receiveAmountUSD:w,payAssetTitle:b,providerName:T,receiveAssetTitle:C})=>{t.capture("liquidStakingMintApprovedByUser",{data:{stake:{stakePoolAddress:m?.stakePoolAddress,token:m?.stakePoolTokenMetadata.metadata.name,apy:m?.apy,convertRatio:m?.convertRatio,caip19:m?.stakePoolTokenMetadata.caip19,payAmount:y,receiveAmount:g,payAmountUSD:h,receiveAmountUSD:w,payAssetTitle:b,receiveAssetTitle:C,providerName:T}}})},[t]),d=(0,de.useCallback)((m,y)=>{e.submittedTransaction(m,{chainType:q.Solana,chainName:dt.Solana,networkId:"mainnet",method:"signAndSendTransaction",walletAddress:y})},[e]),p=(0,de.useCallback)(({provider:m,amount:y})=>{t.capture("liquidStakingMintSuccess",{data:{stake:{apy:m?.apy,convertRatio:m?.convertRatio,caip19:m?.stakePoolTokenMetadata.caip19,stakePoolAddress:m?.stakePoolAddress,token:m?.stakePoolTokenMetadata.metadata.name,totalAmount:y}}})},[t]),S=(0,de.useCallback)(m=>{t.capture("liquidStakingMintFailed",{data:{stake:{amount:m}}})},[t]);return{trackMintModalContinue:u,trackMarketingModalSeen:a,trackMarketingModalContinue:c,trackMintSubmitted:d,trackMintSuccess:p,trackMintFailed:S,trackMintApprovedByUser:l}},"useMintStakeAnalytics");i();s();var St=x(L());var Hu="https://www.jito.network/defi/";function Gu({poolTokenSymbol:t,txHash:e,txError:o,confirmationStatus:r,showUKDisclaimer:a,onDismiss:c,openExternalLink:u}){let l={title:v.t("commandClose"),onPress:c},d={txHash:e,txHashTitle:v.t("commandViewTransaction")};return o?{type:"error",title:v.t("mintStakeStatusErrorTitle"),message:v.t("mintStakeStatusErrorMessage",{poolTokenSymbol:t}),...d,primaryButton:l,showUKDisclaimer:a,openExternalLink:u}:r==="confirmed"?{type:"success",title:v.t("mintStakeStatusSuccessTitle"),message:"",...d,primaryButton:l,showUKDisclaimer:a,openExternalLink:u}:{type:"loading",title:v.t("mintStakeStatusLoadingTitle"),message:v.t("mintStakeStatusLoadingMessage"),...d,primaryButton:l,showUKDisclaimer:a,openExternalLink:u}}n(Gu,"getStatusPageProps");var ju=n((t,e)=>{let o=Qo(),[r,a]=(0,St.useState)("loading"),[c,u]=(0,St.useState)(),[l,d]=(0,St.useState)(),{trackMintSubmitted:p,trackMintSuccess:S,trackMintFailed:m}=Bt(),{usageState:y,setUsageState:g}=Fe(),h=B(D=>D.provider),w=B(D=>D.setTransactionData),b=B(D=>D.amount),T=ft,C=h?.stakePoolTokenMetadata.metadata.symbol??"",U=h?.stakePoolTokenMetadata.metadata.address??"",{data:H}=re(),z=H?.type===pe.Ledger,X=(0,St.useMemo)(()=>(H?.addresses??[]).find(D=>D.networkID===T?.data.chain.id),[T?.data.chain.id,H?.addresses])?.addressType??q.Solana,{fungible:O,isLoadingTokens:ot}=Lt({key:U}),it=(0,St.useCallback)(D=>{p(D.id),u(D),y.mint||g({mint:!0})},[g,p,y.mint]),et=(0,St.useCallback)(D=>{m(b);let Ct=ir(D);d(Ct)},[m,b]),rt=(0,St.useMemo)(()=>({topLeft:{text:v.t("mintLiquidStakePendingTitle")}}),[]),{executeLiquidStake:Et,isReadyToExecute:Rt}=ar({isLoadingPoolToken:ot,pendingActivityRow:rt,onTransactionSubmitted:it,onTransactionFailed:et,activityType:Pe.DelegateStake}),Jt=(0,St.useCallback)(()=>{S({amount:b,provider:h}),w(void 0),o()},[S,b,h,w,o]),{isSuccess:zt,isError:Xt,error:Zt}=bo(Jt,c);(0,St.useEffect)(()=>{zt?a("confirmed"):Xt&&(a("error"),d(Zt),m(b))},[zt,m,b,Xt,Zt,c]);let te=rr({txReceipt:c,isTxError:Xt,poolTokenFungible:O,invalidateQueries:o,dismissLiquidStaking:t}),Z=Yt(),kt=(0,St.useMemo)(()=>Gu({poolTokenSymbol:C,txHash:c?.id,txError:l,confirmationStatus:r,showUKDisclaimer:Z,onDismiss:te,openExternalLink:e}),[C,c?.id,l,r,te,e,Z]);return{addressType:X,isLedger:z,isReadyToExecute:Rt,statusPageProps:kt,learnMoreLink:Hu,txError:l,executeLiquidStake:Et,isJitoSOL:sr(h),isPSOL:cr(h)}},"useMintLiquidStakeStatusPageProps");i();s();var so=x(L());function Qu({navigateToMintLiquidStakeAmountPage:t,navigateBack:e,entryPoint:o}){let{trackMarketingModalContinue:r}=Bt(),a=ht(E.StakingWelcome),c=hn("psol-popup-copy-test"),u=(0,so.useCallback)(()=>{r({lstCaip19:F,testVariant:c,entryPoint:o}),t(F),a()},[t,r,a,c,o]),l=(0,so.useCallback)(()=>{e(),a()},[e,a]),{t:d}=$(),p={title:d("liquidStakingInfoPageStillEarningZero"),description:d("liquidStakingInfoPageConvertYourSOL"),primaryButtonText:d("liquidStakingInfoPageConvertYourSOLButton")},S={title:d("liquidStakingInfoPageEarnUpTo9APY"),description:d("liquidStakingInfoPageConvertYourSOL2"),primaryButtonText:d("liquidStakingInfoPageStartEarning")},m=c==="test1"?p:c==="test2"?S:p;return(0,so.useLayoutEffect)(()=>()=>void a(),[a]),{onPrimaryButtonPress:u,onClose:l,viewState:m}}n(Qu,"useMintLiquidStakeMarketingProps");i();s();i();s();var ns=x(L());i();s();var rs=n(t=>{let e=M.getMintTokenTransaction({stakePoolAddress:t.stakePoolAddress,ownerAddress:t.ownerAddress,amount:t.amount,poolTokenAccountAddress:t.poolTokenAccountAddress}),o=!!t.stakePoolAddress&&!!t.ownerAddress&&!!t.amount;return _({enabled:o,queryKey:e,staleTime:V.Never,async queryFn(){if(N.isSolanaNetworkID(t.networkId))try{let{transaction:r,signers:a,solWithdrawalFee:c,stakeWithdrawalFee:u}=await en(t);return{networkID:t.networkId,transaction:r,signers:a,solWithdrawalFee:c,stakeWithdrawalFee:u}}catch(r){throw j.captureError(r,G.Staking),r}throw new Error(`Unsupported networkId: ${t.networkId}`)}})},"useGetMintPoolTokenTransaction");var Yu=n((t,e)=>{let o=B(g=>g.amount),r=B(g=>g.setTransactionData),{data:a}=xt(q.Solana),{connection:c}=mt(),{fungible:u}=Lt({key:t?.stakePoolTokenMetadata.metadata.address||""}),l=u?Qn(u):void 0,{trackMintApprovedByUser:d}=Bt(),{data:p,isPending:S}=rs({amount:nt(o).toNumber(),connection:c,networkId:t?.chainId??N.solana.mainnetID,stakePoolAddress:t?.stakePoolAddress??"",ownerAddress:a?.address??"",poolTokenAccountAddress:l}),m=ur({provider:t,process:"mint",transactionData:p,isLoadingTransactionData:S}),y=(0,ns.useCallback)(()=>{d({provider:t,payAmount:m.payAsset?.amount,receiveAmount:m.receiveAsset?.amount,payAmountUSD:m.payAsset?.amountUsd,receiveAmountUSD:m.receiveAsset?.amountUsd,payAssetTitle:m.payAsset?.title,receiveAssetTitle:m.receiveAsset?.title,providerName:m.providerName}),r(p),e()},[d,t,m.payAsset?.amount,m.payAsset?.amountUsd,m.payAsset?.title,m.receiveAsset?.amount,m.receiveAsset?.amountUsd,m.receiveAsset?.title,m.providerName,r,p,e]);return{...m,onPrimaryButtonPress:y}},"useMintLiquidStakeReviewPageProps");i();s();var co=x(L());var $u=n((t,e)=>{let{navigateToStake:o,navigateToUnstake:r,navigateToExternalLink:a}=t,{trackMintModalContinue:c}=Bt(),u=Ht(F),l=yt("enable-psol-staking"),d=yt("enable-deposit-psol-with-kamino-link"),m=!e||e===Wn?l&&u?F:ae:e,y=(0,co.useCallback)(()=>{o(m)},[o,m]),g=(0,co.useCallback)(()=>{c(m),o(m)},[o,c,m]),h=(0,co.useCallback)(()=>{m===F?r():a(Cr)},[r,a,m]),w=(0,co.useCallback)(()=>{a(Or)},[a]),b=Wr({method:"mint",goToInfoPage:y,goToInitFlowPage:g});return Ht(m)?{isSupported:!0,onStake:b,onUnstake:h,onDepositWithKamino:d?w:void 0}:{isSupported:!1,onStake:void 0,onUnstake:void 0,onDepositWithKamino:void 0}},"useLSTMintActions");i();s();var Te=x(Dt());var Ju="https://phantom.com/en-GB/uk-risk-summary";function rn({navigateToExternalLink:t,paddingTop:e,marginX:o,paddingX:r}){let{t:a}=$();return(0,Te.jsx)(st,{backgroundColor:"brandMidnight",paddingX:r??"screen",marginX:o,paddingBottom:12,style:{paddingTop:(e??0)+4},gap:8,children:(0,Te.jsx)(Y,{children:(0,Te.jsxs)(ke,{children:[(0,Te.jsx)(Y,{font:"captionSemibold",color:"textBase",children:a("stakingUKDisclaimerPart1")})," ",(0,Te.jsx)(Y,{font:"captionSemibold",color:"textBase",onPress:n(()=>t(Ju),"onPress"),style:{textDecorationLine:"underline"},children:a("stakingUKDisclaimerTake2Mins")})]})})})}n(rn,"UKDisclaimerCard");i();s();var nn=x(L());function zu({navigateToMintLiquidStakeAmountPage:t,navigateBack:e}){let{trackMintModalContinue:o}=Bt(),r=(0,nn.useCallback)(()=>{o(F),t(F)},[t,o]),a=(0,nn.useCallback)(()=>{e()},[e]),c={imageUrl:"https://assets.phantom.app/assets/metadata/PSOL.png",title:v.t("mintPSOLInfoPageTitle"),features:[{icon:"InfoCircle",title:v.t("mintPSOLFeature1Title"),description:v.t("mintPSOLFeature1Description")},{icon:"TrendingUp",title:v.t("mintPSOLFeature2Title"),description:v.t("mintPSOLFeature2Description")},{icon:"ShieldVerified",title:v.t("mintPSOLFeature3Title"),description:v.t("mintPSOLFeature3Description")}],primaryButtonText:v.t("gotIt")};return{onPrimaryButtonPress:r,onClose:a,viewState:c}}n(zu,"useMintLiquidStakeUKInfoProps");i();s();var gt=x(Dt());var is=x(L());i();s();var ct=x(Dt());function as({marginTop:t}){let{t:e}=$();return(0,ct.jsxs)(st,{marginTop:t,children:[(0,ct.jsx)(kr,{content:(0,ct.jsx)(st,{padding:16,children:(0,ct.jsx)(Y,{children:e("stakingUKDisclaimerPastPerformanceBody")})}),children:(0,ct.jsx)(Y,{font:"caption",color:"brandYellowMoon",children:e("stakingUKDisclaimerPastPerformance")})}),(0,ct.jsx)(Y,{children:(0,ct.jsxs)(ke,{children:[(0,ct.jsx)(Y,{font:"caption",color:"textDiminished",children:e("stakingUKDisclaimerExchangeRates")})," "]})}),(0,ct.jsx)(kr,{content:(0,ct.jsx)(st,{padding:16,children:(0,ct.jsx)(Y,{children:e("stakingUKDisclosuresMarketDataBody")})}),children:(0,ct.jsx)(Y,{font:"caption",color:"brandPrimary",children:e("stakingUKDisclaimerDisclosures")})}),(0,ct.jsx)(Y,{font:"caption",color:"textDiminished",marginTop:24,children:e("stakingUKDisclaimerApproval")})]})}n(as,"UKFooterDisclaimer");var Xu={InfoCircle:ko.InfoCircle,TrendingUp:ko.TrendingUp,ShieldVerified:ko.ShieldVerified};function Zu(t){return is.default.createElement(Xu[t],{size:24})}n(Zu,"getIcon");function tl({viewState:t,openLink:e,onPastPerformancePress:o,onDisclosuresPress:r}){let{features:a,title:c,imageUrl:u}=t;return(0,gt.jsxs)(st,{flex:1,backgroundColor:"areaBase",borderRadius:"base",width:"100%",maxWidth:400,children:[(0,gt.jsx)(rn,{marginX:"-16",paddingX:12,paddingTop:8,navigateToExternalLink:e}),(0,gt.jsx)(st,{alignItems:"center",padding:24,marginY:16,children:(0,gt.jsx)(Nn,{src:u,size:100})}),(0,gt.jsx)(Y,{color:"white",font:"title1Bold",marginBottom:16,align:"center",children:c}),(0,gt.jsx)(st,{gap:"list",marginBottom:"screen",children:a.map(l=>(0,gt.jsxs)(st,{direction:"row",alignItems:"flex-start",marginBottom:16,children:[(0,gt.jsx)(st,{width:24,height:24,marginRight:"screen",alignItems:"center",justifyContent:"center",children:Zu(l.icon)}),(0,gt.jsxs)(st,{flex:1,children:[(0,gt.jsx)(Y,{color:"white",font:"bodySemibold",marginBottom:2,children:l.title}),(0,gt.jsx)(Y,{color:"textDiminished",font:"caption",children:l.description})]})]},l.title))}),(0,gt.jsx)(as,{marginTop:0,showPastPerformanceInline:!0,onPastPerformancePress:o,onDisclosuresPress:r})]})}n(tl,"StakeUKInfoView");i();s();i();s();var el=[_t.supportedTokens,_t.featureUsed,Rr],ol=n(t=>{let e=String(t.queryKey[1]);return el.includes(e)},"stakingShouldDehydrateQueryPredicate");export{Ce as a,It as b,qe as c,E as d,Po as e,hs as f,Pr as g,Vs as h,Ks as i,pt as j,Ps as k,xo as l,Ss as m,We as n,He as o,ht as p,Es as q,Cs as r,Lo as s,ke as t,Ms as u,Rs as v,Ta as w,Mf as x,Nf as y,qs as z,Ws as A,ft as B,Hs as C,_r as D,ae as E,Uo as F,Ge as G,Me as H,Gs as I,VS as J,Qe as K,Ye as L,La as M,M as N,Ro as O,Vr as P,B as Q,ol as R,ie as S,V as T,Va as U,Je as V,Kr as W,Ot as X,bc as Y,vc as Z,xc as _,ei as $,Pc as aa,Cc as ba,Nc as ca,Fc as da,Go as ea,Ht as fa,Mt as ga,Wc as ha,Wr as ia,Rc as ja,Dc as ka,Yt as la,jc as ma,he as na,hi as oa,Qc as pa,Vi as qa,Ki as ra,aI as sa,Qi as ta,wi as ua,bv as va,Ru as wa,Du as xa,ar as ya,Tu as za,qu as Aa,Bt as Ba,Yu as Ca,ju as Da,Qu as Ea,$u as Fa,rn as Ga,zu as Ha,as as Ia,tl as Ja};
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-MGLLPATV.js.map
