import{a as f}from"./chunk-WP7WOITY.js";import{e as V}from"./chunk-XWY35PVV.js";import{e as F,f as O,g as Q}from"./chunk-7CNQZ75Q.js";import"./chunk-JTOX4ZHH.js";import"./chunk-UD6KQFHW.js";import"./chunk-LTFPTLFB.js";import"./chunk-RXXBC6VZ.js";import"./chunk-R4VJOE5O.js";import"./chunk-DZZUCNXT.js";import"./chunk-N3C6FBKY.js";import{b as S}from"./chunk-YRW45WYY.js";import"./chunk-BMC2QLGD.js";import{db as m}from"./chunk-7677FZEB.js";import{P as R,aa as M,t as H}from"./chunk-MGLLPATV.js";import"./chunk-Z3O2IHPJ.js";import"./chunk-247XUEKC.js";import"./chunk-UA65TROS.js";import"./chunk-YJCG6GWC.js";import{o as P,wc as z}from"./chunk-FO7QPK6E.js";import"./chunk-CZNFNFNK.js";import"./chunk-RWWUDPHX.js";import{Wa as B,Xa as K}from"./chunk-KUSQMIXV.js";import{Vb as w,ga as v,ja as E,w as g}from"./chunk-JPCZ2XYS.js";import"./chunk-ZRKH4SQM.js";import{Ca as A,Z as N,a as $,b as L}from"./chunk-TVPT7M2T.js";import"./chunk-FNC6PQ53.js";import"./chunk-5QQLABHI.js";import{a as h,g as y,i as I,n as b}from"./chunk-WKJYWAXG.js";I();b();var r=y($(),1);var e=y(L(),1),j=h(a=>{let s={lamports:a.lamports,votePubkey:a.votePubkey,usdPerSol:a.usdPerSol,onClose:a.onClose,validatorName:a.validatorName},{t}=N(),{createStakeAccountAndDelegateStake:l,needsLedgerApproval:u,txHash:n,confirmationStatus:d,isError:k,error:i,onDeny:c}=ee(s);if(u)return(0,e.jsx)(O,{ledgerAction:l,cancel:c});if(k){let o=i?.message;return F(i)?(0,e.jsx)(Q,{ledgerActionError:i,onRetryClick:l,onCancelClick:c}):(0,e.jsxs)(S,{icon:"error",title:t("stakeAccountCreateAndDelegateStakingFailed"),onClose:c,showButton:!!n,iconSize:"large",children:[(0,e.jsx)(m,{wordBreak:"break-word",color:A.colors.legacy.textDiminished,size:16,lineHeight:20.8,children:o??t("stakeAccountCreateAndDelegateErrorStaking")}),(0,e.jsx)(f,{txHash:n,children:t("stakeAccountCreateAndDelegateViewTransaction")})]})}return d==="finalized"?(0,e.jsxs)(S,{icon:"success",title:t("stakeAccountCreateAndDelegateSolStaked"),onClose:a.onClose,iconSize:"large",children:[(0,e.jsx)(m,{wordBreak:"break-word",color:A.colors.legacy.textDiminished,size:16,lineHeight:20.8,children:(0,e.jsxs)(H,{i18nKey:"stakeAccountCreateAndDelegateSolStakedDisclaimerInterpolated",children:["Your SOL will begin earning rewards",(0,e.jsx)("br",{})," in the next couple of days once the stake account becomes active."]})}),(0,e.jsx)(f,{txHash:n,children:t("stakeAccountCreateAndDelegateViewTransaction")})]}):(0,e.jsxs)(S,{icon:"loading",title:t("stakeAccountCreateAndDelegateStakingSol"),onClose:a.onClose,iconSize:"large",children:[(0,e.jsx)(m,{wordBreak:"break-word",color:A.colors.legacy.textDiminished,size:16,lineHeight:20.8,children:t("stakeAccountCreateAndDelegateStakingSolDisclaimerInterpolated",{validatorName:a.validatorName})}),(0,e.jsx)(f,{txHash:n,children:t("stakeAccountCreateAndDelegateViewTransaction")})]})},"StakeAccountCreateAndDelegateStatusPage"),he=j,ee=h(({onClose:a,...s})=>{let{data:t,isSuccess:l}=z(),{accountIdentifier:u,isLedgerAccount:n,solanaChainAddress:d,solanaPublicKey:k,connection:i,networkID:c}=(0,r.useMemo)(()=>{let U=t?.identifier??"",C=(t?.addresses??[]).find(_=>w.isSolanaNetworkID(_.networkID)),W=new g.PublicKey(C?.address??""),X=t?.type===P.Ledger,x=C?.networkID,Z=B(K(x));return{accountIdentifier:U,isLedgerAccount:X,solanaChainAddress:C,solanaPublicKey:W,connection:Z,networkID:x}},[t]),o=V(i),D=(0,r.useCallback)(()=>{o.mutate({...s,accountIdentifier:u,senderAddress:d,authorizedPubkey:k,votePubkey:new g.PublicKey(s.votePubkey)})},[u,s,o,d,k]),p=R(),Y=(0,r.useCallback)(()=>{p.denied({chainType:v.Solana,chainName:E.Solana,networkId:w.getSolanaNetworkIDValue(c),type:"delegate"}),a()},[c,a,p]);(0,r.useEffect)(()=>{if(l){if(!t||!d)throw new Error("Selected account undefined when trying to perform stake transaction.");n||D()}},[l]);let T=o.data?.id,q=M(i,2e3,T),G=n&&(o.isIdle||o.isPending),J=q.data?.value?.confirmationStatus;return{createStakeAccountAndDelegateStake:D,onDeny:Y,needsLedgerApproval:G,txHash:T,confirmationStatus:J,isError:o.isError,error:o.error}},"useCreateAndDelegateOnMount");export{j as StakeAccountCreateAndDelegateStatusPage,he as default};
//# sourceMappingURL=StakeAccountCreateAndDelegateStatusPage-74DWE336.js.map
